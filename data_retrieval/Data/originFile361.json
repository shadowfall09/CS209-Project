{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1639177960,"post_id":70311247,"comment_id":124290801,"body_markdown":"Why are you using `Map&lt;String, Object&gt;` instead of `Map&lt;String, Integer&gt;`?  Better typing would have made clear what&#39;s supposed to happen and where your problem is.","body":"Why are you using <code>Map&lt;String, Object&gt;</code> instead of <code>Map&lt;String, Integer&gt;</code>?  Better typing would have made clear what&#39;s supposed to happen and where your problem is."}],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639177787,"creation_date":1639177787,"answer_id":70311310,"question_id":70311247,"body_markdown":"You have used `words.put(line, list.add(new FindCommons(1, line)));` to add the items to the HashMap. The problem is, that list.add() returns a boolean value, so it puts the Boolean into the words HashMap. \r\n","title":"HashMap.get returns true instead of an element","body":"<p>You have used <code>words.put(line, list.add(new FindCommons(1, line)));</code> to add the items to the HashMap. The problem is, that list.add() returns a boolean value, so it puts the Boolean into the words HashMap.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1639193906,"post_id":70312254,"comment_id":124292719,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70312254/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20803868,"reputation":1,"user_id":15279226,"display_name":"YangHe"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639190932,"creation_date":1639190932,"answer_id":70312254,"question_id":70311247,"body_markdown":"list.add(new FindCommons(1, line))","title":"HashMap.get returns true instead of an element","body":"<p>list.add(new FindCommons(1, line))</p>\n"},{"tags":[],"owner":{"account_id":27532212,"reputation":1,"user_id":21010529,"display_name":"Mohammed Yaseen M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687242405,"creation_date":1686903057,"answer_id":76488197,"question_id":70311247,"body_markdown":"i got same problem reason **found the reason**.\r\n\r\n    jobInfo.put(&quot;expireDate&quot;, jsonObjectData.get(&quot;expiryDateTime&quot;));\r\n    \r\n    jobInfo.put(&quot;applicantCount&quot;, jsonObjectData.get(&quot;appliedCount&quot;));\r\n    \r\n    jobInfo.put(&quot;userId&quot;, recruiterUserId);\r\n    \r\n    list.put(userId, jobPosts.add(jobInfo));\r\n    \r\n    since jobPosts.add() return boolean value.\r\n\r\nso when i try **list.get(userId)** will return Boolean instead of Object.\r\n","title":"HashMap.get returns true instead of an element","body":"<p>i got same problem reason <strong>found the reason</strong>.</p>\n<pre><code>jobInfo.put(&quot;expireDate&quot;, jsonObjectData.get(&quot;expiryDateTime&quot;));\n\njobInfo.put(&quot;applicantCount&quot;, jsonObjectData.get(&quot;appliedCount&quot;));\n\njobInfo.put(&quot;userId&quot;, recruiterUserId);\n\nlist.put(userId, jobPosts.add(jobInfo));\n\nsince jobPosts.add() return boolean value.\n</code></pre>\n<p>so when i try <strong>list.get(userId)</strong> will return Boolean instead of Object.</p>\n"}],"owner":{"account_id":19862447,"reputation":11,"user_id":14550541,"display_name":"Unknowin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70311310,"answer_count":3,"score":0,"last_activity_date":1687242405,"creation_date":1639177288,"question_id":70311247,"body_markdown":"So I&#39;m trying to make a program that will count the number of times a unique word appears in a small file using HashMap. However, when I try to increase the count on a repeating word by using .get(key) on my HashMap, it returns true instead of the integer value that I want to cast to. How can I get my code to return the value instead of a boolean? Here&#39;s my code so far: \r\n\r\n    public class CountWords\r\n    {\r\n\tpublic static void main (String[] args) {\r\n\t\tMap&lt;String, Object&gt; words = new HashMap&lt;&gt;();\r\n\t\tArrayList&lt;FindCommons&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tread(words, list);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\tSystem.out.println(list.get(i));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void read (Map&lt;String, Object&gt; words, ArrayList&lt;FindCommons&gt; list) {\r\n\t\ttry {\r\n\t\t\tBufferedReader input = new BufferedReader (new FileReader (&quot;file.txt&quot;));\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\twhile ((line = input.readLine()) != null) {\r\n\t\t\t\tStringTokenizer st = new StringTokenizer(line);\r\n\r\n\t\t\t\twhile (st.hasMoreTokens()) {\r\n\t\t\t\t\tline = st.nextToken();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (words.containsKey(line)) {\r\n\t\t\t\t\t\tSystem.out.println(words.get(line)); //this returns boolean\r\n                        //int count = (int) words.get(line));\r\n\t\t\t\t\t\twords.put(line, list.add(new FindCommons(1, line)));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\twords.put(line, list.add(new FindCommons(1, line)));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinput.close();\r\n\t\t}\r\n\t\tcatch (FileNotFoundException e){\r\n\t\t}\r\n\t\tcatch (IOException e){ \r\n\t\t}\r\n\t}\r\n    }\r\n\r\nMy FindCommons class:\r\n\r\nimport java.util.ArrayList;\r\n    public class FindCommons{\r\n\r\n\tprivate String word;\r\n\tprivate int count;\r\n\t\r\n\tpublic FindCommons(int count, String word) {\r\n\t\tthis.count = count;\r\n\t\tthis.word = word;\r\n\t}\r\n\t\r\n\tpublic int getNumber() {\r\n\t\treturn count;\r\n\t}\r\n\t\r\n\tpublic String getWord() {\r\n\t\treturn word;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn String.format(&quot;%-20s %5d&quot;, word, count);\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n","title":"HashMap.get returns true instead of an element","body":"<p>So I'm trying to make a program that will count the number of times a unique word appears in a small file using HashMap. However, when I try to increase the count on a repeating word by using .get(key) on my HashMap, it returns true instead of the integer value that I want to cast to. How can I get my code to return the value instead of a boolean? Here's my code so far:</p>\n<pre><code>public class CountWords\n{\npublic static void main (String[] args) {\n    Map&lt;String, Object&gt; words = new HashMap&lt;&gt;();\n    ArrayList&lt;FindCommons&gt; list = new ArrayList&lt;&gt;();\n    \n    read(words, list);\n    \n    for (int i = 0; i &lt; list.size(); i++) {\n        System.out.println(list.get(i));\n    }\n}\n\npublic static void read (Map&lt;String, Object&gt; words, ArrayList&lt;FindCommons&gt; list) {\n    try {\n        BufferedReader input = new BufferedReader (new FileReader (&quot;file.txt&quot;));\n        String line = &quot;&quot;;\n        while ((line = input.readLine()) != null) {\n            StringTokenizer st = new StringTokenizer(line);\n\n            while (st.hasMoreTokens()) {\n                line = st.nextToken();\n                \n                if (words.containsKey(line)) {\n                    System.out.println(words.get(line)); //this returns boolean\n                    //int count = (int) words.get(line));\n                    words.put(line, list.add(new FindCommons(1, line)));\n                }\n                else {\n                    words.put(line, list.add(new FindCommons(1, line)));\n                    \n                }\n            }\n        }\n\n        input.close();\n    }\n    catch (FileNotFoundException e){\n    }\n    catch (IOException e){ \n    }\n}\n}\n</code></pre>\n<p>My FindCommons class:</p>\n<p>import java.util.ArrayList;\npublic class FindCommons{</p>\n<pre><code>private String word;\nprivate int count;\n\npublic FindCommons(int count, String word) {\n    this.count = count;\n    this.word = word;\n}\n\npublic int getNumber() {\n    return count;\n}\n\npublic String getWord() {\n    return word;\n}\n\npublic String toString() {\n    return String.format(&quot;%-20s %5d&quot;, word, count);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sorting","locale","collation"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1349688610,"post_id":12778841,"comment_id":17272939,"body_markdown":"Is it deliberate that you don&#39;t have Umlauts and the Sharp-s (&#228;&#246;&#252;&#223;) in your sort order? I&#39;d say they are important for having a German collator.","body":"Is it deliberate that you don&#39;t have Umlauts and the Sharp-s (&#228;&#246;&#252;&#223;) in your sort order? I&#39;d say they are important for having a German collator."},{"owner":{"account_id":421581,"reputation":201,"user_id":799903,"display_name":"Amir"},"score":0,"creation_date":1349688794,"post_id":12778841,"comment_id":17273021,"body_markdown":"yes, for the test case i have omitted umlauts and special characters. just wanted to keep it very simple.","body":"yes, for the test case i have omitted umlauts and special characters. just wanted to keep it very simple."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1349688920,"post_id":12778841,"comment_id":17273068,"body_markdown":"Also: which rules do you follow that sort digits after the other characters? There are several different collations for German and at least some of those sort numbers first.","body":"Also: which rules do you follow that sort digits after the other characters? There are several different collations for German and at least some of those sort numbers first."},{"owner":{"account_id":421581,"reputation":201,"user_id":799903,"display_name":"Amir"},"score":0,"creation_date":1349689138,"post_id":12778841,"comment_id":17273141,"body_markdown":"i have just tried Locale.GERMANY collation, can you point me to a collation which sorts digits after alphabets?","body":"i have just tried Locale.GERMANY collation, can you point me to a collation which sorts digits after alphabets?"},{"owner":{"account_id":378367,"reputation":4047,"user_id":731040,"accept_rate":80,"display_name":"s.d"},"score":0,"creation_date":1349866373,"post_id":12778841,"comment_id":17336250,"body_markdown":"If you are using Java 7, you can set a variant on your `Locale` which can be a BCP 47 extension (cf. http://docs.oracle.com/javase/tutorial/i18n/locale/create.html, and for BCP 47 http://docs.oracle.com/javase/tutorial/i18n/locale/extensions.html). AFAIK, there&#39;s a reorder setting for collation, but I&#39;ve never actually worked with this.","body":"If you are using Java 7, you can set a variant on your <code>Locale</code> which can be a BCP 47 extension (cf. <a href=\"http://docs.oracle.com/javase/tutorial/i18n/locale/create.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/i18n/locale/create.html</a>, and for BCP 47 <a href=\"http://docs.oracle.com/javase/tutorial/i18n/locale/extensions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/i18n/locale/extensions.html</a>)&zwnj;&#8203;. AFAIK, there&#39;s a reorder setting for collation, but I&#39;ve never actually worked with this."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1354016604,"post_id":12778841,"comment_id":18615940,"body_markdown":"What is your source for &quot;*But, in German, digits are ascendant sorted after letters.&quot;*?","body":"What is your source for &quot;<i>But, in German, digits are ascendant sorted after letters.&quot;</i>?"}],"answers":[{"tags":[],"owner":{"account_id":125531,"reputation":2166,"user_id":321366,"accept_rate":100,"display_name":"Jasper"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1353682529,"creation_date":1353682529,"answer_id":13531475,"question_id":12778841,"body_markdown":"You can check/debug the source code to see *why* nothing changes:\r\n\r\n    Collator.getInstance(Locale.GERMANY);\r\n\r\nCalls the following piece code:\r\n\r\n    public static synchronized\r\n    Collator getInstance(Locale desiredLocale)\r\n    {\r\n        // Snipping some code here\r\n        String colString = &quot;&quot;;\r\n        try {\r\n            ResourceBundle resource = LocaleData.getCollationData(desiredLocale);\r\n\r\n            colString = resource.getString(&quot;Rule&quot;);\r\n        } catch (MissingResourceException e) {\r\n            // Use default values\r\n        }\r\n        try\r\n        {\r\n            result = new RuleBasedCollator( CollationRules.DEFAULTRULES +\r\n                                            colString,\r\n                                            CANONICAL_DECOMPOSITION );\r\n        }\r\n    // Snipping some more code here\r\n\r\nOver here you can see that the specific rules (`colString` which is empty in your case anyway) are placed *after* the defaults (`CollationRules.DEFAULTRULES`).\r\n\r\nAnd as you have discovered that defaults have the numerics placed first:\r\n\r\n      // NUMERICS\r\n\r\n        + &quot;&lt;0&lt;1&lt;2&lt;3&lt;4&lt;5&lt;6&lt;7&lt;8&lt;9&quot;\r\n        + &quot;&lt;\\u00bc&lt;\\u00bd&lt;\\u00be&quot;   // 1/4,1/2,3/4 fractions\r\n\r\n        // NON-IGNORABLES\r\n        + &quot;&lt;a,A&quot;\r\n        + &quot;&lt;b,B&quot;\r\n        + &quot;&lt;c,C&quot;\r\n        + &quot;&lt;d,D&quot;","title":"Linguistic sorting (German) with Java","body":"<p>You can check/debug the source code to see <em>why</em> nothing changes:</p>\n\n<pre><code>Collator.getInstance(Locale.GERMANY);\n</code></pre>\n\n<p>Calls the following piece code:</p>\n\n<pre><code>public static synchronized\nCollator getInstance(Locale desiredLocale)\n{\n    // Snipping some code here\n    String colString = \"\";\n    try {\n        ResourceBundle resource = LocaleData.getCollationData(desiredLocale);\n\n        colString = resource.getString(\"Rule\");\n    } catch (MissingResourceException e) {\n        // Use default values\n    }\n    try\n    {\n        result = new RuleBasedCollator( CollationRules.DEFAULTRULES +\n                                        colString,\n                                        CANONICAL_DECOMPOSITION );\n    }\n// Snipping some more code here\n</code></pre>\n\n<p>Over here you can see that the specific rules (<code>colString</code> which is empty in your case anyway) are placed <em>after</em> the defaults (<code>CollationRules.DEFAULTRULES</code>).</p>\n\n<p>And as you have discovered that defaults have the numerics placed first:</p>\n\n<pre><code>  // NUMERICS\n\n    + \"&lt;0&lt;1&lt;2&lt;3&lt;4&lt;5&lt;6&lt;7&lt;8&lt;9\"\n    + \"&lt;\\u00bc&lt;\\u00bd&lt;\\u00be\"   // 1/4,1/2,3/4 fractions\n\n    // NON-IGNORABLES\n    + \"&lt;a,A\"\n    + \"&lt;b,B\"\n    + \"&lt;c,C\"\n    + \"&lt;d,D\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1686999214,"post_id":76484345,"comment_id":134877752,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76484345/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23539002,"reputation":1,"user_id":17583511,"display_name":"Michael Puzio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687242369,"creation_date":1686851852,"answer_id":76484345,"question_id":12778841,"body_markdown":"I make my special sort with the following code:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    public class SpecialSort implements Comparator&lt;String&gt; {\r\n    \r\n        private static final char[] knownChars = {&#39;A&#39;, &#39;&#196;&#39;, &#39;a&#39;, &#39;&#228;&#39;, &#39;&#225;&#39;, &#39;&#224;&#39;, &#39;&#226;&#39;, &#39;&#229;&#39;, &#39;&#227;&#39;, //\r\n                &#39;B&#39;, &#39;b&#39;, &#39;в&#39;,//\r\n                &#39;C&#39;, &#39;&#199;&#39;, &#39;c&#39;, &#39;&#231;&#39;,//\r\n                &#39;D&#39;, &#39;d&#39;,//\r\n                &#39;E&#39;, &#39;&#201;&#39;, &#39;e&#39;, &#39;&#235;&#39;, &#39;&#233;&#39;, &#39;&#232;&#39;, &#39;&#234;&#39;,//\r\n                &#39;F&#39;, &#39;f&#39;,//\r\n                &#39;G&#39;, &#39;g&#39;,//\r\n                &#39;H&#39;, &#39;h&#39;,//\r\n                &#39;I&#39;, &#39;i&#39;, &#39;&#239;&#39;, &#39;&#238;&#39;, &#39;&#237;&#39;, &#39;&#236;&#39;,//\r\n                &#39;J&#39;, &#39;j&#39;,//\r\n                &#39;K&#39;, &#39;k&#39;,//\r\n                &#39;L&#39;, &#39;l&#39;,//\r\n                &#39;M&#39;, &#39;m&#39;,//\r\n                &#39;N&#39;, &#39;n&#39;, &#39;&#241;&#39;,//\r\n                &#39;O&#39;, &#39;&#214;&#39;, &#39;&#211;&#39;, &#39;&#210;&#39;, &#39;o&#39;, &#39;о&#39;, &#39;&#246;&#39;, &#39;&#243;&#39;, &#39;&#242;&#39;, &#39;&#244;&#39;,//\r\n                &#39;P&#39;, &#39;p&#39;, &#39;р&#39;, &#39;π&#39;,//\r\n                &#39;Q&#39;, &#39;q&#39;,//\r\n                &#39;R&#39;, &#39;r&#39;,//\r\n                &#39;S&#39;, &#39;s&#39;, &#39;&#223;&#39;, &#39;β&#39;,//\r\n                &#39;T&#39;, &#39;t&#39;, &#39;т&#39;,//\r\n                &#39;U&#39;, &#39;&#220;&#39;, &#39;u&#39;, &#39;&#252;&#39;, &#39;&#250;&#39;, &#39;&#249;&#39;, &#39;&#251;&#39;,//\r\n                &#39;V&#39;, &#39;v&#39;,//\r\n                &#39;W&#39;, &#39;w&#39;,//\r\n                &#39;X&#39;, &#39;x&#39;,//\r\n                &#39;Y&#39;, &#39;y&#39;, &#39;&#255;&#39;,//\r\n                &#39;Z&#39;, &#39;z&#39;,//\r\n                &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;,//\r\n                &#39; &#39;, &#39;,&#39;, &#39;+&#39;, &#39;-&#39;, &#39;–&#39;, &#39;*&#39;, &#39;_&#39;, &#39;#&#39;, &#39;&#180;&#39;,//\r\n                &#39;&#189;&#39;, &#39;&#188;&#39;, &#39;@&#39;, &#39;&#185;&#39;, &#39;&#178;&#39;, &#39;&gt;&#39;, &#39;&lt;&#39;, &#39;’&#39;, &#39;“&#39;, &#39;„&#39;, &#39;&#179;&#39;,//\r\n                &#39;\\&#39;&#39;, &#39;`&#39;, &#39;&quot;&#39;, &#39;&#167;&#39;, &#39;○&#39;,//\r\n                &#39;?&#39;, &#39;!&#39;, &#39;\\t&#39;, ((char) 10), &#39;♕&#39;, &#39;/&#39;, &#39;\\\\&#39;,//\r\n                &#39;.&#39;, &#39;&#183;&#39;, &#39;:&#39;, &#39;;&#39;, &#39;=&#39;, &#39;&amp;&#39;, &#39;&#182;&#39;,//\r\n                &#39;(&#39;, &#39;)&#39;, &#39;[&#39;, &#39;]&#39;,//\r\n                &#39;&#160;&#39;, &#39;%&#39;, &#39;&#187;&#39;, &#39;&#171;&#39;, &#39;&#174;&#39;, &#39;€&#39;, &#39;&#163;&#39;, &#39;&#248;&#39;,//\r\n                &#39;&#176;&#39;, &#39;и&#39;, &#39;щ&#39;, &#39;瘐&#39;, &#39;ɸ&#39;//\r\n    \r\n        };\r\n    \r\n        private static final int[] mapping = new int[0x10000];\r\n        public static boolean simpleSort = true;// if false compare deliver the special sort else normal sort using string.compareTo(otherString)\r\n        public static boolean firstLetterIgnoreUpperCase = false;// if true first Letter uppercase will ignored.\r\n        private static int lastGoodChar;\r\n    \r\n        static {\r\n            Arrays.fill(mapping, Integer.MAX_VALUE);\r\n            for (int i = 0; i &lt; knownChars.length; i++) {\r\n                if (knownChars[i] == &#39; &#39;) {\r\n                    lastGoodChar = i;\r\n                }\r\n                mapping[knownChars[i]] = i;\r\n            }\r\n        }\r\n    \r\n        public static int staticCompare(@NonNull String one, @NonNull String two) {\r\n            if (simpleSort)\r\n                return one.compareTo(two);\r\n            char[] chars1 = one.toCharArray();\r\n            char[] chars2 = two.toCharArray();\r\n            if (firstLetterIgnoreUpperCase) {\r\n                if (chars1.length &gt; 0)\r\n                    chars1[0] = (&quot;&quot; + chars1[0]).toLowerCase().charAt(0);\r\n                if (chars2.length &gt; 0)\r\n                    chars2[0] = (&quot;&quot; + chars2[0]).toLowerCase().charAt(0);\r\n            }\r\n            int[] ref1 = new int[1];\r\n            int[] ref2 = new int[1];\r\n            do {\r\n                int c1 = getCharValue(chars1, ref1);\r\n                int c2 = getCharValue(chars2, ref2);\r\n                if (c1 != c2)\r\n                    return c1 - c2;\r\n            } while ((ref1[0] &lt; chars1.length) &amp;&amp; (ref2[0] &lt; chars2.length));\r\n            if (ref1[0] &lt; chars1.length)\r\n                return Integer.MAX_VALUE;\r\n            return Integer.MIN_VALUE;\r\n        }\r\n    \r\n        private static int getCharValue(@NonNull char[] all, @NonNull int[] index) {\r\n            if (index[0] == all.length) return 0;\r\n            int ord = mapping[all[index[0]++]];\r\n            if (ord &lt; lastGoodChar)\r\n                return ord;\r\n            return getCharValue(all, index);\r\n        }\r\n    \r\n        public int compare(@NonNull String one, @NonNull String two) {\r\n            return staticCompare(one, two);\r\n        }\r\n    }","title":"Linguistic sorting (German) with Java","body":"<p>I make my special sort with the following code:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\n\npublic class SpecialSort implements Comparator&lt;String&gt; {\n\n    private static final char[] knownChars = {'A', 'Ä', 'a', 'ä', 'á', 'à', 'â', 'å', 'ã', //\n            'B', 'b', 'в',//\n            'C', 'Ç', 'c', 'ç',//\n            'D', 'd',//\n            'E', 'É', 'e', 'ë', 'é', 'è', 'ê',//\n            'F', 'f',//\n            'G', 'g',//\n            'H', 'h',//\n            'I', 'i', 'ï', 'î', 'í', 'ì',//\n            'J', 'j',//\n            'K', 'k',//\n            'L', 'l',//\n            'M', 'm',//\n            'N', 'n', 'ñ',//\n            'O', 'Ö', 'Ó', 'Ò', 'o', 'о', 'ö', 'ó', 'ò', 'ô',//\n            'P', 'p', 'р', 'π',//\n            'Q', 'q',//\n            'R', 'r',//\n            'S', 's', 'ß', 'β',//\n            'T', 't', 'т',//\n            'U', 'Ü', 'u', 'ü', 'ú', 'ù', 'û',//\n            'V', 'v',//\n            'W', 'w',//\n            'X', 'x',//\n            'Y', 'y', 'ÿ',//\n            'Z', 'z',//\n            '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',//\n            ' ', ',', '+', '-', '–', '*', '_', '#', '´',//\n            '½', '¼', '@', '¹', '²', '&gt;', '&lt;', '’', '“', '„', '³',//\n            '\\'', '`', '&quot;', '§', '○',//\n            '?', '!', '\\t', ((char) 10), '♕', '/', '\\\\',//\n            '.', '·', ':', ';', '=', '&amp;', '¶',//\n            '(', ')', '[', ']',//\n            ' ', '%', '»', '«', '®', '€', '£', 'ø',//\n            '°', 'и', 'щ', '瘐', 'ɸ'//\n\n    };\n\n    private static final int[] mapping = new int[0x10000];\n    public static boolean simpleSort = true;// if false compare deliver the special sort else normal sort using string.compareTo(otherString)\n    public static boolean firstLetterIgnoreUpperCase = false;// if true first Letter uppercase will ignored.\n    private static int lastGoodChar;\n\n    static {\n        Arrays.fill(mapping, Integer.MAX_VALUE);\n        for (int i = 0; i &lt; knownChars.length; i++) {\n            if (knownChars[i] == ' ') {\n                lastGoodChar = i;\n            }\n            mapping[knownChars[i]] = i;\n        }\n    }\n\n    public static int staticCompare(@NonNull String one, @NonNull String two) {\n        if (simpleSort)\n            return one.compareTo(two);\n        char[] chars1 = one.toCharArray();\n        char[] chars2 = two.toCharArray();\n        if (firstLetterIgnoreUpperCase) {\n            if (chars1.length &gt; 0)\n                chars1[0] = (&quot;&quot; + chars1[0]).toLowerCase().charAt(0);\n            if (chars2.length &gt; 0)\n                chars2[0] = (&quot;&quot; + chars2[0]).toLowerCase().charAt(0);\n        }\n        int[] ref1 = new int[1];\n        int[] ref2 = new int[1];\n        do {\n            int c1 = getCharValue(chars1, ref1);\n            int c2 = getCharValue(chars2, ref2);\n            if (c1 != c2)\n                return c1 - c2;\n        } while ((ref1[0] &lt; chars1.length) &amp;&amp; (ref2[0] &lt; chars2.length));\n        if (ref1[0] &lt; chars1.length)\n            return Integer.MAX_VALUE;\n        return Integer.MIN_VALUE;\n    }\n\n    private static int getCharValue(@NonNull char[] all, @NonNull int[] index) {\n        if (index[0] == all.length) return 0;\n        int ord = mapping[all[index[0]++]];\n        if (ord &lt; lastGoodChar)\n            return ord;\n        return getCharValue(all, index);\n    }\n\n    public int compare(@NonNull String one, @NonNull String two) {\n        return staticCompare(one, two);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":421581,"reputation":201,"user_id":799903,"display_name":"Amir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3996,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1687242369,"creation_date":1349688460,"question_id":12778841,"body_markdown":"Sorting a string with number is done differently from one language to another. For example, in English digits come before letters in an ascending sorting. But, in German, digits are ascendant sorted after letters. \r\n\r\nI tried to sort strings using a [`Collator`][1] as follows:\r\n\r\n    private Collator collator = Collator.getInstance(Locale.GERMANY);\r\n    collator.compare(str1, str2)\r\n\r\nBut above comparison does not take into account digits after letters rule.\r\n\r\nDoes any one have an idea why Java is not taking this rule (digits after letter) into account for the time being I am using [`RuleBasedCollator`][2] as follows:\r\n\r\n    private final String sortOrder = &quot;&lt; a, A &lt; b, B &lt; c, C &lt; d, D &lt; e, E &lt; f, F &lt; g, G &lt; h, H &lt; i, I &lt; j, J &lt; k, K &lt; l, L &lt; m, M &lt; n, N &lt; o, O &lt; p, P &lt; q, Q &lt; r, R &lt; s, S &lt; t, T &lt; u, U &lt; v, V &lt; w, W &lt; x, X &lt; y, Y &lt; z, Z &lt; 0 &lt; 1 &lt; 2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9&quot;;\r\n\r\n    private Collator collator = new RuleBasedCollator(sortOrder);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/Collator.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/text/RuleBasedCollator.html","title":"Linguistic sorting (German) with Java","body":"<p>Sorting a string with number is done differently from one language to another. For example, in English digits come before letters in an ascending sorting. But, in German, digits are ascendant sorted after letters. </p>\n\n<p>I tried to sort strings using a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/Collator.html\" rel=\"noreferrer\"><code>Collator</code></a> as follows:</p>\n\n<pre><code>private Collator collator = Collator.getInstance(Locale.GERMANY);\ncollator.compare(str1, str2)\n</code></pre>\n\n<p>But above comparison does not take into account digits after letters rule.</p>\n\n<p>Does any one have an idea why Java is not taking this rule (digits after letter) into account for the time being I am using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/RuleBasedCollator.html\" rel=\"noreferrer\"><code>RuleBasedCollator</code></a> as follows:</p>\n\n<pre><code>private final String sortOrder = \"&lt; a, A &lt; b, B &lt; c, C &lt; d, D &lt; e, E &lt; f, F &lt; g, G &lt; h, H &lt; i, I &lt; j, J &lt; k, K &lt; l, L &lt; m, M &lt; n, N &lt; o, O &lt; p, P &lt; q, Q &lt; r, R &lt; s, S &lt; t, T &lt; u, U &lt; v, V &lt; w, W &lt; x, X &lt; y, Y &lt; z, Z &lt; 0 &lt; 1 &lt; 2 &lt; 3 &lt; 4 &lt; 5 &lt; 6 &lt; 7 &lt; 8 &lt; 9\";\n\nprivate Collator collator = new RuleBasedCollator(sortOrder);\n</code></pre>\n"},{"tags":["java","keycloak","keycloak-services","keycloak-spi"],"comments":[{"owner":{"account_id":12058536,"reputation":474,"user_id":8818406,"display_name":"csbrogi"},"score":0,"creation_date":1687267921,"post_id":76511812,"comment_id":134910608,"body_markdown":"Are you sure your Logging is configured correctly? I use something like \n  command: start-dev --log-level WARN --log-level de.blubber:DEBUG  in my docker-compose. You can put a System.out.println in your code to see if anything is called.","body":"Are you sure your Logging is configured correctly? I use something like    command: start-dev --log-level WARN --log-level de.blubber:DEBUG  in my docker-compose. You can put a System.out.println in your code to see if anything is called."}],"owner":{"account_id":28855656,"reputation":1,"user_id":22100513,"display_name":"Nandani Narola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687241935,"creation_date":1687241461,"question_id":76511812,"body_markdown":"I have created one keycloak extension to add some validation and required customization in registration form flow of keycloak. It also worked incase of validation I think. But not even showing its log in console. Also I checked for configuring it from registration flows, but I am not able to find any option to configure it.\r\n\r\n\r\n\r\n\r\nHere is its code,\r\n\r\n \r\n```\r\npublic class PlaceholderRegistrationProfile implements FormAction {\r\n    //    protected static final Logger log = Logger.getLogger(PlaceholderRegistrationProfile.class);\r\n    private static final Logger log = Logger.getLogger(PlaceholderRegistrationProfile.class.getName());\r\n\r\n    @Override\r\n    public void buildPage(FormContext formContext, LoginFormsProvider form) {\r\n        // complete\r\n        form.setAttribute(&quot;passwordRequired&quot;, true);\r\n    }\r\n\r\n    @Override\r\n    public void validate(ValidationContext context) {\r\n        MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\r\n        List&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\r\n\r\n        context.getEvent().detail(Details.REGISTER_METHOD, &quot;form&quot;);\r\n        String eventError = Errors.INVALID_REGISTRATION;\r\n\r\n        String email = formData.getFirst(Validation.FIELD_EMAIL);\r\n        boolean emailValid = true;\r\n        if (Validation.isBlank(email)) {\r\n            errors.add(new FormMessage(RegistrationPage.FIELD_EMAIL, Messages.MISSING_EMAIL));\r\n            emailValid = false;\r\n        } else if (!Validation.isEmailValid(email)) {\r\n            context.getEvent().detail(Details.EMAIL, email);\r\n            errors.add(new FormMessage(RegistrationPage.FIELD_EMAIL, Messages.INVALID_EMAIL));\r\n            emailValid = false;\r\n        }\r\n\r\n        if (emailValid &amp;&amp; !context.getRealm().isDuplicateEmailsAllowed() &amp;&amp; context.getSession().users().getUserByEmail(context.getRealm(), email) != null) {\r\n            eventError = Errors.EMAIL_IN_USE;\r\n            formData.remove(Validation.FIELD_EMAIL);\r\n            context.getEvent().detail(Details.EMAIL, email);\r\n            errors.add(new FormMessage(RegistrationPage.FIELD_EMAIL, Messages.EMAIL_EXISTS));\r\n        }\r\n\r\n        if (!errors.isEmpty()) {\r\n            context.error(eventError);\r\n            context.validationError(formData, errors);\r\n\r\n        } else {\r\n            UserModel user = context.getUser();\r\n            user.setEmail(formData.getFirst(RegistrationPage.FIELD_EMAIL));\r\n            log.info(&quot;EMAIL ADDED&quot;);\r\n            String role = formData.getFirst(&quot;user.attributes.type&quot;);\r\n            var x = context.getRealm().getRolesStream()\r\n                    .filter(roleModel -&gt; roleModel.getName().equalsIgnoreCase(role)).findFirst();\r\n            x.ifPresent(user::grantRole);\r\n            context.setUser(user);\r\n            log.info(&quot;Form validated&quot;);\r\n            context.success();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void success(FormContext context) {\r\n        log.info(&quot;FORM SUCCESS EVENT&quot;);\r\n        UserModel user = context.getUser();\r\n        MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\r\n//        user.setFirstName(formData.getFirst(RegistrationPage.FIELD_FIRST_NAME));\r\n//        user.setLastName(formData.getFirst(RegistrationPage.FIELD_LAST_NAME));\r\n        user.setEmail(formData.getFirst(RegistrationPage.FIELD_EMAIL));\r\n        log.info(&quot;EMAIL ADDED&quot;);\r\n        String role = formData.getFirst(&quot;user.attributes.type&quot;);\r\n        var x = context.getRealm().getRolesStream()\r\n                .filter(roleModel -&gt; roleModel.getName().equalsIgnoreCase(role)).findFirst();\r\n        x.ifPresent(user::grantRole);\r\n\r\n//        user.setSingleAttribute(&quot;type&quot;, role);\r\n//        x.ifPresent(roleModel -&gt; user.getRealmRoleMappingsStream().toList().add(roleModel));\r\n//        context.setUser(user);\r\n    }\r\n\r\n    @Override\r\n    public boolean requiresUser() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean configuredFor(KeycloakSession keycloakSession, RealmModel realmModel, UserModel userModel) {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void setRequiredActions(KeycloakSession keycloakSession, RealmModel realmModel, UserModel userModel) {\r\n        // TODO document why this method is empty\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        // TODO document why this method is empty\r\n    }\r\n\r\n```\r\n\r\n\r\n[image of console](https://i.stack.imgur.com/kaBEc.png)\r\n\r\n[image of keycloak showing provider][1]\r\n\r\nI want it to at least show logs in console and get to know is it added to registration flows. Also if there is any way, to add it in registration it would be really helpful. For now, I have added its jar in providers folder, and it showed like above image.\r\n\r\nNote: I am using quay.io/keycloak/keycloak:21.1.1 keycloak docker image.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3R35s.png","title":"Keycloak extension not getting added","body":"<p>I have created one keycloak extension to add some validation and required customization in registration form flow of keycloak. It also worked incase of validation I think. But not even showing its log in console. Also I checked for configuring it from registration flows, but I am not able to find any option to configure it.</p>\n<p>Here is its code,</p>\n<pre><code>public class PlaceholderRegistrationProfile implements FormAction {\n    //    protected static final Logger log = Logger.getLogger(PlaceholderRegistrationProfile.class);\n    private static final Logger log = Logger.getLogger(PlaceholderRegistrationProfile.class.getName());\n\n    @Override\n    public void buildPage(FormContext formContext, LoginFormsProvider form) {\n        // complete\n        form.setAttribute(&quot;passwordRequired&quot;, true);\n    }\n\n    @Override\n    public void validate(ValidationContext context) {\n        MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\n        List&lt;FormMessage&gt; errors = new ArrayList&lt;&gt;();\n\n        context.getEvent().detail(Details.REGISTER_METHOD, &quot;form&quot;);\n        String eventError = Errors.INVALID_REGISTRATION;\n\n        String email = formData.getFirst(Validation.FIELD_EMAIL);\n        boolean emailValid = true;\n        if (Validation.isBlank(email)) {\n            errors.add(new FormMessage(RegistrationPage.FIELD_EMAIL, Messages.MISSING_EMAIL));\n            emailValid = false;\n        } else if (!Validation.isEmailValid(email)) {\n            context.getEvent().detail(Details.EMAIL, email);\n            errors.add(new FormMessage(RegistrationPage.FIELD_EMAIL, Messages.INVALID_EMAIL));\n            emailValid = false;\n        }\n\n        if (emailValid &amp;&amp; !context.getRealm().isDuplicateEmailsAllowed() &amp;&amp; context.getSession().users().getUserByEmail(context.getRealm(), email) != null) {\n            eventError = Errors.EMAIL_IN_USE;\n            formData.remove(Validation.FIELD_EMAIL);\n            context.getEvent().detail(Details.EMAIL, email);\n            errors.add(new FormMessage(RegistrationPage.FIELD_EMAIL, Messages.EMAIL_EXISTS));\n        }\n\n        if (!errors.isEmpty()) {\n            context.error(eventError);\n            context.validationError(formData, errors);\n\n        } else {\n            UserModel user = context.getUser();\n            user.setEmail(formData.getFirst(RegistrationPage.FIELD_EMAIL));\n            log.info(&quot;EMAIL ADDED&quot;);\n            String role = formData.getFirst(&quot;user.attributes.type&quot;);\n            var x = context.getRealm().getRolesStream()\n                    .filter(roleModel -&gt; roleModel.getName().equalsIgnoreCase(role)).findFirst();\n            x.ifPresent(user::grantRole);\n            context.setUser(user);\n            log.info(&quot;Form validated&quot;);\n            context.success();\n        }\n    }\n\n    @Override\n    public void success(FormContext context) {\n        log.info(&quot;FORM SUCCESS EVENT&quot;);\n        UserModel user = context.getUser();\n        MultivaluedMap&lt;String, String&gt; formData = context.getHttpRequest().getDecodedFormParameters();\n//        user.setFirstName(formData.getFirst(RegistrationPage.FIELD_FIRST_NAME));\n//        user.setLastName(formData.getFirst(RegistrationPage.FIELD_LAST_NAME));\n        user.setEmail(formData.getFirst(RegistrationPage.FIELD_EMAIL));\n        log.info(&quot;EMAIL ADDED&quot;);\n        String role = formData.getFirst(&quot;user.attributes.type&quot;);\n        var x = context.getRealm().getRolesStream()\n                .filter(roleModel -&gt; roleModel.getName().equalsIgnoreCase(role)).findFirst();\n        x.ifPresent(user::grantRole);\n\n//        user.setSingleAttribute(&quot;type&quot;, role);\n//        x.ifPresent(roleModel -&gt; user.getRealmRoleMappingsStream().toList().add(roleModel));\n//        context.setUser(user);\n    }\n\n    @Override\n    public boolean requiresUser() {\n        return false;\n    }\n\n    @Override\n    public boolean configuredFor(KeycloakSession keycloakSession, RealmModel realmModel, UserModel userModel) {\n        return true;\n    }\n\n    @Override\n    public void setRequiredActions(KeycloakSession keycloakSession, RealmModel realmModel, UserModel userModel) {\n        // TODO document why this method is empty\n    }\n\n    @Override\n    public void close() {\n        // TODO document why this method is empty\n    }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kaBEc.png\" rel=\"nofollow noreferrer\">image of console</a></p>\n<p><a href=\"https://i.stack.imgur.com/3R35s.png\" rel=\"nofollow noreferrer\">image of keycloak showing provider</a></p>\n<p>I want it to at least show logs in console and get to know is it added to registration flows. Also if there is any way, to add it in registration it would be really helpful. For now, I have added its jar in providers folder, and it showed like above image.</p>\n<p>Note: I am using quay.io/keycloak/keycloak:21.1.1 keycloak docker image.</p>\n"},{"tags":["java","class","user-input"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687238905,"post_id":76511630,"comment_id":134904600,"body_markdown":"What&#39;s &quot;not optimal&quot; about having 20 cases?","body":"What&#39;s &quot;not optimal&quot; about having 20 cases?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1687238936,"post_id":76511630,"comment_id":134904605,"body_markdown":"You can define a `Map&lt;String, Function&lt;String, Unit&gt;&gt;` and look them up by name.","body":"You can define a <code>Map&lt;String, Function&lt;String, Unit&gt;&gt;</code> and look them up by name."},{"owner":{"account_id":28842823,"reputation":3,"user_id":22090587,"display_name":"2naKyrielight"},"score":0,"creation_date":1687241346,"post_id":76511630,"comment_id":134904858,"body_markdown":"@Sweeper what I mean is, it&#39;d be inefficient to hardcode 20 cases in this way. I do have a draft of ~200 separate units, but I&#39;m building the game with a smaller size for now. If I want to code 200 units this way, it&#39;d be easy to make mistakes as well (forgetting a unit somewhere, etc.).","body":"@Sweeper what I mean is, it&#39;d be inefficient to hardcode 20 cases in this way. I do have a draft of ~200 separate units, but I&#39;m building the game with a smaller size for now. If I want to code 200 units this way, it&#39;d be easy to make mistakes as well (forgetting a unit somewhere, etc.)."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687240670,"creation_date":1687239349,"answer_id":76511654,"question_id":76511630,"body_markdown":"Because you have a different class for each one, you will have to have some point at which an instance of one of 20 different classes can be created.\r\n\r\nYou can make your case statement shorter by using a case expression, if you are on a recent version of Java:\r\n```\r\n                Unit u = switch (input) {\r\n                    case &quot;Soldier&quot; -&gt; new Soldier();\r\n                    case &quot;Medic&quot; -&gt; new Medic();\r\n                    default -&gt; null;\r\n                };\r\n                if (u == null) {\r\n                    System.out.println(&quot;Invalid unit name &#39;&quot; + input + &quot;&#39;&quot;);\r\n                } else {\r\n                    units.add(u)\r\n                }\r\n```\r\n\r\nIf your `addUnit` method is the only place in your code where you need to map from the unit type as a string to some operation, I would go with what you have, otherwise you could implement something more general.\r\n\r\nYou can use `enum`s to map from a String to an enum value:\r\n```\r\nclass Unit { ... }\r\nclass Soldier extends Unit { ... }\r\nclass Medic extends Unit { ... }\r\npublic enum UnitType {\r\n    Soldier(Soldier.class),\r\n    Medic(Medic.class);\r\n\r\n    private final Class&lt;? extends Unit&gt; clazz;\r\n\r\n\r\n    UnitType(Class&lt;? extends Unit&gt; clazz) {\r\n        this.clazz = clazz;\r\n    }\r\n\r\n    public Class&lt;? extends Unit&gt; getClazz() {\r\n        return clazz;\r\n    }\r\n}\r\n\r\nclass Main {\r\n    public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\r\n        String unitType = &quot;Soldier&quot;;\r\n        String commander = &quot;Fred&quot;;\r\n        Unit u = UnitType.valueOf(unitType).getClazz().getConstructor(String.class).newInstance(commander);\r\n    }\r\n}\r\n```\r\n\r\nIn the above code I&#39;m cheating by assuming that every unit type is a valid Java identifier -- &quot;Armoured Car&quot; wouldn&#39;t work, because it has a space in it, and you can&#39;t create an enum value with the name `Armoured Car`.","title":"How to create (sub) Classes based of user input, without switch cases?","body":"<p>Because you have a different class for each one, you will have to have some point at which an instance of one of 20 different classes can be created.</p>\n<p>You can make your case statement shorter by using a case expression, if you are on a recent version of Java:</p>\n<pre><code>                Unit u = switch (input) {\n                    case &quot;Soldier&quot; -&gt; new Soldier();\n                    case &quot;Medic&quot; -&gt; new Medic();\n                    default -&gt; null;\n                };\n                if (u == null) {\n                    System.out.println(&quot;Invalid unit name '&quot; + input + &quot;'&quot;);\n                } else {\n                    units.add(u)\n                }\n</code></pre>\n<p>If your <code>addUnit</code> method is the only place in your code where you need to map from the unit type as a string to some operation, I would go with what you have, otherwise you could implement something more general.</p>\n<p>You can use <code>enum</code>s to map from a String to an enum value:</p>\n<pre><code>class Unit { ... }\nclass Soldier extends Unit { ... }\nclass Medic extends Unit { ... }\npublic enum UnitType {\n    Soldier(Soldier.class),\n    Medic(Medic.class);\n\n    private final Class&lt;? extends Unit&gt; clazz;\n\n\n    UnitType(Class&lt;? extends Unit&gt; clazz) {\n        this.clazz = clazz;\n    }\n\n    public Class&lt;? extends Unit&gt; getClazz() {\n        return clazz;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n        String unitType = &quot;Soldier&quot;;\n        String commander = &quot;Fred&quot;;\n        Unit u = UnitType.valueOf(unitType).getClazz().getConstructor(String.class).newInstance(commander);\n    }\n}\n</code></pre>\n<p>In the above code I'm cheating by assuming that every unit type is a valid Java identifier -- &quot;Armoured Car&quot; wouldn't work, because it has a space in it, and you can't create an enum value with the name <code>Armoured Car</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687241348,"creation_date":1687241348,"answer_id":76511799,"question_id":76511630,"body_markdown":"Here is a basic inheritance example.  \r\nIt should provide good scalability, if you plan on creating multiple _Unit_ sub-classes.\r\n\r\nYou can create a _parseString_ method, for the _Unit_ class, which will return the corresponding sub-class.\r\n\r\n```java\r\n/** @return null on invalid string */\r\nstatic Unit parseString(String string, String commander) {\r\n    return switch (string.toLowerCase()) {\r\n        case &quot;soldier&quot; -&gt; new Soldier(commander);\r\n        case &quot;medic&quot; -&gt; new Medic(commander);\r\n        default -&gt; null;\r\n    };\r\n}\r\n```\r\n\r\nAnd, for your input, you can just invoke the _parseString_.  \r\nAdditionally, I have this exit when an empty value is entered.\r\n\r\n```java\r\npublic void addUnit(List&lt;Unit&gt; units, String commander) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    boolean exit = false;\r\n    String string;\r\n    Unit unit;\r\n    do {\r\n        string = scanner.nextLine();\r\n        if (string.isEmpty()) exit = true;\r\n        else {\r\n            unit = Unit.parseString(string, commander);\r\n            if (unit == null) System.out.println(&quot;Not a valid unit&quot;);\r\n            else units.add(unit);\r\n        }\r\n    } while (!exit);\r\n}\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nChoose a unit\r\nsoldier\r\nChoose a unit\r\nabc\r\nNot a valid unit\r\nChoose a unit\r\nsoldier\r\nChoose a unit\r\nmedic\r\nChoose a unit\r\n\r\n```\r\n\r\nAnd, the _units_ list would contain the following.\r\n\r\n```none\r\n[Soldier, Soldier, Medic]\r\n```\r\n\r\nHere is the complete code.\r\n\r\n```java\r\npublic void addUnit(List&lt;Unit&gt; units, String commander) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    boolean exit = false;\r\n    String string;\r\n    Unit unit;\r\n    do {\r\n        System.out.println(&quot;Choose a unit&quot;);\r\n        string = scanner.nextLine();\r\n        if (string.isEmpty()) exit = true;\r\n        else {\r\n            unit = Unit.parseString(string, commander);\r\n            if (unit == null) System.out.println(&quot;Not a valid unit&quot;);\r\n            else units.add(unit);\r\n        }\r\n    } while (!exit);\r\n}\r\n\r\nstatic class Unit {\r\n    String commander;\r\n\r\n    Unit(String commander) {\r\n        this.commander = commander;\r\n    }\r\n\r\n    /** @return null on invalid string */\r\n    static Unit parseString(String string, String commander) {\r\n        return switch (string.toLowerCase()) {\r\n            case &quot;soldier&quot; -&gt; new Soldier(commander);\r\n            case &quot;medic&quot; -&gt; new Medic(commander);\r\n            default -&gt; null;\r\n        };\r\n    }\r\n\r\n    private boolean isSoldier() {\r\n        return this instanceof Soldier;\r\n    }\r\n\r\n    private boolean isMedic() {\r\n        return this instanceof Medic;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return this.getClass().getSimpleName();\r\n    }\r\n}\r\n\r\nstatic class Soldier extends Unit {\r\n    Soldier(String commander) {\r\n        super(commander);\r\n    }\r\n}\r\n\r\nstatic class Medic extends Unit {\r\n    Medic(String commander) {\r\n        super(commander);\r\n    }\r\n}\r\n```","title":"How to create (sub) Classes based of user input, without switch cases?","body":"<p>Here is a basic inheritance example.<br />\nIt should provide good scalability, if you plan on creating multiple <em>Unit</em> sub-classes.</p>\n<p>You can create a <em>parseString</em> method, for the <em>Unit</em> class, which will return the corresponding sub-class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @return null on invalid string */\nstatic Unit parseString(String string, String commander) {\n    return switch (string.toLowerCase()) {\n        case &quot;soldier&quot; -&gt; new Soldier(commander);\n        case &quot;medic&quot; -&gt; new Medic(commander);\n        default -&gt; null;\n    };\n}\n</code></pre>\n<p>And, for your input, you can just invoke the <em>parseString</em>.<br />\nAdditionally, I have this exit when an empty value is entered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addUnit(List&lt;Unit&gt; units, String commander) {\n    Scanner scanner = new Scanner(System.in);\n    boolean exit = false;\n    String string;\n    Unit unit;\n    do {\n        string = scanner.nextLine();\n        if (string.isEmpty()) exit = true;\n        else {\n            unit = Unit.parseString(string, commander);\n            if (unit == null) System.out.println(&quot;Not a valid unit&quot;);\n            else units.add(unit);\n        }\n    } while (!exit);\n}\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Choose a unit\nsoldier\nChoose a unit\nabc\nNot a valid unit\nChoose a unit\nsoldier\nChoose a unit\nmedic\nChoose a unit\n\n</code></pre>\n<p>And, the <em>units</em> list would contain the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Soldier, Soldier, Medic]\n</code></pre>\n<p>Here is the complete code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void addUnit(List&lt;Unit&gt; units, String commander) {\n    Scanner scanner = new Scanner(System.in);\n    boolean exit = false;\n    String string;\n    Unit unit;\n    do {\n        System.out.println(&quot;Choose a unit&quot;);\n        string = scanner.nextLine();\n        if (string.isEmpty()) exit = true;\n        else {\n            unit = Unit.parseString(string, commander);\n            if (unit == null) System.out.println(&quot;Not a valid unit&quot;);\n            else units.add(unit);\n        }\n    } while (!exit);\n}\n\nstatic class Unit {\n    String commander;\n\n    Unit(String commander) {\n        this.commander = commander;\n    }\n\n    /** @return null on invalid string */\n    static Unit parseString(String string, String commander) {\n        return switch (string.toLowerCase()) {\n            case &quot;soldier&quot; -&gt; new Soldier(commander);\n            case &quot;medic&quot; -&gt; new Medic(commander);\n            default -&gt; null;\n        };\n    }\n\n    private boolean isSoldier() {\n        return this instanceof Soldier;\n    }\n\n    private boolean isMedic() {\n        return this instanceof Medic;\n    }\n\n    @Override\n    public String toString() {\n        return this.getClass().getSimpleName();\n    }\n}\n\nstatic class Soldier extends Unit {\n    Soldier(String commander) {\n        super(commander);\n    }\n}\n\nstatic class Medic extends Unit {\n    Medic(String commander) {\n        super(commander);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28842823,"reputation":3,"user_id":22090587,"display_name":"2naKyrielight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687241348,"creation_date":1687238825,"question_id":76511630,"body_markdown":"I would like to ask the user for a unit to add to their army:\r\n\r\n```\r\npublic class addToArmy {\r\n  public void addUnit(ArrayList&lt;Unit&gt; units, String commander) {\r\n    while (true) {\r\n      System.out.println(&quot;Choose a unit&quot;);\r\n      String input = Battlefield.scanner.next();\r\n      switch (input) {\r\n        case &quot;Soldier&quot;:\r\n          Soldier sd = new Soldier(commander);\r\n          units.add(sd);\r\n          return;\r\n      \r\n        case &quot;Medic&quot;:\r\n          Medic md = new Medic(commander);\r\n          units.add(md);\r\n          return;\r\n\r\n        default:\r\n          System.out.println(&quot;Not a valid unit&quot;);\r\n    \r\n    return;\r\n  }\r\n}\r\n// Soldier and Medic inherits from abstract class Unit.\r\n```\r\n\r\nWhile I can use switch statements, if I want to keep adding different types of Units, I would need to keep extending. I intend to have at least 20 units, so this is not optimal. \r\n\r\nIs there a way to add units based on user input without making a bunch of case statements?","title":"How to create (sub) Classes based of user input, without switch cases?","body":"<p>I would like to ask the user for a unit to add to their army:</p>\n<pre><code>public class addToArmy {\n  public void addUnit(ArrayList&lt;Unit&gt; units, String commander) {\n    while (true) {\n      System.out.println(&quot;Choose a unit&quot;);\n      String input = Battlefield.scanner.next();\n      switch (input) {\n        case &quot;Soldier&quot;:\n          Soldier sd = new Soldier(commander);\n          units.add(sd);\n          return;\n      \n        case &quot;Medic&quot;:\n          Medic md = new Medic(commander);\n          units.add(md);\n          return;\n\n        default:\n          System.out.println(&quot;Not a valid unit&quot;);\n    \n    return;\n  }\n}\n// Soldier and Medic inherits from abstract class Unit.\n</code></pre>\n<p>While I can use switch statements, if I want to keep adding different types of Units, I would need to keep extending. I intend to have at least 20 units, so this is not optimal.</p>\n<p>Is there a way to add units based on user input without making a bunch of case statements?</p>\n"},{"tags":["java","aem"],"comments":[{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":0,"creation_date":1687920304,"post_id":76511228,"comment_id":135003149,"body_markdown":"Were you able to debug the code?","body":"Were you able to debug the code?"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687241106,"creation_date":1687231392,"question_id":76511228,"body_markdown":"I&#39;m trying to debug a existing code where it&#39;s supposed to trigger when &quot;Event.PROPERTY_CHANGED+Event.PROPERTY_ADDED&quot; events happened but I don&#39;t think it&#39;s triggering.\r\n\r\nAny ideas on how to help debug the code? (I want my breakpoint inside &quot;onEvent&quot; function to stop the execution)\r\n\r\nSome info/observations:\r\n\r\n- My PDF is located in &quot;/content/dam/files/careers/factsheets/Recruitment-Q-and-A-Factsheet.pdf&quot;\r\n- I inspected the PDF in CRX/DE and this path &quot;/content/dam/files/careers/factsheets/Recruitment-Q-and-A-Factsheet.pdf/jcr:content&quot; has this property &quot;jcr:primaryType=dam:AssetContent&quot;.\r\n- If I edit the metadata (example title), the parent path for the attributes/properties is located in &quot;/content/dam/files/careers/factsheets/Recruitment-Q-and-A-Factsheet.pdf/jcr:content/metadata&quot;\r\n- I put a breakpoint in this line &quot;session = commonService.getSession();&quot; and execution stops here when my AEM instance is starting (either starting it up for the first time or restarting the instance). I didn&#39;t encounter any errors/exceptions inside &quot;activate&quot; function.\r\n- To test my breakpoint inside the &quot;onEvent&quot; function, I changed the metadata of the PDF. I also tried publishing it. I also manually created 2 new nodes of types &quot;nt:unstructed&quot; and &quot;nt:folder&quot; inside &quot;/content/dam/files/careers&quot; folder (via CRX/DE). None of these actions triggered my breakpoint.\r\n- I tried debugging both my local author and publisher.\r\n- My code is below\r\n\r\n        protected void activate() {\r\n            try {\r\n                session = commonService.getSession(); //this is a custom service created by 3rd party\r\n                \r\n                observationManager = session.getWorkspace().getObservationManager();\r\n                \r\n                final String[] types = { &quot;dam:Asset&quot;, &quot;dam:AssetContent&quot;, &quot;nt:unstructured&quot;, &quot;nt:folder&quot; };\r\n                \r\n                final String path = &quot;/content/dam/files&quot;;\r\n                \r\n                final int events1 = Event.PROPERTY_CHANGED | Event.PROPERTY_ADDED | Event.NODE_ADDED;\r\n                \r\n                observationManager.addEventListener(this, events1, path, true, null, types, false);\r\n            } catch(Exception e) {\r\n                log.error(&quot;bad stuff happened&quot;,e);\r\n            }\r\n        }\r\n        \r\n        @Override\r\n        public void onEvent(EventIterator eventIterator) {\r\n            while (eventIterator.hasNext()){\r\n                Event event = eventIterator.nextEvent();\r\n                \r\n                //insert more code here\r\n            }\r\n        }\r\n","title":"Java/AEM: How to trigger an EventListener (javax.jcr.observation.EventListener)?","body":"<p>I'm trying to debug a existing code where it's supposed to trigger when &quot;Event.PROPERTY_CHANGED+Event.PROPERTY_ADDED&quot; events happened but I don't think it's triggering.</p>\n<p>Any ideas on how to help debug the code? (I want my breakpoint inside &quot;onEvent&quot; function to stop the execution)</p>\n<p>Some info/observations:</p>\n<ul>\n<li><p>My PDF is located in &quot;/content/dam/files/careers/factsheets/Recruitment-Q-and-A-Factsheet.pdf&quot;</p>\n</li>\n<li><p>I inspected the PDF in CRX/DE and this path &quot;/content/dam/files/careers/factsheets/Recruitment-Q-and-A-Factsheet.pdf/jcr:content&quot; has this property &quot;jcr:primaryType=dam:AssetContent&quot;.</p>\n</li>\n<li><p>If I edit the metadata (example title), the parent path for the attributes/properties is located in &quot;/content/dam/files/careers/factsheets/Recruitment-Q-and-A-Factsheet.pdf/jcr:content/metadata&quot;</p>\n</li>\n<li><p>I put a breakpoint in this line &quot;session = commonService.getSession();&quot; and execution stops here when my AEM instance is starting (either starting it up for the first time or restarting the instance). I didn't encounter any errors/exceptions inside &quot;activate&quot; function.</p>\n</li>\n<li><p>To test my breakpoint inside the &quot;onEvent&quot; function, I changed the metadata of the PDF. I also tried publishing it. I also manually created 2 new nodes of types &quot;nt:unstructed&quot; and &quot;nt:folder&quot; inside &quot;/content/dam/files/careers&quot; folder (via CRX/DE). None of these actions triggered my breakpoint.</p>\n</li>\n<li><p>I tried debugging both my local author and publisher.</p>\n</li>\n<li><p>My code is below</p>\n<pre><code>  protected void activate() {\n      try {\n          session = commonService.getSession(); //this is a custom service created by 3rd party\n\n          observationManager = session.getWorkspace().getObservationManager();\n\n          final String[] types = { &quot;dam:Asset&quot;, &quot;dam:AssetContent&quot;, &quot;nt:unstructured&quot;, &quot;nt:folder&quot; };\n\n          final String path = &quot;/content/dam/files&quot;;\n\n          final int events1 = Event.PROPERTY_CHANGED | Event.PROPERTY_ADDED | Event.NODE_ADDED;\n\n          observationManager.addEventListener(this, events1, path, true, null, types, false);\n      } catch(Exception e) {\n          log.error(&quot;bad stuff happened&quot;,e);\n      }\n  }\n\n  @Override\n  public void onEvent(EventIterator eventIterator) {\n      while (eventIterator.hasNext()){\n          Event event = eventIterator.nextEvent();\n\n          //insert more code here\n      }\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","jsp","struts"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1397545460,"post_id":23076585,"comment_id":35267853,"body_markdown":"If you want it to persist across requests use the session.","body":"If you want it to persist across requests use the session."},{"owner":{"account_id":3948755,"reputation":2180,"user_id":3260147,"accept_rate":50,"display_name":"Niraj Patel"},"score":0,"creation_date":1397545581,"post_id":23076585,"comment_id":35267924,"body_markdown":"You don&#39;t have to use reqDispatcher anywhere in action as you are using struts. It is strut&#39;s responsibility to forward your request on specified jsp","body":"You don&#39;t have to use reqDispatcher anywhere in action as you are using struts. It is strut&#39;s responsibility to forward your request on specified jsp"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1397545762,"post_id":23076585,"comment_id":35268015,"body_markdown":"@user3260147 In the above code, which would succeed, the `reqDispatcher.forward` or the `mapping.findForward` ?","body":"@user3260147 In the above code, which would succeed, the <code>reqDispatcher.forward</code> or the <code>mapping.findForward</code> ?"},{"owner":{"account_id":3920722,"reputation":5994,"user_id":3242978,"accept_rate":100,"display_name":"jmail"},"score":0,"creation_date":1397546789,"post_id":23076585,"comment_id":35268609,"body_markdown":"if you can paste `stcaktrace` here","body":"if you can paste <code>stcaktrace</code> here"}],"answers":[{"comments":[{"owner":{"account_id":1271925,"reputation":12294,"user_id":1227991,"accept_rate":100,"display_name":"L0j1k"},"score":0,"creation_date":1397553347,"post_id":23078900,"comment_id":35272239,"body_markdown":"can you pleaes provide some source code to help the asker understand what you mean here?","body":"can you pleaes provide some source code to help the asker understand what you mean here?"}],"tags":[],"owner":{"account_id":4136082,"reputation":9,"user_id":3392727,"display_name":"Gopesh Banker"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1397555737,"creation_date":1397552133,"answer_id":23078900,"question_id":23076585,"body_markdown":"declare string outside execute method and keep its getter setters. Then initialize it to your value in execute method. now use property tag &lt;s:property value=&quot;s&quot;/&gt; in jsp to get its value\r\n\r\n\r\n    public class Test extends ActionSupport\r\n    {\r\n    \tString s;\r\n    \r\n    \tpublic String getS() {\r\n    \t\treturn s;\r\n    \t}\r\n    \r\n    \tpublic void setS(String s) {\r\n    \t\tthis.s = s;\r\n    \t}\r\n    \t\r\n    \tpublic String execute()\r\n    \t{\r\n    \t\ts=&quot;MyName&quot;;\r\n    \t\treturn SUCCESS;\r\n    \t}\r\n    \r\n    }\r\n\r\nand my jsp page contains`&lt;s:property value=&quot;s&quot;/&gt;`\r\n","title":"Passing value from java file to jsp file using struts","body":"<p>declare string outside execute method and keep its getter setters. Then initialize it to your value in execute method. now use property tag  in jsp to get its value</p>\n\n<pre><code>public class Test extends ActionSupport\n{\n    String s;\n\n    public String getS() {\n        return s;\n    }\n\n    public void setS(String s) {\n        this.s = s;\n    }\n\n    public String execute()\n    {\n        s=\"MyName\";\n        return SUCCESS;\n    }\n\n}\n</code></pre>\n\n<p>and my jsp page contains<code>&lt;s:property value=\"s\"/&gt;</code></p>\n"}],"owner":{"account_id":4241735,"reputation":25,"user_id":3471407,"accept_rate":50,"display_name":"Karthikeyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7909,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687240870,"creation_date":1397545014,"question_id":23076585,"body_markdown":"I am trying to implement a basic struts application where I am trying to pass a string value from a java file to jsp. But I am getting a null value in the jsp page. I have been working on this for 2-3 days yet I have not been able to figure out the issue. Please help me out\r\n\r\nweb.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n\r\n    &lt;!DOCTYPE web-app    PUBLIC\r\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot;&gt;\r\n    \r\n    &lt;web-app&gt;\r\n    \r\n        &lt;display-name&gt;Hello World Struts Application&lt;/display-name&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;config&lt;/param-name&gt;\r\n                &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;debug&lt;/param-name&gt;\r\n                &lt;param-value&gt;3&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                 &lt;param-name&gt;detail&lt;/param-name&gt;\r\n                 &lt;param-value&gt;3&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;view.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\nstruts-config.xml\r\n\r\n    &lt;!DOCTYPE struts-config PUBLIC &quot;-//Apache Software Foundation//DTD Struts Configuration 1.1//EN&quot; &quot;http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd&quot;&gt;\r\n    &lt;struts-config&gt;\r\n        &lt;action-mappings&gt;\r\n    \t\t&lt;action path=&quot;/view&quot; type=&quot;myAction&quot; validate=&quot;false&quot;&gt;\r\n    \t\t\t\t&lt;forward name=&quot;success&quot; path=&quot;/first&quot; /&gt;\r\n    \t\t&lt;/action&gt;\r\n    \t\t&lt;action path=&quot;/view&quot;\r\n                    forward=&quot;/view.jsp&quot;/&gt;\r\n            &lt;action path=&quot;/first&quot; type=&quot;myAction&quot; validate=&quot;false&quot;&gt;\r\n                &lt;forward name=&quot;success&quot; path=&quot;/first.jsp&quot; /&gt;\r\n    \t\t&lt;/action&gt;\r\n        &lt;/action-mappings&gt;\r\n    &lt;/struts-config&gt;\r\n\r\nview.jsp\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    \t&lt;/head&gt;\r\n    \t\r\n    \t&lt;body&gt;\r\n    \t\t&lt;form action=&quot;first.do&quot;&gt;\r\n    \t\t\tEnter name :\r\n    \t\t\t&lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;\r\n    \t\t\t&lt;input type=&quot;submit&quot; value=&quot;Enter&quot;/&gt;\r\n    \t\t&lt;/form&gt;\r\n    \t\t\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nfirst.jsp\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    \t&lt;/head&gt;\r\n    \t\r\n    \t&lt;body&gt;\r\n    \t\tWelcome!!!!!!!!\r\n    \t\t\r\n    \t\t&lt;%\r\n    \t\t\tString s=(String)request.getAttribute(&quot;s&quot;);\r\n    \t\t\tout.println(&quot;s=&quot;+s);\r\n    \t\t%&gt;\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nmyAction.java\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.apache.struts.action.Action;\r\n    import org.apache.struts.action.ActionForm;\r\n    import org.apache.struts.action.ActionForward;\r\n    import org.apache.struts.action.ActionMapping;\r\n    \r\n    public class myAction extends Action {\r\n     \tpublic ActionForward execute(ActionMapping mapping, ActionForm form,\r\n    \tHttpServletRequest request, HttpServletResponse response)\r\n    \tthrows IOException, ServletException {\r\n    \t\r\n    \t\tString s=&quot;Karthikeyan&quot;;\r\n    \t\t\r\n    \t\trequest.setAttribute(&quot;s&quot;,s);\r\n    \t\t\r\n    \t\tRequestDispatcher reqDispatcher = getRequestDispatcher(&quot;view.jsp&quot;);\r\n    \t\treqDispatcher.forward(request,response);\r\n    \t\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\treturn (mapping.findForward(&quot;success&quot;));\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nHow to check whether value is getting passed from the java file to the jsp? Thank you in advance for the help.\r\n        \t\r\n\r\n\t\r\n\r\n\r\n","title":"Passing value from java file to jsp file using struts","body":"<p>I am trying to implement a basic struts application where I am trying to pass a string value from a java file to jsp. But I am getting a null value in the jsp page. I have been working on this for 2-3 days yet I have not been able to figure out the issue. Please help me out</p>\n\n<p>web.xml\n    </p>\n\n<pre><code>&lt;!DOCTYPE web-app    PUBLIC\n    \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n    \"http://java.sun.com/dtd/web-app_2_3.dtd\"&gt;\n\n&lt;web-app&gt;\n\n    &lt;display-name&gt;Hello World Struts Application&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;config&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;debug&lt;/param-name&gt;\n            &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n             &lt;param-name&gt;detail&lt;/param-name&gt;\n             &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;view.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>struts-config.xml</p>\n\n<pre><code>&lt;!DOCTYPE struts-config PUBLIC \"-//Apache Software Foundation//DTD Struts Configuration 1.1//EN\" \"http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd\"&gt;\n&lt;struts-config&gt;\n    &lt;action-mappings&gt;\n        &lt;action path=\"/view\" type=\"myAction\" validate=\"false\"&gt;\n                &lt;forward name=\"success\" path=\"/first\" /&gt;\n        &lt;/action&gt;\n        &lt;action path=\"/view\"\n                forward=\"/view.jsp\"/&gt;\n        &lt;action path=\"/first\" type=\"myAction\" validate=\"false\"&gt;\n            &lt;forward name=\"success\" path=\"/first.jsp\" /&gt;\n        &lt;/action&gt;\n    &lt;/action-mappings&gt;\n&lt;/struts-config&gt;\n</code></pre>\n\n<p>view.jsp</p>\n\n<pre><code>&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;form action=\"first.do\"&gt;\n            Enter name :\n            &lt;input type=\"text\" name=\"name\"/&gt;\n            &lt;input type=\"submit\" value=\"Enter\"/&gt;\n        &lt;/form&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>first.jsp</p>\n\n<pre><code>&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        Welcome!!!!!!!!\n\n        &lt;%\n            String s=(String)request.getAttribute(\"s\");\n            out.println(\"s=\"+s);\n        %&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>myAction.java</p>\n\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.apache.struts.action.Action;\nimport org.apache.struts.action.ActionForm;\nimport org.apache.struts.action.ActionForward;\nimport org.apache.struts.action.ActionMapping;\n\npublic class myAction extends Action {\n    public ActionForward execute(ActionMapping mapping, ActionForm form,\n    HttpServletRequest request, HttpServletResponse response)\n    throws IOException, ServletException {\n\n        String s=\"Karthikeyan\";\n\n        request.setAttribute(\"s\",s);\n\n        RequestDispatcher reqDispatcher = getRequestDispatcher(\"view.jsp\");\n        reqDispatcher.forward(request,response);\n\n\n\n\n        return (mapping.findForward(\"success\"));\n    }\n}\n</code></pre>\n\n<p>How to check whether value is getting passed from the java file to the jsp? Thank you in advance for the help.</p>\n"},{"tags":["java","selenium","webdriver","keydown","typeahead"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1344888351,"post_id":11941390,"comment_id":15907558,"body_markdown":"Probably has something to do with the JavaScript that is populating/creating the drop-down not being triggered by your input (and therefore there not being anything to arrow down *to*.) May want to look at [this question](http://stackoverflow.com/questions/9202061/test-autocomplete-with-selenium-webdriver) as well.","body":"Probably has something to do with the JavaScript that is populating/creating the drop-down not being triggered by your input (and therefore there not being anything to arrow down <i>to</i>.) May want to look at <a href=\"http://stackoverflow.com/questions/9202061/test-autocomplete-with-selenium-webdriver\">this question</a> as well."},{"owner":{"account_id":329893,"reputation":839,"user_id":653686,"accept_rate":79,"display_name":"StanM"},"score":0,"creation_date":1344888825,"post_id":11941390,"comment_id":15907734,"body_markdown":"thanks! That at least made it work, will have to keep in mind next time. Do you have any idea on how to avoid it in the first place from a programmer perspective?","body":"thanks! That at least made it work, will have to keep in mind next time. Do you have any idea on how to avoid it in the first place from a programmer perspective?"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1344889231,"post_id":11941390,"comment_id":15907882,"body_markdown":"In general, if there is some sort of JavaScript functionality in whatever you&#39;re testing, you want to confirm that your testing logic actually *triggers* the JavaScript in the first place. Validation, callbacks, auto-completes, and forms are usually places where this sort of thing might occur, so it&#39;s usually a good idea to take a look at the JS and see how it gets triggered and formulate your test accordingly.","body":"In general, if there is some sort of JavaScript functionality in whatever you&#39;re testing, you want to confirm that your testing logic actually <i>triggers</i> the JavaScript in the first place. Validation, callbacks, auto-completes, and forms are usually places where this sort of thing might occur, so it&#39;s usually a good idea to take a look at the JS and see how it gets triggered and formulate your test accordingly."}],"answers":[{"tags":[],"owner":{"account_id":2821942,"reputation":2370,"user_id":2425513,"accept_rate":76,"display_name":"Chetan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471418240,"creation_date":1471418240,"answer_id":38990359,"question_id":11941390,"body_markdown":"some time scripts takes some time to load the list so need to add wait,\r\n\r\n    WebElement ar=driver.findElement(By.id(&quot;id_attendees&quot;));\r\n\tThread.sleep(1000);\r\n\tar.sendKeys(Keys.ARROW_DOWN);","title":"Getting Java Webdriver &#39;Down Arrow&#39; action to work","body":"<p>some time scripts takes some time to load the list so need to add wait,</p>\n\n<pre><code>WebElement ar=driver.findElement(By.id(\"id_attendees\"));\nThread.sleep(1000);\nar.sendKeys(Keys.ARROW_DOWN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7062573,"reputation":1145,"user_id":5407189,"display_name":"Jeremiah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487448695,"creation_date":1487448695,"answer_id":42320160,"question_id":11941390,"body_markdown":"I think your use of **Actions** is not quite right.  \r\n\r\nThe implementation is a builder pattern.  Calling *sendKeys* doesn&#39;t send the event, it only stages the event to be fired when you call *perform*.  Note that the return value of *sendKeys* is an **Actions** instance.\r\n\r\n    Actions actionObject = new Actions(driver);\r\n    actionObject = actionObject.sendKeys(Keys.ARROW_DOWN); //ASSIGN the return or you lose this event.\r\n    actionObject.perform();  //Should do what you want.  Note that this will reset the builder.\r\n\r\nHope that helps.","title":"Getting Java Webdriver &#39;Down Arrow&#39; action to work","body":"<p>I think your use of <strong>Actions</strong> is not quite right.  </p>\n\n<p>The implementation is a builder pattern.  Calling <em>sendKeys</em> doesn't send the event, it only stages the event to be fired when you call <em>perform</em>.  Note that the return value of <em>sendKeys</em> is an <strong>Actions</strong> instance.</p>\n\n<pre><code>Actions actionObject = new Actions(driver);\nactionObject = actionObject.sendKeys(Keys.ARROW_DOWN); //ASSIGN the return or you lose this event.\nactionObject.perform();  //Should do what you want.  Note that this will reset the builder.\n</code></pre>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":21708004,"reputation":16,"user_id":16020105,"display_name":"SereneSorrows"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1621887037,"creation_date":1621887037,"answer_id":67678392,"question_id":11941390,"body_markdown":"With Actions class, after defining what it will do for you, you need to first build() it. So in your case it would be like this:\r\n\r\n    Actions actionObject = new Actions(driver);\r\n    actionObject.sendKeys(Keys.ARROW_DOWN).build();\r\n\r\nWhen you want your script to execute that action, you need to perform() it. You can chain it right after your build() method (if you are using it just once, for example) or later in your code whenever you need it, like this:\r\n\r\n    actionObject.sendKeys(Keys.ARROW_DOWN).build().perform();\r\n\r\nOR\r\n\r\n    actionObject.perform();\r\n\r\nGood luck!\r\n\r\n","title":"Getting Java Webdriver &#39;Down Arrow&#39; action to work","body":"<p>With Actions class, after defining what it will do for you, you need to first build() it. So in your case it would be like this:</p>\n<pre><code>Actions actionObject = new Actions(driver);\nactionObject.sendKeys(Keys.ARROW_DOWN).build();\n</code></pre>\n<p>When you want your script to execute that action, you need to perform() it. You can chain it right after your build() method (if you are using it just once, for example) or later in your code whenever you need it, like this:</p>\n<pre><code>actionObject.sendKeys(Keys.ARROW_DOWN).build().perform();\n</code></pre>\n<p>OR</p>\n<pre><code>actionObject.perform();\n</code></pre>\n<p>Good luck!</p>\n"}],"owner":{"account_id":329893,"reputation":839,"user_id":653686,"accept_rate":79,"display_name":"StanM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67678392,"answer_count":3,"score":0,"last_activity_date":1687240870,"creation_date":1344887978,"question_id":11941390,"body_markdown":"So I have been trying to resolve this for several hours. I have no clue what I am doing wrong.\r\n\r\nThis is a type ahead field I am looking in is `&lt;input type=&quot;text&quot; id=&quot;id_attendees&quot; name=&quot;attendees&quot;&gt;`. When I type in there a js dropdown is created. When I press the Down Arrow on keyboard it works fine and selects the top choice. When I do `keyDown --- id=id_attendees --- \\40` in IDE it works fine and also selects the choice.\r\n\r\nI cannot get it to do the same in Java webdriver though\r\n\r\n    Actions actionObject = new Actions(driver);\r\n    actionObject.sendKeys(Keys.ARROW_DOWN);\r\n^doesn&#39;t work.\r\n\r\n    driver.findElement(By.id(&quot;id_attendees&quot;)).sendKeys(Keys.ARROW_DOWN);\r\n^doesn&#39;t work\r\n\r\nI tried Keys.DOWN in both cases, that doesn&#39;t work either. I created a literal `String altm = &quot;\\u0040&quot;;` and all that does is type an `@` symbol.\r\n\r\nI also tried a bunch of other things as well and nothing is working. I have no clue what am I missing.\r\n\r\n\r\n**EDIT 1:**\r\n\r\n@Roddy Thank you! - Given that link I added the following that did work (after importing DefaultSelenium and WebDriverBackedSelenium. \r\n\r\n    DefaultSelenium sel = new WebDriverBackedSelenium(driver,vars.siteurl);\r\n    sel.fireEvent(&quot;//input[@id=&#39;id_attendees&#39;]&quot;, &quot;keydown&quot;);\r\n\r\n**EDIT 2:**\r\n--&gt; DOH that doesn&#39;t work. I got overzealous apparently. ","title":"Getting Java Webdriver &#39;Down Arrow&#39; action to work","body":"<p>So I have been trying to resolve this for several hours. I have no clue what I am doing wrong.</p>\n\n<p>This is a type ahead field I am looking in is <code>&lt;input type=\"text\" id=\"id_attendees\" name=\"attendees\"&gt;</code>. When I type in there a js dropdown is created. When I press the Down Arrow on keyboard it works fine and selects the top choice. When I do <code>keyDown --- id=id_attendees --- \\40</code> in IDE it works fine and also selects the choice.</p>\n\n<p>I cannot get it to do the same in Java webdriver though</p>\n\n<pre><code>Actions actionObject = new Actions(driver);\nactionObject.sendKeys(Keys.ARROW_DOWN);\n</code></pre>\n\n<p>^doesn't work.</p>\n\n<pre><code>driver.findElement(By.id(\"id_attendees\")).sendKeys(Keys.ARROW_DOWN);\n</code></pre>\n\n<p>^doesn't work</p>\n\n<p>I tried Keys.DOWN in both cases, that doesn't work either. I created a literal <code>String altm = \"\\u0040\";</code> and all that does is type an <code>@</code> symbol.</p>\n\n<p>I also tried a bunch of other things as well and nothing is working. I have no clue what am I missing.</p>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>@Roddy Thank you! - Given that link I added the following that did work (after importing DefaultSelenium and WebDriverBackedSelenium. </p>\n\n<pre><code>DefaultSelenium sel = new WebDriverBackedSelenium(driver,vars.siteurl);\nsel.fireEvent(\"//input[@id='id_attendees']\", \"keydown\");\n</code></pre>\n\n<p><strong>EDIT 2:</strong>\n--> DOH that doesn't work. I got overzealous apparently. </p>\n"},{"tags":["java","maven","classpath"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1561578233,"post_id":56779816,"comment_id":100115071,"body_markdown":"In Maven, resources go under `src/main/resources`. Otherwise they&#39;re not copied to the output directory or embedded into the JAR file and thus don&#39;t end up on the classpath at runtime.","body":"In Maven, resources go under <code>src&#47;main&#47;resources</code>. Otherwise they&#39;re not copied to the output directory or embedded into the JAR file and thus don&#39;t end up on the classpath at runtime."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1561579724,"post_id":56779816,"comment_id":100115362,"body_markdown":"@Slaw I started that way. I didn&#39;t find a way to right the code that would be both able to access that folder before and after packaging.","body":"@Slaw I started that way. I didn&#39;t find a way to right the code that would be both able to access that folder before and after packaging."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1561579836,"post_id":56779816,"comment_id":100115411,"body_markdown":"If it&#39;s directly under `src/main/resources` then `getResource(&quot;/resource.txt&quot;)` should work.","body":"If it&#39;s directly under <code>src&#47;main&#47;resources</code> then <code>getResource(&quot;&#47;resource.txt&quot;)</code> should work."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1561580033,"post_id":56779816,"comment_id":100115479,"body_markdown":"@Slaw what is the full code? `Main.class.getResource(&quot;/resource.txt&quot;)`?","body":"@Slaw what is the full code? <code>Main.class.getResource(&quot;&#47;resource.txt&quot;)</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1561580193,"post_id":56779816,"comment_id":100115535,"body_markdown":"That should work. Note the leading `/` makes it an absolute path, whereas no leading `/` would make it relative to the location of the `Class` you call `getResource` on. And remember, resources are searched for on the _classpath_.","body":"That should work. Note the leading <code>&#47;</code> makes it an absolute path, whereas no leading <code>&#47;</code> would make it relative to the location of the <code>Class</code> you call <code>getResource</code> on. And remember, resources are searched for on the <i>classpath</i>."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1561580610,"post_id":56779816,"comment_id":100115708,"body_markdown":"@Slaw no, it looks inside `ProjectRoot/target/classes`","body":"@Slaw no, it looks inside <code>ProjectRoot&#47;target&#47;classes</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1561580692,"post_id":56779816,"comment_id":100115753,"body_markdown":"Yes, because when Maven executes the code against `target/classes` that&#39;s the root of the classpath. Once you package the application in a JAR file and execute against said JAR file, it will look in the JAR file for the resource. That&#39;s why this API uses the classpath... it&#39;s a code-location-independent way to retrieve resources.","body":"Yes, because when Maven executes the code against <code>target&#47;classes</code> that&#39;s the root of the classpath. Once you package the application in a JAR file and execute against said JAR file, it will look in the JAR file for the resource. That&#39;s why this API uses the classpath... it&#39;s a code-location-independent way to retrieve resources."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1561585923,"post_id":56779816,"comment_id":100117644,"body_markdown":"@Slaw how to I get the resource from inside `ProjectRoot` or at least `ProjecRoot/src/main/resources` if it only looks at `ProjectRoot/target/classes`?","body":"@Slaw how to I get the resource from inside <code>ProjectRoot</code> or at least <code>ProjecRoot&#47;src&#47;main&#47;resources</code> if it only looks at <code>ProjectRoot&#47;target&#47;classes</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1561586587,"post_id":56779816,"comment_id":100117825,"body_markdown":"The files in `src/main/resources` are _copied_ into `target/classes` during one of the phases of Maven. When packaging into a JAR, the files in `target/classes` are all added to the JAR.","body":"The files in <code>src&#47;main&#47;resources</code> are <i>copied</i> into <code>target&#47;classes</code> during one of the phases of Maven. When packaging into a JAR, the files in <code>target&#47;classes</code> are all added to the JAR."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1561587756,"post_id":56779816,"comment_id":100118140,"body_markdown":"Your edit doesn&#39;t change anything I&#39;ve been saying.","body":"Your edit doesn&#39;t change anything I&#39;ve been saying."}],"answers":[{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1561579905,"post_id":56779936,"comment_id":100115430,"body_markdown":"`Main.class.getResource(&quot;/resource.txt&quot;)` looks inside `ProjectRoot/target/app.jar!/resource.txt` instead of just `ProjectRoot`.","body":"<code>Main.class.getResource(&quot;&#47;resource.txt&quot;)</code> looks inside <code>ProjectRoot&#47;target&#47;app.jar!&#47;resource.txt</code> instead of just <code>ProjectRoot</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1561580231,"post_id":56779936,"comment_id":100115550,"body_markdown":"@parsecer That&#39;s what should happen if `resource.txt` is actually supposed to be a _resource_.","body":"@parsecer That&#39;s what should happen if <code>resource.txt</code> is actually supposed to be a <i>resource</i>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1561659082,"post_id":56779936,"comment_id":100147712,"body_markdown":"Of course, that _is_ the root. Just like Main.class is copied into that jar, that resource is as much part of your application as that class file is, and it should be inside the jar. And then Main.class.getResource(&quot;/resource.txt&quot;) will find it for you.","body":"Of course, that <i>is</i> the root. Just like Main.class is copied into that jar, that resource is as much part of your application as that class file is, and it should be inside the jar. And then Main.class.getResource(&quot;/resource.txt&quot;) will find it for you."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561577889,"creation_date":1561577889,"answer_id":56779936,"question_id":56779816,"body_markdown":"Use: `Main.class.getResource(&quot;/resource.txt&quot;)`.\r\n\r\nNote that your attempt using any call to `getClassLoader` is strictly worse (it&#39;s more text, and will fail more often, because that class loader can in exotic cases be null (specifically, when you&#39;re part of the bootstrap loader), whereas calling getResource directly on the class always works.\r\n\r\nThe reason your snippet does not work is because when invoking `getResource` on the classloader, you must NOT start the resource with a slash. When invoking on a class directly, you can (if you don&#39;t, it&#39;ll be relative to the package of the class you&#39;re calling it on, if you do, it&#39;ll be relative to the root).\r\n\r\nTL;DR: Of the forms `SomeClass.class.getClassLoader().getResource`, `getClass().getResource` and `MyClass.class.getResource`, only the last one is correct, the rest are strictly inferior and therefore should not be used at all.\r\n","title":"Getting resource file from inside jar","body":"<p>Use: <code>Main.class.getResource(\"/resource.txt\")</code>.</p>\n\n<p>Note that your attempt using any call to <code>getClassLoader</code> is strictly worse (it's more text, and will fail more often, because that class loader can in exotic cases be null (specifically, when you're part of the bootstrap loader), whereas calling getResource directly on the class always works.</p>\n\n<p>The reason your snippet does not work is because when invoking <code>getResource</code> on the classloader, you must NOT start the resource with a slash. When invoking on a class directly, you can (if you don't, it'll be relative to the package of the class you're calling it on, if you do, it'll be relative to the root).</p>\n\n<p>TL;DR: Of the forms <code>SomeClass.class.getClassLoader().getResource</code>, <code>getClass().getResource</code> and <code>MyClass.class.getResource</code>, only the last one is correct, the rest are strictly inferior and therefore should not be used at all.</p>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1562099104,"post_id":56781851,"comment_id":100269147,"body_markdown":"Made it work, thanks. To future readers: eventually I used this code to open files located in `src/main/resources`:` `BufferedReader br = new BufferedReader(new InputStreamReader(Main.class.getResourceAsStream(&quot;/resource.txt&quot;)));`. After `package` Maven command is run, everything inside `src/main/resources` gets copypasted inside `target/classes`. That&#39;s where `Main.java` from IDE takes the file from. At the same time, `package` command creates a jar that takes files from `target/classes` and places those inside its root.","body":"Made it work, thanks. To future readers: eventually I used this code to open files located in <code>src&#47;main&#47;resources</code>:` <code>BufferedReader br = new BufferedReader(new InputStreamReader(Main.class.getResourceAsStream(&quot;&#47;resource.&zwnj;&#8203;txt&quot;)));</code>. After <code>package</code> Maven command is run, everything inside <code>src&#47;main&#47;resources</code> gets copypasted inside <code>target&#47;classes</code>. That&#39;s where <code>Main.java</code> from IDE takes the file from. At the same time, <code>package</code> command creates a jar that takes files from <code>target&#47;classes</code> and places those inside its root."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1561590150,"creation_date":1561589351,"answer_id":56781851,"question_id":56779816,"body_markdown":"Maven uses something called the [Standard Directory Layout][1]. If you don&#39;t follow this layout then the plugins can&#39;t do their job correctly. Technically, you can configure Maven to use different directories but 99.999% of the time this is not necessary.\r\n\r\nOne of the features of this layout is that production files go in:\r\n\r\n* `&lt;project-dir&gt;/src/main/java`\r\n * All `*.java` files\r\n* `&lt;project-dir&gt;/src/main/resources`\r\n * All non-`*.java` files (that are meant to be resources)\r\n\r\nWhen you build your project the Java source files are compiled and the `*.class` files are put into the `target/classes` directory; this is done by the `maven-compiler-plugin`. Meanwhile, the resource files are **copied** from `src/main/resources` into `target/classes` as well; the `maven-resources-plugin` is responsible for this.\r\n\r\n_**Note:** See [Introduction to the Build Lifecycle][3] for more information about phases and which plugins are executed by which phase. This [Stack Overflow question][4] may also be useful._\r\n\r\nWhen you launch your application from the IDE (possibly via the `exec-maven-plugin`) **the `target/classes` directory is put on the classpath.** This means all the compiled classes from `src/main/java` and all the copied resources from `src/main/resources` are available to use via the classpath.\r\n\r\nThen, when you package your application in a JAR file, all the files in `target/classes` are added to the resulting JAR file (handled by the `maven-jar-plugin`). **This includes the resources copied from `src/main/resources`**. When you launch the application using this JAR file the resources are still available to use via the classpath, because they&#39;re embedded in the JAR file.\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\nTo make `resource.txt` available on the classpath, just move:\r\n\r\n    &lt;project-dir&gt;/resource.txt\r\n\r\nTo:\r\n\r\n    &lt;project-dir&gt;/src/main/resources/resource.txt.\r\n\r\nThen you can use `Class#getResource` with `/resource.txt` as the path and everything should work out for you. The `URL` returned by `getResource` will be different depending on if you&#39;re executing against `target/classes` or against the JAR file.\r\n\r\nWhen executing against `target/classes` you&#39;ll get something like:\r\n\r\n    file:///.../&lt;project-dir&gt;/target/classes/resource.txt\r\n\r\nWhen executing against the JAR file you&#39;ll get something like:\r\n\r\n    jar:file:///.../&lt;project-dir&gt;/target/projectname-version.jar!/resource.txt\r\n\r\n_**Note:** This all assumes `resource.txt` is actually supposed to be a resource and not an external file. Resources are typically read-only once deployed in a JAR file; if you need a writable file then it&#39;s up to you to use a designated location for the file (e.g. a folder in the user&#39;s home directory). One typically accesses external files via either `java.io.File` or `java.nio.file.*`. Remember, resources are not the same thing as normal files._\r\n\r\nNow, if you were to put `resource.txt` directly under `&lt;project-dir&gt;` that would **mean nothing to Maven**. It would not be copied to `target/classes` or end up in the JAR file which means the resource is never available on the classpath. So just to reiterate, **all resources go under `src/main/resources`**.\r\n\r\n---\r\n\r\nCheck out the Javadoc of [`java.lang.Class#getResource(String)`][2] for more information about the path, such as when to use a leading `/` and when not to. The link points to the Javadoc for Java 12 which includes information about resources and modules (JPMS/Jigsaw modules, not Maven modules); if you aren&#39;t using modules you can ignore that part of the documentation.\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)\r\n  [3]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\r\n  [4]: https://stackoverflow.com/questions/16205778/what-are-maven-goals-and-phases-and-what-is-their-difference","title":"Getting resource file from inside jar","body":"<p>Maven uses something called the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Standard Directory Layout</a>. If you don't follow this layout then the plugins can't do their job correctly. Technically, you can configure Maven to use different directories but 99.999% of the time this is not necessary.</p>\n\n<p>One of the features of this layout is that production files go in:</p>\n\n<ul>\n<li><code>&lt;project-dir&gt;/src/main/java</code>\n\n<ul>\n<li>All <code>*.java</code> files</li>\n</ul></li>\n<li><code>&lt;project-dir&gt;/src/main/resources</code>\n\n<ul>\n<li>All non-<code>*.java</code> files (that are meant to be resources)</li>\n</ul></li>\n</ul>\n\n<p>When you build your project the Java source files are compiled and the <code>*.class</code> files are put into the <code>target/classes</code> directory; this is done by the <code>maven-compiler-plugin</code>. Meanwhile, the resource files are <strong>copied</strong> from <code>src/main/resources</code> into <code>target/classes</code> as well; the <code>maven-resources-plugin</code> is responsible for this.</p>\n\n<p><em><strong>Note:</strong> See <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">Introduction to the Build Lifecycle</a> for more information about phases and which plugins are executed by which phase. This <a href=\"https://stackoverflow.com/questions/16205778/what-are-maven-goals-and-phases-and-what-is-their-difference\">Stack Overflow question</a> may also be useful.</em></p>\n\n<p>When you launch your application from the IDE (possibly via the <code>exec-maven-plugin</code>) <strong>the <code>target/classes</code> directory is put on the classpath.</strong> This means all the compiled classes from <code>src/main/java</code> and all the copied resources from <code>src/main/resources</code> are available to use via the classpath.</p>\n\n<p>Then, when you package your application in a JAR file, all the files in <code>target/classes</code> are added to the resulting JAR file (handled by the <code>maven-jar-plugin</code>). <strong>This includes the resources copied from <code>src/main/resources</code></strong>. When you launch the application using this JAR file the resources are still available to use via the classpath, because they're embedded in the JAR file.</p>\n\n\n\n<p>To make <code>resource.txt</code> available on the classpath, just move:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;project-dir&gt;/resource.txt\n</code></pre>\n\n<p>To:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;project-dir&gt;/src/main/resources/resource.txt.\n</code></pre>\n\n<p>Then you can use <code>Class#getResource</code> with <code>/resource.txt</code> as the path and everything should work out for you. The <code>URL</code> returned by <code>getResource</code> will be different depending on if you're executing against <code>target/classes</code> or against the JAR file.</p>\n\n<p>When executing against <code>target/classes</code> you'll get something like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>file:///.../&lt;project-dir&gt;/target/classes/resource.txt\n</code></pre>\n\n<p>When executing against the JAR file you'll get something like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jar:file:///.../&lt;project-dir&gt;/target/projectname-version.jar!/resource.txt\n</code></pre>\n\n<p><em><strong>Note:</strong> This all assumes <code>resource.txt</code> is actually supposed to be a resource and not an external file. Resources are typically read-only once deployed in a JAR file; if you need a writable file then it's up to you to use a designated location for the file (e.g. a folder in the user's home directory). One typically accesses external files via either <code>java.io.File</code> or <code>java.nio.file.*</code>. Remember, resources are not the same thing as normal files.</em></p>\n\n<p>Now, if you were to put <code>resource.txt</code> directly under <code>&lt;project-dir&gt;</code> that would <strong>mean nothing to Maven</strong>. It would not be copied to <code>target/classes</code> or end up in the JAR file which means the resource is never available on the classpath. So just to reiterate, <strong>all resources go under <code>src/main/resources</code></strong>.</p>\n\n<hr>\n\n<p>Check out the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\"><code>java.lang.Class#getResource(String)</code></a> for more information about the path, such as when to use a leading <code>/</code> and when not to. The link points to the Javadoc for Java 12 which includes information about resources and modules (JPMS/Jigsaw modules, not Maven modules); if you aren't using modules you can ignore that part of the documentation.</p>\n"},{"tags":[],"owner":{"account_id":13456102,"reputation":63,"user_id":9709644,"display_name":"Rafsan Jany"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687240539,"creation_date":1687240022,"answer_id":76511699,"question_id":56779816,"body_markdown":"You can use this solution for both before and after jar creation. You also need to add &quot;commons-io&quot; as dependency.\r\n\r\n    InputStream inputStream = null;\r\n        File targetFile;\r\n        try {\r\n            ClassPathResource classPathResource = new ClassPathResource(&quot;jasper/history.jrxml&quot;);\r\n            inputStream = classPathResource.getInputStream();\r\n            targetFile = File.createTempFile(&quot;test&quot;, &quot;.txt&quot;);\r\n            FileUtils.copyInputStreamToFile(inputStream, targetFile);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Exception occurred. Exception: {}&quot;, e);\r\n        } finally {\r\n            IOUtils.closeQuietly(inputStream);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting resource file from inside jar","body":"<p>You can use this solution for both before and after jar creation. You also need to add &quot;commons-io&quot; as dependency.</p>\n<pre><code>InputStream inputStream = null;\n    File targetFile;\n    try {\n        ClassPathResource classPathResource = new ClassPathResource(&quot;jasper/history.jrxml&quot;);\n        inputStream = classPathResource.getInputStream();\n        targetFile = File.createTempFile(&quot;test&quot;, &quot;.txt&quot;);\n        FileUtils.copyInputStreamToFile(inputStream, targetFile);\n    } catch (Exception e) {\n        logger.error(&quot;Exception occurred. Exception: {}&quot;, e);\n    } finally {\n        IOUtils.closeQuietly(inputStream);\n    }\n</code></pre>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2835,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56781851,"answer_count":3,"score":2,"last_activity_date":1687240539,"creation_date":1561577300,"question_id":56779816,"body_markdown":"I need to get a resource from inside the root of the application when its packed into jar. My project is like this:\r\n\r\n    ProjectRoot\r\n      resource.txt //want to access from here\r\n      src\r\n        main\r\n           java\r\n             package1\r\n               package2\r\n                  package3\r\n                     Main.java\r\n      target\r\n        app.jar\r\n        classes\r\n             resource.txt //works when here\r\n             package1\r\n               package2\r\n                  package3\r\n                     Main.class\r\n\r\nI use this code:\r\n     \r\n    Path path = Paths.get(&quot;resource.txt&quot;);\r\n\r\nWhen run before packaging into a jar, it finds the file just fine (inside ProjectRoot). When running the jar, it can&#39;t find it, and transforms this path to `target/resource.txt`.\r\n\r\nThis code:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(new Main().getClass().getClassLoader().getResourceAsStream(\r\n                    &quot;resource.txt&quot;)));\r\n\r\n  \r\nwhen run before packaging looks for the resource inside `target/classes`. After packaging it claims to taking the resource from `.../target/app.jar!/resource.txt`.\r\n\r\nThis code:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(new Main().getClass().getClassLoader().getResourceAsStream(\r\n                        &quot;/resource.txt&quot;)));\r\n\r\nI can&#39;t understand where&#39;s looking for the resource, but it doesn&#39;t seem to be `ProjectRoot`.\r\n\r\nAll I want to do is to place the resource inside `ProjectRoot` and be able to access it from both outside jar (when running the class files from IDE) and inside (after having packaged the files into a jar file using Maven).\r\n\r\n**EDIT**: I NEED THE CODE TO WORK BOTH FOR PRE- AND POST- packaging. MEANING: If I run a Main.java FROM INSIDE IDE IT WOULD GET THE RESOURCE; IF I PACKAGE EVERYTHING INTO JAR AND RUN JAR IT WOULD GET THE RESOURCE - ALL WITH THE SAME CODE.","title":"Getting resource file from inside jar","body":"<p>I need to get a resource from inside the root of the application when its packed into jar. My project is like this:</p>\n\n<pre><code>ProjectRoot\n  resource.txt //want to access from here\n  src\n    main\n       java\n         package1\n           package2\n              package3\n                 Main.java\n  target\n    app.jar\n    classes\n         resource.txt //works when here\n         package1\n           package2\n              package3\n                 Main.class\n</code></pre>\n\n<p>I use this code:</p>\n\n<pre><code>Path path = Paths.get(\"resource.txt\");\n</code></pre>\n\n<p>When run before packaging into a jar, it finds the file just fine (inside ProjectRoot). When running the jar, it can't find it, and transforms this path to <code>target/resource.txt</code>.</p>\n\n<p>This code:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(new Main().getClass().getClassLoader().getResourceAsStream(\n                \"resource.txt\")));\n</code></pre>\n\n<p>when run before packaging looks for the resource inside <code>target/classes</code>. After packaging it claims to taking the resource from <code>.../target/app.jar!/resource.txt</code>.</p>\n\n<p>This code:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(new Main().getClass().getClassLoader().getResourceAsStream(\n                    \"/resource.txt\")));\n</code></pre>\n\n<p>I can't understand where's looking for the resource, but it doesn't seem to be <code>ProjectRoot</code>.</p>\n\n<p>All I want to do is to place the resource inside <code>ProjectRoot</code> and be able to access it from both outside jar (when running the class files from IDE) and inside (after having packaged the files into a jar file using Maven).</p>\n\n<p><strong>EDIT</strong>: I NEED THE CODE TO WORK BOTH FOR PRE- AND POST- packaging. MEANING: If I run a Main.java FROM INSIDE IDE IT WOULD GET THE RESOURCE; IF I PACKAGE EVERYTHING INTO JAR AND RUN JAR IT WOULD GET THE RESOURCE - ALL WITH THE SAME CODE.</p>\n"},{"tags":["java","spring-boot","jakarta-ee","centos","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1687275484,"post_id":76508013,"comment_id":134912412,"body_markdown":"Are you including the servlet API in your deployment?","body":"Are you including the servlet API in your deployment?"}],"owner":{"account_id":2550873,"reputation":794,"user_id":2214646,"accept_rate":66,"display_name":"Pamba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687240292,"creation_date":1687188130,"question_id":76508013,"body_markdown":"I am using \r\n\r\n    SpringBoot 3.1.0\r\n    Java 17\r\n    Wildfly 28.0.1\r\n    CentOS 9\r\n\r\nI can able to build the portal without any error in eclipse\r\n[![enter image description here][1]][1]\r\n\r\nI have successfully deployed my SpringBoot application to wildfly. \r\n[![enter image description here][2]][2]\r\n\r\nBut when I access the url,\r\ne.g. http://localhost:8080/myportal\r\n\r\nIt is showing an error page \r\n[![enter image description here][3]][3]\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myportal&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;myportal&lt;/name&gt;\r\n    \t&lt;description&gt;Our Backoffice&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    \t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    \t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.hazendaz&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;htmlcompressor&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.yahoo.platform.yui&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;yuicompressor&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.8&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;js&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;rhino&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JavaScript optimizing compiler --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.javascript&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;closure-compiler&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;v20221102&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n&gt; Error processing request Context Path:/myportal Servlet Path:/error\r\n&gt; Path Info:null Query String:null Stack Trace:\r\n&gt; jakarta.servlet.ServletException: Request processing failed:\r\n&gt; java.lang.ClassCastException: class jakarta.servlet.http.MappingMatch\r\n&gt; cannot be cast to class jakarta.servlet.http.HttpServletMapping\r\n&gt; (jakarta.servlet.http.MappingMatch and\r\n&gt; jakarta.servlet.http.HttpServletMapping are in unnamed module of\r\n&gt; loader &#39;jakarta.servlet.api@6.0.0&#39; @2d839aa7) \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n&gt; \tat\r\n&gt; jakarta.servlet.api@6.0.0//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n&gt; \tat\r\n&gt; jakarta.servlet.api@6.0.0//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73) \tat\r\n&gt; org.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:258)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:183)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.RequestDispatcherImpl.forwardImpl(RequestDispatcherImpl.java:188)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.RequestDispatcherImpl.forwardImplSetup(RequestDispatcherImpl.java:136)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:99)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.forwardToErrorPage(ErrorPageFilter.java:189)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.handleException(ErrorPageFilter.java:174)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:141)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:99)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73) \tat\r\n&gt; org.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n&gt; \tat\r\n&gt; org.wildfly.security.elytron-web.undertow-server-servlet@3.0.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:276)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:132)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n&gt; \tat\r\n&gt; org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\r\n&gt; \tat\r\n&gt; org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\r\n&gt; \tat\r\n&gt; org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\r\n&gt; \tat\r\n&gt; org.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:256)\r\n&gt; \tat\r\n&gt; io.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:101)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:393)\r\n&gt; \tat\r\n&gt; io.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n&gt; \tat\r\n&gt; org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n&gt; \tat\r\n&gt; org.jboss.xnio@3.8.9.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\r\n&gt; java.lang.ClassCastException: class jakarta.servlet.http.MappingMatch\r\n&gt; cannot be cast to class jakarta.servlet.http.HttpServletMapping\r\n&gt; (jakarta.servlet.http.MappingMatch and\r\n&gt; jakarta.servlet.http.HttpServletMapping are in unnamed module of\r\n&gt; loader &#39;jakarta.servlet.api@6.0.0&#39; @2d839aa7) \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.util.ServletRequestPathUtils$ServletRequestPath.getServletPathPrefix(ServletRequestPathUtils.java:258)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.util.ServletRequestPathUtils$ServletRequestPath.parse(ServletRequestPathUtils.java:250)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.util.ServletRequestPathUtils.parseAndCache(ServletRequestPathUtils.java:66)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:970)\r\n&gt; \tat\r\n&gt; deployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n&gt; \t... 87 more\r\n\r\n**I had spent more time on this error. But no way...\r\nAnyone know how to solve this issue?**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DBRQO.png\r\n  [2]: https://i.stack.imgur.com/oN7QC.png\r\n  [3]: https://i.stack.imgur.com/oWRaN.png","title":"Cannot be cast to class jakarta.servlet.http.HttpServletMapping","body":"<p>I am using</p>\n<pre><code>SpringBoot 3.1.0\nJava 17\nWildfly 28.0.1\nCentOS 9\n</code></pre>\n<p>I can able to build the portal without any error in eclipse\n<a href=\"https://i.stack.imgur.com/DBRQO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DBRQO.png\" alt=\"enter image description here\" /></a></p>\n<p>I have successfully deployed my SpringBoot application to wildfly.\n<a href=\"https://i.stack.imgur.com/oN7QC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oN7QC.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I access the url,\ne.g. http://localhost:8080/myportal</p>\n<p>It is showing an error page\n<a href=\"https://i.stack.imgur.com/oWRaN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oWRaN.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;myportal&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myportal&lt;/name&gt;\n    &lt;description&gt;Our Backoffice&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;layout&gt;default&lt;/layout&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.hazendaz&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlcompressor&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.yahoo.platform.yui&lt;/groupId&gt;\n            &lt;artifactId&gt;yuicompressor&lt;/artifactId&gt;\n            &lt;version&gt;2.4.8&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;js&lt;/artifactId&gt;\n                    &lt;groupId&gt;rhino&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JavaScript optimizing compiler --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.javascript&lt;/groupId&gt;\n            &lt;artifactId&gt;closure-compiler&lt;/artifactId&gt;\n            &lt;version&gt;v20221102&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<blockquote>\n<p>Error processing request Context Path:/myportal Servlet Path:/error\nPath Info:null Query String:null Stack Trace:\njakarta.servlet.ServletException: Request processing failed:\njava.lang.ClassCastException: class jakarta.servlet.http.MappingMatch\ncannot be cast to class jakarta.servlet.http.HttpServletMapping\n(jakarta.servlet.http.MappingMatch and\njakarta.servlet.http.HttpServletMapping are in unnamed module of\nloader 'jakarta.servlet.api@6.0.0' @2d839aa7)     at\ndeployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\nat\njakarta.servlet.api@6.0.0//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\nat\njakarta.servlet.api@6.0.0//jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat\norg.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\nat\norg.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\nat\norg.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\nat\norg.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)  at\norg.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:258)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:183)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.RequestDispatcherImpl.forwardImpl(RequestDispatcherImpl.java:188)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.RequestDispatcherImpl.forwardImplSetup(RequestDispatcherImpl.java:136)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:99)\nat\ndeployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.forwardToErrorPage(ErrorPageFilter.java:189)\nat\ndeployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.handleException(ErrorPageFilter.java:174)\nat\ndeployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:141)\nat\ndeployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:99)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat\ndeployment.myportal-1.0.0.war//org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat\norg.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\nat\norg.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\nat\norg.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\nat\norg.wildfly.security.elytron-base@2.1.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)  at\norg.wildfly.security.elytron-web.undertow-server@3.0.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat\nio.undertow.core@2.3.6.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat\nio.undertow.core@2.3.6.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat\norg.wildfly.security.elytron-web.undertow-server-servlet@3.0.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat\norg.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat\norg.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:276)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:132)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat\norg.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\nat\norg.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\nat\norg.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\nat\norg.wildfly.extension.undertow@28.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1430)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:256)\nat\nio.undertow.servlet@2.3.6.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:101)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:393)\nat\nio.undertow.core@2.3.6.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat\norg.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat\norg.jboss.xnio@3.8.9.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\nat java.base/java.lang.Thread.run(Thread.java:833) Caused by:\njava.lang.ClassCastException: class jakarta.servlet.http.MappingMatch\ncannot be cast to class jakarta.servlet.http.HttpServletMapping\n(jakarta.servlet.http.MappingMatch and\njakarta.servlet.http.HttpServletMapping are in unnamed module of\nloader 'jakarta.servlet.api@6.0.0' @2d839aa7)     at\ndeployment.myportal-1.0.0.war//org.springframework.web.util.ServletRequestPathUtils$ServletRequestPath.getServletPathPrefix(ServletRequestPathUtils.java:258)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.util.ServletRequestPathUtils$ServletRequestPath.parse(ServletRequestPathUtils.java:250)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.util.ServletRequestPathUtils.parseAndCache(ServletRequestPathUtils.java:66)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:970)\nat\ndeployment.myportal-1.0.0.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n... 87 more</p>\n</blockquote>\n<p><strong>I had spent more time on this error. But no way...\nAnyone know how to solve this issue?</strong></p>\n"},{"tags":["java","eclipse","formatting","ide"],"answers":[{"comments":[{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1662377754,"post_id":73608275,"comment_id":129985019,"body_markdown":"the thing is that I would like the formatter to do it automatically","body":"the thing is that I would like the formatter to do it automatically"},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1662378827,"post_id":73608275,"comment_id":129985394,"body_markdown":"I don&#39;t actively use Eclipse, but I believe in the formatter you may be able to specify new lines after annotations","body":"I don&#39;t actively use Eclipse, but I believe in the formatter you may be able to specify new lines after annotations"}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662375417,"creation_date":1662375417,"answer_id":73608275,"question_id":73608196,"body_markdown":"Prevent formatting as follows\r\n```\r\n// @formatter:off\r\n@Table(\r\n    name = &quot;student&quot;, \r\n    uniqueConstraints = {\r\n        @UniqueConstraint(\r\n            name = &quot;student_email_unique&quot;, \r\n            columnNames = &quot;email&quot;\r\n        )\r\n    }\r\n)\r\n// @formatter:on\r\n```","title":"Having every argument of an annotation on a different line on Eclipse","body":"<p>Prevent formatting as follows</p>\n<pre><code>// @formatter:off\n@Table(\n    name = &quot;student&quot;, \n    uniqueConstraints = {\n        @UniqueConstraint(\n            name = &quot;student_email_unique&quot;, \n            columnNames = &quot;email&quot;\n        )\n    }\n)\n// @formatter:on\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687240063,"creation_date":1687240063,"answer_id":76511703,"question_id":73608196,"body_markdown":"- For formatting the **`args` inside `{}`** \\\r\n  **--&gt;** In the **`Array initializers`** &gt; set how you want to `split`\r\n  - (though, this *messy* up your `normal Arrays` ...)\r\n  - (you may try set `After opening brace of array initializer` too)\r\n\r\n- For formatting the **`args` inside `()`** \\\r\n  You need to **manually** place **linebreak** in the `arg` inside the `()`, then Eclipse will **preserve** the linebreak (, and may?&lt; reformat the other args) \r\n  - (not sure where exactly the settings locate, if exist).\r\n\r\n- (*some other settings may help too, idk*)\r\n\r\n- *setting graph \r\n  [![setting graph][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/sxbhX.png","title":"Having every argument of an annotation on a different line on Eclipse","body":"<ul>\n<li><p>For formatting the <strong><code>args</code> inside <code>{}</code></strong> <br />\n<strong>--&gt;</strong> In the <strong><code>Array initializers</code></strong> &gt; set how you want to <code>split</code></p>\n<ul>\n<li>(though, this <em>messy</em> up your <code>normal Arrays</code> ...)</li>\n<li>(you may try set <code>After opening brace of array initializer</code> too)</li>\n</ul>\n</li>\n<li><p>For formatting the <strong><code>args</code> inside <code>()</code></strong> <br />\nYou need to <strong>manually</strong> place <strong>linebreak</strong> in the <code>arg</code> inside the <code>()</code>, then Eclipse will <strong>preserve</strong> the linebreak (, and may?&lt; reformat the other args)</p>\n<ul>\n<li>(not sure where exactly the settings locate, if exist).</li>\n</ul>\n</li>\n<li><p>(<em>some other settings may help too, idk</em>)</p>\n</li>\n<li><p>*setting graph\n<a href=\"https://i.stack.imgur.com/sxbhX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sxbhX.png\" alt=\"setting graph\" /></a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687240063,"creation_date":1662375037,"question_id":73608196,"body_markdown":"I am trying to have every argument of an annotation on a different line on eclipse. Currently I have this:\r\n    \r\n    @Table(name = &quot;student&quot;, uniqueConstraints = {\r\n\t    @UniqueConstraint(name = &quot;student_email_unique&quot;, columnNames = &quot;email&quot;)\r\n    })\r\n\r\nwhat I would like to have is this:\r\n\r\n    @Table(\r\n        name = &quot;student&quot;, \r\n        uniqueConstraints = {\r\n\t        @UniqueConstraint(\r\n                name = &quot;student_email_unique&quot;, \r\n                columnNames = &quot;email&quot;\r\n            )\r\n        }\r\n    )\r\n","title":"Having every argument of an annotation on a different line on Eclipse","body":"<p>I am trying to have every argument of an annotation on a different line on eclipse. Currently I have this:</p>\n<pre><code>@Table(name = &quot;student&quot;, uniqueConstraints = {\n    @UniqueConstraint(name = &quot;student_email_unique&quot;, columnNames = &quot;email&quot;)\n})\n</code></pre>\n<p>what I would like to have is this:</p>\n<pre><code>@Table(\n    name = &quot;student&quot;, \n    uniqueConstraints = {\n        @UniqueConstraint(\n            name = &quot;student_email_unique&quot;, \n            columnNames = &quot;email&quot;\n        )\n    }\n)\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1687231097,"post_id":76511209,"comment_id":134903986,"body_markdown":"Don&#39;t spam tags; your code is Java, so don&#39;t tag it C, C++, or Python. Explain in more detail how the code doesn&#39;t do what you expect. What inputs get what outputs, and what did you expect instead? See [ask].","body":"Don&#39;t spam tags; your code is Java, so don&#39;t tag it C, C++, or Python. Explain in more detail how the code doesn&#39;t do what you expect. What inputs get what outputs, and what did you expect instead? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":31679,"reputation":209518,"user_id":87189,"accept_rate":100,"display_name":"tadman"},"score":2,"creation_date":1687231134,"post_id":76511209,"comment_id":134903990,"body_markdown":"This really needs more technical explanation than &quot;getting wrong answer&quot;.","body":"This really needs more technical explanation than &quot;getting wrong answer&quot;."},{"owner":{"account_id":14462301,"reputation":673,"user_id":10446802,"display_name":"Fermi-4"},"score":0,"creation_date":1687232664,"post_id":76511209,"comment_id":134904117,"body_markdown":"Do your own homework chief","body":"Do your own homework chief"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687241736,"post_id":76511209,"comment_id":134904911,"body_markdown":"Can you post a link to the actual [coding] challenge?","body":"Can you post a link to the actual [coding] challenge?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687239274,"creation_date":1687238788,"answer_id":76511627,"question_id":76511209,"body_markdown":"You&#39;ll have to augment the list of sizes, and evolution directions, while testing the fish.\r\n\r\nConsider the following.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nSystem.out.print(&quot;enter number of test cases:  &quot;);\r\nint t = scanner.nextInt();\r\nSystem.out.println();\r\nint n;\r\nList&lt;Integer&gt; sizes, evolutions;\r\nint fish;\r\nStringBuilder string;\r\ndo {\r\n    System.out.print(&quot;enter number of fish:  &quot;);\r\n    n = scanner.nextInt();\r\n    sizes = new ArrayList&lt;&gt;(n);\r\n    System.out.print(&quot;enter fish sizes:  &quot;);\r\n    for (int count = 0; count &lt; n; count++)\r\n        sizes.add(scanner.nextInt());\r\n    evolutions = new ArrayList&lt;&gt;(n);\r\n    System.out.print(&quot;enter evolution directions:  &quot;);\r\n    for (int count = 0; count &lt; n; count++)\r\n        evolutions.add(scanner.nextInt());\r\n    string = new StringBuilder();\r\n    for (int index = 0; index &lt; n; index++) {\r\n        if (evolutions.get(index) == -1) {\r\n            if (index == 0) continue;\r\n            if (sizes.get(index - 1) &gt;= sizes.get(index)) {\r\n                fish = sizes.get(index);\r\n                sizes.set(index, sizes.get(index - 1));\r\n                sizes.remove(index - 1);\r\n                evolutions.remove(index-- - 1);\r\n                n = sizes.size();\r\n                if (index == 0) continue;\r\n                if (sizes.get(index - 1) &gt;= sizes.get(index)) {\r\n                    sizes.set(index, sizes.get(index - 1));\r\n                    sizes.remove(index - 1);\r\n                    evolutions.remove(index-- - 1);\r\n                    string.append(&quot;fish %d, maximum evolution leftward%n&quot;.formatted(fish));\r\n                }\r\n            }\r\n        } else if (evolutions.get(index) == 1) {\r\n            if (index == n - 1) continue;\r\n            if (sizes.get(index + 1) &gt;= sizes.get(index)) {\r\n                fish = sizes.get(index);\r\n                sizes.set(index, sizes.get(index + 1));\r\n                sizes.remove(index + 1);\r\n                evolutions.remove(index + 1);\r\n                n = sizes.size();\r\n                if (index == n - 1) continue;\r\n                if (sizes.get(index + 1) &gt;= sizes.get(index)) {\r\n                    sizes.set(index, sizes.get(index + 1));\r\n                    sizes.remove(index + 1);\r\n                    evolutions.remove(index + 1);\r\n                    string.append(&quot;fish %d, maximum evolution rightward%n&quot;.formatted(fish));\r\n                }\r\n            }\r\n        }\r\n        n = sizes.size();\r\n    }\r\n    System.out.println(string);\r\n} while (--t &gt; 0);\r\n```\r\n\r\nWithin the _for-loop_, first check whether the fish will evolve in the left, or right direction.\r\n\r\n```java\r\nif (evolutions.get(index) == -1) {\r\n\r\n} else if (evolutions.get(index) == 1) {\r\n\r\n}\r\n```\r\n\r\nIf it can, augment its size, and remove the corresponding indice.  \r\nSubsequently, adjusting _n_ to preserve the _for-loop_ conditional.\r\n\r\n```java\r\nsizes.set(index, sizes.get(index - 1));\r\nsizes.remove(index - 1);\r\nevolutions.remove(index-- - 1);\r\nn = sizes.size();\r\n```\r\n\r\nAnd, since the fish can evolve a maximum of two times, check once more.  \r\nWith, which in this case, needs to be recorded with it&#39;s direction.\r\n\r\n```java\r\nstring.append(&quot;fish %d, maximum evolution leftward%n&quot;.formatted(fish));\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```none\r\nenter number of test cases:  2\r\n\r\nenter number of fish:  5\r\nenter fish sizes:  5 12 10 11 13\r\nenter evolution directions:  1 -1 1 1 -1\r\nfish 10, maximum evolution rightward\r\n\r\nenter number of fish:  10\r\nenter fish sizes:  0 1 2 3 4 5 6 7 8 9\r\nenter evolution directions:  1 1 1 1 1 1 1 1 1 1\r\nfish 0, maximum evolution rightward\r\nfish 3, maximum evolution rightward\r\nfish 6, maximum evolution rightward\r\n```\r\n\r\nFish 5 evolves once, to 12.  \r\nFish 10 evolves twice, once to 11, and then to 13.\r\n\r\nFish 0 evolves twice, once to 1, and again to 2.  \r\nFish 3 evolves twice, once to 4, and again to 5.  \r\nFish 6 evolves twice, once to 7, and again to 8.  \r\nFish 9 does not evolve.","title":"fish evolution coding problem, approach to optimize it","body":"<p>You'll have to augment the list of sizes, and evolution directions, while testing the fish.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nSystem.out.print(&quot;enter number of test cases:  &quot;);\nint t = scanner.nextInt();\nSystem.out.println();\nint n;\nList&lt;Integer&gt; sizes, evolutions;\nint fish;\nStringBuilder string;\ndo {\n    System.out.print(&quot;enter number of fish:  &quot;);\n    n = scanner.nextInt();\n    sizes = new ArrayList&lt;&gt;(n);\n    System.out.print(&quot;enter fish sizes:  &quot;);\n    for (int count = 0; count &lt; n; count++)\n        sizes.add(scanner.nextInt());\n    evolutions = new ArrayList&lt;&gt;(n);\n    System.out.print(&quot;enter evolution directions:  &quot;);\n    for (int count = 0; count &lt; n; count++)\n        evolutions.add(scanner.nextInt());\n    string = new StringBuilder();\n    for (int index = 0; index &lt; n; index++) {\n        if (evolutions.get(index) == -1) {\n            if (index == 0) continue;\n            if (sizes.get(index - 1) &gt;= sizes.get(index)) {\n                fish = sizes.get(index);\n                sizes.set(index, sizes.get(index - 1));\n                sizes.remove(index - 1);\n                evolutions.remove(index-- - 1);\n                n = sizes.size();\n                if (index == 0) continue;\n                if (sizes.get(index - 1) &gt;= sizes.get(index)) {\n                    sizes.set(index, sizes.get(index - 1));\n                    sizes.remove(index - 1);\n                    evolutions.remove(index-- - 1);\n                    string.append(&quot;fish %d, maximum evolution leftward%n&quot;.formatted(fish));\n                }\n            }\n        } else if (evolutions.get(index) == 1) {\n            if (index == n - 1) continue;\n            if (sizes.get(index + 1) &gt;= sizes.get(index)) {\n                fish = sizes.get(index);\n                sizes.set(index, sizes.get(index + 1));\n                sizes.remove(index + 1);\n                evolutions.remove(index + 1);\n                n = sizes.size();\n                if (index == n - 1) continue;\n                if (sizes.get(index + 1) &gt;= sizes.get(index)) {\n                    sizes.set(index, sizes.get(index + 1));\n                    sizes.remove(index + 1);\n                    evolutions.remove(index + 1);\n                    string.append(&quot;fish %d, maximum evolution rightward%n&quot;.formatted(fish));\n                }\n            }\n        }\n        n = sizes.size();\n    }\n    System.out.println(string);\n} while (--t &gt; 0);\n</code></pre>\n<p>Within the <em>for-loop</em>, first check whether the fish will evolve in the left, or right direction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (evolutions.get(index) == -1) {\n\n} else if (evolutions.get(index) == 1) {\n\n}\n</code></pre>\n<p>If it can, augment its size, and remove the corresponding indice.<br />\nSubsequently, adjusting <em>n</em> to preserve the <em>for-loop</em> conditional.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sizes.set(index, sizes.get(index - 1));\nsizes.remove(index - 1);\nevolutions.remove(index-- - 1);\nn = sizes.size();\n</code></pre>\n<p>And, since the fish can evolve a maximum of two times, check once more.<br />\nWith, which in this case, needs to be recorded with it's direction.</p>\n<pre class=\"lang-java prettyprint-override\"><code>string.append(&quot;fish %d, maximum evolution leftward%n&quot;.formatted(fish));\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>enter number of test cases:  2\n\nenter number of fish:  5\nenter fish sizes:  5 12 10 11 13\nenter evolution directions:  1 -1 1 1 -1\nfish 10, maximum evolution rightward\n\nenter number of fish:  10\nenter fish sizes:  0 1 2 3 4 5 6 7 8 9\nenter evolution directions:  1 1 1 1 1 1 1 1 1 1\nfish 0, maximum evolution rightward\nfish 3, maximum evolution rightward\nfish 6, maximum evolution rightward\n</code></pre>\n<p>Fish 5 evolves once, to 12.<br />\nFish 10 evolves twice, once to 11, and then to 13.</p>\n<p>Fish 0 evolves twice, once to 1, and again to 2.<br />\nFish 3 evolves twice, once to 4, and again to 5.<br />\nFish 6 evolves twice, once to 7, and again to 8.<br />\nFish 9 does not evolve.</p>\n"}],"owner":{"account_id":14340140,"reputation":11,"user_id":10358552,"display_name":"ayush singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1687239274,"creation_date":1687231004,"question_id":76511209,"body_markdown":"Namita has magical fishes. Her fishes has the capability to evolve to become bigger fish. So, if the smaller fish touches a bigger or equivalent fish, then the bigger or equivalent fish disappears into water and the smaller fish evolves to become as large as the larger fish. Therefore, to avoid stray evolutions, she has kept her fishes in separate cells, arranged in a linear order. Now, she wants to evolve only one fish and she wants to choose the fish which will evolve maximum number of times. She wants your help in this. To make it more interesting, she has added signs of evolution with the fish cells. A cell assigned with +1 can only evolve with fishes on its right side and a cell assigned with -1 can only evolve with fishes on its left side. Can you complete this challenge?\r\nRemember that the fishes are mindlessly evolving. This means that they evolve with the first big fish that comes in their way. Consider the following case. Here, Fish with size 5 can evolve in right direction.\r\n5 12 10 11 13\r\nFish with size 5 will evolve 2 times like 5 -&gt; 12 -&gt; 13 and not 3 times like 5-&gt;10-&gt;11-&gt;13.\r\nNote: If there is more than one fish which can evolve the maximum number of times, select the one with the greater size.\r\nInput Format:\r\nFirst line of input contains an integer t, representing the number of test cases.\r\nFor each test case, the first line contains an integer n, representing the number of fishes.\r\nSecond line of each case contains n space separated integers, representing the size of fishes.\r\nThird line of each test case contains n space separated integers, being +1 or -1, representing the signs of evolution.\r\n\r\nOutput:\r\nFor each test case, you have to print the size of fish which will evolve maximum number of times, along with the direction it is going to evolve in. (Left for -1 and Right for +1)\r\n\r\nI am finding the rightEvolution by traversing from right to left and then leftEvolution by going from left to right. and then finding the maximum of them. But I am getting TLE and wrong answer for test cases;\r\n\r\n\r\n    import java.util.*;\r\n    \r\n    public  class Solution{\r\n    \r\n        public static void main(String [] args)\r\n        {\r\n            Scanner sc =new Scanner(System.in);\r\n    \r\n            int t= sc.nextInt();\r\n            while(t--&gt;0)\r\n            {\r\n            int n =sc.nextInt();\r\n            int [] sizes =new int[n];\r\n            int [] direction= new int[n];\r\n    \r\n            for(int i=0;i&lt;n;i++)\r\n             sizes[i] = sc.nextInt();\r\n    \r\n            for(int i=0;i&lt;n;i++)\r\n              direction[i]  =sc.nextInt();\r\n    \r\n           int [] rightEvolution = new int[n];\r\n              //max evolution that every fish can achive while moving to right direction ,\r\n              //   so we have to now from right to left\r\n               rightEvolution[n-1]=0;\r\n              for(int i=n-2;i&gt;=0;i--)\r\n              {\r\n                 int j=i+1;\r\n                 int s=sizes[i];\r\n                  while( j&lt;=n-1 &amp;&amp; s&gt;=sizes[j] )\r\n                           j++;\r\n                    if(j&lt;=n-1)\r\n                  rightEvolution[i] =rightEvolution[j]+1;\r\n                    else\r\n                    rightEvolution[i]=0;\r\n              }\r\n    \r\n            int [] leftEvolution =new int[n];\r\n                leftEvolution[0] =0;\r\n             for(int i=1;i&lt;n;i++)\r\n             {\r\n                int j=i-1;\r\n                 int s=sizes[i];\r\n                  while(j&gt;=0 &amp;&amp; s&gt;=sizes[j])\r\n                       j--;\r\n                  if(j&gt;=0)\r\n                  leftEvolution[i]=leftEvolution[j]+1;\r\n                  else \r\n                   leftEvolution[i]=0;\r\n             }\r\n            //  System.out.println(&quot;Right Evolution&quot;);\r\n            //  for(int i=0;i&lt;n;i++)\r\n            //    System.out.print(rightEvolution[i]+&quot; &quot;);\r\n              \r\n            //   System.out.println();\r\n            //    System.out.println(&quot;left evolution&quot;);\r\n            //   for(int i=0;i&lt;n;i++)\r\n            //   System.out.print(leftEvolution[i]+&quot; &quot;);\r\n    \r\n             //find the maximum right evolution \r\n            int  maxr=0;\r\n            int initSizeR=0;\r\n             for (int i=0;i&lt;n;i++)\r\n               {\r\n                 if(direction[i]==1)\r\n                  {\r\n                     if(rightEvolution[i]&gt;maxr)\r\n                      {\r\n                        maxr=rightEvolution[i];\r\n                        initSizeR=sizes[i];\r\n                      }\r\n                     else if(rightEvolution[i]==maxr &amp;&amp;initSizeR&lt;sizes[i])\r\n                      {\r\n                           initSizeR=sizes[i];\r\n                      }\r\n                  }\r\n               }\r\n    \r\n               //find the maximum size in left evolution\r\n              int maxl=0;\r\n              int initSizeL=0;\r\n               for(int i=0;i&lt;n;i++)\r\n               {\r\n                 if(direction[i]==-1)\r\n                 {\r\n                 if(leftEvolution[i]&gt;maxl)\r\n                 {\r\n                   maxl=leftEvolution[i];\r\n                   initSizeL=sizes[i];\r\n    \r\n                 }\r\n               else  if(leftEvolution[i]==maxl &amp;&amp; initSizeL&lt;sizes[i])\r\n                  {\r\n                    initSizeL=sizes[i];\r\n                  }\r\n                 }\r\n               }\r\n    \r\n    \r\n               // find the maximum evolution out of  maximum left and right evolution and print the result\r\n                    if(maxr&gt;maxl)\r\n                    {\r\n                            System.out.println(initSizeR+&quot; Right&quot;);\r\n                    }\r\n                    else if (maxr&lt;maxl)\r\n                    {\r\n                            System.out.println(initSizeL+&quot; Left&quot;);\r\n                    }\r\n                    else if(maxr==maxl)\r\n                    {\r\n                           if(initSizeL&lt;initSizeR)\r\n                              System.out.println(initSizeR+&quot; Right&quot;);\r\n                           else\r\n                               System.out.println(initSizeL+&quot; Left&quot;);\r\n                    }\r\n                 \r\n    \r\n    \r\n            } \r\n        }\r\n    }","title":"fish evolution coding problem, approach to optimize it","body":"<p>Namita has magical fishes. Her fishes has the capability to evolve to become bigger fish. So, if the smaller fish touches a bigger or equivalent fish, then the bigger or equivalent fish disappears into water and the smaller fish evolves to become as large as the larger fish. Therefore, to avoid stray evolutions, she has kept her fishes in separate cells, arranged in a linear order. Now, she wants to evolve only one fish and she wants to choose the fish which will evolve maximum number of times. She wants your help in this. To make it more interesting, she has added signs of evolution with the fish cells. A cell assigned with +1 can only evolve with fishes on its right side and a cell assigned with -1 can only evolve with fishes on its left side. Can you complete this challenge?\nRemember that the fishes are mindlessly evolving. This means that they evolve with the first big fish that comes in their way. Consider the following case. Here, Fish with size 5 can evolve in right direction.\n5 12 10 11 13\nFish with size 5 will evolve 2 times like 5 -&gt; 12 -&gt; 13 and not 3 times like 5-&gt;10-&gt;11-&gt;13.\nNote: If there is more than one fish which can evolve the maximum number of times, select the one with the greater size.\nInput Format:\nFirst line of input contains an integer t, representing the number of test cases.\nFor each test case, the first line contains an integer n, representing the number of fishes.\nSecond line of each case contains n space separated integers, representing the size of fishes.\nThird line of each test case contains n space separated integers, being +1 or -1, representing the signs of evolution.</p>\n<p>Output:\nFor each test case, you have to print the size of fish which will evolve maximum number of times, along with the direction it is going to evolve in. (Left for -1 and Right for +1)</p>\n<p>I am finding the rightEvolution by traversing from right to left and then leftEvolution by going from left to right. and then finding the maximum of them. But I am getting TLE and wrong answer for test cases;</p>\n<pre><code>import java.util.*;\n\npublic  class Solution{\n\n    public static void main(String [] args)\n    {\n        Scanner sc =new Scanner(System.in);\n\n        int t= sc.nextInt();\n        while(t--&gt;0)\n        {\n        int n =sc.nextInt();\n        int [] sizes =new int[n];\n        int [] direction= new int[n];\n\n        for(int i=0;i&lt;n;i++)\n         sizes[i] = sc.nextInt();\n\n        for(int i=0;i&lt;n;i++)\n          direction[i]  =sc.nextInt();\n\n       int [] rightEvolution = new int[n];\n          //max evolution that every fish can achive while moving to right direction ,\n          //   so we have to now from right to left\n           rightEvolution[n-1]=0;\n          for(int i=n-2;i&gt;=0;i--)\n          {\n             int j=i+1;\n             int s=sizes[i];\n              while( j&lt;=n-1 &amp;&amp; s&gt;=sizes[j] )\n                       j++;\n                if(j&lt;=n-1)\n              rightEvolution[i] =rightEvolution[j]+1;\n                else\n                rightEvolution[i]=0;\n          }\n\n        int [] leftEvolution =new int[n];\n            leftEvolution[0] =0;\n         for(int i=1;i&lt;n;i++)\n         {\n            int j=i-1;\n             int s=sizes[i];\n              while(j&gt;=0 &amp;&amp; s&gt;=sizes[j])\n                   j--;\n              if(j&gt;=0)\n              leftEvolution[i]=leftEvolution[j]+1;\n              else \n               leftEvolution[i]=0;\n         }\n        //  System.out.println(&quot;Right Evolution&quot;);\n        //  for(int i=0;i&lt;n;i++)\n        //    System.out.print(rightEvolution[i]+&quot; &quot;);\n          \n        //   System.out.println();\n        //    System.out.println(&quot;left evolution&quot;);\n        //   for(int i=0;i&lt;n;i++)\n        //   System.out.print(leftEvolution[i]+&quot; &quot;);\n\n         //find the maximum right evolution \n        int  maxr=0;\n        int initSizeR=0;\n         for (int i=0;i&lt;n;i++)\n           {\n             if(direction[i]==1)\n              {\n                 if(rightEvolution[i]&gt;maxr)\n                  {\n                    maxr=rightEvolution[i];\n                    initSizeR=sizes[i];\n                  }\n                 else if(rightEvolution[i]==maxr &amp;&amp;initSizeR&lt;sizes[i])\n                  {\n                       initSizeR=sizes[i];\n                  }\n              }\n           }\n\n           //find the maximum size in left evolution\n          int maxl=0;\n          int initSizeL=0;\n           for(int i=0;i&lt;n;i++)\n           {\n             if(direction[i]==-1)\n             {\n             if(leftEvolution[i]&gt;maxl)\n             {\n               maxl=leftEvolution[i];\n               initSizeL=sizes[i];\n\n             }\n           else  if(leftEvolution[i]==maxl &amp;&amp; initSizeL&lt;sizes[i])\n              {\n                initSizeL=sizes[i];\n              }\n             }\n           }\n\n\n           // find the maximum evolution out of  maximum left and right evolution and print the result\n                if(maxr&gt;maxl)\n                {\n                        System.out.println(initSizeR+&quot; Right&quot;);\n                }\n                else if (maxr&lt;maxl)\n                {\n                        System.out.println(initSizeL+&quot; Left&quot;);\n                }\n                else if(maxr==maxl)\n                {\n                       if(initSizeL&lt;initSizeR)\n                          System.out.println(initSizeR+&quot; Right&quot;);\n                       else\n                           System.out.println(initSizeL+&quot; Left&quot;);\n                }\n             \n\n\n        } \n    }\n}\n</code></pre>\n"},{"tags":["java","sum-type"],"answers":[{"comments":[{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1687154965,"post_id":76503764,"comment_id":134891655,"body_markdown":"Thanks. Makes Sense. -- But it is _a lot_ of code. Is there a standard way (or a library) to do this?","body":"Thanks. Makes Sense. -- But it is <i>a lot</i> of code. Is there a standard way (or a library) to do this?"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1687155208,"post_id":76503764,"comment_id":134891689,"body_markdown":"Also (and excuse my possibly obvious question), how can I check on `get` which type a `DoubleOrString` variable actually  contains?","body":"Also (and excuse my possibly obvious question), how can I check on <code>get</code> which type a <code>DoubleOrString</code> variable actually  contains?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687156443,"post_id":76503764,"comment_id":134891875,"body_markdown":"The way I have written it you don&#39;t check. Feel free to edit your question and explain your requirements.","body":"The way I have written it you don&#39;t check. Feel free to edit your question and explain your requirements."},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1687236465,"post_id":76503764,"comment_id":134904414,"body_markdown":"Yes, I see all &quot;communication&quot; with the object is done via the `get` method... I will try to add a `multiSet` method wheer depending on the actual type the correct setter in another object is called. Thanks again.","body":"Yes, I see all &quot;communication&quot; with the object is done via the <code>get</code> method... I will try to add a <code>multiSet</code> method wheer depending on the actual type the correct setter in another object is called. Thanks again."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687238753,"creation_date":1687151512,"answer_id":76503764,"question_id":76503613,"body_markdown":"I&#39;m not clear what your question has to do with `ImmutablePair`.\r\n\r\nI would just do something like this:\r\n```\r\nimport java.util.function.Function;\r\n\r\npublic interface StringOrDouble {\r\n    &lt;T&gt; T get(Function&lt;String,T&gt; stringFunc, Function&lt;Double,T&gt; doubleFunc);\r\n\r\n    class StringVersion implements StringOrDouble {\r\n        private final String string;\r\n\r\n        public StringVersion(String string) {\r\n            this.string = string;\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; T get(Function&lt;String, T&gt; stringFunc, Function&lt;Double, T&gt; doubleFunc) {\r\n            return stringFunc.apply(string);\r\n        }\r\n    }\r\n\r\n    class DoubleVersion implements StringOrDouble {\r\n        private final Double doubleValue;\r\n\r\n        public DoubleVersion(Double doubleValue) {\r\n            this.doubleValue = doubleValue;\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; T get(Function&lt;String, T&gt; stringFunc, Function&lt;Double, T&gt; doubleFunc) {\r\n            return doubleFunc.apply(doubleValue);\r\n        }\r\n    }\r\n\r\n    static StringOrDouble ofString(String string) {\r\n        return new StringVersion(string);\r\n    }\r\n    static StringOrDouble ofDouble(Double doubleValue) {\r\n        return new DoubleVersion(doubleValue);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        StringOrDouble[] vs = {ofString(&quot;hello&quot;),ofDouble(101.0)};\r\n        for (StringOrDouble v : vs) {\r\n            System.out.println(v.get(String::toUpperCase, Double::toHexString));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then use:\r\n```\r\nList&lt;ImmutablePair&lt;Integer, StringOrDouble&gt;&gt; params;\r\n```\r\n\r\nOr a generic version:\r\n```\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\npublic interface Union&lt;A, B&gt; {\r\n\r\n    &lt;T&gt; T get(Function&lt;A, T&gt; aFunc, Function&lt;B, T&gt; bFunc);\r\n\r\n    class AVersion&lt;A, B&gt; implements Union&lt;A, B&gt; {\r\n        private final A a;\r\n\r\n        public AVersion(A a) {\r\n            this.a = a;\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; T get(Function&lt;A, T&gt; aFunc, Function&lt;B, T&gt; bFunc) {\r\n            return aFunc.apply(a);\r\n        }\r\n    }\r\n\r\n    class BVersion&lt;A, B&gt; implements Union&lt;A, B&gt; {\r\n        private final B b;\r\n\r\n        public BVersion(B b) {\r\n            this.b = b;\r\n        }\r\n\r\n        @Override\r\n        public &lt;T&gt; T get(Function&lt;A, T&gt; aFunc, Function&lt;B, T&gt; bFunc) {\r\n            return bFunc.apply(b);\r\n        }\r\n    }\r\n\r\n    static &lt;A, B&gt; Union&lt;A, B&gt; ofA(A a) {\r\n        return new AVersion&lt;&gt;(a);\r\n    }\r\n\r\n    static &lt;A, B&gt; Union&lt;A, B&gt; ofB(B b) {\r\n        return new BVersion&lt;&gt;(b);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Union&lt;String, Double&gt;&gt; vs = List.of(ofA(&quot;hello&quot;), ofB(101.0));\r\n        for (Union&lt;String, Double&gt; v : vs) {\r\n            System.out.println(v.get(String::toUpperCase, Double::toHexString));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWe can also add a method to `Union`:\r\n```\r\n    default void use(Consumer&lt;A&gt; aConsumer, Consumer&lt;B&gt; bConsumer) {\r\n        get(a -&gt; {aConsumer.accept(a); return null;}, b -&gt; {bConsumer.accept(b); return null;});\r\n    }\r\n```\r\nWhich allows us to pass void methods, so if we have a bean like:\r\n```\r\nclass Foo {\r\n        private String s;\r\n        private double d;\r\n\r\n        public String getS() {\r\n            return s;\r\n        }\r\n\r\n        public void setS(String s) {\r\n            this.s = s;\r\n        }\r\n\r\n        public double getD() {\r\n            return d;\r\n        }\r\n\r\n        public void setD(double d) {\r\n            this.d = d;\r\n        }\r\n    }\r\n```\r\nwe can do:\r\n```\r\n        Union&lt;String, Double&gt; u = ofA(&quot;a string&quot;);\r\n        Foo f = new Foo();\r\n        u.use(f::setS, f::setD);\r\n```\r\nAnd the appropriate setter will be called.","title":"Best way to create a Union type for ImmutablePairs in Java","body":"<p>I'm not clear what your question has to do with <code>ImmutablePair</code>.</p>\n<p>I would just do something like this:</p>\n<pre><code>import java.util.function.Function;\n\npublic interface StringOrDouble {\n    &lt;T&gt; T get(Function&lt;String,T&gt; stringFunc, Function&lt;Double,T&gt; doubleFunc);\n\n    class StringVersion implements StringOrDouble {\n        private final String string;\n\n        public StringVersion(String string) {\n            this.string = string;\n        }\n\n        @Override\n        public &lt;T&gt; T get(Function&lt;String, T&gt; stringFunc, Function&lt;Double, T&gt; doubleFunc) {\n            return stringFunc.apply(string);\n        }\n    }\n\n    class DoubleVersion implements StringOrDouble {\n        private final Double doubleValue;\n\n        public DoubleVersion(Double doubleValue) {\n            this.doubleValue = doubleValue;\n        }\n\n        @Override\n        public &lt;T&gt; T get(Function&lt;String, T&gt; stringFunc, Function&lt;Double, T&gt; doubleFunc) {\n            return doubleFunc.apply(doubleValue);\n        }\n    }\n\n    static StringOrDouble ofString(String string) {\n        return new StringVersion(string);\n    }\n    static StringOrDouble ofDouble(Double doubleValue) {\n        return new DoubleVersion(doubleValue);\n    }\n\n    public static void main(String[] args) {\n        StringOrDouble[] vs = {ofString(&quot;hello&quot;),ofDouble(101.0)};\n        for (StringOrDouble v : vs) {\n            System.out.println(v.get(String::toUpperCase, Double::toHexString));\n        }\n    }\n}\n</code></pre>\n<p>And then use:</p>\n<pre><code>List&lt;ImmutablePair&lt;Integer, StringOrDouble&gt;&gt; params;\n</code></pre>\n<p>Or a generic version:</p>\n<pre><code>import java.util.List;\nimport java.util.function.Function;\n\npublic interface Union&lt;A, B&gt; {\n\n    &lt;T&gt; T get(Function&lt;A, T&gt; aFunc, Function&lt;B, T&gt; bFunc);\n\n    class AVersion&lt;A, B&gt; implements Union&lt;A, B&gt; {\n        private final A a;\n\n        public AVersion(A a) {\n            this.a = a;\n        }\n\n        @Override\n        public &lt;T&gt; T get(Function&lt;A, T&gt; aFunc, Function&lt;B, T&gt; bFunc) {\n            return aFunc.apply(a);\n        }\n    }\n\n    class BVersion&lt;A, B&gt; implements Union&lt;A, B&gt; {\n        private final B b;\n\n        public BVersion(B b) {\n            this.b = b;\n        }\n\n        @Override\n        public &lt;T&gt; T get(Function&lt;A, T&gt; aFunc, Function&lt;B, T&gt; bFunc) {\n            return bFunc.apply(b);\n        }\n    }\n\n    static &lt;A, B&gt; Union&lt;A, B&gt; ofA(A a) {\n        return new AVersion&lt;&gt;(a);\n    }\n\n    static &lt;A, B&gt; Union&lt;A, B&gt; ofB(B b) {\n        return new BVersion&lt;&gt;(b);\n    }\n\n    public static void main(String[] args) {\n        List&lt;Union&lt;String, Double&gt;&gt; vs = List.of(ofA(&quot;hello&quot;), ofB(101.0));\n        for (Union&lt;String, Double&gt; v : vs) {\n            System.out.println(v.get(String::toUpperCase, Double::toHexString));\n        }\n    }\n}\n</code></pre>\n<p>We can also add a method to <code>Union</code>:</p>\n<pre><code>    default void use(Consumer&lt;A&gt; aConsumer, Consumer&lt;B&gt; bConsumer) {\n        get(a -&gt; {aConsumer.accept(a); return null;}, b -&gt; {bConsumer.accept(b); return null;});\n    }\n</code></pre>\n<p>Which allows us to pass void methods, so if we have a bean like:</p>\n<pre><code>class Foo {\n        private String s;\n        private double d;\n\n        public String getS() {\n            return s;\n        }\n\n        public void setS(String s) {\n            this.s = s;\n        }\n\n        public double getD() {\n            return d;\n        }\n\n        public void setD(double d) {\n            this.d = d;\n        }\n    }\n</code></pre>\n<p>we can do:</p>\n<pre><code>        Union&lt;String, Double&gt; u = ofA(&quot;a string&quot;);\n        Foo f = new Foo();\n        u.use(f::setS, f::setD);\n</code></pre>\n<p>And the appropriate setter will be called.</p>\n"},{"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1687161248,"post_id":76504602,"comment_id":134892691,"body_markdown":"Despite its name, what your answer has implemented is not a union but rather the *opposite*: [unions are sum types, but your implementation is a product type](https://en.wikipedia.org/wiki/Algebraic_data_type).","body":"Despite its name, what your answer has implemented is not a union but rather the <i>opposite</i>: <a href=\"https://en.wikipedia.org/wiki/Algebraic_data_type\" rel=\"nofollow noreferrer\">unions are sum types, but your implementation is a product type</a>."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1687161826,"post_id":76504602,"comment_id":134892817,"body_markdown":"Actually I hadn’t noticed that you had made the constructor private. Given the current interface this *is* a sum type, albeit one with an inefficient implementation and a convoluted interface.","body":"Actually I hadn’t noticed that you had made the constructor private. Given the current interface this <i>is</i> a sum type, albeit one with an inefficient implementation and a convoluted interface."},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1687162244,"post_id":76504602,"comment_id":134892900,"body_markdown":"I agree, this is not ideal. Some languages have built-in union types but Java does not. So I had to use a workaround. I know I always have a field that is null which is not too pretty but it&#39;s still better than simply storing one ```Object``` and then use a cast ;-)","body":"I agree, this is not ideal. Some languages have built-in union types but Java does not. So I had to use a workaround. I know I always have a field that is null which is not too pretty but it&#39;s still better than simply storing one <code>Object</code> and then use a cast ;-)"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1687236582,"post_id":76504602,"comment_id":134904420,"body_markdown":"Thanks for this implementation. Looks interesting too. I guess the interface approach from the answer is a bit closer to a real Sum type.","body":"Thanks for this implementation. Looks interesting too. I guess the interface approach from the answer is a bit closer to a real Sum type."}],"tags":[],"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687160917,"creation_date":1687160917,"answer_id":76504602,"question_id":76503613,"body_markdown":"Not completely sure if I read the question correctly, but a very easy way to implement a union type would be:\r\n\r\n    public class Union&lt;A, B&gt; {\r\n        private final A a;\r\n        private final B b;\r\n    \r\n        private Union(A a, B b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n    \r\n        public boolean isA() {\r\n            return a != null;\r\n        }\r\n    \r\n        public boolean isB() {\r\n            return b != null;\r\n        }\r\n    \r\n        public A getA() {\r\n            if(isA()) {\r\n                return a;\r\n            }\r\n            throw new NoSuchElementException();\r\n        }\r\n    \r\n        public B getB() {\r\n            if(isB()) {\r\n                return b;\r\n            }\r\n            throw new NoSuchElementException();\r\n        }\r\n    \r\n        public static &lt;A, B&gt; Union&lt;A, B&gt; ofA(A a) {\r\n            return new Union&lt;A, B&gt;(Objects.requireNonNull(a), null);\r\n        }\r\n    \r\n        public static &lt;A, B&gt; Union&lt;A, B&gt; ofB(B b) {\r\n            return new Union&lt;A, B&gt;(null, Objects.requireNonNull(b));\r\n        }\r\n    }\r\n\r\nIf you don&#39;t use generics you could also drop the static ```of``` methods and simply use two different constructors but with generics that won&#39;t work because of the type erasure.\r\n\r\nYou&#39;d call is like this:\r\n\r\n    Union&lt;String, Double&gt; union = Union.ofA(&quot;bla&quot;);\r\n    if(union.isA()) {\r\n        System.out.println(union.getA());\r\n    }\r\n    if(union.isB()) {\r\n        System.out.println(union.getB());\r\n    }\r\n\r\n","title":"Best way to create a Union type for ImmutablePairs in Java","body":"<p>Not completely sure if I read the question correctly, but a very easy way to implement a union type would be:</p>\n<pre><code>public class Union&lt;A, B&gt; {\n    private final A a;\n    private final B b;\n\n    private Union(A a, B b) {\n        this.a = a;\n        this.b = b;\n    }\n\n    public boolean isA() {\n        return a != null;\n    }\n\n    public boolean isB() {\n        return b != null;\n    }\n\n    public A getA() {\n        if(isA()) {\n            return a;\n        }\n        throw new NoSuchElementException();\n    }\n\n    public B getB() {\n        if(isB()) {\n            return b;\n        }\n        throw new NoSuchElementException();\n    }\n\n    public static &lt;A, B&gt; Union&lt;A, B&gt; ofA(A a) {\n        return new Union&lt;A, B&gt;(Objects.requireNonNull(a), null);\n    }\n\n    public static &lt;A, B&gt; Union&lt;A, B&gt; ofB(B b) {\n        return new Union&lt;A, B&gt;(null, Objects.requireNonNull(b));\n    }\n}\n</code></pre>\n<p>If you don't use generics you could also drop the static <code>of</code> methods and simply use two different constructors but with generics that won't work because of the type erasure.</p>\n<p>You'd call is like this:</p>\n<pre><code>Union&lt;String, Double&gt; union = Union.ofA(&quot;bla&quot;);\nif(union.isA()) {\n    System.out.println(union.getA());\n}\nif(union.isB()) {\n    System.out.println(union.getB());\n}\n</code></pre>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76503764,"answer_count":2,"score":1,"last_activity_date":1687238753,"creation_date":1687149019,"question_id":76503613,"body_markdown":"In a Java program that I need to enhance I  have a data structure \r\n\r\n    List&lt;ImmutablePair&lt;Integer, String&gt;&gt; params;\r\n\r\nusing `ImmutablePair` from `org.apache.commons.lang3.tuple`.\r\n\r\nGoing forward the String parameter needs to be able to hold *either* a `String` or a `Double`. For this I would like to create something like a union or Sum type of the two basic types.\r\n\r\nHow do I define this in Java for a list of `ImmutablePair`s?","title":"Best way to create a Union type for ImmutablePairs in Java","body":"<p>In a Java program that I need to enhance I  have a data structure</p>\n<pre><code>List&lt;ImmutablePair&lt;Integer, String&gt;&gt; params;\n</code></pre>\n<p>using <code>ImmutablePair</code> from <code>org.apache.commons.lang3.tuple</code>.</p>\n<p>Going forward the String parameter needs to be able to hold <em>either</em> a <code>String</code> or a <code>Double</code>. For this I would like to create something like a union or Sum type of the two basic types.</p>\n<p>How do I define this in Java for a list of <code>ImmutablePair</code>s?</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin"],"answers":[{"comments":[{"owner":{"account_id":1691141,"reputation":101,"user_id":3053325,"display_name":"Howard"},"score":0,"creation_date":1584799452,"post_id":45979942,"comment_id":107550577,"body_markdown":"This worked to eliminate: The following options were not recognized by any processor: &#39;[room.schemaLocation, kapt.kotlin.generated, room.incremental, room.expandProjection]&#39;.  I removed the kapt section from my app build.gradle defaultConfig, and then did a gradle resync, clean, and rebuild.  Then I restored the section and rebuilt again.  The errors were gone.    My settings were:\n kapt {\n    arguments {\n        arg(&quot;room.schemaLocation&quot;, &quot;$projectDir/schemas&quot;.toString())\n        arg(&quot;room.incremental&quot;, &quot;true&quot;)\n        arg(&quot;room.expandProjection&quot;, &quot;true&quot;)\n    }\n}","body":"This worked to eliminate: The following options were not recognized by any processor: &#39;[room.schemaLocation, kapt.kotlin.generated, room.incremental, room.expandProjection]&#39;.  I removed the kapt section from my app build.gradle defaultConfig, and then did a gradle resync, clean, and rebuild.  Then I restored the section and rebuilt again.  The errors were gone.    My settings were:  kapt {     arguments {         arg(&quot;room.schemaLocation&quot;, &quot;$projectDir/schemas&quot;.toString())         arg(&quot;room.incremental&quot;, &quot;true&quot;)         arg(&quot;room.expandProjection&quot;, &quot;true&quot;)     } }"},{"owner":{"account_id":7049112,"reputation":1696,"user_id":5398884,"accept_rate":100,"display_name":"Tim"},"score":3,"creation_date":1615481993,"post_id":45979942,"comment_id":117710049,"body_markdown":"This does not actually fix the problem. I tried this but no code changes happened so when other people clone the project it will show up for them. Also, if you reclone or restart the project it will show up again...","body":"This does not actually fix the problem. I tried this but no code changes happened so when other people clone the project it will show up for them. Also, if you reclone or restart the project it will show up again..."}],"tags":[],"owner":{"account_id":6285239,"reputation":1500,"user_id":4884749,"display_name":"Noy Oliel"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1504288806,"creation_date":1504177460,"answer_id":45979942,"question_id":45979736,"body_markdown":"I tried deleting the following from the application build.gradle file:\r\n\r\n     javaCompileOptions {\r\n        annotationProcessorOptions {\r\n            arguments = [&quot;room.schemaLocation&quot;:\r\n                                 &quot;$projectDir/schemas&quot;.toString()]\r\n        }\r\n    }\r\n\r\nThen, I ran &quot;rebuild&quot;, added the same segment again and the error disappeared.\r\nI don&#39;t know why it solved the problem but it did.\r\n\r\n**Note**: Rebuilding\\cleaning without removing the above gradle definition didn&#39;t work for me so it must be removed and added again before rebuilding.\r\n","title":"warning: The following options were not recognized by any processor: &#39;[room.schemaLocation]&#39;","body":"<p>I tried deleting the following from the application build.gradle file:</p>\n\n<pre><code> javaCompileOptions {\n    annotationProcessorOptions {\n        arguments = [\"room.schemaLocation\":\n                             \"$projectDir/schemas\".toString()]\n    }\n}\n</code></pre>\n\n<p>Then, I ran \"rebuild\", added the same segment again and the error disappeared.\nI don't know why it solved the problem but it did.</p>\n\n<p><strong>Note</strong>: Rebuilding\\cleaning without removing the above gradle definition didn't work for me so it must be removed and added again before rebuilding.</p>\n"},{"comments":[{"owner":{"account_id":364990,"reputation":6913,"user_id":709671,"accept_rate":88,"display_name":"reixa"},"score":1,"creation_date":1567501591,"post_id":53489356,"comment_id":101972049,"body_markdown":"Great answer and well explained. This solved my problem and it does have sense. Thanks.","body":"Great answer and well explained. This solved my problem and it does have sense. Thanks."}],"tags":[],"owner":{"account_id":2886241,"reputation":1276,"user_id":2476068,"display_name":"mukwux"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1543267783,"creation_date":1543267783,"answer_id":53489356,"question_id":45979736,"body_markdown":"I had a similar problem with a multi-module project that I added ***room*** to. For my project the problem was caused by adding my `RoomDatabase` derived class to a library module, but configuring the `build.gradle` of my app module.\r\n\r\nThe solution is to configure the `build.gradle` of the module that contains the `RoomDatabase` derived class.\r\n\r\nThere are 3 main pieces to the solution:\r\n\r\n**1.** Your `RoomDatabase` derived class (`AppDatabase` in this example)\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    @Database(entities = arrayOf(SomeWidgetEntity::class), version = 50)\r\n    abstract class AppDatabase : RoomDatabase() {\r\n      //your code goes here\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**2.** In the `build.gradle` file of the module that contains `AppDatabase` add the following to the `defaultConfig{}` section.\r\n&lt;!-- language: groovy --&gt;\r\n\r\n    defaultConfig {\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n            arguments = [&quot;room.schemaLocation&quot;:\r\n                         &quot;$projectDir/schemas&quot;.toString()]\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**3.** In the **SAME** `build.gradle` file in the `dependencies{}` section add the dependency for the ***room*** compiler.\r\n&lt;!-- language: groovy --&gt;\r\n\r\n    dependencies {\r\n\r\n        //for kotlin based projects (where $room_version is the version of room you&#39;re using)\r\n        kapt &quot;android.arch.persistence.room:compiler:$room_version&quot;\r\n        //for java based projects\r\n        annotationProcessor &quot;android.arch.persistence.room:compiler:$room_version&quot;\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"warning: The following options were not recognized by any processor: &#39;[room.schemaLocation]&#39;","body":"<p>I had a similar problem with a multi-module project that I added <strong><em>room</em></strong> to. For my project the problem was caused by adding my <code>RoomDatabase</code> derived class to a library module, but configuring the <code>build.gradle</code> of my app module.</p>\n\n<p>The solution is to configure the <code>build.gradle</code> of the module that contains the <code>RoomDatabase</code> derived class.</p>\n\n<p>There are 3 main pieces to the solution:</p>\n\n<p><strong>1.</strong> Your <code>RoomDatabase</code> derived class (<code>AppDatabase</code> in this example)\n</p>\n\n<pre><code>@Database(entities = arrayOf(SomeWidgetEntity::class), version = 50)\nabstract class AppDatabase : RoomDatabase() {\n  //your code goes here\n}\n</code></pre>\n\n\n\n<p><strong>2.</strong> In the <code>build.gradle</code> file of the module that contains <code>AppDatabase</code> add the following to the <code>defaultConfig{}</code> section.\n</p>\n\n<pre><code>defaultConfig {\n\n    javaCompileOptions {\n        annotationProcessorOptions {\n        arguments = [\"room.schemaLocation\":\n                     \"$projectDir/schemas\".toString()]\n        }\n    }\n\n}\n</code></pre>\n\n\n\n<p><strong>3.</strong> In the <strong>SAME</strong> <code>build.gradle</code> file in the <code>dependencies{}</code> section add the dependency for the <strong><em>room</em></strong> compiler.\n</p>\n\n<pre><code>dependencies {\n\n    //for kotlin based projects (where $room_version is the version of room you're using)\n    kapt \"android.arch.persistence.room:compiler:$room_version\"\n    //for java based projects\n    annotationProcessor \"android.arch.persistence.room:compiler:$room_version\"\n\n}\n</code></pre>\n\n\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1635591004,"post_id":69778306,"comment_id":123342740,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69778306/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23189946,"reputation":1,"user_id":17286453,"display_name":"Viktor Ardelean"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635585763,"creation_date":1635585763,"answer_id":69778306,"question_id":45979736,"body_markdown":"For maven add the following in the maven compiler plugin configuration:\r\n\r\n\r\n                        &lt;annotationProcessorPaths&gt;\r\n                             &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n","title":"warning: The following options were not recognized by any processor: &#39;[room.schemaLocation]&#39;","body":"<p>For maven add the following in the maven compiler plugin configuration:</p>\n<pre><code>                    &lt;annotationProcessorPaths&gt;\n                         &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687238589,"creation_date":1687238589,"answer_id":76511619,"question_id":45979736,"body_markdown":"I faced the same issue. The problem was Hilt version was not compatible with the kotlin version.\r\n\r\nYou can compare the below code in the project-level `build.gradle` file.\r\n\r\n    dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:8.0.2&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.20&quot;\r\n            classpath &quot;com.google.dagger:hilt-android-gradle-plugin:2.46.1&quot;\r\n        }\r\n\r\nAnd below code in the module-level `build.gradle` file.\r\n\r\n    implementation &quot;com.google.dagger:hilt-android:2.46.1&quot;\r\n    kapt &quot;com.google.dagger:hilt-android-compiler:2.46.1&quot;\r\n\r\n\r\nFor more information, You can have a look at [Hilt gradle setup.](https://dagger.dev/hilt/gradle-setup)","title":"warning: The following options were not recognized by any processor: &#39;[room.schemaLocation]&#39;","body":"<p>I faced the same issue. The problem was Hilt version was not compatible with the kotlin version.</p>\n<p>You can compare the below code in the project-level <code>build.gradle</code> file.</p>\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:8.0.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.20&quot;\n        classpath &quot;com.google.dagger:hilt-android-gradle-plugin:2.46.1&quot;\n    }\n</code></pre>\n<p>And below code in the module-level <code>build.gradle</code> file.</p>\n<pre><code>implementation &quot;com.google.dagger:hilt-android:2.46.1&quot;\nkapt &quot;com.google.dagger:hilt-android-compiler:2.46.1&quot;\n</code></pre>\n<p>For more information, You can have a look at <a href=\"https://dagger.dev/hilt/gradle-setup\" rel=\"nofollow noreferrer\">Hilt gradle setup.</a></p>\n"}],"owner":{"account_id":6285239,"reputation":1500,"user_id":4884749,"display_name":"Noy Oliel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19694,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":53489356,"answer_count":4,"score":27,"last_activity_date":1687238589,"creation_date":1504176832,"question_id":45979736,"body_markdown":"I got this warning:\r\n\r\n**warning: The following options were not recognized by any processor: &#39;[room.schemaLocation]&#39;**\r\n\r\nI&#39;ve already checked the below links solutions and it seems to be a different problem.\r\nI receive the error while working with Android Studio IDE on an Android project. The error popped up after changes to binding variable in xml (changed type from Integer to int due to Unboxing warning and that i actually only require int). \r\n\r\nAlready checked below solutions:\r\n\r\n[NetBeans bug 233098][1]\r\n\r\n[getting-android-studio-gradle-and-android-annotations-working-together][2]\r\n\r\n[annotationprocessor-option-not-recorgnized-by-any-processor][3]\r\n\r\n\r\n  [1]: https://netbeans.org/bugzilla/show_bug.cgi?id=233098\r\n  [2]: https://stackoverflow.com/questions/25290256/getting-android-studio-gradle-and-android-annotations-working-together\r\n  [3]: https://stackoverflow.com/questions/27607509/annotationprocessor-option-not-recorgnized-by-any-processor","title":"warning: The following options were not recognized by any processor: &#39;[room.schemaLocation]&#39;","body":"<p>I got this warning:</p>\n\n<p><strong>warning: The following options were not recognized by any processor: '[room.schemaLocation]'</strong></p>\n\n<p>I've already checked the below links solutions and it seems to be a different problem.\nI receive the error while working with Android Studio IDE on an Android project. The error popped up after changes to binding variable in xml (changed type from Integer to int due to Unboxing warning and that i actually only require int). </p>\n\n<p>Already checked below solutions:</p>\n\n<p><a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=233098\" rel=\"noreferrer\">NetBeans bug 233098</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/25290256/getting-android-studio-gradle-and-android-annotations-working-together\">getting-android-studio-gradle-and-android-annotations-working-together</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/27607509/annotationprocessor-option-not-recorgnized-by-any-processor\">annotationprocessor-option-not-recorgnized-by-any-processor</a></p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":11819624,"reputation":39,"user_id":8649053,"display_name":"bellpatricia"},"score":0,"creation_date":1556518570,"post_id":1516144,"comment_id":98451826,"body_markdown":"With [GemBox.Spreadsheet for Java](https://www.gemboxsoftware.com/spreadsheet-java/examples/java-excel-api-library/601) this is simple, you just iterate through rows in a sheet and through allocated cells in a row and call `ExcelCell.getValue()` on each. For instance, see this [reading](https://www.gemboxsoftware.com/spreadsheet-java/examples/open-read-excel-file-in-java/401) example, also for writing you can check [this](https://www.gemboxsoftware.com/spreadsheet-java/examples/create-write-excel-file-in-java/402) example.","body":"With <a href=\"https://www.gemboxsoftware.com/spreadsheet-java/examples/java-excel-api-library/601\" rel=\"nofollow noreferrer\">GemBox.Spreadsheet for Java</a> this is simple, you just iterate through rows in a sheet and through allocated cells in a row and call <code>ExcelCell.getValue()</code> on each. For instance, see this <a href=\"https://www.gemboxsoftware.com/spreadsheet-java/examples/open-read-excel-file-in-java/401\" rel=\"nofollow noreferrer\">reading</a> example, also for writing you can check <a href=\"https://www.gemboxsoftware.com/spreadsheet-java/examples/create-write-excel-file-in-java/402\" rel=\"nofollow noreferrer\">this</a> example."}],"answers":[{"comments":[{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1633445968,"post_id":1516148,"comment_id":122758926,"body_markdown":"can we do it in plain java/spring without help of any framework?","body":"can we do it in plain java/spring without help of any framework?"},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":1,"creation_date":1633461280,"post_id":1516148,"comment_id":122764792,"body_markdown":"If you’re using Spring it’s not plain Java. I think that if you want to read these files then POI is the way forwards","body":"If you’re using Spring it’s not plain Java. I think that if you want to read these files then POI is the way forwards"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":2,"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1544520831,"creation_date":1254653832,"answer_id":1516148,"question_id":1516144,"body_markdown":"[Apache POI][1] can do this for you. Specifically the [HSSF][2] module. The [quick guide][3] is most useful. Here&#39;s how to do what you want - specifically create a sheet and write it out.\r\n\t\r\n\r\n    Workbook wb = new HSSFWorkbook();\r\n\t//Workbook wb = new XSSFWorkbook();\r\n\tCreationHelper createHelper = wb.getCreationHelper();\r\n\tSheet sheet = wb.createSheet(&quot;new sheet&quot;);\r\n\r\n\t// Create a row and put some cells in it. Rows are 0 based.\r\n\tRow row = sheet.createRow((short)0);\r\n\t// Create a cell and put a value in it.\r\n\tCell cell = row.createCell(0);\r\n\tcell.setCellValue(1);\r\n\r\n\t// Or do it on one line.\r\n\trow.createCell(1).setCellValue(1.2);\r\n\trow.createCell(2).setCellValue(\r\n\tcreateHelper.createRichTextString(&quot;This is a string&quot;));\r\n\trow.createCell(3).setCellValue(true);\r\n\r\n\t// Write the output to a file\r\n\tFileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\r\n\twb.write(fileOut);\r\n\tfileOut.close();\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n  [2]: http://poi.apache.org/spreadsheet/index.html\r\n  [3]: http://poi.apache.org/spreadsheet/quick-guide.html","title":"How to read and write excel file","body":"<p><a href=\"http://poi.apache.org/\" rel=\"noreferrer\">Apache POI</a> can do this for you. Specifically the <a href=\"http://poi.apache.org/spreadsheet/index.html\" rel=\"noreferrer\">HSSF</a> module. The <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html\" rel=\"noreferrer\">quick guide</a> is most useful. Here's how to do what you want - specifically create a sheet and write it out.</p>\n\n<pre><code>Workbook wb = new HSSFWorkbook();\n//Workbook wb = new XSSFWorkbook();\nCreationHelper createHelper = wb.getCreationHelper();\nSheet sheet = wb.createSheet(\"new sheet\");\n\n// Create a row and put some cells in it. Rows are 0 based.\nRow row = sheet.createRow((short)0);\n// Create a cell and put a value in it.\nCell cell = row.createCell(0);\ncell.setCellValue(1);\n\n// Or do it on one line.\nrow.createCell(1).setCellValue(1.2);\nrow.createCell(2).setCellValue(\ncreateHelper.createRichTextString(\"This is a string\"));\nrow.createCell(3).setCellValue(true);\n\n// Write the output to a file\nFileOutputStream fileOut = new FileOutputStream(\"workbook.xls\");\nwb.write(fileOut);\nfileOut.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1235900,"reputation":1020,"user_id":1199488,"accept_rate":79,"display_name":"DavidVdd"},"score":15,"creation_date":1352305287,"post_id":1516154,"comment_id":18093378,"body_markdown":"row.getCell((short)c); is deprecated I think I have to use int instead.","body":"row.getCell((short)c); is deprecated I think I have to use int instead."},{"owner":{"account_id":2757553,"reputation":1066,"user_id":2375207,"accept_rate":100,"display_name":"nicolallias"},"score":4,"creation_date":1419344281,"post_id":1516154,"comment_id":43664800,"body_markdown":"in fact, just remove the (short) cast https://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getCell%28short%29","body":"in fact, just remove the (short) cast <a href=\"https://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFRow.html#getCell%28short%29\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/&hellip;</a>"},{"owner":{"account_id":2881022,"reputation":189,"user_id":2471937,"display_name":"pearcemerritt"},"score":1,"creation_date":1457119416,"post_id":1516154,"comment_id":59278122,"body_markdown":"In my attempts to use this code, I found that `HSSFSheet`&#39;s `getPhysicalNumberOfRows()` method seemed to return the number of non-empty rows (it was not obvious to me that&#39;s what &quot;physical&quot; meant). So, if your excel file has a lot of empty rows (i.e. for formatting reasons), you might have more luck using `rows = sheet.getLastRowNum();`. This should also mean you can remove the trick (see comment) from the first loop: `for(int i = 0; i &lt;= rows; i++) {` (note the change from `&lt;` to `&lt;=`).","body":"In my attempts to use this code, I found that <code>HSSFSheet</code>&#39;s <code>getPhysicalNumberOfRows()</code> method seemed to return the number of non-empty rows (it was not obvious to me that&#39;s what &quot;physical&quot; meant). So, if your excel file has a lot of empty rows (i.e. for formatting reasons), you might have more luck using <code>rows = sheet.getLastRowNum();</code>. This should also mean you can remove the trick (see comment) from the first loop: <code>for(int i = 0; i &lt;= rows; i++) {</code> (note the change from <code>&lt;</code> to <code>&lt;=</code>)."},{"owner":{"account_id":13172282,"reputation":122,"user_id":9514162,"display_name":"Karen"},"score":0,"creation_date":1522310699,"post_id":1516154,"comment_id":86108928,"body_markdown":"Sorry to dig this again but i has the same problem as this, Let say you have 3 column of Name, BirthDate, Gender. How do you add that 3 to separate Vector by reading with this code?","body":"Sorry to dig this again but i has the same problem as this, Let say you have 3 column of Name, BirthDate, Gender. How do you add that 3 to separate Vector by reading with this code?"},{"owner":{"account_id":3116091,"reputation":161,"user_id":2636808,"accept_rate":60,"display_name":"Mahender Reddy Yasa"},"score":0,"creation_date":1528961072,"post_id":1516154,"comment_id":88706244,"body_markdown":"why nobody have given option to use JXI","body":"why nobody have given option to use JXI"},{"owner":{"account_id":76898,"reputation":2279,"user_id":219843,"accept_rate":93,"display_name":"Ring"},"score":0,"creation_date":1546885062,"post_id":1516154,"comment_id":94992797,"body_markdown":"Where is the file encoding specified?","body":"Where is the file encoding specified?"},{"owner":{"account_id":8642274,"reputation":750,"user_id":6470613,"display_name":"Jerin D Joy"},"score":1,"creation_date":1576056107,"post_id":1516154,"comment_id":104770928,"body_markdown":"Try to Use Workbook instead of HSSFWorkbook. It supports both HSSF (.xls) and XSSF (.xlsx).","body":"Try to Use Workbook instead of HSSFWorkbook. It supports both HSSF (.xls) and XSSF (.xlsx)."}],"tags":[],"owner":{"account_id":13984,"reputation":52347,"user_id":28388,"accept_rate":100,"display_name":"rogeriopvl"},"comment_count":7,"down_vote_count":1,"up_vote_count":161,"is_accepted":false,"score":160,"last_activity_date":1532363360,"creation_date":1254653975,"answer_id":1516154,"question_id":1516144,"body_markdown":"Try the [Apache POI HSSF][1]. Here&#39;s an example on how to read an excel file:\r\n\r\n    try {\r\n        POIFSFileSystem fs = new POIFSFileSystem(new FileInputStream(file));\r\n        HSSFWorkbook wb = new HSSFWorkbook(fs);\r\n        HSSFSheet sheet = wb.getSheetAt(0);\r\n        HSSFRow row;\r\n        HSSFCell cell;\r\n    \r\n        int rows; // No of rows\r\n        rows = sheet.getPhysicalNumberOfRows();\r\n    \r\n        int cols = 0; // No of columns\r\n        int tmp = 0;\r\n    \r\n        // This trick ensures that we get the data properly even if it doesn&#39;t start from first few rows\r\n        for(int i = 0; i &lt; 10 || i &lt; rows; i++) {\r\n            row = sheet.getRow(i);\r\n            if(row != null) {\r\n                tmp = sheet.getRow(i).getPhysicalNumberOfCells();\r\n                if(tmp &gt; cols) cols = tmp;\r\n            }\r\n        }\r\n    \r\n        for(int r = 0; r &lt; rows; r++) {\r\n            row = sheet.getRow(r);\r\n            if(row != null) {\r\n                for(int c = 0; c &lt; cols; c++) {\r\n                    cell = row.getCell((short)c);\r\n                    if(cell != null) {\r\n                        // Your code here\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    } catch(Exception ioe) {\r\n        ioe.printStackTrace();\r\n    }\r\n\r\nOn the documentation page you also have examples of how to write to excel files.\r\n\r\n  [1]: https://poi.apache.org/","title":"How to read and write excel file","body":"<p>Try the <a href=\"https://poi.apache.org/\" rel=\"noreferrer\">Apache POI HSSF</a>. Here's an example on how to read an excel file:</p>\n\n<pre><code>try {\n    POIFSFileSystem fs = new POIFSFileSystem(new FileInputStream(file));\n    HSSFWorkbook wb = new HSSFWorkbook(fs);\n    HSSFSheet sheet = wb.getSheetAt(0);\n    HSSFRow row;\n    HSSFCell cell;\n\n    int rows; // No of rows\n    rows = sheet.getPhysicalNumberOfRows();\n\n    int cols = 0; // No of columns\n    int tmp = 0;\n\n    // This trick ensures that we get the data properly even if it doesn't start from first few rows\n    for(int i = 0; i &lt; 10 || i &lt; rows; i++) {\n        row = sheet.getRow(i);\n        if(row != null) {\n            tmp = sheet.getRow(i).getPhysicalNumberOfCells();\n            if(tmp &gt; cols) cols = tmp;\n        }\n    }\n\n    for(int r = 0; r &lt; rows; r++) {\n        row = sheet.getRow(r);\n        if(row != null) {\n            for(int c = 0; c &lt; cols; c++) {\n                cell = row.getCell((short)c);\n                if(cell != null) {\n                    // Your code here\n                }\n            }\n        }\n    }\n} catch(Exception ioe) {\n    ioe.printStackTrace();\n}\n</code></pre>\n\n<p>On the documentation page you also have examples of how to write to excel files.</p>\n"},{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":2,"creation_date":1254655362,"post_id":1516158,"comment_id":1370538,"body_markdown":"Beware that you will have to escape commas within the strings you write to the CSV.","body":"Beware that you will have to escape commas within the strings you write to the CSV."},{"owner":{"account_id":1279,"reputation":20565,"user_id":1702,"accept_rate":90,"display_name":"Yuval F"},"score":0,"creation_date":1254655912,"post_id":1516158,"comment_id":1370558,"body_markdown":"Indeed CSV is enough. If your fields have no commas, it is probably easiest just to print the fields and commas. Otherwise, you may want to use http://commons.apache.org/sandbox/csv/","body":"Indeed CSV is enough. If your fields have no commas, it is probably easiest just to print the fields and commas. Otherwise, you may want to use <a href=\"http://commons.apache.org/sandbox/csv/\" rel=\"nofollow noreferrer\">commons.apache.org/sandbox/csv</a>"},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":2,"creation_date":1254656142,"post_id":1516158,"comment_id":1370564,"body_markdown":"I&#39;m not sure a CSV *is* enough, since the question specifically says &#39;read&#39; and &#39;write&#39; an Excel file. He might be able to get away with CSV, but that&#39;s not what he&#39;s asking.","body":"I&#39;m not sure a CSV <i>is</i> enough, since the question specifically says &#39;read&#39; and &#39;write&#39; an Excel file. He might be able to get away with CSV, but that&#39;s not what he&#39;s asking."},{"owner":{"account_id":13205,"reputation":8340,"user_id":26387,"accept_rate":79,"display_name":"Roalt"},"score":0,"creation_date":1284039039,"post_id":1516158,"comment_id":3871645,"body_markdown":"Some international versions of Excel use semicolons instead of commas as separators. This also increases complexity","body":"Some international versions of Excel use semicolons instead of commas as separators. This also increases complexity"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1412758275,"post_id":1516158,"comment_id":41182167,"body_markdown":"If the output contains dates CSV may be too simple.","body":"If the output contains dates CSV may be too simple."},{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":0,"creation_date":1522656351,"post_id":1516158,"comment_id":86221667,"body_markdown":"Question clearly states spreadsheet, and not csv,  which is a huge difference.","body":"Question clearly states spreadsheet, and not csv,  which is a huge difference."},{"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"score":0,"creation_date":1580120763,"post_id":1516158,"comment_id":105980484,"body_markdown":"CSV has some caveats, especially when used with Excel and non-english locales. This includes floating point separators (sometimes &#39;,&#39;), which leads to &#39;;&#39; as separator. Furthermore, Quoting is an issue, as Excel will try to evaluate cells starting with &#39;=&#39; instead of importing them as a string (sometimes...). Furthermore, Excel behaves differently when opening a CSV directly vs importing it into a new sheet (as of today). There are good reasons why CSV might not be enough!","body":"CSV has some caveats, especially when used with Excel and non-english locales. This includes floating point separators (sometimes &#39;,&#39;), which leads to &#39;;&#39; as separator. Furthermore, Quoting is an issue, as Excel will try to evaluate cells starting with &#39;=&#39; instead of importing them as a string (sometimes...). Furthermore, Excel behaves differently when opening a CSV directly vs importing it into a new sheet (as of today). There are good reasons why CSV might not be enough!"},{"owner":{"account_id":3681639,"reputation":9725,"user_id":3066467,"accept_rate":67,"display_name":"Guntram Blohm"},"score":0,"creation_date":1633117687,"post_id":1516158,"comment_id":122684237,"body_markdown":"There are so many issues when you tell ordinary users to export their excel to csv - semicolons vs. commas, commas as decimal points, long &quot;numbers&quot;, like ISBN/EANs (european article numbers) showing up as 123E+12 in the CSV, labels that have newlines which may break csv structure ...  it&#39;s much easier to tell the user to upload their .xlsx file and parse it yourself.","body":"There are so many issues when you tell ordinary users to export their excel to csv - semicolons vs. commas, commas as decimal points, long &quot;numbers&quot;, like ISBN/EANs (european article numbers) showing up as 123E+12 in the CSV, labels that have newlines which may break csv structure ...  it&#39;s much easier to tell the user to upload their .xlsx file and parse it yourself."}],"tags":[],"owner":{"account_id":58364,"reputation":297843,"user_id":174728,"accept_rate":100,"display_name":"John La Rooy"},"comment_count":8,"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1254654109,"creation_date":1254654109,"answer_id":1516158,"question_id":1516144,"body_markdown":"A simple CSV file should suffice","title":"How to read and write excel file","body":"<p>A simple CSV file should suffice</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1254657722,"creation_date":1254657722,"answer_id":1516235,"question_id":1516144,"body_markdown":"If you need to do anything more with office documents in Java, go for POI as mentioned.\r\n\r\nFor simple reading/writing an excel document like you requested, you can use the CSV format (also as mentioned):\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.util.Scanner;\r\n    \r\n    public class CsvWriter {\r\n     public static void main(String args[]) throws IOException {\r\n    \r\n      String fileName = &quot;test.xls&quot;;\r\n    \r\n      PrintWriter out = new PrintWriter(new FileWriter(fileName));\r\n      out.println(&quot;a,b,c,d&quot;);\r\n      out.println(&quot;e,f,g,h&quot;);\r\n      out.println(&quot;i,j,k,l&quot;);\r\n      out.close();\r\n    \r\n      BufferedReader in = new BufferedReader(new FileReader(fileName));\r\n      String line = null;\r\n      while ((line = in.readLine()) != null) {\r\n    \r\n       Scanner scanner = new Scanner(line);\r\n       String sep = &quot;&quot;;\r\n       while (scanner.hasNext()) {\r\n        System.out.println(sep + scanner.next());\r\n        sep = &quot;,&quot;;\r\n       }\r\n      }\r\n      in.close();\r\n     }\r\n    }","title":"How to read and write excel file","body":"<p>If you need to do anything more with office documents in Java, go for POI as mentioned.</p>\n\n<p>For simple reading/writing an excel document like you requested, you can use the CSV format (also as mentioned):</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Scanner;\n\npublic class CsvWriter {\n public static void main(String args[]) throws IOException {\n\n  String fileName = \"test.xls\";\n\n  PrintWriter out = new PrintWriter(new FileWriter(fileName));\n  out.println(\"a,b,c,d\");\n  out.println(\"e,f,g,h\");\n  out.println(\"i,j,k,l\");\n  out.close();\n\n  BufferedReader in = new BufferedReader(new FileReader(fileName));\n  String line = null;\n  while ((line = in.readLine()) != null) {\n\n   Scanner scanner = new Scanner(line);\n   String sep = \"\";\n   while (scanner.hasNext()) {\n    System.out.println(sep + scanner.next());\n    sep = \",\";\n   }\n  }\n  in.close();\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1547670,"reputation":939,"user_id":1440818,"display_name":"Michal - wereda-net"},"score":0,"creation_date":1615384831,"post_id":1516346,"comment_id":117673824,"body_markdown":"and it is commercial!","body":"and it is commercial!"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1615388199,"post_id":1516346,"comment_id":117675470,"body_markdown":"12 years since the original answer. Or was open source in 2009.","body":"12 years since the original answer. Or was open source in 2009."}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1254660609,"creation_date":1254660609,"answer_id":1516346,"question_id":1516144,"body_markdown":".csv or POI will certainly do it, but you should be aware of Andy Khan&#39;s [JExcel][1].  I think it&#39;s by far the best Java library for working with Excel there is.\r\n\r\n\r\n  [1]: http://jexcelapi.sourceforge.net/","title":"How to read and write excel file","body":"<p>.csv or POI will certainly do it, but you should be aware of Andy Khan's <a href=\"http://jexcelapi.sourceforge.net/\" rel=\"noreferrer\">JExcel</a>.  I think it's by far the best Java library for working with Excel there is.</p>\n"},{"comments":[{"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"score":3,"creation_date":1420668671,"post_id":1516366,"comment_id":44065078,"body_markdown":"I tried to visit the tutorial page. It seems to be removed.","body":"I tried to visit the tutorial page. It seems to be removed."},{"owner":{"account_id":453092,"reputation":359,"user_id":849897,"display_name":"MGM"},"score":5,"creation_date":1435927893,"post_id":1516366,"comment_id":50416337,"body_markdown":"JExcelApi is for old (up to Excel 2003) binary .xls files. \nApache POI-HSSF is addressing the same old .xls, while\nApache POI-XSSF works with the new (Excel 2007-) .xlsx","body":"JExcelApi is for old (up to Excel 2003) binary .xls files.  Apache POI-HSSF is addressing the same old .xls, while Apache POI-XSSF works with the new (Excel 2007-) .xlsx"},{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1638472457,"post_id":1516366,"comment_id":124104153,"body_markdown":"The disadvantage is that it only provides support for processing Excel files in the .xls (1997-2003) format.","body":"The disadvantage is that it only provides support for processing Excel files in the .xls (1997-2003) format."}],"tags":[],"owner":{"account_id":12560,"reputation":10361,"user_id":24815,"display_name":"javashlook"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1254661576,"creation_date":1254661576,"answer_id":1516366,"question_id":1516144,"body_markdown":"You can also consider [JExcelApi][1]. I find it better designed than POI. There&#39;s a tutorial [here][2].\r\n\r\n\r\n  [1]: http://jexcelapi.sourceforge.net/\r\n  [2]: http://www.andykhan.com/jexcelapi/tutorial.html","title":"How to read and write excel file","body":"<p>You can also consider <a href=\"http://jexcelapi.sourceforge.net/\" rel=\"noreferrer\">JExcelApi</a>. I find it better designed than POI. There's a tutorial <a href=\"http://www.andykhan.com/jexcelapi/tutorial.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":10558273,"reputation":53,"user_id":7778747,"display_name":"NixonUposseen"},"score":0,"creation_date":1541752308,"post_id":17159410,"comment_id":93331272,"body_markdown":"With Apache POI you need HSSF module for XLS and XSSF module for XLSX format, with [GemBox.Spreadsheet for Java](https://www.gemboxsoftware.com/spreadsheet-java) both formats are unified into same module and are represented with same ExcelFile type.","body":"With Apache POI you need HSSF module for XLS and XSSF module for XLSX format, with <a href=\"https://www.gemboxsoftware.com/spreadsheet-java\" rel=\"nofollow noreferrer\">GemBox.Spreadsheet for Java</a> both formats are unified into same module and are represented with same ExcelFile type."}],"tags":[],"owner":{"account_id":1262994,"reputation":31,"user_id":1220860,"display_name":"Satish Reddy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371521475,"creation_date":1371520044,"answer_id":17159410,"question_id":1516144,"body_markdown":"For reading data from .xlsx workbooks we need to use XSSFworkbook classes.\r\n\r\n`XSSFWorkbook xlsxBook = new XSSFWorkbook(fis);`\r\n\r\n`XSSFSheet sheet = xlsxBook.getSheetAt(0);` etc.\r\n\r\nWe need to use Apache-poi 3.9 @ [http://poi.apache.org/][1] \r\n\r\nFor detailed info with example visit\r\n: [http://java-recent.blogspot.in][2]\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n  [2]: http://java-recent.blogspot.com","title":"How to read and write excel file","body":"<p>For reading data from .xlsx workbooks we need to use XSSFworkbook classes.</p>\n\n<p><code>XSSFWorkbook xlsxBook = new XSSFWorkbook(fis);</code></p>\n\n<p><code>XSSFSheet sheet = xlsxBook.getSheetAt(0);</code> etc.</p>\n\n<p>We need to use Apache-poi 3.9 @ <a href=\"http://poi.apache.org/\" rel=\"nofollow\">http://poi.apache.org/</a> </p>\n\n<p>For detailed info with example visit\n: <a href=\"http://java-recent.blogspot.com\" rel=\"nofollow\">http://java-recent.blogspot.in</a></p>\n"},{"tags":[],"owner":{"account_id":3087626,"reputation":419,"user_id":2614471,"display_name":"Prashant Tiwari"},"comment_count":0,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1455000930,"creation_date":1375434954,"answer_id":18013104,"question_id":1516144,"body_markdown":"First add all these jar files in your project class path: \r\n\r\n1. poi-scratchpad-3.7-20101029\r\n2. poi-3.2-FINAL-20081019\r\n3. poi-3.7-20101029\r\n4. poi-examples-3.7-20101029\r\n5. poi-ooxml-3.7-20101029\r\n6. poi-ooxml-schemas-3.7-20101029\r\n7. xmlbeans-2.3.0\r\n8. dom4j-1.6.1\r\n\r\n**Code for writing in a excel  file:**\r\n\r\n    public static void main(String[] args) {\r\n        //Blank workbook\r\n        XSSFWorkbook workbook = new XSSFWorkbook();\r\n\r\n        //Create a blank sheet\r\n        XSSFSheet sheet = workbook.createSheet(&quot;Employee Data&quot;);\r\n\r\n        //This data needs to be written (Object[])\r\n        Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\r\n        data.put(&quot;1&quot;, new Object[]{&quot;ID&quot;, &quot;NAME&quot;, &quot;LASTNAME&quot;});\r\n        data.put(&quot;2&quot;, new Object[]{1, &quot;Amit&quot;, &quot;Shukla&quot;});\r\n        data.put(&quot;3&quot;, new Object[]{2, &quot;Lokesh&quot;, &quot;Gupta&quot;});\r\n        data.put(&quot;4&quot;, new Object[]{3, &quot;John&quot;, &quot;Adwards&quot;});\r\n        data.put(&quot;5&quot;, new Object[]{4, &quot;Brian&quot;, &quot;Schultz&quot;});\r\n\r\n        //Iterate over data and write to sheet\r\n        Set&lt;String&gt; keyset = data.keySet();\r\n        \r\n        int rownum = 0;\r\n        for (String key : keyset) \r\n        {\r\n            //create a row of excelsheet\r\n            Row row = sheet.createRow(rownum++);\r\n            \r\n            //get object array of prerticuler key\r\n            Object[] objArr = data.get(key);\r\n            \r\n            int cellnum = 0;\r\n            \r\n            for (Object obj : objArr) \r\n            {\r\n                Cell cell = row.createCell(cellnum++);\r\n                if (obj instanceof String) \r\n                {\r\n                    cell.setCellValue((String) obj);\r\n                }\r\n                else if (obj instanceof Integer) \r\n                {\r\n                    cell.setCellValue((Integer) obj);\r\n                }\r\n            }\r\n        }\r\n        try \r\n        {\r\n            //Write the workbook in file system\r\n            FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n            workbook.write(out);\r\n            out.close();\r\n            System.out.println(&quot;howtodoinjava_demo.xlsx written successfully on disk.&quot;);\r\n        } \r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n**Code for reading from excel file**\r\n\r\n    /*\r\n    * To change this template, choose Tools | Templates\r\n    * and open the template in the editor.\r\n    */\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            FileInputStream file = new FileInputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n\r\n            //Create Workbook instance holding reference to .xlsx file\r\n            XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\r\n            //Get first/desired sheet from the workbook\r\n            XSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n            //Iterate through each rows one by one\r\n            Iterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n            while (rowIterator.hasNext())\r\n            {\r\n                Row row = rowIterator.next();\r\n                //For each row, iterate through all the columns\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n\r\n                while (cellIterator.hasNext()) \r\n                {\r\n                    Cell cell = cellIterator.next();\r\n                    //Check the cell type and format accordingly\r\n                    switch (cell.getCellType()) \r\n                    {\r\n                        case Cell.CELL_TYPE_NUMERIC:\r\n                            System.out.print(cell.getNumericCellValue() + &quot;\\t&quot;);\r\n                            break;\r\n                        case Cell.CELL_TYPE_STRING:\r\n                            System.out.print(cell.getStringCellValue() + &quot;\\t&quot;);\r\n                            break;\r\n                    }\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n            file.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to read and write excel file","body":"<p>First add all these jar files in your project class path: </p>\n\n<ol>\n<li>poi-scratchpad-3.7-20101029</li>\n<li>poi-3.2-FINAL-20081019</li>\n<li>poi-3.7-20101029</li>\n<li>poi-examples-3.7-20101029</li>\n<li>poi-ooxml-3.7-20101029</li>\n<li>poi-ooxml-schemas-3.7-20101029</li>\n<li>xmlbeans-2.3.0</li>\n<li>dom4j-1.6.1</li>\n</ol>\n\n<p><strong>Code for writing in a excel  file:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    //Blank workbook\n    XSSFWorkbook workbook = new XSSFWorkbook();\n\n    //Create a blank sheet\n    XSSFSheet sheet = workbook.createSheet(\"Employee Data\");\n\n    //This data needs to be written (Object[])\n    Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\n    data.put(\"1\", new Object[]{\"ID\", \"NAME\", \"LASTNAME\"});\n    data.put(\"2\", new Object[]{1, \"Amit\", \"Shukla\"});\n    data.put(\"3\", new Object[]{2, \"Lokesh\", \"Gupta\"});\n    data.put(\"4\", new Object[]{3, \"John\", \"Adwards\"});\n    data.put(\"5\", new Object[]{4, \"Brian\", \"Schultz\"});\n\n    //Iterate over data and write to sheet\n    Set&lt;String&gt; keyset = data.keySet();\n\n    int rownum = 0;\n    for (String key : keyset) \n    {\n        //create a row of excelsheet\n        Row row = sheet.createRow(rownum++);\n\n        //get object array of prerticuler key\n        Object[] objArr = data.get(key);\n\n        int cellnum = 0;\n\n        for (Object obj : objArr) \n        {\n            Cell cell = row.createCell(cellnum++);\n            if (obj instanceof String) \n            {\n                cell.setCellValue((String) obj);\n            }\n            else if (obj instanceof Integer) \n            {\n                cell.setCellValue((Integer) obj);\n            }\n        }\n    }\n    try \n    {\n        //Write the workbook in file system\n        FileOutputStream out = new FileOutputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n        workbook.write(out);\n        out.close();\n        System.out.println(\"howtodoinjava_demo.xlsx written successfully on disk.\");\n    } \n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p><strong>Code for reading from excel file</strong></p>\n\n<pre><code>/*\n* To change this template, choose Tools | Templates\n* and open the template in the editor.\n*/\n\npublic static void main(String[] args) {\n    try {\n        FileInputStream file = new FileInputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n\n        //Create Workbook instance holding reference to .xlsx file\n        XSSFWorkbook workbook = new XSSFWorkbook(file);\n\n        //Get first/desired sheet from the workbook\n        XSSFSheet sheet = workbook.getSheetAt(0);\n\n        //Iterate through each rows one by one\n        Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n        while (rowIterator.hasNext())\n        {\n            Row row = rowIterator.next();\n            //For each row, iterate through all the columns\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n\n            while (cellIterator.hasNext()) \n            {\n                Cell cell = cellIterator.next();\n                //Check the cell type and format accordingly\n                switch (cell.getCellType()) \n                {\n                    case Cell.CELL_TYPE_NUMERIC:\n                        System.out.print(cell.getNumericCellValue() + \"\\t\");\n                        break;\n                    case Cell.CELL_TYPE_STRING:\n                        System.out.print(cell.getStringCellValue() + \"\\t\");\n                        break;\n                }\n            }\n            System.out.println(\"\");\n        }\n        file.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":453092,"reputation":359,"user_id":849897,"display_name":"MGM"},"score":0,"creation_date":1435928298,"post_id":22055362,"comment_id":50416632,"body_markdown":"(You are simply store the String arrays in the JTable, and get back the Strings for wrinting a tab-separated &quot;CSV&quot; file. JTable is superfluous in this algorithm...)","body":"(You are simply store the String arrays in the JTable, and get back the Strings for wrinting a tab-separated &quot;CSV&quot; file. JTable is superfluous in this algorithm...)"}],"tags":[],"owner":{"account_id":2901403,"reputation":3065,"user_id":2487995,"accept_rate":73,"display_name":"Doug Hauf"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1393455515,"creation_date":1393455515,"answer_id":22055362,"question_id":1516144,"body_markdown":"This will write a JTable to a tab separated file that can be easily imported into Excel. This works.\r\n\r\nIf you save an Excel worksheet as an XML document you could also build the XML file for EXCEL with code. I have done this with word so you do not have to use third-party packages. \r\n\r\nThis could code have the JTable taken out and then just write a tab separated to any text file and then import into Excel. I hope this helps.\r\n\r\nCode:\r\n\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.TableModel;\r\n    \r\n    public class excel {\r\n    \tString columnNames[] = { &quot;Column 1&quot;, &quot;Column 2&quot;, &quot;Column 3&quot; };\r\n    \r\n    \t// Create some data\r\n    \tString dataValues[][] =\r\n    \t{\r\n    \t\t{ &quot;12&quot;, &quot;234&quot;, &quot;67&quot; },\r\n    \t\t{ &quot;-123&quot;, &quot;43&quot;, &quot;853&quot; },\r\n    \t\t{ &quot;93&quot;, &quot;89.2&quot;, &quot;109&quot; },\r\n    \t\t{ &quot;279&quot;, &quot;9033&quot;, &quot;3092&quot; }\r\n    \t};\r\n    \r\n    \tJTable table;\r\n    \t\r\n    \texcel() {\r\n    \t\ttable = new JTable( dataValues, columnNames );\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic void toExcel(JTable table, File file){\r\n    \t    try{\r\n    \t        TableModel model = table.getModel();\r\n    \t        FileWriter excel = new FileWriter(file);\r\n    \r\n    \t        for(int i = 0; i &lt; model.getColumnCount(); i++){\r\n    \t            excel.write(model.getColumnName(i) + &quot;\\t&quot;);\r\n    \t        }\r\n    \r\n    \t        excel.write(&quot;\\n&quot;);\r\n    \r\n    \t        for(int i=0; i&lt; model.getRowCount(); i++) {\r\n    \t            for(int j=0; j &lt; model.getColumnCount(); j++) {\r\n    \t                excel.write(model.getValueAt(i,j).toString()+&quot;\\t&quot;);\r\n    \t            }\r\n    \t            excel.write(&quot;\\n&quot;);\r\n    \t        }\r\n    \r\n    \t        excel.close();\r\n    \r\n    \t    }catch(IOException e){ System.out.println(e); }\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] o) {\r\n    \t\texcel cv = new excel();\r\n    \t\tcv.toExcel(cv.table,new File(&quot;C:\\\\Users\\\\itpr13266\\\\Desktop\\\\cs.tbv&quot;));\r\n    \t}\r\n    }\r\n","title":"How to read and write excel file","body":"<p>This will write a JTable to a tab separated file that can be easily imported into Excel. This works.</p>\n\n<p>If you save an Excel worksheet as an XML document you could also build the XML file for EXCEL with code. I have done this with word so you do not have to use third-party packages. </p>\n\n<p>This could code have the JTable taken out and then just write a tab separated to any text file and then import into Excel. I hope this helps.</p>\n\n<p>Code:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport javax.swing.JTable;\nimport javax.swing.table.TableModel;\n\npublic class excel {\n    String columnNames[] = { \"Column 1\", \"Column 2\", \"Column 3\" };\n\n    // Create some data\n    String dataValues[][] =\n    {\n        { \"12\", \"234\", \"67\" },\n        { \"-123\", \"43\", \"853\" },\n        { \"93\", \"89.2\", \"109\" },\n        { \"279\", \"9033\", \"3092\" }\n    };\n\n    JTable table;\n\n    excel() {\n        table = new JTable( dataValues, columnNames );\n    }\n\n\n    public void toExcel(JTable table, File file){\n        try{\n            TableModel model = table.getModel();\n            FileWriter excel = new FileWriter(file);\n\n            for(int i = 0; i &lt; model.getColumnCount(); i++){\n                excel.write(model.getColumnName(i) + \"\\t\");\n            }\n\n            excel.write(\"\\n\");\n\n            for(int i=0; i&lt; model.getRowCount(); i++) {\n                for(int j=0; j &lt; model.getColumnCount(); j++) {\n                    excel.write(model.getValueAt(i,j).toString()+\"\\t\");\n                }\n                excel.write(\"\\n\");\n            }\n\n            excel.close();\n\n        }catch(IOException e){ System.out.println(e); }\n    }\n\n    public static void main(String[] o) {\n        excel cv = new excel();\n        cv.toExcel(cv.table,new File(\"C:\\\\Users\\\\itpr13266\\\\Desktop\\\\cs.tbv\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2186371,"reputation":2995,"user_id":1934704,"accept_rate":57,"display_name":"Toumi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1444036729,"creation_date":1397211875,"answer_id":23009952,"question_id":1516144,"body_markdown":"    String path=&quot;C:\\\\Book2.xlsx&quot;;\r\n    try {\r\n\r\n            File f = new File( path );\r\n            Workbook wb = WorkbookFactory.create(f);\r\n            Sheet mySheet = wb.getSheetAt(0);\r\n            Iterator&lt;Row&gt; rowIter = mySheet.rowIterator();\r\n            for ( Iterator&lt;Row&gt; rowIterator = mySheet.rowIterator() ;rowIterator.hasNext(); )\r\n            {\r\n                for (  Iterator&lt;Cell&gt; cellIterator = ((Row)rowIterator.next()).cellIterator() ; cellIterator.hasNext() ;  ) \r\n                {\r\n                    System.out.println ( ( (Cell)cellIterator.next() ).toString() );\r\n                }\r\n                System.out.println( &quot; **************************************************************** &quot;);\r\n            }\r\n        } catch ( Exception e )\r\n        {\r\n            System.out.println( &quot;exception&quot; );\r\n            e.printStackTrace();\r\n        }\r\n\r\nand make sure to have added the jars  poi  and poi-ooxml (org.apache.poi) to your project","title":"How to read and write excel file","body":"<pre><code>String path=\"C:\\\\Book2.xlsx\";\ntry {\n\n        File f = new File( path );\n        Workbook wb = WorkbookFactory.create(f);\n        Sheet mySheet = wb.getSheetAt(0);\n        Iterator&lt;Row&gt; rowIter = mySheet.rowIterator();\n        for ( Iterator&lt;Row&gt; rowIterator = mySheet.rowIterator() ;rowIterator.hasNext(); )\n        {\n            for (  Iterator&lt;Cell&gt; cellIterator = ((Row)rowIterator.next()).cellIterator() ; cellIterator.hasNext() ;  ) \n            {\n                System.out.println ( ( (Cell)cellIterator.next() ).toString() );\n            }\n            System.out.println( \" **************************************************************** \");\n        }\n    } catch ( Exception e )\n    {\n        System.out.println( \"exception\" );\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>and make sure to have added the jars  poi  and poi-ooxml (org.apache.poi) to your project</p>\n"},{"tags":[],"owner":{"account_id":3288982,"reputation":112,"user_id":2767707,"accept_rate":0,"display_name":"Rajesh Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586905375,"creation_date":1417174861,"answer_id":27187885,"question_id":1516144,"body_markdown":"Please use Apache POI libs and try this. \r\n\r\n\r\n\t\ttry\r\n        {\r\n            FileInputStream x = new FileInputStream(new File(&quot;/Users/rajesh/Documents/rajesh.xls&quot;));\r\n \r\n            //Create Workbook instance holding reference to .xlsx file\r\n            Workbook workbook = new HSSFWorkbook(x);\r\n \r\n            //Get first/desired sheet from the workbook\r\n            Sheet sheet = workbook.getSheetAt(0);\r\n \r\n            //Iterate through each rows one by one\r\n            for (Iterator&lt;Row&gt; iterator = sheet.iterator(); iterator.hasNext();) {\r\n            \tRow row = (Row) iterator.next();\r\n            \tfor (Iterator&lt;Cell&gt; iterator2 = row.iterator(); iterator2\r\n\t\t\t\t\t\t.hasNext();) {\r\n            \t\tCell cell = (Cell) iterator2.next();\r\n            \t\tSystem.out.println(cell.getStringCellValue());\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}         \r\n            x.close();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n       }\r\n    }\r\n ","title":"How to read and write excel file","body":"<p>Please use Apache POI libs and try this. </p>\n\n<pre><code>    try\n    {\n        FileInputStream x = new FileInputStream(new File(\"/Users/rajesh/Documents/rajesh.xls\"));\n\n        //Create Workbook instance holding reference to .xlsx file\n        Workbook workbook = new HSSFWorkbook(x);\n\n        //Get first/desired sheet from the workbook\n        Sheet sheet = workbook.getSheetAt(0);\n\n        //Iterate through each rows one by one\n        for (Iterator&lt;Row&gt; iterator = sheet.iterator(); iterator.hasNext();) {\n            Row row = (Row) iterator.next();\n            for (Iterator&lt;Cell&gt; iterator2 = row.iterator(); iterator2\n                    .hasNext();) {\n                Cell cell = (Cell) iterator2.next();\n                System.out.println(cell.getStringCellValue());              \n            }               \n        }         \n        x.close();\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1538055272,"creation_date":1419322878,"answer_id":27616541,"question_id":1516144,"body_markdown":"There is a new easy and very cool tool (10x to Kfir): [xcelite][1]\r\n    \r\n**Write:**\r\n    \r\n    public class User { \r\n    \r\n      @Column (name=&quot;Firstname&quot;)\r\n      private String firstName;\r\n    \r\n      @Column (name=&quot;Lastname&quot;)\r\n      private String lastName;\r\n    \r\n      @Column\r\n      private long id; \r\n    \r\n      @Column\r\n      private Date birthDate; \r\n    }\r\n    \r\n    Xcelite xcelite = new Xcelite();    \r\n    XceliteSheet sheet = xcelite.createSheet(&quot;users&quot;);\r\n    SheetWriter&lt;User&gt; writer = sheet.getBeanWriter(User.class);\r\n    List&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n    // ...fill up users\r\n    writer.write(users); \r\n    xcelite.write(new File(&quot;users_doc.xlsx&quot;));\r\n    \r\n    \r\n**Read:**\r\n    \r\n    Xcelite xcelite = new Xcelite(new File(&quot;users_doc.xlsx&quot;));\r\n    XceliteSheet sheet = xcelite.getSheet(&quot;users&quot;);\r\n    SheetReader&lt;User&gt; reader = sheet.getBeanReader(User.class);\r\n    Collection&lt;User&gt; users = reader.read();\r\n\r\n\r\n  [1]: http://xcelite.io/","title":"How to read and write excel file","body":"<p>There is a new easy and very cool tool (10x to Kfir): <a href=\"http://xcelite.io/\" rel=\"noreferrer\">xcelite</a></p>\n\n<p><strong>Write:</strong></p>\n\n<pre><code>public class User { \n\n  @Column (name=\"Firstname\")\n  private String firstName;\n\n  @Column (name=\"Lastname\")\n  private String lastName;\n\n  @Column\n  private long id; \n\n  @Column\n  private Date birthDate; \n}\n\nXcelite xcelite = new Xcelite();    \nXceliteSheet sheet = xcelite.createSheet(\"users\");\nSheetWriter&lt;User&gt; writer = sheet.getBeanWriter(User.class);\nList&lt;User&gt; users = new ArrayList&lt;User&gt;();\n// ...fill up users\nwriter.write(users); \nxcelite.write(new File(\"users_doc.xlsx\"));\n</code></pre>\n\n<p><strong>Read:</strong></p>\n\n<pre><code>Xcelite xcelite = new Xcelite(new File(\"users_doc.xlsx\"));\nXceliteSheet sheet = xcelite.getSheet(\"users\");\nSheetReader&lt;User&gt; reader = sheet.getBeanReader(User.class);\nCollection&lt;User&gt; users = reader.read();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864980,"reputation":1209,"user_id":2459476,"display_name":"satender"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1437130780,"creation_date":1430924295,"answer_id":30080432,"question_id":1516144,"body_markdown":"Sure , you will find the code below useful and easy to read and write. This is a `util` class which you can use in your main method and then you are good to use all methods below.\r\n\r\n    \r\n\r\n         public class ExcelUtils {\r\n\t     private static XSSFSheet ExcelWSheet;\r\n\t     private static XSSFWorkbook ExcelWBook;\r\n\t     private static XSSFCell Cell;\r\n\t     private static XSSFRow Row;\r\n\t     File fileName = new File(&quot;C:\\\\Users\\\\satekuma\\\\Pro\\\\Fund.xlsx&quot;);\r\n\t     public void setExcelFile(File Path, String SheetName) throws Exception                \r\n\r\n\t\ttry {\r\n\t\t\tFileInputStream ExcelFile = new FileInputStream(Path);\r\n\t\t\tExcelWBook = new XSSFWorkbook(ExcelFile);\r\n\t\t\tExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow (e);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n          public static String getCellData(int RowNum, int ColNum) throws Exception {\r\n\r\n\t\ttry {\r\n\t\t\tCell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\r\n\t\t\tString CellData = Cell.getStringCellValue();\r\n\t\t\treturn CellData;\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\treturn &quot;&quot;;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tpublic static void setCellData(String Result, int RowNum, int ColNum, File Path) throws Exception {\r\n\r\n\t\ttry {\r\n\t\t\tRow = ExcelWSheet.createRow(RowNum - 1);\r\n\t\t\tCell = Row.createCell(ColNum - 1);\r\n\t\t\tCell.setCellValue(Result);\r\n\t\t\tFileOutputStream fileOut = new FileOutputStream(Path);\r\n\t\t\tExcelWBook.write(fileOut);\r\n\t\t\tfileOut.flush();\r\n\t\t\tfileOut.close();\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\tthrow (e);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to read and write excel file","body":"<p>Sure , you will find the code below useful and easy to read and write. This is a <code>util</code> class which you can use in your main method and then you are good to use all methods below.</p>\n\n<pre><code>     public class ExcelUtils {\n     private static XSSFSheet ExcelWSheet;\n     private static XSSFWorkbook ExcelWBook;\n     private static XSSFCell Cell;\n     private static XSSFRow Row;\n     File fileName = new File(\"C:\\\\Users\\\\satekuma\\\\Pro\\\\Fund.xlsx\");\n     public void setExcelFile(File Path, String SheetName) throws Exception                \n\n    try {\n        FileInputStream ExcelFile = new FileInputStream(Path);\n        ExcelWBook = new XSSFWorkbook(ExcelFile);\n        ExcelWSheet = ExcelWBook.getSheet(SheetName);\n    } catch (Exception e) {\n        throw (e);\n    }\n\n}\n\n\n      public static String getCellData(int RowNum, int ColNum) throws Exception {\n\n    try {\n        Cell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\n        String CellData = Cell.getStringCellValue();\n        return CellData;\n    } catch (Exception e) {\n\n        return \"\";\n\n    }\n\n}\npublic static void setCellData(String Result, int RowNum, int ColNum, File Path) throws Exception {\n\n    try {\n        Row = ExcelWSheet.createRow(RowNum - 1);\n        Cell = Row.createCell(ColNum - 1);\n        Cell.setCellValue(Result);\n        FileOutputStream fileOut = new FileOutputStream(Path);\n        ExcelWBook.write(fileOut);\n        fileOut.flush();\n        fileOut.close();\n    } catch (Exception e) {\n\n        throw (e);\n\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7063351,"reputation":11,"user_id":5407657,"display_name":"Nahuel Illescas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443989762,"creation_date":1443989762,"answer_id":32937918,"question_id":1516144,"body_markdown":"I edited the most voted one a little cuz it didn&#39;t count blanks columns or rows well not totally, so here is my code i tested it and now can get any cell in any part of an excel file. also now u can have blanks columns between filled column and it will read them\r\n\r\n      try {\r\n    POIFSFileSystem fs = new POIFSFileSystem(new FileInputStream(Dir));\r\n    HSSFWorkbook wb = new HSSFWorkbook(fs);\r\n    HSSFSheet sheet = wb.getSheetAt(0);\r\n    HSSFRow row;\r\n    HSSFCell cell;\r\n\r\n    int rows; // No of rows\r\n    rows = sheet.getPhysicalNumberOfRows();\r\n\r\n    int cols = 0; // No of columns\r\n    int tmp = 0;\r\n    int cblacks=0;\r\n\r\n    // This trick ensures that we get the data properly even if it doesn&#39;t start from first few rows\r\n    for(int i = 0; i &lt;= 10 || i &lt;= rows; i++) {\r\n        row = sheet.getRow(i);\r\n        if(row != null) {\r\n            tmp = sheet.getRow(i).getPhysicalNumberOfCells();\r\n            if(tmp &gt;= cols) cols = tmp;else{rows++;cblacks++;}\r\n        }\r\n        \r\n        cols++;\r\n    }\r\n    cols=cols+cblacks;\r\n    for(int r = 0; r &lt; rows; r++) {\r\n        row = sheet.getRow(r);\r\n        if(row != null) {\r\n            for(int c = 0; c &lt; cols; c++) {\r\n                cell = row.getCell(c);\r\n                if(cell != null) {\r\n                    System.out.print(cell+&quot;\\n&quot;);//Your Code here\r\n                }\r\n            }\r\n        }\r\n    }} catch(Exception ioe) {\r\n    ioe.printStackTrace();}","title":"How to read and write excel file","body":"<p>I edited the most voted one a little cuz it didn't count blanks columns or rows well not totally, so here is my code i tested it and now can get any cell in any part of an excel file. also now u can have blanks columns between filled column and it will read them</p>\n\n<pre><code>  try {\nPOIFSFileSystem fs = new POIFSFileSystem(new FileInputStream(Dir));\nHSSFWorkbook wb = new HSSFWorkbook(fs);\nHSSFSheet sheet = wb.getSheetAt(0);\nHSSFRow row;\nHSSFCell cell;\n\nint rows; // No of rows\nrows = sheet.getPhysicalNumberOfRows();\n\nint cols = 0; // No of columns\nint tmp = 0;\nint cblacks=0;\n\n// This trick ensures that we get the data properly even if it doesn't start from first few rows\nfor(int i = 0; i &lt;= 10 || i &lt;= rows; i++) {\n    row = sheet.getRow(i);\n    if(row != null) {\n        tmp = sheet.getRow(i).getPhysicalNumberOfCells();\n        if(tmp &gt;= cols) cols = tmp;else{rows++;cblacks++;}\n    }\n\n    cols++;\n}\ncols=cols+cblacks;\nfor(int r = 0; r &lt; rows; r++) {\n    row = sheet.getRow(r);\n    if(row != null) {\n        for(int c = 0; c &lt; cols; c++) {\n            cell = row.getCell(c);\n            if(cell != null) {\n                System.out.print(cell+\"\\n\");//Your Code here\n            }\n        }\n    }\n}} catch(Exception ioe) {\nioe.printStackTrace();}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":68256,"reputation":3089,"user_id":199252,"accept_rate":74,"display_name":"Roel"},"score":0,"creation_date":1503328731,"post_id":39159349,"comment_id":78559250,"body_markdown":"varing, varing over the baring","body":"varing, varing over the baring"}],"tags":[],"owner":{"account_id":9079869,"reputation":11,"user_id":6760027,"display_name":"Senthil Kumar Natarajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479470518,"creation_date":1472191583,"answer_id":39159349,"question_id":1516144,"body_markdown":"If column number are varing you can use this\r\n    \r\n    package com.org.tests;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class ExcelSimpleTest \r\n    {\t\r\n    \tString path;\r\n    \tpublic FileInputStream fis = null;\r\n    \tprivate XSSFWorkbook workbook = null;\r\n    \tprivate XSSFSheet sheet = null;\r\n    \tprivate XSSFRow row   =null;\r\n    \tprivate XSSFCell cell = null;\r\n    \t\r\n    \tpublic ExcelSimpleTest() throws IOException\r\n    \t{\r\n    \t\tpath = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\resources\\\\Book1.xlsx&quot;;\r\n    \t\tfis = new FileInputStream(path); \r\n    \t\tworkbook = new XSSFWorkbook(fis);\r\n    \t\tsheet = workbook.getSheetAt(0);\r\n    \t}\r\n    \tpublic void ExelWorks()\r\n    \t{\r\n    \t\tint index = workbook.getSheetIndex(&quot;Sheet1&quot;);\r\n    \t\tsheet = workbook.getSheetAt(index);\r\n    \t\tint rownumber=sheet.getLastRowNum()+1;\t\r\n    \t\t\r\n    \t\tfor (int i=1; i&lt;rownumber; i++ )\r\n    \t\t{\r\n    \t\t\trow = sheet.getRow(i);\r\n    \t\t\tint colnumber = row.getLastCellNum();\r\n    \t\t\tfor (int j=0; j&lt;colnumber; j++ )\r\n    \t\t\t{\r\n    \t\t\t\tcell = row.getCell(j);\r\n    \t\t\t\tSystem.out.println(cell.getStringCellValue());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\t\r\n    \tpublic static void main(String[] args) throws IOException \r\n    \t{\r\n    \t\tExcelSimpleTest excelwork = new ExcelSimpleTest();\r\n    \t\texcelwork.ExelWorks();\r\n    \t}\r\n    }\r\n\r\nThe corresponding mavendependency can be found [here][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml/3.9","title":"How to read and write excel file","body":"<p>If column number are varing you can use this</p>\n\n<pre><code>package com.org.tests;\nimport org.apache.poi.xssf.usermodel.*;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class ExcelSimpleTest \n{   \n    String path;\n    public FileInputStream fis = null;\n    private XSSFWorkbook workbook = null;\n    private XSSFSheet sheet = null;\n    private XSSFRow row   =null;\n    private XSSFCell cell = null;\n\n    public ExcelSimpleTest() throws IOException\n    {\n        path = System.getProperty(\"user.dir\")+\"\\\\resources\\\\Book1.xlsx\";\n        fis = new FileInputStream(path); \n        workbook = new XSSFWorkbook(fis);\n        sheet = workbook.getSheetAt(0);\n    }\n    public void ExelWorks()\n    {\n        int index = workbook.getSheetIndex(\"Sheet1\");\n        sheet = workbook.getSheetAt(index);\n        int rownumber=sheet.getLastRowNum()+1;  \n\n        for (int i=1; i&lt;rownumber; i++ )\n        {\n            row = sheet.getRow(i);\n            int colnumber = row.getLastCellNum();\n            for (int j=0; j&lt;colnumber; j++ )\n            {\n                cell = row.getCell(j);\n                System.out.println(cell.getStringCellValue());\n            }\n        }\n    }   \n    public static void main(String[] args) throws IOException \n    {\n        ExcelSimpleTest excelwork = new ExcelSimpleTest();\n        excelwork.ExelWorks();\n    }\n}\n</code></pre>\n\n<p>The corresponding mavendependency can be found <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml/3.9\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10244913,"reputation":19,"user_id":7560999,"display_name":"Rahul.P"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487758309,"creation_date":1487757196,"answer_id":42388131,"question_id":1516144,"body_markdown":"using spring apache poi repo\r\n\r\n    if (fileName.endsWith(&quot;.xls&quot;)) {\r\n\r\n\t\t\t\t\t\r\n\r\n    File myFile = new File(&quot;file location&quot; + fileName);\r\n\t\t\t\t\tFileInputStream fis = new FileInputStream(myFile);\r\n\t\t\t\t\t\r\n\t\t\t\t\torg.apache.poi.ss.usermodel.Workbook workbook = null;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tworkbook = WorkbookFactory.create(fis);\r\n\t\t\t\t\t} catch (InvalidFormatException e) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\torg.apache.poi.ss.usermodel.Sheet sheet = workbook.getSheetAt(0);\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tIterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (rowIterator.hasNext()) {\r\n\t\t\t\t\t\tRow row = rowIterator.next();\r\n\r\n\t\t\t\t\t\tIterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n\t\t\t\t\t\twhile (cellIterator.hasNext()) {\r\n\r\n\t\t\t\t\t\t\tCell cell = cellIterator.next();\r\n\t\t\t\t\t\t\tswitch (cell.getCellType()) {\r\n\t\t\t\t\t\t\tcase Cell.CELL_TYPE_STRING:\r\n\t\t\t\t\t\t\t\tSystem.out.print(cell.getStringCellValue());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase Cell.CELL_TYPE_BOOLEAN:\r\n\t\t\t\t\t\t\t\tSystem.out.print(cell.getBooleanCellValue());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase Cell.CELL_TYPE_NUMERIC:\r\n\t\t\t\t\t\t\t\tSystem.out.print(cell.getNumericCellValue());\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tSystem.out.print(&quot; - &quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t}\r\n\t\t\t\t}","title":"How to read and write excel file","body":"<p>using spring apache poi repo</p>\n\n<pre><code>if (fileName.endsWith(\".xls\")) {\n\n\n\nFile myFile = new File(\"file location\" + fileName);\n                FileInputStream fis = new FileInputStream(myFile);\n\n                org.apache.poi.ss.usermodel.Workbook workbook = null;\n                try {\n                    workbook = WorkbookFactory.create(fis);\n                } catch (InvalidFormatException e) {\n\n                    e.printStackTrace();\n                }\n\n\n                org.apache.poi.ss.usermodel.Sheet sheet = workbook.getSheetAt(0);\n\n\n                Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n\n                while (rowIterator.hasNext()) {\n                    Row row = rowIterator.next();\n\n                    Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                    while (cellIterator.hasNext()) {\n\n                        Cell cell = cellIterator.next();\n                        switch (cell.getCellType()) {\n                        case Cell.CELL_TYPE_STRING:\n                            System.out.print(cell.getStringCellValue());\n                            break;\n                        case Cell.CELL_TYPE_BOOLEAN:\n                            System.out.print(cell.getBooleanCellValue());\n                            break;\n                        case Cell.CELL_TYPE_NUMERIC:\n                            System.out.print(cell.getNumericCellValue());\n                            break;\n                        }\n                        System.out.print(\" - \");\n                    }\n                    System.out.println();\n                }\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5295682,"reputation":379,"user_id":4226914,"display_name":"KIBOU Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1530595500,"creation_date":1492071394,"answer_id":43386946,"question_id":1516144,"body_markdown":"For reading a xlsx file we can use [Apache POI][1] libs\r\nTry this:\r\n\r\n    public static void readXLSXFile() throws IOException\r\n    \t{\r\n    \t\tInputStream ExcelFileToRead = new FileInputStream(&quot;C:/Test.xlsx&quot;);\r\n    \t\tXSSFWorkbook  wb = new XSSFWorkbook(ExcelFileToRead);\r\n    \t\t\r\n    \t\tXSSFWorkbook test = new XSSFWorkbook(); \r\n    \t\t\r\n    \t\tXSSFSheet sheet = wb.getSheetAt(0);\r\n    \t\tXSSFRow row; \r\n    \t\tXSSFCell cell;\r\n    \r\n    \t\tIterator rows = sheet.rowIterator();\r\n    \r\n    \t\twhile (rows.hasNext())\r\n    \t\t{\r\n    \t\t\trow=(XSSFRow) rows.next();\r\n    \t\t\tIterator cells = row.cellIterator();\r\n    \t\t\twhile (cells.hasNext())\r\n    \t\t\t{\r\n    \t\t\t\tcell=(XSSFCell) cells.next();\r\n    \t\t\r\n    \t\t\t\tif (cell.getCellType() == XSSFCell.CELL_TYPE_STRING)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.print(cell.getStringCellValue()+&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse if(cell.getCellType() == XSSFCell.CELL_TYPE_NUMERIC)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.print(cell.getNumericCellValue()+&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\t//U Can Handel Boolean, Formula, Errors\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t\r\n    \t}\r\n\r\n\r\n  [1]: https://poi.apache.org/","title":"How to read and write excel file","body":"<p>For reading a xlsx file we can use <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> libs\nTry this:</p>\n\n<pre><code>public static void readXLSXFile() throws IOException\n    {\n        InputStream ExcelFileToRead = new FileInputStream(\"C:/Test.xlsx\");\n        XSSFWorkbook  wb = new XSSFWorkbook(ExcelFileToRead);\n\n        XSSFWorkbook test = new XSSFWorkbook(); \n\n        XSSFSheet sheet = wb.getSheetAt(0);\n        XSSFRow row; \n        XSSFCell cell;\n\n        Iterator rows = sheet.rowIterator();\n\n        while (rows.hasNext())\n        {\n            row=(XSSFRow) rows.next();\n            Iterator cells = row.cellIterator();\n            while (cells.hasNext())\n            {\n                cell=(XSSFCell) cells.next();\n\n                if (cell.getCellType() == XSSFCell.CELL_TYPE_STRING)\n                {\n                    System.out.print(cell.getStringCellValue()+\" \");\n                }\n                else if(cell.getCellType() == XSSFCell.CELL_TYPE_NUMERIC)\n                {\n                    System.out.print(cell.getNumericCellValue()+\" \");\n                }\n                else\n                {\n                    //U Can Handel Boolean, Formula, Errors\n                }\n            }\n            System.out.println();\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4681659,"reputation":2203,"user_id":3790208,"display_name":"amanteaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506814461,"creation_date":1506784065,"answer_id":46503990,"question_id":1516144,"body_markdown":"Another way to read/write Excel files is to use [Windmill][1]. It provides a fluent API to process Excel and CSV files.\r\n\r\nImport data\r\n-----------\r\n\r\n    try (Stream&lt;Row&gt; rowStream = Windmill.parse(FileSource.of(new FileInputStream(&quot;myFile.xlsx&quot;)))) {\r\n      rowStream\r\n        // skip the header row that contains the column names\r\n        .skip(1)\r\n        .forEach(row -&gt; {\r\n          System.out.println(\r\n            &quot;row n&#176;&quot; + row.rowIndex()\r\n            + &quot; column &#39;User login&#39; value : &quot; + row.cell(&quot;User login&quot;).asString()\r\n            + &quot; column n&#176;3 number value : &quot; + row.cell(2).asDouble().value() // index is zero-based\r\n          );\r\n        });\r\n    }\r\n\r\nExport data\r\n-----------\r\n\r\n    Windmill\r\n      .export(Arrays.asList(bean1, bean2, bean3))\r\n      .withHeaderMapping(\r\n        new ExportHeaderMapping&lt;Bean&gt;()\r\n          .add(&quot;Name&quot;, Bean::getName)\r\n          .add(&quot;User login&quot;, bean -&gt; bean.getUser().getLogin())\r\n      )\r\n      .asExcel()\r\n      .writeTo(new FileOutputStream(&quot;Export.xlsx&quot;));\r\n\r\n  [1]: https://github.com/Coreoz/Windmill","title":"How to read and write excel file","body":"<p>Another way to read/write Excel files is to use <a href=\"https://github.com/Coreoz/Windmill\" rel=\"nofollow noreferrer\">Windmill</a>. It provides a fluent API to process Excel and CSV files.</p>\n\n<h2>Import data</h2>\n\n<pre><code>try (Stream&lt;Row&gt; rowStream = Windmill.parse(FileSource.of(new FileInputStream(\"myFile.xlsx\")))) {\n  rowStream\n    // skip the header row that contains the column names\n    .skip(1)\n    .forEach(row -&gt; {\n      System.out.println(\n        \"row n°\" + row.rowIndex()\n        + \" column 'User login' value : \" + row.cell(\"User login\").asString()\n        + \" column n°3 number value : \" + row.cell(2).asDouble().value() // index is zero-based\n      );\n    });\n}\n</code></pre>\n\n<h2>Export data</h2>\n\n<pre><code>Windmill\n  .export(Arrays.asList(bean1, bean2, bean3))\n  .withHeaderMapping(\n    new ExportHeaderMapping&lt;Bean&gt;()\n      .add(\"Name\", Bean::getName)\n      .add(\"User login\", bean -&gt; bean.getUser().getLogin())\n  )\n  .asExcel()\n  .writeTo(new FileOutputStream(\"Export.xlsx\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017184,"reputation":2902,"user_id":5832518,"display_name":"Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532123170,"creation_date":1532123170,"answer_id":51450778,"question_id":1516144,"body_markdown":"You can not read &amp; write same file in parallel([Read-write lock][1]).  But, we can do parallel operations on temporary data(i.e. Input/output stream). Write the data to file only after closing the input stream. Below steps should be followed.\n\n - Open the file to Input stream\n - Open the same file to an Output Stream\n - Read and do the processing \n - Write contents to output stream. \n - Close the read/input stream, close file\n - Close output stream, close file.\n\n### Apache POI - read/write same excel example\n\n    import java.io.File;\n    import java.io.FileInputStream;\n    import java.io.FileNotFoundException;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.sql.Date;\n    import java.util.HashMap;\n    import java.util.Iterator;\n    import java.util.Map;\n    import java.util.Set;\n    \n    import org.apache.poi.ss.usermodel.Cell;\n    import org.apache.poi.ss.usermodel.Row;\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n    \n    \n    public class XLSXReaderWriter {\n    \n        public static void main(String[] args) {\n    \n            try {\n                File excel = new File(&quot;D://raju.xlsx&quot;);\n                FileInputStream fis = new FileInputStream(excel);\n                XSSFWorkbook book = new XSSFWorkbook(fis);\n                XSSFSheet sheet = book.getSheetAt(0);\n    \n                Iterator&lt;Row&gt; itr = sheet.iterator();\n    \n                // Iterating over Excel file in Java\n                while (itr.hasNext()) {\n                    Row row = itr.next();\n    \n                    // Iterating over each column of Excel file\n                    Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                    while (cellIterator.hasNext()) {\n    \n                        Cell cell = cellIterator.next();\n    \n                        switch (cell.getCellType()) {\n                        case Cell.CELL_TYPE_STRING:\n                            System.out.print(cell.getStringCellValue() + &quot;\\t&quot;);\n                            break;\n                        case Cell.CELL_TYPE_NUMERIC:\n                            System.out.print(cell.getNumericCellValue() + &quot;\\t&quot;);\n                            break;\n                        case Cell.CELL_TYPE_BOOLEAN:\n                            System.out.print(cell.getBooleanCellValue() + &quot;\\t&quot;);\n                            break;\n                        default:\n    \n                        }\n                    }\n                    System.out.println(&quot;&quot;);\n                }\n    \n                // writing data into XLSX file\n                Map&lt;String, Object[]&gt; newData = new HashMap&lt;String, Object[]&gt;();\n                newData.put(&quot;1&quot;, new Object[] { 1d, &quot;Raju&quot;, &quot;75K&quot;, &quot;dev&quot;,\n                        &quot;SGD&quot; });\n                newData.put(&quot;2&quot;, new Object[] { 2d, &quot;Ramesh&quot;, &quot;58K&quot;, &quot;test&quot;,\n                        &quot;USD&quot; });\n                newData.put(&quot;3&quot;, new Object[] { 3d, &quot;Ravi&quot;, &quot;90K&quot;, &quot;PMO&quot;,\n                        &quot;INR&quot; });\n    \n                Set&lt;String&gt; newRows = newData.keySet();\n                int rownum = sheet.getLastRowNum();\n    \n                for (String key : newRows) {\n                    Row row = sheet.createRow(rownum++);\n                    Object[] objArr = newData.get(key);\n                    int cellnum = 0;\n                    for (Object obj : objArr) {\n                        Cell cell = row.createCell(cellnum++);\n                        if (obj instanceof String) {\n                            cell.setCellValue((String) obj);\n                        } else if (obj instanceof Boolean) {\n                            cell.setCellValue((Boolean) obj);\n                        } else if (obj instanceof Date) {\n                            cell.setCellValue((Date) obj);\n                        } else if (obj instanceof Double) {\n                            cell.setCellValue((Double) obj);\n                        }\n                    }\n                }\n    \n                // open an OutputStream to save written data into Excel file\n                FileOutputStream os = new FileOutputStream(excel);\n                book.write(os);\n                System.out.println(&quot;Writing on Excel file Finished ...&quot;);\n    \n                // Close workbook, OutputStream and Excel file to prevent leak\n                os.close();\n                book.close();\n                fis.close();\n    \n            } catch (FileNotFoundException fe) {\n                fe.printStackTrace();\n            } catch (IOException ie) {\n                ie.printStackTrace();\n            }\n        }\n    }\n\n  [1]: https://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock\n\n","title":"How to read and write excel file","body":"<p>You can not read &amp; write same file in parallel(<a href=\"https://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock\" rel=\"nofollow noreferrer\">Read-write lock</a>).  But, we can do parallel operations on temporary data(i.e. Input/output stream). Write the data to file only after closing the input stream. Below steps should be followed.</p>\n<ul>\n<li>Open the file to Input stream</li>\n<li>Open the same file to an Output Stream</li>\n<li>Read and do the processing</li>\n<li>Write contents to output stream.</li>\n<li>Close the read/input stream, close file</li>\n<li>Close output stream, close file.</li>\n</ul>\n<h3>Apache POI - read/write same excel example</h3>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.sql.Date;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n\npublic class XLSXReaderWriter {\n\n    public static void main(String[] args) {\n\n        try {\n            File excel = new File(&quot;D://raju.xlsx&quot;);\n            FileInputStream fis = new FileInputStream(excel);\n            XSSFWorkbook book = new XSSFWorkbook(fis);\n            XSSFSheet sheet = book.getSheetAt(0);\n\n            Iterator&lt;Row&gt; itr = sheet.iterator();\n\n            // Iterating over Excel file in Java\n            while (itr.hasNext()) {\n                Row row = itr.next();\n\n                // Iterating over each column of Excel file\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                while (cellIterator.hasNext()) {\n\n                    Cell cell = cellIterator.next();\n\n                    switch (cell.getCellType()) {\n                    case Cell.CELL_TYPE_STRING:\n                        System.out.print(cell.getStringCellValue() + &quot;\\t&quot;);\n                        break;\n                    case Cell.CELL_TYPE_NUMERIC:\n                        System.out.print(cell.getNumericCellValue() + &quot;\\t&quot;);\n                        break;\n                    case Cell.CELL_TYPE_BOOLEAN:\n                        System.out.print(cell.getBooleanCellValue() + &quot;\\t&quot;);\n                        break;\n                    default:\n\n                    }\n                }\n                System.out.println(&quot;&quot;);\n            }\n\n            // writing data into XLSX file\n            Map&lt;String, Object[]&gt; newData = new HashMap&lt;String, Object[]&gt;();\n            newData.put(&quot;1&quot;, new Object[] { 1d, &quot;Raju&quot;, &quot;75K&quot;, &quot;dev&quot;,\n                    &quot;SGD&quot; });\n            newData.put(&quot;2&quot;, new Object[] { 2d, &quot;Ramesh&quot;, &quot;58K&quot;, &quot;test&quot;,\n                    &quot;USD&quot; });\n            newData.put(&quot;3&quot;, new Object[] { 3d, &quot;Ravi&quot;, &quot;90K&quot;, &quot;PMO&quot;,\n                    &quot;INR&quot; });\n\n            Set&lt;String&gt; newRows = newData.keySet();\n            int rownum = sheet.getLastRowNum();\n\n            for (String key : newRows) {\n                Row row = sheet.createRow(rownum++);\n                Object[] objArr = newData.get(key);\n                int cellnum = 0;\n                for (Object obj : objArr) {\n                    Cell cell = row.createCell(cellnum++);\n                    if (obj instanceof String) {\n                        cell.setCellValue((String) obj);\n                    } else if (obj instanceof Boolean) {\n                        cell.setCellValue((Boolean) obj);\n                    } else if (obj instanceof Date) {\n                        cell.setCellValue((Date) obj);\n                    } else if (obj instanceof Double) {\n                        cell.setCellValue((Double) obj);\n                    }\n                }\n            }\n\n            // open an OutputStream to save written data into Excel file\n            FileOutputStream os = new FileOutputStream(excel);\n            book.write(os);\n            System.out.println(&quot;Writing on Excel file Finished ...&quot;);\n\n            // Close workbook, OutputStream and Excel file to prevent leak\n            os.close();\n            book.close();\n            fis.close();\n\n        } catch (FileNotFoundException fe) {\n            fe.printStackTrace();\n        } catch (IOException ie) {\n            ie.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6950313,"reputation":642,"user_id":5333142,"display_name":"Abdo Bmz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554033690,"creation_date":1553964499,"answer_id":55433621,"question_id":1516144,"body_markdown":"You need Apache POI library  and this code below should help you        \r\n\r\n        import java.io.File;\r\n        import java.io.FileInputStream;\r\n        import java.io.FileNotFoundException;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import java.util.Iterator;\r\n        //*************************************************************\r\n        import org.apache.poi.ss.usermodel.Sheet;\r\n        import org.apache.poi.ss.usermodel.Cell;\r\n        import org.apache.poi.ss.usermodel.Row;\r\n        import org.apache.poi.ss.usermodel.Workbook;\r\n        import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n        import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n        //*************************************************************\r\n       public class AdvUse {\r\n    \t\r\n    \tprivate static Workbook wb ; \r\n    \tprivate static Sheet sh ; \r\n    \tprivate static FileInputStream fis ; \r\n    \tprivate static FileOutputStream fos  ; \r\n    \tprivate static Row row  ; \r\n    \tprivate static Cell cell  ;\r\n    \tprivate static String ExcelPath ; \r\n\r\n        //*************************************************************\r\n    \tpublic static void setEcxelFile(String ExcelPath, String SheetName) throws Exception {\r\n    \ttry {\r\n       File f= new File(ExcelPath); \r\n       if(!f.exists()){\r\n    \t   f.createNewFile();\r\n    \t   System.out.println(&quot;File not Found so created&quot;);\r\n       }\r\n    \t\r\n    \tfis = new FileInputStream(&quot;./testData.xlsx&quot;);\r\n    \twb = WorkbookFactory.create(fis); \r\n    \tsh = wb.getSheet(&quot;SheetName&quot;);\r\n    \tif(sh == null){\r\n    \t\tsh = wb.getSheet(SheetName); \r\n    \t}\r\n    \t}catch(Exception e)\r\n    \t{System.out.println(e.getMessage());\r\n    \t}\r\n    \t}\r\n     \r\n    \t  //*************************************************************\r\n    \t  public static void setCellData(String text , int rowno , int colno){\r\n    \ttry{\r\n    \t\trow = sh.getRow(rowno);\r\n    \t\tif(row == null){\r\n    \t\t\trow = sh.createRow(rowno);\r\n    \t\t}\r\n    \t\tcell = row.getCell(colno);\r\n    \t\tif(cell!=null){\r\n    \t\t\tcell.setCellValue(text);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tcell = row.createCell(colno);\r\n    \t\t\tcell.setCellValue(text);\r\n               \t\t\t\r\n    \t\t}\r\n    \t\tfos = new FileOutputStream(ExcelPath);\r\n    \t\twb.write(fos);\r\n    \t\tfos.flush();\r\n    \t\tfos.close();\r\n    \t}catch(Exception e){\r\n    \t\tSystem.out.println(e.getMessage());\r\n    \t}\r\n    \t}\r\n    \t\r\n          //*************************************************************\r\n    \t  public static String getCellData(int rowno , int colno){\r\n    \t\ttry{\r\n    \t\t\t\r\n    \t\t\tcell = sh.getRow(rowno).getCell(colno); \r\n    \t\t\tString CellData = null ;\r\n    \t\t\tswitch(cell.getCellType()){\r\n    \t\t\tcase  STRING :\r\n    \t\t\t\tCellData = cell.getStringCellValue();\r\n    \t\t\t   break ; \r\n    \t\t\tcase NUMERIC : \r\n    \t\t\t\tCellData = Double.toString(cell.getNumericCellValue());\r\n    \t\t\t\tif(CellData.contains(&quot;.o&quot;)){\r\n    \t\t\t\t\tCellData = CellData.substring(0,CellData.length()-2);\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\tbreak ; \r\n    \t\t\tcase BLANK : \r\n    \t\t\tCellData = &quot;&quot;; break ; \r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\treturn CellData;\r\n    \t\t}catch(Exception e){return &quot;&quot;; }\r\n    \t}\r\n    \t\r\n    \t   //*************************************************************\r\n    \t  public static int getLastRow(){\r\n    \t\treturn sh.getLastRowNum();\r\n    \t}\r\n    \t\t\t","title":"How to read and write excel file","body":"<p>You need Apache POI library  and this code below should help you        </p>\n\n<pre><code>    import java.io.File;\n    import java.io.FileInputStream;\n    import java.io.FileNotFoundException;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.util.ArrayList;\n    import java.util.List;\n    import java.util.Iterator;\n    //*************************************************************\n    import org.apache.poi.ss.usermodel.Sheet;\n    import org.apache.poi.ss.usermodel.Cell;\n    import org.apache.poi.ss.usermodel.Row;\n    import org.apache.poi.ss.usermodel.Workbook;\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n    //*************************************************************\n   public class AdvUse {\n\n    private static Workbook wb ; \n    private static Sheet sh ; \n    private static FileInputStream fis ; \n    private static FileOutputStream fos  ; \n    private static Row row  ; \n    private static Cell cell  ;\n    private static String ExcelPath ; \n\n    //*************************************************************\n    public static void setEcxelFile(String ExcelPath, String SheetName) throws Exception {\n    try {\n   File f= new File(ExcelPath); \n   if(!f.exists()){\n       f.createNewFile();\n       System.out.println(\"File not Found so created\");\n   }\n\n    fis = new FileInputStream(\"./testData.xlsx\");\n    wb = WorkbookFactory.create(fis); \n    sh = wb.getSheet(\"SheetName\");\n    if(sh == null){\n        sh = wb.getSheet(SheetName); \n    }\n    }catch(Exception e)\n    {System.out.println(e.getMessage());\n    }\n    }\n\n      //*************************************************************\n      public static void setCellData(String text , int rowno , int colno){\n    try{\n        row = sh.getRow(rowno);\n        if(row == null){\n            row = sh.createRow(rowno);\n        }\n        cell = row.getCell(colno);\n        if(cell!=null){\n            cell.setCellValue(text);\n\n        }\n        else{\n            cell = row.createCell(colno);\n            cell.setCellValue(text);\n\n        }\n        fos = new FileOutputStream(ExcelPath);\n        wb.write(fos);\n        fos.flush();\n        fos.close();\n    }catch(Exception e){\n        System.out.println(e.getMessage());\n    }\n    }\n\n      //*************************************************************\n      public static String getCellData(int rowno , int colno){\n        try{\n\n            cell = sh.getRow(rowno).getCell(colno); \n            String CellData = null ;\n            switch(cell.getCellType()){\n            case  STRING :\n                CellData = cell.getStringCellValue();\n               break ; \n            case NUMERIC : \n                CellData = Double.toString(cell.getNumericCellValue());\n                if(CellData.contains(\".o\")){\n                    CellData = CellData.substring(0,CellData.length()-2);\n\n                }\n            break ; \n            case BLANK : \n            CellData = \"\"; break ; \n\n            }\n            return CellData;\n        }catch(Exception e){return \"\"; }\n    }\n\n       //*************************************************************\n      public static int getLastRow(){\n        return sh.getLastRowNum();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590137053,"creation_date":1590137053,"answer_id":61951079,"question_id":1516144,"body_markdown":"When using the apache poi 4.1.2. The celltype  changes a bit. Below is an example\r\n\r\n        try {\r\n            File excel = new File(&quot;/home/name/Downloads/bb.xlsx&quot;);\r\n            FileInputStream fis = new FileInputStream(excel);\r\n            XSSFWorkbook book = new XSSFWorkbook(fis);\r\n            XSSFSheet sheet = book.getSheetAt(0);\r\n\r\n            Iterator&lt;Row&gt; itr = sheet.iterator();\r\n\r\n            // Iterating over Excel file in Java\r\n            while (itr.hasNext()) {\r\n                Row row = itr.next();\r\n\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n\r\n\r\n\r\n                    Cell cell = cellIterator.next();\r\n\r\n                  \r\n                    \r\n                    switch (cell.getCellType()) {\r\n                    case STRING:\r\n                        System.out.print(cell.getStringCellValue() + &quot;\\t&quot;);\r\n                        break;\r\n                    case NUMERIC:\r\n                        System.out.print(cell.getNumericCellValue() + &quot;\\t&quot;);\r\n                        break;\r\n                    case BOOLEAN:\r\n                        System.out.print(cell.getBooleanCellValue() + &quot;\\t&quot;);\r\n                        break;\r\n                    default:\r\n                  \r\n\r\n                    }\r\n                }\r\n                System.out.println(&quot;&quot;);}\r\n            }catch (Exception e) {\r\n\t\t\t\t// TODO: handle exception\r\n            \te.printStackTrace();\r\n\t\t\t}","title":"How to read and write excel file","body":"<p>When using the apache poi 4.1.2. The celltype  changes a bit. Below is an example</p>\n\n<pre><code>    try {\n        File excel = new File(\"/home/name/Downloads/bb.xlsx\");\n        FileInputStream fis = new FileInputStream(excel);\n        XSSFWorkbook book = new XSSFWorkbook(fis);\n        XSSFSheet sheet = book.getSheetAt(0);\n\n        Iterator&lt;Row&gt; itr = sheet.iterator();\n\n        // Iterating over Excel file in Java\n        while (itr.hasNext()) {\n            Row row = itr.next();\n\n            Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n            while (cellIterator.hasNext()) {\n\n\n\n                Cell cell = cellIterator.next();\n\n\n\n                switch (cell.getCellType()) {\n                case STRING:\n                    System.out.print(cell.getStringCellValue() + \"\\t\");\n                    break;\n                case NUMERIC:\n                    System.out.print(cell.getNumericCellValue() + \"\\t\");\n                    break;\n                case BOOLEAN:\n                    System.out.print(cell.getBooleanCellValue() + \"\\t\");\n                    break;\n                default:\n\n\n                }\n            }\n            System.out.println(\"\");}\n        }catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599074958,"creation_date":1599074958,"answer_id":63712408,"question_id":1516144,"body_markdown":"If you go for third party library option, try using [Aspose.Cells][1] API that enables Java Applications to create (read/write) and manage Excel spreadsheets efficiently without requiring Microsoft Excel. \r\n\r\ne.g\r\n\r\n**Sample code:**\r\n\r\n1.\r\n\r\n    //Load sample workbook\r\n    Workbook wb = new Workbook(dirPath + &quot;sample.xlsx&quot;);\r\n    \r\n    //Access first worksheet\r\n    Worksheet ws = wb.getWorksheets().get(0);\r\n    \r\n    //Access cells iterator\r\n    Iterator itrat = ws.getCells().iterator();\r\n    \r\n    //Print cells name in iterator\r\n    while(itrat.hasNext())\r\n    {\r\n        Cell cell = (Cell)itrat.next();\r\n    \r\n        System.out.println(cell.getName() + &quot;: &quot; + cell.getStringValue().trim());\r\n    }\r\n\r\n\r\n2)\r\n \r\n\r\n    Workbook book = new Workbook(&quot;sample.xlsx&quot;);\r\n    Worksheet sheet = book.getWorksheets().get(0);\r\n    Range range = sheet.getCells().getMaxDisplayRange();//You may also create your desired range (in the worksheet) using, e.g sheet.getCells().createRange(&quot;A1&quot;, &quot;J11&quot;);\r\n    Iterator rangeIterator = range.iterator();\r\n    while(rangeIterator.hasNext())\r\n    {\r\n    Cell cell = (Cell)rangeIterator.next();\r\n    //your code goes here.\r\n    }\r\n\r\nHope, this helps a bit.\r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://products.aspose.com/cells/java\r\n","title":"How to read and write excel file","body":"<p>If you go for third party library option, try using <a href=\"http://products.aspose.com/cells/java\" rel=\"nofollow noreferrer\">Aspose.Cells</a> API that enables Java Applications to create (read/write) and manage Excel spreadsheets efficiently without requiring Microsoft Excel.</p>\n<p>e.g</p>\n<p><strong>Sample code:</strong></p>\n<p>1.</p>\n<pre><code>//Load sample workbook\nWorkbook wb = new Workbook(dirPath + &quot;sample.xlsx&quot;);\n\n//Access first worksheet\nWorksheet ws = wb.getWorksheets().get(0);\n\n//Access cells iterator\nIterator itrat = ws.getCells().iterator();\n\n//Print cells name in iterator\nwhile(itrat.hasNext())\n{\n    Cell cell = (Cell)itrat.next();\n\n    System.out.println(cell.getName() + &quot;: &quot; + cell.getStringValue().trim());\n}\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>Workbook book = new Workbook(&quot;sample.xlsx&quot;);\nWorksheet sheet = book.getWorksheets().get(0);\nRange range = sheet.getCells().getMaxDisplayRange();//You may also create your desired range (in the worksheet) using, e.g sheet.getCells().createRange(&quot;A1&quot;, &quot;J11&quot;);\nIterator rangeIterator = range.iterator();\nwhile(rangeIterator.hasNext())\n{\nCell cell = (Cell)rangeIterator.next();\n//your code goes here.\n}\n</code></pre>\n<p>Hope, this helps a bit.</p>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"},{"tags":[],"owner":{"account_id":7757560,"reputation":21,"user_id":6154720,"display_name":"Sukhjinder Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687238489,"creation_date":1687238489,"answer_id":76511608,"question_id":1516144,"body_markdown":"We have a very simple library that can make reading excel super easy which is written using Apache POI \r\nhttps://github.com/sukhjindersukh/exclim","title":"How to read and write excel file","body":"<p>We have a very simple library that can make reading excel super easy which is written using Apache POI\n<a href=\"https://github.com/sukhjindersukh/exclim\" rel=\"nofollow noreferrer\">https://github.com/sukhjindersukh/exclim</a></p>\n"}],"owner":{"account_id":59418,"reputation":2249,"user_id":177785,"accept_rate":57,"display_name":"user177785"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932623,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"answer_count":23,"score":199,"last_activity_date":1687238489,"creation_date":1254653678,"question_id":1516144,"body_markdown":"I want to read and write an Excel file from Java with 3 columns and N rows, printing one string in each cell.  Can anyone give me simple code snippet for this? Do I need to use any external lib or does Java have built-in support for it?\r\n\r\nI want to do the following:\r\n\r\n    for(i=0; i &lt;rows; i++)\r\n         //read [i,col1] ,[i,col2], [i,col3]\r\n    \r\n    for(i=0; i&lt;rows; i++)\r\n        //write [i,col1], [i,col2], [i,col3]\r\n\r\n","title":"How to read and write excel file","body":"<p>I want to read and write an Excel file from Java with 3 columns and N rows, printing one string in each cell.  Can anyone give me simple code snippet for this? Do I need to use any external lib or does Java have built-in support for it?</p>\n\n<p>I want to do the following:</p>\n\n<pre><code>for(i=0; i &lt;rows; i++)\n     //read [i,col1] ,[i,col2], [i,col3]\n\nfor(i=0; i&lt;rows; i++)\n    //write [i,col1], [i,col2], [i,col3]\n</code></pre>\n"},{"tags":["java","elasticsearch","primavera"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1687233654,"post_id":76511308,"comment_id":134904200,"body_markdown":"Does this answer your question? [Version compatibility between ElasticSearch and Kibana](https://stackoverflow.com/questions/40826283/version-compatibility-between-elasticsearch-and-kibana)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40826283/version-compatibility-between-elasticsearch-and-kibana\">Version compatibility between ElasticSearch and Kibana</a>"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687233428,"creation_date":1687233428,"answer_id":76511333,"question_id":76511308,"body_markdown":"The [official Spring Data ES documentation](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions) provides the information. The maximum version for spring-data-elasticsearch 3.0.x is Elasticsearch 5.5 which is a very old and EOL version:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OI4tS.png","title":"Elasticsearch 8.x is compatible with spring-data-elasticsearch 3.0.5","body":"<p>The <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions\" rel=\"nofollow noreferrer\">official Spring Data ES documentation</a> provides the information. The maximum version for spring-data-elasticsearch 3.0.x is Elasticsearch 5.5 which is a very old and EOL version:</p>\n<p><a href=\"https://i.stack.imgur.com/OI4tS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OI4tS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27040684,"reputation":9,"user_id":20595521,"display_name":"David Ayala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687233540,"creation_date":1687232908,"question_id":76511308,"body_markdown":"I would like to know if Elasticsearch 8.x is compatible with spring-data-elasticsearch 3.0.5, since I am working on an application with spring boot 2.0.0.release which cannot be migrated. but they asked me to migrate to the mentioned version of elasticsearch.","title":"Elasticsearch 8.x is compatible with spring-data-elasticsearch 3.0.5","body":"<p>I would like to know if Elasticsearch 8.x is compatible with spring-data-elasticsearch 3.0.5, since I am working on an application with spring boot 2.0.0.release which cannot be migrated. but they asked me to migrate to the mentioned version of elasticsearch.</p>\n"},{"tags":["java","mysql","multithreading","tomcat","connection-pooling"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687233966,"post_id":42924696,"comment_id":134904227,"body_markdown":"What actual setting was it that fixed the problem?","body":"What actual setting was it that fixed the problem?"}],"tags":[],"owner":{"account_id":2030151,"reputation":877,"user_id":1814087,"accept_rate":41,"display_name":"nikhil"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1490092726,"creation_date":1490092726,"answer_id":42924696,"question_id":42833576,"body_markdown":"Atlast I got the problem.People facing the similar issue can give a try for same.\r\nIt was actully a result of firewall i have in my network.I resolved it using connection pool setting.\r\nThe final pool configuration made it work fr me.\r\n\r\n    &lt;Resource name=&quot;jdbc/xxx&quot;\r\n        auth=&quot;Container&quot;\r\n        type=&quot;javax.sql.DataSource&quot;\r\n        factory=&quot;com.yyy.tomcat.jndi.EncryptedDataSourceFactory&quot;\r\n        username=&quot;xyz&quot;\r\n        password=&quot;abc&quot;\r\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://x.x.x.x:3306/abc?enableQueryTimeouts=true&amp;amp;autoReconnect=true&amp;amp;autoReconnectForPools=true&quot;\r\n        initialSize=&quot;0&quot;\r\n        maxTotal=&quot;100&quot;\r\n        maxActive=&quot;100&quot;\r\n        minIdle=&quot;0&quot;\r\n        maxWait=&quot;1000&quot;\r\n        testOnBorrow=&quot;true&quot;\r\n        testWhileIdle=&quot;true&quot;\r\n        validationQuery=&quot;SELECT 1&quot;\r\n        validationInterval=&quot;30000&quot;\r\n        validationQueryTimeout=&quot;1&quot;\r\n        timeBetweenEvictionRunsMillis=&quot;30000&quot;\r\n        minEvictableIdleTimeMillis=&quot;30000&quot;\r\n        removeAbandonedTimeout=&quot;10&quot;\r\n        removeAbandoned=&quot;true&quot;\r\n        logAbandoned=&quot;true&quot;\r\n        logValidationErrors=&quot;true&quot;\r\n        connectionProperties=&quot;[enableQueryTimeouts=true]&quot;\r\n        jdbcInterceptors=&quot;ConnectionState;QueryTimeoutInterceptor(queryTimeout=1);SlowQueryReport;ResetAbandonedTimer&quot;&gt;\r\n","title":"Java Web application thread getting stuck for DB operation at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>Atlast I got the problem.People facing the similar issue can give a try for same.\nIt was actully a result of firewall i have in my network.I resolved it using connection pool setting.\nThe final pool configuration made it work fr me.</p>\n\n<pre><code>&lt;Resource name=\"jdbc/xxx\"\n    auth=\"Container\"\n    type=\"javax.sql.DataSource\"\n    factory=\"com.yyy.tomcat.jndi.EncryptedDataSourceFactory\"\n    username=\"xyz\"\n    password=\"abc\"\n    driverClassName=\"com.mysql.jdbc.Driver\"\n    url=\"jdbc:mysql://x.x.x.x:3306/abc?enableQueryTimeouts=true&amp;amp;autoReconnect=true&amp;amp;autoReconnectForPools=true\"\n    initialSize=\"0\"\n    maxTotal=\"100\"\n    maxActive=\"100\"\n    minIdle=\"0\"\n    maxWait=\"1000\"\n    testOnBorrow=\"true\"\n    testWhileIdle=\"true\"\n    validationQuery=\"SELECT 1\"\n    validationInterval=\"30000\"\n    validationQueryTimeout=\"1\"\n    timeBetweenEvictionRunsMillis=\"30000\"\n    minEvictableIdleTimeMillis=\"30000\"\n    removeAbandonedTimeout=\"10\"\n    removeAbandoned=\"true\"\n    logAbandoned=\"true\"\n    logValidationErrors=\"true\"\n    connectionProperties=\"[enableQueryTimeouts=true]\"\n    jdbcInterceptors=\"ConnectionState;QueryTimeoutInterceptor(queryTimeout=1);SlowQueryReport;ResetAbandonedTimer\"&gt;\n</code></pre>\n"}],"owner":{"account_id":2030151,"reputation":877,"user_id":1814087,"accept_rate":41,"display_name":"nikhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42924696,"answer_count":1,"score":1,"last_activity_date":1687233092,"creation_date":1489665827,"question_id":42833576,"body_markdown":"I am facing problem where sometimes web application thread getting stuck at java.net.SocketInputStream.socketRead0(Native Method) for DB operations.My app server and DB server resides in different VMs.\r\nPlease find below JStack\r\n\r\n    &quot;http-bio-9904-exec-10&quot; #57 daemon prio=5 os_prio=0     tid=0x00007f1730007000 nid=0xfcd1 runnable [0x00007f171e6ee000]\r\n    java.lang.Thread.State: RUNNABLE\r\n    at java.net.SocketInputStream.socketRead0(Native Method)\r\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:170)\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    at com.mysql.cj.core.io.ReadAheadInputStream.fill(ReadAheadInputStream.java:101)\r\n    at com.mysql.cj.core.io.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:144)\r\n    at com.mysql.cj.core.io.ReadAheadInputStream.read(ReadAheadInputStream.java:174)\r\n    - locked &lt;0x00000000f6a35bb8&gt; (a com.mysql.cj.core.io.ReadAheadInputStream)\r\n    at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n    at com.mysql.cj.core.io.FullReadInputStream.readFully(FullReadInputStream.java:58)\r\n    at com.mysql.cj.mysqla.io.SimplePacketReader.readHeader(SimplePacketReader.java:60)\r\n    at com.mysql.cj.mysqla.io.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:48)\r\n    at com.mysql.cj.mysqla.io.MultiPacketReader.readHeader(MultiPacketReader.java:51)\r\n    at com.mysql.cj.mysqla.io.MysqlaProtocol.readPacket(MysqlaProtocol.java:521)\r\n    at com.mysql.cj.mysqla.io.MysqlaProtocol.checkErrorPacket(MysqlaProtocol.java:723)\r\n    at com.mysql.cj.mysqla.io.MysqlaProtocol.sendCommand(MysqlaProtocol.java:662)\r\n    at com.mysql.cj.mysqla.io.MysqlaProtocol.sqlQueryDirect(MysqlaProtocol.java:950)\r\n    at com.mysql.cj.mysqla.MysqlaSession.sqlQueryDirect(MysqlaSession.java:431)\r\n    at com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1974)\r\n    - locked &lt;0x00000000f6a2ce30&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\r\n    at com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1936)\r\n    at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:891)\r\n    - locked &lt;0x00000000f6a2ce30&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\r\n    at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:795)\r\n    .\r\n    .\r\n    .\r\n    .\r\n \r\n\r\nI am using tomcat 7.0.57 with tomcat pooling as DB pool\r\nFollowing is the pooling configuration\r\n\r\n     &lt;Resource name=&quot;jdbc/xyz&quot; auth=&quot;Container&quot; \r\n    type=&quot;javax.sql.DataSource&quot;     \r\n    maxTotal=&quot;100&quot; \r\n    maxIdle=&quot;30&quot;      \r\n    factory= &quot;com.XXX.tomcat.jndi.EncryptedDataSourceFactory&quot;            \r\n\r\n    maxWaitMillis=&quot;10000&quot; \r\n    username=&quot;abc&quot; password=&quot;abcdef&quot; \r\n    driverClassName=&quot;com.mysql.jdbc.Driver&quot;       \r\n    url=&quot;jdbc:mysql://x.y.z.w:3306/some_db&quot; \r\n    testOnBorrow=&quot;true&quot; validationQuery=&quot;SELECT 1&quot;&gt;\r\n    &lt;/Resource&gt;\r\n\r\n\r\n\r\nI checked at the DB server(Mysql 5.6.34) in the general logs and found that query is reaching DB server after some minutes(varies between 5-20 minutes).\r\nSometimes the query(both insert/select) is executed with in fraction of seconds.\r\n\r\n\r\n\r\nIn the TCP dump at app level also shows the same results where there is a delay of 5-20 minutes.\r\n\r\nSome of the observations:\r\nThere is a slot of time like 5-10 minutes in which if request is fired the response is obtained after 15 minutes and after that 5-10 minutes all the queries will work smoothly for next 30-40 minutes.\r\n  \r\n\r\nMysql driver used is 5.1.0.\r\n\r\n\r\nPlease help me in identifying what can be the issue.\r\n\r\n\r\n","title":"Java Web application thread getting stuck for DB operation at java.net.SocketInputStream.socketRead0(Native Method)","body":"<p>I am facing problem where sometimes web application thread getting stuck at java.net.SocketInputStream.socketRead0(Native Method) for DB operations.My app server and DB server resides in different VMs.\nPlease find below JStack</p>\n\n<pre><code>\"http-bio-9904-exec-10\" #57 daemon prio=5 os_prio=0     tid=0x00007f1730007000 nid=0xfcd1 runnable [0x00007f171e6ee000]\njava.lang.Thread.State: RUNNABLE\nat java.net.SocketInputStream.socketRead0(Native Method)\nat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\nat java.net.SocketInputStream.read(SocketInputStream.java:170)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat com.mysql.cj.core.io.ReadAheadInputStream.fill(ReadAheadInputStream.java:101)\nat com.mysql.cj.core.io.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:144)\nat com.mysql.cj.core.io.ReadAheadInputStream.read(ReadAheadInputStream.java:174)\n- locked &lt;0x00000000f6a35bb8&gt; (a com.mysql.cj.core.io.ReadAheadInputStream)\nat java.io.FilterInputStream.read(FilterInputStream.java:133)\nat com.mysql.cj.core.io.FullReadInputStream.readFully(FullReadInputStream.java:58)\nat com.mysql.cj.mysqla.io.SimplePacketReader.readHeader(SimplePacketReader.java:60)\nat com.mysql.cj.mysqla.io.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:48)\nat com.mysql.cj.mysqla.io.MultiPacketReader.readHeader(MultiPacketReader.java:51)\nat com.mysql.cj.mysqla.io.MysqlaProtocol.readPacket(MysqlaProtocol.java:521)\nat com.mysql.cj.mysqla.io.MysqlaProtocol.checkErrorPacket(MysqlaProtocol.java:723)\nat com.mysql.cj.mysqla.io.MysqlaProtocol.sendCommand(MysqlaProtocol.java:662)\nat com.mysql.cj.mysqla.io.MysqlaProtocol.sqlQueryDirect(MysqlaProtocol.java:950)\nat com.mysql.cj.mysqla.MysqlaSession.sqlQueryDirect(MysqlaSession.java:431)\nat com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1974)\n- locked &lt;0x00000000f6a2ce30&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\nat com.mysql.cj.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:1936)\nat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:891)\n- locked &lt;0x00000000f6a2ce30&gt; (a com.mysql.cj.jdbc.ConnectionImpl)\nat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:795)\n.\n.\n.\n.\n</code></pre>\n\n<p>I am using tomcat 7.0.57 with tomcat pooling as DB pool\nFollowing is the pooling configuration</p>\n\n<pre><code> &lt;Resource name=\"jdbc/xyz\" auth=\"Container\" \ntype=\"javax.sql.DataSource\"     \nmaxTotal=\"100\" \nmaxIdle=\"30\"      \nfactory= \"com.XXX.tomcat.jndi.EncryptedDataSourceFactory\"            \n\nmaxWaitMillis=\"10000\" \nusername=\"abc\" password=\"abcdef\" \ndriverClassName=\"com.mysql.jdbc.Driver\"       \nurl=\"jdbc:mysql://x.y.z.w:3306/some_db\" \ntestOnBorrow=\"true\" validationQuery=\"SELECT 1\"&gt;\n&lt;/Resource&gt;\n</code></pre>\n\n<p>I checked at the DB server(Mysql 5.6.34) in the general logs and found that query is reaching DB server after some minutes(varies between 5-20 minutes).\nSometimes the query(both insert/select) is executed with in fraction of seconds.</p>\n\n<p>In the TCP dump at app level also shows the same results where there is a delay of 5-20 minutes.</p>\n\n<p>Some of the observations:\nThere is a slot of time like 5-10 minutes in which if request is fired the response is obtained after 15 minutes and after that 5-10 minutes all the queries will work smoothly for next 30-40 minutes.</p>\n\n<p>Mysql driver used is 5.1.0.</p>\n\n<p>Please help me in identifying what can be the issue.</p>\n"},{"tags":["java","android","android-permissions","android-lifecycle"],"answers":[{"comments":[{"owner":{"account_id":10366045,"reputation":1,"user_id":7645078,"display_name":"Shuvam Mandal"},"score":0,"creation_date":1687087663,"post_id":76499741,"comment_id":134885428,"body_markdown":"How do I identify the MOMENT Bluetooth is turned off? Is there some background process I have to keep running?","body":"How do I identify the MOMENT Bluetooth is turned off? Is there some background process I have to keep running?"},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1687232001,"post_id":76499741,"comment_id":134904060,"body_markdown":"Sorry - missed the bluetooth part - edited answer","body":"Sorry - missed the bluetooth part - edited answer"}],"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687232086,"creation_date":1687078401,"answer_id":76499741,"question_id":76499608,"body_markdown":"You can use the `FusedLocationProviderClient` to request location updates. One of the callback functions tells you the location availability. See [Request Location Updates](https://developer.android.com/training/location/request-updates).\r\n\r\nNote that you&#39;ll need to call the `requestLocationUpdates` that takes a `LocationCallback` to override the `onLocationAvailability` function.\r\n\r\nFor Bluetooth, you need to listen for a system broadcast. See [Detecting state changes made to the BluetoothAdapter?](https://stackoverflow.com/questions/9693755/detecting-state-changes-made-to-the-bluetoothadapter)\r\n\r\nI&#39;m not positive this still works; it&#39;s a rather old answer (I remember using that approach a long while back) but it might not work with more recent bluetooth","title":"How do apps like BUMBLE know as soon as the user disables LOCATION?","body":"<p>You can use the <code>FusedLocationProviderClient</code> to request location updates. One of the callback functions tells you the location availability. See <a href=\"https://developer.android.com/training/location/request-updates\" rel=\"nofollow noreferrer\">Request Location Updates</a>.</p>\n<p>Note that you'll need to call the <code>requestLocationUpdates</code> that takes a <code>LocationCallback</code> to override the <code>onLocationAvailability</code> function.</p>\n<p>For Bluetooth, you need to listen for a system broadcast. See <a href=\"https://stackoverflow.com/questions/9693755/detecting-state-changes-made-to-the-bluetoothadapter\">Detecting state changes made to the BluetoothAdapter?</a></p>\n<p>I'm not positive this still works; it's a rather old answer (I remember using that approach a long while back) but it might not work with more recent bluetooth</p>\n"}],"owner":{"account_id":10366045,"reputation":1,"user_id":7645078,"display_name":"Shuvam Mandal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687232086,"creation_date":1687076187,"question_id":76499608,"body_markdown":"There are many apps which require location permission to operate. For example, [BUMBLE](https://bumble.com/). While using the app, if I disable location from the notification bar, it immediately knows, and degrades the functionality, while preserving the state of the app. When I turn it back on, it resumes full functionality. How to implement the same thing in my Android app? Bluetooth being enabled is crucial to the functioning of my app.\r\n\r\nEDIT:\r\nI&#39;m mainly interested in implementing a similar system for Bluetooth. My app involves many activities like scanning for ble devices, maintaining ble connections and communication, etc, which makes the app crash when the user turns off bluetooth from the notification bar.","title":"How do apps like BUMBLE know as soon as the user disables LOCATION?","body":"<p>There are many apps which require location permission to operate. For example, <a href=\"https://bumble.com/\" rel=\"nofollow noreferrer\">BUMBLE</a>. While using the app, if I disable location from the notification bar, it immediately knows, and degrades the functionality, while preserving the state of the app. When I turn it back on, it resumes full functionality. How to implement the same thing in my Android app? Bluetooth being enabled is crucial to the functioning of my app.</p>\n<p>EDIT:\nI'm mainly interested in implementing a similar system for Bluetooth. My app involves many activities like scanning for ble devices, maintaining ble connections and communication, etc, which makes the app crash when the user turns off bluetooth from the notification bar.</p>\n"},{"tags":["java","java-stream","java-11","boxing"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1687232151,"post_id":76511255,"comment_id":134904066,"body_markdown":"The [OpenJDK repository on GitHub](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/IntStream.java#L879) suggests that it still returns `Spliterator.OfInt`.  Have you actually failed to compile code that expects `Spliterator.OfInt`, or just looked at the Javadoc?","body":"The <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/stream/IntStream.java#L879\" rel=\"nofollow noreferrer\">OpenJDK repository on GitHub</a> suggests that it still returns <code>Spliterator.OfInt</code>.  Have you actually failed to compile code that expects <code>Spliterator.OfInt</code>, or just looked at the Javadoc?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687232195,"post_id":76511255,"comment_id":134904072,"body_markdown":"Interesting that JavaDocs say `spliterator` is inherited. That certainly isn&#39;t true on my copy of JDK 17.","body":"Interesting that JavaDocs say <code>spliterator</code> is inherited. That certainly isn&#39;t true on my copy of JDK 17."},{"owner":{"account_id":991929,"reputation":1432,"user_id":1008966,"display_name":"Dan R"},"score":0,"creation_date":1687232932,"post_id":76511255,"comment_id":134904146,"body_markdown":"@LouisWasserman well now I feel like up is down and black is white. How could there be such a discrepancy - isn&#39;t the javadoc generated from this source? (I also checked on [devdocs.io](https://devdocs.io/openjdk~11/java.base/java/util/stream/intstream) and same thing there.)","body":"@LouisWasserman well now I feel like up is down and black is white. How could there be such a discrepancy - isn&#39;t the javadoc generated from this source? (I also checked on <a href=\"https://devdocs.io/openjdk~11/java.base/java/util/stream/intstream\" rel=\"nofollow noreferrer\">devdocs.io</a> and same thing there.)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687239062,"post_id":76511255,"comment_id":134904619,"body_markdown":"Yes, but it seems that the Javadoc generated from the JDK doesn&#39;t include overridden methods in detail if they don&#39;t have their own Javadoc comment (which you can see `IntStream#spliterator()` does not from the source code link provided by Louis). It shows them in sections like &quot;methods declared in &lt;parent&gt;&quot;. I&#39;m not sure why this is the case; I&#39;m not an expert in the `javadoc` tool, but I can&#39;t seem to reproduce the behavior shown by the standard library&#39;s documentation.","body":"Yes, but it seems that the Javadoc generated from the JDK doesn&#39;t include overridden methods in detail if they don&#39;t have their own Javadoc comment (which you can see <code>IntStream#spliterator()</code> does not from the source code link provided by Louis). It shows them in sections like &quot;methods declared in &lt;parent&gt;&quot;. I&#39;m not sure why this is the case; I&#39;m not an expert in the <code>javadoc</code> tool, but I can&#39;t seem to reproduce the behavior shown by the standard library&#39;s documentation."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687243716,"post_id":76511255,"comment_id":134905249,"body_markdown":"If you don&#39;t provide explicit Javadoc for an overridden method it just generates the basic information inherited from the parent method.","body":"If you don&#39;t provide explicit Javadoc for an overridden method it just generates the basic information inherited from the parent method."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1687245929,"post_id":76511255,"comment_id":134905614,"body_markdown":"Side effect of [JDK-8157000](https://bugs.openjdk.org/browse/JDK-8157000). The issue has been noticed already, see [JDK-8219147](https://bugs.openjdk.org/browse/JDK-8219147) but it seems it didn’t cover all cases. Maybe, generics complicated matters. See also [JDK-8296607](https://bugs.openjdk.org/browse/JDK-8296607).","body":"Side effect of <a href=\"https://bugs.openjdk.org/browse/JDK-8157000\" rel=\"nofollow noreferrer\">JDK-8157000</a>. The issue has been noticed already, see <a href=\"https://bugs.openjdk.org/browse/JDK-8219147\" rel=\"nofollow noreferrer\">JDK-8219147</a> but it seems it didn’t cover all cases. Maybe, generics complicated matters. See also <a href=\"https://bugs.openjdk.org/browse/JDK-8296607\" rel=\"nofollow noreferrer\">JDK-8296607</a>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1687248026,"post_id":76511255,"comment_id":134906003,"body_markdown":"Re _&quot;the expensive overhead of constant boxing and unboxing&quot;_ and the _&quot;performance hit&quot;_, you might want to look at this [recent and authoritative SO answer](https://stackoverflow.com/a/73336364/2985643). In particular, note from the final paragraph of that answer: _&quot;...even if boxing happens, does it really matter? How many billion-billion boxing operations would it take for this to show up on your performance metrics?&quot;_","body":"Re <i>&quot;the expensive overhead of constant boxing and unboxing&quot;</i> and the <i>&quot;performance hit&quot;</i>, you might want to look at this <a href=\"https://stackoverflow.com/a/73336364/2985643\">recent and authoritative SO answer</a>. In particular, note from the final paragraph of that answer: <i>&quot;...even if boxing happens, does it really matter? How many billion-billion boxing operations would it take for this to show up on your performance metrics?&quot;</i>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1687292648,"post_id":76511255,"comment_id":134915629,"body_markdown":"Holger&#39;s comment finally let me reproduce the problem. Looks like the JDK generates its documentation with `--override-methods=summary`. That means an overridden method that does not provide its own Javadoc comment, nor changes the return type, will not be documented in detail. That makes sense. But it appears there&#39;s a bug, and the tool seems to have missed the fact that the discussed `spliterator()` method had its return type changed from `Spliterator&lt;T&gt;` to `Spliterator.OfInt`. I wouldn&#39;t be surprised if this bug was simply the order they perform checks, as [cont.]","body":"Holger&#39;s comment finally let me reproduce the problem. Looks like the JDK generates its documentation with <code>--override-methods=summary</code>. That means an overridden method that does not provide its own Javadoc comment, nor changes the return type, will not be documented in detail. That makes sense. But it appears there&#39;s a bug, and the tool seems to have missed the fact that the discussed <code>spliterator()</code> method had its return type changed from <code>Spliterator&lt;T&gt;</code> to <code>Spliterator.OfInt</code>. I wouldn&#39;t be surprised if this bug was simply the order they perform checks, as [cont.]"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687292844,"post_id":76511255,"comment_id":134915655,"body_markdown":"[cont.] a `Spliterator.OfInt` is a `Spliterator&lt;Integer&gt;`. That change is already documented in the class documentation, as `IntStream` is a `BaseStream&lt;Integer, ...&gt;`. So, why document it again in the method? But that ignores that `Spliterator.OfInt` is a covariant return type, thus the bug.","body":"[cont.] a <code>Spliterator.OfInt</code> is a <code>Spliterator&lt;Integer&gt;</code>. That change is already documented in the class documentation, as <code>IntStream</code> is a <code>BaseStream&lt;Integer, ...&gt;</code>. So, why document it again in the method? But that ignores that <code>Spliterator.OfInt</code> is a covariant return type, thus the bug."}],"owner":{"account_id":991929,"reputation":1432,"user_id":1008966,"display_name":"Dan R"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1687231838,"creation_date":1687231838,"question_id":76511255,"body_markdown":"In Java 8, [`IntStream.spliterator()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#spliterator--) is overridden from the base class to return type `Spliterator.OfInt`, which is a sub-interface providing methods that operate on an `IntConsumer` instead of a generic `Consumer&lt;Integer&gt;`.\r\n\r\nBut since Java 11 (and continuing with 17 and 20), [`IntStream`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html) inherits the base class `spliterator()` method which only returns a generic `Spliterator&lt;Integer&gt;`.\r\n\r\nI believe the reason for these specialized primitive types is largely to avoid the expensive overhead of constant boxing and unboxing (see for example [this SO answer](https://stackoverflow.com/a/54840979/1008966)). If so, then there is a performance hit for using `Spliterator&lt;Integer&gt;` rather than `Spliterator.OfInt`. Does anyone know why this specialization in `IntStream` was removed?","title":"Why doesn&#39;t IntStream.spliterator() return Spliterator.OfInt since Java 11?","body":"<p>In Java 8, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#spliterator--\" rel=\"nofollow noreferrer\"><code>IntStream.spliterator()</code></a> is overridden from the base class to return type <code>Spliterator.OfInt</code>, which is a sub-interface providing methods that operate on an <code>IntConsumer</code> instead of a generic <code>Consumer&lt;Integer&gt;</code>.</p>\n<p>But since Java 11 (and continuing with 17 and 20), <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a> inherits the base class <code>spliterator()</code> method which only returns a generic <code>Spliterator&lt;Integer&gt;</code>.</p>\n<p>I believe the reason for these specialized primitive types is largely to avoid the expensive overhead of constant boxing and unboxing (see for example <a href=\"https://stackoverflow.com/a/54840979/1008966\">this SO answer</a>). If so, then there is a performance hit for using <code>Spliterator&lt;Integer&gt;</code> rather than <code>Spliterator.OfInt</code>. Does anyone know why this specialization in <code>IntStream</code> was removed?</p>\n"},{"tags":["java","c++","algorithm","math","data-structures"],"comments":[{"owner":{"account_id":235371,"reputation":3579,"user_id":502144,"accept_rate":50,"display_name":"fdermishin"},"score":0,"creation_date":1610797094,"post_id":65748657,"comment_id":116248185,"body_markdown":"I think that the algorithm you suggested has a minor issue. The matrix will not reduce to `m * n/2`, but instead each row will be split roughly in half by the pivot. So after the first iteration rows will have different sizes in general case.","body":"I think that the algorithm you suggested has a minor issue. The matrix will not reduce to <code>m * n&#47;2</code>, but instead each row will be split roughly in half by the pivot. So after the first iteration rows will have different sizes in general case."},{"owner":{"account_id":20465674,"reputation":61,"user_id":15017943,"display_name":"Sammi524"},"score":0,"creation_date":1610803146,"post_id":65748657,"comment_id":116249807,"body_markdown":"@fdermishin So you mean the proposed algorithm by me, is correct? is the time complexity correct?","body":"@fdermishin So you mean the proposed algorithm by me, is correct? is the time complexity correct?"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1610810890,"post_id":65748657,"comment_id":116251922,"body_markdown":"Is the algorithm required to only use comparison operations? (for example, radix sort doesn&#39;t satisfy that condition)","body":"Is the algorithm required to only use comparison operations? (for example, radix sort doesn&#39;t satisfy that condition)"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1610811289,"post_id":65748657,"comment_id":116252017,"body_markdown":"The special case m==2 is possible. For m==3 it&#39;s very hard already.","body":"The special case m==2 is possible. For m==3 it&#39;s very hard already."},{"owner":{"account_id":20465674,"reputation":61,"user_id":15017943,"display_name":"Sammi524"},"score":0,"creation_date":1610812880,"post_id":65748657,"comment_id":116252478,"body_markdown":"@user202729 can we use a  trick? we know for m sorted array with n element at whole, we know there is O(m log n) solution for finding k&#39;th element, here we have m sorted array (m row) and m*n elements so we get O(m (logmn)) means O(m (log (m)+ log (n))","body":"@user202729 can we use a  trick? we know for m sorted array with n element at whole, we know there is O(m log n) solution for finding k&#39;th element, here we have m sorted array (m row) and m*n elements so we get O(m (logmn)) means O(m (log (m)+ log (n))"},{"owner":{"account_id":20465674,"reputation":61,"user_id":15017943,"display_name":"Sammi524"},"score":0,"creation_date":1610813061,"post_id":65748657,"comment_id":116252529,"body_markdown":"@user202729 would you please present it here to discuss with others. please add as simple as possible step (not advanced)","body":"@user202729 would you please present it here to discuss with others. please add as simple as possible step (not advanced)"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1610814593,"post_id":65748657,"comment_id":116252953,"body_markdown":"Thinking about it again, it&#39;s actually m * (log m + log n) (which satisfies the condition of the question)","body":"Thinking about it again, it&#39;s actually m * (log m + log n) (which satisfies the condition of the question)"},{"owner":{"account_id":20465674,"reputation":61,"user_id":15017943,"display_name":"Sammi524"},"score":0,"creation_date":1610815284,"post_id":65748657,"comment_id":116253186,"body_markdown":"@user202729 would you please read the attached links too and also please see problem 4 here  https://courses.engr.illinois.edu/cs374/sp2017/labs/solutions/lab6-sol.pdf","body":"@user202729 would you please read the attached links too and also please see problem 4 here  <a href=\"https://courses.engr.illinois.edu/cs374/sp2017/labs/solutions/lab6-sol.pdf\" rel=\"nofollow noreferrer\">courses.engr.illinois.edu/cs374/sp2017/labs/solutions/&hellip;</a>"},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1610815432,"post_id":65748657,"comment_id":116253232,"body_markdown":"Wait... this question asks exactly the same thing as the linked question, and the linked answer claims that it works in the required complexity.","body":"Wait... this question asks exactly the same thing as the linked question, and the linked answer claims that it works in the required complexity."},{"owner":{"display_name":"user5927605"},"score":0,"creation_date":1610838886,"post_id":65748657,"comment_id":116259957,"body_markdown":"@user202729 very hard and also nice question. I see all linked post, nothing...","body":"@user202729 very hard and also nice question. I see all linked post, nothing..."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1610857980,"post_id":65748657,"comment_id":116262798,"body_markdown":"@DaviedZuhraph ...? That [linked post](https://stackoverflow.com/questions/64916213/fastest-algorithm-for-kth-smallest-element-or-median-finding-on-2-dimensional/65043109#65043109) (to another answer on SO) have an answer.","body":"@DaviedZuhraph ...? That <a href=\"https://stackoverflow.com/questions/64916213/fastest-algorithm-for-kth-smallest-element-or-median-finding-on-2-dimensional/65043109#65043109\">linked post</a> (to another answer on SO) have an answer."},{"owner":{"display_name":"user5927605"},"score":0,"creation_date":1610884583,"post_id":65748657,"comment_id":116267796,"body_markdown":"@user202729 it&#39;s strange...","body":"@user202729 it&#39;s strange..."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":0,"creation_date":1611303357,"post_id":65748657,"comment_id":116412400,"body_markdown":"@DaviedZuhraph What is strange? Are you saying that you don&#39;t understand the linked answer? Or what?","body":"@DaviedZuhraph What is strange? Are you saying that you don&#39;t understand the linked answer? Or what?"}],"answers":[{"comments":[{"owner":{"display_name":"user5927605"},"score":0,"creation_date":1611241486,"post_id":65824757,"comment_id":116392466,"body_markdown":"!! just rows is sorted here not columns and rows","body":"!! just rows is sorted here not columns and rows"},{"owner":{"account_id":11031665,"reputation":1,"user_id":8102866,"display_name":"Swargam"},"score":0,"creation_date":1611300681,"post_id":65824757,"comment_id":116411537,"body_markdown":"Yes, Just rows are sorted. So I created a PQ for the values of the first column. And will keep track of which row each element belongs to. I will pop from PQ which will return me the first smallest Element. Then will insert into the PQ the next row element for the poped and will pop again.\n\nThat&#39;s why the problem is simply put -&gt; To find the kth smallest element in M sorted arrays.","body":"Yes, Just rows are sorted. So I created a PQ for the values of the first column. And will keep track of which row each element belongs to. I will pop from PQ which will return me the first smallest Element. Then will insert into the PQ the next row element for the poped and will pop again.  That&#39;s why the problem is simply put -&gt; To find the kth smallest element in M sorted arrays."}],"tags":[],"owner":{"account_id":11031665,"reputation":1,"user_id":8102866,"display_name":"Swargam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611300891,"creation_date":1611222223,"answer_id":65824757,"question_id":65748657,"body_markdown":"m - rows\r\nn - columns\r\n\r\n- Is it compulsory that you want a solution with `O(m (log m+ log n))` Complexity?\r\n- I Can Think of a Solution with Complexity `O(k * log-m)` with extra space of O(m)\r\n    - You can use a modified PriorityQueue (heap) DataStructure for this complexity\r\n\r\n    ```java\r\n    class PQObject {\r\n    \tint value; // PQ sorting happens on this int..\r\n    \tint m; // And m and n are positions.\r\n    \tint n;\r\n    }\r\n    ```\r\n\r\n- You can just put all the values from the first column to the Priority Queue and Start popping until the kth smallest element\r\n    - Every time you pop re-insert the next value of the row using m and n in the popped object.\r\n- Ultimately the problem comes down to find the kth smallest element in M sorted arrays.","title":"Algorithm with O(m (log n + log m)) time complexity for finding kth smallest element in n*m matrix with each row sorted?","body":"<p>m - rows\nn - columns</p>\n<ul>\n<li><p>Is it compulsory that you want a solution with <code>O(m (log m+ log n))</code> Complexity?</p>\n</li>\n<li><p>I Can Think of a Solution with Complexity <code>O(k * log-m)</code> with extra space of O(m)</p>\n<ul>\n<li>You can use a modified PriorityQueue (heap) DataStructure for this complexity</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class PQObject {\n    int value; // PQ sorting happens on this int..\n    int m; // And m and n are positions.\n    int n;\n}\n</code></pre>\n</li>\n<li><p>You can just put all the values from the first column to the Priority Queue and Start popping until the kth smallest element</p>\n<ul>\n<li>Every time you pop re-insert the next value of the row using m and n in the popped object.</li>\n</ul>\n</li>\n<li><p>Ultimately the problem comes down to find the kth smallest element in M sorted arrays.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687231494,"creation_date":1687231494,"answer_id":76511233,"question_id":65748657,"body_markdown":"[A recent paper by Kaplan et al](https://arxiv.org/pdf/1802.07041.pdf) gives the optimal algorithms for this problem, at least from a big-O perspective. Specifically, by using the soft heap data structure, they give algorithms that run in time\r\n\r\n * O(m + k) for the case where k &amp;le; 2m;\r\n * O(m log (k/m)) for the case where k &amp;ge; 2m; and\r\n * O(m + &amp;Sigma; log(n&lt;sub&gt;i&lt;/sub&gt; + 1)) in general, where n&lt;sub&gt;i&lt;/sub&gt; is the number of items in row i less than or equal to the kth-smallest item.\r\n\r\nAll of these runtimes are optimal in that, assuming we can only use comparison-based algorithms, none of the runtimes can be improved in a big-O sense.\r\n\r\nThe algorithms involved here are nontrivial but are much simpler than previous algorithms meeting similar time bounds. The use of the soft heap data structure is the key to making everything work correctly and quickly.","title":"Algorithm with O(m (log n + log m)) time complexity for finding kth smallest element in n*m matrix with each row sorted?","body":"<p><a href=\"https://arxiv.org/pdf/1802.07041.pdf\" rel=\"nofollow noreferrer\">A recent paper by Kaplan et al</a> gives the optimal algorithms for this problem, at least from a big-O perspective. Specifically, by using the soft heap data structure, they give algorithms that run in time</p>\n<ul>\n<li>O(m + k) for the case where k ≤ 2m;</li>\n<li>O(m log (k/m)) for the case where k ≥ 2m; and</li>\n<li>O(m + Σ log(n<sub>i</sub> + 1)) in general, where n<sub>i</sub> is the number of items in row i less than or equal to the kth-smallest item.</li>\n</ul>\n<p>All of these runtimes are optimal in that, assuming we can only use comparison-based algorithms, none of the runtimes can be improved in a big-O sense.</p>\n<p>The algorithms involved here are nontrivial but are much simpler than previous algorithms meeting similar time bounds. The use of the soft heap data structure is the key to making everything work correctly and quickly.</p>\n"}],"owner":{"account_id":20465674,"reputation":61,"user_id":15017943,"display_name":"Sammi524"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1687231494,"creation_date":1610793253,"question_id":65748657,"body_markdown":"I ran into an interview question recently.\r\n\r\n&gt; We have `m*n` matrix such that each row is in non-decreasing order (sorted with distinct elements). design an algorithm on order `O(m (log m+ log n))` to find `k`-th smallest element on this matrix (just one element as `k`-th smallest element). \r\n\r\nI think this is not possible so search on Google and find [this link][1] and [another solution][2] and [this answer to a similar question][3].\r\n\r\nI think as follows:\r\n\r\n1) Put the median of all rows into an array and we find the median of this array in `O(m)` and called it pivot\r\n    \r\n2) We find the rank of this element in `O(m log n)`. i.e: in each row how many elements are lower than the pivot found in step (1). \r\n    \r\n3) By comparing `k` and &quot;rank of the pivot&quot; we can know that in each row works on the right half or left half. (reduce to `m*n/2` matrix.)\r\n    \r\n\r\nBut the time complexity of this algorithm is `O(m * log^2 n)`. What is the algorithm that can works on `O(m (log n + log m))`? Is there any idea?\r\n\r\n  [1]: https://www.quora.com/Is-it-possible-to-find-k-th-element-in-two-dimensional-array-m-n-which-each-rows-is-in-sorted-order-and-all-numbers-is-distinct-in-O-m-log-n-log-m/answer/Drew-Eckhardt?__nsrc__=4&amp;__snid3__=15566797840\r\n  [2]: https://www.quora.com/What-is-the-most-efficient-fast-way-to-finding-k-th-smallest-element-or-median-on-2D-array-1-M-1-N-where-each-rows-of-this-matrix-is-sorted-in-ascending-order-and-all-elements-are-distinct\r\n  [3]: https://stackoverflow.com/questions/64916213/fastest-algorithm-for-kth-smallest-element-or-median-finding-on-2-dimensional/65043109#65043109","title":"Algorithm with O(m (log n + log m)) time complexity for finding kth smallest element in n*m matrix with each row sorted?","body":"<p>I ran into an interview question recently.</p>\n<blockquote>\n<p>We have <code>m*n</code> matrix such that each row is in non-decreasing order (sorted with distinct elements). design an algorithm on order <code>O(m (log m+ log n))</code> to find <code>k</code>-th smallest element on this matrix (just one element as <code>k</code>-th smallest element).</p>\n</blockquote>\n<p>I think this is not possible so search on Google and find <a href=\"https://www.quora.com/Is-it-possible-to-find-k-th-element-in-two-dimensional-array-m-n-which-each-rows-is-in-sorted-order-and-all-numbers-is-distinct-in-O-m-log-n-log-m/answer/Drew-Eckhardt?__nsrc__=4&amp;__snid3__=15566797840\" rel=\"nofollow noreferrer\">this link</a> and <a href=\"https://www.quora.com/What-is-the-most-efficient-fast-way-to-finding-k-th-smallest-element-or-median-on-2D-array-1-M-1-N-where-each-rows-of-this-matrix-is-sorted-in-ascending-order-and-all-elements-are-distinct\" rel=\"nofollow noreferrer\">another solution</a> and <a href=\"https://stackoverflow.com/questions/64916213/fastest-algorithm-for-kth-smallest-element-or-median-finding-on-2-dimensional/65043109#65043109\">this answer to a similar question</a>.</p>\n<p>I think as follows:</p>\n<ol>\n<li><p>Put the median of all rows into an array and we find the median of this array in <code>O(m)</code> and called it pivot</p>\n</li>\n<li><p>We find the rank of this element in <code>O(m log n)</code>. i.e: in each row how many elements are lower than the pivot found in step (1).</p>\n</li>\n<li><p>By comparing <code>k</code> and &quot;rank of the pivot&quot; we can know that in each row works on the right half or left half. (reduce to <code>m*n/2</code> matrix.)</p>\n</li>\n</ol>\n<p>But the time complexity of this algorithm is <code>O(m * log^2 n)</code>. What is the algorithm that can works on <code>O(m (log n + log m))</code>? Is there any idea?</p>\n"},{"tags":["java","math","random","operators","operator-precedence"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687172846,"post_id":76505936,"comment_id":134895117,"body_markdown":"How about just introducing parentheses every time? That way you won&#39;t need to worry about operator precedence.","body":"How about just introducing parentheses every time? That way you won&#39;t need to worry about operator precedence."},{"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"score":0,"creation_date":1687173867,"post_id":76505936,"comment_id":134895301,"body_markdown":"Just introducing parenthesis does not work, i would still need to calculate it manually \n( i&#39;ve tried )","body":"Just introducing parenthesis does not work, i would still need to calculate it manually  ( i&#39;ve tried )"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687173963,"post_id":76505936,"comment_id":134895327,"body_markdown":"I&#39;m asking if you are OK with an output that adds parentheses everywhere.","body":"I&#39;m asking if you are OK with an output that adds parentheses everywhere."},{"owner":{"account_id":1437198,"reputation":15519,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":0,"creation_date":1687174591,"post_id":76505936,"comment_id":134895464,"body_markdown":"recursion is often the natural way of modelling this.  e.g. create a function to create a new binary operator, which calls itself to get the expressions it operates on.  initially I&#39;d just put brackets everywhere to make obvious what&#39;s going on.  once you get things working, the function could return a &quot;operator precedence&quot; as well which could be used to remove redundant braces","body":"recursion is often the natural way of modelling this.  e.g. create a function to create a new binary operator, which calls itself to get the expressions it operates on.  initially I&#39;d just put brackets everywhere to make obvious what&#39;s going on.  once you get things working, the function could return a &quot;operator precedence&quot; as well which could be used to remove redundant braces"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687176209,"creation_date":1687175785,"answer_id":76506386,"question_id":76505936,"body_markdown":"To account for operator precedence, don&#39;t think of an equation as &quot;a list of numbers separated as operators&quot;. Instead, think of it as a *tree*.\r\n\r\nDefine a `EquationComponent`, which can be either:\r\n\r\n- a constant number, or\r\n- an operation (plus, minus, times, divide) on two other `EquationComponent`s\r\n\r\nThis kind of sealed hierarchy can be implemented by a [sealed interface/class][1]. If your version of Java doesn&#39;t have that, a regular interface is fine too.\r\n\r\nThe special thing that an `EquationComponent` can do, is it has a value, or as you&#39;d like to call it, an &quot;answer&quot;.\r\n\r\nTo get an &quot;answer&quot; from a constant number, just return that number. To get an &quot;answer&quot; from an operation, first get the &quot;answers&quot; from the two sides of the operation, and apply the operator to the two values.\r\n\r\nWhen we convert an `EquationComponent` to string, we always add parentheses around it. And because the &quot;answer&quot; is calculated based on the equation components, this makes sure that the answer is always consistent with how the equation is displayed.\r\n\r\nHere is an example implementation. Pay attention to how `toString` and `getAnswer` are implemented.\r\n\r\n```\r\nenum Operation {\r\n    PLUS(&quot;+&quot;),\r\n    MINUS(&quot;-&quot;),\r\n    TIMES(&quot;*&quot;),\r\n    DIVIDE(&quot;/&quot;);\r\n    private final String symbol;\r\n\r\n    Operation(String symbol) {\r\n        this.symbol = symbol;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return symbol;\r\n    }\r\n}\r\n\r\nsealed interface EquationComponent permits Equation, ConstantNumber {\r\n    int getAnswer();\r\n}\r\n\r\nfinal class ConstantNumber implements EquationComponent {\r\n    private final int number;\r\n\r\n    // getters, equals, hashCode if you need those...\r\n\r\n    public ConstantNumber(int number) {\r\n        this.number = number;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return Integer.toString(number);\r\n    }\r\n\r\n    @Override\r\n    public int getAnswer() {\r\n        return number;\r\n    }\r\n}\r\n\r\nfinal class Equation implements EquationComponent {\r\n    private final EquationComponent left;\r\n    private final EquationComponent right;\r\n    private final Operation operation;\r\n\r\n    // getters, equals, hashCode if you need those...\r\n\r\n    public Equation(EquationComponent left, EquationComponent right, Operation operation) {\r\n        this.left = left;\r\n        this.right = right;\r\n        this.operation = operation;\r\n    }\r\n\r\n    // I&#39;m using string concatenation here just for convenience,\r\n    // you can totally change this to use StringBuilder instead.\r\n    @Override\r\n    public String toString() {\r\n        // note that this adds parentheses to every operation\r\n        return &quot;(&quot; + left + &quot; &quot; + operation + &quot; &quot; + right + &quot;)&quot;;\r\n    }\r\n\r\n    @Override\r\n    public int getAnswer() {\r\n        // this could be cached somewhere...\r\n        return switch (operation) {\r\n            case PLUS -&gt; left.getAnswer() + right.getAnswer();\r\n            case MINUS -&gt; left.getAnswer() - right.getAnswer();\r\n            case TIMES -&gt; left.getAnswer() * right.getAnswer();\r\n            // integer division?\r\n            case DIVIDE -&gt; left.getAnswer() / right.getAnswer();\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nNow we have the infrastructure, we can start generating equations. Instead of deciding how many *numbers* you are going to generate. Decide how many *operations* you are going to generate.\r\n\r\nWrite a method that generates an operation. This method will choose an operator, and then for the left and right side of it, call itself recursively to generate more operations, or constant numbers if the maximum number of operations is already generated.\r\n\r\n    private static int remainingOperations;\r\n    private static final Random r = new Random();\r\n\r\n    public static void main(String[] value) throws IOException {\r\n        remainingOperations = r.nextInt(1, 4); // 1 to 3 operations\r\n        EquationComponent eq = makeEquation();\r\n        System.out.println(eq);\r\n        System.out.println(eq.getAnswer());\r\n    }\r\n\r\n    private static EquationComponent makeEquation() {\r\n        if (remainingOperations &gt; 0) {\r\n            remainingOperations--;\r\n            // even if your version of Java doesn&#39;t have switch expressions\r\n            // it should be obvious what this does and converting it to a switch\r\n            // statement is trivial.\r\n            Operator op = switch (r.nextInt(4)) {\r\n                case 0 -&gt; Operator.PLUS;\r\n                case 1 -&gt; Operator.MINUS;\r\n                case 2 -&gt; Operator.TIMES;\r\n                default -&gt; Operator.DIVIDE;\r\n            };\r\n            if (op == Operator.TIMES) {\r\n                return new Operation(\r\n                        // the left could be another number\r\n                        r.nextBoolean() ? makeEquation() : makeNumber(101),\r\n                        // generate a small number on the right if it is multiplication\r\n                        makeNumber(11),\r\n                        op\r\n                );\r\n            } else {\r\n                // this allows both sides to be a constant number,\r\n                // which means we could generate an equation with fewer\r\n                // operations than remainingOperations\r\n                return new Operation(\r\n                        // the left could be another number\r\n                        r.nextBoolean() ? makeEquation() : makeNumber(101),\r\n                        // the right could be another number\r\n                        r.nextBoolean() ? makeEquation() : makeNumber(101),\r\n                        op\r\n                );\r\n            }\r\n        } else {\r\n            return makeNumber(101);\r\n        }\r\n    }\r\n\r\n    private static ConstantNumber makeNumber(int limit) {\r\n        return new ConstantNumber(r.nextInt(limit));\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/language/sealed-classes-and-interfaces.html#GUID-0C709461-CC33-419A-82BF-61461336E65F","title":"Generating random equations with wrong answers ( operator precedence problem )","body":"<p>To account for operator precedence, don't think of an equation as &quot;a list of numbers separated as operators&quot;. Instead, think of it as a <em>tree</em>.</p>\n<p>Define a <code>EquationComponent</code>, which can be either:</p>\n<ul>\n<li>a constant number, or</li>\n<li>an operation (plus, minus, times, divide) on two other <code>EquationComponent</code>s</li>\n</ul>\n<p>This kind of sealed hierarchy can be implemented by a <a href=\"https://docs.oracle.com/en/java/javase/20/language/sealed-classes-and-interfaces.html#GUID-0C709461-CC33-419A-82BF-61461336E65F\" rel=\"nofollow noreferrer\">sealed interface/class</a>. If your version of Java doesn't have that, a regular interface is fine too.</p>\n<p>The special thing that an <code>EquationComponent</code> can do, is it has a value, or as you'd like to call it, an &quot;answer&quot;.</p>\n<p>To get an &quot;answer&quot; from a constant number, just return that number. To get an &quot;answer&quot; from an operation, first get the &quot;answers&quot; from the two sides of the operation, and apply the operator to the two values.</p>\n<p>When we convert an <code>EquationComponent</code> to string, we always add parentheses around it. And because the &quot;answer&quot; is calculated based on the equation components, this makes sure that the answer is always consistent with how the equation is displayed.</p>\n<p>Here is an example implementation. Pay attention to how <code>toString</code> and <code>getAnswer</code> are implemented.</p>\n<pre><code>enum Operation {\n    PLUS(&quot;+&quot;),\n    MINUS(&quot;-&quot;),\n    TIMES(&quot;*&quot;),\n    DIVIDE(&quot;/&quot;);\n    private final String symbol;\n\n    Operation(String symbol) {\n        this.symbol = symbol;\n    }\n\n    @Override\n    public String toString() {\n        return symbol;\n    }\n}\n\nsealed interface EquationComponent permits Equation, ConstantNumber {\n    int getAnswer();\n}\n\nfinal class ConstantNumber implements EquationComponent {\n    private final int number;\n\n    // getters, equals, hashCode if you need those...\n\n    public ConstantNumber(int number) {\n        this.number = number;\n    }\n\n    @Override\n    public String toString() {\n        return Integer.toString(number);\n    }\n\n    @Override\n    public int getAnswer() {\n        return number;\n    }\n}\n\nfinal class Equation implements EquationComponent {\n    private final EquationComponent left;\n    private final EquationComponent right;\n    private final Operation operation;\n\n    // getters, equals, hashCode if you need those...\n\n    public Equation(EquationComponent left, EquationComponent right, Operation operation) {\n        this.left = left;\n        this.right = right;\n        this.operation = operation;\n    }\n\n    // I'm using string concatenation here just for convenience,\n    // you can totally change this to use StringBuilder instead.\n    @Override\n    public String toString() {\n        // note that this adds parentheses to every operation\n        return &quot;(&quot; + left + &quot; &quot; + operation + &quot; &quot; + right + &quot;)&quot;;\n    }\n\n    @Override\n    public int getAnswer() {\n        // this could be cached somewhere...\n        return switch (operation) {\n            case PLUS -&gt; left.getAnswer() + right.getAnswer();\n            case MINUS -&gt; left.getAnswer() - right.getAnswer();\n            case TIMES -&gt; left.getAnswer() * right.getAnswer();\n            // integer division?\n            case DIVIDE -&gt; left.getAnswer() / right.getAnswer();\n        };\n    }\n}\n</code></pre>\n<p>Now we have the infrastructure, we can start generating equations. Instead of deciding how many <em>numbers</em> you are going to generate. Decide how many <em>operations</em> you are going to generate.</p>\n<p>Write a method that generates an operation. This method will choose an operator, and then for the left and right side of it, call itself recursively to generate more operations, or constant numbers if the maximum number of operations is already generated.</p>\n<pre><code>private static int remainingOperations;\nprivate static final Random r = new Random();\n\npublic static void main(String[] value) throws IOException {\n    remainingOperations = r.nextInt(1, 4); // 1 to 3 operations\n    EquationComponent eq = makeEquation();\n    System.out.println(eq);\n    System.out.println(eq.getAnswer());\n}\n\nprivate static EquationComponent makeEquation() {\n    if (remainingOperations &gt; 0) {\n        remainingOperations--;\n        // even if your version of Java doesn't have switch expressions\n        // it should be obvious what this does and converting it to a switch\n        // statement is trivial.\n        Operator op = switch (r.nextInt(4)) {\n            case 0 -&gt; Operator.PLUS;\n            case 1 -&gt; Operator.MINUS;\n            case 2 -&gt; Operator.TIMES;\n            default -&gt; Operator.DIVIDE;\n        };\n        if (op == Operator.TIMES) {\n            return new Operation(\n                    // the left could be another number\n                    r.nextBoolean() ? makeEquation() : makeNumber(101),\n                    // generate a small number on the right if it is multiplication\n                    makeNumber(11),\n                    op\n            );\n        } else {\n            // this allows both sides to be a constant number,\n            // which means we could generate an equation with fewer\n            // operations than remainingOperations\n            return new Operation(\n                    // the left could be another number\n                    r.nextBoolean() ? makeEquation() : makeNumber(101),\n                    // the right could be another number\n                    r.nextBoolean() ? makeEquation() : makeNumber(101),\n                    op\n            );\n        }\n    } else {\n        return makeNumber(101);\n    }\n}\n\nprivate static ConstantNumber makeNumber(int limit) {\n    return new ConstantNumber(r.nextInt(limit));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687231045,"creation_date":1687229216,"answer_id":76511117,"question_id":76505936,"body_markdown":"Since the _operator_ is generated randomly, you&#39;ll have to evaluate the _equationBuilder_ string, after its generation.\r\n\r\nIn this example I utilized the _[Pattern](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html)_ classes to isolate the operation indices, using a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_.\r\n\r\n```java\r\nstatic int answer(String string) {\r\n    Pattern pattern = Pattern.compile(&quot;(-?\\\\d+) \\\\* (-?\\\\d+)&quot;);\r\n    Matcher matcher;\r\n    int operandA, operandB, result;\r\n    while ((matcher = pattern.matcher(string)).find()) {\r\n        operandA = Integer.parseInt(matcher.group(1));\r\n        operandB = Integer.parseInt(matcher.group(2));\r\n        result = operandA * operandB;\r\n        string = string.replace(matcher.group(), String.valueOf(result));\r\n    }\r\n    pattern = Pattern.compile(&quot;(-?\\\\d+) / (-?\\\\d+)&quot;);\r\n    while ((matcher = pattern.matcher(string)).find()) {\r\n        operandA = Integer.parseInt(matcher.group(1));\r\n        operandB = Integer.parseInt(matcher.group(2));\r\n        result = operandA / operandB;\r\n        string = string.replace(matcher.group(), String.valueOf(result));\r\n    }\r\n    pattern = Pattern.compile(&quot;(-?\\\\d+) ([-+]) (-?\\\\d+)&quot;);\r\n    while ((matcher = pattern.matcher(string)).find()) {\r\n        operandA = Integer.parseInt(matcher.group(1));\r\n        operandB = Integer.parseInt(matcher.group(3));\r\n        result = switch (matcher.group(2)) {\r\n            case &quot;+&quot; -&gt; operandA + operandB;\r\n            default -&gt; operandA - operandB;\r\n        };\r\n        string = string.replace(matcher.group(), String.valueOf(result));\r\n    }\r\n    return Integer.parseInt(string);\r\n}\r\n```\r\n\r\nAnd, I modified your _operator_ assignment code-block, with the following.\r\n\r\n```java\r\nswitch (operator) {\r\n    case 0 -&gt; equationBuilder.append(&quot; + &quot;);\r\n    case 1 -&gt; equationBuilder.append(&quot; - &quot;);\r\n    case 2 -&gt; equationBuilder.append(&quot; * &quot;);\r\n    case 3 -&gt; {\r\n        equationBuilder.append(&quot; / &quot;);\r\n        if (number == 0 || answer % number != 0) {\r\n            // If the second number is 0 or the division results in a non-integer answer, regenerate the equation\r\n            return randomEquation();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd, subsequently, returned this as the value.\r\n\r\n```java\r\nreturn new Equation(equation, answer(equation));\r\n```\r\n\r\nHere are a few examples.\r\n\r\n```none\r\n6 * 5 - 34 - 59 = -63\r\n8 * 1 = 8\r\n5 * 7 = 35\r\n71 - 22 = 49\r\n43 - 52 = -9\r\n```\r\n\r\nAdditionally, I added some _println_ calls to the _while-loops_, to display the procedures.\r\n\r\n```none\r\n15 * 5\r\n  15 * 5 = 75\r\n\r\n100 + 47 - 40 + 67\r\n  100 + 47 = 147\r\n  147 - 40 = 107\r\n  107 + 67 = 174\r\n\r\n87 / 1 * 4\r\n  1 * 4 = 4\r\n  87 / 4 = 21\r\n\r\n22 * 6 - 37\r\n  22 * 6 = 132\r\n  132 - 37 = 95\r\n\r\n17 - 44 + 45 * 6\r\n  45 * 6 = 270\r\n  17 - 44 = -27\r\n  -27 + 270 = 243\r\n```\r\n\r\nFurthermore, you could improve this code by utilizing a _double_, and adjusting the regular expression to match real numbers.\r\n\r\nOr even, utilize the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class to evaluate numbers outside of the _64-bit_ range.","title":"Generating random equations with wrong answers ( operator precedence problem )","body":"<p>Since the <em>operator</em> is generated randomly, you'll have to evaluate the <em>equationBuilder</em> string, after its generation.</p>\n<p>In this example I utilized the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> classes to isolate the operation indices, using a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int answer(String string) {\n    Pattern pattern = Pattern.compile(&quot;(-?\\\\d+) \\\\* (-?\\\\d+)&quot;);\n    Matcher matcher;\n    int operandA, operandB, result;\n    while ((matcher = pattern.matcher(string)).find()) {\n        operandA = Integer.parseInt(matcher.group(1));\n        operandB = Integer.parseInt(matcher.group(2));\n        result = operandA * operandB;\n        string = string.replace(matcher.group(), String.valueOf(result));\n    }\n    pattern = Pattern.compile(&quot;(-?\\\\d+) / (-?\\\\d+)&quot;);\n    while ((matcher = pattern.matcher(string)).find()) {\n        operandA = Integer.parseInt(matcher.group(1));\n        operandB = Integer.parseInt(matcher.group(2));\n        result = operandA / operandB;\n        string = string.replace(matcher.group(), String.valueOf(result));\n    }\n    pattern = Pattern.compile(&quot;(-?\\\\d+) ([-+]) (-?\\\\d+)&quot;);\n    while ((matcher = pattern.matcher(string)).find()) {\n        operandA = Integer.parseInt(matcher.group(1));\n        operandB = Integer.parseInt(matcher.group(3));\n        result = switch (matcher.group(2)) {\n            case &quot;+&quot; -&gt; operandA + operandB;\n            default -&gt; operandA - operandB;\n        };\n        string = string.replace(matcher.group(), String.valueOf(result));\n    }\n    return Integer.parseInt(string);\n}\n</code></pre>\n<p>And, I modified your <em>operator</em> assignment code-block, with the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (operator) {\n    case 0 -&gt; equationBuilder.append(&quot; + &quot;);\n    case 1 -&gt; equationBuilder.append(&quot; - &quot;);\n    case 2 -&gt; equationBuilder.append(&quot; * &quot;);\n    case 3 -&gt; {\n        equationBuilder.append(&quot; / &quot;);\n        if (number == 0 || answer % number != 0) {\n            // If the second number is 0 or the division results in a non-integer answer, regenerate the equation\n            return randomEquation();\n        }\n    }\n}\n</code></pre>\n<p>And, subsequently, returned this as the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return new Equation(equation, answer(equation));\n</code></pre>\n<p>Here are a few examples.</p>\n<pre class=\"lang-none prettyprint-override\"><code>6 * 5 - 34 - 59 = -63\n8 * 1 = 8\n5 * 7 = 35\n71 - 22 = 49\n43 - 52 = -9\n</code></pre>\n<p>Additionally, I added some <em>println</em> calls to the <em>while-loops</em>, to display the procedures.</p>\n<pre class=\"lang-none prettyprint-override\"><code>15 * 5\n  15 * 5 = 75\n\n100 + 47 - 40 + 67\n  100 + 47 = 147\n  147 - 40 = 107\n  107 + 67 = 174\n\n87 / 1 * 4\n  1 * 4 = 4\n  87 / 4 = 21\n\n22 * 6 - 37\n  22 * 6 = 132\n  132 - 37 = 95\n\n17 - 44 + 45 * 6\n  45 * 6 = 270\n  17 - 44 = -27\n  -27 + 270 = 243\n</code></pre>\n<p>Furthermore, you could improve this code by utilizing a <em>double</em>, and adjusting the regular expression to match real numbers.</p>\n<p>Or even, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> class to evaluate numbers outside of the <em>64-bit</em> range.</p>\n"}],"owner":{"account_id":26720981,"reputation":74,"user_id":20324831,"display_name":"Loso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76511117,"answer_count":2,"score":1,"last_activity_date":1687231045,"creation_date":1687172001,"question_id":76505936,"body_markdown":"I am trying to generate a random Equation and an answer to it.\r\nEverything works fine, except the answers are being calculated wrong ( without consideration of operator precedence ). I&#39;ve been trying to fix it for some time now, and i have a general idea of how to approach it, but i have no idea how to actually do it, and there is little to no information on it on the web.\r\n\r\nHere is my code:\r\n\r\n```\r\n    public static Equation randomEquation() {\r\n        Random random = new Random();\r\n        int numNumbers = random.nextInt(3) + 2; // generate between 2 and 4 numbers\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; numNumbers; i++) {\r\n            int number = random.nextInt(101); // generate random number between 0 and 100\r\n            numbers.add(number);\r\n        }\r\n\r\n        StringBuilder equationBuilder = new StringBuilder();\r\n        int answer = numbers.get(0);\r\n        equationBuilder.append(numbers.get(0));\r\n        for (int i = 1; i &lt; numNumbers; i++) {\r\n            int operator = random.nextInt(4); // generate random operator: 0 for addition, 1 for subtraction, 2 for multiplication, 3 for division\r\n            int number;\r\n            if (operator == 2) {\r\n                // Limit multiplication operation to never generate a result more than 10\r\n                do {\r\n                    number = random.nextInt(11);\r\n                } while (number == 0);\r\n            } else {\r\n                number = random.nextInt(101); // generate random number between 0 and 100\r\n            }\r\n\r\n            switch (operator) {\r\n                case 0 -&gt; {\r\n                    equationBuilder.append(&quot; + &quot;);\r\n                    answer += number;\r\n                }\r\n                case 1 -&gt; {\r\n                    equationBuilder.append(&quot; - &quot;);\r\n                    answer -= number;\r\n                }\r\n                case 2 -&gt; {\r\n                    equationBuilder.append(&quot; * &quot;);\r\n                    answer *= number;\r\n                }\r\n                case 3 -&gt; {\r\n                    equationBuilder.append(&quot; / &quot;);\r\n                    if (number == 0 || answer % number != 0) {\r\n                        // If the second number is 0 or the division results in a non-integer answer, regenerate the equation\r\n                        return randomEquation();\r\n                    } else {\r\n                        answer /= number;\r\n                    }\r\n                }\r\n            }\r\n\r\n            equationBuilder.append(number);\r\n        }\r\n\r\n        String equation = equationBuilder.toString();\r\n\r\n        return new Equation(equation, answer);\r\n    }\r\n```\r\n\r\nSo there is clearly a problem with how the answer is calculated in here:\r\n```\r\nswitch (operator) {\r\n                case 0 -&gt; {\r\n                    equationBuilder.append(&quot; + &quot;);\r\n                    answer += number;\r\n                }\r\n                case 1 -&gt; {\r\n                    equationBuilder.append(&quot; - &quot;);\r\n                    answer -= number;\r\n                }\r\n                case 2 -&gt; {\r\n                    equationBuilder.append(&quot; * &quot;);\r\n                    answer *= number;\r\n                }\r\n                case 3 -&gt; {\r\n                    equationBuilder.append(&quot; / &quot;);\r\n                    if (number == 0 || answer % number != 0) {\r\n                        // If the second number is 0 or the division results in a non-integer answer, regenerate the equation\r\n                        return randomEquation();\r\n                    } else {\r\n                        answer /= number;\r\n                    }\r\n                }\r\n            }\r\n```\r\nI am simply appending the answer with every number, which does not make sense when multiplying and dividing.\r\n\r\n\r\nSo my question is, how do i introduce the concept of operator precedence into my code?\r\n","title":"Generating random equations with wrong answers ( operator precedence problem )","body":"<p>I am trying to generate a random Equation and an answer to it.\nEverything works fine, except the answers are being calculated wrong ( without consideration of operator precedence ). I've been trying to fix it for some time now, and i have a general idea of how to approach it, but i have no idea how to actually do it, and there is little to no information on it on the web.</p>\n<p>Here is my code:</p>\n<pre><code>    public static Equation randomEquation() {\n        Random random = new Random();\n        int numNumbers = random.nextInt(3) + 2; // generate between 2 and 4 numbers\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numNumbers; i++) {\n            int number = random.nextInt(101); // generate random number between 0 and 100\n            numbers.add(number);\n        }\n\n        StringBuilder equationBuilder = new StringBuilder();\n        int answer = numbers.get(0);\n        equationBuilder.append(numbers.get(0));\n        for (int i = 1; i &lt; numNumbers; i++) {\n            int operator = random.nextInt(4); // generate random operator: 0 for addition, 1 for subtraction, 2 for multiplication, 3 for division\n            int number;\n            if (operator == 2) {\n                // Limit multiplication operation to never generate a result more than 10\n                do {\n                    number = random.nextInt(11);\n                } while (number == 0);\n            } else {\n                number = random.nextInt(101); // generate random number between 0 and 100\n            }\n\n            switch (operator) {\n                case 0 -&gt; {\n                    equationBuilder.append(&quot; + &quot;);\n                    answer += number;\n                }\n                case 1 -&gt; {\n                    equationBuilder.append(&quot; - &quot;);\n                    answer -= number;\n                }\n                case 2 -&gt; {\n                    equationBuilder.append(&quot; * &quot;);\n                    answer *= number;\n                }\n                case 3 -&gt; {\n                    equationBuilder.append(&quot; / &quot;);\n                    if (number == 0 || answer % number != 0) {\n                        // If the second number is 0 or the division results in a non-integer answer, regenerate the equation\n                        return randomEquation();\n                    } else {\n                        answer /= number;\n                    }\n                }\n            }\n\n            equationBuilder.append(number);\n        }\n\n        String equation = equationBuilder.toString();\n\n        return new Equation(equation, answer);\n    }\n</code></pre>\n<p>So there is clearly a problem with how the answer is calculated in here:</p>\n<pre><code>switch (operator) {\n                case 0 -&gt; {\n                    equationBuilder.append(&quot; + &quot;);\n                    answer += number;\n                }\n                case 1 -&gt; {\n                    equationBuilder.append(&quot; - &quot;);\n                    answer -= number;\n                }\n                case 2 -&gt; {\n                    equationBuilder.append(&quot; * &quot;);\n                    answer *= number;\n                }\n                case 3 -&gt; {\n                    equationBuilder.append(&quot; / &quot;);\n                    if (number == 0 || answer % number != 0) {\n                        // If the second number is 0 or the division results in a non-integer answer, regenerate the equation\n                        return randomEquation();\n                    } else {\n                        answer /= number;\n                    }\n                }\n            }\n</code></pre>\n<p>I am simply appending the answer with every number, which does not make sense when multiplying and dividing.</p>\n<p>So my question is, how do i introduce the concept of operator precedence into my code?</p>\n"},{"tags":["java","mysql","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1687249794,"post_id":76511185,"comment_id":134906346,"body_markdown":"If you are using 3rd party extensions like mybatis-page-helper, mybatis-plus, etc., see if the problem reproduces without them. Some extensions try to modify the SQL via plugin and it is known to cause problems like `ArrayIndexOutOfBoundsException`. Also note that concatenating multiple statements with `;` is not the recommended way when updating many rows. The recommended way is to use the batch executor. See the [FAQ entry](https://github.com/mybatis/mybatis-3/wiki/FAQ#how-do-i-code-a-batch-insert).","body":"If you are using 3rd party extensions like mybatis-page-helper, mybatis-plus, etc., see if the problem reproduces without them. Some extensions try to modify the SQL via plugin and it is known to cause problems like <code>ArrayIndexOutOfBoundsException</code>. Also note that concatenating multiple statements with <code>;</code> is not the recommended way when updating many rows. The recommended way is to use the batch executor. See the <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#how-do-i-code-a-batch-insert\" rel=\"nofollow noreferrer\">FAQ entry</a>."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1687449082,"post_id":76511185,"comment_id":134941594,"body_markdown":"You are executing multiple updates in a single call. That could prove to be difficult to debug. I would make separate UPDATE calls, to find out which set of parameters is causing the issue.","body":"You are executing multiple updates in a single call. That could prove to be difficult to debug. I would make separate UPDATE calls, to find out which set of parameters is causing the issue."}],"owner":{"account_id":23788983,"reputation":1,"user_id":17800617,"display_name":"穹龙cwl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687230538,"creation_date":1687230538,"question_id":76511185,"body_markdown":"Entity:\r\n\r\n```\r\n@TableName(value = &quot;gas_mode_dtl&quot;)\r\n@ApiModel(value = &quot;gasModeDtl&quot;, description = &quot;气调模式明细&quot;)\r\n@Data\r\npublic class GasModeDtl extends AbstractEntity{\r\n    /**\r\n    * 主键标识\r\n    */\r\n    @TableId(value = &quot;fid&quot;)\r\n    @ApiModelProperty(value = &quot;主键标识&quot;, name = &quot;fid&quot;, dataType = &quot;String&quot;)\r\n    private String fid;\r\n\r\n    /**\r\n    * 设备配置id\r\n    */\r\n    @ApiModelProperty(value = &quot;设备配置id&quot;, name = &quot;deviceConfId&quot;, dataType = &quot;String&quot;)\r\n    private String deviceConfId;\r\n\r\n    /**\r\n    * 模式标识\r\n    */\r\n    @ApiModelProperty(value = &quot;模式标识&quot;, name = &quot;modeId&quot;, dataType = &quot;String&quot;)\r\n    private String modeId;\r\n\r\n    /**\r\n    * 控制状态\r\n    */\r\n    @ApiModelProperty(value = &quot;控制状态&quot;, name = &quot;controlStatus&quot;, dataType = &quot;Integer&quot;)\r\n    private Integer controlStatus;\r\n\r\n    /**\r\n    * 备用字段1\r\n    */\r\n    @ApiModelProperty(value = &quot;备用字段1&quot;, name = &quot;field1&quot;, dataType = &quot;String&quot;)\r\n    private String field1;\r\n\r\n    /**\r\n    * 备用字段2\r\n    */\r\n    @ApiModelProperty(value = &quot;备用字段2&quot;, name = &quot;field2&quot;, dataType = &quot;String&quot;)\r\n    private String field2;\r\n\r\n    /**\r\n    * 备用字段3\r\n    */\r\n    @ApiModelProperty(value = &quot;备用字段3&quot;, name = &quot;field3&quot;, dataType = &quot;String&quot;)\r\n    private String field3;\r\n\r\n    /**\r\n    * 备用字段4\r\n    */\r\n    @ApiModelProperty(value = &quot;备用字段4&quot;, name = &quot;field4&quot;, dataType = &quot;String&quot;)\r\n    private String field4;\r\n\r\n    /**\r\n    * 备用字段5\r\n    */\r\n    @ApiModelProperty(value = &quot;备用字段5&quot;, name = &quot;field5&quot;, dataType = &quot;String&quot;)\r\n    private String field5;\r\n\r\n}\r\n```\r\n\r\n\r\nMapper:\r\n\r\n```\r\n /**\r\n     * 批量更新\r\n     *\r\n     * @param list 数据集合\r\n     */\r\n    void batchUpdate(@Param(&quot;list&quot;) List&lt;GasModeDtl&gt; list);\r\n```\r\n\r\n\r\nSQL：\r\n\r\n```\r\n&lt;update id=&quot;batchUpdate&quot; parameterType=&quot;java.util.List&quot;&gt;\r\n        &lt;if test=&quot;list != null and list.size() &gt; 0&quot;&gt;\r\n            &lt;foreach collection=&quot;list&quot; item=&quot;item&quot; index=&quot;index&quot; separator=&quot;;&quot;&gt;\r\n                UPDATE gas_mode_dtl\r\n                &lt;set&gt;\r\n                    &lt;if test=&quot;item.deviceConfId != null and item.deviceConfId != &#39;&#39;&quot;&gt;\r\n                        device_conf_id = #{item.deviceConfId},\r\n                    &lt;/if&gt;\r\n                    &lt;if test=&quot;item.modeId != null and item.modeId != &#39;&#39;&quot;&gt;\r\n                        mode_id = #{item.modeId},\r\n                    &lt;/if&gt;\r\n                    &lt;if test=&quot;item.controlStatus != null&quot;&gt;\r\n                        control_status = #{item.controlStatus},\r\n                    &lt;/if&gt;\r\n                    &lt;if test=&quot;item.field1 != null and item.field1 != &#39;&#39;&quot;&gt;\r\n                        field1 = #{item.field1},\r\n                    &lt;/if&gt;\r\n                    &lt;if test=&quot;item.field2 != null and item.field2 != &#39;&#39;&quot;&gt;\r\n                        field2 = #{item.field2},\r\n                    &lt;/if&gt;\r\n                    &lt;if test=&quot;item.field3 != null and item.field3 != &#39;&#39;&quot;&gt;\r\n                        field3 = #{item.field3},\r\n                    &lt;/if&gt;\r\n                    &lt;if test=&quot;item.field4 != null and item.field4 != &#39;&#39;&quot;&gt;\r\n                        field4 = #{item.field4},\r\n                    &lt;/if&gt;\r\n                    &lt;if test=&quot;item.field5 != null and item.field5 != &#39;&#39;&quot;&gt;\r\n                        field5 = #{item.field5}\r\n                    &lt;/if&gt;\r\n                &lt;/set&gt;\r\n                WHERE fid = #{item.fid,jdbcType=VARCHAR}\r\n            &lt;/foreach&gt;\r\n        &lt;/if&gt;\r\n    &lt;/update&gt;\r\n```\r\n\r\nError message:\r\n\r\n```\r\nnested exception is org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property=&#39;__frch_item_1.deviceConfId&#39;, mode=IN, javaType=class java.lang.String, jdbcType=null, numericScale=null, resultMapId=&#39;null&#39;, jdbcTypeName=&#39;null&#39;, expression=&#39;null&#39;}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #4 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: java.lang.ArrayIndexOutOfBoundsException: 3\r\n```\r\n\r\n\r\nI have confirmed that there are no extra comments or single quotes, and that the incoming parameter type corresponds to the entity type, and the data type corresponds to the data type in the table.\r\nI have tested that if the incoming collection has only one element, it can be updated successfully. But passing in two or more will report this exception. And the number of out-of-bounds changes with the number of sets. set has only one parameter, and when the if tag is removed, the exception is also reported.\r\nI hope you can help me determine the cause of the anomaly and give me a solution.","title":"Mybatis batch update using foreach tag reports an error:ArrayIndexOutOfBoundsExceptio","body":"<p>Entity:</p>\n<pre><code>@TableName(value = &quot;gas_mode_dtl&quot;)\n@ApiModel(value = &quot;gasModeDtl&quot;, description = &quot;气调模式明细&quot;)\n@Data\npublic class GasModeDtl extends AbstractEntity{\n    /**\n    * 主键标识\n    */\n    @TableId(value = &quot;fid&quot;)\n    @ApiModelProperty(value = &quot;主键标识&quot;, name = &quot;fid&quot;, dataType = &quot;String&quot;)\n    private String fid;\n\n    /**\n    * 设备配置id\n    */\n    @ApiModelProperty(value = &quot;设备配置id&quot;, name = &quot;deviceConfId&quot;, dataType = &quot;String&quot;)\n    private String deviceConfId;\n\n    /**\n    * 模式标识\n    */\n    @ApiModelProperty(value = &quot;模式标识&quot;, name = &quot;modeId&quot;, dataType = &quot;String&quot;)\n    private String modeId;\n\n    /**\n    * 控制状态\n    */\n    @ApiModelProperty(value = &quot;控制状态&quot;, name = &quot;controlStatus&quot;, dataType = &quot;Integer&quot;)\n    private Integer controlStatus;\n\n    /**\n    * 备用字段1\n    */\n    @ApiModelProperty(value = &quot;备用字段1&quot;, name = &quot;field1&quot;, dataType = &quot;String&quot;)\n    private String field1;\n\n    /**\n    * 备用字段2\n    */\n    @ApiModelProperty(value = &quot;备用字段2&quot;, name = &quot;field2&quot;, dataType = &quot;String&quot;)\n    private String field2;\n\n    /**\n    * 备用字段3\n    */\n    @ApiModelProperty(value = &quot;备用字段3&quot;, name = &quot;field3&quot;, dataType = &quot;String&quot;)\n    private String field3;\n\n    /**\n    * 备用字段4\n    */\n    @ApiModelProperty(value = &quot;备用字段4&quot;, name = &quot;field4&quot;, dataType = &quot;String&quot;)\n    private String field4;\n\n    /**\n    * 备用字段5\n    */\n    @ApiModelProperty(value = &quot;备用字段5&quot;, name = &quot;field5&quot;, dataType = &quot;String&quot;)\n    private String field5;\n\n}\n</code></pre>\n<p>Mapper:</p>\n<pre><code> /**\n     * 批量更新\n     *\n     * @param list 数据集合\n     */\n    void batchUpdate(@Param(&quot;list&quot;) List&lt;GasModeDtl&gt; list);\n</code></pre>\n<p>SQL：</p>\n<pre><code>&lt;update id=&quot;batchUpdate&quot; parameterType=&quot;java.util.List&quot;&gt;\n        &lt;if test=&quot;list != null and list.size() &gt; 0&quot;&gt;\n            &lt;foreach collection=&quot;list&quot; item=&quot;item&quot; index=&quot;index&quot; separator=&quot;;&quot;&gt;\n                UPDATE gas_mode_dtl\n                &lt;set&gt;\n                    &lt;if test=&quot;item.deviceConfId != null and item.deviceConfId != ''&quot;&gt;\n                        device_conf_id = #{item.deviceConfId},\n                    &lt;/if&gt;\n                    &lt;if test=&quot;item.modeId != null and item.modeId != ''&quot;&gt;\n                        mode_id = #{item.modeId},\n                    &lt;/if&gt;\n                    &lt;if test=&quot;item.controlStatus != null&quot;&gt;\n                        control_status = #{item.controlStatus},\n                    &lt;/if&gt;\n                    &lt;if test=&quot;item.field1 != null and item.field1 != ''&quot;&gt;\n                        field1 = #{item.field1},\n                    &lt;/if&gt;\n                    &lt;if test=&quot;item.field2 != null and item.field2 != ''&quot;&gt;\n                        field2 = #{item.field2},\n                    &lt;/if&gt;\n                    &lt;if test=&quot;item.field3 != null and item.field3 != ''&quot;&gt;\n                        field3 = #{item.field3},\n                    &lt;/if&gt;\n                    &lt;if test=&quot;item.field4 != null and item.field4 != ''&quot;&gt;\n                        field4 = #{item.field4},\n                    &lt;/if&gt;\n                    &lt;if test=&quot;item.field5 != null and item.field5 != ''&quot;&gt;\n                        field5 = #{item.field5}\n                    &lt;/if&gt;\n                &lt;/set&gt;\n                WHERE fid = #{item.fid,jdbcType=VARCHAR}\n            &lt;/foreach&gt;\n        &lt;/if&gt;\n    &lt;/update&gt;\n</code></pre>\n<p>Error message:</p>\n<pre><code>nested exception is org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='__frch_item_1.deviceConfId', mode=IN, javaType=class java.lang.String, jdbcType=null, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #4 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: java.lang.ArrayIndexOutOfBoundsException: 3\n</code></pre>\n<p>I have confirmed that there are no extra comments or single quotes, and that the incoming parameter type corresponds to the entity type, and the data type corresponds to the data type in the table.\nI have tested that if the incoming collection has only one element, it can be updated successfully. But passing in two or more will report this exception. And the number of out-of-bounds changes with the number of sets. set has only one parameter, and when the if tag is removed, the exception is also reported.\nI hope you can help me determine the cause of the anomaly and give me a solution.</p>\n"},{"tags":["java","kotlin","concurrency"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1687231848,"post_id":76511157,"comment_id":134904052,"body_markdown":"If you&#39;re using Kotlin, use coroutines.","body":"If you&#39;re using Kotlin, use coroutines."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1687242166,"post_id":76511157,"comment_id":134904985,"body_markdown":"With no more information, there&#39;s not any advantage for one or the other. However, it might be easier to rework the coroutine based one to make it async/cooperative, by just making it suspendable. This way, you&#39;d avoid losing error (as it appears to be in your snippet), and the update function returns value asynchronously once update has succeed.","body":"With no more information, there&#39;s not any advantage for one or the other. However, it might be easier to rework the coroutine based one to make it async/cooperative, by just making it suspendable. This way, you&#39;d avoid losing error (as it appears to be in your snippet), and the update function returns value asynchronously once update has succeed."}],"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687230113,"creation_date":1687230113,"question_id":76511157,"body_markdown":"Previously, I have the following concurrency code snippet written in Java.\r\n\r\n    public class Utils {\r\n        private static final ExecutorService executorForRepository = Executors.newSingleThreadExecutor();\r\n    \r\n        public String updateIdAndOrderThenInsertAsync(Note note) {\r\n            String uuid = note.getPlainNote().getUuid();\r\n    \r\n            executorForRepository.execute(() -&gt; {\r\n                updateIdAndOrderThenInsert(note);\r\n            });\r\n    \r\n            return uuid;\r\n        }\r\n    }\r\n\r\nRight now, I need to convert them to Kotlin. There are 2 ways\r\n\r\nUsing Java&#39;s Executor\r\n---------------------\r\n\r\n    object Utils {\r\n        private val executorForRepository: Executor = Executors.newSingleThreadExecutor()\r\n    \r\n        fun updateIdAndOrderThenInsertAsync(note: Note): String {\r\n            val uuid = note.plainNote.uuid\r\n    \r\n            executorForRepository.execute {\r\n                updateIdAndOrderThenInsert(note)\r\n            }\r\n    \r\n            return uuid\r\n        }\r\n    \r\n        private fun updateIdAndOrderThenInsert(note: Note) {\r\n            // Implementation of updateIdAndOrderThenInsert method\r\n        }\r\n    }\r\n\r\nUsing Kotlin&#39;s Coroutine\r\n------------------------\r\n\r\n    object Utils {\r\n        private val dispatcherForRepository = Executors.newFixedThreadPool(1).asCoroutineDispatcher()\r\n    \r\n        fun updateIdAndOrderThenInsertAsync(note: Note): String {\r\n            val uuid = note.plainNote.uuid\r\n    \r\n            GlobalScope.launch(dispatcherForRepository) {\r\n                updateIdAndOrderThenInsert(note)\r\n            }\r\n    \r\n            return uuid\r\n        }\r\n    \r\n        private fun updateIdAndOrderThenInsert(note: Note) {\r\n            // Implementation of updateIdAndOrderThenInsert method\r\n        }\r\n    }\r\n\r\nThey look and work in a very similar way. May I know, how I can decide, which is the solution I should go for?\r\n\r\nThank you.","title":"How to decide whether to use Java&#39;s Executor or Kotlin&#39;s Coroutine for the following example?","body":"<p>Previously, I have the following concurrency code snippet written in Java.</p>\n<pre><code>public class Utils {\n    private static final ExecutorService executorForRepository = Executors.newSingleThreadExecutor();\n\n    public String updateIdAndOrderThenInsertAsync(Note note) {\n        String uuid = note.getPlainNote().getUuid();\n\n        executorForRepository.execute(() -&gt; {\n            updateIdAndOrderThenInsert(note);\n        });\n\n        return uuid;\n    }\n}\n</code></pre>\n<p>Right now, I need to convert them to Kotlin. There are 2 ways</p>\n<h2>Using Java's Executor</h2>\n<pre><code>object Utils {\n    private val executorForRepository: Executor = Executors.newSingleThreadExecutor()\n\n    fun updateIdAndOrderThenInsertAsync(note: Note): String {\n        val uuid = note.plainNote.uuid\n\n        executorForRepository.execute {\n            updateIdAndOrderThenInsert(note)\n        }\n\n        return uuid\n    }\n\n    private fun updateIdAndOrderThenInsert(note: Note) {\n        // Implementation of updateIdAndOrderThenInsert method\n    }\n}\n</code></pre>\n<h2>Using Kotlin's Coroutine</h2>\n<pre><code>object Utils {\n    private val dispatcherForRepository = Executors.newFixedThreadPool(1).asCoroutineDispatcher()\n\n    fun updateIdAndOrderThenInsertAsync(note: Note): String {\n        val uuid = note.plainNote.uuid\n\n        GlobalScope.launch(dispatcherForRepository) {\n            updateIdAndOrderThenInsert(note)\n        }\n\n        return uuid\n    }\n\n    private fun updateIdAndOrderThenInsert(note: Note) {\n        // Implementation of updateIdAndOrderThenInsert method\n    }\n}\n</code></pre>\n<p>They look and work in a very similar way. May I know, how I can decide, which is the solution I should go for?</p>\n<p>Thank you.</p>\n"},{"tags":["java","multithreading","vector","thread-safety"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1299625296,"post_id":5239086,"comment_id":5897583,"body_markdown":"This is a more-or-less plugin replacement for `Vector`.  But it isn&#39;t necessarily the right thing to use.","body":"This is a more-or-less plugin replacement for <code>Vector</code>.  But it isn&#39;t necessarily the right thing to use."},{"owner":{"account_id":719579,"reputation":61,"user_id":650584,"display_name":"VSH3R"},"score":0,"creation_date":1299732267,"post_id":5239086,"comment_id":5918033,"body_markdown":"Thanks.  I&#39;ll have to convert over some of my Vectors to Lists.","body":"Thanks.  I&#39;ll have to convert over some of my Vectors to Lists."}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299622881,"creation_date":1299622881,"answer_id":5239086,"question_id":5239066,"body_markdown":"    List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;String&gt;());","title":"What can I use instead of a Vector in Java?","body":"<pre><code>List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;String&gt;());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1299622944,"post_id":5239092,"comment_id":5897128,"body_markdown":"assuming you want fast random access to elements (which is why list would be a bad idea)","body":"assuming you want fast random access to elements (which is why list would be a bad idea)"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1299623410,"post_id":5239092,"comment_id":5897242,"body_markdown":"The difference is: a Map offers random access by key, a List offers random access by index (more or less efficiently).","body":"The difference is: a Map offers random access by key, a List offers random access by index (more or less efficiently)."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":0,"creation_date":1299625848,"post_id":5239092,"comment_id":5897670,"body_markdown":"you mean map offers O(log(n)) access whereas List offers O(1)?  then it confounds the discussion to call it a list -- it is an array masquerading in a list interface. if you know the size, an array is clearly the best, easiest to understand choice.  ONLY if you don&#39;t know the size your choice is between a map, or grow-able arrays offering somewhat unpredictable performance in a multi-threaded situation.","body":"you mean map offers O(log(n)) access whereas List offers O(1)?  then it confounds the discussion to call it a list -- it is an array masquerading in a list interface. if you know the size, an array is clearly the best, easiest to understand choice.  ONLY if you don&#39;t know the size your choice is between a map, or grow-able arrays offering somewhat unpredictable performance in a multi-threaded situation."}],"tags":[],"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1299622896,"creation_date":1299622896,"answer_id":5239092,"question_id":5239066,"body_markdown":"array, but if you don&#39;t know the size, use an implementation of concurrentmap","title":"What can I use instead of a Vector in Java?","body":"<p>array, but if you don't know the size, use an implementation of concurrentmap</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1299622951,"creation_date":1299622951,"answer_id":5239105,"question_id":5239066,"body_markdown":"Use Lists and synchronize them like\r\n\r\n    List&lt;?&gt; list = Collections.synchronizedList(new ArrayList&lt;?&gt;());\r\n\r\n","title":"What can I use instead of a Vector in Java?","body":"<p>Use Lists and synchronize them like</p>\n\n<pre><code>List&lt;?&gt; list = Collections.synchronizedList(new ArrayList&lt;?&gt;());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1299623333,"post_id":5239108,"comment_id":5897223,"body_markdown":"Could you explain why `Collections.synchronizedList(...)` doesn&#39;t scale?","body":"Could you explain why <code>Collections.synchronizedList(...)</code> doesn&#39;t scale?"},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":1,"creation_date":1299623442,"post_id":5239108,"comment_id":5897245,"body_markdown":"If your usage pattern is 99% reads and 1% writes, CopyOnWriteArrayList provides better performance (read COWAL javadoc). But it all depends on the usage pattern.","body":"If your usage pattern is 99% reads and 1% writes, CopyOnWriteArrayList provides better performance (read COWAL javadoc). But it all depends on the usage pattern."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1299623909,"post_id":5239108,"comment_id":5897344,"body_markdown":"Fair enough - an interesting class. I&#39;m not 100% sure I agree with it (i.e. it solves a problem that could probably be solved by using a better design) but sometimes what&#39;s ideal and what&#39;s practical are two different things. +1","body":"Fair enough - an interesting class. I&#39;m not 100% sure I agree with it (i.e. it solves a problem that could probably be solved by using a better design) but sometimes what&#39;s ideal and what&#39;s practical are two different things. +1"},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":1,"creation_date":1299624102,"post_id":5239108,"comment_id":5897380,"body_markdown":"I was careful enough not to say this applies for all scenarios, I think that&#39;s very important point. Studying your problem more thoroughly has never made any damage :)","body":"I was careful enough not to say this applies for all scenarios, I think that&#39;s very important point. Studying your problem more thoroughly has never made any damage :)"}],"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512391636,"creation_date":1299622966,"answer_id":5239108,"question_id":5239066,"body_markdown":"For thread-unsafe cases, use `ArrayList`.\r\n\r\nFor thread-safe cases, use whatever is most appropriate in your case, `CopyOnWriteArrayList`, `Queue`, `BlockingDeque`, etc. To advice more, we need to know how you manipulate things with your collection.\r\n\r\nI would recommend against using `Collections.synchronizedList(...)` wrapper as it might not scale well enough (unless you don&#39;t care much about scalability). But it all depends on your context.","title":"What can I use instead of a Vector in Java?","body":"<p>For thread-unsafe cases, use <code>ArrayList</code>.</p>\n\n<p>For thread-safe cases, use whatever is most appropriate in your case, <code>CopyOnWriteArrayList</code>, <code>Queue</code>, <code>BlockingDeque</code>, etc. To advice more, we need to know how you manipulate things with your collection.</p>\n\n<p>I would recommend against using <code>Collections.synchronizedList(...)</code> wrapper as it might not scale well enough (unless you don't care much about scalability). But it all depends on your context.</p>\n"},{"comments":[{"owner":{"account_id":41568,"reputation":3422,"user_id":120874,"accept_rate":82,"display_name":"tiago2014"},"score":0,"creation_date":1299628891,"post_id":5239271,"comment_id":5898085,"body_markdown":"@VSH3R See http://stackoverflow.com/questions/703990/why-is-c-list-not-thread-safe and http://www.ibm.com/developerworks/java/library/j-jtp09263.html.","body":"@VSH3R See <a href=\"http://stackoverflow.com/questions/703990/why-is-c-list-not-thread-safe\" title=\"why is c list not thread safe\">stackoverflow.com/questions/703990/&hellip;</a> and <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp09263.html\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jtp09263.html</a>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1687230045,"creation_date":1299624098,"answer_id":5239271,"question_id":5239066,"body_markdown":"&gt; It looks like when programming in Java we are not suppose to use Vectors anymore when threads are involved.\r\n\r\nYou need to understand *why* using `Vector` is considered to be a bad thing in most contexts.  The reasons are:\r\n\r\n  - `Vector` synchronizes on every operation.  Most contexts do not require fine-grained synchronization, and as such it is an unwanted performance overhead.\r\n\r\n  - The `Vector.elements()` method returns an `Enumeration` which does not have fail-fast semantics.\r\n\r\nBringing this back to your question.  The alternatives depend on what your threads are trying to do:\r\n\r\n  - If the use-case does not require synchronization at all, use `ArrayList`, or `LinkedList`.  You would typically use these if:\r\n\r\n    - The list is thread-confined; i.e. only one thread ever can access it.\r\n    - The list requires coarse-grained synchronization; i.e. exclusive access while performing a sequence of operations.  In this case, you would typically create a custom class with an embedded (say) `ArrayList` that is not exposed in the custom classes API.\r\n\r\n  - If the use-case requires fine-grained synchronization, `Collections.synchronizedList` wrapper is equivalent to a `Vector`.  For example:\r\n\r\n        List&lt;Integer&gt; vec = Collections.synchronizedList(new ArrayList&lt;Integer&gt;());\r\n\r\n    Alternatively, you could stick with `Vector` and avoid using the `elements()` operation.  \r\n\r\n  - A `CopyOnWriteArrayList` list has the advantage that its iterator supports concurrent modification ... in a sense.  It also scales better if your application mostly performs read the list.  Read operations don&#39;t need to explicitly synchronize at all, and typically just need to read a single `volatile` once.  But the flip side is that write operations do synchronize, and are significantly more expensive than a &quot;normal&quot; `ArrayList`.\r\n\r\nThe other problem with `Vector` and the `Collections.synchronizedList` wrapper is that some use-cases require coarser synchronization; e.g. testing a list&#39;s size and conditionally adding an element in a single synchronized operation.  The `Queue` and `Deque` classes provide higher level abstractions that deal with this kind of thing ... for the use-cases involving passing work asynchronously from one thread to another.\r\n\r\n----------------------\r\n\r\nThe bottom line is that there is not one-size-fits-all solution.  You need to understand the concurrency characteristics of your application design, and choose your data structures accordingly.\r\n\r\n----------------------\r\n\r\nFinally, if you are programming for Java ME, you may be stuck with using `Vector`, depending on what J2ME profile you are targeting.","title":"What can I use instead of a Vector in Java?","body":"<blockquote>\n<p>It looks like when programming in Java we are not suppose to use Vectors anymore when threads are involved.</p>\n</blockquote>\n<p>You need to understand <em>why</em> using <code>Vector</code> is considered to be a bad thing in most contexts.  The reasons are:</p>\n<ul>\n<li><p><code>Vector</code> synchronizes on every operation.  Most contexts do not require fine-grained synchronization, and as such it is an unwanted performance overhead.</p>\n</li>\n<li><p>The <code>Vector.elements()</code> method returns an <code>Enumeration</code> which does not have fail-fast semantics.</p>\n</li>\n</ul>\n<p>Bringing this back to your question.  The alternatives depend on what your threads are trying to do:</p>\n<ul>\n<li><p>If the use-case does not require synchronization at all, use <code>ArrayList</code>, or <code>LinkedList</code>.  You would typically use these if:</p>\n<ul>\n<li>The list is thread-confined; i.e. only one thread ever can access it.</li>\n<li>The list requires coarse-grained synchronization; i.e. exclusive access while performing a sequence of operations.  In this case, you would typically create a custom class with an embedded (say) <code>ArrayList</code> that is not exposed in the custom classes API.</li>\n</ul>\n</li>\n<li><p>If the use-case requires fine-grained synchronization, <code>Collections.synchronizedList</code> wrapper is equivalent to a <code>Vector</code>.  For example:</p>\n<pre><code>List&lt;Integer&gt; vec = Collections.synchronizedList(new ArrayList&lt;Integer&gt;());\n</code></pre>\n<p>Alternatively, you could stick with <code>Vector</code> and avoid using the <code>elements()</code> operation.</p>\n</li>\n<li><p>A <code>CopyOnWriteArrayList</code> list has the advantage that its iterator supports concurrent modification ... in a sense.  It also scales better if your application mostly performs read the list.  Read operations don't need to explicitly synchronize at all, and typically just need to read a single <code>volatile</code> once.  But the flip side is that write operations do synchronize, and are significantly more expensive than a &quot;normal&quot; <code>ArrayList</code>.</p>\n</li>\n</ul>\n<p>The other problem with <code>Vector</code> and the <code>Collections.synchronizedList</code> wrapper is that some use-cases require coarser synchronization; e.g. testing a list's size and conditionally adding an element in a single synchronized operation.  The <code>Queue</code> and <code>Deque</code> classes provide higher level abstractions that deal with this kind of thing ... for the use-cases involving passing work asynchronously from one thread to another.</p>\n<hr />\n<p>The bottom line is that there is not one-size-fits-all solution.  You need to understand the concurrency characteristics of your application design, and choose your data structures accordingly.</p>\n<hr />\n<p>Finally, if you are programming for Java ME, you may be stuck with using <code>Vector</code>, depending on what J2ME profile you are targeting.</p>\n"}],"owner":{"account_id":719579,"reputation":61,"user_id":650584,"display_name":"VSH3R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11458,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1512399330,"answer_count":5,"score":6,"last_activity_date":1687230045,"creation_date":1299622755,"question_id":5239066,"body_markdown":"It looks like when programming in Java we are not suppose to use Vectors anymore when threads are involved.\r\n\r\nWhat class should I use instead of a Vector when using threads?\r\n\r\n    import java.util.Vector;\r\n    Vector&lt;String&gt; v = new Vector&lt;String&gt;();","title":"What can I use instead of a Vector in Java?","body":"<p>It looks like when programming in Java we are not suppose to use Vectors anymore when threads are involved.</p>\n\n<p>What class should I use instead of a Vector when using threads?</p>\n\n<pre><code>import java.util.Vector;\nVector&lt;String&gt; v = new Vector&lt;String&gt;();\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":251102,"reputation":2287,"user_id":528246,"display_name":"Nicholas Daley-Okoye"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1427057113,"creation_date":1427057113,"answer_id":29199629,"question_id":29199559,"body_markdown":"In the &#39;Maven Projects&#39; tab on the side of the Idea window is a toolbar button (looks like a box with a green arrow pointing down) for downloading sources and documentation.\r\n","title":"How can I force Idea and Maven download all sources for my project?","body":"<p>In the 'Maven Projects' tab on the side of the Idea window is a toolbar button (looks like a box with a green arrow pointing down) for downloading sources and documentation.</p>\n"},{"tags":[],"owner":{"account_id":2220806,"reputation":141,"user_id":1960211,"display_name":"gooboo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538666313,"creation_date":1538666313,"answer_id":52650237,"question_id":29199559,"body_markdown":"In IntelliJ 2018.2.3 Ultimate Edition, click on &quot;Maven Projects&quot; on the right hand side of the window (vertical text alignment). Then click the third button on the left in the toolbar (arrow pointing down to a horizontal line- not green for me).","title":"How can I force Idea and Maven download all sources for my project?","body":"<p>In IntelliJ 2018.2.3 Ultimate Edition, click on \"Maven Projects\" on the right hand side of the window (vertical text alignment). Then click the third button on the left in the toolbar (arrow pointing down to a horizontal line- not green for me).</p>\n"},{"tags":[],"owner":{"account_id":299846,"reputation":6993,"user_id":606662,"accept_rate":72,"display_name":"Markus Pscheidt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655140486,"creation_date":1655140486,"answer_id":72606683,"question_id":29199559,"body_markdown":"One option is to right-click the `pom.xml` file and select `Maven` -&gt; `Download sources` in the context menu.","title":"How can I force Idea and Maven download all sources for my project?","body":"<p>One option is to right-click the <code>pom.xml</code> file and select <code>Maven</code> -&gt; <code>Download sources</code> in the context menu.</p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687229568,"creation_date":1687229568,"answer_id":76511126,"question_id":29199559,"body_markdown":"Right-click on `pom.xml` &gt; Maven &gt; Generate Sources and Update Folders","title":"How can I force Idea and Maven download all sources for my project?","body":"<p>Right-click on <code>pom.xml</code> &gt; Maven &gt; Generate Sources and Update Folders</p>\n"}],"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3429,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":29199629,"answer_count":4,"score":7,"last_activity_date":1687229568,"creation_date":1427056639,"question_id":29199559,"body_markdown":"My Java project is build with Maven and written with the help of Intellij Idea. I have a lot of open-source project dependencies and I want to study them extensively to understand how they work. For this I often use a usage search in Idea, i.e. Find Usages option, which tells me where the usages of some class can be found. Also it can be Find In Path option, or some other code navigation tool.\r\n\r\nThe problem is that I am not sure all the sources are downloaded. Thats why my search may give wrong results. \r\n\r\nA question is : how can I force Idea and Maven download all the sources for my project and make all my searches complete ?","title":"How can I force Idea and Maven download all sources for my project?","body":"<p>My Java project is build with Maven and written with the help of Intellij Idea. I have a lot of open-source project dependencies and I want to study them extensively to understand how they work. For this I often use a usage search in Idea, i.e. Find Usages option, which tells me where the usages of some class can be found. Also it can be Find In Path option, or some other code navigation tool.</p>\n\n<p>The problem is that I am not sure all the sources are downloaded. Thats why my search may give wrong results. </p>\n\n<p>A question is : how can I force Idea and Maven download all the sources for my project and make all my searches complete ?</p>\n"},{"tags":["java","logging","javafx"],"comments":[{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1686910163,"post_id":76488986,"comment_id":134866541,"body_markdown":"What&#39;s wrong here?","body":"What&#39;s wrong here?"},{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":0,"creation_date":1686911075,"post_id":76488986,"comment_id":134866769,"body_markdown":"Maybe look into the StreamHandler class, especially the #setOutputStream method and #addHandler method of the Logger class.","body":"Maybe look into the StreamHandler class, especially the #setOutputStream method and #addHandler method of the Logger class."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1686919082,"post_id":76488986,"comment_id":134868329,"body_markdown":"Use [this fx log util](https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu/24140252#24140252).","body":"Use <a href=\"https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu/24140252#24140252\">this fx log util</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1686919085,"post_id":76488986,"comment_id":134868331,"body_markdown":"Extend [handler](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Handler.html). Implement [publish](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Handler.html#publish(java.util.logging.LogRecord)) to forward the published log record to the fx log util.  [Add the handler](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Logger.html#addHandler(java.util.logging.Handler)) to your logger.","body":"Extend <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Handler.html\" rel=\"nofollow noreferrer\">handler</a>. Implement <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Handler.html#publish(java.util.logging.LogRecord)\" rel=\"nofollow noreferrer\">publish</a> to forward the published log record to the fx log util.  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Logger.html#addHandler(java.util.logging.Handler)\" rel=\"nofollow noreferrer\">Add the handler</a> to your logger."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1686936751,"post_id":76488986,"comment_id":134872173,"body_markdown":"Your `FXML` appears to be invalid. Maybe it&#39;s a typo? `fx:id=&quot;&quot;logTextArea`","body":"Your <code>FXML</code> appears to be invalid. Maybe it&#39;s a typo? <code>fx:id=&quot;&quot;logTextArea</code>"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1686940661,"post_id":76488986,"comment_id":134872766,"body_markdown":"Thank you for tagging the imprint. I have updated my question","body":"Thank you for tagging the imprint. I have updated my question"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1686941733,"post_id":76488986,"comment_id":134872965,"body_markdown":"Why did you edit the title to be non-english? Trying to get  the question closed?","body":"Why did you edit the title to be non-english? Trying to get  the question closed?"},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1686953901,"post_id":76488986,"comment_id":134874631,"body_markdown":"I have corrected my title. Accidentally displayed in Russian","body":"I have corrected my title. Accidentally displayed in Russian"}],"answers":[{"comments":[{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1687116623,"post_id":76498816,"comment_id":134888522,"body_markdown":"It&#39;s not very clear how to combine my controller class for fxml and textArea with the log. That is, I have a private TextArea in the controller class for processing buttons, and you add TextArea in the launch class","body":"It&#39;s not very clear how to combine my controller class for fxml and textArea with the log. That is, I have a private TextArea in the controller class for processing buttons, and you add TextArea in the launch class"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687117147,"post_id":76498816,"comment_id":134888585,"body_markdown":"The concept doesn&#39;t change. Just do the configuration in the controller instead. Or provide a method on the controller to get the text area.","body":"The concept doesn&#39;t change. Just do the configuration in the controller instead. Or provide a method on the controller to get the text area."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687118679,"post_id":76498816,"comment_id":134888759,"body_markdown":"That changes your question. I suggest reverting the changes you made and then asking a new question. Especially since your error, `Caused by: java.lang.NoSuchMethodException: jmxClientConsole.DConsoleFrameControllerGetMessage.&lt;init&gt;()`, has nothing to do with logging to a text area. That said, the error means some code expects your class to have a no-argument constructor, but that constructor is missing.","body":"That changes your question. I suggest reverting the changes you made and then asking a new question. Especially since your error, <code>Caused by: java.lang.NoSuchMethodException: jmxClientConsole.DConsoleFrameControllerGetMessage.&lt;init&gt;()</code>, has nothing to do with logging to a text area. That said, the error means some code expects your class to have a no-argument constructor, but that constructor is missing."},{"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"score":0,"creation_date":1687155544,"post_id":76498816,"comment_id":134891752,"body_markdown":"I asked a new question with a clarification of my implementation. Now there are no errors, but logging is still not displayed in the TextArea: https://stackoverflow.com/questions/76502726/how-to-output-application-logs-dynamically-to-textarea-and-text-file?noredirect=1#comment134889604_76502726","body":"I asked a new question with a clarification of my implementation. Now there are no errors, but logging is still not displayed in the TextArea: <a href=\"https://stackoverflow.com/questions/76502726/how-to-output-application-logs-dynamically-to-textarea-and-text-file?noredirect=1#comment134889604_76502726\" title=\"how to output application logs dynamically to textarea and text file\">stackoverflow.com/questions/76502726/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687204522,"post_id":76498816,"comment_id":134901328,"body_markdown":"I&#39;ve made some updates to the `TextAreaHandler` to be more robust. Though those changes won&#39;t fix any additional problems you&#39;re having. Note in my answer I call `LOGGER.setUseParentHandlers(false)`. If you remove that line, then you&#39;ll also see the log output to the console, because the root `Logger` has a `ConsoleHandler` by default. So, assuming you have all loggers configured to use their parent logger&#39;s handlers, and you want _all_ messages to be appended to the text area, consider adding the `TextAreaHandler` to the root logger (`Logger.getLogger(&quot;&quot;)`).","body":"I&#39;ve made some updates to the <code>TextAreaHandler</code> to be more robust. Though those changes won&#39;t fix any additional problems you&#39;re having. Note in my answer I call <code>LOGGER.setUseParentHandlers(false)</code>. If you remove that line, then you&#39;ll also see the log output to the console, because the root <code>Logger</code> has a <code>ConsoleHandler</code> by default. So, assuming you have all loggers configured to use their parent logger&#39;s handlers, and you want <i>all</i> messages to be appended to the text area, consider adding the <code>TextAreaHandler</code> to the root logger (<code>Logger.getLogger(&quot;&quot;)</code>)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1687204856,"post_id":76498816,"comment_id":134901370,"body_markdown":"And, of course, any logs emitted before `TextAreaHandler` has been registered won&#39;t appear in the text area. There may be a way to change that, but the implementation would get much more complex.","body":"And, of course, any logs emitted before <code>TextAreaHandler</code> has been registered won&#39;t appear in the text area. There may be a way to change that, but the implementation would get much more complex."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687229389,"creation_date":1687054748,"answer_id":76498816,"question_id":76488986,"body_markdown":"Ultimately, you&#39;ll want a [`java.util.logging.Handler`][1] that appends the log messages to a `TextArea`. Here is a relatively simple implementation:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.util.ArrayDeque;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Queue;\r\nimport java.util.logging.ErrorManager;\r\nimport java.util.logging.Handler;\r\nimport java.util.logging.LogRecord;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.control.TextArea;\r\n\r\npublic class TextAreaHandler extends Handler {\r\n\r\n    // Avoid doing too much work at once. Tune this value as needed.\r\n    private static final int MAX_APPEND = 100;\r\n\r\n    private final Queue&lt;LogRecord&gt; recordQueue = new ArrayDeque&lt;&gt;();\r\n    private boolean notify = true;\r\n\r\n    private final TextArea textArea;\r\n    private volatile boolean open = true;\r\n\r\n    public TextAreaHandler(TextArea textArea) {\r\n        this.textArea = textArea;\r\n    }\r\n\r\n    @Override\r\n    public void publish(LogRecord record) {\r\n        if (open &amp;&amp; isLoggable(record)) {\r\n            if (Platform.isFxApplicationThread()) {\r\n                appendRecord(record);\r\n            } else {\r\n                synchronized (recordQueue) {\r\n                    recordQueue.add(record);\r\n                    if (notify) {\r\n                        notify = false;\r\n                        notifyFxThread();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void notifyFxThread() {\r\n        try {\r\n            Platform.runLater(this::processQueue);\r\n        } catch (Exception ex) {\r\n            reportError(null, ex, ErrorManager.GENERIC_FAILURE);\r\n        }\r\n    }\r\n\r\n    private void processQueue() {\r\n        List&lt;LogRecord&gt; records = new ArrayList&lt;&gt;();\r\n        synchronized (recordQueue) {\r\n            while (!recordQueue.isEmpty() &amp;&amp; records.size() &lt; MAX_APPEND) {\r\n                records.add(recordQueue.remove());\r\n            }\r\n\r\n            if (recordQueue.isEmpty()) {\r\n                notify = true;\r\n            } else {\r\n                notifyFxThread();\r\n            }\r\n        }\r\n        records.forEach(this::appendRecord);\r\n    }\r\n\r\n    private void appendRecord(LogRecord record) {\r\n        String message;\r\n        try {\r\n            message = getFormatter().format(record);\r\n        } catch (Exception ex) {\r\n            reportError(null, ex, ErrorManager.FORMAT_FAILURE);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            textArea.appendText(message);\r\n        } catch (Exception ex) {\r\n            reportError(null, ex, ErrorManager.GENERIC_FAILURE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void flush() {\r\n        /*\r\n         * This implementation has no &quot;buffer&quot;. If the &#39;recordQueue&#39; is not\r\n         * empty then the JavaFX Application Thread has already been notified\r\n         * of work, meaning the queue will be emptied eventually. And if the\r\n         * JavaFX framework has been shutdown, then there&#39;s no work to do\r\n         * anyway.\r\n         */\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        open = false;\r\n    }\r\n}\r\n```\r\n\r\nThe above could be used like so:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.util.logging.Logger;\r\nimport java.util.logging.SimpleFormatter;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    private static final Logger LOGGER = Logger.getLogger(Main.class.getName());\r\n\r\n    static {\r\n        LOGGER.setUseParentHandlers(false);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        TextArea textArea = new TextArea();\r\n        textArea.setEditable(false);\r\n        textArea.setFont(Font.font(&quot;Monospaced&quot;, 13));\r\n\r\n        TextAreaHandler handler = new TextAreaHandler(textArea);\r\n        handler.setFormatter(new SimpleFormatter());\r\n        LOGGER.addHandler(handler);\r\n\r\n        primaryStage.setScene(new Scene(textArea, 600, 400));\r\n        primaryStage.show();\r\n\r\n        LOGGER.info(&quot;This log message will be appended to the text area.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, I don&#39;t know how (if possible) you can configure this from a file. At least, not without some way to indirectly get the `TextArea` (e.g., dependency injection, JNDI(?), etc.).\r\n\r\n---\r\n\r\nYou&#39;ve since edited your question to say you&#39;re getting this error:\r\n\r\n```lang-none\r\nCaused by: java.lang.NoSuchMethodException: jmxClientConsole.DConsoleFrameControllerGetMessage.&lt;init&gt;()\r\n     at java.base/java.lang.Class.getConstructor0(Class.java:3349)\r\n     at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\r\n     at javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:939)\r\n```\r\n\r\nThis is a separate problem than what you were originally asking about. However, that error is telling you that some code is expecting your class (as specified in the error) to have a no-argument constructor, but that constructor doesn&#39;t exist. \r\n\r\nIf that class is functioning as an FXML controller, then note that the default controller factory needs a no-argument constructor. Either add that constructor or set a custom controller factory (how to do that is beyond the scope of this Q&amp;A; there should be tutorials out there and probably other Stack Overflow Q&amp;A&#39;s).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.logging/java/util/logging/Handler.html","title":"How to display log in JavaFX TextArea?","body":"<p>Ultimately, you'll want a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.logging/java/util/logging/Handler.html\" rel=\"nofollow noreferrer\"><code>java.util.logging.Handler</code></a> that appends the log messages to a <code>TextArea</code>. Here is a relatively simple implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Queue;\nimport java.util.logging.ErrorManager;\nimport java.util.logging.Handler;\nimport java.util.logging.LogRecord;\nimport javafx.application.Platform;\nimport javafx.scene.control.TextArea;\n\npublic class TextAreaHandler extends Handler {\n\n    // Avoid doing too much work at once. Tune this value as needed.\n    private static final int MAX_APPEND = 100;\n\n    private final Queue&lt;LogRecord&gt; recordQueue = new ArrayDeque&lt;&gt;();\n    private boolean notify = true;\n\n    private final TextArea textArea;\n    private volatile boolean open = true;\n\n    public TextAreaHandler(TextArea textArea) {\n        this.textArea = textArea;\n    }\n\n    @Override\n    public void publish(LogRecord record) {\n        if (open &amp;&amp; isLoggable(record)) {\n            if (Platform.isFxApplicationThread()) {\n                appendRecord(record);\n            } else {\n                synchronized (recordQueue) {\n                    recordQueue.add(record);\n                    if (notify) {\n                        notify = false;\n                        notifyFxThread();\n                    }\n                }\n            }\n        }\n    }\n\n    private void notifyFxThread() {\n        try {\n            Platform.runLater(this::processQueue);\n        } catch (Exception ex) {\n            reportError(null, ex, ErrorManager.GENERIC_FAILURE);\n        }\n    }\n\n    private void processQueue() {\n        List&lt;LogRecord&gt; records = new ArrayList&lt;&gt;();\n        synchronized (recordQueue) {\n            while (!recordQueue.isEmpty() &amp;&amp; records.size() &lt; MAX_APPEND) {\n                records.add(recordQueue.remove());\n            }\n\n            if (recordQueue.isEmpty()) {\n                notify = true;\n            } else {\n                notifyFxThread();\n            }\n        }\n        records.forEach(this::appendRecord);\n    }\n\n    private void appendRecord(LogRecord record) {\n        String message;\n        try {\n            message = getFormatter().format(record);\n        } catch (Exception ex) {\n            reportError(null, ex, ErrorManager.FORMAT_FAILURE);\n            return;\n        }\n\n        try {\n            textArea.appendText(message);\n        } catch (Exception ex) {\n            reportError(null, ex, ErrorManager.GENERIC_FAILURE);\n        }\n    }\n\n    @Override\n    public void flush() {\n        /*\n         * This implementation has no &quot;buffer&quot;. If the 'recordQueue' is not\n         * empty then the JavaFX Application Thread has already been notified\n         * of work, meaning the queue will be emptied eventually. And if the\n         * JavaFX framework has been shutdown, then there's no work to do\n         * anyway.\n         */\n    }\n\n    @Override\n    public void close() {\n        open = false;\n    }\n}\n</code></pre>\n<p>The above could be used like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.util.logging.Logger;\nimport java.util.logging.SimpleFormatter;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    private static final Logger LOGGER = Logger.getLogger(Main.class.getName());\n\n    static {\n        LOGGER.setUseParentHandlers(false);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        TextArea textArea = new TextArea();\n        textArea.setEditable(false);\n        textArea.setFont(Font.font(&quot;Monospaced&quot;, 13));\n\n        TextAreaHandler handler = new TextAreaHandler(textArea);\n        handler.setFormatter(new SimpleFormatter());\n        LOGGER.addHandler(handler);\n\n        primaryStage.setScene(new Scene(textArea, 600, 400));\n        primaryStage.show();\n\n        LOGGER.info(&quot;This log message will be appended to the text area.&quot;);\n    }\n}\n</code></pre>\n<p>Unfortunately, I don't know how (if possible) you can configure this from a file. At least, not without some way to indirectly get the <code>TextArea</code> (e.g., dependency injection, JNDI(?), etc.).</p>\n<hr />\n<p>You've since edited your question to say you're getting this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.NoSuchMethodException: jmxClientConsole.DConsoleFrameControllerGetMessage.&lt;init&gt;()\n     at java.base/java.lang.Class.getConstructor0(Class.java:3349)\n     at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\n     at javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:939)\n</code></pre>\n<p>This is a separate problem than what you were originally asking about. However, that error is telling you that some code is expecting your class (as specified in the error) to have a no-argument constructor, but that constructor doesn't exist.</p>\n<p>If that class is functioning as an FXML controller, then note that the default controller factory needs a no-argument constructor. Either add that constructor or set a custom controller factory (how to do that is beyond the scope of this Q&amp;A; there should be tutorials out there and probably other Stack Overflow Q&amp;A's).</p>\n"}],"owner":{"account_id":28555640,"reputation":55,"user_id":21859885,"display_name":"DarkSoul"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1687229389,"creation_date":1686909049,"question_id":76488986,"body_markdown":"I have a Java logger that currently outputs to a file using the settings specified below. I also have a JavaFX TextArea and I want my logger to write to both the file and the TextArea concurrently.\r\n\r\nLogger settings:\r\n\r\n```java\r\njava.util.logging.FileHandler.level     = ALL\r\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\njava.util.logging.FileHandler.append    = true\r\njava.util.logging.FileHandler.pattern   = log.txt\r\n```\r\n\r\nLogger declaration:\r\n\r\n```java\r\nstatic Logger LOGGER;\r\nstatic {\r\n    try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\r\n        LogManager.getLogManager().readConfiguration(ins);\r\n        LOGGER = Logger.getLogger(BuildGet.class.getName());\r\n        initialContext = new InitialContext();\r\n    } catch (NamingException | IOException e) {\r\n        LOGGER.log(Level.WARNING,&quot;ERROR LOGGER&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\nJavaFX TextArea:\r\n\r\n    ```xml``&lt;TextArea layoutX=&quot;20.0&quot; layoutY=&quot;755.0&quot; prefHeight=&quot;80.0&quot; prefWidth=&quot;560.0&quot; fx:id=&quot;logTextArea&quot;/&gt;`\r\n    \r\n\r\nAn error occurs while playing the example:\r\n\r\n    javafx.fxml.LoadException: \r\n    /C:/Users/slizo/Desktop/DConsole/target/classes/DConsoleScene.fxml:18\r\n\r\n\tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:944)\r\n\tat javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:981)\r\n\tat javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\r\n\tat javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\r\n\tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n\tat jmxClientConsole.gui.DConsoleFrame.start(DConsoleFrame.java:46)\r\n\tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.NoSuchMethodException: jmxClientConsole.DConsoleFrameControllerGetMessage.&lt;init&gt;()\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3349)\r\n\tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\r\n\tat javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:939)\r\n\t... 17 more\r\n\r\nHere is my startup class:\r\n\r\n    package jmxClientConsole.gui;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.text.Font;\r\n    import javafx.stage.Stage;\r\n    import jmxClientConsole.BuildGet;\r\n    import jmxClientConsole.TextAreaHandler;\r\n\r\n    import javax.naming.InitialContext;\r\n    import javax.naming.NamingException;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.LogManager;\r\n    import java.util.logging.Logger;\r\n    import java.util.logging.SimpleFormatter;\r\n\r\n\r\n    public class ConsoleFrame extends Application {\r\n\r\n    static Logger LOGGER;\r\n    static {\r\n        try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\r\n            LogManager.getLogManager().readConfiguration(ins);\r\n            LOGGER = Logger.getLogger(BuildGet.class.getName());\r\n            LOGGER.setUseParentHandlers(false);\r\n        } catch (IOException e) {\r\n            LOGGER.log(Level.WARNING,&quot; Eror ConsoleFrame &quot;, e);\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage)  {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader();\r\n            URL xmlUrl = getClass().getResource(&quot;/ConsoleScene.fxml&quot;);\r\n            loader.setLocation(xmlUrl);\r\n            TextArea textArea = new TextArea();\r\n            textArea.setEditable(false);\r\n            textArea.setFont(Font.font(&quot;Monospaced&quot;, 13));\r\n\r\n            TextAreaHandler handler = new TextAreaHandler(textArea);\r\n            handler.setFormatter(new SimpleFormatter());\r\n            LOGGER.addHandler(handler);\r\n\r\n            Parent root = loader.load();\r\n            stage.setTitle(&quot;Console&quot;);\r\n            stage.getIcons().add(new Image(ConsoleFrame.class.getClassLoader().getResourceAsStream(&quot;logoC.png&quot;)));\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n            LOGGER.log(Level.INFO,&quot;Success console &quot;);\r\n        } catch (Exception e) {\r\n            LOGGER.log(Level.SEVERE,&quot;Eror Console&quot;, e);\r\n        }\r\n    }\r\n    }\r\n\r\nWhat I wrote in the comment about the controller, I had this. I have all the logic of the buttons in it:\r\n\r\n    &lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;jmxClientConsole.ConsoleFrameControllerGetMessage&quot;&gt;","title":"How to display log in JavaFX TextArea?","body":"<p>I have a Java logger that currently outputs to a file using the settings specified below. I also have a JavaFX TextArea and I want my logger to write to both the file and the TextArea concurrently.</p>\n<p>Logger settings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.logging.FileHandler.level     = ALL\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\njava.util.logging.FileHandler.append    = true\njava.util.logging.FileHandler.pattern   = log.txt\n</code></pre>\n<p>Logger declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Logger LOGGER;\nstatic {\n    try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\n        LogManager.getLogManager().readConfiguration(ins);\n        LOGGER = Logger.getLogger(BuildGet.class.getName());\n        initialContext = new InitialContext();\n    } catch (NamingException | IOException e) {\n        LOGGER.log(Level.WARNING,&quot;ERROR LOGGER&quot;, e);\n    }\n}\n</code></pre>\n<p>JavaFX TextArea:</p>\n<pre><code>```xml``&lt;TextArea layoutX=&quot;20.0&quot; layoutY=&quot;755.0&quot; prefHeight=&quot;80.0&quot; prefWidth=&quot;560.0&quot; fx:id=&quot;logTextArea&quot;/&gt;`\n</code></pre>\n<p>An error occurs while playing the example:</p>\n<pre><code>javafx.fxml.LoadException: \n/C:/Users/slizo/Desktop/DConsole/target/classes/DConsoleScene.fxml:18\n\nat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\nat javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:944)\nat javafx.fxml.FXMLLoader$InstanceDeclarationElement.processAttribute(FXMLLoader.java:981)\nat javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\nat javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\nat javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\nat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\nat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\nat jmxClientConsole.gui.DConsoleFrame.start(DConsoleFrame.java:46)\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\nat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\nat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\nat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\nat com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\nat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.NoSuchMethodException: jmxClientConsole.DConsoleFrameControllerGetMessage.&lt;init&gt;()\nat java.base/java.lang.Class.getConstructor0(Class.java:3349)\nat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2553)\nat javafx.fxml.FXMLLoader$ValueElement.processAttribute(FXMLLoader.java:939)\n... 17 more\n</code></pre>\n<p>Here is my startup class:</p>\n<pre><code>package jmxClientConsole.gui;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.image.Image;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\nimport jmxClientConsole.BuildGet;\nimport jmxClientConsole.TextAreaHandler;\n\nimport javax.naming.InitialContext;\nimport javax.naming.NamingException;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.logging.Level;\nimport java.util.logging.LogManager;\nimport java.util.logging.Logger;\nimport java.util.logging.SimpleFormatter;\n\n\npublic class ConsoleFrame extends Application {\n\nstatic Logger LOGGER;\nstatic {\n    try(FileInputStream ins = new FileInputStream(&quot;src/main/resources/log.config&quot;)) {\n        LogManager.getLogManager().readConfiguration(ins);\n        LOGGER = Logger.getLogger(BuildGet.class.getName());\n        LOGGER.setUseParentHandlers(false);\n    } catch (IOException e) {\n        LOGGER.log(Level.WARNING,&quot; Eror ConsoleFrame &quot;, e);\n    }\n}\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage)  {\n    try {\n        FXMLLoader loader = new FXMLLoader();\n        URL xmlUrl = getClass().getResource(&quot;/ConsoleScene.fxml&quot;);\n        loader.setLocation(xmlUrl);\n        TextArea textArea = new TextArea();\n        textArea.setEditable(false);\n        textArea.setFont(Font.font(&quot;Monospaced&quot;, 13));\n\n        TextAreaHandler handler = new TextAreaHandler(textArea);\n        handler.setFormatter(new SimpleFormatter());\n        LOGGER.addHandler(handler);\n\n        Parent root = loader.load();\n        stage.setTitle(&quot;Console&quot;);\n        stage.getIcons().add(new Image(ConsoleFrame.class.getClassLoader().getResourceAsStream(&quot;logoC.png&quot;)));\n        stage.setScene(new Scene(root));\n        stage.show();\n        LOGGER.log(Level.INFO,&quot;Success console &quot;);\n    } catch (Exception e) {\n        LOGGER.log(Level.SEVERE,&quot;Eror Console&quot;, e);\n    }\n}\n}\n</code></pre>\n<p>What I wrote in the comment about the controller, I had this. I have all the logic of the buttons in it:</p>\n<pre><code>&lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;jmxClientConsole.ConsoleFrameControllerGetMessage&quot;&gt;\n</code></pre>\n"},{"tags":["java","ssl","websocket","jetty","server-side"],"answers":[{"comments":[{"owner":{"account_id":477069,"reputation":365,"user_id":11014258,"display_name":"IronHawk"},"score":1,"creation_date":1687239170,"post_id":76511103,"comment_id":134904630,"body_markdown":"Hello Lachlan! Thank you for your answer. You are right: port should be specified in the connector. By changing this I see only one connector in the log. Great! After this change my client was able to connect properly. I also noticed that to authenticate the client it&#39;s necessary to add this call: sslContextFactory.setNeedClientAuth(true);","body":"Hello Lachlan! Thank you for your answer. You are right: port should be specified in the connector. By changing this I see only one connector in the log. Great! After this change my client was able to connect properly. I also noticed that to authenticate the client it&#39;s necessary to add this call: sslContextFactory.setNeedClientAuth(true);"}],"tags":[],"owner":{"account_id":10226265,"reputation":376,"user_id":7548747,"display_name":"Lachlan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687228899,"creation_date":1687228899,"answer_id":76511103,"question_id":76509967,"body_markdown":"You are configuring two connectors. \r\n\r\nThe `server_ = new Server(port_);` is adding the one, and you see in your output as `Started ServerConnector@5f3a4b84{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}`.\r\n\r\nAnd the other is configured with `connector_ = new ServerConnector(...` you see in your output as `Started ServerConnector@149494d8{SSL, (ssl, http/1.1)}{0.0.0.0:52376}`.\r\n\r\nSo create the server without specifying a port like `server_ = new Server();`, then set the port on the connector you configured with `connector_.setPort(port_)`.","title":"How to setup secure Websocket server using Jetty 11","body":"<p>You are configuring two connectors.</p>\n<p>The <code>server_ = new Server(port_);</code> is adding the one, and you see in your output as <code>Started ServerConnector@5f3a4b84{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}</code>.</p>\n<p>And the other is configured with <code>connector_ = new ServerConnector(...</code> you see in your output as <code>Started ServerConnector@149494d8{SSL, (ssl, http/1.1)}{0.0.0.0:52376}</code>.</p>\n<p>So create the server without specifying a port like <code>server_ = new Server();</code>, then set the port on the connector you configured with <code>connector_.setPort(port_)</code>.</p>\n"}],"owner":{"account_id":477069,"reputation":365,"user_id":11014258,"display_name":"IronHawk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76511103,"answer_count":1,"score":1,"last_activity_date":1687228899,"creation_date":1687207383,"question_id":76509967,"body_markdown":"I&#39;m new in Jetty and want to create a small test Websocket server with SSL (using Jetty 11).\r\nFound many Jetty 9 based examples, but nothing for Jetty 11.\r\n\r\nMy test code looks as this:\r\n\r\n    public class Test {\r\n        public Test(int port, SSLContext sslContext) {\r\n            port_ = port;\r\n    \r\n            server_ = new Server(port_);\r\n    \r\n            SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n            sslContextFactory.setSslContext(sslContext);\r\n    \r\n            HttpConfiguration httpsConfig = new HttpConfiguration();\r\n            httpsConfig.addCustomizer(new SecureRequestCustomizer());\r\n    \r\n            connector_ = new ServerConnector(server_,\r\n                new SslConnectionFactory(sslContextFactory,  HttpVersion.HTTP_1_1.asString()),\r\n                new HttpConnectionFactory(httpsConfig));\r\n            server_.addConnector(connector_);\r\n    \r\n            var servlet = new JettyWebSocketServlet() {\r\n                @Override\r\n                protected void configure(JettyWebSocketServletFactory factory) {\r\n                    factory.addMapping(&quot;/&quot;, (req, res) -&gt; new WebSocketHandler());\r\n                }\r\n            };\r\n            var handler = new ServletContextHandler();\r\n            handler.addServlet(new ServletHolder(servlet), &quot;/&quot;);\r\n            JettyWebSocketServletContainerInitializer.configure(handler, (context, configurator) -&gt;\r\n            {\r\n            });\r\n    \r\n            server_.setHandler(handler);\r\n        }\r\n    \r\n        public void start() {\r\n            try {\r\n                server_.start();\r\n                System.out.println(&quot;Server started at port &quot; + connector_.getLocalPort());\r\n    \r\n                server_.join();\r\n            } catch(Exception ex) {\r\n    \r\n            }\r\n        }\r\n    \r\n        private int port_;\r\n        private Server server_;\r\n        private ServerConnector connector_;\r\n    }\r\n\r\nAn SSL context passed to the constructor is initialized via the keystore and etc. \r\nBut when I&#39;m trying to connect to this server I receive &quot;SSL handshake error&quot; at the client side. My client works properly with the same certs &amp; co if I use another Websocket server.\r\n\r\nOn running the server I see this in the log:\r\n\r\n    [main] INFO org.eclipse.jetty.server.Server - jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.1+12-LTS-39\r\n    [main] INFO org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7f3b84b8{/,null,AVAILABLE}\r\n    [main] INFO org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@5f3a4b84{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}\r\n    [main] INFO org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@149494d8{SSL, (ssl, http/1.1)}{0.0.0.0:52376}\r\n    [main] INFO org.eclipse.jetty.server.Server - Started Server@5af97850{STARTING}[11.0.15,sto=0] @3110ms\r\n    Server started at port 52376\r\n\r\n\r\nSo it seems the Websocket servlet is running of the port 12345, but SSL is not enabled for it. From other side, HTTP connector has SSL. I suspect that I&#39;m missing something important.\r\n\r\nSo my questions are: \r\n\r\n* How to enable SSL for Websocket proprly om Jetty 11?\r\n* How it is possible to prevent using random port for HTTP and use single listener port both for the HTTP and Websocket? (actually I need HTTP only to open the Websocket)\r\n\r\nThanks in advance!\r\n","title":"How to setup secure Websocket server using Jetty 11","body":"<p>I'm new in Jetty and want to create a small test Websocket server with SSL (using Jetty 11).\nFound many Jetty 9 based examples, but nothing for Jetty 11.</p>\n<p>My test code looks as this:</p>\n<pre><code>public class Test {\n    public Test(int port, SSLContext sslContext) {\n        port_ = port;\n\n        server_ = new Server(port_);\n\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setSslContext(sslContext);\n\n        HttpConfiguration httpsConfig = new HttpConfiguration();\n        httpsConfig.addCustomizer(new SecureRequestCustomizer());\n\n        connector_ = new ServerConnector(server_,\n            new SslConnectionFactory(sslContextFactory,  HttpVersion.HTTP_1_1.asString()),\n            new HttpConnectionFactory(httpsConfig));\n        server_.addConnector(connector_);\n\n        var servlet = new JettyWebSocketServlet() {\n            @Override\n            protected void configure(JettyWebSocketServletFactory factory) {\n                factory.addMapping(&quot;/&quot;, (req, res) -&gt; new WebSocketHandler());\n            }\n        };\n        var handler = new ServletContextHandler();\n        handler.addServlet(new ServletHolder(servlet), &quot;/&quot;);\n        JettyWebSocketServletContainerInitializer.configure(handler, (context, configurator) -&gt;\n        {\n        });\n\n        server_.setHandler(handler);\n    }\n\n    public void start() {\n        try {\n            server_.start();\n            System.out.println(&quot;Server started at port &quot; + connector_.getLocalPort());\n\n            server_.join();\n        } catch(Exception ex) {\n\n        }\n    }\n\n    private int port_;\n    private Server server_;\n    private ServerConnector connector_;\n}\n</code></pre>\n<p>An SSL context passed to the constructor is initialized via the keystore and etc.\nBut when I'm trying to connect to this server I receive &quot;SSL handshake error&quot; at the client side. My client works properly with the same certs &amp; co if I use another Websocket server.</p>\n<p>On running the server I see this in the log:</p>\n<pre><code>[main] INFO org.eclipse.jetty.server.Server - jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.1+12-LTS-39\n[main] INFO org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@7f3b84b8{/,null,AVAILABLE}\n[main] INFO org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@5f3a4b84{HTTP/1.1, (http/1.1)}{0.0.0.0:12345}\n[main] INFO org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@149494d8{SSL, (ssl, http/1.1)}{0.0.0.0:52376}\n[main] INFO org.eclipse.jetty.server.Server - Started Server@5af97850{STARTING}[11.0.15,sto=0] @3110ms\nServer started at port 52376\n</code></pre>\n<p>So it seems the Websocket servlet is running of the port 12345, but SSL is not enabled for it. From other side, HTTP connector has SSL. I suspect that I'm missing something important.</p>\n<p>So my questions are:</p>\n<ul>\n<li>How to enable SSL for Websocket proprly om Jetty 11?</li>\n<li>How it is possible to prevent using random port for HTTP and use single listener port both for the HTTP and Websocket? (actually I need HTTP only to open the Websocket)</li>\n</ul>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-data","spring-jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1455807322,"post_id":35484663,"comment_id":58663036,"body_markdown":"The callback handler would do basically the same thing as what you&#39;re doing in the mapper, except it would write every field to a Writer: `writer.write(rs.getString(&quot;COD_IST_ENT&quot;)); writer.write(&quot;|&quot;); writer.write(rs.getString(&quot;COD_CUP&quot;)); ...`","body":"The callback handler would do basically the same thing as what you&#39;re doing in the mapper, except it would write every field to a Writer: <code>writer.write(rs.getString(&quot;COD_IST_ENT&quot;)); writer.write(&quot;|&quot;); writer.write(rs.getString(&quot;COD_CUP&quot;)); ...</code>"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1455808290,"post_id":35484663,"comment_id":58663737,"body_markdown":"@JBNizet ok, but how can I save it on a file?","body":"@JBNizet ok, but how can I save it on a file?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1455808392,"post_id":35484663,"comment_id":58663818,"body_markdown":"By making sure the writer writes to a file: `Writer writer = new BufferedWriter(new FileWriter(&quot;thefile.txt&quot;));`. Read the Java IO tutorial: https://docs.oracle.com/javase/tutorial/essential/io/","body":"By making sure the writer writes to a file: <code>Writer writer = new BufferedWriter(new FileWriter(&quot;thefile.txt&quot;));</code>. Read the Java IO tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io</a>"},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":0,"creation_date":1455809454,"post_id":35484663,"comment_id":58664638,"body_markdown":"And consider to specify an encoding (`UTF-8` for an example). :)","body":"And consider to specify an encoding (<code>UTF-8</code> for an example). :)"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1455809603,"post_id":35484663,"comment_id":58664776,"body_markdown":"@JBNizet I am trying to insert your code to create the Writer object but Eclipse give me the following error message: &quot;Multiple markers at this line\n\t- The value of the field DatiPianiInterventiRowCallbackHandler.writer is not used\n\t- Default constructor cannot handle exception type IOException thrown by implicit super constructor. Must define an explicit&quot; Why?","body":"@JBNizet I am trying to insert your code to create the Writer object but Eclipse give me the following error message: &quot;Multiple markers at this line \t- The value of the field DatiPianiInterventiRowCallbackHandler.writer is not used \t- Default constructor cannot handle exception type IOException thrown by implicit super constructor. Must define an explicit&quot; Why?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1455811004,"post_id":35484663,"comment_id":58665852,"body_markdown":"I have no idea what your code looks like if you don&#39;t post it. But the FileWriter constructor throws a checked IOException, so you must handle it (throw it or catch it). http://docs.oracle.com/javase/tutorial/essential/exceptions/","body":"I have no idea what your code looks like if you don&#39;t post it. But the FileWriter constructor throws a checked IOException, so you must handle it (throw it or catch it). <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions</a>"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687227979,"creation_date":1455806975,"question_id":35484663,"body_markdown":"I am using **JdbcTemplate** and the **RowMapper** interface to perform a query, obtain a list of rows and map these rows on object. It works fine, in the specific I have:\r\n\r\n1) **DatiPianiInterventiDaoImpl** that is my DAO implementation\r\n\r\n    public class DatiPianiInterventiDaoImpl implements DatiPianiInterventiDao {\r\n    \t\r\n    \tprivate DataSource dataSource;\r\n    \tprivate JdbcTemplate jdbcTemplateObject;\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;DatiPianiInterventiDto&gt; getPianiInterventiList() {\r\n    \t\tSystem.out.println(&quot;Into getPianiInterventiList()&quot;);\r\n    \t\t\r\n    \t\tString SQL = &quot;select enteBeneficiario.COD_IST_ENT, intervento.COD_CUP, intervento.DES_TIT_INT, intervento.IMP_FIN_MIN, anagraficaRup.DES_COG_RUP, anagraficaRup.DES_NOM_RUP, anagraficaRup.FLG_SES, anagraficaRup.DAT_NAS, anagraficaRup.COD_COM, anagraficaRup.COD_FIS_RUP, anagraficaRup.DES_IND_EMA_RUP, anagraficaRup.COD_NUM_TEL, assocEnteBenRup.DES_DEC_NOM\\r\\n&quot; + \r\n    \t\t\t\t&quot;from TID023_INTERVENTO intervento\\r\\n&quot; + \r\n    \t\t\t\t&quot;INNER JOIN TID031_PIANO piano ON(intervento.PRG_INT = piano.PRG_INT )\\r\\n&quot; + \r\n    \t\t\t\t&quot;INNER JOIN TID022_ANAGRAFICARUP anagraficaRup ON(anagraficaRup.PRG_RUP = intervento.PRG_RUP)\\r\\n&quot; + \r\n    \t\t\t\t&quot;INNER JOIN TID018_ENTEBENEFICIARIO enteBeneficiario ON enteBeneficiario.COD_ENT = intervento.COD_ENT\\r\\n&quot; + \r\n    \t\t\t\t&quot;INNER JOIN TID019_ASSOCENTEBENRUP assocEnteBenRup ON assocEnteBenRup.PRG_RUP = intervento.PRG_RUP AND assocEnteBenRup.COD_ENT = intervento.COD_ENT \\r\\n&quot; + \r\n    \t\t\t\t&quot;where intervento.COD_TIP_STA_INT = 2 and piano.COD_TIP_BAN = 2 AND assocEnteBenRup.COD_TIP_NOM = 2;&quot;;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;QUERY: &quot; + SQL);\r\n    \t\t\r\n    \t\tList&lt;DatiPianiInterventiDto&gt; datiPianiInterventoList = jdbcTemplateObject.query(SQL, new DatiPianiInterventiDtoMapper());\r\n    \t\t\t\t\r\n    \t\treturn datiPianiInterventoList;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setDataSource(DataSource ds) {\r\n    \t\tthis.dataSource = ds;\r\n    \t    this.jdbcTemplateObject = new JdbcTemplate(ds);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nAs you can see this class contains the **getPianiInterventiList()** method that perform a query returning a list of **DatiPianiInterventiDto** objects.\r\n\r\nSo the **DatiPianiInterventiDto** represent a single row of the **ResultSet** returned by the query and these rows are mapped on the **DatiPianiInterventiDto** object by:\r\n\r\n2) **DatiPianiInterventiDtoMapper** class that implements the Spring **RowMapper** interface:\r\n\r\n    public class DatiPianiInterventiDtoMapper implements RowMapper&lt;DatiPianiInterventiDto&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic DatiPianiInterventiDto mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n    \t\t\r\n    \t\tDatiPianiInterventiDto oggettoCorrente = new DatiPianiInterventiDto();\r\n    \t\t\r\n    \t\toggettoCorrente.setCodIstEnt(rs.getString(&quot;COD_IST_ENT&quot;));\r\n    \t\toggettoCorrente.setCodCup(rs.getString(&quot;COD_CUP&quot;));\r\n    \t\toggettoCorrente.setDesTitInt(rs.getString(&quot;DES_TIT_INT&quot;));\r\n    \t\toggettoCorrente.setImpFinMin(rs.getBigDecimal(&quot;IMP_FIN_MIN&quot;));\r\n    \t\toggettoCorrente.setDesCogRup(rs.getString(&quot;DES_COG_RUP&quot;));\r\n    \t\toggettoCorrente.setDesNomRup(rs.getString(&quot;DES_NOM_RUP&quot;));\r\n    \t\toggettoCorrente.setFlgSes(rs.getString(&quot;FLG_SES&quot;));\r\n    \t\toggettoCorrente.setDatNas(rs.getDate(&quot;DAT_NAS&quot;));\r\n    \t\toggettoCorrente.setCodCom(rs.getString(&quot;COD_COM&quot;));\r\n    \t\toggettoCorrente.setCodFisRup(rs.getString(&quot;COD_FIS_RUP&quot;));\r\n    \t\toggettoCorrente.setDesIndEmaRup(rs.getString(&quot;DES_IND_EMA_RUP&quot;));\r\n    \t\toggettoCorrente.setCodNumTel(rs.getString(&quot;COD_NUM_TEL&quot;));\r\n    \t\toggettoCorrente.setDesDecNom(rs.getString(&quot;DES_DEC_NOM&quot;));\r\n    \t\t\r\n    \t\treturn oggettoCorrente;\r\n    \t}\r\n    \r\n    }\r\n\r\nOk, it works fine and so I obtain my list of objects.\r\n\r\nNow my problem is that I have to create a textual file containing the textual content of all properties of all the **DatiPianiInterventiDto** objects in this list. Each object in the previous list have to create a new row in my textual file and each field is separated by the next one using the **|** character, something like:\r\n\r\n    FIELD 1 VALUE|FIELD 2 VALUE|FIELD 3 VALUE|FIELD 4 VALUE|FIELD 5 VALUE\r\n\r\nSo I know that I can simply create a new textual file, iterate on the list and write a new line in this file for each **DatiPianiInterventiDto** object in this list.\r\n\r\nBut from what I have understand Spring provide me the **RowCallbackHandler** interface to create a textual file directly from the **ResultSet** obtained from a query execution. It according at [RowCallbackHandler](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html)\r\n\r\nSo my question is: instead to manually create a new textual file, iterate on my lit of **DatiPianiInterventiDto** objects and for each object create a row in this textual file, can I use this **RowCallbackHandler** to achieve this requirement?\r\n\r\nHow can I do it? And how can I handle the requirement that every field have to be separated from the next one using the **|** character?","title":"How exactly works the Spring RowCallbackHandler? Can I use it to automatically create a txtfile from the ResultSet obtain performing a query?","body":"<p>I am using <strong>JdbcTemplate</strong> and the <strong>RowMapper</strong> interface to perform a query, obtain a list of rows and map these rows on object. It works fine, in the specific I have:</p>\n<ol>\n<li><p><strong>DatiPianiInterventiDaoImpl</strong> that is my DAO implementation</p>\n<p>public class DatiPianiInterventiDaoImpl implements DatiPianiInterventiDao {</p>\n<pre><code> private DataSource dataSource;\n private JdbcTemplate jdbcTemplateObject;\n\n @Override\n public List&lt;DatiPianiInterventiDto&gt; getPianiInterventiList() {\n     System.out.println(&quot;Into getPianiInterventiList()&quot;);\n\n     String SQL = &quot;select enteBeneficiario.COD_IST_ENT, intervento.COD_CUP, intervento.DES_TIT_INT, intervento.IMP_FIN_MIN, anagraficaRup.DES_COG_RUP, anagraficaRup.DES_NOM_RUP, anagraficaRup.FLG_SES, anagraficaRup.DAT_NAS, anagraficaRup.COD_COM, anagraficaRup.COD_FIS_RUP, anagraficaRup.DES_IND_EMA_RUP, anagraficaRup.COD_NUM_TEL, assocEnteBenRup.DES_DEC_NOM\\r\\n&quot; + \n             &quot;from TID023_INTERVENTO intervento\\r\\n&quot; + \n             &quot;INNER JOIN TID031_PIANO piano ON(intervento.PRG_INT = piano.PRG_INT )\\r\\n&quot; + \n             &quot;INNER JOIN TID022_ANAGRAFICARUP anagraficaRup ON(anagraficaRup.PRG_RUP = intervento.PRG_RUP)\\r\\n&quot; + \n             &quot;INNER JOIN TID018_ENTEBENEFICIARIO enteBeneficiario ON enteBeneficiario.COD_ENT = intervento.COD_ENT\\r\\n&quot; + \n             &quot;INNER JOIN TID019_ASSOCENTEBENRUP assocEnteBenRup ON assocEnteBenRup.PRG_RUP = intervento.PRG_RUP AND assocEnteBenRup.COD_ENT = intervento.COD_ENT \\r\\n&quot; + \n             &quot;where intervento.COD_TIP_STA_INT = 2 and piano.COD_TIP_BAN = 2 AND assocEnteBenRup.COD_TIP_NOM = 2;&quot;;\n\n     System.out.println(&quot;QUERY: &quot; + SQL);\n\n     List&lt;DatiPianiInterventiDto&gt; datiPianiInterventoList = jdbcTemplateObject.query(SQL, new DatiPianiInterventiDtoMapper());\n\n     return datiPianiInterventoList;\n }\n\n @Override\n public void setDataSource(DataSource ds) {\n     this.dataSource = ds;\n     this.jdbcTemplateObject = new JdbcTemplate(ds);\n\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>As you can see this class contains the <strong>getPianiInterventiList()</strong> method that perform a query returning a list of <strong>DatiPianiInterventiDto</strong> objects.</p>\n<p>So the <strong>DatiPianiInterventiDto</strong> represent a single row of the <strong>ResultSet</strong> returned by the query and these rows are mapped on the <strong>DatiPianiInterventiDto</strong> object by:</p>\n<ol start=\"2\">\n<li><p><strong>DatiPianiInterventiDtoMapper</strong> class that implements the Spring <strong>RowMapper</strong> interface:</p>\n<p>public class DatiPianiInterventiDtoMapper implements RowMapper {</p>\n<pre><code> @Override\n public DatiPianiInterventiDto mapRow(ResultSet rs, int rowNum) throws SQLException {\n\n     DatiPianiInterventiDto oggettoCorrente = new DatiPianiInterventiDto();\n\n     oggettoCorrente.setCodIstEnt(rs.getString(&quot;COD_IST_ENT&quot;));\n     oggettoCorrente.setCodCup(rs.getString(&quot;COD_CUP&quot;));\n     oggettoCorrente.setDesTitInt(rs.getString(&quot;DES_TIT_INT&quot;));\n     oggettoCorrente.setImpFinMin(rs.getBigDecimal(&quot;IMP_FIN_MIN&quot;));\n     oggettoCorrente.setDesCogRup(rs.getString(&quot;DES_COG_RUP&quot;));\n     oggettoCorrente.setDesNomRup(rs.getString(&quot;DES_NOM_RUP&quot;));\n     oggettoCorrente.setFlgSes(rs.getString(&quot;FLG_SES&quot;));\n     oggettoCorrente.setDatNas(rs.getDate(&quot;DAT_NAS&quot;));\n     oggettoCorrente.setCodCom(rs.getString(&quot;COD_COM&quot;));\n     oggettoCorrente.setCodFisRup(rs.getString(&quot;COD_FIS_RUP&quot;));\n     oggettoCorrente.setDesIndEmaRup(rs.getString(&quot;DES_IND_EMA_RUP&quot;));\n     oggettoCorrente.setCodNumTel(rs.getString(&quot;COD_NUM_TEL&quot;));\n     oggettoCorrente.setDesDecNom(rs.getString(&quot;DES_DEC_NOM&quot;));\n\n     return oggettoCorrente;\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>Ok, it works fine and so I obtain my list of objects.</p>\n<p>Now my problem is that I have to create a textual file containing the textual content of all properties of all the <strong>DatiPianiInterventiDto</strong> objects in this list. Each object in the previous list have to create a new row in my textual file and each field is separated by the next one using the <strong>|</strong> character, something like:</p>\n<pre><code>FIELD 1 VALUE|FIELD 2 VALUE|FIELD 3 VALUE|FIELD 4 VALUE|FIELD 5 VALUE\n</code></pre>\n<p>So I know that I can simply create a new textual file, iterate on the list and write a new line in this file for each <strong>DatiPianiInterventiDto</strong> object in this list.</p>\n<p>But from what I have understand Spring provide me the <strong>RowCallbackHandler</strong> interface to create a textual file directly from the <strong>ResultSet</strong> obtained from a query execution. It according at <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/RowCallbackHandler.html\" rel=\"nofollow noreferrer\">RowCallbackHandler</a></p>\n<p>So my question is: instead to manually create a new textual file, iterate on my lit of <strong>DatiPianiInterventiDto</strong> objects and for each object create a row in this textual file, can I use this <strong>RowCallbackHandler</strong> to achieve this requirement?</p>\n<p>How can I do it? And how can I handle the requirement that every field have to be separated from the next one using the <strong>|</strong> character?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1687225782,"post_id":76510926,"comment_id":134903588,"body_markdown":"Please don&#39;t post images of code or errors; see [ask].","body":"Please don&#39;t post images of code or errors; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":14462301,"reputation":673,"user_id":10446802,"display_name":"Fermi-4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687226315,"creation_date":1687226315,"answer_id":76510968,"question_id":76510926,"body_markdown":"You should consider a multi-module maven project setup where the spring boot application is the &quot;web app&quot; portion of your system and other modules provide other functionality.\r\n\r\nhttps://www.baeldung.com/maven-multi-module\r\n","title":"How to allow a Spring Boot application to run different contexts","body":"<p>You should consider a multi-module maven project setup where the spring boot application is the &quot;web app&quot; portion of your system and other modules provide other functionality.</p>\n<p><a href=\"https://www.baeldung.com/maven-multi-module\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-multi-module</a></p>\n"}],"owner":{"account_id":8875862,"reputation":3,"user_id":22099709,"display_name":"Vulcan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76510968,"answer_count":1,"score":-1,"last_activity_date":1687226315,"creation_date":1687225713,"question_id":76510926,"body_markdown":"Im a java developer, and im new to Spring Boot. In the past, Ive been used to package my application with different &quot;commands&quot; for NON spring boot projects that each serve different purposes, so when i dockerize it, i can decide what i want to run.\r\n\r\n[Usual package declaration](https://i.stack.imgur.com/YcA1X.png)\r\n\r\nThis way, i can choose what i want my application to run via an environment variable. Is there a way to achieve this with Spring Boot? I dont want a web server to always run when i only want an instance of my application to update records on the Database every X minutes as an example, as opposed to running my API server.\r\n\r\n\r\n\r\nMy questions are:\r\n&gt; \r\n&gt; What is the common way professional developers tackle this problem?\r\n&gt; \r\n&gt; Should i just make a spring boot module and package all the dependencies my commands will have within it, then create a separate spring boot project for each command i intend to run?\r\n\r\n\r\n\r\nI hope i was able to provide enough info, thank you kindly for reading!\r\n\r\nI&#39;ve searched online, and found out about the @Profile annotation, but i am not sure if this is what im looking for.","title":"How to allow a Spring Boot application to run different contexts","body":"<p>Im a java developer, and im new to Spring Boot. In the past, Ive been used to package my application with different &quot;commands&quot; for NON spring boot projects that each serve different purposes, so when i dockerize it, i can decide what i want to run.</p>\n<p><a href=\"https://i.stack.imgur.com/YcA1X.png\" rel=\"nofollow noreferrer\">Usual package declaration</a></p>\n<p>This way, i can choose what i want my application to run via an environment variable. Is there a way to achieve this with Spring Boot? I dont want a web server to always run when i only want an instance of my application to update records on the Database every X minutes as an example, as opposed to running my API server.</p>\n<p>My questions are:</p>\n<blockquote>\n<p>What is the common way professional developers tackle this problem?</p>\n<p>Should i just make a spring boot module and package all the dependencies my commands will have within it, then create a separate spring boot project for each command i intend to run?</p>\n</blockquote>\n<p>I hope i was able to provide enough info, thank you kindly for reading!</p>\n<p>I've searched online, and found out about the @Profile annotation, but i am not sure if this is what im looking for.</p>\n"},{"tags":["java","generics","type-erasure"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687225792,"post_id":76510911,"comment_id":134903589,"body_markdown":"There is no &quot;runtime error&quot; in the second case. Do you mean a *compile-time* error?","body":"There is no &quot;runtime error&quot; in the second case. Do you mean a <i>compile-time</i> error?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1687225866,"post_id":76510911,"comment_id":134903597,"body_markdown":"There is also nothing to do with type erasure here. It&#39;s the classic &quot;[`List&lt;Dog&gt;` is not a `List&lt;Animal&gt;`](https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po)&quot; problem.","body":"There is also nothing to do with type erasure here. It&#39;s the classic &quot;<a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\"><code>List&lt;Dog&gt;</code> is not a <code>List&lt;Animal&gt;</code></a>&quot; problem."},{"owner":{"account_id":10630747,"reputation":41,"user_id":7828981,"display_name":"Dipto Paul Dip"},"score":0,"creation_date":1687226012,"post_id":76510911,"comment_id":134903606,"body_markdown":"Sorry for the mistake, I meant compiler error and edited the code.","body":"Sorry for the mistake, I meant compiler error and edited the code."},{"owner":{"account_id":10630747,"reputation":41,"user_id":7828981,"display_name":"Dipto Paul Dip"},"score":0,"creation_date":1687226325,"post_id":76510911,"comment_id":134903645,"body_markdown":"@Sweeper If it is *It&#39;s the classic &quot;List&lt;Dog&gt; is not a List&lt;Animal&gt;&quot; problem.* it makes sense, but why does the Dog Animal case not apply to the first case? But only applicable to the Second case?","body":"@Sweeper If it is <i>It&#39;s the classic &quot;List&lt;Dog&gt; is not a List&lt;Animal&gt;&quot; problem.</i> it makes sense, but why does the Dog Animal case not apply to the first case? But only applicable to the Second case?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1687226384,"post_id":76510911,"comment_id":134903654,"body_markdown":"Please actually read the linked post. It explains this too.","body":"Please actually read the linked post. It explains this too."},{"owner":{"account_id":10630747,"reputation":41,"user_id":7828981,"display_name":"Dipto Paul Dip"},"score":0,"creation_date":1687227054,"post_id":76510911,"comment_id":134903708,"body_markdown":"Thank you for your time and replies. Hope you have a great day ahead.","body":"Thank you for your time and replies. Hope you have a great day ahead."}],"answers":[{"tags":[],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687226245,"creation_date":1687226245,"answer_id":76510962,"question_id":76510911,"body_markdown":"as @Sweeper said, Generic Types are not polymorphic and that&#39;s meant to be this way, the first one works because you declared your parameter type as ? extends T, thus it will take a inheritor, but in the second case it requires exactly a list of T, the first answer to this problem explains very well why you can&#39;t do that:\r\n\r\nhttps://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po","title":"Confusion regarding the use of Type Erasure by the Compiler in certain situation","body":"<p>as @Sweeper said, Generic Types are not polymorphic and that's meant to be this way, the first one works because you declared your parameter type as ? extends T, thus it will take a inheritor, but in the second case it requires exactly a list of T, the first answer to this problem explains very well why you can't do that:</p>\n<p><a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a></p>\n"}],"owner":{"account_id":10630747,"reputation":41,"user_id":7828981,"display_name":"Dipto Paul Dip"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687226363,"accepted_answer_id":76510962,"answer_count":1,"score":0,"last_activity_date":1687226245,"creation_date":1687225266,"question_id":76510911,"body_markdown":"I am trying to learn Java Generics. I wrote the following code and was trying to understand how compiler apply Type erasure rules on different scenarios of codes.\r\n\r\nHere is the code:\r\n```java\r\npackage GenericsTuts.G4_WildCards;\r\n\r\nimport java.util.*;\r\n\r\nclass GenericsBehaviours{\r\n  \r\n    &lt;T&gt; void sampleMethodWC(List&lt;? extends T&gt; tempList){}\r\n\r\n    &lt;T&gt; void sampleMethod(List&lt;T&gt; tempList){}\r\n}\r\n\r\npublic class G5_WildCardsBehaviours {\r\n    public static void main(String[] args) {\r\n         List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n\r\n        // First Case, no error, I understand how this works, by applying the type erasure rules, compiler replaces the type parameter T with the bound class Number, thus it accepts the child class \r\n        obj.&lt;Number&gt;sampleMethodWC(integerList);\r\n        \r\n        // Second Case, compiler error\r\n        obj.&lt;Number&gt;sampleMethod(integerList);\r\n    }\r\n}\r\n\r\n```\r\nI understand how the code works in the first case. However, why does not the code work in the second case? How does the compiler apply the Type Erasure rules in this case? Do they replace the T with something else other than Object or Number?","title":"Confusion regarding the use of Type Erasure by the Compiler in certain situation","body":"<p>I am trying to learn Java Generics. I wrote the following code and was trying to understand how compiler apply Type erasure rules on different scenarios of codes.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package GenericsTuts.G4_WildCards;\n\nimport java.util.*;\n\nclass GenericsBehaviours{\n  \n    &lt;T&gt; void sampleMethodWC(List&lt;? extends T&gt; tempList){}\n\n    &lt;T&gt; void sampleMethod(List&lt;T&gt; tempList){}\n}\n\npublic class G5_WildCardsBehaviours {\n    public static void main(String[] args) {\n         List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n\n        // First Case, no error, I understand how this works, by applying the type erasure rules, compiler replaces the type parameter T with the bound class Number, thus it accepts the child class \n        obj.&lt;Number&gt;sampleMethodWC(integerList);\n        \n        // Second Case, compiler error\n        obj.&lt;Number&gt;sampleMethod(integerList);\n    }\n}\n\n</code></pre>\n<p>I understand how the code works in the first case. However, why does not the code work in the second case? How does the compiler apply the Type Erasure rules in this case? Do they replace the T with something else other than Object or Number?</p>\n"},{"tags":["java","hibernate","validation","annotations","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687226089,"creation_date":1265401320,"answer_id":2210142,"question_id":2210091,"body_markdown":"&lt;a href=&quot;http://docs.jboss.org/hibernate/stable/validator/reference/en/html/validator-customconstraints.html&quot;&gt;Here&#39;s the documentation for implementing custom constraint&lt;/a&gt;.\r\n\r\nIt&#39;s fairly simple:\r\n\r\n1. You define your own annotation, with the appropriate attributes\r\n2. You define the class which will perform the validation\r\n3. You define validation messages\r\n4. You use the annotation\r\n\r\nSo perhaps your annotation might look like:\r\n\r\n    @Constraint(validatedBy=YourChecker.class)\r\n    //other annotations\r\n    public @interface AllowedValues {\r\n        int[] value();\r\n    }\r\n\r\n","title":"How to check for a length of 5 or 9 with hibernate validator?","body":"<p><a href=\"http://docs.jboss.org/hibernate/stable/validator/reference/en/html/validator-customconstraints.html\" rel=\"nofollow noreferrer\">Here's the documentation for implementing custom constraint</a>.</p>\n<p>It's fairly simple:</p>\n<ol>\n<li>You define your own annotation, with the appropriate attributes</li>\n<li>You define the class which will perform the validation</li>\n<li>You define validation messages</li>\n<li>You use the annotation</li>\n</ol>\n<p>So perhaps your annotation might look like:</p>\n<pre><code>@Constraint(validatedBy=YourChecker.class)\n//other annotations\npublic @interface AllowedValues {\n    int[] value();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":30276,"reputation":58105,"user_id":82474,"accept_rate":81,"display_name":"Eric Wilson"},"score":0,"creation_date":1265417250,"post_id":2210829,"comment_id":2163436,"body_markdown":"Thanks.  +1 for a sufficient answer, but I&#39;ll accept the one that answered the question that I hadn&#39;t yet thought to ask.","body":"Thanks.  +1 for a sufficient answer, but I&#39;ll accept the one that answered the question that I hadn&#39;t yet thought to ask."}],"tags":[],"owner":{"account_id":8190,"reputation":13616,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1265408063,"creation_date":1265408063,"answer_id":2210829,"question_id":2210091,"body_markdown":"Try @Pattern(regex=&quot;.{5}|.{9}&quot;) (change the dot to another character class if you don&#39;t want to match everything.","title":"How to check for a length of 5 or 9 with hibernate validator?","body":"<p>Try @Pattern(regex=\".{5}|.{9}\") (change the dot to another character class if you don't want to match everything.</p>\n"}],"owner":{"account_id":30276,"reputation":58105,"user_id":82474,"accept_rate":81,"display_name":"Eric Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":2210142,"answer_count":2,"score":4,"last_activity_date":1687226089,"creation_date":1265400716,"question_id":2210091,"body_markdown":"I can validate the length of a String with an annotation like:\r\n\r\n    @Length(max = 255)\r\n\r\nBut what if I want to verifiy that the length is either 5 or 9?  Can this be done with an annotation?","title":"How to check for a length of 5 or 9 with hibernate validator?","body":"<p>I can validate the length of a String with an annotation like:</p>\n\n<pre><code>@Length(max = 255)\n</code></pre>\n\n<p>But what if I want to verifiy that the length is either 5 or 9?  Can this be done with an annotation?</p>\n"},{"tags":["java","android","json","jackson"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1687130875,"post_id":76502850,"comment_id":134889791,"body_markdown":"root of your orignal json is array/list and your createted json is object ... so what is you expected? (same story with `videos` prop)","body":"root of your orignal json is array/list and your createted json is object ... so what is you expected? (same story with <code>videos</code> prop)"},{"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"score":0,"creation_date":1687131610,"post_id":76502850,"comment_id":134889832,"body_markdown":"@Selvin Would like it to match my JSON in my example.","body":"@Selvin Would like it to match my JSON in my example."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1687131766,"post_id":76502850,"comment_id":134889840,"body_markdown":"maybe google for &quot;ObjectMapper create array&quot;","body":"maybe google for &quot;ObjectMapper create array&quot;"}],"answers":[{"tags":[],"owner":{"account_id":28850828,"reputation":512,"user_id":22096771,"display_name":"Bademeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687225610,"creation_date":1687225001,"answer_id":76510895,"question_id":76502850,"body_markdown":"I hope I have understood your question correctly, that it is about the complete JSON.\r\n\r\n```[]``` is an array and ```{}``` is an object. Therefore you must use ```createArrayNode()``` or ```createObjectNode()```.\r\n\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\n// Create array for categories\r\nArrayNode categories = mapper.createArrayNode();\r\nfor (int i = 1; i &lt;= 2; i++) {\r\n    // Create object category\r\n    ObjectNode category = mapper.createObjectNode();\r\n    category.put(&quot;MOVIE_CATEGORY&quot;,&quot;#&quot; + i);\r\n\r\n    // Create array for videos\r\n    ArrayNode videos = mapper.createArrayNode();\r\n    for (int j = 1; j &lt;= 2; j++) {\r\n        // Create object for movie\r\n        ObjectNode movie = mapper.createObjectNode();\r\n        movie.put(&quot;title&quot;, &quot;Movie &quot; + j);\r\n\r\n        // Add object movie to array videos\r\n        videos.add(movie);\r\n    }\r\n\r\n    // Put videos to object category\r\n    category.put(&quot;videos&quot;, videos);\r\n\r\n    // Add category to array categories\r\n    categories.add(category);\r\n}\r\nString jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(categories);\r\n```\r\n**Output**\r\n```json\r\n[\r\n  {\r\n    &quot;MOVIE_CATEGORY&quot;:&quot;#1&quot;,\r\n    &quot;videos&quot;:[\r\n      {\r\n        &quot;title&quot;:&quot;Movie 1&quot;\r\n      },\r\n      {\r\n        &quot;title&quot;:&quot;Movie 2&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;MOVIE_CATEGORY&quot;:&quot;#2&quot;,\r\n    &quot;videos&quot;:[\r\n      {\r\n        &quot;title&quot;:&quot;Movie 1&quot;\r\n      },\r\n      {\r\n        &quot;title&quot;:&quot;Movie 2&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```","title":"Android Jackson creating JSON but produces non-valid result","body":"<p>I hope I have understood your question correctly, that it is about the complete JSON.</p>\n<p><code>[]</code> is an array and <code>{}</code> is an object. Therefore you must use <code>createArrayNode()</code> or <code>createObjectNode()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\n// Create array for categories\nArrayNode categories = mapper.createArrayNode();\nfor (int i = 1; i &lt;= 2; i++) {\n    // Create object category\n    ObjectNode category = mapper.createObjectNode();\n    category.put(&quot;MOVIE_CATEGORY&quot;,&quot;#&quot; + i);\n\n    // Create array for videos\n    ArrayNode videos = mapper.createArrayNode();\n    for (int j = 1; j &lt;= 2; j++) {\n        // Create object for movie\n        ObjectNode movie = mapper.createObjectNode();\n        movie.put(&quot;title&quot;, &quot;Movie &quot; + j);\n\n        // Add object movie to array videos\n        videos.add(movie);\n    }\n\n    // Put videos to object category\n    category.put(&quot;videos&quot;, videos);\n\n    // Add category to array categories\n    categories.add(category);\n}\nString jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(categories);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;MOVIE_CATEGORY&quot;:&quot;#1&quot;,\n    &quot;videos&quot;:[\n      {\n        &quot;title&quot;:&quot;Movie 1&quot;\n      },\n      {\n        &quot;title&quot;:&quot;Movie 2&quot;\n      }\n    ]\n  },\n  {\n    &quot;MOVIE_CATEGORY&quot;:&quot;#2&quot;,\n    &quot;videos&quot;:[\n      {\n        &quot;title&quot;:&quot;Movie 1&quot;\n      },\n      {\n        &quot;title&quot;:&quot;Movie 2&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76510895,"answer_count":1,"score":0,"last_activity_date":1687225610,"creation_date":1687130302,"question_id":76502850,"body_markdown":"Hey all I am trying to create the json below using Jackson for android java:\r\n\r\n\r\n    [{\r\n            &quot;MOVIE_CATEGORY&quot;: &quot;#&quot;,\r\n            &quot;videos&quot;: [{\r\n                    &quot;title&quot;: &quot;Movie Name 1&quot;,\r\n                    &quot;videoUrl&quot;: &quot;1.mp4&quot;,\r\n                    &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\r\n                    &quot;cardImageUrl&quot;: &quot;3.png&quot;\r\n                }, {\r\n                    &quot;title&quot;: &quot;Movie Name 2&quot;,\r\n                    &quot;videoUrl&quot;: &quot;2.mp4&quot;,\r\n                    &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\r\n                    &quot;cardImageUrl&quot;: &quot;3.png&quot;\r\n                }, {\r\n                    .....\r\n                }\r\n            ]\r\n        }, {\r\n            &quot;MOVIE_CATEGORY&quot;: &quot;A&quot;,\r\n            &quot;videos&quot;: [{\r\n                    &quot;title&quot;: &quot;Movie Name 4&quot;,\r\n                    &quot;videoUrl&quot;: &quot;3.mp4&quot;,\r\n                    &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\r\n                    &quot;cardImageUrl&quot;: &quot;3.png&quot;\r\n                }, {\r\n                    &quot;title&quot;: &quot;Movie Name 5&quot;,\r\n                    &quot;videoUrl&quot;: &quot;4.mp4&quot;,\r\n                    &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\r\n                    &quot;cardImageUrl&quot;: &quot;3.png&quot;\r\n                }, {\r\n                   ....\r\n                }\r\n            ]\r\n        }, {\r\n            &quot;MOVIE_CATEGORY&quot;: &quot;B&quot;,\r\n            &quot;videos&quot;: [{\r\n                    ...\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\nThe code here:\r\n\r\n    for (int i = 0; i &lt; fileList.length; ++i) {\r\n            if (!fileList[i].contains(&quot;_backdrop.&quot;)) {\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                ObjectNode rootNode = mapper.createObjectNode();\r\n                rootNode.put(&quot;MOVIE_CATEGORY&quot;,&quot;#&quot;);\r\n\r\n                ObjectNode childNode1 = mapper.createObjectNode();\r\n                childNode1.put(&quot;title&quot;, &quot;Movie 1&quot;);\r\n                childNode1.put(&quot;videoUrl&quot;, &quot;1.mp4&quot;);\r\n                childNode1.put(&quot;bgImageUrl&quot;, &quot;2.jpg&quot;);\r\n                childNode1.put(&quot;cardImageUrl&quot;, &quot;3.png&quot;);\r\n\r\n                rootNode.set(&quot;videos&quot;, childNode1);\r\n\r\n                String jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(rootNode);\r\n                Log.d(&quot;&quot;, jsonString);\r\n            }\r\n        }\r\n\r\nProduces only this:\r\n\r\n    {\r\n      &quot;MOVIE_CATEGORY&quot; : &quot;#&quot;,\r\n      &quot;videos&quot; : {\r\n        &quot;title&quot; : &quot;Movie 1&quot;,\r\n        &quot;videoUrl&quot; : &quot;1.mp4&quot;,\r\n        &quot;bgImageUrl&quot; : &quot;2.jpg&quot;,\r\n        &quot;cardImageUrl&quot; : &quot;3.png&quot;\r\n      }\r\n    }\r\n\r\nWhich in itself is not correct JSON. How can I get this to look like my JSON example structure?","title":"Android Jackson creating JSON but produces non-valid result","body":"<p>Hey all I am trying to create the json below using Jackson for android java:</p>\n<pre><code>[{\n        &quot;MOVIE_CATEGORY&quot;: &quot;#&quot;,\n        &quot;videos&quot;: [{\n                &quot;title&quot;: &quot;Movie Name 1&quot;,\n                &quot;videoUrl&quot;: &quot;1.mp4&quot;,\n                &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\n                &quot;cardImageUrl&quot;: &quot;3.png&quot;\n            }, {\n                &quot;title&quot;: &quot;Movie Name 2&quot;,\n                &quot;videoUrl&quot;: &quot;2.mp4&quot;,\n                &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\n                &quot;cardImageUrl&quot;: &quot;3.png&quot;\n            }, {\n                .....\n            }\n        ]\n    }, {\n        &quot;MOVIE_CATEGORY&quot;: &quot;A&quot;,\n        &quot;videos&quot;: [{\n                &quot;title&quot;: &quot;Movie Name 4&quot;,\n                &quot;videoUrl&quot;: &quot;3.mp4&quot;,\n                &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\n                &quot;cardImageUrl&quot;: &quot;3.png&quot;\n            }, {\n                &quot;title&quot;: &quot;Movie Name 5&quot;,\n                &quot;videoUrl&quot;: &quot;4.mp4&quot;,\n                &quot;bgImageUrl&quot;: &quot;2.jpg&quot;,\n                &quot;cardImageUrl&quot;: &quot;3.png&quot;\n            }, {\n               ....\n            }\n        ]\n    }, {\n        &quot;MOVIE_CATEGORY&quot;: &quot;B&quot;,\n        &quot;videos&quot;: [{\n                ...\n            }\n        ]\n    }\n]\n</code></pre>\n<p>The code here:</p>\n<pre><code>for (int i = 0; i &lt; fileList.length; ++i) {\n        if (!fileList[i].contains(&quot;_backdrop.&quot;)) {\n            ObjectMapper mapper = new ObjectMapper();\n            ObjectNode rootNode = mapper.createObjectNode();\n            rootNode.put(&quot;MOVIE_CATEGORY&quot;,&quot;#&quot;);\n\n            ObjectNode childNode1 = mapper.createObjectNode();\n            childNode1.put(&quot;title&quot;, &quot;Movie 1&quot;);\n            childNode1.put(&quot;videoUrl&quot;, &quot;1.mp4&quot;);\n            childNode1.put(&quot;bgImageUrl&quot;, &quot;2.jpg&quot;);\n            childNode1.put(&quot;cardImageUrl&quot;, &quot;3.png&quot;);\n\n            rootNode.set(&quot;videos&quot;, childNode1);\n\n            String jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(rootNode);\n            Log.d(&quot;&quot;, jsonString);\n        }\n    }\n</code></pre>\n<p>Produces only this:</p>\n<pre><code>{\n  &quot;MOVIE_CATEGORY&quot; : &quot;#&quot;,\n  &quot;videos&quot; : {\n    &quot;title&quot; : &quot;Movie 1&quot;,\n    &quot;videoUrl&quot; : &quot;1.mp4&quot;,\n    &quot;bgImageUrl&quot; : &quot;2.jpg&quot;,\n    &quot;cardImageUrl&quot; : &quot;3.png&quot;\n  }\n}\n</code></pre>\n<p>Which in itself is not correct JSON. How can I get this to look like my JSON example structure?</p>\n"},{"tags":["java","bean-validation","hibernate-validator"],"answers":[{"comments":[{"owner":{"account_id":335836,"reputation":627,"user_id":663143,"accept_rate":80,"display_name":"javagruffian"},"score":0,"creation_date":1313527450,"post_id":7084763,"comment_id":8480209,"body_markdown":"Yes, I like this solution, but unfortunately I have a requirement that must be implemented with separate messages.","body":"Yes, I like this solution, but unfortunately I have a requirement that must be implemented with separate messages."},{"owner":{"account_id":268547,"reputation":9159,"user_id":557363,"display_name":"atrain"},"score":3,"creation_date":1313528200,"post_id":7084763,"comment_id":8480395,"body_markdown":"You could create a custom constraint that would check both Min and Max and have separate messages for each: http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html","body":"You could create a custom constraint that would check both Min and Max and have separate messages for each: <a href=\"http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":268547,"reputation":9159,"user_id":557363,"display_name":"atrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1313527370,"creation_date":1313527370,"answer_id":7084763,"question_id":7084706,"body_markdown":"According to documentation, you can use `@Length(min=, max=)`, with one message.  Then just change your message to &quot;The field must be between 5 and 50 characters&quot;","title":"Hibernate Validator - @Length - How to specify separate message for min and max?","body":"<p>According to documentation, you can use <code>@Length(min=, max=)</code>, with one message.  Then just change your message to \"The field must be between 5 and 50 characters\"</p>\n"},{"comments":[{"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"score":2,"creation_date":1485018927,"post_id":7097632,"comment_id":70754462,"body_markdown":"Note that as of Bean Validation 2.0 / Hibernate Validator 6, you&#39;ll be able to specify `@Length` and any other constraint multiple times, without the need for the explicit `@List` annotation.","body":"Note that as of Bean Validation 2.0 / Hibernate Validator 6, you&#39;ll be able to specify <code>@Length</code> and any other constraint multiple times, without the need for the explicit <code>@List</code> annotation."}],"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"comment_count":1,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1313605667,"creation_date":1313605667,"answer_id":7097632,"question_id":7084706,"body_markdown":"You can specify several `@Length` constraints at one element by using the inner [list annotation][1] (which is defined for each constraint type in Bean Validation/Hibernate Validator) like this:\r\n\r\n    @List({\r\n        @Length(min = 5, message = &quot;The field must be at least 5 characters&quot;),\r\n        @Length(max = 50, message = &quot;The field must be less than 50 characters&quot;)\r\n    })\r\n    private String myString;\r\n\r\nBtw. I recommend to prefer [@Size][2] as defined by the Bean Validation API over `@Length` for portability reasons.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/validator/api/index.html?org/hibernate/validator/constraints/Length.List.html\r\n  [2]: http://docs.jboss.org/hibernate/stable/beanvalidation/api/index.html?javax/validation/constraints/Size.html","title":"Hibernate Validator - @Length - How to specify separate message for min and max?","body":"<p>You can specify several <code>@Length</code> constraints at one element by using the inner <a href=\"http://docs.jboss.org/hibernate/stable/validator/api/index.html?org/hibernate/validator/constraints/Length.List.html\" rel=\"noreferrer\">list annotation</a> (which is defined for each constraint type in Bean Validation/Hibernate Validator) like this:</p>\n\n<pre><code>@List({\n    @Length(min = 5, message = \"The field must be at least 5 characters\"),\n    @Length(max = 50, message = \"The field must be less than 50 characters\")\n})\nprivate String myString;\n</code></pre>\n\n<p>Btw. I recommend to prefer <a href=\"http://docs.jboss.org/hibernate/stable/beanvalidation/api/index.html?javax/validation/constraints/Size.html\" rel=\"noreferrer\">@Size</a> as defined by the Bean Validation API over <code>@Length</code> for portability reasons.</p>\n"},{"tags":[],"owner":{"account_id":1589946,"reputation":585,"user_id":1473506,"display_name":"Chanoch"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1393687408,"creation_date":1393687408,"answer_id":22116232,"question_id":7084706,"body_markdown":"If you use the java standard javax.validation.constraint.Size, you can achieve the same thing this way:\r\n\r\n    @Size.List ({\r\n        @Size(min=8, message=&quot;The field must be at least {min} characters&quot;),\r\n        @Size(max=60, message=&quot;The field must be less than {max} characters&quot;)\r\n    })\r\n    private String myString;\r\n\r\nNotice that you can avoid hardcoding the field size by using message interpolation.","title":"Hibernate Validator - @Length - How to specify separate message for min and max?","body":"<p>If you use the java standard javax.validation.constraint.Size, you can achieve the same thing this way:</p>\n\n<pre><code>@Size.List ({\n    @Size(min=8, message=\"The field must be at least {min} characters\"),\n    @Size(max=60, message=\"The field must be less than {max} characters\")\n})\nprivate String myString;\n</code></pre>\n\n<p>Notice that you can avoid hardcoding the field size by using message interpolation.</p>\n"}],"owner":{"account_id":335836,"reputation":627,"user_id":663143,"accept_rate":80,"display_name":"javagruffian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55713,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":7097632,"answer_count":3,"score":22,"last_activity_date":1687225406,"creation_date":1313527084,"question_id":7084706,"body_markdown":"I am using Hibernate validator for form validation in my web-app. I am using the `@Length()` annotation for my String attribute as follows\r\n\r\n```java\r\n@Length(min = 5, message = &quot;The field must be at least 5 characters&quot;)\r\nprivate String myString;\r\n```\r\nHowever, I have a need to display a different message if the String exceeds 50 characters. Is there a way to use the out-of-the-box @Length validator to do this?  An example of what I would like to do (compiler will not let me) is as follows:\r\n\r\n    @Length(min = 5, message = &quot;The field must be at least 5 characters&quot;)\r\n    @Length(max = 50, message = &quot;The field must be less than 50 characters&quot;)\r\n    private String myString;\r\n\r\nI have tried @Max and @Min and they do not do what I want.  Any input would be greatly appreciated!\r\n\r\n","title":"Hibernate Validator - @Length - How to specify separate message for min and max?","body":"<p>I am using Hibernate validator for form validation in my web-app. I am using the <code>@Length()</code> annotation for my String attribute as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Length(min = 5, message = &quot;The field must be at least 5 characters&quot;)\nprivate String myString;\n</code></pre>\n<p>However, I have a need to display a different message if the String exceeds 50 characters. Is there a way to use the out-of-the-box @Length validator to do this?  An example of what I would like to do (compiler will not let me) is as follows:</p>\n<pre><code>@Length(min = 5, message = &quot;The field must be at least 5 characters&quot;)\n@Length(max = 50, message = &quot;The field must be less than 50 characters&quot;)\nprivate String myString;\n</code></pre>\n<p>I have tried @Max and @Min and they do not do what I want.  Any input would be greatly appreciated!</p>\n"},{"tags":["java","unicode","utf-8","utf8-decode"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":1,"creation_date":1354615570,"post_id":13700333,"comment_id":18813176,"body_markdown":"the question is unclear to me. When you `System.out.println(yourString);` do you see (1) `Dodd\\u2013Frank` or (2) `Dodd–Frank` ?","body":"the question is unclear to me. When you <code>System.out.println(yourString);</code> do you see (1) <code>Dodd\\u2013Frank</code> or (2) <code>Dodd–Frank</code> ?"},{"owner":{"account_id":168316,"reputation":41806,"user_id":393701,"display_name":"SirDarius"},"score":7,"creation_date":1354615577,"post_id":13700333,"comment_id":18813181,"body_markdown":"Wrong, \\u2013 is not an UTF-8 character, it is an escaped Unicode character. UTF-8 is a way of encoding UTF characters.","body":"Wrong, \\u2013 is not an UTF-8 character, it is an escaped Unicode character. UTF-8 is a way of encoding UTF characters."},{"owner":{"account_id":12615,"reputation":19244,"user_id":24949,"accept_rate":95,"display_name":"Sudar"},"score":0,"creation_date":1354615739,"post_id":13700333,"comment_id":18813257,"body_markdown":"@jlordo and SirDarius I have updated the question with details.","body":"@jlordo and SirDarius I have updated the question with details."},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":4,"creation_date":1354616004,"post_id":13700333,"comment_id":18813403,"body_markdown":"Have a look at [StringEscapeUtils.unescapeJava()](http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/StringEscapeUtils.html#unescapeJava(java.lang.String))","body":"Have a look at <a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/StringEscapeUtils.html#unescapeJava(java.lang.String)\" rel=\"nofollow noreferrer\">StringEscapeUtils.unescapeJava()</a>"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1445252073,"post_id":13700333,"comment_id":54229150,"body_markdown":"Check the Apache Doc: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html","body":"Check the Apache Doc: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1531241819,"post_id":13700333,"comment_id":89519351,"body_markdown":"Just wanted to understand, why not `&quot;Dodd\\u2013Frank&quot;.chars().forEach(a -&gt; System.out.print((char) a));` ?","body":"Just wanted to understand, why not <code>&quot;Dodd\\u2013Frank&quot;.chars().forEach(a -&gt; System.out.print((char) a));</code> ?"},{"owner":{"account_id":285018,"reputation":1609,"user_id":583446,"display_name":"Chris Wolf"},"score":0,"creation_date":1680736989,"post_id":13700333,"comment_id":133950816,"body_markdown":"`org.apache.commons.lang3.StringEscapeUtils` is deprecated, but moved to `commons-text` as `import org.apache.commons.text.StringEscapeUtils` which is not deprecated.","body":"<code>org.apache.commons.lang3.StringEscapeUtils</code> is deprecated, but moved to <code>commons-text</code> as <code>import org.apache.commons.text.StringEscapeUtils</code> which is not deprecated."}],"answers":[{"comments":[{"owner":{"account_id":931382,"reputation":4561,"user_id":961215,"accept_rate":71,"display_name":"Abhishek_Mishra"},"score":0,"creation_date":1354616183,"post_id":13700409,"comment_id":18813500,"body_markdown":"decoder is object of CharsetDecoder class in java.nio package.Sorry to update that.See the edited answer.Thanks for reminding me.:)","body":"decoder is object of CharsetDecoder class in java.nio package.Sorry to update that.See the edited answer.Thanks for reminding me.:)"}],"tags":[],"owner":{"account_id":931382,"reputation":4561,"user_id":961215,"accept_rate":71,"display_name":"Abhishek_Mishra"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1371841073,"creation_date":1354615715,"answer_id":13700409,"question_id":13700333,"body_markdown":"You can convert that byte buffer to String like this :\r\n    \r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.CharsetDecoder;\r\n    import java.nio.ByteBuffer\r\n\r\n    public static CharsetDecoder decoder = CharsetDecoder.newDecoder();\r\n\r\n    public static String byteBufferToString(ByteBuffer buffer)\r\n    {\r\n        String data = &quot;&quot;;\r\n        try \r\n        {\r\n            // EDITOR&#39;S NOTE -- There is no &#39;position&#39; method for ByteBuffer.\r\n            //                   As such, this is pseudocode.\r\n            int old_position = buffer.position();\r\n            data = decoder.decode(buffer).toString();\r\n            // reset buffer&#39;s position to its original so it is not altered:\r\n            buffer.position(old_position);  \r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n        return data;\r\n     }\r\n","title":"Convert escaped Unicode character back to actual character","body":"<p>You can convert that byte buffer to String like this :</p>\n\n<pre><code>import java.nio.charset.Charset;\nimport java.nio.charset.CharsetDecoder;\nimport java.nio.ByteBuffer\n\npublic static CharsetDecoder decoder = CharsetDecoder.newDecoder();\n\npublic static String byteBufferToString(ByteBuffer buffer)\n{\n    String data = \"\";\n    try \n    {\n        // EDITOR'S NOTE -- There is no 'position' method for ByteBuffer.\n        //                   As such, this is pseudocode.\n        int old_position = buffer.position();\n        data = decoder.decode(buffer).toString();\n        // reset buffer's position to its original so it is not altered:\n        buffer.position(old_position);  \n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n        return \"\";\n    }\n    return data;\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"score":2,"creation_date":1354616272,"post_id":13700590,"comment_id":18813532,"body_markdown":"If `Java` itself provides the functionality of parsing the value then why should we use any third party tool ?","body":"If <code>Java</code> itself provides the functionality of parsing the value then why should we use any third party tool ?"},{"owner":{"account_id":168316,"reputation":41806,"user_id":393701,"display_name":"SirDarius"},"score":2,"creation_date":1354616348,"post_id":13700590,"comment_id":18813572,"body_markdown":"@BhavikAmbani Then please explain how, because your answer definitly does not.","body":"@BhavikAmbani Then please explain how, because your answer definitly does not."},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1354616386,"post_id":13700590,"comment_id":18813588,"body_markdown":"@BhavikAmbani in your own example, try `System.out.println(string);` before calling `getBytes();` and see what happens ;)","body":"@BhavikAmbani in your own example, try <code>System.out.println(string);</code> before calling <code>getBytes();</code> and see what happens ;)"},{"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"score":0,"creation_date":1354616404,"post_id":13700590,"comment_id":18813601,"body_markdown":"How come ? My answer solves the problem which is specified in the question asked, that convert unicode into readable string format.","body":"How come ? My answer solves the problem which is specified in the question asked, that convert unicode into readable string format."},{"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"score":0,"creation_date":1354616468,"post_id":13700590,"comment_id":18813642,"body_markdown":"@jlordo I have pasted that also you can check that this prints the perfect output, which I have taked from the console","body":"@jlordo I have pasted that also you can check that this prints the perfect output, which I have taked from the console"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":1,"creation_date":1354616475,"post_id":13700590,"comment_id":18813645,"body_markdown":"@BhavikAmbani nope, when he prints out his string, he sees `Dodd\\u2013Frank`, when we print your string we see `Dodd-Frank`. (before any conversion), his String is `&quot;Dodd\\\\u2013Frank&quot;`, your String is `&quot;Dodd\\u2013Frank&quot;`","body":"@BhavikAmbani nope, when he prints out his string, he sees <code>Dodd\\u2013Frank</code>, when we print your string we see <code>Dodd-Frank</code>. (before any conversion), his String is <code>&quot;Dodd\\\\u2013Frank&quot;</code>, your String is <code>&quot;Dodd\\u2013Frank&quot;</code>"},{"owner":{"account_id":76,"reputation":21385,"user_id":92,"accept_rate":64,"display_name":"Justin Standard"},"score":3,"creation_date":1467170753,"post_id":13700590,"comment_id":63615376,"body_markdown":"This might solve your issue in a simple case, but be careful.  If you are trying to use this solution, for example, on a JSON encoded string with UTF8 chars that you want unescaped, it will unescape things that you DONT want touched:  For example, if this String is inside a piece of JSON\n\n&quot;\\u003ca href=\\&quot;http:\\/\\/twitter.com\\&quot; rel=\\&quot;nofollow\\&quot;\\u003eTwitter Web Client\\u003c\\/a\\u003e&quot;","body":"This might solve your issue in a simple case, but be careful.  If you are trying to use this solution, for example, on a JSON encoded string with UTF8 chars that you want unescaped, it will unescape things that you DONT want touched:  For example, if this String is inside a piece of JSON  &quot;\\u003ca href=\\&quot;http:\\/\\/twitter.com\\&quot; rel=\\&quot;nofollow\\&quot;\\u003eTwitter Web Client\\u003c\\/a\\u003e&quot;"},{"owner":{"account_id":11015591,"reputation":370,"user_id":8091544,"display_name":"user8091544"},"score":0,"creation_date":1623393546,"post_id":13700590,"comment_id":120071149,"body_markdown":"str = org.apache.commons.text.StringEscapeUtils.unescapeJava(str);\n\nas commons.lang3 is deprecated.","body":"str = org.apache.commons.text.StringEscapeUtils.unescapeJava(str);  as commons.lang3 is deprecated."}],"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"comment_count":8,"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1468927209,"creation_date":1354616216,"answer_id":13700590,"question_id":13700333,"body_markdown":"try \r\n\r\n    str = org.apache.commons.lang3.StringEscapeUtils.unescapeJava(str);\r\n\r\nfrom [Apache Commons Lang][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava(java.lang.String)","title":"Convert escaped Unicode character back to actual character","body":"<p>try </p>\n\n<pre><code>str = org.apache.commons.lang3.StringEscapeUtils.unescapeJava(str);\n</code></pre>\n\n<p>from <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava(java.lang.String)\">Apache Commons Lang</a></p>\n"},{"comments":[{"owner":{"account_id":6637014,"reputation":8605,"user_id":5123895,"accept_rate":85,"display_name":"Łukasz"},"score":0,"creation_date":1538160065,"post_id":24046962,"comment_id":92060628,"body_markdown":"won&#39;t handle newlines","body":"won&#39;t handle newlines"},{"owner":{"account_id":419090,"reputation":1240,"user_id":796064,"accept_rate":67,"display_name":"drobert"},"score":0,"creation_date":1538509762,"post_id":24046962,"comment_id":92165075,"body_markdown":"As written, true, though this solution could be applied to one line at a time.","body":"As written, true, though this solution could be applied to one line at a time."},{"owner":{"account_id":6637014,"reputation":8605,"user_id":5123895,"accept_rate":85,"display_name":"Łukasz"},"score":0,"creation_date":1538560368,"post_id":24046962,"comment_id":92181997,"body_markdown":"Yeah, I am just warning people as I faced that. I actually replaced new lines with some special string, converted and converted back, worked like a charm, but not perfect for production code.","body":"Yeah, I am just warning people as I faced that. I actually replaced new lines with some special string, converted and converted back, worked like a charm, but not perfect for production code."},{"owner":{"account_id":419090,"reputation":1240,"user_id":796064,"accept_rate":67,"display_name":"drobert"},"score":0,"creation_date":1610576150,"post_id":24046962,"comment_id":116181202,"body_markdown":"Works. Another approach is to read in one line at a time using a `BufferedReader` or `BufferedInputSteam` similar and apply this algorithm to one line at a time.","body":"Works. Another approach is to read in one line at a time using a <code>BufferedReader</code> or <code>BufferedInputSteam</code> similar and apply this algorithm to one line at a time."}],"tags":[],"owner":{"account_id":419090,"reputation":1240,"user_id":796064,"accept_rate":67,"display_name":"drobert"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1687225219,"creation_date":1401913651,"answer_id":24046962,"question_id":13700333,"body_markdown":"# `java.util.Properties`\r\n\r\nYou can take advantage of the fact that [`java.util.Properties`][1] supports strings with `\\uXXXX` escape sequences and do something like this:\r\n\r\n```java\r\nProperties p = new Properties();\r\np.load(new StringReader(&quot;key = &quot; + yourInputString));\r\nSystem.out.println(&quot;Escaped value: &quot; + p.getProperty(&quot;key&quot;));\r\n```\r\n\r\nInelegant, but functional.\r\n\r\nTo handle the possible `IOExeception`, you may want a try-catch.\r\n\r\n```java\r\nProperties p = new Properties();\r\ntry { \r\n   p.load(new StringReader(&quot;key = &quot; + input)); \r\n} catch (IOException e) { \r\n   e.printStackTrace();\r\n}\r\nSystem.out.println(&quot;Escaped value: &quot; + p.getProperty(&quot;key&quot;));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html","title":"Convert escaped Unicode character back to actual character","body":"<h1><code>java.util.Properties</code></h1>\n<p>You can take advantage of the fact that <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Properties.html\" rel=\"nofollow noreferrer\"><code>java.util.Properties</code></a> supports strings with <code>\\uXXXX</code> escape sequences and do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties p = new Properties();\np.load(new StringReader(&quot;key = &quot; + yourInputString));\nSystem.out.println(&quot;Escaped value: &quot; + p.getProperty(&quot;key&quot;));\n</code></pre>\n<p>Inelegant, but functional.</p>\n<p>To handle the possible <code>IOExeception</code>, you may want a try-catch.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties p = new Properties();\ntry { \n   p.load(new StringReader(&quot;key = &quot; + input)); \n} catch (IOException e) { \n   e.printStackTrace();\n}\nSystem.out.println(&quot;Escaped value: &quot; + p.getProperty(&quot;key&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6515422"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467311793,"creation_date":1467311466,"answer_id":38130763,"question_id":13700333,"body_markdown":"Suppose you have a Unicode value, such as 00B0 (degree symbol, or superscript &#39;o&#39;, as in Spanish abbreviation for &#39;primero&#39;)\r\n\r\nHere is a function that does just what you want:\r\n\r\n\tpublic static String  unicodeToString( char  charValue )\r\n\t{\r\n\t\tCharacter\tch = new Character( charValue );\r\n\r\n\t\treturn ch.toString();\r\n\t}\r\n\r\n\r\n","title":"Convert escaped Unicode character back to actual character","body":"<p>Suppose you have a Unicode value, such as 00B0 (degree symbol, or superscript 'o', as in Spanish abbreviation for 'primero')</p>\n\n<p>Here is a function that does just what you want:</p>\n\n<pre><code>public static String  unicodeToString( char  charValue )\n{\n    Character   ch = new Character( charValue );\n\n    return ch.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":952442,"reputation":9428,"user_id":978320,"accept_rate":94,"display_name":"Joy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477492977,"creation_date":1477492977,"answer_id":40265298,"question_id":13700333,"body_markdown":"I used `StringEscapeUtils.unescapeXml` to unescape the string loaded from an API that gives XML result.","title":"Convert escaped Unicode character back to actual character","body":"<p>I used <code>StringEscapeUtils.unescapeXml</code> to unescape the string loaded from an API that gives XML result.</p>\n"},{"comments":[{"owner":{"account_id":9204186,"reputation":694,"user_id":6840114,"display_name":"Florian Heer"},"score":1,"creation_date":1551872853,"post_id":52977635,"comment_id":96797988,"body_markdown":"Tried this, but what is actually decoding the UTF-8 character is the fact that it is given directly in the String. What your example does, is to take a UTF-8 String, encode that, decode that, and - luckily - we get the same output as the input.","body":"Tried this, but what is actually decoding the UTF-8 character is the fact that it is given directly in the String. What your example does, is to take a UTF-8 String, encode that, decode that, and - luckily - we get the same output as the input."},{"owner":{"account_id":438602,"reputation":5680,"user_id":3538289,"display_name":"cevaris"},"score":0,"creation_date":1551972276,"post_id":52977635,"comment_id":96844814,"body_markdown":"curious, what is a string example would fail to convert for this solution?","body":"curious, what is a string example would fail to convert for this solution?"},{"owner":{"account_id":9204186,"reputation":694,"user_id":6840114,"display_name":"Florian Heer"},"score":2,"creation_date":1552218367,"post_id":52977635,"comment_id":96919547,"body_markdown":"In the source &quot;\\u2013&quot; is alread converted to the UTF-8 character. What would be a correct representation of the problem is &quot;\\\\u2013&quot; as the text to be converted contains the backslash and each character individually.","body":"In the source &quot;\\u2013&quot; is alread converted to the UTF-8 character. What would be a correct representation of the problem is &quot;\\\\u2013&quot; as the text to be converted contains the backslash and each character individually."}],"tags":[],"owner":{"account_id":438602,"reputation":5680,"user_id":3538289,"display_name":"cevaris"},"comment_count":3,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1540413743,"creation_date":1540413743,"answer_id":52977635,"question_id":13700333,"body_markdown":"Perhaps the following solution which decodes the string correctly without any additional dependencies.\r\n\r\nThis works in a scala repl, though should work just as good in Java only solution. \r\n\r\n\r\n    import java.nio.charset.StandardCharsets\r\n    import java.nio.charset.Charset\r\n    \r\n    &gt; StandardCharsets.UTF_8.decode(Charset.forName(&quot;UTF-8&quot;).encode(&quot;Dodd\\u2013Frank&quot;))\r\n    res: java.nio.CharBuffer = Dodd–Frank\r\n\r\n","title":"Convert escaped Unicode character back to actual character","body":"<p>Perhaps the following solution which decodes the string correctly without any additional dependencies.</p>\n\n<p>This works in a scala repl, though should work just as good in Java only solution. </p>\n\n<pre><code>import java.nio.charset.StandardCharsets\nimport java.nio.charset.Charset\n\n&gt; StandardCharsets.UTF_8.decode(Charset.forName(\"UTF-8\").encode(\"Dodd\\u2013Frank\"))\nres: java.nio.CharBuffer = Dodd–Frank\n</code></pre>\n"},{"comments":[{"owner":{"account_id":285018,"reputation":1609,"user_id":583446,"display_name":"Chris Wolf"},"score":0,"creation_date":1680737266,"post_id":64686811,"comment_id":133950853,"body_markdown":"`UnicodeUnescaper().translate(...)` needs a `writer` presumably a `StringWriter` - you may as well just use `import org.apache.commons.text.StringEscapeUtils.unescapeJava` from `commons-text`.","body":"<code>UnicodeUnescaper().translate(...)</code> needs a <code>writer</code> presumably a <code>StringWriter</code> - you may as well just use <code>import org.apache.commons.text.StringEscapeUtils.unescapeJava</code> from <code>commons-text</code>."}],"tags":[],"owner":{"account_id":6110762,"reputation":695,"user_id":4767134,"display_name":"anton"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604519489,"creation_date":1604519489,"answer_id":64686811,"question_id":13700333,"body_markdown":"`UnicodeUnescaper` from `org.apache.commons:commons-text` is also acceptable.\r\n\r\n```new UnicodeUnescaper().translate(&quot;Dodd\\u2013Frank&quot;)```","title":"Convert escaped Unicode character back to actual character","body":"<p><code>UnicodeUnescaper</code> from <code>org.apache.commons:commons-text</code> is also acceptable.</p>\n<p><code>new UnicodeUnescaper().translate(&quot;Dodd\\u2013Frank&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":11015591,"reputation":370,"user_id":8091544,"display_name":"user8091544"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623393643,"creation_date":1623393643,"answer_id":67932324,"question_id":13700333,"body_markdown":"try\r\n\r\n&gt; str = org.apache.commons.text.StringEscapeUtils.unescapeJava(str);\r\n\r\n \r\n\r\nas org.apache.commons.lang3.StringEscapeUtils is deprecated.","title":"Convert escaped Unicode character back to actual character","body":"<p>try</p>\n<blockquote>\n<p>str = org.apache.commons.text.StringEscapeUtils.unescapeJava(str);</p>\n</blockquote>\n<p>as org.apache.commons.lang3.StringEscapeUtils is deprecated.</p>\n"}],"owner":{"account_id":12615,"reputation":19244,"user_id":24949,"accept_rate":95,"display_name":"Sudar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65202,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":13700590,"answer_count":8,"score":35,"last_activity_date":1687225219,"creation_date":1354615449,"question_id":13700333,"body_markdown":"I have the following value in a string variable in Java which has UTF-8 characters encoded like below\r\n\r\n    Dodd\\u2013Frank\r\n\r\ninstead of\r\n\r\n    Dodd–Frank\r\n\r\n(Assume that I don&#39;t have control over how this value is assigned to this string variable)\r\n\r\nNow how do I convert (encode) it properly and store it back in a `String` variable?\r\n\r\nI found the following code\r\n\r\n    Charset.forName(&quot;UTF-8&quot;).encode(str);\r\n\r\nBut this returns a `ByteBuffer`, but I want a `String` back.\r\n\r\n**Edit**:\r\n\r\nSome more additional information.\r\n\r\nWhen I use `System.out.println(str);` I get \r\n\r\n    Dodd\\u2013Frank\r\n\r\nI am not sure what is the correct terminology (UTF-8 or unicode). Pardon me for that.","title":"Convert escaped Unicode character back to actual character","body":"<p>I have the following value in a string variable in Java which has UTF-8 characters encoded like below</p>\n\n<pre><code>Dodd\\u2013Frank\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>Dodd–Frank\n</code></pre>\n\n<p>(Assume that I don't have control over how this value is assigned to this string variable)</p>\n\n<p>Now how do I convert (encode) it properly and store it back in a <code>String</code> variable?</p>\n\n<p>I found the following code</p>\n\n<pre><code>Charset.forName(\"UTF-8\").encode(str);\n</code></pre>\n\n<p>But this returns a <code>ByteBuffer</code>, but I want a <code>String</code> back.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>Some more additional information.</p>\n\n<p>When I use <code>System.out.println(str);</code> I get </p>\n\n<pre><code>Dodd\\u2013Frank\n</code></pre>\n\n<p>I am not sure what is the correct terminology (UTF-8 or unicode). Pardon me for that.</p>\n"},{"tags":["java","jar","out-of-memory"],"answers":[{"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1687219495,"post_id":76510643,"comment_id":134903072,"body_markdown":"Also, with older algorithms like Mark and Sweep your memory could be fragmented, and when you ask it to allocate RAM that is too big for your copy collectors (in a generational GC) to handle it goes straight to the Old memory under mark and sweep, but if this memory is too fragmented to support allocating that huge object you might get an OOM, or worse: a full collection.","body":"Also, with older algorithms like Mark and Sweep your memory could be fragmented, and when you ask it to allocate RAM that is too big for your copy collectors (in a generational GC) to handle it goes straight to the Old memory under mark and sweep, but if this memory is too fragmented to support allocating that huge object you might get an OOM, or worse: a full collection."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687218823,"creation_date":1687218823,"answer_id":76510643,"question_id":76510428,"body_markdown":"Out of memory means __the java heap__ is full and garbage collecting it doesn&#39;t release a significant amount of that.\r\n\r\nThe java heap is its own, more or less constant sized batch of memory. It&#39;s, at its largest, equal to whatever you passed with the `-Xmx` option (e.g. if you run `java -Xmx1g` it&#39;s 1 gigabyte worth of memory). If you don&#39;t use the `-Xmx` option it depends on your platform and the mode the JVM is in, but, oversimplifying quite a bit, it&#39;s still not quite &#39;as much as your machine can handle&#39;.\r\n\r\nMore generally most OS platforms (notably, __not__ iOS) use swap: You have huge swaths of apparent memory because the system will shift pages to disk and back as needed. A JVM doesn&#39;t take that much memory (JVMs would perform very very badly) - instead of getting stuck swapping memory pages between disk and main memory, it just aborts with an OutOfMemory.\r\n\r\nThe point is: __The system is just peachy fine and can run whatever you want__.\r\n\r\nThe `-XX:OnOutOfMemoryError` runs __a system command__. _Not_ java code. Even if you use it to run e.g. `java -jar myjar.jar OutOfMemoryTrigger`, that starts an entirely new JVM completely separate from the OOMing JVM. Your host system _might_ not be able to do that (for example, if you have no swap and you gave every inch of RAM to the OOMing JVM). In that case, on some OSes your OOMing JVM gets hardkilled by the OS first which is a bit awkward - it&#39;s also possible the JVM will wipe out its heap (it&#39;s dying/dead - there is no point to it now) and _then_ run the OnOOM command.\r\n\r\nOnOutOfMemoryError&#39;s purpose is to trigger e.g. a watchdog - something that logs a problem or sends a notification to sysadmins that the system has gone down and needs urgent attention.\r\n\r\nThe heap dump thing is easy - the code that does that isn&#39;t java code (it&#39;s the JVM core code), that code is already (and always) in memory (it&#39;s basically `java.exe` itself, not any code from jars/jmods/class files), and only uses memory the system _always_ reserves for core ops. Using this option _does not_ mean that your JVM has a few megs less vs. not using this option.\r\n","title":"How does -XX:OnOutOfMemoryError on OOM?","body":"<p>Out of memory means <strong>the java heap</strong> is full and garbage collecting it doesn't release a significant amount of that.</p>\n<p>The java heap is its own, more or less constant sized batch of memory. It's, at its largest, equal to whatever you passed with the <code>-Xmx</code> option (e.g. if you run <code>java -Xmx1g</code> it's 1 gigabyte worth of memory). If you don't use the <code>-Xmx</code> option it depends on your platform and the mode the JVM is in, but, oversimplifying quite a bit, it's still not quite 'as much as your machine can handle'.</p>\n<p>More generally most OS platforms (notably, <strong>not</strong> iOS) use swap: You have huge swaths of apparent memory because the system will shift pages to disk and back as needed. A JVM doesn't take that much memory (JVMs would perform very very badly) - instead of getting stuck swapping memory pages between disk and main memory, it just aborts with an OutOfMemory.</p>\n<p>The point is: <strong>The system is just peachy fine and can run whatever you want</strong>.</p>\n<p>The <code>-XX:OnOutOfMemoryError</code> runs <strong>a system command</strong>. <em>Not</em> java code. Even if you use it to run e.g. <code>java -jar myjar.jar OutOfMemoryTrigger</code>, that starts an entirely new JVM completely separate from the OOMing JVM. Your host system <em>might</em> not be able to do that (for example, if you have no swap and you gave every inch of RAM to the OOMing JVM). In that case, on some OSes your OOMing JVM gets hardkilled by the OS first which is a bit awkward - it's also possible the JVM will wipe out its heap (it's dying/dead - there is no point to it now) and <em>then</em> run the OnOOM command.</p>\n<p>OnOutOfMemoryError's purpose is to trigger e.g. a watchdog - something that logs a problem or sends a notification to sysadmins that the system has gone down and needs urgent attention.</p>\n<p>The heap dump thing is easy - the code that does that isn't java code (it's the JVM core code), that code is already (and always) in memory (it's basically <code>java.exe</code> itself, not any code from jars/jmods/class files), and only uses memory the system <em>always</em> reserves for core ops. Using this option <em>does not</em> mean that your JVM has a few megs less vs. not using this option.</p>\n"},{"tags":[],"owner":{"account_id":27127250,"reputation":75,"user_id":20670058,"display_name":"Heath Morgan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687224153,"creation_date":1687223681,"answer_id":76510837,"question_id":76510428,"body_markdown":"Adding to rzwitserloot&#39;s [answer](https://stackoverflow.com/a/76510643/139985) ...\r\n\r\nIt&#39;s important to understand that there are different types of memory being used.  There&#39;s the OS memory where everything lives, but then the JVM has different areas of memory, and the Heap is just one part of it.\r\n\r\nSome of these links explain that better than I could:\r\n\r\n - https://www.tutorialspoint.com/Java-JVM-Memory-Types\r\n - https://www.baeldung.com/java-jvm-memory-types\r\n - https://spring.io/blog/2019/03/11/memory-footprint-of-the-jvm\r\n\r\nWe mostly think about the Heap because that&#39;s where the Java objects are created.  Garbage Collection is mostly about recovering space there after they are no longer in use, so we can create more objects later.  The Heap is likely the largest area of memory in use by the JVM, however there are other areas that get used for other purposes as described in those links.\r\n\r\nSince the Heap is just a portion of the memory used by the JVM, and all of that is just a portion of the OS/system memory, there will likely be enough system memory to run your command in the `-XX:OnOutOfMemoryError`, because (as rzwitserloot pointed out) what runs is actually a different process.  Hopefully it&#39;s not a huge program; in my work experience, we just killed the java process (e.g. `kill -9 %p`) after dumping heap.\r\n\r\nIt&#39;s also interesting that if you get an `OutOfMemoryError`, it does not necessarily mean that there is absolutely zero heap left. It could mean that a threshold was exceeded where the JVM has decided that it&#39;s not making enough progress... that it&#39;s having to do more Garbage Collection than is reasonable to keep continuing, and that it might as well give up.  See https://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded for more discussion on that.","title":"How does -XX:OnOutOfMemoryError on OOM?","body":"<p>Adding to rzwitserloot's <a href=\"https://stackoverflow.com/a/76510643/139985\">answer</a> ...</p>\n<p>It's important to understand that there are different types of memory being used.  There's the OS memory where everything lives, but then the JVM has different areas of memory, and the Heap is just one part of it.</p>\n<p>Some of these links explain that better than I could:</p>\n<ul>\n<li><a href=\"https://www.tutorialspoint.com/Java-JVM-Memory-Types\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/Java-JVM-Memory-Types</a></li>\n<li><a href=\"https://www.baeldung.com/java-jvm-memory-types\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-jvm-memory-types</a></li>\n<li><a href=\"https://spring.io/blog/2019/03/11/memory-footprint-of-the-jvm\" rel=\"nofollow noreferrer\">https://spring.io/blog/2019/03/11/memory-footprint-of-the-jvm</a></li>\n</ul>\n<p>We mostly think about the Heap because that's where the Java objects are created.  Garbage Collection is mostly about recovering space there after they are no longer in use, so we can create more objects later.  The Heap is likely the largest area of memory in use by the JVM, however there are other areas that get used for other purposes as described in those links.</p>\n<p>Since the Heap is just a portion of the memory used by the JVM, and all of that is just a portion of the OS/system memory, there will likely be enough system memory to run your command in the <code>-XX:OnOutOfMemoryError</code>, because (as rzwitserloot pointed out) what runs is actually a different process.  Hopefully it's not a huge program; in my work experience, we just killed the java process (e.g. <code>kill -9 %p</code>) after dumping heap.</p>\n<p>It's also interesting that if you get an <code>OutOfMemoryError</code>, it does not necessarily mean that there is absolutely zero heap left. It could mean that a threshold was exceeded where the JVM has decided that it's not making enough progress... that it's having to do more Garbage Collection than is reasonable to keep continuing, and that it might as well give up.  See <a href=\"https://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded\">Error java.lang.OutOfMemoryError: GC overhead limit exceeded</a> for more discussion on that.</p>\n"}],"owner":{"account_id":28854054,"reputation":3,"user_id":22099258,"display_name":"Devansh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76510643,"answer_count":2,"score":0,"last_activity_date":1687224153,"creation_date":1687214343,"question_id":76510428,"body_markdown":"How does the -XX:OnOutOfMemoryError flag work in Java? When an OOM occurs that means there&#39;s no space to allocate for new objects? So if I run a script on OOM, how are the objects created by the script handled?\r\n\r\nEven  -XX:+HeapDumpOnOutOfMemoryError, how does the system have enough memory to generate a heap dump and save it, even though the system just OOM&#39;ed?\r\n\r\nI tried looking online for documentation but haven&#39;t really found anything. One guess I have is that if a system has 100MB of space, it actually reserves like 1MB for the memory taken by the -XX:OnOutOfMemoryError flag, so even though you have 100MB of memory, you would OOM on 99MB.","title":"How does -XX:OnOutOfMemoryError on OOM?","body":"<p>How does the -XX:OnOutOfMemoryError flag work in Java? When an OOM occurs that means there's no space to allocate for new objects? So if I run a script on OOM, how are the objects created by the script handled?</p>\n<p>Even  -XX:+HeapDumpOnOutOfMemoryError, how does the system have enough memory to generate a heap dump and save it, even though the system just OOM'ed?</p>\n<p>I tried looking online for documentation but haven't really found anything. One guess I have is that if a system has 100MB of space, it actually reserves like 1MB for the memory taken by the -XX:OnOutOfMemoryError flag, so even though you have 100MB of memory, you would OOM on 99MB.</p>\n"},{"tags":["java","spring","spring-mvc","architecture","spring-hateoas"],"answers":[{"tags":[],"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539611352,"creation_date":1437966005,"answer_id":31644334,"question_id":31644131,"body_markdown":"DTO ( Data Transfer Object) as obvious in its name, is used for transfering data out of your application. In your case the best place to put them is in your controller layer.\r\nYou should only expose DTO&#39;s to UI and when you get a data from UI you should convert it to the business entity and call the below tier.\r\nThe reason is, in this way you are free to change the business entitiy without breaking UI and leads to better maintenance. Also your business/DAO tier should be unaware of UI and DTO&#39;s for the same reason.\r\nSo the best place to convert DTO to Business Entities and vice versa in your app is Controller tier.\r\n\r\nPS:Take a look at [Dozer][1] too ;)\r\n\r\n\r\n  [1]: http://dozer.sourceforge.net","title":"Spring DTO-DAO (Resource - entity) mapping goes in which application layer: Controller or Service?","body":"<p>DTO ( Data Transfer Object) as obvious in its name, is used for transfering data out of your application. In your case the best place to put them is in your controller layer.\nYou should only expose DTO's to UI and when you get a data from UI you should convert it to the business entity and call the below tier.\nThe reason is, in this way you are free to change the business entitiy without breaking UI and leads to better maintenance. Also your business/DAO tier should be unaware of UI and DTO's for the same reason.\nSo the best place to convert DTO to Business Entities and vice versa in your app is Controller tier.</p>\n\n<p>PS:Take a look at <a href=\"http://dozer.sourceforge.net\" rel=\"nofollow noreferrer\">Dozer</a> too ;)</p>\n"},{"comments":[{"owner":{"account_id":1525289,"reputation":471,"user_id":1423896,"accept_rate":60,"display_name":"Tiksi"},"score":0,"creation_date":1438059798,"post_id":31650761,"comment_id":51279096,"body_markdown":"Are you suggesting that I should actually implement 3 parallel models: DAO (e.g. `OrderDao`), DTO (e.g. `OrderPlacedTo`) and Resource (e.g. `OrderPlacedResource`)? This does address my concerns about the service being controller-aware (and vice versa), but as the data model grows this could spiral out of control.","body":"Are you suggesting that I should actually implement 3 parallel models: DAO (e.g. <code>OrderDao</code>), DTO (e.g. <code>OrderPlacedTo</code>) and Resource (e.g. <code>OrderPlacedResource</code>)? This does address my concerns about the service being controller-aware (and vice versa), but as the data model grows this could spiral out of control."}],"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612857750,"creation_date":1437992986,"answer_id":31650761,"question_id":31644131,"body_markdown":"**A note** At the time I wrote this answer I assumed that the DTO&#39;s you are talking about are request and response objects of the service layer. Thus I use the term DTO in this way and the term resource objects for your &#39;DTO&#39; objects. I don&#39;t want to edit the whole answer right now. Therefore this hint.\r\n\r\n&gt; where should I be mapping my DAO entities to DTO resources? \r\n\r\nIn the service layer. Normally the service layer implements use cases and is the transaction boundary. \r\n\r\nE.g. \r\n\r\n    @Transactional\r\n    public OrderPlacedTO placeOrder(ShoppingCartTO cart)[\r\n       OrderDao orderDao = ...\r\n       // implement your use case here\r\n       ...\r\n    }\r\n\r\n&gt; I wish to add Link elements to the returned resource (for self and related resources), but can&#39;t see how Link elements would be resolved if processed in the Service without it having knowledge of the Controller and it&#39;s @RequestMapping\r\n\r\nYou are right. These information is only available in the controller. You can add a resource model, like a normal ui model.\r\n\r\nE.g.\r\n\r\n    public class OrderPlacedRessource extends ResourceSupport {\r\n       \r\n        private Long oderNumber;\r\n        \r\n        public void setOrderNumber(Long orderNumber){ this.orderNumber = orderNumber; }\r\n        public Long getOrderNumber() { return this.orderNumber }\r\n    }\r\n\r\nand in your controller you can then use it and add links\r\n\r\n    @RequestMapping(&quot;/placeOrder&quot;)\r\n    public @ResponseBody OrderPlacedRessource placeOrderAction(HttpServletRequest request){\r\n       OrderService service = ...;\r\n       ShoppingCartTO cart = ...;\r\n\r\n       OrderPlacedTO orderPlacedTO = service.placeOrder(cart);\r\n       OrderPlacedRessource orderPlacedRes = new OrderPlacedModel();\r\n\r\n       orderPlacedRes.setOrderNumber(orderPlacedTO.getOrderNumber());\r\n\r\n       // since orderPlacedRes is a RessourceSupport we can add links\r\n       // Use the HttpServletRequest to build your links\r\n       Link link = new Link(&quot;http://localhost:8080/something&quot;);\r\n       orderPlacedRes.addLink(link);\r\n\r\n       return orderPlacedRes;\r\n    }\r\n\r\nPS: Building links is easier if you use a `org.springframework.hateoas.mvc.ControllerLinkBuilder`. E.g\r\n\r\n    orderPlacedRes.add(linkTo(methodOn(YourController.class).orderOverview(userId)).withSelfRel());\r\n\r\nSee [Building a Hypermedia-Driven RESTful Web Service][1] for details.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/rest-hateoas/?utm_source=InfoQ&amp;utm_medium=topic-sponsorship&amp;utm_campaign=spring-Q42013&amp;utm_content=lp-getting-started-Building-a-Hypermedia-Driven-RESTful-Web-Service","title":"Spring DTO-DAO (Resource - entity) mapping goes in which application layer: Controller or Service?","body":"<p><strong>A note</strong> At the time I wrote this answer I assumed that the DTO's you are talking about are request and response objects of the service layer. Thus I use the term DTO in this way and the term resource objects for your 'DTO' objects. I don't want to edit the whole answer right now. Therefore this hint.</p>\n<blockquote>\n<p>where should I be mapping my DAO entities to DTO resources?</p>\n</blockquote>\n<p>In the service layer. Normally the service layer implements use cases and is the transaction boundary.</p>\n<p>E.g.</p>\n<pre><code>@Transactional\npublic OrderPlacedTO placeOrder(ShoppingCartTO cart)[\n   OrderDao orderDao = ...\n   // implement your use case here\n   ...\n}\n</code></pre>\n<blockquote>\n<p>I wish to add Link elements to the returned resource (for self and related resources), but can't see how Link elements would be resolved if processed in the Service without it having knowledge of the Controller and it's @RequestMapping</p>\n</blockquote>\n<p>You are right. These information is only available in the controller. You can add a resource model, like a normal ui model.</p>\n<p>E.g.</p>\n<pre><code>public class OrderPlacedRessource extends ResourceSupport {\n   \n    private Long oderNumber;\n    \n    public void setOrderNumber(Long orderNumber){ this.orderNumber = orderNumber; }\n    public Long getOrderNumber() { return this.orderNumber }\n}\n</code></pre>\n<p>and in your controller you can then use it and add links</p>\n<pre><code>@RequestMapping(&quot;/placeOrder&quot;)\npublic @ResponseBody OrderPlacedRessource placeOrderAction(HttpServletRequest request){\n   OrderService service = ...;\n   ShoppingCartTO cart = ...;\n\n   OrderPlacedTO orderPlacedTO = service.placeOrder(cart);\n   OrderPlacedRessource orderPlacedRes = new OrderPlacedModel();\n\n   orderPlacedRes.setOrderNumber(orderPlacedTO.getOrderNumber());\n\n   // since orderPlacedRes is a RessourceSupport we can add links\n   // Use the HttpServletRequest to build your links\n   Link link = new Link(&quot;http://localhost:8080/something&quot;);\n   orderPlacedRes.addLink(link);\n\n   return orderPlacedRes;\n}\n</code></pre>\n<p>PS: Building links is easier if you use a <code>org.springframework.hateoas.mvc.ControllerLinkBuilder</code>. E.g</p>\n<pre><code>orderPlacedRes.add(linkTo(methodOn(YourController.class).orderOverview(userId)).withSelfRel());\n</code></pre>\n<p>See <a href=\"https://spring.io/guides/gs/rest-hateoas/?utm_source=InfoQ&amp;utm_medium=topic-sponsorship&amp;utm_campaign=spring-Q42013&amp;utm_content=lp-getting-started-Building-a-Hypermedia-Driven-RESTful-Web-Service\" rel=\"nofollow noreferrer\">Building a Hypermedia-Driven RESTful Web Service</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687223815,"creation_date":1457101828,"answer_id":35798539,"question_id":31644131,"body_markdown":"You can meet different approach from where a mapping can be called.\r\nSee this tutorial for example: http://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application or question: http://forum.spring.io/forum/other-spring-related/architecture/56753-controller-vs-service-vs-private-method-on-command-object. It also depends on how much logic are in your controllers.\r\n\r\nI prefer mapping Entity&lt;-&gt;DTO in util classes. And you are relatively free to choose, where from you call them. It seems that &quot;The best design is the simplest design that works&quot; - Einstein. Similar article about necessity of DTO:\r\nhttps://stackoverflow.com/questions/21554977/should-services-always-return-dtos-or-can-they-also-return-domain-models","title":"Spring DTO-DAO (Resource - entity) mapping goes in which application layer: Controller or Service?","body":"<p>You can meet different approach from where a mapping can be called.\nSee this tutorial for example: <a href=\"http://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">http://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application</a> or question: <a href=\"http://forum.spring.io/forum/other-spring-related/architecture/56753-controller-vs-service-vs-private-method-on-command-object\" rel=\"nofollow noreferrer\">http://forum.spring.io/forum/other-spring-related/architecture/56753-controller-vs-service-vs-private-method-on-command-object</a>. It also depends on how much logic are in your controllers.</p>\n<p>I prefer mapping Entity&lt;-&gt;DTO in util classes. And you are relatively free to choose, where from you call them. It seems that &quot;The best design is the simplest design that works&quot; - Einstein. Similar article about necessity of DTO:\n<a href=\"https://stackoverflow.com/questions/21554977/should-services-always-return-dtos-or-can-they-also-return-domain-models\">Should services always return DTOs, or can they also return domain models?</a></p>\n"},{"tags":[],"owner":{"account_id":23031,"reputation":10957,"user_id":57423,"accept_rate":78,"display_name":"Bhushan Bhangale"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457103679,"creation_date":1457103679,"answer_id":35799161,"question_id":31644131,"body_markdown":"My opinion is to do the mapping in Controller layer as this layer is responsible for input/output. The service layer should be independent so that the same can be used to develop another interface.\r\n\r\nNot much clutter will happen in Controller if you create Mapper classes and just them in your Controller layer.","title":"Spring DTO-DAO (Resource - entity) mapping goes in which application layer: Controller or Service?","body":"<p>My opinion is to do the mapping in Controller layer as this layer is responsible for input/output. The service layer should be independent so that the same can be used to develop another interface.</p>\n\n<p>Not much clutter will happen in Controller if you create Mapper classes and just them in your Controller layer.</p>\n"}],"owner":{"account_id":1525289,"reputation":471,"user_id":1423896,"accept_rate":60,"display_name":"Tiksi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15233,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1687223815,"creation_date":1437964235,"question_id":31644131,"body_markdown":"I&#39;m writing a Spring (4.1.7) web application that exposes a RESTful service and wish to use DTO &quot;resource&quot; objects for communication between Controller and client browser rather than expose my persistence entities.\r\n\r\nCurrently the application has the following layers:\r\n\r\n - View (JSP/JSON)\r\n - Controller(s)\r\n - DAO (`@Service`)\r\n - DAO (`@Repository`)\r\n  \r\n\r\nMy question is, where should I be mapping my DAO entities to DTO resources? I had a look at some examples using `Spring HATEOAS` and they show `Resource` objects extending `ResourceSupport` being mapped in the `Controller`. Is this the best way to do it, or should I be returning resources from the DAO Service?\r\n\r\n\r\nI wish to add `Link` elements to the returned resource (for self and related resources), but can&#39;t see how `Link` elements would be resolved if processed in the `Service` without it having knowledge of the `Controller` and it&#39;s `@RequestMapping`. On the other hand, I don&#39;t know if it&#39;s good practice to clutter the `Controller` with the mapping either.","title":"Spring DTO-DAO (Resource - entity) mapping goes in which application layer: Controller or Service?","body":"<p>I'm writing a Spring (4.1.7) web application that exposes a RESTful service and wish to use DTO \"resource\" objects for communication between Controller and client browser rather than expose my persistence entities.</p>\n\n<p>Currently the application has the following layers:</p>\n\n<ul>\n<li>View (JSP/JSON)</li>\n<li>Controller(s)</li>\n<li>DAO (<code>@Service</code>)</li>\n<li>DAO (<code>@Repository</code>)</li>\n</ul>\n\n<p>My question is, where should I be mapping my DAO entities to DTO resources? I had a look at some examples using <code>Spring HATEOAS</code> and they show <code>Resource</code> objects extending <code>ResourceSupport</code> being mapped in the <code>Controller</code>. Is this the best way to do it, or should I be returning resources from the DAO Service?</p>\n\n<p>I wish to add <code>Link</code> elements to the returned resource (for self and related resources), but can't see how <code>Link</code> elements would be resolved if processed in the <code>Service</code> without it having knowledge of the <code>Controller</code> and it's <code>@RequestMapping</code>. On the other hand, I don't know if it's good practice to clutter the <code>Controller</code> with the mapping either.</p>\n"},{"tags":["java","amazon-s3","java.nio.file","s3fs-nio"],"comments":[{"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"score":0,"creation_date":1481613798,"post_id":41113119,"comment_id":69435189,"body_markdown":"There seems not to be an offical `java.nio.file` implementation for Azure. What you want to do using a cloud implementation for Java NIO?","body":"There seems not to be an offical <code>java.nio.file</code> implementation for Azure. What you want to do using a cloud implementation for Java NIO?"},{"owner":{"account_id":9181659,"reputation":1756,"user_id":6825250,"display_name":"Sergey Bespalov"},"score":1,"creation_date":1481615259,"post_id":41113119,"comment_id":69435843,"body_markdown":"I need this as an abstraction for different types of storages.","body":"I need this as an abstraction for different types of storages."},{"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"score":0,"creation_date":1481616344,"post_id":41113119,"comment_id":69436399,"body_markdown":"I got it, but there is nothing. The only way is defining your own apis to implement the wrapper for the different types of storage.","body":"I got it, but there is nothing. The only way is defining your own apis to implement the wrapper for the different types of storage."},{"owner":{"account_id":1876444,"reputation":2828,"user_id":1697575,"accept_rate":100,"display_name":"user1697575"},"score":0,"creation_date":1551124126,"post_id":41113119,"comment_id":96517258,"body_markdown":"I&#39;m also looking to abstract away non-standard AWS S3 APIs and somehow hide it behind &quot;volume services&quot; or Java NIO classes","body":"I&#39;m also looking to abstract away non-standard AWS S3 APIs and somehow hide it behind &quot;volume services&quot; or Java NIO classes"}],"answers":[{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":1,"creation_date":1684888532,"post_id":54873780,"comment_id":134582395,"body_markdown":"This library is no longer maintained. We have made a spin-off project inspired by it and based on its original code base. Please, see my answer below for more details.","body":"This library is no longer maintained. We have made a spin-off project inspired by it and based on its original code base. Please, see my answer below for more details."}],"tags":[],"owner":{"account_id":1876444,"reputation":2828,"user_id":1697575,"accept_rate":100,"display_name":"user1697575"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551124812,"creation_date":1551124812,"answer_id":54873780,"question_id":41113119,"body_markdown":"You can try using [Amazon AWS S3 FileSystem Provider JSR-203 for Java 7 (NIO2)][1]\r\n\r\n**Download from Maven Central**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.upplication&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;s3fs&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nadd to your META-INF/services/java.nio.file.spi.FileSystemProvider (create if not exists yet) a new line like this: com.upplication.s3fs.S3FileSystemProvider.\r\n\r\n**Use this code to create the fileSystem and set to a concrete endpoint.**\r\n\r\n    FileSystems.newFileSystem(&quot;s3:///&quot;, new HashMap&lt;String,Object&gt;(), Thread.currentThread().getContextClassLoader());\r\n\r\n**How to use in Apache MINA**\r\n\r\n    public FileSystemFactory createFileSystemFactory(String bucketName) throws IOException, URISyntaxException {\r\n        FileSystem fileSystem = FileSystems.newFileSystem(new URI(&quot;s3:///&quot;), env, Thread.currentThread().getContextClassLoader());\r\n        String bucketPath = fileSystem.getPath(&quot;/&quot; + bucketName);\r\n    \r\n        return new VirtualFileSystemFactory(bucketPath);\r\n    }\r\n\r\n**How to use in Spring**\r\n\r\nAdd to classpath and configure:\r\n\r\n    @Configuration\r\n    public class AwsConfig {\r\n    \r\n        @Value(&quot;${upplication.aws.accessKey}&quot;)\r\n        private String accessKey;\r\n    \r\n        @Value(&quot;${upplication.aws.secretKey}&quot;)\r\n        private String secretKey;\r\n    \r\n        @Bean\r\n        public FileSystem s3FileSystem() throws IOException {\r\n            Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n            env.put(com.upplication.s3fs.AmazonS3Factory.ACCESS_KEY, accessKey);\r\n            env.put(com.upplication.s3fs.AmazonS3Factory.SECRET_KEY, secretKey);\r\n    \r\n            return FileSystems.newFileSystem(URI.create(&quot;s3:///&quot;), env, Thread.currentThread().getContextClassLoader());\r\n        }\r\n    }\r\n\r\n**Inject in any spring component:**\r\n\r\n    @Autowired\r\n    private FileSystem s3FileSystem;\r\n\r\n[1]: https://github.com/Upplication/Amazon-S3-FileSystem-NIO2","title":"java.nio.file implementation for AWS","body":"<p>You can try using <a href=\"https://github.com/Upplication/Amazon-S3-FileSystem-NIO2\" rel=\"nofollow noreferrer\">Amazon AWS S3 FileSystem Provider JSR-203 for Java 7 (NIO2)</a></p>\n\n<p><strong>Download from Maven Central</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.upplication&lt;/groupId&gt;\n    &lt;artifactId&gt;s3fs&lt;/artifactId&gt;\n    &lt;version&gt;2.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>add to your META-INF/services/java.nio.file.spi.FileSystemProvider (create if not exists yet) a new line like this: com.upplication.s3fs.S3FileSystemProvider.</p>\n\n<p><strong>Use this code to create the fileSystem and set to a concrete endpoint.</strong></p>\n\n<pre><code>FileSystems.newFileSystem(\"s3:///\", new HashMap&lt;String,Object&gt;(), Thread.currentThread().getContextClassLoader());\n</code></pre>\n\n<p><strong>How to use in Apache MINA</strong></p>\n\n<pre><code>public FileSystemFactory createFileSystemFactory(String bucketName) throws IOException, URISyntaxException {\n    FileSystem fileSystem = FileSystems.newFileSystem(new URI(\"s3:///\"), env, Thread.currentThread().getContextClassLoader());\n    String bucketPath = fileSystem.getPath(\"/\" + bucketName);\n\n    return new VirtualFileSystemFactory(bucketPath);\n}\n</code></pre>\n\n<p><strong>How to use in Spring</strong></p>\n\n<p>Add to classpath and configure:</p>\n\n<pre><code>@Configuration\npublic class AwsConfig {\n\n    @Value(\"${upplication.aws.accessKey}\")\n    private String accessKey;\n\n    @Value(\"${upplication.aws.secretKey}\")\n    private String secretKey;\n\n    @Bean\n    public FileSystem s3FileSystem() throws IOException {\n        Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n        env.put(com.upplication.s3fs.AmazonS3Factory.ACCESS_KEY, accessKey);\n        env.put(com.upplication.s3fs.AmazonS3Factory.SECRET_KEY, secretKey);\n\n        return FileSystems.newFileSystem(URI.create(\"s3:///\"), env, Thread.currentThread().getContextClassLoader());\n    }\n}\n</code></pre>\n\n<p><strong>Inject in any spring component:</strong></p>\n\n<pre><code>@Autowired\nprivate FileSystem s3FileSystem;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685041349,"creation_date":1669659053,"answer_id":74604812,"question_id":41113119,"body_markdown":"An implementation of the `FileSystemProvider` SPI that uses asynchronous read-ahead buffering is available [from github][1] and [from Maven Central][2]. This library supports reads and writes.\r\n\r\nYou can include it in a Maven project using:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;software.amazon.nio.s3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-nio-spi-for-s3&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOr you can just place the JAR file on your classpath and the JVM will route all URIs with a scheme of `s3` to this provider.\r\n\r\n\r\n  [1]: https://github.com/awslabs/aws-java-nio-spi-for-s3\r\n  [2]: https://central.sonatype.dev/artifact/software.amazon.nio.s3/aws-java-nio-spi-for-s3/1.1.1","title":"java.nio.file implementation for AWS","body":"<p>An implementation of the <code>FileSystemProvider</code> SPI that uses asynchronous read-ahead buffering is available <a href=\"https://github.com/awslabs/aws-java-nio-spi-for-s3\" rel=\"nofollow noreferrer\">from github</a> and <a href=\"https://central.sonatype.dev/artifact/software.amazon.nio.s3/aws-java-nio-spi-for-s3/1.1.1\" rel=\"nofollow noreferrer\">from Maven Central</a>. This library supports reads and writes.</p>\n<p>You can include it in a Maven project using:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.nio.s3&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-nio-spi-for-s3&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Or you can just place the JAR file on your classpath and the JVM will route all URIs with a scheme of <code>s3</code> to this provider.</p>\n"},{"tags":[],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686048997,"creation_date":1684888443,"answer_id":76319398,"question_id":41113119,"body_markdown":"# General\r\n\r\nFor anyone interested, the [Upplication/Amazon-S3-FileSystem-NIO2](https://github.com/Upplication/Amazon-S3-FileSystem-NIO2) was abandoned a very long time ago. Pull requests and fixes are no longer accepted. Many developers forked it and made their fixes for their own purposes and then those forks died as well.\r\n\r\nWe decided to make a new new spin-off project -- not as a fork, but as a new project called [s3fs-nio](https://github.com/carlspring/s3fs-nio) that is based on [Upplication/Amazon-S3-FileSystem-NIO2](https://github.com/Upplication/Amazon-S3-FileSystem-NIO2)&#39;s `master`. You can find out more about the history and reasoning [here](https://s3fs-nio.carlspring.org/history/). We have tried to collect some of the more important fixes from forks and have added them to our project (with the authors&#39; permissions).\r\n\r\nOur spin-off uses AWS SDK for Java version 2.x and is under an Apache 2.0 license.\r\n\r\nThe documentation for configuring things can be found [here](https://s3fs-nio.carlspring.org/).\r\n\r\nCode examples are located [here](https://s3fs-nio.carlspring.org/reference/examples/basic-example/).\r\n\r\nWe&#39;ve now cut a release for `org.carlspring.cloud.aws:s3fs-nio:1.0.0` and this is available via Maven Central (https://repo.maven.apache.org/maven2/). Here are our [Release Notes](https://github.com/carlspring/s3fs-nio/releases/tag/v1.0.0).\r\n\r\nWe are also working on improving our [documentation](https://s3fs-nio.carlspring.org/) and contributions would be highly appreciated.\r\n\r\nWe would like to welcome you to test and report back any findings!\r\n\r\nFor those of you interested in contributing, there is plenty yet to be done and we&#39;d be more than happy to have you aboard!\r\n\r\n# Basic Example\r\n\r\nHere&#39;s a basic configuration:\r\n\r\n* Add the respective dependency (you can check the available versions [here](https://github.com/carlspring/s3fs-nio/releases)):\r\n  * For Maven:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.carlspring.cloud.aws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;s3fs-nio&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n   * For Gradle:\r\n```\r\nimplementation &#39;org.carlspring.cloud.aws:s3fs-nio:1.0.0&#39;\r\n```\r\n\r\n* Use a Service Locator and an `amazon.properties` file\r\nIn your `src/main/resources/amazon.properties`, add the following settings:\r\n\r\n```\r\ns3fs.access.key=access-key\r\ns3fs.secret.key=secret-key\r\n```\r\n\r\nUse the following code to create the FileSystem and set it to a specific end-point:\r\n\r\n```\r\nFileSystems.newFileSystem(URI.create(&quot;s3:///&quot;),\r\n                          new HashMap&lt;&gt;(),\r\n                          Thread.currentThread()\r\n                                .getContextClassLoader());\r\n```","title":"java.nio.file implementation for AWS","body":"<h1>General</h1>\n<p>For anyone interested, the <a href=\"https://github.com/Upplication/Amazon-S3-FileSystem-NIO2\" rel=\"nofollow noreferrer\">Upplication/Amazon-S3-FileSystem-NIO2</a> was abandoned a very long time ago. Pull requests and fixes are no longer accepted. Many developers forked it and made their fixes for their own purposes and then those forks died as well.</p>\n<p>We decided to make a new new spin-off project -- not as a fork, but as a new project called <a href=\"https://github.com/carlspring/s3fs-nio\" rel=\"nofollow noreferrer\">s3fs-nio</a> that is based on <a href=\"https://github.com/Upplication/Amazon-S3-FileSystem-NIO2\" rel=\"nofollow noreferrer\">Upplication/Amazon-S3-FileSystem-NIO2</a>'s <code>master</code>. You can find out more about the history and reasoning <a href=\"https://s3fs-nio.carlspring.org/history/\" rel=\"nofollow noreferrer\">here</a>. We have tried to collect some of the more important fixes from forks and have added them to our project (with the authors' permissions).</p>\n<p>Our spin-off uses AWS SDK for Java version 2.x and is under an Apache 2.0 license.</p>\n<p>The documentation for configuring things can be found <a href=\"https://s3fs-nio.carlspring.org/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Code examples are located <a href=\"https://s3fs-nio.carlspring.org/reference/examples/basic-example/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>We've now cut a release for <code>org.carlspring.cloud.aws:s3fs-nio:1.0.0</code> and this is available via Maven Central (<a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/</a>). Here are our <a href=\"https://github.com/carlspring/s3fs-nio/releases/tag/v1.0.0\" rel=\"nofollow noreferrer\">Release Notes</a>.</p>\n<p>We are also working on improving our <a href=\"https://s3fs-nio.carlspring.org/\" rel=\"nofollow noreferrer\">documentation</a> and contributions would be highly appreciated.</p>\n<p>We would like to welcome you to test and report back any findings!</p>\n<p>For those of you interested in contributing, there is plenty yet to be done and we'd be more than happy to have you aboard!</p>\n<h1>Basic Example</h1>\n<p>Here's a basic configuration:</p>\n<ul>\n<li>Add the respective dependency (you can check the available versions <a href=\"https://github.com/carlspring/s3fs-nio/releases\" rel=\"nofollow noreferrer\">here</a>):\n<ul>\n<li>For Maven:</li>\n</ul>\n</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.carlspring.cloud.aws&lt;/groupId&gt;\n    &lt;artifactId&gt;s3fs-nio&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>For Gradle:</li>\n</ul>\n<pre><code>implementation 'org.carlspring.cloud.aws:s3fs-nio:1.0.0'\n</code></pre>\n<ul>\n<li>Use a Service Locator and an <code>amazon.properties</code> file\nIn your <code>src/main/resources/amazon.properties</code>, add the following settings:</li>\n</ul>\n<pre><code>s3fs.access.key=access-key\ns3fs.secret.key=secret-key\n</code></pre>\n<p>Use the following code to create the FileSystem and set it to a specific end-point:</p>\n<pre><code>FileSystems.newFileSystem(URI.create(&quot;s3:///&quot;),\n                          new HashMap&lt;&gt;(),\n                          Thread.currentThread()\n                                .getContextClassLoader());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687223011,"creation_date":1687223011,"answer_id":76510803,"question_id":41113119,"body_markdown":"According to a [comment][1] on [S3: provide java.nio.FileSystem implementation #1388][2], someone just released v1.0.0 (now v1.0.1) of S3FS NIO at [carlspring /\r\ns3fs-nio][3] on GitHub. I haven&#39;t had a chance to try it out. If anyone does, please leave your experience here in the comments.\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/1388#issuecomment-1560274386\r\n  [2]: https://github.com/aws/aws-sdk-java-v2/issues/1388\r\n  [3]: https://github.com/carlspring/s3fs-nio","title":"java.nio.file implementation for AWS","body":"<p>According to a <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/1388#issuecomment-1560274386\" rel=\"nofollow noreferrer\">comment</a> on <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/1388\" rel=\"nofollow noreferrer\">S3: provide java.nio.FileSystem implementation #1388</a>, someone just released v1.0.0 (now v1.0.1) of S3FS NIO at <a href=\"https://github.com/carlspring/s3fs-nio\" rel=\"nofollow noreferrer\">carlspring /\ns3fs-nio</a> on GitHub. I haven't had a chance to try it out. If anyone does, please leave your experience here in the comments.</p>\n"}],"owner":{"account_id":9181659,"reputation":1756,"user_id":6825250,"display_name":"Sergey Bespalov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3500,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":76319398,"answer_count":4,"score":3,"last_activity_date":1687223011,"creation_date":1481598313,"question_id":41113119,"body_markdown":"Is there any official `java.nio.file` implementation for `AWS`? \r\n\r\nI found one for `GoogleCloudStorage` [here](https://github.com/GoogleCloudPlatform/google-cloud-java/tree/master/google-cloud-contrib/google-cloud-nio), and need similar for `AWS` and `Azure`.","title":"java.nio.file implementation for AWS","body":"<p>Is there any official <code>java.nio.file</code> implementation for <code>AWS</code>? </p>\n\n<p>I found one for <code>GoogleCloudStorage</code> <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-java/tree/master/google-cloud-contrib/google-cloud-nio\" rel=\"nofollow noreferrer\">here</a>, and need similar for <code>AWS</code> and <code>Azure</code>.</p>\n"},{"tags":["java","mysql","spring-jdbc"],"answers":[{"comments":[{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1687300062,"post_id":76510799,"comment_id":134916651,"body_markdown":"Thank you the second suggestion worked!","body":"Thank you the second suggestion worked!"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687222874,"creation_date":1687222874,"answer_id":76510799,"question_id":76510722,"body_markdown":"Your query has bind parameters for `id` and `order_id`, the other two fields are set to `now()` in the query. Change\r\n\r\n    insertData.add(new Object[] {id, order_id, created_time, updated_time});\r\n\r\nto\r\n\r\n    insertData.add(new Object[] {id, order_id});\r\n\r\n**or** change\r\n\r\n    private static final String INSERT_QUERY = &quot;insert into &quot;\r\n            + &quot;order_table(id,order_id,created_time,updated_time) &quot;\r\n            + &quot;VALUES(?,?,now(),now())&quot;;\r\n\r\nto\r\n\r\n    private static final String INSERT_QUERY = &quot;insert into &quot;\r\n            + &quot;order_table(id,order_id,created_time,updated_time) &quot;\r\n            + &quot;VALUES(?,?,?,?)&quot;;\r\n","title":"jdbcTemplateObject.batchUpdate() throws a TransientDataAccessResourceException Parameter index out of range (4 &gt; 3)","body":"<p>Your query has bind parameters for <code>id</code> and <code>order_id</code>, the other two fields are set to <code>now()</code> in the query. Change</p>\n<pre><code>insertData.add(new Object[] {id, order_id, created_time, updated_time});\n</code></pre>\n<p>to</p>\n<pre><code>insertData.add(new Object[] {id, order_id});\n</code></pre>\n<p><strong>or</strong> change</p>\n<pre><code>private static final String INSERT_QUERY = &quot;insert into &quot;\n        + &quot;order_table(id,order_id,created_time,updated_time) &quot;\n        + &quot;VALUES(?,?,now(),now())&quot;;\n</code></pre>\n<p>to</p>\n<pre><code>private static final String INSERT_QUERY = &quot;insert into &quot;\n        + &quot;order_table(id,order_id,created_time,updated_time) &quot;\n        + &quot;VALUES(?,?,?,?)&quot;;\n</code></pre>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76510799,"answer_count":1,"score":0,"last_activity_date":1687222874,"creation_date":1687220658,"question_id":76510722,"body_markdown":"Using `Java 1.8` and `Spring Framework 4.0.3-RELEASE`, I am trying to insert one row into a MySQL database, after obtaining values from external feed.\r\n\r\nTrying this:\r\n\r\n```\r\nprivate static JdbcTemplate jdbcTemplateObject = null;\r\nprivate static final String INSERT_QUERY = &quot;insert into order_table(id,order_id,created_time,updated_time)VALUES(?,?,now(),now())&quot;;\r\n\r\nparseFeedAndStoreIntoDB() {\r\n    List&lt;Object[]&gt; insertData = new ArrayList&lt;&gt;();\r\n    SqlRowSet sqlRowSet = null;\r\n\r\n    // id, order_id, created_time, updated_time have values \r\n    insertData.add(new Object[] {id, order_id, created_time, updated_time});\r\n    if (insertData.size() &gt; 0) {\r\n        // It breaks here\r\n        jdbcTemplateObject.batchUpdate(INSERT_QUERY, insertData);\r\n    }\r\n}\r\n```\r\n\r\nWhen I run this method, I get the following exception:\r\n\r\n```\r\nException in parseFeedAndStoreIntoDB() method\r\norg.springframework.dao.TransientDataAccessResourceException: PreparedStatementCallback; SQL \r\n[insert into order_table(id,order_id,created_time,updated_time)VALUES(?,?,now(), now());]; Parameter index out of range (4 &gt; 3).; nested exception is java.sql.SQLException: \r\nParameter index out of range (4 &gt; 3).\r\n```\r\n\r\nHave counted the rows and they are 4 in my Java code and also in the MySQL database table that I created.\r\n\r\n","title":"jdbcTemplateObject.batchUpdate() throws a TransientDataAccessResourceException Parameter index out of range (4 &gt; 3)","body":"<p>Using <code>Java 1.8</code> and <code>Spring Framework 4.0.3-RELEASE</code>, I am trying to insert one row into a MySQL database, after obtaining values from external feed.</p>\n<p>Trying this:</p>\n<pre><code>private static JdbcTemplate jdbcTemplateObject = null;\nprivate static final String INSERT_QUERY = &quot;insert into order_table(id,order_id,created_time,updated_time)VALUES(?,?,now(),now())&quot;;\n\nparseFeedAndStoreIntoDB() {\n    List&lt;Object[]&gt; insertData = new ArrayList&lt;&gt;();\n    SqlRowSet sqlRowSet = null;\n\n    // id, order_id, created_time, updated_time have values \n    insertData.add(new Object[] {id, order_id, created_time, updated_time});\n    if (insertData.size() &gt; 0) {\n        // It breaks here\n        jdbcTemplateObject.batchUpdate(INSERT_QUERY, insertData);\n    }\n}\n</code></pre>\n<p>When I run this method, I get the following exception:</p>\n<pre><code>Exception in parseFeedAndStoreIntoDB() method\norg.springframework.dao.TransientDataAccessResourceException: PreparedStatementCallback; SQL \n[insert into order_table(id,order_id,created_time,updated_time)VALUES(?,?,now(), now());]; Parameter index out of range (4 &gt; 3).; nested exception is java.sql.SQLException: \nParameter index out of range (4 &gt; 3).\n</code></pre>\n<p>Have counted the rows and they are 4 in my Java code and also in the MySQL database table that I created.</p>\n"},{"tags":["java","spring","multithreading","oracle","hibernate"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1521553846,"post_id":49384339,"comment_id":85772964,"body_markdown":"Check out https://stackoverflow.com/questions/1616280/java-solutions-for-distributed-transactions-and-or-data-shared-in-cluster","body":"Check out <a href=\"https://stackoverflow.com/questions/1616280/java-solutions-for-distributed-transactions-and-or-data-shared-in-cluster\" title=\"java solutions for distributed transactions and or data shared in cluster\">stackoverflow.com/questions/1616280/&hellip;</a>"}],"owner":{"account_id":10974685,"reputation":517,"user_id":8063717,"accept_rate":67,"display_name":"saferJo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1687219105,"creation_date":1521549182,"question_id":49384339,"body_markdown":"Spring microservices, few nodes, Hibernate, Oracle is the infrastructure. There are few tricky updates to be implemented. We need ACID transactions. Pessimistic locking is slow. So there are two options for optimistic locking. `@Version` and a normal `@Transactional` annotation and the other option is the prepared statement with &#39;select for update&#39;. I like the `@Version` option more but will it work on multiple nodes?\r\nAs every instance of the microservice will have a different `entityManager` shall the `@Version` work if we have simultaneous execution of two threads on different nodes? (the select for update will work on few nodes for sure but it is older and a bit more complex as a code)","title":"Spring optimistic locking with @Version on few nodes","body":"<p>Spring microservices, few nodes, Hibernate, Oracle is the infrastructure. There are few tricky updates to be implemented. We need ACID transactions. Pessimistic locking is slow. So there are two options for optimistic locking. <code>@Version</code> and a normal <code>@Transactional</code> annotation and the other option is the prepared statement with 'select for update'. I like the <code>@Version</code> option more but will it work on multiple nodes?\nAs every instance of the microservice will have a different <code>entityManager</code> shall the <code>@Version</code> work if we have simultaneous execution of two threads on different nodes? (the select for update will work on few nodes for sure but it is older and a bit more complex as a code)</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver","webdrivermanager-java"],"answers":[{"comments":[{"owner":{"account_id":24161077,"reputation":1,"user_id":18124599,"display_name":"Aydin Apaydin"},"score":0,"creation_date":1687211758,"post_id":76509869,"comment_id":134902326,"body_markdown":"Unfortunately, it didn&#39;t work, thanks for ur answer.","body":"Unfortunately, it didn&#39;t work, thanks for ur answer."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687206345,"creation_date":1687206345,"answer_id":76509869,"question_id":76509825,"body_markdown":"Instead of `boolean isHeadless = true;` and/or `chromeOptions.setHeadless(true);` you can use the argument [`--headless=new`](https://stackoverflow.com/a/75417151/7429447) as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\toptions.addArguments(&quot;--headless=new&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);","title":"Can run my tests in recapitated mode but not in headless","body":"<p>Instead of <code>boolean isHeadless = true;</code> and/or <code>chromeOptions.setHeadless(true);</code> you can use the argument <a href=\"https://stackoverflow.com/a/75417151/7429447\"><code>--headless=new</code></a> as follows:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\noptions.addArguments(&quot;--headless=new&quot;);\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24161077,"reputation":1,"user_id":18124599,"display_name":"Aydin Apaydin"},"score":0,"creation_date":1687212032,"post_id":76510043,"comment_id":134902355,"body_markdown":"Unfortunately, it did not work, thanks for ur answer. :)","body":"Unfortunately, it did not work, thanks for ur answer. :)"},{"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"score":0,"creation_date":1687253979,"post_id":76510043,"comment_id":134907361,"body_markdown":"@AydinApaydin please provide more information, tell me exactly your purpose of this operation","body":"@AydinApaydin please provide more information, tell me exactly your purpose of this operation"},{"owner":{"account_id":24161077,"reputation":1,"user_id":18124599,"display_name":"Aydin Apaydin"},"score":0,"creation_date":1687301351,"post_id":76510043,"comment_id":134916795,"body_markdown":"I was trying to set up my Driver class that would work for Jenkins as well. However, I found the problem, someone added chromeOptions.addArguments(&quot;--remote-debugging-port=9222&quot;); in browser switch case part which caused error in output.","body":"I was trying to set up my Driver class that would work for Jenkins as well. However, I found the problem, someone added chromeOptions.addArguments(&quot;--remote-debugging-port=9222&quot;); in browser switch case part which caused error in output."}],"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687208653,"creation_date":1687208342,"answer_id":76510043,"question_id":76509825,"body_markdown":"**if this helps upvote and check my answer!**\r\n\r\nfirst thing i notice is that you are using the installed chrome drive, i recommend using the dependencie :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nit will allow you to use chrome driver and firefox and others as i think\r\n\r\nyou might wanted to use :\r\n\r\n            option.setPageLoadStrategy(PageLoadStrategy.NONE);\r\n\r\nget inspired from this example:\r\n\r\n        @BeforeTest\r\n    public void setUp(){\r\n        WebDriverManager.chromedriver().setup();\r\n        option = new ChromeOptions();\r\n        option.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        option.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n        option.setPageLoadStrategy(PageLoadStrategy.EAGER);\r\n\r\n        driver = new ChromeDriver(option);\r\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n        WebDriverManager.chromedriver().setup();\r\n        option = new ChromeOptions();\r\n        option.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        option.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n        option.addArguments(&quot;--disable-gpu&quot;);\r\n        option.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n        option.addArguments(&quot;--no-sandbox&quot;);\r\n        option.addArguments(&quot;--headless&quot;); // Run in headless mode\r\n    }\r\n\r\n","title":"Can run my tests in recapitated mode but not in headless","body":"<p><strong>if this helps upvote and check my answer!</strong></p>\n<p>first thing i notice is that you are using the installed chrome drive, i recommend using the dependencie :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n  &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n  &lt;version&gt;5.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it will allow you to use chrome driver and firefox and others as i think</p>\n<p>you might wanted to use :</p>\n<pre><code>        option.setPageLoadStrategy(PageLoadStrategy.NONE);\n</code></pre>\n<p>get inspired from this example:</p>\n<pre><code>    @BeforeTest\npublic void setUp(){\n    WebDriverManager.chromedriver().setup();\n    option = new ChromeOptions();\n    option.addArguments(&quot;--remote-allow-origins=*&quot;);\n    option.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n    option.setPageLoadStrategy(PageLoadStrategy.EAGER);\n\n    driver = new ChromeDriver(option);\n    driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n    WebDriverManager.chromedriver().setup();\n    option = new ChromeOptions();\n    option.addArguments(&quot;--remote-allow-origins=*&quot;);\n    option.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n    option.addArguments(&quot;--disable-gpu&quot;);\n    option.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    option.addArguments(&quot;--no-sandbox&quot;);\n    option.addArguments(&quot;--headless&quot;); // Run in headless mode\n}\n</code></pre>\n"}],"owner":{"account_id":24161077,"reputation":1,"user_id":18124599,"display_name":"Aydin Apaydin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687217220,"creation_date":1687205869,"question_id":76509825,"body_markdown":"I can run any of my tests in Chrome recapitated (headfull) mode but when I try to run them in headless mode, I get the following error. \r\n\r\n\r\n```\r\n[main] INFO io.github.bonigarcia.wdm.WebDriverManager - Using chromedriver 114.0.5735.90 (resolved driver for Chrome 114)\r\n[main] INFO io.github.bonigarcia.wdm.WebDriverManager - Exporting webdriver.chrome.driver as C:\\Users\\user\\.cache\\selenium\\chromedriver\\win32\\114.0.5735.90\\chromedriver.exe\r\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 49153\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n[1687204620.180][WARNING]: Browser-wide DevTools client failed to connect: disconnected: unable to connect to renderer\r\n\r\nStep failed\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: disconnected: not connected to DevTools\r\n  (failed to check if window was closed: disconnected: not connected to DevTools)\r\n  (Session info: headless chrome=114.0.5735.134)\r\nBuild info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\nSystem info: host: , ip: , os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.1&#39;\r\n```\r\n \r\nI have added the following chrome options, tried commenting a few out and running again based on [this](https://stackoverflow.com/questions/55271467/fail-to-run-tests-in-chrome-headless-mode) but I still get the same response.\r\n\r\n```\r\n        boolean isHeadless = true;\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n        chromeOptions.addArguments(&quot;use-fake-ui-for-media-stream&quot;);\r\n        chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\r\n        chromeOptions.addArguments(&quot;--disable-gpu&quot;);\r\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        chromeOptions.addArguments(&quot;lang=en-GB&quot;);\r\n        chromeOptions.addArguments(&quot;--headless&quot;);\r\n        chromeOptions.addArguments(&quot;--no-sandbox&quot;);\r\n        chromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n        chromeOptions.setHeadless(true);\r\n```\r\n \r\n\r\nI expected it to run in headless mode as it does in recapitated mode. ","title":"Can run my tests in recapitated mode but not in headless","body":"<p>I can run any of my tests in Chrome recapitated (headfull) mode but when I try to run them in headless mode, I get the following error.</p>\n<pre><code>[main] INFO io.github.bonigarcia.wdm.WebDriverManager - Using chromedriver 114.0.5735.90 (resolved driver for Chrome 114)\n[main] INFO io.github.bonigarcia.wdm.WebDriverManager - Exporting webdriver.chrome.driver as C:\\Users\\user\\.cache\\selenium\\chromedriver\\win32\\114.0.5735.90\\chromedriver.exe\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 49153\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1687204620.180][WARNING]: Browser-wide DevTools client failed to connect: disconnected: unable to connect to renderer\n\nStep failed\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: disconnected: not connected to DevTools\n  (failed to check if window was closed: disconnected: not connected to DevTools)\n  (Session info: headless chrome=114.0.5735.134)\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: , ip: , os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.1'\n</code></pre>\n<p>I have added the following chrome options, tried commenting a few out and running again based on <a href=\"https://stackoverflow.com/questions/55271467/fail-to-run-tests-in-chrome-headless-mode\">this</a> but I still get the same response.</p>\n<pre><code>        boolean isHeadless = true;\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n        chromeOptions.addArguments(&quot;use-fake-ui-for-media-stream&quot;);\n        chromeOptions.addArguments(&quot;--window-size=1920,1080&quot;);\n        chromeOptions.addArguments(&quot;--disable-gpu&quot;);\n        chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n        chromeOptions.addArguments(&quot;lang=en-GB&quot;);\n        chromeOptions.addArguments(&quot;--headless&quot;);\n        chromeOptions.addArguments(&quot;--no-sandbox&quot;);\n        chromeOptions.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        chromeOptions.setHeadless(true);\n</code></pre>\n<p>I expected it to run in headless mode as it does in recapitated mode.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1408622293,"creation_date":1305315991,"answer_id":5997007,"question_id":5996989,"body_markdown":"Chances are you&#39;ve just missed:\r\n\r\n    import java.io.File;\r\n\r\nfrom the top of your source file.\r\n\r\nYou *could* use \r\n\r\n     import java.io.*; \r\n\r\nI typically use single-type imports.","title":"Why do I get the error &quot;File cannot be resolved to a type&quot;?","body":"<p>Chances are you've just missed:</p>\n\n<pre><code>import java.io.File;\n</code></pre>\n\n<p>from the top of your source file.</p>\n\n<p>You <em>could</em> use </p>\n\n<pre><code> import java.io.*; \n</code></pre>\n\n<p>I typically use single-type imports.</p>\n"},{"comments":[{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":0,"creation_date":1305316074,"post_id":5997010,"comment_id":6926245,"body_markdown":"Jon Skeet beat me by 12 seconds. There is no dishonor in that :)","body":"Jon Skeet beat me by 12 seconds. There is no dishonor in that :)"},{"owner":{"account_id":256928,"reputation":44771,"user_id":537967,"accept_rate":75,"display_name":"Unknown user"},"score":0,"creation_date":1305316097,"post_id":5997010,"comment_id":6926251,"body_markdown":"So wierd, so why It does not notify me about that as any other package?","body":"So wierd, so why It does not notify me about that as any other package?"},{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":0,"creation_date":1305316188,"post_id":5997010,"comment_id":6926274,"body_markdown":"You should need to import `BufferedReader` and `InputStreamReader`. The `Command` class may be local to your application, and the `System` class is automatically imported, like everything else in the `java.lang` package.","body":"You should need to import <code>BufferedReader</code> and <code>InputStreamReader</code>. The <code>Command</code> class may be local to your application, and the <code>System</code> class is automatically imported, like everything else in the <code>java.lang</code> package."},{"owner":{"account_id":256928,"reputation":44771,"user_id":537967,"accept_rate":75,"display_name":"Unknown user"},"score":0,"creation_date":1305316270,"post_id":5997010,"comment_id":6926291,"body_markdown":"These I imported, but when I forgot to do that, I got a notifaction suggesting me ti import them, unlike this one.","body":"These I imported, but when I forgot to do that, I got a notifaction suggesting me ti import them, unlike this one."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1305316466,"post_id":5997010,"comment_id":6926350,"body_markdown":"@Unknown user: When I tried with `BufferedReader` I got exactly the same error as for `File`.","body":"@Unknown user: When I tried with <code>BufferedReader</code> I got exactly the same error as for <code>File</code>."}],"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1305316003,"creation_date":1305316003,"answer_id":5997010,"question_id":5996989,"body_markdown":"You need to include either\r\n\r\n    import java.io.File;\r\n\r\nor\r\n\r\n    import java.io.*;\r\n\r\nat the top of your source file.","title":"Why do I get the error &quot;File cannot be resolved to a type&quot;?","body":"<p>You need to include either</p>\n\n<pre><code>import java.io.File;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import java.io.*;\n</code></pre>\n\n<p>at the top of your source file.</p>\n"},{"tags":[],"owner":{"account_id":198,"reputation":25116,"user_id":245,"accept_rate":86,"display_name":"Michael Pryor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305316065,"creation_date":1305316065,"answer_id":5997021,"question_id":5996989,"body_markdown":"You most likely forgot to import java.io.File but essentially the compiler is telling you it can&#39;t find the &quot;File&quot; class.\r\n\r\nSee this java error page specific to &quot;[File cannot be resovled to a type][1]&quot; for more info.\r\n\r\n\r\n  [1]: http://java.syntaxerrors.info/index.php?title=Cannot_resolve_type","title":"Why do I get the error &quot;File cannot be resolved to a type&quot;?","body":"<p>You most likely forgot to import java.io.File but essentially the compiler is telling you it can't find the \"File\" class.</p>\n\n<p>See this java error page specific to \"<a href=\"http://java.syntaxerrors.info/index.php?title=Cannot_resolve_type\" rel=\"nofollow\">File cannot be resovled to a type</a>\" for more info.</p>\n"},{"tags":[],"owner":{"account_id":1094428,"reputation":1323,"user_id":1088336,"accept_rate":50,"display_name":"matthewb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339613696,"creation_date":1339613696,"answer_id":11021517,"question_id":5996989,"body_markdown":"I received this error once, even though I had already imported java.io.File. I think it was some weird, temporary Eclsipse glitch. When I made other changes to the code, then saved it again, the error resolved itself. ","title":"Why do I get the error &quot;File cannot be resolved to a type&quot;?","body":"<p>I received this error once, even though I had already imported java.io.File. I think it was some weird, temporary Eclsipse glitch. When I made other changes to the code, then saved it again, the error resolved itself. </p>\n"},{"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1687220533,"post_id":76510489,"comment_id":134903141,"body_markdown":"I don&#39;t think so. The solution for the type &#39;File&#39; not being defined is to define it (via an import statement).","body":"I don&#39;t think so. The solution for the type &#39;File&#39; not being defined is to define it (via an import statement)."}],"tags":[],"owner":{"account_id":28854135,"reputation":1,"user_id":22099315,"display_name":"Ankit"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687215515,"creation_date":1687215515,"answer_id":76510489,"question_id":5996989,"body_markdown":"i also got that error and by giving try catch block just before creating object of FileReader , FileWriter not before creating a variable of type FileReader or FileWriter could resolve that issue and just make sure to close the \r\nresource . ","title":"Why do I get the error &quot;File cannot be resolved to a type&quot;?","body":"<p>i also got that error and by giving try catch block just before creating object of FileReader , FileWriter not before creating a variable of type FileReader or FileWriter could resolve that issue and just make sure to close the\nresource .</p>\n"}],"owner":{"account_id":256928,"reputation":44771,"user_id":537967,"accept_rate":75,"display_name":"Unknown user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66869,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":5,"score":6,"last_activity_date":1687215515,"creation_date":1305315865,"question_id":5996989,"body_markdown":"Here&#39;s part of my code\r\n\r\n    try{\r\n\t\t\t\r\n\t\tBufferedReader in= new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\r\n\t\twhile ((line= in.readLine())!=&quot;exit&quot;){\r\n\t\t\t\r\n\t\tSystem.out.println(&quot;Enter command&quot;);\r\n\t\tline=in.readLine();\r\n\t\tCommand currentCommand=new Command(line);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tFile currentFile= new File(currentCommand.getLsPath());\r\n\t\t\r\n The method `currentCommand.getLsPath()` returns a string, which is mendatory for the File Constracture, and still I get this error: ` File cannot be resolved to a type`\r\n\r\nWhat is the problem?\r\n\r\n\r\n\r\n","title":"Why do I get the error &quot;File cannot be resolved to a type&quot;?","body":"<p>Here's part of my code</p>\n\n<pre><code>try{\n\n    BufferedReader in= new BufferedReader(new InputStreamReader(System.in));\n\n    while ((line= in.readLine())!=\"exit\"){\n\n    System.out.println(\"Enter command\");\n    line=in.readLine();\n    Command currentCommand=new Command(line);\n\n\n\n    File currentFile= new File(currentCommand.getLsPath());\n</code></pre>\n\n<p>The method <code>currentCommand.getLsPath()</code> returns a string, which is mendatory for the File Constracture, and still I get this error: <code>File cannot be resolved to a type</code></p>\n\n<p>What is the problem?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687138169,"post_id":76503135,"comment_id":134890276,"body_markdown":"Please edit your question and add the full stack trace of the exception.","body":"Please edit your question and add the full stack trace of the exception."}],"owner":{"account_id":1954650,"reputation":400,"user_id":1757949,"accept_rate":43,"display_name":"senderj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687215225,"creation_date":1687137935,"question_id":76503135,"body_markdown":"I am using Netbeans to develop my program, a ejb targetting JEE7 glassfish 5.1. It involves json parsing. As usual, I use an independent client to test my coding before I port it to glassfish. The problem is the independent client works while the ejb hits &quot;org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray&quot;.\r\n\r\nHere is my coding, same in both client and ejb:\r\n\r\n    JsonReader rdr = Json.createReader(new StringReader(strJson));\r\n    JsonObject obj = rdr.readObject();\r\n    JsonObject hp = obj.getJsonObject(&quot;HistoricalScore&quot;);\r\n    JsonArray scores = hp.getJsonArray(&quot;Score&quot;);\r\n    ....\r\nThe independent client works well but the ejb hits the exception at the last statement.\r\n\r\nHere is the json:\r\n\r\n    {\r\n    &quot;HistoricalScore&quot;:{\r\n      &quot;GameCode&quot;:{&quot;abFundCode&quot;:&quot;K44992&quot;},\r\n      &quot;Score&quot;:[\r\n        {&quot;PerformanceId&quot;:&quot;0P0001HFQH&quot;,\r\n         &quot;Score&quot;:103.45,\r\n         &quot;LastUpdate&quot;:&quot;02-06-2023&quot;,\r\n         &quot;ScoreDiv&quot;:130.60727,\r\n         &quot;ScoreType&quot;:1,\r\n         &quot;CloseScore&quot;:103.45,\r\n         &quot;SessionId&quot;:99,\r\n         &quot;EffectiveDate&quot;:&quot;01-06-2023&quot;},\r\n        {......}\r\n      ]\r\n    }\r\n\r\nBoth client and ejb are compiled with `Java_EE_from_Glassfish_5 - jakarta.json.jar` in the library and I didn&#39;t (unless I miss it) find any other json.jar in the library list.\r\n\r\nClient runs within Netbeans and ejb also runs in glassfish deployed from Netbeans. Netbeans has java env pointing to jre of jdk1.8.0_202 and glassfish also has `AS_JAVA` parm pointing to the same.\r\n\r\nAny help is much appreciated. Also, is there a way to find out where does `JsonObjectBuilderImpl` come from at runtime?\r\n\r\nEdit:\r\nHere is the full stack trace:\r\n\r\n    java.lang.ClassCastException: org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray\r\n\tat org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl.getJsonArray(JsonObjectBuilderImpl.java:213)\r\n\tat whale.util.UTrustHASE.update(UTrustHASE.java:99)\r\n\tat whale.data.CaptureUTrust.run(CaptureUTrust.java:86)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\r\n\tat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\r\n\tat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\r\n\tat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:116)\r\n\tat sun.reflect.GeneratedMethodAccessor71.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\r\n\tat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\r\n\tat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\r\n\tat com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:181)\r\n\tat com.sun.ejb.containers.EJBObjectInvocationHandlerDelegate.invoke(EJBObjectInvocationHandlerDelegate.java:55)\r\n\tat com.sun.proxy.$Proxy258.run(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.privateInvoke(StubInvocationHandlerImpl.java:199)\r\n\tat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.invoke(StubInvocationHandlerImpl.java:110)\r\n\tat com.sun.corba.ee.impl.presentation.rmi.codegen.CodegenStubBase.invoke(CodegenStubBase.java:196)\r\n\tat whale.data.__CaptureUTrustRemote_Remote_DynamicStub.run(whale/data/__CaptureUTrustRemote_Remote_DynamicStub.java)\r\n\tat whale.data._CaptureUTrustRemote_Wrapper.run(whale/data/_CaptureUTrustRemote_Wrapper.java)\r\n\tat whale.util.JobScheduleBean.activateService(JobScheduleBean.java:202)\r\n\tat whale.util.JobScheduleBean.runTimer(JobScheduleBean.java:132)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\r\n\tat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\r\n\tat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\r\n\tat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\r\n\tat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\r\n\tat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundTimeout(SystemInterceptorProxy.java:121)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\r\n\tat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\r\n\tat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\r\n\tat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\r\n\tat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\r\n\tat com.sun.ejb.containers.BaseContainer.callEJBTimeout(BaseContainer.java:4061)\r\n\tat com.sun.ejb.containers.EJBTimerService.deliverTimeout(EJBTimerService.java:1176)\r\n\tat com.sun.ejb.containers.EJBTimerService.access$000(EJBTimerService.java:65)\r\n\tat com.sun.ejb.containers.EJBTimerService$TaskExpiredWork.run(EJBTimerService.java:1895)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n","title":"org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray","body":"<p>I am using Netbeans to develop my program, a ejb targetting JEE7 glassfish 5.1. It involves json parsing. As usual, I use an independent client to test my coding before I port it to glassfish. The problem is the independent client works while the ejb hits &quot;org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray&quot;.</p>\n<p>Here is my coding, same in both client and ejb:</p>\n<pre><code>JsonReader rdr = Json.createReader(new StringReader(strJson));\nJsonObject obj = rdr.readObject();\nJsonObject hp = obj.getJsonObject(&quot;HistoricalScore&quot;);\nJsonArray scores = hp.getJsonArray(&quot;Score&quot;);\n....\n</code></pre>\n<p>The independent client works well but the ejb hits the exception at the last statement.</p>\n<p>Here is the json:</p>\n<pre><code>{\n&quot;HistoricalScore&quot;:{\n  &quot;GameCode&quot;:{&quot;abFundCode&quot;:&quot;K44992&quot;},\n  &quot;Score&quot;:[\n    {&quot;PerformanceId&quot;:&quot;0P0001HFQH&quot;,\n     &quot;Score&quot;:103.45,\n     &quot;LastUpdate&quot;:&quot;02-06-2023&quot;,\n     &quot;ScoreDiv&quot;:130.60727,\n     &quot;ScoreType&quot;:1,\n     &quot;CloseScore&quot;:103.45,\n     &quot;SessionId&quot;:99,\n     &quot;EffectiveDate&quot;:&quot;01-06-2023&quot;},\n    {......}\n  ]\n}\n</code></pre>\n<p>Both client and ejb are compiled with <code>Java_EE_from_Glassfish_5 - jakarta.json.jar</code> in the library and I didn't (unless I miss it) find any other json.jar in the library list.</p>\n<p>Client runs within Netbeans and ejb also runs in glassfish deployed from Netbeans. Netbeans has java env pointing to jre of jdk1.8.0_202 and glassfish also has <code>AS_JAVA</code> parm pointing to the same.</p>\n<p>Any help is much appreciated. Also, is there a way to find out where does <code>JsonObjectBuilderImpl</code> come from at runtime?</p>\n<p>Edit:\nHere is the full stack trace:</p>\n<pre><code>java.lang.ClassCastException: org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl cannot be cast to javax.json.JsonArray\nat org.glassfish.json.JsonObjectBuilderImpl$JsonObjectImpl.getJsonArray(JsonObjectBuilderImpl.java:213)\nat whale.util.UTrustHASE.update(UTrustHASE.java:99)\nat whale.data.CaptureUTrust.run(CaptureUTrust.java:86)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\nat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\nat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\nat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:72)\nat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:116)\nat sun.reflect.GeneratedMethodAccessor71.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\nat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\nat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\nat com.sun.ejb.containers.EJBObjectInvocationHandler.invoke(EJBObjectInvocationHandler.java:181)\nat com.sun.ejb.containers.EJBObjectInvocationHandlerDelegate.invoke(EJBObjectInvocationHandlerDelegate.java:55)\nat com.sun.proxy.$Proxy258.run(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.privateInvoke(StubInvocationHandlerImpl.java:199)\nat com.sun.corba.ee.impl.presentation.rmi.StubInvocationHandlerImpl.invoke(StubInvocationHandlerImpl.java:110)\nat com.sun.corba.ee.impl.presentation.rmi.codegen.CodegenStubBase.invoke(CodegenStubBase.java:196)\nat whale.data.__CaptureUTrustRemote_Remote_DynamicStub.run(whale/data/__CaptureUTrustRemote_Remote_DynamicStub.java)\nat whale.data._CaptureUTrustRemote_Wrapper.run(whale/data/_CaptureUTrustRemote_Wrapper.java)\nat whale.util.JobScheduleBean.activateService(JobScheduleBean.java:202)\nat whale.util.JobScheduleBean.runTimer(JobScheduleBean.java:132)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:1057)\nat org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:1129)\nat com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4796)\nat com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:632)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:800)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\nat org.jboss.weld.module.ejb.SessionBeanInterceptor.aroundInvoke(SessionBeanInterceptor.java:52)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:584)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:139)\nat com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundTimeout(SystemInterceptorProxy.java:121)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.sun.ejb.containers.interceptors.AroundInvokeInterceptor.intercept(InterceptorManager.java:859)\nat com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:799)\nat com.sun.ejb.containers.interceptors.InterceptorManager.intercept(InterceptorManager.java:345)\nat com.sun.ejb.containers.BaseContainer.__intercept(BaseContainer.java:4768)\nat com.sun.ejb.containers.BaseContainer.intercept(BaseContainer.java:4756)\nat com.sun.ejb.containers.BaseContainer.callEJBTimeout(BaseContainer.java:4061)\nat com.sun.ejb.containers.EJBTimerService.deliverTimeout(EJBTimerService.java:1176)\nat com.sun.ejb.containers.EJBTimerService.access$000(EJBTimerService.java:65)\nat com.sun.ejb.containers.EJBTimerService$TaskExpiredWork.run(EJBTimerService.java:1895)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx","java-11"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1539102312,"post_id":52724835,"comment_id":92376150,"body_markdown":"Use modular java application.","body":"Use modular java application."},{"owner":{"account_id":7472368,"reputation":529,"user_id":5679910,"accept_rate":83,"display_name":"DfM"},"score":0,"creation_date":1539104019,"post_id":52724835,"comment_id":92376919,"body_markdown":"@mrmcwolf But it&#39;s possible to use JavaFX 11 in a non modualr application (https://openjfx.io/openjfx-docs/#install-javafx). So why do I have to use a modular one?","body":"@mrmcwolf But it&#39;s possible to use JavaFX 11 in a non modualr application (<a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#install-javafx</a>). So why do I have to use a modular one?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1539119340,"post_id":52724835,"comment_id":92383852,"body_markdown":"Debugging from the `exec:java` goal (Maven Projects window, right click -&gt; Debug [exec:java]), works for me, without adding the SDK.","body":"Debugging from the <code>exec:java</code> goal (Maven Projects window, right click -&gt; Debug [exec:java]), works for me, without adding the SDK."},{"owner":{"account_id":7472368,"reputation":529,"user_id":5679910,"accept_rate":83,"display_name":"DfM"},"score":0,"creation_date":1539131611,"post_id":52724835,"comment_id":92387104,"body_markdown":"@Jos&#233;Pereda Thanks. It works for me too. But maybe you have any thoughts why a configuration of type `Application` doesn&#39;t work (the configuration type you&#39;ve suggested is `Maven`)? It has always worked for my previous Maven projects.","body":"@Jos&#233;Pereda Thanks. It works for me too. But maybe you have any thoughts why a configuration of type <code>Application</code> doesn&#39;t work (the configuration type you&#39;ve suggested is <code>Maven</code>)? It has always worked for my previous Maven projects."},{"owner":{"account_id":1527124,"reputation":838,"user_id":1425250,"accept_rate":0,"display_name":"Prashant Saraswat"},"score":0,"creation_date":1573594715,"post_id":52724835,"comment_id":103930625,"body_markdown":"@Dfm I am running into the same problem. I created another run configuration: exec:java -f pom.xml.This fails with the following error: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid. If I add a plugin configuration with the mainclass, I get this error: The specified mainClass doesn&#39;t contain a main method with appropriate signature.","body":"@Dfm I am running into the same problem. I created another run configuration: exec:java -f pom.xml.This fails with the following error: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java are missing or invalid. If I add a plugin configuration with the mainclass, I get this error: The specified mainClass doesn&#39;t contain a main method with appropriate signature."}],"answers":[{"tags":[],"owner":{"account_id":3975815,"reputation":1428,"user_id":3279034,"accept_rate":33,"display_name":"jona303"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1552686435,"creation_date":1552686435,"answer_id":55191085,"question_id":52724835,"body_markdown":"If the point is just to use the run/debug button you can use a Maven Configuration\r\n[![maven config for intelliJ JavaFX run][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1rraE.png","title":"Run a JavaFX 11 Maven project in IntelliJ IDEA using a run/debug configuration","body":"<p>If the point is just to use the run/debug button you can use a Maven Configuration\n<a href=\"https://i.stack.imgur.com/1rraE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rraE.png\" alt=\"maven config for intelliJ JavaFX run\"></a></p>\n"},{"tags":[],"owner":{"account_id":8644975,"reputation":1568,"user_id":6472449,"display_name":"FireController1847"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687214605,"creation_date":1580186466,"answer_id":59942232,"question_id":52724835,"body_markdown":"I think I may have finally figured out a solution.\r\n\r\nI&#39;m assuming you&#39;re using Maven to import the javafx-maven-plugin as well as javafx-controls dependency, just as I was trying to do, and that you&#39;ve had issues/an annoyance trying to run it using javafx:run.\r\n\r\nWell, the solution, without using --add-exports and other things, is actually fairly simple. Create an extra class (I called mine &quot;Launcher&quot;) with a proper, Java-based main method. Then, in the class, launch your application from there, like so:\r\n\r\nLauncher Class\r\n\r\n    public class Launcher {\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(App.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nApplication Class\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            // app code\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;m pretty sure the issue is caused by IntelliJ trying to be &quot;smart&quot;, and launching an application without a main method, jumping directly to the start method. But by doing that, it somehow avoids adding the Maven dependencies and causes it to fail. When you do it this way, it forces IntelliJ to say &quot;okay we need the maven dependencies, then we can run it&quot;, properly launching it (because it doesn&#39;t know any better that it&#39;s a JavaFX project). But that&#39;s just a guess. All I know is that it works for me.\r\n\r\nIt took me absolutely forever to figure this out, but once I set my run configuration to launch using my Launcher class instead of my App class, everything worked seamlessly like a charm (even debugging worked!).\r\n\r\nHopefully this helps, and happy coding! :)","title":"Run a JavaFX 11 Maven project in IntelliJ IDEA using a run/debug configuration","body":"<p>I think I may have finally figured out a solution.</p>\n<p>I'm assuming you're using Maven to import the javafx-maven-plugin as well as javafx-controls dependency, just as I was trying to do, and that you've had issues/an annoyance trying to run it using javafx:run.</p>\n<p>Well, the solution, without using --add-exports and other things, is actually fairly simple. Create an extra class (I called mine &quot;Launcher&quot;) with a proper, Java-based main method. Then, in the class, launch your application from there, like so:</p>\n<p>Launcher Class</p>\n<pre><code>public class Launcher {\n\n    public static void main(String[] args) {\n        Application.launch(App.class, args);\n    }\n\n}\n</code></pre>\n<p>Application Class</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        // app code\n    }\n\n}\n</code></pre>\n<p>I'm pretty sure the issue is caused by IntelliJ trying to be &quot;smart&quot;, and launching an application without a main method, jumping directly to the start method. But by doing that, it somehow avoids adding the Maven dependencies and causes it to fail. When you do it this way, it forces IntelliJ to say &quot;okay we need the maven dependencies, then we can run it&quot;, properly launching it (because it doesn't know any better that it's a JavaFX project). But that's just a guess. All I know is that it works for me.</p>\n<p>It took me absolutely forever to figure this out, but once I set my run configuration to launch using my Launcher class instead of my App class, everything worked seamlessly like a charm (even debugging worked!).</p>\n<p>Hopefully this helps, and happy coding! :)</p>\n"}],"owner":{"account_id":7472368,"reputation":529,"user_id":5679910,"accept_rate":83,"display_name":"DfM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2211,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1687214605,"creation_date":1539099986,"question_id":52724835,"body_markdown":"I want to run a [HelloWorld JavaFX 11 application using Maven][1] from IntelliJ IDEA using a **run/debug configuration** to be able to debug the application.\r\n\r\nI&#39;ve created a Maven project in IntelliJ IDEA with [pom.xml][2] and [HelloFX.java][3].\r\nI can build the project successfully and run it executing the specified `compile` and `exec:java` goals.\r\n\r\nBut when I run it using a run/debug configuration with VM options `--add-modules=javafx.controls`, I get:\r\n\r\n&gt; Error occurred during initialization of boot layer  \r\n&gt; java.lang.module.FindException: Module javafx.controls not found\r\n\r\nThe only way I&#39;ve managed to run it is by downloading [a JavaFX runtime][4] and setting VM options to `--module-path /path/to/javafx-sdk-11/lib --add-modules=javafx.controls`.\r\n\r\nBut is there any way to run it using artifacts downloaded from Maven? As I&#39;ve thought that IntelliJ IDEA can use Maven artifacts in runtime. Or am I just getting something wrong?\r\n\r\nP.S. I am aware about [this answer][5], but it doesn&#39;t describe what I want to do.\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#maven\r\n  [2]: https://openjfx.io/openjfx-docs/pom.xml\r\n  [3]: https://openjfx.io/openjfx-docs/HelloFX.java\r\n  [4]: https://gluonhq.com/products/javafx/\r\n  [5]: https://stackoverflow.com/a/52470141/5679910","title":"Run a JavaFX 11 Maven project in IntelliJ IDEA using a run/debug configuration","body":"<p>I want to run a <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"noreferrer\">HelloWorld JavaFX 11 application using Maven</a> from IntelliJ IDEA using a <strong>run/debug configuration</strong> to be able to debug the application.</p>\n\n<p>I've created a Maven project in IntelliJ IDEA with <a href=\"https://openjfx.io/openjfx-docs/pom.xml\" rel=\"noreferrer\">pom.xml</a> and <a href=\"https://openjfx.io/openjfx-docs/HelloFX.java\" rel=\"noreferrer\">HelloFX.java</a>.\nI can build the project successfully and run it executing the specified <code>compile</code> and <code>exec:java</code> goals.</p>\n\n<p>But when I run it using a run/debug configuration with VM options <code>--add-modules=javafx.controls</code>, I get:</p>\n\n<blockquote>\n  <p>Error occurred during initialization of boot layer<br>\n  java.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n\n<p>The only way I've managed to run it is by downloading <a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">a JavaFX runtime</a> and setting VM options to <code>--module-path /path/to/javafx-sdk-11/lib --add-modules=javafx.controls</code>.</p>\n\n<p>But is there any way to run it using artifacts downloaded from Maven? As I've thought that IntelliJ IDEA can use Maven artifacts in runtime. Or am I just getting something wrong?</p>\n\n<p>P.S. I am aware about <a href=\"https://stackoverflow.com/a/52470141/5679910\">this answer</a>, but it doesn't describe what I want to do.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"comments":[{"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"score":0,"creation_date":1581413566,"post_id":60165609,"comment_id":106415483,"body_markdown":"Thank you very much! working great and easy to understand :)","body":"Thank you very much! working great and easy to understand :)"},{"owner":{"account_id":348076,"reputation":5557,"user_id":682559,"accept_rate":100,"display_name":"Nicktar"},"score":1,"creation_date":1581413659,"post_id":60165609,"comment_id":106415551,"body_markdown":"This returns the index of the first string in the array that&#39;s in the string. First as in order of array not in index within text. It&#39;s the same as your code but not the way I&#39;d understand your requirements.","body":"This returns the index of the first string in the array that&#39;s in the string. First as in order of array not in index within text. It&#39;s the same as your code but not the way I&#39;d understand your requirements."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1581413863,"post_id":60165609,"comment_id":106415663,"body_markdown":"@Nicktar The example given matches the code for loop code, so I guess the description of the requirement needs an edit.","body":"@Nicktar The example given matches the code for loop code, so I guess the description of the requirement needs an edit."},{"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"score":0,"creation_date":1581413904,"post_id":60165609,"comment_id":106415691,"body_markdown":"@Nicktar, not really understand the diff. but looks like it&#39;s what i&#39;m looking for..","body":"@Nicktar, not really understand the diff. but looks like it&#39;s what i&#39;m looking for.."},{"owner":{"account_id":348076,"reputation":5557,"user_id":682559,"accept_rate":100,"display_name":"Nicktar"},"score":1,"creation_date":1581413947,"post_id":60165609,"comment_id":106415720,"body_markdown":"@AsfK see my answer, this is to long for a coment.","body":"@AsfK see my answer, this is to long for a coment."}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1581413349,"creation_date":1581413349,"answer_id":60165609,"question_id":60165470,"body_markdown":"The simplest equivalent of your for loop is\r\n\r\n\tint getIndexOfFirstFound(String text, String[] words) {\r\n\t\treturn Arrays.stream(words)\r\n\t\t\t\t.mapToInt(text::indexOf)\r\n\t\t\t\t.filter(i -&gt; i &gt;= 0)\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.orElse(-1);\r\n\t}","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>The simplest equivalent of your for loop is</p>\n\n<pre><code>int getIndexOfFirstFound(String text, String[] words) {\n    return Arrays.stream(words)\n            .mapToInt(text::indexOf)\n            .filter(i -&gt; i &gt;= 0)\n            .findFirst()\n            .orElse(-1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"score":0,"creation_date":1581414053,"post_id":60165813,"comment_id":106415780,"body_markdown":"actually I not care from the order so ernest answer is good for me. thank you too! it&#39;s good point to pay attention!","body":"actually I not care from the order so ernest answer is good for me. thank you too! it&#39;s good point to pay attention!"}],"tags":[],"owner":{"account_id":348076,"reputation":5557,"user_id":682559,"accept_rate":100,"display_name":"Nicktar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581413917,"creation_date":1581413917,"answer_id":60165813,"question_id":60165470,"body_markdown":"Not the same result as your code but closer to my understanding of your requirements\r\n\r\n    int getIndexOfFirstFound(String text, String[] words) {\r\n        return Arrays.stream(words)\r\n                .mapToInt(text::indexOf)\r\n                .filter(i -&gt; i &gt;= 0)\r\n                .sorted()\r\n                .findFirst()\r\n                .orElse(-1);\r\n    }\r\n\r\n\r\nDifference:\r\n\r\n`Text` = &quot;Hello I&#39;m your text, how are you?&quot; `Words` = [&quot;are&quot;, &quot;your&quot;]\r\n\r\nYour code would return 25 (index of &#39;are&#39;), my code would return 10 (index of &#39;your&#39;)\r\n","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>Not the same result as your code but closer to my understanding of your requirements</p>\n\n<pre><code>int getIndexOfFirstFound(String text, String[] words) {\n    return Arrays.stream(words)\n            .mapToInt(text::indexOf)\n            .filter(i -&gt; i &gt;= 0)\n            .sorted()\n            .findFirst()\n            .orElse(-1);\n}\n</code></pre>\n\n<p>Difference:</p>\n\n<p><code>Text</code> = \"Hello I'm your text, how are you?\" <code>Words</code> = [\"are\", \"your\"]</p>\n\n<p>Your code would return 25 (index of 'are'), my code would return 10 (index of 'your')</p>\n"},{"comments":[{"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"score":0,"creation_date":1581417325,"post_id":60166773,"comment_id":106417601,"body_markdown":"love it :) Thanks!","body":"love it :) Thanks!"}],"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581416854,"creation_date":1581416854,"answer_id":60166773,"question_id":60165470,"body_markdown":"I think for better performance with non-stream version you can do like this: \r\n\r\nIf `words`&#39;s length is not so much, don&#39;t need to use `wordsSet`\r\n\r\n\r\n    int getIndexOfFirstFound(String text, String[] words) {\r\n        int index = 0;\r\n        Set&lt;String&gt; wordsSet = new HashSet&lt;&gt;(Arrays.asList(words));\r\n        for (String w : text.split(&quot;\\\\s&quot;)) {\r\n            if (wordsSet.contains(w)) break;\r\n            index += (w.length()) + 1; // 1 is for the space between words in the text.\r\n        }\r\n        return index;\r\n    }","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>I think for better performance with non-stream version you can do like this: </p>\n\n<p>If <code>words</code>'s length is not so much, don't need to use <code>wordsSet</code></p>\n\n<pre><code>int getIndexOfFirstFound(String text, String[] words) {\n    int index = 0;\n    Set&lt;String&gt; wordsSet = new HashSet&lt;&gt;(Arrays.asList(words));\n    for (String w : text.split(\"\\\\s\")) {\n        if (wordsSet.contains(w)) break;\n        index += (w.length()) + 1; // 1 is for the space between words in the text.\n    }\n    return index;\n}\n</code></pre>\n"}],"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2746,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60165609,"answer_count":3,"score":4,"last_activity_date":1687214484,"creation_date":1581412922,"question_id":60165470,"body_markdown":"I want to build a method `int getIndexOfFirstFound(String text, String[] words)`.\r\n\r\nThe method receive a text and array of words and should return the index of the first word found.\r\n\r\nI know to do it with simple iteration, like this:\r\n\r\n    for (String word : words) {\r\n        if (text.indexOf(word) != -1) return text.indexOf(word);\r\n    }\r\n    return -1;\r\n\r\nbut for my training I look how to do it with lambda, if it possible.\r\nI know I can check if the string contain a word from the array: `Arrays.stream(words).parallel().anyMatch(text::contains)` but I don&#39;t know how to return the index..\r\n\r\nHow can I find the first found word index in a modern way?\r\n\r\nExample:\r\n\r\n`Text` = &quot;Hello I&#39;m your text, how are you?&quot;\r\n`Words` = [&quot;your&quot;, &quot;are&quot;]\r\n\r\nThe result should be index of &quot;your&quot; (10).\r\n","title":"Java Lambda | Find position first occurrence of an array of strings in a string","body":"<p>I want to build a method <code>int getIndexOfFirstFound(String text, String[] words)</code>.</p>\n<p>The method receive a text and array of words and should return the index of the first word found.</p>\n<p>I know to do it with simple iteration, like this:</p>\n<pre><code>for (String word : words) {\n    if (text.indexOf(word) != -1) return text.indexOf(word);\n}\nreturn -1;\n</code></pre>\n<p>but for my training I look how to do it with lambda, if it possible.\nI know I can check if the string contain a word from the array: <code>Arrays.stream(words).parallel().anyMatch(text::contains)</code> but I don't know how to return the index..</p>\n<p>How can I find the first found word index in a modern way?</p>\n<p>Example:</p>\n<p><code>Text</code> = &quot;Hello I'm your text, how are you?&quot;\n<code>Words</code> = [&quot;your&quot;, &quot;are&quot;]</p>\n<p>The result should be index of &quot;your&quot; (10).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687191552,"post_id":76508348,"comment_id":134899135,"body_markdown":"What else do you have in scr/main/resources?","body":"What else do you have in scr/main/resources?"},{"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"score":0,"creation_date":1687191985,"post_id":76508348,"comment_id":134899223,"body_markdown":"two empty directories static and templates that were created by Spring Initializr.  Question updated with image","body":"two empty directories static and templates that were created by Spring Initializr.  Question updated with image"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687192574,"post_id":76508348,"comment_id":134899331,"body_markdown":"Very strange. mvn clean don&#39;t help?","body":"Very strange. mvn clean don&#39;t help?"},{"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"score":0,"creation_date":1687192795,"post_id":76508348,"comment_id":134899382,"body_markdown":"fails with same error.  replaced output above with mvn clean spring-boot:run","body":"fails with same error.  replaced output above with mvn clean spring-boot:run"}],"answers":[{"tags":[],"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687212037,"creation_date":1687212037,"answer_id":76510287,"question_id":76508348,"body_markdown":"Perhaps a bit like killing a mosquito with explosives but resetting Windows 11 worked.  At least I didn&#39;t have to reload my data.","title":"Spring boot starts in SSL by default","body":"<p>Perhaps a bit like killing a mosquito with explosives but resetting Windows 11 worked.  At least I didn't have to reload my data.</p>\n"}],"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687212037,"creation_date":1687190820,"question_id":76508348,"body_markdown":"For some reason, Spring Boot is starting in SSL by default.  I have an unmodified project from Spring Initializr with only web dependency and an empty application.properties.  When I start this from the command line it fails with `SSL is enabled but no trust material is configured`.\r\n\r\nHow can I return this to normal behavior of non-SSL?\r\n\r\n**Steps taken since orignal posting**\r\n\r\n1. delete mvn cache in .m2 directory - same failure\r\n2. Delete jdk and unzip fresh copy - same failure\r\n3. switch to the WSL platform, install JDK-17 - **success**\r\n\r\n**Conclusion**\r\n- Something&#39;s corrupted in Windows 11\r\n\r\n**Next steps**\r\n- Reset Windows 11 leaving my data intact\r\n\r\n*Original question files below*\r\n\r\n\r\npom.xml\r\n```xml\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;demo&lt;/name&gt;\r\n\t\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n\t&lt;/project&gt;\r\n```\r\napplication.properties\r\n\r\n     is empty\r\n\r\nDemoApplication.java\r\n```java\r\n\tpackage com.example.demo;\r\n\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\t@SpringBootApplication\r\n\tpublic class DemoApplication {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nsrc/main/resources\r\n\r\n[![src/main/resources][1]][1]  Both static and templates directories are empty\r\n\r\n\r\noutput from terminal\r\n\r\n\t&gt; .\\mvnw clean spring-boot:run\r\n\t[INFO] Scanning for projects...\r\n\t[INFO]\r\n\t[INFO] --------------------------&lt; com.example:demo &gt;--------------------------\r\n\t[INFO] Building demo 0.0.1-SNAPSHOT\r\n\t[INFO]   from pom.xml\r\n\t[INFO] --------------------------------[ jar ]---------------------------------\r\n\t[INFO]\r\n\t[INFO] --- clean:3.2.0:clean (default-clean) @ demo ---\r\n\t[INFO] Deleting C:\\Users\\user\\Downloads\\demo\\demo\\target\r\n\t[INFO]\r\n\t[INFO] &gt;&gt;&gt; spring-boot:3.1.0:run (default-cli) &gt; test-compile @ demo &gt;&gt;&gt;\r\n\t[INFO]\r\n\t[INFO] --- resources:3.3.1:resources (default-resources) @ demo ---\r\n\t[INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n\t[INFO] Copying 0 resource from src\\main\\resources to target\\classes\r\n\t[INFO]\r\n\t[INFO] --- compiler:3.11.0:compile (default-compile) @ demo ---\r\n\t[INFO] Changes detected - recompiling the module! :source\r\n\t[INFO] Compiling 1 source file with javac [debug release 17] to target\\classes\r\n\t[INFO]\r\n\t[INFO] --- resources:3.3.1:testResources (default-testResources) @ demo ---\r\n\t[INFO] skip non existing resourceDirectory C:\\Users\\user\\Downloads\\demo\\demo\\src\\test\\resources\r\n\t[INFO]\r\n\t[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ demo ---\r\n\t[INFO] Changes detected - recompiling the module! :dependency\r\n\t[INFO] Compiling 1 source file with javac [debug release 17] to target\\test-classes\r\n\t[INFO]\r\n\t[INFO] &lt;&lt;&lt; spring-boot:3.1.0:run (default-cli) &lt; test-compile @ demo &lt;&lt;&lt;\r\n\t[INFO]\r\n\t[INFO]\r\n\t[INFO] --- spring-boot:3.1.0:run (default-cli) @ demo ---\r\n\t[INFO] Attaching agents: []\r\n\r\n\t  .   ____          _            __ _ _\r\n\t /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n\t( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n\t \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n\t  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n\t =========|_|==============|___/=/_/_/_/\r\n\t :: Spring Boot ::                (v3.1.0)\r\n\r\n\t2023-06-19T11:39:04.545-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 13672 (C:\\Users\\user\\Downloads\\demo\\demo\\target\\classes started by user in C:\\Users\\user\\Downloads\\demo\\demo)\r\n\t2023-06-19T11:39:04.549-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n\t2023-06-19T11:39:05.110-05:00  WARN 13672 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\r\n\t2023-06-19T11:39:05.116-05:00  INFO 13672 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\r\n\r\n\tError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n\t2023-06-19T11:39:05.127-05:00 ERROR 13672 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n\torg.springframework.context.ApplicationContextException: Unable to start web server\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.9.jar:6.0.9]\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n\tCaused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\r\n\t\t\tat org.springframework.boot.web.server.WebServerSslBundle.createStoreBundle(WebServerSslBundle.java:165) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.server.WebServerSslBundle.get(WebServerSslBundle.java:154) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.getSslBundle(AbstractConfigurableWebServerFactory.java:216) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:367) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:344) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\t\t\t... 8 common frames omitted\r\n\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] BUILD FAILURE\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Total time:  7.955 s\r\n\t[INFO] Finished at: 2023-06-19T11:39:05-05:00\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.0:run (default-cli) on project demo: Process terminated with exit code: 1 -&gt; [Help 1]\r\n\t[ERROR]\r\n\t[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\t[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\t[ERROR]\r\n\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n  [1]: https://i.stack.imgur.com/ICl2a.png","title":"Spring boot starts in SSL by default","body":"<p>For some reason, Spring Boot is starting in SSL by default.  I have an unmodified project from Spring Initializr with only web dependency and an empty application.properties.  When I start this from the command line it fails with <code>SSL is enabled but no trust material is configured</code>.</p>\n<p>How can I return this to normal behavior of non-SSL?</p>\n<p><strong>Steps taken since orignal posting</strong></p>\n<ol>\n<li>delete mvn cache in .m2 directory - same failure</li>\n<li>Delete jdk and unzip fresh copy - same failure</li>\n<li>switch to the WSL platform, install JDK-17 - <strong>success</strong></li>\n</ol>\n<p><strong>Conclusion</strong></p>\n<ul>\n<li>Something's corrupted in Windows 11</li>\n</ul>\n<p><strong>Next steps</strong></p>\n<ul>\n<li>Reset Windows 11 leaving my data intact</li>\n</ul>\n<p><em>Original question files below</em></p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;demo&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code> is empty\n</code></pre>\n<p>DemoApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.example.demo;\n\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n\n    @SpringBootApplication\n    public class DemoApplication {\n\n        public static void main(String[] args) {\n            SpringApplication.run(DemoApplication.class, args);\n        }\n\n    }\n</code></pre>\n<p>src/main/resources</p>\n<p><a href=\"https://i.stack.imgur.com/ICl2a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICl2a.png\" alt=\"src/main/resources\" /></a>  Both static and templates directories are empty</p>\n<p>output from terminal</p>\n<pre><code>&gt; .\\mvnw clean spring-boot:run\n[INFO] Scanning for projects...\n[INFO]\n[INFO] --------------------------&lt; com.example:demo &gt;--------------------------\n[INFO] Building demo 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- clean:3.2.0:clean (default-clean) @ demo ---\n[INFO] Deleting C:\\Users\\user\\Downloads\\demo\\demo\\target\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot:3.1.0:run (default-cli) &gt; test-compile @ demo &gt;&gt;&gt;\n[INFO]\n[INFO] --- resources:3.3.1:resources (default-resources) @ demo ---\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO] Copying 0 resource from src\\main\\resources to target\\classes\n[INFO]\n[INFO] --- compiler:3.11.0:compile (default-compile) @ demo ---\n[INFO] Changes detected - recompiling the module! :source\n[INFO] Compiling 1 source file with javac [debug release 17] to target\\classes\n[INFO]\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ demo ---\n[INFO] skip non existing resourceDirectory C:\\Users\\user\\Downloads\\demo\\demo\\src\\test\\resources\n[INFO]\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ demo ---\n[INFO] Changes detected - recompiling the module! :dependency\n[INFO] Compiling 1 source file with javac [debug release 17] to target\\test-classes\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot:3.1.0:run (default-cli) &lt; test-compile @ demo &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot:3.1.0:run (default-cli) @ demo ---\n[INFO] Attaching agents: []\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.0)\n\n2023-06-19T11:39:04.545-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.7 with PID 13672 (C:\\Users\\user\\Downloads\\demo\\demo\\target\\classes started by user in C:\\Users\\user\\Downloads\\demo\\demo)\n2023-06-19T11:39:04.549-05:00  INFO 13672 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-19T11:39:05.110-05:00  WARN 13672 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\n2023-06-19T11:39:05.116-05:00  INFO 13672 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-06-19T11:39:05.127-05:00 ERROR 13672 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.9.jar:6.0.9]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: SSL is enabled but no trust material is configured\n        at org.springframework.boot.web.server.WebServerSslBundle.createStoreBundle(WebServerSslBundle.java:165) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.server.WebServerSslBundle.get(WebServerSslBundle.java:154) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.server.AbstractConfigurableWebServerFactory.getSslBundle(AbstractConfigurableWebServerFactory.java:216) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:367) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:344) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.0.jar:3.1.0]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.0.jar:3.1.0]\n        ... 8 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.955 s\n[INFO] Finished at: 2023-06-19T11:39:05-05:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.0:run (default-cli) on project demo: Process terminated with exit code: 1 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","thread-safety","java-threads"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687209612,"post_id":76510071,"comment_id":134902062,"body_markdown":"What precise sequence of events does the `synchronized` block avoid? Does a `ConcurrentHashMap` protect against that sequence?","body":"What precise sequence of events does the <code>synchronized</code> block avoid? Does a <code>ConcurrentHashMap</code> protect against that sequence?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1687210242,"post_id":76510071,"comment_id":134902127,"body_markdown":"What&#39;s the point of doing `accountMap.put(transaction.getAccountNumber(), account)` on every transaction? And how is synchronizing on an individual `account` supposed to protect the whole map?","body":"What&#39;s the point of doing <code>accountMap.put(transaction.getAccountNumber(), account)</code> on every transaction? And how is synchronizing on an individual <code>account</code> supposed to protect the whole map?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1687258842,"post_id":76510071,"comment_id":134908418,"body_markdown":"If the intent of `processTransaction` is to return the account balance as a result exclusively of the provided transaction then it would potentially return incorrect results in a multi-threaded environment.  This is because the final `getBalance` is outside the critical section and is vulnerable to other threads performing transactions _after_ the provided transaction.","body":"If the intent of <code>processTransaction</code> is to return the account balance as a result exclusively of the provided transaction then it would potentially return incorrect results in a multi-threaded environment.  This is because the final <code>getBalance</code> is outside the critical section and is vulnerable to other threads performing transactions <i>after</i> the provided transaction."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687213714,"post_id":76510195,"comment_id":134902578,"body_markdown":"There is no issue with getting the account outside the `synchronized` block, because the change to the balance in the account is protected by the `synchronized` block. Of course if there is other code we haven&#39;t seen using `accountMap`, there could be concurrency issues, but that is clearly out of the scope of the question.","body":"There is no issue with getting the account outside the <code>synchronized</code> block, because the change to the balance in the account is protected by the <code>synchronized</code> block. Of course if there is other code we haven&#39;t seen using <code>accountMap</code>, there could be concurrency issues, but that is clearly out of the scope of the question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687213868,"post_id":76510195,"comment_id":134902593,"body_markdown":"Locking on the Map is a terrible idea -- then only one thread can be active in `processTransaction`, when in fact we can have one thread *per account* active with no concurrency problems. If we lock the entire Map, why would `ConcurrentHashMap` be necessary, or perform better? There is no need to use `ConcurrentHashMap` in this scenario, especially if we remove the redundant `put` calls.","body":"Locking on the Map is a terrible idea -- then only one thread can be active in <code>processTransaction</code>, when in fact we can have one thread <i>per account</i> active with no concurrency problems. If we lock the entire Map, why would <code>ConcurrentHashMap</code> be necessary, or perform better? There is no need to use <code>ConcurrentHashMap</code> in this scenario, especially if we remove the redundant <code>put</code> calls."}],"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687210660,"creation_date":1687210660,"answer_id":76510195,"question_id":76510071,"body_markdown":"Depends on what you are trying to achieve with the synchronised block. \r\nWith ```synchronized (account)```, you are locking the account object and making sure that only thread can make changes to that object. So there is no need to put the object back into the map again.\r\n\r\nBut the real issue is you are getting the object outside the ```synchronized``` block. So any other thread(call it T2) can access the same object and make modification before T1 starts executing the ```synchronized``` block.\r\n\r\nIf you are ok with that kind of modification/ or if you are sure that the ```accountMap``` is not used anywhere else, it might work.\r\n\r\nBut the best case would be to lock on the map itself. And yes, a ```ConcurrentHashMap``` will perform better if you are locking on the entire map object.\r\n","title":"Thread Safety Multiple Approaches","body":"<p>Depends on what you are trying to achieve with the synchronised block.\nWith <code>synchronized (account)</code>, you are locking the account object and making sure that only thread can make changes to that object. So there is no need to put the object back into the map again.</p>\n<p>But the real issue is you are getting the object outside the <code>synchronized</code> block. So any other thread(call it T2) can access the same object and make modification before T1 starts executing the <code>synchronized</code> block.</p>\n<p>If you are ok with that kind of modification/ or if you are sure that the <code>accountMap</code> is not used anywhere else, it might work.</p>\n<p>But the best case would be to lock on the map itself. And yes, a <code>ConcurrentHashMap</code> will perform better if you are locking on the entire map object.</p>\n"},{"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687211495,"post_id":76510222,"comment_id":134902290,"body_markdown":"Great solution, probably throwing exception in `adjustBalance` is missing for insufficient funds. Also don&#39;t foget to make `puts` visible to `processTransaction`. If puts could be done at runtime you have to do something with it.","body":"Great solution, probably throwing exception in <code>adjustBalance</code> is missing for insufficient funds. Also don&#39;t foget to make <code>puts</code> visible to <code>processTransaction</code>. If puts could be done at runtime you have to do something with it."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687212013,"post_id":76510222,"comment_id":134902354,"body_markdown":"@gdomo You mean puts to the map? It could be an immutable map initialized safely, or it could be modified in some concurrent thread and would need to be a ConcurrentMap or the like. There&#39;s no indication in the question as to how it&#39;s populated and managed.","body":"@gdomo You mean puts to the map? It could be an immutable map initialized safely, or it could be modified in some concurrent thread and would need to be a ConcurrentMap or the like. There&#39;s no indication in the question as to how it&#39;s populated and managed."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1687213708,"post_id":76510222,"comment_id":134902577,"body_markdown":"This solution is good if you&#39;re just adjusting the balance of one account.\nBut if there are two accounts you&#39;d need to withdraw from one and add to another, then you need the transaction context to envelop both actions.\n\nI personally would prefer using a ReadWriteLock (since synchronized has bad characteristics including deadlocks in some cases), and we&#39;d need to acquire the write lock for both accounts then write to one and then to the other.\n\nOf course, in the real world we avoid this mess by just delegating this to database transactions.","body":"This solution is good if you&#39;re just adjusting the balance of one account. But if there are two accounts you&#39;d need to withdraw from one and add to another, then you need the transaction context to envelop both actions.  I personally would prefer using a ReadWriteLock (since synchronized has bad characteristics including deadlocks in some cases), and we&#39;d need to acquire the write lock for both accounts then write to one and then to the other.  Of course, in the real world we avoid this mess by just delegating this to database transactions."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687214015,"post_id":76510222,"comment_id":134902607,"body_markdown":"@gdomo the original code doesn&#39;t show any requirement to detect overdrawn accounts.","body":"@gdomo the original code doesn&#39;t show any requirement to detect overdrawn accounts."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687214301,"post_id":76510222,"comment_id":134902637,"body_markdown":"@AminM I don&#39;t see anything in the question about transferring between accounts. And I don&#39;t see why it would be necessary to synchronize on both simultaneously. And I don&#39;t see how ReadWriteLock would prevent deadlocking in that scenario.","body":"@AminM I don&#39;t see anything in the question about transferring between accounts. And I don&#39;t see why it would be necessary to synchronize on both simultaneously. And I don&#39;t see how ReadWriteLock would prevent deadlocking in that scenario."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":1,"creation_date":1687219185,"post_id":76510222,"comment_id":134903053,"body_markdown":"@shmosel bank accounts don&#39;t happen in a vacuum. You need to ensure that two transactions can&#39;t withdraw from the same account at the same time (unless you want a process to detect overdraft and then undo transactions). ReadWriteLock can allow people to read the account balance without having to synchronize. And it has a timeout feature that can detect and mitigate deadlocks (of course, real deadlock prevention necessitates that you always lock the objects in the same order). If you don&#39;t lock both accounts then a failure to write to one may land you in a situation where the money ends up lost","body":"@shmosel bank accounts don&#39;t happen in a vacuum. You need to ensure that two transactions can&#39;t withdraw from the same account at the same time (unless you want a process to detect overdraft and then undo transactions). ReadWriteLock can allow people to read the account balance without having to synchronize. And it has a timeout feature that can detect and mitigate deadlocks (of course, real deadlock prevention necessitates that you always lock the objects in the same order). If you don&#39;t lock both accounts then a failure to write to one may land you in a situation where the money ends up lost"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":1,"creation_date":1687219218,"post_id":76510222,"comment_id":134903055,"body_markdown":"This is also why a database solution is better.. because it has automatic rollback. Doing bank transactions without rollback is dangerous.","body":"This is also why a database solution is better.. because it has automatic rollback. Doing bank transactions without rollback is dangerous."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1687219757,"post_id":76510222,"comment_id":134903098,"body_markdown":"@AminM You&#39;re making a lot of assumptions about what&#39;s probably meant to be an abstract exercise. There was no mention of an overdraft protection requirement. And it might be an ATM for all we know. And there&#39;s no need (at least in the code presented) to look up the balance without modification. And if there was, a simple getter with a `volatile` field would work equally well.","body":"@AminM You&#39;re making a lot of assumptions about what&#39;s probably meant to be an abstract exercise. There was no mention of an overdraft protection requirement. And it might be an ATM for all we know. And there&#39;s no need (at least in the code presented) to look up the balance without modification. And if there was, a simple getter with a <code>volatile</code> field would work equally well."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687238896,"post_id":76510222,"comment_id":134904598,"body_markdown":"The question is a specific question about Java synchronization, not a request for a treatise on multiuser computer systems.","body":"The question is a specific question about Java synchronization, not a request for a treatise on multiuser computer systems."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":9,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1687211611,"creation_date":1687211092,"answer_id":76510222,"question_id":76510071,"body_markdown":"The calls to `put()` are redundant because the mapping is already present. It looks like the only thing this method really does is adjust the balance of an individual account. I would have `Account` provide an adjustment method that synchronizes internally:\r\n\r\n    public synchronized double adjustBalance(double delta) {\r\n        return this.balance += delta;\r\n    }\r\n\r\nThen call it with a simple `if` to negate the amount:\r\n\r\n    public Double processTransaction(Transaction transaction) {\r\n        double delta = transaction.getBalance();\r\n        if (transaction.getTransactionType() == TransactionType.WITHDRAW) {\r\n            delta = -delta;\r\n        }\r\n        return accountMap.get(transaction.getAccountNumber()).adjustBalance(delta);\r\n    }\r\n\r\n","title":"Thread Safety Multiple Approaches","body":"<p>The calls to <code>put()</code> are redundant because the mapping is already present. It looks like the only thing this method really does is adjust the balance of an individual account. I would have <code>Account</code> provide an adjustment method that synchronizes internally:</p>\n<pre><code>public synchronized double adjustBalance(double delta) {\n    return this.balance += delta;\n}\n</code></pre>\n<p>Then call it with a simple <code>if</code> to negate the amount:</p>\n<pre><code>public Double processTransaction(Transaction transaction) {\n    double delta = transaction.getBalance();\n    if (transaction.getTransactionType() == TransactionType.WITHDRAW) {\n        delta = -delta;\n    }\n    return accountMap.get(transaction.getAccountNumber()).adjustBalance(delta);\n}\n</code></pre>\n"}],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76510222,"answer_count":2,"score":0,"last_activity_date":1687211611,"creation_date":1687208758,"question_id":76510071,"body_markdown":"I&#39;m developing an application which is meant to work in multi threading environment. The code sample looks like - \r\n\r\n    private Map&lt;String, Account&gt; accountMap;    // Account is a POJO\r\n         \r\n    public Double processTransaction(Transaction transaction) {     // Transaction is a POJO\r\n            Account account = accountMap.get(transaction.getAccountNumber());\r\n \r\n            synchronized (account) {\r\n                TransactionType mode = transaction.getTransactionType();\r\n                switch (mode) {\r\n                    case DEPOSIT:\r\n                        Double balance = account.getBalance();\r\n                        balance += transaction.getBalance();\r\n                        account.setBalance(balance);\r\n                        accountMap.put(transaction.getAccountNumber(), account);\r\n                        break;\r\n    \r\n                    case WITHDRAW:\r\n                        Double presentBalance = account.getBalance();\r\n                        if(presentBalance &lt; transaction.getBalance()) {\r\n                            // throw some exception\r\n                        }\r\n                        presentBalance = presentBalance - transaction.getBalance();\r\n                        account.setBalance(presentBalance);\r\n                        accountMap.put(transaction.getAccountNumber(), account);\r\n                        break;\r\n\r\n                }\r\n            }\r\n            return accountMap.get(transaction.getAccountNumber()).getBalance();\r\n        }\r\n\r\n\r\nThe other possible approach could be defining `accountMap as a concurrent HashMap` instead of using `synchronized` block.\r\n\r\nMy question is, are the above approaches correct and what else approaches could be used to ensure thread safety?","title":"Thread Safety Multiple Approaches","body":"<p>I'm developing an application which is meant to work in multi threading environment. The code sample looks like -</p>\n<pre><code>private Map&lt;String, Account&gt; accountMap;    // Account is a POJO\n     \npublic Double processTransaction(Transaction transaction) {     // Transaction is a POJO\n        Account account = accountMap.get(transaction.getAccountNumber());\n\n        synchronized (account) {\n            TransactionType mode = transaction.getTransactionType();\n            switch (mode) {\n                case DEPOSIT:\n                    Double balance = account.getBalance();\n                    balance += transaction.getBalance();\n                    account.setBalance(balance);\n                    accountMap.put(transaction.getAccountNumber(), account);\n                    break;\n\n                case WITHDRAW:\n                    Double presentBalance = account.getBalance();\n                    if(presentBalance &lt; transaction.getBalance()) {\n                        // throw some exception\n                    }\n                    presentBalance = presentBalance - transaction.getBalance();\n                    account.setBalance(presentBalance);\n                    accountMap.put(transaction.getAccountNumber(), account);\n                    break;\n\n            }\n        }\n        return accountMap.get(transaction.getAccountNumber()).getBalance();\n    }\n</code></pre>\n<p>The other possible approach could be defining <code>accountMap as a concurrent HashMap</code> instead of using <code>synchronized</code> block.</p>\n<p>My question is, are the above approaches correct and what else approaches could be used to ensure thread safety?</p>\n"},{"tags":["java","android","android-studio","horizontal-scrolling"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1686971372,"post_id":76484622,"comment_id":134875749,"body_markdown":"It&#39;s possible you could achieve the `updateListener` check with some math on the interpolation values;  but I did accomplish what it seems you are after by simply removing the repeat functionality (it won&#39;t support what you want for reasons of implementation in the ValueAnimator) and add `new Handler().postDelayed(animation::start, delayMillis);` to the `onAnimationEnd` in `DelayAnimation`.  This pauses the animation at its end before restarting it.  If the start delay and the &quot;repeat&quot; delay need to be managed separately then you can clear the start delay on the first &quot;end&quot;.","body":"It&#39;s possible you could achieve the <code>updateListener</code> check with some math on the interpolation values;  but I did accomplish what it seems you are after by simply removing the repeat functionality (it won&#39;t support what you want for reasons of implementation in the ValueAnimator) and add <code>new Handler().postDelayed(animation::start, delayMillis);</code> to the <code>onAnimationEnd</code> in <code>DelayAnimation</code>.  This pauses the animation at its end before restarting it.  If the start delay and the &quot;repeat&quot; delay need to be managed separately then you can clear the start delay on the first &quot;end&quot;."}],"answers":[{"comments":[{"owner":{"account_id":21385060,"reputation":97,"user_id":15750301,"display_name":"CorMatt"},"score":0,"creation_date":1686951696,"post_id":76486045,"comment_id":134874380,"body_markdown":"I tried you code, however since i never used `ValueAnimator` before, it seemed like I need to cast the `getAnimatedValue()` to a float value and then use an if clause in the line  `(animation.getAnimatedValue() == targetValue)`,  because it felt incomplete without it. However, the result was the same. Did I, perhaps, do something incorrectly? I didn&#39;t get an Exception so at least my casting was not incorrect in that regard","body":"I tried you code, however since i never used <code>ValueAnimator</code> before, it seemed like I need to cast the <code>getAnimatedValue()</code> to a float value and then use an if clause in the line  <code>(animation.getAnimatedValue() == targetValue)</code>,  because it felt incomplete without it. However, the result was the same. Did I, perhaps, do something incorrectly? I didn&#39;t get an Exception so at least my casting was not incorrect in that regard"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1686970101,"post_id":76486045,"comment_id":134875685,"body_markdown":"The interpolation never will reach the target value - always 1 interpolation increment less.  (e.g. vw=400, iw=25, (400-(25+50))=325 then the last translation-x is 324.6966 (using your duration value).  This is [0, 325, &lt;interpolation increment&gt;) -which is read from 0 up to but not including 325 in steps of interpolation increment.  So you&#39;d need to know the interpolation increment for that check.  The interpolation is not necessarily a perfect integral fit.","body":"The interpolation never will reach the target value - always 1 interpolation increment less.  (e.g. vw=400, iw=25, (400-(25+50))=325 then the last translation-x is 324.6966 (using your duration value).  This is [0, 325, &lt;interpolation increment&gt;) -which is read from 0 up to but not including 325 in steps of interpolation increment.  So you&#39;d need to know the interpolation increment for that check.  The interpolation is not necessarily a perfect integral fit."}],"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686870923,"creation_date":1686870923,"answer_id":76486045,"question_id":76484622,"body_markdown":"You could use `AnimationUpdateListener` and control when to pause the animation at the end before repeating using\r\n```\r\nanimator.addUpdateListener(animation -&gt; {\r\n    //target value could the end value which is either viewWidth-(itemWidth + 50) or when you want to pause\r\n    (animation.getAnimatedValue() == targetValue) {\r\n        animation.pause();\r\n        new Handler().postDelayed(animation::resume, delayMillis);\r\n    }\r\n});\r\n```","title":"Pausing an ObjectAnimator before it restarts its animation","body":"<p>You could use <code>AnimationUpdateListener</code> and control when to pause the animation at the end before repeating using</p>\n<pre><code>animator.addUpdateListener(animation -&gt; {\n    //target value could the end value which is either viewWidth-(itemWidth + 50) or when you want to pause\n    (animation.getAnimatedValue() == targetValue) {\n        animation.pause();\n        new Handler().postDelayed(animation::resume, delayMillis);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21385060,"reputation":97,"user_id":15750301,"display_name":"CorMatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687208507,"creation_date":1687207876,"answer_id":76510007,"question_id":76484622,"body_markdown":"I must thank both Rajan Kali and 5f3bde39-70a2-4df1-afa2-47f61b answers to being able to find a solution. It might not be the most elegant one and I am willing to look for even better ones, but this one worked for me:\r\n\r\n````\r\nclass ObjectScroller {\r\n        ObjectAnimator animator;\r\n        TextView scrollText;\r\n        int viewWidth;\r\n        int itemWidth;\r\n        long duration = 7500;\r\n        long delay = 2500;\r\n\r\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\r\n            this.scrollText = scroll;\r\n            this.itemWidth = itemWidth;\r\n            this.viewWidth = viewWidth;\r\n            animator = ObjectAnimator.ofFloat(scrollText, \r\n                                 &quot;translationX&quot;, viewWidth-(itemWidth + 50));\r\n            animator.setStartDelay(delay);\r\n            animator.setInterpolator(new LinearInterpolator());\r\n            animator.setDuration(duration);\r\n            animator.setRepeatMode(ValueAnimator.RESTART);\r\n            animator.setRepeatCount(ValueAnimator.INFINITE);\r\n        }\r\n\r\n        public void startObjectScroll() {\r\n            animator.addListener(new DelayAnimation(delay));\r\n//This allows the animation to be paused BEFORE it restarts.\r\n// Since my textview is translated viewWidth-(itemWidth + 50) units, \r\n// I choose to pause when its translation is lower than viewWidth-(itemWidth + 49)\r\n// (since my text is being translated from right to left, which means\r\n// the movement will create a negative value)\r\n// because, as pointed out, it will NEVER reach viewWidth-(itemWidth + 50) AND\r\n// the LinearInterpolator does not necessarily increments in integer rates.\r\n            animator.addUpdateListener(animation -&gt; {\r\n                float value = (float) animation.getAnimatedValue();\r\n                if (value &lt; viewWidth-(itemWidth + 49)) {\r\n                    animation.pause();\r\n                    new Handler().postDelayed(animation::resume, delay);\r\n                }\r\n            });\r\n            animator.start();\r\n        }\r\n    }\r\n\r\n    class DelayAnimation implements Animator.AnimatorListener {\r\n        private long delayMillis;\r\n\r\n        public DelayAnimation(long delayMillis) {\r\n            this.delayMillis = delayMillis;\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationStart(Animator animation) {\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationEnd(Animator animation) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationCancel(Animator animation) {\r\n\r\n        }\r\n// This code makes the animation to be paused after it has restarted,\r\n// allowing the user to read the beginning of the text more easily\r\n        @Override\r\n        public void onAnimationRepeat(Animator animation) {\r\n            animation.pause();\r\n            new Handler().postDelayed(animation::resume, delayMillis);\r\n        }\r\n    }\r\n````\r\n\r\n","title":"Pausing an ObjectAnimator before it restarts its animation","body":"<p>I must thank both Rajan Kali and 5f3bde39-70a2-4df1-afa2-47f61b answers to being able to find a solution. It might not be the most elegant one and I am willing to look for even better ones, but this one worked for me:</p>\n<pre><code>class ObjectScroller {\n        ObjectAnimator animator;\n        TextView scrollText;\n        int viewWidth;\n        int itemWidth;\n        long duration = 7500;\n        long delay = 2500;\n\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\n            this.scrollText = scroll;\n            this.itemWidth = itemWidth;\n            this.viewWidth = viewWidth;\n            animator = ObjectAnimator.ofFloat(scrollText, \n                                 &quot;translationX&quot;, viewWidth-(itemWidth + 50));\n            animator.setStartDelay(delay);\n            animator.setInterpolator(new LinearInterpolator());\n            animator.setDuration(duration);\n            animator.setRepeatMode(ValueAnimator.RESTART);\n            animator.setRepeatCount(ValueAnimator.INFINITE);\n        }\n\n        public void startObjectScroll() {\n            animator.addListener(new DelayAnimation(delay));\n//This allows the animation to be paused BEFORE it restarts.\n// Since my textview is translated viewWidth-(itemWidth + 50) units, \n// I choose to pause when its translation is lower than viewWidth-(itemWidth + 49)\n// (since my text is being translated from right to left, which means\n// the movement will create a negative value)\n// because, as pointed out, it will NEVER reach viewWidth-(itemWidth + 50) AND\n// the LinearInterpolator does not necessarily increments in integer rates.\n            animator.addUpdateListener(animation -&gt; {\n                float value = (float) animation.getAnimatedValue();\n                if (value &lt; viewWidth-(itemWidth + 49)) {\n                    animation.pause();\n                    new Handler().postDelayed(animation::resume, delay);\n                }\n            });\n            animator.start();\n        }\n    }\n\n    class DelayAnimation implements Animator.AnimatorListener {\n        private long delayMillis;\n\n        public DelayAnimation(long delayMillis) {\n            this.delayMillis = delayMillis;\n        }\n\n        @Override\n        public void onAnimationStart(Animator animation) {\n        }\n\n        @Override\n        public void onAnimationEnd(Animator animation) {\n\n        }\n\n        @Override\n        public void onAnimationCancel(Animator animation) {\n\n        }\n// This code makes the animation to be paused after it has restarted,\n// allowing the user to read the beginning of the text more easily\n        @Override\n        public void onAnimationRepeat(Animator animation) {\n            animation.pause();\n            new Handler().postDelayed(animation::resume, delayMillis);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21385060,"reputation":97,"user_id":15750301,"display_name":"CorMatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687208507,"creation_date":1686854491,"question_id":76484622,"body_markdown":"I am using an ObjectAnimator to make a long text on a TextView to be scrolled inside a HorizontalScrollView. The scroll animation is working nicely, the text is being scrolled correctly, but I am having trouble to make the animation stop for a few moments before it restarts.\r\n\r\nI am using the following classes to make such animations:\r\n\r\n````\r\n class ObjectScroller {\r\n        ObjectAnimator animator;\r\n        TextView scrollText;\r\n        long duration = 7500;\r\n        long delay = 2500;\r\n\r\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\r\n            this.scrollText = scroll;\r\n            animator = ObjectAnimator.ofFloat(scrollText, &quot;translationX&quot;, viewWidth-(itemWidth + 50));\r\n            animator.setStartDelay(delay);\r\n            animator.setInterpolator(new LinearInterpolator());\r\n            animator.setDuration(duration);\r\n            animator.setRepeatMode(ValueAnimator.RESTART);\r\n            animator.setRepeatCount(ValueAnimator.INFINITE);\r\n        }\r\n\r\n        public void startObjectScroll() {\r\n            animator.addListener(new DelayAnimation(delay));\r\n            animator.start();\r\n        }\r\n    }\r\n\r\n    class DelayAnimation implements Animator.AnimatorListener {\r\n        private long delayMillis;\r\n\r\n        public DelayAnimation(long delayMillis) {\r\n            this.delayMillis = delayMillis;\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationStart(Animator animation) {\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationEnd(Animator animation) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationCancel(Animator animation) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onAnimationRepeat(Animator animation) {\r\n            animation.pause();\r\n            new Handler().postDelayed(animation::resume, delayMillis);\r\n        }\r\n    }\r\n````\r\n Those classes are utilized in a `RecyclerView.Adapter` (cause those scrolling texts are located inside the items of a RecyclerView) and are utilized as follows:\r\n\r\n````\r\n@Override\r\n    public void onBindViewHolder(@NonNull ViewHolderInterface.MainListViewHolder holder, int position) {\r\n\r\n\\\\------------\r\n      \\\\omitting code that does not relate to animations\r\n\\\\------------\r\n\r\n        this.beforeDraw(holder.textInfoOne, () -&gt; {\r\n            Paint textPaint = holder.textInfoOne.getPaint();\r\n            String text = holder.textInfoOne.getText().toString();\r\n            int itemWidth = Math.round(textPaint.measureText(text));\r\n\r\n            int viewWidth = holder.scrollText.getWidth();\r\n\r\n            if (itemWidth &gt; viewWidth) {\r\n                holder.obScroller = new ObjectScroller(holder.textInfoOne, itemWidth,viewWidth);\r\n                holder.obScroller.startObjectScroll();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\npublic void beforeDraw(View view, Runnable runnable) {\r\n        ViewTreeObserver.OnPreDrawListener preDraw = new ViewTreeObserver.OnPreDrawListener() {\r\n            @Override\r\n            public boolean onPreDraw() {\r\n                view.getViewTreeObserver().removeOnPreDrawListener(this);\r\n                runnable.run();\r\n                return true;\r\n            }\r\n        };\r\n        view.getViewTreeObserver().addOnPreDrawListener(preDraw);\r\n    }\r\n````\r\n\r\nwhere `beforeDraw` is just a method created to allow me to find the views&#39; proper size on the screen to decide if the text should be scrolled or not.\r\n\r\nAnyway, the problem I am facing is the fact that, when utilizing the `onAnimationRepeat(Animator animation)`, the animation restarts, and just then it pauses for the time determined as delay to restart scrolling. This delay before resuming the animation is part of what I envisioned, but it isn&#39;t everything that I want to achieve, since what I wanted is that the animation also paused **after** its completion but **before** its restart.\r\n\r\nTo be more clear, my **desired** outcome would be as follows:\r\n\r\n````\r\nDelay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; Pause at the End -&gt; Restart Animation with Delay -&gt; ...\r\n````\r\n\r\nHowever, what I am getting so far would be like this:\r\n````\r\nDelay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; **No Pause** -&gt; Restart Animation with Delay -&gt; ...\r\n````\r\n\r\nIs it possible to achieve such thing with ObjectAnimator? I changed from Animation to ObjectAnimator precisely because I wanted to pause the animation **before** restarting it.\r\n\r\nAlso, I would prefer to have a solution that uses the `setRepeatCount(ValueAnimator.INFINITE)` option since I want to make sure it will never stop scrolling even if the user does forget his phone unlocked. \r\n\r\nThanks in advance for all the help!","title":"Pausing an ObjectAnimator before it restarts its animation","body":"<p>I am using an ObjectAnimator to make a long text on a TextView to be scrolled inside a HorizontalScrollView. The scroll animation is working nicely, the text is being scrolled correctly, but I am having trouble to make the animation stop for a few moments before it restarts.</p>\n<p>I am using the following classes to make such animations:</p>\n<pre><code> class ObjectScroller {\n        ObjectAnimator animator;\n        TextView scrollText;\n        long duration = 7500;\n        long delay = 2500;\n\n        public ObjectScroller(TextView scroll, int itemWidth, int viewWidth) {\n            this.scrollText = scroll;\n            animator = ObjectAnimator.ofFloat(scrollText, &quot;translationX&quot;, viewWidth-(itemWidth + 50));\n            animator.setStartDelay(delay);\n            animator.setInterpolator(new LinearInterpolator());\n            animator.setDuration(duration);\n            animator.setRepeatMode(ValueAnimator.RESTART);\n            animator.setRepeatCount(ValueAnimator.INFINITE);\n        }\n\n        public void startObjectScroll() {\n            animator.addListener(new DelayAnimation(delay));\n            animator.start();\n        }\n    }\n\n    class DelayAnimation implements Animator.AnimatorListener {\n        private long delayMillis;\n\n        public DelayAnimation(long delayMillis) {\n            this.delayMillis = delayMillis;\n        }\n\n        @Override\n        public void onAnimationStart(Animator animation) {\n        }\n\n        @Override\n        public void onAnimationEnd(Animator animation) {\n\n        }\n\n        @Override\n        public void onAnimationCancel(Animator animation) {\n\n        }\n\n        @Override\n        public void onAnimationRepeat(Animator animation) {\n            animation.pause();\n            new Handler().postDelayed(animation::resume, delayMillis);\n        }\n    }\n</code></pre>\n<p>Those classes are utilized in a <code>RecyclerView.Adapter</code> (cause those scrolling texts are located inside the items of a RecyclerView) and are utilized as follows:</p>\n<pre><code>@Override\n    public void onBindViewHolder(@NonNull ViewHolderInterface.MainListViewHolder holder, int position) {\n\n\\\\------------\n      \\\\omitting code that does not relate to animations\n\\\\------------\n\n        this.beforeDraw(holder.textInfoOne, () -&gt; {\n            Paint textPaint = holder.textInfoOne.getPaint();\n            String text = holder.textInfoOne.getText().toString();\n            int itemWidth = Math.round(textPaint.measureText(text));\n\n            int viewWidth = holder.scrollText.getWidth();\n\n            if (itemWidth &gt; viewWidth) {\n                holder.obScroller = new ObjectScroller(holder.textInfoOne, itemWidth,viewWidth);\n                holder.obScroller.startObjectScroll();\n            }\n        });\n\n    }\n\npublic void beforeDraw(View view, Runnable runnable) {\n        ViewTreeObserver.OnPreDrawListener preDraw = new ViewTreeObserver.OnPreDrawListener() {\n            @Override\n            public boolean onPreDraw() {\n                view.getViewTreeObserver().removeOnPreDrawListener(this);\n                runnable.run();\n                return true;\n            }\n        };\n        view.getViewTreeObserver().addOnPreDrawListener(preDraw);\n    }\n</code></pre>\n<p>where <code>beforeDraw</code> is just a method created to allow me to find the views' proper size on the screen to decide if the text should be scrolled or not.</p>\n<p>Anyway, the problem I am facing is the fact that, when utilizing the <code>onAnimationRepeat(Animator animation)</code>, the animation restarts, and just then it pauses for the time determined as delay to restart scrolling. This delay before resuming the animation is part of what I envisioned, but it isn't everything that I want to achieve, since what I wanted is that the animation also paused <strong>after</strong> its completion but <strong>before</strong> its restart.</p>\n<p>To be more clear, my <strong>desired</strong> outcome would be as follows:</p>\n<pre><code>Delay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; Pause at the End -&gt; Restart Animation with Delay -&gt; ...\n</code></pre>\n<p>However, what I am getting so far would be like this:</p>\n<pre><code>Delay -&gt; Start Animation -&gt; Complete Scroll Animation -&gt; **No Pause** -&gt; Restart Animation with Delay -&gt; ...\n</code></pre>\n<p>Is it possible to achieve such thing with ObjectAnimator? I changed from Animation to ObjectAnimator precisely because I wanted to pause the animation <strong>before</strong> restarting it.</p>\n<p>Also, I would prefer to have a solution that uses the <code>setRepeatCount(ValueAnimator.INFINITE)</code> option since I want to make sure it will never stop scrolling even if the user does forget his phone unlocked.</p>\n<p>Thanks in advance for all the help!</p>\n"},{"tags":["java","eclipse","git","ant"],"comments":[{"owner":{"account_id":3618474,"reputation":1861,"user_id":3017818,"accept_rate":100,"display_name":"Daniel"},"score":0,"creation_date":1408526773,"post_id":25401124,"comment_id":39619100,"body_markdown":"Did you put that class&#39; jar on build path in : `right click on project -&gt; Properties -&gt; Java Build Path -&gt; Libraries` ?","body":"Did you put that class&#39; jar on build path in : <code>right click on project -&gt; Properties -&gt; Java Build Path -&gt; Libraries</code> ?"},{"owner":{"account_id":4915484,"reputation":553,"user_id":3959526,"display_name":"Милош Керкез"},"score":0,"creation_date":1408526892,"post_id":25401124,"comment_id":39619170,"body_markdown":"On section build path is text &quot;no action available&quot;. So i cant enter in build path","body":"On section build path is text &quot;no action available&quot;. So i cant enter in build path"},{"owner":{"account_id":441399,"reputation":2957,"user_id":831472,"accept_rate":76,"display_name":"Jack"},"score":0,"creation_date":1408527325,"post_id":25401124,"comment_id":39619425,"body_markdown":"Try to import the project as _Java_ _project_ instead of _general_ _project_.","body":"Try to import the project as <i>Java</i> <i>project</i> instead of <i>general</i> <i>project</i>."},{"owner":{"account_id":4915484,"reputation":553,"user_id":3959526,"display_name":"Милош Керкез"},"score":1,"creation_date":1408527832,"post_id":25401124,"comment_id":39619692,"body_markdown":"When i try like that, there is no project to import, that is why i import as general project. Sorry if my English is not so good.","body":"When i try like that, there is no project to import, that is why i import as general project. Sorry if my English is not so good."},{"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"score":1,"creation_date":1645093471,"post_id":25401124,"comment_id":125781307,"body_markdown":"A note: not your case, but the same error mesage can also happen in cases where you have a multimodule project where there parent projec is only a mvn project.\nIf you open the java file from there it will show this message.\nThe solution is to simply open the same file from the module that has the java nature.","body":"A note: not your case, but the same error mesage can also happen in cases where you have a multimodule project where there parent projec is only a mvn project. If you open the java file from there it will show this message. The solution is to simply open the same file from the module that has the java nature."}],"answers":[{"comments":[{"owner":{"account_id":313297,"reputation":2095,"user_id":627855,"accept_rate":57,"display_name":"ImranRazaKhan"},"score":0,"creation_date":1525791060,"post_id":25401489,"comment_id":87490273,"body_markdown":"@loganathan in my file i have these entries but still getting \t&lt;natures&gt;\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n\t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n\t&lt;/natures&gt;","body":"@loganathan in my file i have these entries but still getting \t&lt;natures&gt; \t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt; \t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt; \t&lt;/natures&gt;"},{"owner":{"account_id":4915334,"reputation":1746,"user_id":3959406,"display_name":"Loganathan Mohanraj"},"score":0,"creation_date":1526390981,"post_id":25401489,"comment_id":87718940,"body_markdown":"@ImranRazaKhan - This should work actually. If it didn&#39;t, please remove the project in your eclipse and import the project as a Java or Maven project.","body":"@ImranRazaKhan - This should work actually. If it didn&#39;t, please remove the project in your eclipse and import the project as a Java or Maven project."},{"owner":{"account_id":4790390,"reputation":1022,"user_id":3869736,"display_name":"Akhil S Kamath"},"score":0,"creation_date":1538371619,"post_id":25401489,"comment_id":92104756,"body_markdown":"this solution + on project properties -&gt; project facets -&gt; java version drop-down (just change and back to working version)..this solved issue in my eclipse (oxygen 2)","body":"this solution + on project properties -&gt; project facets -&gt; java version drop-down (just change and back to working version)..this solved issue in my eclipse (oxygen 2)"},{"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"score":0,"creation_date":1560932269,"post_id":25401489,"comment_id":99894725,"body_markdown":"@LoganathanMohanraj I actually imported my project as existing maven project, I didn&#39;t see above code in .project file, but yea maven2Nature is present","body":"@LoganathanMohanraj I actually imported my project as existing maven project, I didn&#39;t see above code in .project file, but yea maven2Nature is present"},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1595344798,"post_id":25401489,"comment_id":111439044,"body_markdown":"where is this .project file??","body":"where is this .project file??"}],"tags":[],"owner":{"account_id":4915334,"reputation":1746,"user_id":3959406,"display_name":"Loganathan Mohanraj"},"comment_count":5,"down_vote_count":1,"up_vote_count":79,"is_accepted":true,"score":78,"last_activity_date":1408527703,"creation_date":1408527703,"answer_id":25401489,"question_id":25401124,"body_markdown":"Since you imported the project as a General Project, it does not have the java nature and that is the problem.\r\n\r\nAdd the below lines in the .project file of your workspace and refresh.\r\n    \r\n    &lt;natures&gt;\r\n          &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n    &lt;/natures&gt;\r\n    ","title":"This compilation unit is not on the build path of a Java project","body":"<p>Since you imported the project as a General Project, it does not have the java nature and that is the problem.</p>\n\n<p>Add the below lines in the .project file of your workspace and refresh.</p>\n\n<pre><code>&lt;natures&gt;\n      &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n&lt;/natures&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10926518,"reputation":91,"user_id":8031092,"display_name":"Shaleen Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495541096,"creation_date":1495541096,"answer_id":44134351,"question_id":25401124,"body_markdown":"Go to Project-&gt; right Click-&gt; Select Properties -&gt; project Facets -&gt; modify the java version for your JDK version you are using.","title":"This compilation unit is not on the build path of a Java project","body":"<p>Go to Project-> right Click-> Select Properties -> project Facets -> modify the java version for your JDK version you are using.</p>\n"},{"comments":[{"owner":{"account_id":3246859,"reputation":1352,"user_id":2738155,"accept_rate":88,"display_name":"chomp"},"score":2,"creation_date":1564245866,"post_id":45856615,"comment_id":100970761,"body_markdown":"As a general recommendation, try to do Maven-&gt;Update Project before re-importing,  it&#39;s quicker and in my case fixed the problem","body":"As a general recommendation, try to do Maven-&gt;Update Project before re-importing,  it&#39;s quicker and in my case fixed the problem"}],"tags":[],"owner":{"account_id":9027805,"reputation":451,"user_id":6726558,"display_name":"kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1536321660,"creation_date":1503563266,"answer_id":45856615,"question_id":25401124,"body_markdown":"If it is a Maven project then sometimes re-importing of it helps:\r\n\r\n 1. Right-click the project in the Project Explorer and choose Delete.\r\n 2. File &gt; Import... &gt; Maven &gt; Existing Maven Projects &gt; Next &gt; Root Directory &gt; Browse your project from Disk.\r\n\r\nHope it will resolve the issue.","title":"This compilation unit is not on the build path of a Java project","body":"<p>If it is a Maven project then sometimes re-importing of it helps:</p>\n\n<ol>\n<li>Right-click the project in the Project Explorer and choose Delete.</li>\n<li>File > Import... > Maven > Existing Maven Projects > Next > Root Directory > Browse your project from Disk.</li>\n</ol>\n\n<p>Hope it will resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":3159500,"reputation":1541,"user_id":8919607,"display_name":"Pradeep Anchan"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1533731085,"creation_date":1533731085,"answer_id":51746690,"question_id":25401124,"body_markdown":"Another alternative to Loganathan Mohanraj&#39;s solution (which effectively does the same, but from the GUI):\r\n\r\n 1. Right-Click on your project\r\n 2. Go to &quot;Properties&quot;\r\n 3. Choose &quot;Project Natures&quot;\r\n 4. Click on &quot;Add&quot;\r\n 5. Choose &quot;Java&quot;\r\n 6. Click &quot;Apply and Close&quot;\r\n","title":"This compilation unit is not on the build path of a Java project","body":"<p>Another alternative to Loganathan Mohanraj's solution (which effectively does the same, but from the GUI):</p>\n\n<ol>\n<li>Right-Click on your project</li>\n<li>Go to \"Properties\"</li>\n<li>Choose \"Project Natures\"</li>\n<li>Click on \"Add\"</li>\n<li>Choose \"Java\"</li>\n<li>Click \"Apply and Close\"</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7062643,"reputation":631,"user_id":5407229,"display_name":"Joshua Swain"},"score":0,"creation_date":1648220283,"post_id":55733198,"comment_id":126576663,"body_markdown":"What parts of this config are important?","body":"What parts of this config are important?"}],"tags":[],"owner":{"account_id":15764434,"reputation":11,"user_id":11375264,"display_name":"Pavan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555524434,"creation_date":1555522674,"answer_id":55733198,"question_id":25401124,"body_markdown":"Add this to .project file\r\n    \r\n         \r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n            &lt;projectDescription&gt;\r\n            \t&lt;name&gt;framework&lt;/name&gt;\r\n            \t&lt;comment&gt;&lt;/comment&gt;\r\n            \t&lt;projects&gt;\r\n            \t&lt;/projects&gt;\r\n            \t&lt;buildSpec&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.wst.common.project.facet.core.builder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t\t&lt;buildCommand&gt;\r\n            \t\t\t&lt;name&gt;org.eclipse.wst.validation.validationbuilder&lt;/name&gt;\r\n            \t\t\t&lt;arguments&gt;\r\n            \t\t\t&lt;/arguments&gt;\r\n            \t\t&lt;/buildCommand&gt;\r\n            \t&lt;/buildSpec&gt;\r\n            \t&lt;natures&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.jem.workbench.JavaEMFNature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.wst.common.modulecore.ModuleCoreNature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n            \t\t&lt;nature&gt;org.eclipse.wst.common.project.facet.core.nature&lt;/nature&gt;\r\n            \t&lt;/natures&gt;\r\n            &lt;/projectDescription&gt;\r\n\r\n","title":"This compilation unit is not on the build path of a Java project","body":"<p>Add this to .project file</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;projectDescription&gt;\n            &lt;name&gt;framework&lt;/name&gt;\n            &lt;comment&gt;&lt;/comment&gt;\n            &lt;projects&gt;\n            &lt;/projects&gt;\n            &lt;buildSpec&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.wst.common.project.facet.core.builder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n                &lt;buildCommand&gt;\n                    &lt;name&gt;org.eclipse.wst.validation.validationbuilder&lt;/name&gt;\n                    &lt;arguments&gt;\n                    &lt;/arguments&gt;\n                &lt;/buildCommand&gt;\n            &lt;/buildSpec&gt;\n            &lt;natures&gt;\n                &lt;nature&gt;org.eclipse.jem.workbench.JavaEMFNature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.wst.common.modulecore.ModuleCoreNature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n                &lt;nature&gt;org.eclipse.wst.common.project.facet.core.nature&lt;/nature&gt;\n            &lt;/natures&gt;\n        &lt;/projectDescription&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967729,"reputation":379,"user_id":1767500,"display_name":"Jero Dungog"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584577109,"creation_date":1584577109,"answer_id":60749249,"question_id":25401124,"body_markdown":"For those who still have problems after attempting the suggestions above:\r\nI solved the issue by updating the maven project.","title":"This compilation unit is not on the build path of a Java project","body":"<p>For those who still have problems after attempting the suggestions above:\nI solved the issue by updating the maven project.</p>\n"},{"tags":[],"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1584980452,"creation_date":1584980452,"answer_id":60817516,"question_id":25401124,"body_markdown":"In my case, I have Eclipse Maven project.  I had the same issue and I posted detailed explanation of the issue and answer here\r\n[https://stackoverflow.com/questions/60817455/eclipse-maven-code-completion-fails-this-compilation-unit-is-not-on-the-build/60817456#60817456][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60817455/eclipse-maven-code-completion-fails-this-compilation-unit-is-not-on-the-build/60817456#60817456","title":"This compilation unit is not on the build path of a Java project","body":"<p>In my case, I have Eclipse Maven project.  I had the same issue and I posted detailed explanation of the issue and answer here\n<a href=\"https://stackoverflow.com/questions/60817455/eclipse-maven-code-completion-fails-this-compilation-unit-is-not-on-the-build/60817456#60817456\">Eclipse Maven - Code Completion fails &quot;This compilation unit is not on the build path of a Java project&quot; and &quot;Failed to Download Index&quot; Error</a></p>\n"},{"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":1,"creation_date":1602856982,"post_id":64389809,"comment_id":113860756,"body_markdown":"Welcome to SO. Though we thank you for your answer, it would be better if it provided additional value on top of the other answers. In this case, your answer does not provide additional value, since another user already posted that solution. If a previous answer was helpful to you, you should vote it up once you have enough reputation","body":"Welcome to SO. Though we thank you for your answer, it would be better if it provided additional value on top of the other answers. In this case, your answer does not provide additional value, since another user already posted that solution. If a previous answer was helpful to you, you should vote it up once you have enough reputation"}],"tags":[],"owner":{"account_id":18059623,"reputation":51,"user_id":13127045,"display_name":"Chinmoy Kundu"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602853738,"creation_date":1602853738,"answer_id":64389809,"question_id":25401124,"body_markdown":"If your project is imported as an existing maven project then --&gt; **Just right click on project and do maven update. It resolved my similar issue.**","title":"This compilation unit is not on the build path of a Java project","body":"<p>If your project is imported as an existing maven project then --&gt; <strong>Just right click on project and do maven update. It resolved my similar issue.</strong></p>\n"},{"tags":[],"owner":{"account_id":17579456,"reputation":1,"user_id":12753555,"display_name":"Uthanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629782939,"creation_date":1629782939,"answer_id":68902196,"question_id":25401124,"body_markdown":"Thought I&#39;d add this one as a potential cause.  In my case, I encountered this issue when performing a File search.  When I opened the found file(s), I encountered this issue.\r\n\r\nIn my case, I have a nested Maven module in a POM project and when I opened the file it opened not the file in the module, but the file from the parent POM project.  Simply reopening that file from the module project resolved the issue.","title":"This compilation unit is not on the build path of a Java project","body":"<p>Thought I'd add this one as a potential cause.  In my case, I encountered this issue when performing a File search.  When I opened the found file(s), I encountered this issue.</p>\n<p>In my case, I have a nested Maven module in a POM project and when I opened the file it opened not the file in the module, but the file from the parent POM project.  Simply reopening that file from the module project resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":25396338,"reputation":1,"user_id":19206538,"display_name":"Durga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653953527,"creation_date":1653568550,"answer_id":72391914,"question_id":25401124,"body_markdown":"If you open any existing java file in &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;R&lt;/kbd&gt; and try to write a code in that file, it will show that error message.\r\n\r\nPlease open the existing java file in &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt; and write the code in that file, you will not get that error message.","title":"This compilation unit is not on the build path of a Java project","body":"<p>If you open any existing java file in <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd> and try to write a code in that file, it will show that error message.</p>\n<p>Please open the existing java file in <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> and write the code in that file, you will not get that error message.</p>\n"},{"comments":[{"owner":{"account_id":24132174,"reputation":568,"user_id":18099647,"display_name":"HiroCereal"},"score":0,"creation_date":1687461530,"post_id":76509901,"comment_id":134944005,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34570203)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34570203\">From Review</a>"},{"owner":{"account_id":21385554,"reputation":21,"user_id":15750684,"display_name":"Rebecca Li"},"score":0,"creation_date":1693591342,"post_id":76509901,"comment_id":135786139,"body_markdown":"but that is how I solve my problem. I am trying to help","body":"but that is how I solve my problem. I am trying to help"}],"tags":[],"owner":{"account_id":21385554,"reputation":21,"user_id":15750684,"display_name":"Rebecca Li"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687206757,"creation_date":1687206757,"answer_id":76509901,"question_id":25401124,"body_markdown":"Please remember only open 1 project in one eclipse window, otherwise eclipse gets confused. and this works for me.","title":"This compilation unit is not on the build path of a Java project","body":"<p>Please remember only open 1 project in one eclipse window, otherwise eclipse gets confused. and this works for me.</p>\n"}],"owner":{"account_id":4915484,"reputation":553,"user_id":3959526,"display_name":"Милош Керкез"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185376,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":25401489,"answer_count":11,"score":53,"last_activity_date":1687206757,"creation_date":1408526578,"question_id":25401124,"body_markdown":"When I try to use `ctrl+space` this error is shown: \r\n\r\n    This compilation unit is not on the build path of a Java project.\r\n\r\nI see that there are similar topics but my work environment is Eclipse and i pull my project from Git (I import project as general project) and i use Apache Ant. Can anyone help me?","title":"This compilation unit is not on the build path of a Java project","body":"<p>When I try to use <code>ctrl+space</code> this error is shown: </p>\n\n<pre><code>This compilation unit is not on the build path of a Java project.\n</code></pre>\n\n<p>I see that there are similar topics but my work environment is Eclipse and i pull my project from Git (I import project as general project) and i use Apache Ant. Can anyone help me?</p>\n"},{"tags":["java","spring","memory-leaks","jvm","spring-rabbit"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686916510,"post_id":76488166,"comment_id":134867779,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason. It is ok for the heap screen though you should have highlighted the actual line that you wanted us to see. Versions of packages are not visual information and should be provided textually.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason. It is ok for the heap screen though you should have highlighted the actual line that you wanted us to see. Versions of packages are not visual information and should be provided textually."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686916825,"post_id":76488166,"comment_id":134867853,"body_markdown":"How are you certain that that retained memory is the cause of the slowness? What is the used heap and max heap over time? What is the CPU use over time? Have you analyzed thread dumps? You haven&#39;t shown any relationship between that line in the heap dump and the slowness issue. Be sure that this is not an [XY Problem](https://xyproblem.info/). Have you look at the release notes of every Spring library and AMQP libraries to see if memory leaks are fixed? Are there other uses of AMQP in your application that you didn&#39;t share? Why you didn&#39;t share the full class?","body":"How are you certain that that retained memory is the cause of the slowness? What is the used heap and max heap over time? What is the CPU use over time? Have you analyzed thread dumps? You haven&#39;t shown any relationship between that line in the heap dump and the slowness issue. Be sure that this is not an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Have you look at the release notes of every Spring library and AMQP libraries to see if memory leaks are fixed? Are there other uses of AMQP in your application that you didn&#39;t share? Why you didn&#39;t share the full class?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686917159,"post_id":76488166,"comment_id":134867909,"body_markdown":"Does this answer your question? [Memory leak outgoing messages rabbitmq](https://stackoverflow.com/questions/71482356/memory-leak-outgoing-messages-rabbitmq)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71482356/memory-leak-outgoing-messages-rabbitmq\">Memory leak outgoing messages rabbitmq</a>"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686922749,"post_id":76488166,"comment_id":134869133,"body_markdown":"Why is your `RabbitTemplate` is a ` @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)`? Why default `singleton` is not enough for you?","body":"Why is your <code>RabbitTemplate</code> is a ` @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)<code>? Why default </code>singleton` is not enough for you?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1686923279,"post_id":76488166,"comment_id":134869269,"body_markdown":"Would be great if you can share a minimal project with us to be able to reproduce the problem on our side.","body":"Would be great if you can share a minimal project with us to be able to reproduce the problem on our side."},{"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"score":0,"creation_date":1686968171,"post_id":76488166,"comment_id":134875591,"body_markdown":"thank you very much,i will add more information @aled","body":"thank you very much,i will add more information @aled"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687009183,"post_id":76488166,"comment_id":134878796,"body_markdown":"Edit the question to add additional information. Answers should be posted as answers not comments.","body":"Edit the question to add additional information. Answers should be posted as answers not comments."},{"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"score":0,"creation_date":1687146681,"post_id":76488166,"comment_id":134890871,"body_markdown":"thank you very much @aled, I had post the answer and changed problem.","body":"thank you very much @aled, I had post the answer and changed problem."},{"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"score":0,"creation_date":1687146794,"post_id":76488166,"comment_id":134890881,"body_markdown":"thank you very much @ArtemBilan ,you are right, that is the reason","body":"thank you very much @ArtemBilan ,you are right, that is the reason"}],"answers":[{"tags":[],"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687206462,"creation_date":1687146547,"answer_id":76503508,"question_id":76488166,"body_markdown":"the reason of leak is here, SCOPE_PROTOTYPE and RabbitTemplate template = rabbitConfig.firstRabbitTemplate(); too many rabbitTemplate objects, and these rabbit template is in the map, and not gc by jvm, because the channel is not close, the map is related to the channel. so the map not gc by jvm. i think the designer of spring-rabbit not consider too many values in that map. the designer might think only one or serval rabbitTemplate objects, so the map will not too big. but when rabbitTemplate use SCOPE_PROTOTYPE or new every time, that will generate too many rabbitTemplate in the map, that cause the memory leak. \r\nI had changed to the below code.\r\n\r\n```\r\n//remove the @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n//default singleton\r\n@Primary\r\n@Bean(name = &quot;firstRabbitTemplate&quot;)\r\npublic RabbitTemplate firstRabbitTemplate() {\r\n    return new RabbitTemplate(firstConnectionFactory());\r\n}\r\n\r\n//I use spring autowired to import RabbitTemplate Object \r\n@Autowired\r\nRabbitTemplate firstRabbitTemplate;\r\n\r\n/**\r\n * send message;\r\n */\r\nprivate void prepareForString(String exchange, String queueName, JSONObject message) {\r\n    try {\r\n       //use just one firstRabbitTemplate obejct\r\n       firstRabbitTemplate.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,\r\n                    DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\r\n    } catch (Exception ex) {\r\n        log.error(ex.getMessage());\r\n    }\r\n\r\n}\r\n```\r\n","title":"spring-rabbitmq find a memory leak, but i don&#39;t know the reason, can someone help me","body":"<p>the reason of leak is here, SCOPE_PROTOTYPE and RabbitTemplate template = rabbitConfig.firstRabbitTemplate(); too many rabbitTemplate objects, and these rabbit template is in the map, and not gc by jvm, because the channel is not close, the map is related to the channel. so the map not gc by jvm. i think the designer of spring-rabbit not consider too many values in that map. the designer might think only one or serval rabbitTemplate objects, so the map will not too big. but when rabbitTemplate use SCOPE_PROTOTYPE or new every time, that will generate too many rabbitTemplate in the map, that cause the memory leak.\nI had changed to the below code.</p>\n<pre><code>//remove the @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n//default singleton\n@Primary\n@Bean(name = &quot;firstRabbitTemplate&quot;)\npublic RabbitTemplate firstRabbitTemplate() {\n    return new RabbitTemplate(firstConnectionFactory());\n}\n\n//I use spring autowired to import RabbitTemplate Object \n@Autowired\nRabbitTemplate firstRabbitTemplate;\n\n/**\n * send message;\n */\nprivate void prepareForString(String exchange, String queueName, JSONObject message) {\n    try {\n       //use just one firstRabbitTemplate obejct\n       firstRabbitTemplate.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,\n                    DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\n    } catch (Exception ex) {\n        log.error(ex.getMessage());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25924566,"reputation":11,"user_id":19646609,"display_name":"Jason Wen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503508,"answer_count":1,"score":0,"last_activity_date":1687206462,"creation_date":1686902762,"question_id":76488166,"body_markdown":"my application use rabbit mq, the versions are below\r\n\r\n&gt; spring-amqp : 2.2.17.RELEASE&lt;br/&gt;\r\n&gt; spring-rabbit : 2.2.17.RELEASE&lt;br/&gt;\r\n&gt; spring-boot: 2.3.11.RELEASE&lt;br/&gt;\r\n\r\n\r\n````\r\n    @Primary\r\n    @Bean(name = &quot;firstConnectionFactory&quot;)\r\n    public ConnectionFactory firstConnectionFactory() {\r\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n        connectionFactory.setHost(host);\r\n        connectionFactory.setPort(port);\r\n        connectionFactory.setUsername(username);\r\n        connectionFactory.setPassword(password);\r\n        connectionFactory.setPublisherConfirms(true); \r\n        return connectionFactory;\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;firstRabbitTemplate&quot;)\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public RabbitTemplate firstRabbitTemplate() {\r\n        return new RabbitTemplate(firstConnectionFactory());\r\n    }\r\n\r\n    //send a message\r\n    private void prepareForString(String exchange, String queueName, JSONObject message) {\r\n        try {\r\n            RabbitTemplate template = rabbitConfig.firstRabbitTemplate();\r\n            template.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,   DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\r\n        } catch (Exception ex) {\r\n            log.error(ex.getMessage());\r\n        }\r\n    }\r\n````\r\n\r\nafter the application run about 1 year, i find the application run very slow, dump the heap, then i see\r\n\r\n[heap show][2]\r\n&gt; One instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot; occupies 405.62 MB (12.57%) bytes. The memory is accumulated in one instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot;.\r\nKeywords\r\norg.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl\r\norg.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0\r\n\r\n\r\n\r\nit looks like the PublisherCallbackChannelImpl.java has a listeners, and the listeners is very huge. the listeners is defined below\r\n\r\n````\r\n//PublisherCallbackChannelImpl.java line 59\r\nprivate final ConcurrentMap&lt;String, PublisherCallbackChannel.Listener&gt; listeners = new ConcurrentHashMap(); \r\n````\r\n\r\nthe below is the code of put elements in map\r\n````\r\n    //PublisherCallbackChannelImpl.java line 549\r\n    public void addListener(PublisherCallbackChannel.Listener listener) {\r\n        Assert.notNull(listener, &quot;Listener cannot be null&quot;);\r\n        if (this.listeners.size() == 0) {\r\n            this.delegate.addConfirmListener(this);\r\n            this.delegate.addReturnListener(this);\r\n        }\r\n        //the key code, below &#39;listener&#39; is RabbitTemplate object\r\n        if (this.listeners.putIfAbsent(listener.getUUID(), listener) == null) {\r\n            this.pendingConfirms.put(listener, new ConcurrentSkipListMap());\r\n            if (this.logger.isDebugEnabled()) {\r\n                this.logger.debug(&quot;Added listener &quot; + listener);\r\n            }\r\n        }\r\n\r\n    }\r\n````\r\n\r\ni want know why this happens, and where is the listeners.remove(XXX), or it has no listeners.remove()?\r\n\r\ni try look for the PublisherCallbackChannelImpl.java , but there is no listeners.remove() anywhere\r\n\r\nso i what know, is this the reason of memory leak?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RSoyK.png\r\n  [2]: https://i.stack.imgur.com/9prVl.png","title":"spring-rabbitmq find a memory leak, but i don&#39;t know the reason, can someone help me","body":"<p>my application use rabbit mq, the versions are below</p>\n<blockquote>\n<p>spring-amqp : 2.2.17.RELEASE<br/>\nspring-rabbit : 2.2.17.RELEASE<br/>\nspring-boot: 2.3.11.RELEASE<br/></p>\n</blockquote>\n<pre><code>    @Primary\n    @Bean(name = &quot;firstConnectionFactory&quot;)\n    public ConnectionFactory firstConnectionFactory() {\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n        connectionFactory.setHost(host);\n        connectionFactory.setPort(port);\n        connectionFactory.setUsername(username);\n        connectionFactory.setPassword(password);\n        connectionFactory.setPublisherConfirms(true); \n        return connectionFactory;\n    }\n\n    @Primary\n    @Bean(name = &quot;firstRabbitTemplate&quot;)\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public RabbitTemplate firstRabbitTemplate() {\n        return new RabbitTemplate(firstConnectionFactory());\n    }\n\n    //send a message\n    private void prepareForString(String exchange, String queueName, JSONObject message) {\n        try {\n            RabbitTemplate template = rabbitConfig.firstRabbitTemplate();\n            template.convertAndSend(exchange, queueName, JSON.toJSONStringWithDateFormat(message,   DateUtils.YYYYMMDDHHMMSS, SerializerFeature.WriteMapNullValue));\n        } catch (Exception ex) {\n            log.error(ex.getMessage());\n        }\n    }\n</code></pre>\n<p>after the application run about 1 year, i find the application run very slow, dump the heap, then i see</p>\n<p><a href=\"https://i.stack.imgur.com/9prVl.png\" rel=\"nofollow noreferrer\">heap show</a></p>\n<blockquote>\n<p>One instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot; occupies 405.62 MB (12.57%) bytes. The memory is accumulated in one instance of &quot;org.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl&quot; loaded by &quot;org.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0&quot;.\nKeywords\norg.springframework.amqp.rabbit.connection.PublisherCallbackChannelImpl\norg.springframework.boot.loader.LaunchedURLClassLoader @ 0x6c001a6d0</p>\n</blockquote>\n<p>it looks like the PublisherCallbackChannelImpl.java has a listeners, and the listeners is very huge. the listeners is defined below</p>\n<pre><code>//PublisherCallbackChannelImpl.java line 59\nprivate final ConcurrentMap&lt;String, PublisherCallbackChannel.Listener&gt; listeners = new ConcurrentHashMap(); \n</code></pre>\n<p>the below is the code of put elements in map</p>\n<pre><code>    //PublisherCallbackChannelImpl.java line 549\n    public void addListener(PublisherCallbackChannel.Listener listener) {\n        Assert.notNull(listener, &quot;Listener cannot be null&quot;);\n        if (this.listeners.size() == 0) {\n            this.delegate.addConfirmListener(this);\n            this.delegate.addReturnListener(this);\n        }\n        //the key code, below 'listener' is RabbitTemplate object\n        if (this.listeners.putIfAbsent(listener.getUUID(), listener) == null) {\n            this.pendingConfirms.put(listener, new ConcurrentSkipListMap());\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(&quot;Added listener &quot; + listener);\n            }\n        }\n\n    }\n</code></pre>\n<p>i want know why this happens, and where is the listeners.remove(XXX), or it has no listeners.remove()?</p>\n<p>i try look for the PublisherCallbackChannelImpl.java , but there is no listeners.remove() anywhere</p>\n<p>so i what know, is this the reason of memory leak?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":30741,"reputation":15343,"user_id":83952,"accept_rate":87,"display_name":"Cheung"},"score":0,"creation_date":1377750920,"post_id":18502273,"comment_id":27203564,"body_markdown":"Thanks, is it any keyword i can set the scope of &quot;cur&quot;, so that i close the cur in activity, but not affect adaptor. thanks you.","body":"Thanks, is it any keyword i can set the scope of &quot;cur&quot;, so that i close the cur in activity, but not affect adaptor. thanks you."},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1377757196,"post_id":18502273,"comment_id":27205477,"body_markdown":"@Shiba, No, there&#39;s no such solution in Java.","body":"@Shiba, No, there&#39;s no such solution in Java."}],"tags":[],"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1377750427,"creation_date":1377750427,"answer_id":18502273,"question_id":18502204,"body_markdown":"You&#39;re passing the `Cursor` by reference, so there&#39;s a single instance of `Cursor` both in `Adapter` and in `Activity`. So once you closed the `Cursor` in `Activity`, you can&#39;t continue using it in the `Adapter`. So close it only when you&#39;re sure you don&#39;t need it again. Another problem with your code is that making database calls on the main thread is prohibited, try to rewrite your code using `AsyncTask` or `Loader`.","title":"Android (Java), variable default reference type?","body":"<p>You're passing the <code>Cursor</code> by reference, so there's a single instance of <code>Cursor</code> both in <code>Adapter</code> and in <code>Activity</code>. So once you closed the <code>Cursor</code> in <code>Activity</code>, you can't continue using it in the <code>Adapter</code>. So close it only when you're sure you don't need it again. Another problem with your code is that making database calls on the main thread is prohibited, try to rewrite your code using <code>AsyncTask</code> or <code>Loader</code>.</p>\n"},{"tags":[],"owner":{"account_id":2200360,"reputation":8355,"user_id":1944896,"accept_rate":80,"display_name":"TheLittleNaruto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687206094,"creation_date":1377750701,"answer_id":18502324,"question_id":18502204,"body_markdown":"What Egor says is absolutely right. Also you  need to optimize your code little more like below:\r\n   \r\n\r\n    try {\r\n            Cursor cur = getBrowserData(); //Return an amount of data in cursor type.\r\n            UrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\r\n            \r\n        \r\n            AutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\r\n            txtUrl.setAdapter(adapter);\r\n        } catch(Exception ex) { \r\n            // Log the exception&#39;s message or whatever you like\r\n    Log.e(&quot;Exception&quot;, ex.getMessage());\r\n        } finally {\r\n            try {\r\n              if( cur != null &amp;&amp; !cursor.isClosed )\r\n                cur .close();\r\n               \r\n            } catch(Exception ex) {Log.e(&quot;Exception&quot;, ex.getMessage());}\r\n        }","title":"Android (Java), variable default reference type?","body":"<p>What Egor says is absolutely right. Also you  need to optimize your code little more like below:</p>\n<pre><code>try {\n        Cursor cur = getBrowserData(); //Return an amount of data in cursor type.\n        UrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\n        \n    \n        AutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\n        txtUrl.setAdapter(adapter);\n    } catch(Exception ex) { \n        // Log the exception's message or whatever you like\nLog.e(&quot;Exception&quot;, ex.getMessage());\n    } finally {\n        try {\n          if( cur != null &amp;&amp; !cursor.isClosed )\n            cur .close();\n           \n        } catch(Exception ex) {Log.e(&quot;Exception&quot;, ex.getMessage());}\n    }\n</code></pre>\n"}],"owner":{"account_id":30741,"reputation":15343,"user_id":83952,"accept_rate":87,"display_name":"Cheung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18502273,"answer_count":2,"score":0,"last_activity_date":1687206094,"creation_date":1377749990,"question_id":18502204,"body_markdown":"Today i try to learn android sdk, but experience a very strange problem.\r\n\r\nBelow is the code of :\r\n\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tsetContentView(R.layout.activity_auto_complete_test);\r\n    \r\n    \tCursor cur = getBrowserData(); //Return an amount of data in cursor type.\r\n    \tUrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\r\n    \t//cur.close(); uncomment this, data will gone.\r\n    \t\r\n    \tAutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\r\n    \ttxtUrl.setAdapter(adapter);\r\n    }\r\n\r\n\r\nThe problem is on the line : **cur.close();**\r\nUrlAdapter is custom class to fill the **Cursor** to **adapter**, and bind to AutoCompleteTextView.\r\n\r\nOn above, after i fill the cur (Cursor) to adapter, i close the cur for resource saving.\r\nHowever, after i close the cur, it affect the adapter.\r\n\r\nThe `AutoComplete` list will be nothing.\r\n\r\nBut it don&#39;t happen on `C#`,\r\nJust like i fill `DataTable` to `DataAdaptor`, and `Dispose()` the `DataTable`, the dataon DataAdaptor will be preserve.","title":"Android (Java), variable default reference type?","body":"<p>Today i try to learn android sdk, but experience a very strange problem.</p>\n\n<p>Below is the code of :</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_auto_complete_test);\n\n    Cursor cur = getBrowserData(); //Return an amount of data in cursor type.\n    UrlAdapter adapter = new UrlAdapter(AutoCompleteTest.this, cur);\n    //cur.close(); uncomment this, data will gone.\n\n    AutoCompleteTextView txtUrl = (AutoCompleteTextView) this.findViewById(R.id.txtUrl);\n    txtUrl.setAdapter(adapter);\n}\n</code></pre>\n\n<p>The problem is on the line : <strong>cur.close();</strong>\nUrlAdapter is custom class to fill the <strong>Cursor</strong> to <strong>adapter</strong>, and bind to AutoCompleteTextView.</p>\n\n<p>On above, after i fill the cur (Cursor) to adapter, i close the cur for resource saving.\nHowever, after i close the cur, it affect the adapter.</p>\n\n<p>The <code>AutoComplete</code> list will be nothing.</p>\n\n<p>But it don't happen on <code>C#</code>,\nJust like i fill <code>DataTable</code> to <code>DataAdaptor</code>, and <code>Dispose()</code> the <code>DataTable</code>, the dataon DataAdaptor will be preserve.</p>\n"},{"tags":["java","spring-boot","maven","smtp","timeout"],"owner":{"account_id":28783449,"reputation":9,"user_id":22044527,"display_name":"Anonymous_Footballer_11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687205649,"creation_date":1686940443,"question_id":76492806,"body_markdown":"I am trying to create a &#39;helloworld&#39; application with Java 17, Spring Boot 3.1 and Maven 4.0 that can send emails with a simple text file attachment. I am using the `JavaMailSender` class provided by Jakarta Mail (2.1.1) from the `spring-boot-starter-mail` artifact. I have successfully managed to create the `EmailSender` class, shown below: \r\n\r\n```java\r\n@Component\r\npublic class EmailSender {\r\n\r\n\tprivate String emailFrom = &quot;Email 1&quot;;\r\n\tprivate String emailTo = &quot;Email 2&quot;;\r\n\tprivate String emailCc = &quot;Email 2&quot;;\r\n\r\n\t@Autowired\r\n\tprivate JavaMailSender javaMailSender;\r\n\r\n\tpublic int send(String message, String title, File file) throws MessagingException {\r\n\r\n\t\tMimeMessage msg = javaMailSender.createMimeMessage();\r\n\t\tMimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n\r\n\t\thelper.setFrom(emailFrom);\r\n\t\thelper.setCc(emailCc);\r\n\t\thelper.setSubject(title);\r\n\t\thelper.setTo(emailTo);\r\n\t\tif (file != null) {\r\n\t\t\thelper.addAttachment(&quot;Test&quot;, file);\r\n\t\t}\r\n\t\thelper.setText(message, false);\r\n\t\ttry {\r\n\t\t\tjavaMailSender.send(msg);\r\n\t\t} catch (Throwable t) {\r\n\t\t\tSystem.out.println(t.toString());\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n}\r\n```\r\n\r\nUsing the following properties in application.properties, this method works, and sends emails using Gmails SMTP server: \r\n\r\n\r\n```properties\r\nspring.mail.host=smtp.gmail.com\r\nspring.mail.properties.mail.debug=true\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.transport.protocol=smtp\r\nspring.mail.port=587\r\nspring.mail.username=somone@gmail.com\r\nspring.mail.password=an app password\r\n```\r\n\r\nHowever, when I change `spring.mail.host=smtp.internal-organization-server`, my problem arises. The  `send` method in the `EmailSender` class hangs on the `javaMailSender.send(msg)` line for about 2 minutes. This is the debugging output when I run my `testSendEmail()` method: \r\n\r\n```text\r\nDEBUG SMTP: connected to host &quot;smtp-internal-organization-server&quot;, port: 25\r\n\r\n... Everything that is expected ...\r\n\r\nContent-Disposition: attachment; filename=Test\r\n\r\nThis is the first line of the file\r\nThis is the second and last line in file\r\n------=_Part_0_number.number--\r\n.\r\n\r\n```\r\n\r\nDespite the debugging input raising no errors and ending with the `.\\n` characters as expected, the connection with the SMTP server does not terminate for around 2 minutes, and then this error is thrown:\r\n\r\n```text\r\nRSET\r\nDEBUG SMTP: EOF: [EOF]\r\nDEBUG SMTP: MessagingException while sending, THROW: \r\norg.eclipse.angus.mail.smtp.SMTPSendFailedException: 421 4.4.2 internal-server-name Error: timeout exceeded\r\n```\r\n\r\nI tried every combination of properties in the application properties file to get it to work, including changing the port number, connection type, and the authentication and tls protocols, but still had the same issue. Finally, while developing a different feature, I found that the `javaMailSender.send(msg)` method works **if and only if** I add **all** of the following dependencies the to my pom.xml file: \r\n\r\n```xml\r\n\t\t&lt;!-- Oauth 2 --&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Webflux--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--Spring Doc--&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Actuator--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nRemoving any one of them causes the `send` method to start hanging again. UPDATE: In addition, this only allows methods called by J-Unit tests to send emails correctly. When the main method of a different application calls the same `send` method in the `EmailNotifier` class, it hangs and fails to terminate once again. I have not found dependencies that cause the connection to successfully terminate in this case. \r\n\r\nHere is my full pom.xml file for reference: \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.setup&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;helloworld&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot 3.1&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Other dependencies required to make Email Service work with Internal SMTP Server. Project compiles without them--&gt;\r\n\r\n\t\t&lt;!-- Oauth 2 --&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Webflux--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--Spring Doc--&gt; \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Boot Actuator--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- End of email dependencies --&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nMy two questions can be summarized as thus: \r\n\r\n1. What in these seemingly unrelated dependencies might cause the connection to an internal SMTP server to successfully terminate, when without them it does not? UPDATE: Why would these dependencies only affect methods ran as J-Unit tests? \r\n\r\n2. What might be causing this issue, given that it does not arise with Gmail&#39;s SMTP server? I suspect it is something to do with the local SMTP server, but have had no experience configuring one. \r\n\r\nThank you!","title":"JavaMailSender.send(msg) Method Fails to Successfully Terminate Connection With Internal SMTP Server in Java 17 and Spring Boot 3.1","body":"<p>I am trying to create a 'helloworld' application with Java 17, Spring Boot 3.1 and Maven 4.0 that can send emails with a simple text file attachment. I am using the <code>JavaMailSender</code> class provided by Jakarta Mail (2.1.1) from the <code>spring-boot-starter-mail</code> artifact. I have successfully managed to create the <code>EmailSender</code> class, shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class EmailSender {\n\n    private String emailFrom = &quot;Email 1&quot;;\n    private String emailTo = &quot;Email 2&quot;;\n    private String emailCc = &quot;Email 2&quot;;\n\n    @Autowired\n    private JavaMailSender javaMailSender;\n\n    public int send(String message, String title, File file) throws MessagingException {\n\n        MimeMessage msg = javaMailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n\n        helper.setFrom(emailFrom);\n        helper.setCc(emailCc);\n        helper.setSubject(title);\n        helper.setTo(emailTo);\n        if (file != null) {\n            helper.addAttachment(&quot;Test&quot;, file);\n        }\n        helper.setText(message, false);\n        try {\n            javaMailSender.send(msg);\n        } catch (Throwable t) {\n            System.out.println(t.toString());\n            return -1;\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>Using the following properties in application.properties, this method works, and sends emails using Gmails SMTP server:</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.properties.mail.debug=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.transport.protocol=smtp\nspring.mail.port=587\nspring.mail.username=somone@gmail.com\nspring.mail.password=an app password\n</code></pre>\n<p>However, when I change <code>spring.mail.host=smtp.internal-organization-server</code>, my problem arises. The  <code>send</code> method in the <code>EmailSender</code> class hangs on the <code>javaMailSender.send(msg)</code> line for about 2 minutes. This is the debugging output when I run my <code>testSendEmail()</code> method:</p>\n<pre><code>DEBUG SMTP: connected to host &quot;smtp-internal-organization-server&quot;, port: 25\n\n... Everything that is expected ...\n\nContent-Disposition: attachment; filename=Test\n\nThis is the first line of the file\nThis is the second and last line in file\n------=_Part_0_number.number--\n.\n\n</code></pre>\n<p>Despite the debugging input raising no errors and ending with the <code>.\\n</code> characters as expected, the connection with the SMTP server does not terminate for around 2 minutes, and then this error is thrown:</p>\n<pre><code>RSET\nDEBUG SMTP: EOF: [EOF]\nDEBUG SMTP: MessagingException while sending, THROW: \norg.eclipse.angus.mail.smtp.SMTPSendFailedException: 421 4.4.2 internal-server-name Error: timeout exceeded\n</code></pre>\n<p>I tried every combination of properties in the application properties file to get it to work, including changing the port number, connection type, and the authentication and tls protocols, but still had the same issue. Finally, while developing a different feature, I found that the <code>javaMailSender.send(msg)</code> method works <strong>if and only if</strong> I add <strong>all</strong> of the following dependencies the to my pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- Oauth 2 --&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Webflux--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Spring Doc--&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Actuator--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Removing any one of them causes the <code>send</code> method to start hanging again. UPDATE: In addition, this only allows methods called by J-Unit tests to send emails correctly. When the main method of a different application calls the same <code>send</code> method in the <code>EmailNotifier</code> class, it hangs and fails to terminate once again. I have not found dependencies that cause the connection to successfully terminate in this case.</p>\n<p>Here is my full pom.xml file for reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.setup&lt;/groupId&gt;\n    &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;helloworld&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot 3.1&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Other dependencies required to make Email Service work with Internal SMTP Server. Project compiles without them--&gt;\n\n        &lt;!-- Oauth 2 --&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Webflux--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Spring Doc--&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Actuator--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- End of email dependencies --&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My two questions can be summarized as thus:</p>\n<ol>\n<li><p>What in these seemingly unrelated dependencies might cause the connection to an internal SMTP server to successfully terminate, when without them it does not? UPDATE: Why would these dependencies only affect methods ran as J-Unit tests?</p>\n</li>\n<li><p>What might be causing this issue, given that it does not arise with Gmail's SMTP server? I suspect it is something to do with the local SMTP server, but have had no experience configuring one.</p>\n</li>\n</ol>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1672839044,"post_id":75006074,"comment_id":132362674,"body_markdown":"Please add your full list of dependencies. Generally this error comes from combining incompatible versions.","body":"Please add your full list of dependencies. Generally this error comes from combining incompatible versions."},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672839080,"post_id":75006074,"comment_id":132362694,"body_markdown":"You can also check https://stackoverflow.com/questions/33865724/spring-boot-exception-in-thread-main-java-lang-noclassdeffounderror-org-sp","body":"You can also check <a href=\"https://stackoverflow.com/questions/33865724/spring-boot-exception-in-thread-main-java-lang-noclassdeffounderror-org-sp\" title=\"spring boot exception in thread main java lang noclassdeffounderror org sp\">stackoverflow.com/questions/33865724/&hellip;</a>"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1672839118,"post_id":75006074,"comment_id":132362710,"body_markdown":"Does this answer your question? [Spring Boot ClassNotFoundException org.springframework.core.metrics.ApplicationStartup](https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications\">Spring Boot ClassNotFoundException org.springframework.core.metrics.ApplicationStartup</a>"},{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1672839231,"post_id":75006074,"comment_id":132362745,"body_markdown":"I checked this answer, but This problem wasnt fix @skidwiz","body":"I checked this answer, but This problem wasnt fix @skidwiz"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1796,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1687205418,"creation_date":1672838383,"question_id":75006074,"body_markdown":"When I add Swagger to Spring Boot project, I get error I mentioned.\r\n\r\nI tried a lot but couldn&#39;t find the problem.\r\n\r\n**Error**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n\r\n**Main class**\r\n\r\n    @SpringBootApplication\r\n    @Import({SwaggerConfiguration.class})\r\n    public class ExampleMain {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ExampleMain.class, args);\r\n        }\r\n    }\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**SwaggerConfiguration class**\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfiguration {\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2).select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.example.rest&quot;)).paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\nWhy does this problem occur, How can I fix?\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup - Spring Boot and Swagger Integration","body":"<p>When I add Swagger to Spring Boot project, I get error I mentioned.</p>\n<p>I tried a lot but couldn't find the problem.</p>\n<p><strong>Error</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre><code>@SpringBootApplication\n@Import({SwaggerConfiguration.class})\npublic class ExampleMain {\n    public static void main(String[] args) {\n        SpringApplication.run(ExampleMain.class, args);\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>SwaggerConfiguration class</strong></p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfiguration {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.rest&quot;)).paths(PathSelectors.any())\n                .build();\n    }\n\n}\n</code></pre>\n<p>Why does this problem occur, How can I fix?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":11152247,"reputation":802,"user_id":8206980,"accept_rate":0,"display_name":"Kamil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687202381,"creation_date":1687202381,"answer_id":76509527,"question_id":76509479,"body_markdown":"Simple if can work:\r\n```\r\nif(variable instanceof Integer){}\r\nelse if(variable instanceof String){}\r\n(...)\r\n\r\n```","title":"Java - Convert JSON data to java objects without knowing explicitly the type","body":"<p>Simple if can work:</p>\n<pre><code>if(variable instanceof Integer){}\nelse if(variable instanceof String){}\n(...)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687204112,"creation_date":1687202642,"answer_id":76509547,"question_id":76509479,"body_markdown":"If you use Jackson&#39;s `ObjectMapper`, you can parse the JSON data as a `JsonNode`. After your access the values, you can inspect the class name of each `ValueNode`.\r\n\r\n**Note:** The values `True` and `False` are not valid in JSON. They must be lowercase variants `true` and `false` respectively. I called `toLowerCase()` on the JSON string as a lazy way to make it parseable.\r\n\r\n```java\r\nimport java.util.Locale;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.node.ValueNode;\r\n\r\npublic class JsonParser {\r\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\r\n\r\n    private static ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    public static String getTypeOfNode(ValueNode node) {\r\n        if (node != null) {\r\n            switch (node.getClass().getSimpleName()) {\r\n                case &quot;IntNode&quot;:\r\n                    return &quot;int&quot;;\r\n                case &quot;BooleanNode&quot;:\r\n                    return &quot;boolean&quot;;\r\n                case &quot;DoubleNode&quot;:\r\n                    return &quot;double&quot;;\r\n                case &quot;TextNode&quot;:\r\n                    return &quot;String&quot;; // timestamp\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n        JsonNode root = objectMapper.readTree(JSON_DATA.toLowerCase(Locale.US));\r\n        JsonNode variables = root.get(&quot;variables&quot;); // variables.isArray() == true\r\n\r\n        for (JsonNode variable : variables) {\r\n            System.out.printf(&quot;Type of a: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;a&quot;)));\r\n            System.out.printf(&quot;Type of b: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;b&quot;)));\r\n            System.out.printf(&quot;Type of c: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;c&quot;)));\r\n            System.out.printf(&quot;Type of d: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;d&quot;)));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can use this information to unwrap the underlying value from the `ValueNode` and set it on your own model data object.\r\n\r\nOutput:\r\n\r\n```\r\nType of a: int\r\nType of b: boolean\r\nType of c: double\r\nType of d: String\r\nType of a: int\r\nType of b: boolean\r\nType of c: double\r\nType of d: String\r\n```\r\n\r\n---\r\n\r\n## A better way\r\n\r\nUsing a custom Jackson deserializer module and Lombok, we can shorten this code and get true type inference during deserialization.\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Locale;\r\n\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\n\r\nimport lombok.Data;\r\n\r\npublic class JsonParserAdvanced {\r\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\r\n\r\n    private static ObjectMapper objectMapper;\r\n\r\n    static {\r\n        objectMapper = new ObjectMapper();\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(LocalDate.class, new CustomLocalDateDeserializer());\r\n        objectMapper.registerModule(module);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n        Payload payload = objectMapper.readValue(JSON_DATA.toLowerCase(Locale.US), Payload.class);\r\n        for (Variable variable : payload.getVariables()) {\r\n            System.out.println(variable);\r\n        }\r\n    }\r\n\r\n    private static class CustomLocalDateDeserializer extends StdDeserializer&lt;LocalDate&gt; {\r\n        private DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\r\n\r\n        public CustomLocalDateDeserializer() {\r\n            this(null);\r\n        }\r\n\r\n        public CustomLocalDateDeserializer(Class&lt;?&gt; valueClass) {\r\n            super(valueClass);\r\n        }\r\n\r\n        @Override\r\n        public LocalDate deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException {\r\n            return LocalDate.parse(jsonParser.getText(), formatter);\r\n        }\r\n    }\r\n\r\n    @Data\r\n    private static class Variable {\r\n        private int a;\r\n        private boolean b;\r\n        private double c;\r\n        private LocalDate d;\r\n    }\r\n\r\n    @Data\r\n    private static class Payload {\r\n        private Variable[] variables;\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nJsonParserAdvanced.Variable(a=15, b=true, c=10.05, d=2022-10-15)\r\nJsonParserAdvanced.Variable(a=16, b=false, c=11.25, d=2022-01-01)\r\n```","title":"Java - Convert JSON data to java objects without knowing explicitly the type","body":"<p>If you use Jackson's <code>ObjectMapper</code>, you can parse the JSON data as a <code>JsonNode</code>. After your access the values, you can inspect the class name of each <code>ValueNode</code>.</p>\n<p><strong>Note:</strong> The values <code>True</code> and <code>False</code> are not valid in JSON. They must be lowercase variants <code>true</code> and <code>false</code> respectively. I called <code>toLowerCase()</code> on the JSON string as a lazy way to make it parseable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Locale;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.node.ValueNode;\n\npublic class JsonParser {\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\n\n    private static ObjectMapper objectMapper = new ObjectMapper();\n\n    public static String getTypeOfNode(ValueNode node) {\n        if (node != null) {\n            switch (node.getClass().getSimpleName()) {\n                case &quot;IntNode&quot;:\n                    return &quot;int&quot;;\n                case &quot;BooleanNode&quot;:\n                    return &quot;boolean&quot;;\n                case &quot;DoubleNode&quot;:\n                    return &quot;double&quot;;\n                case &quot;TextNode&quot;:\n                    return &quot;String&quot;; // timestamp\n            }\n        }\n\n        return null;\n    }\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        JsonNode root = objectMapper.readTree(JSON_DATA.toLowerCase(Locale.US));\n        JsonNode variables = root.get(&quot;variables&quot;); // variables.isArray() == true\n\n        for (JsonNode variable : variables) {\n            System.out.printf(&quot;Type of a: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;a&quot;)));\n            System.out.printf(&quot;Type of b: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;b&quot;)));\n            System.out.printf(&quot;Type of c: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;c&quot;)));\n            System.out.printf(&quot;Type of d: %s%n&quot;, getTypeOfNode((ValueNode) variable.get(&quot;d&quot;)));\n        }\n    }\n}\n</code></pre>\n<p>You can use this information to unwrap the underlying value from the <code>ValueNode</code> and set it on your own model data object.</p>\n<p>Output:</p>\n<pre><code>Type of a: int\nType of b: boolean\nType of c: double\nType of d: String\nType of a: int\nType of b: boolean\nType of c: double\nType of d: String\n</code></pre>\n<hr />\n<h2>A better way</h2>\n<p>Using a custom Jackson deserializer module and Lombok, we can shorten this code and get true type inference during deserialization.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\nimport lombok.Data;\n\npublic class JsonParserAdvanced {\n    private static final String JSON_DATA = &quot;{\\&quot;variables\\&quot;:[{\\&quot;a\\&quot;:15,\\&quot;b\\&quot;:True,\\&quot;c\\&quot;:10.05,\\&quot;d\\&quot;:\\&quot;2022-10-15\\&quot;},{\\&quot;a\\&quot;:16,\\&quot;b\\&quot;:False,\\&quot;c\\&quot;:11.25,\\&quot;d\\&quot;:\\&quot;2022-01-01\\&quot;}]}&quot;;\n\n    private static ObjectMapper objectMapper;\n\n    static {\n        objectMapper = new ObjectMapper();\n\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(LocalDate.class, new CustomLocalDateDeserializer());\n        objectMapper.registerModule(module);\n    }\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        Payload payload = objectMapper.readValue(JSON_DATA.toLowerCase(Locale.US), Payload.class);\n        for (Variable variable : payload.getVariables()) {\n            System.out.println(variable);\n        }\n    }\n\n    private static class CustomLocalDateDeserializer extends StdDeserializer&lt;LocalDate&gt; {\n        private DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE;\n\n        public CustomLocalDateDeserializer() {\n            this(null);\n        }\n\n        public CustomLocalDateDeserializer(Class&lt;?&gt; valueClass) {\n            super(valueClass);\n        }\n\n        @Override\n        public LocalDate deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException {\n            return LocalDate.parse(jsonParser.getText(), formatter);\n        }\n    }\n\n    @Data\n    private static class Variable {\n        private int a;\n        private boolean b;\n        private double c;\n        private LocalDate d;\n    }\n\n    @Data\n    private static class Payload {\n        private Variable[] variables;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>JsonParserAdvanced.Variable(a=15, b=true, c=10.05, d=2022-10-15)\nJsonParserAdvanced.Variable(a=16, b=false, c=11.25, d=2022-01-01)\n</code></pre>\n"}],"owner":{"account_id":9462961,"reputation":456,"user_id":7036218,"display_name":"Yan Zhuang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687202518,"accepted_answer_id":76509547,"answer_count":2,"score":0,"last_activity_date":1687204112,"creation_date":1687201832,"question_id":76509479,"body_markdown":"Supposedly that I need to retrieve data from an external API (Not designed by me) that returns data in JSON format, as following (Only for illustrating my question, not the actual output format/info)\r\n\r\n```\r\n{\r\n  &quot;variables&quot;:[{&quot;a&quot;:15, &quot;b&quot;:true, &quot;c&quot;:10.05, &quot;d&quot;:&quot;2022-10-15&quot;},\r\n               {&quot;a&quot;:16, &quot;b&quot;:false, &quot;c&quot;:11.25, &quot;d&quot;:&quot;2022-01-01&quot;}]\r\n}\r\n```\r\n\r\nFor the result returned by this API, it is known that the data type can only be `String`,`Boolean`,`Date` or `Double`. However, the type is not explicitly given in the JSON. As far as converting JSON to Java objects, I can convert them all to `Object`.\r\n\r\nHowever, to allow further manipulation under the appropriate class, is there a better way to convert those objects to the appropriate types? \r\n\r\nI have thought about using `try/catch` to try to convert the `Object` to these 4 types. However, I imagine this won&#39;t be the ideal way. So I am wondering what other ways can be better for this situation.\r\n\r\nPS: I understand that the best solution would to ask whoever designed the API to include the data type. But I would like to see if it can work without having explicit information on the data type of each variable.\r\n\r\n\r\n","title":"Java - Convert JSON data to java objects without knowing explicitly the type","body":"<p>Supposedly that I need to retrieve data from an external API (Not designed by me) that returns data in JSON format, as following (Only for illustrating my question, not the actual output format/info)</p>\n<pre><code>{\n  &quot;variables&quot;:[{&quot;a&quot;:15, &quot;b&quot;:true, &quot;c&quot;:10.05, &quot;d&quot;:&quot;2022-10-15&quot;},\n               {&quot;a&quot;:16, &quot;b&quot;:false, &quot;c&quot;:11.25, &quot;d&quot;:&quot;2022-01-01&quot;}]\n}\n</code></pre>\n<p>For the result returned by this API, it is known that the data type can only be <code>String</code>,<code>Boolean</code>,<code>Date</code> or <code>Double</code>. However, the type is not explicitly given in the JSON. As far as converting JSON to Java objects, I can convert them all to <code>Object</code>.</p>\n<p>However, to allow further manipulation under the appropriate class, is there a better way to convert those objects to the appropriate types?</p>\n<p>I have thought about using <code>try/catch</code> to try to convert the <code>Object</code> to these 4 types. However, I imagine this won't be the ideal way. So I am wondering what other ways can be better for this situation.</p>\n<p>PS: I understand that the best solution would to ask whoever designed the API to include the data type. But I would like to see if it can work without having explicit information on the data type of each variable.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687195555,"post_id":76508782,"comment_id":134899881,"body_markdown":"why do you think &quot;*it did not concatenate two arrays of integers*&quot;? What is the result? What the expected one? (for which input) How you tested?","body":"why do you think &quot;<i>it did not concatenate two arrays of integers</i>&quot;? What is the result? What the expected one? (for which input) How you tested?"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1687198245,"post_id":76508782,"comment_id":134900372,"body_markdown":"You can also use `System.arraycopy()` to copy array contents.","body":"You can also use <code>System.arraycopy()</code> to copy array contents."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687216373,"post_id":76508782,"comment_id":134902837,"body_markdown":"You should be asking this question on [Code Review](https://codereview.stackexchange.com/).","body":"You should be asking this question on <a href=\"https://codereview.stackexchange.com/\">Code Review</a>."},{"owner":{"account_id":6725902,"reputation":449,"user_id":5999841,"accept_rate":78,"display_name":"pacmaninbw"},"score":0,"creation_date":1687218464,"post_id":76508782,"comment_id":134902999,"body_markdown":"@WJS The code doesn&#39;t work so the question is off-topic on code review.","body":"@WJS The code doesn&#39;t work so the question is off-topic on code review."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1687220499,"post_id":76508782,"comment_id":134903137,"body_markdown":"The code works fine.","body":"The code works fine."}],"answers":[{"tags":[],"owner":{"account_id":27127250,"reputation":75,"user_id":20670058,"display_name":"Heath Morgan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687197206,"creation_date":1687197097,"answer_id":76509024,"question_id":76508782,"body_markdown":"I think your approach should work.  I wrote a simple test to prove it:\r\n\r\n    @Test\r\n    public void test()\r\n    {\r\n        int[] a = {1, 2, 3};\r\n        int[] b = {2, 3, 4};\r\n\r\n        int[] expected = {1, 2, 3, 2, 3, 4};\r\n        int[] actual = mergeAndOrder(a, b);\r\n\r\n        log.info(Arrays.toString(a));\r\n        log.info(Arrays.toString(b));\r\n        log.info(Arrays.toString(actual));\r\n\r\n        assertThat(actual, is(expected));\r\n    }\r\n\r\nMy log statements seem to agree:\r\n\r\n\r\n    2023-06-19 13:48:34,953 INFO  [] (main) [1, 2, 3]\r\n    2023-06-19 13:48:34,968 INFO  [] (main) [2, 3, 4]\r\n    2023-06-19 13:48:34,968 INFO  [] (main) [1, 2, 3, 2, 3, 4]\r\n\r\nLike user16320675, I am wondering why you think it did not concatenate the two arrays; it appears to work.","title":"Combine/concatenate two arrays of integers","body":"<p>I think your approach should work.  I wrote a simple test to prove it:</p>\n<pre><code>@Test\npublic void test()\n{\n    int[] a = {1, 2, 3};\n    int[] b = {2, 3, 4};\n\n    int[] expected = {1, 2, 3, 2, 3, 4};\n    int[] actual = mergeAndOrder(a, b);\n\n    log.info(Arrays.toString(a));\n    log.info(Arrays.toString(b));\n    log.info(Arrays.toString(actual));\n\n    assertThat(actual, is(expected));\n}\n</code></pre>\n<p>My log statements seem to agree:</p>\n<pre><code>2023-06-19 13:48:34,953 INFO  [] (main) [1, 2, 3]\n2023-06-19 13:48:34,968 INFO  [] (main) [2, 3, 4]\n2023-06-19 13:48:34,968 INFO  [] (main) [1, 2, 3, 2, 3, 4]\n</code></pre>\n<p>Like user16320675, I am wondering why you think it did not concatenate the two arrays; it appears to work.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687199632,"creation_date":1687199632,"answer_id":76509259,"question_id":76508782,"body_markdown":"Yes, this is correct.\r\n\r\nI tested it with the following code.\r\n\r\n```java\r\nint[] array1 = { 1, 2, 3, 4, 5 };\r\nint[] array2 = { 6, 7, 8, 9, 10 };\r\nint[] array3 = mergeAndOrder(array1, array2);\r\n\r\nSystem.out.println(Arrays.toString(array3));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n```\r\n\r\nYou can add more than one variable to your _for-loop_&amp;mdash;place _k_ here.\r\n\r\n```java\r\nfor(int i=0, k=array1.length; i&lt; array2.length; i++, k++)\r\n{\r\n    tmp[k]=array2[i];\r\n}\r\n```\r\n\r\nIt&#39;s worth noting that, this typical procedure is usually done using the _[System#arraycopy](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int))_ method.\r\n\r\n```java\r\nint [] tmp= new int [array1.length+ array2.length];\r\n\r\nSystem.arraycopy(array1, 0, tmp, 0, array1.length);\r\nSystem.arraycopy(array2, 0, tmp, array1.length, array2.length);\r\n```\r\n\r\nAnd, as a demonstration, here is an example using a single _while-loop_.\r\n\r\n```java\r\npublic static int[] mergeAndOrder(int[] array1, int[] array2) {\r\n\r\n    int [] tmp= new int [array1.length+ array2.length];\r\n\r\n    int indexA = 0, indexB = 0;\r\n    boolean exit = false;\r\n    while (!exit) {\r\n        if (indexA &lt; array1.length) tmp[indexA] = array1[indexA++];\r\n        if (indexB &lt; array2.length) tmp[array1.length + indexB] = array2[indexB++];\r\n        if (indexA == array1.length &amp;&amp; indexB == array2.length) exit = true;\r\n    }\r\n\r\n    return tmp;\r\n}\r\n```","title":"Combine/concatenate two arrays of integers","body":"<p>Yes, this is correct.</p>\n<p>I tested it with the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] array1 = { 1, 2, 3, 4, 5 };\nint[] array2 = { 6, 7, 8, 9, 10 };\nint[] array3 = mergeAndOrder(array1, array2);\n\nSystem.out.println(Arrays.toString(array3));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n<p>You can add more than one variable to your <em>for-loop</em>—place <em>k</em> here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0, k=array1.length; i&lt; array2.length; i++, k++)\n{\n    tmp[k]=array2[i];\n}\n</code></pre>\n<p>It's worth noting that, this typical procedure is usually done using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">System#arraycopy</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int [] tmp= new int [array1.length+ array2.length];\n\nSystem.arraycopy(array1, 0, tmp, 0, array1.length);\nSystem.arraycopy(array2, 0, tmp, array1.length, array2.length);\n</code></pre>\n<p>And, as a demonstration, here is an example using a single <em>while-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] mergeAndOrder(int[] array1, int[] array2) {\n\n    int [] tmp= new int [array1.length+ array2.length];\n\n    int indexA = 0, indexB = 0;\n    boolean exit = false;\n    while (!exit) {\n        if (indexA &lt; array1.length) tmp[indexA] = array1[indexA++];\n        if (indexB &lt; array2.length) tmp[array1.length + indexB] = array2[indexB++];\n        if (indexA == array1.length &amp;&amp; indexB == array2.length) exit = true;\n    }\n\n    return tmp;\n}\n</code></pre>\n"}],"owner":{"account_id":28852666,"reputation":1,"user_id":22098222,"display_name":"area 51"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1687299279,"accepted_answer_id":76509024,"answer_count":2,"score":-2,"last_activity_date":1687203647,"creation_date":1687194850,"question_id":76508782,"body_markdown":"I&#39;m new to Java, and I know there are way better ways to concatenate two arrays like using IntStream.concat method, but as I want to learn, I just preferred to do it in this way\r\n\r\nI&#39;m trying to concatenate two arrays of integers using below function\r\n\r\n    public static int[] mergeAndOrder(int[] array1, int[] array2) {\r\n\r\n        int [] tmp= new int [array1.length+ array2.length];\r\n        int k=array1.length;\r\n        for(int i=0; i&lt;array1.length; i++)\r\n        {\r\n            tmp[i]=array1[i];\r\n        }\r\n\r\n        for(int i=0; i&lt; array2.length; i++)\r\n        {\r\n            tmp[k]=array2[i];\r\n            k++;\r\n        }\r\n        return tmp;\r\n    }\r\n\r\nis it correct?\r\n\r\nit seems it did not concatenate two arrays of integers","title":"Combine/concatenate two arrays of integers","body":"<p>I'm new to Java, and I know there are way better ways to concatenate two arrays like using IntStream.concat method, but as I want to learn, I just preferred to do it in this way</p>\n<p>I'm trying to concatenate two arrays of integers using below function</p>\n<pre><code>public static int[] mergeAndOrder(int[] array1, int[] array2) {\n\n    int [] tmp= new int [array1.length+ array2.length];\n    int k=array1.length;\n    for(int i=0; i&lt;array1.length; i++)\n    {\n        tmp[i]=array1[i];\n    }\n\n    for(int i=0; i&lt; array2.length; i++)\n    {\n        tmp[k]=array2[i];\n        k++;\n    }\n    return tmp;\n}\n</code></pre>\n<p>is it correct?</p>\n<p>it seems it did not concatenate two arrays of integers</p>\n"},{"tags":["java","multithreading","static-variables","critical-section"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1687203577,"post_id":76509611,"comment_id":134901197,"body_markdown":"`static volatile int turn;`","body":"<code>static volatile int turn;</code>"},{"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"score":0,"creation_date":1687203982,"post_id":76509611,"comment_id":134901251,"body_markdown":"Wow, That was all that it took :)","body":"Wow, That was all that it took :)"},{"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"score":0,"creation_date":1687204242,"post_id":76509611,"comment_id":134901287,"body_markdown":"Is there any chance you know what is `transient`?","body":"Is there any chance you know what is <code>transient</code>?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687208818,"post_id":76509611,"comment_id":134901954,"body_markdown":"transient: [JLS 8.3.1.3. transient Fields](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.3.1.3): &quot;*Variables may be marked transient to indicate that they are not part of the persistent state of an object.*&quot; and for example used in [`ObjectOutputStream`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/ObjectOutputStream.html): &quot;*The default serialization mechanism for an object writes the class of the object, the class signature, and the values of all non-transient and non-static fields.*&quot;","body":"transient: <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.3.1.3\" rel=\"nofollow noreferrer\">JLS 8.3.1.3. transient Fields</a>: &quot;<i>Variables may be marked transient to indicate that they are not part of the persistent state of an object.</i>&quot; and for example used in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\"><code>ObjectOutputStream</code></a>: &quot;<i>The default serialization mechanism for an object writes the class of the object, the class signature, and the values of all non-transient and non-static fields.</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687208979,"post_id":76509611,"comment_id":134901978,"body_markdown":"and maybe this question: [Why does Java have transient fields?](https://stackoverflow.com/questions/910374/why-does-java-have-transient-fields)","body":"and maybe this question: <a href=\"https://stackoverflow.com/questions/910374/why-does-java-have-transient-fields\">Why does Java have transient fields?</a>"}],"owner":{"account_id":28162853,"reputation":116,"user_id":21522468,"display_name":"John"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687203391,"creation_date":1687203391,"question_id":76509611,"body_markdown":"I am trying *Peterson&#39;s Solution* for the *Critical Section Problem*, and I noticed that my static variable doesn&#39;t update unless I add a `System.out.print(&quot;&quot;);` statement.\r\n\r\nWhy is this so?\r\n\r\nThanks.\r\n\r\nThe code for `Peterson.java` is below:\r\n``` java\r\npublic class Peterson {\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tProcess p1 = new Process(0);\r\n\t\tProcess p2 = new Process(1);\r\n\t\tp1.start();\r\n\t\tp2.start();\r\n\t\tp1.join();\r\n\t\tp2.join();\r\n\t}\r\n}\r\n\r\nclass Process extends Thread {\r\n\tstatic int turn;\r\n\tstatic boolean[] wait = new boolean[2];\r\n\r\n\tint ind;\r\n\tpublic Process(int ind) {\r\n\t\tthis.ind = ind;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tint ind2 = 1-ind;\r\n\t\twait[ind] = true;\r\n\t\tturn = ind2;\r\n\t\t\r\n\t\t// USING THIS WORKS\r\n\t\t// while(wait[ind2] &amp;&amp; turn == ind2) {System.out.print(&quot;&quot;);}\r\n\t\t// USING THIS DOESN&#39;T WORK\r\n\t\twhile(wait[ind2] &amp;&amp; turn == ind2) {;}\r\n\r\n\t\t// Critical Section\r\n\t\tSystem.out.printf(&quot;%d Started%n&quot;, ind);\r\n\t\tfor (long t = System.currentTimeMillis(); System.currentTimeMillis() - t &lt; 100;);\r\n\t\tSystem.out.printf(&quot;%d Ended%n&quot;, ind);\r\n\r\n\t\twait[ind] = false;\r\n\t}\r\n}\r\n```","title":"Why doesn&#39;t the shared static variable update in the threads?","body":"<p>I am trying <em>Peterson's Solution</em> for the <em>Critical Section Problem</em>, and I noticed that my static variable doesn't update unless I add a <code>System.out.print(&quot;&quot;);</code> statement.</p>\n<p>Why is this so?</p>\n<p>Thanks.</p>\n<p>The code for <code>Peterson.java</code> is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Peterson {\n    public static void main(String[] args) throws InterruptedException {\n        Process p1 = new Process(0);\n        Process p2 = new Process(1);\n        p1.start();\n        p2.start();\n        p1.join();\n        p2.join();\n    }\n}\n\nclass Process extends Thread {\n    static int turn;\n    static boolean[] wait = new boolean[2];\n\n    int ind;\n    public Process(int ind) {\n        this.ind = ind;\n    }\n\n    @Override\n    public void run() {\n        int ind2 = 1-ind;\n        wait[ind] = true;\n        turn = ind2;\n        \n        // USING THIS WORKS\n        // while(wait[ind2] &amp;&amp; turn == ind2) {System.out.print(&quot;&quot;);}\n        // USING THIS DOESN'T WORK\n        while(wait[ind2] &amp;&amp; turn == ind2) {;}\n\n        // Critical Section\n        System.out.printf(&quot;%d Started%n&quot;, ind);\n        for (long t = System.currentTimeMillis(); System.currentTimeMillis() - t &lt; 100;);\n        System.out.printf(&quot;%d Ended%n&quot;, ind);\n\n        wait[ind] = false;\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1686637074,"post_id":76444223,"comment_id":134822215,"body_markdown":"It&#39;s not managed by the server? Like it&#39;s spigot that determine your respawn point","body":"It&#39;s not managed by the server? Like it&#39;s spigot that determine your respawn point"}],"answers":[{"comments":[{"owner":{"account_id":84482,"reputation":24850,"user_id":236136,"accept_rate":84,"display_name":"CaseyB"},"score":1,"creation_date":1687280001,"post_id":76504730,"comment_id":134913400,"body_markdown":"This was really close! It was missing a couple of things but it was certainly the right approach! Thank you!","body":"This was really close! It was missing a couple of things but it was certainly the right approach! Thank you!"},{"owner":{"account_id":19928682,"reputation":410,"user_id":14602745,"display_name":"JPlusPlus"},"score":0,"creation_date":1687317485,"post_id":76504730,"comment_id":134918123,"body_markdown":"@CaseyB No problem! Glad I could help.","body":"@CaseyB No problem! Glad I could help."}],"tags":[],"owner":{"account_id":19928682,"reputation":410,"user_id":14602745,"display_name":"JPlusPlus"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687162910,"creation_date":1687162012,"answer_id":76504730,"question_id":76444223,"body_markdown":"You can inject a [Mixin](https://fabricmc.net/wiki/tutorial:mixin_introduction) into the `respawnPlayer` method within the `PlayerManager` class, where you set the player&#39;s spawn point every time before they spawn.\r\n\r\nHere&#39;s an example:\r\n```java\r\n@Mixin(PlayerManager.class)\r\npublic class ServerPlayerEntityMixin {\r\n    @Inject(method = &quot;respawnPlayer&quot;, at = @At(&quot;HEAD&quot;))\r\n    public void respawnPlayer(ServerPlayerEntity player, boolean alive, CallbackInfoReturnable&lt;ServerPlayerEntity&gt; cir) {\r\n        BlockPos yourPos = new BlockPos(0, 200, 0); // Whatever position you&#39;d like (you can match the player&#39;s display name to a value or something)\r\n        RegistryKey&lt;World&gt; dimension = World.OVERWORLD; // I&#39;m assuming you&#39;d like this to be in the overworld\r\n        player.setSpawnPoint(dimension, yourPos, 0, true, false);\r\n    }\r\n}\r\n```\r\n\r\nOne thing to note:\r\nThe Y axis matters when you&#39;re passing it to `setSpawnPoint`, if there are blocks present where the player would spawn, it will just default back to the world spawn point. Positions above ground and even in the air should work just fine however.","title":"Overriding Minecraft Respawn Behavior","body":"<p>You can inject a <a href=\"https://fabricmc.net/wiki/tutorial:mixin_introduction\" rel=\"nofollow noreferrer\">Mixin</a> into the <code>respawnPlayer</code> method within the <code>PlayerManager</code> class, where you set the player's spawn point every time before they spawn.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mixin(PlayerManager.class)\npublic class ServerPlayerEntityMixin {\n    @Inject(method = &quot;respawnPlayer&quot;, at = @At(&quot;HEAD&quot;))\n    public void respawnPlayer(ServerPlayerEntity player, boolean alive, CallbackInfoReturnable&lt;ServerPlayerEntity&gt; cir) {\n        BlockPos yourPos = new BlockPos(0, 200, 0); // Whatever position you'd like (you can match the player's display name to a value or something)\n        RegistryKey&lt;World&gt; dimension = World.OVERWORLD; // I'm assuming you'd like this to be in the overworld\n        player.setSpawnPoint(dimension, yourPos, 0, true, false);\n    }\n}\n</code></pre>\n<p>One thing to note:\nThe Y axis matters when you're passing it to <code>setSpawnPoint</code>, if there are blocks present where the player would spawn, it will just default back to the world spawn point. Positions above ground and even in the air should work just fine however.</p>\n"},{"comments":[{"owner":{"account_id":84482,"reputation":24850,"user_id":236136,"accept_rate":84,"display_name":"CaseyB"},"score":1,"creation_date":1687279948,"post_id":76509597,"comment_id":134913385,"body_markdown":"This is pretty close to what I was doing that didn&#39;t work because I couldn&#39;t register this class as the ServerPlayerEntity that gets created.","body":"This is pretty close to what I was doing that didn&#39;t work because I couldn&#39;t register this class as the ServerPlayerEntity that gets created."}],"tags":[],"owner":{"account_id":11237776,"reputation":1971,"user_id":8243241,"display_name":"mainak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687203293,"creation_date":1687203293,"answer_id":76509597,"question_id":76444223,"body_markdown":"example implementation\r\n\r\n    import net.minecraft.server.MinecraftServer;\r\n    import net.minecraft.server.network.ServerPlayerEntity;\r\n    import net.minecraft.server.world.ServerWorld;\r\n    import net.minecraft.util.math.BlockPos;\r\n    import net.minecraft.world.World;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class CustomRespawnHandler extends ServerPlayerEntity {\r\n        public CustomRespawnHandler(MinecraftServer server, ServerWorld world, GameProfile profile) {\r\n            super(server, world, profile);\r\n        }\r\n    \r\n        @Override\r\n        public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\r\n            if (pos == null) {\r\n                // Calculate the new respawn position based on player-specific logic\r\n                BlockPos newPos = calculateRespawnPosition(getServerWorld());\r\n                super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\r\n            } else {\r\n                super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\r\n            }\r\n        }\r\n    \r\n        private BlockPos calculateRespawnPosition(ServerWorld world) {\r\n            // Generate random coordinates\r\n            Random random = new Random(getEntityName().hashCode());\r\n            int x = random.nextInt(200000) - 100000;\r\n            int z = random.nextInt(200000) - 100000;\r\n    \r\n            // Find a suitable respawn position\r\n            for (int d = world.getTopY(); d &gt; world.getBottomY(); d--) {\r\n                if (!world.isAir(new BlockPos(x, d, z))) {\r\n                    return new BlockPos(x, d, z);\r\n                }\r\n            }\r\n    \r\n            // Return a fallback position if no suitable position is found\r\n            return new BlockPos(x, world.getTopY(), z);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Overriding Minecraft Respawn Behavior","body":"<p>example implementation</p>\n<pre><code>import net.minecraft.server.MinecraftServer;\nimport net.minecraft.server.network.ServerPlayerEntity;\nimport net.minecraft.server.world.ServerWorld;\nimport net.minecraft.util.math.BlockPos;\nimport net.minecraft.world.World;\n\nimport java.util.Random;\n\npublic class CustomRespawnHandler extends ServerPlayerEntity {\n    public CustomRespawnHandler(MinecraftServer server, ServerWorld world, GameProfile profile) {\n        super(server, world, profile);\n    }\n\n    @Override\n    public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\n        if (pos == null) {\n            // Calculate the new respawn position based on player-specific logic\n            BlockPos newPos = calculateRespawnPosition(getServerWorld());\n            super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\n        } else {\n            super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\n        }\n    }\n\n    private BlockPos calculateRespawnPosition(ServerWorld world) {\n        // Generate random coordinates\n        Random random = new Random(getEntityName().hashCode());\n        int x = random.nextInt(200000) - 100000;\n        int z = random.nextInt(200000) - 100000;\n\n        // Find a suitable respawn position\n        for (int d = world.getTopY(); d &gt; world.getBottomY(); d--) {\n            if (!world.isAir(new BlockPos(x, d, z))) {\n                return new BlockPos(x, d, z);\n            }\n        }\n\n        // Return a fallback position if no suitable position is found\n        return new BlockPos(x, world.getTopY(), z);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":84482,"reputation":24850,"user_id":236136,"accept_rate":84,"display_name":"CaseyB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76504730,"answer_count":2,"score":0,"last_activity_date":1687203293,"creation_date":1686355480,"question_id":76444223,"body_markdown":"I want to create a mod that overrides the default respawn mechanics. I want each player to start 100,000 blocks from spawn in a different direction and have that be their default respawn position. I tried overriding the ServerPlayerEntity with this behavior and it seemed like it might have worked but I couldn&#39;t find a way to have the server replace the default ServerPlayerEntity with my subclass.\r\n\r\nThis is what I was trying to do:\r\n```\r\npublic class Server100KMPlayerEntity extends ServerPlayerEntity {\r\n    public Server100KMPlayerEntity(MinecraftServer server, ServerWorld world, GameProfile profile) {\r\n        super(server, world, profile);\r\n    }\r\n\r\n    @Override\r\n    public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\r\n        if (pos != null) {\r\n            super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\r\n        } else {\r\n            BlockPos newPos = PlayerPositions.valueOf(getEntityName()).getPosition(getServer().getWorld(World.OVERWORLD));\r\n            super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\r\n        }\r\n    }\r\n\r\n    enum PlayerPositions {\r\n        Player1(-70711, -70711),\r\n        Player2(70711, -70711),\r\n        Player3(-70711, 70711),\r\n        Player4(70711, 70711);\r\n\r\n        private final int x, z;\r\n\r\n        PlayerPositions(int x, int z) {\r\n            this.x = x;\r\n            this.z = z;\r\n        }\r\n\r\n        public BlockPos getPosition(World world) {\r\n            for (int d = world.getTopY(); d &gt; world.getBottomY(); --d) {\r\n                if (!world.isSpaceEmpty(new Box(new BlockPos(x, d, z)))) {\r\n                    return new BlockPos(x, d - 1, z);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n``` \r\nI also looked into S2C and C2S events but didn&#39;t see anything there that looked helpful. Any advice would be greatly appreciated.","title":"Overriding Minecraft Respawn Behavior","body":"<p>I want to create a mod that overrides the default respawn mechanics. I want each player to start 100,000 blocks from spawn in a different direction and have that be their default respawn position. I tried overriding the ServerPlayerEntity with this behavior and it seemed like it might have worked but I couldn't find a way to have the server replace the default ServerPlayerEntity with my subclass.</p>\n<p>This is what I was trying to do:</p>\n<pre><code>public class Server100KMPlayerEntity extends ServerPlayerEntity {\n    public Server100KMPlayerEntity(MinecraftServer server, ServerWorld world, GameProfile profile) {\n        super(server, world, profile);\n    }\n\n    @Override\n    public void setSpawnPoint(RegistryKey&lt;World&gt; dimension, @Nullable BlockPos pos, float angle, boolean forced, boolean sendMessage) {\n        if (pos != null) {\n            super.setSpawnPoint(dimension, pos, angle, forced, sendMessage);\n        } else {\n            BlockPos newPos = PlayerPositions.valueOf(getEntityName()).getPosition(getServer().getWorld(World.OVERWORLD));\n            super.setSpawnPoint(World.OVERWORLD, newPos, 0f, false, sendMessage);\n        }\n    }\n\n    enum PlayerPositions {\n        Player1(-70711, -70711),\n        Player2(70711, -70711),\n        Player3(-70711, 70711),\n        Player4(70711, 70711);\n\n        private final int x, z;\n\n        PlayerPositions(int x, int z) {\n            this.x = x;\n            this.z = z;\n        }\n\n        public BlockPos getPosition(World world) {\n            for (int d = world.getTopY(); d &gt; world.getBottomY(); --d) {\n                if (!world.isSpaceEmpty(new Box(new BlockPos(x, d, z)))) {\n                    return new BlockPos(x, d - 1, z);\n                }\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>I also looked into S2C and C2S events but didn't see anything there that looked helpful. Any advice would be greatly appreciated.</p>\n"},{"tags":["java","android","arrays","sorting","bubble-sort"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687212200,"post_id":76505969,"comment_id":134902379,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687202587,"creation_date":1687202587,"answer_id":76509539,"question_id":76505969,"body_markdown":"You can utilize a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_ collection, although, it provides no inherent way to sort the values.  \r\nYou&#39;ll have to manually adjust whenever a score changes.\r\n\r\nYour design, which is typically referred to as a _[parallel array](https://en.wikipedia.org/wiki/Parallel_array)_, is correct, and is probably the easiest way to achieve this.\r\n\r\nJust, adjust the _username_ array in accordance to the _Bubble sort_.\r\n\r\nHere is an example&amp;mdash;implementing this _Wikipedia [pseudo-code](https://en.wikipedia.org/wiki/Bubble_sort#Optimizing_bubble_sort)_.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] usernames = { &quot;userA&quot;, &quot;userB&quot;, &quot;userC&quot;, &quot;userD&quot; };\r\n    int[] scores = { 1, 4, 2, 3 };\r\n\r\n    bubbleSort(scores, usernames);\r\n\r\n    System.out.println(Arrays.toString(usernames));\r\n    System.out.println(Arrays.toString(scores));\r\n}\r\n\r\nstatic void bubbleSort(int[] scores, String[] usernames) {\r\n    int length = scores.length;\r\n    int copy;\r\n    String copyB;\r\n    boolean swapped;\r\n    do {\r\n        swapped = false;\r\n        for (int index = 1; index &lt; length; index++) {\r\n            if (scores[index - 1] &gt; scores[index]) {\r\n                copy = scores[index];\r\n                copyB = usernames[index];\r\n                scores[index] = scores[index - 1];\r\n                usernames[index] = usernames[index - 1];\r\n                scores[index - 1] = copy;\r\n                usernames[index - 1] = copyB;\r\n                swapped = true;\r\n            }\r\n        }\r\n        length--;\r\n    } while (!swapped);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[userA, userC, userD, userB]\r\n[1, 2, 3, 4]\r\n```","title":"how to link names column in two columns leaderboard for names and the other for scores in leaderboard sorted according to the scores","body":"<p>You can utilize a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em> collection, although, it provides no inherent way to sort the values.<br />\nYou'll have to manually adjust whenever a score changes.</p>\n<p>Your design, which is typically referred to as a <em><a href=\"https://en.wikipedia.org/wiki/Parallel_array\" rel=\"nofollow noreferrer\">parallel array</a></em>, is correct, and is probably the easiest way to achieve this.</p>\n<p>Just, adjust the <em>username</em> array in accordance to the <em>Bubble sort</em>.</p>\n<p>Here is an example—implementing this <em>Wikipedia <a href=\"https://en.wikipedia.org/wiki/Bubble_sort#Optimizing_bubble_sort\" rel=\"nofollow noreferrer\">pseudo-code</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] usernames = { &quot;userA&quot;, &quot;userB&quot;, &quot;userC&quot;, &quot;userD&quot; };\n    int[] scores = { 1, 4, 2, 3 };\n\n    bubbleSort(scores, usernames);\n\n    System.out.println(Arrays.toString(usernames));\n    System.out.println(Arrays.toString(scores));\n}\n\nstatic void bubbleSort(int[] scores, String[] usernames) {\n    int length = scores.length;\n    int copy;\n    String copyB;\n    boolean swapped;\n    do {\n        swapped = false;\n        for (int index = 1; index &lt; length; index++) {\n            if (scores[index - 1] &gt; scores[index]) {\n                copy = scores[index];\n                copyB = usernames[index];\n                scores[index] = scores[index - 1];\n                usernames[index] = usernames[index - 1];\n                scores[index - 1] = copy;\n                usernames[index - 1] = copyB;\n                swapped = true;\n            }\n        }\n        length--;\n    } while (!swapped);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[userA, userC, userD, userB]\n[1, 2, 3, 4]\n</code></pre>\n"}],"owner":{"account_id":23432875,"reputation":1,"user_id":17491411,"display_name":"newTy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687202587,"creation_date":1687172261,"question_id":76505969,"body_markdown":"i have leaderboard activity that contains two columns one for names and the other for scores... i have the scores listed on array of integers and i used bubble sort algorithm to sort em , and every time the game ends it checks if the user score is above the last one or not and if it&#39;s higher i replace the last element then sort the array again using the bubble algorithm...\r\n\r\nwhat i wanna do is how can i link every score with it&#39;s username (i have different array for strings so far) and still in the same order.","title":"how to link names column in two columns leaderboard for names and the other for scores in leaderboard sorted according to the scores","body":"<p>i have leaderboard activity that contains two columns one for names and the other for scores... i have the scores listed on array of integers and i used bubble sort algorithm to sort em , and every time the game ends it checks if the user score is above the last one or not and if it's higher i replace the last element then sort the array again using the bubble algorithm...</p>\n<p>what i wanna do is how can i link every score with it's username (i have different array for strings so far) and still in the same order.</p>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":1484320,"reputation":566,"user_id":1392882,"display_name":"Miguel"},"score":1,"creation_date":1348173503,"post_id":1963806,"comment_id":16854510,"body_markdown":"how about http://stackoverflow.com/a/6058025/1392882","body":"how about <a href=\"http://stackoverflow.com/a/6058025/1392882\">stackoverflow.com/a/6058025/1392882</a>"}],"answers":[{"comments":[{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":4,"creation_date":1261849248,"post_id":1963830,"comment_id":1877401,"body_markdown":"Use Queue instead of AbstractQueue... there may be queues that implement the interface but do not extend the abstract class.","body":"Use Queue instead of AbstractQueue... there may be queues that implement the interface but do not extend the abstract class."},{"owner":{"account_id":226936,"reputation":1578,"user_id":488265,"accept_rate":88,"display_name":"Jonas Gr&#246;ger"},"score":1,"creation_date":1392047417,"post_id":1963830,"comment_id":32776209,"body_markdown":"In Python you can use a [`collection.deque`](http://docs.python.org/3.3/library/collections.html#collections.deque) with a specified `maxlen`.","body":"In Python you can use a <a href=\"http://docs.python.org/3.3/library/collections.html#collections.deque\" rel=\"nofollow noreferrer\"><code>collection.deque</code></a> with a specified <code>maxlen</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1392114157,"post_id":1963830,"comment_id":32806961,"body_markdown":"**UPDATE** There are now two such classes available. No need to write your own. See [my answer](http://stackoverflow.com/a/21699069/642706) on this page.","body":"<b>UPDATE</b> There are now two such classes available. No need to write your own. See <a href=\"http://stackoverflow.com/a/21699069/642706\">my answer</a> on this page."}],"tags":[],"owner":{"account_id":80859,"reputation":2458,"user_id":228358,"accept_rate":75,"display_name":"moritz"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1435240253,"creation_date":1261847338,"answer_id":1963830,"question_id":1963806,"body_markdown":"There is no existing implementation in the Java Language and Runtime. All Queues extend [AbstractQueue][1], and its doc clearly states that adding an element to a full queue always ends with an exception. It would be best ( and quite simple ) to wrap a Queue into a class of your own for having the functionality you need. \r\n\r\nOnce again, because all queues are children of AbstractQueue, simply use that as your internal data type and you should have a flexible implementation running in virtually no time :-)\r\n\r\n\r\n\r\nUPDATE:\r\n\r\nAs outlined below, there are two open implementations available (this answer is quite old, folks!), see [this answer][2] for details.\r\n\r\n  [2]: https://stackoverflow.com/a/21699069/228358\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/AbstractQueue.html\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>There is no existing implementation in the Java Language and Runtime. All Queues extend <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractQueue.html\" rel=\"noreferrer\">AbstractQueue</a>, and its doc clearly states that adding an element to a full queue always ends with an exception. It would be best ( and quite simple ) to wrap a Queue into a class of your own for having the functionality you need. </p>\n\n<p>Once again, because all queues are children of AbstractQueue, simply use that as your internal data type and you should have a flexible implementation running in virtually no time :-)</p>\n\n<p>UPDATE:</p>\n\n<p>As outlined below, there are two open implementations available (this answer is quite old, folks!), see <a href=\"https://stackoverflow.com/a/21699069/228358\">this answer</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":79535,"reputation":4640,"user_id":225448,"display_name":"Zoran Regvart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1261847762,"creation_date":1261847762,"answer_id":1963844,"question_id":1963806,"body_markdown":"Also see [this SO question][1], or [ArrayBlockingQueue][2] (be careful about blocking, this might be unwanted in your case).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1846225/java-priorityqueue-with-fixed-size\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Also see <a href=\"https://stackoverflow.com/questions/1846225/java-priorityqueue-with-fixed-size\">this SO question</a>, or <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html\" rel=\"nofollow noreferrer\">ArrayBlockingQueue</a> (be careful about blocking, this might be unwanted in your case).</p>\n"},{"comments":[{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1684422232,"post_id":1963857,"comment_id":134517968,"body_markdown":"no. He is describing a simple plain Queue according it&#39;s definition as a FIFO structure. Not having that in Collections is unexpected.","body":"no. He is describing a simple plain Queue according it&#39;s definition as a FIFO structure. Not having that in Collections is unexpected."}],"tags":[],"owner":{"display_name":"Sergey"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1261848025,"creation_date":1261848025,"answer_id":1963857,"question_id":1963806,"body_markdown":"I think what you&#39;re describing is a circular queue. Here is an [example][1] and here is a [better][2] one\r\n\r\n\r\n  [1]: http://www.koders.com/java/fid0C8B64975D8AF4E5926D47A3FDA350ED3A5C2286.aspx\r\n  [2]: http://www.scribd.com/doc/14768610/Array-Circular-Queue","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I think what you're describing is a circular queue. Here is an <a href=\"http://www.koders.com/java/fid0C8B64975D8AF4E5926D47A3FDA350ED3A5C2286.aspx\" rel=\"noreferrer\">example</a> and here is a <a href=\"http://www.scribd.com/doc/14768610/Array-Circular-Queue\" rel=\"noreferrer\">better</a> one</p>\n"},{"tags":[],"owner":{"account_id":58903,"reputation":8267,"user_id":176312,"display_name":"JaakkoK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1261848583,"creation_date":1261848583,"answer_id":1963875,"question_id":1963806,"body_markdown":"It is not quite clear what requirements you have that led you to ask this question. If you need a fixed size data structure, you might also want to look at different caching policies. However, since you have a queue, my best guess is that you&#39;re looking for some type of router functionality. In that case, I would go with a ring buffer: an array that has a first and last index. Whenever an element is added, you just increment the last element index, and when an element is removed, increment the first element index. In both cases, addition is performed modulo the array size, and make sure to increment the other index when needed, that is, when the queue is full or empty.\r\n\r\nAlso, if it is a router-type application, you might also want to experiment with an algorithm such as Random Early Dropping (RED), which drops elements from the queue randomly even before it gets filled up. In some cases, RED has been found to have better overall performance than the simple method of allowing the queue to fill up before dropping.","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>It is not quite clear what requirements you have that led you to ask this question. If you need a fixed size data structure, you might also want to look at different caching policies. However, since you have a queue, my best guess is that you're looking for some type of router functionality. In that case, I would go with a ring buffer: an array that has a first and last index. Whenever an element is added, you just increment the last element index, and when an element is removed, increment the first element index. In both cases, addition is performed modulo the array size, and make sure to increment the other index when needed, that is, when the queue is full or empty.</p>\n\n<p>Also, if it is a router-type application, you might also want to experiment with an algorithm such as Random Early Dropping (RED), which drops elements from the queue randomly even before it gets filled up. In some cases, RED has been found to have better overall performance than the simple method of allowing the queue to fill up before dropping.</p>\n"},{"comments":[{"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"score":10,"creation_date":1516029553,"post_id":1963881,"comment_id":83514598,"body_markdown":"this actually doesn&#39;t do what a queue does, how can I retrieve the newest. object?","body":"this actually doesn&#39;t do what a queue does, how can I retrieve the newest. object?"},{"owner":{"account_id":56456,"reputation":2580,"user_id":169115,"accept_rate":86,"display_name":"Mavrik"},"score":2,"creation_date":1602588938,"post_id":1963881,"comment_id":113762538,"body_markdown":"Get the last item in values().","body":"Get the last item in values()."}],"tags":[],"owner":{"account_id":56456,"reputation":2580,"user_id":169115,"accept_rate":86,"display_name":"Mavrik"},"comment_count":2,"down_vote_count":5,"up_vote_count":132,"is_accepted":false,"score":127,"last_activity_date":1420639057,"creation_date":1261848911,"answer_id":1963881,"question_id":1963806,"body_markdown":"Actually the [LinkedHashMap][1] does exactly what you want. You need to override the `removeEldestEntry` method.\r\n\r\nExample for a queue with max 10 elements:\r\n\r\n      queue = new LinkedHashMap&lt;Integer, String&gt;()\r\n      {\r\n         @Override\r\n         protected boolean removeEldestEntry(Map.Entry&lt;Integer, String&gt; eldest)\r\n         {\r\n            return this.size() &gt; 10;   \r\n         }\r\n      };\r\n\r\n\r\nIf the &quot;removeEldestEntry&quot; returns true, the eldest entry is removed from the map.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Actually the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\">LinkedHashMap</a> does exactly what you want. You need to override the <code>removeEldestEntry</code> method.</p>\n\n<p>Example for a queue with max 10 elements:</p>\n\n<pre><code>  queue = new LinkedHashMap&lt;Integer, String&gt;()\n  {\n     @Override\n     protected boolean removeEldestEntry(Map.Entry&lt;Integer, String&gt; eldest)\n     {\n        return this.size() &gt; 10;   \n     }\n  };\n</code></pre>\n\n<p>If the \"removeEldestEntry\" returns true, the eldest entry is removed from the map.</p>\n"},{"tags":[],"owner":{"account_id":229659,"reputation":3535,"user_id":492760,"accept_rate":82,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343315104,"creation_date":1343315104,"answer_id":11672313,"question_id":1963806,"body_markdown":"Actually you can write your own impl based on LinkedList, it is quite straight forward, just override the add method and do the staff.","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Actually you can write your own impl based on LinkedList, it is quite straight forward, just override the add method and do the staff.</p>\n"},{"tags":[],"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1369798033,"creation_date":1369798033,"answer_id":16804978,"question_id":1963806,"body_markdown":"This class does the job using composition instead of inheritance (other answers here) which  removes the possibility of certain side-effects (as covered by Josh Bloch in Essential Java). Trimming of the underlying LinkedList occurs on the methods add,addAll and offer.\r\n\r\n    import java.util.Collection;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedList;\r\n    import java.util.Queue;\r\n    \r\n    public class LimitedQueue&lt;T&gt; implements Queue&lt;T&gt;, Iterable&lt;T&gt; {\r\n    \r\n    \tprivate final int limit;\r\n    \tprivate final LinkedList&lt;T&gt; list = new LinkedList&lt;T&gt;();\r\n    \r\n    \tpublic LimitedQueue(int limit) {\r\n    \t\tthis.limit = limit;\r\n    \t}\r\n    \r\n    \tprivate boolean trim() {\r\n    \t\tboolean changed = list.size() &gt; limit;\r\n    \t\twhile (list.size() &gt; limit) {\r\n    \t\t\tlist.remove();\r\n    \t\t}\r\n    \t\treturn changed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean add(T o) {\r\n    \t\tboolean changed = list.add(o);\r\n    \t\tboolean trimmed = trim();\r\n    \t\treturn changed || trimmed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int size() {\r\n    \t\treturn list.size();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEmpty() {\r\n    \t\treturn list.isEmpty();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean contains(Object o) {\r\n    \t\treturn list.contains(o);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Iterator&lt;T&gt; iterator() {\r\n    \t\treturn list.iterator();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object[] toArray() {\r\n    \t\treturn list.toArray();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T&gt; T[] toArray(T[] a) {\r\n    \t\treturn list.toArray(a);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean remove(Object o) {\r\n    \t\treturn list.remove(o);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean containsAll(Collection&lt;?&gt; c) {\r\n    \t\treturn list.containsAll(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean addAll(Collection&lt;? extends T&gt; c) {\r\n    \t\tboolean changed = list.addAll(c);\r\n    \t\tboolean trimmed = trim();\r\n    \t\treturn changed || trimmed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean removeAll(Collection&lt;?&gt; c) {\r\n    \t\treturn list.removeAll(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean retainAll(Collection&lt;?&gt; c) {\r\n    \t\treturn list.retainAll(c);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void clear() {\r\n    \t\tlist.clear();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean offer(T e) {\r\n    \t\tboolean changed = list.offer(e);\r\n    \t\tboolean trimmed = trim();\r\n    \t\treturn changed || trimmed;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T remove() {\r\n    \t\treturn list.remove();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T poll() {\r\n    \t\treturn list.poll();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T element() {\r\n    \t\treturn list.element();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T peek() {\r\n    \t\treturn list.peek();\r\n    \t}\r\n    }\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>This class does the job using composition instead of inheritance (other answers here) which  removes the possibility of certain side-effects (as covered by Josh Bloch in Essential Java). Trimming of the underlying LinkedList occurs on the methods add,addAll and offer.</p>\n\n<pre><code>import java.util.Collection;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.Queue;\n\npublic class LimitedQueue&lt;T&gt; implements Queue&lt;T&gt;, Iterable&lt;T&gt; {\n\n    private final int limit;\n    private final LinkedList&lt;T&gt; list = new LinkedList&lt;T&gt;();\n\n    public LimitedQueue(int limit) {\n        this.limit = limit;\n    }\n\n    private boolean trim() {\n        boolean changed = list.size() &gt; limit;\n        while (list.size() &gt; limit) {\n            list.remove();\n        }\n        return changed;\n    }\n\n    @Override\n    public boolean add(T o) {\n        boolean changed = list.add(o);\n        boolean trimmed = trim();\n        return changed || trimmed;\n    }\n\n    @Override\n    public int size() {\n        return list.size();\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return list.isEmpty();\n    }\n\n    @Override\n    public boolean contains(Object o) {\n        return list.contains(o);\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return list.iterator();\n    }\n\n    @Override\n    public Object[] toArray() {\n        return list.toArray();\n    }\n\n    @Override\n    public &lt;T&gt; T[] toArray(T[] a) {\n        return list.toArray(a);\n    }\n\n    @Override\n    public boolean remove(Object o) {\n        return list.remove(o);\n    }\n\n    @Override\n    public boolean containsAll(Collection&lt;?&gt; c) {\n        return list.containsAll(c);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends T&gt; c) {\n        boolean changed = list.addAll(c);\n        boolean trimmed = trim();\n        return changed || trimmed;\n    }\n\n    @Override\n    public boolean removeAll(Collection&lt;?&gt; c) {\n        return list.removeAll(c);\n    }\n\n    @Override\n    public boolean retainAll(Collection&lt;?&gt; c) {\n        return list.retainAll(c);\n    }\n\n    @Override\n    public void clear() {\n        list.clear();\n    }\n\n    @Override\n    public boolean offer(T e) {\n        boolean changed = list.offer(e);\n        boolean trimmed = trim();\n        return changed || trimmed;\n    }\n\n    @Override\n    public T remove() {\n        return list.remove();\n    }\n\n    @Override\n    public T poll() {\n        return list.poll();\n    }\n\n    @Override\n    public T element() {\n        return list.element();\n    }\n\n    @Override\n    public T peek() {\n        return list.peek();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":415578,"reputation":12455,"user_id":790464,"accept_rate":48,"display_name":"Ahmed Hegazy"},"score":1,"creation_date":1519214908,"post_id":21047889,"comment_id":84816653,"body_markdown":"It should be `removeRange(0, size() - maxSize)`","body":"It should be <code>removeRange(0, size() - maxSize)</code>"},{"owner":{"account_id":5547840,"reputation":1723,"user_id":4401945,"display_name":"Ashish Doneriya"},"score":0,"creation_date":1553672717,"post_id":21047889,"comment_id":97466424,"body_markdown":"@AhmedHegazy removeRange(0, size() - maxSize - 1) is correct","body":"@AhmedHegazy removeRange(0, size() - maxSize - 1) is correct"},{"owner":{"account_id":1999131,"reputation":533,"user_id":1790578,"accept_rate":38,"display_name":"Etep"},"score":0,"creation_date":1562376990,"post_id":21047889,"comment_id":100365480,"body_markdown":"I agree with Amhed above. Remove the - 1. Otherwise at max capacity you will end up with an array that is maxSize + 1 since we are talking about 0 based. For instance. If maxSize = 50 then when adding a new object the removeRange formula in the original post will be 51 - 50 - 1 = 0 (ie. nothing removed).","body":"I agree with Amhed above. Remove the - 1. Otherwise at max capacity you will end up with an array that is maxSize + 1 since we are talking about 0 based. For instance. If maxSize = 50 then when adding a new object the removeRange formula in the original post will be 51 - 50 - 1 = 0 (ie. nothing removed)."}],"tags":[],"owner":{"account_id":100935,"reputation":2427,"user_id":271813,"accept_rate":50,"display_name":"Roar Skullestad"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1565260933,"creation_date":1389367060,"answer_id":21047889,"question_id":1963806,"body_markdown":"I just implemented a fixed size queue this way: \r\n\r\n    public class LimitedSizeQueue&lt;K&gt; extends ArrayList&lt;K&gt; {\r\n\r\n    \tprivate int maxSize;\r\n    \r\n    \tpublic LimitedSizeQueue(int size){\r\n    \t\tthis.maxSize = size;\r\n    \t}\r\n\r\n    \tpublic boolean add(K k){\r\n    \t\tboolean r = super.add(k);\r\n    \t\tif (size() &gt; maxSize){\r\n    \t\t\tremoveRange(0, size() - maxSize);\r\n    \t\t}\r\n    \t\treturn r;\r\n    \t}\r\n    \r\n    \tpublic K getYoungest() {\r\n    \t\treturn get(size() - 1);\r\n    \t}\r\n    \r\n    \tpublic K getOldest() {\r\n    \t\treturn get(0);\r\n    \t}\r\n    }","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I just implemented a fixed size queue this way: </p>\n\n<pre><code>public class LimitedSizeQueue&lt;K&gt; extends ArrayList&lt;K&gt; {\n\n    private int maxSize;\n\n    public LimitedSizeQueue(int size){\n        this.maxSize = size;\n    }\n\n    public boolean add(K k){\n        boolean r = super.add(k);\n        if (size() &gt; maxSize){\n            removeRange(0, size() - maxSize);\n        }\n        return r;\n    }\n\n    public K getYoungest() {\n        return get(size() - 1);\n    }\n\n    public K getOldest() {\n        return get(0);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1489034471,"post_id":21699069,"comment_id":72497079,"body_markdown":"...and if you can&#39;t use Commons Collection 4.0 then CircularFifoBuffer seems to be similar to CircularFifoQueue in v 3.0.","body":"...and if you can&#39;t use Commons Collection 4.0 then CircularFifoBuffer seems to be similar to CircularFifoQueue in v 3.0."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1540212449,"post_id":21699069,"comment_id":92768552,"body_markdown":"`CircularFifoQueue` link is dead, use instead https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/CircularFifoQueue.html","body":"<code>CircularFifoQueue</code> link is dead, use instead <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/CircularFifoQueue.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/apidocs/org/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1540226323,"post_id":21699069,"comment_id":92777143,"body_markdown":"@user7294900 Thanks, link fixed. FYI, Stack Overflow invites you to make such edits directly to an Answer yourself. Anyone can edit, not just the original author. Stack Overflow is intended to more like Wikipedia in that regard.","body":"@user7294900 Thanks, link fixed. FYI, Stack Overflow invites you to make such edits directly to an Answer yourself. Anyone can edit, not just the original author. Stack Overflow is intended to more like Wikipedia in that regard."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1540226493,"post_id":21699069,"comment_id":92777238,"body_markdown":"@BasilBourque yes, but such edits can be rejected even by me when changing links it&#39;s a *gray* area","body":"@BasilBourque yes, but such edits can be rejected even by me when changing links it&#39;s a <i>gray</i> area"},{"owner":{"account_id":1313740,"reputation":2571,"user_id":1261162,"accept_rate":60,"display_name":"Rafael"},"score":0,"creation_date":1684422311,"post_id":21699069,"comment_id":134517984,"body_markdown":"this should be marked as the response","body":"this should be marked as the response"},{"owner":{"account_id":2386500,"reputation":1886,"user_id":2087380,"accept_rate":57,"display_name":"Jamby"},"score":1,"creation_date":1686657500,"post_id":21699069,"comment_id":134826376,"body_markdown":"Note that both of the implementations are NOT thread-safe, if you plan on using them concurrently.","body":"Note that both of the implementations are NOT thread-safe, if you plan on using them concurrently."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":6,"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1687202424,"creation_date":1392114066,"answer_id":21699069,"question_id":1963806,"body_markdown":"# Yes, Two\r\n\r\nFrom [my own duplicate question][1] with [this correct answer][2], I learned of two:\r\n\r\n - [`EvictingQueue`][3] in [Google Guava][4]\r\n - [`CircularFifoQueue`][5] in [Apache Commons][6]\r\n\r\nNeither is [thread-safe][7]. Neither accepts null elements. \r\n\r\n----------\r\n\r\n\r\nI made productive use of the Guava `EvictingQueue`, worked well. \r\n\r\nTo instantiate an `EvictingQueue` call the static factory method [`create`][8] and specify your maximum size.\r\n\r\n    EvictingQueue&lt; Person &gt; people = com.google.common.collect.EvictingQueue.create( 100 ) ;  // Set maximum size to 100. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/21696680/642706\r\n  [2]: https://stackoverflow.com/a/21696750/642706\r\n  [3]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html\r\n  [4]: https://github.com/google/guava\r\n  [5]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/CircularFifoQueue.html\r\n  [6]: https://en.wikipedia.org/wiki/Apache_Commons\r\n  [7]: https://en.m.wikipedia.org/wiki/Thread_safety\r\n  [8]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html#create-int-","title":"Is there a fixed sized queue which removes excessive elements?","body":"<h1>Yes, Two</h1>\n<p>From <a href=\"https://stackoverflow.com/q/21696680/642706\">my own duplicate question</a> with <a href=\"https://stackoverflow.com/a/21696750/642706\">this correct answer</a>, I learned of two:</p>\n<ul>\n<li><a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html\" rel=\"nofollow noreferrer\"><code>EvictingQueue</code></a> in <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/queue/CircularFifoQueue.html\" rel=\"nofollow noreferrer\"><code>CircularFifoQueue</code></a> in <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"nofollow noreferrer\">Apache Commons</a></li>\n</ul>\n<p>Neither is <a href=\"https://en.m.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safe</a>. Neither accepts null elements.</p>\n<hr />\n<p>I made productive use of the Guava <code>EvictingQueue</code>, worked well.</p>\n<p>To instantiate an <code>EvictingQueue</code> call the static factory method <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/EvictingQueue.html#create-int-\" rel=\"nofollow noreferrer\"><code>create</code></a> and specify your maximum size.</p>\n<pre><code>EvictingQueue&lt; Person &gt; people = com.google.common.collect.EvictingQueue.create( 100 ) ;  // Set maximum size to 100. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":430398,"reputation":5356,"user_id":813810,"display_name":"Diego"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406717492,"creation_date":1406717492,"answer_id":25034942,"question_id":1963806,"body_markdown":"I think the best matching answer is from [this other question][1].\r\n\r\nApache commons collections 4 has a [CircularFifoQueue][2] which is what you are looking for. Quoting the javadoc:\r\n\r\n&gt; CircularFifoQueue is a first-in first-out queue with a fixed size that replaces its oldest element if full.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5638128/813810\r\n  [2]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/queue/CircularFifoQueue.html","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I think the best matching answer is from <a href=\"https://stackoverflow.com/a/5638128/813810\">this other question</a>.</p>\n\n<p>Apache commons collections 4 has a <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/queue/CircularFifoQueue.html\" rel=\"nofollow noreferrer\">CircularFifoQueue</a> which is what you are looking for. Quoting the javadoc:</p>\n\n<blockquote>\n  <p>CircularFifoQueue is a first-in first-out queue with a fixed size that replaces its oldest element if full.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2073707,"reputation":3393,"user_id":1847645,"display_name":"Berkay Turancı"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1408533048,"creation_date":1408533048,"answer_id":25403226,"question_id":1963806,"body_markdown":"This is what I did with `Queue` wrapped with `LinkedList`, It is fixed sized which I give in here is 2;\r\n\r\n    public static Queue&lt;String&gt; pageQueue;\r\n\r\n    pageQueue = new LinkedList&lt;String&gt;(){\r\n    \t\t\tprivate static final long serialVersionUID = -6707803882461262867L;\r\n    \r\n    \t\t    public boolean add(String object) {\r\n    \t\t    \tboolean result;\r\n    \t\t    \tif(this.size() &lt; 2)\r\n    \t\t    \t\tresult = super.add(object);\r\n    \t\t    \telse\r\n    \t\t    \t{\r\n    \t\t    \t\tsuper.removeFirst();\r\n    \t\t    \t\tresult = super.add(object);\r\n    \t\t    \t}\r\n    \t\t    \treturn result;\r\n    \t\t    }\r\n    \t\t};\r\n\r\n\r\n    ....\r\n    TMarket.pageQueue.add(&quot;ScreenOne&quot;);\r\n    ....\r\n    TMarket.pageQueue.add(&quot;ScreenTwo&quot;);\r\n    .....\r\n\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>This is what I did with <code>Queue</code> wrapped with <code>LinkedList</code>, It is fixed sized which I give in here is 2;</p>\n\n<pre><code>public static Queue&lt;String&gt; pageQueue;\n\npageQueue = new LinkedList&lt;String&gt;(){\n            private static final long serialVersionUID = -6707803882461262867L;\n\n            public boolean add(String object) {\n                boolean result;\n                if(this.size() &lt; 2)\n                    result = super.add(object);\n                else\n                {\n                    super.removeFirst();\n                    result = super.add(object);\n                }\n                return result;\n            }\n        };\n\n\n....\nTMarket.pageQueue.add(\"ScreenOne\");\n....\nTMarket.pageQueue.add(\"ScreenTwo\");\n.....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506399731,"creation_date":1506399731,"answer_id":46417785,"question_id":1963806,"body_markdown":"A Simple solution, below is a Queue of &quot;String&quot;\r\n\r\n    LinkedHashMap&lt;Integer, String&gt; queue;\r\n    int queueKeysCounter;\r\n\r\n    queue.put(queueKeysCounter++, &quot;My String&quot;);\r\n    queueKeysCounter %= QUEUE_SIZE;\r\n\r\nNote that this will not maintain the Order of the items in the Queue, but it will replace the oldest entry.                                \r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>A Simple solution, below is a Queue of \"String\"</p>\n\n<pre><code>LinkedHashMap&lt;Integer, String&gt; queue;\nint queueKeysCounter;\n\nqueue.put(queueKeysCounter++, \"My String\");\nqueueKeysCounter %= QUEUE_SIZE;\n</code></pre>\n\n<p>Note that this will not maintain the Order of the items in the Queue, but it will replace the oldest entry.                                </p>\n"},{"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666765891,"creation_date":1534735545,"answer_id":51923797,"question_id":1963806,"body_markdown":"\r\n    public class CircularQueue&lt;E&gt; extends LinkedList&lt;E&gt; {\r\n        private final int capacity;\r\n    \r\n        public CircularQueue(int capacity){\r\n            this.capacity = capacity;\r\n        }\r\n    \r\n        @Override\r\n        public boolean add(E e) {\r\n            if(size() &gt;= capacity)\r\n                removeFirst();\r\n            return super.add(e);\r\n        }\r\n    }\r\n\r\n\r\nUsage and test result:\r\n\r\n    public static void main(String[] args) {\r\n        CircularQueue&lt;String&gt; queue = new CircularQueue&lt;&gt;(3);\r\n        queue.add(&quot;a&quot;);\r\n        queue.add(&quot;b&quot;);\r\n        queue.add(&quot;c&quot;);\r\n        System.out.println(queue.toString());   //[a, b, c]\r\n\r\n        String first = queue.pollFirst();       //a\r\n        System.out.println(queue.toString());   //[b,c]\r\n\r\n        queue.add(&quot;d&quot;);\r\n        queue.add(&quot;e&quot;);\r\n        queue.add(&quot;f&quot;);\r\n        System.out.println(queue.toString());   //[d, e, f]\r\n    }\r\n\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<pre><code>public class CircularQueue&lt;E&gt; extends LinkedList&lt;E&gt; {\n    private final int capacity;\n\n    public CircularQueue(int capacity){\n        this.capacity = capacity;\n    }\n\n    @Override\n    public boolean add(E e) {\n        if(size() &gt;= capacity)\n            removeFirst();\n        return super.add(e);\n    }\n}\n</code></pre>\n<p>Usage and test result:</p>\n<pre><code>public static void main(String[] args) {\n    CircularQueue&lt;String&gt; queue = new CircularQueue&lt;&gt;(3);\n    queue.add(&quot;a&quot;);\n    queue.add(&quot;b&quot;);\n    queue.add(&quot;c&quot;);\n    System.out.println(queue.toString());   //[a, b, c]\n\n    String first = queue.pollFirst();       //a\n    System.out.println(queue.toString());   //[b,c]\n\n    queue.add(&quot;d&quot;);\n    queue.add(&quot;e&quot;);\n    queue.add(&quot;f&quot;);\n    System.out.println(queue.toString());   //[d, e, f]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1684424603,"post_id":59336427,"comment_id":134518587,"body_markdown":"Inheritance would have been much shorter","body":"Inheritance would have been much shorter"}],"tags":[],"owner":{"account_id":6812447,"reputation":2295,"user_id":5242161,"display_name":"Abhishek"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576336977,"creation_date":1576336977,"answer_id":59336427,"question_id":1963806,"body_markdown":"As it&#39;s advised in OOPs that we should prefer [Composition over Inheritance][1]  \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composition_over_inheritance\r\nHere my solution keeping that in mind.\r\n\r\n    package com.choiceview;\r\n    \r\n    import java.util.ArrayDeque;\r\n    \r\n    class Ideone {\r\n        public static void main(String[] args) {\r\n            LimitedArrayDeque&lt;Integer&gt; q = new LimitedArrayDeque&lt;&gt;(3);\r\n            q.add(1);\r\n            q.add(2);\r\n            q.add(3);\r\n            System.out.println(q);\r\n    \r\n            q.add(4);\r\n            // First entry ie 1 got pushed out\r\n            System.out.println(q);\r\n        }\r\n    }\r\n    \r\n    class LimitedArrayDeque&lt;T&gt; {\r\n    \r\n        private int maxSize;\r\n        private ArrayDeque&lt;T&gt; queue;\r\n    \r\n        private LimitedArrayDeque() {\r\n    \r\n        }\r\n    \r\n        public LimitedArrayDeque(int maxSize) {\r\n            this.maxSize = maxSize;\r\n            queue = new ArrayDeque&lt;T&gt;(maxSize);\r\n        }\r\n    \r\n        public void add(T t) {\r\n            if (queue.size() == maxSize) {\r\n                queue.removeFirst();\r\n            }\r\n            queue.add(t);\r\n        }\r\n    \r\n        public boolean remove(T t) {\r\n            return queue.remove(t);\r\n        }\r\n    \r\n        public boolean contains(T t) {\r\n            return queue.contains(t);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return queue.toString();\r\n        }\r\n    }","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>As it's advised in OOPs that we should prefer <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">Composition over Inheritance</a>  </p>\n\n<p>Here my solution keeping that in mind.</p>\n\n<pre><code>package com.choiceview;\n\nimport java.util.ArrayDeque;\n\nclass Ideone {\n    public static void main(String[] args) {\n        LimitedArrayDeque&lt;Integer&gt; q = new LimitedArrayDeque&lt;&gt;(3);\n        q.add(1);\n        q.add(2);\n        q.add(3);\n        System.out.println(q);\n\n        q.add(4);\n        // First entry ie 1 got pushed out\n        System.out.println(q);\n    }\n}\n\nclass LimitedArrayDeque&lt;T&gt; {\n\n    private int maxSize;\n    private ArrayDeque&lt;T&gt; queue;\n\n    private LimitedArrayDeque() {\n\n    }\n\n    public LimitedArrayDeque(int maxSize) {\n        this.maxSize = maxSize;\n        queue = new ArrayDeque&lt;T&gt;(maxSize);\n    }\n\n    public void add(T t) {\n        if (queue.size() == maxSize) {\n            queue.removeFirst();\n        }\n        queue.add(t);\n    }\n\n    public boolean remove(T t) {\n        return queue.remove(t);\n    }\n\n    public boolean contains(T t) {\n        return queue.contains(t);\n    }\n\n    @Override\n    public String toString() {\n        return queue.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463512,"reputation":748,"user_id":866473,"accept_rate":60,"display_name":"Bas Kuis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606094160,"creation_date":1606094160,"answer_id":64961419,"question_id":1963806,"body_markdown":"Ok, I&#39;ll throw out my version too. :-) This is build to be very performant - for when that matters. It&#39;s not based on LinkedList - and is thread safe (should be at least). FIFO\r\n\r\n    static class FixedSizeCircularReference&lt;T&gt; {\r\n        T[] entries\r\n\r\n        FixedSizeCircularReference(int size) {\r\n            this.entries = new Object[size] as T[]\r\n            this.size = size\r\n        }\r\n        int cur = 0\r\n        int size\r\n\r\n        synchronized void add(T entry) {\r\n            entries[cur++] = entry\r\n            if (cur &gt;= size) {\r\n                cur = 0\r\n            }\r\n        }\r\n\r\n        List&lt;T&gt; asList() {\r\n            int c = cur\r\n            int s = size\r\n            T[] e = entries.collect() as T[]\r\n            List&lt;T&gt; list = new ArrayList&lt;&gt;()\r\n            int oldest = (c == s - 1) ? 0 : c\r\n            for (int i = 0; i &lt; e.length; i++) {\r\n                def entry = e[oldest + i &lt; s ? oldest + i : oldest + i - s]\r\n                if (entry) list.add(entry)\r\n            }\r\n            return list\r\n        }\r\n    }\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>Ok, I'll throw out my version too. :-) This is build to be very performant - for when that matters. It's not based on LinkedList - and is thread safe (should be at least). FIFO</p>\n<pre><code>static class FixedSizeCircularReference&lt;T&gt; {\n    T[] entries\n\n    FixedSizeCircularReference(int size) {\n        this.entries = new Object[size] as T[]\n        this.size = size\n    }\n    int cur = 0\n    int size\n\n    synchronized void add(T entry) {\n        entries[cur++] = entry\n        if (cur &gt;= size) {\n            cur = 0\n        }\n    }\n\n    List&lt;T&gt; asList() {\n        int c = cur\n        int s = size\n        T[] e = entries.collect() as T[]\n        List&lt;T&gt; list = new ArrayList&lt;&gt;()\n        int oldest = (c == s - 1) ? 0 : c\n        for (int i = 0; i &lt; e.length; i++) {\n            def entry = e[oldest + i &lt; s ? oldest + i : oldest + i - s]\n            if (entry) list.add(entry)\n        }\n        return list\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":563575,"reputation":2603,"user_id":192055,"accept_rate":90,"display_name":"c0d3x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101360,"favorite_count":0,"down_vote_count":1,"up_vote_count":166,"accepted_answer_id":1963830,"answer_count":15,"score":165,"last_activity_date":1687202424,"creation_date":1261846894,"question_id":1963806,"body_markdown":"I need a queue with a fixed size. When I add an element and the queue is full, it should automatically remove the oldest element. \r\n\r\nIs there an existing implementation for this in Java?\r\n","title":"Is there a fixed sized queue which removes excessive elements?","body":"<p>I need a queue with a fixed size. When I add an element and the queue is full, it should automatically remove the oldest element. </p>\n\n<p>Is there an existing implementation for this in Java?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26800390,"reputation":1,"user_id":20392421,"display_name":"stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687202333,"creation_date":1687202333,"question_id":76509524,"body_markdown":"I&#39;m having a problem while running my app, but I&#39;m not understanding why. \r\nThe problem seems to be when I use popBackStack, however I already use this in other parts of the app and it never happened.\r\nBoth of the classes I&#39;m working with are fragments.\r\n\r\n**The problem:**\r\n\r\n`I/NavController: Ignoring popBackStack to destination com.example.dissertation:id/explanationFFragment as it was not found on the current back stack`\r\n\r\n\r\n**explanationFFragment**\r\n\r\n```\r\npackage com.example.dissertation.ui;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.navigation.Navigation;\r\n\r\nimport com.example.dissertation.R;\r\nimport com.example.dissertation.databinding.FragmentExplanationfBinding;\r\n\r\nimport com.example.dissertation.ui.dashboard.DashboardViewModel;\r\n\r\npublic class ExplanationFFragment extends Fragment {\r\n    private FragmentExplanationfBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        DashboardViewModel dashboardViewModel =\r\n                new ViewModelProvider(this).get(DashboardViewModel.class);\r\n\r\n        binding = FragmentExplanationfBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        binding.buttonExf.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).navigate(R.id.action_explanationFFragment_to_factsFragment);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n**where I&#39;m doing popBackStack**\r\n\r\n\r\n```\r\n   @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        MyApplication app = (MyApplication) getActivity().getApplication();\r\n        for (int i = 0; i &lt; binding.container.getChildCount(); i++) {\r\n\r\n            View v = ((LinearLayout) binding.container.getChildAt(i)).getChildAt(0);\r\n            v.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (app.rehabActivity.equals(&quot;Q&quot;)) {\r\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationQFragment, false);\r\n                    } else if (app.rehabActivity.equals(&quot;F&quot;)) {\r\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationFFragment, false);\r\n                    } else {\r\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.navigation_home, false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\n\r\nCan someone understand whats the problem and help me, please? ","title":"Ignoring popBackStack to destination as it was not found on the current back stack","body":"<p>I'm having a problem while running my app, but I'm not understanding why.\nThe problem seems to be when I use popBackStack, however I already use this in other parts of the app and it never happened.\nBoth of the classes I'm working with are fragments.</p>\n<p><strong>The problem:</strong></p>\n<p><code>I/NavController: Ignoring popBackStack to destination com.example.dissertation:id/explanationFFragment as it was not found on the current back stack</code></p>\n<p><strong>explanationFFragment</strong></p>\n<pre><code>package com.example.dissertation.ui;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\nimport androidx.navigation.Navigation;\n\nimport com.example.dissertation.R;\nimport com.example.dissertation.databinding.FragmentExplanationfBinding;\n\nimport com.example.dissertation.ui.dashboard.DashboardViewModel;\n\npublic class ExplanationFFragment extends Fragment {\n    private FragmentExplanationfBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        DashboardViewModel dashboardViewModel =\n                new ViewModelProvider(this).get(DashboardViewModel.class);\n\n        binding = FragmentExplanationfBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        return root;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        binding.buttonExf.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).navigate(R.id.action_explanationFFragment_to_factsFragment);\n            }\n        });\n\n    }\n}\n</code></pre>\n<p><strong>where I'm doing popBackStack</strong></p>\n<pre><code>   @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        MyApplication app = (MyApplication) getActivity().getApplication();\n        for (int i = 0; i &lt; binding.container.getChildCount(); i++) {\n\n            View v = ((LinearLayout) binding.container.getChildAt(i)).getChildAt(0);\n            v.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (app.rehabActivity.equals(&quot;Q&quot;)) {\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationQFragment, false);\n                    } else if (app.rehabActivity.equals(&quot;F&quot;)) {\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.explanationFFragment, false);\n                    } else {\n                        Navigation.findNavController(requireActivity(), R.id.nav_host_fragment_activity_nav).popBackStack(R.id.navigation_home, false);\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n<p>Can someone understand whats the problem and help me, please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1579177509,"post_id":59769615,"comment_id":105682992,"body_markdown":"There has never been anything called Control Center in java. You mean Mission Control? Or something else?","body":"There has never been anything called Control Center in java. You mean Mission Control? Or something else?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1579177606,"post_id":59769615,"comment_id":105683040,"body_markdown":"Or the Java Control Panel?","body":"Or the Java Control Panel?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1579187695,"post_id":59769615,"comment_id":105688990,"body_markdown":"It doesn’t make much sense to have a control panel, where there is no standalone JRE.","body":"It doesn’t make much sense to have a control panel, where there is no standalone JRE."},{"owner":{"account_id":8879559,"reputation":43,"user_id":6630292,"display_name":"Sessl"},"score":0,"creation_date":1579608728,"post_id":59769615,"comment_id":105815719,"body_markdown":"Hello, I&#39;m sorry! I meant the Java Control Panel...","body":"Hello, I&#39;m sorry! I meant the Java Control Panel..."}],"answers":[{"comments":[{"owner":{"account_id":8879559,"reputation":43,"user_id":6630292,"display_name":"Sessl"},"score":0,"creation_date":1579608798,"post_id":59769921,"comment_id":105815765,"body_markdown":"Thank you for you answer, yes I meant the Java Control Panel and don&#39;t know why I wrote Center .. :/  Any idea where I can set security parameters with Java11?","body":"Thank you for you answer, yes I meant the Java Control Panel and don&#39;t know why I wrote Center .. :/  Any idea where I can set security parameters with Java11?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1579609089,"post_id":59769921,"comment_id":105815932,"body_markdown":"Which security parameters?","body":"Which security parameters?"},{"owner":{"account_id":8879559,"reputation":43,"user_id":6630292,"display_name":"Sessl"},"score":0,"creation_date":1579614509,"post_id":59769921,"comment_id":105819005,"body_markdown":"Java Control Panel &gt; Security &gt; Exception Site List &gt; e.g. add IP addresses","body":"Java Control Panel &gt; Security &gt; Exception Site List &gt; e.g. add IP addresses"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667193711,"post_id":59769921,"comment_id":131104493,"body_markdown":"That setting is no longer relevant.","body":"That setting is no longer relevant."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1667193611,"creation_date":1579178338,"answer_id":59769921,"question_id":59769615,"body_markdown":"For the record, there never was a &quot;Java Control Center&quot;.\r\n\r\n  - Java Flight Recorder (JFR) and Java Mission Control (JMC) are included in both Oracle Java 11 and OpenJDK Java 11\r\n\r\n  - The Java Control Panel which was part of the deployment tool chain that was dropped in Java 11; see the [release notes][1].  It is not available for **either** Oracle Java 11 **or** OpenJDK Java 11.\r\n\r\nSo:\r\n\r\n&gt; Question: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java? \r\n\r\nAssuming you are talking about the Java Control **Panel**, the answer is (AFAIK) you can&#39;t, and this won&#39;t change in future releases ... unless Oracle (or someone else) comes up with a replacement for the deployment tool chain.\r\n\r\n&gt; Why: With the Control Center we can set easily some security parameters.\r\n\r\n&lt;strike&gt;It is most likely that the parameters can be set some other way.&lt;/strike&gt;\r\n\r\n**CORRECTION** - It appears that many of the security parameters that were configured using the Java Control Panel control the security of the Java browser plugin and Java Webstart.  JWS and the browser plugin no longer exist in Java 11.\r\n\r\nYou were interested in configuring `Control Panel &gt; Security &gt; Exception Site List`.  Allowed the user to mark certain sites as &quot;safe&quot; as a source for RIAs.  Since RIAs relied on either JWS or the Java browser plugin, this configuration property is moot.\r\n\r\n(Or at least ... that is what I have deduced from reading the Java 8 deployment docs.)\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>For the record, there never was a &quot;Java Control Center&quot;.</p>\n<ul>\n<li><p>Java Flight Recorder (JFR) and Java Mission Control (JMC) are included in both Oracle Java 11 and OpenJDK Java 11</p>\n</li>\n<li><p>The Java Control Panel which was part of the deployment tool chain that was dropped in Java 11; see the <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"nofollow noreferrer\">release notes</a>.  It is not available for <strong>either</strong> Oracle Java 11 <strong>or</strong> OpenJDK Java 11.</p>\n</li>\n</ul>\n<p>So:</p>\n<blockquote>\n<p>Question: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java?</p>\n</blockquote>\n<p>Assuming you are talking about the Java Control <strong>Panel</strong>, the answer is (AFAIK) you can't, and this won't change in future releases ... unless Oracle (or someone else) comes up with a replacement for the deployment tool chain.</p>\n<blockquote>\n<p>Why: With the Control Center we can set easily some security parameters.</p>\n</blockquote>\n<p><strike>It is most likely that the parameters can be set some other way.</strike></p>\n<p><strong>CORRECTION</strong> - It appears that many of the security parameters that were configured using the Java Control Panel control the security of the Java browser plugin and Java Webstart.  JWS and the browser plugin no longer exist in Java 11.</p>\n<p>You were interested in configuring <code>Control Panel &gt; Security &gt; Exception Site List</code>.  Allowed the user to mark certain sites as &quot;safe&quot; as a source for RIAs.  Since RIAs relied on either JWS or the Java browser plugin, this configuration property is moot.</p>\n<p>(Or at least ... that is what I have deduced from reading the Java 8 deployment docs.)</p>\n"},{"comments":[{"owner":{"account_id":8879559,"reputation":43,"user_id":6630292,"display_name":"Sessl"},"score":1,"creation_date":1579609050,"post_id":59770064,"comment_id":105815907,"body_markdown":"Thank you for the information! Ok, is there any option to set security parameters with JAVA11? I need to add an IP address for an old TapeLibrary webinterface.","body":"Thank you for the information! Ok, is there any option to set security parameters with JAVA11? I need to add an IP address for an old TapeLibrary webinterface."}],"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579178843,"creation_date":1579178843,"answer_id":59770064,"question_id":59769615,"body_markdown":"As pe the release notes of Java 11:\r\n\r\nThe Java Plugin and Java WebStart technologies that were deprecated in JDK 9 and marked as candidates for removal in JDK 10, have now been removed. Please note that the **Java Control Panel, which was used for configuring the deployment technologies, has also been removed along with the shared system JRE (but not the server JRE) and the JRE Auto Update mechanism.** [More details][1]\r\n\r\n[1]: https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>As pe the release notes of Java 11:</p>\n\n<p>The Java Plugin and Java WebStart technologies that were deprecated in JDK 9 and marked as candidates for removal in JDK 10, have now been removed. Please note that the <strong>Java Control Panel, which was used for configuring the deployment technologies, has also been removed along with the shared system JRE (but not the server JRE) and the JRE Auto Update mechanism.</strong> <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"nofollow noreferrer\">More details</a></p>\n"},{"tags":[],"owner":{"account_id":3446576,"reputation":21,"user_id":6525457,"display_name":"Rich.Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663793056,"creation_date":1663792752,"answer_id":73806709,"question_id":59769615,"body_markdown":"Some of the funtionalities in the control panel were pretty important to windows users. Installing certificates, for example, is a tedious process without it. Windows cert manager does not target the cacerts file and java doesn&#39;t automagically trust the windows cert stores (which is stupid). \r\n\r\nAlso the automatic updater being gone? Ridiculous. Does oracle actually think sysadmins are going to check their website for updates every day? Good thing MS rereleased their own openjdk. So sick and tired of Oracle&#39;s Shenanigans..\r\n\r\nLong story short... it&#39;s gone, and not coming back, but luckily there are other options that satisfy your needs. \r\n\r\nhttps://learn.microsoft.com/en-us/java/openjdk/download\r\n\r\n","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>Some of the funtionalities in the control panel were pretty important to windows users. Installing certificates, for example, is a tedious process without it. Windows cert manager does not target the cacerts file and java doesn't automagically trust the windows cert stores (which is stupid).</p>\n<p>Also the automatic updater being gone? Ridiculous. Does oracle actually think sysadmins are going to check their website for updates every day? Good thing MS rereleased their own openjdk. So sick and tired of Oracle's Shenanigans..</p>\n<p>Long story short... it's gone, and not coming back, but luckily there are other options that satisfy your needs.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/openjdk/download</a></p>\n"},{"tags":[],"owner":{"account_id":13575484,"reputation":31,"user_id":9792963,"display_name":"Mathias Zajaczkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687201941,"creation_date":1687201941,"answer_id":76509488,"question_id":59769615,"body_markdown":"In MS OpenJDK 11 there is no JRE and there is no Java Control Panel neither.","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>In MS OpenJDK 11 there is no JRE and there is no Java Control Panel neither.</p>\n"}],"owner":{"account_id":8879559,"reputation":43,"user_id":6630292,"display_name":"Sessl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5607,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":59769921,"answer_count":4,"score":2,"last_activity_date":1687201941,"creation_date":1579177275,"question_id":59769615,"body_markdown":"We own Oracle Java Desktop Subscriptions and using Java 8 for Desktop Clients.\r\nWith Java 11 Oracle releases only JDK version, which includes a JRE.\r\n\r\nWith Java 11 the Control Center is missing. Is it right, that the CC is released only in OpenJDK?\r\n\r\nQuestion: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java?\r\nWhy: With the Control Center we can set easily some security parameters.\r\n","title":"Where is &quot;Control Center&quot; in Java 11?","body":"<p>We own Oracle Java Desktop Subscriptions and using Java 8 for Desktop Clients.\nWith Java 11 Oracle releases only JDK version, which includes a JRE.</p>\n\n<p>With Java 11 the Control Center is missing. Is it right, that the CC is released only in OpenJDK?</p>\n\n<p>Question: How do we get back the Control Center in Java 11 and or future versions using the licensed version of Java?\nWhy: With the Control Center we can set easily some security parameters.</p>\n"},{"tags":["java","design-patterns","factory-pattern"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687204101,"post_id":76509447,"comment_id":134901266,"body_markdown":"From my 12-years-experience point of view it&#39;s absolutely ok. If you see factory class is handy in your particular case - use it. Both classes are of the same interface, hiding the implementation is the purpose of interface, returning different implementations according to some logic is typical for a factory pattern.","body":"From my 12-years-experience point of view it&#39;s absolutely ok. If you see factory class is handy in your particular case - use it. Both classes are of the same interface, hiding the implementation is the purpose of interface, returning different implementations according to some logic is typical for a factory pattern."}],"owner":{"account_id":3496476,"reputation":171,"user_id":2924519,"accept_rate":100,"display_name":"SerchRac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687201536,"creation_date":1687201536,"question_id":76509447,"body_markdown":"I have read various articles on the factory pattern. However almost in all the examples the objects used are &quot;flat&quot; (beans, dtos,) ie. Dogs, Cars, etc. and that&#39;s good it helped me understand. But what about service objects, those that execute specific logic.\r\n\r\nFor example, let&#39;s say I want to create an app that supports **credit card** and **debit card** payments. Assuming that the logic is different for both cases, my idea is to create an interface *`CardPayment`* with both implementations: *`CreditCardPayemnt`* and *`DebitCardPayemnt`*.\r\n\r\nThe following would be to create the **factory class** that will return an object of type `CardPayment` (instantiated with one of the implementations based on some input parameter)\r\n\r\nIn this way, the `processPayment()` (method from `CardPayment` interface)could be executed without caring about the type of payment.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Would this be a valid use of the factory pattern?** My concern is based on the fact that factory is a creational pattern and what I propose here is yes the creation of an object (`CardPayment`), but it is more behavior oriented. \r\n\r\nMost of the examples I&#39;ve seen consist of objects that have different attributes so it&#39;s useful to use factory to create one or the other, but what about objects that are different because their operation itself is different.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MMR9dl.png","title":"Factory pattern can be used to create business objects?","body":"<p>I have read various articles on the factory pattern. However almost in all the examples the objects used are &quot;flat&quot; (beans, dtos,) ie. Dogs, Cars, etc. and that's good it helped me understand. But what about service objects, those that execute specific logic.</p>\n<p>For example, let's say I want to create an app that supports <strong>credit card</strong> and <strong>debit card</strong> payments. Assuming that the logic is different for both cases, my idea is to create an interface <em><code>CardPayment</code></em> with both implementations: <em><code>CreditCardPayemnt</code></em> and <em><code>DebitCardPayemnt</code></em>.</p>\n<p>The following would be to create the <strong>factory class</strong> that will return an object of type <code>CardPayment</code> (instantiated with one of the implementations based on some input parameter)</p>\n<p>In this way, the <code>processPayment()</code> (method from <code>CardPayment</code> interface)could be executed without caring about the type of payment.</p>\n<p><a href=\"https://i.stack.imgur.com/MMR9dl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MMR9dl.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Would this be a valid use of the factory pattern?</strong> My concern is based on the fact that factory is a creational pattern and what I propose here is yes the creation of an object (<code>CardPayment</code>), but it is more behavior oriented.</p>\n<p>Most of the examples I've seen consist of objects that have different attributes so it's useful to use factory to create one or the other, but what about objects that are different because their operation itself is different.</p>\n"},{"tags":["java","spring-boot","thymeleaf","flying-saucer"],"answers":[{"comments":[{"owner":{"account_id":28850943,"reputation":23,"user_id":22096865,"display_name":"Shalera"},"score":0,"creation_date":1687232669,"post_id":76509443,"comment_id":134904118,"body_markdown":"Works for me! Thanks a lot!","body":"Works for me! Thanks a lot!"}],"tags":[],"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687201486,"creation_date":1687201486,"answer_id":76509443,"question_id":76506944,"body_markdown":"This is Normal Printing Behaviour, it is simply adding normal printer &quot;gripper margins&quot; (so the ink does not foul the rollers). You will need to add CSS to reduce printer Media Margins to &quot;Borderless&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOne way is to set the @Media print for the body to Zer0\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis may not remove precisely all white areas (without a minor pixel or two change) since there is often some unit rounding off for scale ratios, which can vary from browser to browser, and often depend on current page scaling.\r\n\r\nSo here are the crude values I used for reducing the printer border\r\n```\r\n&lt;head&gt;\r\n    &lt;style th:inline=&quot;text&quot;&gt;\r\n        @media print {\r\n        @page {\r\n        size: 1920px 1440px;\r\n        border: 0px;\r\n        margin: 0px;\r\n        padding: 0px;\r\n        }\r\n        }\r\n```  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yYALd.jpg\r\n  [2]: https://i.stack.imgur.com/dxFMq.jpg","title":"White border around my background when generating a PDF certificate from an HTML template with FlyingSaucer","body":"<p>This is Normal Printing Behaviour, it is simply adding normal printer &quot;gripper margins&quot; (so the ink does not foul the rollers). You will need to add CSS to reduce printer Media Margins to &quot;Borderless&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/yYALd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYALd.jpg\" alt=\"enter image description here\" /></a></p>\n<p>One way is to set the @Media print for the body to Zer0</p>\n<p><a href=\"https://i.stack.imgur.com/dxFMq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxFMq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This may not remove precisely all white areas (without a minor pixel or two change) since there is often some unit rounding off for scale ratios, which can vary from browser to browser, and often depend on current page scaling.</p>\n<p>So here are the crude values I used for reducing the printer border</p>\n<pre><code>&lt;head&gt;\n    &lt;style th:inline=&quot;text&quot;&gt;\n        @media print {\n        @page {\n        size: 1920px 1440px;\n        border: 0px;\n        margin: 0px;\n        padding: 0px;\n        }\n        }\n</code></pre>\n"}],"owner":{"account_id":28850943,"reputation":23,"user_id":22096865,"display_name":"Shalera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76509443,"answer_count":1,"score":2,"last_activity_date":1687201486,"creation_date":1687180011,"question_id":76506944,"body_markdown":"I need to generate PDF certificates after completing courses. These pdf&#39;s generating by HTML template with Thymeleaf. Everything is OK through converting, but in result appear white border around the background image. Resolution of Background image is 1920x1440.\r\nThere is my code on Spring Boot 3.1.0:\r\n\r\n```\r\npublic String parseThymeleafTemplate(String verificationCode, Long certificateId) {\r\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        templateResolver.setTemplateMode(TemplateMode.HTML);\r\n\r\n        TemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver);\r\n\r\n        User student = User.builder()\r\n                .surname(&quot;Test_surname&quot;).name(&quot;Test_name&quot;).build();\r\n        User mentor = User.builder()\r\n                .surname(&quot;Test_mentor&quot;).name(&quot;Test_mentor&quot;).position(&quot;Java dev&quot;).build();\r\n        Course course = Course.builder()\r\n                .mentor(mentor)\r\n                .name(&quot;Java Developer for 3 weeks&quot;).build();\r\n        }\r\n\r\n        Certificate certificate = Certificate.builder()\r\n                .id(54L)\r\n                .course(course)\r\n                .student(student)\r\n                .verificationCode(verificationCode)\r\n                .issuedDate(LocalDate.now())\r\n                .build();\r\n        Context context = new Context();\r\n        context.setVariable(&quot;company_name&quot;, &quot;test_company&quot;);\r\n        context.setVariable(&quot;student_name&quot;, certificate.getStudent().getSurname() + &quot; &quot; + certificate.getStudent().getName());\r\n        context.setVariable(&quot;course_name&quot;, certificate.getCourse().getName());\r\n        context.setVariable(&quot;mentor_name&quot;, certificate.getCourse().getMentor().getSurname() + &quot; &quot; + certificate.getCourse().getMentor().getName());\r\n        context.setVariable(&quot;issued_date&quot;, certificate.getIssuedDate());\r\n        context.setVariable(&quot;verification_code&quot;, certificate.getVerificationCode());\r\n        String generatedFileName = this.generatePdfFromHtml(templateEngine.process(&quot;pdf_cert_temp&quot;, context),\r\n                &quot;Java&quot;, certificate);\r\n        certificate.setFileName(generatedFileName);\r\n        return generatedFileName;\r\n    }\r\n\r\n    public String generatePdfFromHtml(String html, String courseTag, Certificate certificate) {\r\n        String fileName = courseTag + &quot;_&quot; +\r\n                transliterateUtil.transliterateTextFromRussianToLatin(certificate.getStudent().getName()) + &quot;_&quot; +\r\n                certificate.getIssuedDate().toString() + &quot;_&quot; + certificate.getId() +\r\n                CertStrings.CERT_EXTENSION;\r\n        String outputFolder = CertStrings.PATH_TO_PDF_CERTS + File.separator + fileName;\r\n        try (OutputStream outputStream = new FileOutputStream(outputFolder)) {\r\n            ITextRenderer renderer = new ITextRenderer();\r\n            renderer.setDocumentFromString(html);\r\n            renderer.layout();\r\n            renderer.createPDF(outputStream);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(CertStrings.ERROR_WHILE_OUTPUT_STREAM + e);\r\n        } catch (DocumentException e) {\r\n            throw new RuntimeException(CertStrings.ERROR_CREATING_PDF + e);\r\n        }\r\n        return fileName;\r\n    }\r\n```\r\n\r\nThere is my Thymeleaf template for creating PDF\r\n\r\n```\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;style th:inline=&quot;text&quot;&gt;\r\n        @page {\r\n            size: 1920px 1440px;\r\n        }\r\n\r\n        body {\r\n            font-family: Arial, sans-serif;\r\n            background-image: url(http://some_url/files/cert_templates/java_template_bg.jpg);\r\n            background-size: cover;\r\n            background-position: center;\r\n            background-repeat: no-repeat;\r\n            width: 100%;\r\n            height: 100%;\r\n            margin: 0px;\r\n            padding: 0px;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .company-name {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-style: italic;\r\n            font-size: 70px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 5%;\r\n            left: 44%;\r\n        }\r\n\r\n        .student-name {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-size: 70px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 31%;\r\n            left: 38.5%;\r\n        }\r\n\r\n        .course-completing {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-weight: 100;\r\n            font-size: 51px;\r\n            position: absolute;\r\n            margin-top: 36%;\r\n            left: 30%;\r\n        }\r\n\r\n        .course-description {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-size: 50px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 40%;\r\n            left: 35%;\r\n        }\r\n\r\n        .mentor-name {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-family: &quot;Times New Roman&quot;, Times, serif;\r\n            font-size: 30px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 44%;\r\n            left: 39%;\r\n        }\r\n\r\n        .verification-code {\r\n            text-align: center;\r\n            color: #D9AF58;\r\n            font-size: 25px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 46%;\r\n            left: 34.5%;\r\n        }\r\n\r\n        .issued-date {\r\n            text-align: left;\r\n            color: #D9AF58;\r\n            font-size: 50px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 55%;\r\n            left: 21.1%;\r\n        }\r\n\r\n        .signature {\r\n            text-align: left;\r\n            color: #D9AF58;\r\n            font-size: 50px;\r\n            font-weight: 100;\r\n            position: absolute;\r\n            margin-top: 55%;\r\n            right: 21.5%;\r\n        }\r\n    &lt;/style&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;div class=&quot;company-name&quot;&gt;\r\n        &lt;span th:text=&quot;${company_name}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;student-name&quot;&gt;\r\n        &lt;span th:text=&quot;${student_name}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;course-completing&quot;&gt;\r\n        &lt;span&gt;has successfully completing course&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;course-description&quot;&gt;\r\n        &lt;u th:text=&quot;${course_name}&quot;&gt;&lt;/u&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;mentor-name&quot;&gt;\r\n        Taught by &lt;span th:text=&quot;${mentor_name}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;verification-code&quot;&gt;\r\n        Verification code: &lt;span th:text=&quot;${verification_code}&quot;&gt;&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;div class=&quot;issued-date&quot;&gt;\r\n            &lt;span th:text=&quot;${issued_date}&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;signature&quot;&gt;\r\n            &lt;span th:text=&quot;&#39;Test S.&#39;&quot;&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThis is my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PdfGeneratorTest&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PdfGeneratorTest&lt;/name&gt;\r\n    &lt;description&gt;PdfGeneratorTest&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n            &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n            &lt;version&gt;69.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;9.1.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is example, what is look like:\r\n[Example of generated PDF](https://i.stack.imgur.com/1qcpF.png)\r\n\r\n\r\nTried to modify HTML tempalte, but it didn&#39;t work. Resize of image or output page also didn&#39;t work.","title":"White border around my background when generating a PDF certificate from an HTML template with FlyingSaucer","body":"<p>I need to generate PDF certificates after completing courses. These pdf's generating by HTML template with Thymeleaf. Everything is OK through converting, but in result appear white border around the background image. Resolution of Background image is 1920x1440.\nThere is my code on Spring Boot 3.1.0:</p>\n<pre><code>public String parseThymeleafTemplate(String verificationCode, Long certificateId) {\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n        templateResolver.setSuffix(&quot;.html&quot;);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n\n        TemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n\n        User student = User.builder()\n                .surname(&quot;Test_surname&quot;).name(&quot;Test_name&quot;).build();\n        User mentor = User.builder()\n                .surname(&quot;Test_mentor&quot;).name(&quot;Test_mentor&quot;).position(&quot;Java dev&quot;).build();\n        Course course = Course.builder()\n                .mentor(mentor)\n                .name(&quot;Java Developer for 3 weeks&quot;).build();\n        }\n\n        Certificate certificate = Certificate.builder()\n                .id(54L)\n                .course(course)\n                .student(student)\n                .verificationCode(verificationCode)\n                .issuedDate(LocalDate.now())\n                .build();\n        Context context = new Context();\n        context.setVariable(&quot;company_name&quot;, &quot;test_company&quot;);\n        context.setVariable(&quot;student_name&quot;, certificate.getStudent().getSurname() + &quot; &quot; + certificate.getStudent().getName());\n        context.setVariable(&quot;course_name&quot;, certificate.getCourse().getName());\n        context.setVariable(&quot;mentor_name&quot;, certificate.getCourse().getMentor().getSurname() + &quot; &quot; + certificate.getCourse().getMentor().getName());\n        context.setVariable(&quot;issued_date&quot;, certificate.getIssuedDate());\n        context.setVariable(&quot;verification_code&quot;, certificate.getVerificationCode());\n        String generatedFileName = this.generatePdfFromHtml(templateEngine.process(&quot;pdf_cert_temp&quot;, context),\n                &quot;Java&quot;, certificate);\n        certificate.setFileName(generatedFileName);\n        return generatedFileName;\n    }\n\n    public String generatePdfFromHtml(String html, String courseTag, Certificate certificate) {\n        String fileName = courseTag + &quot;_&quot; +\n                transliterateUtil.transliterateTextFromRussianToLatin(certificate.getStudent().getName()) + &quot;_&quot; +\n                certificate.getIssuedDate().toString() + &quot;_&quot; + certificate.getId() +\n                CertStrings.CERT_EXTENSION;\n        String outputFolder = CertStrings.PATH_TO_PDF_CERTS + File.separator + fileName;\n        try (OutputStream outputStream = new FileOutputStream(outputFolder)) {\n            ITextRenderer renderer = new ITextRenderer();\n            renderer.setDocumentFromString(html);\n            renderer.layout();\n            renderer.createPDF(outputStream);\n        } catch (IOException e) {\n            throw new RuntimeException(CertStrings.ERROR_WHILE_OUTPUT_STREAM + e);\n        } catch (DocumentException e) {\n            throw new RuntimeException(CertStrings.ERROR_CREATING_PDF + e);\n        }\n        return fileName;\n    }\n</code></pre>\n<p>There is my Thymeleaf template for creating PDF</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;style th:inline=&quot;text&quot;&gt;\n        @page {\n            size: 1920px 1440px;\n        }\n\n        body {\n            font-family: Arial, sans-serif;\n            background-image: url(http://some_url/files/cert_templates/java_template_bg.jpg);\n            background-size: cover;\n            background-position: center;\n            background-repeat: no-repeat;\n            width: 100%;\n            height: 100%;\n            margin: 0px;\n            padding: 0px;\n            box-sizing: border-box;\n        }\n\n        .company-name {\n            text-align: center;\n            color: #D9AF58;\n            font-style: italic;\n            font-size: 70px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 5%;\n            left: 44%;\n        }\n\n        .student-name {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-size: 70px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 31%;\n            left: 38.5%;\n        }\n\n        .course-completing {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-weight: 100;\n            font-size: 51px;\n            position: absolute;\n            margin-top: 36%;\n            left: 30%;\n        }\n\n        .course-description {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-size: 50px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 40%;\n            left: 35%;\n        }\n\n        .mentor-name {\n            text-align: center;\n            color: #D9AF58;\n            font-family: &quot;Times New Roman&quot;, Times, serif;\n            font-size: 30px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 44%;\n            left: 39%;\n        }\n\n        .verification-code {\n            text-align: center;\n            color: #D9AF58;\n            font-size: 25px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 46%;\n            left: 34.5%;\n        }\n\n        .issued-date {\n            text-align: left;\n            color: #D9AF58;\n            font-size: 50px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 55%;\n            left: 21.1%;\n        }\n\n        .signature {\n            text-align: left;\n            color: #D9AF58;\n            font-size: 50px;\n            font-weight: 100;\n            position: absolute;\n            margin-top: 55%;\n            right: 21.5%;\n        }\n    &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;div class=&quot;company-name&quot;&gt;\n        &lt;span th:text=&quot;${company_name}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;student-name&quot;&gt;\n        &lt;span th:text=&quot;${student_name}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;course-completing&quot;&gt;\n        &lt;span&gt;has successfully completing course&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;course-description&quot;&gt;\n        &lt;u th:text=&quot;${course_name}&quot;&gt;&lt;/u&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;mentor-name&quot;&gt;\n        Taught by &lt;span th:text=&quot;${mentor_name}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;verification-code&quot;&gt;\n        Verification code: &lt;span th:text=&quot;${verification_code}&quot;&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;div class=&quot;issued-date&quot;&gt;\n            &lt;span th:text=&quot;${issued_date}&quot;&gt;&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;signature&quot;&gt;\n            &lt;span th:text=&quot;'Test S.'&quot;&gt;&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PdfGeneratorTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PdfGeneratorTest&lt;/name&gt;\n    &lt;description&gt;PdfGeneratorTest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n            &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n            &lt;version&gt;69.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n            &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\n            &lt;version&gt;9.1.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.2.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is example, what is look like:\n<a href=\"https://i.stack.imgur.com/1qcpF.png\" rel=\"nofollow noreferrer\">Example of generated PDF</a></p>\n<p>Tried to modify HTML tempalte, but it didn't work. Resize of image or output page also didn't work.</p>\n"},{"tags":["java","appium","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687200554,"creation_date":1687200554,"answer_id":76509354,"question_id":76503796,"body_markdown":"QAF has great capabilities of re-usability for cross platform test automation.\r\nYou should utilize  [locator repository][1] feature of qaf to abstract locator out from the code. For example, if using page class,\r\ninstead of having platform specific class\r\n```\r\nIosHomePage.java\r\n\r\n\r\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\r\nprotected WebElement home;\r\n\r\nAndriodHomePage.java\r\n\r\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id=&#39;merchant-name&#39;]&quot;)\r\nprotected WebElement home;\r\n```\r\n\r\nyou can have single class with separate locator repository for each platform (android and ios in this case)\r\n\r\nHomePage.java\r\n```\r\n@FindBy(locator = &quot;home.ele.loc&quot;)\r\nprotected WebElement home;\r\n\r\n```\r\nyou can create locator repository for each platform and add locator in it\r\n```\r\nresource\r\n  - appilcation.properties\r\n  -common\r\n     - \r\n  - android\r\n     - homescreen.properties\r\n     - \r\n     - \r\n  -ios\r\n     - homescreen.properties\r\n     - \r\n     - \r\n```\r\nAt the time of execution specify which resources you want to use by using `env.resources` property. For example, if want to run for android\r\n```\r\nenv.resource=resource/common;resources/android\r\n```\r\nfor android\r\n```\r\nenv.resource=resource/common;resources/ios\r\n```\r\nAnother alternate is [driver specific resources][2]. In that case your properties will look like below\r\n\r\n```\r\nenv.resource=resource/common\r\nandroid.resources=resources/android\r\nios.resources=resources/ios\r\n\r\n```\r\n\r\n\r\nRefer:\r\n - [locator repository][1]\r\n - [managing resources][3]\r\n - [properties][4]\r\n - [Repository editor][5]\r\n\r\nThere is also a good training material available from perfecto on [Locator &amp; Capabilities][6]\r\n\r\n\r\n  [1]: https://qmetry.github.io/qaf/latest/locator_repository.html\r\n  [2]: https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html#managing-driver-specific-resource\r\n  [3]: https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html\r\n  [4]: https://qmetry.github.io/qaf/latest/properties_configuration.html\r\n  [5]: https://qmetry.github.io/qaf/latest/repo_editor.html\r\n  [6]: https://help.perfecto.io/perfecto-help/content/courses/module_2___locators___capabilities.htm","title":"How to define platform-specific page elements for iOS and Android in a single place using QAF?","body":"<p>QAF has great capabilities of re-usability for cross platform test automation.\nYou should utilize  <a href=\"https://qmetry.github.io/qaf/latest/locator_repository.html\" rel=\"nofollow noreferrer\">locator repository</a> feature of qaf to abstract locator out from the code. For example, if using page class,\ninstead of having platform specific class</p>\n<pre><code>IosHomePage.java\n\n\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\nprotected WebElement home;\n\nAndriodHomePage.java\n\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id='merchant-name']&quot;)\nprotected WebElement home;\n</code></pre>\n<p>you can have single class with separate locator repository for each platform (android and ios in this case)</p>\n<p>HomePage.java</p>\n<pre><code>@FindBy(locator = &quot;home.ele.loc&quot;)\nprotected WebElement home;\n\n</code></pre>\n<p>you can create locator repository for each platform and add locator in it</p>\n<pre><code>resource\n  - appilcation.properties\n  -common\n     - \n  - android\n     - homescreen.properties\n     - \n     - \n  -ios\n     - homescreen.properties\n     - \n     - \n</code></pre>\n<p>At the time of execution specify which resources you want to use by using <code>env.resources</code> property. For example, if want to run for android</p>\n<pre><code>env.resource=resource/common;resources/android\n</code></pre>\n<p>for android</p>\n<pre><code>env.resource=resource/common;resources/ios\n</code></pre>\n<p>Another alternate is <a href=\"https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html#managing-driver-specific-resource\" rel=\"nofollow noreferrer\">driver specific resources</a>. In that case your properties will look like below</p>\n<pre><code>env.resource=resource/common\nandroid.resources=resources/android\nios.resources=resources/ios\n\n</code></pre>\n<p>Refer:</p>\n<ul>\n<li><a href=\"https://qmetry.github.io/qaf/latest/locator_repository.html\" rel=\"nofollow noreferrer\">locator repository</a></li>\n<li><a href=\"https://qmetry.github.io/qaf/latest/managing_resources_for_different_env.html\" rel=\"nofollow noreferrer\">managing resources</a></li>\n<li><a href=\"https://qmetry.github.io/qaf/latest/properties_configuration.html\" rel=\"nofollow noreferrer\">properties</a></li>\n<li><a href=\"https://qmetry.github.io/qaf/latest/repo_editor.html\" rel=\"nofollow noreferrer\">Repository editor</a></li>\n</ul>\n<p>There is also a good training material available from perfecto on <a href=\"https://help.perfecto.io/perfecto-help/content/courses/module_2___locators___capabilities.htm\" rel=\"nofollow noreferrer\">Locator &amp; Capabilities</a></p>\n"}],"owner":{"account_id":28064486,"reputation":45,"user_id":21438080,"display_name":"Ostan Dsouza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76509354,"answer_count":1,"score":2,"last_activity_date":1687200554,"creation_date":1687152080,"question_id":76503796,"body_markdown":"I&#39;m developing a test case that needs to run on both iOS and Android platforms using QAF (Qmetry Automation Framework). I want to follow a Page Object approach where I can define elements for both platforms in a single place and reuse them in my tests.\r\n\r\nIn Appium, I can achieve this by using annotations like @AndroidFindBy and @iOSXCUITFindBy. Here&#39;s an example:\r\n\r\n```\r\n@HowToUseLocators(androidAutomation = LocatorGroupStrategy.ALL_POSSIBLE, iOSXCUITAutomation = LocatorGroupStrategy.ALL_POSSIBLE)\r\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id=&#39;merchant-name&#39;]&quot;)\r\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\r\nprotected WebElement home;\r\n```\r\n\r\nThis allows me to specify different locators for Android and iOS, and the framework automatically chooses the appropriate locator based on the platform.\r\n\r\nHowever, I couldn&#39;t find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would greatly appreciate any guidance or suggestions on how to approach this in QAF. Thank you!","title":"How to define platform-specific page elements for iOS and Android in a single place using QAF?","body":"<p>I'm developing a test case that needs to run on both iOS and Android platforms using QAF (Qmetry Automation Framework). I want to follow a Page Object approach where I can define elements for both platforms in a single place and reuse them in my tests.</p>\n<p>In Appium, I can achieve this by using annotations like @AndroidFindBy and @iOSXCUITFindBy. Here's an example:</p>\n<pre><code>@HowToUseLocators(androidAutomation = LocatorGroupStrategy.ALL_POSSIBLE, iOSXCUITAutomation = LocatorGroupStrategy.ALL_POSSIBLE)\n@AndroidFindBy(xpath = &quot;//android.widget.TextView[@resource-id='merchant-name']&quot;)\n@iOSXCUITFindBy(accessibility = &quot;Home&quot;)\nprotected WebElement home;\n</code></pre>\n<p>This allows me to specify different locators for Android and iOS, and the framework automatically chooses the appropriate locator based on the platform.</p>\n<p>However, I couldn't find a similar implementation in QAF. Is there a way to achieve the same result in QAF? I would greatly appreciate any guidance or suggestions on how to approach this in QAF. Thank you!</p>\n"},{"tags":["java","telegram","telegram-bot"],"owner":{"account_id":11009644,"reputation":1,"user_id":8087508,"display_name":"bstrdn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687200155,"creation_date":1687200155,"question_id":76509320,"body_markdown":"When using the InlineQueryResultGame in Telegram, I&#39;m trying to retrieve the groupId from the CallbackQuery that is triggered when the user interacts with the inline game button. However, I&#39;m having difficulty accessing the groupId information from the CallbackQuery object.\r\n\r\nI&#39;ve already checked the documentation and searched for examples, but I couldn&#39;t find a clear explanation or code snippet that demonstrates how to extract the groupId specifically from a CallbackQuery that originated from an InlineQueryResultGame.\r\n\r\nCould someone please provide guidance on how to extract the groupId from the CallbackQuery triggered by the InlineQueryResultGame? Any code examples or explanations would be greatly appreciated. Thank you!\r\n\r\n Example of creating InlineQueryResultGame: \r\n\r\n```\r\nList&lt;InlineQueryResult&gt; results = new ArrayList&lt;&gt;();\r\n\r\nInlineQueryResultGame gameResult =\r\n    InlineQueryResultGame.builder()\r\n        .id(&quot;1&quot;)\r\n        .gameShortName(&quot;bot&quot;).build();\r\n\r\nresults.add(gameResult);\r\n\r\nAnswerInlineQuery answerInlineQuery = new AnswerInlineQuery();\r\nanswerInlineQuery.setInlineQueryId(update.getInlineQuery().getId());\r\nanswerInlineQuery.setResults(results);\r\n\r\ntry {\r\n  bot.execute(answerInlineQuery);\r\n} catch (TelegramApiException e) {\r\n...\r\n}\r\n```\r\n\r\nCallbackQuery:\r\n\r\n[CallbackQuery](https://i.stack.imgur.com/zo5hK.png)","title":"How to get the groupId from CallbackQuery initiated through InlineQueryResultGame?","body":"<p>When using the InlineQueryResultGame in Telegram, I'm trying to retrieve the groupId from the CallbackQuery that is triggered when the user interacts with the inline game button. However, I'm having difficulty accessing the groupId information from the CallbackQuery object.</p>\n<p>I've already checked the documentation and searched for examples, but I couldn't find a clear explanation or code snippet that demonstrates how to extract the groupId specifically from a CallbackQuery that originated from an InlineQueryResultGame.</p>\n<p>Could someone please provide guidance on how to extract the groupId from the CallbackQuery triggered by the InlineQueryResultGame? Any code examples or explanations would be greatly appreciated. Thank you!</p>\n<p>Example of creating InlineQueryResultGame:</p>\n<pre><code>List&lt;InlineQueryResult&gt; results = new ArrayList&lt;&gt;();\n\nInlineQueryResultGame gameResult =\n    InlineQueryResultGame.builder()\n        .id(&quot;1&quot;)\n        .gameShortName(&quot;bot&quot;).build();\n\nresults.add(gameResult);\n\nAnswerInlineQuery answerInlineQuery = new AnswerInlineQuery();\nanswerInlineQuery.setInlineQueryId(update.getInlineQuery().getId());\nanswerInlineQuery.setResults(results);\n\ntry {\n  bot.execute(answerInlineQuery);\n} catch (TelegramApiException e) {\n...\n}\n</code></pre>\n<p>CallbackQuery:</p>\n<p><a href=\"https://i.stack.imgur.com/zo5hK.png\" rel=\"nofollow noreferrer\">CallbackQuery</a></p>\n"},{"tags":["java","apache-camel","activemq","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687199761,"creation_date":1687033579,"answer_id":76498027,"question_id":76497973,"body_markdown":"That component is wired to JMS 2.0 API jar. You need to change your feature to install a javax.jms-api jar that is 2.0 and _not_ the geronimo-jms-api jar that supports JMS v1.1","title":"Camel-activemq component inside of karaf","body":"<p>That component is wired to JMS 2.0 API jar. You need to change your feature to install a javax.jms-api jar that is 2.0 and <em>not</em> the geronimo-jms-api jar that supports JMS v1.1</p>\n"}],"owner":{"account_id":20524248,"reputation":105,"user_id":15063087,"display_name":"k4rnaj1k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76498027,"answer_count":1,"score":0,"last_activity_date":1687199761,"creation_date":1687032655,"question_id":76497973,"body_markdown":"Karaf 4.4.3, camel 3.20.5\r\nI have a blueprint with\r\n```xml\r\n    &lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\r\n        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://localhost:61616&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;karaf&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;karaf&quot; /&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\nI get error when I try to start my app inside of karaf: \r\n```\r\norg.osgi.service.blueprint.container.ComponentDefinitionException: Error when instantiating bean activemq of class org.apache.camel.component.activemq.ActiveMQComponent\r\n...\r\nCaused by: java.lang.NoClassDefFoundError: javax/jms/JMSContext\r\n...\r\nCaused by: java.lang.ClassNotFoundException: javax.jms.JMSContext not found by org.apache.geronimo.specs.geronimo-jms_1.1_spec [203]\r\n```\r\n\r\nMy features:\r\n```xml\r\n        &lt;feature&gt;transaction&lt;/feature&gt;\r\n        &lt;feature&gt;jndi&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc-config&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc-postgresql&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc-pool-dbcp2&lt;/feature&gt;\r\n        &lt;feature&gt;jdbc&lt;/feature&gt;\r\n        &lt;feature&gt;jms&lt;/feature&gt;\r\n        &lt;feature&gt;activemq-client&lt;/feature&gt;\r\n        &lt;feature&gt;pax-jdbc&lt;/feature&gt;\r\n        &lt;feature dependency=&quot;true&quot;&gt;aries-blueprint&lt;/feature&gt;\r\n        &lt;feature&gt;cxf&lt;/feature&gt;\r\n        &lt;feature&gt;camel-activemq&lt;/feature&gt;\r\n```\r\n\r\nI&#39;ve also tried initializing ActiveMQConnectionFactory but was getting same NoClassDeffound error.\r\nAlso tried installing `bundle:install mvn:javax.jms/javax.jms-api/2.0.1`, but that didn&#39;t help.\r\n\r\nI&#39;m guessing there is some API mismatch or I&#39;m missing a dependency.\r\n\r\n_Without the ActiveMQComponent the bundle was working fine._\r\n\r\nThe activemq broker is inside the same karaf instance, I&#39;m connecting to it via hawtio with no issues.","title":"Camel-activemq component inside of karaf","body":"<p>Karaf 4.4.3, camel 3.20.5\nI have a blueprint with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\n        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://localhost:61616&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;karaf&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;karaf&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>I get error when I try to start my app inside of karaf:</p>\n<pre><code>org.osgi.service.blueprint.container.ComponentDefinitionException: Error when instantiating bean activemq of class org.apache.camel.component.activemq.ActiveMQComponent\n...\nCaused by: java.lang.NoClassDefFoundError: javax/jms/JMSContext\n...\nCaused by: java.lang.ClassNotFoundException: javax.jms.JMSContext not found by org.apache.geronimo.specs.geronimo-jms_1.1_spec [203]\n</code></pre>\n<p>My features:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;feature&gt;transaction&lt;/feature&gt;\n        &lt;feature&gt;jndi&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc-config&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc-postgresql&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc-pool-dbcp2&lt;/feature&gt;\n        &lt;feature&gt;jdbc&lt;/feature&gt;\n        &lt;feature&gt;jms&lt;/feature&gt;\n        &lt;feature&gt;activemq-client&lt;/feature&gt;\n        &lt;feature&gt;pax-jdbc&lt;/feature&gt;\n        &lt;feature dependency=&quot;true&quot;&gt;aries-blueprint&lt;/feature&gt;\n        &lt;feature&gt;cxf&lt;/feature&gt;\n        &lt;feature&gt;camel-activemq&lt;/feature&gt;\n</code></pre>\n<p>I've also tried initializing ActiveMQConnectionFactory but was getting same NoClassDeffound error.\nAlso tried installing <code>bundle:install mvn:javax.jms/javax.jms-api/2.0.1</code>, but that didn't help.</p>\n<p>I'm guessing there is some API mismatch or I'm missing a dependency.</p>\n<p><em>Without the ActiveMQComponent the bundle was working fine.</em></p>\n<p>The activemq broker is inside the same karaf instance, I'm connecting to it via hawtio with no issues.</p>\n"},{"tags":["java","android-studio","mapbox"],"comments":[{"owner":{"account_id":9460871,"reputation":2153,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1687190394,"post_id":76508272,"comment_id":134898914,"body_markdown":"Do you have mapbox dependency declared as per the docs? https://docs.mapbox.com/android/maps/guides/install/","body":"Do you have mapbox dependency declared as per the docs? <a href=\"https://docs.mapbox.com/android/maps/guides/install/\" rel=\"nofollow noreferrer\">docs.mapbox.com/android/maps/guides/install</a>"},{"owner":{"account_id":9460871,"reputation":2153,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1687199680,"post_id":76508272,"comment_id":134900617,"body_markdown":"Don&#39;t post your credentials. The picture you posted shows correctly configured repo, do you have dependency declared as well?","body":"Don&#39;t post your credentials. The picture you posted shows correctly configured repo, do you have dependency declared as well?"},{"owner":{"account_id":28711654,"reputation":3,"user_id":21987058,"display_name":"White Angel"},"score":0,"creation_date":1687236956,"post_id":76508272,"comment_id":134904443,"body_markdown":"Sorry but How to check whether dependency declared ? I have declared all dependency accrording to tutorial about installation  \n https://docs.mapbox.com/android/maps/guides/install/    I hope that it&#39;s right","body":"Sorry but How to check whether dependency declared ? I have declared all dependency accrording to tutorial about installation    <a href=\"https://docs.mapbox.com/android/maps/guides/install/\" rel=\"nofollow noreferrer\">docs.mapbox.com/android/maps/guides/install</a>    I hope that it&#39;s right"}],"owner":{"account_id":28711654,"reputation":3,"user_id":21987058,"display_name":"White Angel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687199711,"creation_date":1687190182,"question_id":76508272,"body_markdown":"I try to create a map using Mapbox and Android studio. I am using official tutorial for this but in spite of this I have the errors &quot;Cannot resolve symbol Mapbox/MapView and so on&quot;. Below I wrote the code that I have used and picture.\r\n\r\n ```\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport com.mapbox.maps.MapView;\r\nimport com.mapbox.maps.Style;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mapView = findViewById(R.id.mapView);\r\n        mapView?.getMapboxMap()?.loadStyleUri(Style.MAPBOX_STREETS);\r\n    }\r\n}\r\n ```\r\n[Picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HAJJz.png","title":"How to exclude the error &quot;Cannot resolve symbol&quot; in Android studio?","body":"<p>I try to create a map using Mapbox and Android studio. I am using official tutorial for this but in spite of this I have the errors &quot;Cannot resolve symbol Mapbox/MapView and so on&quot;. Below I wrote the code that I have used and picture.</p>\n<pre><code>import android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.mapbox.maps.MapView;\nimport com.mapbox.maps.Style;\n\npublic class MainActivity extends AppCompatActivity {\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n       mapView = findViewById(R.id.mapView);\n       mapView?.getMapboxMap()?.loadStyleUri(Style.MAPBOX_STREETS);\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HAJJz.png\" rel=\"nofollow noreferrer\">Picture</a></p>\n"},{"tags":["java","spring","rest","post","rules"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1687200285,"post_id":76509234,"comment_id":134900713,"body_markdown":"If I&#39;m consuming an API and creating a resource, I&#39;d generally always want the created entity back in the response body. Whether you want to return its location is a design decision. If you do want to return a location header, I&#39;d highly recommend automating the generation of the location. I don&#39;t see a ton of value in the location, unless the fetch URL is in an odd place. Usually an api is `POST /entity` and `GET /entity/{id}`, so if you&#39;re following that pattern, the fetch URL should be obvious.","body":"If I&#39;m consuming an API and creating a resource, I&#39;d generally always want the created entity back in the response body. Whether you want to return its location is a design decision. If you do want to return a location header, I&#39;d highly recommend automating the generation of the location. I don&#39;t see a ton of value in the location, unless the fetch URL is in an odd place. Usually an api is <code>POST &#47;entity</code> and <code>GET &#47;entity&#47;{id}</code>, so if you&#39;re following that pattern, the fetch URL should be obvious."}],"owner":{"account_id":25640412,"reputation":1,"user_id":19409414,"display_name":"nikifor_23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687199454,"creation_date":1687199454,"question_id":76509234,"body_markdown":"i have an API with two versions of an POST handler\r\n\r\nfirst version:\r\n```\r\n@PostMapping()\r\n    public ResponseEntity&lt;Note&gt; insertNote(@RequestBody Note nota){\r\n        noteRepository.save(nota);\r\n        return new ResponseEntity&lt;Note&gt;(nota, HttpStatus.CREATED);\r\n    }\r\n```\r\nthis version return an entity with a 201 code and a body\r\n\r\nSecond version:\r\n```\r\n@PostMapping()\r\n    public ResponseEntity createNote(@RequestBody Note nota, UriComponentsBuilder ucb){\r\n        Note savedNote = noteRepository.save(nota);\r\n        URI locationOfNewNote = ucb\r\n                .path(&quot;api/v1/notes/{id}&quot;)\r\n                .buildAndExpand(savedNote.getId())\r\n                .toUri();\r\n        return ResponseEntity.created(locationOfNewNote).build();\r\n    }\r\n```\r\nthis version return a 201 code with the followed header:\r\n`location= http://localhost:8080/api/v1/notes/12`\r\n\r\nWhich of these versions should I use? Which of these is best in terms of good practices and web rules?","title":"Post request must return Http code + body or Http code + URI?","body":"<p>i have an API with two versions of an POST handler</p>\n<p>first version:</p>\n<pre><code>@PostMapping()\n    public ResponseEntity&lt;Note&gt; insertNote(@RequestBody Note nota){\n        noteRepository.save(nota);\n        return new ResponseEntity&lt;Note&gt;(nota, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>this version return an entity with a 201 code and a body</p>\n<p>Second version:</p>\n<pre><code>@PostMapping()\n    public ResponseEntity createNote(@RequestBody Note nota, UriComponentsBuilder ucb){\n        Note savedNote = noteRepository.save(nota);\n        URI locationOfNewNote = ucb\n                .path(&quot;api/v1/notes/{id}&quot;)\n                .buildAndExpand(savedNote.getId())\n                .toUri();\n        return ResponseEntity.created(locationOfNewNote).build();\n    }\n</code></pre>\n<p>this version return a 201 code with the followed header:\n<code>location= http://localhost:8080/api/v1/notes/12</code></p>\n<p>Which of these versions should I use? Which of these is best in terms of good practices and web rules?</p>\n"},{"tags":["java","android","android-gradle-plugin","java-11"],"comments":[{"owner":{"account_id":2530619,"reputation":4822,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1643709031,"post_id":70246286,"comment_id":125405832,"body_markdown":"Seems to be a bug on Android Studio that reportedly has been fixed as of Dolphin that relates to ASM. Further details can be found [here](https://developer.android.com/studio/releases/fixed-bugs/studio/2021.3.1#android-studio-dolphin-canary-1-2021.3.1.1)","body":"Seems to be a bug on Android Studio that reportedly has been fixed as of Dolphin that relates to ASM. Further details can be found <a href=\"https://developer.android.com/studio/releases/fixed-bugs/studio/2021.3.1#android-studio-dolphin-canary-1-2021.3.1.1\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1643776640,"post_id":70246286,"comment_id":125426749,"body_markdown":"please update your `build.gradle`","body":"please update your <code>build.gradle</code>"},{"owner":{"account_id":2076902,"reputation":1787,"user_id":1849991,"accept_rate":43,"display_name":"Nouman Bhatti"},"score":0,"creation_date":1643871299,"post_id":70246286,"comment_id":125455435,"body_markdown":"I have udpated Question and posted Module Gradle also","body":"I have udpated Question and posted Module Gradle also"}],"answers":[{"comments":[{"owner":{"account_id":2076902,"reputation":1787,"user_id":1849991,"accept_rate":43,"display_name":"Nouman Bhatti"},"score":0,"creation_date":1638854745,"post_id":70255225,"comment_id":124192094,"body_markdown":"no it does not work even after rebuilding app. I have also tried Invalidate/cache and clean/build many times but it fails with the same exception","body":"no it does not work even after rebuilding app. I have also tried Invalidate/cache and clean/build many times but it fails with the same exception"},{"owner":{"account_id":19918379,"reputation":33,"user_id":14697032,"display_name":"yash10019coder"},"score":0,"creation_date":1638904518,"post_id":70255225,"comment_id":124210462,"body_markdown":"you can try to set java to earlier version in our code base it is set to 1.8 so maybe it may help","body":"you can try to set java to earlier version in our code base it is set to 1.8 so maybe it may help"}],"tags":[],"owner":{"account_id":19918379,"reputation":33,"user_id":14697032,"display_name":"yash10019coder"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638853848,"creation_date":1638853848,"answer_id":70255225,"question_id":70246286,"body_markdown":"for me currently the only thing helping is by rebuilding the project each time and then running the app.","title":"Android This feature requires ASM7","body":"<p>for me currently the only thing helping is by rebuilding the project each time and then running the app.</p>\n"},{"comments":[{"owner":{"account_id":2076902,"reputation":1787,"user_id":1849991,"accept_rate":43,"display_name":"Nouman Bhatti"},"score":0,"creation_date":1643706318,"post_id":70937342,"comment_id":125404824,"body_markdown":"already tried its not working","body":"already tried its not working"}],"tags":[],"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643703404,"creation_date":1643703404,"answer_id":70937342,"question_id":70246286,"body_markdown":"Add to gradle files the following, clean the project and build again:\r\n\r\n `implementation &quot;org.ow2.asm:asm:7.0&quot;` \r\n","title":"Android This feature requires ASM7","body":"<p>Add to gradle files the following, clean the project and build again:</p>\n<p><code>implementation &quot;org.ow2.asm:asm:7.0&quot;</code></p>\n"},{"comments":[{"owner":{"account_id":2076902,"reputation":1787,"user_id":1849991,"accept_rate":43,"display_name":"Nouman Bhatti"},"score":0,"creation_date":1643796623,"post_id":70950593,"comment_id":125432119,"body_markdown":"tried its still not working","body":"tried its still not working"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1643804391,"post_id":70950593,"comment_id":125435219,"body_markdown":"can you post your `build.gradle (Module)` file","body":"can you post your <code>build.gradle (Module)</code> file"}],"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643802533,"creation_date":1643776938,"answer_id":70950593,"question_id":70246286,"body_markdown":"You can give it a try by adding `maven { url &#39;https://jitpack.io&#39; }`\r\n\r\nto `Settings.gradle`\r\n\r\nlike this code: \r\n\r\n&gt;Settings.Gradle\r\n\r\n    dependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://www.jitpack.io&#39; } //here you can add this\r\n        jcenter() // Warning: this repository is going to shut down soon\r\n    }\r\n    }\r\n    rootProject.name = &quot;YourAppName&quot;\r\n    include &#39;:app&#39;\r\n\r\n\r\nand in `build.gradle (Module)` add this :\r\n\r\n    implementation &#39;org.ow2.asm:asm:7.0&#39;\r\n\r\nand build your project again.\r\n\r\n\r\n\r\n","title":"Android This feature requires ASM7","body":"<p>You can give it a try by adding <code>maven { url 'https://jitpack.io' }</code></p>\n<p>to <code>Settings.gradle</code></p>\n<p>like this code:</p>\n<blockquote>\n<p>Settings.Gradle</p>\n</blockquote>\n<pre><code>dependencyResolutionManagement {\nrepositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\nrepositories {\n    google()\n    mavenCentral()\n    maven { url 'https://www.jitpack.io' } //here you can add this\n    jcenter() // Warning: this repository is going to shut down soon\n}\n}\nrootProject.name = &quot;YourAppName&quot;\ninclude ':app'\n</code></pre>\n<p>and in <code>build.gradle (Module)</code> add this :</p>\n<pre><code>implementation 'org.ow2.asm:asm:7.0'\n</code></pre>\n<p>and build your project again.</p>\n"}],"owner":{"account_id":2076902,"reputation":1787,"user_id":1849991,"accept_rate":43,"display_name":"Nouman Bhatti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1687199450,"creation_date":1638797315,"question_id":70246286,"body_markdown":"[Possible duplicate][1]\r\n\r\nI have updated my Android Studio to \r\n\r\n    &#39;Android Studio Arctic Fox | 2020.3.1 Patch 3&#39;\r\n\r\nJava is updated from jdk 1.8 to jdk 11\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n\r\n\r\n    kotlinOptions {\r\n            jvmTarget = &#39;11&#39;\r\n        }\r\n\r\nI have also upgraded gradle to \r\n\r\n`&#39;com.android.tools.build:gradle:7.0.3&#39;` \r\n\r\nHere is my full gradle build file\r\n\r\n**Gradle (Module)**\r\n\r\n    plugins {\r\n    \tid &#39;com.android.application&#39;\r\n    \tid &#39;kotlin-android&#39;\r\n    \tid &#39;kotlin-android-extensions&#39;\r\n    \tid &#39;androidx.navigation.safeargs.kotlin&#39;\r\n    \tid &#39;kotlin-kapt&#39;\r\n    \tid &#39;io.michaelrocks.paranoid&#39;\r\n    \tid &#39;com.google.gms.google-services&#39;\r\n    \tid &#39;com.google.firebase.crashlytics&#39;\r\n    }\r\n    \r\n    android {\r\n    \r\n    \tcompileSdk 32\r\n    \r\n    \tdefaultConfig {\r\n    \t\tapplicationId &quot;com.company.project&quot;\r\n    \t\tminSdk 21\r\n    \t\ttargetSdk 32\r\n    \t\tversionCode 13\r\n    \t\tversionName &quot;2.0.34&quot;\r\n    \t\tvectorDrawables.useSupportLibrary = true\r\n    \t\ttestInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    \r\n    \t\texternalNativeBuild {\r\n    \t\t\tcmake {\r\n    \t\t\t\tcppFlags &quot;&quot;\r\n    \t\t\t\t//cppFlags &quot;-pie -fPIE&quot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tcompileOptions {\r\n    \t\tsourceCompatibility JavaVersion.VERSION_11\r\n    \t\ttargetCompatibility JavaVersion.VERSION_11\r\n    \t}\r\n    \ttestOptions {\r\n    \t\tunitTests {\r\n    \t\t\tincludeAndroidResources = true\r\n    \t\t\treturnDefaultValues = true\r\n    \t\t}\r\n    \t}\r\n    \tpackagingOptions {\r\n    \t\texclude &#39;META-INF/AL2.0&#39;\r\n    \t\texclude &#39;META-INF/LGPL2.1&#39;\r\n    \t\texclude &#39;META-INF/atomicfu.kotlin_module&#39;\r\n    \t}\r\n    \tkotlinOptions {\r\n    \t\tjvmTarget = &#39;11&#39;\r\n    \t}\r\n    \tdataBinding {\r\n    \t\tenabled = true\r\n    \t}\r\n    \texternalNativeBuild {\r\n    \t\tcmake {\r\n    \t\t\tpath &quot;src/main/jni/CMakeLists.txt&quot;\r\n    \t\t\tversion &quot;3.10.2&quot;\r\n    \t\t}\r\n    \t}\r\n    \tndkVersion &#39;21.0.6113669&#39;\r\n    \r\n    \tsigningConfigs {\r\n    \t\tdebug {\r\n    \t\t\t// Signing configs\r\n    \t\t\tstoreFile file(&quot;../keystore/debug.keystore&quot;)\r\n    \t\t\tstorePassword &#39;android&#39;\r\n    \t\t\tkeyAlias &#39;androiddebugkey&#39;\r\n    \t\t\tkeyPassword &#39;android&#39;\r\n    \t\t}\r\n    \t\trelease {\r\n    \t\t\t// Signing configs\r\n    \t\t\tstoreFile file(&quot;../keystore/release.keystore&quot;)\r\n    \t\t\tstorePassword &#39;company1234&#39;\r\n    \t\t\tkeyAlias &#39;company_key&#39;\r\n    \t\t\tkeyPassword &#39;company1234&#39;\r\n    \t\t\tenableV2Signing = true\r\n    \t\t\tenableV3Signing = true\r\n    \t\t\tenableV4Signing = true\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tbuildTypes {\r\n    \t\tdebug {\r\n    \t\t\tsigningConfig signingConfigs.debug\r\n    \t\t\tminifyEnabled false\r\n    \t\t\tapplicationVariants.all {\r\n    \t\t\t\tvariant - &gt;\r\n    \t\t\t\t\trenameAPK(variant, applicationName, defaultConfig, &#39;D&#39;)\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\trelease {\r\n    \t\t\tsigningConfig signingConfigs.release\r\n    \t\t\tminifyEnabled true\r\n    \t\t\tproguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    \t\t\tapplicationVariants.all {\r\n    \t\t\t\tvariant - &gt;\r\n    \t\t\t\t\trenameAPK(variant, applicationName, defaultConfig, &#39;R&#39;)\r\n    \t\t\t}\r\n    \t\t\tndk {\r\n    \t\t\t\tabiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;, &quot;x86&quot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tflavorDimensions &quot;ht&quot;\r\n    \tproductFlavors {\r\n    \t\tdev {\r\n    \t\t\tapplicationId &quot;com.company.project&quot;\r\n    \t\t\tbuildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;1&quot;\r\n    \t\t}\r\n    \t\tstaging {\r\n    \t\t\tapplicationId &quot;com.company.project&quot;\r\n    \t\t\tbuildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;2&quot;\r\n    \t\t}\r\n    \t\tprod {\r\n    \t\t\tapplicationId &quot;com.company.project&quot;\r\n    \t\t\tbuildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;3&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    static def renameAPK(variant, applicationName, defaultConfig, buildType) {\r\n    \tvariant.outputs.each {\r\n    \t\toutput - &gt;\r\n    \t\t\tdef formattedDate = new Date().format(&#39;dd-MM-yyyy_HH_mm&#39;)\r\n    \t\tdef fileName = applicationName + &quot;_V&quot; + defaultConfig.versionName + &quot;_&quot; + formattedDate + &quot;_&quot; + variant.flavorName + &quot;_&quot; + buildType + &quot;.apk&quot;\r\n    \t\toutput.outputFileName = new File(fileName)\r\n    \t}\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t////////////////////////// Testing frameworks //////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \r\n    \t//Testing frameworks\r\n    \ttestImplementation &#39;junit:junit:4.13.2&#39;\r\n    \ttestImplementation &#39;androidx.test:core:1.4.0&#39;\r\n    \ttestImplementation &#39;androidx.arch.core:core-testing:2.1.0&#39;\r\n    \ttestImplementation &#39;org.mockito:mockito-core:3.5.13&#39;\r\n    \ttestImplementation &#39;org.robolectric:robolectric:4.4&#39;\r\n    \ttestImplementation &#39;org.robolectric:shadows-multidex:4.4&#39;\r\n    \ttestImplementation &quot;io.mockk:mockk:1.10.2&quot;\r\n    \ttestImplementation &#39;io.mockk:mockk-common:1.10.2&#39;\r\n    \ttestImplementation &#39;com.google.truth:truth:1.1.3&#39;\r\n    \ttestImplementation &#39;org.apache.maven:maven-ant-tasks:2.1.3&#39;\r\n    \r\n    \t// Android Tests\r\n    \tandroidTestImplementation &quot;androidx.navigation:navigation-testing:$rootProject.ext.navigation&quot;\r\n    \tandroidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    \tandroidTestImplementation &#39;androidx.test:rules:1.4.0&#39;\r\n    \tandroidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \tandroidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n    \tandroidTestImplementation &#39;androidx.arch.core:core-testing:2.1.0&#39;\r\n    \tandroidTestImplementation &quot;androidx.test:core:1.4.0&quot;\r\n    \r\n    \tandroidTestImplementation &quot;androidx.fragment:fragment-testing:$rootProject.ext.fragment_version&quot;\r\n    \r\n    \r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t////////////////////////// Normal Frameworks //////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \t/////////////////////////////////////////////////////////////////////////\r\n    \r\n    \t// Multidex\r\n    \timplementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    \r\n    \timplementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    \timplementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    \timplementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\n    \timplementation &quot;androidx.navigation:navigation-fragment-ktx:$rootProject.ext.navigation&quot;\r\n    \timplementation &quot;androidx.navigation:navigation-ui-ktx:$rootProject.ext.navigation&quot;\r\n    \timplementation &quot;androidx.navigation:navigation-runtime-ktx:$rootProject.ext.navigation&quot;\r\n    \timplementation &quot;androidx.fragment:fragment-ktx:1.2.5&quot;\r\n    \r\n    \r\n    \t// Kotlin &amp; JetBrains\r\n    \timplementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    \timplementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2&#39;\r\n    \timplementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.2&#39;\r\n    \timplementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-test:1.4.3&#39;\r\n    \timplementation &#39;com.github.florent37:inline-activity-result-kotlin:1.0.4&#39;\r\n    \timplementation &#39;org.jetbrains.anko:anko-appcompat-v7-commons:0.10.2&#39;\r\n    \r\n    \t//Androidx UI Components\r\n    \timplementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    \timplementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    \timplementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    \r\n    \t// ViewModel LifeCycle\r\n    \timplementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.0&#39;\r\n    \timplementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0&#39;\r\n    \timplementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    \r\n    \t//Koin\r\n    \timplementation &quot;org.koin:koin-core:$rootProject.ext.koin_version&quot;\r\n    \timplementation &quot;org.koin:koin-android:$rootProject.ext.koin_version&quot;\r\n    \timplementation &quot;org.koin:koin-android-viewmodel:$rootProject.ext.koin_version&quot;\r\n    \timplementation &quot;org.koin:koin-android-architecture:$rootProject.ext.koin_architecture_version&quot;\r\n    \r\n    \t//ok http\r\n    \timplementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\r\n    \timplementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    \r\n    \t//Retrofit\r\n    \timplementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    \timplementation &#39;com.squareup.retrofit2:converter-gson:2.7.0&#39;\r\n    \timplementation &#39;com.squareup.okhttp3:logging-interceptor:4.9.0&#39;\r\n    \timplementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \timplementation &#39;com.google.code.gson:gson:2.8.8&#39;\r\n    \r\n    \t// Room components\r\n    \timplementation &#39;androidx.room:room-runtime:2.4.1&#39;\r\n    \timplementation &#39;androidx.room:room-ktx:2.4.1&#39;\r\n    \tkapt &#39;androidx.room:room-compiler:2.4.1&#39;\r\n    \tandroidTestImplementation &#39;androidx.room:room-testing:2.4.1&#39;\r\n    \r\n    \t// Navigation component\r\n    \timplementation &#39;androidx.navigation:navigation-fragment-ktx:2.3.5&#39;\r\n    \timplementation &#39;androidx.navigation:navigation-ui-ktx:2.3.5&#39;\r\n    \r\n    \t// Import the BoM for the Firebase platform\r\n    \timplementation platform(&#39;com.google.firebase:firebase-bom:28.4.0&#39;)\r\n    \r\n    \t// Firebase library dependencies\r\n    \timplementation &#39;com.google.firebase:firebase-messaging&#39;\r\n    \timplementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    \timplementation &#39;com.google.firebase:firebase-crashlytics-ktx&#39;\r\n    \timplementation &#39;com.google.firebase:firebase-dynamic-links-ktx&#39;\r\n    \r\n    \t// sdp and ssp for dp and sp values\r\n    \timplementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n    \timplementation &#39;com.intuit.ssp:ssp-android:1.0.6&#39;\r\n    \r\n    \t//permissions helper\r\n    \timplementation &#39;com.karumi:dexter:6.2.0&#39;\r\n    \r\n    \t//Facebook text encryption\r\n    \timplementation &#39;com.facebook.conceal:conceal:2.0.1@aar&#39;\r\n    \r\n    \t//Lottie animations\r\n    \timplementation &#39;com.airbnb.android:lottie:3.4.2&#39;\r\n    \r\n    \t// Location services\r\n    \timplementation &#39;com.google.android.gms:play-services-location:19.0.1&#39;\r\n    \r\n    \timplementation &#39;com.tbuonomo:dotsindicator:4.2&#39;\r\n    \r\n    \timplementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    \tkapt &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    \timplementation &#39;com.github.bumptech.glide:okhttp3-integration:4.11.0&#39;\r\n    \tannotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    \timplementation &#39;com.github.bumptech.glide:annotations:4.11.0&#39;\r\n    \r\n    \timplementation &quot;org.ow2.asm:asm:7.0&quot;\r\n    }\r\n\r\n**Gradle (Root/App)**\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        ext{\r\n            koin_version = &#39;2.0.1&#39;\r\n            koin_architecture_version = &quot;0.8.2&quot;\r\n            navigation = &quot;2.3.5&quot;\r\n            fragment_version = &quot;1.4.0&quot;\r\n        }\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.3&#39;\r\n            classpath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20&#39;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n            classpath &#39;androidx.navigation:navigation-safe-args-gradle-plugin:2.3.5&#39;\r\n            classpath &#39;io.michaelrocks:paranoid-gradle-plugin:0.3.2&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.8.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nAfter upgrade, build failed with following exception\r\n\r\n    Execution failed for task &#39;:app:transformClassesWithParanoidForDevDebug&#39;.\r\n    &gt; com.android.build.api.transform.TransformException: java.lang.IllegalArgumentException: Unable to read a ClassMirror for com/data/model/response/ParsingHelper$CharSequenceDeserializer\r\n\r\n    This feature requires ASM7\r\n\r\nI have tried to fix specifically ParsingHelper class and updated its code to kotlin but then I get the same exception in different classes. So I believe fixing every java class in whole project is not a good idea. \r\n\r\nAs per [this][1] thread updating to AGP version 7.0.1 fixes the problem but I am already on a newer version which is 7.0.3.\r\n\r\n  [1]: https://stackoverflow.com/questions/68709559/nestmember-requires-asm7?noredirect=1\r\n","title":"Android This feature requires ASM7","body":"<p><a href=\"https://stackoverflow.com/questions/68709559/nestmember-requires-asm7?noredirect=1\">Possible duplicate</a></p>\n<p>I have updated my Android Studio to</p>\n<pre><code>'Android Studio Arctic Fox | 2020.3.1 Patch 3'\n</code></pre>\n<p>Java is updated from jdk 1.8 to jdk 11</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n\nkotlinOptions {\n        jvmTarget = '11'\n    }\n</code></pre>\n<p>I have also upgraded gradle to</p>\n<p><code>'com.android.tools.build:gradle:7.0.3'</code></p>\n<p>Here is my full gradle build file</p>\n<p><strong>Gradle (Module)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-android-extensions'\n    id 'androidx.navigation.safeargs.kotlin'\n    id 'kotlin-kapt'\n    id 'io.michaelrocks.paranoid'\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.crashlytics'\n}\n\nandroid {\n\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.company.project&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 13\n        versionName &quot;2.0.34&quot;\n        vectorDrawables.useSupportLibrary = true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        externalNativeBuild {\n            cmake {\n                cppFlags &quot;&quot;\n                //cppFlags &quot;-pie -fPIE&quot;\n            }\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    testOptions {\n        unitTests {\n            includeAndroidResources = true\n            returnDefaultValues = true\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/AL2.0'\n        exclude 'META-INF/LGPL2.1'\n        exclude 'META-INF/atomicfu.kotlin_module'\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n    dataBinding {\n        enabled = true\n    }\n    externalNativeBuild {\n        cmake {\n            path &quot;src/main/jni/CMakeLists.txt&quot;\n            version &quot;3.10.2&quot;\n        }\n    }\n    ndkVersion '21.0.6113669'\n\n    signingConfigs {\n        debug {\n            // Signing configs\n            storeFile file(&quot;../keystore/debug.keystore&quot;)\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n        release {\n            // Signing configs\n            storeFile file(&quot;../keystore/release.keystore&quot;)\n            storePassword 'company1234'\n            keyAlias 'company_key'\n            keyPassword 'company1234'\n            enableV2Signing = true\n            enableV3Signing = true\n            enableV4Signing = true\n        }\n    }\n\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n            minifyEnabled false\n            applicationVariants.all {\n                variant - &gt;\n                    renameAPK(variant, applicationName, defaultConfig, 'D')\n            }\n        }\n        release {\n            signingConfig signingConfigs.release\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            applicationVariants.all {\n                variant - &gt;\n                    renameAPK(variant, applicationName, defaultConfig, 'R')\n            }\n            ndk {\n                abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;, &quot;x86&quot;\n            }\n        }\n    }\n\n    flavorDimensions &quot;ht&quot;\n    productFlavors {\n        dev {\n            applicationId &quot;com.company.project&quot;\n            buildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;1&quot;\n        }\n        staging {\n            applicationId &quot;com.company.project&quot;\n            buildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;2&quot;\n        }\n        prod {\n            applicationId &quot;com.company.project&quot;\n            buildConfigField &quot;int&quot;, &quot;FlavorCode&quot;, &quot;3&quot;\n        }\n    }\n}\n\nstatic def renameAPK(variant, applicationName, defaultConfig, buildType) {\n    variant.outputs.each {\n        output - &gt;\n            def formattedDate = new Date().format('dd-MM-yyyy_HH_mm')\n        def fileName = applicationName + &quot;_V&quot; + defaultConfig.versionName + &quot;_&quot; + formattedDate + &quot;_&quot; + variant.flavorName + &quot;_&quot; + buildType + &quot;.apk&quot;\n        output.outputFileName = new File(fileName)\n    }\n}\n\ndependencies {\n\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    ////////////////////////// Testing frameworks //////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n\n    //Testing frameworks\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'androidx.test:core:1.4.0'\n    testImplementation 'androidx.arch.core:core-testing:2.1.0'\n    testImplementation 'org.mockito:mockito-core:3.5.13'\n    testImplementation 'org.robolectric:robolectric:4.4'\n    testImplementation 'org.robolectric:shadows-multidex:4.4'\n    testImplementation &quot;io.mockk:mockk:1.10.2&quot;\n    testImplementation 'io.mockk:mockk-common:1.10.2'\n    testImplementation 'com.google.truth:truth:1.1.3'\n    testImplementation 'org.apache.maven:maven-ant-tasks:2.1.3'\n\n    // Android Tests\n    androidTestImplementation &quot;androidx.navigation:navigation-testing:$rootProject.ext.navigation&quot;\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test:rules:1.4.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    androidTestImplementation 'androidx.arch.core:core-testing:2.1.0'\n    androidTestImplementation &quot;androidx.test:core:1.4.0&quot;\n\n    androidTestImplementation &quot;androidx.fragment:fragment-testing:$rootProject.ext.fragment_version&quot;\n\n\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    ////////////////////////// Normal Frameworks //////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n    /////////////////////////////////////////////////////////////////////////\n\n    // Multidex\n    implementation 'com.android.support:multidex:1.0.3'\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.annotation:annotation:1.3.0'\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$rootProject.ext.navigation&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$rootProject.ext.navigation&quot;\n    implementation &quot;androidx.navigation:navigation-runtime-ktx:$rootProject.ext.navigation&quot;\n    implementation &quot;androidx.fragment:fragment-ktx:1.2.5&quot;\n\n\n    // Kotlin &amp; JetBrains\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.2'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.2'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-test:1.4.3'\n    implementation 'com.github.florent37:inline-activity-result-kotlin:1.0.4'\n    implementation 'org.jetbrains.anko:anko-appcompat-v7-commons:0.10.2'\n\n    //Androidx UI Components\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n\n    // ViewModel LifeCycle\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n\n    //Koin\n    implementation &quot;org.koin:koin-core:$rootProject.ext.koin_version&quot;\n    implementation &quot;org.koin:koin-android:$rootProject.ext.koin_version&quot;\n    implementation &quot;org.koin:koin-android-viewmodel:$rootProject.ext.koin_version&quot;\n    implementation &quot;org.koin:koin-android-architecture:$rootProject.ext.koin_architecture_version&quot;\n\n    //ok http\n    implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    //Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.7.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.9.0'\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.google.code.gson:gson:2.8.8'\n\n    // Room components\n    implementation 'androidx.room:room-runtime:2.4.1'\n    implementation 'androidx.room:room-ktx:2.4.1'\n    kapt 'androidx.room:room-compiler:2.4.1'\n    androidTestImplementation 'androidx.room:room-testing:2.4.1'\n\n    // Navigation component\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.3.5'\n\n    // Import the BoM for the Firebase platform\n    implementation platform('com.google.firebase:firebase-bom:28.4.0')\n\n    // Firebase library dependencies\n    implementation 'com.google.firebase:firebase-messaging'\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation 'com.google.firebase:firebase-crashlytics-ktx'\n    implementation 'com.google.firebase:firebase-dynamic-links-ktx'\n\n    // sdp and ssp for dp and sp values\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\n\n    //permissions helper\n    implementation 'com.karumi:dexter:6.2.0'\n\n    //Facebook text encryption\n    implementation 'com.facebook.conceal:conceal:2.0.1@aar'\n\n    //Lottie animations\n    implementation 'com.airbnb.android:lottie:3.4.2'\n\n    // Location services\n    implementation 'com.google.android.gms:play-services-location:19.0.1'\n\n    implementation 'com.tbuonomo:dotsindicator:4.2'\n\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    kapt 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'com.github.bumptech.glide:okhttp3-integration:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'com.github.bumptech.glide:annotations:4.11.0'\n\n    implementation &quot;org.ow2.asm:asm:7.0&quot;\n}\n</code></pre>\n<p><strong>Gradle (Root/App)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    ext{\n        koin_version = '2.0.1'\n        koin_architecture_version = &quot;0.8.2&quot;\n        navigation = &quot;2.3.5&quot;\n        fragment_version = &quot;1.4.0&quot;\n    }\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.3'\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'androidx.navigation:navigation-safe-args-gradle-plugin:2.3.5'\n        classpath 'io.michaelrocks:paranoid-gradle-plugin:0.3.2'\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.8.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>After upgrade, build failed with following exception</p>\n<pre><code>Execution failed for task ':app:transformClassesWithParanoidForDevDebug'.\n&gt; com.android.build.api.transform.TransformException: java.lang.IllegalArgumentException: Unable to read a ClassMirror for com/data/model/response/ParsingHelper$CharSequenceDeserializer\n\nThis feature requires ASM7\n</code></pre>\n<p>I have tried to fix specifically ParsingHelper class and updated its code to kotlin but then I get the same exception in different classes. So I believe fixing every java class in whole project is not a good idea.</p>\n<p>As per <a href=\"https://stackoverflow.com/questions/68709559/nestmember-requires-asm7?noredirect=1\">this</a> thread updating to AGP version 7.0.1 fixes the problem but I am already on a newer version which is 7.0.3.</p>\n"},{"tags":["java","sql","querydsl","boolean-expression"],"comments":[{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458911174,"post_id":36213765,"comment_id":60072324,"body_markdown":"What type hast the variable item? Is it a generated Q* class? If yes, please show the specification of the corresponding database table (i assume the name is item).","body":"What type hast the variable item? Is it a generated Q* class? If yes, please show the specification of the corresponding database table (i assume the name is item)."},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459049183,"post_id":36213765,"comment_id":60117252,"body_markdown":"Yes there is QItem. and this query works just fine if i use .eq(10) or something but I want to compare to another column in the table, how do I do this?","body":"Yes there is QItem. and this query works just fine if i use .eq(10) or something but I want to compare to another column in the table, how do I do this?"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459062491,"post_id":36213765,"comment_id":60119519,"body_markdown":"If `initialQuantity`  and `soldQuantity`  has the type `com.querydsl.core.types.dsl.NumberPath` it should work. Without more information (error, code, db scheme) this question does not make sense.","body":"If <code>initialQuantity</code>  and <code>soldQuantity</code>  has the type <code>com.querydsl.core.types.dsl.NumberPath</code> it should work. Without more information (error, code, db scheme) this question does not make sense."},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459092629,"post_id":36213765,"comment_id":60127831,"body_markdown":"so there is no error, i am just not getting the value that I expected to get. I even tried builder.and(item.initialQuantity.eq(item.initialQuantity)) which should always return true, but nothing gets returned from using this query...","body":"so there is no error, i am just not getting the value that I expected to get. I even tried builder.and(item.initialQuantity.eq(item.initialQuantity)) which should always return true, but nothing gets returned from using this query..."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459102323,"post_id":36213765,"comment_id":60131292,"body_markdown":"`builder.and(item.initialQuantity.eq(item.initialQuantity))`this is only a part of your query... what is the rest?","body":"<code>builder.and(item.initialQuantity.eq(item.initialQuantity))</code>th&zwnj;&#8203;is is only a part of your query... what is the rest?"},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459151276,"post_id":36213765,"comment_id":60144998,"body_markdown":"That is all basically. I&#39;ve updated the code snippet, I&#39;m isolating this basic query.","body":"That is all basically. I&#39;ve updated the code snippet, I&#39;m isolating this basic query."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459152201,"post_id":36213765,"comment_id":60145338,"body_markdown":"please show the implementation of `itemRepository.findAll`","body":"please show the implementation of <code>itemRepository.findAll</code>"},{"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"score":0,"creation_date":1459220715,"post_id":36213765,"comment_id":60176119,"body_markdown":"I&#39;m using MongoRepository : http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html","body":"I&#39;m using MongoRepository : <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/MongoRepository.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459273222,"post_id":36213765,"comment_id":60207914,"body_markdown":"see my answer... does it help?","body":"see my answer... does it help?"}],"answers":[{"tags":[],"owner":{"account_id":10901642,"reputation":96,"user_id":8013743,"display_name":"Imad ALILAT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571670284,"creation_date":1571654073,"answer_id":58484480,"question_id":36213765,"body_markdown":"First declare it : \r\n\r\n    JPAQueryFactory query = new JPAQueryFactory(em);\r\n    BooleanBuilder booleanBuilder = new BooleanBuilder();\r\n    QCreditRequest creditRequest = QCreditRequest.creditRequest;\r\n\r\nThen, you can include your business logique, for example : \r\n\r\n\r\n    booleanBuilder.and(creditRequest.creditRequestId.eq(dataRequest.getCreditRequestId()));\r\n                    \r\n    if (StringUtils.isNotBlank(dataRequest.getProductId())){\r\n                     booleanBuilder.and(creditRequest.product.productId.eq(dataRequest.getProductId()));}\r\n\r\nfinally return the result, mapped to your DTO : \r\n\r\n    return new HashSet&lt;&gt;(\r\n                query\r\n                    .select(\r\n                        Projections.constructor(\r\n                            APResponse.class,\r\n                            creditRequest.creditRequestId,\r\n                            creditRequest.creditRequestDate,\r\n                            creditRequest.product.productId,\r\n                            creditRequest.creditRequestComment))\r\n                    .from(creditRequest)\r\n                    .innerJoin(creditRequest.product, product)\r\n                    .innerJoin(creditRequest.status, creditRequestStatus)\r\n                    .where(booleanBuilder)\r\n                    .fetch());\r\n\r\n","title":"QueryDsl BooleanBuilder: How to create a predicate that compares another field?","body":"<p>First declare it : </p>\n\n<pre><code>JPAQueryFactory query = new JPAQueryFactory(em);\nBooleanBuilder booleanBuilder = new BooleanBuilder();\nQCreditRequest creditRequest = QCreditRequest.creditRequest;\n</code></pre>\n\n<p>Then, you can include your business logique, for example : </p>\n\n<pre><code>booleanBuilder.and(creditRequest.creditRequestId.eq(dataRequest.getCreditRequestId()));\n\nif (StringUtils.isNotBlank(dataRequest.getProductId())){\n                 booleanBuilder.and(creditRequest.product.productId.eq(dataRequest.getProductId()));}\n</code></pre>\n\n<p>finally return the result, mapped to your DTO : </p>\n\n<pre><code>return new HashSet&lt;&gt;(\n            query\n                .select(\n                    Projections.constructor(\n                        APResponse.class,\n                        creditRequest.creditRequestId,\n                        creditRequest.creditRequestDate,\n                        creditRequest.product.productId,\n                        creditRequest.creditRequestComment))\n                .from(creditRequest)\n                .innerJoin(creditRequest.product, product)\n                .innerJoin(creditRequest.status, creditRequestStatus)\n                .where(booleanBuilder)\n                .fetch());\n</code></pre>\n"}],"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17716,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687197875,"creation_date":1458878205,"question_id":36213765,"body_markdown":"I have simple example: to find all items that are sold out. \r\n\r\nItem has initialQuantity and soldQuantity integer fields.\r\n(for some reason I need initialQuantity stored)\r\n\r\nI&#39;m trying to do something like:\r\n\r\n```java\r\nbuilder = new BooleanBuilder();\r\nPredicate predicate = builder.and(item.initialQuantity.eq(item.soldQuantity)).getValue();\r\nIterable&lt;Item&gt; iterable = itemRepository.findAll(predicate);\r\n```\r\n\r\nbut it does not return as expected. &quot;.eq()&quot; looks like it expects an integer and not Path&lt;&gt;","title":"QueryDsl BooleanBuilder: How to create a predicate that compares another field?","body":"<p>I have simple example: to find all items that are sold out.</p>\n<p>Item has initialQuantity and soldQuantity integer fields.\n(for some reason I need initialQuantity stored)</p>\n<p>I'm trying to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>builder = new BooleanBuilder();\nPredicate predicate = builder.and(item.initialQuantity.eq(item.soldQuantity)).getValue();\nIterable&lt;Item&gt; iterable = itemRepository.findAll(predicate);\n</code></pre>\n<p>but it does not return as expected. &quot;.eq()&quot; looks like it expects an integer and not Path&lt;&gt;</p>\n"},{"tags":["java","android"],"owner":{"account_id":3760980,"reputation":105,"user_id":3125979,"display_name":"JBM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687197693,"creation_date":1687197265,"question_id":76509034,"body_markdown":"I&#39;m porting an application plugin written Java that runs on Android.  It previously worked on Android SDK &lt; 12, now (SDK &gt; 12) it crashes when trying to connect to a bluetooth device.\r\n\r\nThe architecture is a little different than a typical Android app (as I understand it - I&#39;m not an Android programmer). The part that I am porting inherits from ViewGroup and is loaded by the application as a plugin.  I don&#39;t declare or load an Activity.  The plugin manifest declares permissions and the bluetooth service and some plugin related values required by the application.\r\n\r\nPart of the plugin is a service to handle bluetooth communications.  The service communicates with the plugin code via an IBinder retrieved by mMessenger.getBinder() where mMessenger is declared static in the Bluetooth service class that inherits from Service.  \r\n\r\nI can scan for bluetooth devices, but when I try to connect, the plugin closes/crashes.\r\n\r\nI know that prior to SDK 12, runtime permissions were not required, but now with SDK &gt; 12, I need to get runtime permissions:\r\n\r\n```\r\nString[] permissions = {Manifest.permission.BLUETOOTH_CONNECT,\r\n                        Manifest.permission.BLUETOOTH_SCAN,\r\n                        Manifest.permission.BLUETOOTH_ADMIN};\r\nActivityCompat.requestPermissions(activity, permissions, 2);\r\n```\r\n\r\nThis is commented out because I don&#39;t have access to an activity in the plugin code or the service.  I&#39;ve looked at the ViewGroup and didn&#39;t see any reference to an Activity.  The plugin class is initialized with a Context, but no activity.  Is there some way to get a temporary reference to an activity?\r\n\r\nAnother confusing aspect of this is that I call checkPermissions:\r\n\r\n```\r\nint permConnect = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_CONNECT);\r\nLog.d(TAG, &quot;Bluetooth connect permission = &quot; + (permConnect == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\r\nint permScan = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_SCAN);\r\nLog.d(TAG, &quot;Bluetooth scan permission = &quot; + (permScan == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\r\nint permAdmin = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_ADMIN);\r\nLog.d(TAG, &quot;Bluetooth admin permission = &quot; + (permAdmin == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\r\n```\r\n\r\nThis code produces the following log entries:\r\n\r\n```\r\n2023-06-19T14:54:48.450Z [PluginTemplateDropDownReceiver]: Bluetooth connect permission = Granted\r\n2023-06-19T14:54:48.451Z [PluginTemplateDropDownReceiver]: Bluetooth scan permission = Granted\r\n2023-06-19T14:54:48.452Z [PluginTemplateDropDownReceiver]: Bluetooth admin permission = Granted\r\n```\r\n\r\nadb logcat -d includes the following line:\r\n\r\n```\r\n06-15 08:18:31.915 14057 14057 E AndroidRuntime: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource\r\n```\r\n\r\nSo it looks to me like the plugin (not necessarily the service) thinks it has permissions and Android still kills it thinking it doesn&#39;t have permission for the connection.  Are permissions not application wide?  I was under the impression that the service would inherit permissions of the application.  Is this not the case?  If not, how do you get permissions in a service?\r\n\r\nI&#39;m sorry if this is a little cryptic, I am limited on what source code I can post.","title":"Bluetooth permissions in service","body":"<p>I'm porting an application plugin written Java that runs on Android.  It previously worked on Android SDK &lt; 12, now (SDK &gt; 12) it crashes when trying to connect to a bluetooth device.</p>\n<p>The architecture is a little different than a typical Android app (as I understand it - I'm not an Android programmer). The part that I am porting inherits from ViewGroup and is loaded by the application as a plugin.  I don't declare or load an Activity.  The plugin manifest declares permissions and the bluetooth service and some plugin related values required by the application.</p>\n<p>Part of the plugin is a service to handle bluetooth communications.  The service communicates with the plugin code via an IBinder retrieved by mMessenger.getBinder() where mMessenger is declared static in the Bluetooth service class that inherits from Service.</p>\n<p>I can scan for bluetooth devices, but when I try to connect, the plugin closes/crashes.</p>\n<p>I know that prior to SDK 12, runtime permissions were not required, but now with SDK &gt; 12, I need to get runtime permissions:</p>\n<pre><code>String[] permissions = {Manifest.permission.BLUETOOTH_CONNECT,\n                        Manifest.permission.BLUETOOTH_SCAN,\n                        Manifest.permission.BLUETOOTH_ADMIN};\nActivityCompat.requestPermissions(activity, permissions, 2);\n</code></pre>\n<p>This is commented out because I don't have access to an activity in the plugin code or the service.  I've looked at the ViewGroup and didn't see any reference to an Activity.  The plugin class is initialized with a Context, but no activity.  Is there some way to get a temporary reference to an activity?</p>\n<p>Another confusing aspect of this is that I call checkPermissions:</p>\n<pre><code>int permConnect = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_CONNECT);\nLog.d(TAG, &quot;Bluetooth connect permission = &quot; + (permConnect == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\nint permScan = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_SCAN);\nLog.d(TAG, &quot;Bluetooth scan permission = &quot; + (permScan == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\nint permAdmin = ContextCompat.checkSelfPermission(pluginContext, Manifest.permission.BLUETOOTH_ADMIN);\nLog.d(TAG, &quot;Bluetooth admin permission = &quot; + (permAdmin == PackageManager.PERMISSION_GRANTED ? &quot;Granted&quot; : &quot;Denied&quot;));\n</code></pre>\n<p>This code produces the following log entries:</p>\n<pre><code>2023-06-19T14:54:48.450Z [PluginTemplateDropDownReceiver]: Bluetooth connect permission = Granted\n2023-06-19T14:54:48.451Z [PluginTemplateDropDownReceiver]: Bluetooth scan permission = Granted\n2023-06-19T14:54:48.452Z [PluginTemplateDropDownReceiver]: Bluetooth admin permission = Granted\n</code></pre>\n<p>adb logcat -d includes the following line:</p>\n<pre><code>06-15 08:18:31.915 14057 14057 E AndroidRuntime: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource\n</code></pre>\n<p>So it looks to me like the plugin (not necessarily the service) thinks it has permissions and Android still kills it thinking it doesn't have permission for the connection.  Are permissions not application wide?  I was under the impression that the service would inherit permissions of the application.  Is this not the case?  If not, how do you get permissions in a service?</p>\n<p>I'm sorry if this is a little cryptic, I am limited on what source code I can post.</p>\n"},{"tags":["java","json","spring","jackson","postman"],"comments":[{"owner":{"account_id":9909147,"reputation":7615,"user_id":11377112,"display_name":"Animesh Sahu"},"score":0,"creation_date":1586851260,"post_id":61202937,"comment_id":108272382,"body_markdown":"Your pattern is completely fine, i could reproduce `SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;).parse(&quot;2020-04-14T10:45:07.719&quot;)` it does not throw any error. Maybe there is a problem with jackson.","body":"Your pattern is completely fine, i could reproduce <code>SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;).parse(&quot;2020-04-14T&zwnj;&#8203;10:45:07.719&quot;)</code> it does not throw any error. Maybe there is a problem with jackson."},{"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"score":0,"creation_date":1671125882,"post_id":61202937,"comment_id":132036448,"body_markdown":"If you are using Lombock, In some cases you need to add the following annoations `@AllArgsConstructor\n@NoArgsConstructor`","body":"If you are using Lombock, In some cases you need to add the following annoations <code>@AllArgsConstructor @NoArgsConstructor</code>"}],"answers":[{"comments":[{"owner":{"account_id":11633243,"reputation":764,"user_id":8520564,"accept_rate":100,"display_name":"Georgi Michev"},"score":0,"creation_date":1586852869,"post_id":61203166,"comment_id":108273223,"body_markdown":"&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot; Made it work but if the milliseconds are two digits instead of 3 which happens every 10 requests it fails again","body":"&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot; Made it work but if the milliseconds are two digits instead of 3 which happens every 10 requests it fails again"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1586854913,"post_id":61203166,"comment_id":108274202,"body_markdown":"@GeorgiMichev Have you tried without the `pattern`? I believe the default format is what you want, with dynamic number of fractional digits.","body":"@GeorgiMichev Have you tried without the <code>pattern</code>? I believe the default format is what you want, with dynamic number of fractional digits."}],"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1586860998,"creation_date":1586851326,"answer_id":61203166,"question_id":61202937,"body_markdown":"There are milliseconds in the input string, so your format should be &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;\r\n\r\nUpdate:\r\nIf the millisecond part consists of 1, 2, 3 digits or is optional, you may use the following format:\r\n```\r\n@JsonFormat(shape=JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS][.SS][.S]&quot;)\r\nprivate LocalDateTime updatedTime;\r\n```","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>There are milliseconds in the input string, so your format should be \"yyyy-MM-dd'T'HH:mm:ss.SSS\"</p>\n\n<p>Update:\nIf the millisecond part consists of 1, 2, 3 digits or is optional, you may use the following format:</p>\n\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss[.SSS][.SS][.S]\")\nprivate LocalDateTime updatedTime;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1618412022,"post_id":65437171,"comment_id":118594326,"body_markdown":"This is a very helpful and interesting answer - works perfectly fine for me.","body":"This is a very helpful and interesting answer - works perfectly fine for me."}],"tags":[],"owner":{"account_id":9870898,"reputation":101,"user_id":7310585,"display_name":"Amit Kushwaha"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1608806419,"creation_date":1608806419,"answer_id":65437171,"question_id":61202937,"body_markdown":"You can remove the annotation @JsonFormat and let it works in a default way. It is working fine for me even if I removed the millisecond.\r\n\r\n    @NotNull\r\n\t@FutureOrPresent(message = ErrorMessages.INVALID_CAMPAIGN_START_DATE)\r\n\t//@JsonFormat(pattern = &quot;MM/dd/yyyy&quot;)\r\n\tprivate LocalDateTime campaignStartDate;\r\n\r\nJSON Request:\r\n\r\n    {  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16&quot;,\r\n      &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16&quot;,\r\n    }\r\n    \r\n    {\r\n      &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.45&quot;,\r\n      &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.45&quot;,\r\n    }\r\n    \r\n    {\r\n      &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.445&quot;,\r\n      &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.445&quot;,\r\n    }\r\n\r\nThese JSON requests will work fine.","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>You can remove the annotation @JsonFormat and let it works in a default way. It is working fine for me even if I removed the millisecond.</p>\n<pre><code>@NotNull\n@FutureOrPresent(message = ErrorMessages.INVALID_CAMPAIGN_START_DATE)\n//@JsonFormat(pattern = &quot;MM/dd/yyyy&quot;)\nprivate LocalDateTime campaignStartDate;\n</code></pre>\n<p>JSON Request:</p>\n<pre><code>{  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16&quot;,\n  &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16&quot;,\n}\n\n{\n  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.45&quot;,\n  &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.45&quot;,\n}\n\n{\n  &quot;campaignStartDate&quot; : &quot;2020-12-31T15:53:16.445&quot;,\n  &quot;campaignExpDate&quot; : &quot;2021-01-24T15:53:16.445&quot;,\n}\n</code></pre>\n<p>These JSON requests will work fine.</p>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644946162,"creation_date":1644946162,"answer_id":71130820,"question_id":61202937,"body_markdown":"I had the same error, I used this one with &quot;pickupDate&quot;:&quot;2014-01-01T00:00:00&quot;\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    private LocalDateTime pickupDate;","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I had the same error, I used this one with &quot;pickupDate&quot;:&quot;2014-01-01T00:00:00&quot;</p>\n<pre><code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)\n@JsonSerialize(using = LocalDateTimeSerializer.class)\nprivate LocalDateTime pickupDate;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667585479,"creation_date":1667585479,"answer_id":74321332,"question_id":61202937,"body_markdown":"I was getting this because my JSONproperty setter was not properly handling null.\r\n```\r\ne.g. \r\n\r\n\t@Column(name = &quot;equipment_purchase_date&quot;)\r\n\tprivate LocalDate purchaseDate;\r\n\r\nbad:\r\n    @JsonProperty\r\n\tpublic void setPurchaseDate(String dateStr) throws ParseException \r\n\t{\r\n\t\tthis.purchaseDate = LocalDate.parse(dateStr, df);\r\n\t}\r\n\r\ngood(Fix):\r\n\t@JsonProperty\r\n\tpublic void setPurchaseDate(String dateStr) throws ParseException \r\n\t{\r\n\t\tthis.purchaseDate = dateStr == null ? null : LocalDate.parse(dateStr, df);\r\n\t}\r\n```\r\nthought i would include this as none of the above answers were applicable in this case.","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I was getting this because my JSONproperty setter was not properly handling null.</p>\n<pre><code>e.g. \n\n    @Column(name = &quot;equipment_purchase_date&quot;)\n    private LocalDate purchaseDate;\n\nbad:\n    @JsonProperty\n    public void setPurchaseDate(String dateStr) throws ParseException \n    {\n        this.purchaseDate = LocalDate.parse(dateStr, df);\n    }\n\ngood(Fix):\n    @JsonProperty\n    public void setPurchaseDate(String dateStr) throws ParseException \n    {\n        this.purchaseDate = dateStr == null ? null : LocalDate.parse(dateStr, df);\n    }\n</code></pre>\n<p>thought i would include this as none of the above answers were applicable in this case.</p>\n"},{"comments":[{"owner":{"account_id":905829,"reputation":528,"user_id":940759,"display_name":"sedrakpc"},"score":1,"creation_date":1687285220,"post_id":76508984,"comment_id":134914399,"body_markdown":"I can confirm accepted answer works for optional milliseconds. Are you sure you are using LocalDateTime? Also make sure you are using java 8+.","body":"I can confirm accepted answer works for optional milliseconds. Are you sure you are using LocalDateTime? Also make sure you are using java 8+."}],"tags":[],"owner":{"account_id":19144335,"reputation":11,"user_id":13983672,"display_name":"Mukti Barakoti"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687196872,"creation_date":1687196696,"answer_id":76508984,"question_id":61202937,"body_markdown":"I was stuck for several hours tried every answers I found over the internet. I had to delete `&#39;.SSSZ&#39;` or `&#39;.SSS&#39;` part after `&#39;...HH:mm:ss&quot;`. \r\n\r\n**Didn&#39;t work**\r\n`@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, shape = JsonFormat.Shape.STRING)` OR\r\n`@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS][.SS][.S]&quot;, shape = JsonFormat.Shape.STRING)`\r\n\r\n**Worked with**\r\n`@JsonFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;, shape = JsonFormat.Shape.STRING)`\r\n`private LocalDateTime dateTime;`\r\n\r\nAnd setting headers in Postman \r\n`Content-Type: application/json`\r\n`Accept: application/json`\r\n\r\n\r\n","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I was stuck for several hours tried every answers I found over the internet. I had to delete <code>'.SSSZ'</code> or <code>'.SSS'</code> part after <code>'...HH:mm:ss&quot;</code>.</p>\n<p><strong>Didn't work</strong>\n<code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;, shape = JsonFormat.Shape.STRING)</code> OR\n<code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss[.SSS][.SS][.S]&quot;, shape = JsonFormat.Shape.STRING)</code></p>\n<p><strong>Worked with</strong>\n<code>@JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;, shape = JsonFormat.Shape.STRING)</code>\n<code>private LocalDateTime dateTime;</code></p>\n<p>And setting headers in Postman\n<code>Content-Type: application/json</code>\n<code>Accept: application/json</code></p>\n"}],"owner":{"account_id":11633243,"reputation":764,"user_id":8520564,"accept_rate":100,"display_name":"Georgi Michev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103340,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":61203166,"answer_count":5,"score":11,"last_activity_date":1687196872,"creation_date":1586850468,"question_id":61202937,"body_markdown":"I am sending request to external service which has updatedDate property\r\n\r\n```\r\n@UpdateTimestamp\r\n@Column(name = &quot;updated_date&quot;)\r\nprivate LocalDateTime updatedDate;\r\n```\r\n\r\nWhen I receive the response in my DTO I am trying to format the LocalDateTime property like this\r\n```\r\n@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\nprivate LocalDateTime updatedDate;\r\n```\r\n\r\nBut I get error in Postman \r\n\r\n```\r\n&quot;message&quot;: &quot;JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String \\&quot;2020-04-14T10:45:07.719\\&quot;: Text &#39;2020-04-14T10:45:07.719&#39; could not be parsed at index 14; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String \\&quot;2020-04-14T10:45:07.719\\\r\n```\r\n\r\n","title":"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String","body":"<p>I am sending request to external service which has updatedDate property</p>\n\n<pre><code>@UpdateTimestamp\n@Column(name = \"updated_date\")\nprivate LocalDateTime updatedDate;\n</code></pre>\n\n<p>When I receive the response in my DTO I am trying to format the LocalDateTime property like this</p>\n\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd'T'HH:mm:ss\")\nprivate LocalDateTime updatedDate;\n</code></pre>\n\n<p>But I get error in Postman </p>\n\n<pre><code>\"message\": \"JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String \\\"2020-04-14T10:45:07.719\\\": Text '2020-04-14T10:45:07.719' could not be parsed at index 14; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.LocalDateTime` from String \\\"2020-04-14T10:45:07.719\\\n</code></pre>\n"},{"tags":["java","selenium-webdriver","gmail"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1687187633,"post_id":76507716,"comment_id":134898306,"body_markdown":"The error message is pretty clear. Any other questions?","body":"The error message is pretty clear. Any other questions?"},{"owner":{"account_id":26472150,"reputation":76,"user_id":20112601,"display_name":"AbdeLhalimSB"},"score":0,"creation_date":1687191093,"post_id":76507716,"comment_id":134899043,"body_markdown":"Check that solution : https://stackoverflow.com/questions/76471550/cannot-log-in-to-google-with-selenium-webdrive/76483300#76483300","body":"Check that solution : <a href=\"https://stackoverflow.com/questions/76471550/cannot-log-in-to-google-with-selenium-webdrive/76483300#76483300\" title=\"cannot log in to google with selenium webdrive\">stackoverflow.com/questions/76471550/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687214885,"post_id":76507716,"comment_id":134902701,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687196608,"creation_date":1687196608,"answer_id":76508973,"question_id":76507716,"body_markdown":"This error message...\r\n\r\n![Google_JavascriptEnable](https://i.stack.imgur.com/wNZL1.png)\r\n\r\n...implies that attempting to sign in with JavaScript disabled in your browser will result in facing the error, suggesting JavaScript either isn&#39;t supported by your browser or turned off. \r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nThe only solution is to turn it back on or use a more modern browser.\r\n\r\nYou can check the _preferences_ in [tag:firefox] browser visiting the URL `about:config`:\r\n\r\n![aboutConfig](https://i.stack.imgur.com/qEXR7.png)","title":"Gmail error : Couldn’t sign you in Using Selenium Java","body":"<p>This error message...</p>\n<p><img src=\"https://i.stack.imgur.com/wNZL1.png\" alt=\"Google_JavascriptEnable\" /></p>\n<p>...implies that attempting to sign in with JavaScript disabled in your browser will result in facing the error, suggesting JavaScript either isn't supported by your browser or turned off.</p>\n<hr />\n<h2>Solution</h2>\n<p>The only solution is to turn it back on or use a more modern browser.</p>\n<p>You can check the <em>preferences</em> in <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" aria-label=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\" aria-labelledby=\"tag-firefox-tooltip-container\">firefox</a> browser visiting the URL <code>about:config</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/qEXR7.png\" alt=\"aboutConfig\" /></p>\n"}],"owner":{"account_id":28851678,"reputation":1,"user_id":22097460,"display_name":"Vinay Rajput"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687196608,"creation_date":1687185806,"question_id":76507716,"body_markdown":"Gmail error : Couldn’t sign you in Using Selenium Java\r\n\r\nCouldn’t sign you in\r\nThe browser you’re using doesn’t support JavaScript, or has JavaScript turned off.\r\nTo keep your Google Account secure, try signing in on a browser that has JavaScript turned on. Learn more\r\n\r\n\r\n\r\nTried to login gmail.com using Java in Selenium. But getting the above error ","title":"Gmail error : Couldn’t sign you in Using Selenium Java","body":"<p>Gmail error : Couldn’t sign you in Using Selenium Java</p>\n<p>Couldn’t sign you in\nThe browser you’re using doesn’t support JavaScript, or has JavaScript turned off.\nTo keep your Google Account secure, try signing in on a browser that has JavaScript turned on. Learn more</p>\n<p>Tried to login gmail.com using Java in Selenium. But getting the above error</p>\n"},{"tags":["java","android","kotlin","calendar","background-process"],"owner":{"account_id":28845794,"reputation":1,"user_id":22092874,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687196526,"creation_date":1687196526,"question_id":76508965,"body_markdown":"I&#39;m working on an Android app with Android Studio which has its own calendar functionality. My question is more related to the planning phase.\r\n\r\nMy understanding is, that I can use &quot;Calendar Provider&quot; to read events into my app and also to write or edit events back into the users&#39; original Google Calendar. However, I need to store the events within my app (like with an own Firebase database) for greater functionality, too.\r\n\r\nWhat&#39;s missing is, how can I fetch events being added not through my app, but through the users&#39; original Google Calendar? I cannot wait for the user to open my app and only then would trigger some sort of synchronization. It should be always in sync.\r\n\r\nIs there some interface preferred for user apps fetching anything edited in Google Calendar? Are there any classes supporting that? Do I need some background process polling mechanism (not preferred and due to delayed fetching, wouldn&#39;t be actually in sync).\r\n\r\n\r\nI&#39;m trying to understand what would be the most common approach and what tools are available to achieve this.\r\n\r\nThank you very much!","title":"How to keep events in own calendar app in sync with events added through google calendar app itself","body":"<p>I'm working on an Android app with Android Studio which has its own calendar functionality. My question is more related to the planning phase.</p>\n<p>My understanding is, that I can use &quot;Calendar Provider&quot; to read events into my app and also to write or edit events back into the users' original Google Calendar. However, I need to store the events within my app (like with an own Firebase database) for greater functionality, too.</p>\n<p>What's missing is, how can I fetch events being added not through my app, but through the users' original Google Calendar? I cannot wait for the user to open my app and only then would trigger some sort of synchronization. It should be always in sync.</p>\n<p>Is there some interface preferred for user apps fetching anything edited in Google Calendar? Are there any classes supporting that? Do I need some background process polling mechanism (not preferred and due to delayed fetching, wouldn't be actually in sync).</p>\n<p>I'm trying to understand what would be the most common approach and what tools are available to achieve this.</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1651478100,"post_id":72083752,"comment_id":127365865,"body_markdown":"https://www.baeldung.com/java-preview-features","body":"<a href=\"https://www.baeldung.com/java-preview-features\" rel=\"nofollow noreferrer\">baeldung.com/java-preview-features</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1651478347,"post_id":72083752,"comment_id":127365917,"body_markdown":"@Kayaman Thanks for trying, but that linked page is of no help. The author there describes how to set &quot;Language Level&quot; settings in IntelliJ. But as I mentioned in the Question, there are no appropriate menu items for &quot;Language Level&quot; when using an early-access version of Java. The IntelliJ app does not “know” about the next future version of Java. In my experience, the IntelliJ team can never quite keep up with the next version of Java, despite Java versions coming on schedule every 6 months.","body":"@Kayaman Thanks for trying, but that linked page is of no help. The author there describes how to set &quot;Language Level&quot; settings in IntelliJ. But as I mentioned in the Question, there are no appropriate menu items for &quot;Language Level&quot; when using an early-access version of Java. The IntelliJ app does not “know” about the next future version of Java. In my experience, the IntelliJ team can never quite keep up with the next version of Java, despite Java versions coming on schedule every 6 months."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1651478831,"post_id":72083752,"comment_id":127366036,"body_markdown":"Yeah, it just means there&#39;s no support for it in IDEA yet. I mean you&#39;re using bleeding edge preview features, you can&#39;t really blame the lack of support. Especially for something like Loom. I&#39;d expect it needs a lot of work to get proper support for it, and since a preview feature is bound to change, it&#39;s a risky feature for such little usage.","body":"Yeah, it just means there&#39;s no support for it in IDEA yet. I mean you&#39;re using bleeding edge preview features, you can&#39;t really blame the lack of support. Especially for something like Loom. I&#39;d expect it needs a lot of work to get proper support for it, and since a preview feature is bound to change, it&#39;s a risky feature for such little usage."},{"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":1,"creation_date":1651486399,"post_id":72083752,"comment_id":127368157,"body_markdown":"Try adding `--enable-preview` to `Preferences | Build, Execution, Deployment | Compiler | Java Compiler` in the `Additional command line parameters` text field.","body":"Try adding <code>--enable-preview</code> to <code>Preferences | Build, Execution, Deployment | Compiler | Java Compiler</code> in the <code>Additional command line parameters</code> text field."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651534981,"post_id":72083752,"comment_id":127382872,"body_markdown":"@BasLeijdekkers Thanks for the suggestion. I tried that. Now when running a Maven `install`, I get the message &quot;newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.&quot; with `!` icon in a filled red-circle. But I went ahead with an execution —&#160;my app ran successfully! So that message seems to be superfluous.","body":"@BasLeijdekkers Thanks for the suggestion. I tried that. Now when running a Maven <code>install</code>, I get the message &quot;newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.&quot; with <code>!</code> icon in a filled red-circle. But I went ahead with an execution — my app ran successfully! So that message seems to be superfluous."},{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1683496920,"post_id":72083752,"comment_id":134371981,"body_markdown":"@BasilBourque sir.. 1 question which is not related to your question. Is it ok to use to preview-features in production?","body":"@BasilBourque sir.. 1 question which is not related to your question. Is it ok to use to preview-features in production?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683501573,"post_id":72083752,"comment_id":134372339,"body_markdown":"@RamPrakash The answer to your query should be self-evident. If not, read the documentation: [*JEP 12: Preview Features*](https://openjdk.org/jeps/12).","body":"@RamPrakash The answer to your query should be self-evident. If not, read the documentation: <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\"><i>JEP 12: Preview Features</i></a>."}],"answers":[{"comments":[{"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"score":4,"creation_date":1657396034,"post_id":72117576,"comment_id":128802074,"body_markdown":"This worked for me using version 2022.1.3 of IntelliJ IDEA Community Edition. The trickiest part for me was figuring out where in the settings to put those compiler options. Here&#39;s what my settings looked like when I got it working: https://imgur.com/a/D0Hqq8e And my run config: https://imgur.com/a/6YTCkm5 Which meant I could write code that used virtual threads: https://imgur.com/a/GwxYrZF","body":"This worked for me using version 2022.1.3 of IntelliJ IDEA Community Edition. The trickiest part for me was figuring out where in the settings to put those compiler options. Here&#39;s what my settings looked like when I got it working: <a href=\"https://imgur.com/a/D0Hqq8e\" rel=\"nofollow noreferrer\">imgur.com/a/D0Hqq8e</a> And my run config: <a href=\"https://imgur.com/a/6YTCkm5\" rel=\"nofollow noreferrer\">imgur.com/a/6YTCkm5</a> Which meant I could write code that used virtual threads: <a href=\"https://imgur.com/a/GwxYrZF\" rel=\"nofollow noreferrer\">imgur.com/a/GwxYrZF</a>"},{"owner":{"account_id":450787,"reputation":1364,"user_id":846300,"accept_rate":50,"display_name":"Lukas Hanacek"},"score":0,"creation_date":1676368119,"post_id":72117576,"comment_id":133118279,"body_markdown":"For gradle users, in addition to the points mentioned above I also had to add the code mentioned in https://stackoverflow.com/a/61849770/846300","body":"For gradle users, in addition to the points mentioned above I also had to add the code mentioned in <a href=\"https://stackoverflow.com/a/61849770/846300\">stackoverflow.com/a/61849770/846300</a>"}],"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1668193305,"creation_date":1651687490,"answer_id":72117576,"question_id":72083752,"body_markdown":"What I had to do step by step.\r\n\r\n**Update the IDE to the latest version**\r\n\r\n**Download a JVM with loom**\r\n\r\n**Add the loom JDK to the IDE**\r\n\r\n**Set it both to project and to your build tool**\r\n\r\n**Set enable preview and source to 19 as compiler options** to do this, go to prefs -&gt; compiler -&gt; java compiler, uncheck the --release option thing and add the following compiler args for specific project global\r\n\r\n    --enable-preview --source 19\r\n\r\nthese are directly passed to javac when it compiles\r\n\r\nSet the enable preview on your run configuration and add `--enable-preview` as a JVM option (if you don&#39;t see it click &#39;Modify options&#39;)\r\n\r\nYou should be good to go, I faced a bug where sometimes Gradle complained that it is not compatible with my JVM, to resolve this I had to switch the Gradle VM to java 17, wait for it to build, and then back to 19\r\n\r\n\r\nEDIT:\r\n\r\nMaven is a better option for experimenting with non-LTS versions. With maven I had zero problems, Gradle has some weird ifs here and there that throw errors if they &quot;Don&#39;t support&quot; certain Java-Gradle version combo, even though they use maven beneath\r\n","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>What I had to do step by step.</p>\n<p><strong>Update the IDE to the latest version</strong></p>\n<p><strong>Download a JVM with loom</strong></p>\n<p><strong>Add the loom JDK to the IDE</strong></p>\n<p><strong>Set it both to project and to your build tool</strong></p>\n<p><strong>Set enable preview and source to 19 as compiler options</strong> to do this, go to prefs -&gt; compiler -&gt; java compiler, uncheck the --release option thing and add the following compiler args for specific project global</p>\n<pre><code>--enable-preview --source 19\n</code></pre>\n<p>these are directly passed to javac when it compiles</p>\n<p>Set the enable preview on your run configuration and add <code>--enable-preview</code> as a JVM option (if you don't see it click 'Modify options')</p>\n<p>You should be good to go, I faced a bug where sometimes Gradle complained that it is not compatible with my JVM, to resolve this I had to switch the Gradle VM to java 17, wait for it to build, and then back to 19</p>\n<p>EDIT:</p>\n<p>Maven is a better option for experimenting with non-LTS versions. With maven I had zero problems, Gradle has some weird ifs here and there that throw errors if they &quot;Don't support&quot; certain Java-Gradle version combo, even though they use maven beneath</p>\n"},{"tags":[],"owner":{"account_id":18890668,"reputation":2191,"user_id":13781069,"display_name":"exaucae"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1668188442,"creation_date":1668188442,"answer_id":74406282,"question_id":72083752,"body_markdown":"I had the same issue while using the Java 19.0.1 EAP for [project Panama][1] in InteliJ IDEA Ultimate 2022.2.3:\r\n\r\n&gt; java: java.lang.foreign.Linker is a preview API and is disabled by default. (use --enable-preview to enable preview APIs)\r\n\r\nWithout any UI trick, passing the `--enable preview` argument to maven compiler plugin worked for me:\r\n\r\n````xml\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;19&lt;/source&gt;\r\n          &lt;target&gt;19&lt;/target&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n````\r\n\r\n\r\n  [1]: https://openjdk.org/projects/panama/","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>I had the same issue while using the Java 19.0.1 EAP for <a href=\"https://openjdk.org/projects/panama/\" rel=\"noreferrer\">project Panama</a> in InteliJ IDEA Ultimate 2022.2.3:</p>\n<blockquote>\n<p>java: java.lang.foreign.Linker is a preview API and is disabled by default. (use --enable-preview to enable preview APIs)</p>\n</blockquote>\n<p>Without any UI trick, passing the <code>--enable preview</code> argument to maven compiler plugin worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;19&lt;/source&gt;\n          &lt;target&gt;19&lt;/target&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2839356,"reputation":2154,"user_id":2439249,"display_name":"ozeray"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687196456,"creation_date":1687195425,"answer_id":76508846,"question_id":72083752,"body_markdown":"Here is the snapshot for the setting of --enable-preview in IDEA IntelliJ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen you will also need to enable preview features for each program you run. On Edit Configuration window, click on Modify Options &gt; AD VM options, and set the flag there:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p7Ve4.png\r\n  [2]: https://i.stack.imgur.com/5TODP.png\r\n\r\nNow you should be able to run your program with preview features enabled.","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>Here is the snapshot for the setting of --enable-preview in IDEA IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/p7Ve4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p7Ve4.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you will also need to enable preview features for each program you run. On Edit Configuration window, click on Modify Options &gt; AD VM options, and set the flag there:</p>\n<p><a href=\"https://i.stack.imgur.com/5TODP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5TODP.png\" alt=\"enter image description here\" /></a></p>\n<p>Now you should be able to run your program with preview features enabled.</p>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10524,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1687196456,"creation_date":1651477836,"question_id":72083752,"body_markdown":"Unfortunately, even the latest early-access versions of IntelliJ often do not yet support early-access versions of Java. \r\n\r\nFor example, I am trying to use *Intellij 2022.1.1 Preview (Ultimate Edition)* with the [experimental build][1] of [Project Loom][2] based on early-access [Java 19][3]. Installing JDK generally works with IntelliJ. \r\n\r\nBut now I want to use the Loom-specific features. When I invoke a method new in to this experimental Java 19, I get this error from compiler:\r\n\r\n&gt;java: newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.\r\n&gt;\r\n&gt;(use --enable-preview to enable preview APIs)\r\n\r\nMy first thought is to set the *Language level* fields on the *File &gt; Project Structure &gt; Project Settings &gt; Project* and *… Modules* panels. But apparently IntelliJ does not offer any menu items for a *(Preview)* mode for this early-access Java 19.\r\n\r\n&#128073; Is there some way to make IntelliJ utilize the new preview API?\r\n\r\nI know the error message&#39;s suggestion of `--enable-preview` is meant to be a flag applied somewhere. But I don&#39;t know where.\r\n\r\n\r\n  [1]: https://jdk.java.net/loom/\r\n  [2]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_19","title":"Enable &quot;preview&quot; features in an early-access version of Java in IntelliJ","body":"<p>Unfortunately, even the latest early-access versions of IntelliJ often do not yet support early-access versions of Java.</p>\n<p>For example, I am trying to use <em>Intellij 2022.1.1 Preview (Ultimate Edition)</em> with the <a href=\"https://jdk.java.net/loom/\" rel=\"noreferrer\">experimental build</a> of <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"noreferrer\">Project Loom</a> based on early-access <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_19\" rel=\"noreferrer\">Java 19</a>. Installing JDK generally works with IntelliJ.</p>\n<p>But now I want to use the Loom-specific features. When I invoke a method new in to this experimental Java 19, I get this error from compiler:</p>\n<blockquote>\n<p>java: newVirtualThreadPerTaskExecutor() is a preview API and is disabled by default.</p>\n<p>(use --enable-preview to enable preview APIs)</p>\n</blockquote>\n<p>My first thought is to set the <em>Language level</em> fields on the <em>File &gt; Project Structure &gt; Project Settings &gt; Project</em> and <em>… Modules</em> panels. But apparently IntelliJ does not offer any menu items for a <em>(Preview)</em> mode for this early-access Java 19.</p>\n<p>👉 Is there some way to make IntelliJ utilize the new preview API?</p>\n<p>I know the error message's suggestion of <code>--enable-preview</code> is meant to be a flag applied somewhere. But I don't know where.</p>\n"},{"tags":["java","spring","spring-boot","generics","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687196296,"creation_date":1687196296,"answer_id":76508943,"question_id":76499520,"body_markdown":"I removed the @Service on the ReadService\r\n\r\n    @Transactional(readOnly = true)\r\n    @RequiredArgsConstructor\r\n    public class ReadService&lt;\r\n    \t\tID,\r\n    \t\tENTITY,\r\n    \t\tDTO,\r\n    \t\tMAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\r\n    \t\tREPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\r\n    \r\n    \tprivate final MAPPER mapper;\r\n    \r\n    \tprivate final REPOSITORY repository;\r\n    \r\n    \tprivate final Class&lt;ENTITY&gt; entityClass;\r\n    \r\n    \tpublic ENTITY findById(ID id) throws FunctionalException {\r\n    \t\treturn repository\r\n    \t\t\t\t.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new FunctionalException(\r\n    \t\t\t\t\t\t&quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\r\n    \t}\r\n    \r\n    \tpublic DTO findByIdToDto(ID id) throws FunctionalException {\r\n    \t\treturn mapper.toDto(findById(id));\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;ENTITY&gt; findAll() {\r\n    \t\treturn repository.findAll();\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;DTO&gt; findAllToDto() {\r\n    \t\treturn mapper.toDtos(findAll());\r\n    \t}\r\n    \r\n    }\r\n\r\nI think that was not a great idea to use the ReadService inside Controller, so I decided to move it on the ContinentService, and then use directly the ContinentService on the Controller side.\r\n\r\nI&#39;m creating the instance of ReadService inside the constructor of the ContinentService.\r\n\r\n    @Service\r\n    public class ContinentService {\r\n    \r\n    \tpublic ContinentService(ContinentMapper continentMapper, ContinentRepository continentRepository) {\r\n    \t\treadService = new ReadService&lt;&gt;(continentMapper, continentRepository, Continent.class);\r\n    \t}\r\n    \r\n    \tprivate final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\r\n    \r\n\t    public ContinentDto findByIdToDto(Integer id) throws FunctionalException {\r\n\t\t    return readService.findByIdToDto(id);\r\n\t    }\r\n\r\n\t    public Collection&lt;ContinentDto&gt; findAllToDto() {\r\n\t\t    return readService.findAllToDto();\r\n\t    }\r\n\r\n    }\r\n\r\nand so this is the Controller\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/country&quot;)\r\n    public class CountryRestController {\r\n    \r\n    \tprivate final CountryService countryService;\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody CountryDto findById(@PathVariable Integer id) throws FunctionalException {\r\n    \t\treturn countryService.findByIdToDto(id);\r\n    \t}\r\n    \r\n    \t@GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Collection&lt;CountryDto&gt; findAll() {\r\n    \t\treturn countryService.findAllToDto();\r\n    \t}\r\n\r\n    }\r\n","title":"Generic Service implementation required a single bean, but 2 were found","body":"<p>I removed the @Service on the ReadService</p>\n<pre><code>@Transactional(readOnly = true)\n@RequiredArgsConstructor\npublic class ReadService&lt;\n        ID,\n        ENTITY,\n        DTO,\n        MAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\n        REPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\n\n    private final MAPPER mapper;\n\n    private final REPOSITORY repository;\n\n    private final Class&lt;ENTITY&gt; entityClass;\n\n    public ENTITY findById(ID id) throws FunctionalException {\n        return repository\n                .findById(id)\n                .orElseThrow(() -&gt; new FunctionalException(\n                        &quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\n    }\n\n    public DTO findByIdToDto(ID id) throws FunctionalException {\n        return mapper.toDto(findById(id));\n    }\n\n    public Collection&lt;ENTITY&gt; findAll() {\n        return repository.findAll();\n    }\n\n    public Collection&lt;DTO&gt; findAllToDto() {\n        return mapper.toDtos(findAll());\n    }\n\n}\n</code></pre>\n<p>I think that was not a great idea to use the ReadService inside Controller, so I decided to move it on the ContinentService, and then use directly the ContinentService on the Controller side.</p>\n<p>I'm creating the instance of ReadService inside the constructor of the ContinentService.</p>\n<pre><code>@Service\npublic class ContinentService {\n\n    public ContinentService(ContinentMapper continentMapper, ContinentRepository continentRepository) {\n        readService = new ReadService&lt;&gt;(continentMapper, continentRepository, Continent.class);\n    }\n\n    private final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\n\n    public ContinentDto findByIdToDto(Integer id) throws FunctionalException {\n        return readService.findByIdToDto(id);\n    }\n\n    public Collection&lt;ContinentDto&gt; findAllToDto() {\n        return readService.findAllToDto();\n    }\n\n}\n</code></pre>\n<p>and so this is the Controller</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/country&quot;)\npublic class CountryRestController {\n\n    private final CountryService countryService;\n\n    @GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody CountryDto findById(@PathVariable Integer id) throws FunctionalException {\n        return countryService.findByIdToDto(id);\n    }\n\n    @GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;CountryDto&gt; findAll() {\n        return countryService.findAllToDto();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76508943,"answer_count":1,"score":1,"last_activity_date":1687196296,"creation_date":1687074457,"question_id":76499520,"body_markdown":"I was trying to implement a generic ReadService with the methods that I want to implement for many entities (findById, findByIdToDto, findAll, findAllToDto), so in that way I will avoid writing the same code over and over again.\r\n\r\n    @Service\r\n    @Transactional(readOnly = true)\r\n    @RequiredArgsConstructor\r\n    public class ReadService&lt;\r\n    \t\tID,\r\n    \t\tENTITY,\r\n    \t\tDTO,\r\n    \t\tMAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\r\n    \t\tREPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\r\n    \r\n    \tprivate final MAPPER mapper;\r\n    \r\n    \tprivate final REPOSITORY repository;\r\n    \r\n    \t@Setter\r\n    \tprivate Class&lt;ENTITY&gt; entityClass;\r\n    \r\n    \tpublic ENTITY findById(ID id) throws FunctionalException {\r\n    \t\treturn repository\r\n    \t\t\t\t.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new FunctionalException(\r\n    \t\t\t\t\t\t&quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\r\n    \t}\r\n    \r\n    \tpublic DTO findByIdToDto(ID id) throws FunctionalException {\r\n    \t\treturn mapper.toDto(findById(id));\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;ENTITY&gt; findAll() {\r\n    \t\treturn repository.findAll();\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;DTO&gt; findAllToDto() {\r\n    \t\treturn mapper.toDtos(findAll());\r\n    \t}\r\n    \r\n    }\r\n\r\nThe problem is that got the following error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.paulmarcelinbejan.toolbox.web.service.ReadService required a single bean, but 2 were found:\r\n    \t- continentMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/continent/mapper/ContinentMapperImpl.class]\r\n    \t- countryMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/country/mapper/CountryMapperImpl.class]\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nI use the ReadService in the Controller:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/continent&quot;)\r\n    public class ContinentRestController {\r\n    \r\n    \tprivate final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\r\n    \r\n    \t@PostConstruct\r\n    \tprivate void injectClass() {\r\n    \t\treadService.setEntityClass(Continent.class);\r\n    \t}\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody ContinentDto findById(@PathVariable Integer id) throws FunctionalException {\r\n    \t\treturn readService.findByIdToDto(id);\r\n    \t}\r\n\r\n    }\r\n\r\nWhy it founds two beans of MAPPER if ReadService is parametrized? \r\nEach time I want to use it, I&#39;ll have to parametrize it with the MAPPER that it has to use.\r\n\r\nWhat is the best way to solve it?\r\n\r\nP.S. \r\nIt&#39;s important to have those generic implementation cause it saves me a lot of time.\r\nConsider also that I already implemented Create, Update and Delete and they worked perfectly fine: \r\n\r\n\tprivate final CreateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; createService;\r\n\tprivate final UpdateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; updateService;\r\n\tprivate final DeleteService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; deleteService;","title":"Generic Service implementation required a single bean, but 2 were found","body":"<p>I was trying to implement a generic ReadService with the methods that I want to implement for many entities (findById, findByIdToDto, findAll, findAllToDto), so in that way I will avoid writing the same code over and over again.</p>\n<pre><code>@Service\n@Transactional(readOnly = true)\n@RequiredArgsConstructor\npublic class ReadService&lt;\n        ID,\n        ENTITY,\n        DTO,\n        MAPPER extends BaseMapperToDTO&lt;ENTITY, DTO&gt;,\n        REPOSITORY extends JpaRepository&lt;ENTITY, ID&gt;&gt; {\n\n    private final MAPPER mapper;\n\n    private final REPOSITORY repository;\n\n    @Setter\n    private Class&lt;ENTITY&gt; entityClass;\n\n    public ENTITY findById(ID id) throws FunctionalException {\n        return repository\n                .findById(id)\n                .orElseThrow(() -&gt; new FunctionalException(\n                        &quot;No &quot; + entityClass.getSimpleName() + &quot; found with the id: &quot; + id));\n    }\n\n    public DTO findByIdToDto(ID id) throws FunctionalException {\n        return mapper.toDto(findById(id));\n    }\n\n    public Collection&lt;ENTITY&gt; findAll() {\n        return repository.findAll();\n    }\n\n    public Collection&lt;DTO&gt; findAllToDto() {\n        return mapper.toDtos(findAll());\n    }\n\n}\n</code></pre>\n<p>The problem is that got the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.paulmarcelinbejan.toolbox.web.service.ReadService required a single bean, but 2 were found:\n    - continentMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/continent/mapper/ContinentMapperImpl.class]\n    - countryMapperImpl: defined in file [/projects/HyperBank/HyperBank-Maps/target/classes/com/hyperbank/maps/country/mapper/CountryMapperImpl.class]\n\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n<p>I use the ReadService in the Controller:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/continent&quot;)\npublic class ContinentRestController {\n\n    private final ReadService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; readService;\n\n    @PostConstruct\n    private void injectClass() {\n        readService.setEntityClass(Continent.class);\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody ContinentDto findById(@PathVariable Integer id) throws FunctionalException {\n        return readService.findByIdToDto(id);\n    }\n\n}\n</code></pre>\n<p>Why it founds two beans of MAPPER if ReadService is parametrized?\nEach time I want to use it, I'll have to parametrize it with the MAPPER that it has to use.</p>\n<p>What is the best way to solve it?</p>\n<p>P.S.\nIt's important to have those generic implementation cause it saves me a lot of time.\nConsider also that I already implemented Create, Update and Delete and they worked perfectly fine:</p>\n<pre><code>private final CreateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; createService;\nprivate final UpdateService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; updateService;\nprivate final DeleteService&lt;Integer, Continent, ContinentDto, ContinentMapper, ContinentRepository&gt; deleteService;\n</code></pre>\n"},{"tags":["java","iso8583","jpos","iso8583-1993"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687196209,"creation_date":1687196209,"answer_id":76508932,"question_id":76508352,"body_markdown":"It doesn&#39;t seem to be a problem with the message being sent incomplete.\r\n\r\nIt looks more like a thing on how you are visualizing things, if you are trying [this answer](https://stackoverflow.com/a/76485890/3444205) the thing is `xxd` is expecting the next line. It will show the entire message after the other side disconnects and netcat finishes.\r\n\r\n","title":"The iso message is sent incomplete jpos","body":"<p>It doesn't seem to be a problem with the message being sent incomplete.</p>\n<p>It looks more like a thing on how you are visualizing things, if you are trying <a href=\"https://stackoverflow.com/a/76485890/3444205\">this answer</a> the thing is <code>xxd</code> is expecting the next line. It will show the entire message after the other side disconnects and netcat finishes.</p>\n"}],"owner":{"account_id":28799262,"reputation":21,"user_id":22056639,"display_name":"Raul Roa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687196209,"creation_date":1687190874,"question_id":76508352,"body_markdown":"Sending the iso message is sent incomplete, I don&#39;t know why\r\n\r\n\r\nin this way I am sending it\r\n\r\n\r\n```\r\n// Create Packager based on XML that contain DE type\r\n\t\tGenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\r\n\r\n\t\t// Crea una instancia de la clase BASE24TCPChannel\r\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\r\n       c.setHeader(&quot;ISO008000099&quot;);\r\n       \r\n\t\t// Create ISO Message\r\n\t\tISOMsg isoMsg = new ISOMsg();\r\n\t\t\r\n\t\tisoMsg.setPackager(packager);\r\n \r\n        isoMsg.setMTI(&quot;0800&quot;);\r\n        isoMsg.set(7, &quot;1088110140&quot;);\r\n        isoMsg.set(11, &quot;087478&quot;);\r\n        isoMsg.set(70, &quot;999&quot;);\r\n\r\n        c.connect();\r\n\t\tc.send(isoMsg);\r\n\r\n```\r\n\r\nthis is what is sent: \r\n\r\n```\r\n00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\r\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\r\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\r\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\r\n```\r\n\r\n\r\nBut if I add another connection to the shipment, if it arrives complete, because this behavior helps, I&#39;m new to JPOS.\r\n\r\n\r\n\r\n```\r\n\t// Create Packager based on XML that contain DE type\r\n\t\tGenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\r\n\r\n\t\t// Crea una instancia de la clase BASE24TCPChannel\r\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\r\n       c.setHeader(&quot;ISO008000099&quot;);\r\n       \r\n\t\t// Create ISO Message\r\n\t\tISOMsg isoMsg = new ISOMsg();\r\n\t\t\r\n\t\tisoMsg.setPackager(packager);\r\n \r\n        isoMsg.setMTI(&quot;0800&quot;);\r\n        isoMsg.set(7, &quot;1088110140&quot;);\r\n        isoMsg.set(11, &quot;087478&quot;);\r\n        isoMsg.set(70, &quot;999&quot;);\r\n\r\n        c.connect();\r\n\t\tc.send(isoMsg);\r\n\t\t\r\n\t\t\r\n\t\tc.connect();\r\n\t\t\r\n```\r\n\r\n\r\nhere if it arrives complete when connecting twice\r\n\r\n\r\n```\r\n00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\r\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\r\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\r\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\r\n00000040: 3738 3939 3903                           78999.\r\n```\r\n\r\nhow can I solve that?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The iso message is sent incomplete jpos","body":"<p>Sending the iso message is sent incomplete, I don't know why</p>\n<p>in this way I am sending it</p>\n<pre><code>// Create Packager based on XML that contain DE type\n        GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\n\n        // Crea una instancia de la clase BASE24TCPChannel\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\n       c.setHeader(&quot;ISO008000099&quot;);\n       \n        // Create ISO Message\n        ISOMsg isoMsg = new ISOMsg();\n        \n        isoMsg.setPackager(packager);\n \n        isoMsg.setMTI(&quot;0800&quot;);\n        isoMsg.set(7, &quot;1088110140&quot;);\n        isoMsg.set(11, &quot;087478&quot;);\n        isoMsg.set(70, &quot;999&quot;);\n\n        c.connect();\n        c.send(isoMsg);\n\n</code></pre>\n<p>this is what is sent:</p>\n<pre><code>00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\n</code></pre>\n<p>But if I add another connection to the shipment, if it arrives complete, because this behavior helps, I'm new to JPOS.</p>\n<pre><code>    // Create Packager based on XML that contain DE type\n        GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\n\n        // Crea una instancia de la clase BASE24TCPChannel\n       BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\n       c.setHeader(&quot;ISO008000099&quot;);\n       \n        // Create ISO Message\n        ISOMsg isoMsg = new ISOMsg();\n        \n        isoMsg.setPackager(packager);\n \n        isoMsg.setMTI(&quot;0800&quot;);\n        isoMsg.set(7, &quot;1088110140&quot;);\n        isoMsg.set(11, &quot;087478&quot;);\n        isoMsg.set(70, &quot;999&quot;);\n\n        c.connect();\n        c.send(isoMsg);\n        \n        \n        c.connect();\n        \n</code></pre>\n<p>here if it arrives complete when connecting twice</p>\n<pre><code>00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\n00000040: 3738 3939 3903                           78999.\n</code></pre>\n<p>how can I solve that?</p>\n"},{"tags":["java","rest","jakarta-ee","jax-rs","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1687274879,"post_id":76508929,"comment_id":134912276,"body_markdown":"Looking at your configuration, are your REST endpoints in a JAR? They need to be in a WAR is why I ask.","body":"Looking at your configuration, are your REST endpoints in a JAR? They need to be in a WAR is why I ask."},{"owner":{"account_id":5502391,"reputation":631,"user_id":4371355,"accept_rate":39,"display_name":"Francesco Rizzi"},"score":0,"creation_date":1687380044,"post_id":76508929,"comment_id":134930389,"body_markdown":"Yes, they are in a WAR, which is inside an EAR package.","body":"Yes, they are in a WAR, which is inside an EAR package."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1687398918,"post_id":76508929,"comment_id":134932488,"body_markdown":"Your path should be; /application-framework/restapi/endpoint/testme. If that is what you&#39;re using, try changing the value of the `@ApplicationPath` to `restapi` leaving off the `/*` as that is required to be appended by the implementation.","body":"Your path should be; /application-framework/restapi/endpoint/testme. If that is what you&#39;re using, try changing the value of the <code>@ApplicationPath</code> to <code>restapi</code> leaving off the <code>&#47;*</code> as that is required to be appended by the implementation."}],"owner":{"account_id":5502391,"reputation":631,"user_id":4371355,"accept_rate":39,"display_name":"Francesco Rizzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687196193,"creation_date":1687196193,"question_id":76508929,"body_markdown":"I have the following REST Application:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.LinkedHashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.ejb.EJB;\r\n    import javax.ws.rs.ApplicationPath;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    import application.interfaces.ApplicationContext;\r\n    \r\n    @ApplicationPath(&quot;/restapi/*&quot;)\r\n    public class TestRestAPIContext extends Application {\r\n    \t@EJB\r\n    \tprivate ApplicationContext ejbApplicationContext;\r\n    \r\n    \t@PostConstruct\r\n    \tpublic void onInit() {\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;REST INIT!&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n    \t\treturn new LinkedHashSet&lt;&gt;(Arrays.asList(TestRestAPIEndpoint.class));\r\n    \t}\r\n    }\r\n\r\nAnd the following REST Resource:\r\n\r\n    import javax.ejb.Stateless;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    \r\n    import engine.annotations.RestAPIMethod;\r\n    \r\n    @Stateless\r\n    @Path(&quot;/endpoint&quot;)\r\n    public class TestRestAPIEndpoint {\r\n    \t@GET\r\n    \t@Path(&quot;/testme&quot;)\r\n    \t@RestAPIMethod\r\n    \tpublic String testAPI() {\r\n    \t\treturn &quot;OK&quot;;\r\n    \t}\r\n    }\r\n\r\nAll comes packaged in a .ear application with the following application.xml descriptor (META-INF/application.xml):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\r\n      &lt;display-name&gt;application-framework-ear&lt;/display-name&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;application-framework-web.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/application-framework&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n        &lt;ejb&gt;application-framework-ejb.jar&lt;/ejb&gt;\r\n      &lt;/module&gt;\r\n      &lt;library-directory&gt;libs&lt;/library-directory&gt;\r\n    &lt;/application&gt;\r\n\r\nAnd I have the following jboss-web.xml (application-framework-web.war/WEB-INF/jboss-web.xml):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-web&gt;\r\n    \t&lt;context-root&gt;/application-framework&lt;/context-root&gt;\r\n    \t&lt;resource-ref&gt;\r\n    \t\t&lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\r\n    \r\n    \t\t&lt;jndi-name&gt;java:/jdbc/datasource&lt;/jndi-name&gt;\r\n    \t&lt;/resource-ref&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\nAnd I have the following web.xml (application-framework-web.war/WEB-INF/web.xml):\r\n\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    &lt;!--&lt;servlet&gt;--&gt;\r\n    &lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\r\n    &lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;\r\n    &lt;!--&lt;/servlet&gt;--&gt;\r\n    \r\n    &lt;!--&lt;servlet-mapping&gt;--&gt;\r\n    &lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\r\n    &lt;!--&lt;url-pattern&gt;/restapi/*&lt;/url-pattern&gt;--&gt;\r\n    &lt;!--&lt;/servlet-mapping&gt;--&gt;\r\n    \t&lt;resource-ref&gt;\r\n    \t\t&lt;description&gt;Application Framework Datasource&lt;/description&gt;\r\n    \t\t&lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\r\n    \t\t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n    \t\t&lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n    \t&lt;/resource-ref&gt;\r\n    &lt;/web-app&gt;\r\n\r\n**Please note:** Servlet in web.xml has been commented since I would like to use only annotations.\r\n\r\nOn Wildfly-20.0.0.1 i can see the following: \r\n\r\n&gt; RESTEASY002225: Deploying javax.ws.rs.core.Application: class\r\n&gt; engine.TestRestAPIContext RESTEASY002200: Adding class resource\r\n&gt; engine.TestRestAPIEndpoint from Application class\r\n&gt; engine.TestRestAPIContext\r\n\r\nResource TestRestAPIEndpoint is never invoked. Furthermore, the @PostConstruct method of my TestRestAPIContext is not called. Any suggestions?\r\n\r\nThanks","title":"WildFly 20.0.0.1 JAX-RS Resource not found","body":"<p>I have the following REST Application:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.LinkedHashSet;\nimport java.util.Set;\n\nimport javax.annotation.PostConstruct;\nimport javax.ejb.EJB;\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\nimport application.interfaces.ApplicationContext;\n\n@ApplicationPath(&quot;/restapi/*&quot;)\npublic class TestRestAPIContext extends Application {\n    @EJB\n    private ApplicationContext ejbApplicationContext;\n\n    @PostConstruct\n    public void onInit() {\n        try {\n            System.out.println(&quot;REST INIT!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        return new LinkedHashSet&lt;&gt;(Arrays.asList(TestRestAPIEndpoint.class));\n    }\n}\n</code></pre>\n<p>And the following REST Resource:</p>\n<pre><code>import javax.ejb.Stateless;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\n\nimport engine.annotations.RestAPIMethod;\n\n@Stateless\n@Path(&quot;/endpoint&quot;)\npublic class TestRestAPIEndpoint {\n    @GET\n    @Path(&quot;/testme&quot;)\n    @RestAPIMethod\n    public String testAPI() {\n        return &quot;OK&quot;;\n    }\n}\n</code></pre>\n<p>All comes packaged in a .ear application with the following application.xml descriptor (META-INF/application.xml):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;application xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/application_7.xsd&quot; version=&quot;7&quot;&gt;\n  &lt;display-name&gt;application-framework-ear&lt;/display-name&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;application-framework-web.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/application-framework&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;ejb&gt;application-framework-ejb.jar&lt;/ejb&gt;\n  &lt;/module&gt;\n  &lt;library-directory&gt;libs&lt;/library-directory&gt;\n&lt;/application&gt;\n</code></pre>\n<p>And I have the following jboss-web.xml (application-framework-web.war/WEB-INF/jboss-web.xml):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-web&gt;\n    &lt;context-root&gt;/application-framework&lt;/context-root&gt;\n    &lt;resource-ref&gt;\n        &lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\n\n        &lt;jndi-name&gt;java:/jdbc/datasource&lt;/jndi-name&gt;\n    &lt;/resource-ref&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p>And I have the following web.xml (application-framework-web.war/WEB-INF/web.xml):</p>\n<pre><code>&lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n&lt;!--&lt;servlet&gt;--&gt;\n&lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\n&lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;\n&lt;!--&lt;/servlet&gt;--&gt;\n\n&lt;!--&lt;servlet-mapping&gt;--&gt;\n&lt;!--&lt;servlet-name&gt;engine.TestRestAPIContext&lt;/servlet-name&gt;--&gt;\n&lt;!--&lt;url-pattern&gt;/restapi/*&lt;/url-pattern&gt;--&gt;\n&lt;!--&lt;/servlet-mapping&gt;--&gt;\n    &lt;resource-ref&gt;\n        &lt;description&gt;Application Framework Datasource&lt;/description&gt;\n        &lt;res-ref-name&gt;jdbc/application-framework-ds&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n    &lt;/resource-ref&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>Please note:</strong> Servlet in web.xml has been commented since I would like to use only annotations.</p>\n<p>On Wildfly-20.0.0.1 i can see the following:</p>\n<blockquote>\n<p>RESTEASY002225: Deploying javax.ws.rs.core.Application: class\nengine.TestRestAPIContext RESTEASY002200: Adding class resource\nengine.TestRestAPIEndpoint from Application class\nengine.TestRestAPIContext</p>\n</blockquote>\n<p>Resource TestRestAPIEndpoint is never invoked. Furthermore, the @PostConstruct method of my TestRestAPIContext is not called. Any suggestions?</p>\n<p>Thanks</p>\n"},{"tags":["java","unit-testing","junit","jdom-2"],"comments":[{"owner":{"account_id":3593742,"reputation":207,"user_id":2999097,"accept_rate":45,"display_name":"Noshaf"},"score":0,"creation_date":1582281728,"post_id":60336802,"comment_id":106731793,"body_markdown":"try with **assertEquals**","body":"try with <b>assertEquals</b>"},{"owner":{"account_id":17450915,"reputation":452,"user_id":12650909,"display_name":"Sandeep Lakdawala"},"score":0,"creation_date":1582282905,"post_id":60336802,"comment_id":106732428,"body_markdown":"Check this\n\nhttps://stackoverflow.com/questions/3236880/assert-equals-between-2-lists-in-junit","body":"Check this  <a href=\"https://stackoverflow.com/questions/3236880/assert-equals-between-2-lists-in-junit\" title=\"assert equals between 2 lists in junit\">stackoverflow.com/questions/3236880/&hellip;</a>"},{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1582531039,"post_id":60336802,"comment_id":106795353,"body_markdown":"Does this answer your question? [AssertEquals 2 Lists ignore order](https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22807328/assertequals-2-lists-ignore-order\">AssertEquals 2 Lists ignore order</a>"}],"answers":[{"tags":[],"owner":{"account_id":9353136,"reputation":7469,"user_id":6942134,"display_name":"SergiyKolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582282242,"creation_date":1582282242,"answer_id":60337070,"question_id":60336802,"body_markdown":"If you do not care for the order of the elements, you can sort the lists before comparing them.","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>If you do not care for the order of the elements, you can sort the lists before comparing them.</p>\n"},{"comments":[{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1582287662,"post_id":60337123,"comment_id":106734900,"body_markdown":"I&#39;m not sure what you mean with &quot;as long as you have proper equals implementation for your `Apple`&quot;. I have not had to deal with this sort of thing before Could you kindly elaborate about how the Apple class would have to look for this to work? My current `Apple` is a simple data object that only contains its id and a number of other values, and with that, the assertion fails. Also, because `assertTrue` is used, the resulting Assertation error is not very expressive (as opposed to AssertEquals, which displays the mismatch in case of a mismatch).","body":"I&#39;m not sure what you mean with &quot;as long as you have proper equals implementation for your <code>Apple</code>&quot;. I have not had to deal with this sort of thing before Could you kindly elaborate about how the Apple class would have to look for this to work? My current <code>Apple</code> is a simple data object that only contains its id and a number of other values, and with that, the assertion fails. Also, because <code>assertTrue</code> is used, the resulting Assertation error is not very expressive (as opposed to AssertEquals, which displays the mismatch in case of a mismatch)."},{"owner":{"account_id":9896111,"reputation":2731,"user_id":7327572,"accept_rate":80,"display_name":"FilipRistic"},"score":1,"creation_date":1582290969,"post_id":60337123,"comment_id":106736542,"body_markdown":"If you don&#39;t override equals in your class, then equals checks if 2 instances have same reference, you should override equals to take id into account, if you want more expressive message sorting would work better.","body":"If you don&#39;t override equals in your class, then equals checks if 2 instances have same reference, you should override equals to take id into account, if you want more expressive message sorting would work better."},{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1582529293,"post_id":60337123,"comment_id":106794703,"body_markdown":"That sounds reasonable, and I would like to do that. However, in practice, I have just learned that the &quot;Apple&quot; from above example is an external class that I can&#39;t modify, so I can&#39;t override the `equals` function in it. What can I do in this case? (In practice, I am using JDOM2 to import a complex XML, and what I am trying to do is compare the parsed attributes to make sure the correct attributes are parsed; I&#39;ll add this to the question as clarification)","body":"That sounds reasonable, and I would like to do that. However, in practice, I have just learned that the &quot;Apple&quot; from above example is an external class that I can&#39;t modify, so I can&#39;t override the <code>equals</code> function in it. What can I do in this case? (In practice, I am using JDOM2 to import a complex XML, and what I am trying to do is compare the parsed attributes to make sure the correct attributes are parsed; I&#39;ll add this to the question as clarification)"},{"owner":{"account_id":9896111,"reputation":2731,"user_id":7327572,"accept_rate":80,"display_name":"FilipRistic"},"score":1,"creation_date":1582632446,"post_id":60337123,"comment_id":106837018,"body_markdown":"@KiraResari Ok that information helps a lot, I updated the answer hope it helps you.","body":"@KiraResari Ok that information helps a lot, I updated the answer hope it helps you."},{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1582700890,"post_id":60337123,"comment_id":106863270,"body_markdown":"Thanks for the suggestion and your efforts. I&#39;ve once again tried to implement this, only to realize that the things that this test is supposed to compare are actually strings. So it&#39;s a list of attributes with strings. I&#39;ll update my initial question to reflect this and give samples.","body":"Thanks for the suggestion and your efforts. I&#39;ve once again tried to implement this, only to realize that the things that this test is supposed to compare are actually strings. So it&#39;s a list of attributes with strings. I&#39;ll update my initial question to reflect this and give samples."}],"tags":[],"owner":{"account_id":9896111,"reputation":2731,"user_id":7327572,"accept_rate":80,"display_name":"FilipRistic"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582632416,"creation_date":1582282382,"answer_id":60337123,"question_id":60336802,"body_markdown":"You should use `containsAll` to check whether one list has all items from another, as long as you have proper equals implementation for your `Apple` this should work:\r\n\r\n        // Covers case where all items that are from correct list are in reference as well\r\n        // but also some additional items exist that are not in correct list\r\n        assertEquals(correctlyPassedList.size(), referenceList.size());\r\n        // Checks if each element is contained in list\r\n        assertTrue(referenceList.containsAll(correctlyPassedList));\r\n\r\n**UPDATE**\r\n\r\nRegarding your latest comment probably this would work best:\r\n\r\n        // Sort both lists using comparator based on id or whatever field is relevant\r\n        referenceList.sort(Comparator.comparingInt(Apple::getId));\r\n        correctlyParsedList.sort(Comparator.comparingInt(Apple::getId));\r\n        // Check if they are equal\r\n        assertEquals(correctlyParsedList, referenceList);","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>You should use <code>containsAll</code> to check whether one list has all items from another, as long as you have proper equals implementation for your <code>Apple</code> this should work:</p>\n\n<pre><code>    // Covers case where all items that are from correct list are in reference as well\n    // but also some additional items exist that are not in correct list\n    assertEquals(correctlyPassedList.size(), referenceList.size());\n    // Checks if each element is contained in list\n    assertTrue(referenceList.containsAll(correctlyPassedList));\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Regarding your latest comment probably this would work best:</p>\n\n<pre><code>    // Sort both lists using comparator based on id or whatever field is relevant\n    referenceList.sort(Comparator.comparingInt(Apple::getId));\n    correctlyParsedList.sort(Comparator.comparingInt(Apple::getId));\n    // Check if they are equal\n    assertEquals(correctlyParsedList, referenceList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599064870,"creation_date":1599064870,"answer_id":63709951,"question_id":60336802,"body_markdown":"I personally prefer to always use [AssertJ][1].\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n\r\n Either of these two assertions should do the trick!\r\n\r\n    assertThat(correctlyParsedList1).containsOnlyOnce(referenceApple1, referenceApple2);\r\n    assertThat(correctlyParsedList1).containsOnlyOnceElementsOf(referenceList);\r\n\r\n\r\n  [1]: https://assertj.github.io/doc/","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>I personally prefer to always use <a href=\"https://assertj.github.io/doc/\" rel=\"nofollow noreferrer\">AssertJ</a>.</p>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n</code></pre>\n<p>Either of these two assertions should do the trick!</p>\n<pre><code>assertThat(correctlyParsedList1).containsOnlyOnce(referenceApple1, referenceApple2);\nassertThat(correctlyParsedList1).containsOnlyOnceElementsOf(referenceList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626096516,"creation_date":1626096516,"answer_id":68348221,"question_id":60336802,"body_markdown":"Drawing on @FilipRistic&#39;s answer, this is what worked for me:\r\n\r\nSort both lists using comparator based on `id` or whichever field is relevant:\r\n\r\n    referenceList.sort(Comparator.comparingInt(Apple::getId));\r\n    correctlyParsedList.sort(Comparator.comparingInt(Apple::getId));\r\n\r\nThen simply:\r\n\r\n    assertThat(referenceList).usingRecursiveComparison().isEqualTo(correctlyParsedList);\r\n","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>Drawing on @FilipRistic's answer, this is what worked for me:</p>\n<p>Sort both lists using comparator based on <code>id</code> or whichever field is relevant:</p>\n<pre><code>referenceList.sort(Comparator.comparingInt(Apple::getId));\ncorrectlyParsedList.sort(Comparator.comparingInt(Apple::getId));\n</code></pre>\n<p>Then simply:</p>\n<pre><code>assertThat(referenceList).usingRecursiveComparison().isEqualTo(correctlyParsedList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687195863,"creation_date":1687195863,"answer_id":76508893,"question_id":60336802,"body_markdown":"I think the accepted way now is to use Hamcrest library and use one of its Matchers.containsInAnyOrder (Any class assuming there is an equals method)\r\nI could populate this with a specific set of values, but feel this is more generic.\r\n\r\n    List&lt;T&gt; values; // literally add in any order\r\n    List&lt;T&gt; containsValuesInAnyOrder; // literally add in any order\r\n    MatcherAssert.assertThat(values, containsValuesInAnyOrder);\r\n","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>I think the accepted way now is to use Hamcrest library and use one of its Matchers.containsInAnyOrder (Any class assuming there is an equals method)\nI could populate this with a specific set of values, but feel this is more generic.</p>\n<pre><code>List&lt;T&gt; values; // literally add in any order\nList&lt;T&gt; containsValuesInAnyOrder; // literally add in any order\nMatcherAssert.assertThat(values, containsValuesInAnyOrder);\n</code></pre>\n"}],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21409,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1687195863,"creation_date":1582281307,"question_id":60336802,"body_markdown":"My use case is that I am writing a document parser (for ReqIF documents) and want to compare that the parsed object contains the expected elements. For this, I want to write a JUnit Test.\r\n\r\nEffectively, what I am looking for is an assertion method that compares two lists of objects with values and passes when both lists contain (in any order) objects that have the same values as the reference list.\r\n\r\nTo abstract that, consider this example:\r\n\r\n```\r\nApple referenceApple1 = new Apple(color=&quot;red&quot;);\r\nApple referenceApple2 = new Apple(color=&quot;green&quot;);\r\nApple parsedApple1 = new Apple(color=&quot;red&quot;);\r\nApple parsedApple2 = new Apple(color=&quot;green&quot;);\r\nApple badApple = new Apple(color=&quot;brown&quot;);\r\n\r\nList&lt;Apple&gt; referenceList = new List&lt;Apple&gt;(referenceApple1, referenceApple2);\r\nList&lt;Apple&gt; correctlyParsedList1 = new List&lt;Apple&gt;(parsedApple1, parsedApple2);\r\nList&lt;Apple&gt; correctlyParsedList2 = new List&lt;Apple&gt;(parsedApple2, parsedApple1);\r\nList&lt;Apple&gt; wronglyParsedList1 = new List&lt;Apple&gt;(parsedApple1, badApple);\r\nList&lt;Apple&gt; wronglyParsedList2 = new List&lt;Apple&gt;(parsedApple1, parsedApple2, parsedApple1);\r\nList&lt;Apple&gt; wronglyParsedList3 = new List&lt;Apple&gt;(parsedApple2, parsedApple2);\r\n```\r\n\r\nI am looking for an assertion method that passes when comparing any of the above `correctlyParsedList*` with the `referenceList`, but fails when comparing any of the above `wronglyParsedList*` with the `referenceList`.\r\n\r\nCurrently, the closest I&#39;ve gotten to is this:\r\n\r\n```\r\nassertEquals(referenceList.toString(), correctlyParsedList1.toString())\r\n```\r\n\r\nHowever, that will fail as soon as the objects are in another order.\r\n\r\n```\r\n//Will fail, but I want a method that will compare these and pass\r\nassertEquals(referenceList.toString(), correctlyParsedList2.toString())\r\n```\r\n\r\nNotably, the following will also fail since the Apples, while containing the same values, are not instances of the same object:\r\n\r\n```\r\nassertThat(correctlyParsedList1, is(referenceList));\r\n\r\n//Throws This error:\r\njava.lang.AssertionError: \r\nExpected: is &lt;[[color=&quot;red&quot;], [color=&quot;green&quot;]]&gt;\r\n     but: was &lt;[[color=&quot;red&quot;], [color=&quot;green&quot;]]&gt;\r\n```\r\n\r\nIs there a simple way to make such an assertion in JUnit? I know I could write a custom assertion method for this iterating over the objects, but somehow it feels like this would be a common use case that should have a pre-defined assertion method that throws expressive assertion errors.\r\n\r\n---\r\n\r\nEDIT ~ CONCRETIZATION\r\n\r\nWhat I am actually trying to do with this abstract example is to parse a complex XML using JDOM2, and I want to assert that the attributes of a tag being parsed equal those that exist in the sample document I give as an input. Since this is XML, the order of the attributes is irrelevant, as long as they have the correct values.\r\n\r\nSo effectively, what I am comparing in this practical use case is two `List&lt;Attribute&gt;`, with `Attribute` coming from `org.jdom2.Attribute`.\r\n\r\nThe complete makeshift testcase with which I am currently unhappy because it will fail if the order of attributes changes but should not is as follows:\r\n\r\n```\r\n\t@Test\r\n\tpublic void importXML_fromFileShouldCreateXML_objectWithCorrectAttributes() throws JDOMException, IOException {\r\n\t\ttestInitialization();\r\n\t\tList&lt;Attribute&gt; expectedAttributes = rootNode.getAttributes();\r\n\t\t\r\n\t\tXML_data generatedXML_data = xml_importer.importXML_fromFile(inputFile);\r\n\t\tList&lt;Attribute&gt; actualAttributes = generatedXML_data.attributes;\r\n\t\t\r\n\t\tassertEquals(expectedAttributes.toString(), actualAttributes.toString());\r\n\t}\r\n```\r\n\r\nThe concrete error I get when trying to make that assertion with `assertThat(expectedAttributes, is(actualAttributes))` is:\r\n\r\n```\r\njava.lang.AssertionError: \r\nExpected: is &lt;[[Attribute: xsi:schemaLocation=&quot;http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd&quot;], [Attribute: xml:lang=&quot;en&quot;]]&gt;\r\n    but: was &lt;[[Attribute: xsi:schemaLocation=&quot;http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd&quot;], [Attribute: xml:lang=&quot;en&quot;]]&gt;\r\n```\r\n","title":"JUnit ~ Assert that list contains objects with the same values in any order","body":"<p>My use case is that I am writing a document parser (for ReqIF documents) and want to compare that the parsed object contains the expected elements. For this, I want to write a JUnit Test.</p>\n\n<p>Effectively, what I am looking for is an assertion method that compares two lists of objects with values and passes when both lists contain (in any order) objects that have the same values as the reference list.</p>\n\n<p>To abstract that, consider this example:</p>\n\n<pre><code>Apple referenceApple1 = new Apple(color=\"red\");\nApple referenceApple2 = new Apple(color=\"green\");\nApple parsedApple1 = new Apple(color=\"red\");\nApple parsedApple2 = new Apple(color=\"green\");\nApple badApple = new Apple(color=\"brown\");\n\nList&lt;Apple&gt; referenceList = new List&lt;Apple&gt;(referenceApple1, referenceApple2);\nList&lt;Apple&gt; correctlyParsedList1 = new List&lt;Apple&gt;(parsedApple1, parsedApple2);\nList&lt;Apple&gt; correctlyParsedList2 = new List&lt;Apple&gt;(parsedApple2, parsedApple1);\nList&lt;Apple&gt; wronglyParsedList1 = new List&lt;Apple&gt;(parsedApple1, badApple);\nList&lt;Apple&gt; wronglyParsedList2 = new List&lt;Apple&gt;(parsedApple1, parsedApple2, parsedApple1);\nList&lt;Apple&gt; wronglyParsedList3 = new List&lt;Apple&gt;(parsedApple2, parsedApple2);\n</code></pre>\n\n<p>I am looking for an assertion method that passes when comparing any of the above <code>correctlyParsedList*</code> with the <code>referenceList</code>, but fails when comparing any of the above <code>wronglyParsedList*</code> with the <code>referenceList</code>.</p>\n\n<p>Currently, the closest I've gotten to is this:</p>\n\n<pre><code>assertEquals(referenceList.toString(), correctlyParsedList1.toString())\n</code></pre>\n\n<p>However, that will fail as soon as the objects are in another order.</p>\n\n<pre><code>//Will fail, but I want a method that will compare these and pass\nassertEquals(referenceList.toString(), correctlyParsedList2.toString())\n</code></pre>\n\n<p>Notably, the following will also fail since the Apples, while containing the same values, are not instances of the same object:</p>\n\n<pre><code>assertThat(correctlyParsedList1, is(referenceList));\n\n//Throws This error:\njava.lang.AssertionError: \nExpected: is &lt;[[color=\"red\"], [color=\"green\"]]&gt;\n     but: was &lt;[[color=\"red\"], [color=\"green\"]]&gt;\n</code></pre>\n\n<p>Is there a simple way to make such an assertion in JUnit? I know I could write a custom assertion method for this iterating over the objects, but somehow it feels like this would be a common use case that should have a pre-defined assertion method that throws expressive assertion errors.</p>\n\n<hr>\n\n<p>EDIT ~ CONCRETIZATION</p>\n\n<p>What I am actually trying to do with this abstract example is to parse a complex XML using JDOM2, and I want to assert that the attributes of a tag being parsed equal those that exist in the sample document I give as an input. Since this is XML, the order of the attributes is irrelevant, as long as they have the correct values.</p>\n\n<p>So effectively, what I am comparing in this practical use case is two <code>List&lt;Attribute&gt;</code>, with <code>Attribute</code> coming from <code>org.jdom2.Attribute</code>.</p>\n\n<p>The complete makeshift testcase with which I am currently unhappy because it will fail if the order of attributes changes but should not is as follows:</p>\n\n<pre><code>    @Test\n    public void importXML_fromFileShouldCreateXML_objectWithCorrectAttributes() throws JDOMException, IOException {\n        testInitialization();\n        List&lt;Attribute&gt; expectedAttributes = rootNode.getAttributes();\n\n        XML_data generatedXML_data = xml_importer.importXML_fromFile(inputFile);\n        List&lt;Attribute&gt; actualAttributes = generatedXML_data.attributes;\n\n        assertEquals(expectedAttributes.toString(), actualAttributes.toString());\n    }\n</code></pre>\n\n<p>The concrete error I get when trying to make that assertion with <code>assertThat(expectedAttributes, is(actualAttributes))</code> is:</p>\n\n<pre><code>java.lang.AssertionError: \nExpected: is &lt;[[Attribute: xsi:schemaLocation=\"http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd\"], [Attribute: xml:lang=\"en\"]]&gt;\n    but: was &lt;[[Attribute: xsi:schemaLocation=\"http://www.omg.org/spec/ReqIF/20110401/reqif.xsd http://www.omg.org/spec/ReqIF/20110401/reqif.xsd\"], [Attribute: xml:lang=\"en\"]]&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","google-api-java-client","gcp-secret-manager"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687185321,"creation_date":1687185321,"answer_id":76507637,"question_id":76503393,"body_markdown":"I suspect you are having some dependency conflicts here and mismatching versions of Beam / GAX.\r\n\r\nHow are you bringing matching versions of dependencies?\r\n\r\nThe easiest way that I am aware is using the BOM provided by Beam: https://cloud.google.com/dataflow/docs/guides/common-errors#java-dependency-errors\r\n\r\n","title":"java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true while getting gcp secret manager","body":"<p>I suspect you are having some dependency conflicts here and mismatching versions of Beam / GAX.</p>\n<p>How are you bringing matching versions of dependencies?</p>\n<p>The easiest way that I am aware is using the BOM provided by Beam: <a href=\"https://cloud.google.com/dataflow/docs/guides/common-errors#java-dependency-errors\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/common-errors#java-dependency-errors</a></p>\n"}],"owner":{"account_id":4845165,"reputation":1,"user_id":3908981,"display_name":"Chan Myae Aung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687195837,"creation_date":1687144231,"question_id":76503393,"body_markdown":"I tried to use with dependency version google-cloud-secretmanager 2.13.0. is there anyone can help with this? Here is util class to get secret manager value.\r\n\r\n```java\r\n\r\npublic String get(String secretName) {\r\n\ttry (SecretManagerServiceClient client = SecretManagerServiceClient.create()) {\r\n\t\tSecretVersionName secretVersionName = SecretVersionName.of(projectId, secretName, &quot;latest&quot;);\r\n\r\n\t\tAccessSecretVersionRequest accessRequest = AccessSecretVersionRequest.newBuilder().setName(secretVersionName.toString()).build();\r\n\r\n\t\tByteString secretValue = client.accessSecretVersion(accessRequest).getPayload().getData();\r\n\r\n\t\tString secretString = secretValue.toStringUtf8();\r\n\r\n\t\tif (StringUtils.isNotBlank(secretString)) {\r\n\t\t\treturn secretString;\r\n\t\t} else {\r\n\t\t\tthrow new RuntimeException(String.format(&quot;Secret of %s is blank&quot;, secretName));\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new RuntimeException(&quot;Caught an error when getting a secret value.&quot;, e);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Caught an error when getting a secret value.\r\n\tat com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:30)\r\n\tat com.rakuten.rcp.cdu.FeedToGsp.run(FeedToGsp.java:107)\r\n\tat com.rakuten.rcp.cdu.FeedToGsp.main(FeedToGsp.java:101)\r\nCaused by: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:180)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\r\n\tat com.google.cloud.secretmanager.v1.stub.GrpcSecretManagerServiceStub.create(GrpcSecretManagerServiceStub.java:248)\r\n\tat com.google.cloud.secretmanager.v1.stub.SecretManagerServiceStubSettings.createStub(SecretManagerServiceStubSettings.java:349)\r\n\tat com.google.cloud.secretmanager.v1.SecretManagerServiceClient.&lt;init&gt;(SecretManagerServiceClient.java:180)\r\n\tat com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:162)\r\n\tat com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:153)\r\n\tat com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:15)\r\n\t... 2 more```\r\n```","title":"java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true while getting gcp secret manager","body":"<p>I tried to use with dependency version google-cloud-secretmanager 2.13.0. is there anyone can help with this? Here is util class to get secret manager value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic String get(String secretName) {\n    try (SecretManagerServiceClient client = SecretManagerServiceClient.create()) {\n        SecretVersionName secretVersionName = SecretVersionName.of(projectId, secretName, &quot;latest&quot;);\n\n        AccessSecretVersionRequest accessRequest = AccessSecretVersionRequest.newBuilder().setName(secretVersionName.toString()).build();\n\n        ByteString secretValue = client.accessSecretVersion(accessRequest).getPayload().getData();\n\n        String secretString = secretValue.toStringUtf8();\n\n        if (StringUtils.isNotBlank(secretString)) {\n            return secretString;\n        } else {\n            throw new RuntimeException(String.format(&quot;Secret of %s is blank&quot;, secretName));\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Caught an error when getting a secret value.&quot;, e);\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Caught an error when getting a secret value.\n    at com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:30)\n    at com.rakuten.rcp.cdu.FeedToGsp.run(FeedToGsp.java:107)\n    at com.rakuten.rcp.cdu.FeedToGsp.main(FeedToGsp.java:101)\nCaused by: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:180)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\n    at com.google.cloud.secretmanager.v1.stub.GrpcSecretManagerServiceStub.create(GrpcSecretManagerServiceStub.java:248)\n    at com.google.cloud.secretmanager.v1.stub.SecretManagerServiceStubSettings.createStub(SecretManagerServiceStubSettings.java:349)\n    at com.google.cloud.secretmanager.v1.SecretManagerServiceClient.&lt;init&gt;(SecretManagerServiceClient.java:180)\n    at com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:162)\n    at com.google.cloud.secretmanager.v1.SecretManagerServiceClient.create(SecretManagerServiceClient.java:153)\n    at com.rakuten.rcp.cdu.util.SecretManager.get(SecretManager.java:15)\n    ... 2 more```\n</code></pre>\n"},{"tags":["java","android","sockets","video-streaming"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1686962538,"post_id":76491040,"comment_id":134875302,"body_markdown":"This little snippet missing critical information making it hard to diagnose what&#39;s going on. The first thing I&#39;d like to know is the value of `serverHeader`, and also why it&#39;s called `serverHeader` if this is a client HTTP request.","body":"This little snippet missing critical information making it hard to diagnose what&#39;s going on. The first thing I&#39;d like to know is the value of <code>serverHeader</code>, and also why it&#39;s called <code>serverHeader</code> if this is a client HTTP request."},{"owner":{"account_id":5560772,"reputation":621,"user_id":4410132,"display_name":"PunK _l_ RuLz"},"score":0,"creation_date":1687230684,"post_id":76491040,"comment_id":134903950,"body_markdown":"Hello @PresidentJamesK.Polk any suggestion?","body":"Hello @PresidentJamesK.Polk any suggestion?"}],"owner":{"account_id":5560772,"reputation":621,"user_id":4410132,"display_name":"PunK _l_ RuLz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687195575,"creation_date":1686924880,"question_id":76491040,"body_markdown":"I am trying to open a socket connection to a specific address using a class which extends Thread. The overridden run method code is\r\n\r\n```java\r\nprivate String headerForGetConnection() {\r\n\treturn String.format(\r\n            &quot;GET %s HTTP/1.0\\r\\nUser-Agent: %s\\r\\nx-sessioncookie: %s\\r\\nAccept: application/x-rtsp-tunnelled\\r\\nPragma: no-cache\\r\\nCache-Control: no-cache\\r\\n\\r\\n&quot;, \r\n            addressAttributes(), this.USER_AGENT, this.session_cookie\r\n    );\r\n}\r\n\r\nprivate String addressAttributes() {\r\n\treturn &quot;/img/video.sav?MAC=&quot; + this.camera.getDevice().getMac() + &quot;&amp;GUID=&quot; + &quot;GUID value&quot;;\r\n}\r\n\r\n@Override\r\npublic void run() {\r\n\tsuper.run();\r\n\r\n\tint count = 0;\r\n\r\n\tint MAX_CONNECTION_TRY = 3;\r\n\twhile (count &lt; MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\r\n\r\n\t\tTCLog.d(TAG, &quot;counting value &quot; + count);\r\n\t\tcount++;\r\n\t\tsocket = null;\r\n\t\tbufferedInputStream = null;\r\n\t\tprintWriter = null;\r\n\r\n\t\ttry {\r\n\t\t\tTCLog.d(TAG, &quot;media serverAddress &quot; + serverAddress + &quot; serverPort == &quot; + serverPort);\r\n\r\n\t\t\tSocketFactory socketFactory = SSLSocketFactory.getDefault();\r\n\t\t\tsocket = socketFactory.createSocket(serverAddress, serverPort);\r\n\t\t\tTCLog.d(TAG, &quot;Media server socket value after connecting to address and port == &quot; + socket);\r\n\t\t\tif (null == bufferedInputStream) {\r\n\t\t\t\tbufferedInputStream = new BufferedInputStream(socket.getInputStream());\r\n\t\t\t}\r\n\r\n\t\t} catch(UnknownHostException e) {\r\n\t\t\tTCLog.d(TAG, &quot;value UnknownHostException&quot; + e.getMessage());\r\n\t\t\thandleError(e.getMessage());\r\n\t\t} catch(IOException e) {\r\n\t\t\tTCLog.d(TAG, &quot;value IOException &quot; + e.getMessage());\r\n\t\t\thandleError(e.getMessage());\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tprintWriter = new PrintWriter(socket.getOutputStream());\r\n\t\t\tprintWriter.println(serverHeader);\r\n\t\t\tprintWriter.flush();\r\n\t\t\tisFirstMessage = true;\r\n\t\t} catch(IOException e) {\r\n\t\t\tTCLog.d(TAG, &quot;value IOException while writing &quot; + e.getMessage());\r\n\t\t\thandleError(e.getMessage());\r\n\t\t}\r\n\r\n\t\twhile (!shouldCloseConnection) {\r\n\t\t\ttry {\r\n\t\t\t\tString dataToSend = null;\r\n\t\t\t\tbyte[] readingData = new byte[BUFFER_SIZE];\r\n\t\t\t\tint read;\r\n\t\t\t\tbyte[] data = null;\r\n\t\t\t\tif ((read = bufferedInputStream.read(readingData)) != -1) {\r\n\t\t\t\t\tTCLog.d(TAG, &quot;OTHER read value &quot; + read);\r\n\t\t\t\t\tdata = Arrays.copyOfRange(readingData, 0, read);\r\n\t\t\t\t\tdataToSend = new String(data);\r\n\t\t\t\t}\r\n\t\t\t\tif (null != dataToSend) {\r\n\t\t\t\t\tTCLog.d(TAG, &quot;message from server &quot; + dataToSend);\r\n\t\t\t\t\tif (isFirstMessage) {\r\n\r\n\t\t\t\t\t\tif (!dataToSend.contains(&quot;200 OK&quot;)) {\r\n\r\n\t\t\t\t\t\t\tif (dataToSend.contains(&quot;303&quot;)) {\r\n\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;when there is redirect&quot;);\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;splitting string value&quot;);\r\n\r\n\t\t\t\t\t\t\t\tString[] videos = dataToSend.split(&quot;https://&quot;);\r\n\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;values 1 &quot; + videos[0]);\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;value 2 &quot; + videos[1]);\r\n\r\n\t\t\t\t\t\t\t\tString redirectUrl = videos[1];\r\n\r\n\t\t\t\t\t\t\t\tvideos = redirectUrl.split(&quot;:&quot;);\r\n\r\n\t\t\t\t\t\t\t\tredirectUrl = videos[0];\r\n\r\n\t\t\t\t\t\t\t\tTCLog.d(TAG, &quot;redirect URL is &quot; + redirectUrl);\r\n\r\n\t\t\t\t\t\t\t\tisRedirectUrl = true;\r\n\r\n\t\t\t\t\t\t\t\tthis.serverAddress = redirectUrl;\r\n\t\t\t\t\t\t\t\tReflector.address = this.serverAddress;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t} else if (dataToSend.contains(&quot;HTTP/1.0 4&quot;)) {\r\n\t\t\t\t\t\t\t\tisRedirectUrl = false;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.isFirstMessage = false;\r\n\t\t\t\t\t\t\tif (null != listener) {\r\n\t\t\t\t\t\t\t\tthis.listener.getConnectionConnectedSuccessfully();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (null != listener) {\r\n\t\t\t\t\t\t\tlistener.getConnectionRawData(data, dataToSend.trim());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch(IOException e) {\r\n\t\t\t\tTCLog.d(TAG, &quot;value IOException while reading &quot; + e.getMessage());\r\n\t\t\t\thandleError(e.getMessage());\r\n\t\t\t} finally {\r\n\t\t\t\tTCLog.d(TAG, &quot;inside finally block&quot;);\r\n\t\t\t\tif (isFirstMessage &amp;&amp; !isRedirectUrl) {\r\n\t\t\t\t\thandleError(&quot;Unable to play video&quot;);\r\n\r\n\t\t\t\t\tif (null != printWriter) {\r\n\t\t\t\t\t\tprintWriter.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tTCLog.d(TAG, &quot;inside finally try block. Closing connections&quot;);\r\n\t\t\t\t\t\tif (null != bufferedInputStream) {\r\n\t\t\t\t\t\t\tbufferedInputStream.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (null != socket &amp;&amp; socket.isConnected()) {\r\n\t\t\t\t\t\t\tsocket.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(IOException e) {\r\n\t\t\t\t\t\tTCLog.d(TAG, &quot;error while closing streams &quot; + e.getMessage());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!isRedirectUrl) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tif (count &gt;= MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\r\n\t\thandleError(&quot;Unable to establish connection&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThe first log (media server address) gets printed, but the 2nd log does not and my socket connection goes into limbo. No code after trying to create a socket gets executed. It is not a consistent behaviour, at-times the socket connection is successful.\r\n\r\nIf the socket connection is successful, there is a certain GET command/call that we are supposed to make. \r\nI tried to make the GET call as an API call/REST call and every time I got a reply from the server even if there is a delay of about 10-12 seconds which makes me believe that it is not a server config issue (I might be wrong). Any insight or any suggestion on how to proceed forward?","title":"Unable to open socket","body":"<p>I am trying to open a socket connection to a specific address using a class which extends Thread. The overridden run method code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String headerForGetConnection() {\n    return String.format(\n            &quot;GET %s HTTP/1.0\\r\\nUser-Agent: %s\\r\\nx-sessioncookie: %s\\r\\nAccept: application/x-rtsp-tunnelled\\r\\nPragma: no-cache\\r\\nCache-Control: no-cache\\r\\n\\r\\n&quot;, \n            addressAttributes(), this.USER_AGENT, this.session_cookie\n    );\n}\n\nprivate String addressAttributes() {\n    return &quot;/img/video.sav?MAC=&quot; + this.camera.getDevice().getMac() + &quot;&amp;GUID=&quot; + &quot;GUID value&quot;;\n}\n\n@Override\npublic void run() {\n    super.run();\n\n    int count = 0;\n\n    int MAX_CONNECTION_TRY = 3;\n    while (count &lt; MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\n\n        TCLog.d(TAG, &quot;counting value &quot; + count);\n        count++;\n        socket = null;\n        bufferedInputStream = null;\n        printWriter = null;\n\n        try {\n            TCLog.d(TAG, &quot;media serverAddress &quot; + serverAddress + &quot; serverPort == &quot; + serverPort);\n\n            SocketFactory socketFactory = SSLSocketFactory.getDefault();\n            socket = socketFactory.createSocket(serverAddress, serverPort);\n            TCLog.d(TAG, &quot;Media server socket value after connecting to address and port == &quot; + socket);\n            if (null == bufferedInputStream) {\n                bufferedInputStream = new BufferedInputStream(socket.getInputStream());\n            }\n\n        } catch(UnknownHostException e) {\n            TCLog.d(TAG, &quot;value UnknownHostException&quot; + e.getMessage());\n            handleError(e.getMessage());\n        } catch(IOException e) {\n            TCLog.d(TAG, &quot;value IOException &quot; + e.getMessage());\n            handleError(e.getMessage());\n        }\n\n        try {\n            printWriter = new PrintWriter(socket.getOutputStream());\n            printWriter.println(serverHeader);\n            printWriter.flush();\n            isFirstMessage = true;\n        } catch(IOException e) {\n            TCLog.d(TAG, &quot;value IOException while writing &quot; + e.getMessage());\n            handleError(e.getMessage());\n        }\n\n        while (!shouldCloseConnection) {\n            try {\n                String dataToSend = null;\n                byte[] readingData = new byte[BUFFER_SIZE];\n                int read;\n                byte[] data = null;\n                if ((read = bufferedInputStream.read(readingData)) != -1) {\n                    TCLog.d(TAG, &quot;OTHER read value &quot; + read);\n                    data = Arrays.copyOfRange(readingData, 0, read);\n                    dataToSend = new String(data);\n                }\n                if (null != dataToSend) {\n                    TCLog.d(TAG, &quot;message from server &quot; + dataToSend);\n                    if (isFirstMessage) {\n\n                        if (!dataToSend.contains(&quot;200 OK&quot;)) {\n\n                            if (dataToSend.contains(&quot;303&quot;)) {\n\n                                TCLog.d(TAG, &quot;when there is redirect&quot;);\n                                TCLog.d(TAG, &quot;splitting string value&quot;);\n\n                                String[] videos = dataToSend.split(&quot;https://&quot;);\n\n                                TCLog.d(TAG, &quot;values 1 &quot; + videos[0]);\n                                TCLog.d(TAG, &quot;value 2 &quot; + videos[1]);\n\n                                String redirectUrl = videos[1];\n\n                                videos = redirectUrl.split(&quot;:&quot;);\n\n                                redirectUrl = videos[0];\n\n                                TCLog.d(TAG, &quot;redirect URL is &quot; + redirectUrl);\n\n                                isRedirectUrl = true;\n\n                                this.serverAddress = redirectUrl;\n                                Reflector.address = this.serverAddress;\n                                break;\n                            } else if (dataToSend.contains(&quot;HTTP/1.0 4&quot;)) {\n                                isRedirectUrl = false;\n                                break;\n                            }\n                        } else {\n                            this.isFirstMessage = false;\n                            if (null != listener) {\n                                this.listener.getConnectionConnectedSuccessfully();\n                            }\n                        }\n                    }\n                    else {\n                        if (null != listener) {\n                            listener.getConnectionRawData(data, dataToSend.trim());\n                        }\n                    }\n                }\n            } catch(IOException e) {\n                TCLog.d(TAG, &quot;value IOException while reading &quot; + e.getMessage());\n                handleError(e.getMessage());\n            } finally {\n                TCLog.d(TAG, &quot;inside finally block&quot;);\n                if (isFirstMessage &amp;&amp; !isRedirectUrl) {\n                    handleError(&quot;Unable to play video&quot;);\n\n                    if (null != printWriter) {\n                        printWriter.close();\n                    }\n                    try {\n                        TCLog.d(TAG, &quot;inside finally try block. Closing connections&quot;);\n                        if (null != bufferedInputStream) {\n                            bufferedInputStream.close();\n                        }\n                        if (null != socket &amp;&amp; socket.isConnected()) {\n                            socket.close();\n                        }\n                    } catch(IOException e) {\n                        TCLog.d(TAG, &quot;error while closing streams &quot; + e.getMessage());\n                    }\n                }\n            }\n        }\n        if (!isRedirectUrl) {\n            break;\n        }\n    }\n    if (count &gt;= MAX_CONNECTION_TRY &amp;&amp; !shouldCloseConnection) {\n        handleError(&quot;Unable to establish connection&quot;);\n    }\n}\n</code></pre>\n<p>The first log (media server address) gets printed, but the 2nd log does not and my socket connection goes into limbo. No code after trying to create a socket gets executed. It is not a consistent behaviour, at-times the socket connection is successful.</p>\n<p>If the socket connection is successful, there is a certain GET command/call that we are supposed to make.\nI tried to make the GET call as an API call/REST call and every time I got a reply from the server even if there is a delay of about 10-12 seconds which makes me believe that it is not a server config issue (I might be wrong). Any insight or any suggestion on how to proceed forward?</p>\n"},{"tags":["java","jpos","iso8583-1993"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687195440,"creation_date":1687195440,"answer_id":76508850,"question_id":76507638,"body_markdown":"If you don&#39;t want that trailer, you need to use another channel.\r\n\r\n`PostChannel` or `NACChannel` do essentially the same, but doesn&#39;t send the trailer.\r\n\r\n```java\r\n   ...\r\n   PostChannel c = new PostChannel(&quot;localhost&quot;, 5000,packager);\r\n   c.setHeader(&quot;ISO008000099&quot;.getBytes(ISOUtil.ENCODING));\r\n   ...\r\n```\r\n\r\nYou have to set the header as bytes also, because the string `setHeader` overload expects a hex representation.","title":"How to disable the BASE24TCPChannel channel the last character that is placed in the iso message","body":"<p>If you don't want that trailer, you need to use another channel.</p>\n<p><code>PostChannel</code> or <code>NACChannel</code> do essentially the same, but doesn't send the trailer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   ...\n   PostChannel c = new PostChannel(&quot;localhost&quot;, 5000,packager);\n   c.setHeader(&quot;ISO008000099&quot;.getBytes(ISOUtil.ENCODING));\n   ...\n</code></pre>\n<p>You have to set the header as bytes also, because the string <code>setHeader</code> overload expects a hex representation.</p>\n"}],"owner":{"account_id":28799262,"reputation":21,"user_id":22056639,"display_name":"Raul Roa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687195440,"creation_date":1687185322,"question_id":76507638,"body_markdown":"Good morning, I am new to jpos, the problem I have is I am sending a message with a header, but when sending it, it always adds a character at the end 03 in hexadecimal.\r\n\r\ncode of how I send it\r\n\r\n\r\n\r\n\r\n\r\n\r\ncode of how I send it\r\n\r\n```\r\n   // Create Packager based on XML that contain DE type\r\n   GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\r\n\r\n   // Crea una instancia de la clase BASE24TCPChannel\r\n   BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\r\n   c.setHeader(&quot;ISO008000099&quot;);\r\n       \r\n   // Create ISO Message\r\n   ISOMsg isoMsg = new ISOMsg();\t\t\r\n   isoMsg.setPackager(packager);\r\n \r\n   isoMsg.setMTI(&quot;0800&quot;);\r\n   isoMsg.set(7, &quot;1088110140&quot;);\r\n   isoMsg.set(11, &quot;087478&quot;);\r\n   isoMsg.set(70, &quot;999&quot;);\r\n\r\n   c.connect();\r\n   c.send(isoMsg);\r\n\r\n```\r\n\r\nThis is what send sends, I capture this using netcat nc -l -p 5000 | xxd\r\n\r\n\r\n\r\n```\r\n00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\r\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\r\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\r\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\r\n00000040: 3738 3939 3903                           78999.\r\n```\r\n\r\n&quot;03&quot; always arrives at the end of each message, how do I disable it so that it is not sent? \r\n`00000040: 3738 3939 39**03**                           78999**.**`","title":"How to disable the BASE24TCPChannel channel the last character that is placed in the iso message","body":"<p>Good morning, I am new to jpos, the problem I have is I am sending a message with a header, but when sending it, it always adds a character at the end 03 in hexadecimal.</p>\n<p>code of how I send it</p>\n<p>code of how I send it</p>\n<pre><code>   // Create Packager based on XML that contain DE type\n   GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\n\n   // Crea una instancia de la clase BASE24TCPChannel\n   BASE24TCPChannel c = new BASE24TCPChannel(&quot;localhost&quot;, 5000,packager);\n   c.setHeader(&quot;ISO008000099&quot;);\n       \n   // Create ISO Message\n   ISOMsg isoMsg = new ISOMsg();        \n   isoMsg.setPackager(packager);\n \n   isoMsg.setMTI(&quot;0800&quot;);\n   isoMsg.set(7, &quot;1088110140&quot;);\n   isoMsg.set(11, &quot;087478&quot;);\n   isoMsg.set(70, &quot;999&quot;);\n\n   c.connect();\n   c.send(isoMsg);\n\n</code></pre>\n<p>This is what send sends, I capture this using netcat nc -l -p 5000 | xxd</p>\n<pre><code>00000000: 0044 4953 4f30 3038 3030 3030 3939 3038  .DISO00800009908\n00000010: 3030 3832 3230 3030 3030 3030 3030 3030  0082200000000000\n00000020: 3030 3034 3030 3030 3030 3030 3030 3030  0004000000000000\n00000030: 3030 3130 3838 3131 3031 3430 3038 3734  0010881101400874\n00000040: 3738 3939 3903                           78999.\n</code></pre>\n<p>&quot;03&quot; always arrives at the end of each message, how do I disable it so that it is not sent?\n<code>00000040: 3738 3939 39**03**                           78999**.**</code></p>\n"},{"tags":["java","json","jsonschema"],"comments":[{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1621541775,"post_id":67626506,"comment_id":119534984,"body_markdown":"Do you have control over the JSON instance structure, or are you receiving it from a 3rd party and just want to validate it?","body":"Do you have control over the JSON instance structure, or are you receiving it from a 3rd party and just want to validate it?"},{"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"score":0,"creation_date":1621876021,"post_id":67626506,"comment_id":119620739,"body_markdown":"It&#39;s complicated. There are multiple variations of the structure, and so the idea is based on the tenant select the appropriate schemas and validate against each one for each sub-set of fields.","body":"It&#39;s complicated. There are multiple variations of the structure, and so the idea is based on the tenant select the appropriate schemas and validate against each one for each sub-set of fields."},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1621974437,"post_id":67626506,"comment_id":119655467,"body_markdown":"I would honestly stop trying to have both the string and the number in the enum and just enforce one or the other.","body":"I would honestly stop trying to have both the string and the number in the enum and just enforce one or the other."}],"answers":[{"comments":[{"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"score":0,"creation_date":1622130264,"post_id":67626781,"comment_id":119708625,"body_markdown":"As much as I wish i could fix the underlying error message, this is probably the best answer.","body":"As much as I wish i could fix the underlying error message, this is probably the best answer."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1621546695,"creation_date":1621538569,"answer_id":67626781,"question_id":67626506,"body_markdown":"It was news to me, but [according to the spec](https://json-schema.org/draft/2020-12/json-schema-validation.html) it does seem that objects are valid enum values. That said, your usage is quite unusual. I&#39;ve not seen it used before. \r\n\r\n&gt; the six primitive types (&quot;null&quot;, &quot;boolean&quot;, &quot;object&quot;, &quot;array&quot;, &quot;number&quot;, or &quot;string&quot;)\r\n&gt; ...\r\n&gt;\r\n&gt; **6.1.2. enum**\r\n&gt; ...\r\n&gt; \r\n&gt; Elements in the array might be of **any type**, including null.\r\n\r\n\r\nYour problem is fundamentally that the library that you&#39;re using doesn&#39;t know how to convert those objects to printable strings. Even if it did give it a reasonable go, you might end up with \r\n\r\n```\r\ndoes not have a value in the enumeration [{&quot;code&quot;: &quot;1&quot;, &quot;value&quot;:&quot;MEMBER&quot;}, {&quot;code&quot;: &quot;2&quot; ...\r\n```\r\n\r\nwhich might be okay, but it&#39;s hardly amazing. If the code and value were both valid but didn&#39;t match, you might have to look quite closely at the list before you ever saw the problem.\r\n\r\nJSON Schema in general is not very good at enforcing constraints between what it considers to be 2 unrelated fields. That&#39;s beyond the scope of it what it aims to do. It&#39;s trying to validate the structure. Dependencies between fields are business constraints, not structural ones.\r\n\r\nI think the best thing you could do to achieve readable error messages would be to have 2 sub-properties, each with an enumeration containing 8 values; one for the codes, one for the values.\r\n\r\nThen you&#39;ll get \r\n\r\n    $.part.relationship.code does not have a value in the enumeration [1,2,3,4 ...\r\n\r\nor\r\n\r\n    $.part.relationship.value does not have a value in the enumeration [&quot;MEMBER&quot;, &quot;SPOUSE&quot;, ...\r\n\r\nYou can do some additional business validation on top of the schema validation if enforcing that constraint is important to you. Then generate your own error such as\r\n\r\n    code &quot;1&quot; does not match value &quot;SPOUSE&quot;\r\n","title":"JSON Schema - Enum of Objects","body":"<p>It was news to me, but <a href=\"https://json-schema.org/draft/2020-12/json-schema-validation.html\" rel=\"nofollow noreferrer\">according to the spec</a> it does seem that objects are valid enum values. That said, your usage is quite unusual. I've not seen it used before.</p>\n<blockquote>\n<p>the six primitive types (&quot;null&quot;, &quot;boolean&quot;, &quot;object&quot;, &quot;array&quot;, &quot;number&quot;, or &quot;string&quot;)\n...</p>\n<p><strong>6.1.2. enum</strong>\n...</p>\n<p>Elements in the array might be of <strong>any type</strong>, including null.</p>\n</blockquote>\n<p>Your problem is fundamentally that the library that you're using doesn't know how to convert those objects to printable strings. Even if it did give it a reasonable go, you might end up with</p>\n<pre><code>does not have a value in the enumeration [{&quot;code&quot;: &quot;1&quot;, &quot;value&quot;:&quot;MEMBER&quot;}, {&quot;code&quot;: &quot;2&quot; ...\n</code></pre>\n<p>which might be okay, but it's hardly amazing. If the code and value were both valid but didn't match, you might have to look quite closely at the list before you ever saw the problem.</p>\n<p>JSON Schema in general is not very good at enforcing constraints between what it considers to be 2 unrelated fields. That's beyond the scope of it what it aims to do. It's trying to validate the structure. Dependencies between fields are business constraints, not structural ones.</p>\n<p>I think the best thing you could do to achieve readable error messages would be to have 2 sub-properties, each with an enumeration containing 8 values; one for the codes, one for the values.</p>\n<p>Then you'll get</p>\n<pre><code>$.part.relationship.code does not have a value in the enumeration [1,2,3,4 ...\n</code></pre>\n<p>or</p>\n<pre><code>$.part.relationship.value does not have a value in the enumeration [&quot;MEMBER&quot;, &quot;SPOUSE&quot;, ...\n</code></pre>\n<p>You can do some additional business validation on top of the schema validation if enforcing that constraint is important to you. Then generate your own error such as</p>\n<pre><code>code &quot;1&quot; does not match value &quot;SPOUSE&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"score":0,"creation_date":1622130235,"post_id":67696851,"comment_id":119708613,"body_markdown":"The goal is to use JSON Schema to do all the validation rather than convert into POJOs. That is why I want the schema to validate the values relative to each other.","body":"The goal is to use JSON Schema to do all the validation rather than convert into POJOs. That is why I want the schema to validate the values relative to each other."},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1622144004,"post_id":67696851,"comment_id":119714472,"body_markdown":"Do what you want, but my point is that encoding both values goes against established architectural practices. By encoding one, you don&#39;t HAVE to validate that they match because you _infer_ the other, meaning that you assume the value you get is correct, and you know what the map is, so you can easily get the other value.  It means that you don&#39;t validate two values; you only validate one: either the string is in a predefined set, or the number is within a specified range.","body":"Do what you want, but my point is that encoding both values goes against established architectural practices. By encoding one, you don&#39;t HAVE to validate that they match because you <i>infer</i> the other, meaning that you assume the value you get is correct, and you know what the map is, so you can easily get the other value.  It means that you don&#39;t validate two values; you only validate one: either the string is in a predefined set, or the number is within a specified range."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1622389900,"post_id":67696851,"comment_id":119774194,"body_markdown":"Agree. But sometimes you might be consuming data from a service whose schema you either don&#39;t control or maybe doesn&#39;t even exist. In that case, you still might want to use a schema (in the latter case, reverse engineered) to perform your validation. Normalisation should be the first thing you try, but if it&#39;s not possible then OP&#39;s example still has use-cases","body":"Agree. But sometimes you might be consuming data from a service whose schema you either don&#39;t control or maybe doesn&#39;t even exist. In that case, you still might want to use a schema (in the latter case, reverse engineered) to perform your validation. Normalisation should be the first thing you try, but if it&#39;s not possible then OP&#39;s example still has use-cases"},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1622404474,"post_id":67696851,"comment_id":119778129,"body_markdown":"In that case, determine with the client (or just decide) which you want to use as source of truth.  In my experience, relying on data to be right like this causes problems.  Otherwise, you&#39;ll need to just have the schema as you have it, and work within the limitations of the library to configure the error messaging.","body":"In that case, determine with the client (or just decide) which you want to use as source of truth.  In my experience, relying on data to be right like this causes problems.  Otherwise, you&#39;ll need to just have the schema as you have it, and work within the limitations of the library to configure the error messaging."}],"tags":[],"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621986127,"creation_date":1621986127,"answer_id":67696851,"question_id":67626506,"body_markdown":"If `code` and `value` always have the same values relative to each other, why encode both in the JSON?  Just encode a single value in the JSON and infer the other in the application.\r\n\r\nThis will be much easier to validate.","title":"JSON Schema - Enum of Objects","body":"<p>If <code>code</code> and <code>value</code> always have the same values relative to each other, why encode both in the JSON?  Just encode a single value in the JSON and infer the other in the application.</p>\n<p>This will be much easier to validate.</p>\n"},{"tags":[],"owner":{"account_id":15217507,"reputation":435,"user_id":10980429,"display_name":"Charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687195347,"creation_date":1687195347,"answer_id":76508833,"question_id":67626506,"body_markdown":"I think what you&#39;re actually looking for is the &quot;anyOf&quot; keyword, where you can create a union of constant objects for a property.\r\n\r\nSomething like this:\r\n\r\n```json\r\n{\r\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\r\n  &quot;title&quot;: &quot;Part&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;relationship&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;anyOf&quot;: [\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;1&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;MEMBER&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;2&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;SPOUSE&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;3&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;CHILD&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;4&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;STUDENT&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;5&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;DISABILITY_DEPENDENT&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;6&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;ADULT_DEPENDENT&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        },\r\n        {\r\n          &quot;properties&quot;: {\r\n            &quot;code&quot;: { &quot;const&quot;: &quot;8&quot; },\r\n            &quot;value&quot;: { &quot;const&quot;: &quot;DOMESTIC_PARTNER&quot; }\r\n          },\r\n          &quot;additionalProperties&quot;: false\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  &quot;required&quot;: [&quot;relationship&quot;]\r\n}\r\n```","title":"JSON Schema - Enum of Objects","body":"<p>I think what you're actually looking for is the &quot;anyOf&quot; keyword, where you can create a union of constant objects for a property.</p>\n<p>Something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\n  &quot;title&quot;: &quot;Part&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;relationship&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;anyOf&quot;: [\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;1&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;MEMBER&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;2&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;SPOUSE&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;3&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;CHILD&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;4&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;STUDENT&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;5&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;DISABILITY_DEPENDENT&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;6&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;ADULT_DEPENDENT&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        },\n        {\n          &quot;properties&quot;: {\n            &quot;code&quot;: { &quot;const&quot;: &quot;8&quot; },\n            &quot;value&quot;: { &quot;const&quot;: &quot;DOMESTIC_PARTNER&quot; }\n          },\n          &quot;additionalProperties&quot;: false\n        }\n      ]\n    }\n  },\n  &quot;required&quot;: [&quot;relationship&quot;]\n}\n</code></pre>\n"}],"owner":{"account_id":2562129,"reputation":5879,"user_id":2223059,"accept_rate":38,"display_name":"craigmiller160"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67626781,"answer_count":3,"score":1,"last_activity_date":1687195347,"creation_date":1621537121,"question_id":67626506,"body_markdown":"I&#39;m new to JSON schema. My goal is to have a JSON property that is an object. It&#39;s keys relate to each other, meaning multiple keys always have the same values together. This will probably help make it clear, it&#39;s my attempt to do this with an enum:\r\n\r\n    {\r\n      &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\r\n      &quot;title&quot;: &quot;Part&quot;,\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;relationship&quot;: {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;enum&quot;: [\r\n            {\r\n              &quot;code&quot;: &quot;1&quot;,\r\n              &quot;value&quot;: &quot;MEMBER&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;2&quot;,\r\n              &quot;value&quot;: &quot;SPOUSE&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;3&quot;,\r\n              &quot;value&quot;: &quot;CHILD&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;4&quot;,\r\n              &quot;value&quot;: &quot;STUDENT&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;5&quot;,\r\n              &quot;value&quot;: &quot;DISABILITY_DEPENDENT&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;6&quot;,\r\n              &quot;value&quot;: &quot;ADULT_DEPENDENT&quot;\r\n            },\r\n            {\r\n              &quot;code&quot;: &quot;8&quot;,\r\n              &quot;value&quot;: &quot;DOMESTIC_PARTNER&quot;\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nSo using an enum like this works, even though I can&#39;t find it anywhere in the JSON Schema spec. However, the error message sucks. Normally I get the most extremely detailed error messages from schema validation, however in this case I do not. \r\n\r\n    $.part.relationship: does not have a value in the enumeration [, , , , , , ]\r\n\r\nI&#39;m not sure what I&#39;m doing wrong. I&#39;m using a Java parser for JSON Schema:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.networknt&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.53&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNot sure if the error message is the fault of the parser or something I&#39;m doing bad with the schema.\r\n","title":"JSON Schema - Enum of Objects","body":"<p>I'm new to JSON schema. My goal is to have a JSON property that is an object. It's keys relate to each other, meaning multiple keys always have the same values together. This will probably help make it clear, it's my attempt to do this with an enum:</p>\n<pre><code>{\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\n  &quot;title&quot;: &quot;Part&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;relationship&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;enum&quot;: [\n        {\n          &quot;code&quot;: &quot;1&quot;,\n          &quot;value&quot;: &quot;MEMBER&quot;\n        },\n        {\n          &quot;code&quot;: &quot;2&quot;,\n          &quot;value&quot;: &quot;SPOUSE&quot;\n        },\n        {\n          &quot;code&quot;: &quot;3&quot;,\n          &quot;value&quot;: &quot;CHILD&quot;\n        },\n        {\n          &quot;code&quot;: &quot;4&quot;,\n          &quot;value&quot;: &quot;STUDENT&quot;\n        },\n        {\n          &quot;code&quot;: &quot;5&quot;,\n          &quot;value&quot;: &quot;DISABILITY_DEPENDENT&quot;\n        },\n        {\n          &quot;code&quot;: &quot;6&quot;,\n          &quot;value&quot;: &quot;ADULT_DEPENDENT&quot;\n        },\n        {\n          &quot;code&quot;: &quot;8&quot;,\n          &quot;value&quot;: &quot;DOMESTIC_PARTNER&quot;\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>So using an enum like this works, even though I can't find it anywhere in the JSON Schema spec. However, the error message sucks. Normally I get the most extremely detailed error messages from schema validation, however in this case I do not.</p>\n<pre><code>$.part.relationship: does not have a value in the enumeration [, , , , , , ]\n</code></pre>\n<p>I'm not sure what I'm doing wrong. I'm using a Java parser for JSON Schema:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.networknt&lt;/groupId&gt;\n    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n    &lt;version&gt;1.0.53&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Not sure if the error message is the fault of the parser or something I'm doing bad with the schema.</p>\n"},{"tags":["java","maven","selenium-webdriver","jenkins","automation"],"comments":[{"owner":{"account_id":26209493,"reputation":1,"user_id":19888596,"display_name":"Derrick Kuwa"},"score":0,"creation_date":1688481476,"post_id":76508798,"comment_id":135078317,"body_markdown":"Guys I finally found the problem. It wasn&#39;t a Jenkins issue but a selenium issue. The website is mobile/tablet adaptation and sometimes Selenium webdriver opens the web app in Mobile view, not yet sure why but perhaps because the PC is old. To fix this I added a Chrome/Edge Option - option.addArguments(&quot;--force-device-scale-factor=1&quot;); That argument forces the browser to always run tests in the PC&#39;s true resolution (its like a resolution lock) so not matter what webdriver doesn&#39;t glitch and sometimes open browser in a resolution that triggers mobile view","body":"Guys I finally found the problem. It wasn&#39;t a Jenkins issue but a selenium issue. The website is mobile/tablet adaptation and sometimes Selenium webdriver opens the web app in Mobile view, not yet sure why but perhaps because the PC is old. To fix this I added a Chrome/Edge Option - option.addArguments(&quot;--force-device-scale-factor=1&quot;); That argument forces the browser to always run tests in the PC&#39;s true resolution (its like a resolution lock) so not matter what webdriver doesn&#39;t glitch and sometimes open browser in a resolution that triggers mobile view"}],"owner":{"account_id":26209493,"reputation":1,"user_id":19888596,"display_name":"Derrick Kuwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687195236,"creation_date":1687195031,"question_id":76508798,"body_markdown":"Web elements that are of svg format (calendar icon) aren&#39;t rendered at all when tests are triggered by Jenkins. The same elements are displayed all the time if I check the same site on any browser manually, via local test on Intelij Idea or via CMD maven tests (mvn -clean test). \r\n\r\nI do use waits and wait.until() and at times Thread.sleep() for at least 1 minute for the calendar icon to get displayed but again via jenkins, tests always fails due to NoSuchElementException since elements aren&#39;t rendered at all. I have tried looking for answers on as many forums I have seen but still can&#39;t find the solution \r\n\r\n \r\n[Here&#39;s how the Graph looks on the webpage during jenkins triggered tests:](https://i.stack.imgur.com/xK2EX.png) \r\n\r\n[Same graph when I manually check the site any time or run via localised tests (intellij and cmd):](https://i.stack.imgur.com/JDaqp.png)\r\n\r\n[Here&#39;s how the calendar button looks on the webpage during jenkins triggered tests: ](https://i.stack.imgur.com/BORNG.png)\r\n\r\n[Same calendar button when I manually check the site any time or run via localised tests (intellij and cmd):](https://i.stack.imgur.com/mgpUK.png)\r\n\r\nAnother important thing to note, this only happens on our work computer. It runs on Windows 8.1 and Chrome &amp; Edge version 109\r\n[Chrome version](https://i.stack.imgur.com/zTe1h.png)\r\n[Edge version](https://i.stack.imgur.com/6wMo0.png)\r\n\r\nOn my personal machine jenkins or not I don&#39;t experience this problem. \r\nWhat could be the problem? Its been months without finding a solution and will be beoyond grateful if someone knows what could be the solution. Thanks\r\n\r\nSelenium Automation Testing of a webapp. Tests are triggered periodically via Jenkins CI/CD platform","title":"Some web elements are not renderred At All on when running selenium automated tests triggered by Jenkins for a webapp","body":"<p>Web elements that are of svg format (calendar icon) aren't rendered at all when tests are triggered by Jenkins. The same elements are displayed all the time if I check the same site on any browser manually, via local test on Intelij Idea or via CMD maven tests (mvn -clean test).</p>\n<p>I do use waits and wait.until() and at times Thread.sleep() for at least 1 minute for the calendar icon to get displayed but again via jenkins, tests always fails due to NoSuchElementException since elements aren't rendered at all. I have tried looking for answers on as many forums I have seen but still can't find the solution</p>\n<p><a href=\"https://i.stack.imgur.com/xK2EX.png\" rel=\"nofollow noreferrer\">Here's how the Graph looks on the webpage during jenkins triggered tests:</a></p>\n<p><a href=\"https://i.stack.imgur.com/JDaqp.png\" rel=\"nofollow noreferrer\">Same graph when I manually check the site any time or run via localised tests (intellij and cmd):</a></p>\n<p><a href=\"https://i.stack.imgur.com/BORNG.png\" rel=\"nofollow noreferrer\">Here's how the calendar button looks on the webpage during jenkins triggered tests: </a></p>\n<p><a href=\"https://i.stack.imgur.com/mgpUK.png\" rel=\"nofollow noreferrer\">Same calendar button when I manually check the site any time or run via localised tests (intellij and cmd):</a></p>\n<p>Another important thing to note, this only happens on our work computer. It runs on Windows 8.1 and Chrome &amp; Edge version 109\n<a href=\"https://i.stack.imgur.com/zTe1h.png\" rel=\"nofollow noreferrer\">Chrome version</a>\n<a href=\"https://i.stack.imgur.com/6wMo0.png\" rel=\"nofollow noreferrer\">Edge version</a></p>\n<p>On my personal machine jenkins or not I don't experience this problem.\nWhat could be the problem? Its been months without finding a solution and will be beoyond grateful if someone knows what could be the solution. Thanks</p>\n<p>Selenium Automation Testing of a webapp. Tests are triggered periodically via Jenkins CI/CD platform</p>\n"},{"tags":["java","string","increment"],"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1392996110,"post_id":21938228,"comment_id":33232836,"body_markdown":"Do you mean `String current_version = &quot;v2&quot;` (with quotes)?","body":"Do you mean <code>String current_version = &quot;v2&quot;</code> (with quotes)?"}],"answers":[{"comments":[{"owner":{"display_name":"user2467545"},"score":0,"creation_date":1392996098,"post_id":21938251,"comment_id":33232824,"body_markdown":"That&#39;s one way. I am not storing this v2 in my code base, this string `v2` I am getting as it is from some method.. So I need to increment it by 1.","body":"That&#39;s one way. I am not storing this v2 in my code base, this string <code>v2</code> I am getting as it is from some method.. So I need to increment it by 1."},{"owner":{"account_id":16120,"reputation":1,"user_id":34806,"accept_rate":92,"display_name":"Dexygen"},"score":0,"creation_date":1392996107,"post_id":21938251,"comment_id":33232833,"body_markdown":"Does not answer the question and should be a comment","body":"Does not answer the question and should be a comment"},{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1392996157,"post_id":21938251,"comment_id":33232863,"body_markdown":"Do you always know what is the format of your string? Does it always be vXXX ?","body":"Do you always know what is the format of your string? Does it always be vXXX ?"},{"owner":{"display_name":"user2467545"},"score":0,"creation_date":1392996232,"post_id":21938251,"comment_id":33232904,"body_markdown":"Yes it will always be vXXXXXX.","body":"Yes it will always be vXXXXXX."}],"tags":[],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392996416,"creation_date":1392996047,"answer_id":21938251,"question_id":21938228,"body_markdown":"Why you don&#39;t store the version as an int and add the char &#39;v&#39; when displaying the version?\r\nIf you wish to do it with a String, you can make a substring of the initial one, parse it to int and after that add to&#39;v&#39; the result. \r\n\r\n     currentVersion = &quot;v&quot; + (Integer.parseInt(currentVersion .substring(1)) + 1);","title":"How to increment the number in a String by 1?","body":"<p>Why you don't store the version as an int and add the char 'v' when displaying the version?\nIf you wish to do it with a String, you can make a substring of the initial one, parse it to int and after that add to'v' the result. </p>\n\n<pre><code> currentVersion = \"v\" + (Integer.parseInt(currentVersion .substring(1)) + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446125,"reputation":8787,"user_id":838976,"display_name":"Martin Dinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1392996159,"creation_date":1392996159,"answer_id":21938288,"question_id":21938228,"body_markdown":"If you want to parse the number after the v as an int and increment it by 1, just do so by substringing, adding 1 to the number and concatenating the resulting incremented number back into a string with &quot;v&quot; prepended:\r\n\r\n\t\tString version = &quot;v1&quot;;\r\n\t\tString newVersion = &quot;v&quot; + (Integer.parseInt(version.substring(1,version.length()))+1);\r\n\t\tSystem.out.println(newVersion);\r\n\r\nAlternatively, you could keep track of the current version in an `int`, increment that and construct your new `String` by appending that int to a &quot;v&quot;, without having to call `substring()`.","title":"How to increment the number in a String by 1?","body":"<p>If you want to parse the number after the v as an int and increment it by 1, just do so by substringing, adding 1 to the number and concatenating the resulting incremented number back into a string with \"v\" prepended:</p>\n\n<pre><code>    String version = \"v1\";\n    String newVersion = \"v\" + (Integer.parseInt(version.substring(1,version.length()))+1);\n    System.out.println(newVersion);\n</code></pre>\n\n<p>Alternatively, you could keep track of the current version in an <code>int</code>, increment that and construct your new <code>String</code> by appending that int to a \"v\", without having to call <code>substring()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4048672,"reputation":1239,"user_id":3329080,"display_name":"exception1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392996248,"creation_date":1392996248,"answer_id":21938327,"question_id":21938228,"body_markdown":"try\r\n\r\n    int version = Integer.parseInt(current_version.replace(&quot;v&quot;, &quot;&quot;));\r\n\r\nthen you can increment it and add a get `&quot;v&quot; + current_version`","title":"How to increment the number in a String by 1?","body":"<p>try</p>\n\n<pre><code>int version = Integer.parseInt(current_version.replace(\"v\", \"\"));\n</code></pre>\n\n<p>then you can increment it and add a get <code>\"v\" + current_version</code></p>\n"},{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1392996278,"creation_date":1392996278,"answer_id":21938342,"question_id":21938228,"body_markdown":"I will suggest you to store the version in an int. so the codes will be following\r\n\r\n    int versionNumber = 1;\r\n\r\nwhenever you want to increment just increment it using\r\n\r\n    versionNumber++;\r\n\r\nand to print or store as a complete version do following\r\n\r\n    String version = &quot;v&quot; + versionNumber;","title":"How to increment the number in a String by 1?","body":"<p>I will suggest you to store the version in an int. so the codes will be following</p>\n\n<pre><code>int versionNumber = 1;\n</code></pre>\n\n<p>whenever you want to increment just increment it using</p>\n\n<pre><code>versionNumber++;\n</code></pre>\n\n<p>and to print or store as a complete version do following</p>\n\n<pre><code>String version = \"v\" + versionNumber;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392996621,"creation_date":1392996621,"answer_id":21938479,"question_id":21938228,"body_markdown":"If your format ever changes, this allows for a bit more flexibility:\r\n\r\n    String version = &quot;v1234&quot;;\r\n    System.out.println(&quot;v&quot; + (Integer.parseInt(version.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)) + 1));\r\n\r\nUse a regex to drop all non-digits, add one to the result.","title":"How to increment the number in a String by 1?","body":"<p>If your format ever changes, this allows for a bit more flexibility:</p>\n\n<pre><code>String version = \"v1234\";\nSystem.out.println(\"v\" + (Integer.parseInt(version.replaceAll(\"[^0-9]\", \"\")) + 1));\n</code></pre>\n\n<p>Use a regex to drop all non-digits, add one to the result.</p>\n"},{"tags":[],"owner":{"account_id":3648548,"reputation":2986,"user_id":3041229,"display_name":"ValerioMC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392999354,"creation_date":1392999354,"answer_id":21939537,"question_id":21938228,"body_markdown":"        String oldVersion = &quot;v100&quot;;\r\n        String[] splitString = oldVersion.split(&quot;v&quot;);\r\n        int newVersion = Integer.valueOf(splitString[1])+1;\r\n        String completeNewVersion = splitString[0] + newVersion;\r\n        System.out.print(completeNewVersion);","title":"How to increment the number in a String by 1?","body":"<pre><code>    String oldVersion = \"v100\";\n    String[] splitString = oldVersion.split(\"v\");\n    int newVersion = Integer.valueOf(splitString[1])+1;\n    String completeNewVersion = splitString[0] + newVersion;\n    System.out.print(completeNewVersion);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11874526,"reputation":41,"user_id":8689891,"display_name":"B. Delbart"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510302755,"creation_date":1510302755,"answer_id":47218549,"question_id":21938228,"body_markdown":"If you want another solution you can use this :\r\n\r\n    uint8_t versionNumber = 1;\r\n    char version[40];\r\n    sprintf(version,&quot;v %d&quot;,versionNumber);\r\n\r\nAnd you increment your variable &quot;versionNumber&quot; whenever you want !","title":"How to increment the number in a String by 1?","body":"<p>If you want another solution you can use this :</p>\n\n<pre><code>uint8_t versionNumber = 1;\nchar version[40];\nsprintf(version,\"v %d\",versionNumber);\n</code></pre>\n\n<p>And you increment your variable \"versionNumber\" whenever you want !</p>\n"},{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687195093,"creation_date":1687195093,"answer_id":76508807,"question_id":21938228,"body_markdown":"This method is a bit more complex, but it is able to handle any kind of version-string. The *currentVersion* might already have a number defined, or it might be implicitly 1, major and minor version numbers can be present, only the last one is incremented.\r\n\r\nThe string is searched from the end until the first non-digit character is found. The *versionNumber* is computed as an integer and finally increased.\r\n\r\nThen the *newVersion* is created. If the incremented versionNumber is 1, it means that the original String did not end in a number. In this case the versioning is started with *_v2*\r\n\r\n    String currentVersion = &quot;test_v123.432&quot;;\r\n\tint versionNumber = 0;\r\n\tint power = 1;\r\n\tint index = currentVersion.length()-1;\r\n\twhile (index &gt; 0) { // get the last chars as long as they are digits\r\n\t\tchar digit = currentVersion.charAt(index);\r\n\t\tif ((digit &gt;= &#39;0&#39;) &amp;&amp; (digit &lt;= &#39;9&#39;)) {\r\n\t\t\tversionNumber += (digit -&#39;0&#39;) * power;\r\n\t\t\tpower = power * 10;\r\n\t\t\tindex --;\r\n\t\t} else {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tversionNumber ++;\r\n\tString newVersion = currentVersion.substring(0, index+1) + ((versionNumber == 1)? &quot;_v2&quot;: versionNumber);","title":"How to increment the number in a String by 1?","body":"<p>This method is a bit more complex, but it is able to handle any kind of version-string. The <em>currentVersion</em> might already have a number defined, or it might be implicitly 1, major and minor version numbers can be present, only the last one is incremented.</p>\n<p>The string is searched from the end until the first non-digit character is found. The <em>versionNumber</em> is computed as an integer and finally increased.</p>\n<p>Then the <em>newVersion</em> is created. If the incremented versionNumber is 1, it means that the original String did not end in a number. In this case the versioning is started with <em>_v2</em></p>\n<pre><code>String currentVersion = &quot;test_v123.432&quot;;\nint versionNumber = 0;\nint power = 1;\nint index = currentVersion.length()-1;\nwhile (index &gt; 0) { // get the last chars as long as they are digits\n    char digit = currentVersion.charAt(index);\n    if ((digit &gt;= '0') &amp;&amp; (digit &lt;= '9')) {\n        versionNumber += (digit -'0') * power;\n        power = power * 10;\n        index --;\n    } else {\n        break;\n    }\n}\nversionNumber ++;\nString newVersion = currentVersion.substring(0, index+1) + ((versionNumber == 1)? &quot;_v2&quot;: versionNumber);\n</code></pre>\n"}],"owner":{"display_name":"user2467545"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87604,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":21938288,"answer_count":8,"score":16,"last_activity_date":1687195093,"creation_date":1392995987,"question_id":21938228,"body_markdown":"I have a below String as -\r\n\r\n\tString current_version = &quot;v2&quot;;\r\n\r\nAnd here version can be either of these string as well - `v3` or `v4` or `v10` or `v100` or `v500` or `v1000`\r\n\t\r\nNow I am looking to increment the current_version from `v2` to `v3`. Meaning I always need to increment the current_version by 1.\r\n\r\nIf current_version is `v5`, then I will increment it to `v6`.\r\n\r\nHow can I do this with a String?\r\n\r\nNOTE:- \r\n\r\nI am getting `current_version` string value from some method which will always return me like this v2, v3, v4 only..","title":"How to increment the number in a String by 1?","body":"<p>I have a below String as -</p>\n\n<pre><code>String current_version = \"v2\";\n</code></pre>\n\n<p>And here version can be either of these string as well - <code>v3</code> or <code>v4</code> or <code>v10</code> or <code>v100</code> or <code>v500</code> or <code>v1000</code></p>\n\n<p>Now I am looking to increment the current_version from <code>v2</code> to <code>v3</code>. Meaning I always need to increment the current_version by 1.</p>\n\n<p>If current_version is <code>v5</code>, then I will increment it to <code>v6</code>.</p>\n\n<p>How can I do this with a String?</p>\n\n<p>NOTE:- </p>\n\n<p>I am getting <code>current_version</code> string value from some method which will always return me like this v2, v3, v4 only..</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687189356,"creation_date":1687189356,"answer_id":76508174,"question_id":76508103,"body_markdown":"Try the below XPath expression:\r\n\r\n````\r\n//b[text()=&#39;Last Manual Run&#39;]//following::div[1]\r\n````\r\n\r\nExample code:\r\n````\r\nString text = driver.findElement(By.xpath(&quot;//b[text()=&#39;Last Manual Run&#39;]//following::div[1]&quot;)).getText();\r\nSystem.out.println(text);\r\n````\r\n\r\nOutput:\r\n````\r\n19/06/2023 11:45\r\n````","title":"Unable to get attribute text from &quot;list-item-value ng-binding&quot; class - Selenium Webdriver","body":"<p>Try the below XPath expression:</p>\n<pre><code>//b[text()='Last Manual Run']//following::div[1]\n</code></pre>\n<p>Example code:</p>\n<pre><code>String text = driver.findElement(By.xpath(&quot;//b[text()='Last Manual Run']//following::div[1]&quot;)).getText();\nSystem.out.println(text);\n</code></pre>\n<p>Output:</p>\n<pre><code>19/06/2023 11:45\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687194776,"creation_date":1687194776,"answer_id":76508775,"question_id":76508103,"body_markdown":"Given the HTML:\r\n\r\n\t&lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\r\n\t    &lt;ul class=&quot;list-group&quot;&gt;\r\n\t\t...\r\n\t\t...\r\n\t\t...\r\n\t\t&lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.modifiedDate&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\r\n\t\t    &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\r\n\t\t&lt;/li&gt;\r\n\t\t&lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.lastManualRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\r\n\t\t    &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\r\n\t\t&lt;/li&gt;\r\n\t\t&lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.errorText&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\r\n\t\t    &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\r\n\t\t&lt;/li&gt;\r\n\t    &lt;/ul&gt;\r\n\t&lt;/div&gt;\r\n\t\r\nThe desired `&lt;div&gt;` tag is the sibling of the `&lt;b&gt;` tag containing the text _**Last Manual Run**_ and is an [Angular](https://stackoverflow.com/a/73241154/7429447) element.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo extract the text _**19/06/2023 11:45**_ ideally you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _xpath_ and _following_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., &#39;Last Manual Run&#39;)]//following::div[1]&quot;))).getText());\r\n           \t\r\n- Using _xpath_ and _following-sibling_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., &#39;Last Manual Run&#39;)]//following-sibling::div[1]&quot;))).getAttribute(&quot;innerHTML&quot;));","title":"Unable to get attribute text from &quot;list-item-value ng-binding&quot; class - Selenium Webdriver","body":"<p>Given the HTML:</p>\n<pre><code>&lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\n    &lt;ul class=&quot;list-group&quot;&gt;\n    ...\n    ...\n    ...\n    &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.modifiedDate'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\n        &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.lastManualRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\n        &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.errorText'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\n        &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The desired <code>&lt;div&gt;</code> tag is the sibling of the <code>&lt;b&gt;</code> tag containing the text <em><strong>Last Manual Run</strong></em> and is an <a href=\"https://stackoverflow.com/a/73241154/7429447\">Angular</a> element.</p>\n<hr />\n<h2>Solution</h2>\n<p>To extract the text <em><strong>19/06/2023 11:45</strong></em> ideally you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <em>following</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., 'Last Manual Run')]//following::div[1]&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <em>following-sibling</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//b[contains(., 'Last Manual Run')]//following-sibling::div[1]&quot;))).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":28718060,"reputation":3,"user_id":21992282,"display_name":"Anthony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76508174,"answer_count":2,"score":0,"last_activity_date":1687194776,"creation_date":1687188708,"question_id":76508103,"body_markdown":"I have a Selenium script where I am trying to get the &quot;list-item-value ng-binding&quot; class from the Last Manual Run from the following:\r\n\r\n      &lt;div class=&quot;krn-modal-window&quot;&gt;\r\n    &lt;!-- ngIf: popupContentOptions.headerCancelButton.showButton --&gt;&lt;button ng-disabled=&quot;popupContentOptions.headerCancelButton.action.disabled&quot; class=&quot;jqx-window-close-button jqx-window-close-button-bluefin jqx-icon-close jqx-icon-close-bluefin ng-scope&quot; ng-click=&quot;handleAction(popupContentOptions.headerCancelButton.action.clickHandlerName, popupContentOptions.headerCancelButton.action.actionName);&quot; ng-if=&quot;popupContentOptions.headerCancelButton.showButton&quot; autofocus=&quot;&quot;&gt;&lt;/button&gt;\r\n    &lt;!-- end ngIf: popupContentOptions.headerCancelButton.showButton --&gt;\r\n    &lt;!-- ngIf: popupContentOptions.showHeader --&gt;\r\n    &lt;div class=&quot;modal-window__header ng-scope&quot; ng-if=&quot;popupContentOptions.showHeader&quot;&gt;\r\n        &lt;h4 ng-show=&quot;popupContentOptions.title.text&quot; ng-bind=&quot;popupContentOptions.title.text | i18n&quot; title=&quot;[undefined]&quot; class=&quot;ng-binding ng-hide&quot;&gt;[undefined]&lt;/h4&gt;\r\n        &lt;h4 ng-show=&quot;popupContentOptions.title.localizedText&quot; ng-bind=&quot;popupContentOptions.title.localizedText&quot; title=&quot;Shift Builder&quot; class=&quot;ng-binding&quot;&gt;Shift Builder&lt;/h4&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- end ngIf: popupContentOptions.showHeader --&gt;\r\n    &lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\r\n        &lt;ul class=&quot;list-group&quot;&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.jobId&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Job ID&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.jobId&quot; class=&quot;list-item-value ng-binding&quot;&gt;209&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.lastRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last run&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.lastRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.nextRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Next run&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.nextRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;25/06/2023 1:27&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.modifiedBy&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified By&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.modifiedBy&quot; class=&quot;list-item-value ng-binding&quot;&gt;Updater for 209&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.modifiedDate&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.lastManualRun&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\r\n            &lt;/li&gt;\r\n            &lt;li&gt;&lt;b ng-bind=&quot;::&#39;html.eventManager.properties.errorText&#39;| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\r\n                &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\r\n            &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\nI&#39;ve tried to use the list and loop through to list the values but it doesn&#39;t seem to like finding the elements within the &lt;li&gt; tags.  \r\n\r\nAny ideas as I&#39;ve not really got much experience dealing with these types of tables?","title":"Unable to get attribute text from &quot;list-item-value ng-binding&quot; class - Selenium Webdriver","body":"<p>I have a Selenium script where I am trying to get the &quot;list-item-value ng-binding&quot; class from the Last Manual Run from the following:</p>\n<pre><code>  &lt;div class=&quot;krn-modal-window&quot;&gt;\n&lt;!-- ngIf: popupContentOptions.headerCancelButton.showButton --&gt;&lt;button ng-disabled=&quot;popupContentOptions.headerCancelButton.action.disabled&quot; class=&quot;jqx-window-close-button jqx-window-close-button-bluefin jqx-icon-close jqx-icon-close-bluefin ng-scope&quot; ng-click=&quot;handleAction(popupContentOptions.headerCancelButton.action.clickHandlerName, popupContentOptions.headerCancelButton.action.actionName);&quot; ng-if=&quot;popupContentOptions.headerCancelButton.showButton&quot; autofocus=&quot;&quot;&gt;&lt;/button&gt;\n&lt;!-- end ngIf: popupContentOptions.headerCancelButton.showButton --&gt;\n&lt;!-- ngIf: popupContentOptions.showHeader --&gt;\n&lt;div class=&quot;modal-window__header ng-scope&quot; ng-if=&quot;popupContentOptions.showHeader&quot;&gt;\n    &lt;h4 ng-show=&quot;popupContentOptions.title.text&quot; ng-bind=&quot;popupContentOptions.title.text | i18n&quot; title=&quot;[undefined]&quot; class=&quot;ng-binding ng-hide&quot;&gt;[undefined]&lt;/h4&gt;\n    &lt;h4 ng-show=&quot;popupContentOptions.title.localizedText&quot; ng-bind=&quot;popupContentOptions.title.localizedText&quot; title=&quot;Shift Builder&quot; class=&quot;ng-binding&quot;&gt;Shift Builder&lt;/h4&gt;\n&lt;/div&gt;\n&lt;!-- end ngIf: popupContentOptions.showHeader --&gt;\n&lt;div class=&quot;modal-window__body ng-scope&quot;&gt;\n    &lt;ul class=&quot;list-group&quot;&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.jobId'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Job ID&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.jobId&quot; class=&quot;list-item-value ng-binding&quot;&gt;209&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.lastRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last run&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.lastRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.nextRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Next run&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.nextRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;25/06/2023 1:27&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.modifiedBy'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified By&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.modifiedBy&quot; class=&quot;list-item-value ng-binding&quot;&gt;Updater for 209&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.modifiedDate'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Modified Date&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.modifiedDate&quot; class=&quot;list-item-value ng-binding&quot;&gt;15/03/2010 12:35&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.lastManualRun'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Last Manual Run&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.lastManualRun&quot; class=&quot;list-item-value ng-binding&quot;&gt;19/06/2023 11:45&lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;&lt;b ng-bind=&quot;::'html.eventManager.properties.errorText'| i18n&quot; class=&quot;list-item-label ng-binding&quot;&gt;Error text&lt;/b&gt;:\n            &lt;div ng-bind=&quot;::modal.properties.errorText&quot; class=&quot;list-item-value ng-binding&quot;&gt;&lt;/div&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I've tried to use the list and loop through to list the values but it doesn't seem to like finding the elements within the <li> tags.</p>\n<p>Any ideas as I've not really got much experience dealing with these types of tables?</p>\n"},{"tags":["java","spring","multithreading","email"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687157397,"post_id":76496124,"comment_id":134892040,"body_markdown":"If you are doing `mailSender.getSession` you are doing it wrong. Use `MailSender.send`. You are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the mailsender.send method. I would suggest using the `send` method that allows multiple `MimeMessagePreparator` instances, which handles all this for you.","body":"If you are doing <code>mailSender.getSession</code> you are doing it wrong. Use <code>MailSender.send</code>. You are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the mailsender.send method. I would suggest using the <code>send</code> method that allows multiple <code>MimeMessagePreparator</code> instances, which handles all this for you."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1687189215,"post_id":76496124,"comment_id":134898650,"body_markdown":"I did exactly like that. If you want, place this comment as an answer, I&#39;ll accept it. Thank you M. Deinum for looking into this question.","body":"I did exactly like that. If you want, place this comment as an answer, I&#39;ll accept it. Thank you M. Deinum for looking into this question."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687194048,"creation_date":1687194048,"answer_id":76508696,"question_id":76496124,"body_markdown":"If you are doing `mailSender.getSession` you are doing it wrong. The whole idea of the `JavaMailSender` is to abstract away the handling of the mail session and the whole Java Mail API. \r\n\r\nUse `MailSender.send` as you are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the `mailsender.send` method. \r\n\r\nI would suggest using the send [method that allows multiple][1] `MimeMessagePreparator` instances, which handles all this for you.\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSender.html#send(org.springframework.mail.javamail.MimeMessagePreparator...)\r\n","title":"Using JavaMailSenderImpl from multiple threads and having reconnection mechanism?","body":"<p>If you are doing <code>mailSender.getSession</code> you are doing it wrong. The whole idea of the <code>JavaMailSender</code> is to abstract away the handling of the mail session and the whole Java Mail API.</p>\n<p>Use <code>MailSender.send</code> as you are already connected to the host, no need to reconnect again. What you are hacking into your code is already being done by the <code>mailsender.send</code> method.</p>\n<p>I would suggest using the send <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSender.html#send(org.springframework.mail.javamail.MimeMessagePreparator...)\" rel=\"nofollow noreferrer\">method that allows multiple</a> <code>MimeMessagePreparator</code> instances, which handles all this for you.</p>\n"}],"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76508696,"answer_count":1,"score":0,"last_activity_date":1687194048,"creation_date":1687003926,"question_id":76496124,"body_markdown":"We are using [JavaMailSenderImpl][1] to send thousands of emails per day. Previously, we instantiated JavaMailSenderImpl with a private method to send each email rather than using it as a bean. Recently, I moved it to be used as a bean, and we will have several since we have multiple mail hosts.\r\n\r\nMy question is how to properly check for Session/Transport and reconnect before sending a batch of emails and what the optimal approach would be if JavaMailSenderImpl session got disconnected in the middle of batch processing, given that multiple threads will be used.\r\n\r\nHere is the code:\r\n\r\n```java\r\n@Bean(&quot;myMailSender&quot;)\r\npublic JavaMailSender myMailSender(){\r\n   JavaMailSenderImpl javaMailSender = new JavaMailSenderImpl();\r\n   javaMailSender.setHost(host);\r\n   javaMailSender.setPort(port);\r\n   javaMailSender.setUsername(sername);\r\n   javaMailSender.setPassword(password);\r\n   return javaMailSender;\r\n}\r\n\r\nThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(10, new NamedThreadFactory(&quot;ParallelEmail-&quot;));\r\n\r\ntry {\r\n   Session session = mailSender.getSession();\r\n   if (session.getTransport() == null || !session.getTransport().isConnected()) {\r\n       Transport t = null;\r\n       try {\r\n           t = session.getTransport();\r\n           t.connect(mailSender.getHost(), mailSender.getPort(), mailSender.getUsername(), mailSender.getPassword());\r\n       } catch (MessagingException e){\r\n           log.error(&quot;There was an error when re-connecting to mailhost &quot; + mailSender.getHost());\r\n       }\r\n   }\r\n} catch (NoSuchProviderException e1){\r\n   log.error(&quot;There was an error when fetching an existing session for mailhost &quot; + mailSender.getHost());\r\n}\r\n\r\nfor (Email msg: getFromDb()) {\r\n   executorService.execute(\r\n           () -&gt; {\r\n               MimeMessagePreparator messagePreparator = getMsgPrep(msg);\r\n               try{\r\n                   mailSender.send(messagePreparator);\r\n               } catch (MailException exception){\r\n                   log.error(exception.getMessage());\r\n                   //Reattempt for second time?\r\n                   //I don’t want all threads to start reconnecting, just the first one which gets to this line.\r\n               }\r\n           }\r\n   );\r\n}\r\n```\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSenderImpl.html","title":"Using JavaMailSenderImpl from multiple threads and having reconnection mechanism?","body":"<p>We are using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/JavaMailSenderImpl.html\" rel=\"nofollow noreferrer\">JavaMailSenderImpl</a> to send thousands of emails per day. Previously, we instantiated JavaMailSenderImpl with a private method to send each email rather than using it as a bean. Recently, I moved it to be used as a bean, and we will have several since we have multiple mail hosts.</p>\n<p>My question is how to properly check for Session/Transport and reconnect before sending a batch of emails and what the optimal approach would be if JavaMailSenderImpl session got disconnected in the middle of batch processing, given that multiple threads will be used.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;myMailSender&quot;)\npublic JavaMailSender myMailSender(){\n   JavaMailSenderImpl javaMailSender = new JavaMailSenderImpl();\n   javaMailSender.setHost(host);\n   javaMailSender.setPort(port);\n   javaMailSender.setUsername(sername);\n   javaMailSender.setPassword(password);\n   return javaMailSender;\n}\n\nThreadPoolExecutor executorService = (ThreadPoolExecutor) Executors.newFixedThreadPool(10, new NamedThreadFactory(&quot;ParallelEmail-&quot;));\n\ntry {\n   Session session = mailSender.getSession();\n   if (session.getTransport() == null || !session.getTransport().isConnected()) {\n       Transport t = null;\n       try {\n           t = session.getTransport();\n           t.connect(mailSender.getHost(), mailSender.getPort(), mailSender.getUsername(), mailSender.getPassword());\n       } catch (MessagingException e){\n           log.error(&quot;There was an error when re-connecting to mailhost &quot; + mailSender.getHost());\n       }\n   }\n} catch (NoSuchProviderException e1){\n   log.error(&quot;There was an error when fetching an existing session for mailhost &quot; + mailSender.getHost());\n}\n\nfor (Email msg: getFromDb()) {\n   executorService.execute(\n           () -&gt; {\n               MimeMessagePreparator messagePreparator = getMsgPrep(msg);\n               try{\n                   mailSender.send(messagePreparator);\n               } catch (MailException exception){\n                   log.error(exception.getMessage());\n                   //Reattempt for second time?\n                   //I don’t want all threads to start reconnecting, just the first one which gets to this line.\n               }\n           }\n   );\n}\n</code></pre>\n"},{"tags":["java","spring","multithreading","hibernate","duplicates"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1595234578,"post_id":62991609,"comment_id":111392912,"body_markdown":"You should make your service idempotent. This means you should be able to handle that records are already created.","body":"You should make your service idempotent. This means you should be able to handle that records are already created."},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595234997,"post_id":62991609,"comment_id":111393126,"body_markdown":"@Simon Martinelli, but how? Is there any best practices?","body":"@Simon Martinelli, but how? Is there any best practices?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1595235380,"post_id":62991609,"comment_id":111393321,"body_markdown":"No this depends on your requirements. What is SingleRecord? Can it be identified by I unique identifier? Then you could use Merge instead of Insert","body":"No this depends on your requirements. What is SingleRecord? Can it be identified by I unique identifier? Then you could use Merge instead of Insert"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595236215,"post_id":62991609,"comment_id":111393745,"body_markdown":"Yes, It has one unique identifier. It is surrogate key and they are all null in users request. How Spring find out that objects with empty id are one object? For merge work we need composite key consisting of all fields.","body":"Yes, It has one unique identifier. It is surrogate key and they are all null in users request. How Spring find out that objects with empty id are one object? For merge work we need composite key consisting of all fields."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595236278,"post_id":62991609,"comment_id":111393782,"body_markdown":"Sounds like an XY Problem, why not simply disable the button when it is first pressed?","body":"Sounds like an XY Problem, why not simply disable the button when it is first pressed?"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595236671,"post_id":62991609,"comment_id":111393973,"body_markdown":"@Lino - fine solution, but I want solve it by java","body":"@Lino - fine solution, but I want solve it by java"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595236919,"post_id":62991609,"comment_id":111394100,"body_markdown":"@VadimPilipenko Could you please share the class definition with all relevant fields of `SingleRecord` and if possible the input JSON? It would make understanding your problem a lot easier","body":"@VadimPilipenko Could you please share the class definition with all relevant fields of <code>SingleRecord</code> and if possible the input JSON? It would make understanding your problem a lot easier"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595237702,"post_id":62991609,"comment_id":111394493,"body_markdown":"@Lino, sorry, can&#39;t show you all logic, only rough description. SingleRecord has simple structure, like - \nclass SingleRecord  {\nInteger id; \nString content;}","body":"@Lino, sorry, can&#39;t show you all logic, only rough description. SingleRecord has simple structure, like -  class SingleRecord  { Integer id;  String content;}"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595237915,"post_id":62991609,"comment_id":111394601,"body_markdown":"@Lino, real problem is that I java app doesn&#39;t distinguish duplicated requests from same user. Maybe I should look inside transaction?","body":"@Lino, real problem is that I java app doesn&#39;t distinguish duplicated requests from same user. Maybe I should look inside transaction?"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595237922,"post_id":62991609,"comment_id":111394604,"body_markdown":"@VadimPilipenko providing a [mre] is the best option for you if you want to get your problem solved, it doesn&#39;t require you to provide company specific data or therelike, but some meaningful mock data is fine","body":"@VadimPilipenko providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is the best option for you if you want to get your problem solved, it doesn&#39;t require you to provide company specific data or therelike, but some meaningful mock data is fine"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595238042,"post_id":62991609,"comment_id":111394670,"body_markdown":"@VadimPilipenko Transactions are **per request** and not **per user** so that doesn&#39;t work, you need to simply have an `findByRecord()` method in the repository, which returns the record from the DB which is equal to the one passed to it (excluding the ID field)","body":"@VadimPilipenko Transactions are <b>per request</b> and not <b>per user</b> so that doesn&#39;t work, you need to simply have an <code>findByRecord()</code> method in the repository, which returns the record from the DB which is equal to the one passed to it (excluding the ID field)"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595238053,"post_id":62991609,"comment_id":111394678,"body_markdown":"@Lino, ok, I will make mock app today and share with you","body":"@Lino, ok, I will make mock app today and share with you"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1595238191,"post_id":62991609,"comment_id":111394736,"body_markdown":"@VadimPilipenko well it must not exactly be an entire app, but simply showing an example of a `class` and some data would be enough, it is currently the only missing information from your question","body":"@VadimPilipenko well it must not exactly be an entire app, but simply showing an example of a <code>class</code> and some data would be enough, it is currently the only missing information from your question"},{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1595274997,"post_id":62991609,"comment_id":111412900,"body_markdown":"@Lino, done. Hope it helps to understand my problem","body":"@Lino, done. Hope it helps to understand my problem"}],"answers":[{"tags":[],"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595847459,"creation_date":1595847459,"answer_id":63113881,"question_id":62991609,"body_markdown":"changed \r\n\r\n`public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)`\r\n\r\nto\r\n\r\n`public synchronized List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)`\r\n\r\nAdded **synchronized** before `save` \r\nNow only 1 thread can get access into service.\r\n\r\nEverything started to work as planned.","title":"Duplicated post requests protection, multithreading","body":"<p>changed</p>\n<p><code>public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)</code></p>\n<p>to</p>\n<p><code>public synchronized List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId)</code></p>\n<p>Added <strong>synchronized</strong> before <code>save</code>\nNow only 1 thread can get access into service.</p>\n<p>Everything started to work as planned.</p>\n"},{"comments":[{"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"score":0,"creation_date":1685731996,"post_id":76380234,"comment_id":134707606,"body_markdown":"sure, this works too","body":"sure, this works too"}],"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685609863,"creation_date":1685609863,"answer_id":76380234,"question_id":62991609,"body_markdown":"You can also use annotation on your repository method:\r\n\r\n    @Lock(LockModeType.PESSIMISTIC_WRITE)\r\n    List&lt;SingleRecord&gt; findAllByUserId(Long userId);","title":"Duplicated post requests protection, multithreading","body":"<p>You can also use annotation on your repository method:</p>\n<pre><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\nList&lt;SingleRecord&gt; findAllByUserId(Long userId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11671380,"reputation":41,"user_id":8546331,"display_name":"nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687193053,"creation_date":1687193053,"answer_id":76508588,"question_id":62991609,"body_markdown":" - I think you can set unique key for field user_id in table\r\n   SingleRecord.\r\n-  I think it is simple and useful.\r\n-  You can read more detail in below link:\r\nhttps://dev.to/manjufy/rest-api-how-to-avoid-duplicate-resource-creation-on-concurrent-requests-o23\r\n\r\n","title":"Duplicated post requests protection, multithreading","body":"<ul>\n<li>I think you can set unique key for field user_id in table\nSingleRecord.</li>\n<li>I think it is simple and useful.</li>\n<li>You can read more detail in below link:\n<a href=\"https://dev.to/manjufy/rest-api-how-to-avoid-duplicate-resource-creation-on-concurrent-requests-o23\" rel=\"nofollow noreferrer\">https://dev.to/manjufy/rest-api-how-to-avoid-duplicate-resource-creation-on-concurrent-requests-o23</a></li>\n</ul>\n"}],"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687193053,"creation_date":1595234328,"question_id":62991609,"body_markdown":"Have Spring Boot application.\r\nController-&gt;Service-&gt;Repository\r\n\r\nProblem: if user send several **post** requests to server, each of them creates its own thread. \r\n\r\nAnd **@Service** checks like below - don&#39;t work:\r\n\r\n        @Service\r\n        @Transactional\r\n        public class MyService {\r\n          public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId){\r\n        \r\n        \t  List&lt;SingleRecord&gt; recsFromDataBase = singleRecordRepository.findAllByUserId(userId);\r\n        \t  if ( recsFromDataBase.size() &gt; 0 ){\r\n        \t  \t  throw new MyException(&quot;User already has records!&quot;);\r\n        \t  } else {\r\n        \t\t  return singleRecordRepository.saveAll(recs);\r\n        \t  }\r\n            \r\n          }\r\n        }\r\n\r\n\r\nFor example: we have 10 post simultaneous requests from user. (he put button &#39;Send&#39; 10 times, during connection problems ) They all reach `singleRecordRepository.saveAll(recs);` and all persist to base. (because of multithreading) \r\nSo service checks became useless.\r\n\r\nI tried to use *Serializable* for **@Transactional** isolation level - but it cause massive amount deadlocks and errors during separate users work with this service.\r\n\r\nJava articles authors suggest to use tokens for post requests - this is not look like graceful solution.\r\n\r\nNow I&#39;m going to create thread safe Singleton to check if user requests are duplicated. This is awful...\r\n\r\nHow to make service check works properly?\r\n\r\n-------------------------------\r\nhttps://github.com/PilVadim/FSStackOverflow\r\n\r\nExample of service that works same as my app.\r\nTo reproduce the error:\r\n1) Start app. Open swagger UI http://localhost:8085/swagger-ui.html#\r\n\r\n2) For Chrome - F12-&gt;Network-&gt;change &#39;Online&#39; to &#39;GPRS&#39;;\r\n3) On swagger ui, open POST request, change `id` in body to null, and press &#39;Execute&#39; several times;\r\n4) Change &#39;GPRS&#39; back to &#39;Online&#39;;\r\nAlmost all request will complete successfully. \r\nThat is mean - check in service doesn&#39;t work correctly.","title":"Duplicated post requests protection, multithreading","body":"<p>Have Spring Boot application.\nController-&gt;Service-&gt;Repository</p>\n<p>Problem: if user send several <strong>post</strong> requests to server, each of them creates its own thread.</p>\n<p>And <strong>@Service</strong> checks like below - don't work:</p>\n<pre><code>    @Service\n    @Transactional\n    public class MyService {\n      public List&lt;SingleRecord&gt; save( List&lt;SingleRecord&gt; recs, Integer userId){\n    \n          List&lt;SingleRecord&gt; recsFromDataBase = singleRecordRepository.findAllByUserId(userId);\n          if ( recsFromDataBase.size() &gt; 0 ){\n              throw new MyException(&quot;User already has records!&quot;);\n          } else {\n              return singleRecordRepository.saveAll(recs);\n          }\n        \n      }\n    }\n</code></pre>\n<p>For example: we have 10 post simultaneous requests from user. (he put button 'Send' 10 times, during connection problems ) They all reach <code>singleRecordRepository.saveAll(recs);</code> and all persist to base. (because of multithreading)\nSo service checks became useless.</p>\n<p>I tried to use <em>Serializable</em> for <strong>@Transactional</strong> isolation level - but it cause massive amount deadlocks and errors during separate users work with this service.</p>\n<p>Java articles authors suggest to use tokens for post requests - this is not look like graceful solution.</p>\n<p>Now I'm going to create thread safe Singleton to check if user requests are duplicated. This is awful...</p>\n<p>How to make service check works properly?</p>\n<hr />\n<p><a href=\"https://github.com/PilVadim/FSStackOverflow\" rel=\"nofollow noreferrer\">https://github.com/PilVadim/FSStackOverflow</a></p>\n<p>Example of service that works same as my app.\nTo reproduce the error:</p>\n<ol>\n<li><p>Start app. Open swagger UI http://localhost:8085/swagger-ui.html#</p>\n</li>\n<li><p>For Chrome - F12-&gt;Network-&gt;change 'Online' to 'GPRS';</p>\n</li>\n<li><p>On swagger ui, open POST request, change <code>id</code> in body to null, and press 'Execute' several times;</p>\n</li>\n<li><p>Change 'GPRS' back to 'Online';\nAlmost all request will complete successfully.\nThat is mean - check in service doesn't work correctly.</p>\n</li>\n</ol>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687194271,"post_id":76508575,"comment_id":134899624,"body_markdown":"see my [comment](https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe#comment134864941_76487878) to this question [How can I add multiple buttons to a JFrame?](https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe) (not sure if that is the {only} problem, I&#39;ve not debugged the code)","body":"see my <a href=\"https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe#comment134864941_76487878\">comment</a> to this question <a href=\"https://stackoverflow.com/questions/76487878/how-can-i-add-multiple-buttons-to-a-jframe\">How can I add multiple buttons to a JFrame?</a> (not sure if that is the {only} problem, I&#39;ve not debugged the code)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1687209254,"post_id":76508575,"comment_id":134902018,"body_markdown":"Not really understanding your question but I suggest you don&#39;t use the GroupLayout. GroupLayout is generally used by your IDE. Your code is a mixture of GroupLayout and other layout managers so I&#39;m guessing you are not using the layout manager correctly. I also seem to remember telling you that a JTable needs to be added to a JScrollPane in order for the columns headings to display.","body":"Not really understanding your question but I suggest you don&#39;t use the GroupLayout. GroupLayout is generally used by your IDE. Your code is a mixture of GroupLayout and other layout managers so I&#39;m guessing you are not using the layout manager correctly. I also seem to remember telling you that a JTable needs to be added to a JScrollPane in order for the columns headings to display."}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687192950,"creation_date":1687192950,"question_id":76508575,"body_markdown":"I&#39;m having trouble displaying one column layout before two column layout in Swing. Before two column layout I&#39;d like to add a table (so a one column layout). However, when I try to to add a table in the method `initUI()`, it is not shown at all (ie. is not painted).\r\n\r\n Here&#39;s relevant part of creating two column layout:\r\n\r\n    private JComponent getTwoColumnLayout(\r\n        final JLabel[] labels,\r\n        final JComponent[] fields) {\r\n    \r\n    if (labels.length != fields.length) {\r\n        final String s = labels.length + &quot; labels supplied for &quot;\r\n                + fields.length + &quot; fields!&quot;;\r\n        throw new IllegalArgumentException(s);\r\n    }\r\n    final JComponent panel = new JPanel();\r\n    final GroupLayout layout = new GroupLayout(panel);\r\n    panel.setLayout(layout);\r\n    // Turn on automatically adding gaps between components\r\n    layout.setAutoCreateGaps(true);\r\n    // Create a sequential group for the horizontal axis.\r\n    final GroupLayout.SequentialGroup hGroup = layout.createSequentialGroup();\r\n    final GroupLayout.Group yLabelGroup = layout.createParallelGroup(GroupLayout.Alignment.TRAILING);\r\n    hGroup.addGroup(yLabelGroup);\r\n    final GroupLayout.Group yFieldGroup = layout.createParallelGroup();\r\n    hGroup.addGroup(yFieldGroup);\r\n    layout.setHorizontalGroup(hGroup);\r\n    // Create a sequential group for the vertical axis.\r\n    final GroupLayout.SequentialGroup vGroup = layout.createSequentialGroup();\r\n    layout.setVerticalGroup(vGroup);\r\n    \r\n    final int p = GroupLayout.PREFERRED_SIZE;\r\n    // add the components to the groups\r\n    for (JLabel label : labels) {\r\n        yLabelGroup.addComponent(label);\r\n    }\r\n    for (Component field : fields) {\r\n        yFieldGroup.addComponent(field, p, p, p);\r\n    }\r\n    for (int ii = 0; ii &lt; labels.length; ii++) {\r\n        vGroup.addGroup(layout.createParallelGroup().\r\n                addComponent(labels[ii]).\r\n                addComponent(fields[ii], p, p, p));\r\n    }\r\n    return panel;\r\n    }\r\n\r\nHere&#39;s relevant part of creating UI:\r\n\r\n    public void initUI() {\r\n            if (ui != null) {\r\n                return;\r\n            }\r\n            ui = new JPanel(new BorderLayout(4, 4));\r\n            ui.setBorder(new EmptyBorder(4, 4, 4, 4));\r\n            // add table\r\n             ui.add(createTablePanel()); \r\n    \r\n            // Here is our control.  This puts a titled border around it,\r\n            // instead of using a label in the PAGE_START\r\n            final JPanel libSysSearchControl = new JPanel(new BorderLayout());\r\n            ui.add(libSysSearchControl);\r\n    \r\n            final JPanel actionPanel = new JPanel(\r\n                    new FlowLayout(FlowLayout.CENTER, 15, 15));\r\n            libSysSearchControl.add(actionPanel, BorderLayout.PAGE_END);\r\n            // removed\r\n            libSysSearchControl.add(getTwoColumnLayout(labels, controls));\r\n            // removed\r\n    }\r\n\r\nAnd a method creating a table within a panel:\r\n\r\n    private JPanel createTablePanel() {\r\n        final String[] columnNames = {&quot;Title&quot;, &quot;Author&quot;, &quot;Publisher&quot;,\r\n                &quot;Published Date&quot;, &quot;Pages&quot;, &quot;Rating&quot;};\r\n    \r\n        final String[][] rowData = {\r\n                {&quot;Effective Java&quot;, &quot;Joshua Bloch&quot;, &quot;Addision-Wesley&quot;, &quot;May 08th 2008&quot;,\r\n                        &quot;346&quot;, &quot;5&quot;},\r\n                {&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;, &quot;Prentice Hall&quot;, &quot;Feb 26th 2006&quot;,\r\n                        &quot;1150&quot;, &quot;4&quot;},\r\n                {&quot;Head First Java&quot;, &quot;Kathy Sierra &amp; Bert Bates&quot;, &quot;O&#39;Reilly Media&quot;,\r\n                        &quot;Feb 09th 2005&quot;, &quot;688&quot;, &quot;4.5&quot;},\r\n        };\r\n    \r\n        // constructs the table with sample data\r\n        final JTable jTable = new JTable(new DefaultTableModel(rowData, columnNames));\r\n    \r\n        final JPanel tablePanel = new JPanel();\r\n        tablePanel.add(jTable);\r\n        return tablePanel;\r\n    }\r\n\r\n ","title":"How do I add two column panel after single column panel?","body":"<p>I'm having trouble displaying one column layout before two column layout in Swing. Before two column layout I'd like to add a table (so a one column layout). However, when I try to to add a table in the method <code>initUI()</code>, it is not shown at all (ie. is not painted).</p>\n<p>Here's relevant part of creating two column layout:</p>\n<pre><code>private JComponent getTwoColumnLayout(\n    final JLabel[] labels,\n    final JComponent[] fields) {\n\nif (labels.length != fields.length) {\n    final String s = labels.length + &quot; labels supplied for &quot;\n            + fields.length + &quot; fields!&quot;;\n    throw new IllegalArgumentException(s);\n}\nfinal JComponent panel = new JPanel();\nfinal GroupLayout layout = new GroupLayout(panel);\npanel.setLayout(layout);\n// Turn on automatically adding gaps between components\nlayout.setAutoCreateGaps(true);\n// Create a sequential group for the horizontal axis.\nfinal GroupLayout.SequentialGroup hGroup = layout.createSequentialGroup();\nfinal GroupLayout.Group yLabelGroup = layout.createParallelGroup(GroupLayout.Alignment.TRAILING);\nhGroup.addGroup(yLabelGroup);\nfinal GroupLayout.Group yFieldGroup = layout.createParallelGroup();\nhGroup.addGroup(yFieldGroup);\nlayout.setHorizontalGroup(hGroup);\n// Create a sequential group for the vertical axis.\nfinal GroupLayout.SequentialGroup vGroup = layout.createSequentialGroup();\nlayout.setVerticalGroup(vGroup);\n\nfinal int p = GroupLayout.PREFERRED_SIZE;\n// add the components to the groups\nfor (JLabel label : labels) {\n    yLabelGroup.addComponent(label);\n}\nfor (Component field : fields) {\n    yFieldGroup.addComponent(field, p, p, p);\n}\nfor (int ii = 0; ii &lt; labels.length; ii++) {\n    vGroup.addGroup(layout.createParallelGroup().\n            addComponent(labels[ii]).\n            addComponent(fields[ii], p, p, p));\n}\nreturn panel;\n}\n</code></pre>\n<p>Here's relevant part of creating UI:</p>\n<pre><code>public void initUI() {\n        if (ui != null) {\n            return;\n        }\n        ui = new JPanel(new BorderLayout(4, 4));\n        ui.setBorder(new EmptyBorder(4, 4, 4, 4));\n        // add table\n         ui.add(createTablePanel()); \n\n        // Here is our control.  This puts a titled border around it,\n        // instead of using a label in the PAGE_START\n        final JPanel libSysSearchControl = new JPanel(new BorderLayout());\n        ui.add(libSysSearchControl);\n\n        final JPanel actionPanel = new JPanel(\n                new FlowLayout(FlowLayout.CENTER, 15, 15));\n        libSysSearchControl.add(actionPanel, BorderLayout.PAGE_END);\n        // removed\n        libSysSearchControl.add(getTwoColumnLayout(labels, controls));\n        // removed\n}\n</code></pre>\n<p>And a method creating a table within a panel:</p>\n<pre><code>private JPanel createTablePanel() {\n    final String[] columnNames = {&quot;Title&quot;, &quot;Author&quot;, &quot;Publisher&quot;,\n            &quot;Published Date&quot;, &quot;Pages&quot;, &quot;Rating&quot;};\n\n    final String[][] rowData = {\n            {&quot;Effective Java&quot;, &quot;Joshua Bloch&quot;, &quot;Addision-Wesley&quot;, &quot;May 08th 2008&quot;,\n                    &quot;346&quot;, &quot;5&quot;},\n            {&quot;Thinking in Java&quot;, &quot;Bruce Eckel&quot;, &quot;Prentice Hall&quot;, &quot;Feb 26th 2006&quot;,\n                    &quot;1150&quot;, &quot;4&quot;},\n            {&quot;Head First Java&quot;, &quot;Kathy Sierra &amp; Bert Bates&quot;, &quot;O'Reilly Media&quot;,\n                    &quot;Feb 09th 2005&quot;, &quot;688&quot;, &quot;4.5&quot;},\n    };\n\n    // constructs the table with sample data\n    final JTable jTable = new JTable(new DefaultTableModel(rowData, columnNames));\n\n    final JPanel tablePanel = new JPanel();\n    tablePanel.add(jTable);\n    return tablePanel;\n}\n</code></pre>\n"},{"tags":["java","spring","security","model-view-controller","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":2301478,"reputation":197,"user_id":2021693,"display_name":"Reeta Wani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586088011,"creation_date":1586088011,"answer_id":61042235,"question_id":61042122,"body_markdown":"Can you try changing the sequence like this in SecurityConfig.java:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable()\r\n            .oauth2Login()\r\n                .userInfoEndpoint()\r\n                    .userService(customOAuth2UserService)\r\n                    .and()\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/*&quot;).permitAll()\r\n                .and()\r\n            .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .and()            \r\n           .successHandler(new SuccessHandler());\r\n    }\r\nBecause below code permits all URL and because of which oauth2Login() code is never reachable.\r\n\r\n    .authorizeRequests()\r\n                .antMatchers(&quot;/*&quot;).permitAll()\r\n\r\n","title":"Spring MVC + security + OAuth2 userInfoEndpoint() not work","body":"<p>Can you try changing the sequence like this in SecurityConfig.java:</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\nhttp.csrf().disable()\n        .oauth2Login()\n            .userInfoEndpoint()\n                .userService(customOAuth2UserService)\n                .and()\n        .authorizeRequests()\n            .antMatchers(\"/*\").permitAll()\n            .and()\n        .logout()\n            .logoutUrl(\"/logout\")\n            .logoutSuccessUrl(\"/\")\n            .and()            \n       .successHandler(new SuccessHandler());\n}\n</code></pre>\n\n<p>Because below code permits all URL and because of which oauth2Login() code is never reachable.</p>\n\n<pre><code>.authorizeRequests()\n            .antMatchers(\"/*\").permitAll()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687276047,"post_id":76508547,"comment_id":134912550,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76508547/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19964001,"reputation":1,"user_id":14630976,"display_name":"ze-ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687192655,"creation_date":1687192655,"answer_id":76508547,"question_id":61042122,"body_markdown":"I&#39;m having the same issue using Spring 3.1.0 and it is not working, my CustomOAuth2Service is not called at all","title":"Spring MVC + security + OAuth2 userInfoEndpoint() not work","body":"<p>I'm having the same issue using Spring 3.1.0 and it is not working, my CustomOAuth2Service is not called at all</p>\n"}],"owner":{"account_id":18179948,"reputation":25,"user_id":13227929,"display_name":"hyun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687192655,"creation_date":1586087406,"question_id":61042122,"body_markdown":"I&#39;m trying to login as Spring MVC + security + OAuth2.\r\n\r\nThe current authentication status is successfully received and user information can be obtained.\r\n\r\nI want to get user information so I write `userInfoEndpoint`, but `userInfoEndPoint` is not being called at all.\r\n\r\nOn the other hand `successHandler` is being successfully called and authentication has the user information.\r\n\r\nSo I have two questions\r\n\r\nFirst, Why isn&#39;t `userInfoEndpoint` called at all?\r\nIn Spring Boot case, it successfully called\r\n\r\nSecond, How to get user information from the authentication of the `successHandler`?\r\nThe authentication of the `successHandler` only has this method.\r\n\r\n    Object getCredentials();\r\n    Object getDetails();\r\n    Object getPrincipal();\r\n    boolean isAuthenticated();\r\n    void setAuthenticated(boolean var1) throws IllegalArgumentException;\r\n\r\n&amp;mdash;Source code&amp;mdash;\r\n\r\nSecurityConfig.java\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/*&quot;).permitAll()\r\n                    .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/&quot;)\r\n                    .and()\r\n                .oauth2Login()\r\n                    .userInfoEndpoint()\r\n                        .userService(customOAuth2UserService)\r\n                        .and()\r\n                    .successHandler(new SuccessHandler());\r\n    }\r\nSuccessHandler.java\r\n\r\n    @Log4j\r\n    public class SuccessHandler implements AuthenticationSuccessHandler {\r\n    \r\n        @Override\r\n        public void onAuthenticationSuccess(HttpServletRequest httpServletRequest,\r\n                                            HttpServletResponse httpServletResponse,\r\n                                            Authentication authentication) throws IOException, ServletException {\r\n            log.info(authentication);\r\n        }\r\n    \r\n    }","title":"Spring MVC + security + OAuth2 userInfoEndpoint() not work","body":"<p>I'm trying to login as Spring MVC + security + OAuth2.</p>\n\n<p>The current authentication status is successfully received and user information can be obtained.</p>\n\n<p>I want to get user information so I write <code>userInfoEndpoint</code>, but <code>userInfoEndPoint</code> is not being called at all.</p>\n\n<p>On the other hand <code>successHandler</code> is being successfully called and authentication has the user information.</p>\n\n<p>So I have two questions</p>\n\n<p>First, Why isn't <code>userInfoEndpoint</code> called at all?\nIn Spring Boot case, it successfully called</p>\n\n<p>Second, How to get user information from the authentication of the <code>successHandler</code>?\nThe authentication of the <code>successHandler</code> only has this method.</p>\n\n<pre><code>Object getCredentials();\nObject getDetails();\nObject getPrincipal();\nboolean isAuthenticated();\nvoid setAuthenticated(boolean var1) throws IllegalArgumentException;\n</code></pre>\n\n<p>&mdash;Source code&mdash;</p>\n\n<p>SecurityConfig.java</p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n                .antMatchers(\"/*\").permitAll()\n                .and()\n            .logout()\n                .logoutUrl(\"/logout\")\n                .logoutSuccessUrl(\"/\")\n                .and()\n            .oauth2Login()\n                .userInfoEndpoint()\n                    .userService(customOAuth2UserService)\n                    .and()\n                .successHandler(new SuccessHandler());\n}\n</code></pre>\n\n<p>SuccessHandler.java</p>\n\n<pre><code>@Log4j\npublic class SuccessHandler implements AuthenticationSuccessHandler {\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest httpServletRequest,\n                                        HttpServletResponse httpServletResponse,\n                                        Authentication authentication) throws IOException, ServletException {\n        log.info(authentication);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211147,"post_id":76508050,"comment_id":134902247,"body_markdown":"i recommend you use spring security form login and not basic https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","body":"i recommend you use spring security form login and not basic <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3262371,"reputation":25,"user_id":2747677,"display_name":"Wassim Jied"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687191702,"creation_date":1687191702,"answer_id":76508456,"question_id":76508050,"body_markdown":"index.html does not match any of \r\n  .requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll() patterns\r\n\r\nAlso be sure that your authorized urls does not need ressources that require authentication\r\nFor example, in your case, any reference to an image will make the browser prompt for login / password :  since /img/** or any folder that contains images is not public","title":"Spring Security asks for username and password despite patterns defined","body":"<p>index.html does not match any of\n.requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/<em>&quot;, &quot;/js/</em>&quot;).permitAll() patterns</p>\n<p>Also be sure that your authorized urls does not need ressources that require authentication\nFor example, in your case, any reference to an image will make the browser prompt for login / password :  since /img/** or any folder that contains images is not public</p>\n"},{"tags":[],"owner":{"account_id":14647990,"reputation":321,"user_id":11429968,"display_name":"iderkhangai"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687192051,"creation_date":1687192051,"answer_id":76508488,"question_id":76508050,"body_markdown":"\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .httpBasic()\r\n                .disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\nPlease try it with this one.","title":"Spring Security asks for username and password despite patterns defined","body":"<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n        .httpBasic()\n            .disable();\n\n    return http.build();\n}\n</code></pre>\n<p>Please try it with this one.</p>\n"}],"owner":{"account_id":27818383,"reputation":1,"user_id":21239316,"display_name":"simplenick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687192051,"creation_date":1687188359,"question_id":76508050,"body_markdown":"I have a problem with Spring Security Basic Auth. It still prompts for username and password, despite defining the patterns (or exceptions inside the url, I don&#39;t know the exact name).\r\n\r\nI tried the following code:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(\r\n                        (authz) -&gt;\r\n                                authz\r\n                        .requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nand I expect this to show me a simple index.html defined in resources/static folder.\r\n\r\nInstead it still prompts for username and password.\r\n\r\nHere is pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Spring Security asks for username and password despite patterns defined","body":"<p>I have a problem with Spring Security Basic Auth. It still prompts for username and password, despite defining the patterns (or exceptions inside the url, I don't know the exact name).</p>\n<p>I tried the following code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(\n                        (authz) -&gt;\n                                authz\n                        .requestMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n                        .anyRequest()\n                        .authenticated())\n                .httpBasic(withDefaults());\n        return http.build();\n    }\n}\n</code></pre>\n<p>and I expect this to show me a simple index.html defined in resources/static folder.</p>\n<p>Instead it still prompts for username and password.</p>\n<p>Here is pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","outlook","multipart","outlook-web-app","javax"],"answers":[{"tags":[],"owner":{"account_id":1202897,"reputation":309,"user_id":1173192,"accept_rate":60,"display_name":"Manticore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491383713,"creation_date":1491383713,"answer_id":43226827,"question_id":43225187,"body_markdown":"After some time I found a solution by myself.\r\nFrom javax.mail.internet I can use:\r\n\r\n    String filename = part.getFileName();\r\n    String decodedFilename = MimeUtility.decodeText(filename);\r\n\r\nmaybe just doing this only if filename starts with &quot;=?&quot; and ends with &quot;?=&quot;","title":"attachments by outlook with strange filename using javax getFileName","body":"<p>After some time I found a solution by myself.\nFrom javax.mail.internet I can use:</p>\n\n<pre><code>String filename = part.getFileName();\nString decodedFilename = MimeUtility.decodeText(filename);\n</code></pre>\n\n<p>maybe just doing this only if filename starts with \"=?\" and ends with \"?=\"</p>\n"}],"owner":{"account_id":1202897,"reputation":309,"user_id":1173192,"accept_rate":60,"display_name":"Manticore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687191209,"creation_date":1491378997,"question_id":43225187,"body_markdown":"I&#39;m using javax to get attachments from emails.\r\nMy code is here:\r\n\r\n    String disposition = part.getDisposition();\r\n    if (disposition != null &amp;&amp;\r\n        (disposition.equalsIgnoreCase(Part.ATTACHMENT) || disposition.equalsIgnoreCase(Part.INLINE))) {\r\n\t    log.debug(&quot;Found attachment: &quot; + part.getFileName());\r\n    }\r\n\r\nand it works well. But when emails are sent by Outlook webmail with attachment with latin letters in the name, the part.getFileName() e.g. for the attachment &quot;Riunione_del_venerd&#236;.pdf&quot; returns to me &quot;=?iso-8859-1?Q?Riunione_del_venerd=EC_20170303.pdf?=&quot; and I&#39;m not able to get the correct name\r\n\r\nHow can I get the real filename ? How can I work this out ?","title":"attachments by outlook with strange filename using javax getFileName","body":"<p>I'm using javax to get attachments from emails.\nMy code is here:</p>\n\n<pre><code>String disposition = part.getDisposition();\nif (disposition != null &amp;&amp;\n    (disposition.equalsIgnoreCase(Part.ATTACHMENT) || disposition.equalsIgnoreCase(Part.INLINE))) {\n    log.debug(\"Found attachment: \" + part.getFileName());\n}\n</code></pre>\n\n<p>and it works well. But when emails are sent by Outlook webmail with attachment with latin letters in the name, the part.getFileName() e.g. for the attachment \"Riunione_del_venerdì.pdf\" returns to me \"=?iso-8859-1?Q?Riunione_del_venerd=EC_20170303.pdf?=\" and I'm not able to get the correct name</p>\n\n<p>How can I get the real filename ? How can I work this out ?</p>\n"},{"tags":["java","scala","apache-spark","command","apache-kafka"],"comments":[{"owner":{"account_id":7865794,"reputation":396,"user_id":5944650,"accept_rate":50,"display_name":"Arjun A J"},"score":0,"creation_date":1493034997,"post_id":43542485,"comment_id":74223929,"body_markdown":"anybody, please suggest a command or API to get consumer group.","body":"anybody, please suggest a command or API to get consumer group."}],"answers":[{"comments":[{"owner":{"account_id":7865794,"reputation":396,"user_id":5944650,"accept_rate":50,"display_name":"Arjun A J"},"score":0,"creation_date":1493011922,"post_id":43543532,"comment_id":74210219,"body_markdown":"I&#39;d gone through the link you suggested. The code requires consumer group and topic as command line arguments. But in my case I have only topic name and I need to know the consumer group of it.","body":"I&#39;d gone through the link you suggested. The code requires consumer group and topic as command line arguments. But in my case I have only topic name and I need to know the consumer group of it."}],"tags":[],"owner":{"account_id":2930914,"reputation":1941,"user_id":4029265,"accept_rate":37,"display_name":"Ishan Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492779987,"creation_date":1492779987,"answer_id":43543532,"question_id":43542485,"body_markdown":"You can read data from various topics by specifying the topics. You can simply create a Map of topics.  Refer to the below link\r\n\r\nhttps://www.tutorialspoint.com/apache_kafka/apache_kafka_consumer_group_example.htm \r\n\r\n      ","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<p>You can read data from various topics by specifying the topics. You can simply create a Map of topics.  Refer to the below link</p>\n\n<p><a href=\"https://www.tutorialspoint.com/apache_kafka/apache_kafka_consumer_group_example.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/apache_kafka/apache_kafka_consumer_group_example.htm</a> </p>\n"},{"tags":[],"owner":{"account_id":5026793,"reputation":733,"user_id":4038460,"display_name":"Hemanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516340936,"creation_date":1511189131,"answer_id":47394652,"question_id":43542485,"body_markdown":"There is no Command/API provided by kafka to list consumer groups consuming from a specified topic. Instead you can use a tool developed by yahoo to manage kafka clusters : [Yahoo Kafka Manager][1]. After installing this software and pointing yahoo kafka manager to your kafka cluster, you can view consumer groups consuming from a specified topic.\r\n\r\n\r\n  [1]: https://github.com/yahoo/kafka-manager","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<p>There is no Command/API provided by kafka to list consumer groups consuming from a specified topic. Instead you can use a tool developed by yahoo to manage kafka clusters : <a href=\"https://github.com/yahoo/kafka-manager\" rel=\"nofollow noreferrer\">Yahoo Kafka Manager</a>. After installing this software and pointing yahoo kafka manager to your kafka cluster, you can view consumer groups consuming from a specified topic.</p>\n"},{"comments":[{"owner":{"display_name":"user3905644"},"score":0,"creation_date":1599633550,"post_id":57376199,"comment_id":112829427,"body_markdown":"Having to loop over everything is time consuming but worked for me. I do hope there will be an easier way eventually.","body":"Having to loop over everything is time consuming but worked for me. I do hope there will be an easier way eventually."}],"tags":[],"owner":{"account_id":4526662,"reputation":2542,"user_id":3678249,"accept_rate":88,"display_name":"BartBiczBoży"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565094865,"creation_date":1565094865,"answer_id":57376199,"question_id":43542485,"body_markdown":"    for i in `kafka-consumer-groups --list --bootstrap-server localhost:9092`; do echo $i; (kafka-consumer-groups --describe --bootstrap-server localhost:9092 --group $i 2&gt;&amp;1| grep mytopic); done\r\nIt takes some time, because it checks all the topics, but tells which consumer groups use the topic.","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<pre><code>for i in `kafka-consumer-groups --list --bootstrap-server localhost:9092`; do echo $i; (kafka-consumer-groups --describe --bootstrap-server localhost:9092 --group $i 2&gt;&amp;1| grep mytopic); done\n</code></pre>\n\n<p>It takes some time, because it checks all the topics, but tells which consumer groups use the topic.</p>\n"}],"owner":{"account_id":7865794,"reputation":396,"user_id":5944650,"accept_rate":50,"display_name":"Arjun A J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12650,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687190705,"creation_date":1492776924,"question_id":43542485,"body_markdown":"I am working on Kafka with Spark streaming in Scala. There are multiple topics from which I need to fetch messages. For that, I need to input consumer group of each topic. \r\n\r\nI have tried following command:\r\n\r\n    bin/kafka-consumer-groups.sh --zookeeper localhost:2181 --describe --group group_name\r\n\r\nFor this, I need to mention consumer group and check whether my topic falls under this group. But I don&#39;t know the consumer group value for some topics.\r\n\r\nSo, **is there any command or programmatic way** of finding consumer group for a given topic?\r\n\r\nAny help on this would be greatly appreciated.\r\nThank you","title":"Apache Kafka: How to find out consumer group of a topic?","body":"<p>I am working on Kafka with Spark streaming in Scala. There are multiple topics from which I need to fetch messages. For that, I need to input consumer group of each topic. </p>\n\n<p>I have tried following command:</p>\n\n<pre><code>bin/kafka-consumer-groups.sh --zookeeper localhost:2181 --describe --group group_name\n</code></pre>\n\n<p>For this, I need to mention consumer group and check whether my topic falls under this group. But I don't know the consumer group value for some topics.</p>\n\n<p>So, <strong>is there any command or programmatic way</strong> of finding consumer group for a given topic?</p>\n\n<p>Any help on this would be greatly appreciated.\nThank you</p>\n"},{"tags":["java","libgdx","replit"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1687190518,"post_id":76508303,"comment_id":134898939,"body_markdown":"I highly doubt you can run libgdx applications via replit.","body":"I highly doubt you can run libgdx applications via replit."},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687190614,"post_id":76508303,"comment_id":134898955,"body_markdown":"@FedericoklezCulloca do you know about some java framework to develop simple games I can run via replit?","body":"@FedericoklezCulloca do you know about some java framework to develop simple games I can run via replit?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1687191689,"post_id":76508303,"comment_id":134899161,"body_markdown":"Nope, sorry. I&#39;d suggest you develop on a actual machine.","body":"Nope, sorry. I&#39;d suggest you develop on a actual machine."},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687191997,"post_id":76508303,"comment_id":134899225,"body_markdown":"@FedericoklezCulloca the problem is that my students code using chromebooks..","body":"@FedericoklezCulloca the problem is that my students code using chromebooks.."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1687192210,"post_id":76508303,"comment_id":134899258,"body_markdown":"Have you tried developing software on a Chromebook?  What actual problems do you encounter?","body":"Have you tried developing software on a Chromebook?  What actual problems do you encounter?"},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687192437,"post_id":76508303,"comment_id":134899296,"body_markdown":"@markspace the problem is that a Chromebook is basically a big Android phone, so it&#39;s harder to install whatever you may want to install to an ordinary OS. An other more specific issue is that students in school doesn&#39;t have their own Chromebook, but they take the first available each time. So I prefer to keep everything online (e.g. via replit), so that they only need a browser to code.","body":"@markspace the problem is that a Chromebook is basically a big Android phone, so it&#39;s harder to install whatever you may want to install to an ordinary OS. An other more specific issue is that students in school doesn&#39;t have their own Chromebook, but they take the first available each time. So I prefer to keep everything online (e.g. via replit), so that they only need a browser to code."},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1687252596,"post_id":76508303,"comment_id":134907030,"body_markdown":"Your launcher looks like its setup to launch a desktop application, but possibly your target should be a web application if its running in the browser. Go here https://libgdx.com/community/ and ask on discord. Its unlikely that an expected string is missing from the replit environment (but I think its more desktop launcher is wrong). LibGDX has the concept of a single -core-, but there are separate platform specific launchers (and indeed builds). What host replit is I don&#39;t know but the web application is java to GWT, not pure java.","body":"Your launcher looks like its setup to launch a desktop application, but possibly your target should be a web application if its running in the browser. Go here <a href=\"https://libgdx.com/community/\" rel=\"nofollow noreferrer\">libgdx.com/community</a> and ask on discord. Its unlikely that an expected string is missing from the replit environment (but I think its more desktop launcher is wrong). LibGDX has the concept of a single -core-, but there are separate platform specific launchers (and indeed builds). What host replit is I don&#39;t know but the web application is java to GWT, not pure java."},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1687252626,"post_id":76508303,"comment_id":134907040,"body_markdown":"If you can run a basic android app in replit then I would try running libGDX using the android launcher,-not- the desktop one.","body":"If you can run a basic android app in replit then I would try running libGDX using the android launcher,-not- the desktop one."},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687254637,"post_id":76508303,"comment_id":134907505,"body_markdown":"@londonBadger thank you, I&#39;m trying to do what you suggested.","body":"@londonBadger thank you, I&#39;m trying to do what you suggested."},{"owner":{"account_id":8317669,"reputation":1150,"user_id":6250401,"display_name":"Luis Fernando Frontanilla"},"score":0,"creation_date":1687531446,"post_id":76508303,"comment_id":134954732,"body_markdown":"Hey have you heard about processing? it&#39;s a java framework with which you could develop simple games :D and it even has a template for replit :DDD","body":"Hey have you heard about processing? it&#39;s a java framework with which you could develop simple games :D and it even has a template for replit :DDD"},{"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"score":0,"creation_date":1687547151,"post_id":76508303,"comment_id":134957700,"body_markdown":"@LuisFernandoFrontanilla yes someone else in the comments mentioned it, but from what I can see it’s not good to teach students object oriented programming","body":"@LuisFernandoFrontanilla yes someone else in the comments mentioned it, but from what I can see it’s not good to teach students object oriented programming"}],"owner":{"account_id":11400006,"reputation":273,"user_id":8357244,"accept_rate":80,"display_name":"Michele Minno"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687190661,"creation_date":1687190440,"question_id":76508303,"body_markdown":"I&#39;m a Computer Science teacher, I&#39;m trying to make Libgdx work inside an online development environment (replit.com). I can access and edit the pom.xml, I successfully added the Libgdx dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.badlogicgames.gdx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gdx&lt;/artifactId&gt;\r\n      &lt;version&gt;1.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nand I copied and pasted the demo code to run a simple raindrops game.\r\n\r\nHere&#39;s the Main.java:\r\n\r\n        import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\r\n        import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\r\n    \r\n    public class Main {\r\n       public static void main (String[] arg) {\r\n         \r\n          Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\n          config.setTitle(&quot;Drop&quot;);\r\n          config.setWindowedMode(800, 480);\r\n          config.useVsync(true);\r\n          config.setForegroundFPS(60);\r\n          new Lwjgl3Application(new Drop(), config);\r\n       }\r\n    }\r\n\r\nDrop.java:\r\n\r\n    import java.util.Iterator;\r\n    import com.badlogic.gdx.ApplicationAdapter;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.Input.Keys;\r\n    import com.badlogic.gdx.audio.Music;\r\n    import com.badlogic.gdx.audio.Sound;\r\n    import com.badlogic.gdx.graphics.OrthographicCamera;\r\n    import com.badlogic.gdx.graphics.Texture;\r\n    import com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\n    import com.badlogic.gdx.math.MathUtils;\r\n    import com.badlogic.gdx.math.Rectangle;\r\n    import com.badlogic.gdx.math.Vector3;\r\n    import com.badlogic.gdx.utils.Array;\r\n    import com.badlogic.gdx.utils.ScreenUtils;\r\n    import com.badlogic.gdx.utils.TimeUtils;\r\n    \r\n    public class Drop extends ApplicationAdapter {\r\n       private Texture dropImage;\r\n       private Texture bucketImage;\r\n       private Sound dropSound;\r\n       private Music rainMusic;\r\n       private SpriteBatch batch;\r\n       private OrthographicCamera camera;\r\n       private Rectangle bucket;\r\n       private Array&lt;Rectangle&gt; raindrops;\r\n       private long lastDropTime;\r\n    \r\n       @Override\r\n       public void create() {\r\n          // load the images for the droplet and the bucket, 64x64 pixels each\r\n          dropImage = new Texture(Gdx.files.internal(&quot;droplet.png&quot;));\r\n          bucketImage = new Texture(Gdx.files.internal(&quot;bucket.png&quot;));\r\n    \r\n          // load the drop sound effect and the rain background &quot;music&quot;\r\n          dropSound = Gdx.audio.newSound(Gdx.files.internal(&quot;drop.wav&quot;));\r\n          rainMusic = Gdx.audio.newMusic(Gdx.files.internal(&quot;rain.mp3&quot;));\r\n    \r\n          // start the playback of the background music immediately\r\n          rainMusic.setLooping(true);\r\n          rainMusic.play();\r\n    \r\n          // create the camera and the SpriteBatch\r\n          camera = new OrthographicCamera();\r\n          camera.setToOrtho(false, 800, 480);\r\n          batch = new SpriteBatch();\r\n    \r\n          // create a Rectangle to logically represent the bucket\r\n          bucket = new Rectangle();\r\n          bucket.x = 800 / 2 - 64 / 2; // center the bucket horizontally\r\n          bucket.y = 20; // bottom left corner of the bucket is 20 pixels above the bottom screen edge\r\n          bucket.width = 64;\r\n          bucket.height = 64;\r\n    \r\n          // create the raindrops array and spawn the first raindrop\r\n          raindrops = new Array&lt;Rectangle&gt;();\r\n          spawnRaindrop();\r\n       }\r\n    \r\n       private void spawnRaindrop() {\r\n          Rectangle raindrop = new Rectangle();\r\n          raindrop.x = MathUtils.random(0, 800-64);\r\n          raindrop.y = 480;\r\n          raindrop.width = 64;\r\n          raindrop.height = 64;\r\n          raindrops.add(raindrop);\r\n          lastDropTime = TimeUtils.nanoTime();\r\n       }\r\n    \r\n       @Override\r\n       public void render() {\r\n          // clear the screen with a dark blue color. The\r\n          // arguments to clear are the red, green\r\n          // blue and alpha component in the range [0,1]\r\n          // of the color to be used to clear the screen.\r\n          ScreenUtils.clear(0, 0, 0.2f, 1);\r\n    \r\n          // tell the camera to update its matrices.\r\n          camera.update();\r\n    \r\n          // tell the SpriteBatch to render in the\r\n          // coordinate system specified by the camera.\r\n          batch.setProjectionMatrix(camera.combined);\r\n    \r\n          // begin a new batch and draw the bucket and\r\n          // all drops\r\n          batch.begin();\r\n          batch.draw(bucketImage, bucket.x, bucket.y);\r\n          for(Rectangle raindrop: raindrops) {\r\n             batch.draw(dropImage, raindrop.x, raindrop.y);\r\n          }\r\n          batch.end();\r\n    \r\n          // process user input\r\n          if(Gdx.input.isTouched()) {\r\n             Vector3 touchPos = new Vector3();\r\n             touchPos.set(Gdx.input.getX(), Gdx.input.getY(), 0);\r\n             camera.unproject(touchPos);\r\n             bucket.x = touchPos.x - 64 / 2;\r\n          }\r\n          if(Gdx.input.isKeyPressed(Keys.LEFT)) bucket.x -= 200 * Gdx.graphics.getDeltaTime();\r\n          if(Gdx.input.isKeyPressed(Keys.RIGHT)) bucket.x += 200 * Gdx.graphics.getDeltaTime();\r\n    \r\n          // make sure the bucket stays within the screen bounds\r\n          if(bucket.x &lt; 0) bucket.x = 0;\r\n          if(bucket.x &gt; 800 - 64) bucket.x = 800 - 64;\r\n    \r\n          // check if we need to create a new raindrop\r\n          if(TimeUtils.nanoTime() - lastDropTime &gt; 1000000000) spawnRaindrop();\r\n    \r\n          // move the raindrops, remove any that are beneath the bottom edge of\r\n          // the screen or that hit the bucket. In the latter case we play back\r\n          // a sound effect as well.\r\n          for (Iterator&lt;Rectangle&gt; iter = raindrops.iterator(); iter.hasNext(); ) {\r\n             Rectangle raindrop = iter.next();\r\n             raindrop.y -= 200 * Gdx.graphics.getDeltaTime();\r\n             if(raindrop.y + 64 &lt; 0) iter.remove();\r\n             if(raindrop.overlaps(bucket)) {\r\n                dropSound.play();\r\n                iter.remove();\r\n             }\r\n          }\r\n       }\r\n    \r\n       @Override\r\n       public void dispose() {\r\n          // dispose of all the native resources\r\n          dropImage.dispose();\r\n          bucketImage.dispose();\r\n          dropSound.dispose();\r\n          rainMusic.dispose();\r\n          batch.dispose();\r\n       }\r\n    }\r\n\r\nIt does compile but when it runs it gives me the following message:\r\n\r\n    [LWJGL] GLFW_PLATFORM_UNAVAILABLE error\r\n        Description : Failed to detect any supported platform\r\n        Stacktrace  :\r\n            org.lwjgl.glfw.GLFW.glfwInit(GLFW.java:1047)\r\n            com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:88)\r\n            com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\r\n            Main.main(Main.java:12)\r\n    Exception in thread &quot;main&quot; com.badlogic.gdx.utils.GdxRuntimeException: Unable to initialize GLFW\r\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:89)\r\n        at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\r\n        at Main.main(Main.java:12)\r\n    exit status 1\r\n\r\n\r\nAny idea?\r\n","title":"Libgdx simple game doesn&#39;t run in replit","body":"<p>I'm a Computer Science teacher, I'm trying to make Libgdx work inside an online development environment (replit.com). I can access and edit the pom.xml, I successfully added the Libgdx dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.badlogicgames.gdx&lt;/groupId&gt;\n  &lt;artifactId&gt;gdx&lt;/artifactId&gt;\n  &lt;version&gt;1.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I copied and pasted the demo code to run a simple raindrops game.</p>\n<p>Here's the Main.java:</p>\n<pre><code>    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\n\npublic class Main {\n   public static void main (String[] arg) {\n     \n      Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\n      config.setTitle(&quot;Drop&quot;);\n      config.setWindowedMode(800, 480);\n      config.useVsync(true);\n      config.setForegroundFPS(60);\n      new Lwjgl3Application(new Drop(), config);\n   }\n}\n</code></pre>\n<p>Drop.java:</p>\n<pre><code>import java.util.Iterator;\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input.Keys;\nimport com.badlogic.gdx.audio.Music;\nimport com.badlogic.gdx.audio.Sound;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.math.MathUtils;\nimport com.badlogic.gdx.math.Rectangle;\nimport com.badlogic.gdx.math.Vector3;\nimport com.badlogic.gdx.utils.Array;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.badlogic.gdx.utils.TimeUtils;\n\npublic class Drop extends ApplicationAdapter {\n   private Texture dropImage;\n   private Texture bucketImage;\n   private Sound dropSound;\n   private Music rainMusic;\n   private SpriteBatch batch;\n   private OrthographicCamera camera;\n   private Rectangle bucket;\n   private Array&lt;Rectangle&gt; raindrops;\n   private long lastDropTime;\n\n   @Override\n   public void create() {\n      // load the images for the droplet and the bucket, 64x64 pixels each\n      dropImage = new Texture(Gdx.files.internal(&quot;droplet.png&quot;));\n      bucketImage = new Texture(Gdx.files.internal(&quot;bucket.png&quot;));\n\n      // load the drop sound effect and the rain background &quot;music&quot;\n      dropSound = Gdx.audio.newSound(Gdx.files.internal(&quot;drop.wav&quot;));\n      rainMusic = Gdx.audio.newMusic(Gdx.files.internal(&quot;rain.mp3&quot;));\n\n      // start the playback of the background music immediately\n      rainMusic.setLooping(true);\n      rainMusic.play();\n\n      // create the camera and the SpriteBatch\n      camera = new OrthographicCamera();\n      camera.setToOrtho(false, 800, 480);\n      batch = new SpriteBatch();\n\n      // create a Rectangle to logically represent the bucket\n      bucket = new Rectangle();\n      bucket.x = 800 / 2 - 64 / 2; // center the bucket horizontally\n      bucket.y = 20; // bottom left corner of the bucket is 20 pixels above the bottom screen edge\n      bucket.width = 64;\n      bucket.height = 64;\n\n      // create the raindrops array and spawn the first raindrop\n      raindrops = new Array&lt;Rectangle&gt;();\n      spawnRaindrop();\n   }\n\n   private void spawnRaindrop() {\n      Rectangle raindrop = new Rectangle();\n      raindrop.x = MathUtils.random(0, 800-64);\n      raindrop.y = 480;\n      raindrop.width = 64;\n      raindrop.height = 64;\n      raindrops.add(raindrop);\n      lastDropTime = TimeUtils.nanoTime();\n   }\n\n   @Override\n   public void render() {\n      // clear the screen with a dark blue color. The\n      // arguments to clear are the red, green\n      // blue and alpha component in the range [0,1]\n      // of the color to be used to clear the screen.\n      ScreenUtils.clear(0, 0, 0.2f, 1);\n\n      // tell the camera to update its matrices.\n      camera.update();\n\n      // tell the SpriteBatch to render in the\n      // coordinate system specified by the camera.\n      batch.setProjectionMatrix(camera.combined);\n\n      // begin a new batch and draw the bucket and\n      // all drops\n      batch.begin();\n      batch.draw(bucketImage, bucket.x, bucket.y);\n      for(Rectangle raindrop: raindrops) {\n         batch.draw(dropImage, raindrop.x, raindrop.y);\n      }\n      batch.end();\n\n      // process user input\n      if(Gdx.input.isTouched()) {\n         Vector3 touchPos = new Vector3();\n         touchPos.set(Gdx.input.getX(), Gdx.input.getY(), 0);\n         camera.unproject(touchPos);\n         bucket.x = touchPos.x - 64 / 2;\n      }\n      if(Gdx.input.isKeyPressed(Keys.LEFT)) bucket.x -= 200 * Gdx.graphics.getDeltaTime();\n      if(Gdx.input.isKeyPressed(Keys.RIGHT)) bucket.x += 200 * Gdx.graphics.getDeltaTime();\n\n      // make sure the bucket stays within the screen bounds\n      if(bucket.x &lt; 0) bucket.x = 0;\n      if(bucket.x &gt; 800 - 64) bucket.x = 800 - 64;\n\n      // check if we need to create a new raindrop\n      if(TimeUtils.nanoTime() - lastDropTime &gt; 1000000000) spawnRaindrop();\n\n      // move the raindrops, remove any that are beneath the bottom edge of\n      // the screen or that hit the bucket. In the latter case we play back\n      // a sound effect as well.\n      for (Iterator&lt;Rectangle&gt; iter = raindrops.iterator(); iter.hasNext(); ) {\n         Rectangle raindrop = iter.next();\n         raindrop.y -= 200 * Gdx.graphics.getDeltaTime();\n         if(raindrop.y + 64 &lt; 0) iter.remove();\n         if(raindrop.overlaps(bucket)) {\n            dropSound.play();\n            iter.remove();\n         }\n      }\n   }\n\n   @Override\n   public void dispose() {\n      // dispose of all the native resources\n      dropImage.dispose();\n      bucketImage.dispose();\n      dropSound.dispose();\n      rainMusic.dispose();\n      batch.dispose();\n   }\n}\n</code></pre>\n<p>It does compile but when it runs it gives me the following message:</p>\n<pre><code>[LWJGL] GLFW_PLATFORM_UNAVAILABLE error\n    Description : Failed to detect any supported platform\n    Stacktrace  :\n        org.lwjgl.glfw.GLFW.glfwInit(GLFW.java:1047)\n        com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:88)\n        com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\n        Main.main(Main.java:12)\nException in thread &quot;main&quot; com.badlogic.gdx.utils.GdxRuntimeException: Unable to initialize GLFW\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:89)\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\n    at Main.main(Main.java:12)\nexit status 1\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","json","jsonpath"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1687189657,"post_id":76508039,"comment_id":134898755,"body_markdown":"Is it com.jayway.jsonpath.json-path library?","body":"Is it com.jayway.jsonpath.json-path library?"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687190144,"creation_date":1687190144,"answer_id":76508264,"question_id":76508039,"body_markdown":"Use `.json()` method:\r\n\r\n        var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\r\n        Object entryToAdd = JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;).json();\r\n        String updatedJson = context.add(&quot;students&quot;, entryToAdd).jsonString();\r\n        System.out.println(updatedJson);\r\n\r\nprints\r\n\r\n&gt; {&quot;students&quot;:[{&quot;id&quot;:1,&quot;name&quot;:&quot;Bob&quot;}]}","title":"Java JsonPath: Insert object into another object","body":"<p>Use <code>.json()</code> method:</p>\n<pre><code>    var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\n    Object entryToAdd = JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;).json();\n    String updatedJson = context.add(&quot;students&quot;, entryToAdd).jsonString();\n    System.out.println(updatedJson);\n</code></pre>\n<p>prints</p>\n<blockquote>\n<p>{&quot;students&quot;:[{&quot;id&quot;:1,&quot;name&quot;:&quot;Bob&quot;}]}</p>\n</blockquote>\n"}],"owner":{"account_id":4436420,"reputation":1834,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76508264,"answer_count":1,"score":1,"last_activity_date":1687190144,"creation_date":1687188304,"question_id":76508039,"body_markdown":"I am using the [JayWay JsonPath](https://github.com/json-path/JsonPath) to manipulate JSON objects.\r\n\r\nI want to insert a JSON object into a JSON array:\r\n```json\r\n### before\r\n{\r\n  &quot;students&quot;: []\r\n}\r\n\r\n### after\r\n{\r\n  &quot;students&quot;: [{&quot;id&quot;: 1, &quot;name&quot;: &quot;Bob&quot;}]\r\n}\r\n```\r\n\r\nSomehow I cannot accomplish this in JsonPath. If I add the object as a string, it is not recognized as a JSON object:\r\n```java\r\nvar context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\r\ncontext.add(&quot;students&quot;, &quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;);\r\n\r\nSystem.out.println(context.jsonString());\r\n// &gt; {&quot;students&quot;:[&quot;{\\&quot;id\\&quot;:  1, \\&quot;lastName\\&quot;:  \\&quot;Bob\\&quot;}&quot;]}\r\n```\r\n\r\nIf I try to parse the object, JsonPath adds an empty object:\r\n```java\r\nvar context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\r\ncontext.add(&quot;students&quot;, JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;));\r\n\r\nSystem.out.println(context.jsonString());\r\n// &gt; {&quot;students&quot;:[{}]}\r\n```\r\nHow can I insert the JSON object into the array?","title":"Java JsonPath: Insert object into another object","body":"<p>I am using the <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JayWay JsonPath</a> to manipulate JSON objects.</p>\n<p>I want to insert a JSON object into a JSON array:</p>\n<pre class=\"lang-json prettyprint-override\"><code>### before\n{\n  &quot;students&quot;: []\n}\n\n### after\n{\n  &quot;students&quot;: [{&quot;id&quot;: 1, &quot;name&quot;: &quot;Bob&quot;}]\n}\n</code></pre>\n<p>Somehow I cannot accomplish this in JsonPath. If I add the object as a string, it is not recognized as a JSON object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\ncontext.add(&quot;students&quot;, &quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;);\n\nSystem.out.println(context.jsonString());\n// &gt; {&quot;students&quot;:[&quot;{\\&quot;id\\&quot;:  1, \\&quot;lastName\\&quot;:  \\&quot;Bob\\&quot;}&quot;]}\n</code></pre>\n<p>If I try to parse the object, JsonPath adds an empty object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var context = JsonPath.parse(&quot;{\\&quot;students\\&quot;:  []}&quot;);\ncontext.add(&quot;students&quot;, JsonPath.parse(&quot;{\\&quot;id\\&quot;:  1, \\&quot;name\\&quot;:  \\&quot;Bob\\&quot;}&quot;));\n\nSystem.out.println(context.jsonString());\n// &gt; {&quot;students&quot;:[{}]}\n</code></pre>\n<p>How can I insert the JSON object into the array?</p>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":7637243,"reputation":571,"user_id":6645112,"display_name":"Daxesh V"},"score":0,"creation_date":1626930948,"post_id":67418660,"comment_id":121023851,"body_markdown":"Clean your project\nGenerate signed yours bundle/.apk file\nUncheck the &quot;Remember password&quot;\nManually put your password at &quot;Key store password&quot; and &quot;Key password&quot;\nClick Next and you Done!.","body":"Clean your project Generate signed yours bundle/.apk file Uncheck the &quot;Remember password&quot; Manually put your password at &quot;Key store password&quot; and &quot;Key password&quot; Click Next and you Done!."}],"answers":[{"comments":[{"owner":{"account_id":6597372,"reputation":168,"user_id":5096688,"display_name":"L&#234; Th&#225;i Ph&#250;c Quang"},"score":1,"creation_date":1622198982,"post_id":67429192,"comment_id":119729639,"body_markdown":"so at the end, app module will have `id &#39;com.android.application&#39;`, and library module will have `id &#39;com.android.library&#39;`? I still stuck with this problem","body":"so at the end, app module will have <code>id &#39;com.android.application&#39;</code>, and library module will have <code>id &#39;com.android.library&#39;</code>? I still stuck with this problem"}],"tags":[],"owner":{"account_id":13109426,"reputation":969,"user_id":9471004,"display_name":"Gaurav Pandit"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620363211,"creation_date":1620363211,"answer_id":67429192,"question_id":67418660,"body_markdown":"I got the solution. \r\nThere was a library in project having,\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n    }\r\n\r\nin the build.gradle file of library.\r\nI added the same,\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n    }\r\n\r\nin build.gradle file of app.\r\nIt was causing this error. \r\nI changed it back to, \r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n\r\nThis solved my issue.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I got the solution.\nThere was a library in project having,</p>\n<pre><code>plugins {\n    id 'com.android.library'\n}\n</code></pre>\n<p>in the build.gradle file of library.\nI added the same,</p>\n<pre><code>plugins {\n    id 'com.android.library'\n}\n</code></pre>\n<p>in build.gradle file of app.\nIt was causing this error.\nI changed it back to,</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n</code></pre>\n<p>This solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":8663810,"reputation":1009,"user_id":6485135,"accept_rate":75,"display_name":"e.hadid"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1623736417,"creation_date":1623736417,"answer_id":67980723,"question_id":67418660,"body_markdown":"In my case, there was an unwanted character(a semicolon) in build.gradle(app)\r\n\r\nI deleted that and rebuiled the project\r\n\r\nproblem solved.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case, there was an unwanted character(a semicolon) in build.gradle(app)</p>\n<p>I deleted that and rebuiled the project</p>\n<p>problem solved.</p>\n"},{"comments":[{"owner":{"account_id":13964268,"reputation":81,"user_id":10084537,"display_name":"reza laki"},"score":0,"creation_date":1658265604,"post_id":68479491,"comment_id":129008079,"body_markdown":"you really helped me. I had the same issue. in my gradle versionCode was 1.0 that&#39;s why I ran into trouble. I changed it to 1. now I have no issue :)","body":"you really helped me. I had the same issue. in my gradle versionCode was 1.0 that&#39;s why I ran into trouble. I changed it to 1. now I have no issue :)"}],"tags":[],"owner":{"account_id":19342799,"reputation":123,"user_id":14141957,"display_name":"Dev Ayush"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1628913024,"creation_date":1626930723,"answer_id":68479491,"question_id":67418660,"body_markdown":"I was using -\r\n(in build.gradle)\r\n&quot;versionCode&quot; as RN-2 (* as i was developing in React Native)\r\nthen i tried &quot;versionCode&quot; as 3.1 but that also was throwing error\r\nthen i used - \r\n`versionCode 4`\r\n\r\nand this time the BUILD was SUCCESSFUL\r\n\r\n**my learning* -&gt; versionCode should be integer**\r\n ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I was using -\n(in build.gradle)\n&quot;versionCode&quot; as RN-2 (* as i was developing in React Native)\nthen i tried &quot;versionCode&quot; as 3.1 but that also was throwing error\nthen i used -\n<code>versionCode 4</code></p>\n<p>and this time the BUILD was SUCCESSFUL</p>\n<p><em><em>my learning</em> -&gt; versionCode should be integer</em>*</p>\n"},{"comments":[{"owner":{"account_id":327933,"reputation":6479,"user_id":650606,"display_name":"Besnik"},"score":1,"creation_date":1627564755,"post_id":68573115,"comment_id":121193923,"body_markdown":"Back thats a way back right? It is recommended to upgraded from aapt to android resources","body":"Back thats a way back right? It is recommended to upgraded from aapt to android resources"},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":2,"creation_date":1650539764,"post_id":68573115,"comment_id":127144685,"body_markdown":"Any other possibility of this error? I don&#39;t have &#39;androidResources&#39; in my build.gradle","body":"Any other possibility of this error? I don&#39;t have &#39;androidResources&#39; in my build.gradle"}],"tags":[],"owner":{"account_id":10481302,"reputation":1275,"user_id":7726229,"display_name":"dnhyde"},"comment_count":2,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1627549561,"creation_date":1627549561,"answer_id":68573115,"question_id":67418660,"body_markdown":"I had the same issue when migrating to the AGP 7.0 when moving from `aaptOptions` to `androidResources`.\r\n\r\nFor me it was enough to replace\r\n```\r\nandroidResources {\r\n   noCompress &#39;...&#39;\r\n}\r\n```\r\n\r\nwith \r\n\r\n```\r\naaptOptions {\r\n   noCompress &#39;...&#39;\r\n}\r\n```","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had the same issue when migrating to the AGP 7.0 when moving from <code>aaptOptions</code> to <code>androidResources</code>.</p>\n<p>For me it was enough to replace</p>\n<pre><code>androidResources {\n   noCompress '...'\n}\n</code></pre>\n<p>with</p>\n<pre><code>aaptOptions {\n   noCompress '...'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13265053,"reputation":326,"user_id":9578198,"display_name":"Michele"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628758901,"creation_date":1628758901,"answer_id":68754449,"question_id":67418660,"body_markdown":"In my case I was working with `productFlavors`, setting up a boolean property. I forgot to surround the boolean value with apostrophes.\r\n\r\nSo I changed this\r\n\r\n    productFlavors {\r\n        normal {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, false\r\n        } \r\n\r\n        admin {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, true\r\n        }\r\n    }\r\n\r\nto this\r\n\r\n    productFlavors {\r\n        normal {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, &#39;false&#39;\r\n        } \r\n\r\n        admin {\r\n            flavorDimension &quot;access&quot;\r\n            buildConfigField &#39;boolean&#39;, &#39;IS_ADMIN&#39;, &#39;true&#39;\r\n        }\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I was working with <code>productFlavors</code>, setting up a boolean property. I forgot to surround the boolean value with apostrophes.</p>\n<p>So I changed this</p>\n<pre><code>productFlavors {\n    normal {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', false\n    } \n\n    admin {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', true\n    }\n}\n</code></pre>\n<p>to this</p>\n<pre><code>productFlavors {\n    normal {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', 'false'\n    } \n\n    admin {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', 'true'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1628836884,"creation_date":1628776693,"answer_id":68758851,"question_id":67418660,"body_markdown":"I had the same issue when migrating to the `&#39;com.android.tools.build:gradle:7.0.0&#39;`\r\n\r\nI removed the code:\r\n```\r\njavaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [fragmentArgsLogWarnings: &#39;false&#39;]\r\n                includeCompileClasspath true\r\n            }\r\n        }\r\n ```\r\n\r\nhere is desc about how to add it again for kapt\r\nhttps://github.com/sockeqwe/fragmentargs#annotation-processor-options\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had the same issue when migrating to the <code>'com.android.tools.build:gradle:7.0.0'</code></p>\n<p>I removed the code:</p>\n<pre><code>javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [fragmentArgsLogWarnings: 'false']\n                includeCompileClasspath true\n            }\n        }\n</code></pre>\n<p>here is desc about how to add it again for kapt\n<a href=\"https://github.com/sockeqwe/fragmentargs#annotation-processor-options\" rel=\"noreferrer\">https://github.com/sockeqwe/fragmentargs#annotation-processor-options</a></p>\n"},{"tags":[],"owner":{"account_id":8477195,"reputation":628,"user_id":6358068,"display_name":"bra.Scene"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1637162312,"creation_date":1637162312,"answer_id":70007042,"question_id":67418660,"body_markdown":"There&#39;s no unique answer for this, except that it&#39;s a syntax typo inside `build.gradle` file.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>There's no unique answer for this, except that it's a syntax typo inside <code>build.gradle</code> file.</p>\n"},{"tags":[],"owner":{"account_id":18907312,"reputation":1734,"user_id":13794189,"display_name":"Miguel Tom&#225;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684621503,"creation_date":1637407355,"answer_id":70045441,"question_id":67418660,"body_markdown":"The error can have many origins. One most frequent is due to **syntax typo inside build.gradle** file and there&#39;s no easy way to spot it. \r\n\r\nMy suggestion. **Copy the code from a working build.grade file on another project and replace the part that is throwing the error.**","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>The error can have many origins. One most frequent is due to <strong>syntax typo inside build.gradle</strong> file and there's no easy way to spot it.</p>\n<p>My suggestion. <strong>Copy the code from a working build.grade file on another project and replace the part that is throwing the error.</strong></p>\n"},{"tags":[],"owner":{"account_id":1341098,"reputation":1300,"user_id":1282732,"display_name":"molokoka"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637836043,"creation_date":1637836043,"answer_id":70109456,"question_id":67418660,"body_markdown":"`kotlinOptions` lambda caused error in my case.\r\n \r\n```\r\nandroid {\r\n...\r\n    kotlinOptions {\r\n        jvmTarget = &quot;11&quot;\r\n    }\r\n...\r\n}\r\n```  \r\nWhen I removed it - everything start to work back again.  ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p><code>kotlinOptions</code> lambda caused error in my case.</p>\n<pre><code>android {\n...\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n...\n}\n</code></pre>\n<p>When I removed it - everything start to work back again.</p>\n"},{"tags":[],"owner":{"account_id":3838237,"reputation":1540,"user_id":3182079,"display_name":"Pietrek"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638433536,"creation_date":1638433536,"answer_id":70196186,"question_id":67418660,"body_markdown":"My solution was to comment all elements in `android {}` section, sync &amp; build and then uncomment. It worked.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>My solution was to comment all elements in <code>android {}</code> section, sync &amp; build and then uncomment. It worked.</p>\n"},{"comments":[{"owner":{"account_id":13217264,"reputation":287,"user_id":9545343,"display_name":"Aman Jat"},"score":2,"creation_date":1649033788,"post_id":70681405,"comment_id":126766263,"body_markdown":"I got help through this technique, thanks","body":"I got help through this technique, thanks"},{"owner":{"account_id":15212304,"reputation":772,"user_id":10976668,"display_name":"Sergio Pardo"},"score":6,"creation_date":1652375625,"post_id":70681405,"comment_id":127596985,"body_markdown":"I solved it also using this. In my case it was also useProguard inside the buildTypes, deleted that and it worked","body":"I solved it also using this. In my case it was also useProguard inside the buildTypes, deleted that and it worked"},{"owner":{"account_id":1570860,"reputation":384,"user_id":1458576,"accept_rate":50,"display_name":"ieselisra"},"score":1,"creation_date":1666126151,"post_id":70681405,"comment_id":130860994,"body_markdown":"That was my problem too (buildTypes)","body":"That was my problem too (buildTypes)"}],"tags":[],"owner":{"account_id":1850145,"reputation":1023,"user_id":1676847,"display_name":"Andrei Verdes"},"comment_count":3,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1644761024,"creation_date":1641989712,"answer_id":70681405,"question_id":67418660,"body_markdown":"Best way to deal with this is going in the `android { ... }` block and start commenting out different methods/blocks until the configuration moves past the `.android()` error and you&#39;ll know which block is causing it. In my case it was a deprecated method in the `buildTypes { ... }` block. ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>Best way to deal with this is going in the <code>android { ... }</code> block and start commenting out different methods/blocks until the configuration moves past the <code>.android()</code> error and you'll know which block is causing it. In my case it was a deprecated method in the <code>buildTypes { ... }</code> block.</p>\n"},{"tags":[],"owner":{"account_id":13956201,"reputation":102,"user_id":10078504,"display_name":"Mayank Pandit"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1642784790,"creation_date":1642784790,"answer_id":70805025,"question_id":67418660,"body_markdown":"I had this error `No signature of method: build_eux4i9fuz78eb5ojbn76y01n5.android() is applicable for argument types`\r\n\r\nIt was fixed by changing\r\n\r\n    buildFeatures {\r\n        dataBinding true\r\n    }\r\n\r\nto\r\n\r\n    dataBinding {\r\n        enabled = true\r\n    }\r\n\r\nI believe the error is the cause of version conflicts between kotlin plugin version and gradle version.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had this error <code>No signature of method: build_eux4i9fuz78eb5ojbn76y01n5.android() is applicable for argument types</code></p>\n<p>It was fixed by changing</p>\n<pre><code>buildFeatures {\n    dataBinding true\n}\n</code></pre>\n<p>to</p>\n<pre><code>dataBinding {\n    enabled = true\n}\n</code></pre>\n<p>I believe the error is the cause of version conflicts between kotlin plugin version and gradle version.</p>\n"},{"tags":[],"owner":{"account_id":1216415,"reputation":568,"user_id":1183928,"accept_rate":47,"display_name":"Fivos"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648023862,"creation_date":1648023862,"answer_id":71583908,"question_id":67418660,"body_markdown":"I had the same issue when I removed the `id &#39;org.jetbrains.kotlin.android.extensions&#39;` plugin from build.gradle(:app).\r\n\r\nIt was fixed by also removing \r\n\r\n        android {\r\n            ...\r\n            androidExtensions {\r\n                experimental = true\r\n            }\r\n            ...\r\n        }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I had the same issue when I removed the <code>id 'org.jetbrains.kotlin.android.extensions'</code> plugin from build.gradle(:app).</p>\n<p>It was fixed by also removing</p>\n<pre><code>    android {\n        ...\n        androidExtensions {\n            experimental = true\n        }\n        ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19999309,"reputation":406,"user_id":14658605,"display_name":"Adam Bridges"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1649213798,"creation_date":1649213798,"answer_id":71760565,"question_id":67418660,"body_markdown":"I fixed this error by removing &#39;useProguard&#39; from app/build.gradle like so:\r\n\r\n    buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n    \r\n                minifyEnabled true\r\n                shrinkResources true\r\n    \r\n                // useProguard true &lt;-- removed this\r\n                proguardFiles(\r\n                        getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;\r\n                )\r\n            }\r\n        }\r\n        \r\nI hope that helps someone!","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I fixed this error by removing 'useProguard' from app/build.gradle like so:</p>\n<pre><code>buildTypes {\n        release {\n            signingConfig signingConfigs.release\n\n            minifyEnabled true\n            shrinkResources true\n\n            // useProguard true &lt;-- removed this\n            proguardFiles(\n                    getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;\n            )\n        }\n    }\n    \n</code></pre>\n<p>I hope that helps someone!</p>\n"},{"tags":[],"owner":{"account_id":184542,"reputation":561,"user_id":420654,"accept_rate":25,"display_name":"Tobechukwu Ezenachukwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1649393314,"creation_date":1649393314,"answer_id":71791797,"question_id":67418660,"body_markdown":"I recently had similar trouble. I had to rerun the project with a &quot;build.gradle&quot; file from another project that didn&#39;t have any issues. Then I narrowed the issue down to `useProguard true`. The issue disappeared after I commented out `useProguard true` as shown below: \r\n\r\n    buildTypes {\r\n        release {\r\n            signingConfig signingConfigs.release\r\n            minifyEnabled true\r\n            //useProguard true  &lt;-- remove this line\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;)\r\n        }\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I recently had similar trouble. I had to rerun the project with a &quot;build.gradle&quot; file from another project that didn't have any issues. Then I narrowed the issue down to <code>useProguard true</code>. The issue disappeared after I commented out <code>useProguard true</code> as shown below:</p>\n<pre><code>buildTypes {\n    release {\n        signingConfig signingConfigs.release\n        minifyEnabled true\n        //useProguard true  &lt;-- remove this line\n        proguardFiles getDefaultProguardFile('proguard-android.txt')\n    }\n    debug {\n        signingConfig signingConfigs.debug\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12898814,"reputation":628,"user_id":9351811,"display_name":"Kuvonchbek Yakubov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650030870,"creation_date":1650030870,"answer_id":71884903,"question_id":67418660,"body_markdown":"I just created a new project and added dependencies, and this error occurred.\r\n\r\nIn my case the problem was `namespace` &#39;com.appName.packageName.app&#39; line in `build.gradle` file. Deleting this helped me.\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n        id &#39;kotlin-android&#39;\r\n        id &#39;kotlin-kapt&#39;\r\n        id &#39;androidx.navigation.safeargs.kotlin&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.mathtask.app&#39; // Delete this line\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.mathtask.app&quot;\r\n            minSdk 27\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    ...","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I just created a new project and added dependencies, and this error occurred.</p>\n<p>In my case the problem was <code>namespace</code> 'com.appName.packageName.app' line in <code>build.gradle</code> file. Deleting this helped me.</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'androidx.navigation.safeargs.kotlin'\n}\n\nandroid {\n    namespace 'com.mathtask.app' // Delete this line\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.mathtask.app&quot;\n        minSdk 27\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1617925,"reputation":362,"user_id":1495092,"accept_rate":14,"display_name":"Mark Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650404153,"creation_date":1650326771,"answer_id":71918267,"question_id":67418660,"body_markdown":"An absolutely Ludicrous error being issued by Android Studio\r\n\r\nMind you this has been compiling absolutely fine in previous versions of AS and Gradle until I upgraded a couple of days ago. \r\n\r\nI had accidentally in one of my modules typed a Capital letter (many months ago mind you) as follows ; \r\n\r\n    DefaultConfig {\r\n        minSdkVersion 25\r\n        targetSdkVersion 30\r\n    }\r\n\r\nAfter so many hours of searching and trying various things I just happened to spot it.\r\n\r\n    defaultConfig {\r\n        minSdkVersion 25\r\n        targetSdkVersion 30\r\n    }\r\n\r\nThe above resolved the issue. \r\n\r\n`DefaultConfig` -&gt; `defaultConfig`\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>An absolutely Ludicrous error being issued by Android Studio</p>\n<p>Mind you this has been compiling absolutely fine in previous versions of AS and Gradle until I upgraded a couple of days ago.</p>\n<p>I had accidentally in one of my modules typed a Capital letter (many months ago mind you) as follows ;</p>\n<pre><code>DefaultConfig {\n    minSdkVersion 25\n    targetSdkVersion 30\n}\n</code></pre>\n<p>After so many hours of searching and trying various things I just happened to spot it.</p>\n<pre><code>defaultConfig {\n    minSdkVersion 25\n    targetSdkVersion 30\n}\n</code></pre>\n<p>The above resolved the issue.</p>\n<p><code>DefaultConfig</code> -&gt; <code>defaultConfig</code></p>\n"},{"tags":[],"owner":{"account_id":11829376,"reputation":72,"user_id":8656527,"display_name":"Mahdi Eyvazi"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1650742139,"creation_date":1650742139,"answer_id":71982995,"question_id":67418660,"body_markdown":"remove\r\n\r\n&quot;useProguard true&quot;\r\n\r\n    buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                //useProguard true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>remove</p>\n<p>&quot;useProguard true&quot;</p>\n<pre><code>buildTypes {\n        release {\n            minifyEnabled true\n            //useProguard true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1652248832,"post_id":72186858,"comment_id":127557373,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72186858/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25253735,"reputation":1,"user_id":19085829,"display_name":"user19085829"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652187807,"creation_date":1652187807,"answer_id":72186858,"question_id":67418660,"body_markdown":"I fix this error by changing version code to less than 6. using 7 onwards will exist this error.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I fix this error by changing version code to less than 6. using 7 onwards will exist this error.</p>\n"},{"tags":[],"owner":{"account_id":6991939,"reputation":2711,"user_id":5360898,"display_name":"yaugenka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655582417,"creation_date":1655581160,"answer_id":72672246,"question_id":67418660,"body_markdown":"In my case I defined flavorDimensions using kotlin style instead of groovy\r\n\r\n    flavorDimensions += listOf(&quot;api&quot;, &quot;mode&quot;)\r\n\r\nFixed it this way\r\n\r\n    flavorDimensions += [&quot;api&quot;, &quot;mode&quot;]","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I defined flavorDimensions using kotlin style instead of groovy</p>\n<pre><code>flavorDimensions += listOf(&quot;api&quot;, &quot;mode&quot;)\n</code></pre>\n<p>Fixed it this way</p>\n<pre><code>flavorDimensions += [&quot;api&quot;, &quot;mode&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8825915,"reputation":707,"user_id":6594174,"display_name":"leonardo rey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657107459,"creation_date":1657107459,"answer_id":72882943,"question_id":67418660,"body_markdown":"In my case i could fix it commenting the : MultiDexEnable value on android.defaultConfig","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case i could fix it commenting the : MultiDexEnable value on android.defaultConfig</p>\n"},{"tags":[],"owner":{"account_id":4751012,"reputation":236,"user_id":15836836,"display_name":"Ramy Wahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660647318,"creation_date":1660647318,"answer_id":73372856,"question_id":67418660,"body_markdown":"For me, I changed build:gradle.7.1.2 to 4.1.0 and work very good \r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n\r\nto \r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>For me, I changed build:gradle.7.1.2 to 4.1.0 and work very good</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:7.1.2'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n}\n</code></pre>\n<p>to</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:4.1.0'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19639092,"reputation":1,"user_id":14375674,"display_name":"Nurlibay Koshkinbayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660845941,"creation_date":1660845941,"answer_id":73407602,"question_id":67418660,"body_markdown":"I do that: \r\n\r\n    buildTypes {\r\n        release {\r\n\r\n            /**\r\n             * Enables code shrinking, obfuscation, and optimization for only\r\n             * your project&#39;s release build type.\r\n             * */\r\n            minifyEnabled true\r\n\r\n            /**\r\n             * Enables resource shrinking, which is performed by the\r\n             * Android Gradle plugin.\r\n             * */\r\n            shrinkResources true\r\n\r\n            /**\r\n             * Includes the default ProGuard rules files that are packaged with\r\n             * the Android Gradle plugin. To learn more, go to the section about\r\n             * R8 configuration files.\r\n             * */\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            /**\r\n             * Enables code shrinking, obfuscation, and optimization for only\r\n             * your project&#39;s release build type.\r\n             * */\r\n            minifyEnabled true\r\n\r\n            /**\r\n             * Enables resource shrinking, which is performed by the\r\n             * Android Gradle plugin.\r\n             * */\r\n            shrinkResources true\r\n\r\n            /**\r\n             * Includes the default ProGuard rules files that are packaged with\r\n             * the Android Gradle plugin. To learn more, go to the section about\r\n             * R8 configuration files.\r\n             * */\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n\r\n        }\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I do that:</p>\n<pre><code>buildTypes {\n    release {\n\n        /**\n         * Enables code shrinking, obfuscation, and optimization for only\n         * your project's release build type.\n         * */\n        minifyEnabled true\n\n        /**\n         * Enables resource shrinking, which is performed by the\n         * Android Gradle plugin.\n         * */\n        shrinkResources true\n\n        /**\n         * Includes the default ProGuard rules files that are packaged with\n         * the Android Gradle plugin. To learn more, go to the section about\n         * R8 configuration files.\n         * */\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        /**\n         * Enables code shrinking, obfuscation, and optimization for only\n         * your project's release build type.\n         * */\n        minifyEnabled true\n\n        /**\n         * Enables resource shrinking, which is performed by the\n         * Android Gradle plugin.\n         * */\n        shrinkResources true\n\n        /**\n         * Includes the default ProGuard rules files that are packaged with\n         * the Android Gradle plugin. To learn more, go to the section about\n         * R8 configuration files.\n         * */\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6246927,"reputation":2030,"user_id":5060269,"display_name":"Shubham Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660909823,"creation_date":1660909823,"answer_id":73416352,"question_id":67418660,"body_markdown":"This error is a bit misleading.\r\nA simple typo can cause this error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MbukV.png\r\n\r\nI just had the spelling of &quot;multidexEnabled&quot; wrong.","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>This error is a bit misleading.\nA simple typo can cause this error</p>\n<p><a href=\"https://i.stack.imgur.com/MbukV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbukV.png\" alt=\"enter image description here\" /></a></p>\n<p>I just had the spelling of &quot;multidexEnabled&quot; wrong.</p>\n"},{"tags":[],"owner":{"account_id":14911195,"reputation":2478,"user_id":10766642,"display_name":"danyapd"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661800317,"creation_date":1661800317,"answer_id":73533606,"question_id":67418660,"body_markdown":"In my case I&#39;ve commented `buildTools`\r\n\r\n    android {\r\n        compileSdk 32\r\n    //    buildTools &quot;32.1.0 rc1&quot;\r\n    ...\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I've commented <code>buildTools</code></p>\n<pre><code>android {\n    compileSdk 32\n//    buildTools &quot;32.1.0 rc1&quot;\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20035580,"reputation":61,"user_id":14687391,"display_name":"ReevoXFR"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662446869,"creation_date":1662446869,"answer_id":73617766,"question_id":67418660,"body_markdown":"For me, when I was downgrading the GradleVersion and some dependencie, I had to remove this line from *build.gradle (:app)*\r\n    \r\n    android {\r\n    ...\r\n        namespace &#39;com.yourpackagename&#39; &lt;-- delete this line\r\n    ...\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>For me, when I was downgrading the GradleVersion and some dependencie, I had to remove this line from <em>build.gradle (:app)</em></p>\n<pre><code>android {\n...\n    namespace 'com.yourpackagename' &lt;-- delete this line\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3565126,"reputation":2683,"user_id":2976879,"display_name":"Elmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662635945,"creation_date":1662635945,"answer_id":73648223,"question_id":67418660,"body_markdown":"It usually happens during upgrading process of very old project and when some gradle file parts edited manually and there is a mismatch. It is very time consuming and sometimes very painful to find what is the exact problem as generated errors may not even correctly indicate the issue. \r\n\r\n\r\nOne complex solution is to create new project with exact same package name and then copy-paste working-logic part into that project. This is easier solution as when we create new project all gradle, sdk, dependecies automatically created. \r\n\r\nIt happened with my Flutter project upgrade and managed to solve the issue only this way. ","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>It usually happens during upgrading process of very old project and when some gradle file parts edited manually and there is a mismatch. It is very time consuming and sometimes very painful to find what is the exact problem as generated errors may not even correctly indicate the issue.</p>\n<p>One complex solution is to create new project with exact same package name and then copy-paste working-logic part into that project. This is easier solution as when we create new project all gradle, sdk, dependecies automatically created.</p>\n<p>It happened with my Flutter project upgrade and managed to solve the issue only this way.</p>\n"},{"comments":[{"owner":{"account_id":7193959,"reputation":862,"user_id":5493355,"display_name":"Thelouras"},"score":0,"creation_date":1665220930,"post_id":73676889,"comment_id":130652351,"body_markdown":"Hi Ali, where do I add this ?","body":"Hi Ali, where do I add this ?"},{"owner":{"account_id":11389751,"reputation":189,"user_id":8350236,"display_name":"Yousuf Ali"},"score":0,"creation_date":1665372831,"post_id":73676889,"comment_id":130676892,"body_markdown":"Inside android you have to remove this.","body":"Inside android you have to remove this."}],"tags":[],"owner":{"account_id":11389751,"reputation":189,"user_id":8350236,"display_name":"Yousuf Ali"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662871656,"creation_date":1662871656,"answer_id":73676889,"question_id":67418660,"body_markdown":"I&#39;m facing this problem because of jackOptions.I solve this to remove bellow code from android:\r\n\r\n    jackOptions {\r\n                enabled true\r\n            }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>I'm facing this problem because of jackOptions.I solve this to remove bellow code from android:</p>\n<pre><code>jackOptions {\n            enabled true\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12360402,"reputation":122,"user_id":9014836,"display_name":"Arham Anees"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663399946,"creation_date":1663399946,"answer_id":73753020,"question_id":67418660,"body_markdown":"in my case, it was `storeFile` value. following work fine for me.\r\n````\r\nstoreFile keystoreProperties[&#39;storeFileUpload&#39;] ? file(keystoreProperties[&#39;storeFileUpload&#39;]) : null\r\n````\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>in my case, it was <code>storeFile</code> value. following work fine for me.</p>\n<pre><code>storeFile keystoreProperties['storeFileUpload'] ? file(keystoreProperties['storeFileUpload']) : null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875685,"reputation":1442,"user_id":1696950,"accept_rate":88,"display_name":"Ahmad Shahwaiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663504319,"creation_date":1663504319,"answer_id":73762822,"question_id":67418660,"body_markdown":"In my case I had to remove this:\r\n\r\n      proguardFile getDefaultDexGuardFile(&#39;dexguard-debug.pro&#39;)","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>In my case I had to remove this:</p>\n<pre><code>  proguardFile getDefaultDexGuardFile('dexguard-debug.pro')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18712416,"reputation":638,"user_id":13642222,"display_name":"sina akbari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664620167,"creation_date":1664620167,"answer_id":73917593,"question_id":67418660,"body_markdown":"Just Remove All the dependencies related to **protobuf** .\r\n\r\n","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>Just Remove All the dependencies related to <strong>protobuf</strong> .</p>\n"},{"tags":[],"owner":{"account_id":1172561,"reputation":5924,"user_id":1149398,"accept_rate":100,"display_name":"sud007"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672288801,"creation_date":1664823020,"answer_id":73939620,"question_id":67418660,"body_markdown":"There is certainly no unique answer here. Every developer faced some issue unique to their own `gradle` file configuration. For me, it started to appear during a migration to `gradle-7.0`. However, It worked when I realised and fixed the missing plugin in `app-gradle`\r\n\r\nPlugin that my file was missing\r\n\r\n    id &#39;kotlin-android&#39;","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>There is certainly no unique answer here. Every developer faced some issue unique to their own <code>gradle</code> file configuration. For me, it started to appear during a migration to <code>gradle-7.0</code>. However, It worked when I realised and fixed the missing plugin in <code>app-gradle</code></p>\n<p>Plugin that my file was missing</p>\n<pre><code>id 'kotlin-android'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213874,"reputation":22213,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666104699,"creation_date":1666104699,"answer_id":74113059,"question_id":67418660,"body_markdown":"As other answers have said, everybody has a different solution to this thanks to Gradle&#39;s crappy error messages. Or is it Groovy&#39;s fault? I&#39;m not sure.\r\n\r\nIn my case, it was a bit esoteric, but I&#39;ll post it anyway, it might help someone.\r\n\r\nI created a new Android project where the default skeleton Gradle files were using Android Gradle Plugin 7 and the new targetSdk (instead of targetSdkVersion), compileSdk (instead of compileSdkVersion) and minSdk (instead of minSdkVersion).\r\n\r\nI changed AGP to 3.6.3 (for a weird reason, this is why this is probably no help to anyone) and got the error message because targetSdk/compileSdk/minSdk","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>As other answers have said, everybody has a different solution to this thanks to Gradle's crappy error messages. Or is it Groovy's fault? I'm not sure.</p>\n<p>In my case, it was a bit esoteric, but I'll post it anyway, it might help someone.</p>\n<p>I created a new Android project where the default skeleton Gradle files were using Android Gradle Plugin 7 and the new targetSdk (instead of targetSdkVersion), compileSdk (instead of compileSdkVersion) and minSdk (instead of minSdkVersion).</p>\n<p>I changed AGP to 3.6.3 (for a weird reason, this is why this is probably no help to anyone) and got the error message because targetSdk/compileSdk/minSdk</p>\n"},{"comments":[{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1668249243,"post_id":74398399,"comment_id":131362759,"body_markdown":"Please explain your answer to make it better.","body":"Please explain your answer to make it better."}],"tags":[],"owner":{"account_id":12416836,"reputation":19,"user_id":9045872,"display_name":"Nitul Savaliya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668254772,"creation_date":1668144838,"answer_id":74398399,"question_id":67418660,"body_markdown":"```\r\nplugins {\r\n      id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n```\r\n\r\nbuild.gradle add this plugin on app level Gradle then sync","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<pre><code>plugins {\n      id 'org.jetbrains.kotlin.android'\n}\n</code></pre>\n<p>build.gradle add this plugin on app level Gradle then sync</p>\n"},{"tags":[],"owner":{"account_id":6751378,"reputation":1027,"user_id":5201270,"accept_rate":75,"display_name":"Ashish Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669722029,"creation_date":1669722029,"answer_id":74613535,"question_id":67418660,"body_markdown":"*Hi devs, just updated to AS-Dolphin and received this error while creating a new project.*\r\n\r\nIn my case the issue was **compileSdk, minSdk, targetSdk** all were missing **Version** keyword.\r\n\r\n*When I added that the error was gone... **Woh!!!***\r\n    \r\n    compileSdkVersion 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.android&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p><em>Hi devs, just updated to AS-Dolphin and received this error while creating a new project.</em></p>\n<p>In my case the issue was <strong>compileSdk, minSdk, targetSdk</strong> all were missing <strong>Version</strong> keyword.</p>\n<p><em>When I added that the error was gone... <strong>Woh!!!</strong></em></p>\n<pre><code>compileSdkVersion 32\n\ndefaultConfig {\n    applicationId &quot;com.example.android&quot;\n    minSdkVersion 21\n    targetSdkVersion 32\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7257817,"reputation":1097,"user_id":5535773,"display_name":"Rebar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687190065,"creation_date":1687190065,"answer_id":76508252,"question_id":67418660,"body_markdown":"My error (or needed update) was that my `gradle-wrapper.properties` needs to be updated from an old `6.*` gradle version to `7.3.3` and my build.gradle to latest stable Kotlin and build tools version and also to update to latest target and compile version `33` :D. And voil&#225; it worked like always...","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<p>My error (or needed update) was that my <code>gradle-wrapper.properties</code> needs to be updated from an old <code>6.*</code> gradle version to <code>7.3.3</code> and my build.gradle to latest stable Kotlin and build tools version and also to update to latest target and compile version <code>33</code> :D. And voilá it worked like always...</p>\n"}],"owner":{"account_id":13109426,"reputation":969,"user_id":9471004,"display_name":"Gaurav Pandit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120199,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":36,"score":64,"last_activity_date":1687190065,"creation_date":1620305972,"question_id":67418660,"body_markdown":"\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:app&#39;\r\n\r\nCaused by: groovy.lang.MissingMethodException: No signature of method: build_h12dou32x8mktsbcdinr8fpc.android() is applicable for argument types: (build_h12dou32x8mktsbcdinr8fpc$_run_closure1) values: [build_h12dou32x8mktsbcdinr8fpc$_run_closure1@1630dea1]","title":"No signature of method: .android() is applicable for argument types. Exception in build.gradle (app)","body":"<ul>\n<li>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'</li>\n</ul>\n<p>Caused by: groovy.lang.MissingMethodException: No signature of method: build_h12dou32x8mktsbcdinr8fpc.android() is applicable for argument types: (build_h12dou32x8mktsbcdinr8fpc$_run_closure1) values: [build_h12dou32x8mktsbcdinr8fpc$_run_closure1@1630dea1]</p>\n"},{"tags":["java","performance","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":13185554,"reputation":534,"user_id":12022900,"display_name":"Joevanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687189782,"creation_date":1687189782,"answer_id":76508216,"question_id":76465955,"body_markdown":"&lt;p style=&quot;margin: 0;&quot;&gt;You can use the &lt;a href=&quot;https://cloud.google.com/bigquery/docs/reference/storage&quot;&gt;BigQuery Storage Read API&lt;/a&gt;. According to the documentation, &quot;the BigQuery Storage Read API provides a third option that represents an improvement over prior options. When you use the Storage Read API, structured data is sent over the wire in a binary serialization format. This allows for additional parallelism among multiple consumers for a set of results.&quot;&lt;/p&gt;\n&lt;p style=&quot;margin: 0;&quot;&gt;&amp;nbsp;&lt;/p&gt;\n&lt;p style=&quot;margin: 0;&quot;&gt;Here&#39;s an &lt;a href=&quot;https://cloud.google.com/bigquery/docs/reference/storage/libraries#use&quot;&gt;example&lt;/a&gt; in using the client library.&lt;/p&gt;","title":"Extracting Small amount of Heavy records from BigQueyr","body":"You can use the <a href=\"https://cloud.google.com/bigquery/docs/reference/storage\" rel=\"nofollow noreferrer\">BigQuery Storage Read API</a>. According to the documentation, \"the BigQuery Storage Read API provides a third option that represents an improvement over prior options. When you use the Storage Read API, structured data is sent over the wire in a binary serialization format. This allows for additional parallelism among multiple consumers for a set of results.\"</p>\n&nbsp;</p>\nHere's an <a href=\"https://cloud.google.com/bigquery/docs/reference/storage/libraries#use\" rel=\"nofollow noreferrer\">example</a> in using the client library.</p>\n"}],"owner":{"account_id":16920586,"reputation":51,"user_id":12237497,"display_name":"Dmytro Pavlov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76508216,"answer_count":1,"score":0,"last_activity_date":1687189782,"creation_date":1686666256,"question_id":76465955,"body_markdown":"I want to load 1 record that has 1.8MB of data from BigQuery query result to Java, currently I am using code like\r\n\r\n```\r\n@Autowired\r\nBigQuery bigQuery;\r\n         \r\nQueryJobConfiguration queryJobConfiguration = QueryJobConfiguration.newBuilder(query)\r\n                .setDefaultDataset(bigQueryProperties.getDatasetName())\r\n                .setUseQueryCache(true)\r\n                .setNamedParameters(queryParametersMap)\r\n                .setJobTimeoutMs(jobTimeoutMs)\r\n                .build();\r\n\r\nbigQuery.query(queryJobConfiguration)\r\n```\r\nI know this code is better to be used for a large number of lightweight records\r\nSo I am interested if there is any better approach in case we have just 1 but a very big record\r\n","title":"Extracting Small amount of Heavy records from BigQueyr","body":"<p>I want to load 1 record that has 1.8MB of data from BigQuery query result to Java, currently I am using code like</p>\n<pre><code>@Autowired\nBigQuery bigQuery;\n         \nQueryJobConfiguration queryJobConfiguration = QueryJobConfiguration.newBuilder(query)\n                .setDefaultDataset(bigQueryProperties.getDatasetName())\n                .setUseQueryCache(true)\n                .setNamedParameters(queryParametersMap)\n                .setJobTimeoutMs(jobTimeoutMs)\n                .build();\n\nbigQuery.query(queryJobConfiguration)\n</code></pre>\n<p>I know this code is better to be used for a large number of lightweight records\nSo I am interested if there is any better approach in case we have just 1 but a very big record</p>\n"},{"tags":["java","ldap"],"comments":[{"owner":{"account_id":481826,"reputation":115,"user_id":895858,"accept_rate":80,"display_name":"Shoner Sul"},"score":0,"creation_date":1607492477,"post_id":65161717,"comment_id":115286438,"body_markdown":"I have the same issue in JDK8. It does not seem to be JDK version issue as answered in https://stackoverflow.com/questions/58911874/java-upgrade-8-to-11-causing-issue-with-ldaps-connection-connection-or-outbound","body":"I have the same issue in JDK8. It does not seem to be JDK version issue as answered in <a href=\"https://stackoverflow.com/questions/58911874/java-upgrade-8-to-11-causing-issue-with-ldaps-connection-connection-or-outbound\" title=\"java upgrade 8 to 11 causing issue with ldaps connection connection or outbound\">stackoverflow.com/questions/58911874/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":485625,"reputation":5104,"user_id":902036,"accept_rate":60,"display_name":"dz902"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1615992055,"creation_date":1615992055,"answer_id":66675331,"question_id":65161717,"body_markdown":"For Googlers:\r\n\r\n`simple bind failed` errors are almost always related to SSL connection.\r\n\r\nWith `nc` or `telnet`, check whether a connection can be established between client and remote host and port.\r\n\r\nWith `SSLPoke.java` (a simple Java class to check SSL connection), check whether certificates are correctly imported and used, also check correct TLS version. Use something like `java -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2 -Djavax.net.debug=all SSLPoke google.com 443 &gt; log.txt 2&gt;&amp;1`.\r\n\r\nLook for:\r\n\r\n- `Warning: no suitable certificate found - continuing without client authentication` = check whether you have set `javax.net.ssl.trustStore`\r\n- `Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking` = could be mismatched TLS versions\r\n- Also check whether your intermediate CA is expired\r\n","title":"Java to Active Directory LDAP java.net.SocketException: Connection or outbound has closed","body":"<p>For Googlers:</p>\n<p><code>simple bind failed</code> errors are almost always related to SSL connection.</p>\n<p>With <code>nc</code> or <code>telnet</code>, check whether a connection can be established between client and remote host and port.</p>\n<p>With <code>SSLPoke.java</code> (a simple Java class to check SSL connection), check whether certificates are correctly imported and used, also check correct TLS version. Use something like <code>java -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2 -Djavax.net.debug=all SSLPoke google.com 443 &gt; log.txt 2&gt;&amp;1</code>.</p>\n<p>Look for:</p>\n<ul>\n<li><code>Warning: no suitable certificate found - continuing without client authentication</code> = check whether you have set <code>javax.net.ssl.trustStore</code></li>\n<li><code>Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking</code> = could be mismatched TLS versions</li>\n<li>Also check whether your intermediate CA is expired</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7454962,"reputation":66,"user_id":5668498,"display_name":"Cristian Chereji"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687189575,"creation_date":1687189575,"answer_id":76508201,"question_id":65161717,"body_markdown":"&quot;Connection or outbound has closed&quot; is a general exception with several possible causes. In order to find the main cause you should start your application with the SSL debugging enabled. You can do that by adding the following VM parameter on startup:\r\n\r\n&gt; -Djavax.net.debug=ssl,handshake\r\n\r\nIn my case, with the SSL debug mode enabled I got &quot;CertificateException: No name matching localhost found&quot; which is explicit enough. The real problem was that the hostname configured in the self-signed certificate was not the one used to access the host. For the handshake not only the certificate validity is verified, but also the matching of host names.","title":"Java to Active Directory LDAP java.net.SocketException: Connection or outbound has closed","body":"<p>&quot;Connection or outbound has closed&quot; is a general exception with several possible causes. In order to find the main cause you should start your application with the SSL debugging enabled. You can do that by adding the following VM parameter on startup:</p>\n<blockquote>\n<p>-Djavax.net.debug=ssl,handshake</p>\n</blockquote>\n<p>In my case, with the SSL debug mode enabled I got &quot;CertificateException: No name matching localhost found&quot; which is explicit enough. The real problem was that the hostname configured in the self-signed certificate was not the one used to access the host. For the handshake not only the certificate validity is verified, but also the matching of host names.</p>\n"}],"owner":{"account_id":16790541,"reputation":81,"user_id":12138293,"display_name":"stefano542"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25730,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1687189575,"creation_date":1607200569,"question_id":65161717,"body_markdown":"Good evening,\r\n\r\nI have been facing this error for a couple of days by now, and despite looking for a solution all over the web, I coul&#39;d fix this error.\r\n\r\n    import java.util.Hashtable;\r\n    import javax.naming.Context;\r\n    import javax.naming.NamingEnumeration;\r\n    import javax.naming.directory.Attribute;\r\n    import javax.naming.directory.Attributes;\r\n    import javax.naming.directory.BasicAttribute;\r\n    import javax.naming.directory.BasicAttributes;\r\n    import javax.naming.directory.DirContext;\r\n    import javax.naming.directory.InitialDirContext;\r\n\r\n    public class LDAPtest {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tString keystorePath = &quot;C:/Program Files/Java/jdk-13.0.2/lib/security/cacerts&quot;;\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, keystorePath);\r\n\t\t\t \r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\t\t\t\r\n\t\t\tHashtable&lt;String, String&gt; ldapEnv = new Hashtable&lt;&gt;(); \r\n\t\t\tldapEnv.put(Context.INITIAL_CONTEXT_FACTORY,&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\t\tldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\r\n\t\t\tldapEnv.put(Context.SECURITY_AUTHENTICATION,&quot;simple&quot;);\r\n\t\t\tldapEnv.put(Context.SECURITY_PRINCIPAL,&quot;uid=admin,ou=system&quot;);\r\n\t\t\tldapEnv.put(Context.SECURITY_CREDENTIALS,&quot;secret&quot;);\r\n\t\t\t\r\n\t\t\tDirContext connection = new InitialDirContext(ldapEnv);\r\n\t\t\tSystem.out.println(&quot;Benvenuto &quot; + connection);\r\n\t        NamingEnumeration enm = connection.list(&quot;&quot;);\r\n\r\n\t        while (enm.hasMore()) {\r\n\t            System.out.println(enm.next());\r\n\t        }\r\n\r\n\t        enm.close();\r\n\t        connection.close();\r\n\t\t\t\r\n\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nThis code is actually working when SSL is not tested, replacing the \r\n\r\n    ldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\r\n\r\nwith \r\n\r\n    ldapEnv.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\r\n\r\nI made the setup for the LDAP server with Apache Directory Studio, and followed this tutorial here in order to get the LDAPS to work:\r\nhttp://directory.apache.org/apacheds/basic-ug/3.3-enabling-ssl.html\r\n\r\nSo I made the certificate, even installed it and imported it with keytool into cacerts.\r\nI enabled portforwarding for the chosen port (10636), but still, I&#39;m getting this exception:\r\n\r\n    javax.naming.CommunicationException: simple bind failed: localhost:10636 [Root exception is \r\n    java.net.SocketException: Connection or outbound has closed]\r\n\tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\r\n\tat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\r\n\tat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\r\n\tat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\r\n\tat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\r\n\tat java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:130)\r\n\tat Prova3.main(Prova3.java:31)\r\n    Caused by: java.net.SocketException: Connection or outbound has closed\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1246)\r\n\tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n\tat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\r\n\tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\r\n\tat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\r\n\tat java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\r\n\tat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\r\n\t... 13 more\r\n\r\n\r\nThank you in advance","title":"Java to Active Directory LDAP java.net.SocketException: Connection or outbound has closed","body":"<p>Good evening,</p>\n<p>I have been facing this error for a couple of days by now, and despite looking for a solution all over the web, I coul'd fix this error.</p>\n<pre><code>import java.util.Hashtable;\nimport javax.naming.Context;\nimport javax.naming.NamingEnumeration;\nimport javax.naming.directory.Attribute;\nimport javax.naming.directory.Attributes;\nimport javax.naming.directory.BasicAttribute;\nimport javax.naming.directory.BasicAttributes;\nimport javax.naming.directory.DirContext;\nimport javax.naming.directory.InitialDirContext;\n\npublic class LDAPtest {\npublic static void main(String[] args) {\n    \n    try {\n        \n        String keystorePath = &quot;C:/Program Files/Java/jdk-13.0.2/lib/security/cacerts&quot;;\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, keystorePath);\n         \n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\n        \n        Hashtable&lt;String, String&gt; ldapEnv = new Hashtable&lt;&gt;(); \n        ldapEnv.put(Context.INITIAL_CONTEXT_FACTORY,&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n        ldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\n        ldapEnv.put(Context.SECURITY_AUTHENTICATION,&quot;simple&quot;);\n        ldapEnv.put(Context.SECURITY_PRINCIPAL,&quot;uid=admin,ou=system&quot;);\n        ldapEnv.put(Context.SECURITY_CREDENTIALS,&quot;secret&quot;);\n        \n        DirContext connection = new InitialDirContext(ldapEnv);\n        System.out.println(&quot;Benvenuto &quot; + connection);\n        NamingEnumeration enm = connection.list(&quot;&quot;);\n\n        while (enm.hasMore()) {\n            System.out.println(enm.next());\n        }\n\n        enm.close();\n        connection.close();\n        \n        \n    }catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p>This code is actually working when SSL is not tested, replacing the</p>\n<pre><code>ldapEnv.put(Context.PROVIDER_URL, &quot;ldaps://localhost:10636&quot;);\n</code></pre>\n<p>with</p>\n<pre><code>ldapEnv.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\n</code></pre>\n<p>I made the setup for the LDAP server with Apache Directory Studio, and followed this tutorial here in order to get the LDAPS to work:\n<a href=\"http://directory.apache.org/apacheds/basic-ug/3.3-enabling-ssl.html\" rel=\"noreferrer\">http://directory.apache.org/apacheds/basic-ug/3.3-enabling-ssl.html</a></p>\n<p>So I made the certificate, even installed it and imported it with keytool into cacerts.\nI enabled portforwarding for the chosen port (10636), but still, I'm getting this exception:</p>\n<pre><code>javax.naming.CommunicationException: simple bind failed: localhost:10636 [Root exception is \njava.net.SocketException: Connection or outbound has closed]\nat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:219)\nat java.naming/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2795)\nat java.naming/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:320)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\nat java.naming/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\nat java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:730)\nat java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\nat java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\nat java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\nat java.naming/javax.naming.directory.InitialDirContext.&lt;init&gt;(InitialDirContext.java:130)\nat Prova3.main(Prova3.java:31)\nCaused by: java.net.SocketException: Connection or outbound has closed\nat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1246)\nat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\nat java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:142)\nat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:398)\nat java.naming/com.sun.jndi.ldap.Connection.writeRequest(Connection.java:371)\nat java.naming/com.sun.jndi.ldap.LdapClient.ldapBind(LdapClient.java:359)\nat java.naming/com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:214)\n... 13 more\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","soap","log4j"],"owner":{"account_id":1259048,"reputation":739,"user_id":1217879,"accept_rate":45,"display_name":"rhbc73"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687189354,"creation_date":1687156317,"question_id":76504132,"body_markdown":"I have this `logging.level.org.springframework.ws.server.MessageTracing.received=TRACE` setting in my application.properties so it prints out whatever soap messages my application receives. \r\n\r\nJust want to know if it&#39;s possible to only log a specific type of message. for example if my endpoints can process `MessageClassA` and `MessageClassB`, can I only log `MessageClassA` received?","title":"spring log4j log specific soap message","body":"<p>I have this <code>logging.level.org.springframework.ws.server.MessageTracing.received=TRACE</code> setting in my application.properties so it prints out whatever soap messages my application receives.</p>\n<p>Just want to know if it's possible to only log a specific type of message. for example if my endpoints can process <code>MessageClassA</code> and <code>MessageClassB</code>, can I only log <code>MessageClassA</code> received?</p>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1687260616,"post_id":76507216,"comment_id":134908805,"body_markdown":"Congratulations on 200K and this very nice answer.","body":"Congratulations on 200K and this very nice answer."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1687261248,"post_id":76507216,"comment_id":134908953,"body_markdown":"@jewelsea Thanks, though I am only at 200K with rounding. A few more days...","body":"@jewelsea Thanks, though I am only at 200K with rounding. A few more days..."},{"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"score":0,"creation_date":1687285634,"post_id":76507216,"comment_id":134914500,"body_markdown":"Thanks for the answer. It works when I change the `xProperty()` of rectangles through e.g. `rect.setX(100);`, but it does not work when I want to indirectly change a rectangle&#39;s `xProperty()`, e.g. through `rect.setOnMouseClicked(event-&gt;{rect.setX(100);});`.","body":"Thanks for the answer. It works when I change the <code>xProperty()</code> of rectangles through e.g. <code>rect.setX(100);</code>, but it does not work when I want to indirectly change a rectangle&#39;s <code>xProperty()</code>, e.g. through <code>rect.setOnMouseClicked(event-&gt;{rect.setX(100);});</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687292105,"post_id":76507216,"comment_id":134915548,"body_markdown":"@KeenTeen That doesn&#39;t make any sense in isolation. There is no difference at all between what you call &quot;direct&quot; and &quot;indirect&quot;; you are calling the same method in both cases. Something else is probably wrong in the code you are using.","body":"@KeenTeen That doesn&#39;t make any sense in isolation. There is no difference at all between what you call &quot;direct&quot; and &quot;indirect&quot;; you are calling the same method in both cases. Something else is probably wrong in the code you are using."},{"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"score":0,"creation_date":1687327815,"post_id":76507216,"comment_id":134919220,"body_markdown":"I see it. Thank you!","body":"I see it. Thank you!"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687189269,"creation_date":1687182128,"answer_id":76507216,"question_id":76507114,"body_markdown":"The specific error you get is because [`Stream.min()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#min(java.util.Comparator)) requires a parameter specifying how to order the elements of the stream. In this case, you want to order the `DoubleProperty` by its wrapped `double` value, so you can do\r\n\r\n    Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\r\n        .map(Rectangle::xProperty)\r\n        .min(Comparator.comparing(Double::getValue));\r\n\r\n(get a stream of the x properties, and then choose the one with the minimum value)\r\n\r\nEquivalently:\r\n\r\n    Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\r\n        .min(Comparator.comparing(Rectangle::getX))\r\n        .map(Rectangle::xProperty);\r\n\r\n(choose the rectangle with the minimum x, and then get its x property).\r\n\r\nNote, however, that these probably don&#39;t do what you want. The minimum x value will be found at the time that code is executed, and you get the `DoubleProperty` that wraps that value. If another rectangle with a smaller `x` value is added to the list, you still have a reference to the original `DoubleProperty`; similarly if the x-value of the rectangle corresponding to the property you received is changed so it is no longer the minimum, then your property will no longer represent the minimum value.\r\n\r\n\r\nI&#39;m assuming that what you want is a value which can be observed (you can register listeners with it) and which updates if either the list changes or if the `x` property of any rectangles in the list change.\r\n\r\nYou can create a binding that does this. You need to create an observable list with an [extractor](https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)) so that the binding can be invalidated when either the list changes, or the `xProperty()` of any of the rectangles in the list change.\r\n\r\nThen use [`Bindings.createDoubleBinding()`]() with a function that computes the minimum value and binds to the list:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random rnd = new Random();\r\n\r\n        // create list with an extractor:\r\n        ObservableList&lt;Rectangle&gt; rectangles =\r\n                FXCollections.observableArrayList(rect -&gt; new Observable[] { rect.xProperty()});\r\n\r\n\r\n        DoubleBinding minX = Bindings.createDoubleBinding(\r\n                () -&gt; rectangles.stream()\r\n                        .mapToDouble(Rectangle::getX)\r\n                        .min()\r\n                        .orElse(Double.POSITIVE_INFINITY),\r\n                rectangles\r\n        );\r\n\r\n        minX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;Min X changed from &quot;+oldMin+&quot; to &quot;+newMin));\r\n        \r\n        for (int i = 0; i &lt; 50; i++) {\r\n            rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\r\n        }\r\n    }\r\n\r\nThe `DoubleBinding` will probably work for anything you need (like a `DoubleProperty` it implements `ObservableDoubleValue`, which provides almost all the API you are likely to need). It you specifically need a property, just do\r\n\r\n    DoubleProperty minXProperty = new SimpleDoubleProperty();\r\n    minXProperty.bind(minX);","title":"Minimum of a Stream of DoubleProperty as a DoubleProperty","body":"<p>The specific error you get is because <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#min(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream.min()</code></a> requires a parameter specifying how to order the elements of the stream. In this case, you want to order the <code>DoubleProperty</code> by its wrapped <code>double</code> value, so you can do</p>\n<pre><code>Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\n    .map(Rectangle::xProperty)\n    .min(Comparator.comparing(Double::getValue));\n</code></pre>\n<p>(get a stream of the x properties, and then choose the one with the minimum value)</p>\n<p>Equivalently:</p>\n<pre><code>Optional&lt;DoubleProperty&gt; minX = rectangles.stream()\n    .min(Comparator.comparing(Rectangle::getX))\n    .map(Rectangle::xProperty);\n</code></pre>\n<p>(choose the rectangle with the minimum x, and then get its x property).</p>\n<p>Note, however, that these probably don't do what you want. The minimum x value will be found at the time that code is executed, and you get the <code>DoubleProperty</code> that wraps that value. If another rectangle with a smaller <code>x</code> value is added to the list, you still have a reference to the original <code>DoubleProperty</code>; similarly if the x-value of the rectangle corresponding to the property you received is changed so it is no longer the minimum, then your property will no longer represent the minimum value.</p>\n<p>I'm assuming that what you want is a value which can be observed (you can register listeners with it) and which updates if either the list changes or if the <code>x</code> property of any rectangles in the list change.</p>\n<p>You can create a binding that does this. You need to create an observable list with an <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/collections/FXCollections.html#observableArrayList(javafx.util.Callback)\" rel=\"nofollow noreferrer\">extractor</a> so that the binding can be invalidated when either the list changes, or the <code>xProperty()</code> of any of the rectangles in the list change.</p>\n<p>Then use <code>Bindings.createDoubleBinding()</code> with a function that computes the minimum value and binds to the list:</p>\n<pre><code>public static void main(String[] args) {\n\n    Random rnd = new Random();\n\n    // create list with an extractor:\n    ObservableList&lt;Rectangle&gt; rectangles =\n            FXCollections.observableArrayList(rect -&gt; new Observable[] { rect.xProperty()});\n\n\n    DoubleBinding minX = Bindings.createDoubleBinding(\n            () -&gt; rectangles.stream()\n                    .mapToDouble(Rectangle::getX)\n                    .min()\n                    .orElse(Double.POSITIVE_INFINITY),\n            rectangles\n    );\n\n    minX.addListener((obs, oldMin, newMin) -&gt; System.out.println(&quot;Min X changed from &quot;+oldMin+&quot; to &quot;+newMin));\n    \n    for (int i = 0; i &lt; 50; i++) {\n        rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\n    }\n}\n</code></pre>\n<p>The <code>DoubleBinding</code> will probably work for anything you need (like a <code>DoubleProperty</code> it implements <code>ObservableDoubleValue</code>, which provides almost all the API you are likely to need). It you specifically need a property, just do</p>\n<pre><code>DoubleProperty minXProperty = new SimpleDoubleProperty();\nminXProperty.bind(minX);\n</code></pre>\n"}],"owner":{"account_id":28842224,"reputation":75,"user_id":22090155,"display_name":"Keen Teen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76507216,"answer_count":1,"score":1,"last_activity_date":1687189269,"creation_date":1687181394,"question_id":76507114,"body_markdown":"Is there any way to fetch the minimum of a `Stream` (or `List`, `Set`, `ArrayList`) of `DoubleProperty` and write it into a `DoubleProperty` variable?\r\n\r\nIn particular, I have an `ArrayList` of JavaFX Rectangles and I want to write the minimum of `xProperty()` of these Rectangles into a `DoubleProperty` variable. I tried the following code\r\n\r\n```\r\nimport javafx.beans.property.DoubleProperty;\r\nimport javafx.scene.shape.Rectangle;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.stream.Stream;\r\npublic class Test4 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random rnd = new Random();\r\n\r\n        List&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 50; i++) {\r\n            rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\r\n        }\r\n\r\n        Optional&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, the line `Stream&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();` raises the following error:\r\n\r\n`&#39;min(java.util.Comparator? super javafx.beans.property.DoubleProperty&gt;)&#39; in &#39;java.util.stream.Stream&#39; cannot be applied to &#39;()&#39;`\r\n\r\nIs there anyway to tackle this problem?\r\n\r\n","title":"Minimum of a Stream of DoubleProperty as a DoubleProperty","body":"<p>Is there any way to fetch the minimum of a <code>Stream</code> (or <code>List</code>, <code>Set</code>, <code>ArrayList</code>) of <code>DoubleProperty</code> and write it into a <code>DoubleProperty</code> variable?</p>\n<p>In particular, I have an <code>ArrayList</code> of JavaFX Rectangles and I want to write the minimum of <code>xProperty()</code> of these Rectangles into a <code>DoubleProperty</code> variable. I tried the following code</p>\n<pre><code>import javafx.beans.property.DoubleProperty;\nimport javafx.scene.shape.Rectangle;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.stream.Stream;\npublic class Test4 {\n\n    public static void main(String[] args) {\n\n        Random rnd = new Random();\n\n        List&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 50; i++) {\n            rectangles.add(new Rectangle(rnd.nextDouble(), rnd.nextDouble(), 100, 100));\n        }\n\n        Optional&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();\n\n    }\n\n}\n</code></pre>\n<p>However, the line <code>Stream&lt;DoubleProperty&gt; minX = rectangles.stream().map(Rectangle::xProperty).min();</code> raises the following error:</p>\n<p><code>'min(java.util.Comparator? super javafx.beans.property.DoubleProperty&gt;)' in 'java.util.stream.Stream' cannot be applied to '()'</code></p>\n<p>Is there anyway to tackle this problem?</p>\n"},{"tags":["java","lambda","java-8","java-stream","predicate"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":1,"creation_date":1404390847,"post_id":24553761,"comment_id":38027532,"body_markdown":"[possible duplicate](http://stackoverflow.com/q/24396544/1113392)","body":"<a href=\"http://stackoverflow.com/q/24396544/1113392\">possible duplicate</a>"},{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":1,"creation_date":1404390983,"post_id":24553761,"comment_id":38027629,"body_markdown":"@A4L: It&#39;s not a duplicate, I am asking how to use multiple filters when you don&#39;t know how many filters there will be. If it was only one ore two, I already know the answer.","body":"@A4L: It&#39;s not a duplicate, I am asking how to use multiple filters when you don&#39;t know how many filters there will be. If it was only one ore two, I already know the answer."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1404391164,"post_id":24553761,"comment_id":38027763,"body_markdown":"You can build the composite filter using `.or` in a loop.","body":"You can build the composite filter using <code>.or</code> in a loop."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1404391228,"post_id":24553761,"comment_id":38027802,"body_markdown":"How do you create list of predicates? Can&#39;t you use instead something like `Predicate&lt;Thing&gt; allPredicates` and add to it rest of predicates thanks to `allPredicates.and(predicate);` or `allPredicates.or(predicate);` and then use `allPredicates` in `filter`?","body":"How do you create list of predicates? Can&#39;t you use instead something like <code>Predicate&lt;Thing&gt; allPredicates</code> and add to it rest of predicates thanks to <code>allPredicates.and(predicate);</code> or <code>allPredicates.or(predicate);</code> and then use <code>allPredicates</code> in <code>filter</code>?"},{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":0,"creation_date":1404391423,"post_id":24553761,"comment_id":38027946,"body_markdown":"@Pshemo: That&#39;s exactly what I am asking about. How to create this on the fly? I will have a list of predicates created by external consumer of the class and I need to create sort of uber-predicate. That&#39;s what I did actually, but it doesn&#39;t look good.","body":"@Pshemo: That&#39;s exactly what I am asking about. How to create this on the fly? I will have a list of predicates created by external consumer of the class and I need to create sort of uber-predicate. That&#39;s what I did actually, but it doesn&#39;t look good."},{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":0,"creation_date":1404391536,"post_id":24553761,"comment_id":38028044,"body_markdown":"@PawełDyda well you could try to build `PredicateCain`, something like apache&#39;s ComparatorCahin with a variable length argument","body":"@PawełDyda well you could try to build <code>PredicateCain</code>, something like apache&#39;s ComparatorCahin with a variable length argument"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1404470863,"post_id":24554095,"comment_id":38062656,"body_markdown":"I don’t get what you want to say with “each filter is behind its own `Predicate`”. The term “filter” and the type `Predicate` have the same meaning here.","body":"I don’t get what you want to say with “each filter is behind its own <code>Predicate</code>”. The term “filter” and the type <code>Predicate</code> have the same meaning here."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1404472044,"post_id":24554095,"comment_id":38063238,"body_markdown":"When writing the answer, I assumed that OP has some custom &quot;Filter&quot;, which is not formally the same type as `Predicate`, so a conversion step is needed which wraps OP&#39;s Filter into a Predicate, creating a level of indirection. If indeed `Filter implements Predicate`, then the situation is much simpler.","body":"When writing the answer, I assumed that OP has some custom &quot;Filter&quot;, which is not formally the same type as <code>Predicate</code>, so a conversion step is needed which wraps OP&#39;s Filter into a Predicate, creating a level of indirection. If indeed <code>Filter implements Predicate</code>, then the situation is much simpler."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1404474325,"post_id":24554095,"comment_id":38064453,"body_markdown":"I see. But I don’t think that it was the intention of the OP to introduce a new predicate type. There’s nothing in the wording of the entire question suggesting that. There’s only one place where `Filter` occurs, I guess it’s just an oversight and meant to be `Predicate` anyway.","body":"I see. But I don’t think that it was the intention of the OP to introduce a new predicate type. There’s nothing in the wording of the entire question suggesting that. There’s only one place where <code>Filter</code> occurs, I guess it’s just an oversight and meant to be <code>Predicate</code> anyway."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1404474431,"post_id":24554095,"comment_id":38064516,"body_markdown":"Had I started with that premise, I would never have written the first solution, which I came up with only because I couldn&#39;t quickly think of a concise way to adapt `Filter` to `Predicate`.","body":"Had I started with that premise, I would never have written the first solution, which I came up with only because I couldn&#39;t quickly think of a concise way to adapt <code>Filter</code> to <code>Predicate</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1404474790,"post_id":24554095,"comment_id":38064726,"body_markdown":"Maybe it’s better to name that ambiguity of the question in the answer to make clear under which circumstances which solution is to prefer. I simply overlooked the one occurrence of `Filter` that’s why I was confused by your statement. But maybe `Filter` *is* intentional, who (besides the OP) knows…","body":"Maybe it’s better to name that ambiguity of the question in the answer to make clear under which circumstances which solution is to prefer. I simply overlooked the one occurrence of <code>Filter</code> that’s why I was confused by your statement. But maybe <code>Filter</code> <i>is</i> intentional, who (besides the OP) knows…"},{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":0,"creation_date":1467132984,"post_id":24554095,"comment_id":63600562,"body_markdown":"+1 for `anyMatch()` / `allMatch()`, which is just enough when all you need to do is to test a list of `Predicates` on a single element -- there, the chaining by `reduce()` would be just an overkill.","body":"+1 for <code>anyMatch()</code> / <code>allMatch()</code>, which is just enough when all you need to do is to test a list of <code>Predicates</code> on a single element -- there, the chaining by <code>reduce()</code> would be just an overkill."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":6,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1404670678,"creation_date":1404391583,"answer_id":24554095,"question_id":24553761,"body_markdown":"I am assuming your `Filter` is a type distinct from `java.util.function.Predicate`, which means it needs to be adapted to it. One approach which will work goes like this:\r\n\r\n    things.stream().filter(t -&gt; filtersCollection.stream().anyMatch(f -&gt; f.test(t)));\r\n\r\nThis incurs a slight performance hit of recreating the filter stream for each predicate evaluation. To avoid that you could wrap each filter into a `Predicate` and compose them:\r\n\r\n    things.stream().filter(filtersCollection.stream().&lt;Predicate&gt;map(f -&gt; f::test)\r\n                           .reduce(Predicate::or).orElse(t-&gt;false));\r\n\r\nHowever, since now each filter is behind its own `Predicate`, introducing one more level of indirection, it is not clear-cut which approach would have better overall performance.\r\n\r\nWithout the adapting concern (if your `Filter` happens to be a `Predicate`) the problem statement becomes much simpler and the second approach clearly wins out:\r\n\r\n    things.stream().filter(\r\n       filtersCollection.stream().reduce(Predicate::or).orElse(t-&gt;true)\r\n    );\r\n","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>I am assuming your <code>Filter</code> is a type distinct from <code>java.util.function.Predicate</code>, which means it needs to be adapted to it. One approach which will work goes like this:</p>\n\n<pre><code>things.stream().filter(t -&gt; filtersCollection.stream().anyMatch(f -&gt; f.test(t)));\n</code></pre>\n\n<p>This incurs a slight performance hit of recreating the filter stream for each predicate evaluation. To avoid that you could wrap each filter into a <code>Predicate</code> and compose them:</p>\n\n<pre><code>things.stream().filter(filtersCollection.stream().&lt;Predicate&gt;map(f -&gt; f::test)\n                       .reduce(Predicate::or).orElse(t-&gt;false));\n</code></pre>\n\n<p>However, since now each filter is behind its own <code>Predicate</code>, introducing one more level of indirection, it is not clear-cut which approach would have better overall performance.</p>\n\n<p>Without the adapting concern (if your <code>Filter</code> happens to be a <code>Predicate</code>) the problem statement becomes much simpler and the second approach clearly wins out:</p>\n\n<pre><code>things.stream().filter(\n   filtersCollection.stream().reduce(Predicate::or).orElse(t-&gt;true)\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145453,"reputation":5115,"user_id":355274,"accept_rate":100,"display_name":"malana"},"score":0,"creation_date":1475877868,"post_id":24558850,"comment_id":67136428,"body_markdown":"Why is the fallback `false` for OR and `true` for AND?","body":"Why is the fallback <code>false</code> for OR and <code>true</code> for AND?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1476093129,"post_id":24558850,"comment_id":67190787,"body_markdown":"@lmichelbacher: because `(x | false) == x` and `(x &amp; true) == x`. And that’s the requirement of the identity value, just like `x + 0 == x` and `x * 1 == x`.","body":"@lmichelbacher: because <code>(x | false) == x</code> and <code>(x &amp; true) == x</code>. And that’s the requirement of the identity value, just like <code>x + 0 == x</code> and <code>x * 1 == x</code>."},{"owner":{"account_id":145453,"reputation":5115,"user_id":355274,"accept_rate":100,"display_name":"malana"},"score":0,"creation_date":1476194517,"post_id":24558850,"comment_id":67236904,"body_markdown":"makes sense. Thanks.","body":"makes sense. Thanks."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1404404416,"creation_date":1404404416,"answer_id":24558850,"question_id":24553761,"body_markdown":"If you have a `Collection&lt;Predicate&lt;T&gt;&gt; filters` you can always create a single predicate out of it using the process called *reduction*:\r\n\r\n    Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::and).orElse(x-&gt;true);\r\n\r\nor\r\n\r\n    Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::or).orElse(x-&gt;false);\r\n\r\ndepending on how you want to combine the filters.\r\n\r\nIf the fallback for an empty predicate collection specified in the `orElse` call fulfills the identity role (which `x-&gt;true` does for `and`ing the predicates and `x-&gt;false` does for `or`ing) you could also use `reduce(x-&gt;true, Predicate::and)` or `reduce(x-&gt;false, Predicate::or)` to get the filter but that’s slightly less efficient for very small collections as it would always combine the identity predicate with the collection’s predicate even if it contains only one predicate. In contrast, the variant `reduce(accumulator).orElse(fallback)` shown above will return the single predicate if the collection has size `1`.\r\n\r\n---\r\nNote how this pattern applies to similar problems as well: Having a `Collection&lt;Consumer&lt;T&gt;&gt;` you can create a single `Consumer&lt;T&gt;` using\r\n\r\n    Consumer&lt;T&gt; c=consumers.stream().reduce(Consumer::andThen).orElse(x-&gt;{});\r\n\r\nEtc.","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>If you have a <code>Collection&lt;Predicate&lt;T&gt;&gt; filters</code> you can always create a single predicate out of it using the process called <em>reduction</em>:</p>\n\n<pre><code>Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::and).orElse(x-&gt;true);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Predicate&lt;T&gt; pred=filters.stream().reduce(Predicate::or).orElse(x-&gt;false);\n</code></pre>\n\n<p>depending on how you want to combine the filters.</p>\n\n<p>If the fallback for an empty predicate collection specified in the <code>orElse</code> call fulfills the identity role (which <code>x-&gt;true</code> does for <code>and</code>ing the predicates and <code>x-&gt;false</code> does for <code>or</code>ing) you could also use <code>reduce(x-&gt;true, Predicate::and)</code> or <code>reduce(x-&gt;false, Predicate::or)</code> to get the filter but that’s slightly less efficient for very small collections as it would always combine the identity predicate with the collection’s predicate even if it contains only one predicate. In contrast, the variant <code>reduce(accumulator).orElse(fallback)</code> shown above will return the single predicate if the collection has size <code>1</code>.</p>\n\n<hr>\n\n<p>Note how this pattern applies to similar problems as well: Having a <code>Collection&lt;Consumer&lt;T&gt;&gt;</code> you can create a single <code>Consumer&lt;T&gt;</code> using</p>\n\n<pre><code>Consumer&lt;T&gt; c=consumers.stream().reduce(Consumer::andThen).orElse(x-&gt;{});\n</code></pre>\n\n<p>Etc.</p>\n"},{"comments":[{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":2,"creation_date":1450101258,"post_id":34266010,"comment_id":56278705,"body_markdown":"I am afraid, it doesn&#39;t solve the problem in question - you know the number of predicates up front. I asked about the situation when I don&#39;t know the number of predicates (it could possibly be infinite).","body":"I am afraid, it doesn&#39;t solve the problem in question - you know the number of predicates up front. I asked about the situation when I don&#39;t know the number of predicates (it could possibly be infinite)."},{"owner":{"account_id":97334,"reputation":1843,"user_id":264069,"accept_rate":86,"display_name":"Gunith D"},"score":2,"creation_date":1450150217,"post_id":34266010,"comment_id":56303073,"body_markdown":"I agree.. But we can make a loop and link them up using OR (or AND)","body":"I agree.. But we can make a loop and link them up using OR (or AND)"}],"tags":[],"owner":{"account_id":97334,"reputation":1843,"user_id":264069,"accept_rate":86,"display_name":"Gunith D"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1450151608,"creation_date":1450092826,"answer_id":34266010,"question_id":24553761,"body_markdown":"This is an interesting way of solving this problem, (directly pasting from http://www.leveluplunch.com/java/tutorials/006-how-to-filter-arraylist-stream-java8/). I think this is a more efficient way.\r\n\r\n    Predicate&lt;BBTeam&gt; nonNullPredicate = Objects::nonNull;\r\n    Predicate&lt;BBTeam&gt; nameNotNull = p -&gt; p.teamName != null;\r\n    Predicate&lt;BBTeam&gt; teamWIPredicate = p -&gt; p.teamName.equals(&quot;Wisconsin&quot;);\r\n\r\n    Predicate&lt;BBTeam&gt; fullPredicate = nonNullPredicate.and(nameNotNull)\r\n            .and(teamWIPredicate);\r\n\r\n    List&lt;BBTeam&gt; teams2 = teams.stream().filter(fullPredicate)\r\n            .collect(Collectors.toList());\r\n\r\nEDIT: Here&#39;s how to deal with loops where predicatesToIgnore is a List of predicates. I create a single predicate predicateToIgnore from it.\r\n\r\n    Predicate&lt;T&gt; predicateToIgnore = null;\r\n    for (Predicate&lt;T&gt; predicate : predicatesToIgnore) {\r\n\t\tpredicateToIgnore = predicateToIgnore == null ? predicate : predicateToIgnore.or(predicate);\r\n\t}\r\n\r\nThen, do a filter with this single predicate. This creates a better filter IMHO","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>This is an interesting way of solving this problem, (directly pasting from <a href=\"http://www.leveluplunch.com/java/tutorials/006-how-to-filter-arraylist-stream-java8/\" rel=\"noreferrer\">http://www.leveluplunch.com/java/tutorials/006-how-to-filter-arraylist-stream-java8/</a>). I think this is a more efficient way.</p>\n\n<pre><code>Predicate&lt;BBTeam&gt; nonNullPredicate = Objects::nonNull;\nPredicate&lt;BBTeam&gt; nameNotNull = p -&gt; p.teamName != null;\nPredicate&lt;BBTeam&gt; teamWIPredicate = p -&gt; p.teamName.equals(\"Wisconsin\");\n\nPredicate&lt;BBTeam&gt; fullPredicate = nonNullPredicate.and(nameNotNull)\n        .and(teamWIPredicate);\n\nList&lt;BBTeam&gt; teams2 = teams.stream().filter(fullPredicate)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>EDIT: Here's how to deal with loops where predicatesToIgnore is a List of predicates. I create a single predicate predicateToIgnore from it.</p>\n\n<pre><code>Predicate&lt;T&gt; predicateToIgnore = null;\nfor (Predicate&lt;T&gt; predicate : predicatesToIgnore) {\n    predicateToIgnore = predicateToIgnore == null ? predicate : predicateToIgnore.or(predicate);\n}\n</code></pre>\n\n<p>Then, do a filter with this single predicate. This creates a better filter IMHO</p>\n"},{"tags":[],"owner":{"account_id":3407080,"reputation":598,"user_id":2857899,"accept_rate":40,"display_name":"Uziel Sulkies"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1506949886,"creation_date":1497882719,"answer_id":44633333,"question_id":24553761,"body_markdown":"I&#39;ve managed to solve such a problem, if a user wants to apply a list of predicates in one filter operation, a list which can be dynamic and not given, that should be reduced into one predicate - like this:\r\n\r\n    public class TestPredicates {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n            System.out.println(numbers.stream()\r\n                    .filter(combineFilters(x -&gt; x &gt; 2, x -&gt; x &lt; 9, x -&gt; x % 2 == 1))\r\n                    .collect(Collectors.toList()));\r\n        }\r\n\r\n        public static &lt;T&gt; Predicate&lt;T&gt; combineFilters(Predicate&lt;T&gt;... predicates) {\r\n\r\n            Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; true, Predicate::and);\r\n            return p;\r\n\r\n        }\r\n    }\r\n\r\nNote that this will combine them with an &quot;AND&quot; logic operator.\r\nTo combine with an &quot;OR&quot; the reduce line should be:\r\n\r\n    Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; false, Predicate::or);","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>I've managed to solve such a problem, if a user wants to apply a list of predicates in one filter operation, a list which can be dynamic and not given, that should be reduced into one predicate - like this:</p>\n\n<pre><code>public class TestPredicates {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n        System.out.println(numbers.stream()\n                .filter(combineFilters(x -&gt; x &gt; 2, x -&gt; x &lt; 9, x -&gt; x % 2 == 1))\n                .collect(Collectors.toList()));\n    }\n\n    public static &lt;T&gt; Predicate&lt;T&gt; combineFilters(Predicate&lt;T&gt;... predicates) {\n\n        Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; true, Predicate::and);\n        return p;\n\n    }\n}\n</code></pre>\n\n<p>Note that this will combine them with an \"AND\" logic operator.\nTo combine with an \"OR\" the reduce line should be:</p>\n\n<pre><code>Predicate&lt;T&gt; p = Stream.of(predicates).reduce(x -&gt; false, Predicate::or);\n</code></pre>\n"}],"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71987,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":24554095,"answer_count":4,"score":59,"last_activity_date":1687189260,"creation_date":1404390643,"question_id":24553761,"body_markdown":"How can I apply multiple predicates to a `java.util.Stream&#39;s` `filter()` method?\r\n\r\nThis is what I do now, but I don&#39;t really like it. I have a `Collection` of things, and I need to reduce the number of things based on the `Collection` of filters (predicates):\r\n\r\n    Collection&lt;Thing&gt; things = someGenerator.someMethod();\r\n    List&lt;Thing&gt; filtered = things.parallelStream().filter(p -&gt; {\r\n       for (Filter f : filtersCollection) {\r\n          if (f.test(p))\r\n            return true;\r\n       }\r\n       return false;\r\n    }).collect(Collectors.toList());\r\n\r\nI know that if I knew number of filters up-front, I could do something like this:\r\n\r\n    List&lt;Thing&gt; filtered = things.parallelStream().filter(filter1).or(filter2).or(filter3)).collect(Collectors.toList());\r\n\r\nBut how can I apply an unknown number of predicates without mixing programming styles? For now, it looks sort of ugly...\r\n\r\n","title":"How to apply multiple predicates to a java.util.Stream?","body":"<p>How can I apply multiple predicates to a <code>java.util.Stream's</code> <code>filter()</code> method?</p>\n<p>This is what I do now, but I don't really like it. I have a <code>Collection</code> of things, and I need to reduce the number of things based on the <code>Collection</code> of filters (predicates):</p>\n<pre><code>Collection&lt;Thing&gt; things = someGenerator.someMethod();\nList&lt;Thing&gt; filtered = things.parallelStream().filter(p -&gt; {\n   for (Filter f : filtersCollection) {\n      if (f.test(p))\n        return true;\n   }\n   return false;\n}).collect(Collectors.toList());\n</code></pre>\n<p>I know that if I knew number of filters up-front, I could do something like this:</p>\n<pre><code>List&lt;Thing&gt; filtered = things.parallelStream().filter(filter1).or(filter2).or(filter3)).collect(Collectors.toList());\n</code></pre>\n<p>But how can I apply an unknown number of predicates without mixing programming styles? For now, it looks sort of ugly...</p>\n"},{"tags":["java","javafx","apache-poi","javafx-17"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1665142392,"post_id":73984359,"comment_id":130635995,"body_markdown":"Are you using [Gradle](https://gradle.org/) or [Maven](https://maven.apache.org/) or similar? Do you have a [module-info.java](https://www.oracle.com/corporate/features/understanding-java-9-modules.html) file? if you are running your app from IntelliJ, look at the command that IntelliJ executes in order to run your app.","body":"Are you using <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">Gradle</a> or <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a> or similar? Do you have a <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">module-info.java</a> file? if you are running your app from IntelliJ, look at the command that IntelliJ executes in order to run your app."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1665146490,"post_id":73984359,"comment_id":130637490,"body_markdown":"Please post _listings_, not _pictures_ of listings unless [relevant](https://meta.stackoverflow.com/q/285551/230513). When you say _interchanging_, do you mean _repeating_, as if trying to resolve circular dependencies?","body":"Please post <i>listings</i>, not <i>pictures</i> of listings unless <a href=\"https://meta.stackoverflow.com/q/285551/230513\">relevant</a>. When you say <i>interchanging</i>, do you mean <i>repeating</i>, as if trying to resolve circular dependencies?"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1665168359,"post_id":73984359,"comment_id":130644793,"body_markdown":"Consider prodding the maintainer of SparseBitSet to merge the months old pull request that may fix this issue: https://github.com/brettwooldridge/SparseBitSet/pull/22","body":"Consider prodding the maintainer of SparseBitSet to merge the months old pull request that may fix this issue: <a href=\"https://github.com/brettwooldridge/SparseBitSet/pull/22\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/SparseBitSet/pull/22</a>"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1665168896,"post_id":73984359,"comment_id":130644952,"body_markdown":"Apache maintainers could fix their part too: https://issues.apache.org/jira/projects/MATH/issues/MATH-1486","body":"Apache maintainers could fix their part too: <a href=\"https://issues.apache.org/jira/projects/MATH/issues/MATH-1486\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/MATH/issues/MATH-1486</a>"}],"answers":[{"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1665167837,"post_id":73991163,"comment_id":130644650,"body_markdown":"Are you SURE that automatic modules are put on the class path by Gradle?  The documentation only mentions this for jars that have NO module information, not even the ```Automatic-Module-Name``` in the jar manifest.  https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules","body":"Are you SURE that automatic modules are put on the class path by Gradle?  The documentation only mentions this for jars that have NO module information, not even the <code>Automatic-Module-Name</code> in the jar manifest.  <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1665173902,"post_id":73991163,"comment_id":130646058,"body_markdown":"@swpalmer I clarified (corrected) the answer based on your comment.","body":"@swpalmer I clarified (corrected) the answer based on your comment."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1665294217,"creation_date":1665166399,"answer_id":73991163,"question_id":73984359,"body_markdown":"[SparseBitSet](https://github.com/brettwooldridge/SparseBitSet) is an [automatic module](https://stackoverflow.com/questions/46741907/what-is-an-automatic-module), it has no module-info of its own (probably commons-math3 is as well), and is without an Automatic-Module-Name entry in its manifest.\r\n\r\nGradle puts libraries without a module-info.class or an Automatic-Module-Name in their manifest on the class path, not the module path, so they won&#39;t be treated as modules, and the module finder won&#39;t find them.  \r\n\r\nYou can: \r\n\r\n 1. [hack the gradle build](https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html) to allow the modules to be found.  (I don&#39;t use Gradle so I have no specific advice on how to do that other than referring to the documentation).\r\n 2. Hack the library jar which you want to be treated as a module to include a module-info.class or an Automatic-Module-Name in its manifest.\r\n 3. Or, switch to maven, which automatically places automatic modules on the module path.\r\n    * The easiest way to do this, IMO, is to create a [new JavaFX project in Idea](https://www.jetbrains.com/help/idea/javafx.html), then add the required dependencies as maven dependencies and add your code.\r\n 4. Or, as swpalmer suggests in the comments, request that library maintainers update their codebase to make their libraries modular.\r\n\r\nAnd, when you run your app, make sure all jars are on the module path, not the class path.\r\n\r\nOr, make your app non-modular by removing the module-info.java from it, then manually place the JavaFX modules on the module-path and add them with the `--add-modules` switch.\r\n\r\n**FAQ**\r\n\r\n&gt; Are you SURE that automatic modules are put on the class path by Gradle? \r\n\r\n From the [Gradle documentation section Building Modules for the Java Module System][1]:\r\n \r\n&gt; To tell the Java compiler that a Jar is a module, as opposed to a\r\n&gt; traditional Java library, Gradle needs to place it on the so called\r\n&gt; module path. It is an alternative to the classpath, which is the\r\n&gt; traditional way to tell the compiler about compiled dependencies.\r\n&gt; Gradle will automatically put a Jar of your dependencies on the module\r\n&gt; path, instead of the classpath, if these three things are true:\r\n&gt; \r\n&gt;  * java.modularity.inferModulePath is not turned off\r\n&gt; \r\n&gt;  * We are actually building a module (as opposed to a traditional\r\n&gt; library) which we expressed by adding the module-info.java file.\r\n&gt; (Another option is to add the Automatic-Module-Name Jar manifest\r\n&gt; attribute as described further down.)\r\n&gt; \r\n&gt;  * The Jar our module depends on is itself a module, which Gradles\r\n&gt; decides based on the presence of a module-info.class — the compiled\r\n&gt; version of the module descriptor — in the Jar. (Or, alternatively, the\r\n&gt; presence of an Automatic-Module-Name attribute the Jar manifest)\r\n\r\nIt is the third point that is key.  Java can treat a library with no module-info.class and no Automatic-Module-Name in the Jar manifest as an automatic module if it is on the module path.  However, Gradle will by default, only place libraries which fulfill one of those two conditions on the module path.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules","title":"Unable to launch a JavaFX application which uses Apache POI","body":"<p><a href=\"https://github.com/brettwooldridge/SparseBitSet\" rel=\"nofollow noreferrer\">SparseBitSet</a> is an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a>, it has no module-info of its own (probably commons-math3 is as well), and is without an Automatic-Module-Name entry in its manifest.</p>\n<p>Gradle puts libraries without a module-info.class or an Automatic-Module-Name in their manifest on the class path, not the module path, so they won't be treated as modules, and the module finder won't find them.</p>\n<p>You can:</p>\n<ol>\n<li><a href=\"https://docs.gradle.org/current/samples/sample_java_modules_with_transform.html\" rel=\"nofollow noreferrer\">hack the gradle build</a> to allow the modules to be found.  (I don't use Gradle so I have no specific advice on how to do that other than referring to the documentation).</li>\n<li>Hack the library jar which you want to be treated as a module to include a module-info.class or an Automatic-Module-Name in its manifest.</li>\n<li>Or, switch to maven, which automatically places automatic modules on the module path.\n<ul>\n<li>The easiest way to do this, IMO, is to create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project in Idea</a>, then add the required dependencies as maven dependencies and add your code.</li>\n</ul>\n</li>\n<li>Or, as swpalmer suggests in the comments, request that library maintainers update their codebase to make their libraries modular.</li>\n</ol>\n<p>And, when you run your app, make sure all jars are on the module path, not the class path.</p>\n<p>Or, make your app non-modular by removing the module-info.java from it, then manually place the JavaFX modules on the module-path and add them with the <code>--add-modules</code> switch.</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>Are you SURE that automatic modules are put on the class path by Gradle?</p>\n</blockquote>\n<p>From the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\" rel=\"nofollow noreferrer\">Gradle documentation section Building Modules for the Java Module System</a>:</p>\n<blockquote>\n<p>To tell the Java compiler that a Jar is a module, as opposed to a\ntraditional Java library, Gradle needs to place it on the so called\nmodule path. It is an alternative to the classpath, which is the\ntraditional way to tell the compiler about compiled dependencies.\nGradle will automatically put a Jar of your dependencies on the module\npath, instead of the classpath, if these three things are true:</p>\n<ul>\n<li><p>java.modularity.inferModulePath is not turned off</p>\n</li>\n<li><p>We are actually building a module (as opposed to a traditional\nlibrary) which we expressed by adding the module-info.java file.\n(Another option is to add the Automatic-Module-Name Jar manifest\nattribute as described further down.)</p>\n</li>\n<li><p>The Jar our module depends on is itself a module, which Gradles\ndecides based on the presence of a module-info.class — the compiled\nversion of the module descriptor — in the Jar. (Or, alternatively, the\npresence of an Automatic-Module-Name attribute the Jar manifest)</p>\n</li>\n</ul>\n</blockquote>\n<p>It is the third point that is key.  Java can treat a library with no module-info.class and no Automatic-Module-Name in the Jar manifest as an automatic module if it is on the module path.  However, Gradle will by default, only place libraries which fulfill one of those two conditions on the module path.</p>\n"},{"comments":[{"owner":{"account_id":1062115,"reputation":2086,"user_id":1063501,"display_name":"Mark Woon"},"score":0,"creation_date":1687139276,"post_id":74003929,"comment_id":134890344,"body_markdown":"If you continue getting errors from other non-module libraries, add `failOnMissingModuleInfo.set(false)` to `extraJavaModuleInfo`","body":"If you continue getting errors from other non-module libraries, add <code>failOnMissingModuleInfo.set(false)</code> to <code>extraJavaModuleInfo</code>"},{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1695362508,"post_id":74003929,"comment_id":136016763,"body_markdown":"i have used this method but this is not working.","body":"i have used this method but this is not working."}],"tags":[],"owner":{"account_id":4881147,"reputation":340,"user_id":3934903,"display_name":"Joseph Sang"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1687189092,"creation_date":1665310950,"answer_id":74003929,"question_id":73984359,"body_markdown":"Using [jewelsea][1]&#39;s answer above, I have been able to solve the problem. I am posting the answer here to help anyone else who encounters the problem in future.\r\n\r\nSo, the overall problem is, as said in the answer above, both *SparseBitSet* and *commons-math3* are automatic modules with no **module-info** of their own. The solution that worked for me was to convert them into the modules expected by the project. Here are the steps I took:\r\n\r\n 1. Use a gradle plugin [&#39;extra-java-module-info&#39;][2]. The github page didn&#39;t show how to import it to a normal gradle file so here it is:\r\n\r\n    ```\r\n    plugins {\r\n           id &#39;org.gradlex.extra-java-module-info&#39; version &#39;1.0&#39;\r\n    }\r\n 2. Note the names that your application expects for the modules. In my case, from the error messages thrown, they were *&#39;SparseBitSet&#39;* and *&#39;commons-math3&#39;*\r\n 3. Locate the said libraries on the sidebar under &#39;external libraries&#39; and note the &#39;jar&#39; file names. In my case, they were *&#39;commons-math3-3.6.1.jar&#39;* and *&#39;SparseBitSet-1.2.jar&#39;*.[![See this image][3]][3] \r\n 4. Add a section `&#39;extraJavaModuleInfo&#39;` to your gradle files and use the parameters as follows: `module(&#39;jar file name&#39;, &#39;name expected by your project&#39;, &#39;jar version&#39;)`, as shown in the blue rectangle in the image above.\r\n\r\n    ```\r\n    extraJavaModuleInfo {\r\n        failOnMissingModuleInfo.set(false)\r\n        module(&#39;commons-math3-3.6.1.jar&#39;, &#39;commons.math3&#39;, &#39;3.6.1&#39;)\r\n        module(&#39;SparseBitSet-1.2.jar&#39;, &#39;SparseBitSet&#39;, &#39;1.2&#39;)\r\n    }\r\n\r\nThat&#39;s it. Try to sync and run your project. Thanks [jewelsea][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1155209/jewelsea\r\n  [2]: https://github.com/gradlex-org/extra-java-module-info\r\n  [3]: https://i.stack.imgur.com/JkNw9.png","title":"Unable to launch a JavaFX application which uses Apache POI","body":"<p>Using <a href=\"https://stackoverflow.com/users/1155209/jewelsea\">jewelsea</a>'s answer above, I have been able to solve the problem. I am posting the answer here to help anyone else who encounters the problem in future.</p>\n<p>So, the overall problem is, as said in the answer above, both <em>SparseBitSet</em> and <em>commons-math3</em> are automatic modules with no <strong>module-info</strong> of their own. The solution that worked for me was to convert them into the modules expected by the project. Here are the steps I took:</p>\n<ol>\n<li><p>Use a gradle plugin <a href=\"https://github.com/gradlex-org/extra-java-module-info\" rel=\"nofollow noreferrer\">'extra-java-module-info'</a>. The github page didn't show how to import it to a normal gradle file so here it is:</p>\n<pre><code>plugins {\n       id 'org.gradlex.extra-java-module-info' version '1.0'\n}\n</code></pre>\n</li>\n<li><p>Note the names that your application expects for the modules. In my case, from the error messages thrown, they were <em>'SparseBitSet'</em> and <em>'commons-math3'</em></p>\n</li>\n<li><p>Locate the said libraries on the sidebar under 'external libraries' and note the 'jar' file names. In my case, they were <em>'commons-math3-3.6.1.jar'</em> and <em>'SparseBitSet-1.2.jar'</em>.<a href=\"https://i.stack.imgur.com/JkNw9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JkNw9.png\" alt=\"See this image\" /></a></p>\n</li>\n<li><p>Add a section <code>'extraJavaModuleInfo'</code> to your gradle files and use the parameters as follows: <code>module('jar file name', 'name expected by your project', 'jar version')</code>, as shown in the blue rectangle in the image above.</p>\n<pre><code>extraJavaModuleInfo {\n    failOnMissingModuleInfo.set(false)\n    module('commons-math3-3.6.1.jar', 'commons.math3', '3.6.1')\n    module('SparseBitSet-1.2.jar', 'SparseBitSet', '1.2')\n}\n\n</code></pre>\n</li>\n</ol>\n<p>That's it. Try to sync and run your project. Thanks <a href=\"https://stackoverflow.com/users/1155209/jewelsea\">jewelsea</a>.</p>\n"}],"owner":{"account_id":4881147,"reputation":340,"user_id":3934903,"display_name":"Joseph Sang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1687189092,"creation_date":1665130958,"question_id":73984359,"body_markdown":"I have a JavaFX application that works as expected. I need to use Apache POI to read and write excel files. The following are the steps I have taken:\r\n\r\n1. Added the required dependency\r\n\r\n    `implementation &#39;org.apache.poi:poi-ooxml:5.2.3&#39;`\r\n\r\n2. Added the module to module-info.java\r\n\r\n    `requires org.apache.poi.ooxml;`\r\n\r\n3. Tried to use the library within a function:\r\n```\r\n@FXML\r\nprivate void downloadTemplate() {\r\n    XSSFWorkbook workbook = new XSSFWorkbook();\r\n}\r\n```\r\n\r\nAll this is fine with no issues. However when I try to run the application, I get the following two errors (interchanging)\r\n\r\n    &gt; Task :Start.main() FAILED\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.ooxml\r\n\r\nand\r\n\r\n    &gt; Task :Start.main() FAILED\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.ooxml\r\n\r\nI can however, clearly see both libraries under &#39;external libraries&#39;\r\n[![Expanded libraries view][1]][1]\r\n\r\nI am using IntelliJ Community Edition 2022.1.2 and running the project using Java 17.0.1. Any help would be highly appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cy9CG.png","title":"Unable to launch a JavaFX application which uses Apache POI","body":"<p>I have a JavaFX application that works as expected. I need to use Apache POI to read and write excel files. The following are the steps I have taken:</p>\n<ol>\n<li><p>Added the required dependency</p>\n<p><code>implementation 'org.apache.poi:poi-ooxml:5.2.3'</code></p>\n</li>\n<li><p>Added the module to module-info.java</p>\n<p><code>requires org.apache.poi.ooxml;</code></p>\n</li>\n<li><p>Tried to use the library within a function:</p>\n</li>\n</ol>\n<pre><code>@FXML\nprivate void downloadTemplate() {\n    XSSFWorkbook workbook = new XSSFWorkbook();\n}\n</code></pre>\n<p>All this is fine with no issues. However when I try to run the application, I get the following two errors (interchanging)</p>\n<pre><code>&gt; Task :Start.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.ooxml\n</code></pre>\n<p>and</p>\n<pre><code>&gt; Task :Start.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.ooxml\n</code></pre>\n<p>I can however, clearly see both libraries under 'external libraries'\n<a href=\"https://i.stack.imgur.com/Cy9CG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cy9CG.png\" alt=\"Expanded libraries view\" /></a></p>\n<p>I am using IntelliJ Community Edition 2022.1.2 and running the project using Java 17.0.1. Any help would be highly appreciated.</p>\n"}],"has_more":false,"quota_max":10000,"quota_remaining":7799,"page":361,"page_size":100}
