{"items":[{"tags":["java","selenium-webdriver"],"owner":{"account_id":28107766,"reputation":1,"user_id":21476098,"display_name":"Saurabh Sonawane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696419399,"creation_date":1696416973,"question_id":77228965,"body_markdown":"```html\r\n&lt;input aria-invalid=&quot;false&quot; autocomplete=&quot;off&quot; id=&quot;returnReason&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-b52kj1&quot; aria-autocomplete=&quot;list&quot; aria-expanded=&quot;false&quot; autocapitalize=&quot;none&quot; spellcheck=&quot;false&quot; role=&quot;combobox&quot; value=&quot;&quot;&gt;\r\n```\r\nThis is my webelement for a dropdown but only this tag element changes when we select the dropdown element no any new tag or anything generates then how we can select a first element of a dropdown.\r\naria controls are changing only like &quot;aria-activedescendentoption-1&quot;.\r\nplease help me with this.\r\n\r\ni tried a ui li list but it does not have ui li tag.","title":"Dropdown Not having list tag or select tag only input tag and tag is dynamically changing after dropdown appears then how to select dropdown","body":"<pre class=\"lang-html prettyprint-override\"><code>&lt;input aria-invalid=&quot;false&quot; autocomplete=&quot;off&quot; id=&quot;returnReason&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-b52kj1&quot; aria-autocomplete=&quot;list&quot; aria-expanded=&quot;false&quot; autocapitalize=&quot;none&quot; spellcheck=&quot;false&quot; role=&quot;combobox&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>This is my webelement for a dropdown but only this tag element changes when we select the dropdown element no any new tag or anything generates then how we can select a first element of a dropdown.\naria controls are changing only like &quot;aria-activedescendentoption-1&quot;.\nplease help me with this.</p>\n<p>i tried a ui li list but it does not have ui li tag.</p>\n"},{"tags":["java","docker","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696252329,"post_id":77215253,"comment_id":136125418,"body_markdown":"I don&#39;t think you need the `--platform` flag: https://stackoverflow.com/a/65994297/4604579","body":"I don&#39;t think you need the <code>--platform</code> flag: <a href=\"https://stackoverflow.com/a/65994297/4604579\">stackoverflow.com/a/65994297/4604579</a>"},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696252799,"post_id":77215253,"comment_id":136125494,"body_markdown":"Without or with platform I get the same result, platform was only another attempt.","body":"Without or with platform I get the same result, platform was only another attempt."},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696253545,"post_id":77215253,"comment_id":136125636,"body_markdown":"Just out of curiosity, why the antiquated 7.10.2 by the way?","body":"Just out of curiosity, why the antiquated 7.10.2 by the way?"},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696256224,"post_id":77215253,"comment_id":136126207,"body_markdown":"Just because this was another attempt from the stack. New versions give the same result btw.","body":"Just because this was another attempt from the stack. New versions give the same result btw."},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696357934,"post_id":77215253,"comment_id":136141714,"body_markdown":"Any thoughts? Because I&#39;ve already tried 10+ different versions of elastic search and still get always the same error. My jdk version is 17.0.8","body":"Any thoughts? Because I&#39;ve already tried 10+ different versions of elastic search and still get always the same error. My jdk version is 17.0.8"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696398555,"post_id":77215253,"comment_id":136145791,"body_markdown":"What version of Docker do you have?","body":"What version of Docker do you have?"},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696418974,"post_id":77215253,"comment_id":136149748,"body_markdown":"Have already solved by removing check from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings","body":"Have already solved by removing check from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings"}],"answers":[{"tags":[],"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696419000,"creation_date":1696419000,"answer_id":77229195,"question_id":77215253,"body_markdown":"Solved the issue by removing checkmark from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings","title":"Cannot start elasticsearch image M1 Apple","body":"<p>Solved the issue by removing checkmark from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings</p>\n"}],"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77229195,"answer_count":1,"score":0,"last_activity_date":1696419000,"creation_date":1696246343,"question_id":77215253,"body_markdown":"Cannot start Elastic search on Apple M1. I have tried all suggestions I&#39;ve found on stackoverflow. Moreover, when I go to elasticsearch folder in the path **/usr/share/elasticsearch/jdk/bin/java** it does not exist.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ASqXL.png","title":"Cannot start elasticsearch image M1 Apple","body":"<p>Cannot start Elastic search on Apple M1. I have tried all suggestions I've found on stackoverflow. Moreover, when I go to elasticsearch folder in the path <strong>/usr/share/elasticsearch/jdk/bin/java</strong> it does not exist.</p>\n<p><a href=\"https://i.stack.imgur.com/ASqXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASqXL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1696418986,"post_id":77228313,"comment_id":136149752,"body_markdown":"I suggest you add more logging and debug further. How do you know the producer actually sent anything to Kafka for the consumer to read? Simply calling producer send function doesn&#39;t actually make an immediate request to Kafka. Where is StreamBridge defined or injected from? Have you tried starting with [unit tests](https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#spring-cloud-stream-overview-introducing) rather than directly using external systems like Kafka to verify your code works?","body":"I suggest you add more logging and debug further. How do you know the producer actually sent anything to Kafka for the consumer to read? Simply calling producer send function doesn&#39;t actually make an immediate request to Kafka. Where is StreamBridge defined or injected from? Have you tried starting with <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#spring-cloud-stream-overview-introducing\" rel=\"nofollow noreferrer\">unit tests</a> rather than directly using external systems like Kafka to verify your code works?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1696426253,"post_id":77228313,"comment_id":136151276,"body_markdown":"Also, consumer bindings without a `group` have `auto.offset.reset` set to `latest` by default so, if the record is already in the topic when the consumer it started, it won&#39;t be received. Add `group` if you want to read existing records and track comitted offsets for the next time the consumer is started.","body":"Also, consumer bindings without a <code>group</code> have <code>auto.offset.reset</code> set to <code>latest</code> by default so, if the record is already in the topic when the consumer it started, it won&#39;t be received. Add <code>group</code> if you want to read existing records and track comitted offsets for the next time the consumer is started."}],"owner":{"account_id":27767868,"reputation":1,"user_id":21198837,"display_name":"Mohamed Sid Abdalla Rgagde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696418802,"creation_date":1696411339,"question_id":77228313,"body_markdown":"I am working on a Spring Cloud Stream application that utilizes Apache Kafka for messaging. In the application, I have set up a REST API to publish messages to a Kafka topic. However, the consumer doesn&#39;t seem to receive the messages. I am using Spring Cloud Stream&#39;s **`StreamBridge`** to send messages.\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport ma.enset.KafkaSpringCloudStream.entity.PageEvent;\r\nimport org.springframework.cloud.stream.function.StreamBridge;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport java.util.Date;\r\nimport java.util.Random;\r\n@RestController\r\n@AllArgsConstructor\r\npublic class PageEventRestController {\r\n    private StreamBridge streamBridge;\r\n    @GetMapping(&quot;/publish/{topic}/{name}&quot;)\r\n    private PageEvent publish(@PathVariable(&quot;topic&quot;) String topic,@PathVariable(&quot;name&quot;) String name){\r\n        PageEvent pageEvent = PageEvent.builder()\r\n                .name(name)\r\n                .user(Math.random()&gt;0.5 ? &quot;User1&quot; : &quot;User2&quot;)\r\n                .date(new Date((long) (Math.random()*System.currentTimeMillis())))\r\n                .duration(new Random().nextInt(9001))\r\n                .build();\r\n        streamBridge.send(topic,pageEvent);\r\n        return pageEvent;\r\n    }\r\n}\r\n```\r\n```\r\n@Service\r\npublic class PageEventService {\r\n    @Bean\r\n    public Consumer&lt;PageEvent&gt; pageEventConsumer(){\r\n\r\n        return (input) -&gt; {\r\n            System.out.println(&quot;********************************&quot;);\r\n            System.out.println(input.toString());\r\n            System.out.println(&quot;********************************&quot;);\r\n        };\r\n    }\r\n}\r\n```\r\n```\r\nspring.application.name=app\r\nspring.cloud.stream.bindings.pageEventConsumer-in-0.destination=testTopic\r\n```","title":"Unable to Receive Kafka Messages in Spring Cloud Stream Consumer with Java 17","body":"<p>I am working on a Spring Cloud Stream application that utilizes Apache Kafka for messaging. In the application, I have set up a REST API to publish messages to a Kafka topic. However, the consumer doesn't seem to receive the messages. I am using Spring Cloud Stream's <strong><code>StreamBridge</code></strong> to send messages.</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport ma.enset.KafkaSpringCloudStream.entity.PageEvent;\nimport org.springframework.cloud.stream.function.StreamBridge;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.util.Date;\nimport java.util.Random;\n@RestController\n@AllArgsConstructor\npublic class PageEventRestController {\n    private StreamBridge streamBridge;\n    @GetMapping(&quot;/publish/{topic}/{name}&quot;)\n    private PageEvent publish(@PathVariable(&quot;topic&quot;) String topic,@PathVariable(&quot;name&quot;) String name){\n        PageEvent pageEvent = PageEvent.builder()\n                .name(name)\n                .user(Math.random()&gt;0.5 ? &quot;User1&quot; : &quot;User2&quot;)\n                .date(new Date((long) (Math.random()*System.currentTimeMillis())))\n                .duration(new Random().nextInt(9001))\n                .build();\n        streamBridge.send(topic,pageEvent);\n        return pageEvent;\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class PageEventService {\n    @Bean\n    public Consumer&lt;PageEvent&gt; pageEventConsumer(){\n\n        return (input) -&gt; {\n            System.out.println(&quot;********************************&quot;);\n            System.out.println(input.toString());\n            System.out.println(&quot;********************************&quot;);\n        };\n    }\n}\n</code></pre>\n<pre><code>spring.application.name=app\nspring.cloud.stream.bindings.pageEventConsumer-in-0.destination=testTopic\n</code></pre>\n"},{"tags":["java","spring-boot","maven","contrast"],"owner":{"account_id":25130644,"reputation":1,"user_id":18977942,"display_name":"Yehia Said"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696418729,"creation_date":1674143488,"question_id":75174869,"body_markdown":"    ERROR - Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\r\n    java.lang.Throwable: Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\r\n    \tat com.contrastsecurity.agent.plugins.security.q.a(OSGiFriendlyClassWriter.java:145) ~[contrast.jar:?]\r\n    \tat com.contrastsecurity.agent.plugins.security.q.getCommonSuperClass(OSGiFriendlyClassWriter.java:88) ~[contrast.jar:?]\r\n\r\nI have tried to re-compile the files, and re-build the `xml` files. Not sure how to go about fixing it. The `xml` file for the `maven` project is below\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Dynamic-Scan-Demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Dynamic-Scan-Demo&lt;/name&gt;\r\n\t&lt;description&gt;Contrast Scan Demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;3.6.6.9195&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n      \t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n     \t\t\t\t\t&lt;goals&gt;\r\n       \t\t\t\t\t &lt;goal&gt;copy&lt;/goal&gt;\r\n      \t\t\t\t\t&lt;/goals&gt;\r\n      \t\t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t&lt;artifactItems&gt;\r\n          \t\t\t\t\t\t&lt;artifactItem&gt;\r\n            \t\t\t\t\t\t&lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\r\n            \t\t\t\t\t\t&lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\r\n            \t\t\t\t\t\t&lt;version&gt;${contrast.version}&lt;/version&gt;\r\n          \t\t\t\t\t\t&lt;/artifactItem&gt;\r\n        \t\t\t\t\t&lt;/artifactItems&gt;\r\n        \t\t\t\t\t&lt;stripVersion&gt;true&lt;/stripVersion&gt;\r\n      \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n  \t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"Error in Contrast Logs when running Spring Boot Application","body":"<pre><code>ERROR - Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\njava.lang.Throwable: Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\n    at com.contrastsecurity.agent.plugins.security.q.a(OSGiFriendlyClassWriter.java:145) ~[contrast.jar:?]\n    at com.contrastsecurity.agent.plugins.security.q.getCommonSuperClass(OSGiFriendlyClassWriter.java:88) ~[contrast.jar:?]\n</code></pre>\n<p>I have tried to re-compile the files, and re-build the <code>xml</code> files. Not sure how to go about fixing it. The <code>xml</code> file for the <code>maven</code> project is below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Dynamic-Scan-Demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Dynamic-Scan-Demo&lt;/name&gt;\n    &lt;description&gt;Contrast Scan Demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\n            &lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\n            &lt;version&gt;3.6.6.9195&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                         &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\n                                    &lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\n                                    &lt;version&gt;${contrast.version}&lt;/version&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;stripVersion&gt;true&lt;/stripVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"score":0,"creation_date":1492270034,"post_id":43427732,"comment_id":73913504,"body_markdown":"could u be mo specific ? my java version &quot;1.8.0_77&quot; i have point the java_home to that jdk too. have tried googling with that dependency error but no luck.","body":"could u be mo specific ? my java version &quot;1.8.0_77&quot; i have point the java_home to that jdk too. have tried googling with that dependency error but no luck."},{"owner":{"account_id":8941700,"reputation":19,"user_id":6670490,"display_name":"dphung duy"},"score":0,"creation_date":1492270340,"post_id":43427732,"comment_id":73913627,"body_markdown":"You can re-run with full Debug mode\n&gt; Re-run Maven using the -X switch to enable full debug logging.","body":"You can re-run with full Debug mode &gt; Re-run Maven using the -X switch to enable full debug logging."},{"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"score":0,"creation_date":1492270844,"post_id":43427732,"comment_id":73913819,"body_markdown":"i have run with -X but i cannot update that log here because it was very long. ok i have found out the issue.","body":"i have run with -X but i cannot update that log here because it was very long. ok i have found out the issue."},{"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"score":0,"creation_date":1492271093,"post_id":43427732,"comment_id":73913919,"body_markdown":"Sorry i click enter, and it will post my comment. After i re-run with -X parameter i can see a clearer error message. It was caused by corrupted pom file. Once i also post question related to no class found error that turned out caused by corrupted jar. My question is how can i validate if my local maven repository is in perfect condition ? thanks","body":"Sorry i click enter, and it will post my comment. After i re-run with -X parameter i can see a clearer error message. It was caused by corrupted pom file. Once i also post question related to no class found error that turned out caused by corrupted jar. My question is how can i validate if my local maven repository is in perfect condition ? thanks"}],"tags":[],"owner":{"account_id":8941700,"reputation":19,"user_id":6670490,"display_name":"dphung duy"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492269472,"creation_date":1492269472,"answer_id":43427732,"question_id":43426244,"body_markdown":"This line is root cause of your problem:\r\n&gt;[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n\r\nI think it come from your maven setting or java version in commandline.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>This line is root cause of your problem:</p>\n\n<blockquote>\n  <p>[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details</p>\n</blockquote>\n\n<p>I think it come from your maven setting or java version in commandline.</p>\n"},{"tags":[],"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492270984,"creation_date":1492270984,"answer_id":43428014,"question_id":43426244,"body_markdown":"I re-run using maven command with -X parameters so it will turn on the debug logging. \r\n\r\nThen the error got a clearer error message\r\n\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model\r\n    [FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\spring-jdbc\\4.3.7.RELEASE\\spring-jdbc-4.3.7.RELEASE.pom: processing instruction can not have PITarget with reserveld xml name (position: END_TAG seen ...&lt;/dependencies&gt;\\n&lt;/project&gt;\\n&lt;?xml ... @108:7)  @ line 108, column 7\r\n    \r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.jboss:jandex:2.0.0.Final\r\n    [FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom: only whitespace content allowed before start tag and not t (position: START_DOCUMENT seen t... @1:1)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom, line 1, column 1\r\n    \r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.springframework.data:spring-data-jpa:1.11.1.RELEASE\r\n    [FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom: start tag not allowed in epilog but got s (position: END_TAG seen ...&lt;/pluginRepositories&gt;\\n\\n&lt;/project&gt;\\n\\t\\t&lt;s... @899:5)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom, line 899, column 5\r\n\r\nI delete the entire folder, run the application using command line, and it will redownload all pom and jar that needed. Application now can run normally from command line.\r\n","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>I re-run using maven command with -X parameters so it will turn on the debug logging. </p>\n\n<p>Then the error got a clearer error message</p>\n\n<pre><code>[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model\n[FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\spring-jdbc\\4.3.7.RELEASE\\spring-jdbc-4.3.7.RELEASE.pom: processing instruction can not have PITarget with reserveld xml name (position: END_TAG seen ...&lt;/dependencies&gt;\\n&lt;/project&gt;\\n&lt;?xml ... @108:7)  @ line 108, column 7\n\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.jboss:jandex:2.0.0.Final\n[FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom: only whitespace content allowed before start tag and not t (position: START_DOCUMENT seen t... @1:1)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom, line 1, column 1\n\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.springframework.data:spring-data-jpa:1.11.1.RELEASE\n[FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom: start tag not allowed in epilog but got s (position: END_TAG seen ...&lt;/pluginRepositories&gt;\\n\\n&lt;/project&gt;\\n\\t\\t&lt;s... @899:5)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom, line 899, column 5\n</code></pre>\n\n<p>I delete the entire folder, run the application using command line, and it will redownload all pom and jar that needed. Application now can run normally from command line.</p>\n"},{"tags":[],"owner":{"display_name":"user1024314"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492276338,"creation_date":1492276338,"answer_id":43428915,"question_id":43426244,"body_markdown":"It looks like you&#39;ve got a bad download of the following poms:\r\n\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n\r\nI&#39;ve seen this happen when Maven ends up downloading an HTML error page instead of the artifact. You might try deleting your local Maven Repository at `~/.m2/repository` and then build from the command-line.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>It looks like you've got a bad download of the following poms:</p>\n\n<pre><code>[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n</code></pre>\n\n<p>I've seen this happen when Maven ends up downloading an HTML error page instead of the artifact. You might try deleting your local Maven Repository at <code>~/.m2/repository</code> and then build from the command-line.</p>\n"},{"comments":[{"owner":{"account_id":7023259,"reputation":1243,"user_id":5381704,"display_name":"Bishwas Mishra"},"score":0,"creation_date":1585519221,"post_id":43429287,"comment_id":107781727,"body_markdown":"No libraries found for &#39;org.springframework.data.repository.CrudRepository&#39;","body":"No libraries found for &#39;org.springframework.data.repository.CrudRepository&#39;"},{"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"score":1,"creation_date":1630862363,"post_id":43429287,"comment_id":122065275,"body_markdown":"The location of the .m2 directory based on OS --&gt; \nWindows: C:/Users/&lt;UserName&gt;/.m2\nLinux: /home/&lt;UserName&gt;/.m2\nMac: /Users/&lt;userName&gt;/.m2","body":"The location of the .m2 directory based on OS --&gt;  Windows: C:/Users/&lt;UserName&gt;/.m2 Linux: /home/&lt;UserName&gt;/.m2 Mac: /Users/&lt;userName&gt;/.m2"}],"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1492278282,"creation_date":1492278282,"answer_id":43429287,"question_id":43426244,"body_markdown":"you have to delete .m2 folder and change the version of dependencies and retry to update maven project.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>you have to delete .m2 folder and change the version of dependencies and retry to update maven project.</p>\n"},{"tags":[],"owner":{"account_id":15998328,"reputation":677,"user_id":11545736,"display_name":"RudyD"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571496050,"creation_date":1571496050,"answer_id":58464800,"question_id":43426244,"body_markdown":"In my case I had the dependency twice:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAfter removing the second one, as I needed it outside of test, the errors disappeared.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>In my case I had the dependency twice:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After removing the second one, as I needed it outside of test, the errors disappeared.</p>\n"},{"tags":[],"owner":{"account_id":18659904,"reputation":81,"user_id":13601366,"display_name":"ƒê&#224;o Tuy&#234;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666322130,"creation_date":1666322082,"answer_id":74148402,"question_id":43426244,"body_markdown":"sometime when you switch between two branch, you can meet this error. you just switch terminal tab in bottom IDE then run &quot;mvn clean&quot;.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>sometime when you switch between two branch, you can meet this error. you just switch terminal tab in bottom IDE then run &quot;mvn clean&quot;.</p>\n"},{"tags":[],"owner":{"account_id":20166340,"reputation":61,"user_id":14790196,"display_name":"dteodoro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696418657,"creation_date":1696418657,"answer_id":77229153,"question_id":43426244,"body_markdown":"If someone has been experiencing problems with the Specifications class, it has changed.\r\n\r\nSpecifications is now Specification without the &#39;S&#39;.\r\n\r\n   \r\n    wrong:  import org.springframework.data.jpa.domain.Specifications;\r\n    correct: import org.springframework.data.jpa.domain.Specification;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.16&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>If someone has been experiencing problems with the Specifications class, it has changed.</p>\n<p>Specifications is now Specification without the 'S'.</p>\n<pre><code>wrong:  import org.springframework.data.jpa.domain.Specifications;\ncorrect: import org.springframework.data.jpa.domain.Specification;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.7.16&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50128,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":7,"score":6,"last_activity_date":1696418657,"creation_date":1492260389,"question_id":43426244,"body_markdown":"I have a lil problem with spring boot + jpa. I have add the dependency to the POM.xml, i can run it normally from spring tool suite (run as spring boot application). But when i run from command line &quot;mvn spring-boot:run&quot; it will throws error. \r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building THA 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; spring-boot-maven-plugin:1.5.2.RELEASE:run (default-cli) &gt; test-compile @ THA &gt;&gt;&gt;\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ THA ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 2 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ THA ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 5 source files to D:\\RondoWare\\Programming\\SpringBoot\\workspace_3.8.3\\THA\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\r\n      symbol: class CrudRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\r\n      symbol:   method save(com.rondox.sb.th.model.ProductTypes)\r\n      location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\r\n      symbol:   method findAll()\r\n      location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [INFO] 4 errors\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.795 s\r\n    [INFO] Finished at: 2017-04-15T19:37:52+07:00\r\n    [INFO] Final Memory: 26M/267M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project THA: Compilation failure: Compilation failure:\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\r\n    [ERROR]   symbol: class CrudRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\r\n    [ERROR]   symbol:   method save(com.rondox.sb.th.model.ProductTypes)\r\n    [ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\r\n    [ERROR]   symbol:   method findAll()\r\n    [ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nmy pom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.rondox.sb.th&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;THA&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;THA&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JPA Data (We are going to use Repositories, Entities, Hibernate, etc...) --&gt;\r\n     \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;            \r\n            &lt;/dependency&gt;\r\n          \r\n    \t\t &lt;!----&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n             \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nmy dependency tree :\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building THA 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ THA ---\r\n    [INFO] com.rondox.sb.th:THA:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.11:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.11:compile\r\n    [INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.24:compile\r\n    [INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.24:compile\r\n    [INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.24:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-web:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.11:compile\r\n    [INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.11:compile\r\n    [INFO] |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.11:compile\r\n    [INFO] |  |  +- org.hibernate:hibernate-validator:jar:5.3.4.Final:compile\r\n    [INFO] |  |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] |  |  |  \\- com.fasterxml:classmate:jar:1.3.3:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.7:compile\r\n    [INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.0:compile\r\n    [INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.7:compile\r\n    [INFO] |  |  +- org.springframework:spring-web:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-beans:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-webmvc:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |     \\- org.springframework:spring-expression:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  +- org.thymeleaf:thymeleaf-spring4:jar:2.1.5.RELEASE:compile\r\n    [INFO] |  |  +- org.thymeleaf:thymeleaf:jar:2.1.5.RELEASE:compile\r\n    [INFO] |  |  |  +- ognl:ognl:jar:3.0.8:compile\r\n    [INFO] |  |  |  \\- org.unbescape:unbescape:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.24:compile\r\n    [INFO] |  \\- nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:1.4.0:compile\r\n    [INFO] |     \\- org.codehaus.groovy:groovy:jar:2.4.9:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.9:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.11:compile\r\n    [INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.11:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.0.12.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\r\n    [INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n    [INFO] |  |  +- org.javassist:javassist:jar:3.21.0-GA:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\r\n    [INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\r\n    [INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.12.Final:compile\r\n    [INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:4.3.7.RELEASE:compile\r\n    [INFO] +- mysql:mysql-connector-java:jar:5.1.41:compile\r\n    [INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.5.2.RELEASE:test\r\n    [INFO]    +- org.springframework.boot:spring-boot-test:jar:1.5.2.RELEASE:test\r\n    [INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.5.2.RELEASE:test\r\n    [INFO]    +- com.jayway.jsonpath:json-path:jar:2.2.0:test\r\n    [INFO]    |  \\- net.minidev:json-smart:jar:2.2.1:test\r\n    [INFO]    |     \\- net.minidev:accessors-smart:jar:1.1:test\r\n    [INFO]    |        \\- org.ow2.asm:asm:jar:5.0.3:test\r\n    [INFO]    +- junit:junit:jar:4.12:test\r\n    [INFO]    +- org.assertj:assertj-core:jar:2.6.0:test\r\n    [INFO]    +- org.mockito:mockito-core:jar:1.10.19:test\r\n    [INFO]    |  \\- org.objenesis:objenesis:jar:2.1:test\r\n    [INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:test\r\n    [INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:test\r\n    [INFO]    +- org.skyscreamer:jsonassert:jar:1.4.0:test\r\n    [INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO]    +- org.springframework:spring-core:jar:4.3.7.RELEASE:compile\r\n    [INFO]    \\- org.springframework:spring-test:jar:4.3.7.RELEASE:test\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.661 s\r\n    [INFO] Finished at: 2017-04-15T19:44:05+07:00\r\n    [INFO] Final Memory: 22M/309M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nIs there any special parameter should i pass when i run the application from command line ? \r\nIt&#39;s just simple application and the function is work as i expected when i run from STS, but i just want to have a better understanding if the STS &amp; command line have difference parameter when run the application. \r\n","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>I have a lil problem with spring boot + jpa. I have add the dependency to the POM.xml, i can run it normally from spring tool suite (run as spring boot application). But when i run from command line \"mvn spring-boot:run\" it will throws error. </p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building THA 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot-maven-plugin:1.5.2.RELEASE:run (default-cli) &gt; test-compile @ THA &gt;&gt;&gt;\n[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ THA ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 2 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ THA ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 5 source files to D:\\RondoWare\\Programming\\SpringBoot\\workspace_3.8.3\\THA\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\n  symbol: class CrudRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\n  symbol:   method save(com.rondox.sb.th.model.ProductTypes)\n  location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\n  symbol:   method findAll()\n  location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[INFO] 4 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.795 s\n[INFO] Finished at: 2017-04-15T19:37:52+07:00\n[INFO] Final Memory: 26M/267M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project THA: Compilation failure: Compilation failure:\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\n[ERROR]   symbol: class CrudRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\n[ERROR]   symbol:   method save(com.rondox.sb.th.model.ProductTypes)\n[ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\n[ERROR]   symbol:   method findAll()\n[ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>my pom.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.rondox.sb.th&lt;/groupId&gt;\n    &lt;artifactId&gt;THA&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;THA&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JPA Data (We are going to use Repositories, Entities, Hibernate, etc...) --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;            \n        &lt;/dependency&gt;\n\n         &lt;!----&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>my dependency tree :</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building THA 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[INFO]\n[INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ THA ---\n[INFO] com.rondox.sb.th:THA:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:1.5.2.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.5.2.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.7.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.5.2.RELEASE:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.11:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.11:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.24:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.24:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.24:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |  +- org.springframework.boot:spring-boot-starter-web:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.5.2.RELEASE:compile\n[INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.11:compile\n[INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.11:compile\n[INFO] |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.11:compile\n[INFO] |  |  +- org.hibernate:hibernate-validator:jar:5.3.4.Final:compile\n[INFO] |  |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  |  |  \\- com.fasterxml:classmate:jar:1.3.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.7:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.0:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.7:compile\n[INFO] |  |  +- org.springframework:spring-web:jar:4.3.7.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-beans:jar:4.3.7.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-webmvc:jar:4.3.7.RELEASE:compile\n[INFO] |  |     \\- org.springframework:spring-expression:jar:4.3.7.RELEASE:compile\n[INFO] |  +- org.thymeleaf:thymeleaf-spring4:jar:2.1.5.RELEASE:compile\n[INFO] |  |  +- org.thymeleaf:thymeleaf:jar:2.1.5.RELEASE:compile\n[INFO] |  |  |  +- ognl:ognl:jar:3.0.8:compile\n[INFO] |  |  |  \\- org.unbescape:unbescape:jar:1.1.0.RELEASE:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.24:compile\n[INFO] |  \\- nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:1.4.0:compile\n[INFO] |     \\- org.codehaus.groovy:groovy:jar:2.4.9:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.5.2.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:4.3.7.RELEASE:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.9:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.11:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.11:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.7.RELEASE:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.0.12.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  |  +- org.javassist:javassist:jar:3.21.0-GA:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.12.Final:compile\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.3.7.RELEASE:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.41:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.5.2.RELEASE:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:1.5.2.RELEASE:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.5.2.RELEASE:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.2.0:test\n[INFO]    |  \\- net.minidev:json-smart:jar:2.2.1:test\n[INFO]    |     \\- net.minidev:accessors-smart:jar:1.1:test\n[INFO]    |        \\- org.ow2.asm:asm:jar:5.0.3:test\n[INFO]    +- junit:junit:jar:4.12:test\n[INFO]    +- org.assertj:assertj-core:jar:2.6.0:test\n[INFO]    +- org.mockito:mockito-core:jar:1.10.19:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:2.1:test\n[INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.4.0:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:4.3.7.RELEASE:compile\n[INFO]    \\- org.springframework:spring-test:jar:4.3.7.RELEASE:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.661 s\n[INFO] Finished at: 2017-04-15T19:44:05+07:00\n[INFO] Final Memory: 22M/309M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>Is there any special parameter should i pass when i run the application from command line ? \nIt's just simple application and the function is work as i expected when i run from STS, but i just want to have a better understanding if the STS &amp; command line have difference parameter when run the application. </p>\n"},{"tags":["java","hessian"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1695885940,"post_id":77173055,"comment_id":136084199,"body_markdown":"You should provide a minimal reproducing test. We don&#39;t know where input.dat comes from, and your `TestData` class has way too many fields...","body":"You should provide a minimal reproducing test. We don&#39;t know where input.dat comes from, and your <code>TestData</code> class has way too many fields..."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695894959,"post_id":77173055,"comment_id":136086001,"body_markdown":"Are you sure that the dat file correct? I mean to say does it contain corrupted data?","body":"Are you sure that the dat file correct? I mean to say does it contain corrupted data?"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1695901203,"post_id":77173055,"comment_id":136087195,"body_markdown":"Did you inherite of ArrayList in your own class that you desserialize ?","body":"Did you inherite of ArrayList in your own class that you desserialize ?"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695980113,"post_id":77173055,"comment_id":136098282,"body_markdown":"I use the dat file because this reproduces a more complex case that we have in production. Not every input data is causing the problem and I dont know how to reproduce it with &quot;minimal&quot; data because I dont know the exact problem.","body":"I use the dat file because this reproduces a more complex case that we have in production. Not every input data is causing the problem and I dont know how to reproduce it with &quot;minimal&quot; data because I dont know the exact problem."},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":1,"creation_date":1695980207,"post_id":77173055,"comment_id":136098301,"body_markdown":"if the dat file were corrupted it would crash before hessian serialization","body":"if the dat file were corrupted it would crash before hessian serialization"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695980251,"post_id":77173055,"comment_id":136098306,"body_markdown":"inputData is a java serialized HashSet. So no, it doesnt extend from ArrayList","body":"inputData is a java serialized HashSet. So no, it doesnt extend from ArrayList"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695980367,"post_id":77173055,"comment_id":136098325,"body_markdown":"&quot;different runtime behaviour&quot; means that it makes a difference if you run the example app by clicking &quot;Run&quot; in IDEA or &quot;Debug&quot;. depending on the used java version and hessian version, you get different results in this modes.","body":"&quot;different runtime behaviour&quot; means that it makes a difference if you run the example app by clicking &quot;Run&quot; in IDEA or &quot;Debug&quot;. depending on the used java version and hessian version, you get different results in this modes."}],"answers":[{"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695914602,"post_id":77194504,"comment_id":136090235,"body_markdown":"@MatWein Is this helpful?","body":"@MatWein Is this helpful?"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695979570,"post_id":77194504,"comment_id":136098200,"body_markdown":"Thanks for the answer! But in my data model it is a valid case to have null values in these enum fields because they are optional. So this is an hessian bug? Is there a possibility to change the hessian code to the old behaviour? because we have hundrets of different data models in our productive appllication. So we cannot edit each of it. And are you sure it is caused by enum null values? Because if you add @HessianUnshared on the TestData class it works well.","body":"Thanks for the answer! But in my data model it is a valid case to have null values in these enum fields because they are optional. So this is an hessian bug? Is there a possibility to change the hessian code to the old behaviour? because we have hundrets of different data models in our productive appllication. So we cannot edit each of it. And are you sure it is caused by enum null values? Because if you add @HessianUnshared on the TestData class it works well."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695984884,"post_id":77194504,"comment_id":136099067,"body_markdown":"@MatWein I&#39;m 100% sure that it has happened due to null values in enum. I guess it&#39;s not the bug on Hessian. It&#39;s just that they have changed the logic approach in later version as checked in byte code. Older jar uses JDK5 whereas newer jar uses JDK 7 with change in logic completely.","body":"@MatWein I&#39;m 100% sure that it has happened due to null values in enum. I guess it&#39;s not the bug on Hessian. It&#39;s just that they have changed the logic approach in later version as checked in byte code. Older jar uses JDK5 whereas newer jar uses JDK 7 with change in logic completely."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695984929,"post_id":77194504,"comment_id":136099077,"body_markdown":"@MatWein I just tested your code as it is with the latest version of Hessian and found out the root cause.","body":"@MatWein I just tested your code as it is with the latest version of Hessian and found out the root cause."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695985953,"post_id":77194504,"comment_id":136099243,"body_markdown":"@MatWein `@HessianUnshared` annotation is allowing null values in the enum using 4.0.66.","body":"@MatWein <code>@HessianUnshared</code> annotation is allowing null values in the enum using 4.0.66."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695986142,"post_id":77194504,"comment_id":136099277,"body_markdown":"@MatWein That&#39;s why, you didn&#39;t get any error with `@HessianUnshared`.","body":"@MatWein That&#39;s why, you didn&#39;t get any error with <code>@HessianUnshared</code>."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695988213,"post_id":77194504,"comment_id":136099682,"body_markdown":"@MatWein See my updated answer. I found another way with zero code change.","body":"@MatWein See my updated answer. I found another way with zero code change."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695988317,"post_id":77194504,"comment_id":136099701,"body_markdown":"@MatWein See the third solution","body":"@MatWein See the third solution"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695998887,"post_id":77194504,"comment_id":136101833,"body_markdown":"The third answer sounds interesting. I will give it a try at monday. Can you explain how you found this solution and why it changes the behaviour of hessian?","body":"The third answer sounds interesting. I will give it a try at monday. Can you explain how you found this solution and why it changes the behaviour of hessian?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696005504,"post_id":77194504,"comment_id":136103183,"body_markdown":"@MatWein I was experimenting with Hessian by adding Jackson. Let me check how it worked.","body":"@MatWein I was experimenting with Hessian by adding Jackson. Let me check how it worked."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696231729,"post_id":77194504,"comment_id":136121855,"body_markdown":"@MatWein Have you tried the approach from third solution?","body":"@MatWein Have you tried the approach from third solution?"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1696236022,"post_id":77194504,"comment_id":136122509,"body_markdown":"I tried to add the jackson dependency, but unfortunately it still crashes with Hessian 4.0.66. The fourth solution is also no option because it increases memory usage a lot and we would have to make changes to houndrets of model classes.","body":"I tried to add the jackson dependency, but unfortunately it still crashes with Hessian 4.0.66. The fourth solution is also no option because it increases memory usage a lot and we would have to make changes to houndrets of model classes."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696236090,"post_id":77194504,"comment_id":136122527,"body_markdown":"@MatWein Checking again. Can you tell me what error you got when you added Jackson dependency.","body":"@MatWein Checking again. Can you tell me what error you got when you added Jackson dependency."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696236124,"post_id":77194504,"comment_id":136122534,"body_markdown":"@MatWein Can you tell me what error you got when you added Jackson dependency.","body":"@MatWein Can you tell me what error you got when you added Jackson dependency."},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1696236239,"post_id":77194504,"comment_id":136122551,"body_markdown":"Same as above/before: com.caucho.hessian.io.HessianFieldException: de.test.TestData.field18: de.test.ActivationState cannot be assigned from null Caused by: java.lang.IndexOutOfBoundsException: Index 80 out of bounds for length 61","body":"Same as above/before: com.caucho.hessian.io.HessianFieldException: de.test.TestData.field18: de.test.ActivationState cannot be assigned from null Caused by: java.lang.IndexOutOfBoundsException: Index 80 out of bounds for length 61"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696236655,"post_id":77194504,"comment_id":136122625,"body_markdown":"@MatWein Checking again. It should have worked. I tested it.","body":"@MatWein Checking again. It should have worked. I tested it."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696237173,"post_id":77194504,"comment_id":136122730,"body_markdown":"@MatWein Which JDK version you have used at time of this error?","body":"@MatWein Which JDK version you have used at time of this error?"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1696237497,"post_id":77194504,"comment_id":136122791,"body_markdown":"openjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~22.04-b09)\nOpenJDK 64-Bit Server VM (build 25.362-b09)\n\nopenjdk version &quot;11.0.19&quot; 2023-04-18\nOpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\nOpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)\n\nopenjdk version &quot;17.0.7&quot; 2023-04-18\nOpenJDK Runtime Environment (build 17.0.7+7-Ubuntu-0ubuntu122.04.2)\nOpenJDK 64-Bit Server VM (build 17.0.7+7-Ubuntu-0ubuntu122.04.2)","body":"openjdk version &quot;1.8.0_362&quot; OpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~22.04-b09) OpenJDK 64-Bit Server VM (build 25.362-b09)  openjdk version &quot;11.0.19&quot; 2023-04-18 OpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1) OpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1)  openjdk version &quot;17.0.7&quot; 2023-04-18 OpenJDK Runtime Environment (build 17.0.7+7-Ubuntu-0ubuntu122.04.2) OpenJDK 64-Bit Server VM (build 17.0.7+7-Ubuntu-0ubuntu122.04.2)"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696237523,"post_id":77194504,"comment_id":136122798,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255496/discussion-between-anish-b-and-matwein).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255496/discussion-between-anish-b-and-matwein\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":19,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696418550,"creation_date":1695900282,"answer_id":77194504,"question_id":77173055,"body_markdown":"Finally, found the issue after lot of debugging. The issue is with Enum fields having `null` values.\r\n\r\nIn Hessian `3.x.x`, it is allowing de-serialization of `null` value by default for Enum type as checked.\r\n\r\nBut in Hessian `4.x.x`, they have changed the approach of evaluating enum values and didn&#39;t allow the de-serialization of `null` value for Enum type as checked.\r\n\r\n**Note:** I have used **4.0.66** Hessian. It will work with all versions of (JDK 8, 11, 17) (already tested)\r\n\r\n\r\n**Fix:** \r\n\r\n1. **First solution:** use `transient` keyword for `PaymentType`, `GenderType` &amp; `ActivationState` as they are coming with `null` values and should be avoided being part of de-serialization.\r\n\r\n\r\n**Note:** Before putting `transient` for Enum fields, please make sure to select fields that you think are not needed as part of serialization and you are sure that data will be coming as null for those Enum fields when de-serialization will happen.\r\n\r\n    public class TestData implements Serializable {\r\n    \tprivate static final long serialVersionUID = 8316361431446795589L;\r\n    \r\n    \tprivate transient ActivationState field18;\r\n    \tprivate transient PaymentType field29;\r\n    \tprivate transient GenderType field34;\r\n    \r\n    \r\n    \t... // getters and setters\r\n    }\r\n\r\n\r\n**Output with JDK 11:**\r\n\r\n    /Users/anisb/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59693:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\r\n    [de.test.TestData@12f41634, de.test.TestData@7a3d45bd, de.test.TestData@87f383f, de.test.TestData@e720b71, de.test.TestData@27f723, de.test.TestData@612fc6eb, de.test.TestData@4d3167f4, de.test.TestData@4923ab24, de.test.TestData@50d0686, de.test.TestData@1a3869f4, de.test.TestData@3aeaafa6, de.test.TestData@13c27452, de.test.TestData@1060b431, de.test.TestData@7b69c6ba, de.test.TestData@46daef40, de.test.TestData@a38d7a3, de.test.TestData@11758f2a, de.test.TestData@5ed828d, de.test.TestData@670b40af, de.test.TestData@44c8afef, de.test.TestData@262b2c86, de.test.TestData@ed9d034, de.test.TestData@612679d6, de.test.TestData@76a3e297, de.test.TestData@4eb7f003, de.test.TestData@371a67ec, de.test.TestData@63440df3, de.test.TestData@6121c9d6, de.test.TestData@77f99a05, de.test.TestData@5f3a4b84, de.test.TestData@eafc191]\r\n    \r\n    Process finished with exit code 0\r\n\r\n**Output with JDK 8:**\r\n\r\n    /Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59763:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/charsets.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/cldrdata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/dnsns.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/jaccess.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/localedata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/nashorn.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunec.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/zipfs.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jce.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jfr.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jsse.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/management-agent.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/resources.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/rt.jar:/Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\r\n    [de.test.TestData@7fbe847c, de.test.TestData@442d9b6e, de.test.TestData@4c98385c, de.test.TestData@1c655221, de.test.TestData@1b9e1916, de.test.TestData@1edf1c96, de.test.TestData@368102c8, de.test.TestData@1963006a, de.test.TestData@4f8e5cde, de.test.TestData@5eb5c224, de.test.TestData@1b701da1, de.test.TestData@58d25a40, de.test.TestData@53e25b76, de.test.TestData@ee7d9f1, de.test.TestData@3f8f9dd6, de.test.TestData@45fe3ee3, de.test.TestData@6996db8, de.test.TestData@759ebb3d, de.test.TestData@73a8dfcc, de.test.TestData@7e774085, de.test.TestData@504bae78, de.test.TestData@ba8a1dc, de.test.TestData@ea30797, de.test.TestData@4cdf35a9, de.test.TestData@17d10166, de.test.TestData@484b61fc, de.test.TestData@726f3b58, de.test.TestData@3b764bce, de.test.TestData@aec6354, de.test.TestData@15615099, de.test.TestData@5fcfe4b2]\r\n    \r\n    Process finished with exit code 0\r\n\r\n**Output with JDK 17:**\r\n\r\n    /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59813:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\r\n    [de.test.TestData@12bb4df8, de.test.TestData@11028347, de.test.TestData@39a054a5, de.test.TestData@2f333739, de.test.TestData@1f89ab83, de.test.TestData@14899482, de.test.TestData@3caeaf62, de.test.TestData@7382f612, de.test.TestData@21588809, de.test.TestData@2a33fae0, de.test.TestData@7b3300e5, de.test.TestData@71bc1ae4, de.test.TestData@6ed3ef1, de.test.TestData@77468bd9, de.test.TestData@e73f9ac, de.test.TestData@383534aa, de.test.TestData@311d617d, de.test.TestData@7b1d7fff, de.test.TestData@61064425, de.test.TestData@16f65612, de.test.TestData@6bc168e5, de.test.TestData@3b192d32, de.test.TestData@2437c6dc, de.test.TestData@2e5c649, de.test.TestData@707f7052, de.test.TestData@299a06ac, de.test.TestData@7c53a9eb, de.test.TestData@1055e4af, de.test.TestData@2aae9190, de.test.TestData@ed17bee, de.test.TestData@136432db]\r\n    \r\n    Process finished with exit code 0\r\n\r\n2. **Second solution:** Make sure to send the non-null values in those appropriate Enum fields to avoid facing the below error.\r\n\r\n       Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: &lt;package&gt;.&lt;Class&gt;.&lt;field-name&gt;: &lt;package&gt;.&lt;Enum&gt; cannot be assigned from null\r\n\r\n**Update:**\r\n\r\n3. **Third Solution:** I found a way to fix the issue without a code change. After adding `jackson-databind` dependency in pom.xml of the app, Hessian surprisingly started to deserialize with `null` values for Enum type.\r\n\r\nJust add this dependency in **POM**:\r\n\r\n   \r\n\r\n &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;{{version}}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n4. **Forth Solution:** You can use `@HessianUnshared` (that you suggested) annotation will fix the issue.","title":"Java upgrade with Caucho Hessian v3/v4","body":"<p>Finally, found the issue after lot of debugging. The issue is with Enum fields having <code>null</code> values.</p>\n<p>In Hessian <code>3.x.x</code>, it is allowing de-serialization of <code>null</code> value by default for Enum type as checked.</p>\n<p>But in Hessian <code>4.x.x</code>, they have changed the approach of evaluating enum values and didn't allow the de-serialization of <code>null</code> value for Enum type as checked.</p>\n<p><strong>Note:</strong> I have used <strong>4.0.66</strong> Hessian. It will work with all versions of (JDK 8, 11, 17) (already tested)</p>\n<p><strong>Fix:</strong></p>\n<ol>\n<li><strong>First solution:</strong> use <code>transient</code> keyword for <code>PaymentType</code>, <code>GenderType</code> &amp; <code>ActivationState</code> as they are coming with <code>null</code> values and should be avoided being part of de-serialization.</li>\n</ol>\n<p><strong>Note:</strong> Before putting <code>transient</code> for Enum fields, please make sure to select fields that you think are not needed as part of serialization and you are sure that data will be coming as null for those Enum fields when de-serialization will happen.</p>\n<pre><code>public class TestData implements Serializable {\n    private static final long serialVersionUID = 8316361431446795589L;\n\n    private transient ActivationState field18;\n    private transient PaymentType field29;\n    private transient GenderType field34;\n\n\n    ... // getters and setters\n}\n</code></pre>\n<p><strong>Output with JDK 11:</strong></p>\n<pre><code>/Users/anisb/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59693:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\n[de.test.TestData@12f41634, de.test.TestData@7a3d45bd, de.test.TestData@87f383f, de.test.TestData@e720b71, de.test.TestData@27f723, de.test.TestData@612fc6eb, de.test.TestData@4d3167f4, de.test.TestData@4923ab24, de.test.TestData@50d0686, de.test.TestData@1a3869f4, de.test.TestData@3aeaafa6, de.test.TestData@13c27452, de.test.TestData@1060b431, de.test.TestData@7b69c6ba, de.test.TestData@46daef40, de.test.TestData@a38d7a3, de.test.TestData@11758f2a, de.test.TestData@5ed828d, de.test.TestData@670b40af, de.test.TestData@44c8afef, de.test.TestData@262b2c86, de.test.TestData@ed9d034, de.test.TestData@612679d6, de.test.TestData@76a3e297, de.test.TestData@4eb7f003, de.test.TestData@371a67ec, de.test.TestData@63440df3, de.test.TestData@6121c9d6, de.test.TestData@77f99a05, de.test.TestData@5f3a4b84, de.test.TestData@eafc191]\n\nProcess finished with exit code 0\n</code></pre>\n<p><strong>Output with JDK 8:</strong></p>\n<pre><code>/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59763:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/charsets.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/cldrdata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/dnsns.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/jaccess.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/localedata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/nashorn.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunec.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/zipfs.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jce.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jfr.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jsse.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/management-agent.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/resources.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/rt.jar:/Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\n[de.test.TestData@7fbe847c, de.test.TestData@442d9b6e, de.test.TestData@4c98385c, de.test.TestData@1c655221, de.test.TestData@1b9e1916, de.test.TestData@1edf1c96, de.test.TestData@368102c8, de.test.TestData@1963006a, de.test.TestData@4f8e5cde, de.test.TestData@5eb5c224, de.test.TestData@1b701da1, de.test.TestData@58d25a40, de.test.TestData@53e25b76, de.test.TestData@ee7d9f1, de.test.TestData@3f8f9dd6, de.test.TestData@45fe3ee3, de.test.TestData@6996db8, de.test.TestData@759ebb3d, de.test.TestData@73a8dfcc, de.test.TestData@7e774085, de.test.TestData@504bae78, de.test.TestData@ba8a1dc, de.test.TestData@ea30797, de.test.TestData@4cdf35a9, de.test.TestData@17d10166, de.test.TestData@484b61fc, de.test.TestData@726f3b58, de.test.TestData@3b764bce, de.test.TestData@aec6354, de.test.TestData@15615099, de.test.TestData@5fcfe4b2]\n\nProcess finished with exit code 0\n</code></pre>\n<p><strong>Output with JDK 17:</strong></p>\n<pre><code>/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59813:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\n[de.test.TestData@12bb4df8, de.test.TestData@11028347, de.test.TestData@39a054a5, de.test.TestData@2f333739, de.test.TestData@1f89ab83, de.test.TestData@14899482, de.test.TestData@3caeaf62, de.test.TestData@7382f612, de.test.TestData@21588809, de.test.TestData@2a33fae0, de.test.TestData@7b3300e5, de.test.TestData@71bc1ae4, de.test.TestData@6ed3ef1, de.test.TestData@77468bd9, de.test.TestData@e73f9ac, de.test.TestData@383534aa, de.test.TestData@311d617d, de.test.TestData@7b1d7fff, de.test.TestData@61064425, de.test.TestData@16f65612, de.test.TestData@6bc168e5, de.test.TestData@3b192d32, de.test.TestData@2437c6dc, de.test.TestData@2e5c649, de.test.TestData@707f7052, de.test.TestData@299a06ac, de.test.TestData@7c53a9eb, de.test.TestData@1055e4af, de.test.TestData@2aae9190, de.test.TestData@ed17bee, de.test.TestData@136432db]\n\nProcess finished with exit code 0\n</code></pre>\n<ol start=\"2\">\n<li><p><strong>Second solution:</strong> Make sure to send the non-null values in those appropriate Enum fields to avoid facing the below error.</p>\n<pre><code>Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: &lt;package&gt;.&lt;Class&gt;.&lt;field-name&gt;: &lt;package&gt;.&lt;Enum&gt; cannot be assigned from null\n</code></pre>\n</li>\n</ol>\n<p><strong>Update:</strong></p>\n<ol start=\"3\">\n<li><strong>Third Solution:</strong> I found a way to fix the issue without a code change. After adding <code>jackson-databind</code> dependency in pom.xml of the app, Hessian surprisingly started to deserialize with <code>null</code> values for Enum type.</li>\n</ol>\n<p>Just add this dependency in <strong>POM</strong>:</p>\n \n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;{{version}}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<ol start=\"4\">\n<li><strong>Forth Solution:</strong> You can use <code>@HessianUnshared</code> (that you suggested) annotation will fix the issue.</li>\n</ol>\n"}],"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":77194504,"answer_count":1,"score":8,"last_activity_date":1696418550,"creation_date":1695648420,"question_id":77173055,"body_markdown":"**Problem:**  \r\nWe are currently using Caucho Hessian 3.2.0 in combination with Java 8 and Java 11 applications. This works fine, but we want to migrate to Java 17 and we get following systen.out message:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @78e03bb5\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n    \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n    \tat com.caucho.hessian.io.JavaDeserializer.getFieldMap(JavaDeserializer.java:299)\r\n    \tat com.caucho.hessian.io.JavaDeserializer.&lt;init&gt;(JavaDeserializer.java:77)\r\n    \tat com.caucho.hessian.io.StackTraceElementDeserializer.&lt;init&gt;(StackTraceElementDeserializer.java:60)\r\n    \tat com.caucho.hessian.io.SerializerFactory.&lt;clinit&gt;(SerializerFactory.java:627)\r\n    \tat com.caucho.hessian.io.AbstractHessianOutput.findSerializerFactory(AbstractHessianOutput.java:95)\r\n    \tat com.caucho.hessian.io.Hessian2Output.writeObject(Hessian2Output.java:486)\r\n    \tat Main.serializeWithHessian(Main.java:23)\r\n    \tat Main.main(Main.java:13)\r\n\r\nThere is a work-around by adding the following JVM param:\r\n\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nWe dont want to use this flag in all our productive applications, so we tried to upgrade Hessian to its newest version 4.0.66. \r\nBasicly this works for the most common use cases but doesn&#39;t work when we serialize data having same object instances multiple times.\r\n\r\nI created a small example application: https://github.com/MatWein/hessian-test\r\n\r\nThis application reads some java serialized test data from its classpath and tries to serialize and deserialize it with Hessian.\r\nIf you run this application using Hessian 3.2.0 it works for all Java versions (8, 11 and 17 if you set the JVM flag above) in run&amp;debug modes.\r\nBut I cannot get it work with Hessian 4.0.66 because following error occures:\r\n\r\n    Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: de.test.TestData.field29: de.test.PaymentType cannot be assigned from null\r\n    \tat com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe.logDeserializeError(FieldDeserializer2FactoryUnsafe.java:538)\r\n    \tat com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:169)\r\n    \tat com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:237)\r\n    \tat com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:148)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObjectInstance(Hessian2Input.java:2202)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2123)\r\n    \tat com.caucho.hessian.io.CollectionDeserializer.readLengthList(CollectionDeserializer.java:93)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2050)\r\n    \tat Main.deserializeWithHessian(Main.java:32)\r\n    \tat Main.main(Main.java:15)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index 13 out of bounds for length 13\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n    \tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n    \tat java.base/java.util.Objects.checkIndex(Objects.java:361)\r\n    \tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:1810)\r\n    \tat com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:165)\r\n    \t... 8 more\r\n\r\nATTENTION: We have a different runtime behaviour between running and debugging the app (dont know why, but Hessian seems to use Unsafe class, Weak&amp;Soft references and so on).\r\n\r\nFor me, it looks like an internal bug in Hessian. It is using the class com.caucho.hessian.util.IdentityIntMap on serialization site, but when deserializing the client cannot find the object reference index.\r\n\r\n**Question:**\r\nIs there any way to get Hessian 4.0.66 working with Java 8, 11 and 17 (or at least with Java 11 and 17)?","title":"Java upgrade with Caucho Hessian v3/v4","body":"<p><strong>Problem:</strong><br />\nWe are currently using Caucho Hessian 3.2.0 in combination with Java 8 and Java 11 applications. This works fine, but we want to migrate to Java 17 and we get following systen.out message:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @78e03bb5\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at com.caucho.hessian.io.JavaDeserializer.getFieldMap(JavaDeserializer.java:299)\n    at com.caucho.hessian.io.JavaDeserializer.&lt;init&gt;(JavaDeserializer.java:77)\n    at com.caucho.hessian.io.StackTraceElementDeserializer.&lt;init&gt;(StackTraceElementDeserializer.java:60)\n    at com.caucho.hessian.io.SerializerFactory.&lt;clinit&gt;(SerializerFactory.java:627)\n    at com.caucho.hessian.io.AbstractHessianOutput.findSerializerFactory(AbstractHessianOutput.java:95)\n    at com.caucho.hessian.io.Hessian2Output.writeObject(Hessian2Output.java:486)\n    at Main.serializeWithHessian(Main.java:23)\n    at Main.main(Main.java:13)\n</code></pre>\n<p>There is a work-around by adding the following JVM param:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>We dont want to use this flag in all our productive applications, so we tried to upgrade Hessian to its newest version 4.0.66.\nBasicly this works for the most common use cases but doesn't work when we serialize data having same object instances multiple times.</p>\n<p>I created a small example application: <a href=\"https://github.com/MatWein/hessian-test\" rel=\"noreferrer\">https://github.com/MatWein/hessian-test</a></p>\n<p>This application reads some java serialized test data from its classpath and tries to serialize and deserialize it with Hessian.\nIf you run this application using Hessian 3.2.0 it works for all Java versions (8, 11 and 17 if you set the JVM flag above) in run&amp;debug modes.\nBut I cannot get it work with Hessian 4.0.66 because following error occures:</p>\n<pre><code>Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: de.test.TestData.field29: de.test.PaymentType cannot be assigned from null\n    at com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe.logDeserializeError(FieldDeserializer2FactoryUnsafe.java:538)\n    at com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:169)\n    at com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:237)\n    at com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:148)\n    at com.caucho.hessian.io.Hessian2Input.readObjectInstance(Hessian2Input.java:2202)\n    at com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2123)\n    at com.caucho.hessian.io.CollectionDeserializer.readLengthList(CollectionDeserializer.java:93)\n    at com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2050)\n    at Main.deserializeWithHessian(Main.java:32)\n    at Main.main(Main.java:15)\nCaused by: java.lang.IndexOutOfBoundsException: Index 13 out of bounds for length 13\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n    at java.base/java.util.Objects.checkIndex(Objects.java:361)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:1810)\n    at com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:165)\n    ... 8 more\n</code></pre>\n<p>ATTENTION: We have a different runtime behaviour between running and debugging the app (dont know why, but Hessian seems to use Unsafe class, Weak&amp;Soft references and so on).</p>\n<p>For me, it looks like an internal bug in Hessian. It is using the class com.caucho.hessian.util.IdentityIntMap on serialization site, but when deserializing the client cannot find the object reference index.</p>\n<p><strong>Question:</strong>\nIs there any way to get Hessian 4.0.66 working with Java 8, 11 and 17 (or at least with Java 11 and 17)?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":4628957,"reputation":901,"user_id":3751979,"display_name":"Archie"},"score":1,"creation_date":1579093313,"post_id":59751770,"comment_id":105650250,"body_markdown":"You can use the pause() and resume() methods of the consumer for the same.","body":"You can use the pause() and resume() methods of the consumer for the same."},{"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"score":1,"creation_date":1676821551,"post_id":59751770,"comment_id":133210236,"body_markdown":"Diagnose the root cause of OOM, instead of getting distracted to pause() / resume().  OOM likely due to incorrect SSL, partition mismatch etc.","body":"Diagnose the root cause of OOM, instead of getting distracted to pause() / resume().  OOM likely due to incorrect SSL, partition mismatch etc."}],"answers":[{"comments":[{"owner":{"account_id":1807152,"reputation":1059,"user_id":1644036,"accept_rate":100,"display_name":"Inego"},"score":6,"creation_date":1628562239,"post_id":59752020,"comment_id":121448093,"body_markdown":"What is `consumersMap`?","body":"What is <code>consumersMap</code>?"}],"tags":[],"owner":{"account_id":12047406,"reputation":144,"user_id":8811869,"display_name":"Mr Nobody"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579101664,"creation_date":1579093321,"answer_id":59752020,"question_id":59751770,"body_markdown":" \r\n\r\n     public static void stopConsumer(final String topic) {    \r\n         ConcurrentMessageListenerContainer&lt;String, String&gt; container \r\n             = consumersMap.get(topic);\r\n         container.stop();    \r\n     }","title":"How to stop listening in a Spring Kafka consumer?","body":"<pre><code> public static void stopConsumer(final String topic) {    \n     ConcurrentMessageListenerContainer&lt;String, String&gt; container \n         = consumersMap.get(topic);\n     container.stop();    \n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1807152,"reputation":1059,"user_id":1644036,"accept_rate":100,"display_name":"Inego"},"score":2,"creation_date":1628562287,"post_id":59752152,"comment_id":121448099,"body_markdown":"The question was about Spring Kafka, not plain Kafka.","body":"The question was about Spring Kafka, not plain Kafka."}],"tags":[],"owner":{"account_id":4628957,"reputation":901,"user_id":3751979,"display_name":"Archie"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579093842,"creation_date":1579093842,"answer_id":59752152,"question_id":59751770,"body_markdown":"Kafka provides an option to pause() and resume() the consumption from a topic. You can use these methods by implementing a wait in between to revive from the memory issue.\r\n\r\nReference: https://kafka.apache.org/0100/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html","title":"How to stop listening in a Spring Kafka consumer?","body":"<p>Kafka provides an option to pause() and resume() the consumption from a topic. You can use these methods by implementing a wait in between to revive from the memory issue.</p>\n\n<p>Reference: <a href=\"https://kafka.apache.org/0100/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/0100/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html</a></p>\n"},{"tags":[],"owner":{"account_id":11401571,"reputation":63,"user_id":12255367,"display_name":"BlackViper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650615378,"creation_date":1650615378,"answer_id":71965529,"question_id":59751770,"body_markdown":"With Spring boot and Spring Cloud, there is a way to stop a particular consumer using actuators.\r\n\r\nKafka Streams binder of Spring Cloud  allows us to start or stop a consumer or function binding associated with it.\r\n\r\nAdd `management.endpoints.web.exposure.include =  bindings` in application.properties ( or yaml formatted property in application.yml)\r\n\r\nA GET call to `http://localhost:9009/actuator/bindings` would expose all the bindings.\r\n\r\nA POST call to `http://localhost:9009/actuator/bindings/{name}` can start or stop the binding.\r\n\r\nSample cURL to Stop a consumer :\r\n`curl -d &#39;{&quot;state&quot;:&quot;STOPPED&quot;}&#39; -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0`\r\n\r\nSample cURL to Start a consumer :\r\n`curl -d &#39;{&quot;state&quot;:&quot;STARTED&quot;}&#39; -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0`\r\n\r\nVisit [Spring Cloud Stream Binder Documentation] for further details.\r\n\r\n\r\n[Spring Cloud Stream Binder Documentation]: https://[https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.2.2/reference/html/spring-cloud-stream-binder-kafka.html#_binding_visualization_and_control_in_kafka_streams_binder]","title":"How to stop listening in a Spring Kafka consumer?","body":"<p>With Spring boot and Spring Cloud, there is a way to stop a particular consumer using actuators.</p>\n<p>Kafka Streams binder of Spring Cloud  allows us to start or stop a consumer or function binding associated with it.</p>\n<p>Add <code>management.endpoints.web.exposure.include =  bindings</code> in application.properties ( or yaml formatted property in application.yml)</p>\n<p>A GET call to <code>http://localhost:9009/actuator/bindings</code> would expose all the bindings.</p>\n<p>A POST call to <code>http://localhost:9009/actuator/bindings/{name}</code> can start or stop the binding.</p>\n<p>Sample cURL to Stop a consumer :\n<code>curl -d '{&quot;state&quot;:&quot;STOPPED&quot;}' -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0</code></p>\n<p>Sample cURL to Start a consumer :\n<code>curl -d '{&quot;state&quot;:&quot;STARTED&quot;}' -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0</code></p>\n<p>Visit <a href=\"https://%5Bhttps://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.2.2/reference/html/spring-cloud-stream-binder-kafka.html#_binding_visualization_and_control_in_kafka_streams_binder%5D\" rel=\"nofollow noreferrer\">Spring Cloud Stream Binder Documentation</a> for further details.</p>\n"}],"owner":{"account_id":15166229,"reputation":227,"user_id":10948164,"display_name":"–í–∞—Å–∏–ª–∏–π –ù–∏–∫–ø—É–ø"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14570,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1696418522,"creation_date":1579092442,"question_id":59751770,"body_markdown":"I use `Spring for Apache Kafka`. I&#39;d like to stop listening to my topic and wait to escape OOM. How can I do it?","title":"How to stop listening in a Spring Kafka consumer?","body":"<p>I use <code>Spring for Apache Kafka</code>. I'd like to stop listening to my topic and wait to escape OOM. How can I do it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1696350063,"post_id":77219337,"comment_id":136140262,"body_markdown":"That is not the error the scanner API throws.","body":"That is not the error the scanner API throws."},{"owner":{"account_id":9133503,"reputation":61,"user_id":6794146,"display_name":"cristiandb"},"score":0,"creation_date":1696381456,"post_id":77219337,"comment_id":136144554,"body_markdown":"I think that maybe is a proble with the comunication with play-service but I dont know how check it.","body":"I think that maybe is a proble with the comunication with play-service but I dont know how check it."},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1696418240,"post_id":77219337,"comment_id":136149626,"body_markdown":"The barscanning API has a set of possible errors. The part of the log copied shows nothing.","body":"The barscanning API has a set of possible errors. The part of the log copied shows nothing."}],"answers":[{"tags":[],"owner":{"account_id":9133503,"reputation":61,"user_id":6794146,"display_name":"cristiandb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696418395,"creation_date":1696418395,"answer_id":77229125,"question_id":77219337,"body_markdown":"I could found someone that had the same problem https://gist.github.com/santansarah/ef744aaf846164ed38826e3a3c68340b#file-uninstall-google-play-services-md\r\n\r\nThe solucion was reinstall google play service application. In one of my phone this article work for the other  (the older) I had to unistall the upgrade for google play service app too.","title":"services-code-scanner doesnt work suddenly","body":"<p>I could found someone that had the same problem <a href=\"https://gist.github.com/santansarah/ef744aaf846164ed38826e3a3c68340b#file-uninstall-google-play-services-md\" rel=\"nofollow noreferrer\">https://gist.github.com/santansarah/ef744aaf846164ed38826e3a3c68340b#file-uninstall-google-play-services-md</a></p>\n<p>The solucion was reinstall google play service application. In one of my phone this article work for the other  (the older) I had to unistall the upgrade for google play service app too.</p>\n"}],"owner":{"account_id":9133503,"reputation":61,"user_id":6794146,"display_name":"cristiandb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77229125,"answer_count":1,"score":0,"last_activity_date":1696418395,"creation_date":1696299715,"question_id":77219337,"body_markdown":"I have installed implementation &#39;com.google.android.gms:play-services-code-scanner:16.1.0&#39; as specify this documentation https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner. At first it work perfect but suddenly it stoped to work anymore. The problem is in execution time. Instead to open the camera to scan the barcode it raise a failure than I can catch with addOnFailureListener. In the Logcat I can see this error:\r\n\r\n1512-5684  WindowManager           system_server                        E  win=Window{6dee8ad u0 com.xxxxx.yyyyy/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6535 com.android.server.wm.ActivityRecord.destroySurfaces:6516 com.android.server.wm.ActivityRecord.notifyAppStopped:6580 com.android.server.wm.ActivityRecord.activityStopped:7168 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136 \r\n\r\n","title":"services-code-scanner doesnt work suddenly","body":"<p>I have installed implementation 'com.google.android.gms:play-services-code-scanner:16.1.0' as specify this documentation <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner</a>. At first it work perfect but suddenly it stoped to work anymore. The problem is in execution time. Instead to open the camera to scan the barcode it raise a failure than I can catch with addOnFailureListener. In the Logcat I can see this error:</p>\n<p>1512-5684  WindowManager           system_server                        E  win=Window{6dee8ad u0 com.xxxxx.yyyyy/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6535 com.android.server.wm.ActivityRecord.destroySurfaces:6516 com.android.server.wm.ActivityRecord.notifyAppStopped:6580 com.android.server.wm.ActivityRecord.activityStopped:7168 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136</p>\n"},{"tags":["java","spring-boot","ibm-mq","java-17"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1696412458,"post_id":77228403,"comment_id":136148367,"body_markdown":"Can you add more details?","body":"Can you add more details?"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1696412913,"post_id":77228403,"comment_id":136148479,"body_markdown":"Are you trying to mix and match JMS 2.0 and JMS 3.0? Jakarta and pre-Jakarta? Show us your code - import statements at least.","body":"Are you trying to mix and match JMS 2.0 and JMS 3.0? Jakarta and pre-Jakarta? Show us your code - import statements at least."},{"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"score":0,"creation_date":1696413799,"post_id":77228403,"comment_id":136148706,"body_markdown":"import Jakarta.jms.*.        iImport javax.naming.IntialContext; import javax.namingzJmsExcepton; Import Javax.naming.Context;","body":"import Jakarta.jms.*.        iImport javax.naming.IntialContext; import javax.namingzJmsExcepton; Import Javax.naming.Context;"},{"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"score":0,"creation_date":1696415131,"post_id":77228403,"comment_id":136149036,"body_markdown":"@MoragHughson added the imports and code snippets","body":"@MoragHughson added the imports and code snippets"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696417463,"post_id":77228403,"comment_id":136149452,"body_markdown":"Please don&#39;t add code as iamges, add them as code (text with code tags for readability).","body":"Please don&#39;t add code as iamges, add them as code (text with code tags for readability)."}],"answers":[{"comments":[{"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"score":0,"creation_date":1696414207,"post_id":77228585,"comment_id":136148816,"body_markdown":"I‚Äôm using spring boot 3.X and upgraded mq-jms-spring-boot-starter to 3.1.0. In this starter  jar it has com.ibm.mq.Jakarta.client:9.3.2.1.I‚Äôve not added any other dependencies.","body":"I‚Äôm using spring boot 3.X and upgraded mq-jms-spring-boot-starter to 3.1.0. In this starter  jar it has com.ibm.mq.Jakarta.client:9.3.2.1.I‚Äôve not added any other dependencies."},{"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"score":0,"creation_date":1696414338,"post_id":77228585,"comment_id":136148850,"body_markdown":"Added the code snippet","body":"Added the code snippet"},{"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"score":0,"creation_date":1696415170,"post_id":77228585,"comment_id":136149043,"body_markdown":"added the code snippet and imports","body":"added the code snippet and imports"}],"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696418335,"creation_date":1696413558,"answer_id":77228585,"question_id":77228403,"body_markdown":"You really need to share code, as it would make it easier to diagnose what is going on, but based on the tags.\r\n\r\nI am guessing that you are using `Spring Boot` and maybe `Spring JMS`, and you have a `@Autowired` reference to an `ConnectionFactory`. \r\n\r\nThe cause will be because you have made a mistake in your dependencies. Most likely the version of `com.ibm.mq` latest version of which is at `3.1.2`\r\n\r\n````\r\n\t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\r\n````\r\n\r\n\r\nAfter seeing your code, I&#39;m appending to this answer. \r\n\r\nBy using Spring JMS in conjunction with the `mq-jms-spring-boot-starter` means that you don&#39;t need to dabble with JNDI, it&#39;s done for you. You only need to populate `application.properties` with the appropriate property settings.\r\n\r\nThere is a repository of [samples](https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS) that will help get you kick started.\r\n\r\n\r\nMore details on usage and available properties are documented in the [MQ Spring Boot starter GitHub repository](https://github.com/ibm-messaging/mq-jms-spring). \r\n\r\nThe likelihood is that you may not even need to refer to the ConnectionFactory, unless you are deviating from the default settings, in which case all you will need is \r\n\r\n\r\n```Java\r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n```\r\n\r\nThe JDNI stuff is done for you.\r\n","title":"Java.lang.classcastException javax.naming.reference cannot cast to Jakarta.jms","body":"<p>You really need to share code, as it would make it easier to diagnose what is going on, but based on the tags.</p>\n<p>I am guessing that you are using <code>Spring Boot</code> and maybe <code>Spring JMS</code>, and you have a <code>@Autowired</code> reference to an <code>ConnectionFactory</code>.</p>\n<p>The cause will be because you have made a mistake in your dependencies. Most likely the version of <code>com.ibm.mq</code> latest version of which is at <code>3.1.2</code></p>\n<pre><code>            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\n</code></pre>\n<p>After seeing your code, I'm appending to this answer.</p>\n<p>By using Spring JMS in conjunction with the <code>mq-jms-spring-boot-starter</code> means that you don't need to dabble with JNDI, it's done for you. You only need to populate <code>application.properties</code> with the appropriate property settings.</p>\n<p>There is a repository of <a href=\"https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS\" rel=\"nofollow noreferrer\">samples</a> that will help get you kick started.</p>\n<p>More details on usage and available properties are documented in the <a href=\"https://github.com/ibm-messaging/mq-jms-spring\" rel=\"nofollow noreferrer\">MQ Spring Boot starter GitHub repository</a>.</p>\n<p>The likelihood is that you may not even need to refer to the ConnectionFactory, unless you are deviating from the default settings, in which case all you will need is</p>\n<pre><code>    @Autowired\n    private ConnectionFactory connectionFactory;\n</code></pre>\n<p>The JDNI stuff is done for you.</p>\n"}],"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696418335,"creation_date":1696412139,"question_id":77228403,"body_markdown":"[![enter image description here][1]][1]Getting the error when upgrading spring boot to latest version\r\n\r\n````\r\n   Class javax.naming.reference cannot be cast to Jakarta.jms.QueueConnectionFactory (javax.naming.reference is in module java.naming of loader ‚Äòbootstrap‚Äô; Jakarta.jms.QueueConnectionFactory is in unnamed module of loader ‚Äòapp‚Äô\r\n````\r\n    code snippets \r\n    We‚Äôre upgrading to spring boot 3.0.6. We are using ibm mq and updated mq-jms-spring-boot-starter to 3.1.0.\r\n    \r\n    While creating the QueueConnectionFactory getting above exception\r\n    [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mWj4u.jpg","title":"Java.lang.classcastException javax.naming.reference cannot cast to Jakarta.jms","body":"<p><a href=\"https://i.stack.imgur.com/mWj4u.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mWj4u.jpg\" alt=\"enter image description here\" /></a>Getting the error when upgrading spring boot to latest version</p>\n<pre><code>   Class javax.naming.reference cannot be cast to Jakarta.jms.QueueConnectionFactory (javax.naming.reference is in module java.naming of loader ‚Äòbootstrap‚Äô; Jakarta.jms.QueueConnectionFactory is in unnamed module of loader ‚Äòapp‚Äô\n</code></pre>\n<pre><code>code snippets \nWe‚Äôre upgrading to spring boot 3.0.6. We are using ibm mq and updated mq-jms-spring-boot-starter to 3.1.0.\n\nWhile creating the QueueConnectionFactory getting above exception\n[![enter image description here][1]][1]\n</code></pre>\n"},{"tags":["java","jpa","querydsl"],"answers":[{"comments":[{"owner":{"account_id":7022013,"reputation":135,"user_id":5380946,"display_name":"Kapil Malhotra"},"score":0,"creation_date":1592743021,"post_id":35727332,"comment_id":110527582,"body_markdown":"I am using this exact code, but I don&#39;t get the `date_add` function in the resultant query. Rather, it has  function `schema_name.add_minutes` and it fails, since there is no such function.","body":"I am using this exact code, but I don&#39;t get the <code>date_add</code> function in the resultant query. Rather, it has  function <code>schema_name.add_minutes</code> and it fails, since there is no such function."}],"tags":[],"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1456934536,"creation_date":1456847371,"answer_id":35727332,"question_id":35021343,"body_markdown":"For arithmetic queries take a look at the `com.querydsl.core.types.dsl.Expressions` class. In this case it is possible to use `Expressions::dateTimeOperation`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.querydsl.core.types.Ops;\r\n    import com.querydsl.core.types.dsl.*;\r\n    import com.querydsl.sql.SQLQuery;\r\n    ...\r\n        @Transactional\r\n        public List&lt;MIGRationEntity&gt; getMigration() {\r\n            SQLQuery&lt;MIGRationEntity&gt; query = selectFrom(QMIGRation.MIGRation)\r\n                .where(\r\n                    Expressions.dateTimeOperation(\r\n                        Date.class, Ops.DateTimeOps.ADD_DAYS,\r\n                        QMIGRation.MIGRation.mIGRCreationDate,\r\n                        QMIGRation.MIGRation.mIGRValidityDays)\r\n                    .gt(DateTimeExpression.currentTimestamp()));\r\n            String sql = query.getSQL().getSQL();\r\n            System.out.print(sql);\r\n            return query.fetch();\r\n        }\r\n    ...\r\n\r\nThe created SQL: \r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    select MIGRation.MIGR_CreationDate, MIGRation.MIGR_From, MIGRation.MIGR_ID, MIGRation.MIGR_To, MIGRation.MIGR_Validity_Days\r\n    from MIGRation MIGRation\r\n    where date_add(MIGRation.MIGR_CreationDate, interval MIGRation.MIGR_Validity_Days day) &gt; current_timestamp","title":"QueryDSL Date arithmetic","body":"<p>For arithmetic queries take a look at the <code>com.querydsl.core.types.dsl.Expressions</code> class. In this case it is possible to use <code>Expressions::dateTimeOperation</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.querydsl.core.types.Ops;\nimport com.querydsl.core.types.dsl.*;\nimport com.querydsl.sql.SQLQuery;\n...\n    @Transactional\n    public List&lt;MIGRationEntity&gt; getMigration() {\n        SQLQuery&lt;MIGRationEntity&gt; query = selectFrom(QMIGRation.MIGRation)\n            .where(\n                Expressions.dateTimeOperation(\n                    Date.class, Ops.DateTimeOps.ADD_DAYS,\n                    QMIGRation.MIGRation.mIGRCreationDate,\n                    QMIGRation.MIGRation.mIGRValidityDays)\n                .gt(DateTimeExpression.currentTimestamp()));\n        String sql = query.getSQL().getSQL();\n        System.out.print(sql);\n        return query.fetch();\n    }\n...\n</code></pre>\n\n<p>The created SQL: </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select MIGRation.MIGR_CreationDate, MIGRation.MIGR_From, MIGRation.MIGR_ID, MIGRation.MIGR_To, MIGRation.MIGR_Validity_Days\nfrom MIGRation MIGRation\nwhere date_add(MIGRation.MIGR_CreationDate, interval MIGRation.MIGR_Validity_Days day) &gt; current_timestamp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19779358,"reputation":1,"user_id":14484674,"display_name":"Miguel Hola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696417849,"creation_date":1696412074,"answer_id":77228396,"question_id":35021343,"body_markdown":"I have had the same problem and I have solved it in the following way. The idea is to compare two dates from different entities to which a day is added to a previous date.\r\n\r\n.or(cese.fcServBaja.isNotNull().and(Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja).eq(ptDiasPermiso.compId.fcInicio)))\r\n\r\n**Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja)** indicates the type of data I want, the second is the expression in SQL where the {0} is the field that is replaced by the parameter cese. fcServBaja.\r\n\r\nAs I understand it, the template contains the native database operation (I use Oracle)\r\n\r\nI hope it helps you.","title":"QueryDSL Date arithmetic","body":"<p>I have had the same problem and I have solved it in the following way. The idea is to compare two dates from different entities to which a day is added to a previous date.</p>\n<p>.or(cese.fcServBaja.isNotNull().and(Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja).eq(ptDiasPermiso.compId.fcInicio)))</p>\n<p><strong>Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja)</strong> indicates the type of data I want, the second is the expression in SQL where the {0} is the field that is replaced by the parameter cese. fcServBaja.</p>\n<p>As I understand it, the template contains the native database operation (I use Oracle)</p>\n<p>I hope it helps you.</p>\n"}],"owner":{"account_id":3368081,"reputation":1613,"user_id":2828099,"accept_rate":40,"display_name":"peez80"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9401,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696417849,"creation_date":1453833644,"question_id":35021343,"body_markdown":"I have a table like this:\r\n\r\n    CREATE  TABLE IF NOT EXISTS `sma`.`MIGRation` (\r\n    `MIGR_ID` BIGINT NOT NULL AUTO_INCREMENT ,\r\n    `MIGR_From` VARCHAR(1024) NOT NULL ,\r\n    `MIGR_To` VARCHAR(1024) NOT NULL ,\r\n    `MIGR_Validity_Days` INT NOT NULL ,\r\n    `MIGR_CreationDate` DATETIME NOT NULL ,\r\n    PRIMARY KEY (`MIGR_ID`) );\r\n\r\nHow would you write an expression in QueryDSL to find the entries which are still valid (creationDate + validity_Days)?\r\n\r\n    SELECT * FROM MIGRation WHERE DATE_ADD(MIGR_CreationDate, INTERVAL MIGR_Validity_Days DAY) &gt; now()\r\n","title":"QueryDSL Date arithmetic","body":"<p>I have a table like this:</p>\n\n<pre><code>CREATE  TABLE IF NOT EXISTS `sma`.`MIGRation` (\n`MIGR_ID` BIGINT NOT NULL AUTO_INCREMENT ,\n`MIGR_From` VARCHAR(1024) NOT NULL ,\n`MIGR_To` VARCHAR(1024) NOT NULL ,\n`MIGR_Validity_Days` INT NOT NULL ,\n`MIGR_CreationDate` DATETIME NOT NULL ,\nPRIMARY KEY (`MIGR_ID`) );\n</code></pre>\n\n<p>How would you write an expression in QueryDSL to find the entries which are still valid (creationDate + validity_Days)?</p>\n\n<pre><code>SELECT * FROM MIGRation WHERE DATE_ADD(MIGR_CreationDate, INTERVAL MIGR_Validity_Days DAY) &gt; now()\n</code></pre>\n"},{"tags":["java","json","csv","jackson","jackson-dataformat-csv"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696420977,"post_id":77229006,"comment_id":136150162,"body_markdown":"So what you&#39;re saying is &quot;I have a document that looks somewhat like CSV, but isn&#39;t&quot;. The best solution is to make whoever&#39;s delivering it deliver valid CSV instead. If that fails, you could try removing the quotes from each line if it both starts and ends with a quote, but then you may run into issues if both first name and address are quoted. Or you could try to detect lines ending with two quotes, but that&#39;ll only work if the address is always quoted.","body":"So what you&#39;re saying is &quot;I have a document that looks somewhat like CSV, but isn&#39;t&quot;. The best solution is to make whoever&#39;s delivering it deliver valid CSV instead. If that fails, you could try removing the quotes from each line if it both starts and ends with a quote, but then you may run into issues if both first name and address are quoted. Or you could try to detect lines ending with two quotes, but that&#39;ll only work if the address is always quoted."},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1696425581,"post_id":77229006,"comment_id":136151124,"body_markdown":"Agree with previous comment regarding insisting on a valid CSV format. What you are calling the naive solution is simply a custom solution to deal with a customized file that is not valid for anyone else in the world. Customization in this area is (generally) bad, and a smarter solution may not exist. (Now, one thing that could be better than a temp file is manipulating the data in-memory, but that also depends on file size and whatever other limitations you may have in your environment.)","body":"Agree with previous comment regarding insisting on a valid CSV format. What you are calling the naive solution is simply a custom solution to deal with a customized file that is not valid for anyone else in the world. Customization in this area is (generally) bad, and a smarter solution may not exist. (Now, one thing that could be better than a temp file is manipulating the data in-memory, but that also depends on file size and whatever other limitations you may have in your environment.)"}],"owner":{"account_id":10064593,"reputation":51,"user_id":7440145,"display_name":"Thomas W."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696417302,"creation_date":1696417302,"question_id":77229006,"body_markdown":"Suppose I have a CSV file that looks like this\r\n\r\n```\r\nfirstName,lastName,address\r\n&quot;John,Doe,&quot;Imaginary St. 42, 1234 Hometown&quot;&quot;\r\nJane,Doe,&quot;Castle St. 1, 5678 Littletown&quot; \r\n```\r\n\r\nhow would I be able to deserialize rows into a objects of the following class\r\n\r\n```java\r\npublic class PersonRecord {\r\n  private String firstName;\r\n  private String lastName;\r\n  private String address;\r\n}\r\n```\r\n\r\nusing `jackson-dataformat-csv`?\r\n\r\nMain challenge here is that lines *might* be completely enclosed by double quotes which should be ignored, however double-quotes should still be allowed to enclose `address` values in this case.\r\n\r\nThe naive solution would be to create a temporary file and strip the first and last character of each line that starts with double quotes. It looks like I can make the assumption that the first column will never be enclosed by quotes so it seems safe to take this shortcut.\r\n\r\nHowever is there a smarter solution to this problem not requiring temporary files?\r\nSo far I haven&#39;t been able to hook into the tokenization process and &quot;update&quot; the object tree for problematic likes so regular object tree processing can continue in a custom `JsonDeserializer`.\r\n","title":"Deserializing CSV with Jackson that might have lines enclosed with double quotes","body":"<p>Suppose I have a CSV file that looks like this</p>\n<pre><code>firstName,lastName,address\n&quot;John,Doe,&quot;Imaginary St. 42, 1234 Hometown&quot;&quot;\nJane,Doe,&quot;Castle St. 1, 5678 Littletown&quot; \n</code></pre>\n<p>how would I be able to deserialize rows into a objects of the following class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonRecord {\n  private String firstName;\n  private String lastName;\n  private String address;\n}\n</code></pre>\n<p>using <code>jackson-dataformat-csv</code>?</p>\n<p>Main challenge here is that lines <em>might</em> be completely enclosed by double quotes which should be ignored, however double-quotes should still be allowed to enclose <code>address</code> values in this case.</p>\n<p>The naive solution would be to create a temporary file and strip the first and last character of each line that starts with double quotes. It looks like I can make the assumption that the first column will never be enclosed by quotes so it seems safe to take this shortcut.</p>\n<p>However is there a smarter solution to this problem not requiring temporary files?\nSo far I haven't been able to hook into the tokenization process and &quot;update&quot; the object tree for problematic likes so regular object tree processing can continue in a custom <code>JsonDeserializer</code>.</p>\n"},{"tags":["java","spring-boot","amazon-dynamodb","crud-repository"],"answers":[{"comments":[{"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"score":0,"creation_date":1696421591,"post_id":77228918,"comment_id":136150288,"body_markdown":"The attribute is a String annotated with @DynamoDBAttributre. We had a batch of insertions with this value as null. What I&#39;m trying to do right now is update them with an actual String (let&#39;s say &quot;aValue&quot;). Thing is that after doing the save again with the object updated, this particular attribute is not updated.","body":"The attribute is a String annotated with @DynamoDBAttributre. We had a batch of insertions with this value as null. What I&#39;m trying to do right now is update them with an actual String (let&#39;s say &quot;aValue&quot;). Thing is that after doing the save again with the object updated, this particular attribute is not updated."},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1696421984,"post_id":77228918,"comment_id":136150344,"body_markdown":"Do you get a status code 200 returned?","body":"Do you get a status code 200 returned?"},{"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"score":0,"creation_date":1696422058,"post_id":77228918,"comment_id":136150359,"body_markdown":"Yeap. Also, if I save a new object with a value in this attribute, after that I can update it without any issues.","body":"Yeap. Also, if I save a new object with a value in this attribute, after that I can update it without any issues."},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1696422723,"post_id":77228918,"comment_id":136150476,"body_markdown":"Can you enable wire logging in your application and have a look at the payload being sent to DynamoDB?","body":"Can you enable wire logging in your application and have a look at the payload being sent to DynamoDB?"},{"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"score":0,"creation_date":1696423186,"post_id":77228918,"comment_id":136150577,"body_markdown":"I don&#39;t have access to do that. But trying to think about what you commented. If it was set up as NULL type when it was created, by retrieving it, putting a value and then save it again, should this change be considered?","body":"I don&#39;t have access to do that. But trying to think about what you commented. If it was set up as NULL type when it was created, by retrieving it, putting a value and then save it again, should this change be considered?"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1696433609,"post_id":77228918,"comment_id":136153054,"body_markdown":"Which client do you use, Mapper or Enhanced or a low level client? If your update is trying to save a string as a value, but that attribute name is already being used for Null, then it will throw an exception.","body":"Which client do you use, Mapper or Enhanced or a low level client? If your update is trying to save a string as a value, but that attribute name is already being used for Null, then it will throw an exception."},{"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"score":0,"creation_date":1696433877,"post_id":77228918,"comment_id":136153117,"body_markdown":"I&#39;m using the default client from aws-java-sdk-dynamodb:1.11.443","body":"I&#39;m using the default client from aws-java-sdk-dynamodb:1.11.443"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1696434784,"post_id":77228918,"comment_id":136153287,"body_markdown":"Yea so that&#39;s your issue, the value is a Null type in DynamoDB then you&#39;re trying to make it a string also. You&#39;d need to do a remove and set in your update item.","body":"Yea so that&#39;s your issue, the value is a Null type in DynamoDB then you&#39;re trying to make it a string also. You&#39;d need to do a remove and set in your update item."},{"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"score":0,"creation_date":1696445662,"post_id":77228918,"comment_id":136155397,"body_markdown":"Do you mean there is a way to remove the attribute and then add it with the right data type and value? If that&#39;s the case, how would you do that?","body":"Do you mean there is a way to remove the attribute and then add it with the right data type and value? If that&#39;s the case, how would you do that?"},{"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"score":0,"creation_date":1696451315,"post_id":77228918,"comment_id":136156403,"body_markdown":"Using 2 updateItemSpecs, one with &quot;remove myAttribute&quot; and then the second with &quot;set myAttribute = theRightValue&quot; for each item maybe?","body":"Using 2 updateItemSpecs, one with &quot;remove myAttribute&quot; and then the second with &quot;set myAttribute = theRightValue&quot; for each item maybe?"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1696454690,"post_id":77228918,"comment_id":136156902,"body_markdown":"You can achieve both in a single operations. Let me know if you have difficulties and I&#39;ll share an example.","body":"You can achieve both in a single operations. Let me know if you have difficulties and I&#39;ll share an example."},{"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"score":0,"creation_date":1696456949,"post_id":77228918,"comment_id":136157161,"body_markdown":"I tried this way and it seems to work, but if you have a simpler example, it&#39;ll be great. Thanks for all your help!","body":"I tried this way and it seems to work, but if you have a simpler example, it&#39;ll be great. Thanks for all your help!"}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696416629,"creation_date":1696416629,"answer_id":77228918,"question_id":77228794,"body_markdown":"DynamoDB handles null value as a distinct data type. So I&#39;ll make an assumption here that you are setting a string or object type to Null, in which case the Mapper (assumption) is not saving the value as it drops null values. If it&#39;s a string, one thing you can do is set the value to `&quot;NULL&quot;` for example. \r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html","title":"Trying to update an attribute that was saved with null value with another value in a DynamoDB table using CrudRepository","body":"<p>DynamoDB handles null value as a distinct data type. So I'll make an assumption here that you are setting a string or object type to Null, in which case the Mapper (assumption) is not saving the value as it drops null values. If it's a string, one thing you can do is set the value to <code>&quot;NULL&quot;</code> for example.</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html</a></p>\n"}],"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77228918,"answer_count":1,"score":0,"last_activity_date":1696416629,"creation_date":1696415463,"question_id":77228794,"body_markdown":"I&#39;ve saved an object in DynamoDB using SpringBoot CrudRepository. It has some attributes with null value (&quot;myAttribute&quot;: null) and others with values (&quot;otherAttribute&quot;: &quot;aValue&quot;).\r\n\r\nI have a method to update the object, where I search by id, update it and then, save it again.\r\n\r\nIf I update an attribute that has a value, it gets updated. But If I put a value to the ones that has null, they don&#39;t get updated.\r\n\r\nAny ideas?","title":"Trying to update an attribute that was saved with null value with another value in a DynamoDB table using CrudRepository","body":"<p>I've saved an object in DynamoDB using SpringBoot CrudRepository. It has some attributes with null value (&quot;myAttribute&quot;: null) and others with values (&quot;otherAttribute&quot;: &quot;aValue&quot;).</p>\n<p>I have a method to update the object, where I search by id, update it and then, save it again.</p>\n<p>If I update an attribute that has a value, it gets updated. But If I put a value to the ones that has null, they don't get updated.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","configuration","struts2","struts","struts-1"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1375138919,"post_id":17935503,"comment_id":26207765,"body_markdown":"You don&#39;t, they don&#39;t exist. What were you using them for? Personally, I view moving from S1 to S2 as a rewrite, not a migration: everything in the web layer needs to be rewritten, nothing in the business layer does.","body":"You don&#39;t, they don&#39;t exist. What were you using them for? Personally, I view moving from S1 to S2 as a rewrite, not a migration: everything in the web layer needs to be rewritten, nothing in the business layer does."},{"owner":{"account_id":205617,"reputation":10965,"user_id":454470,"display_name":"Steven Benitez"},"score":0,"creation_date":1375151026,"post_id":17935503,"comment_id":26210634,"body_markdown":"Keep in mind that Struts2 is a completely different framework from Struts1, it&#39;s not merely a new version.","body":"Keep in mind that Struts2 is a completely different framework from Struts1, it&#39;s not merely a new version."}],"answers":[{"comments":[{"owner":{"account_id":2707842,"reputation":13,"user_id":2337055,"display_name":"user2337055"},"score":0,"creation_date":1375210284,"post_id":17942040,"comment_id":26241296,"body_markdown":"Ok...thanks for your response. But my requirement is to develop the entire struts1 application in struts2.                                I have one more question:                                          What is Struts 2 equivalent of &lt;plug-in&gt;?","body":"Ok...thanks for your response. But my requirement is to develop the entire struts1 application in struts2.                                I have one more question:                                          What is Struts 2 equivalent of &lt;plug-in&gt;?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1375212454,"post_id":17942040,"comment_id":26242501,"body_markdown":"@user2337055 There&#39;s not equivalent, Struts2 uses `bean` element in the configuration for their extensions and plug-ins, that was provided via the `struts-plugin.xml`.","body":"@user2337055 There&#39;s not equivalent, Struts2 uses <code>bean</code> element in the configuration for their extensions and plug-ins, that was provided via the <code>struts-plugin.xml</code>."},{"owner":{"account_id":2707842,"reputation":13,"user_id":2337055,"display_name":"user2337055"},"score":0,"creation_date":1375213490,"post_id":17942040,"comment_id":26243082,"body_markdown":"I really appreciate your response. My configuration is like this in struts1 struts-config.xml file \n&lt;plug-in className=&quot;com.web.action.TabPlugIn&quot;&gt;\n   &lt;set-property property=&quot;config&quot; value=&quot;/WEB-INF/tab/&quot; /&gt;\n   &lt;set-property property=&quot;class&quot; value=&quot;com.web.action.XmlTabSystem&quot; /&gt;\n    &lt;set-property property=&quot;excludes&quot; value=&quot;/k1/stylesheet&quot; /&gt;\n  &lt;/plug-in&gt;\nIn my struts-plugin.xml\n&lt;struts&gt;\n    &lt;bean class=&quot;com.web.action.TabPlugIn &quot; static=&quot;true&quot; optional=&quot;true&quot;/&gt;\n&lt;/struts&gt;\nCould you please tell me how do I define properties to the bean in struts-plugin xml file. Thanks","body":"I really appreciate your response. My configuration is like this in struts1 struts-config.xml file  &lt;plug-in className=&quot;com.web.action.TabPlugIn&quot;&gt;    &lt;set-property property=&quot;config&quot; value=&quot;/WEB-INF/tab/&quot; /&gt;    &lt;set-property property=&quot;class&quot; value=&quot;com.web.action.XmlTabSystem&quot; /&gt;     &lt;set-property property=&quot;excludes&quot; value=&quot;/k1/stylesheet&quot; /&gt;   &lt;/plug-in&gt; In my struts-plugin.xml &lt;struts&gt;     &lt;bean class=&quot;com.web.action.TabPlugIn &quot; static=&quot;true&quot; optional=&quot;true&quot;/&gt; &lt;/struts&gt; Could you please tell me how do I define properties to the bean in struts-plugin xml file. Thanks"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1375214180,"post_id":17942040,"comment_id":26243507,"body_markdown":"Easy with DI (dependency injection) if you don&#39;t want to use Struts2 DI then you could choose between known containers like Spring, CDI, Guice, etc.","body":"Easy with DI (dependency injection) if you don&#39;t want to use Struts2 DI then you could choose between known containers like Spring, CDI, Guice, etc."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696416436,"creation_date":1375173222,"answer_id":17942040,"question_id":17935503,"body_markdown":"`ModuleConfig` and `PlugInConfig` are Struts1 classes. Struts2 framework is different in [architecture][1] and uses it&#39;s own classes used to parse and build the configuration. So, if your application used those classes and you unable to remove them at the moment you should consider the option to run both frameworks together. Also, if you decide to remove them after rewriting the configuration, but want to reuse actions and forms in Struts2 consider [struts2-struts1-plugin][2] and [struts1-solutions][3]. This allows to use existing actions and forms in the Struts2 framework, but this is more complicated in Struts2 rather than writing a Struts2 only web application from scratch.   \r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/big-picture\r\n  [2]: https://struts.apache.org/plugins/struts-1\r\n  [3]: https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14240#content/view/14240","title":"ModuleConfig and PluginConfig in Struts 2","body":"<p><code>ModuleConfig</code> and <code>PlugInConfig</code> are Struts1 classes. Struts2 framework is different in <a href=\"https://struts.apache.org/core-developers/big-picture\" rel=\"nofollow noreferrer\">architecture</a> and uses it's own classes used to parse and build the configuration. So, if your application used those classes and you unable to remove them at the moment you should consider the option to run both frameworks together. Also, if you decide to remove them after rewriting the configuration, but want to reuse actions and forms in Struts2 consider <a href=\"https://struts.apache.org/plugins/struts-1\" rel=\"nofollow noreferrer\">struts2-struts1-plugin</a> and <a href=\"https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14240#content/view/14240\" rel=\"nofollow noreferrer\">struts1-solutions</a>. This allows to use existing actions and forms in the Struts2 framework, but this is more complicated in Struts2 rather than writing a Struts2 only web application from scratch.</p>\n"}],"owner":{"account_id":2707842,"reputation":13,"user_id":2337055,"display_name":"user2337055"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17942040,"answer_count":1,"score":1,"last_activity_date":1696416436,"creation_date":1375138050,"question_id":17935503,"body_markdown":"I&#39;m working on Struts 2 migration. My Struts 1 application is using `ModuleConfig` and `PlugInConfig` classes. How to use these classes in Struts 2?\r\n\r\n","title":"ModuleConfig and PluginConfig in Struts 2","body":"<p>I'm working on Struts 2 migration. My Struts 1 application is using <code>ModuleConfig</code> and <code>PlugInConfig</code> classes. How to use these classes in Struts 2?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1696415991,"post_id":77228791,"comment_id":136149182,"body_markdown":"Reading it in Java code how?","body":"Reading it in Java code how?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696416714,"post_id":77228791,"comment_id":136149316,"body_markdown":"You can never read `1.54489E+15` as `1544887451541840`. There simply isn&#39;t enough precision left in your input value.","body":"You can never read <code>1.54489E+15</code> as <code>1544887451541840</code>. There simply isn&#39;t enough precision left in your input value."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - ÈÄÄ„Åó„Åü"},"score":0,"creation_date":1696417379,"post_id":77228791,"comment_id":136149432,"body_markdown":"Then don&#39;t store it as a float type.","body":"Then don&#39;t store it as a float type."}],"answers":[{"tags":[],"owner":{"account_id":17994687,"reputation":63,"user_id":13078026,"display_name":"smeds"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696415832,"creation_date":1696415832,"answer_id":77228836,"question_id":77228791,"body_markdown":"I suppose the problem you are facing is more linked to the printing of the value then of the value itself. Note that any calculation involving the number with the scientific notation will still be correctly computed by Java.\r\n\r\nTo fix the printing issue, be sure that the value read from the Excel file is interpreted as a `BigInteger`, instead of a standard `int` value. \r\nThen, when you print out the variable, be sure to utilize the `toPlainString()` method.\r\n\r\nFor instance:\r\n\r\n    import java.math.BigDecimal;\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        BigDecimal bd = new BigDecimal(&quot;1.54489745154184E+15&quot;);\r\n        String str = bd.toPlainString();\r\n        System.out.println(str);\r\n      }\r\n    }\r\n\r\nWill output `1544887451541840`.","title":"how to read the scientific value from the CSV or Excel file using java?","body":"<p>I suppose the problem you are facing is more linked to the printing of the value then of the value itself. Note that any calculation involving the number with the scientific notation will still be correctly computed by Java.</p>\n<p>To fix the printing issue, be sure that the value read from the Excel file is interpreted as a <code>BigInteger</code>, instead of a standard <code>int</code> value.\nThen, when you print out the variable, be sure to utilize the <code>toPlainString()</code> method.</p>\n<p>For instance:</p>\n<pre><code>import java.math.BigDecimal;\n\npublic class Main {\n  public static void main(String[] args) {\n    BigDecimal bd = new BigDecimal(&quot;1.54489745154184E+15&quot;);\n    String str = bd.toPlainString();\n    System.out.println(str);\n  }\n}\n</code></pre>\n<p>Will output <code>1544887451541840</code>.</p>\n"}],"owner":{"account_id":28817571,"reputation":1,"user_id":22070837,"display_name":"Vagesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1696424442,"answer_count":1,"score":-3,"last_activity_date":1696416400,"creation_date":1696415446,"question_id":77228791,"body_markdown":"Example,\r\n\r\nIn a CSV or Excel file I&#39;m storing one integer value &#39;1544887451541840&#39; but it is adding as scientific value &#39;1.54489E+15&#39; in that file, if we are reading that cell value in java code it is reading as &#39;1.54489E+15&#39;.but I want that value as &#39;1544887451541840&#39;.","title":"how to read the scientific value from the CSV or Excel file using java?","body":"<p>Example,</p>\n<p>In a CSV or Excel file I'm storing one integer value '1544887451541840' but it is adding as scientific value '1.54489E+15' in that file, if we are reading that cell value in java code it is reading as '1.54489E+15'.but I want that value as '1544887451541840'.</p>\n"},{"tags":["java","parsing","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1083026,"reputation":398,"user_id":1079475,"accept_rate":58,"display_name":"user1079475"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696416051,"creation_date":1696416051,"answer_id":77228868,"question_id":77227984,"body_markdown":"I&#39;ve managed to uncover the mystery.\r\nTo `&lt;Routes&gt;` element I&#39;ve added a `pattern` attribute as follows\r\n```\r\n&lt;Routes pattern=&quot;$${event:Level}&quot;&gt;\r\n```\r\nI presume this means that this route will be choosen and evaluted while logEvent has specified level (which is always the case). That opens up the doors to look up any context variable in any numbers.\r\nIt is sad that there is so little information on how to use these...","title":"Log4j2 Can&#39;t read ThreadConntext variables in the RoutingAppender","body":"<p>I've managed to uncover the mystery.\nTo <code>&lt;Routes&gt;</code> element I've added a <code>pattern</code> attribute as follows</p>\n<pre><code>&lt;Routes pattern=&quot;$${event:Level}&quot;&gt;\n</code></pre>\n<p>I presume this means that this route will be choosen and evaluted while logEvent has specified level (which is always the case). That opens up the doors to look up any context variable in any numbers.\nIt is sad that there is so little information on how to use these...</p>\n"}],"owner":{"account_id":1083026,"reputation":398,"user_id":1079475,"accept_rate":58,"display_name":"user1079475"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77228868,"answer_count":1,"score":1,"last_activity_date":1696416051,"creation_date":1696408227,"question_id":77227984,"body_markdown":"Firstly i&#39;ve read this topic &lt;https://stackoverflow.com/questions/26405456/log4j-2-cant-use-the-contextmaplookup-in-rollingfileappender-filename-and-fil&gt;\r\nI&#39;ve prepared configuration as below:\r\n```\r\n&lt;Configuration name=&quot;configuration&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Routing name=&quot;routing_1&quot;&gt;\r\n\t\t\t&lt;Routes&gt;\r\n\t\t\t\t&lt;Route&gt;\r\n\t\t\t\t\t&lt;RollingFile append=&quot;true&quot;\r\n\t\t\t\t\t             fileName=&quot;logfile&quot;\r\n\t\t\t\t\t             filePattern=&quot;logfile.${mdc:User}-${mdc:Channel}.%i.log&quot;\r\n\t\t\t\t\t             name=&quot;routing_1&quot;&gt;\r\n\t\t\t\t\t\t&lt;PatternLayout pattern=&quot;Thread=%tid [%X{MessageId}] %d %-11T %-5p [%c] - %m%n&quot;/&gt;\r\n\t\t\t\t\t\t&lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n\t\t\t\t\t\t&lt;Policies&gt;\r\n\t\t\t\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;20000KB&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/Policies&gt;\r\n\t\t\t\t\t&lt;/RollingFile&gt;\r\n\t\t\t\t&lt;/Route&gt;\r\n\t\t\t&lt;/Routes&gt;\r\n\t\t&lt;/Routing&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger additivity=&quot;true&quot;\r\n\t\t        level=&quot;info&quot;\r\n\t\t        name=&quot;org.hibernate.type&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;routing_1&quot;/&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAnd it is creating files `logfile.${mdc:User}-${mdc:Channel}.0.log, logfile.${mdc:User}-${mdc:Channel}.1.log (...)`\r\nI tried using `%X{User}`, `%X{Channel}` and it resulted in files like:\r\n`logfile.%X-%X.0.log, logfile.%X-%X.1.log (...)`\r\nI&#39;ve attached the debugger and found out that during PatternConverter creation in\r\n```\r\nPatternParser::createConverter\r\nPatternParser::finalizeConverter\r\nPatternParser::parse\r\nPatternProcessor::ctr\r\n```\r\n\r\nThere are only 4 rules {`%i`, `%d`, and two others that i don&#39;t remember} and neither of them handles `%X` clause. I recon this is the problem, but i don&#39;t know how i can control this in the middle of the library process.\r\nStrangely `%X{MessageId}` substitution in `PatternLayout&#39;s pattern` works fine.\r\n\r\nAny help guys?","title":"Log4j2 Can&#39;t read ThreadConntext variables in the RoutingAppender","body":"<p>Firstly i've read this topic <a href=\"https://stackoverflow.com/questions/26405456/log4j-2-cant-use-the-contextmaplookup-in-rollingfileappender-filename-and-fil\">Log4j 2 : can&#39;t use the ContextMapLookup in RollingFileAppender fileName and filePattern</a>\nI've prepared configuration as below:</p>\n<pre><code>&lt;Configuration name=&quot;configuration&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Routing name=&quot;routing_1&quot;&gt;\n            &lt;Routes&gt;\n                &lt;Route&gt;\n                    &lt;RollingFile append=&quot;true&quot;\n                                 fileName=&quot;logfile&quot;\n                                 filePattern=&quot;logfile.${mdc:User}-${mdc:Channel}.%i.log&quot;\n                                 name=&quot;routing_1&quot;&gt;\n                        &lt;PatternLayout pattern=&quot;Thread=%tid [%X{MessageId}] %d %-11T %-5p [%c] - %m%n&quot;/&gt;\n                        &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n                        &lt;Policies&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;20000KB&quot;/&gt;\n                        &lt;/Policies&gt;\n                    &lt;/RollingFile&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger additivity=&quot;true&quot;\n                level=&quot;info&quot;\n                name=&quot;org.hibernate.type&quot;&gt;\n            &lt;AppenderRef ref=&quot;routing_1&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>And it is creating files <code>logfile.${mdc:User}-${mdc:Channel}.0.log, logfile.${mdc:User}-${mdc:Channel}.1.log (...)</code>\nI tried using <code>%X{User}</code>, <code>%X{Channel}</code> and it resulted in files like:\n<code>logfile.%X-%X.0.log, logfile.%X-%X.1.log (...)</code>\nI've attached the debugger and found out that during PatternConverter creation in</p>\n<pre><code>PatternParser::createConverter\nPatternParser::finalizeConverter\nPatternParser::parse\nPatternProcessor::ctr\n</code></pre>\n<p>There are only 4 rules {<code>%i</code>, <code>%d</code>, and two others that i don't remember} and neither of them handles <code>%X</code> clause. I recon this is the problem, but i don't know how i can control this in the middle of the library process.\nStrangely <code>%X{MessageId}</code> substitution in <code>PatternLayout's pattern</code> works fine.</p>\n<p>Any help guys?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696324188,"post_id":77211928,"comment_id":136135082,"body_markdown":"You have an `@ RequiredArgsConstructor` annotation, but no required fields. Make those fields `final` so they are required and the proper constructor is created. Or switch to the `@AllArgsConstructor` in stead. Or ditch lombok and just write the constructor yourself (which is my preferred way of doing things like this).","body":"You have an <code>@ RequiredArgsConstructor</code> annotation, but no required fields. Make those fields <code>final</code> so they are required and the proper constructor is created. Or switch to the <code>@AllArgsConstructor</code> in stead. Or ditch lombok and just write the constructor yourself (which is my preferred way of doing things like this)."}],"answers":[{"tags":[],"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696335292,"creation_date":1696335292,"answer_id":77222168,"question_id":77211928,"body_markdown":"[M. Deinum][1] answered the question. The problem was the Dependency Injection. Both attributes have to be either final in this scenario since I am using Lombok with the @RequiredArgsConstructor\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"Spring Boot Security configuration throws UnsatisfiedDependencyException: Unsatisfied dependency expressed through method &#39;setFilterChains&#39;","body":"<p><a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> answered the question. The problem was the Dependency Injection. Both attributes have to be either final in this scenario since I am using Lombok with the @RequiredArgsConstructor</p>\n"}],"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696415667,"creation_date":1696187260,"question_id":77211928,"body_markdown":"I am currently developing a web app and I program Java in Spring Boot for the backend. I am trying to configure Spring Security so that only users with a JWT-Token can access any endpoints. I am not even sure if that is the problem but every time I start the app, I get the following error:\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/myapp/backend/config/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: Cannot invoke &quot;Object.getClass()&quot; because &quot;filter&quot; is null\r\n```\r\n\r\nThe compiler marks the following code as deprecated:\r\n\r\n```\r\npackage com.myapp.backend.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport jakarta.servlet.Filter;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n\tprivate AuthenticationProvider authenticationProvider;\r\n\tprivate JwtAuthenticationFilter jwtAuthFilter;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf()\r\n        .disable()\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/auth/**&quot;)\r\n        .permitAll()\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        .authenticationProvider(authenticationProvider)\r\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\r\n                \r\n        return http.build();\r\n\t}\r\n}\r\n\r\n```","title":"Spring Boot Security configuration throws UnsatisfiedDependencyException: Unsatisfied dependency expressed through method &#39;setFilterChains&#39;","body":"<p>I am currently developing a web app and I program Java in Spring Boot for the backend. I am trying to configure Spring Security so that only users with a JWT-Token can access any endpoints. I am not even sure if that is the problem but every time I start the app, I get the following error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/myapp/backend/config/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Cannot invoke &quot;Object.getClass()&quot; because &quot;filter&quot; is null\n</code></pre>\n<p>The compiler marks the following code as deprecated:</p>\n<pre><code>package com.myapp.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport jakarta.servlet.Filter;\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private AuthenticationProvider authenticationProvider;\n    private JwtAuthenticationFilter jwtAuthFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n        .csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\n                \n        return http.build();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview","drag-and-drop"],"owner":{"account_id":14624465,"reputation":21,"user_id":10562191,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696415597,"creation_date":1696412293,"question_id":77228423,"body_markdown":"I want to create  a recyclerview that can drag the seleced items out of the recycler view\r\n\r\nI tried various github solutions,but it is only to move from one recyclerview to another.\r\nI need to drag the items to a button,and when the item reaches it,it shows a bottom sheet dialog and then I need to insert it to a recyclerview in that bottom sheet.\r\n\r\nSo far I have done this\r\n\r\n            val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\r\n            ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\r\n        ) {\r\n            var selectedViewHolder: RecyclerView.ViewHolder? = null\r\n\r\n            var offsetX: Float = 0f\r\n            var offsetY: Float = 0f\r\n\r\n            val popupWindow = PopupWindow(context)\r\n\r\n            override fun getMovementFlags(\r\n                recyclerView: RecyclerView,\r\n                viewHolder: RecyclerView.ViewHolder\r\n            ): Int {\r\n                val dragFlags = ItemTouchHelper.UP or ItemTouchHelper.DOWN\r\n                return makeMovementFlags(dragFlags, 0)\r\n            }\r\n\r\n            override fun onMove(\r\n                recyclerView: RecyclerView,\r\n                source: RecyclerView.ViewHolder,\r\n                target: RecyclerView.ViewHolder\r\n            ): Boolean {\r\n                val sourcePosition = source.adapterPosition\r\n                val targetPosition = target.adapterPosition\r\n\r\n                if (selectedViewHolder == null) {\r\n                    selectedViewHolder = recyclerView.findViewHolderForAdapterPosition(sourcePosition)\r\n                }\r\n\r\n                Collections.swap(customerList,sourcePosition,targetPosition)\r\n                custAdapter.notifyItemMoved(sourcePosition,targetPosition)\r\n                return true\r\n\r\n            }\r\n\r\n            override fun onChildDraw(\r\n                c: Canvas,\r\n                recyclerView: RecyclerView,\r\n                viewHolder: RecyclerView.ViewHolder,\r\n                dX: Float,\r\n                dY: Float,\r\n                actionState: Int,\r\n                isCurrentlyActive: Boolean\r\n            ) {\r\n                if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; isCurrentlyActive &amp;&amp; selectedViewHolder != null) {\r\n                    val itemView = selectedViewHolder!!.itemView\r\n\r\n                    offsetX = if (dX &lt; 0) 0f else dX\r\n                    offsetY = if (dY &lt; 0) 0f else dY\r\n\r\n                    c.save()\r\n                    c.translate(offsetX, offsetY)\r\n                    itemView.draw(c)\r\n                    c.restore()\r\n                } else {\r\n                    super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\r\n                }\r\n            }\r\n            override fun onSelectedChanged(viewHolder: RecyclerView.ViewHolder?, actionState: Int) {\r\n                if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; viewHolder != null) {\r\n         \r\n                    val draggedItemView = viewHolder.itemView\r\n\r\n            \r\n                    val parent = draggedItemView.parent as? ViewGroup\r\n                    parent?.removeView(draggedItemView)\r\n\r\n     \r\n                    val location = IntArray(2)\r\n                    draggedItemView.getLocationOnScreen(location)\r\n\r\n          \r\n                    popupWindow.contentView = draggedItemView\r\n                    popupWindow.width = draggedItemView.width\r\n                    popupWindow.height = draggedItemView.height\r\n                    popupWindow.showAtLocation(draggedItemView, Gravity.NO_GRAVITY, location[0], location[1])\r\n\r\n                    super.onSelectedChanged(viewHolder, actionState)\r\n                }\r\n            }\r\n\r\n            override fun clearView(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder) {\r\n                popupWindow.dismiss()\r\n                super.clearView(recyclerView, viewHolder)\r\n            }\r\n\r\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\r\n                TODO(&quot;Not yet implemented&quot;)\r\n            }\r\n        })\r\n        itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\r\n\r\n        binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\r\n            val gestureDetector = GestureDetector(requireContext(), object : GestureDetector.SimpleOnGestureListener() {\r\n                override fun onLongPress(e: MotionEvent) {\r\n                    val childView = binding.rvCustomerList.findChildViewUnder(e.x, e.y)\r\n                    if (childView != null) {\r\n                        val viewHolder = binding.rvCustomerList.getChildViewHolder(childView)\r\n                        itemTouchHelper.startDrag(viewHolder)\r\n                    }\r\n                }\r\n            })\r\n\r\n            override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\r\n                gestureDetector.onTouchEvent(e)\r\n                return false\r\n            }\r\n\r\n            override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\r\n\r\n            override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\r\n        })\r\n\r\nNow I can see the selected item out of the recyclerview,but behind it.\r\n","title":"Is there a way to lift out an item from the recyclerview and move it to another layout","body":"<p>I want to create  a recyclerview that can drag the seleced items out of the recycler view</p>\n<p>I tried various github solutions,but it is only to move from one recyclerview to another.\nI need to drag the items to a button,and when the item reaches it,it shows a bottom sheet dialog and then I need to insert it to a recyclerview in that bottom sheet.</p>\n<p>So far I have done this</p>\n<pre><code>        val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\n        ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\n    ) {\n        var selectedViewHolder: RecyclerView.ViewHolder? = null\n\n        var offsetX: Float = 0f\n        var offsetY: Float = 0f\n\n        val popupWindow = PopupWindow(context)\n\n        override fun getMovementFlags(\n            recyclerView: RecyclerView,\n            viewHolder: RecyclerView.ViewHolder\n        ): Int {\n            val dragFlags = ItemTouchHelper.UP or ItemTouchHelper.DOWN\n            return makeMovementFlags(dragFlags, 0)\n        }\n\n        override fun onMove(\n            recyclerView: RecyclerView,\n            source: RecyclerView.ViewHolder,\n            target: RecyclerView.ViewHolder\n        ): Boolean {\n            val sourcePosition = source.adapterPosition\n            val targetPosition = target.adapterPosition\n\n            if (selectedViewHolder == null) {\n                selectedViewHolder = recyclerView.findViewHolderForAdapterPosition(sourcePosition)\n            }\n\n            Collections.swap(customerList,sourcePosition,targetPosition)\n            custAdapter.notifyItemMoved(sourcePosition,targetPosition)\n            return true\n\n        }\n\n        override fun onChildDraw(\n            c: Canvas,\n            recyclerView: RecyclerView,\n            viewHolder: RecyclerView.ViewHolder,\n            dX: Float,\n            dY: Float,\n            actionState: Int,\n            isCurrentlyActive: Boolean\n        ) {\n            if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; isCurrentlyActive &amp;&amp; selectedViewHolder != null) {\n                val itemView = selectedViewHolder!!.itemView\n\n                offsetX = if (dX &lt; 0) 0f else dX\n                offsetY = if (dY &lt; 0) 0f else dY\n\n                c.save()\n                c.translate(offsetX, offsetY)\n                itemView.draw(c)\n                c.restore()\n            } else {\n                super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\n            }\n        }\n        override fun onSelectedChanged(viewHolder: RecyclerView.ViewHolder?, actionState: Int) {\n            if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; viewHolder != null) {\n     \n                val draggedItemView = viewHolder.itemView\n\n        \n                val parent = draggedItemView.parent as? ViewGroup\n                parent?.removeView(draggedItemView)\n\n \n                val location = IntArray(2)\n                draggedItemView.getLocationOnScreen(location)\n\n      \n                popupWindow.contentView = draggedItemView\n                popupWindow.width = draggedItemView.width\n                popupWindow.height = draggedItemView.height\n                popupWindow.showAtLocation(draggedItemView, Gravity.NO_GRAVITY, location[0], location[1])\n\n                super.onSelectedChanged(viewHolder, actionState)\n            }\n        }\n\n        override fun clearView(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder) {\n            popupWindow.dismiss()\n            super.clearView(recyclerView, viewHolder)\n        }\n\n        override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n            TODO(&quot;Not yet implemented&quot;)\n        }\n    })\n    itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\n\n    binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\n        val gestureDetector = GestureDetector(requireContext(), object : GestureDetector.SimpleOnGestureListener() {\n            override fun onLongPress(e: MotionEvent) {\n                val childView = binding.rvCustomerList.findChildViewUnder(e.x, e.y)\n                if (childView != null) {\n                    val viewHolder = binding.rvCustomerList.getChildViewHolder(childView)\n                    itemTouchHelper.startDrag(viewHolder)\n                }\n            }\n        })\n\n        override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\n            gestureDetector.onTouchEvent(e)\n            return false\n        }\n\n        override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\n\n        override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\n    })\n</code></pre>\n<p>Now I can see the selected item out of the recyclerview,but behind it.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","quartz-scheduler"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1601295139,"post_id":64101847,"comment_id":113353769,"body_markdown":"So what else do you expect. That is exactly what you have instructed to happen.","body":"So what else do you expect. That is exactly what you have instructed to happen."},{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":0,"creation_date":1601295418,"post_id":64101847,"comment_id":113353887,"body_markdown":"To avoid initialising of tables, i changed setting to                 \n  spring.quartz.jdbc.initialize-schema=never.    But then, i get exception and tables are not generated.","body":"To avoid initialising of tables, i changed setting to                    spring.quartz.jdbc.initialize-schema=never.    But then, i get exception and tables are not generated."}],"answers":[{"comments":[{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":1,"creation_date":1601298460,"post_id":64102055,"comment_id":113355379,"body_markdown":"Thanks for your suggestions. I have googled and found that below combination is recommended, and works also:\nspring.quartz.jdbc.initialize-schema=never. So, i want to know that why it is not working in my case. Do we have to configure something else also ?","body":"Thanks for your suggestions. I have googled and found that below combination is recommended, and works also: spring.quartz.jdbc.initialize-schema=never. So, i want to know that why it is not working in my case. Do we have to configure something else also ?"},{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":1,"creation_date":1601319082,"post_id":64102055,"comment_id":113364794,"body_markdown":"You have to create the database tables, if you set the schema to &#39;never&#39; quarts isn&#39;t going to create it for you. So yet, set it to never and then make sure the tables get created somehow (go re-read my answer for 2 different ways how)","body":"You have to create the database tables, if you set the schema to &#39;never&#39; quarts isn&#39;t going to create it for you. So yet, set it to never and then make sure the tables get created somehow (go re-read my answer for 2 different ways how)"},{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":0,"creation_date":1601415322,"post_id":64102055,"comment_id":113400216,"body_markdown":"Thanks. I am working as per your suggestions. I have defined file quartz_tables.sql in resouces. In application.properties, i assign it value  classpath: /quartz_tables.sql. But this file is not being picked up. Can you help further ?","body":"Thanks. I am working as per your suggestions. I have defined file quartz_tables.sql in resouces. In application.properties, i assign it value  classpath: /quartz_tables.sql. But this file is not being picked up. Can you help further ?"},{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":0,"creation_date":1601422151,"post_id":64102055,"comment_id":113401892,"body_markdown":"@Stephan That&#39;s a separate question - ask it as its own and post more details","body":"@Stephan That&#39;s a separate question - ask it as its own and post more details"},{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":0,"creation_date":1601447600,"post_id":64102055,"comment_id":113407175,"body_markdown":"hello Mibek, i have posted it : https://stackoverflow.com/questions/64132063/how-to-assign-db-script-to-spring-quartz-jdbc-schema","body":"hello Mibek, i have posted it : <a href=\"https://stackoverflow.com/questions/64132063/how-to-assign-db-script-to-spring-quartz-jdbc-schema\" title=\"how to assign db script to spring quartz jdbc schema\">stackoverflow.com/questions/64132063/&hellip;</a>"},{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":1,"creation_date":1601491102,"post_id":64102055,"comment_id":113427987,"body_markdown":"ok - typically you&#39;d mark the answer given as correct if it answers your question (the checkmark above)","body":"ok - typically you&#39;d mark the answer given as correct if it answers your question (the checkmark above)"},{"owner":{"account_id":1916452,"reputation":1764,"user_id":1728946,"accept_rate":79,"display_name":"C&#233;cile Fecherolle"},"score":0,"creation_date":1611569141,"post_id":64102055,"comment_id":116484543,"body_markdown":"This should be the accepted answer, as it follows recommandations and even links to the repository with standard scripts. Thanks!","body":"This should be the accepted answer, as it follows recommandations and even links to the repository with standard scripts. Thanks!"}],"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1696415369,"creation_date":1601295487,"answer_id":64102055,"question_id":64101847,"body_markdown":"Well, according to the docs:\r\n\r\n\r\n&gt; By default, the database is detected and initialized by using the\r\n&gt; standard scripts provided with the Quartz library. These scripts drop\r\n&gt; existing tables, deleting all triggers on every restart. It is also\r\n&gt; possible to provide a custom script by setting the\r\n&gt; spring.quartz.jdbc.schema property.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-quartz.html\r\n\r\nWhat you could do:\r\n\r\n1. Modify the scripts that quartz uses to create the tables and remove the drop table statements and use `create table if not exists...`: https://github.com/quartz-scheduler/quartz/tree/main/quartz/src/main/resources/org/quartz/impl/jdbcjobstore\r\n\r\n2. Put the statements into a script in your `src/main/resources` directory somewhere (assuming you&#39;re using maven)\r\n3. Set the `spring.quartz.jdbc.schema` to point to your file created in #2\r\n\r\nSince you can use any database, the scripts are going to be database specific.\r\n\r\nOR\r\n\r\nAn alternative is to use flyway/liquibase and use the above scripts as a change in those management systems (this is personally what I would do)\r\n\r\nScripts - \r\n\r\nFor example, mysql is here (you&#39;d want to remove the drop table statements at the beginning and follow the steps above to use custom init scripts):\r\n\r\n```\r\n#\r\n# Quartz seems to work best with the driver mm.mysql-2.0.7-bin.jar\r\n#\r\n# PLEASE consider using mysql with innodb tables to avoid locking issues\r\n#\r\n# In your Quartz properties file, you&#39;ll need to set\r\n# org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate\r\n#\r\n\r\nDROP TABLE IF EXISTS QRTZ_FIRED_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_PAUSED_TRIGGER_GRPS;\r\nDROP TABLE IF EXISTS QRTZ_SCHEDULER_STATE;\r\nDROP TABLE IF EXISTS QRTZ_LOCKS;\r\nDROP TABLE IF EXISTS QRTZ_SIMPLE_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_SIMPROP_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_CRON_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_BLOB_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_JOB_DETAILS;\r\nDROP TABLE IF EXISTS QRTZ_CALENDARS;\r\n\r\n\r\nCREATE TABLE QRTZ_JOB_DETAILS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    JOB_NAME  VARCHAR(200) NOT NULL,\r\n    JOB_GROUP VARCHAR(200) NOT NULL,\r\n    DESCRIPTION VARCHAR(250) NULL,\r\n    JOB_CLASS_NAME   VARCHAR(250) NOT NULL,\r\n    IS_DURABLE VARCHAR(1) NOT NULL,\r\n    IS_NONCONCURRENT VARCHAR(1) NOT NULL,\r\n    IS_UPDATE_DATA VARCHAR(1) NOT NULL,\r\n    REQUESTS_RECOVERY VARCHAR(1) NOT NULL,\r\n    JOB_DATA BLOB NULL,\r\n    PRIMARY KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    JOB_NAME  VARCHAR(200) NOT NULL,\r\n    JOB_GROUP VARCHAR(200) NOT NULL,\r\n    DESCRIPTION VARCHAR(250) NULL,\r\n    NEXT_FIRE_TIME BIGINT(13) NULL,\r\n    PREV_FIRE_TIME BIGINT(13) NULL,\r\n    PRIORITY INTEGER NULL,\r\n    TRIGGER_STATE VARCHAR(16) NOT NULL,\r\n    TRIGGER_TYPE VARCHAR(8) NOT NULL,\r\n    START_TIME BIGINT(13) NOT NULL,\r\n    END_TIME BIGINT(13) NULL,\r\n    CALENDAR_NAME VARCHAR(200) NULL,\r\n    MISFIRE_INSTR SMALLINT(2) NULL,\r\n    JOB_DATA BLOB NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\r\n        REFERENCES QRTZ_JOB_DETAILS(SCHED_NAME,JOB_NAME,JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_SIMPLE_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    REPEAT_COUNT BIGINT(7) NOT NULL,\r\n    REPEAT_INTERVAL BIGINT(12) NOT NULL,\r\n    TIMES_TRIGGERED BIGINT(10) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_CRON_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    CRON_EXPRESSION VARCHAR(200) NOT NULL,\r\n    TIME_ZONE_ID VARCHAR(80),\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_SIMPROP_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    STR_PROP_1 VARCHAR(512) NULL,\r\n    STR_PROP_2 VARCHAR(512) NULL,\r\n    STR_PROP_3 VARCHAR(512) NULL,\r\n    INT_PROP_1 INT NULL,\r\n    INT_PROP_2 INT NULL,\r\n    LONG_PROP_1 BIGINT NULL,\r\n    LONG_PROP_2 BIGINT NULL,\r\n    DEC_PROP_1 NUMERIC(13,4) NULL,\r\n    DEC_PROP_2 NUMERIC(13,4) NULL,\r\n    BOOL_PROP_1 VARCHAR(1) NULL,\r\n    BOOL_PROP_2 VARCHAR(1) NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n    REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_BLOB_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    BLOB_DATA BLOB NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_CALENDARS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    CALENDAR_NAME  VARCHAR(200) NOT NULL,\r\n    CALENDAR BLOB NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,CALENDAR_NAME)\r\n);\r\n\r\nCREATE TABLE QRTZ_PAUSED_TRIGGER_GRPS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_FIRED_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    ENTRY_ID VARCHAR(95) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\r\n    FIRED_TIME BIGINT(13) NOT NULL,\r\n    SCHED_TIME BIGINT(13) NOT NULL,\r\n    PRIORITY INTEGER NOT NULL,\r\n    STATE VARCHAR(16) NOT NULL,\r\n    JOB_NAME VARCHAR(200) NULL,\r\n    JOB_GROUP VARCHAR(200) NULL,\r\n    IS_NONCONCURRENT VARCHAR(1) NULL,\r\n    REQUESTS_RECOVERY VARCHAR(1) NULL,\r\n    PRIMARY KEY (SCHED_NAME,ENTRY_ID)\r\n);\r\n\r\nCREATE TABLE QRTZ_SCHEDULER_STATE\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\r\n    LAST_CHECKIN_TIME BIGINT(13) NOT NULL,\r\n    CHECKIN_INTERVAL BIGINT(13) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,INSTANCE_NAME)\r\n);\r\n\r\nCREATE TABLE QRTZ_LOCKS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    LOCK_NAME  VARCHAR(40) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,LOCK_NAME)\r\n);\r\n\r\n\r\ncommit;\r\n```\r\n\r\n\r\n","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>Well, according to the docs:</p>\n<blockquote>\n<p>By default, the database is detected and initialized by using the\nstandard scripts provided with the Quartz library. These scripts drop\nexisting tables, deleting all triggers on every restart. It is also\npossible to provide a custom script by setting the\nspring.quartz.jdbc.schema property.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-quartz.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-quartz.html</a></p>\n<p>What you could do:</p>\n<ol>\n<li><p>Modify the scripts that quartz uses to create the tables and remove the drop table statements and use <code>create table if not exists...</code>: <a href=\"https://github.com/quartz-scheduler/quartz/tree/main/quartz/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">https://github.com/quartz-scheduler/quartz/tree/main/quartz/src/main/resources/org/quartz/impl/jdbcjobstore</a></p>\n</li>\n<li><p>Put the statements into a script in your <code>src/main/resources</code> directory somewhere (assuming you're using maven)</p>\n</li>\n<li><p>Set the <code>spring.quartz.jdbc.schema</code> to point to your file created in #2</p>\n</li>\n</ol>\n<p>Since you can use any database, the scripts are going to be database specific.</p>\n<p>OR</p>\n<p>An alternative is to use flyway/liquibase and use the above scripts as a change in those management systems (this is personally what I would do)</p>\n<p>Scripts -</p>\n<p>For example, mysql is here (you'd want to remove the drop table statements at the beginning and follow the steps above to use custom init scripts):</p>\n<pre><code>#\n# Quartz seems to work best with the driver mm.mysql-2.0.7-bin.jar\n#\n# PLEASE consider using mysql with innodb tables to avoid locking issues\n#\n# In your Quartz properties file, you'll need to set\n# org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate\n#\n\nDROP TABLE IF EXISTS QRTZ_FIRED_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_PAUSED_TRIGGER_GRPS;\nDROP TABLE IF EXISTS QRTZ_SCHEDULER_STATE;\nDROP TABLE IF EXISTS QRTZ_LOCKS;\nDROP TABLE IF EXISTS QRTZ_SIMPLE_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_SIMPROP_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_CRON_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_BLOB_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_JOB_DETAILS;\nDROP TABLE IF EXISTS QRTZ_CALENDARS;\n\n\nCREATE TABLE QRTZ_JOB_DETAILS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    JOB_NAME  VARCHAR(200) NOT NULL,\n    JOB_GROUP VARCHAR(200) NOT NULL,\n    DESCRIPTION VARCHAR(250) NULL,\n    JOB_CLASS_NAME   VARCHAR(250) NOT NULL,\n    IS_DURABLE VARCHAR(1) NOT NULL,\n    IS_NONCONCURRENT VARCHAR(1) NOT NULL,\n    IS_UPDATE_DATA VARCHAR(1) NOT NULL,\n    REQUESTS_RECOVERY VARCHAR(1) NOT NULL,\n    JOB_DATA BLOB NULL,\n    PRIMARY KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\n);\n\nCREATE TABLE QRTZ_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    JOB_NAME  VARCHAR(200) NOT NULL,\n    JOB_GROUP VARCHAR(200) NOT NULL,\n    DESCRIPTION VARCHAR(250) NULL,\n    NEXT_FIRE_TIME BIGINT(13) NULL,\n    PREV_FIRE_TIME BIGINT(13) NULL,\n    PRIORITY INTEGER NULL,\n    TRIGGER_STATE VARCHAR(16) NOT NULL,\n    TRIGGER_TYPE VARCHAR(8) NOT NULL,\n    START_TIME BIGINT(13) NOT NULL,\n    END_TIME BIGINT(13) NULL,\n    CALENDAR_NAME VARCHAR(200) NULL,\n    MISFIRE_INSTR SMALLINT(2) NULL,\n    JOB_DATA BLOB NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\n        REFERENCES QRTZ_JOB_DETAILS(SCHED_NAME,JOB_NAME,JOB_GROUP)\n);\n\nCREATE TABLE QRTZ_SIMPLE_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    REPEAT_COUNT BIGINT(7) NOT NULL,\n    REPEAT_INTERVAL BIGINT(12) NOT NULL,\n    TIMES_TRIGGERED BIGINT(10) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_CRON_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    CRON_EXPRESSION VARCHAR(200) NOT NULL,\n    TIME_ZONE_ID VARCHAR(80),\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_SIMPROP_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    STR_PROP_1 VARCHAR(512) NULL,\n    STR_PROP_2 VARCHAR(512) NULL,\n    STR_PROP_3 VARCHAR(512) NULL,\n    INT_PROP_1 INT NULL,\n    INT_PROP_2 INT NULL,\n    LONG_PROP_1 BIGINT NULL,\n    LONG_PROP_2 BIGINT NULL,\n    DEC_PROP_1 NUMERIC(13,4) NULL,\n    DEC_PROP_2 NUMERIC(13,4) NULL,\n    BOOL_PROP_1 VARCHAR(1) NULL,\n    BOOL_PROP_2 VARCHAR(1) NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n    REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_BLOB_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    BLOB_DATA BLOB NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_CALENDARS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    CALENDAR_NAME  VARCHAR(200) NOT NULL,\n    CALENDAR BLOB NOT NULL,\n    PRIMARY KEY (SCHED_NAME,CALENDAR_NAME)\n);\n\nCREATE TABLE QRTZ_PAUSED_TRIGGER_GRPS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_FIRED_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    ENTRY_ID VARCHAR(95) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\n    FIRED_TIME BIGINT(13) NOT NULL,\n    SCHED_TIME BIGINT(13) NOT NULL,\n    PRIORITY INTEGER NOT NULL,\n    STATE VARCHAR(16) NOT NULL,\n    JOB_NAME VARCHAR(200) NULL,\n    JOB_GROUP VARCHAR(200) NULL,\n    IS_NONCONCURRENT VARCHAR(1) NULL,\n    REQUESTS_RECOVERY VARCHAR(1) NULL,\n    PRIMARY KEY (SCHED_NAME,ENTRY_ID)\n);\n\nCREATE TABLE QRTZ_SCHEDULER_STATE\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\n    LAST_CHECKIN_TIME BIGINT(13) NOT NULL,\n    CHECKIN_INTERVAL BIGINT(13) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,INSTANCE_NAME)\n);\n\nCREATE TABLE QRTZ_LOCKS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    LOCK_NAME  VARCHAR(40) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,LOCK_NAME)\n);\n\n\ncommit;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1233417,"reputation":329,"user_id":1197538,"accept_rate":33,"display_name":"Ravi"},"score":0,"creation_date":1661139844,"post_id":67798339,"comment_id":129692380,"body_markdown":"How access the blob field job_data of table qrtz_job_details into the executing job?","body":"How access the blob field job_data of table qrtz_job_details into the executing job?"}],"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622602589,"creation_date":1622602589,"answer_id":67798339,"question_id":64101847,"body_markdown":"I did the following steps for Spring boot to get it running perfectly.\r\n\r\nI created the schema manually called &quot;quartz&quot;. Then created all the tables manually by copying the correct script from [https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore][1] \r\n\r\n\r\n  [1]: https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\r\n\r\nThen I have the following properties in the spring boot properties file:\r\n\r\n    spring.quartz.jdbc.initialize-schema=never\r\n    spring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\r\n\r\nAll the other properties I set are as follows:\r\n\r\n    #==============================================================\r\n    # QUARTZ Configuration\r\n    #==============================================================\r\n    spring.quartz.job-store-type=jdbc\r\n    spring.quartz.jdbc.initialize-schema=never\r\n    spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n    spring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\r\n    spring.quartz.properties.org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\r\n    spring.quartz.properties.org.quartz.threadPool.threadCount=25\r\n    spring.quartz.properties.org.quartz.threadPool.threadPriority=5\r\n    spring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\n    spring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\r\n    spring.quartz.properties.org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\r\n    spring.quartz.properties.org.quartz.jobStore.useProperties=false\r\n    spring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\r\n    spring.quartz.properties.org.quartz.jobStore.isClustered=true\r\n    spring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=5000\r\n\r\n","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>I did the following steps for Spring boot to get it running perfectly.</p>\n<p>I created the schema manually called &quot;quartz&quot;. Then created all the tables manually by copying the correct script from <a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore</a></p>\n<p>Then I have the following properties in the spring boot properties file:</p>\n<pre><code>spring.quartz.jdbc.initialize-schema=never\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\n</code></pre>\n<p>All the other properties I set are as follows:</p>\n<pre><code>#==============================================================\n# QUARTZ Configuration\n#==============================================================\nspring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema=never\nspring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\nspring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\nspring.quartz.properties.org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\nspring.quartz.properties.org.quartz.threadPool.threadCount=25\nspring.quartz.properties.org.quartz.threadPool.threadPriority=5\nspring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\nspring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\nspring.quartz.properties.org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\nspring.quartz.properties.org.quartz.jobStore.useProperties=false\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\nspring.quartz.properties.org.quartz.jobStore.isClustered=true\nspring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=5000\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12929058,"reputation":515,"user_id":9348676,"display_name":"SumiSujith"},"score":0,"creation_date":1642008289,"post_id":68499578,"comment_id":124960323,"body_markdown":"Do we need seperate table script for each database.... For MySQL, postgresql do we need seperate scripts?","body":"Do we need seperate table script for each database.... For MySQL, postgresql do we need seperate scripts?"},{"owner":{"account_id":6431288,"reputation":359,"user_id":4984327,"display_name":"Sunny Pelletier"},"score":0,"creation_date":1642087519,"post_id":68499578,"comment_id":124983399,"body_markdown":"I&#39;m not sure, I don&#39;t use MySQL that much, but I think some of the syntax is different, so it might require 2 scripts still.","body":"I&#39;m not sure, I don&#39;t use MySQL that much, but I think some of the syntax is different, so it might require 2 scripts still."},{"owner":{"account_id":12929058,"reputation":515,"user_id":9348676,"display_name":"SumiSujith"},"score":0,"creation_date":1642091971,"post_id":68499578,"comment_id":124985332,"body_markdown":"Yes. But some column like varchar(1) is changed to Boolean in postgres (eg isdurable column in quartz_job_detail) ..why they don&#39;t keep same varchar(1) in postgres also.","body":"Yes. But some column like varchar(1) is changed to Boolean in postgres (eg isdurable column in quartz_job_detail) ..why they don&#39;t keep same varchar(1) in postgres also."}],"tags":[],"owner":{"account_id":6431288,"reputation":359,"user_id":4984327,"display_name":"Sunny Pelletier"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627045069,"creation_date":1627045069,"answer_id":68499578,"question_id":64101847,"body_markdown":"I did the same. I used the solution 1) however, since i wanted everything to be created automatically. I created a file in my resources `quartz/schema.sql` and set the property `spring.quartz.jdbc.schema: classpath:quartz/schema.sql`. \r\n\r\n\r\nFor reference, here is my script for PostgreSQL 9: \r\n```sql\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_JOB_DETAILS\r\n(\r\n    SCHED_NAME        VARCHAR(120) NOT NULL,\r\n    JOB_NAME          VARCHAR(200) NOT NULL,\r\n    JOB_GROUP         VARCHAR(200) NOT NULL,\r\n    DESCRIPTION       VARCHAR(250) NULL,\r\n    JOB_CLASS_NAME    VARCHAR(250) NOT NULL,\r\n    IS_DURABLE        BOOL         NOT NULL,\r\n    IS_NONCONCURRENT  BOOL         NOT NULL,\r\n    IS_UPDATE_DATA    BOOL         NOT NULL,\r\n    REQUESTS_RECOVERY BOOL         NOT NULL,\r\n    JOB_DATA          BYTEA        NULL,\r\n    PRIMARY KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_TRIGGERS\r\n(\r\n    SCHED_NAME     VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME   VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\r\n    JOB_NAME       VARCHAR(200) NOT NULL,\r\n    JOB_GROUP      VARCHAR(200) NOT NULL,\r\n    DESCRIPTION    VARCHAR(250) NULL,\r\n    NEXT_FIRE_TIME BIGINT       NULL,\r\n    PREV_FIRE_TIME BIGINT       NULL,\r\n    PRIORITY       INTEGER      NULL,\r\n    TRIGGER_STATE  VARCHAR(16)  NOT NULL,\r\n    TRIGGER_TYPE   VARCHAR(8)   NOT NULL,\r\n    START_TIME     BIGINT       NOT NULL,\r\n    END_TIME       BIGINT       NULL,\r\n    CALENDAR_NAME  VARCHAR(200) NULL,\r\n    MISFIRE_INSTR  SMALLINT     NULL,\r\n    JOB_DATA       BYTEA        NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\r\n        REFERENCES QRTZ_JOB_DETAILS (SCHED_NAME, JOB_NAME, JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPLE_TRIGGERS\r\n(\r\n    SCHED_NAME      VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\r\n    REPEAT_COUNT    BIGINT       NOT NULL,\r\n    REPEAT_INTERVAL BIGINT       NOT NULL,\r\n    TIMES_TRIGGERED BIGINT       NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_CRON_TRIGGERS\r\n(\r\n    SCHED_NAME      VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\r\n    CRON_EXPRESSION VARCHAR(120) NOT NULL,\r\n    TIME_ZONE_ID    VARCHAR(80),\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPROP_TRIGGERS\r\n(\r\n    SCHED_NAME    VARCHAR(120)   NOT NULL,\r\n    TRIGGER_NAME  VARCHAR(200)   NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200)   NOT NULL,\r\n    STR_PROP_1    VARCHAR(512)   NULL,\r\n    STR_PROP_2    VARCHAR(512)   NULL,\r\n    STR_PROP_3    VARCHAR(512)   NULL,\r\n    INT_PROP_1    INT            NULL,\r\n    INT_PROP_2    INT            NULL,\r\n    LONG_PROP_1   BIGINT         NULL,\r\n    LONG_PROP_2   BIGINT         NULL,\r\n    DEC_PROP_1    NUMERIC(13, 4) NULL,\r\n    DEC_PROP_2    NUMERIC(13, 4) NULL,\r\n    BOOL_PROP_1   BOOL           NULL,\r\n    BOOL_PROP_2   BOOL           NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_BLOB_TRIGGERS\r\n(\r\n    SCHED_NAME    VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME  VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    BLOB_DATA     BYTEA        NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_CALENDARS\r\n(\r\n    SCHED_NAME    VARCHAR(120) NOT NULL,\r\n    CALENDAR_NAME VARCHAR(200) NOT NULL,\r\n    CALENDAR      BYTEA        NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, CALENDAR_NAME)\r\n);\r\n\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_PAUSED_TRIGGER_GRPS\r\n(\r\n    SCHED_NAME    VARCHAR(120) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_FIRED_TRIGGERS\r\n(\r\n    SCHED_NAME        VARCHAR(120) NOT NULL,\r\n    ENTRY_ID          VARCHAR(95)  NOT NULL,\r\n    TRIGGER_NAME      VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP     VARCHAR(200) NOT NULL,\r\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\r\n    FIRED_TIME        BIGINT       NOT NULL,\r\n    SCHED_TIME        BIGINT       NOT NULL,\r\n    PRIORITY          INTEGER      NOT NULL,\r\n    STATE             VARCHAR(16)  NOT NULL,\r\n    JOB_NAME          VARCHAR(200) NULL,\r\n    JOB_GROUP         VARCHAR(200) NULL,\r\n    IS_NONCONCURRENT  BOOL         NULL,\r\n    REQUESTS_RECOVERY BOOL         NULL,\r\n    PRIMARY KEY (SCHED_NAME, ENTRY_ID)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_SCHEDULER_STATE\r\n(\r\n    SCHED_NAME        VARCHAR(120) NOT NULL,\r\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\r\n    LAST_CHECKIN_TIME BIGINT       NOT NULL,\r\n    CHECKIN_INTERVAL  BIGINT       NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, INSTANCE_NAME)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_LOCKS\r\n(\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    LOCK_NAME  VARCHAR(40)  NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, LOCK_NAME)\r\n);\r\n\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_REQ_RECOVERY\r\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, REQUESTS_RECOVERY);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_GRP\r\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, JOB_GROUP);\r\n\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_J\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_JG\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_C\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, CALENDAR_NAME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_G\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_STATE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_STATE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_G_STATE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NEXT_FIRE_TIME\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, NEXT_FIRE_TIME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE, NEXT_FIRE_TIME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_MISFIRE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE_GRP\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_GROUP, TRIGGER_STATE);\r\n\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TRIG_INST_NAME\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_INST_JOB_REQ_RCVRY\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME, REQUESTS_RECOVERY);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_J_G\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_JG\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_T_G\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TG\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\r\n\r\n```","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>I did the same. I used the solution 1) however, since i wanted everything to be created automatically. I created a file in my resources <code>quartz/schema.sql</code> and set the property <code>spring.quartz.jdbc.schema: classpath:quartz/schema.sql</code>.</p>\n<p>For reference, here is my script for PostgreSQL 9:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nCREATE TABLE IF NOT EXISTS QRTZ_JOB_DETAILS\n(\n    SCHED_NAME        VARCHAR(120) NOT NULL,\n    JOB_NAME          VARCHAR(200) NOT NULL,\n    JOB_GROUP         VARCHAR(200) NOT NULL,\n    DESCRIPTION       VARCHAR(250) NULL,\n    JOB_CLASS_NAME    VARCHAR(250) NOT NULL,\n    IS_DURABLE        BOOL         NOT NULL,\n    IS_NONCONCURRENT  BOOL         NOT NULL,\n    IS_UPDATE_DATA    BOOL         NOT NULL,\n    REQUESTS_RECOVERY BOOL         NOT NULL,\n    JOB_DATA          BYTEA        NULL,\n    PRIMARY KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_TRIGGERS\n(\n    SCHED_NAME     VARCHAR(120) NOT NULL,\n    TRIGGER_NAME   VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\n    JOB_NAME       VARCHAR(200) NOT NULL,\n    JOB_GROUP      VARCHAR(200) NOT NULL,\n    DESCRIPTION    VARCHAR(250) NULL,\n    NEXT_FIRE_TIME BIGINT       NULL,\n    PREV_FIRE_TIME BIGINT       NULL,\n    PRIORITY       INTEGER      NULL,\n    TRIGGER_STATE  VARCHAR(16)  NOT NULL,\n    TRIGGER_TYPE   VARCHAR(8)   NOT NULL,\n    START_TIME     BIGINT       NOT NULL,\n    END_TIME       BIGINT       NULL,\n    CALENDAR_NAME  VARCHAR(200) NULL,\n    MISFIRE_INSTR  SMALLINT     NULL,\n    JOB_DATA       BYTEA        NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\n        REFERENCES QRTZ_JOB_DETAILS (SCHED_NAME, JOB_NAME, JOB_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPLE_TRIGGERS\n(\n    SCHED_NAME      VARCHAR(120) NOT NULL,\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\n    REPEAT_COUNT    BIGINT       NOT NULL,\n    REPEAT_INTERVAL BIGINT       NOT NULL,\n    TIMES_TRIGGERED BIGINT       NOT NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_CRON_TRIGGERS\n(\n    SCHED_NAME      VARCHAR(120) NOT NULL,\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\n    CRON_EXPRESSION VARCHAR(120) NOT NULL,\n    TIME_ZONE_ID    VARCHAR(80),\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPROP_TRIGGERS\n(\n    SCHED_NAME    VARCHAR(120)   NOT NULL,\n    TRIGGER_NAME  VARCHAR(200)   NOT NULL,\n    TRIGGER_GROUP VARCHAR(200)   NOT NULL,\n    STR_PROP_1    VARCHAR(512)   NULL,\n    STR_PROP_2    VARCHAR(512)   NULL,\n    STR_PROP_3    VARCHAR(512)   NULL,\n    INT_PROP_1    INT            NULL,\n    INT_PROP_2    INT            NULL,\n    LONG_PROP_1   BIGINT         NULL,\n    LONG_PROP_2   BIGINT         NULL,\n    DEC_PROP_1    NUMERIC(13, 4) NULL,\n    DEC_PROP_2    NUMERIC(13, 4) NULL,\n    BOOL_PROP_1   BOOL           NULL,\n    BOOL_PROP_2   BOOL           NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_BLOB_TRIGGERS\n(\n    SCHED_NAME    VARCHAR(120) NOT NULL,\n    TRIGGER_NAME  VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    BLOB_DATA     BYTEA        NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_CALENDARS\n(\n    SCHED_NAME    VARCHAR(120) NOT NULL,\n    CALENDAR_NAME VARCHAR(200) NOT NULL,\n    CALENDAR      BYTEA        NOT NULL,\n    PRIMARY KEY (SCHED_NAME, CALENDAR_NAME)\n);\n\n\nCREATE TABLE IF NOT EXISTS QRTZ_PAUSED_TRIGGER_GRPS\n(\n    SCHED_NAME    VARCHAR(120) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_FIRED_TRIGGERS\n(\n    SCHED_NAME        VARCHAR(120) NOT NULL,\n    ENTRY_ID          VARCHAR(95)  NOT NULL,\n    TRIGGER_NAME      VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP     VARCHAR(200) NOT NULL,\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\n    FIRED_TIME        BIGINT       NOT NULL,\n    SCHED_TIME        BIGINT       NOT NULL,\n    PRIORITY          INTEGER      NOT NULL,\n    STATE             VARCHAR(16)  NOT NULL,\n    JOB_NAME          VARCHAR(200) NULL,\n    JOB_GROUP         VARCHAR(200) NULL,\n    IS_NONCONCURRENT  BOOL         NULL,\n    REQUESTS_RECOVERY BOOL         NULL,\n    PRIMARY KEY (SCHED_NAME, ENTRY_ID)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_SCHEDULER_STATE\n(\n    SCHED_NAME        VARCHAR(120) NOT NULL,\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\n    LAST_CHECKIN_TIME BIGINT       NOT NULL,\n    CHECKIN_INTERVAL  BIGINT       NOT NULL,\n    PRIMARY KEY (SCHED_NAME, INSTANCE_NAME)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_LOCKS\n(\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    LOCK_NAME  VARCHAR(40)  NOT NULL,\n    PRIMARY KEY (SCHED_NAME, LOCK_NAME)\n);\n\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_REQ_RECOVERY\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, REQUESTS_RECOVERY);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_GRP\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, JOB_GROUP);\n\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_J\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_JG\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_C\n    ON QRTZ_TRIGGERS (SCHED_NAME, CALENDAR_NAME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_G\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_STATE\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_STATE\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_G_STATE\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NEXT_FIRE_TIME\n    ON QRTZ_TRIGGERS (SCHED_NAME, NEXT_FIRE_TIME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE, NEXT_FIRE_TIME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_MISFIRE\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE_GRP\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_GROUP, TRIGGER_STATE);\n\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TRIG_INST_NAME\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_INST_JOB_REQ_RCVRY\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME, REQUESTS_RECOVERY);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_J_G\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_JG\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_T_G\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TG\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669480599,"post_id":74555838,"comment_id":131652114,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74555838/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19405208,"reputation":1,"user_id":14190831,"display_name":"Nikhil Pawar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669266184,"creation_date":1669266184,"answer_id":74555838,"question_id":64101847,"body_markdown":"Remove below property from application.properties &amp; your Quartz table data won&#39;t be deleted on every restart.\r\nspring.quartz.jdbc.initialize-schema=always","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>Remove below property from application.properties &amp; your Quartz table data won't be deleted on every restart.\nspring.quartz.jdbc.initialize-schema=always</p>\n"}],"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21957,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1696415369,"creation_date":1601294661,"question_id":64101847,"body_markdown":"We are using quartz in spring boot application.\r\nFor storing job information, I have used jdbc store.\r\nIn `application.properties` file, I have following: \r\n\r\n```\r\nspring.quartz.job-store-type=jdbc\r\nspring.quartz.jdbc.initialize-schema=always\r\n```\r\nBut after every restart, tables are initialised, and all stored info is lost.\r\nIf I change spring.quartz.jdbc.initialize-schema to never, I get exception while creating tables.\r\n\r\nI do not want to delete quartz table data after restart.\r\nCan you help me ?\r\n\r\nRegards,\r\nStephan\r\n","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>We are using quartz in spring boot application.\nFor storing job information, I have used jdbc store.\nIn <code>application.properties</code> file, I have following:</p>\n<pre><code>spring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema=always\n</code></pre>\n<p>But after every restart, tables are initialised, and all stored info is lost.\nIf I change spring.quartz.jdbc.initialize-schema to never, I get exception while creating tables.</p>\n<p>I do not want to delete quartz table data after restart.\nCan you help me ?</p>\n<p>Regards,\nStephan</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-session"],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696415056,"creation_date":1696415056,"question_id":77228747,"body_markdown":"I&#39;m trying to setup Spring session with Redis and I want data to be serialized to JSON.\r\n\r\nThis is my SessionConfig:\r\n\r\n```java\r\n@Configuration\r\npublic class SessionConfig implements BeanClassLoaderAware {\r\n\r\n    @Value(&quot;${server.session.cookie.secure}&quot;)\r\n    private Boolean useSecureCookie;\r\n\r\n    private ClassLoader loader;\r\n\r\n    @Bean\r\n    public RedisSerializer&lt;Object&gt; springSessionDefaultRedisSerializer() {\r\n        return new GenericJackson2JsonRedisSerializer(objectMapper());\r\n    }\r\n\r\n    private ObjectMapper objectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModules(SecurityJackson2Modules.getModules(this.loader));\r\n        return mapper;\r\n    }\r\n\r\n    @Override\r\n    public void setBeanClassLoader(ClassLoader classLoader) {\r\n        this.loader = classLoader;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultCookieSerializer cookieSerializer() {\r\n        DefaultCookieSerializer serializer = new DefaultCookieSerializer();\r\n        serializer.setCookieName(&quot;SESSION&quot;);\r\n        serializer.setCookiePath(&quot;/&quot;);\r\n        serializer.setUseSecureCookie(Optional.ofNullable(useSecureCookie).orElse(false));\r\n        return serializer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m getting this exception when logging in:\r\n\r\n&gt; org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;])\r\n\r\nJava version 8\r\nSpring boot version is 1.5.12.RELEASE\r\nSpring Session and Spring Session Data Redis versions are both 1.3.5.RELEASE\r\n\r\nAm I missing something in configuration?","title":"Spring Session Redis failing to serialize OAuth2AccessToken","body":"<p>I'm trying to setup Spring session with Redis and I want data to be serialized to JSON.</p>\n<p>This is my SessionConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SessionConfig implements BeanClassLoaderAware {\n\n    @Value(&quot;${server.session.cookie.secure}&quot;)\n    private Boolean useSecureCookie;\n\n    private ClassLoader loader;\n\n    @Bean\n    public RedisSerializer&lt;Object&gt; springSessionDefaultRedisSerializer() {\n        return new GenericJackson2JsonRedisSerializer(objectMapper());\n    }\n\n    private ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModules(SecurityJackson2Modules.getModules(this.loader));\n        return mapper;\n    }\n\n    @Override\n    public void setBeanClassLoader(ClassLoader classLoader) {\n        this.loader = classLoader;\n    }\n\n    @Bean\n    public DefaultCookieSerializer cookieSerializer() {\n        DefaultCookieSerializer serializer = new DefaultCookieSerializer();\n        serializer.setCookieName(&quot;SESSION&quot;);\n        serializer.setCookiePath(&quot;/&quot;);\n        serializer.setUseSecureCookie(Optional.ofNullable(useSecureCookie).orElse(false));\n        return serializer;\n    }\n\n}\n</code></pre>\n<p>I'm getting this exception when logging in:</p>\n<blockquote>\n<p>org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;])</p>\n</blockquote>\n<p>Java version 8\nSpring boot version is 1.5.12.RELEASE\nSpring Session and Spring Session Data Redis versions are both 1.3.5.RELEASE</p>\n<p>Am I missing something in configuration?</p>\n"},{"tags":["java","project-loom","java-21"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1696416928,"post_id":77228694,"comment_id":136149359,"body_markdown":"I suppose, Structured Concurrency has a higher priority at the moment.","body":"I suppose, Structured Concurrency has a higher priority at the moment."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1697356672,"post_id":77228694,"comment_id":136267671,"body_markdown":"&quot;Loom is now released&quot; - Technically, that&#39;s wrong. Loom isn&#39;t released, it&#39;s an OpenJDK project that&#39;s still going on. Virtual threads are finalized.","body":"&quot;Loom is now released&quot; - Technically, that&#39;s wrong. Loom isn&#39;t released, it&#39;s an OpenJDK project that&#39;s still going on. Virtual threads are finalized."}],"owner":{"account_id":2195613,"reputation":81,"user_id":1941379,"display_name":"cw124"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1696414590,"creation_date":1696414590,"question_id":77228694,"body_markdown":"In [State of Loom: part 2](https://cr.openjdk.org/~rpressler/loom/loom/sol1_part2.html#channels), there&#39;s a discussion about channels, and that Doug Lea had started working on a synchronous counterpart to `Flow`, called a `Carrier`.\r\n\r\nThat was back in May 2020, and Loom is now released. I can find no further mention of Carriers or channels or any similar mechanism anywhere. Does anyone know what happened to it? Did it get released and I just can&#39;t find it?! Is it still planned for some future Java version? Was it abandoned because `LinkedTransferQueue` was deemed sufficient?","title":"What happened to Channels in project Loom?","body":"<p>In <a href=\"https://cr.openjdk.org/%7Erpressler/loom/loom/sol1_part2.html#channels\" rel=\"nofollow noreferrer\">State of Loom: part 2</a>, there's a discussion about channels, and that Doug Lea had started working on a synchronous counterpart to <code>Flow</code>, called a <code>Carrier</code>.</p>\n<p>That was back in May 2020, and Loom is now released. I can find no further mention of Carriers or channels or any similar mechanism anywhere. Does anyone know what happened to it? Did it get released and I just can't find it?! Is it still planned for some future Java version? Was it abandoned because <code>LinkedTransferQueue</code> was deemed sufficient?</p>\n"},{"tags":["java","for-loop","processing","drawing","ellipse"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1696332991,"post_id":77221805,"comment_id":136136582,"body_markdown":"there is no code in your question that draws an ellipse","body":"there is no code in your question that draws an ellipse"},{"owner":{"account_id":29587744,"reputation":11,"user_id":22676045,"display_name":"Dggamp"},"score":0,"creation_date":1696334117,"post_id":77221805,"comment_id":136136818,"body_markdown":"ellipse(pointx,pointy,5,5);","body":"ellipse(pointx,pointy,5,5);"},{"owner":{"account_id":29587744,"reputation":11,"user_id":22676045,"display_name":"Dggamp"},"score":0,"creation_date":1696342294,"post_id":77221805,"comment_id":136138580,"body_markdown":"Yes, the output is valid and the coordinates are within the screen area.","body":"Yes, the output is valid and the coordinates are within the screen area."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696414053,"creation_date":1696347058,"answer_id":77223634,"question_id":77221805,"body_markdown":"There are several things happening at the same time and it will be easier to break down the program into simpler steps and tackle them one at a time.\r\n\r\nFor example:\r\n 1. Your code is using the Visualcrossing Weather API. You&#39;re using `xxx` as a placeholder for where the API key should be. That&#39;s perfectly fine when sharing code online. You need to keep that key private: just make sure you replace xxx with your actual Visualcrossing API Key when running the code locally.\r\n 2. Your code is using two nested for loops which will result in 8 x 11 requests to be made *instantly* every single time you run the sketch. Usually Web API have a rate limit: you can not call them multiple times in very short bursts. You could split your program into two: one that requests the 88 weather data points and caches the data to a local .json file that you can use later; a sketch that simply loads the local .json file and visualised the data as you see fit. (This way you won&#39;t get blocked by API and you can iterate/try as many versions of visualising as you&#39;d like using cached data.)\r\n 3. It&#39;s unclear how you want to map the data into the API and back from the API. Maybe the `i` loop (from 0 to 8) is meant to be 0 to 7 days and `p` (from 0 to 11) represents months so you&#39;d get the maximum temperature for each day in a single week, one month at a time ? There is confusion over `m` since you always set it to `m= calendar.get(Calendar.MONTH) + 1;`.(Similarly the `p` counter is not used to increment the dates).\r\n\r\nHere are a few hopefully helping bits of info for each section.\r\n\r\n\r\n**API Key error**\r\nWhen I run your code I get this error in Processing&#39;s Console:\r\n\r\n```java\r\nWARNING: Authentication error: Unable to respond to any of these challenges: {}\r\njava.lang.RuntimeException: A JSONObject text must begin with &#39;{&#39;\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\r\n\tat processing.core.PApplet.parseJSONObject(PApplet.java:5377)\r\n\tat sketch_231003b.setup(sketch_231003b.java:59)\r\n\tat processing.core.PApplet.handleDraw(PApplet.java:2051)\r\n\tat processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\r\n\tat processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\r\nNullPointerException\r\n```\r\n\r\nThis simply means the `xxx` API is incorrect and in your code you need to use your actual API Key. (Please don&#39;t share that publicly online).\r\n\r\nOne typical way of handling this is to set the API key as an environment variable (e.g. `MY_API_KEY=#######` then in Processing you&#39;d use `System.getenv(&#39;MY_API_KEY&#39;)` to retrieve the value). If you&#39;re not familiar with setting up environment variables don&#39;t worry about it: hardcoding the key for now will do. Just be careful who you share that code with :)\r\n\r\n\r\n**Caching data** \r\n\r\nYou already make a query and parse the response here:\r\n\r\n```\r\nGetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\r\nget.send();\r\nJSONObject response = parseJSONObject(get.getContent());\r\n```\r\n\r\nYou can use a `JSONArray`(https://processing.org/reference/JSONArray.html) to store your data.\r\nHere&#39;s an example based on your code:\r\n\r\n```java\r\nimport http.requests.*;\r\nimport java.util.Calendar;\r\n\r\n\r\nvoid setup()\r\n{\r\n  background(0);\r\n  \r\n  String API_KEY = &quot;PLACE_YOUR_WEATHER_API_KEY_HERE&quot;;\r\n  // prepare JSONArray to cache Weather API data\r\n  JSONArray weatherAPIData = new JSONArray(); \r\n  // counter for each API call / data entry\r\n  int weatherAPICounter = 0;\r\n  \r\n  Calendar calendar = Calendar.getInstance();\r\n  \r\n  int d;\r\n  int m;\r\n  int y;\r\n  \r\n  int cols = 8;\r\n  int rows = 11;\r\n  int total = rows * cols;\r\n  \r\n  for(int i = 0; i &lt; cols; i++)\r\n  {\r\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\r\n    m = calendar.get(Calendar.MONTH) + 1;\r\n    d = calendar.get(Calendar.DAY_OF_MONTH);\r\n    \r\n    for (int p = 0; p &lt; rows; p++)\r\n    {\r\n      calendar.add(Calendar.YEAR, -1);\r\n      y = calendar.get(Calendar.YEAR);\r\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\r\n      println(&quot;requesting&quot;, todate, weatherAPICounter+1, &quot;of&quot;, total);\r\n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot; + todate + &quot;?unitGroup=metric&amp;include=days&amp;key=&quot; + API_KEY + &quot;&amp;contentType=json&quot;);\r\n      get.send();\r\n      println(&quot;Reponse Content: &quot; + get.getContent());\r\n\r\n      JSONObject response = parseJSONObject(get.getContent());\r\n      // cache the API data into RAM\r\n      weatherAPIData.setJSONObject(weatherAPICounter, response);\r\n      // increment data counter\r\n      weatherAPICounter++;\r\n      // wait 1s in between calls (to avoid API rate limits)\r\n      delay(1000);\r\n    }\r\n  }\r\n  \r\n  // persist the API data cache to disk\r\n  saveJSONArray(weatherAPIData, &quot;data/weather-api-data.json&quot;);\r\n  \r\n  println(&quot;cached saved to the data folder&quot;);\r\n  exit();\r\n}\r\n\r\n```\r\n\r\nAs mentioned above the date mapping process is unclear. Currently it requests data years which the API doesn&#39;t seem to support:\r\n\r\n```java\r\nReponse Content: Bad API Request:Invalid year requested. Years must be between 1950 and 2050\r\njava.lang.RuntimeException: A JSONObject text must begin with &#39;{&#39;\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\r\n\tat processing.core.PApplet.parseJSONObject(PApplet.java:5377)\r\n\tat JSONAPICache.setup(JSONAPICache.java:61)\r\n\tat processing.core.PApplet.handleDraw(PApplet.java:2051)\r\n\tat processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\r\n\tat processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\r\n```\r\n\r\n(Bare in mind the [weather API documentation][1] mentions a few other endpoints. Depending on what data you&#39;re after there could an option to query the data you&#39;re after in a single (or less calls))\r\n\r\nOnce you have this data you can write a separate sketch that loads it and renders ellipses based on the mapped `maxtemp` data. Remember to drag and drop the weather-api-data.json file from the sketch above into the new sketch:\r\n\r\n```java\r\n\r\nvoid setup()\r\n{\r\n  fullScreen();\r\n  background(0);\r\n  noStroke();\r\n  \r\n  \r\n  int cols = 8;\r\n  int rows = 11;\r\n  \r\n  // load cached data\r\n  JSONArray weatherAPIData = loadJSONArray(&quot;data/weather-api-data.json&quot;);\r\n  // counter for each API call / data entry\r\n  int weatherAPICounter = 0;\r\n  \r\n  \r\n  for(int i = 0; i &lt; cols; i++)\r\n  {\r\n    for (int p = 0; p &lt; rows; p++)\r\n    {\r\n      // try to get each request (and handle errors)\r\n      try {\r\n        \r\n        JSONObject response = weatherAPIData.getJSONObject(weatherAPICounter);\r\n        float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\r\n        \r\n        float pointx = width-width/10-width/10*i;\r\n        float pointy = height/2+tempmax*10;\r\n        \r\n        println(pointx + &quot;, &quot; + pointy);\r\n        ellipse(pointx,pointy,5,5);\r\n        \r\n      \r\n      } catch(Exception e){\r\n        println(&quot;encountered null data index&quot;, weatherAPICounter);\r\n        e.printStackTrace();\r\n      }\r\n      \r\n      // increment JSONArray counter \r\n      weatherAPICounter++;\r\n    }\r\n  }\r\n  \r\n}\r\n```\r\n\r\n(You might also find the `map()`(https://processing.org/reference/map_.html) function handy to remap the `maxtemp` data).\r\n\r\nGood luck debugging and have fun visualising data. \r\n\r\n\r\n  [1]: https://www.visualcrossing.com/resources/documentation/weather-api/timeline-weather-api/","title":"Why are the ellipses not being displayed in my Processing-Code?","body":"<p>There are several things happening at the same time and it will be easier to break down the program into simpler steps and tackle them one at a time.</p>\n<p>For example:</p>\n<ol>\n<li>Your code is using the Visualcrossing Weather API. You're using <code>xxx</code> as a placeholder for where the API key should be. That's perfectly fine when sharing code online. You need to keep that key private: just make sure you replace xxx with your actual Visualcrossing API Key when running the code locally.</li>\n<li>Your code is using two nested for loops which will result in 8 x 11 requests to be made <em>instantly</em> every single time you run the sketch. Usually Web API have a rate limit: you can not call them multiple times in very short bursts. You could split your program into two: one that requests the 88 weather data points and caches the data to a local .json file that you can use later; a sketch that simply loads the local .json file and visualised the data as you see fit. (This way you won't get blocked by API and you can iterate/try as many versions of visualising as you'd like using cached data.)</li>\n<li>It's unclear how you want to map the data into the API and back from the API. Maybe the <code>i</code> loop (from 0 to 8) is meant to be 0 to 7 days and <code>p</code> (from 0 to 11) represents months so you'd get the maximum temperature for each day in a single week, one month at a time ? There is confusion over <code>m</code> since you always set it to <code>m= calendar.get(Calendar.MONTH) + 1;</code>.(Similarly the <code>p</code> counter is not used to increment the dates).</li>\n</ol>\n<p>Here are a few hopefully helping bits of info for each section.</p>\n<p><strong>API Key error</strong>\nWhen I run your code I get this error in Processing's Console:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WARNING: Authentication error: Unable to respond to any of these challenges: {}\njava.lang.RuntimeException: A JSONObject text must begin with '{'\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\n    at processing.core.PApplet.parseJSONObject(PApplet.java:5377)\n    at sketch_231003b.setup(sketch_231003b.java:59)\n    at processing.core.PApplet.handleDraw(PApplet.java:2051)\n    at processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\n    at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\nNullPointerException\n</code></pre>\n<p>This simply means the <code>xxx</code> API is incorrect and in your code you need to use your actual API Key. (Please don't share that publicly online).</p>\n<p>One typical way of handling this is to set the API key as an environment variable (e.g. <code>MY_API_KEY=#######</code> then in Processing you'd use <code>System.getenv('MY_API_KEY')</code> to retrieve the value). If you're not familiar with setting up environment variables don't worry about it: hardcoding the key for now will do. Just be careful who you share that code with :)</p>\n<p><strong>Caching data</strong></p>\n<p>You already make a query and parse the response here:</p>\n<pre><code>GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\nget.send();\nJSONObject response = parseJSONObject(get.getContent());\n</code></pre>\n<p>You can use a <code>JSONArray</code>(<a href=\"https://processing.org/reference/JSONArray.html\" rel=\"nofollow noreferrer\">https://processing.org/reference/JSONArray.html</a>) to store your data.\nHere's an example based on your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import http.requests.*;\nimport java.util.Calendar;\n\n\nvoid setup()\n{\n  background(0);\n  \n  String API_KEY = &quot;PLACE_YOUR_WEATHER_API_KEY_HERE&quot;;\n  // prepare JSONArray to cache Weather API data\n  JSONArray weatherAPIData = new JSONArray(); \n  // counter for each API call / data entry\n  int weatherAPICounter = 0;\n  \n  Calendar calendar = Calendar.getInstance();\n  \n  int d;\n  int m;\n  int y;\n  \n  int cols = 8;\n  int rows = 11;\n  int total = rows * cols;\n  \n  for(int i = 0; i &lt; cols; i++)\n  {\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\n    m = calendar.get(Calendar.MONTH) + 1;\n    d = calendar.get(Calendar.DAY_OF_MONTH);\n    \n    for (int p = 0; p &lt; rows; p++)\n    {\n      calendar.add(Calendar.YEAR, -1);\n      y = calendar.get(Calendar.YEAR);\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\n      println(&quot;requesting&quot;, todate, weatherAPICounter+1, &quot;of&quot;, total);\n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot; + todate + &quot;?unitGroup=metric&amp;include=days&amp;key=&quot; + API_KEY + &quot;&amp;contentType=json&quot;);\n      get.send();\n      println(&quot;Reponse Content: &quot; + get.getContent());\n\n      JSONObject response = parseJSONObject(get.getContent());\n      // cache the API data into RAM\n      weatherAPIData.setJSONObject(weatherAPICounter, response);\n      // increment data counter\n      weatherAPICounter++;\n      // wait 1s in between calls (to avoid API rate limits)\n      delay(1000);\n    }\n  }\n  \n  // persist the API data cache to disk\n  saveJSONArray(weatherAPIData, &quot;data/weather-api-data.json&quot;);\n  \n  println(&quot;cached saved to the data folder&quot;);\n  exit();\n}\n\n</code></pre>\n<p>As mentioned above the date mapping process is unclear. Currently it requests data years which the API doesn't seem to support:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Reponse Content: Bad API Request:Invalid year requested. Years must be between 1950 and 2050\njava.lang.RuntimeException: A JSONObject text must begin with '{'\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\n    at processing.core.PApplet.parseJSONObject(PApplet.java:5377)\n    at JSONAPICache.setup(JSONAPICache.java:61)\n    at processing.core.PApplet.handleDraw(PApplet.java:2051)\n    at processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\n    at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\n</code></pre>\n<p>(Bare in mind the <a href=\"https://www.visualcrossing.com/resources/documentation/weather-api/timeline-weather-api/\" rel=\"nofollow noreferrer\">weather API documentation</a> mentions a few other endpoints. Depending on what data you're after there could an option to query the data you're after in a single (or less calls))</p>\n<p>Once you have this data you can write a separate sketch that loads it and renders ellipses based on the mapped <code>maxtemp</code> data. Remember to drag and drop the weather-api-data.json file from the sketch above into the new sketch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvoid setup()\n{\n  fullScreen();\n  background(0);\n  noStroke();\n  \n  \n  int cols = 8;\n  int rows = 11;\n  \n  // load cached data\n  JSONArray weatherAPIData = loadJSONArray(&quot;data/weather-api-data.json&quot;);\n  // counter for each API call / data entry\n  int weatherAPICounter = 0;\n  \n  \n  for(int i = 0; i &lt; cols; i++)\n  {\n    for (int p = 0; p &lt; rows; p++)\n    {\n      // try to get each request (and handle errors)\n      try {\n        \n        JSONObject response = weatherAPIData.getJSONObject(weatherAPICounter);\n        float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\n        \n        float pointx = width-width/10-width/10*i;\n        float pointy = height/2+tempmax*10;\n        \n        println(pointx + &quot;, &quot; + pointy);\n        ellipse(pointx,pointy,5,5);\n        \n      \n      } catch(Exception e){\n        println(&quot;encountered null data index&quot;, weatherAPICounter);\n        e.printStackTrace();\n      }\n      \n      // increment JSONArray counter \n      weatherAPICounter++;\n    }\n  }\n  \n}\n</code></pre>\n<p>(You might also find the <code>map()</code>(<a href=\"https://processing.org/reference/map_.html\" rel=\"nofollow noreferrer\">https://processing.org/reference/map_.html</a>) function handy to remap the <code>maxtemp</code> data).</p>\n<p>Good luck debugging and have fun visualising data.</p>\n"}],"owner":{"account_id":29587744,"reputation":11,"user_id":22676045,"display_name":"Dggamp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696414053,"creation_date":1696332085,"question_id":77221805,"body_markdown":"I have a question about my code in Processing. I&#39;m trying to display weather data from past years and draw ellipses on the screen to create a graph. However, the ellipse is not being drawn. What could be the reason for this? The coordinates are valid and within the screen area. When I try to draw an ellipse with simple coordinates outside the loops, it works without any issues. That&#39;s why I believe it has something to do with the loops. I&#39;ve shared my code here. It may not be executable as the API key is not valid, but perhaps someone can still assist me.\r\n\r\n```\r\nimport http.requests.*;\r\nimport java.util.Calendar;\r\n\r\n\r\nvoid setup()\r\n{\r\n  fullScreen();\r\n  background(0);\r\n  noStroke();\r\n  \r\n  \r\n  Calendar calendar = Calendar.getInstance();\r\n  \r\n  int d;\r\n  int m;\r\n  int y;\r\n  \r\n  int cols = 8;\r\n  int rows = 11;\r\n  \r\n  float[][] temps = new float[cols][rows];\r\n  \r\n  for(int i=0;i&lt;8;i++)\r\n  {\r\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\r\n    m= calendar.get(Calendar.MONTH) + 1;\r\n    d= calendar.get(Calendar.DAY_OF_MONTH);\r\n    \r\n    for (int p=0;p&lt;11;p++)\r\n    {\r\n      calendar.add(Calendar.YEAR, -1);\r\n      y = calendar.get(Calendar.YEAR);\r\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\r\n      \r\n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\r\n      get.send();\r\n      //println(&quot;Reponse Content: &quot; + get.getContent());\r\n\r\n      JSONObject response = parseJSONObject(get.getContent());\r\n      float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\r\n      //println(d+&quot;.&quot;+m+&quot;.&quot;+y+&quot;: Maxtemp - &quot;+tempmax);\r\n      \r\n      temps[i][p]=tempmax;\r\n      \r\n      \r\n      float pointx = width-width/10-width/10*i;\r\n      float pointy = height/2+tempmax*10;\r\n      \r\n      println(pointx + &quot;, &quot; + pointy);\r\n      fill(255);\r\n      ellipse(pointx,pointy,5,5);\r\n    }\r\n  }\r\n  \r\n}\r\n\r\nvoid draw()\r\n{\r\n  \r\n}\r\n```\r\n\r\n","title":"Why are the ellipses not being displayed in my Processing-Code?","body":"<p>I have a question about my code in Processing. I'm trying to display weather data from past years and draw ellipses on the screen to create a graph. However, the ellipse is not being drawn. What could be the reason for this? The coordinates are valid and within the screen area. When I try to draw an ellipse with simple coordinates outside the loops, it works without any issues. That's why I believe it has something to do with the loops. I've shared my code here. It may not be executable as the API key is not valid, but perhaps someone can still assist me.</p>\n<pre><code>import http.requests.*;\nimport java.util.Calendar;\n\n\nvoid setup()\n{\n  fullScreen();\n  background(0);\n  noStroke();\n  \n  \n  Calendar calendar = Calendar.getInstance();\n  \n  int d;\n  int m;\n  int y;\n  \n  int cols = 8;\n  int rows = 11;\n  \n  float[][] temps = new float[cols][rows];\n  \n  for(int i=0;i&lt;8;i++)\n  {\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\n    m= calendar.get(Calendar.MONTH) + 1;\n    d= calendar.get(Calendar.DAY_OF_MONTH);\n    \n    for (int p=0;p&lt;11;p++)\n    {\n      calendar.add(Calendar.YEAR, -1);\n      y = calendar.get(Calendar.YEAR);\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\n      \n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\n      get.send();\n      //println(&quot;Reponse Content: &quot; + get.getContent());\n\n      JSONObject response = parseJSONObject(get.getContent());\n      float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\n      //println(d+&quot;.&quot;+m+&quot;.&quot;+y+&quot;: Maxtemp - &quot;+tempmax);\n      \n      temps[i][p]=tempmax;\n      \n      \n      float pointx = width-width/10-width/10*i;\n      float pointy = height/2+tempmax*10;\n      \n      println(pointx + &quot;, &quot; + pointy);\n      fill(255);\n      ellipse(pointx,pointy,5,5);\n    }\n  }\n  \n}\n\nvoid draw()\n{\n  \n}\n</code></pre>\n"},{"tags":["java","exception","command","classnotfoundexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696334212,"post_id":77222010,"comment_id":136136837,"body_markdown":"why don&#39;t you declare those classes as public? the default is package scope","body":"why don&#39;t you declare those classes as public? the default is package scope"},{"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"score":0,"creation_date":1696409002,"post_id":77222010,"comment_id":136147675,"body_markdown":"@Stultuske , would that matter though? isn&#39;t it a matter of project concatenation for determining PATH to class, instead of package?\n\nN.B. I tried setting `TestAccessModifiersPotectedB` to **public** and I get the same error so it seems declaring classes public isn&#39;t affecting behavior here","body":"@Stultuske , would that matter though? isn&#39;t it a matter of project concatenation for determining PATH to class, instead of package?  N.B. I tried setting <code>TestAccessModifiersPotectedB</code> to <b>public</b> and I get the same error so it seems declaring classes public isn&#39;t affecting behavior here"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696411752,"post_id":77222010,"comment_id":136148203,"body_markdown":"First step in trying to solve issues: carefully reading the error message:\nError: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\nIt&#39;s not looking for TestAccessModifiersProtectedB or TestAccessModifiersProtectedA, but for a class called TestAccessModifiersProtected, and I don&#39;t see such a class in your code","body":"First step in trying to solve issues: carefully reading the error message: Error: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifie&zwnj;&#8203;rsProtected It&#39;s not looking for TestAccessModifiersProtectedB or TestAccessModifiersProtectedA, but for a class called TestAccessModifiersProtected, and I don&#39;t see such a class in your code"},{"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"score":0,"creation_date":1696413557,"post_id":77222010,"comment_id":136148655,"body_markdown":"@Stultuske , I tried refactoring to `TestAccessModifiersProtected` and it still didn&#39;t work. I tried the one I&#39;m trying to run, the other one I&#39;m extending and both. Failed in all cases.","body":"@Stultuske , I tried refactoring to <code>TestAccessModifiersProtected</code> and it still didn&#39;t work. I tried the one I&#39;m trying to run, the other one I&#39;m extending and both. Failed in all cases."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696486767,"post_id":77222010,"comment_id":136159550,"body_markdown":"did you notice the packages are also not correct?","body":"did you notice the packages are also not correct?"}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1696486725,"post_id":77228614,"comment_id":136159548,"body_markdown":"only if your project is configured to expect this. normally, this makes no sense","body":"only if your project is configured to expect this. normally, this makes no sense"}],"tags":[],"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696413850,"creation_date":1696413850,"answer_id":77228614,"question_id":77222010,"body_markdown":"The solution is to name both the package and the class in the way the project is named.\r\n\r\nFor example, for project `TestMyProject`, NetBeans IDE 19 will expect a package: `com.mycompany.testmyproject` and a class `TestMyProject.java` in that package.","title":"Failing to setup two distinct packages in the same project with NetBeans IDE 19","body":"<p>The solution is to name both the package and the class in the way the project is named.</p>\n<p>For example, for project <code>TestMyProject</code>, NetBeans IDE 19 will expect a package: <code>com.mycompany.testmyproject</code> and a class <code>TestMyProject.java</code> in that package.</p>\n"}],"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77228614,"answer_count":1,"score":0,"last_activity_date":1696413850,"creation_date":1696333832,"question_id":77222010,"body_markdown":"I&#39;m trying to setup a project in NetBeans IDE 19 to have two packages in order to test Java protected access modifier.\r\n\r\nMy setup is the following:\r\n\r\n```\r\nProject: TestAccessModifiersProtected\r\n   \\- package: com.agheorghe.testaccessmodifiersprotecteda\r\n       |- class: TestAccessModifiersProtectedA.java\r\n   \\- package: com.agheorghe.testaccessmodifiersprotectedb\r\n       |- class: TestAccessModifiersProtectedB.java\r\n```\r\n\r\nwhen trying to run the code in `TestAccessModifiersProtectedB.java` class I get the following error:\r\n\r\n```\r\nError: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\r\nCaused by: java.lang.ClassNotFoundException: com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\r\nCommand execution failed\r\n```\r\n\r\nI have tried:\r\n* changing the package `com.agheorghe.testaccessmodifiersprotecteda` to `com.agheorghe.testaccessmodifiersprotected` and run `TestAccessModifiersProtectedB.java` - result: same error\r\n* changing also the package `com.agheorghe.testaccessmodifiersprotectedb` to `com.agheorghe.testaccessmodifiersprotected` and run `TestAccessModifiersProtectedB.java` - result: same error\r\n* change classes to `TestAccessModifiersProtected`\r\n\r\n----\r\n\r\nMy code is the following:\r\n\r\n#### TestAccessModifiersProtectedA.java\r\n\r\n```\r\npackage com.agheorghe.testaccessmodifiersprotecteda;\r\n\r\npublic class TestAccessModifiersProtectedA {\r\n    \r\n    protected void display() {\r\n        System.out.println(&quot;TestAccessModifiersProtectedA&quot;);\r\n    }\r\n}\r\n```\r\n\r\n#### TestAccessModifiersProtectedB.java\r\n\r\n```\r\npackage com.agheorghe.testaccessmodifiersprotectedb;\r\nimport com.agheorghe.testaccessmodifiersprotecteda.*;\r\n\r\nclass TestAccessModifiersPotectedB extends TestAccessModifiersProtectedA {\r\n    \r\n    public static void main(String args[]) {\r\n        TestAccessModifiersPotectedB obj = new TestAccessModifiersPotectedB();\r\n        \r\n        /* Prints &quot;TestAccessModifiersPotectedA&quot; */\r\n        obj.display();\r\n    }\r\n}\r\n```\r\n\r\n----\r\n\r\nAny ideas as to why NetBeans fails to run code in `TestAccessModifiersProtectedB.java`? Why is it taking the project name (`TestAccessModifiersProtected`) literal for my packages + classes?\r\n\r\nI would expect to build the path to the class by including the package and the class so as to resolve such cases.\r\n\r\nHow can I succeed in keeping two packages separated in the same project?","title":"Failing to setup two distinct packages in the same project with NetBeans IDE 19","body":"<p>I'm trying to setup a project in NetBeans IDE 19 to have two packages in order to test Java protected access modifier.</p>\n<p>My setup is the following:</p>\n<pre><code>Project: TestAccessModifiersProtected\n   \\- package: com.agheorghe.testaccessmodifiersprotecteda\n       |- class: TestAccessModifiersProtectedA.java\n   \\- package: com.agheorghe.testaccessmodifiersprotectedb\n       |- class: TestAccessModifiersProtectedB.java\n</code></pre>\n<p>when trying to run the code in <code>TestAccessModifiersProtectedB.java</code> class I get the following error:</p>\n<pre><code>Error: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\nCaused by: java.lang.ClassNotFoundException: com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\nCommand execution failed\n</code></pre>\n<p>I have tried:</p>\n<ul>\n<li>changing the package <code>com.agheorghe.testaccessmodifiersprotecteda</code> to <code>com.agheorghe.testaccessmodifiersprotected</code> and run <code>TestAccessModifiersProtectedB.java</code> - result: same error</li>\n<li>changing also the package <code>com.agheorghe.testaccessmodifiersprotectedb</code> to <code>com.agheorghe.testaccessmodifiersprotected</code> and run <code>TestAccessModifiersProtectedB.java</code> - result: same error</li>\n<li>change classes to <code>TestAccessModifiersProtected</code></li>\n</ul>\n<hr />\n<p>My code is the following:</p>\n<h4>TestAccessModifiersProtectedA.java</h4>\n<pre><code>package com.agheorghe.testaccessmodifiersprotecteda;\n\npublic class TestAccessModifiersProtectedA {\n    \n    protected void display() {\n        System.out.println(&quot;TestAccessModifiersProtectedA&quot;);\n    }\n}\n</code></pre>\n<h4>TestAccessModifiersProtectedB.java</h4>\n<pre><code>package com.agheorghe.testaccessmodifiersprotectedb;\nimport com.agheorghe.testaccessmodifiersprotecteda.*;\n\nclass TestAccessModifiersPotectedB extends TestAccessModifiersProtectedA {\n    \n    public static void main(String args[]) {\n        TestAccessModifiersPotectedB obj = new TestAccessModifiersPotectedB();\n        \n        /* Prints &quot;TestAccessModifiersPotectedA&quot; */\n        obj.display();\n    }\n}\n</code></pre>\n<hr />\n<p>Any ideas as to why NetBeans fails to run code in <code>TestAccessModifiersProtectedB.java</code>? Why is it taking the project name (<code>TestAccessModifiersProtected</code>) literal for my packages + classes?</p>\n<p>I would expect to build the path to the class by including the package and the class so as to resolve such cases.</p>\n<p>How can I succeed in keeping two packages separated in the same project?</p>\n"},{"tags":["java","math","numbers","rounding","bigdecimal"],"comments":[{"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"score":0,"creation_date":1696402014,"post_id":77227170,"comment_id":136146328,"body_markdown":"I tried using divide(). round(), multiply() but they are not helping as expected. This is how MROUND function works in excel https://www.wallstreetmojo.com/mround-in-excel/","body":"I tried using divide(). round(), multiply() but they are not helping as expected. This is how MROUND function works in excel <a href=\"https://www.wallstreetmojo.com/mround-in-excel/\" rel=\"nofollow noreferrer\">wallstreetmojo.com/mround-in-excel</a>"},{"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"score":1,"creation_date":1696407574,"post_id":77227170,"comment_id":136147377,"body_markdown":"apologies. I have added more details in the question. Above solution by @user85421 does not work if we change the factor value.","body":"apologies. I have added more details in the question. Above solution by @user85421 does not work if we change the factor value."},{"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"score":0,"creation_date":1696414063,"post_id":77227170,"comment_id":136148779,"body_markdown":"I am really not sure on that. However if you user above &#39;Number&#39; and &#39;Factor&#39; column values in MS excel and use excel&#39;s MROUND function, you will get above results. e.g. MROUND(532.785, 0.01) = 532.78","body":"I am really not sure on that. However if you user above &#39;Number&#39; and &#39;Factor&#39; column values in MS excel and use excel&#39;s MROUND function, you will get above results. e.g. MROUND(532.785, 0.01) = 532.78"}],"answers":[{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1696412922,"creation_date":1696410221,"answer_id":77228196,"question_id":77227170,"body_markdown":"The `BigDecimal` class offers all needed methods to do the same as `Math.round(value / factor) * factor;` - rounding is a bit tricky, since `BigDecimal#round` is using `MathContext` which requires a precision: the total number of digits, not the number of digits of the fractional part. But `BigDecimal#setScale` is a replacement for `Math#round`.\r\n\r\nAssuming that both `values` and `factor` are already `BigDecimal`, we would write your method as:\r\n````\r\nstatic BigDecimal mRound(BigDecimal value, BigDecimal factor) {\r\n    return \r\n        value\r\n        .divide(factor)\r\n        .setScale(0, RoundingMode.HALF_UP)\r\n        .multiply(factor);\r\n}\r\n````\r\n\r\nI believe the `divde()` and `multiply()` methods do not need more explanation, for details refer to the [javadoc](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html) of `BigDecimal`.\r\n\r\nThe `setScale()` methods is used to round the number. As [documented](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#scale()): &quot;the scale is the number of digits to the right of the decimal point.&quot;  \r\nWe used:  \r\n - `scale: 0` since we want no decimal digits;\r\n - `roundingMode: HALF_UP` since we want `0.5` or greater rounded up  \r\nagain, see [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/RoundingMode.html) for the different modes.\r\n\r\nTo remove the trailing zeros from the result, use the `stripTrailingZeros()` method after multiplying:  \r\n````\r\nreturn \r\n    ...\r\n    .multiply(factor)\r\n    .stripTrailingZeros();\r\n````\r\n\r\nPlease be aware that using `new BigDecimal(double)` can cause problems since `double` is not an exact representation - use `new BigDecimal(String)` instead!  \r\nFor example, `new BigDecimal(1.2)` results in `1.1999999999999999555910790149937383830547332763671875`.\r\n\r\n-----\r\n\r\n### Testing\r\n\r\n````\r\nList&lt;List&lt;BigDecimal&gt;&gt; data = &quot;&quot;&quot;\r\n    523.235  0.05\r\n    523.265  0.05\r\n    523.205  0.05\r\n    523.735  0.05\r\n    523.785  0.05\r\n    523.75   0.05\r\n    523.705  0.05\r\n    15       8\r\n    17       5\r\n    523.235  0.01\r\n    523.265  0.01\r\n    523.205  0.01\r\n    523.735  0.01\r\n    523.785  0.01\r\n    523.75   0.01\r\n    523.705  0.01\r\n    &quot;&quot;&quot;\r\n.lines()\r\n.map(line -&gt; Arrays.stream(line.split(&quot;\\\\h+&quot;)).map(BigDecimal::new).toList())\r\n.toList();\r\nfor (var test : data) {\r\n    var value = test.get(0);\r\n    var factor = test.get(1);\r\n    var result = mRound(value, factor);\r\n    System.out.printf(&quot;%10s  %5s  %10s%n&quot;, value, factor, result);\r\n}\r\n````\r\n\r\n#### Result\r\n\r\n````\r\n   523.235   0.05      523.25\r\n   523.265   0.05      523.25\r\n   523.205   0.05      523.20\r\n   523.735   0.05      523.75\r\n   523.785   0.05      523.80\r\n    523.75   0.05      523.75\r\n   523.705   0.05      523.70\r\n        15      8          16\r\n        17      5          15\r\n   523.235   0.01      523.24\r\n   523.265   0.01      523.27\r\n   523.205   0.01      523.21\r\n   523.735   0.01      523.74\r\n   523.785   0.01      523.79\r\n    523.75   0.01      523.75\r\n   523.705   0.01      523.71\r\n````\r\n\r\nNote the result for `523.785  0.01` does not match the given input image - I wonder if that is a bug in Excel (is it using `double`?) :-/","title":"How to implement Excel MROUND() function in Java using BigDecimal instead of double","body":"<p>The <code>BigDecimal</code> class offers all needed methods to do the same as <code>Math.round(value / factor) * factor;</code> - rounding is a bit tricky, since <code>BigDecimal#round</code> is using <code>MathContext</code> which requires a precision: the total number of digits, not the number of digits of the fractional part. But <code>BigDecimal#setScale</code> is a replacement for <code>Math#round</code>.</p>\n<p>Assuming that both <code>values</code> and <code>factor</code> are already <code>BigDecimal</code>, we would write your method as:</p>\n<pre><code>static BigDecimal mRound(BigDecimal value, BigDecimal factor) {\n    return \n        value\n        .divide(factor)\n        .setScale(0, RoundingMode.HALF_UP)\n        .multiply(factor);\n}\n</code></pre>\n<p>I believe the <code>divde()</code> and <code>multiply()</code> methods do not need more explanation, for details refer to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">javadoc</a> of <code>BigDecimal</code>.</p>\n<p>The <code>setScale()</code> methods is used to round the number. As <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#scale()\" rel=\"nofollow noreferrer\">documented</a>: &quot;the scale is the number of digits to the right of the decimal point.&quot;<br />\nWe used:</p>\n<ul>\n<li><code>scale: 0</code> since we want no decimal digits;</li>\n<li><code>roundingMode: HALF_UP</code> since we want <code>0.5</code> or greater rounded up<br />\nagain, see <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">documentation</a> for the different modes.</li>\n</ul>\n<p>To remove the trailing zeros from the result, use the <code>stripTrailingZeros()</code> method after multiplying:</p>\n<pre><code>return \n    ...\n    .multiply(factor)\n    .stripTrailingZeros();\n</code></pre>\n<p>Please be aware that using <code>new BigDecimal(double)</code> can cause problems since <code>double</code> is not an exact representation - use <code>new BigDecimal(String)</code> instead!<br />\nFor example, <code>new BigDecimal(1.2)</code> results in <code>1.1999999999999999555910790149937383830547332763671875</code>.</p>\n<hr />\n<h3>Testing</h3>\n<pre><code>List&lt;List&lt;BigDecimal&gt;&gt; data = &quot;&quot;&quot;\n    523.235  0.05\n    523.265  0.05\n    523.205  0.05\n    523.735  0.05\n    523.785  0.05\n    523.75   0.05\n    523.705  0.05\n    15       8\n    17       5\n    523.235  0.01\n    523.265  0.01\n    523.205  0.01\n    523.735  0.01\n    523.785  0.01\n    523.75   0.01\n    523.705  0.01\n    &quot;&quot;&quot;\n.lines()\n.map(line -&gt; Arrays.stream(line.split(&quot;\\\\h+&quot;)).map(BigDecimal::new).toList())\n.toList();\nfor (var test : data) {\n    var value = test.get(0);\n    var factor = test.get(1);\n    var result = mRound(value, factor);\n    System.out.printf(&quot;%10s  %5s  %10s%n&quot;, value, factor, result);\n}\n</code></pre>\n<h4>Result</h4>\n<pre><code>   523.235   0.05      523.25\n   523.265   0.05      523.25\n   523.205   0.05      523.20\n   523.735   0.05      523.75\n   523.785   0.05      523.80\n    523.75   0.05      523.75\n   523.705   0.05      523.70\n        15      8          16\n        17      5          15\n   523.235   0.01      523.24\n   523.265   0.01      523.27\n   523.205   0.01      523.21\n   523.735   0.01      523.74\n   523.785   0.01      523.79\n    523.75   0.01      523.75\n   523.705   0.01      523.71\n</code></pre>\n<p>Note the result for <code>523.785  0.01</code> does not match the given input image - I wonder if that is a bug in Excel (is it using <code>double</code>?) :-/</p>\n"}],"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77228196,"answer_count":1,"score":0,"last_activity_date":1696413841,"creation_date":1696400086,"question_id":77227170,"body_markdown":"How can I round to a specific multiple in Java? In excel there is the mround function which allows for easy rounding to a specified multiple like so:\r\n\r\n```\r\nmRound(variable,multiple)\r\n```\r\n\r\ne.g. This is how the Java function should work for given &#39;Number&#39; and &#39;Factor&#39;.\r\nTo get more test data, just add below &#39;Number&#39; and &#39;Factor&#39; columns in MS Excel and in the next column use excel&#39;s built in MROUND function as =MROUND(Number, Factor)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI know how it can be done with double, but I **need a solution with BigDecimal** as I am working with financial data.\r\n\r\nSolution with double -\r\n```\r\ndouble mRound(double value, double factor) {\r\n    return Math.round(value / factor) * factor;\r\n}\r\n```\r\n\r\n**This is how excel MROUND function works -** \r\nThe MROUND Excel function rounds the number to the nearest multiple of the provided number. You must be thinking about how Excel knows whether to round up or round down. It depends on the result of the division.\r\n\r\nFor example 16 / 3 = 5.33333, here decimal value is less than 0.5 so result of nearest multiple value of number 3 is 5, so 3 * 5 = 15. Here, Excel **rounds down** the value if the decimal value is less than 0.5.\r\n\r\nSimilarly, look at this equation 20 / 3 = 6.66667. In this equation, the decimal value is greater than 0.5, so Excel **rounds up** the result to 7, so 3 * 7 = 21.\r\n\r\nFor more details on how MROUND works, refer - https://www.wallstreetmojo.com/mround-in-excel/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8iqG0.png","title":"How to implement Excel MROUND() function in Java using BigDecimal instead of double","body":"<p>How can I round to a specific multiple in Java? In excel there is the mround function which allows for easy rounding to a specified multiple like so:</p>\n<pre><code>mRound(variable,multiple)\n</code></pre>\n<p>e.g. This is how the Java function should work for given 'Number' and 'Factor'.\nTo get more test data, just add below 'Number' and 'Factor' columns in MS Excel and in the next column use excel's built in MROUND function as =MROUND(Number, Factor)</p>\n<p><a href=\"https://i.stack.imgur.com/8iqG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iqG0.png\" alt=\"enter image description here\" /></a></p>\n<p>I know how it can be done with double, but I <strong>need a solution with BigDecimal</strong> as I am working with financial data.</p>\n<p>Solution with double -</p>\n<pre><code>double mRound(double value, double factor) {\n    return Math.round(value / factor) * factor;\n}\n</code></pre>\n<p><strong>This is how excel MROUND function works -</strong>\nThe MROUND Excel function rounds the number to the nearest multiple of the provided number. You must be thinking about how Excel knows whether to round up or round down. It depends on the result of the division.</p>\n<p>For example 16 / 3 = 5.33333, here decimal value is less than 0.5 so result of nearest multiple value of number 3 is 5, so 3 * 5 = 15. Here, Excel <strong>rounds down</strong> the value if the decimal value is less than 0.5.</p>\n<p>Similarly, look at this equation 20 / 3 = 6.66667. In this equation, the decimal value is greater than 0.5, so Excel <strong>rounds up</strong> the result to 7, so 3 * 7 = 21.</p>\n<p>For more details on how MROUND works, refer - <a href=\"https://www.wallstreetmojo.com/mround-in-excel/\" rel=\"nofollow noreferrer\">https://www.wallstreetmojo.com/mround-in-excel/</a></p>\n"},{"tags":["java","android","string","split","android-room"],"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1696461005,"post_id":77228612,"comment_id":136157601,"body_markdown":"does stopping and restarting the App, then display the correct data? Due to the underlying complexity of the behind the scenes SQLiteOpenHelper you may well have to  somehow clear all the underlying instances and perhaps restarting the activity is the solution  as per https://stackoverflow.com/questions/44317525/how-to-restore-sqlite-database-after-backup-android/44318566#44318566 (as an example).","body":"does stopping and restarting the App, then display the correct data? Due to the underlying complexity of the behind the scenes SQLiteOpenHelper you may well have to  somehow clear all the underlying instances and perhaps restarting the activity is the solution  as per <a href=\"https://stackoverflow.com/questions/44317525/how-to-restore-sqlite-database-after-backup-android/44318566#44318566\" title=\"how to restore sqlite database after backup android\">stackoverflow.com/questions/44317525/&hellip;</a> (as an example)."}],"owner":{"account_id":20220873,"reputation":137,"user_id":14830371,"display_name":"Anesu Mazvimavi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696413839,"creation_date":1696413839,"question_id":77228612,"body_markdown":"I am building an app that backs up and restores a room database in Android Studio. The backup process works fine however when I try to restore the database (Using a Recyclerview) it won&#39;t show me all the data. I suspect the issue could be reading the Strings from the text file.\r\n\r\nHere&#39;s my method\r\n \r\n  \r\n\r\n      public void restoreDatabase() throws IOException {\r\n            File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\r\n    \r\n            if (!backupFile.exists()) {\r\n                throw new FileNotFoundException(&quot;Backup file does not exist&quot;);\r\n            }\r\n    \r\n            AppDatabase database = Room.databaseBuilder(getApplicationContext(), AppDatabase.class, &quot;InnBucks_DB&quot;).allowMainThreadQueries().build();\r\n            UserDao userDao = database.userDao();\r\n    \r\n            try (FileInputStream inputStream = new FileInputStream(backupFile)) {\r\n                byte[] buffer = new byte[1024];\r\n                int bytesRead;\r\n    \r\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                    String line = new String(buffer, 0, bytesRead);\r\n    \r\n                    // Split the line into user data\r\n                    String[] userData = line.split(&quot; &quot;);\r\n    \r\n                    // Create a new user object\r\n                    User user = new User();\r\n                    user.setId(Integer.parseInt(userData[0]));\r\n                    user.setUserId(userData[1]);\r\n                    user.setName(userData[2]);\r\n    \r\n                    // Add the user to the database\r\n                    userDao.registerUser(user);\r\n                }\r\n            }\r\n    \r\n    // Get the list of users from the database.\r\n            List&lt;User&gt; userList = userDao.getallusers();\r\n    \r\n    // Call the setUserList() method on the RecyclerView adapter to update the list of users.\r\n            userListAdapter.setUserList(userList);\r\n    \r\n    // Notify the RecyclerView adapter that the data has changed.\r\n            userListAdapter.notifyDataSetChanged();\r\n    \r\n            Toast.makeText(this, &quot;Database restored successfully&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\nThis is my database before I click delete and then restore\r\n[![enter image description here][1]][1]\r\n\r\nAnd when I restore the database, this the output and as you can see there is data missing\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qgmol.jpg\r\n  [2]: https://i.stack.imgur.com/AMeus.jpg","title":"Reading data from a backup text file after restoring room database","body":"<p>I am building an app that backs up and restores a room database in Android Studio. The backup process works fine however when I try to restore the database (Using a Recyclerview) it won't show me all the data. I suspect the issue could be reading the Strings from the text file.</p>\n<p>Here's my method</p>\n<pre><code>  public void restoreDatabase() throws IOException {\n        File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\n\n        if (!backupFile.exists()) {\n            throw new FileNotFoundException(&quot;Backup file does not exist&quot;);\n        }\n\n        AppDatabase database = Room.databaseBuilder(getApplicationContext(), AppDatabase.class, &quot;InnBucks_DB&quot;).allowMainThreadQueries().build();\n        UserDao userDao = database.userDao();\n\n        try (FileInputStream inputStream = new FileInputStream(backupFile)) {\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                String line = new String(buffer, 0, bytesRead);\n\n                // Split the line into user data\n                String[] userData = line.split(&quot; &quot;);\n\n                // Create a new user object\n                User user = new User();\n                user.setId(Integer.parseInt(userData[0]));\n                user.setUserId(userData[1]);\n                user.setName(userData[2]);\n\n                // Add the user to the database\n                userDao.registerUser(user);\n            }\n        }\n\n// Get the list of users from the database.\n        List&lt;User&gt; userList = userDao.getallusers();\n\n// Call the setUserList() method on the RecyclerView adapter to update the list of users.\n        userListAdapter.setUserList(userList);\n\n// Notify the RecyclerView adapter that the data has changed.\n        userListAdapter.notifyDataSetChanged();\n\n        Toast.makeText(this, &quot;Database restored successfully&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>This is my database before I click delete and then restore\n<a href=\"https://i.stack.imgur.com/Qgmol.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qgmol.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And when I restore the database, this the output and as you can see there is data missing\n<a href=\"https://i.stack.imgur.com/AMeus.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMeus.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ignite","java-21"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1696168167,"post_id":77210731,"comment_id":136116141,"body_markdown":"Have you read the [documentation](https://ignite.apache.org/docs/latest/setup)? Given it states it was tested on _&quot;Oracle JDK 8, 11 or 17 Open JDK 8, 11 or 17, IBM JDK 8, 11 or 17&quot;_, you can pretty much assume it does not (yet) support Java 21. Also, [this issue](https://github.com/apache/ignite/issues/10954) suggests that it will simply not work.","body":"Have you read the <a href=\"https://ignite.apache.org/docs/latest/setup\" rel=\"nofollow noreferrer\">documentation</a>? Given it states it was tested on <i>&quot;Oracle JDK 8, 11 or 17 Open JDK 8, 11 or 17, IBM JDK 8, 11 or 17&quot;</i>, you can pretty much assume it does not (yet) support Java 21. Also, <a href=\"https://github.com/apache/ignite/issues/10954\" rel=\"nofollow noreferrer\">this issue</a> suggests that it will simply not work."},{"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"score":0,"creation_date":1696170193,"post_id":77210731,"comment_id":136116363,"body_markdown":"As I mention I have checked docs and it does not mention Java 21. But just wanted to ask community, maybe someone tried and solve in somehow.","body":"As I mention I have checked docs and it does not mention Java 21. But just wanted to ask community, maybe someone tried and solve in somehow."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696496210,"post_id":77210731,"comment_id":136161265,"body_markdown":"You can safely expect a software needing that many `--add-opens` clauses to break at every Java update.","body":"You can safely expect a software needing that many <code>--add-opens</code> clauses to break at every Java update."}],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696413833,"creation_date":1696413833,"answer_id":77228611,"question_id":77210731,"body_markdown":"The current version of Ignite (2.15) needs some code changes to work with Java 21 (a couple of PRs have already been merged). I would expect to see them in the next version.","title":"Apache Ignite Support For Java 21","body":"<p>The current version of Ignite (2.15) needs some code changes to work with Java 21 (a couple of PRs have already been merged). I would expect to see them in the next version.</p>\n"}],"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696413833,"creation_date":1696167979,"question_id":77210731,"body_markdown":"Does Apache Ignite Support Java 21 ?\r\n\r\nIt works with Java 17 when I added these parameter\r\n\r\n\r\n    --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED \\\r\n    --add-opens=java.base/jdk.internal.misc=ALL-UNNAMED \\\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n    --add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED \\\r\n    --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED \\\r\n    --add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.nio=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.util=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n\r\n\r\nBut when I try with java 21  it throws exception\r\n\r\n\r\n&gt; java.lang.RuntimeException: jdk.internal.misc.JavaNioAccess class is\r\n&gt; unavailable. Please add the following parameters to JVM startup\r\n&gt; settings and restart the application: {parameters:\r\n&gt; --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\r\n&gt; --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\r\n&gt; --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\r\n&gt; --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n&gt; --add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\r\n&gt; --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n&gt; --illegal-access=permit }\r\n&gt; See https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11 for more information.\r\n\r\n\r\n**And even I add new parameters, it throws the same exception**\r\n\r\nI have checked docs and it does not mention Java 21\r\nhttps://ignite.apache.org/docs/latest/quick-start/java\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Piz0X.jpg","title":"Apache Ignite Support For Java 21","body":"<p>Does Apache Ignite Support Java 21 ?</p>\n<p>It works with Java 17 when I added these parameter</p>\n<pre><code>--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED \\\n--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED \\\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED \\\n--add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED \\\n--add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-opens=java.base/java.nio=ALL-UNNAMED \\\n--add-opens=java.base/java.util=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>But when I try with java 21  it throws exception</p>\n<blockquote>\n<p>java.lang.RuntimeException: jdk.internal.misc.JavaNioAccess class is\nunavailable. Please add the following parameters to JVM startup\nsettings and restart the application: {parameters:\n--add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n--add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n--add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\n--illegal-access=permit }\nSee <a href=\"https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11\" rel=\"nofollow noreferrer\">https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11</a> for more information.</p>\n</blockquote>\n<p><strong>And even I add new parameters, it throws the same exception</strong></p>\n<p>I have checked docs and it does not mention Java 21\n<a href=\"https://ignite.apache.org/docs/latest/quick-start/java\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/quick-start/java</a>\n<a href=\"https://i.stack.imgur.com/Piz0X.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Piz0X.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":18387315,"reputation":91,"user_id":15282767,"display_name":"Anis Rafid"},"score":0,"creation_date":1696365723,"post_id":77225378,"comment_id":136143095,"body_markdown":"The error you&#39;re encountering appears to be related to a problem with the Gradle cache and the creation of a JAR file for the Jackson Core library. This kind of issue can sometimes occur due to file system conflicts or corruption in the Gradle cache. To resolve that issue: Clean Gradle Cache, Clear Gradle Caches, Update Gradle and Plugins, Check for Third-Party Dependencies.","body":"The error you&#39;re encountering appears to be related to a problem with the Gradle cache and the creation of a JAR file for the Jackson Core library. This kind of issue can sometimes occur due to file system conflicts or corruption in the Gradle cache. To resolve that issue: Clean Gradle Cache, Clear Gradle Caches, Update Gradle and Plugins, Check for Third-Party Dependencies."},{"owner":{"account_id":1118781,"reputation":1756,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"score":0,"creation_date":1696406651,"post_id":77225378,"comment_id":136147184,"body_markdown":"@AnisRafid I thought it might be the gradle cache.  But I cleaned both the project-level cache and the user-level cache, and it still fails.  When I switch to the previous commit, it works fine (even though it&#39;s using the same cache).","body":"@AnisRafid I thought it might be the gradle cache.  But I cleaned both the project-level cache and the user-level cache, and it still fails.  When I switch to the previous commit, it works fine (even though it&#39;s using the same cache)."}],"answers":[{"tags":[],"owner":{"account_id":1118781,"reputation":1756,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696413553,"creation_date":1696413553,"answer_id":77228584,"question_id":77225378,"body_markdown":"The answer was to do with [a bug in gradle][1].  Versions prior to 7.6.2 (?) failed to handle multi-release jar files (ie with multiple binaries built with different Java versions in them).\r\n\r\nThe jackson dependency was such a jar file.  This explains why the previous commit worked consistently, and this one failed consistently.  The project from which I copied the config uses gradle 8.1, which is why it worked there. \r\n\r\nSolution: upgrade gradle.\r\n\r\n  [1]: https://github.com/gradle/gradle/issues/24390","title":"gradle clean fails with &quot;GradleException: Failed to create Jar file&quot;","body":"<p>The answer was to do with <a href=\"https://github.com/gradle/gradle/issues/24390\" rel=\"nofollow noreferrer\">a bug in gradle</a>.  Versions prior to 7.6.2 (?) failed to handle multi-release jar files (ie with multiple binaries built with different Java versions in them).</p>\n<p>The jackson dependency was such a jar file.  This explains why the previous commit worked consistently, and this one failed consistently.  The project from which I copied the config uses gradle 8.1, which is why it worked there.</p>\n<p>Solution: upgrade gradle.</p>\n"}],"owner":{"account_id":1118781,"reputation":1756,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77228584,"answer_count":1,"score":1,"last_activity_date":1696413553,"creation_date":1696365288,"question_id":77225378,"body_markdown":"I&#39;m seeing a very strange problem with gradle.\r\n\r\nWhen I run any command (see clean below), gradle fails with a concurrent exception.\r\n\r\nThis is happening since my latest changes.  Rolling back to a previous commit works fine.\r\n\r\nThe changes are too numerous to describe here but in summary I&#39;ve restructured the build a bit, based on another project which is working.  And when I say based on, I mean I have simply copied build.gradle, settings.gradle and gradle.properties from that other project.  None of the changes relate to jackson core.\r\n\r\n    $ ./gradlew clean\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;myservice&#39;.\r\n    &gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\me\\.gradle\\caches\\jars-9\\b868ab677410c01cf9b5a0e29a035e73\\jackson-core-2.15.2.jar.\r\n        \r\n    BUILD FAILED in 2s\r\n    \r\nI tried removing the lock file but that failed:\r\n    \r\n    $ rm -rf ~/.gradle/caches/jars-9/*lock\r\n    rm: cannot remove &#39;/c/Users/me/.gradle/caches/jars-9/jars-9.lock&#39;: Device or resource busy\r\n\r\nSo I ran `./gradlew --stop` which stopped 2 daemons, and I was able to remove the lock file.  But the `clean` still fails with the same error.\r\n\r\nI&#39;ve tried cleaning the `.gradle` directory in the project, and I&#39;ve also tried checking out a new copy of the project.  Same result.\r\n\r\nSo although it seems like a cache error, I can fix it by rolling back to a previous commit (without touching the cache) and if I clear the cache, that doesn&#39;t fix it.\r\n\r\nWhat&#39;s going wrong and how do I fix it?","title":"gradle clean fails with &quot;GradleException: Failed to create Jar file&quot;","body":"<p>I'm seeing a very strange problem with gradle.</p>\n<p>When I run any command (see clean below), gradle fails with a concurrent exception.</p>\n<p>This is happening since my latest changes.  Rolling back to a previous commit works fine.</p>\n<p>The changes are too numerous to describe here but in summary I've restructured the build a bit, based on another project which is working.  And when I say based on, I mean I have simply copied build.gradle, settings.gradle and gradle.properties from that other project.  None of the changes relate to jackson core.</p>\n<pre><code>$ ./gradlew clean\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'myservice'.\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\me\\.gradle\\caches\\jars-9\\b868ab677410c01cf9b5a0e29a035e73\\jackson-core-2.15.2.jar.\n    \nBUILD FAILED in 2s\n</code></pre>\n<p>I tried removing the lock file but that failed:</p>\n<pre><code>$ rm -rf ~/.gradle/caches/jars-9/*lock\nrm: cannot remove '/c/Users/me/.gradle/caches/jars-9/jars-9.lock': Device or resource busy\n</code></pre>\n<p>So I ran <code>./gradlew --stop</code> which stopped 2 daemons, and I was able to remove the lock file.  But the <code>clean</code> still fails with the same error.</p>\n<p>I've tried cleaning the <code>.gradle</code> directory in the project, and I've also tried checking out a new copy of the project.  Same result.</p>\n<p>So although it seems like a cache error, I can fix it by rolling back to a previous commit (without touching the cache) and if I clear the cache, that doesn't fix it.</p>\n<p>What's going wrong and how do I fix it?</p>\n"},{"tags":["java","android","c++","telegram","android-contacts"],"comments":[{"owner":{"account_id":5990833,"reputation":168,"user_id":4706957,"accept_rate":100,"display_name":"Alireza"},"score":0,"creation_date":1487669756,"post_id":42361887,"comment_id":71876960,"body_markdown":"@Christopher I have verified Telegram for a feature for this purpose, but I could not find any feature in the app and I have searched in the net but I could not find any app for this purpose, I don&#39;t know why Telegram photo could not add to Android contacts. So I want to develop an app for this purpose.","body":"@Christopher I have verified Telegram for a feature for this purpose, but I could not find any feature in the app and I have searched in the net but I could not find any app for this purpose, I don&#39;t know why Telegram photo could not add to Android contacts. So I want to develop an app for this purpose."}],"answers":[{"comments":[{"owner":{"account_id":5990833,"reputation":168,"user_id":4706957,"accept_rate":100,"display_name":"Alireza"},"score":0,"creation_date":1487768085,"post_id":42389796,"comment_id":71931556,"body_markdown":"Hi, it is amazing that Telegram doesn&#39;t have a feature for synchronizing its contacts photo to Android contacts. Has it a security reason?","body":"Hi, it is amazing that Telegram doesn&#39;t have a feature for synchronizing its contacts photo to Android contacts. Has it a security reason?"}],"tags":[],"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487762331,"creation_date":1487762331,"answer_id":42389796,"question_id":42361887,"body_markdown":"This is currently not supported in [Contacts API v3](https://developers.google.com/google-apps/contacts/v3/). If you check the docs, there is no mention of this. File a feature request for this [here](https://code.google.com/a/google.com/p/apps-api-issues/issues/entry?template=Feature%20request).","title":"How to sync Telegram contacts photo to Android contacts?","body":"<p>This is currently not supported in <a href=\"https://developers.google.com/google-apps/contacts/v3/\" rel=\"nofollow noreferrer\">Contacts API v3</a>. If you check the docs, there is no mention of this. File a feature request for this <a href=\"https://code.google.com/a/google.com/p/apps-api-issues/issues/entry?template=Feature%20request\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5990833,"reputation":168,"user_id":4706957,"accept_rate":100,"display_name":"Alireza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5258,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":42389796,"answer_count":1,"score":3,"last_activity_date":1696413155,"creation_date":1487664735,"question_id":42361887,"body_markdown":"How to sync **Telegram contacts photo** to Android contacts?\n\n\nIs it possible by Telegram to send the profile photo of contacts to Android (Gmail) contacts?\n\n\n\n***P.S.***\n\n&gt; I have verified Telegram for a feature for this purpose, but I could\n&gt; not find any features in the app also I have searched in the net but I\n&gt; could not find any apps for this purpose. \n&gt;\n&gt; I don&#39;t know why Telegram\n&gt; contacts profile photo could not add to Android contacts?  So I want to develop an app\n&gt; for this purpose.\n&gt; Do you have any clues?\n\n\n\nThanks","title":"How to sync Telegram contacts photo to Android contacts?","body":"<p>How to sync <strong>Telegram contacts photo</strong> to Android contacts?</p>\n<p>Is it possible by Telegram to send the profile photo of contacts to Android (Gmail) contacts?</p>\n<p><em><strong>P.S.</strong></em></p>\n<blockquote>\n<p>I have verified Telegram for a feature for this purpose, but I could\nnot find any features in the app also I have searched in the net but I\ncould not find any apps for this purpose.</p>\n<p>I don't know why Telegram\ncontacts profile photo could not add to Android contacts?  So I want to develop an app\nfor this purpose.\nDo you have any clues?</p>\n</blockquote>\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","select","methods","dropdown"],"owner":{"account_id":29350777,"reputation":1,"user_id":22487982,"display_name":"akshay patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696412796,"creation_date":1696412776,"question_id":77228489,"body_markdown":"\r\n```\r\nswitch (valuetype.toLowerCase()) {\r\nLazyWebElement selectelement = getElement(element);\r\n\t\tSelect statusselect = new Select(selectelement);\r\n\t\tcase &quot;text&quot;:\r\n\t\t\tstatusselect.selectByVisibleText(values);\r\n\t\t\tbreak;\r\n\t\tcase &quot;value&quot;:\r\n\t\t\tstatusselect.selectByValue(values);\r\n\t\t\tbreak;`\r\n}\r\n```\r\n\r\ni want to add one more method here that will select the dropdown value from partial text \r\neg: the  dropdown value is below as\r\n    &quot;abc efgh&quot;\r\n   when i give the value just &quot;abc&quot; it must selectthe above dropdown\r\nwhere in the code i given above i have to fully give &quot;abc efgh&quot;\r\n\r\ni want to inculate case or a method in the above code to make the code work to select partially given text dropdown,\r\nthanks","title":"is there a way to select a dropdown value from partial visible text as there a method : selectByVisibleText(dropdownvalue);","body":"<pre><code>switch (valuetype.toLowerCase()) {\nLazyWebElement selectelement = getElement(element);\n        Select statusselect = new Select(selectelement);\n        case &quot;text&quot;:\n            statusselect.selectByVisibleText(values);\n            break;\n        case &quot;value&quot;:\n            statusselect.selectByValue(values);\n            break;`\n}\n</code></pre>\n<p>i want to add one more method here that will select the dropdown value from partial text\neg: the  dropdown value is below as\n&quot;abc efgh&quot;\nwhen i give the value just &quot;abc&quot; it must selectthe above dropdown\nwhere in the code i given above i have to fully give &quot;abc efgh&quot;</p>\n<p>i want to inculate case or a method in the above code to make the code work to select partially given text dropdown,\nthanks</p>\n"},{"tags":["java","netbeans","weblogic12c","netbeans-11"],"answers":[{"comments":[{"owner":{"account_id":12504156,"reputation":105,"user_id":9120397,"display_name":"Alberto D"},"score":0,"creation_date":1562601728,"post_id":56938615,"comment_id":100417615,"body_markdown":"Yes, I know it&#39;s for another version, but, netbeans should allow me to add the weblogic server","body":"Yes, I know it&#39;s for another version, but, netbeans should allow me to add the weblogic server"},{"owner":{"account_id":10512226,"reputation":310,"user_id":7747544,"display_name":"Dinnerspy"},"score":0,"creation_date":1562601800,"post_id":56938615,"comment_id":100417649,"body_markdown":"From what i can tell they seem to indicate its only supported on the above versions","body":"From what i can tell they seem to indicate its only supported on the above versions"},{"owner":{"account_id":10512226,"reputation":310,"user_id":7747544,"display_name":"Dinnerspy"},"score":0,"creation_date":1562602072,"post_id":56938615,"comment_id":100417778,"body_markdown":"Is there a way you could try one of the versions above? Or are you locked in to Apache Netbeans 11?","body":"Is there a way you could try one of the versions above? Or are you locked in to Apache Netbeans 11?"},{"owner":{"account_id":12504156,"reputation":105,"user_id":9120397,"display_name":"Alberto D"},"score":0,"creation_date":1562611990,"post_id":56938615,"comment_id":100422017,"body_markdown":"no, I&#39;m no locked, but I think that a last version IDE is useless if it does not work with other servers. \nOn the other hand, many thanks for your response","body":"no, I&#39;m no locked, but I think that a last version IDE is useless if it does not work with other servers.  On the other hand, many thanks for your response"},{"owner":{"account_id":10512226,"reputation":310,"user_id":7747544,"display_name":"Dinnerspy"},"score":0,"creation_date":1562612529,"post_id":56938615,"comment_id":100422229,"body_markdown":"personal i prefer the pre Apache Netbeans because majority of the plugins are designed for them and the Apache seemed to lose features. But thats just me. Let me know it it works with the versions above. Hopefuly your other servers will work with it. :).","body":"personal i prefer the pre Apache Netbeans because majority of the plugins are designed for them and the Apache seemed to lose features. But thats just me. Let me know it it works with the versions above. Hopefuly your other servers will work with it. :)."}],"tags":[],"owner":{"account_id":10512226,"reputation":310,"user_id":7747544,"display_name":"Dinnerspy"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1562601478,"creation_date":1562601478,"answer_id":56938615,"question_id":56938248,"body_markdown":"From what i can tell only Netbeans versions 7.2, 7.3, 7.4, 8.0 can work with weblogic as of now. Also the guide you are following is using a pre Apache Netbeans version. I would recommend switching to one of the following Netbeans versions. Download the All bundle or EE.\r\n\r\n - [Netbeans 8.0](https://netbeans.org/downloads/8.0/) \r\n - [Netbeans 7.4](https://netbeans.org/downloads/7.4/)\r\n\r\nhttps://netbeans.apache.org/kb/docs/web/jsf-jpa-weblogic.html","title":"I can not add the weblogic server in netbeans v11","body":"<p>From what i can tell only Netbeans versions 7.2, 7.3, 7.4, 8.0 can work with weblogic as of now. Also the guide you are following is using a pre Apache Netbeans version. I would recommend switching to one of the following Netbeans versions. Download the All bundle or EE.</p>\n\n<ul>\n<li><a href=\"https://netbeans.org/downloads/8.0/\" rel=\"nofollow noreferrer\">Netbeans 8.0</a> </li>\n<li><a href=\"https://netbeans.org/downloads/7.4/\" rel=\"nofollow noreferrer\">Netbeans 7.4</a></li>\n</ul>\n\n<p><a href=\"https://netbeans.apache.org/kb/docs/web/jsf-jpa-weblogic.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/kb/docs/web/jsf-jpa-weblogic.html</a></p>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562635469,"creation_date":1562635469,"answer_id":56944254,"question_id":56938248,"body_markdown":"Unfortunately Apache NetBeans 11.0 does not currently support the addition or use of a WebLogic server. See open Apache NetBeans Bug Report 2476: [Netbeans 11 EE Support Weblogic Server][1] \r\n\r\nI don&#39;t know for sure, but I suspect that this is a legal problem is related to licensing issues rather than any technical obstacles. The absence of licensing on Apache NetBeans 11.0 also impacts other important products such as Hibernate ([NETBEANS-2719 Resolve Hibernate Support][2]), and Wildfly ([NETBEANS-2415\r\nBring back support for WildFly server][3]).\r\n\r\nThere are licensing issues because Apache assumed ownership of NetBeans releases from Oracle last year.\r\n\r\nAlso, because WebLogic was supported &quot;out of the box&quot; in NetBeans 8.2 there is no old WebLogic plugin available for use on Apache NetBeans 11.0.\r\n\r\nYour options are:\r\n\r\n- Regress NetBeans to use the most recent NetBeans release which does support WebLogic: Oracle NetBeans 8.2. Note that this means you cannot develop using Java EE 8, nor use any JDK version &gt; 8.\r\n- Stick with Apache NetBeans 11.0, and instead of WebLogic use one of the four application servers which it formally supports &quot;out of the box&quot;: Payara, Glassfish, Apache Tomcat and Apache TomEE.\r\n- Install your WebLogic server outside of Apache NetBeans 11.0, and deploy your NetBeans web applications to that external server.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/NETBEANS-2476\r\n  [2]: https://issues.apache.org/jira/browse/NETBEANS-2719\r\n  [3]: https://issues.apache.org/jira/browse/NETBEANS-2415","title":"I can not add the weblogic server in netbeans v11","body":"<p>Unfortunately Apache NetBeans 11.0 does not currently support the addition or use of a WebLogic server. See open Apache NetBeans Bug Report 2476: <a href=\"https://issues.apache.org/jira/browse/NETBEANS-2476\" rel=\"nofollow noreferrer\">Netbeans 11 EE Support Weblogic Server</a> </p>\n\n<p>I don't know for sure, but I suspect that this is a legal problem is related to licensing issues rather than any technical obstacles. The absence of licensing on Apache NetBeans 11.0 also impacts other important products such as Hibernate (<a href=\"https://issues.apache.org/jira/browse/NETBEANS-2719\" rel=\"nofollow noreferrer\">NETBEANS-2719 Resolve Hibernate Support</a>), and Wildfly (<a href=\"https://issues.apache.org/jira/browse/NETBEANS-2415\" rel=\"nofollow noreferrer\">NETBEANS-2415\nBring back support for WildFly server</a>).</p>\n\n<p>There are licensing issues because Apache assumed ownership of NetBeans releases from Oracle last year.</p>\n\n<p>Also, because WebLogic was supported \"out of the box\" in NetBeans 8.2 there is no old WebLogic plugin available for use on Apache NetBeans 11.0.</p>\n\n<p>Your options are:</p>\n\n<ul>\n<li>Regress NetBeans to use the most recent NetBeans release which does support WebLogic: Oracle NetBeans 8.2. Note that this means you cannot develop using Java EE 8, nor use any JDK version > 8.</li>\n<li>Stick with Apache NetBeans 11.0, and instead of WebLogic use one of the four application servers which it formally supports \"out of the box\": Payara, Glassfish, Apache Tomcat and Apache TomEE.</li>\n<li>Install your WebLogic server outside of Apache NetBeans 11.0, and deploy your NetBeans web applications to that external server.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2448261,"reputation":1657,"user_id":2135094,"accept_rate":58,"display_name":"chrisl08"},"score":0,"creation_date":1626243427,"post_id":60987800,"comment_id":120837255,"body_markdown":"Works also on 12.4","body":"Works also on 12.4"},{"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"score":0,"creation_date":1637267201,"post_id":60987800,"comment_id":123787647,"body_markdown":"and also on 12.5","body":"and also on 12.5"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1646315228,"post_id":60987800,"comment_id":126096175,"body_markdown":"unfortunately - use the above at your own risk. in my case, although netbeans 12.3 could add the server, i wasn&#39;t able to make the debugging work properly - breakpoints were not hit - and each subsequent time i tried to run the Debug again, various obscure errors occured in Netbeans itself (in Notifications tab), seemingly halting the whole process of spawning the server instance and deploying the application.","body":"unfortunately - use the above at your own risk. in my case, although netbeans 12.3 could add the server, i wasn&#39;t able to make the debugging work properly - breakpoints were not hit - and each subsequent time i tried to run the Debug again, various obscure errors occured in Netbeans itself (in Notifications tab), seemingly halting the whole process of spawning the server instance and deploying the application."},{"owner":{"account_id":55637,"reputation":8923,"user_id":166661,"display_name":"dldnh"},"score":0,"creation_date":1665425262,"post_id":60987800,"comment_id":130692698,"body_markdown":"in NB 15, I got an error building all, but when I went to contrib/j2ee.weblogic9, `ant nbm` did the trick","body":"in NB 15, I got an error building all, but when I went to contrib/j2ee.weblogic9, <code>ant nbm</code> did the trick"},{"owner":{"account_id":6318098,"reputation":101,"user_id":4907292,"display_name":"Giovanny Canasto"},"score":0,"creation_date":1687579577,"post_id":60987800,"comment_id":134960366,"body_markdown":"in netbeans 17 works fine with weblogic9.nbm file as plugin !!","body":"in netbeans 17 works fine with weblogic9.nbm file as plugin !!"}],"tags":[],"owner":{"account_id":8928317,"reputation":106,"user_id":8101229,"display_name":"zuzzz"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1627629613,"creation_date":1585818059,"answer_id":60987800,"question_id":56938248,"body_markdown":"I was able to connect the plugin for weblogic from netbeans version 8.2.\r\nYou must copy the plug-in files from the netbeans 8.2 directory to the netbeans 11 directory.\r\nFiles of a plug-in:\r\n\r\n - ...\\plugins\\servers\\enterprise\\modules\\org-netbeans-modules-j2ee-weblogic9.jar\r\n - ...\\plugins\\servers\\enterprise\\config\\Modules\\org-netbeans-modules-j2ee-weblogic9.xml\r\n - ...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-j2ee-weblogic9.xml\r\n - ...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-weblogic-common.xml\r\n\r\nChecked on versions 11, 11.1, 11.2.\r\n\r\n\r\nUpdate. \r\nSecond method\r\n\r\nThe plugin can be compiled from sources.\r\nPlugin sources here:\r\nhttps://github.com/apache/netbeans/tree/master/contrib/j2ee.weblogic9\r\nBut you need to build all netbeans project. Build command:\r\n&gt;ant all\r\n\r\nThe resulting .nbm file can then be imported in NetBeans (Tools -&gt; Plugins -&gt; Downloaded -&gt; Add Plugin)\r\n\r\n\r\nDiscussion of the problem here:\r\nhttps://issues.apache.org/jira/browse/NETBEANS-2476\r\n\r\nCompiled nbm plugin file:\r\nhttps://issues.apache.org/jira/secure/attachment/12991973/org-netbeans-modules-j2ee-weblogic9.nbm\r\n\r\nChecked on versions 12.x","title":"I can not add the weblogic server in netbeans v11","body":"<p>I was able to connect the plugin for weblogic from netbeans version 8.2.\nYou must copy the plug-in files from the netbeans 8.2 directory to the netbeans 11 directory.\nFiles of a plug-in:</p>\n<ul>\n<li>...\\plugins\\servers\\enterprise\\modules\\org-netbeans-modules-j2ee-weblogic9.jar</li>\n<li>...\\plugins\\servers\\enterprise\\config\\Modules\\org-netbeans-modules-j2ee-weblogic9.xml</li>\n<li>...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-j2ee-weblogic9.xml</li>\n<li>...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-weblogic-common.xml</li>\n</ul>\n<p>Checked on versions 11, 11.1, 11.2.</p>\n<p>Update.\nSecond method</p>\n<p>The plugin can be compiled from sources.\nPlugin sources here:\n<a href=\"https://github.com/apache/netbeans/tree/master/contrib/j2ee.weblogic9\" rel=\"noreferrer\">https://github.com/apache/netbeans/tree/master/contrib/j2ee.weblogic9</a>\nBut you need to build all netbeans project. Build command:</p>\n<blockquote>\n<p>ant all</p>\n</blockquote>\n<p>The resulting .nbm file can then be imported in NetBeans (Tools -&gt; Plugins -&gt; Downloaded -&gt; Add Plugin)</p>\n<p>Discussion of the problem here:\n<a href=\"https://issues.apache.org/jira/browse/NETBEANS-2476\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/NETBEANS-2476</a></p>\n<p>Compiled nbm plugin file:\n<a href=\"https://issues.apache.org/jira/secure/attachment/12991973/org-netbeans-modules-j2ee-weblogic9.nbm\" rel=\"noreferrer\">https://issues.apache.org/jira/secure/attachment/12991973/org-netbeans-modules-j2ee-weblogic9.nbm</a></p>\n<p>Checked on versions 12.x</p>\n"}],"owner":{"account_id":12504156,"reputation":105,"user_id":9120397,"display_name":"Alberto D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7561,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60987800,"answer_count":3,"score":5,"last_activity_date":1696412654,"creation_date":1562599964,"question_id":56938248,"body_markdown":"I have installed the Weblogic 12c server and I want to add it to a project in Netbeans 11. When I select &quot;add server&quot; from server instance, the Weblogic server option is not displayed\r\n![server instance netbeans 11 image][1]\r\n\r\nI expected to see the option as shown in the following link https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html\r\n\r\n![expected server intances option image ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QeMOj.png\r\n  [2]: https://i.stack.imgur.com/sBrYL.png","title":"I can not add the weblogic server in netbeans v11","body":"<p>I have installed the Weblogic 12c server and I want to add it to a project in Netbeans 11. When I select \"add server\" from server instance, the Weblogic server option is not displayed\n<img src=\"https://i.stack.imgur.com/QeMOj.png\" alt=\"server instance netbeans 11 image\"></p>\n\n<p>I expected to see the option as shown in the following link <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/sBrYL.png\" alt=\"expected server intances option image \"></p>\n"},{"tags":["java","formatting","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":1479530,"reputation":6711,"user_id":1389219,"accept_rate":50,"display_name":"vegemite4me"},"score":11,"creation_date":1443721866,"post_id":15284937,"comment_id":53616976,"body_markdown":"If you are still not seeing the format you want, experiment with changing the other options (above and below the highlighted box) from **Chop down if long** to **Wrap always**.","body":"If you are still not seeing the format you want, experiment with changing the other options (above and below the highlighted box) from <b>Chop down if long</b> to <b>Wrap always</b>."},{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":1,"creation_date":1482307699,"post_id":15284937,"comment_id":69716003,"body_markdown":"And &quot;Method Annotations&quot; for formatting annotations on methods","body":"And &quot;Method Annotations&quot; for formatting annotations on methods"},{"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"score":1,"creation_date":1505989617,"post_id":15284937,"comment_id":79642746,"body_markdown":"And have to do it also for class. Check this for more details: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206627789-Java-code-formatter-Annotations-on-a-single-line","body":"And have to do it also for class. Check this for more details: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206627789-Java-code-formatter-Annotations-on-a-single-line\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>"}],"tags":[],"owner":{"account_id":1878140,"reputation":8733,"user_id":1698887,"accept_rate":50,"display_name":"Daniel Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1435551629,"creation_date":1362704479,"answer_id":15284937,"question_id":15284911,"body_markdown":"Navigate to **Preferences &amp;rarr; Editor &amp;rarr; Code Style &amp;rarr; Java &amp;rarr; Wrapping and Braces tab**, then locate the section **Field annotations** and check the option **Do not wrap after single annotation**.\r\n\r\nIn IntelliJ v14:\r\n\r\n![eIntelliJ v14 Java style preferences][1]\r\n\r\n  [1]: http://i.stack.imgur.com/sFZMJ.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>Navigate to <strong>Preferences &rarr; Editor &rarr; Code Style &rarr; Java &rarr; Wrapping and Braces tab</strong>, then locate the section <strong>Field annotations</strong> and check the option <strong>Do not wrap after single annotation</strong>.</p>\n\n<p>In IntelliJ v14:</p>\n\n<p><img src=\"https://i.stack.imgur.com/sFZMJ.png\" alt=\"eIntelliJ v14 Java style preferences\"></p>\n"},{"tags":[],"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"comment_count":0,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1362704567,"creation_date":1362704567,"answer_id":15284956,"question_id":15284911,"body_markdown":"In IntelliJ 12 You can find it in setup here (bottom right):\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/DmSZs.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>In IntelliJ 12 You can find it in setup here (bottom right):</p>\n\n<p><img src=\"https://i.stack.imgur.com/DmSZs.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1431104595,"creation_date":1431104595,"answer_id":30129185,"question_id":15284911,"body_markdown":"I think all the above answers are correct but here is step by step for Mac users:\r\n\r\n1. Click on &quot;IntelliJ IDEA&quot;\r\n2. Click on &quot;Preferences&quot;\r\n3. Go &quot;Code Style&quot; on the left navigation window and you will see &quot;Java&quot; listed below it and Click on it !\r\n4. Look for the header tab &quot;Wrapping and Braces&quot; on the right side of Preferences window.\r\n5. At this point you want to look for the item called &quot;Do not wrap after single annotation&quot; under &quot;Field annotations&quot;. click &quot;ok&quot; and you are done !\r\n\r\n\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/IUTGw.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>I think all the above answers are correct but here is step by step for Mac users:</p>\n\n<ol>\n<li>Click on \"IntelliJ IDEA\"</li>\n<li>Click on \"Preferences\"</li>\n<li>Go \"Code Style\" on the left navigation window and you will see \"Java\" listed below it and Click on it !</li>\n<li>Look for the header tab \"Wrapping and Braces\" on the right side of Preferences window.</li>\n<li>At this point you want to look for the item called \"Do not wrap after single annotation\" under \"Field annotations\". click \"ok\" and you are done !</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/IUTGw.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502416282,"creation_date":1502416282,"answer_id":45625752,"question_id":15284911,"body_markdown":"Nothing seemed to work for me with version 2.3.3 or Android Studio.  I gave up and checked *Line breaks* under *Keep when reformatting*.  I just have to be very careful when I add line breaks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GjJPk.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>Nothing seemed to work for me with version 2.3.3 or Android Studio.  I gave up and checked <em>Line breaks</em> under <em>Keep when reformatting</em>.  I just have to be very careful when I add line breaks.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GjJPk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GjJPk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":17055966,"reputation":101,"user_id":12340495,"display_name":"Eddie T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696411881,"creation_date":1696411881,"answer_id":77228368,"question_id":15284911,"body_markdown":"in 2023.2.2\r\nCode Style &gt; Java &gt; Wrapping and Braces tab:\r\nSet &quot;Method annotations&quot; to &quot;Wrap always&quot;","title":"Intellij code formatting, Java annotations on new lines","body":"<p>in 2023.2.2\nCode Style &gt; Java &gt; Wrapping and Braces tab:\nSet &quot;Method annotations&quot; to &quot;Wrap always&quot;</p>\n"}],"owner":{"account_id":53446,"reputation":1916,"user_id":159756,"accept_rate":54,"display_name":"catrapture"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40102,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":15284937,"answer_count":5,"score":104,"last_activity_date":1696411881,"creation_date":1362704331,"question_id":15284911,"body_markdown":"I&#39;m using IntelliJ 12 and \r\nIt&#39;s putting my member variable annotations on the same line, which i hate! How do I setup the code formatter to keep annotations on separate lines?\r\n\r\n\r\nthanks!","title":"Intellij code formatting, Java annotations on new lines","body":"<p>I'm using IntelliJ 12 and \nIt's putting my member variable annotations on the same line, which i hate! How do I setup the code formatter to keep annotations on separate lines?</p>\n\n<p>thanks!</p>\n"},{"tags":["java","intellij-idea","junit","integration-testing"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"I≈Çya Bursov"},"score":0,"creation_date":1450982669,"post_id":34456739,"comment_id":56655385,"body_markdown":"you should fix the test","body":"you should fix the test"},{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":3,"creation_date":1450982728,"post_id":34456739,"comment_id":56655403,"body_markdown":"@Lashane I need to *know* the problem to fix the test.  This question is about learning what the problem is.","body":"@Lashane I need to <i>know</i> the problem to fix the test.  This question is about learning what the problem is."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"I≈Çya Bursov"},"score":0,"creation_date":1450982913,"post_id":34456739,"comment_id":56655461,"body_markdown":"usually &quot;debugging&quot; is the way to solve it, run all tests, find where it fails, put breakpoint before - find out why it actually fails, what state/variable lead to it, find where this state is changed, put breakpoints and run all tests again","body":"usually &quot;debugging&quot; is the way to solve it, run all tests, find where it fails, put breakpoint before - find out why it actually fails, what state/variable lead to it, find where this state is changed, put breakpoints and run all tests again"},{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1451008336,"post_id":34456739,"comment_id":56660919,"body_markdown":"@Lashane I do that in general, but in this case it&#39;s an extremely inefficient way to debug this issue.","body":"@Lashane I do that in general, but in this case it&#39;s an extremely inefficient way to debug this issue."}],"answers":[{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1450998009,"post_id":34456810,"comment_id":56659250,"body_markdown":"Cool, that&#39;s helpful. In the end, I just manually put @Ignore on everything (temporarily)","body":"Cool, that&#39;s helpful. In the end, I just manually put @Ignore on everything (temporarily)"},{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":1,"creation_date":1490890408,"post_id":34456810,"comment_id":73325364,"body_markdown":"This doesn&#39;t help this scenario because this problem spans multiple classes.","body":"This doesn&#39;t help this scenario because this problem spans multiple classes."}],"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1499281346,"creation_date":1450983053,"answer_id":34456810,"question_id":34456739,"body_markdown":"According to [JUnit&#39;s wiki][1]:\r\n\r\n&gt; By design, JUnit does not specify the execution order of test method\r\n&gt; invocations. Until now, the methods were simply invoked in the order\r\n&gt; returned by the reflection API. However, using the JVM order is unwise\r\n&gt; since the Java platform does not specify any particular order, and in\r\n&gt; fact JDK 7 returns a more or less random order. Of course,\r\n&gt; well-written test code would not assume any order, but some do, and a\r\n&gt; predictable failure is better than a random failure on certain\r\n&gt; platforms.\r\n&gt; \r\n&gt; From version 4.11, JUnit will by default use a deterministic, but not\r\n&gt; predictable, order (MethodSorters.DEFAULT). To change the test\r\n&gt; execution order simply annotate your test class using @FixMethodOrder\r\n&gt; and specify one of the available MethodSorters:\r\n&gt; \r\n&gt; `@FixMethodOrder(MethodSorters.JVM)`: Leaves the test methods in the\r\n&gt; order returned by the JVM. This order may vary from run to run.\r\n&gt; \r\n&gt; `@FixMethodOrder(MethodSorters.NAME_ASCENDING)`: Sorts the test methods\r\n&gt; by method name, in lexicographic order.\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Test-execution-order\r\nYou could use `MethodSorters.NAME_ASCENDING` and change your method names to match with your specific order. I know you&#39;re using this just for debugging sake but it&#39;s a **Test Smell** to rely on your test methods execution order and JUnit does not provide more finer grain control over test methods execution order","title":"How do I define an order to run junit tests in Intellij?","body":"<p>According to <a href=\"https://github.com/junit-team/junit/wiki/Test-execution-order\" rel=\"noreferrer\">JUnit's wiki</a>:</p>\n\n<blockquote>\n  <p>By design, JUnit does not specify the execution order of test method\n  invocations. Until now, the methods were simply invoked in the order\n  returned by the reflection API. However, using the JVM order is unwise\n  since the Java platform does not specify any particular order, and in\n  fact JDK 7 returns a more or less random order. Of course,\n  well-written test code would not assume any order, but some do, and a\n  predictable failure is better than a random failure on certain\n  platforms.</p>\n  \n  <p>From version 4.11, JUnit will by default use a deterministic, but not\n  predictable, order (MethodSorters.DEFAULT). To change the test\n  execution order simply annotate your test class using @FixMethodOrder\n  and specify one of the available MethodSorters:</p>\n  \n  <p><code>@FixMethodOrder(MethodSorters.JVM)</code>: Leaves the test methods in the\n  order returned by the JVM. This order may vary from run to run.</p>\n  \n  <p><code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)</code>: Sorts the test methods\n  by method name, in lexicographic order.</p>\n</blockquote>\n\n<p>You could use <code>MethodSorters.NAME_ASCENDING</code> and change your method names to match with your specific order. I know you're using this just for debugging sake but it's a <strong>Test Smell</strong> to rely on your test methods execution order and JUnit does not provide more finer grain control over test methods execution order</p>\n"},{"tags":[],"owner":{"account_id":1146152,"reputation":76,"user_id":1128853,"display_name":"pdmoore"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450983075,"creation_date":1450983075,"answer_id":34456812,"question_id":34456739,"body_markdown":"Unit tests ought to be independent so most frameworks don&#39;t guarantee or enforce the order in which they are run. But since you want to enforce an order the easiest way I&#39;ve done it in the past it to create a &quot;throw away&quot; test suite or test method that calls the tests in whatever order I want them to run in. Unit tests are methods, just call them. This is easy to do if you&#39;re dealing with tens of tests, not at all appealing if you&#39;re dealing with hundreds or thousands.\r\n\r\nTry to isolate the flaky interaction as much as possible, then swap around the order of the poorly interacting tests within the throwaway calling method.","title":"How do I define an order to run junit tests in Intellij?","body":"<p>Unit tests ought to be independent so most frameworks don't guarantee or enforce the order in which they are run. But since you want to enforce an order the easiest way I've done it in the past it to create a \"throw away\" test suite or test method that calls the tests in whatever order I want them to run in. Unit tests are methods, just call them. This is easy to do if you're dealing with tens of tests, not at all appealing if you're dealing with hundreds or thousands.</p>\n\n<p>Try to isolate the flaky interaction as much as possible, then swap around the order of the poorly interacting tests within the throwaway calling method.</p>\n"},{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":3,"creation_date":1482257602,"post_id":41198659,"comment_id":69697531,"body_markdown":"This doesn&#39;t help this scenario because this problem spans multiple classes.","body":"This doesn&#39;t help this scenario because this problem spans multiple classes."},{"owner":{"account_id":5321212,"reputation":3024,"user_id":4244605,"accept_rate":62,"display_name":"t0m"},"score":0,"creation_date":1572272465,"post_id":41198659,"comment_id":103498220,"body_markdown":"Naming t1, t2, ... working only up to t9. Naming t01, t02, ... working up to t99.","body":"Naming t1, t2, ... working only up to t9. Naming t01, t02, ... working up to t99."}],"tags":[],"owner":{"account_id":5945432,"reputation":1547,"user_id":4675067,"accept_rate":94,"display_name":"Abish R"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1481978418,"creation_date":1481978418,"answer_id":41198659,"question_id":34456739,"body_markdown":"As said by Ali Dehghani, You can order the test method execution by \r\n\r\n&gt; @FixMethodOrder(MethodSorters.NAME_ASCENDING): Sorts the test methods\r\n&gt; by method name, in lexicographic order.\r\n\r\n**Code:**\r\n\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class ApplicationTest extends ActivityInstrumentationTestCase2&lt;MainActivity&gt; {\r\n\r\n        public ApplicationTest() {\r\n            super(MainActivity.class);\r\n        }\r\n\r\n        @Rule\r\n        public ActivityTestRule&lt;MainActivity&gt; mActivityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class);\r\n\r\n        @Test\r\n        void t1AttachUI(){\r\n            // testing code goes here\r\n        }\r\n\r\n        @Test\r\n        void t2InitializeViews(){\r\n            // testing code goes here\r\n        };\r\n\r\n        @Test\r\n        void t3SettingValues(){\r\n            // testing code goes here\r\n        };\r\n\r\n        @Test\r\n        void t4Validation(){\r\n            // testing code goes here\r\n        };\r\n\r\n        @Test\r\n        void t3AfterButtonPress(){\r\n            // testing code goes here\r\n        };\r\n    }","title":"How do I define an order to run junit tests in Intellij?","body":"<p>As said by Ali Dehghani, You can order the test method execution by </p>\n\n<blockquote>\n  <p>@FixMethodOrder(MethodSorters.NAME_ASCENDING): Sorts the test methods\n  by method name, in lexicographic order.</p>\n</blockquote>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class ApplicationTest extends ActivityInstrumentationTestCase2&lt;MainActivity&gt; {\n\n    public ApplicationTest() {\n        super(MainActivity.class);\n    }\n\n    @Rule\n    public ActivityTestRule&lt;MainActivity&gt; mActivityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class);\n\n    @Test\n    void t1AttachUI(){\n        // testing code goes here\n    }\n\n    @Test\n    void t2InitializeViews(){\n        // testing code goes here\n    };\n\n    @Test\n    void t3SettingValues(){\n        // testing code goes here\n    };\n\n    @Test\n    void t4Validation(){\n        // testing code goes here\n    };\n\n    @Test\n    void t3AfterButtonPress(){\n        // testing code goes here\n    };\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1696358929,"post_id":77217800,"comment_id":136141910,"body_markdown":"This doesn&#39;t help this scenario because this problem spans multiple classes.","body":"This doesn&#39;t help this scenario because this problem spans multiple classes."},{"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"score":0,"creation_date":1696411887,"post_id":77217800,"comment_id":136148223,"body_markdown":"@DanielKaplan i am updated answer, thanks","body":"@DanielKaplan i am updated answer, thanks"},{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1696456935,"post_id":77217800,"comment_id":136157157,"body_markdown":"Thanks. That looks promising. Can you include an example of using the `MyOrderer` in two separate test classes?","body":"Thanks. That looks promising. Can you include an example of using the <code>MyOrderer</code> in two separate test classes?"}],"tags":[],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696411817,"creation_date":1696272327,"answer_id":77217800,"question_id":34456739,"body_markdown":"In *JUnit 5* (from version [5.8.0][1] onwards) test classes can be ordered too.\r\n\r\n*src/test/resources/**junit-platform.properties**:*\r\n\r\n```properties\r\n# ClassOrderer$OrderAnnotation sorts classes based on their @Order annotation\r\njunit.jupiter.testclass.order.default=org.junit.jupiter.api.ClassOrderer$OrderAnnotation\r\n```\r\n\r\nOther Junit built-in class orderer implementations:\r\n```\r\norg.junit.jupiter.api.ClassOrderer$ClassName\r\norg.junit.jupiter.api.ClassOrderer$DisplayName\r\norg.junit.jupiter.api.ClassOrderer$Random\r\n```\r\n\r\n\r\nYou can also provide your own orderer. It must implement ClassOrderer interface:\r\n\r\n```\r\npackage foo;\r\npublic class MyOrderer implements ClassOrderer {\r\n    @Override\r\n    public void orderClasses(ClassOrdererContext context) {\r\n        Collections.shuffle(context.getClassDescriptors());\r\n    }\r\n}\r\n```\r\n\r\n```\r\njunit.jupiter.testclass.order.default=foo.MyOrderer\r\n```\r\n\r\n**Note that `@Nested` test classes cannot be ordered by a `ClassOrderer`.**\r\n\r\nRefer to JUnit 5 [documentations][2] and ClassOrderer [API docs][3] to learn more about this.\r\n\r\nsource: https://stackoverflow.com/questions/57624495/junit-test-class-order\r\n\r\nI recommend paying attention: https://stackoverflow.com/a/68269239/10663941\r\n\r\nmethod order: https://www.baeldung.com/junit-5-test-order (because I got here in search of an answer)\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.8.0/release-notes/\r\n  [2]: https://junit.org/junit5/docs/snapshot/user-guide/index.html#writing-tests-test-execution-order\r\n  [3]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html","title":"How do I define an order to run junit tests in Intellij?","body":"<p>In <em>JUnit 5</em> (from version <a href=\"https://junit.org/junit5/docs/5.8.0/release-notes/\" rel=\"nofollow noreferrer\">5.8.0</a> onwards) test classes can be ordered too.</p>\n<p><em>src/test/resources/<strong>junit-platform.properties</strong>:</em></p>\n<pre><code># ClassOrderer$OrderAnnotation sorts classes based on their @Order annotation\njunit.jupiter.testclass.order.default=org.junit.jupiter.api.ClassOrderer$OrderAnnotation\n</code></pre>\n<p>Other Junit built-in class orderer implementations:</p>\n<pre><code>org.junit.jupiter.api.ClassOrderer$ClassName\norg.junit.jupiter.api.ClassOrderer$DisplayName\norg.junit.jupiter.api.ClassOrderer$Random\n</code></pre>\n<p>You can also provide your own orderer. It must implement ClassOrderer interface:</p>\n<pre><code>package foo;\npublic class MyOrderer implements ClassOrderer {\n    @Override\n    public void orderClasses(ClassOrdererContext context) {\n        Collections.shuffle(context.getClassDescriptors());\n    }\n}\n</code></pre>\n<pre><code>junit.jupiter.testclass.order.default=foo.MyOrderer\n</code></pre>\n<p><strong>Note that <code>@Nested</code> test classes cannot be ordered by a <code>ClassOrderer</code>.</strong></p>\n<p>Refer to JUnit 5 <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/index.html#writing-tests-test-execution-order\" rel=\"nofollow noreferrer\">documentations</a> and ClassOrderer <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html\" rel=\"nofollow noreferrer\">API docs</a> to learn more about this.</p>\n<p>source: <a href=\"https://stackoverflow.com/questions/57624495/junit-test-class-order\">JUnit test class order</a></p>\n<p>I recommend paying attention: <a href=\"https://stackoverflow.com/a/68269239/10663941\">https://stackoverflow.com/a/68269239/10663941</a></p>\n<p>method order: <a href=\"https://www.baeldung.com/junit-5-test-order\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-5-test-order</a> (because I got here in search of an answer)</p>\n"}],"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29235,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1696411817,"creation_date":1450982534,"question_id":34456739,"body_markdown":"I have a flaky junit test that only fails if I run all my tests.  I think that one test is causing another test to fail, I want to prove it before I try to fix it.\r\n\r\nIf I run all tests, it runs the &quot;test pollution test&quot; then it runs the &quot;test that fails after test pollution&quot;.  It also runs a lot of irrelevant, slow tests in between.  But if I use a pattern to only run these two, it runs &quot;test that fails after test pollution&quot; then &quot;test pollution test&quot;.  As a result, both pass.  \r\n\r\nHow do I only run &quot;test pollution test&quot; and &quot;test that fails after test pollution&quot;, in that order?\r\n\r\nNote: These tests are in separate classes.","title":"How do I define an order to run junit tests in Intellij?","body":"<p>I have a flaky junit test that only fails if I run all my tests.  I think that one test is causing another test to fail, I want to prove it before I try to fix it.</p>\n<p>If I run all tests, it runs the &quot;test pollution test&quot; then it runs the &quot;test that fails after test pollution&quot;.  It also runs a lot of irrelevant, slow tests in between.  But if I use a pattern to only run these two, it runs &quot;test that fails after test pollution&quot; then &quot;test pollution test&quot;.  As a result, both pass.</p>\n<p>How do I only run &quot;test pollution test&quot; and &quot;test that fails after test pollution&quot;, in that order?</p>\n<p>Note: These tests are in separate classes.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1696342372,"post_id":77220334,"comment_id":136138594,"body_markdown":"Can you show the code where you get it? `PageFactory` just provides a wrapper for the field. Each time you access it it performs lookup from scratch. So there cannot be stale elements.","body":"Can you show the code where you get it? <code>PageFactory</code> just provides a wrapper for the field. Each time you access it it performs lookup from scratch. So there cannot be stale elements."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1696351505,"post_id":77220334,"comment_id":136140536,"body_markdown":"@AlexeyR. `Each time you access it it performs lookup from scratch. So there cannot be stale elements.` That is not true. The first time it looks up an element, it looks it up from scratch. Each time after that when the variable is referenced, it uses the existing reference which can easily cause stale elements. This is a major and well documented problem with PageFactory.","body":"@AlexeyR. <code>Each time you access it it performs lookup from scratch. So there cannot be stale elements.</code> That is not true. The first time it looks up an element, it looks it up from scratch. Each time after that when the variable is referenced, it uses the existing reference which can easily cause stale elements. This is a major and well documented problem with PageFactory."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696388297,"post_id":77220334,"comment_id":136145025,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1696402063,"post_id":77220334,"comment_id":136146332,"body_markdown":"@JeffC can you provide any link to that well-documented problem? I&#39;ve always been thinking that the default behavior is to re-lookup unless you apply `@CacheLookup` annotation.","body":"@JeffC can you provide any link to that well-documented problem? I&#39;ve always been thinking that the default behavior is to re-lookup unless you apply <code>@CacheLookup</code> annotation."},{"owner":{"account_id":27159796,"reputation":13,"user_id":20698038,"display_name":"PleasePlease"},"score":0,"creation_date":1696411860,"post_id":77220334,"comment_id":136148216,"body_markdown":"@AlexeyR.  Added one of the reusable components in the question.","body":"@AlexeyR.  Added one of the reusable components in the question."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1696428623,"post_id":77220334,"comment_id":136151853,"body_markdown":"@AlexeyR. I don&#39;t have any links handy but I&#39;m sure some googling will produce some results. What I have is my personal experience years ago running into it on a regular basis before I abandoned PageFactory and also the volume of questions here on SO asking this very same question. Also, I went to SeleniumConf a few years ago and Simon Stewart, the Selenium Project Director, said in his keynote to NOT use PageFactory, at all... https://youtu.be/gyfUpOysIF8?si=vZQGE0b5gMQXp5hw&amp;t=1518.","body":"@AlexeyR. I don&#39;t have any links handy but I&#39;m sure some googling will produce some results. What I have is my personal experience years ago running into it on a regular basis before I abandoned PageFactory and also the volume of questions here on SO asking this very same question. Also, I went to SeleniumConf a few years ago and Simon Stewart, the Selenium Project Director, said in his keynote to NOT use PageFactory, at all... <a href=\"https://youtu.be/gyfUpOysIF8?si=vZQGE0b5gMQXp5hw&amp;t=1518\" rel=\"nofollow noreferrer\">youtu.be/gyfUpOysIF8?si=vZQGE0b5gMQXp5hw&amp;t=1518</a>."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1696430164,"post_id":77220334,"comment_id":136152252,"body_markdown":"@PleasePlease so I am not sure where exactly is `PageFactory` involved in your code example..","body":"@PleasePlease so I am not sure where exactly is <code>PageFactory</code> involved in your code example.."}],"answers":[{"comments":[{"owner":{"account_id":27159796,"reputation":13,"user_id":20698038,"display_name":"PleasePlease"},"score":0,"creation_date":1696411944,"post_id":77224208,"comment_id":136148234,"body_markdown":"Yup, I am also looking to switch to By locator due to this pathetic StaleElementReferenceException","body":"Yup, I am also looking to switch to By locator due to this pathetic StaleElementReferenceException"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1696446565,"post_id":77224208,"comment_id":136155553,"body_markdown":"@PleasePlease If this or any other answer was useful please upvote it. Once you find the answer to your question, please [mark it as accepted](https://stackoverflow.com/help/someone-answers) so the question isn&#39;t left unanswered.","body":"@PleasePlease If this or any other answer was useful please upvote it. Once you find the answer to your question, please <a href=\"https://stackoverflow.com/help/someone-answers\">mark it as accepted</a> so the question isn&#39;t left unanswered."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696352304,"creation_date":1696352304,"answer_id":77224208,"question_id":77220334,"body_markdown":"I recommend you abandon PageFactory for the page object model using locators defined in the page object using `By`. Then in your methods, fetch the element fresh each time using the defined locator.\r\n\r\nA simple example of a login page page object would be...\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    public class LoginPage {\r\n        WebDriver driver;\r\n        private final By usernameLocator = By.id(&quot;username&quot;);\r\n        private final By passwordLocator = By.id(&quot;password&quot;);\r\n        private final By submitButtonLocator = By.cssSelector(&quot;button[type=&#39;submit&#39;]&quot;);\r\n\r\n        public LoginPage(WebDriver driver) {\r\n            this.driver = driver;\r\n        }\r\n\r\n        public void login(String username, String password) {\r\n            driver.findElement(usernameLocator).sendKeys(username);\r\n            driver.findElement(passwordLocator).sendKeys(password);\r\n            driver.findElement(submitButtonLocator).click();\r\n        }\r\n    }\r\n\r\nYou would call it like\r\n\r\n    String username = &quot;username&quot;;\r\n    String password = &quot;password&quot;;\r\n    ...\r\n    LoginPage loginPage = new LoginPage(driver);\r\n    loginPage.login(username, password);","title":"StaleElementReferenceException in PageFactory in Selenium","body":"<p>I recommend you abandon PageFactory for the page object model using locators defined in the page object using <code>By</code>. Then in your methods, fetch the element fresh each time using the defined locator.</p>\n<p>A simple example of a login page page object would be...</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\npublic class LoginPage {\n    WebDriver driver;\n    private final By usernameLocator = By.id(&quot;username&quot;);\n    private final By passwordLocator = By.id(&quot;password&quot;);\n    private final By submitButtonLocator = By.cssSelector(&quot;button[type='submit']&quot;);\n\n    public LoginPage(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    public void login(String username, String password) {\n        driver.findElement(usernameLocator).sendKeys(username);\n        driver.findElement(passwordLocator).sendKeys(password);\n        driver.findElement(submitButtonLocator).click();\n    }\n}\n</code></pre>\n<p>You would call it like</p>\n<pre><code>String username = &quot;username&quot;;\nString password = &quot;password&quot;;\n...\nLoginPage loginPage = new LoginPage(driver);\nloginPage.login(username, password);\n</code></pre>\n"}],"owner":{"account_id":27159796,"reputation":13,"user_id":20698038,"display_name":"PleasePlease"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77224208,"answer_count":1,"score":0,"last_activity_date":1696411766,"creation_date":1696317451,"question_id":77220334,"body_markdown":"I am trying to interact with an element before or after updating it. When I try to interact with an element after updating it, I am getting StaleElementReferenceException.\r\n\r\n\r\n**Note:-** My simple question is whether we can handle StaleElementReferenceException which is occurred when previous reference of WebElement is deleted permanently. \r\n          If it is not possible, I will consider using **By locator instead of WebElement using @FindBy**. \r\n\r\n\r\n\r\nI have tried to handle StaleElementReferenceException using retry mechanism, but still in vain. I have even tried to reinitialize all the elements in that corresponding page, but still in vain. I have recently created my framework with PageFactory. \r\n\r\nCan someone please let me know how to handle this situation? \r\n\r\nI heard that we cannot handle StaleElementReferenceException in PageFactory. Many people are suggesting to go using **By locator instead of WebElement using @FindBy**. \r\n\r\n\r\n\r\nOne of reusable component:-\r\n\r\n        public void click(WebElement element, int timeout) {\r\n\t\tint attempts = 0;\r\n\t\twhile (attempts &lt; 10) {\r\n\t\t\ttry {\r\n\t\t\t\twaitUntilElementIsClickable(element, timeout);\r\n\t\t\t\tmoveToElement(element, timeout);\r\n\t\t\t\telement.click();\r\n\t\t\t\tbreak;\r\n\t\t\t} catch (ElementClickInterceptedException e) {\r\n\t\t\t\tlog.info(&quot;Reperforming click operation since \r\n               ElementClickInterceptedException is occured&quot;);\r\n\t\t\t\tif (attempts == 9) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tthrow new ElementClickInterceptedException(\r\n\t\t\t\t\t\t\t&quot;Retried clicking 10 times, hence \r\n       throwing this exception&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (StaleElementReferenceException e) {\r\n\t\t\t\tlog.info(&quot;Reperforming click operation since \r\n         StaleElementReferenceException is occured&quot;);\r\n\t\t\t\tif (attempts == 9) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tthrow new ElementNotInteractableException(\r\n\t\t\t\t\t\t\t&quot;Retried clicking 10 times, hence \r\n       throwing this exception&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tattempts++;\r\n\t\t}\r\n\t}","title":"StaleElementReferenceException in PageFactory in Selenium","body":"<p>I am trying to interact with an element before or after updating it. When I try to interact with an element after updating it, I am getting StaleElementReferenceException.</p>\n<p><strong>Note:-</strong> My simple question is whether we can handle StaleElementReferenceException which is occurred when previous reference of WebElement is deleted permanently.\nIf it is not possible, I will consider using <strong>By locator instead of WebElement using @FindBy</strong>.</p>\n<p>I have tried to handle StaleElementReferenceException using retry mechanism, but still in vain. I have even tried to reinitialize all the elements in that corresponding page, but still in vain. I have recently created my framework with PageFactory.</p>\n<p>Can someone please let me know how to handle this situation?</p>\n<p>I heard that we cannot handle StaleElementReferenceException in PageFactory. Many people are suggesting to go using <strong>By locator instead of WebElement using @FindBy</strong>.</p>\n<p>One of reusable component:-</p>\n<pre><code>    public void click(WebElement element, int timeout) {\n    int attempts = 0;\n    while (attempts &lt; 10) {\n        try {\n            waitUntilElementIsClickable(element, timeout);\n            moveToElement(element, timeout);\n            element.click();\n            break;\n        } catch (ElementClickInterceptedException e) {\n            log.info(&quot;Reperforming click operation since \n           ElementClickInterceptedException is occured&quot;);\n            if (attempts == 9) {\n                e.printStackTrace();\n                throw new ElementClickInterceptedException(\n                        &quot;Retried clicking 10 times, hence \n   throwing this exception&quot;);\n            }\n\n        } catch (StaleElementReferenceException e) {\n            log.info(&quot;Reperforming click operation since \n     StaleElementReferenceException is occured&quot;);\n            if (attempts == 9) {\n                e.printStackTrace();\n                throw new ElementNotInteractableException(\n                        &quot;Retried clicking 10 times, hence \n   throwing this exception&quot;);\n            }\n        }\n        attempts++;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc","payara"],"owner":{"account_id":18727226,"reputation":1,"user_id":13653558,"display_name":"Sebastian Franke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696411741,"answer_count":0,"score":0,"last_activity_date":1696411756,"creation_date":1696339449,"question_id":77222670,"body_markdown":"I have a Payara 6.2023.7 server and deploy a Java project on intellij on this server. I want to access my MySQL database via this webservlet:\r\n\r\n```\r\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\r\npublic class HelloServlet extends HttpServlet {\r\n    private String message;\r\n    @Resource(lookup = &quot;jdbc/mysql&quot;)//&quot;java:global/my-pool&quot;)\r\n    DataSource ds;\r\n    public void init() {\r\n        message = &quot;Hello World!&quot;;\r\n    }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n\r\n        // Hello\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n        String username = &quot;new_user&quot;;\r\n        String password = &quot;Password123!&quot;;\r\n\r\n        try (Connection conn = ds.getConnection();\r\n             PreparedStatement stmt = conn.prepareStatement(&quot;Select * from persons&quot;); ) {\r\n            out.println(&quot;Executed MySQL statement and got &quot; + stmt.execute());\r\n        }\r\n        catch (SQLException ex) {\r\n            Logger.getLogger(HelloServlet.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n\r\nI have a  [connection pool](https://i.stack.imgur.com/9JfDp.png)([connection pool details](https://i.stack.imgur.com/jQ8hB.png)) with an associated [jndi ](https://i.stack.imgur.com/MErBe.png).\r\n\r\nWhen I call my webservlet, I get this error: \r\n\r\n&gt; The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n&gt; \tat com.sun.enterprise.resource.pool.datastructure.RWLockDataStructure.addResource(RWLockDataStructure.java:108)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.addResource(ConnectionPool.java:288)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.createResourceAndAddToPool(ConnectionPool.java:1532)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.createResources(ConnectionPool.java:957)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.initPool(ConnectionPool.java:236)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.internalGetResource(ConnectionPool.java:527)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.getResource(ConnectionPool.java:388)\r\n&gt; \tat com.sun.enterprise.resource.pool.PoolManagerImpl.getResourceFromPool(PoolManagerImpl.java:244)\r\n&gt; \tat com.sun.enterprise.resource.pool.PoolManagerImpl.getResource(PoolManagerImpl.java:171)\r\n&gt; \tat com.sun.enterprise.connectors.ConnectionManagerImpl.getResource(ConnectionManagerImpl.java:360)\r\n&gt; \tat com.sun.enterprise.connectors.ConnectionManagerImpl.internalGetConnection(ConnectionManagerImpl.java:307)\r\n&gt; 34 more\r\n&gt; Caused by: com.sun.appserv.connectors.internal.api.PoolingException: Connection could not be allocated because: Communications link failure\r\n\r\nWhere am I going wrong?  I tried reinstalling payara, mysql and creating a new project in intellij.","title":"connection problem when connecting a mysql database to a webservlet on a payara server","body":"<p>I have a Payara 6.2023.7 server and deploy a Java project on intellij on this server. I want to access my MySQL database via this webservlet:</p>\n<pre><code>@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\npublic class HelloServlet extends HttpServlet {\n    private String message;\n    @Resource(lookup = &quot;jdbc/mysql&quot;)//&quot;java:global/my-pool&quot;)\n    DataSource ds;\n    public void init() {\n        message = &quot;Hello World!&quot;;\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;\n        String username = &quot;new_user&quot;;\n        String password = &quot;Password123!&quot;;\n\n        try (Connection conn = ds.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(&quot;Select * from persons&quot;); ) {\n            out.println(&quot;Executed MySQL statement and got &quot; + stmt.execute());\n        }\n        catch (SQLException ex) {\n            Logger.getLogger(HelloServlet.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>I have a  <a href=\"https://i.stack.imgur.com/9JfDp.png\" rel=\"nofollow noreferrer\">connection pool</a>(<a href=\"https://i.stack.imgur.com/jQ8hB.png\" rel=\"nofollow noreferrer\">connection pool details</a>) with an associated <a href=\"https://i.stack.imgur.com/MErBe.png\" rel=\"nofollow noreferrer\">jndi </a>.</p>\n<p>When I call my webservlet, I get this error:</p>\n<blockquote>\n<p>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat com.sun.enterprise.resource.pool.datastructure.RWLockDataStructure.addResource(RWLockDataStructure.java:108)\nat com.sun.enterprise.resource.pool.ConnectionPool.addResource(ConnectionPool.java:288)\nat com.sun.enterprise.resource.pool.ConnectionPool.createResourceAndAddToPool(ConnectionPool.java:1532)\nat com.sun.enterprise.resource.pool.ConnectionPool.createResources(ConnectionPool.java:957)\nat com.sun.enterprise.resource.pool.ConnectionPool.initPool(ConnectionPool.java:236)\nat com.sun.enterprise.resource.pool.ConnectionPool.internalGetResource(ConnectionPool.java:527)\nat com.sun.enterprise.resource.pool.ConnectionPool.getResource(ConnectionPool.java:388)\nat com.sun.enterprise.resource.pool.PoolManagerImpl.getResourceFromPool(PoolManagerImpl.java:244)\nat com.sun.enterprise.resource.pool.PoolManagerImpl.getResource(PoolManagerImpl.java:171)\nat com.sun.enterprise.connectors.ConnectionManagerImpl.getResource(ConnectionManagerImpl.java:360)\nat com.sun.enterprise.connectors.ConnectionManagerImpl.internalGetConnection(ConnectionManagerImpl.java:307)\n34 more\nCaused by: com.sun.appserv.connectors.internal.api.PoolingException: Connection could not be allocated because: Communications link failure</p>\n</blockquote>\n<p>Where am I going wrong?  I tried reinstalling payara, mysql and creating a new project in intellij.</p>\n"},{"tags":["java","datetime","interface","jodatime"],"answers":[{"comments":[{"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"score":8,"creation_date":1376676444,"post_id":2658607,"comment_id":26814360,"body_markdown":"DateMidnight was a bad idea and is now deprecated","body":"DateMidnight was a bad idea and is now deprecated"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1429161208,"post_id":2658607,"comment_id":47470607,"body_markdown":"Instead of the `midnight`-related classes and methods (all deprecated), see the new method [`DateTime::withTimeAtStartOfDay`](http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay--).","body":"Instead of the <code>midnight</code>-related classes and methods (all deprecated), see the new method <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay--\" rel=\"nofollow noreferrer\"><code>DateTime::withTimeAtStartOfDay</code></a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1429161627,"post_id":2658607,"comment_id":47470745,"body_markdown":"@NickSiderakis That method [`DateTime::withTimeAtStartOfDay`](http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay--) usually means the time `00:00:00.000`. But not always because of Daylight Saving Time and possibly other anomalies.","body":"@NickSiderakis That method <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay--\" rel=\"nofollow noreferrer\"><code>DateTime::withTimeAtStartOfDay</code></a> usually means the time <code>00:00:00.000</code>. But not always because of Daylight Saving Time and possibly other anomalies."},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1514677929,"post_id":2658607,"comment_id":83048061,"body_markdown":"I always found flight status illustrates use of both `LocalDateTime` and `DateTime` quite nicely. When you look for a flight on Google, say [BA005](https://www.google.de/search?q=BA005) (LHR-NRT), it will give you local times for departure and arrival: 13:50, and 10:35 the next day, respectively - but the flight doesn&#39;t take 20h45, because [10:35 Tokyo time in GMT](https://www.google.de/search?q=10%3A35+tokyo+time+in+gmt) is actually 01:35 GMT (the next day). The trip thus takes 11h45. Internally, the flight status might use `DateTime` (zoned), but it might only expose the `LocalDateTime`...","body":"I always found flight status illustrates use of both <code>LocalDateTime</code> and <code>DateTime</code> quite nicely. When you look for a flight on Google, say <a href=\"https://www.google.de/search?q=BA005\" rel=\"nofollow noreferrer\">BA005</a> (LHR-NRT), it will give you local times for departure and arrival: 13:50, and 10:35 the next day, respectively - but the flight doesn&#39;t take 20h45, because <a href=\"https://www.google.de/search?q=10%3A35+tokyo+time+in+gmt\" rel=\"nofollow noreferrer\">10:35 Tokyo time in GMT</a> is actually 01:35 GMT (the next day). The trip thus takes 11h45. Internally, the flight status might use <code>DateTime</code> (zoned), but it might only expose the <code>LocalDateTime</code>..."}],"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"comment_count":4,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1696411717,"creation_date":1271513306,"answer_id":2658607,"question_id":2538448,"body_markdown":"&gt; I see advantages in having almost all\r\n&gt; the Interfaces using LocalDateTime (at\r\n&gt; the Service Layer at least) so that my\r\n&gt; Application doesn&#39;t have to manage\r\n&gt; Timezones and can safely assume Times always in UTC. \r\n\r\nI&#39;m not sure I understand your line of thinking here. `LocalDateTime` and `DateTime` represent two quite different concepts. It&#39;s not the case that a `LocalDateTime` has some implicit UTC timezone: it actually has _no_ timezone (internally it may be represented as a `DateTime` with UTC timezone, but it&#39;s just an implementation detail, it does not matter to the programmer who uses it). \r\n\r\n[You can see in the API docs][1] that, while a **`DateTime`** is an &quot;**`Instant`**&quot; (a point in the world time line, a physical concept), a **`LocalDateTime`** is NOT such a thing. The `LocalDateTime` is actually a [**`Partial`**][2], (a &quot;civil&quot; concept), in a different class hierarchy. The class names might -unfortunately- make you think that `LocalDateTime` is some specialization of `DateTime`: well, it isn&#39;t.\r\n\r\nA **`LocalDateTime`** should be regarded as a pair {**`Date`** (`Y/M/D`) ; **`Time`** (`hh:mm:ss.msec`)}, a bunch of numbers which corresponds to the &quot;civil&quot; standard representation of time-related data. If we are given a `LocalDateTime`, we cannot convert it directly to a `DateTime`, we need to specify a timezone; and that conversion takes us to another kind of entity. (An analogy: Strings and byte streams in Java: to convert between them, you must specify a charset encoding, because they are conceptually different things)\r\n\r\nWhen to use one or the other in the application... it&#39;s sometimes arguable, but frequently it&#39;s clear enough once the Jodatime concepts are understood. And IMO is not much related to &quot;layers&quot;, perhaps more to use cases or scenarios.\r\n\r\nA non-trivial -borderline- example: You work at Google, programming the Calendar. You must let the user manage (add, see, modify) an event which includes a date-time (lets ignore recurrent events), say &quot;*I have an appointment with my doctor on 2019-July-3 at 10:00 am*&quot;. What is the time-date entity to use in the software layer (for *this usecase*)? I&#39;d say: a `LocalDateTime`. Because the user is not really dealing with a physical point in time, but with a civil time: the date and time that displays the clock in his wrist or in his home. He does not even think of timezones (lets ignore the special case of a user who is traveling around the world...) Then, in the business and presentation layer, a `LocalDateTime` seems the right entity. \r\n\r\nBut suppose that you must also code a different scenario: a reminder. When the Google internal scheduler detects that the event stored by the user is N minutes in the future from now, it must send him a reminder. Here, &quot;*N minutes from now*&quot; is a totally &quot;physical&quot; concept of time, so here the &quot;business layer&quot; would deal with a `DateTime`. There are several alternatives, for example: the event was stored in the DB as a `LocalDateTime` (ie. just time and date without timezone - one frequently uses a UTC timestamp to represent that, but this is an implementation detail). In this scenario (only in this), we must load it as a `DateTime`, we convert it using a Timezone, probably from the user&#39;s profile.\r\n\r\n  [1]: https://www.joda.org/joda-time/key_instant.html\r\n  [2]: https://www.joda.org/joda-time/key_partial.html","title":"Joda-Time: DateTime, DateMidnight and LocalDate usage","body":"<blockquote>\n<p>I see advantages in having almost all\nthe Interfaces using LocalDateTime (at\nthe Service Layer at least) so that my\nApplication doesn't have to manage\nTimezones and can safely assume Times always in UTC.</p>\n</blockquote>\n<p>I'm not sure I understand your line of thinking here. <code>LocalDateTime</code> and <code>DateTime</code> represent two quite different concepts. It's not the case that a <code>LocalDateTime</code> has some implicit UTC timezone: it actually has <em>no</em> timezone (internally it may be represented as a <code>DateTime</code> with UTC timezone, but it's just an implementation detail, it does not matter to the programmer who uses it).</p>\n<p><a href=\"https://www.joda.org/joda-time/key_instant.html\" rel=\"nofollow noreferrer\">You can see in the API docs</a> that, while a <strong><code>DateTime</code></strong> is an &quot;<strong><code>Instant</code></strong>&quot; (a point in the world time line, a physical concept), a <strong><code>LocalDateTime</code></strong> is NOT such a thing. The <code>LocalDateTime</code> is actually a <a href=\"https://www.joda.org/joda-time/key_partial.html\" rel=\"nofollow noreferrer\"><strong><code>Partial</code></strong></a>, (a &quot;civil&quot; concept), in a different class hierarchy. The class names might -unfortunately- make you think that <code>LocalDateTime</code> is some specialization of <code>DateTime</code>: well, it isn't.</p>\n<p>A <strong><code>LocalDateTime</code></strong> should be regarded as a pair {<strong><code>Date</code></strong> (<code>Y/M/D</code>) ; <strong><code>Time</code></strong> (<code>hh:mm:ss.msec</code>)}, a bunch of numbers which corresponds to the &quot;civil&quot; standard representation of time-related data. If we are given a <code>LocalDateTime</code>, we cannot convert it directly to a <code>DateTime</code>, we need to specify a timezone; and that conversion takes us to another kind of entity. (An analogy: Strings and byte streams in Java: to convert between them, you must specify a charset encoding, because they are conceptually different things)</p>\n<p>When to use one or the other in the application... it's sometimes arguable, but frequently it's clear enough once the Jodatime concepts are understood. And IMO is not much related to &quot;layers&quot;, perhaps more to use cases or scenarios.</p>\n<p>A non-trivial -borderline- example: You work at Google, programming the Calendar. You must let the user manage (add, see, modify) an event which includes a date-time (lets ignore recurrent events), say &quot;<em>I have an appointment with my doctor on 2019-July-3 at 10:00 am</em>&quot;. What is the time-date entity to use in the software layer (for <em>this usecase</em>)? I'd say: a <code>LocalDateTime</code>. Because the user is not really dealing with a physical point in time, but with a civil time: the date and time that displays the clock in his wrist or in his home. He does not even think of timezones (lets ignore the special case of a user who is traveling around the world...) Then, in the business and presentation layer, a <code>LocalDateTime</code> seems the right entity.</p>\n<p>But suppose that you must also code a different scenario: a reminder. When the Google internal scheduler detects that the event stored by the user is N minutes in the future from now, it must send him a reminder. Here, &quot;<em>N minutes from now</em>&quot; is a totally &quot;physical&quot; concept of time, so here the &quot;business layer&quot; would deal with a <code>DateTime</code>. There are several alternatives, for example: the event was stored in the DB as a <code>LocalDateTime</code> (ie. just time and date without timezone - one frequently uses a UTC timestamp to represent that, but this is an implementation detail). In this scenario (only in this), we must load it as a <code>DateTime</code>, we convert it using a Timezone, probably from the user's profile.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514676044,"creation_date":1514675594,"answer_id":48038658,"question_id":2538448,"body_markdown":"The [Answer by leonbloy][1] is correct and vitally important. I am merely translating to the java.time classes that replace the Joda-Time project.\r\n\r\n# java.time\r\n\r\n## Specific moment\r\n\r\nFor a specific moment on the timeline:\r\n\r\n - Always in UTC is represented by [`Instant`][2]. \r\n - Assigned an offset-from-UTC is represented by [`OffsetDateTime`][3].\r\n - Assign a full time zone rather than mere offset is represented by [`ZonedDateTime`][4].\r\n\r\nThese all replace the `Instant` &amp; `DateTime` class in Joda-Time. These java.time classes all have a resolution of [nanoseconds][5] versus the milliseconds used by Joda-Time.\r\n\r\n## Midnight versus Start-of-day\r\n\r\nFor midnight, the Joda-Time project concluded ‚Äúmidnight‚Äù is a vague and unproductive concept. The midnight-related classes and midnights were all deprecated in later versions of Joda-Time, replaced with the practical concept of ‚Äúfirst moment of the day‚Äù. \r\n\r\nThe java.time classes took the same lesson, using a &quot;first moment of the day&quot; approach. Look for `atStartOfDay` methods on java.time classes such as `LocalDate`. \r\n\r\nNever assume a day starts at 00:00. Anomalies such as Daylight Saving Time (DST) mean the day may start at other times such as 01:00.\r\n\r\n    ZonedDateTime zdt = \r\n        LocalDate.of( 2017 , Month.MARCH , 12 )                    // Instantiate a date-only value without time zone.\r\n                 .atStartOfDay( ZoneId.of( &quot;America/Havana&quot; ) ) ;  // Cuba jumps from 00:00 to 01:00 on Spring DST cut-over.\r\n\r\nFor example, see how Cuba starts the day at 1 AM on their Spring DST cut-over.\r\n\r\n&gt;zdt: 2017-03-12T01:00-04:00[America/Havana]\r\n\r\n## Unzoned\r\n\r\nFor representing the vague idea of possible moments over a range of about 26-27 hours but not an actual moment on the timeline, use `LocalDateTime`. This class purposely lacks any offset-from-UTC or time zone.\r\n\r\n    LocalDateTime ldt = LocalDateTime.of( 2017 , Month.JANUARY , 23 , 1 , 2 , 3 , 0 ) ;\r\n\r\nIf your business context implies a specific time zone, you can apply it to get a `ZonedDateTime`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;  // Determine a specific point on timeline by providing the context of a time zone.\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP‚Ä¶*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2658607/642706\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/time/OffsetDateTime.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\r\n  [5]: https://en.wikipedia.org/wiki/Nanosecond","title":"Joda-Time: DateTime, DateMidnight and LocalDate usage","body":"<p>The <a href=\"https://stackoverflow.com/a/2658607/642706\">Answer by leonbloy</a> is correct and vitally important. I am merely translating to the java.time classes that replace the Joda-Time project.</p>\n\n<h1>java.time</h1>\n\n<h2>Specific moment</h2>\n\n<p>For a specific moment on the timeline:</p>\n\n<ul>\n<li>Always in UTC is represented by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. </li>\n<li>Assigned an offset-from-UTC is represented by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</li>\n<li>Assign a full time zone rather than mere offset is represented by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>.</li>\n</ul>\n\n<p>These all replace the <code>Instant</code> &amp; <code>DateTime</code> class in Joda-Time. These java.time classes all have a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a> versus the milliseconds used by Joda-Time.</p>\n\n<h2>Midnight versus Start-of-day</h2>\n\n<p>For midnight, the Joda-Time project concluded ‚Äúmidnight‚Äù is a vague and unproductive concept. The midnight-related classes and midnights were all deprecated in later versions of Joda-Time, replaced with the practical concept of ‚Äúfirst moment of the day‚Äù. </p>\n\n<p>The java.time classes took the same lesson, using a \"first moment of the day\" approach. Look for <code>atStartOfDay</code> methods on java.time classes such as <code>LocalDate</code>. </p>\n\n<p>Never assume a day starts at 00:00. Anomalies such as Daylight Saving Time (DST) mean the day may start at other times such as 01:00.</p>\n\n<pre><code>ZonedDateTime zdt = \n    LocalDate.of( 2017 , Month.MARCH , 12 )                    // Instantiate a date-only value without time zone.\n             .atStartOfDay( ZoneId.of( \"America/Havana\" ) ) ;  // Cuba jumps from 00:00 to 01:00 on Spring DST cut-over.\n</code></pre>\n\n<p>For example, see how Cuba starts the day at 1 AM on their Spring DST cut-over.</p>\n\n<blockquote>\n  <p>zdt: 2017-03-12T01:00-04:00[America/Havana]</p>\n</blockquote>\n\n<h2>Unzoned</h2>\n\n<p>For representing the vague idea of possible moments over a range of about 26-27 hours but not an actual moment on the timeline, use <code>LocalDateTime</code>. This class purposely lacks any offset-from-UTC or time zone.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.of( 2017 , Month.JANUARY , 23 , 1 , 2 , 3 , 0 ) ;\n</code></pre>\n\n<p>If your business context implies a specific time zone, you can apply it to get a <code>ZonedDateTime</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Africa/Tunis\" ) ;\nZonedDateTime zdt = ldt.atZone( z ) ;  // Determine a specific point on timeline by providing the context of a time zone.\n</code></pre>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP‚Ä¶</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22771,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2658607,"answer_count":2,"score":32,"last_activity_date":1696411717,"creation_date":1269871546,"question_id":2538448,"body_markdown":"[Joda-Time][1] library includes different datetime classes\r\n&gt; [DateTime][2] - Immutable replacement\r\n&gt; for JDK Calendar&lt;br&gt; [DateMidnight][3]\r\n&gt; - Immutable class representing a date where the time is forced to\r\n&gt; midnight&lt;br&gt; [LocalDateTime][4] -\r\n&gt; Immutable class representing a local\r\n&gt; date and time (no time zone)&lt;br&gt;\r\n\r\nI&#39;m wondering how are you using these classes in your *Layered Applications*.\r\n \r\nI see advantages in having almost all the Interfaces using LocalDateTime (at the Service Layer at least) so that my Application doesn&#39;t have to manage Timezones and can safely assume Times always in UTC. My app could then use DateTime to manage Timezones at the very beginning of the Execution&#39;s Flow.\r\n\r\nI&#39;m also wondering in which scenario can DateMidnight be useful.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [3]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html\r\n  [4]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDateTime.html","title":"Joda-Time: DateTime, DateMidnight and LocalDate usage","body":"<p><a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library includes different datetime classes</p>\n\n<blockquote>\n  <p><a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\">DateTime</a> - Immutable replacement\n  for JDK Calendar<br> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html\" rel=\"noreferrer\">DateMidnight</a>\n  - Immutable class representing a date where the time is forced to\n  midnight<br> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDateTime.html\" rel=\"noreferrer\">LocalDateTime</a> -\n  Immutable class representing a local\n  date and time (no time zone)<br></p>\n</blockquote>\n\n<p>I'm wondering how are you using these classes in your <em>Layered Applications</em>.</p>\n\n<p>I see advantages in having almost all the Interfaces using LocalDateTime (at the Service Layer at least) so that my Application doesn't have to manage Timezones and can safely assume Times always in UTC. My app could then use DateTime to manage Timezones at the very beginning of the Execution's Flow.</p>\n\n<p>I'm also wondering in which scenario can DateMidnight be useful.</p>\n"},{"tags":["java","bdd"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1696411593,"post_id":77227347,"comment_id":136148178,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\n[Please do not upload images of code/errors when asking a question.](https://meta.stackoverflow.com/q/285551)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/77227347/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. <a href=\"https://meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"}],"owner":{"account_id":29593975,"reputation":1,"user_id":22680858,"display_name":"Harish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696411566,"creation_date":1696402072,"question_id":77227347,"body_markdown":"Error: \r\n\r\n    java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder\r\n\r\n\r\nActual result:\r\n\r\n    [RemoteTestNG] detected TestNG version 7.4.0\r\n    \r\n    Scenario: Successful login with valid credentials                        # Features/login1.feature:4\r\n      Given User launch chrome browser                                       # stepDefinitions.steps.user_launch_chrome_browser()\r\n        ** ** java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.****\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\r\n    \tat stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\r\n    \tat ‚úΩ.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\r\n    \r\n      When user open URL &quot;http://admin-demo.nopcommerce.com/login&quot;           # stepDefinitions.steps.user_open_url(java.lang.String)\r\n      And user enters email as &quot;admin@yourstore.com&quot; and password as &quot;admin&quot; # stepDefinitions.steps.user_enters_email_as_and_password_as(java.lang.String,java.lang.String)\r\n      And Click on login                                                     # stepDefinitions.steps.click_on_login()\r\n      Then Page title should be &quot;Dashboard / nopCommerce administration&quot;     # stepDefinitions.steps.page_title_should_be(java.lang.String)\r\n      When user click on logout link                                         # stepDefinitions.steps.user_click_on_logout_link()\r\n      Then page title should be &quot;Your store. Login&quot;\r\n      And Close browser                                                      # stepDefinitions.steps.close_browser()\r\n    FAILED: runScenario(&quot;Successful login with valid credentials&quot;, &quot;Login&quot;)\r\n            Runs Cucumber Scenarios\r\n    java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\r\n    \tat stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\r\n    \tat ‚úΩ.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\r\n    \r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 1, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 0, Failures: 1, Skips: 0\r\n    ===============================================\r\n\r\n\r\ntestrun class:\r\n[enter image description here][1]\r\n\r\nsteps class: \r\n[enter image description here][2]\r\nExpected result: \r\n\r\nWeb browser should load and open the provided url......\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yUzuv.png\r\n  [2]: https://i.stack.imgur.com/6iQNo.png","title":"Getting Abstract method error even after providing valid absolute chrome path","body":"<p>Error:</p>\n<pre><code>java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder\n</code></pre>\n<p>Actual result:</p>\n<pre><code>[RemoteTestNG] detected TestNG version 7.4.0\n\nScenario: Successful login with valid credentials                        # Features/login1.feature:4\n  Given User launch chrome browser                                       # stepDefinitions.steps.user_launch_chrome_browser()\n    ** ** java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder.****\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\n    at org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\n    at stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\n    at ‚úΩ.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\n\n  When user open URL &quot;http://admin-demo.nopcommerce.com/login&quot;           # stepDefinitions.steps.user_open_url(java.lang.String)\n  And user enters email as &quot;admin@yourstore.com&quot; and password as &quot;admin&quot; # stepDefinitions.steps.user_enters_email_as_and_password_as(java.lang.String,java.lang.String)\n  And Click on login                                                     # stepDefinitions.steps.click_on_login()\n  Then Page title should be &quot;Dashboard / nopCommerce administration&quot;     # stepDefinitions.steps.page_title_should_be(java.lang.String)\n  When user click on logout link                                         # stepDefinitions.steps.user_click_on_logout_link()\n  Then page title should be &quot;Your store. Login&quot;\n  And Close browser                                                      # stepDefinitions.steps.close_browser()\nFAILED: runScenario(&quot;Successful login with valid credentials&quot;, &quot;Login&quot;)\n        Runs Cucumber Scenarios\njava.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\n    at org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\n    at stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\n    at ‚úΩ.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\n\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 1, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 0, Failures: 1, Skips: 0\n===============================================\n</code></pre>\n<p>testrun class:\n<a href=\"https://i.stack.imgur.com/yUzuv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>steps class:\n<a href=\"https://i.stack.imgur.com/6iQNo.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nExpected result:</p>\n<p>Web browser should load and open the provided url......</p>\n"},{"tags":["java","optimization","apache-commons-math"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696413107,"post_id":77228300,"comment_id":136148547,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29594885,"reputation":1,"user_id":22681583,"display_name":"NotARobot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696411246,"creation_date":1696411246,"question_id":77228300,"body_markdown":"I am trying to solve a 2 dimensional optimization problem using [BOBYQA](https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/optim/nonlinear/scalar/noderiv/BOBYQAOptimizer.html) Optimization Java library provided by Apache Math. If I understood correctly, the only termination/convergence criteria in BOBYQA Java library is the minimum trust region radius. As for the Python implementation of [BOBYQA](https://numericalalgorithmsgroup.github.io/pybobyqa/build/html/index.html), one can terminate the optimization based on the objective function value as well.\r\n\r\nI can see that in Java, optimization still keeps on running even though the value of the objective function is acceptable. I want to terminate the optimization when the value of objective function is lower than the acceptable value. Is there a way in Java implementation of BOBYQA to terminate the optimization based on the objective function value?","title":"Java Apache BOBYQA optimization termination criteria","body":"<p>I am trying to solve a 2 dimensional optimization problem using <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/optim/nonlinear/scalar/noderiv/BOBYQAOptimizer.html\" rel=\"nofollow noreferrer\">BOBYQA</a> Optimization Java library provided by Apache Math. If I understood correctly, the only termination/convergence criteria in BOBYQA Java library is the minimum trust region radius. As for the Python implementation of <a href=\"https://numericalalgorithmsgroup.github.io/pybobyqa/build/html/index.html\" rel=\"nofollow noreferrer\">BOBYQA</a>, one can terminate the optimization based on the objective function value as well.</p>\n<p>I can see that in Java, optimization still keeps on running even though the value of the objective function is acceptable. I want to terminate the optimization when the value of objective function is lower than the acceptable value. Is there a way in Java implementation of BOBYQA to terminate the optimization based on the objective function value?</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1343578918,"post_id":11665404,"comment_id":15534211,"body_markdown":"I&#39;m not sure I understand why you&#39;d want to do this. The `getMillis` method on all `ReadableInstant` types is independent of the `DateTime`&#39;s time zone, and always returns the number of milliseconds passed since the epoch (midnight Jan 1, 1970, UTC). Are you saying you want the number of milliseconds passed since midnight Jan 1, 1970 in a non-UTC time zone? (e.g. PST, CEST, etc). If so, why would you want this?","body":"I&#39;m not sure I understand why you&#39;d want to do this. The <code>getMillis</code> method on all <code>ReadableInstant</code> types is independent of the <code>DateTime</code>&#39;s time zone, and always returns the number of milliseconds passed since the epoch (midnight Jan 1, 1970, UTC). Are you saying you want the number of milliseconds passed since midnight Jan 1, 1970 in a non-UTC time zone? (e.g. PST, CEST, etc). If so, why would you want this?"},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1343589520,"post_id":11665404,"comment_id":15536570,"body_markdown":"@AndrewMcNamee Yes, that&#39;s the number I want, because that&#39;s how dates are stored in an external database I need to access. Yes, it&#39;s a bad way to store them, but it can&#39;t be changed.","body":"@AndrewMcNamee Yes, that&#39;s the number I want, because that&#39;s how dates are stored in an external database I need to access. Yes, it&#39;s a bad way to store them, but it can&#39;t be changed."},{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1343650593,"post_id":11665404,"comment_id":15550522,"body_markdown":"Ah, fair enough. Yep, definitely less than ideal, but if it can&#39;t be changed, it can&#39;t be changed (just be sure to document it thoroughly ;) ). I have a slightly clearer suggestion. Will write it as an answer in a sec.","body":"Ah, fair enough. Yep, definitely less than ideal, but if it can&#39;t be changed, it can&#39;t be changed (just be sure to document it thoroughly ;) ). I have a slightly clearer suggestion. Will write it as an answer in a sec."}],"answers":[{"tags":[],"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1390972198,"creation_date":1343650811,"answer_id":11721433,"question_id":11665404,"body_markdown":"You can make this a little clearer by storing a constant `LocalDateTime` referring to Jan 1, 1970, and then calculating a `Duration` between that point in time (for a given time zone) and the instant that you care about, like:\r\n\r\n    private static final LocalDateTime JAN_1_1970 = new LocalDateTime(1970, 1, 1, 0, 0);\r\n\r\n    ...\r\n\r\n    new Duration(JAN_1_1970.toDateTime(someTimeZone), endPointInstantOrDateTime).getMillis();","title":"Simplest way to get local milliseconds in a time zone with Joda-Time","body":"<p>You can make this a little clearer by storing a constant <code>LocalDateTime</code> referring to Jan 1, 1970, and then calculating a <code>Duration</code> between that point in time (for a given time zone) and the instant that you care about, like:</p>\n\n<pre><code>private static final LocalDateTime JAN_1_1970 = new LocalDateTime(1970, 1, 1, 0, 0);\n\n...\n\nnew Duration(JAN_1_1970.toDateTime(someTimeZone), endPointInstantOrDateTime).getMillis();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92694,"reputation":11510,"user_id":253938,"accept_rate":81,"display_name":"RenniePet"},"score":1,"creation_date":1425941974,"post_id":27691621,"comment_id":46160172,"body_markdown":"This does not answer the OP&#39;s question, on two counts. First, his question, and the accepted answer by Andrew McNamee, are based on the local time being specified by a DateTime object. Your answer assumes use of a LocalDateTime object as the starting point. Second, the OP&#39;s question and the accepted answer are independent of the system&#39;s time zone, while your answer is dependent on the system&#39;s time zone.","body":"This does not answer the OP&#39;s question, on two counts. First, his question, and the accepted answer by Andrew McNamee, are based on the local time being specified by a DateTime object. Your answer assumes use of a LocalDateTime object as the starting point. Second, the OP&#39;s question and the accepted answer are independent of the system&#39;s time zone, while your answer is dependent on the system&#39;s time zone."},{"owner":{"account_id":92694,"reputation":11510,"user_id":253938,"accept_rate":81,"display_name":"RenniePet"},"score":1,"creation_date":1425941994,"post_id":27691621,"comment_id":46160182,"body_markdown":"For example, for Jan. 2, 1970 at 00:00, the OP and Andrew McNamee get 86400000 millis, and you get 82800000 for my Copenhagen-based system.","body":"For example, for Jan. 2, 1970 at 00:00, the OP and Andrew McNamee get 86400000 millis, and you get 82800000 for my Copenhagen-based system."}],"tags":[],"owner":{"account_id":2428012,"reputation":79,"user_id":2119553,"display_name":"Ethan Lee"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1419867532,"creation_date":1419866948,"answer_id":27691621,"question_id":11665404,"body_markdown":"Use (joda-time-2.3.jar) org.joda.time.LocalDateTime#toDateTime()#getMillis().\r\n\r\n    org.joda.time.format.DateTimeFormatter dtf = org.joda.time.format.DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n    org.joda.time.LocalDateTime ldt = dtf.parseLocalDateTime(&quot;2014-12-25 12:23:34.567&quot;);\r\n    System.out.println(ldt);\r\n\r\n    long delta = ldt.toDateTime().getMillis();\r\n    System.out.println(delta);\r\n\r\n    java.util.Date dt = new java.util.Date(delta);\r\n    System.out.println(dt);\r\n","title":"Simplest way to get local milliseconds in a time zone with Joda-Time","body":"<p>Use (joda-time-2.3.jar) org.joda.time.LocalDateTime#toDateTime()#getMillis().</p>\n\n<pre><code>org.joda.time.format.DateTimeFormatter dtf = org.joda.time.format.DateTimeFormat.forPattern(\"yyyy-MM-dd HH:mm:ss.SSS\");\norg.joda.time.LocalDateTime ldt = dtf.parseLocalDateTime(\"2014-12-25 12:23:34.567\");\nSystem.out.println(ldt);\n\nlong delta = ldt.toDateTime().getMillis();\nSystem.out.println(delta);\n\njava.util.Date dt = new java.util.Date(delta);\nSystem.out.println(dt);\n</code></pre>\n"}],"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40887,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":11721433,"answer_count":2,"score":26,"last_activity_date":1696411213,"creation_date":1343291713,"question_id":11665404,"body_markdown":"Currently, to get milliseconds from start of 1970 in a local time zone, I do\r\n\r\n\tlong localMillis = dateTime.withZone(timeZone).toLocalDateTime()\r\n\t\t.toDateTime(DateTimeZone.UTC).getMillis();\r\n\r\nThis works, but is there a simpler way to do this?","title":"Simplest way to get local milliseconds in a time zone with Joda-Time","body":"<p>Currently, to get milliseconds from start of 1970 in a local time zone, I do</p>\n\n<pre><code>long localMillis = dateTime.withZone(timeZone).toLocalDateTime()\n    .toDateTime(DateTimeZone.UTC).getMillis();\n</code></pre>\n\n<p>This works, but is there a simpler way to do this?</p>\n"},{"tags":["java","mysql","database","maven","tomcat9"],"comments":[{"owner":{"account_id":3419213,"reputation":371,"user_id":2867318,"accept_rate":80,"display_name":"Cryptoharf84"},"score":0,"creation_date":1580936798,"post_id":60084064,"comment_id":106266259,"body_markdown":"If mysql-connector-java-*.jar is not available in the classpath then you cannot connect to the MySQL database ... you probably messed up the hierarchy of dependencies.","body":"If mysql-connector-java-*.jar is not available in the classpath then you cannot connect to the MySQL database ... you probably messed up the hierarchy of dependencies."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1580937453,"post_id":60084064,"comment_id":106266522,"body_markdown":"Sure you&#39;re not running MariaDB?  URL is different.","body":"Sure you&#39;re not running MariaDB?  URL is different."},{"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"score":0,"creation_date":1580937575,"post_id":60084064,"comment_id":106266581,"body_markdown":"How do i tidy that hierarchy up?","body":"How do i tidy that hierarchy up?"},{"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"score":0,"creation_date":1580937604,"post_id":60084064,"comment_id":106266594,"body_markdown":"No, i&#39;m using MySQL and the server runs in the background.","body":"No, i&#39;m using MySQL and the server runs in the background."}],"answers":[{"comments":[{"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"score":0,"creation_date":1580937506,"post_id":60084139,"comment_id":106266546,"body_markdown":"The Class.forName() method doesn&#39;t change anything. Still an error. But this time i also have a java.lang.ClassNotFoundException: com.mysql.jdbc.Driver error.","body":"The Class.forName() method doesn&#39;t change anything. Still an error. But this time i also have a java.lang.ClassNotFoundException: com.mysql.jdbc.Driver error."},{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1580937634,"post_id":60084139,"comment_id":106266609,"body_markdown":"If you have a ClassNotFound instead of SQLException, something is changed! As I wrote you must have a JAR containing the driver implementation in your class path","body":"If you have a ClassNotFound instead of SQLException, something is changed! As I wrote you must have a JAR containing the driver implementation in your class path"},{"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"score":0,"creation_date":1580937685,"post_id":60084139,"comment_id":106266630,"body_markdown":"Do u mean the Java Connector jar-file? This one: mysql-connector-java-8.0.19.jar?","body":"Do u mean the Java Connector jar-file? This one: mysql-connector-java-8.0.19.jar?"},{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1580937814,"post_id":60084139,"comment_id":106266674,"body_markdown":"Yes, I do! You must have mysql-connector-java-8.0.19.jar in the lib of your server","body":"Yes, I do! You must have mysql-connector-java-8.0.19.jar in the lib of your server"},{"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"score":0,"creation_date":1580938021,"post_id":60084139,"comment_id":106266736,"body_markdown":"Now i get this error: java.sql.SQLException: The server time zone value &#39;Mitteleurop?ische Zeit&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the &#39;serverTimezone&#39; configuration property) to use a more specific time zone value. And also this error: org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [Jersey Web Application] in context with path [/gfos-inno-award-2020] threw exception [java.lang.NullPointerException] with root cause java.lang.NullPointerException","body":"Now i get this error: java.sql.SQLException: The server time zone value &#39;Mitteleurop?ische Zeit&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the &#39;serverTimezone&#39; configuration property) to use a more specific time zone value. And also this error: org.apache.catalina.core.StandardWrapperValve invoke SEVERE: Servlet.service() for servlet [Jersey Web Application] in context with path [/gfos-inno-award-2020] threw exception [java.lang.NullPointerException] with root cause java.lang.NullPointerException"},{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1580938097,"post_id":60084139,"comment_id":106266768,"body_markdown":"Take a look at this https://stackoverflow.com/a/27276523/4210091","body":"Take a look at this <a href=\"https://stackoverflow.com/a/27276523/4210091\">stackoverflow.com/a/27276523/4210091</a>"},{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1580939001,"post_id":60084139,"comment_id":106267141,"body_markdown":"@Quantum, I am glad you found the solution useful. In these cases you can accept the solution by clicking on the check mark beside the answer to toggle it from greyed out to filled in. Thank you!","body":"@Quantum, I am glad you found the solution useful. In these cases you can accept the solution by clicking on the check mark beside the answer to toggle it from greyed out to filled in. Thank you!"}],"tags":[],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696410696,"creation_date":1580936926,"answer_id":60084139,"question_id":60084064,"body_markdown":"Before get connection you have to load your driver with:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\nAnd the corresponding JAR must be in your classpath (in the lib of your server or packaged in your WAR file).\r\n\r\n### Update ###\r\n\r\nAs mentioned in @Silverfang&#39;s answer below, since JDBC 4.0, this statement is not longer required, as reported [here](https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:~:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.)\r\n\r\n### Hints ###\r\n\r\nAnyway I suggest you to use a [connection&#39;s pool][1] instead of `DriverManager`\r\n\r\n&gt;The main benefits to connection pooling are:\r\n&gt;\r\n &gt; 1. Reduced connection creation time.\r\n &gt;\r\n&gt;Although this is not usually an issue with the quick connection setup that MySQL offers compared to other databases, creating new JDBC connections still incurs networking and JDBC driver overhead that will be avoided if connections are recycled.\r\n&gt;\r\n&gt; 2. Simplified programming model.\r\n&gt;\r\n&gt; When using connection pooling, each individual thread can act as though it has created its own JDBC connection, allowing you to use straightforward JDBC programming techniques.\r\n&gt;\r\n&gt; 3. Controlled resource usage.\r\n&gt;\r\n&gt; If you create a new connection every time a thread needs one rather than using connection pooling, your application&#39;s resource usage can be wasteful, and it could lead to unpredictable behaviors for your application when it is under a heavy load.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/database","body":"<p>Before get connection you have to load your driver with:</p>\n<pre><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n</code></pre>\n<p>And the corresponding JAR must be in your classpath (in the lib of your server or packaged in your WAR file).</p>\n<h3>Update</h3>\n<p>As mentioned in @Silverfang's answer below, since JDBC 4.0, this statement is not longer required, as reported <a href=\"https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:%7E:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.\" rel=\"nofollow noreferrer\">here</a></p>\n<h3>Hints</h3>\n<p>Anyway I suggest you to use a <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html\" rel=\"nofollow noreferrer\">connection's pool</a> instead of <code>DriverManager</code></p>\n<blockquote>\n<p>The main benefits to connection pooling are:</p>\n<ol>\n<li>Reduced connection creation time.</li>\n</ol>\n<p>Although this is not usually an issue with the quick connection setup that MySQL offers compared to other databases, creating new JDBC connections still incurs networking and JDBC driver overhead that will be avoided if connections are recycled.</p>\n<ol start=\"2\">\n<li>Simplified programming model.</li>\n</ol>\n<p>When using connection pooling, each individual thread can act as though it has created its own JDBC connection, allowing you to use straightforward JDBC programming techniques.</p>\n<ol start=\"3\">\n<li>Controlled resource usage.</li>\n</ol>\n<p>If you create a new connection every time a thread needs one rather than using connection pooling, your application's resource usage can be wasteful, and it could lead to unpredictable behaviors for your application when it is under a heavy load.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17505229,"reputation":359,"user_id":12694610,"display_name":"Silverfang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696410524,"creation_date":1580994276,"answer_id":60095677,"question_id":60084064,"body_markdown":"Since you are using maven just add the dependency in your pom.xml file. \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1.37&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nJust go to the maven repo and search for a version that works for you.\r\nor If you have downloaded the jar file then add it to your project classpath.\r\n\r\n### Edit ###\r\n\r\n`Class.forName()` is not needed since JDBC 4.0; [here](https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:~:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.) you can find the documentation related","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/database","body":"<p>Since you are using maven just add the dependency in your pom.xml file.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;mysql&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;version&gt;5.1.37&lt;/version&gt;\n</code></pre>\n\n<p>Just go to the maven repo and search for a version that works for you.\nor If you have downloaded the jar file then add it to your project classpath.</p>\n<h3>Edit</h3>\n<p><code>Class.forName()</code> is not needed since JDBC 4.0; <a href=\"https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:%7E:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.\" rel=\"nofollow noreferrer\">here</a> you can find the documentation related</p>\n"}],"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11669,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60084139,"answer_count":2,"score":1,"last_activity_date":1696410696,"creation_date":1580936526,"question_id":60084064,"body_markdown":"I&#39;ve been trying to set up my own rest api for a school project. I decided to use MySQL as a database and i want to connect it with my webservice, but apparently i always get this error message: \r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/userdatenbank\r\n\r\nWhen i look at the error message, it also tells me that this code can&#39;t be executed: \r\n\r\n    public UserService() {\r\n\t\ttry {\r\n\t\t\tcon = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/userdatenbank&quot;, &quot;root&quot;, &quot;adminadmin123&quot;); \r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}  \r\n\t} \r\n\r\nI don&#39;t know why this keeps happening... The MySQL Java Connector JAR-File is located in &quot;Referenced Libraries&quot;. By the way I use Tomcat 9, MySQL 8, JDK 13 and Maven (Jersey Servlet).","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/database","body":"<p>I've been trying to set up my own rest api for a school project. I decided to use MySQL as a database and i want to connect it with my webservice, but apparently i always get this error message: \njava.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/userdatenbank</p>\n\n<p>When i look at the error message, it also tells me that this code can't be executed: </p>\n\n<pre><code>public UserService() {\n    try {\n        con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/userdatenbank\", \"root\", \"adminadmin123\"); \n    } catch (SQLException e) {\n        e.printStackTrace();\n    }  \n} \n</code></pre>\n\n<p>I don't know why this keeps happening... The MySQL Java Connector JAR-File is located in \"Referenced Libraries\". By the way I use Tomcat 9, MySQL 8, JDK 13 and Maven (Jersey Servlet).</p>\n"},{"tags":["java","jenkins","groovy","jenkins-pipeline"],"comments":[{"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"score":0,"creation_date":1517343443,"post_id":48521559,"comment_id":84054955,"body_markdown":"Double check the version of Groovy being used as well as any differences between your classpath in both situations.","body":"Double check the version of Groovy being used as well as any differences between your classpath in both situations."},{"owner":{"account_id":7006447,"reputation":583,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"score":0,"creation_date":1517397479,"post_id":48521559,"comment_id":84076844,"body_markdown":"Paths are identical, versions of groovy also.","body":"Paths are identical, versions of groovy also."}],"answers":[{"comments":[{"owner":{"account_id":7006447,"reputation":583,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"score":0,"creation_date":1517316426,"post_id":48521772,"comment_id":84038150,"body_markdown":"But out of jenkins this works fine. This code was in official docs of httpbuilder-ng. I think Jenkins handles this code incorrectly to some reason.","body":"But out of jenkins this works fine. This code was in official docs of httpbuilder-ng. I think Jenkins handles this code incorrectly to some reason."}],"tags":[],"owner":{"account_id":9845567,"reputation":1507,"user_id":7293226,"display_name":"Vineeth Sai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517316108,"creation_date":1517316108,"answer_id":48521772,"question_id":48521559,"body_markdown":"object.get() will give an NullPointerException if the object is null, so you need to check if the object is null or not before you call any method on it. so, an alternative could to check if `astros != null` and then call `.get()` within the if-block.\r\n","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>object.get() will give an NullPointerException if the object is null, so you need to check if the object is null or not before you call any method on it. so, an alternative could to check if <code>astros != null</code> and then call <code>.get()</code> within the if-block.</p>\n"},{"comments":[{"owner":{"account_id":7006447,"reputation":583,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"score":0,"creation_date":1517317657,"post_id":48522127,"comment_id":84038942,"body_markdown":"But it doesn&#39;t solve issue. Here is an output from GroovyConsole on my desktop: There are 6 astronauts in space right now and here is from Jenkins: There are null astronauts in space right now. I still get null, I am trying to understand why I get null instead of correct result in Jenkins.","body":"But it doesn&#39;t solve issue. Here is an output from GroovyConsole on my desktop: There are 6 astronauts in space right now and here is from Jenkins: There are null astronauts in space right now. I still get null, I am trying to understand why I get null instead of correct result in Jenkins."},{"owner":{"account_id":6925412,"reputation":2542,"user_id":5316642,"accept_rate":50,"display_name":"Nitin Dhomse"},"score":0,"creation_date":1517317804,"post_id":48522127,"comment_id":84039047,"body_markdown":"You need to check that, why you are having null astronauts? debug to get that value then.","body":"You need to check that, why you are having null astronauts? debug to get that value then."},{"owner":{"account_id":7006447,"reputation":583,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"score":0,"creation_date":1517317840,"post_id":48522127,"comment_id":84039062,"body_markdown":"&lt;groovyx.net.http.UriBuilder$Basic@4bc2413c scheme=http port=-1 host=api.open-notify.org path=/astros.json query=[:] fragment=null userInfo=null parent=groovyx.net.http.UriBuilder$ThreadSafe@69c6847a useRawValues=null&gt;","body":"&lt;groovyx.net.http.UriBuilder$Basic@4bc2413c scheme=http port=-1 host=api.open-notify.org path=/astros.json query=[:] fragment=null userInfo=null parent=groovyx.net.http.UriBuilder$ThreadSafe@69c6847a useRawValues=null&gt;"},{"owner":{"account_id":6925412,"reputation":2542,"user_id":5316642,"accept_rate":50,"display_name":"Nitin Dhomse"},"score":0,"creation_date":1517318930,"post_id":48522127,"comment_id":84039764,"body_markdown":"@user54 : You need to parse json if your call is fine, do the changes as I have added in my answer.","body":"@user54 : You need to parse json if your call is fine, do the changes as I have added in my answer."},{"owner":{"account_id":7006447,"reputation":583,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"score":0,"creation_date":1517321428,"post_id":48522127,"comment_id":84041485,"body_markdown":"Issue doesn&#39;t lie in JSON, if run GET request to any URL, result will be the same regarding null object.","body":"Issue doesn&#39;t lie in JSON, if run GET request to any URL, result will be the same regarding null object."}],"tags":[],"owner":{"account_id":6925412,"reputation":2542,"user_id":5316642,"accept_rate":50,"display_name":"Nitin Dhomse"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517318868,"creation_date":1517317387,"answer_id":48522127,"question_id":48521559,"body_markdown":"Handle the null issue inside your code as follows (Use null safe operator and groovy truth concept.)\r\n\r\n    @Grab(&#39;io.github.http-builder-ng:http-builder-ng-core:1.0.3&#39;)\r\n    \r\n    import static groovyx.net.http.HttpBuilder.configure\r\n    def astros = configure {\r\n        request.uri = &#39;http://api.open-notify.org/astros.json&#39;\r\n    }?.get() // added null safe operator here (will handle null pointer exception)\r\n    \r\n    println &quot;There are ${astros?.number} astronauts in space right now.&quot;\r\n    //iterate if astros value exists.\r\n    if(astros){\r\n      astros.people.each { p-&gt;\r\n        println &quot; - ${p.name} (${p.craft})&quot;\r\n      }\r\n    }\r\n\r\n// As you are having json, you need to parse that as follows.\r\n\r\n \r\n\r\n      def slurper = new groovy.json.JsonSlurper()\r\n      def result = slurper.parseText(astros)\r\n      println result\r\n      println result?.number\r\n\r\n","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>Handle the null issue inside your code as follows (Use null safe operator and groovy truth concept.)</p>\n\n<pre><code>@Grab('io.github.http-builder-ng:http-builder-ng-core:1.0.3')\n\nimport static groovyx.net.http.HttpBuilder.configure\ndef astros = configure {\n    request.uri = 'http://api.open-notify.org/astros.json'\n}?.get() // added null safe operator here (will handle null pointer exception)\n\nprintln \"There are ${astros?.number} astronauts in space right now.\"\n//iterate if astros value exists.\nif(astros){\n  astros.people.each { p-&gt;\n    println \" - ${p.name} (${p.craft})\"\n  }\n}\n</code></pre>\n\n<p>// As you are having json, you need to parse that as follows.</p>\n\n<pre><code>  def slurper = new groovy.json.JsonSlurper()\n  def result = slurper.parseText(astros)\n  println result\n  println result?.number\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7006447,"reputation":583,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"score":0,"creation_date":1517415773,"post_id":48544963,"comment_id":84089289,"body_markdown":"The single workable solution for me, for now, is curl usage under sh DSL directive. And that vers of HTTP builder is very old and it doesn&#39;t have a PATCH method and some other things which I need which are available in ng version of builder.","body":"The single workable solution for me, for now, is curl usage under sh DSL directive. And that vers of HTTP builder is very old and it doesn&#39;t have a PATCH method and some other things which I need which are available in ng version of builder."}],"tags":[],"owner":{"account_id":9372101,"reputation":545,"user_id":7001589,"display_name":"Marcos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517410182,"creation_date":1517410182,"answer_id":48544963,"question_id":48521559,"body_markdown":"I take it that you created a shared library and is trying to use this in a pipeline?\r\n\r\nI have the same problem at the moment, I think it might be a limitation of the Groovy interpreter on Jenkins, similar to how the each loop didn&#39;t work [until some time ago][1].\r\n\r\nI&#39;ve resorted to using this version of [http-builder][2] to circumvent that for now. I&#39;ll update this if I find a proper solution (please also post an answer if you find anything).\r\n\r\n\r\n  [1]: https://issues.jenkins-ci.org/browse/JENKINS-26481\r\n  [2]: https://github.com/jgritman/httpbuilder","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>I take it that you created a shared library and is trying to use this in a pipeline?</p>\n\n<p>I have the same problem at the moment, I think it might be a limitation of the Groovy interpreter on Jenkins, similar to how the each loop didn't work <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-26481\" rel=\"nofollow noreferrer\">until some time ago</a>.</p>\n\n<p>I've resorted to using this version of <a href=\"https://github.com/jgritman/httpbuilder\" rel=\"nofollow noreferrer\">http-builder</a> to circumvent that for now. I'll update this if I find a proper solution (please also post an answer if you find anything).</p>\n"},{"comments":[{"owner":{"account_id":5883884,"reputation":931,"user_id":4632482,"display_name":"Peter Bruins"},"score":0,"creation_date":1673002339,"post_id":75029492,"comment_id":132404725,"body_markdown":"The question is about Groovy code. You gave an answer in Java, about a completely different case.","body":"The question is about Groovy code. You gave an answer in Java, about a completely different case."}],"tags":[],"owner":{"account_id":27451934,"reputation":1,"user_id":20944024,"display_name":"The Akshay"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672999488,"creation_date":1672999488,"answer_id":75029492,"question_id":48521559,"body_markdown":"if you facing &quot;**java.lang.nullpointerexception cannot invoke**&quot; then try to initialize every element of object_array with new class() like:\r\n\r\n    Result[] s=new Result[3];\r\n    \r\n    s[0]=new Result();\r\n    s[1]=new Result();\r\n    s[2]=new Result();\r\n\r\n\r\nExample:\r\n\r\n    class hybrid1\r\n    \t{\r\n    \tpublic static void main(String arg[]) \r\n    \t\t{\r\n    \t\tResult[] s;\r\n    \t\ts=new Result[3];\r\n    \t\t//s[0]=new Result();\r\n    \t\tint i;\r\n    \t\tfor(i=0;i&lt;3;i++)\r\n    \t\t\t{\r\n    \t\t\ts[i]=new Result();\r\n    \t\t\ts[i].getroll(101);\r\n    \t\t\ts[i].getmarks(88.36F,78.65F);\r\n    \t\t\ts[i].display();\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t/*Result s1;\r\n    \t\ts1=new Result();\r\n    \t\ts1.getroll(101);\r\n    \t\ts1.getmarks(58,69);\r\n    \t\ts1.display();*/\r\n    \t\t}\r\n    \t}","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>if you facing &quot;<strong>java.lang.nullpointerexception cannot invoke</strong>&quot; then try to initialize every element of object_array with new class() like:</p>\n<pre><code>Result[] s=new Result[3];\n\ns[0]=new Result();\ns[1]=new Result();\ns[2]=new Result();\n</code></pre>\n<p>Example:</p>\n<pre><code>class hybrid1\n    {\n    public static void main(String arg[]) \n        {\n        Result[] s;\n        s=new Result[3];\n        //s[0]=new Result();\n        int i;\n        for(i=0;i&lt;3;i++)\n            {\n            s[i]=new Result();\n            s[i].getroll(101);\n            s[i].getmarks(88.36F,78.65F);\n            s[i].display();\n            }\n        \n        /*Result s1;\n        s1=new Result();\n        s1.getroll(101);\n        s1.getmarks(58,69);\n        s1.display();*/\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":7006447,"reputation":583,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93286,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1696410496,"creation_date":1517315490,"question_id":48521559,"body_markdown":"I have the next Groovy code which I try to run in Jenkins Pipeline:\r\n\r\n    @Grab(&#39;io.github.http-builder-ng:http-builder-ng-core:1.0.3&#39;)\r\n    \r\n    import static groovyx.net.http.HttpBuilder.configure\r\n    \r\n    def astros = configure {\r\n        request.uri = &#39;http://api.open-notify.org/astros.json&#39;\r\n    }.get()\r\n    \r\n    println &quot;There are ${astros.number} astronauts in space right now.&quot;\r\n    \r\n    astros.people.each { p-&gt;\r\n        println &quot; - ${p.name} (${p.craft})&quot;\r\n    }\r\n\r\nBut everytime I get `java.lang.NullPointerException: Cannot invoke method get() on null object` error.\r\n\r\nWhen I run it from my desktop, everything works as expected:\r\n\r\n    There are 6 astronauts in space right now.\r\nIn Jenkins: \r\n\r\n    There are null astronauts in space right now.\r\n\r\nDebug output:\r\n\r\n    &lt;groovyx.net.http.UriBuilder$Basic@4bc2413c scheme=http port=-1 host=api.open-notify.org path=/astros.json query=[:] fragment=null userInfo=null parent=groovyx.net.http.UriBuilder$ThreadSafe@69c6847a useRawValues=null&gt;\r\n\r\nWhat should I do to make it work?","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>I have the next Groovy code which I try to run in Jenkins Pipeline:</p>\n\n<pre><code>@Grab('io.github.http-builder-ng:http-builder-ng-core:1.0.3')\n\nimport static groovyx.net.http.HttpBuilder.configure\n\ndef astros = configure {\n    request.uri = 'http://api.open-notify.org/astros.json'\n}.get()\n\nprintln \"There are ${astros.number} astronauts in space right now.\"\n\nastros.people.each { p-&gt;\n    println \" - ${p.name} (${p.craft})\"\n}\n</code></pre>\n\n<p>But everytime I get <code>java.lang.NullPointerException: Cannot invoke method get() on null object</code> error.</p>\n\n<p>When I run it from my desktop, everything works as expected:</p>\n\n<pre><code>There are 6 astronauts in space right now.\n</code></pre>\n\n<p>In Jenkins: </p>\n\n<pre><code>There are null astronauts in space right now.\n</code></pre>\n\n<p>Debug output:</p>\n\n<pre><code>&lt;groovyx.net.http.UriBuilder$Basic@4bc2413c scheme=http port=-1 host=api.open-notify.org path=/astros.json query=[:] fragment=null userInfo=null parent=groovyx.net.http.UriBuilder$ThreadSafe@69c6847a useRawValues=null&gt;\n</code></pre>\n\n<p>What should I do to make it work?</p>\n"},{"tags":["java","scope","warnings","compiler-warnings","this-pointer"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1695868288,"post_id":77191858,"comment_id":136082350,"body_markdown":"Could someone help me with the tags? I feel like there is room for improvement there, but I can&#39;t think of what would be a better fit.","body":"Could someone help me with the tags? I feel like there is room for improvement there, but I can&#39;t think of what would be a better fit."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695889554,"post_id":77191858,"comment_id":136084912,"body_markdown":"Please provide a [mre] and the full compiler warning/error","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the full compiler warning/error"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1695900344,"post_id":77191858,"comment_id":136087020,"body_markdown":"Question on this [issue](https://stackoverflow.com/questions/77183429/final-value-in-java-getting-reinitialized#comment136074286_77183429) yesterday","body":"Question on this <a href=\"https://stackoverflow.com/questions/77183429/final-value-in-java-getting-reinitialized#comment136074286_77183429\">issue</a> yesterday"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1695937486,"post_id":77191858,"comment_id":136094022,"body_markdown":"@MarkRotteveel I have done so and edited the question.","body":"@MarkRotteveel I have done so and edited the question."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1695937545,"post_id":77191858,"comment_id":136094031,"body_markdown":"@DuncG It is certainly the same source problem. Though, I think my question is useful too since it shows a more common interaction people will have with this warning.","body":"@DuncG It is certainly the same source problem. Though, I think my question is useful too since it shows a more common interaction people will have with this warning."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":2,"creation_date":1695943779,"post_id":77191858,"comment_id":136094639,"body_markdown":"@user85421 If you are implying a criticism of my question, I am open to hearing it. However, I don&#39;t understand your comment as is.","body":"@user85421 If you are implying a criticism of my question, I am open to hearing it. However, I don&#39;t understand your comment as is."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696410377,"creation_date":1695868252,"answer_id":77191859,"question_id":77191858,"body_markdown":"Here is the JDK Bug System entry that introduces this new warning - https://bugs.openjdk.org/browse/JDK-8299995\r\n\r\nLong story short, the `this-escape` warning is to warn you when a subclass may be able to `@Override` a method that is also called in the superclass&#39; constructor.\r\n\r\nThis is dangerous because overriding a method that is used in the constructor allows subclass&#39; to unintentionally introduce a bug during a subclass&#39; initialization. What if that method depends on state that has not yet been created because we are still in the super constructor? After all, you cannot do anything in the subclass&#39; constructor before calling the super constructor ([for now][1]).\r\n\r\nThere are a few ways to remedy this.\r\n\r\n1. Only use methods in the constructor that cannot be overridden.\r\n\r\n    - `static` methods.\r\n\r\n    - `final` methods.\r\n\r\n    - `private` methods.\r\n\r\n2. Make the class itself `final`.\r\n\r\n3. Don&#39;t pass in/use `this` to begin with - instead, pass in the particular component of `this` that you needed.\r\n\r\n    - Basically, quit being lazy and be explicit with what you need. Don&#39;t just pass in your [God object][2] -- pass in only the specific attributes you need.\r\n\r\nPlease note - these rules apply recursively. Meaning, when you call a method in the constructor, not only does that method have to be &quot;not-overridable&quot;, but the methods that that method passes `this` into must ***ALSO*** match one of the rules above. If your top-level method is not overridable, but one of the methods inside of it is, and that method has `this` in its scope, then you will receive a `this-escape` error upon compilation. Here is an example.\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class GUI\r\n{\r\n\r\n   private final JFrame frame;\r\n\r\n   public GUI()\r\n   {\r\n   \r\n      this.frame = new JFrame();\r\n   \r\n      this.frame.add(this.createBottomPanel());\r\n   \r\n   }\r\n\r\n   //final! Does that mean we are safe?\r\n   final JPanel createBottomPanel()\r\n   {\r\n   \r\n      final JButton save = new JButton();\r\n   \r\n      save\r\n         .addActionListener\r\n         (\r\n            /*\r\n             * No. We get the warning here at the start of this lambda.\r\n             * The reason is because we have given this lambda the\r\n             * ability to call this.toString(), and we don&#39;t know when\r\n             * it will do that. Maybe now, maybe later. But if it does\r\n             * it now, then we could end up doing things before the\r\n             * object is fully created. And if that were to happen, then\r\n             * that would be a this-escape. So, the warning occurs here,\r\n             * to let you know that it is possible.\r\n             */\r\n            actionEvent -&gt;\r\n            {\r\n           \r\n               this.toString();\r\n           \r\n            }\r\n           \r\n         )\r\n         ;\r\n   \r\n      return null;\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/447\r\n  [2]: https://en.wikipedia.org/wiki/God_object","title":"What is a &quot;this-escape&quot; warning, and how do I deal with it?","body":"<p>Here is the JDK Bug System entry that introduces this new warning - <a href=\"https://bugs.openjdk.org/browse/JDK-8299995\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8299995</a></p>\n<p>Long story short, the <code>this-escape</code> warning is to warn you when a subclass may be able to <code>@Override</code> a method that is also called in the superclass' constructor.</p>\n<p>This is dangerous because overriding a method that is used in the constructor allows subclass' to unintentionally introduce a bug during a subclass' initialization. What if that method depends on state that has not yet been created because we are still in the super constructor? After all, you cannot do anything in the subclass' constructor before calling the super constructor (<a href=\"https://openjdk.org/jeps/447\" rel=\"nofollow noreferrer\">for now</a>).</p>\n<p>There are a few ways to remedy this.</p>\n<ol>\n<li><p>Only use methods in the constructor that cannot be overridden.</p>\n<ul>\n<li><p><code>static</code> methods.</p>\n</li>\n<li><p><code>final</code> methods.</p>\n</li>\n<li><p><code>private</code> methods.</p>\n</li>\n</ul>\n</li>\n<li><p>Make the class itself <code>final</code>.</p>\n</li>\n<li><p>Don't pass in/use <code>this</code> to begin with - instead, pass in the particular component of <code>this</code> that you needed.</p>\n<ul>\n<li>Basically, quit being lazy and be explicit with what you need. Don't just pass in your <a href=\"https://en.wikipedia.org/wiki/God_object\" rel=\"nofollow noreferrer\">God object</a> -- pass in only the specific attributes you need.</li>\n</ul>\n</li>\n</ol>\n<p>Please note - these rules apply recursively. Meaning, when you call a method in the constructor, not only does that method have to be &quot;not-overridable&quot;, but the methods that that method passes <code>this</code> into must <em><strong>ALSO</strong></em> match one of the rules above. If your top-level method is not overridable, but one of the methods inside of it is, and that method has <code>this</code> in its scope, then you will receive a <code>this-escape</code> error upon compilation. Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class GUI\n{\n\n   private final JFrame frame;\n\n   public GUI()\n   {\n   \n      this.frame = new JFrame();\n   \n      this.frame.add(this.createBottomPanel());\n   \n   }\n\n   //final! Does that mean we are safe?\n   final JPanel createBottomPanel()\n   {\n   \n      final JButton save = new JButton();\n   \n      save\n         .addActionListener\n         (\n            /*\n             * No. We get the warning here at the start of this lambda.\n             * The reason is because we have given this lambda the\n             * ability to call this.toString(), and we don't know when\n             * it will do that. Maybe now, maybe later. But if it does\n             * it now, then we could end up doing things before the\n             * object is fully created. And if that were to happen, then\n             * that would be a this-escape. So, the warning occurs here,\n             * to let you know that it is possible.\n             */\n            actionEvent -&gt;\n            {\n           \n               this.toString();\n           \n            }\n           \n         )\n         ;\n   \n      return null;\n   \n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":77191859,"answer_count":1,"score":1,"last_activity_date":1696410377,"creation_date":1695868252,"question_id":77191858,"body_markdown":"I struggle to find resources on this, and yet, so many of my classes are running into this error when I compile my code on the latest Java (21).\r\n\r\nHere is a code example.\r\n\r\n```java\r\npublic class ThisEscapeExample\r\n{\r\n\r\n        public Object o;\r\n\r\n        public ThisEscapeExample()\r\n        {\r\n\r\n                this.overridableMethod();\r\n\r\n        }\r\n\r\n        public void overridableMethod()\r\n        {\r\n\r\n                this.o = new Object();\r\n\r\n        }\r\n\r\n}\r\n```\r\n\r\nAnd here is my compilation command.\r\n\r\n```none\r\njavac -Xlint:all ThisEscapeExample.java\r\nThisEscapeExample.java:9: warning: [this-escape] possible &#39;this&#39; escape before subclass is fully initialized\r\n                this.overridableMethod();\r\n                                      ^\r\n1 warning\r\n```","title":"What is a &quot;this-escape&quot; warning, and how do I deal with it?","body":"<p>I struggle to find resources on this, and yet, so many of my classes are running into this error when I compile my code on the latest Java (21).</p>\n<p>Here is a code example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThisEscapeExample\n{\n\n        public Object o;\n\n        public ThisEscapeExample()\n        {\n\n                this.overridableMethod();\n\n        }\n\n        public void overridableMethod()\n        {\n\n                this.o = new Object();\n\n        }\n\n}\n</code></pre>\n<p>And here is my compilation command.</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac -Xlint:all ThisEscapeExample.java\nThisEscapeExample.java:9: warning: [this-escape] possible 'this' escape before subclass is fully initialized\n                this.overridableMethod();\n                                      ^\n1 warning\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3264778,"reputation":2635,"user_id":2749470,"accept_rate":92,"display_name":"Bhargav Modi"},"score":0,"creation_date":1455192414,"post_id":35338868,"comment_id":58385029,"body_markdown":"use DAO implementation with basic core spring","body":"use DAO implementation with basic core spring"},{"owner":{"account_id":2155540,"reputation":443,"user_id":1910882,"display_name":"Makoton"},"score":0,"creation_date":1455193593,"post_id":35338868,"comment_id":58385881,"body_markdown":"Please follow REST best practices when you start to creating some RestFull Services","body":"Please follow REST best practices when you start to creating some RestFull Services"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1455194154,"post_id":35338868,"comment_id":58386234,"body_markdown":"I suggest a read of the paper from Roy Fielding.","body":"I suggest a read of the paper from Roy Fielding."}],"answers":[{"comments":[{"owner":{"account_id":5822940,"reputation":863,"user_id":4590364,"accept_rate":78,"display_name":"KpsLok"},"score":0,"creation_date":1455193213,"post_id":35339010,"comment_id":58385614,"body_markdown":"Im not convicted about your answer. If i want to filter my result with more than 1 parameter, should i create something like: GET: /services/{id}/{codeName}/{etc}  ?","body":"Im not convicted about your answer. If i want to filter my result with more than 1 parameter, should i create something like: GET: /services/{id}/{codeName}/{etc}  ?"},{"owner":{"account_id":2032168,"reputation":3688,"user_id":1815544,"accept_rate":83,"display_name":"R. Gulbrandsen"},"score":0,"creation_date":1455194383,"post_id":35339010,"comment_id":58386386,"body_markdown":"If I understand you correct, yes. GET: /users/102/profile could return full information about a user, or information you dont get from GET /users/102. But I will recommend you to follow best practices and not have more than you need","body":"If I understand you correct, yes. GET: /users/102/profile could return full information about a user, or information you dont get from GET /users/102. But I will recommend you to follow best practices and not have more than you need"},{"owner":{"account_id":3769459,"reputation":1172,"user_id":3132058,"display_name":"David Liz&#225;rraga"},"score":1,"creation_date":1455196182,"post_id":35339010,"comment_id":58387579,"body_markdown":"If you need to filter using more parameters then use url parameters, so the url path will stay the same. For example `GET: /services?codename=abc&amp;page=1&amp;order=asc`.","body":"If you need to filter using more parameters then use url parameters, so the url path will stay the same. For example <code>GET: &#47;services?codename=abc&amp;page=1&amp;order=asc</code>."}],"tags":[],"owner":{"account_id":2032168,"reputation":3688,"user_id":1815544,"accept_rate":83,"display_name":"R. Gulbrandsen"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696410357,"creation_date":1455192639,"answer_id":35339010,"question_id":35338868,"body_markdown":"Use the HTTP verb to control what you want to do with the resouces:\r\n    \r\n    GET:    /services        -&gt; returns all elements\r\n    GET:    /services/{id}   -&gt; returns element with id\r\n    POST:   /services        -&gt; creates a new object, pass the object in the body\r\n    PUT:    /services/{id}   -&gt; replace element with id, pass updated values in body\r\n    PATCH:  /services/{id}   -&gt; update element with id, pass updated values in body\r\n    DELETE: /services/{id}   -&gt; delete element with id\r\n\r\nI strongly recommend you use query params for paging in GET: /services, return a default number on page 1 if it&#39;s not listed.\r\n\r\nA full request could look like: http://www.example.com/services?page=5&amp;count=10","title":"Which naming pattern should i use for basic CRUD?","body":"<p>Use the HTTP verb to control what you want to do with the resouces:</p>\n<pre><code>GET:    /services        -&gt; returns all elements\nGET:    /services/{id}   -&gt; returns element with id\nPOST:   /services        -&gt; creates a new object, pass the object in the body\nPUT:    /services/{id}   -&gt; replace element with id, pass updated values in body\nPATCH:  /services/{id}   -&gt; update element with id, pass updated values in body\nDELETE: /services/{id}   -&gt; delete element with id\n</code></pre>\n<p>I strongly recommend you use query params for paging in GET: /services, return a default number on page 1 if it's not listed.</p>\n<p>A full request could look like: <a href=\"http://www.example.com/services?page=5&amp;count=10\" rel=\"nofollow noreferrer\">http://www.example.com/services?page=5&amp;count=10</a></p>\n"}],"owner":{"account_id":5822940,"reputation":863,"user_id":4590364,"accept_rate":78,"display_name":"KpsLok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":35339010,"answer_count":1,"score":-2,"last_activity_date":1696410357,"creation_date":1455192204,"question_id":35338868,"body_markdown":"I&#39;m creating a RestFul API for the first time using spring framework and now im a bit confused about the common labels used to create, read, update and delete. I want to follow a pattern for an easy maintenance in the code.  Is there any rule or naming pattern for the labels that I should follow?\r\n\r\nIm thinking about: \r\n\r\n    /service        -&gt; return every services\r\n    /service/new    -&gt; create new service\r\n    /service/update -&gt; update service\r\n    /service/delete -&gt; delete service\r\n","title":"Which naming pattern should i use for basic CRUD?","body":"<p>I'm creating a RestFul API for the first time using spring framework and now im a bit confused about the common labels used to create, read, update and delete. I want to follow a pattern for an easy maintenance in the code.  Is there any rule or naming pattern for the labels that I should follow?</p>\n\n<p>Im thinking about: </p>\n\n<pre><code>/service        -&gt; return every services\n/service/new    -&gt; create new service\n/service/update -&gt; update service\n/service/delete -&gt; delete service\n</code></pre>\n"},{"tags":["java","email","gmail","jakarta-mail"],"comments":[{"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"score":0,"creation_date":1450866884,"post_id":34433459,"comment_id":56608115,"body_markdown":"I followed but it displayed like &quot;Can‚Äôt sign in to my email app&quot; ..!!","body":"I followed but it displayed like &quot;Can‚Äôt sign in to my email app&quot; ..!!"},{"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"score":0,"creation_date":1450867451,"post_id":34433459,"comment_id":56608471,"body_markdown":"I read it, but i didn&#39;t get the solution for my query. I gave correct Email Address and password. Can you please brief me what is the exact problem in this scenario ?","body":"I read it, but i didn&#39;t get the solution for my query. I gave correct Email Address and password. Can you please brief me what is the exact problem in this scenario ?"},{"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"score":0,"creation_date":1450867872,"post_id":34433459,"comment_id":56608712,"body_markdown":"Thank you sir, i found the solution, Just &quot;Turn On&quot; the less security of your google account for send the email, &quot;https://support.google.com/accounts/answer/6010255?hl=en&quot; this link was the cure for me.","body":"Thank you sir, i found the solution, Just &quot;Turn On&quot; the less security of your google account for send the email, &quot;<a href=\"https://support.google.com/accounts/answer/6010255?hl=en\" rel=\"nofollow noreferrer\">support.google.com/accounts/answer/6010255?hl=en</a>&quot; this link was the cure for me."}],"answers":[{"comments":[{"owner":{"account_id":8038070,"reputation":1274,"user_id":6060601,"accept_rate":80,"display_name":"Brahim LAMJAGUAR"},"score":0,"creation_date":1461535444,"post_id":34433953,"comment_id":61230039,"body_markdown":"it solved my problem with a smtp connection, thank you ;)","body":"it solved my problem with a smtp connection, thank you ;)"},{"owner":{"account_id":3826580,"reputation":3408,"user_id":3173290,"accept_rate":91,"display_name":"Nadeem Khan"},"score":0,"creation_date":1474484697,"post_id":34433953,"comment_id":66554501,"body_markdown":"Here&#39;s the new direct link:\nhttps://www.google.com/settings/security/lesssecureapps","body":"Here&#39;s the new direct link: <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">google.com/settings/security/lesssecureapps</a>"}],"tags":[],"owner":{"account_id":2636743,"reputation":1886,"user_id":2281189,"accept_rate":38,"display_name":"QuakeCore"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1474486276,"creation_date":1450867749,"answer_id":34433953,"question_id":34433459,"body_markdown":"You need to set the Allow less secure apps: ON, login to google using the account desired, and go to the [security page](https://www.google.com/settings/security/lesssecureapps) and set the `Allow less secure apps` to be ON.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>You need to set the Allow less secure apps: ON, login to google using the account desired, and go to the <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"noreferrer\">security page</a> and set the <code>Allow less secure apps</code> to be ON.</p>\n"},{"comments":[{"owner":{"account_id":444379,"reputation":8785,"user_id":836144,"accept_rate":75,"display_name":"Hassek"},"score":7,"creation_date":1503961035,"post_id":44927470,"comment_id":78815475,"body_markdown":"Impressive, I had done both steps and at the end, changing the password fixed the issue. Thanks mate.","body":"Impressive, I had done both steps and at the end, changing the password fixed the issue. Thanks mate."},{"owner":{"account_id":9814108,"reputation":1649,"user_id":7271155,"accept_rate":100,"display_name":"G.Ashok Kumar"},"score":0,"creation_date":1504069219,"post_id":44927470,"comment_id":78862564,"body_markdown":"Welcome @Hassek","body":"Welcome @Hassek"},{"owner":{"account_id":7910432,"reputation":1285,"user_id":5974647,"accept_rate":21,"display_name":"Harry .Naeem"},"score":9,"creation_date":1553258181,"post_id":44927470,"comment_id":97327794,"body_markdown":"Less secure apps option was enabled for me, but the second option did the trick.","body":"Less secure apps option was enabled for me, but the second option did the trick."},{"owner":{"account_id":8161904,"reputation":81,"user_id":6145656,"display_name":"Zuhaitz Beloki"},"score":2,"creation_date":1581938930,"post_id":44927470,"comment_id":106592193,"body_markdown":"I had to change the password too","body":"I had to change the password too"},{"owner":{"account_id":9175797,"reputation":2531,"user_id":6821441,"accept_rate":83,"display_name":"Abhishek Ekaanth"},"score":1,"creation_date":1594735579,"post_id":44927470,"comment_id":111226122,"body_markdown":"Thanks mate!! This saved me a lot of time :))","body":"Thanks mate!! This saved me a lot of time :))"},{"owner":{"account_id":8515923,"reputation":170,"user_id":6384347,"display_name":"Yogita"},"score":0,"creation_date":1595829921,"post_id":44927470,"comment_id":111598151,"body_markdown":"@G.AshokKumar, Its working for gmail, but what if the SMTP details from outlook.","body":"@G.AshokKumar, Its working for gmail, but what if the SMTP details from outlook."},{"owner":{"account_id":10662187,"reputation":1667,"user_id":7849868,"display_name":"Shujat Munawar"},"score":0,"creation_date":1612204896,"post_id":44927470,"comment_id":116688624,"body_markdown":"Thanks really appreciated","body":"Thanks really appreciated"},{"owner":{"account_id":1407952,"reputation":3526,"user_id":1335142,"accept_rate":60,"display_name":"Serhii Popov"},"score":0,"creation_date":1625572242,"post_id":44927470,"comment_id":120656981,"body_markdown":"Here you can also find additional steps how to unblock mail sending through Gmail https://serverfault.com/a/672182/277529","body":"Here you can also find additional steps how to unblock mail sending through Gmail <a href=\"https://serverfault.com/a/672182/277529\">serverfault.com/a/672182/277529</a>"},{"owner":{"account_id":13869686,"reputation":409,"user_id":10013245,"display_name":"Emmanuel David"},"score":0,"creation_date":1641525754,"post_id":44927470,"comment_id":124832527,"body_markdown":"Thanks, This really solved the problem. Mine is working on localhost, but when I uploaded it to the server, it does not work on the server and to my surprise keeps working. So changing the password makes both to start working..","body":"Thanks, This really solved the problem. Mine is working on localhost, but when I uploaded it to the server, it does not work on the server and to my surprise keeps working. So changing the password makes both to start working.."}],"tags":[],"owner":{"account_id":9814108,"reputation":1649,"user_id":7271155,"accept_rate":100,"display_name":"G.Ashok Kumar"},"comment_count":9,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1499317144,"creation_date":1499260885,"answer_id":44927470,"question_id":34433459,"body_markdown":"You need to allow less secure apps, you can do it by click below link\r\n\r\nhttps://www.google.com/settings/security/lesssecureapps\r\n\r\nalso try this one\r\n\r\nhttps://accounts.google.com/DisplayUnlockCaptcha\r\n\r\nif still not works try changing password for gmail","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>You need to allow less secure apps, you can do it by click below link</p>\n\n<p><a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"noreferrer\">https://www.google.com/settings/security/lesssecureapps</a></p>\n\n<p>also try this one</p>\n\n<p><a href=\"https://accounts.google.com/DisplayUnlockCaptcha\" rel=\"noreferrer\">https://accounts.google.com/DisplayUnlockCaptcha</a></p>\n\n<p>if still not works try changing password for gmail</p>\n"},{"tags":[],"owner":{"account_id":2597196,"reputation":21,"user_id":2250596,"display_name":"Vema Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592623526,"creation_date":1592623526,"answer_id":62481258,"question_id":34433459,"body_markdown":"I have tried with all the below options none of them worked, changing the password solves the issues.\r\n\r\nAllow less secure apps ON\r\nPassed correct user/password\r\nTried this https://accounts.google.com/DisplayUnlockCaptcha\r\n\r\nAll are correct in my case but still getting error Username and Password not accepted. \r\n\r\nMy Gmail password didn&#39;t change for a long time, after updating the password it works.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>I have tried with all the below options none of them worked, changing the password solves the issues.</p>\n\n<p>Allow less secure apps ON\nPassed correct user/password\nTried this <a href=\"https://accounts.google.com/DisplayUnlockCaptcha\" rel=\"nofollow noreferrer\">https://accounts.google.com/DisplayUnlockCaptcha</a></p>\n\n<p>All are correct in my case but still getting error Username and Password not accepted. </p>\n\n<p>My Gmail password didn't change for a long time, after updating the password it works.</p>\n"},{"tags":[],"owner":{"account_id":19353115,"reputation":45,"user_id":14150030,"display_name":"optimus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598198156,"creation_date":1598198156,"answer_id":63549048,"question_id":34433459,"body_markdown":"I was not able to send email with gmail stmp from 000webhost. In the error message there was this:&quot;Gmail returns 534-5.7.14 Please log in via your web browser&quot;. the problem was that google blocked the connection.\r\nthey asked if the connection request were from me. I haved change my password and fix the problem.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>I was not able to send email with gmail stmp from 000webhost. In the error message there was this:&quot;Gmail returns 534-5.7.14 Please log in via your web browser&quot;. the problem was that google blocked the connection.\nthey asked if the connection request were from me. I haved change my password and fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":1225185,"reputation":617,"user_id":1190883,"accept_rate":25,"display_name":"Pradeesh tet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636004144,"creation_date":1636004144,"answer_id":69834871,"question_id":34433459,"body_markdown":"Check multiple-factor authentication is off and the Less secure app is turned on as mentioned by others in this thread. If you still face the issue follow the below steps.\r\n\r\n - On your computer, open Gmail.\r\n - In the top right, click Settings and See all settings. \r\n - Click the Forwarding and POP/IMAP tab.  \r\n - In the &quot;IMAP access&quot; section, select Enable IMAP.  \r\n - Click Save    Changes.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>Check multiple-factor authentication is off and the Less secure app is turned on as mentioned by others in this thread. If you still face the issue follow the below steps.</p>\n<ul>\n<li>On your computer, open Gmail.</li>\n<li>In the top right, click Settings and See all settings.</li>\n<li>Click the Forwarding and POP/IMAP tab.</li>\n<li>In the &quot;IMAP access&quot; section, select Enable IMAP.</li>\n<li>Click Save    Changes.</li>\n</ul>\n"}],"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60142,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":5,"score":26,"last_activity_date":1696410228,"creation_date":1450866120,"question_id":34433459,"body_markdown":"I found this error while i&#39;m trying to send an email from one Gmail account to another. How to solve this error ? Help me on it.\r\n\r\n\r\nThere were an error: \r\n\r\n&gt; 534-5.7.14 Please log in via your web browser and 534-5.7.14 then try again. 534-5.7.14 Learn more at 534 5.7.14 https://support.google.com/mail/answer/78754 hw7sm51688135pac.12 - gsmtp ","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>I found this error while i'm trying to send an email from one Gmail account to another. How to solve this error ? Help me on it.</p>\n\n<p>There were an error: </p>\n\n<blockquote>\n  <p>534-5.7.14 Please log in via your web browser and 534-5.7.14 then try again. 534-5.7.14 Learn more at 534 5.7.14 <a href=\"https://support.google.com/mail/answer/78754\" rel=\"noreferrer\">https://support.google.com/mail/answer/78754</a> hw7sm51688135pac.12 - gsmtp </p>\n</blockquote>\n"},{"tags":["java","spring-boot","maven","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":47138,"reputation":361,"user_id":139494,"accept_rate":100,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1647957758,"creation_date":1647957758,"answer_id":71573387,"question_id":66867480,"body_markdown":"You might just be hitting the wrong URL. That was a mistake I was making. In my project for example: \r\n* http://localhost:8080/swagger-ui/index.html will show me the PetSore API\r\n* http://localhost:8080/swagger-ui.html shows me my own API\r\n\r\nThe [OpenAPI page][1] clued me in on this:\r\n\r\n&gt; * The Swagger UI page will then be available at\r\n&gt; `http://server:port/context-path/swagger-ui.html` and the OpenAPI\r\n&gt; description will be available at the following url for json format:\r\n&gt; `http://server:port/context-path/v3/api-docs`\r\n&gt; \r\n&gt;   * server: The server name or IP\r\n&gt;   * port: The server port\r\n&gt;   * context-path: The context path of the application\r\n\r\n\r\n  [1]: https://springdoc.org/","title":"Swagger-ui keeps showing example petstore instead of my API","body":"<p>You might just be hitting the wrong URL. That was a mistake I was making. In my project for example:</p>\n<ul>\n<li>http://localhost:8080/swagger-ui/index.html will show me the PetSore API</li>\n<li>http://localhost:8080/swagger-ui.html shows me my own API</li>\n</ul>\n<p>The <a href=\"https://springdoc.org/\" rel=\"noreferrer\">OpenAPI page</a> clued me in on this:</p>\n<blockquote>\n<ul>\n<li><p>The Swagger UI page will then be available at\n<code>http://server:port/context-path/swagger-ui.html</code> and the OpenAPI\ndescription will be available at the following url for json format:\n<code>http://server:port/context-path/v3/api-docs</code></p>\n<ul>\n<li>server: The server name or IP</li>\n<li>port: The server port</li>\n<li>context-path: The context path of the application</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25778093,"reputation":21,"user_id":19524085,"display_name":"rainywindow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680517129,"creation_date":1680517129,"answer_id":75918384,"question_id":66867480,"body_markdown":"In my case with springboot 3,\r\nthe reason was my security filter don&#39;t known about:\r\nhttp://127.0.0.7:9000/v3/api-docs/swagger-config\r\n\r\nsymptom:\r\nMy swagger-ui/index.html showed me the Petshop\r\nwhen I was not login; and showed me the money when I did login;\r\n\r\nworkaround:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class DefaultSecurityConfig {\r\n\r\n    \t@Bean\r\n    \tSecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t.authorizeHttpRequests(authorize -&gt;\r\n    \t\t\t\tauthorize.requestMatchers(\r\n    \t\t\t\t&quot;/swagger-ui.html&quot;,&quot;/swagger-ui/**&quot;,\r\n    \t\t\t\t&quot;/v3/api-docs/**&quot; //&lt;&lt;---(1)\r\n    \t\t\t\t).permitAll())\r\n    \t\t\t.authorizeHttpRequests(authorize -&gt;\r\n    \t\t\t\tauthorize.anyRequest().authenticated()\r\n    \r\n    \t\t)\r\n    \t\t\t.formLogin(withDefaults());\r\n    \t\treturn http.build();\r\n    \t}\r\n    ...\r\n\r\n","title":"Swagger-ui keeps showing example petstore instead of my API","body":"<p>In my case with springboot 3,\nthe reason was my security filter don't known about:\n<a href=\"http://127.0.0.7:9000/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">http://127.0.0.7:9000/v3/api-docs/swagger-config</a></p>\n<p>symptom:\nMy swagger-ui/index.html showed me the Petshop\nwhen I was not login; and showed me the money when I did login;</p>\n<p>workaround:</p>\n<pre><code>@EnableWebSecurity\n@Configuration(proxyBeanMethods = false)\npublic class DefaultSecurityConfig {\n\n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests(authorize -&gt;\n                authorize.requestMatchers(\n                &quot;/swagger-ui.html&quot;,&quot;/swagger-ui/**&quot;,\n                &quot;/v3/api-docs/**&quot; //&lt;&lt;---(1)\n                ).permitAll())\n            .authorizeHttpRequests(authorize -&gt;\n                authorize.anyRequest().authenticated()\n\n        )\n            .formLogin(withDefaults());\n        return http.build();\n    }\n...\n</code></pre>\n"}],"owner":{"account_id":2274567,"reputation":355,"user_id":2001185,"accept_rate":80,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696410169,"creation_date":1617093648,"question_id":66867480,"body_markdown":"I&#39;m a bit lost about this, because it usually works out of the box. I&#39;m making a small java spring-boot rest api, and to get a nice API desc and test page, I use Swagger. Except this time it doesn&#39;t show my app&#39;s stuff, it shows the default petstore page.\r\n\r\nThis is what my I got in my pom (and it looks the same in other apps of mine): \r\n```\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.2.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nI also tried with:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nBut it didn&#39;t make a difference. Not sure where to go from here.","title":"Swagger-ui keeps showing example petstore instead of my API","body":"<p>I'm a bit lost about this, because it usually works out of the box. I'm making a small java spring-boot rest api, and to get a nice API desc and test page, I use Swagger. Except this time it doesn't show my app's stuff, it shows the default petstore page.</p>\n<p>This is what my I got in my pom (and it looks the same in other apps of mine):</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I also tried with:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But it didn't make a difference. Not sure where to go from here.</p>\n"},{"tags":["java","scala","gradle","aop","bazel"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1696414754,"post_id":77228184,"comment_id":136148951,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1696415114,"post_id":77228184,"comment_id":136149033,"body_markdown":"As for the Bazel link you shared, if you even start to read it, you will notice that it describes how to extend the Bazel build system as such using AOP-style code. It is not about adding AspectJ compilation to your target modules. What you are looking for is an AspectJ Bazel extension. Not being a Bazel user myself, I simply used Google for a few seconds and found https://github.com/ArvinZheng/Bazel-aspectj_rule and https://stackoverflow.com/a/58071267/1082681. Out of the box, there does not seem to be any comprehensive de-facto standard add-on.","body":"As for the Bazel link you shared, if you even start to read it, you will notice that it describes how to extend the Bazel build system as such using AOP-style code. It is not about adding AspectJ compilation to your target modules. What you are looking for is an AspectJ Bazel extension. Not being a Bazel user myself, I simply used Google for a few seconds and found <a href=\"https://github.com/ArvinZheng/Bazel-aspectj_rule\" rel=\"nofollow noreferrer\">github.com/ArvinZheng/Bazel-aspectj_rule</a> and <a href=\"https://stackoverflow.com/a/58071267/1082681\">stackoverflow.com/a/58071267/1082681</a>. Out of the box, there does not seem to be any comprehensive de-facto standard add-on."}],"owner":{"account_id":13249636,"reputation":11,"user_id":21686845,"display_name":"Ruchir Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696410071,"creation_date":1696410071,"question_id":77228184,"body_markdown":"So I am fairly new to Bazel and I am migrating my code from gradle. My code is a Java project which has multiple modules in it. I am using AOP to intercept calls made to a particular function (not my own function, but some other dependency&#39;s function). Suppose I have 3 projects within my repo:\r\n```\r\nproject(&#39;:project-a&#39;)\r\nproject(&#39;:project-b&#39;)\r\nproject(&#39;:project-c&#39;)\r\n```\r\nThe function is being called at multiple places in A, B. A is written in Java and B is in scala. I am using gradle to build the entire repo. I am using the plugin and dependency:\r\n```\r\nplugin: &#39;io.freefair.aspectj.post-compile-weaving&#39;    // This supports both compileJava and compileScala\r\n&quot;org.aspectj:aspectjrt:1.9.6.aspectj&quot;\r\n```\r\nThe aspect is written in Java and is present in the C project, it will have the code which should run everytime the function is called in A or B. I apply the configurations to both these A and B subprojects:\r\n```\r\nsubproject.tasks.compileJava {    // compileScala in case of project B\r\n    ajc.options.compilerArgs = [&quot;-sourceroots&quot;, &quot;${rootDir}/project-c/src/main/java&quot; ]\r\n}\r\n```\r\nThis works for my gradle project, but I wanted to know if I have anything similar in Bazel that could make it simple for me to achieve the same. The project structure remains the same. I want it so that it doesn&#39;t take too much time to intercept these calls as well, it should not affect the performance of my project. Can someone give me a simple multi-project code similar to mine where AOP is being used. \r\n\r\nI did go through https://bazel.build/extending/aspects but I wasn&#39;t able to figure out how to do this, not sure if it even is the right resource to be looking at for my case.","title":"How to use aspect oriented programming in a multi project java/scala repo built using Bazel","body":"<p>So I am fairly new to Bazel and I am migrating my code from gradle. My code is a Java project which has multiple modules in it. I am using AOP to intercept calls made to a particular function (not my own function, but some other dependency's function). Suppose I have 3 projects within my repo:</p>\n<pre><code>project(':project-a')\nproject(':project-b')\nproject(':project-c')\n</code></pre>\n<p>The function is being called at multiple places in A, B. A is written in Java and B is in scala. I am using gradle to build the entire repo. I am using the plugin and dependency:</p>\n<pre><code>plugin: 'io.freefair.aspectj.post-compile-weaving'    // This supports both compileJava and compileScala\n&quot;org.aspectj:aspectjrt:1.9.6.aspectj&quot;\n</code></pre>\n<p>The aspect is written in Java and is present in the C project, it will have the code which should run everytime the function is called in A or B. I apply the configurations to both these A and B subprojects:</p>\n<pre><code>subproject.tasks.compileJava {    // compileScala in case of project B\n    ajc.options.compilerArgs = [&quot;-sourceroots&quot;, &quot;${rootDir}/project-c/src/main/java&quot; ]\n}\n</code></pre>\n<p>This works for my gradle project, but I wanted to know if I have anything similar in Bazel that could make it simple for me to achieve the same. The project structure remains the same. I want it so that it doesn't take too much time to intercept these calls as well, it should not affect the performance of my project. Can someone give me a simple multi-project code similar to mine where AOP is being used.</p>\n<p>I did go through <a href=\"https://bazel.build/extending/aspects\" rel=\"nofollow noreferrer\">https://bazel.build/extending/aspects</a> but I wasn't able to figure out how to do this, not sure if it even is the right resource to be looking at for my case.</p>\n"},{"tags":["java","spring-boot","postman","httprequest","multipartfile"],"comments":[{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1696413724,"post_id":77209071,"comment_id":136148691,"body_markdown":"HOPE THIS WILL HELP YOU https://www.baeldung.com/sprint-boot-multipart-requests#using-requestpart","body":"HOPE THIS WILL HELP YOU <a href=\"https://www.baeldung.com/sprint-boot-multipart-requests#using-requestpart\" rel=\"nofollow noreferrer\">baeldung.com/sprint-boot-multipart-requests#using-requestpar&zwnj;&#8203;t</a>"}],"answers":[{"comments":[{"owner":{"account_id":29572341,"reputation":11,"user_id":22664191,"display_name":"samee"},"score":0,"creation_date":1696504103,"post_id":77227981,"comment_id":136162816,"body_markdown":"This will not work my first approach was this among 100 others, before answering u must have checked, my question clearly says how to hit from postman, because that‚Äôs the challange","body":"This will not work my first approach was this among 100 others, before answering u must have checked, my question clearly says how to hit from postman, because that‚Äôs the challange"}],"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696409918,"creation_date":1696408202,"answer_id":77227981,"question_id":77209071,"body_markdown":"Try to use in this way :\r\n\r\n    @PostMapping(&quot;/fileDto&quot;)\r\n    public ResponseEntity&lt;?&gt; test(@RequestBody List&lt;Test&gt; dto) {\r\n        for (Test test : dto) {\r\n            System.out.println(&quot;Email: &quot; + test.getEmailId());\r\n            System.out.println(&quot;First Name: &quot; + test.getFirstName());\r\n        }\r\n        for (MultipartFile file : test.getFiles()) {\r\n                System.out.println(&quot;File Name: &quot; + file.getOriginalFilename());\r\n            }   \r\n        return ResponseEntity.ok(&quot;Submitted&quot;);\r\n    }\r\n\r\nUpdate class:\r\n\r\n  \r\n\r\n        @Data\r\n        public class Test {\r\n        private String emailId;\r\n        private String firstName;\r\n        private List&lt;MultipartFile&gt; files;  \r\n    }\r\n\r\n","title":"How add list of Multipart in Dto and hit with postman","body":"<p>Try to use in this way :</p>\n<pre><code>@PostMapping(&quot;/fileDto&quot;)\npublic ResponseEntity&lt;?&gt; test(@RequestBody List&lt;Test&gt; dto) {\n    for (Test test : dto) {\n        System.out.println(&quot;Email: &quot; + test.getEmailId());\n        System.out.println(&quot;First Name: &quot; + test.getFirstName());\n    }\n    for (MultipartFile file : test.getFiles()) {\n            System.out.println(&quot;File Name: &quot; + file.getOriginalFilename());\n        }   \n    return ResponseEntity.ok(&quot;Submitted&quot;);\n}\n</code></pre>\n<p>Update class:</p>\n<pre><code>    @Data\n    public class Test {\n    private String emailId;\n    private String firstName;\n    private List&lt;MultipartFile&gt; files;  \n}\n</code></pre>\n"}],"owner":{"account_id":29572341,"reputation":11,"user_id":22664191,"display_name":"samee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696409918,"creation_date":1696128736,"question_id":77209071,"body_markdown":"**problem statement:**\r\n to create Rest API which process List of Test Class and for each object present in list, has list of multipart pdf files,\r\n\r\n\r\n**how I am doing it currently **\r\n\r\nI have created below test class\r\n\r\n```\r\npackage com.practiceJPA.springDataJPA.controller;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Test {\r\n\r\n   private String emailId;\r\n   private String firstName;\r\n}\r\n```\r\n\r\nAnd controller class \r\n\r\n```\r\n\t@PostMapping(&quot;/fileDto&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; test(@RequestPart List&lt;MultipartFile&gt; files,@RequestPart List&lt;Test&gt; dto) {\r\n\t\t\r\n\t\tfor (Test studentSpecificDto : dto) {\r\n\t\t\tSystem.out.println(studentSpecificDto);\r\n\t\t}\r\n\t\t\r\n\t\tfor (MultipartFile file : files) {\r\n\t\tSystem.out.println(file.getOriginalFilename());\r\n\t\t}\r\n\t\t\r\n\t\treturn ResponseEntity.ok(&quot;submited&quot;);\r\n\t}\r\n\t\r\n\r\n```\r\n\r\nI am firing this API from post man like below image\r\n\r\n[attaching files with same key to pass in list](https://i.stack.imgur.com/qqUEV.png)\r\n[Dto in form data](https://i.stack.imgur.com/9SDXk.png)\r\n\r\nApi is working fine, it is causing trouble while mapping list of files with object !!!\r\n\r\n\r\nwhat I want to achieve is,  get list of  multipart in same dto with key as object name\r\n\r\n```\r\n@Data\r\npublic class Test {\r\n\t\r\n\tprivate String emailId;\r\n\tprivate String firstName;\r\n\tprivate List&lt;MultipartFile&gt; files;\r\n\r\n\r\n}\r\n\r\n```\r\nthis will make everything easier , but I don&#39;t know how to achieve it, how to hit such complex api from postman\r\n\r\n\r\n\r\n\r\n\r\n","title":"How add list of Multipart in Dto and hit with postman","body":"<p><strong>problem statement:</strong>\nto create Rest API which process List of Test Class and for each object present in list, has list of multipart pdf files,</p>\n<p>**how I am doing it currently **</p>\n<p>I have created below test class</p>\n<pre><code>package com.practiceJPA.springDataJPA.controller;\n\nimport lombok.Data;\n\n@Data\npublic class Test {\n\n   private String emailId;\n   private String firstName;\n}\n</code></pre>\n<p>And controller class</p>\n<pre><code>    @PostMapping(&quot;/fileDto&quot;)\n    public ResponseEntity&lt;?&gt; test(@RequestPart List&lt;MultipartFile&gt; files,@RequestPart List&lt;Test&gt; dto) {\n        \n        for (Test studentSpecificDto : dto) {\n            System.out.println(studentSpecificDto);\n        }\n        \n        for (MultipartFile file : files) {\n        System.out.println(file.getOriginalFilename());\n        }\n        \n        return ResponseEntity.ok(&quot;submited&quot;);\n    }\n    \n\n</code></pre>\n<p>I am firing this API from post man like below image</p>\n<p><a href=\"https://i.stack.imgur.com/qqUEV.png\" rel=\"nofollow noreferrer\">attaching files with same key to pass in list</a>\n<a href=\"https://i.stack.imgur.com/9SDXk.png\" rel=\"nofollow noreferrer\">Dto in form data</a></p>\n<p>Api is working fine, it is causing trouble while mapping list of files with object !!!</p>\n<p>what I want to achieve is,  get list of  multipart in same dto with key as object name</p>\n<pre><code>@Data\npublic class Test {\n    \n    private String emailId;\n    private String firstName;\n    private List&lt;MultipartFile&gt; files;\n\n\n}\n\n</code></pre>\n<p>this will make everything easier , but I don't know how to achieve it, how to hit such complex api from postman</p>\n"},{"tags":["java","hadoop","pyspark","hadoop-yarn"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696620132,"post_id":77228163,"comment_id":136181573,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77228163/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":2041955,"reputation":1,"user_id":1822882,"display_name":"Valeriy Shinkevich"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696409900,"creation_date":1696409849,"answer_id":77228163,"question_id":64696028,"body_markdown":"Try to comment next lines in /etc/hosts:\r\n```\r\n127.0.0.1   localhost\r\n::1     ip6-localhost ip6-loopback\r\n```\r\n","title":"Run pyspark on hadoop yarn Failed to connect to localhost/127.0.0.1:46311","body":"<p>Try to comment next lines in /etc/hosts:</p>\n<pre><code>127.0.0.1   localhost\n::1     ip6-localhost ip6-loopback\n</code></pre>\n"}],"owner":{"account_id":10755427,"reputation":21,"user_id":7913527,"display_name":"OAA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696409900,"creation_date":1604574812,"question_id":64696028,"body_markdown":"When I run pyspark in hadoop yarn:\r\n```\r\nHADOOP_CONF_DIR=/usr/local/hadoop/etc/hadoop/ pyspark --master yarn --deploy-mode client\r\n```\r\nIt gave me this:\r\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311\r\n\r\n```\r\n&gt; In [1]: sc20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: YARN application has exited unexpectedly with state FAILED! Check the YARN application logs for more details.\r\n20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: Diagnostics message: Uncaught exception: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:302)\r\n\tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n\tat org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:101)\r\n\tat org.apache.spark.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:109)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster.runExecutorLauncher(ApplicationMaster.scala:547)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:266)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:890)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:889)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1746)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:889)\r\n\tat org.apache.spark.deploy.yarn.ExecutorLauncher$.main(ApplicationMaster.scala:921)\r\n\tat org.apache.spark.deploy.yarn.ExecutorLauncher.main(ApplicationMaster.scala)\r\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:253)\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:195)\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:46311\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:715)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n**/etc/hosts:**\r\n```\r\n    127.0.0.1\tlocalhost\r\n    # 127.0.1.1\toaa-virtual-machine\r\n    \r\n    192.168.32.127\t\tubuntu\r\n    192.168.32.128\t\tubuntu001\r\n    192.168.32.129\t\tubuntu002\r\n    192.168.32.130\t\tubuntu003\r\n    \r\n    \r\n    # The following lines are desirable for IPv6 capable hosts\r\n    ::1     ip6-localhost ip6-loopback\r\n    fe00::0 ip6-localnet\r\n    ff00::0 ip6-mcastprefix\r\n    ff02::1 ip6-allnodes\r\n    ff02::2 ip6-allrouters\r\n\r\n```\r\n**/usr/local/hadoop/etc/hadoop/core-site.xml:** \r\n```\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;fs.default.name&lt;/name&gt;\r\n       &lt;value&gt;hdfs://ubuntu:9000&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\n```\r\n\r\n**/usr/local/hadoop/etc/hadoop/hdfs-site.xml:**\r\n```\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.replication&lt;/name&gt;\r\n       &lt;value&gt;3&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\r\n       &lt;value&gt; file:/usr/local/hadoop/hadoop_data/hdfs/namenode&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.rpc-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.servicerpc-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.lifeline.rpc-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.http-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.https-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n```\r\n**/usr/local/hadoop/etc/hadoop/yarn-site.xml:** \r\n```\r\n    &lt;configuration&gt;\r\n    \r\n    &lt;!-- Site specific YARN configuration properties --&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\r\n       &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;\r\n       &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:8025&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:8030&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:8050&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n    \t&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\r\n    \t&lt;value&gt;ubuntu&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt;\r\n        &lt;value&gt;5&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;\r\n        &lt;value&gt;false&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\r\n        &lt;value&gt;false&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;!--\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;\r\n        &lt;value&gt;0.0.0.0:8088&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    --&gt;\r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.resourcemanager.bind-host&lt;/name&gt;\r\n        &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n```\r\n\r\n**/usr/local/hadoop/etc/hadoop/mapred-site.xml:** \r\n```\r\n    &lt;configuration&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;mapred.job.tracker&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:54311&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n```\r\n**Master jps:**\r\n```\r\n    20624 NameNode\r\n    20898 SecondaryNameNode\r\n    21836 Jps\r\n    21404 SparkSubmit\r\n    21086 ResourceManager\r\n```\r\n**Slave jps:**\r\n```\r\n    9365 DataNode\r\n    9948 Jps\r\n    9535 NodeManager\r\n```\r\n **netstat -tpnl | grep java:**\r\n```\r\n    (Not all processes could be identified, non-owned process info\r\n     will not be shown, you would have to be root to see it all.)\r\n    tcp        0      0 0.0.0.0:9000            0.0.0.0:*               LISTEN      20624/java          \r\n    tcp        0      0 0.0.0.0:50090           0.0.0.0:*               LISTEN      20898/java          \r\n    tcp        0      0 0.0.0.0:50070           0.0.0.0:*               LISTEN      20624/java          \r\n    tcp6       0      0 :::8050                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 127.0.0.1:43319         :::*                    LISTEN      21404/java          \r\n    tcp6       0      0 :::8088                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 :::8025                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 :::8030                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 :::8033                 :::*                    LISTEN \r\n```\r\nHave you any idea, how can I solve my problem?\r\n**Thank you!!!**","title":"Run pyspark on hadoop yarn Failed to connect to localhost/127.0.0.1:46311","body":"<p>When I run pyspark in hadoop yarn:</p>\n<pre><code>HADOOP_CONF_DIR=/usr/local/hadoop/etc/hadoop/ pyspark --master yarn --deploy-mode client\n</code></pre>\n<p>It gave me this:\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311</p>\n<pre><code>&gt; In [1]: sc20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: YARN application has exited unexpectedly with state FAILED! Check the YARN application logs for more details.\n20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: Diagnostics message: Uncaught exception: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:302)\n    at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:101)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:109)\n    at org.apache.spark.deploy.yarn.ApplicationMaster.runExecutorLauncher(ApplicationMaster.scala:547)\n    at org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:266)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:890)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:889)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1746)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:889)\n    at org.apache.spark.deploy.yarn.ExecutorLauncher$.main(ApplicationMaster.scala:921)\n    at org.apache.spark.deploy.yarn.ExecutorLauncher.main(ApplicationMaster.scala)\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:253)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:195)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:46311\nCaused by: java.net.ConnectException: Connection refused\n    at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:715)\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p><strong>/etc/hosts:</strong></p>\n<pre><code>    127.0.0.1   localhost\n    # 127.0.1.1 oaa-virtual-machine\n    \n    192.168.32.127      ubuntu\n    192.168.32.128      ubuntu001\n    192.168.32.129      ubuntu002\n    192.168.32.130      ubuntu003\n    \n    \n    # The following lines are desirable for IPv6 capable hosts\n    ::1     ip6-localhost ip6-loopback\n    fe00::0 ip6-localnet\n    ff00::0 ip6-mcastprefix\n    ff02::1 ip6-allnodes\n    ff02::2 ip6-allrouters\n\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/core-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    &lt;property&gt;\n       &lt;name&gt;fs.default.name&lt;/name&gt;\n       &lt;value&gt;hdfs://ubuntu:9000&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;/configuration&gt;\n\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/hdfs-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    &lt;property&gt;\n       &lt;name&gt;dfs.replication&lt;/name&gt;\n       &lt;value&gt;3&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\n       &lt;value&gt; file:/usr/local/hadoop/hadoop_data/hdfs/namenode&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.rpc-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.servicerpc-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.lifeline.rpc-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.http-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.https-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;/configuration&gt;\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/yarn-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    \n    &lt;!-- Site specific YARN configuration properties --&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n       &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;\n       &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;\n       &lt;value&gt;ubuntu:8025&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;\n       &lt;value&gt;ubuntu:8030&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;\n       &lt;value&gt;ubuntu:8050&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\n        &lt;value&gt;ubuntu&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt;\n        &lt;value&gt;5&lt;/value&gt;\n    &lt;/property&gt;\n    \n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;\n        &lt;value&gt;false&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\n        &lt;value&gt;false&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;!--\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;\n        &lt;value&gt;0.0.0.0:8088&lt;/value&gt;\n    &lt;/property&gt;\n    --&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.bind-host&lt;/name&gt;\n        &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;/configuration&gt;\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/mapred-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;mapred.job.tracker&lt;/name&gt;\n       &lt;value&gt;ubuntu:54311&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;/configuration&gt;\n</code></pre>\n<p><strong>Master jps:</strong></p>\n<pre><code>    20624 NameNode\n    20898 SecondaryNameNode\n    21836 Jps\n    21404 SparkSubmit\n    21086 ResourceManager\n</code></pre>\n<p><strong>Slave jps:</strong></p>\n<pre><code>    9365 DataNode\n    9948 Jps\n    9535 NodeManager\n</code></pre>\n<p><strong>netstat -tpnl | grep java:</strong></p>\n<pre><code>    (Not all processes could be identified, non-owned process info\n     will not be shown, you would have to be root to see it all.)\n    tcp        0      0 0.0.0.0:9000            0.0.0.0:*               LISTEN      20624/java          \n    tcp        0      0 0.0.0.0:50090           0.0.0.0:*               LISTEN      20898/java          \n    tcp        0      0 0.0.0.0:50070           0.0.0.0:*               LISTEN      20624/java          \n    tcp6       0      0 :::8050                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 127.0.0.1:43319         :::*                    LISTEN      21404/java          \n    tcp6       0      0 :::8088                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 :::8025                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 :::8030                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 :::8033                 :::*                    LISTEN \n</code></pre>\n<p>Have you any idea, how can I solve my problem?\n<strong>Thank you!!!</strong></p>\n"},{"tags":["java","android","android-file"],"comments":[{"owner":{"account_id":9534524,"reputation":541,"user_id":11440180,"display_name":"Mehdi Yari"},"score":0,"creation_date":1588190128,"post_id":61510344,"comment_id":108808571,"body_markdown":"[this link](https://developer.android.com/training/data-storage) say getFileDir is app specific and no other app cant read files in this dir.\nbut when use getExternalFileDir all apps can read files in this dir","body":"<a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">this link</a> say getFileDir is app specific and no other app cant read files in this dir. but when use getExternalFileDir all apps can read files in this dir"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1588190281,"post_id":61510344,"comment_id":108808641,"body_markdown":"&quot;using getFilesDir() to store data (camera captures in my case) is somewhat temporary&quot; -- it is not temporary. &quot;I say somewhat because if I close and reopen the app, I&#39;m able to access the directory and files list, but not the file itself&quot; -- please provide a [mcve] showing your code that implements the &quot;access the directory and files list, but not the file itself&quot; logic. &quot;Out of the 2 methods, which is more recommended in&quot; -- `getFilesDir()`, unless the user needs independent access to the content.","body":"&quot;using getFilesDir() to store data (camera captures in my case) is somewhat temporary&quot; -- it is not temporary. &quot;I say somewhat because if I close and reopen the app, I&#39;m able to access the directory and files list, but not the file itself&quot; -- please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing your code that implements the &quot;access the directory and files list, but not the file itself&quot; logic. &quot;Out of the 2 methods, which is more recommended in&quot; -- <code>getFilesDir()</code>, unless the user needs independent access to the content."}],"answers":[{"tags":[],"owner":{"account_id":17166193,"reputation":1363,"user_id":12424486,"display_name":"MustafaKhaled"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1588249923,"creation_date":1588249923,"answer_id":61523467,"question_id":61510344,"body_markdown":"Simply, \r\n**getFilesDir()** refers to internal storage that cannot be accessible outside your application. It&#39;s not explorable by the device as well.\r\n\r\ngetExternalFilesDir() refers to external storage, it&#39;s a type of App-specific storage. this can be explorable as you find its directory in \r\n\r\n***data/data/your package name***\r\n\r\nIn general, you may use external storage as internal storage may be limited.\r\n\r\nFor privacy, if you need you to file security, use **getFilesDir()** as it&#39;s not accessible outside your application as I mentioned before.","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p>Simply, \n<strong>getFilesDir()</strong> refers to internal storage that cannot be accessible outside your application. It's not explorable by the device as well.</p>\n\n<p>getExternalFilesDir() refers to external storage, it's a type of App-specific storage. this can be explorable as you find its directory in </p>\n\n<p><strong><em>data/data/your package name</em></strong></p>\n\n<p>In general, you may use external storage as internal storage may be limited.</p>\n\n<p>For privacy, if you need you to file security, use <strong>getFilesDir()</strong> as it's not accessible outside your application as I mentioned before.</p>\n"},{"tags":[],"owner":{"account_id":18784711,"reputation":49,"user_id":13698551,"display_name":"atla praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627635654,"creation_date":1627635654,"answer_id":68588229,"question_id":61510344,"body_markdown":"The main difference between the two is:\r\ngetFilesDir() - This path will be hidden from the user. This is more secure approach.\r\ngetExternalFilesDir() - Accessible by the user.\r\n\r\nReceived a good documentation on this which provides clear understanding:\r\nhttp://androidvogella.blogspot.com/2015/12/getfilesdir-vs-getexternalfilesdir-vs.html\r\n\r\n","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p>The main difference between the two is:\ngetFilesDir() - This path will be hidden from the user. This is more secure approach.\ngetExternalFilesDir() - Accessible by the user.</p>\n<p>Received a good documentation on this which provides clear understanding:\n<a href=\"http://androidvogella.blogspot.com/2015/12/getfilesdir-vs-getexternalfilesdir-vs.html\" rel=\"nofollow noreferrer\">http://androidvogella.blogspot.com/2015/12/getfilesdir-vs-getexternalfilesdir-vs.html</a></p>\n"},{"comments":[{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1696410204,"post_id":75203065,"comment_id":136147909,"body_markdown":"My year-old phone (Redmi 10C) has an SD card slot. Or it has a tray where I can put both an SD card and a SIM card, if that makes a difference. Would that be treated as the external or would Android still do the emulated external on my phone?","body":"My year-old phone (Redmi 10C) has an SD card slot. Or it has a tray where I can put both an SD card and a SIM card, if that makes a difference. Would that be treated as the external or would Android still do the emulated external on my phone?"},{"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"score":1,"creation_date":1696432979,"post_id":75203065,"comment_id":136152887,"body_markdown":"@hippietrail most likely external. But try it and let us know! Genuinely interested to hear, there&#39;s not a lot of current phones out there with SD card slots, so very little opportunity to try it out","body":"@hippietrail most likely external. But try it and let us know! Genuinely interested to hear, there&#39;s not a lot of current phones out there with SD card slots, so very little opportunity to try it out"},{"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"score":0,"creation_date":1701942515,"post_id":75203065,"comment_id":136838113,"body_markdown":"Does that mean that `getFilesDir()` and `getExternalFilesDir()` have different storage space ? if yes which of the 2 folders is bigger ?\nEDIT: I&#39;ve tried it out on my phone, the 2 have the same totalSpace and freeSpace","body":"Does that mean that <code>getFilesDir()</code> and <code>getExternalFilesDir()</code> have different storage space ? if yes which of the 2 folders is bigger ? EDIT: I&#39;ve tried it out on my phone, the 2 have the same totalSpace and freeSpace"},{"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"score":0,"creation_date":1702030324,"post_id":75203065,"comment_id":136850326,"body_markdown":"@Biscuit They definitely *could* have different storage space because they could refer to different drives altogether. E.g. in the case where the phone has internal memory and and SD card slot. But more recent phones only have internal memory, and the external is simulated using that. So it reports the same free+total space for it, because it&#39;s the same drive. More info in the article I linked above.","body":"@Biscuit They definitely <i>could</i> have different storage space because they could refer to different drives altogether. E.g. in the case where the phone has internal memory and and SD card slot. But more recent phones only have internal memory, and the external is simulated using that. So it reports the same free+total space for it, because it&#39;s the same drive. More info in the article I linked above."},{"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"score":0,"creation_date":1702032055,"post_id":75203065,"comment_id":136850665,"body_markdown":"I have run some more test with a tablet that has SD card and turns out `getExternalFilesDir` return the emulated memory.","body":"I have run some more test with a tablet that has SD card and turns out <code>getExternalFilesDir</code> return the emulated memory."},{"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"score":0,"creation_date":1702032526,"post_id":75203065,"comment_id":136850724,"body_markdown":"To make sure the file is emulated there is `Environment#isExternalStorageEmulated(File)`","body":"To make sure the file is emulated there is <code>Environment#isExternalStorageEmulated(File)</code>"},{"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"score":0,"creation_date":1702036034,"post_id":75203065,"comment_id":136851274,"body_markdown":"Ok this is where it gets complicated. What you&#39;re seeing is probably _adopted_ external storage. That&#39;s where the OS uses the SD card and internal memory together as one big drive. It&#39;s a strategy for handling small internal storage and a way of having apps installed which take up more space than is available on just the internal.","body":"Ok this is where it gets complicated. What you&#39;re seeing is probably <i>adopted</i> external storage. That&#39;s where the OS uses the SD card and internal memory together as one big drive. It&#39;s a strategy for handling small internal storage and a way of having apps installed which take up more space than is available on just the internal."}],"tags":[],"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674413989,"creation_date":1674413989,"answer_id":75203065,"question_id":61510344,"body_markdown":"**Update for the latest Android (currently Android 13)**\r\n\r\nIn the old days `getFilesDir()` used to mean internal storage, and `getExternalFilesDir()` used to mean anything plugged in (usually an SD card).\r\n\r\nThese days phones don&#39;t have SD card slots, so the device emulates external storage by grabbing a slice of internal storage for the purpose. So the historic differences - that internal was faster and smaller, and external slower and larger - are generally no longer true.\r\n\r\nIn both cases apps get **scoped** storage - i.e. a directory they can access without permissions, which isn&#39;t accessible by any other app (though see below). This has been the case since Android 10 (but only enforced in Android 11).\r\n\r\nFiles stored under `getFilesDir()` and `getExternalFilesDir()` will be deleted when the app is uninstalled, but will persist until then. (If you&#39;re finding a file disappears before then, you have a different problem. I would suggest posting your code in a separate question).\r\n\r\nThe only major remaining difference between internal and external is that apps *can* get request a permission to read/write the entirety of external storage, including files it doesn&#39;t own. So don&#39;t use external for files that need to remain private to the app.\r\n\r\nMore information in this article: https://medium.com/@tdcolvin/demystifying-internal-vs-external-storage-in-modern-android-c9c31cb8eeec","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p><strong>Update for the latest Android (currently Android 13)</strong></p>\n<p>In the old days <code>getFilesDir()</code> used to mean internal storage, and <code>getExternalFilesDir()</code> used to mean anything plugged in (usually an SD card).</p>\n<p>These days phones don't have SD card slots, so the device emulates external storage by grabbing a slice of internal storage for the purpose. So the historic differences - that internal was faster and smaller, and external slower and larger - are generally no longer true.</p>\n<p>In both cases apps get <strong>scoped</strong> storage - i.e. a directory they can access without permissions, which isn't accessible by any other app (though see below). This has been the case since Android 10 (but only enforced in Android 11).</p>\n<p>Files stored under <code>getFilesDir()</code> and <code>getExternalFilesDir()</code> will be deleted when the app is uninstalled, but will persist until then. (If you're finding a file disappears before then, you have a different problem. I would suggest posting your code in a separate question).</p>\n<p>The only major remaining difference between internal and external is that apps <em>can</em> get request a permission to read/write the entirety of external storage, including files it doesn't own. So don't use external for files that need to remain private to the app.</p>\n<p>More information in this article: <a href=\"https://medium.com/@tdcolvin/demystifying-internal-vs-external-storage-in-modern-android-c9c31cb8eeec\" rel=\"nofollow noreferrer\">https://medium.com/@tdcolvin/demystifying-internal-vs-external-storage-in-modern-android-c9c31cb8eeec</a></p>\n"}],"owner":{"account_id":18391159,"reputation":112,"user_id":13396808,"display_name":"sonofel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3840,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61523467,"answer_count":3,"score":3,"last_activity_date":1696409793,"creation_date":1588189386,"question_id":61510344,"body_markdown":"As far as I&#39;ve noticed, using `getFilesDir()` to store data (camera captures in my case) is somewhat temporary. I say somewhat because if I close and reopen the app, I&#39;m able to access the directory and file list, but not the file itself.\r\n\r\nIs my logic wrong or is that by design?  \r\nOut of the 2 methods, which is more recommended in:\r\n\r\n 1. general\r\n 2. my case (privacy is needed)","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p>As far as I've noticed, using <code>getFilesDir()</code> to store data (camera captures in my case) is somewhat temporary. I say somewhat because if I close and reopen the app, I'm able to access the directory and file list, but not the file itself.</p>\n<p>Is my logic wrong or is that by design?<br />\nOut of the 2 methods, which is more recommended in:</p>\n<ol>\n<li>general</li>\n<li>my case (privacy is needed)</li>\n</ol>\n"},{"tags":["java","yaml","app.yaml"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1699633323,"post_id":77228104,"comment_id":136560665,"body_markdown":"can you provide more info/code?","body":"can you provide more info/code?"}],"owner":{"account_id":25412502,"reputation":29,"user_id":19220058,"display_name":"Evgen Kr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696409315,"creation_date":1696409315,"question_id":77228104,"body_markdown":"How from file.yaml in the root of app get data in several yaml&#39;s files which are in resources directory. I tried use this  @{some-key data}:some value. However it doesn&#39;t work","title":"How from file.yaml in the root of app get data in several yaml&#39;s files which are in resources directory","body":"<p>How from file.yaml in the root of app get data in several yaml's files which are in resources directory. I tried use this  @{some-key data}:some value. However it doesn't work</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"score":0,"creation_date":1696341711,"post_id":77222676,"comment_id":136138438,"body_markdown":"After a registration post to /auth/register the user is created properly in the database. I additionally tried annotating the AuthenticationServer with @Transactional but still I only get a 403 back.","body":"After a registration post to /auth/register the user is created properly in the database. I additionally tried annotating the AuthenticationServer with @Transactional but still I only get a 403 back."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1696355497,"post_id":77222676,"comment_id":136141256,"body_markdown":"Can i ask why you are building an insecure login that does not exist in spring security? You are aware that you cant logout your user and that jwts should not be handed out to browsers?","body":"Can i ask why you are building an insecure login that does not exist in spring security? You are aware that you cant logout your user and that jwts should not be handed out to browsers?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696356537,"post_id":77222676,"comment_id":136141464,"body_markdown":"What does your own `User` object look like? How is the `UserDetails` interface being implemented?","body":"What does your own <code>User</code> object look like? How is the <code>UserDetails</code> interface being implemented?"},{"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"score":0,"creation_date":1696440083,"post_id":77222676,"comment_id":136154383,"body_markdown":"@Toerktumlare What exactly is the problem with the jwts handed to the browser? I thought that was common practice.","body":"@Toerktumlare What exactly is the problem with the jwts handed to the browser? I thought that was common practice."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1696442098,"post_id":77222676,"comment_id":136154752,"body_markdown":"First of all, you cant logout a user, because you cant invalidate a single jwt. Second of all, there is no way to stora a jwt securely in the browser. It is far from common practice. The common practice is to implement either session based login using cookies which is called `FormLogin` in spring security. Or implement the oauth2 flow called `Authorization Code flow with PKCE` every tutorial that hands out JWTs to browsers are written by developers that dont know how security works.","body":"First of all, you cant logout a user, because you cant invalidate a single jwt. Second of all, there is no way to stora a jwt securely in the browser. It is far from common practice. The common practice is to implement either session based login using cookies which is called <code>FormLogin</code> in spring security. Or implement the oauth2 flow called <code>Authorization Code flow with PKCE</code> every tutorial that hands out JWTs to browsers are written by developers that dont know how security works."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1696442183,"post_id":77222676,"comment_id":136154774,"body_markdown":"Do a little bit of thinking, why do you think that spring security a security library used by +10 000 applications, written by security experts, doesn‚Äôt have that implemented? There might be a good reason for it.","body":"Do a little bit of thinking, why do you think that spring security a security library used by +10 000 applications, written by security experts, doesn‚Äôt have that implemented? There might be a good reason for it."}],"answers":[{"tags":[],"owner":{"account_id":18087817,"reputation":24,"user_id":19673058,"display_name":"Craig Roberts"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1696408359,"creation_date":1696408359,"answer_id":77228003,"question_id":77222676,"body_markdown":"In JWTService you are performing the following action \r\n\r\n    public boolean isTokenValid(String token, UserDetails userDetails) {\r\n        final String username = extractUsername(token);\r\n        return (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n\r\nshould this instead be &#39;return username.equals(userDetails.getUsername())....&#39; or similar.\r\n\r\nCurrently isTokenValid() will always return false as username is a String and userDetails is an object of type UserDetails. This would lead to 403 being returned on all endpoints validated with this method.","title":"Spring Boot Security - Every endpoint is 403 forbidden and Spring logs a BasicErrorController#error(HttpServletRequest)","body":"<p>In JWTService you are performing the following action</p>\n<pre><code>public boolean isTokenValid(String token, UserDetails userDetails) {\n    final String username = extractUsername(token);\n    return (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\n}\n</code></pre>\n<p>should this instead be 'return username.equals(userDetails.getUsername())....' or similar.</p>\n<p>Currently isTokenValid() will always return false as username is a String and userDetails is an object of type UserDetails. This would lead to 403 being returned on all endpoints validated with this method.</p>\n"}],"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77228003,"answer_count":1,"score":1,"last_activity_date":1696408359,"creation_date":1696339503,"question_id":77222676,"body_markdown":"My application sends a list of servers as json from my database (endpoint &quot;/server/list&quot;). It works fine without all the authentication stuff. I implemented everything from this [Tutorial][1] into my application and I can register a user without any problems, when I send a postman request:\r\n\r\nhttp://localhost:8080/auth/register\r\n```\r\n{\r\n    &quot;firstname&quot;: &quot;Mary&quot;,\r\n    &quot;lastname&quot;: &quot;Hyne&quot;,\r\n    &quot;email&quot;: &quot;maryhyne@google.com&quot;,\r\n    &quot;password&quot;: &quot;asdf&quot;\r\n}\r\n```\r\n\r\nA JWT Token is generated and I use them in the Authorization header of my other request:\r\n\r\nhttp://localhost:8080/server/list (Authorization -&gt; Bearer Token)\r\n\r\n\r\nBut I always get a 403 Forbidden answer. There is also no helpful Exception. Only the message &quot;Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)&quot;. So I dont know what is wrong. Since I cant even grasp what the error might be, I post the most appearently important code. I will spare out the server repository stuff, since that works:\r\n\r\n**api.ServerController**\r\n```\r\npackage com.socie.backend.api;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.Map;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.socie.backend.model.Response;\r\nimport com.socie.backend.service.implementation.ServerServiceImpl;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/server&quot;)\r\n@RequiredArgsConstructor\r\npublic class ServerController {\r\n\tprivate final ServerServiceImpl serverService;\r\n\t\r\n\t@GetMapping(&quot;/list&quot;)\r\n\tpublic  ResponseEntity&lt;Response&gt; getServers() throws InterruptedException {\r\n\t\tTimeUnit.SECONDS.sleep(3);\r\n\t\treturn ResponseEntity.ok(\r\n\t\t\t\tResponse.builder()\r\n\t\t\t\t.timestamp(LocalDateTime.now())\r\n\t\t\t\t.data(Map.of(&quot;servers&quot;, serverService.list(30)))\r\n\t\t\t\t.message(&quot;Servers retrieved&quot;)\r\n\t\t\t\t.status(HttpStatus.OK)\r\n\t\t\t\t.statusCode(HttpStatus.OK.value())\r\n\t\t\t\t.build()\r\n\t\t);\r\n\t}\r\n}\r\n```\r\n\r\n**api.AuthenticationController** \r\n```\r\npackage com.socie.backend.api;\r\n\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.socie.backend.model.AuthenticationRequest;\r\nimport com.socie.backend.model.AuthenticationResponse;\r\nimport com.socie.backend.model.RegisterRequest;\r\nimport com.socie.backend.service.AuthenticationService;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@RequiredArgsConstructor\r\npublic class AuthenticationController {\r\n\r\n\tprivate final AuthenticationService authService;\r\n\r\n\t@PostMapping(&quot;/register&quot;)\r\n\tpublic ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegisterRequest request) {\r\n\t\treturn ResponseEntity.ok(authService.register(request));\r\n\t\t\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/authenticate&quot;)\r\n\tpublic ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody AuthenticationRequest request) {\r\n\t\treturn ResponseEntity.ok(authService.authenticate(request));\r\n\t\t\r\n\t}}\r\n```\r\n**service.AuthenticationService** \r\n```\r\npackage com.socie.backend.service;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.socie.backend.config.JwtService;\r\nimport com.socie.backend.model.AuthenticationRequest;\r\nimport com.socie.backend.model.AuthenticationResponse;\r\nimport com.socie.backend.model.RegisterRequest;\r\nimport com.socie.backend.model.Role;\r\nimport com.socie.backend.model.User;\r\nimport com.socie.backend.repo.UserRepo;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n\t\r\n\tprivate final UserRepo userRepo;\r\n\t\r\n\tprivate final PasswordEncoder passwordEncoder;\r\n\t\r\n\tprivate final JwtService jwtService;\r\n\t\r\n\tprivate final AuthenticationManager authenticationManager;\r\n\t\r\n\tpublic AuthenticationResponse register(RegisterRequest request) {\r\n\r\n\t\tvar user = User.builder()\r\n\t\t\t\t.firstname(request.getFirstname())\r\n\t\t\t\t.lastname(request.getLastname())\r\n\t\t\t\t.email(request.getEmail())\r\n\t\t\t\t.password(passwordEncoder.encode(request.getPassword()))\r\n\t\t\t\t.role(Role.USER)\r\n\t\t\t\t.build();\r\n\t\tuserRepo.save(user);\r\n\t\t\r\n\t\tvar jwtToken = jwtService.generateToken(user);\r\n\t\treturn AuthenticationResponse.builder()\r\n\t\t\t\t.token(jwtToken)\r\n\t\t\t\t.build();\r\n\t\t\t\t\r\n\t}\r\n\r\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n\tauthenticationManager.authenticate(\r\n\t\t\tnew UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\trequest.getEmail(),\r\n\t\t\t\t\trequest.getPassword()\r\n\t\t\t\t\t)\r\n\t\t\t);\r\n\t\r\n\tvar user = userRepo.findByEmail(request.getEmail())\r\n\t\t\t.orElseThrow();\r\n\t\r\n\tvar jwtToken = jwtService.generateToken(user);\r\n\treturn AuthenticationResponse.builder()\r\n\t\t\t.token(jwtToken)\r\n\t\t\t.build();\r\n}\r\n\r\n}\r\n\r\n```\r\n**config.ApplicationConfig**\r\n```\r\npackage com.socie.backend.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport com.socie.backend.repo.UserRepo;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n\tprivate final UserRepo userRepo;\r\n\t\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\treturn username -&gt; userRepo.findByEmail(username)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n\t\t\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\t\tauthProvider.setUserDetailsService(userDetailsService());\r\n\t\tauthProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authProvider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n\t\treturn config.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**config.JwtAuthenticationFilter**\r\n```\r\npackage com.socie.backend.config;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n\tprivate final JwtService jwtService;\r\n\tprivate final UserDetailsService userDetailsService;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response,\r\n\t\t\t@NonNull FilterChain filterChain) throws ServletException, IOException {\r\n\t\tfinal String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tfinal String jwt;\r\n\t\tfinal String userEmail;\r\n\t\tif (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\tfilterChain.doFilter(request, response);\r\n\t\t\t;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tjwt = authHeader.substring(7);\r\n\t\tuserEmail = jwtService.extractUsername(jwt);\r\n\t\tif (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\t\t\tUserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n\t\t\tif (jwtService.isTokenValid(jwt, userDetails)) {\r\n\t\t\t\tUsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails,\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\tuserDetails.getAuthorities()\r\n\t\t\t\t\t\t);\r\n\t\t\t\tauthToken.setDetails(\r\n\t\t\t\t\t\tnew WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authToken);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfilterChain.doFilter(request,  response);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**config.JwtService** \r\n```\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\n\r\n@Service\r\npublic class JwtService {\r\n\r\n\tprivate static final String SECRET_KEY = &quot;ec9d2d0f7dd840b43cb0e52c189eb4c06c3b0307c2abf4c5aeef0d689ad12f19&quot;;\r\n\tpublic String extractUsername(String token) {\r\n\t\treturn extractClaim(token, Claims::getSubject);\r\n\t}\r\n\t\r\n\tpublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n\t\tfinal Claims claims = extractAllClaims(token);\r\n\t\treturn claimsResolver.apply(claims);\r\n\t}\r\n\t\r\n\tpublic String generateToken(\r\n\t\t\tMap&lt;String, Object&gt; extraClaims,\r\n\t\t\tUserDetails userDetails)\r\n\t{\r\n\t\treturn Jwts\r\n\t\t\t\t.builder()\r\n\t\t\t\t.setClaims(extraClaims)\r\n\t\t\t\t.setSubject(userDetails.getUsername())\r\n\t\t\t\t.setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\r\n\t\t\t\t.signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n\t\t\t\t.compact();\r\n\t}\r\n\t\r\n\tpublic boolean isTokenValid(String token, UserDetails userDetails) {\r\n\t\tfinal String username = extractUsername(token);\r\n\t\treturn (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\r\n\t}\r\n\t\r\n\tprivate boolean isTokenExpired(String token) {\r\n\t\treturn extractExpiration(token).before(new Date());\r\n\t}\r\n\r\n\tprivate Date extractExpiration(String token) {\r\n\t\treturn extractClaim(token, Claims::getExpiration);\r\n\t}\r\n\r\n\tpublic String generateToken(UserDetails userDetails) {\r\n\t\treturn generateToken(new HashMap&lt;&gt;(), userDetails);\r\n\t}\r\n\t\r\n\tpublic Claims extractAllClaims(String token) {\r\n\t\treturn Jwts.\r\n\t\t\t\tparserBuilder()\r\n\t\t\t\t.setSigningKey(getSignInKey())\r\n\t\t\t\t.build()\r\n\t\t\t\t.parseClaimsJws(token)\r\n\t\t\t\t.getBody();\r\n\t}\r\n\r\n\tprivate Key getSignInKey() {\r\n\t\tbyte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n\t\treturn Keys.hmacShaKeyFor(keyBytes);\r\n\t}\r\n}\r\n```\r\n\r\n**config.SecurityConfiguration**\r\n```\r\npackage com.socie.backend.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n\tprivate final AuthenticationProvider authenticationProvider;\r\n\tprivate final JwtAuthenticationFilter jwtAuthFilter;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf()\r\n        .disable()\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/auth/**&quot;)\r\n        .permitAll()\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        .authenticationProvider(authenticationProvider)\r\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\r\n                \r\n        return http.build();\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://www.youtube.com/watch?v=KxqlJblhzfI&amp;list=PLxS-v6jO4Fxv3Z4fRSFSPZUiGaSyx3Olh&amp;index=33&amp;ab_channel=Amigoscode","title":"Spring Boot Security - Every endpoint is 403 forbidden and Spring logs a BasicErrorController#error(HttpServletRequest)","body":"<p>My application sends a list of servers as json from my database (endpoint &quot;/server/list&quot;). It works fine without all the authentication stuff. I implemented everything from this <a href=\"https://www.youtube.com/watch?v=KxqlJblhzfI&amp;list=PLxS-v6jO4Fxv3Z4fRSFSPZUiGaSyx3Olh&amp;index=33&amp;ab_channel=Amigoscode\" rel=\"nofollow noreferrer\">Tutorial</a> into my application and I can register a user without any problems, when I send a postman request:</p>\n<p>http://localhost:8080/auth/register</p>\n<pre><code>{\n    &quot;firstname&quot;: &quot;Mary&quot;,\n    &quot;lastname&quot;: &quot;Hyne&quot;,\n    &quot;email&quot;: &quot;maryhyne@google.com&quot;,\n    &quot;password&quot;: &quot;asdf&quot;\n}\n</code></pre>\n<p>A JWT Token is generated and I use them in the Authorization header of my other request:</p>\n<p>http://localhost:8080/server/list (Authorization -&gt; Bearer Token)</p>\n<p>But I always get a 403 Forbidden answer. There is also no helpful Exception. Only the message &quot;Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)&quot;. So I dont know what is wrong. Since I cant even grasp what the error might be, I post the most appearently important code. I will spare out the server repository stuff, since that works:</p>\n<p><strong>api.ServerController</strong></p>\n<pre><code>package com.socie.backend.api;\n\nimport java.time.LocalDateTime;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.socie.backend.model.Response;\nimport com.socie.backend.service.implementation.ServerServiceImpl;\n\nimport lombok.RequiredArgsConstructor;\n\n@RestController\n@RequestMapping(&quot;/server&quot;)\n@RequiredArgsConstructor\npublic class ServerController {\n    private final ServerServiceImpl serverService;\n    \n    @GetMapping(&quot;/list&quot;)\n    public  ResponseEntity&lt;Response&gt; getServers() throws InterruptedException {\n        TimeUnit.SECONDS.sleep(3);\n        return ResponseEntity.ok(\n                Response.builder()\n                .timestamp(LocalDateTime.now())\n                .data(Map.of(&quot;servers&quot;, serverService.list(30)))\n                .message(&quot;Servers retrieved&quot;)\n                .status(HttpStatus.OK)\n                .statusCode(HttpStatus.OK.value())\n                .build()\n        );\n    }\n}\n</code></pre>\n<p><strong>api.AuthenticationController</strong></p>\n<pre><code>package com.socie.backend.api;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.socie.backend.model.AuthenticationRequest;\nimport com.socie.backend.model.AuthenticationResponse;\nimport com.socie.backend.model.RegisterRequest;\nimport com.socie.backend.service.AuthenticationService;\n\nimport lombok.RequiredArgsConstructor;\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n\n    private final AuthenticationService authService;\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegisterRequest request) {\n        return ResponseEntity.ok(authService.register(request));\n        \n    }\n    \n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody AuthenticationRequest request) {\n        return ResponseEntity.ok(authService.authenticate(request));\n        \n    }}\n</code></pre>\n<p><strong>service.AuthenticationService</strong></p>\n<pre><code>package com.socie.backend.service;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.socie.backend.config.JwtService;\nimport com.socie.backend.model.AuthenticationRequest;\nimport com.socie.backend.model.AuthenticationResponse;\nimport com.socie.backend.model.RegisterRequest;\nimport com.socie.backend.model.Role;\nimport com.socie.backend.model.User;\nimport com.socie.backend.repo.UserRepo;\n\nimport lombok.RequiredArgsConstructor;\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n    \n    private final UserRepo userRepo;\n    \n    private final PasswordEncoder passwordEncoder;\n    \n    private final JwtService jwtService;\n    \n    private final AuthenticationManager authenticationManager;\n    \n    public AuthenticationResponse register(RegisterRequest request) {\n\n        var user = User.builder()\n                .firstname(request.getFirstname())\n                .lastname(request.getLastname())\n                .email(request.getEmail())\n                .password(passwordEncoder.encode(request.getPassword()))\n                .role(Role.USER)\n                .build();\n        userRepo.save(user);\n        \n        var jwtToken = jwtService.generateToken(user);\n        return AuthenticationResponse.builder()\n                .token(jwtToken)\n                .build();\n                \n    }\n\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\n    authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    request.getEmail(),\n                    request.getPassword()\n                    )\n            );\n    \n    var user = userRepo.findByEmail(request.getEmail())\n            .orElseThrow();\n    \n    var jwtToken = jwtService.generateToken(user);\n    return AuthenticationResponse.builder()\n            .token(jwtToken)\n            .build();\n}\n\n}\n\n</code></pre>\n<p><strong>config.ApplicationConfig</strong></p>\n<pre><code>package com.socie.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport com.socie.backend.repo.UserRepo;\n\nimport lombok.RequiredArgsConstructor;\n@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final UserRepo userRepo;\n    \n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userRepo.findByEmail(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        \n    }\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p><strong>config.JwtAuthenticationFilter</strong></p>\n<pre><code>package com.socie.backend.config;\n\nimport java.io.IOException;\n\nimport org.springframework.lang.NonNull;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport lombok.RequiredArgsConstructor;\n\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            ;\n            return;\n        }\n\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if (jwtService.isTokenValid(jwt, userDetails)) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                        );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        \n        filterChain.doFilter(request,  response);\n    }\n\n}\n</code></pre>\n<p><strong>config.JwtService</strong></p>\n<pre><code>import java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\n\n@Service\npublic class JwtService {\n\n    private static final String SECRET_KEY = &quot;ec9d2d0f7dd840b43cb0e52c189eb4c06c3b0307c2abf4c5aeef0d689ad12f19&quot;;\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n    \n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n    \n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetails userDetails)\n    {\n        return Jwts\n                .builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n    \n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\n    }\n    \n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    public String generateToken(UserDetails userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n    \n    public Claims extractAllClaims(String token) {\n        return Jwts.\n                parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n}\n</code></pre>\n<p><strong>config.SecurityConfiguration</strong></p>\n<pre><code>package com.socie.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final AuthenticationProvider authenticationProvider;\n    private final JwtAuthenticationFilter jwtAuthFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n        .csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\n                \n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","menu","android-actionbar"],"answers":[{"tags":[],"owner":{"account_id":27749908,"reputation":1,"user_id":21184512,"display_name":"Gordon leung"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696406471,"creation_date":1696406471,"answer_id":77227791,"question_id":77227634,"body_markdown":"you can have a look at your main style in your themes.xml to check whether the Action Bar is dismissed or not.\r\n\r\nYou main style name should be like Theme.YourProjectName\r\n\r\nand the themes.xml should be located inside your resources root &#39;s value package\r\n\r\nHere is the example of Not showing a Action Bar \r\n\r\n    &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\nAnd Here is the example of Showing a Action Bar for you App\r\n\r\n     &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n    ","title":"action bar not showing in activity","body":"<p>you can have a look at your main style in your themes.xml to check whether the Action Bar is dismissed or not.</p>\n<p>You main style name should be like Theme.YourProjectName</p>\n<p>and the themes.xml should be located inside your resources root 's value package</p>\n<p>Here is the example of Not showing a Action Bar</p>\n<pre><code>&lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>And Here is the example of Showing a Action Bar for you App</p>\n<pre><code> &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29593293,"reputation":3,"user_id":22680349,"display_name":"vishwas babar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696408185,"creation_date":1696408185,"answer_id":77227980,"question_id":77227634,"body_markdown":"in AndroidManifest.xml file, inside the Application tag replace this line,\r\n\r\n     android:theme=&quot;@style/Theme.MyNote&quot;\r\n    \r\nwith,\r\n\r\n     android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot;\r\n\r\ntry this I think it&#39;s going to work for you, i faced same problem recently.","title":"action bar not showing in activity","body":"<p>in AndroidManifest.xml file, inside the Application tag replace this line,</p>\n<pre><code> android:theme=&quot;@style/Theme.MyNote&quot;\n</code></pre>\n<p>with,</p>\n<pre><code> android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot;\n</code></pre>\n<p>try this I think it's going to work for you, i faced same problem recently.</p>\n"}],"owner":{"account_id":19907766,"reputation":1,"user_id":14586435,"display_name":"Heda Lexa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696408185,"creation_date":1696404961,"question_id":77227634,"body_markdown":"I wrote a simple menu and added it to the action bar but I can&#39;t understand why they are not visible in my activity.\r\nI&#39;m using java and android studio, thanks.\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\n@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.add,menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n}\r\n    \r\n```\r\n\r\n\r\n\r\nthe manifest file is:\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyNote&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\n\r\nthe menu.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:enabled=&quot;false&quot;\r\n        android:icon=&quot;@drawable/baseline_add_&quot;\r\n        android:title=&quot;@string/add&quot;\r\n        app:showAsAction=&quot;always&quot; /&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nand this is the result:\r\n\r\n(https://i.stack.imgur.com/P6OvG.png)\r\n","title":"action bar not showing in activity","body":"<p>I wrote a simple menu and added it to the action bar but I can't understand why they are not visible in my activity.\nI'm using java and android studio, thanks.</p>\n<p>Here is my code:</p>\n<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.add,menu);\n        return super.onCreateOptionsMenu(menu);\n}\n    \n</code></pre>\n<p>the manifest file is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyNote&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>the menu.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:enabled=&quot;false&quot;\n        android:icon=&quot;@drawable/baseline_add_&quot;\n        android:title=&quot;@string/add&quot;\n        app:showAsAction=&quot;always&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>and this is the result:</p>\n<p>(<a href=\"https://i.stack.imgur.com/P6OvG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/P6OvG.png</a>)</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1629868272,"post_id":68859293,"comment_id":121796856,"body_markdown":"Please check below my answer and marked as solution if it helps you :)","body":"Please check below my answer and marked as solution if it helps you :)"}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629459648,"creation_date":1629459648,"answer_id":68861637,"question_id":68859293,"body_markdown":"I am not sure which elasticsearch version you are using but below is code snippet for ES 7.13 version.\r\n\r\n    RestHighLevelClient client = new RestHighLevelClient(\r\n\t\t\t\tRestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;)));\r\n\r\n\t\tUpdateByQueryRequest request = new UpdateByQueryRequest(&quot;student&quot;);\r\n\t\trequest.setQuery(new TermQueryBuilder(&quot;name&quot;, &quot;abc&quot;));\r\n\r\n\t\t// This data map you can directly create from JSON string as well.\r\n\t\tMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\t\tdata.put(&quot;name&quot;, &quot;abc&quot;);\r\n\t\tdata.put(&quot;division&quot;, &quot;A&quot;);\r\n\t\tdata.put(&quot;class&quot;, 11);\r\n\t\tdata.put(&quot;studentRollNo&quot;, 23);\r\n\r\n\t\tMap&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n\t\tparam.put(&quot;data&quot;, data);\r\n\r\n\t\t// script will read data param value and assign to document source\r\n\t\tString source = &quot;ctx._source=params.data&quot;;\r\n\t\tScript script = new Script(ScriptType.INLINE, &quot;painless&quot;, source, param);\r\n\r\n\t\trequest.setScript(script);\r\n\t\tclient.updateByQuery(request, RequestOptions.DEFAULT);\r\n\t\tclient.close();\r\n\r\nBelow is equivalent update by query rest API json:\r\n```\r\nPOST student/_update_by_query\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;term&quot;: {\r\n      &quot;name&quot;: {\r\n        &quot;value&quot;: &quot;abc&quot;\r\n      }\r\n    }\r\n  },\r\n  &quot;script&quot;: {\r\n    &quot;source&quot;: &quot;ctx._source=params.data&quot;,\r\n    &quot;params&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;name&quot;: &quot;abc&quot;,\r\n        &quot;division&quot;: &quot;A&quot;,\r\n        &quot;class&quot;: 11,\r\n        &quot;studentRollNo&quot;: 23\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Update ElasticSearch document based on condition using Java API","body":"<p>I am not sure which elasticsearch version you are using but below is code snippet for ES 7.13 version.</p>\n<pre><code>RestHighLevelClient client = new RestHighLevelClient(\n            RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;)));\n\n    UpdateByQueryRequest request = new UpdateByQueryRequest(&quot;student&quot;);\n    request.setQuery(new TermQueryBuilder(&quot;name&quot;, &quot;abc&quot;));\n\n    // This data map you can directly create from JSON string as well.\n    Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n    data.put(&quot;name&quot;, &quot;abc&quot;);\n    data.put(&quot;division&quot;, &quot;A&quot;);\n    data.put(&quot;class&quot;, 11);\n    data.put(&quot;studentRollNo&quot;, 23);\n\n    Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\n    param.put(&quot;data&quot;, data);\n\n    // script will read data param value and assign to document source\n    String source = &quot;ctx._source=params.data&quot;;\n    Script script = new Script(ScriptType.INLINE, &quot;painless&quot;, source, param);\n\n    request.setScript(script);\n    client.updateByQuery(request, RequestOptions.DEFAULT);\n    client.close();\n</code></pre>\n<p>Below is equivalent update by query rest API json:</p>\n<pre><code>POST student/_update_by_query\n{\n  &quot;query&quot;: {\n    &quot;term&quot;: {\n      &quot;name&quot;: {\n        &quot;value&quot;: &quot;abc&quot;\n      }\n    }\n  },\n  &quot;script&quot;: {\n    &quot;source&quot;: &quot;ctx._source=params.data&quot;,\n    &quot;params&quot;: {\n      &quot;data&quot;: {\n        &quot;name&quot;: &quot;abc&quot;,\n        &quot;division&quot;: &quot;A&quot;,\n        &quot;class&quot;: 11,\n        &quot;studentRollNo&quot;: 23\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7304036,"reputation":223,"user_id":5565602,"display_name":"tempEngineer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676290467,"creation_date":1676290467,"answer_id":75435734,"question_id":68859293,"body_markdown":"Since there is no good official support or examples for ES 8.x version\r\nAdding snippet for that as well which i tried and worked (this is for 8.4.3)\r\n\r\n    SSLContext sslContext = getSSLContext();\r\n    \r\n    BasicCredentialsProvider credsProv = new BasicCredentialsProvider();\r\n    \r\n    credsProv.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username,password));\r\n        \r\n    RestClient restClient = RestClient.builder(new HttpHost(host, port, port == 443 ? &quot;https&quot; : &quot;http&quot;))\r\n        \t\t\t                                .setHttpClientConfigCallback(hc -&gt; hc.setSSLContext(sslContext).setDefaultCredentialsProvider(credsProv))\r\n        \t\t\t                                  .build();\r\n        \r\n    ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n    \r\n    ElasticsearchClient elasticsearchClient = new ElasticsearchClient(transport);\r\n\r\n\r\n\r\n    UpdateByQueryRequest.Builder builder = new UpdateByQueryRequest.Builder();\r\n    \r\n            builder.query(getBoolQuery()._toQuery()); // it will be of type BoolQuery.of(query -&gt; { ... })._toQuery()\r\n    \r\n            InlineScript inlineScript = new InlineScript.Builder()\r\n                    .lang(&quot;painless&quot;)\r\n                    .source(getScriptSourceV8()) // it will be string type like &quot;ctx._source=params&quot;;\r\n                    .params(getScriptParamsV8()) // it will be map of &lt;String, JsonData&gt;\r\n                    .build();\r\n    \r\n            Script script = new Script.Builder()\r\n                    .inline(inlineScript)\r\n                    .build();\r\n            builder.script(script);\r\n    \r\n            builder.index(&quot;esIndex&quot;);\r\n            builder.preference(&quot;_shards:&quot;+shard);\r\n            builder.timeout(new Time.Builder().time(TIMEOUT_UPDATE_BY_QUERY+&quot;s&quot;).build());\r\n            builder.conflicts(Conflicts.Proceed);\r\n    \r\n            UpdateByQueryResponse response = elasticsearchClient.updateByQuery(builder.build());","title":"Update ElasticSearch document based on condition using Java API","body":"<p>Since there is no good official support or examples for ES 8.x version\nAdding snippet for that as well which i tried and worked (this is for 8.4.3)</p>\n<pre><code>SSLContext sslContext = getSSLContext();\n\nBasicCredentialsProvider credsProv = new BasicCredentialsProvider();\n\ncredsProv.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username,password));\n    \nRestClient restClient = RestClient.builder(new HttpHost(host, port, port == 443 ? &quot;https&quot; : &quot;http&quot;))\n                                                .setHttpClientConfigCallback(hc -&gt; hc.setSSLContext(sslContext).setDefaultCredentialsProvider(credsProv))\n                                                  .build();\n    \nElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n\nElasticsearchClient elasticsearchClient = new ElasticsearchClient(transport);\n\n\n\nUpdateByQueryRequest.Builder builder = new UpdateByQueryRequest.Builder();\n\n        builder.query(getBoolQuery()._toQuery()); // it will be of type BoolQuery.of(query -&gt; { ... })._toQuery()\n\n        InlineScript inlineScript = new InlineScript.Builder()\n                .lang(&quot;painless&quot;)\n                .source(getScriptSourceV8()) // it will be string type like &quot;ctx._source=params&quot;;\n                .params(getScriptParamsV8()) // it will be map of &lt;String, JsonData&gt;\n                .build();\n\n        Script script = new Script.Builder()\n                .inline(inlineScript)\n                .build();\n        builder.script(script);\n\n        builder.index(&quot;esIndex&quot;);\n        builder.preference(&quot;_shards:&quot;+shard);\n        builder.timeout(new Time.Builder().time(TIMEOUT_UPDATE_BY_QUERY+&quot;s&quot;).build());\n        builder.conflicts(Conflicts.Proceed);\n\n        UpdateByQueryResponse response = elasticsearchClient.updateByQuery(builder.build());\n</code></pre>\n"}],"owner":{"account_id":6497440,"reputation":2026,"user_id":5029589,"accept_rate":56,"display_name":"arpit joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68861637,"answer_count":2,"score":1,"last_activity_date":1696408139,"creation_date":1629448681,"question_id":68859293,"body_markdown":"I have a elasticsearch index (lets name it student) . I have the fields \r\n\r\n{ &quot;name&quot;,&quot;division&quot; ,&quot;class&quot; , &quot;studentRollNo&quot;} . \r\n\r\nIs it possible to to update elasticsearch index for on record whose name would be &quot;ABC&quot; . With update API I can only update it by id ,with Update with query how can I pass the jsonString . Lets say My json String for update would be \r\n\r\nExisting : \r\n\r\n{ &quot;name&quot;:&quot;abc&quot; , &quot;division&quot;:&quot;D&quot;,&quot;class&quot; :10 ,&quot;studentRollNo&quot;:23} \r\n\r\nTo Update : \r\n\r\n{&quot;name&quot;:&quot;abc&quot; , &quot;division&quot; : A , &quot;class&quot; : 11 , &quot;studentRollNo&quot; : 23} ","title":"Update ElasticSearch document based on condition using Java API","body":"<p>I have a elasticsearch index (lets name it student) . I have the fields</p>\n<p>{ &quot;name&quot;,&quot;division&quot; ,&quot;class&quot; , &quot;studentRollNo&quot;} .</p>\n<p>Is it possible to to update elasticsearch index for on record whose name would be &quot;ABC&quot; . With update API I can only update it by id ,with Update with query how can I pass the jsonString . Lets say My json String for update would be</p>\n<p>Existing :</p>\n<p>{ &quot;name&quot;:&quot;abc&quot; , &quot;division&quot;:&quot;D&quot;,&quot;class&quot; :10 ,&quot;studentRollNo&quot;:23}</p>\n<p>To Update :</p>\n<p>{&quot;name&quot;:&quot;abc&quot; , &quot;division&quot; : A , &quot;class&quot; : 11 , &quot;studentRollNo&quot; : 23}</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":7,"creation_date":1377693518,"post_id":18487406,"comment_id":27177866,"body_markdown":"Have you tried setting `org.gradle.java.home` in the `gradle.properties` file? [link](http://www.gradle.org/docs/current/userguide/build_environment.html)","body":"Have you tried setting <code>org.gradle.java.home</code> in the <code>gradle.properties</code> file? <a href=\"http://www.gradle.org/docs/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":2652663,"reputation":96,"user_id":2293975,"display_name":"mdanaci"},"score":0,"creation_date":1377694895,"post_id":18487406,"comment_id":27178849,"body_markdown":"in eclipse you can create &quot;product config file&quot; in to your project and you can pack the jdk with your product. No need to specify env variables.","body":"in eclipse you can create &quot;product config file&quot; in to your project and you can pack the jdk with your product. No need to specify env variables."},{"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"score":4,"creation_date":1377696687,"post_id":18487406,"comment_id":27180137,"body_markdown":"@RayStojonic: I just gave it a try, but gradle still uses the JAVA_HOME JDK for building :(","body":"@RayStojonic: I just gave it a try, but gradle still uses the JAVA_HOME JDK for building :("},{"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"score":0,"creation_date":1377696920,"post_id":18487406,"comment_id":27180329,"body_markdown":"@mdanaci: I was really hoping I could avoid this because I honestly don&#39;t want to take a JDK under version control (which would be the consequence if I would use your suggestion) as any developer has to be able to pack the application. Plus, I see problems with the CI server this way. Thanks for your suggestion anyway :)","body":"@mdanaci: I was really hoping I could avoid this because I honestly don&#39;t want to take a JDK under version control (which would be the consequence if I would use your suggestion) as any developer has to be able to pack the application. Plus, I see problems with the CI server this way. Thanks for your suggestion anyway :)"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":7,"creation_date":1377697324,"post_id":18487406,"comment_id":27180605,"body_markdown":"As of a year ago, the `org.gradle.java.home` setting applies only to gradle daemon, apparently... At any rate, try setting fork to true and forkOptions.executable to the jdk you want to use: [link](http://forums.gradle.org/gradle/topics/setting_path_to_jdk)","body":"As of a year ago, the <code>org.gradle.java.home</code> setting applies only to gradle daemon, apparently... At any rate, try setting fork to true and forkOptions.executable to the jdk you want to use: <a href=\"http://forums.gradle.org/gradle/topics/setting_path_to_jdk\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"score":0,"creation_date":1377698294,"post_id":18487406,"comment_id":27181311,"body_markdown":"ah, too bad, I missed the link (though I found it on Google, but now I have a different sense for the content). Thanks, that did the trick, great :)","body":"ah, too bad, I missed the link (though I found it on Google, but now I have a different sense for the content). Thanks, that did the trick, great :)"},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1396332756,"post_id":18487406,"comment_id":34728114,"body_markdown":"Check http://stackoverflow.com/questions/22681544/how-to-set-gradle-options-bootclasspath-in-an-os-independent-manner - it is essentially the same question and it provides a way to run the gradle using one jdk and compile the project (or any module) using the other jdk.","body":"Check <a href=\"http://stackoverflow.com/questions/22681544/how-to-set-gradle-options-bootclasspath-in-an-os-independent-manner\" title=\"how to set gradle options bootclasspath in an os independent manner\">stackoverflow.com/questions/22681544/&hellip;</a> - it is essentially the same question and it provides a way to run the gradle using one jdk and compile the project (or any module) using the other jdk."},{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":1,"creation_date":1462836586,"post_id":18487406,"comment_id":61794597,"body_markdown":"To instead set the *source* and *target* SDK versions, see http://stackoverflow.com/a/19470405/712526.","body":"To instead set the <i>source</i> and <i>target</i> SDK versions, see <a href=\"http://stackoverflow.com/a/19470405/712526\">stackoverflow.com/a/19470405/712526</a>."}],"answers":[{"comments":[{"owner":{"account_id":126748,"reputation":5288,"user_id":323447,"accept_rate":92,"display_name":"Paolo Fulgoni"},"score":38,"creation_date":1404815541,"post_id":21212790,"comment_id":38171152,"body_markdown":"The `gradle.properties` can be defined at project level too, see http://www.gradle.org/docs/current/userguide/build_environment.html","body":"The <code>gradle.properties</code> can be defined at project level too, see <a href=\"http://www.gradle.org/docs/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">gradle.org/docs/current/userguide/build_environment.html</a>"},{"owner":{"account_id":77215,"reputation":3851,"user_id":2134962,"accept_rate":75,"display_name":"david.schreiber"},"score":217,"creation_date":1432129557,"post_id":21212790,"comment_id":48795490,"body_markdown":"If you are executing using gradle wrapper you can also do it like  `./gradlew -Dorg.gradle.java.home=/path_to_jdk_directory`. Good if you don&#39;t want to touch `gradle.properties`.","body":"If you are executing using gradle wrapper you can also do it like  <code>.&#47;gradlew -Dorg.gradle.java.home=&#47;path_to_jdk_directory</code>. Good if you don&#39;t want to touch <code>gradle.properties</code>."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":68,"creation_date":1457189976,"post_id":21212790,"comment_id":59298863,"body_markdown":"The question was how to set VERSION, not JDK PATH, wasn&#39;t it?","body":"The question was how to set VERSION, not JDK PATH, wasn&#39;t it?"},{"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"score":5,"creation_date":1457603916,"post_id":21212790,"comment_id":59485073,"body_markdown":"@Dims thats exactly how you do it, you have different versions of Java in different paths, then whichever version you want to use give that path. javac is a compiler(The program that actually compiles java code to byte code in the JDK), and its not hosted in Maven or Ivy repositories like how dependency libs are.","body":"@Dims thats exactly how you do it, you have different versions of Java in different paths, then whichever version you want to use give that path. javac is a compiler(The program that actually compiles java code to byte code in the JDK), and its not hosted in Maven or Ivy repositories like how dependency libs are."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":81,"creation_date":1457766402,"post_id":21212790,"comment_id":59565453,"body_markdown":"This way I can&#39;t share project with other developers, who have java in different paths.","body":"This way I can&#39;t share project with other developers, who have java in different paths."},{"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"score":1,"creation_date":1460920892,"post_id":21212790,"comment_id":60951993,"body_markdown":"How do I set the version much like in ant where if developers JAVA_HOME is 1.6, the build fails telling them version must be 1.8 and to change their JAVA_HOME.  I don&#39;t want other developers be required to have the same JAVA_HOME path as me(or make them even be on the same OS)?","body":"How do I set the version much like in ant where if developers JAVA_HOME is 1.6, the build fails telling them version must be 1.8 and to change their JAVA_HOME.  I don&#39;t want other developers be required to have the same JAVA_HOME path as me(or make them even be on the same OS)?"},{"owner":{"account_id":4289727,"reputation":901,"user_id":3506427,"accept_rate":56,"display_name":"bogdan.rusu"},"score":0,"creation_date":1474194905,"post_id":21212790,"comment_id":66424238,"body_markdown":"@Dims you can place in gradle.properties the path to java home, but it can be through a variable defined in a gradle-wraper.properties for example, this way you can export your project","body":"@Dims you can place in gradle.properties the path to java home, but it can be through a variable defined in a gradle-wraper.properties for example, this way you can export your project"},{"owner":{"account_id":424248,"reputation":7835,"user_id":804138,"accept_rate":68,"display_name":"Basel Shishani"},"score":19,"creation_date":1475122858,"post_id":21212790,"comment_id":66818108,"body_markdown":"There&#39;s a difference between options 1 and 2 that should be clarified: In option 1 we are setting the JVM for gradle itself to run under which will also be used to run the compiler task (notice that javac itself is a java application), while in option 2 we are just setting javac to be spawned in its own JVM. If for whatever reason we need a specific JVM for gradle (e.g a given gradle plugin is compiled for say Java 8), then we would be forced to resort to forking a separate JVM for the compile process.","body":"There&#39;s a difference between options 1 and 2 that should be clarified: In option 1 we are setting the JVM for gradle itself to run under which will also be used to run the compiler task (notice that javac itself is a java application), while in option 2 we are just setting javac to be spawned in its own JVM. If for whatever reason we need a specific JVM for gradle (e.g a given gradle plugin is compiled for say Java 8), then we would be forced to resort to forking a separate JVM for the compile process."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1476165889,"post_id":21212790,"comment_id":67221684,"body_markdown":"This is an interesting fix, but it could get interesting if you support building on more than one platform, and you also have different subprojects requiring different versions. It&#39;s a shame it can&#39;t be more declarative - you say which version you require, and per-system configuration takes care of saying where those actually are. Actually, it&#39;s a shame it can&#39;t just pull an artifact containing the JDK from the artifact server, so that when we bump the version of the JDK we depend on, people don&#39;t all have to go and manually download that version.","body":"This is an interesting fix, but it could get interesting if you support building on more than one platform, and you also have different subprojects requiring different versions. It&#39;s a shame it can&#39;t be more declarative - you say which version you require, and per-system configuration takes care of saying where those actually are. Actually, it&#39;s a shame it can&#39;t just pull an artifact containing the JDK from the artifact server, so that when we bump the version of the JDK we depend on, people don&#39;t all have to go and manually download that version."},{"owner":{"account_id":2038996,"reputation":134,"user_id":1820654,"display_name":"Hugo P"},"score":1,"creation_date":1518714342,"post_id":21212790,"comment_id":84628716,"body_markdown":"If you are using the gradle **wrapper**, you can use way 1 of @FirstZero : in your home path `\\.gradle`, create  a `gradle.properties` file, and add the line `org.gradle.java.home=/path_to_jdk_directory`.","body":"If you are using the gradle <b>wrapper</b>, you can use way 1 of @FirstZero : in your home path <code>\\.gradle</code>, create  a <code>gradle.properties</code> file, and add the line <code>org.gradle.java.home=&#47;path_to_jdk_directory</code>."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":1,"creation_date":1524252803,"post_id":21212790,"comment_id":86913643,"body_markdown":"Note that properties files use backslash escaping, so for a Windows-style path you&#39;ll need double backslashes.","body":"Note that properties files use backslash escaping, so for a Windows-style path you&#39;ll need double backslashes."},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1531309592,"post_id":21212790,"comment_id":89546564,"body_markdown":"in my case strange behaviour each time i rechange to JDK8 and try build it changes back to 7 , the solution was default JDK for IDE find here https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk","body":"in my case strange behaviour each time i rechange to JDK8 and try build it changes back to 7 , the solution was default JDK for IDE find here <a href=\"https://stackoverflow.com/questions/18987228/how-do-i-change-the-intellij-idea-default-jdk\" title=\"how do i change the intellij idea default jdk\">stackoverflow.com/questions/18987228/&hellip;</a>"},{"owner":{"account_id":1316938,"reputation":146,"user_id":1263579,"display_name":"Nezneika"},"score":1,"creation_date":1567677718,"post_id":21212790,"comment_id":102037781,"body_markdown":"just for anyone uses Mac OS and needs to know where it `path_to_jdk_directory`. In my case is will be found in `/Library/Java/JavaVirtualMachines/` folder. Example: `/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk`.","body":"just for anyone uses Mac OS and needs to know where it <code>path_to_jdk_directory</code>. In my case is will be found in <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;</code> folder. Example: <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_172.jdk</code>."},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":1,"creation_date":1577304446,"post_id":21212790,"comment_id":105139551,"body_markdown":"If I use option 1 does it mean that if I run afterwards &#39;gradle -v&#39; it would show me the previously set java version? I didn&#39;t observe it. It seems that gradle still uses the java set in JAVA_HOME and not in gradle.properties. Do I have to do some restart or refresh? I&#39;m using linux.","body":"If I use option 1 does it mean that if I run afterwards &#39;gradle -v&#39; it would show me the previously set java version? I didn&#39;t observe it. It seems that gradle still uses the java set in JAVA_HOME and not in gradle.properties. Do I have to do some restart or refresh? I&#39;m using linux."},{"owner":{"account_id":53847,"reputation":1915,"user_id":161012,"accept_rate":29,"display_name":"Pierre Thibault"},"score":0,"creation_date":1582837744,"post_id":21212790,"comment_id":106924728,"body_markdown":"I didn&#39;t had `gradle.properties` in my `~/.gradle` but I added one it is working fine.","body":"I didn&#39;t had <code>gradle.properties</code> in my <code>~&#47;.gradle</code> but I added one it is working fine."},{"owner":{"account_id":4625492,"reputation":582,"user_id":3749432,"display_name":"kuhr"},"score":2,"creation_date":1590502733,"post_id":21212790,"comment_id":109699622,"body_markdown":"@Nezneika I&#39;m also on a Mac and in my case I had to write `org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home`","body":"@Nezneika I&#39;m also on a Mac and in my case I had to write <code>org.gradle.java.home=&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.&zwnj;&#8203;8.0_172.jdk&#47;Contents&zwnj;&#8203;&#47;Home</code>"},{"owner":{"account_id":4676932,"reputation":1289,"user_id":3786922,"display_name":"kelvin"},"score":0,"creation_date":1643093176,"post_id":21212790,"comment_id":125241537,"body_markdown":"Point 1 was how we got sorted, thank you so much! We upgraded our app to use Gradle 7 and part of that is running Java 11. For some reason despite our JAVA_HOME and -javac returning jdk11, this is how we got our builds to work!","body":"Point 1 was how we got sorted, thank you so much! We upgraded our app to use Gradle 7 and part of that is running Java 11. For some reason despite our JAVA_HOME and -javac returning jdk11, this is how we got our builds to work!"},{"owner":{"account_id":85429,"reputation":9406,"user_id":238190,"accept_rate":71,"display_name":"emeraldhieu"},"score":0,"creation_date":1686040026,"post_id":21212790,"comment_id":134740912,"body_markdown":"I don&#39;t see any jdk version or path in &quot;build.gradle&quot;. My &quot;.gradle&quot; directory doesn&#39;t have any &quot;gradle.properties&quot;. I&#39;m using IntelliJ.","body":"I don&#39;t see any jdk version or path in &quot;build.gradle&quot;. My &quot;.gradle&quot; directory doesn&#39;t have any &quot;gradle.properties&quot;. I&#39;m using IntelliJ."}],"tags":[],"owner":{"account_id":380973,"reputation":21726,"user_id":735336,"display_name":"First Zero"},"comment_count":18,"down_vote_count":9,"up_vote_count":480,"is_accepted":true,"score":471,"last_activity_date":1599180019,"creation_date":1390101482,"answer_id":21212790,"question_id":18487406,"body_markdown":"Two ways\r\n\r\n1. In `gradle.properties` in the `.gradle` directory in your `HOME_DIRECTORY` set `org.gradle.java.home=/path_to_jdk_directory`\r\n\r\nor:\r\n\r\n2. In your `build.gradle`\r\n\r\n        compileJava.options.fork = true\r\n        compileJava.options.forkOptions.executable = &#39;/path_to_javac&#39;","title":"How do I tell Gradle to use specific JDK version?","body":"<p>Two ways</p>\n<ol>\n<li>In <code>gradle.properties</code> in the <code>.gradle</code> directory in your <code>HOME_DIRECTORY</code> set <code>org.gradle.java.home=/path_to_jdk_directory</code></li>\n</ol>\n<p>or:</p>\n<ol start=\"2\">\n<li><p>In your <code>build.gradle</code></p>\n<pre><code> compileJava.options.fork = true\n compileJava.options.forkOptions.executable = '/path_to_javac'\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"score":1,"creation_date":1396347663,"post_id":22778079,"comment_id":34736501,"body_markdown":"Hi Paul, actually, exactly this is my problem. I want to define a different JDK for gradle-building tasks than defined in JAVA_HOME. Though, it&#39;s good to know that there will be an entry in the eclipse plugin for this :)","body":"Hi Paul, actually, exactly this is my problem. I want to define a different JDK for gradle-building tasks than defined in JAVA_HOME. Though, it&#39;s good to know that there will be an entry in the eclipse plugin for this :)"},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1396416525,"post_id":22778079,"comment_id":34771546,"body_markdown":"Standard Eclipse allows to define environment variables per launch configuration. But that is not what we try with gradle. Open an issue if you explore this question further https://github.com/Nodeclipse/nodeclipse-1/issues","body":"Standard Eclipse allows to define environment variables per launch configuration. But that is not what we try with gradle. Open an issue if you explore this question further <a href=\"https://github.com/Nodeclipse/nodeclipse-1/issues\" rel=\"nofollow noreferrer\">github.com/Nodeclipse/nodeclipse-1/issues</a>"}],"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":2,"down_vote_count":7,"up_vote_count":9,"is_accepted":false,"score":2,"last_activity_date":1396334293,"creation_date":1396332509,"answer_id":22778079,"question_id":18487406,"body_markdown":"As seen in [Gradle (Eclipse plugin)](http://marketplace.eclipse.org/content/gradle)\r\n\r\n![][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mwzaD.png\r\n\r\nhttp://www.gradle.org/get-started\r\n\r\n&gt; Gradle uses whichever JDK it finds in your path (to check, use java -version). Alternatively, you can set the JAVA_HOME environment variable to point to the install directory of the desired JDK. \r\n\r\n---\r\n\r\nIf you are using this Eclipse plugin or [Enide Studio 2014](http://www.nodeclipse.org/enide/studio/2014/), alternative JAVA_HOME to use (set in Preferences) will be in version 0.15, see &lt;http://www.nodeclipse.org/history&gt;","title":"How do I tell Gradle to use specific JDK version?","body":"<p>As seen in <a href=\"http://marketplace.eclipse.org/content/gradle\" rel=\"nofollow noreferrer\">Gradle (Eclipse plugin)</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/mwzaD.png\" alt=\"\"></p>\n\n<p><a href=\"http://www.gradle.org/get-started\" rel=\"nofollow noreferrer\">http://www.gradle.org/get-started</a></p>\n\n<blockquote>\n  <p>Gradle uses whichever JDK it finds in your path (to check, use java -version). Alternatively, you can set the JAVA_HOME environment variable to point to the install directory of the desired JDK. </p>\n</blockquote>\n\n<hr>\n\n<p>If you are using this Eclipse plugin or <a href=\"http://www.nodeclipse.org/enide/studio/2014/\" rel=\"nofollow noreferrer\">Enide Studio 2014</a>, alternative JAVA_HOME to use (set in Preferences) will be in version 0.15, see <a href=\"http://www.nodeclipse.org/history\" rel=\"nofollow noreferrer\">http://www.nodeclipse.org/history</a></p>\n"},{"comments":[{"owner":{"account_id":3435303,"reputation":952,"user_id":2878556,"accept_rate":86,"display_name":"Markus L"},"score":4,"creation_date":1469018389,"post_id":37959153,"comment_id":64365125,"body_markdown":"In Eclipse (Neon, 4.6) you can also set the Java Home within the Gradle build configuration (see tab &quot;Java Home&quot;). This is somewhat tedious work if you have 20+ build jobs...\nI think Gradle really needs to pick the Java Home directory from the system&#39;s configuration!","body":"In Eclipse (Neon, 4.6) you can also set the Java Home within the Gradle build configuration (see tab &quot;Java Home&quot;). This is somewhat tedious work if you have 20+ build jobs... I think Gradle really needs to pick the Java Home directory from the system&#39;s configuration!"},{"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"score":1,"creation_date":1471096000,"post_id":37959153,"comment_id":65222490,"body_markdown":"This is a fair point.  I have a soft-link called `/usr/lib/java/jdk/home` that points to the _current_ version installed.  Of course when you want a specific version (e.g. u51) then you need to be specific about the path.  Also some tools want to kick-off gradle don&#39;t seem to set the JDK in the environment they give gradle.  And I for one never set the JDK as the current JAVA_HOME unless it is a development session.","body":"This is a fair point.  I have a soft-link called <code>&#47;usr&#47;lib&#47;java&#47;jdk&#47;home</code> that points to the <i>current</i> version installed.  Of course when you want a specific version (e.g. u51) then you need to be specific about the path.  Also some tools want to kick-off gradle don&#39;t seem to set the JDK in the environment they give gradle.  And I for one never set the JDK as the current JAVA_HOME unless it is a development session."},{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":9,"creation_date":1485142240,"post_id":37959153,"comment_id":70785994,"body_markdown":"Note that JDK_PATH can&#39;t have spaces on Windows, even if it&#39;s in quotes: you have change &quot;Program Files&quot; to `PROGRA~1` (all caps) or whatever else DIR /X tells you.","body":"Note that JDK_PATH can&#39;t have spaces on Windows, even if it&#39;s in quotes: you have change &quot;Program Files&quot; to <code>PROGRA~1</code> (all caps) or whatever else DIR /X tells you."},{"owner":{"account_id":236030,"reputation":3369,"user_id":503246,"accept_rate":96,"display_name":"TechFanDan"},"score":0,"creation_date":1507664878,"post_id":37959153,"comment_id":80297915,"body_markdown":"Not working for me. However, I&#39;m using gradlew war (wrapper), maybe this is the cause?","body":"Not working for me. However, I&#39;m using gradlew war (wrapper), maybe this is the cause?"},{"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"score":2,"creation_date":1507706357,"post_id":37959153,"comment_id":80311896,"body_markdown":"If you are using gradle wrapper invoke the command like this\n\n./gradlew build -Dorg.gradle.java.home=/JDK_PATH\n\nReplace JDK_PATH with your jdk location in your environment \nlike &#39; /opt/java/jdk1.7.0_79/bin/&#39;","body":"If you are using gradle wrapper invoke the command like this  ./gradlew build -Dorg.gradle.java.home=/JDK_PATH  Replace JDK_PATH with your jdk location in your environment  like &#39; /opt/java/jdk1.7.0_79/bin/&#39;"},{"owner":{"account_id":236030,"reputation":3369,"user_id":503246,"accept_rate":96,"display_name":"TechFanDan"},"score":0,"creation_date":1507722512,"post_id":37959153,"comment_id":80322286,"body_markdown":"@mirmdasif That&#39;s what I&#39;m doing. However, since the default on the machine is Java6, it seems to want to use that instead of the path I specified. I&#39;ll keep on looking for solutions using this approach.","body":"@mirmdasif That&#39;s what I&#39;m doing. However, since the default on the machine is Java6, it seems to want to use that instead of the path I specified. I&#39;ll keep on looking for solutions using this approach."},{"owner":{"account_id":236030,"reputation":3369,"user_id":503246,"accept_rate":96,"display_name":"TechFanDan"},"score":4,"creation_date":1507733225,"post_id":37959153,"comment_id":80330183,"body_markdown":"`&quot;... gradle itself (either standalone distribution or wrapper) uses JDK from JAVA_HOME environment variable or (if it is not set) from PATH&quot;.` I specified the JAVA_HOME prior to gradlew call to fix this. (ie. `env JAVA_HOME=/path/to/java gradlew war --stacktrace`)","body":"<code>&quot;... gradle itself (either standalone distribution or wrapper) uses JDK from JAVA_HOME environment variable or (if it is not set) from PATH&quot;.</code> I specified the JAVA_HOME prior to gradlew call to fix this. (ie. <code>env JAVA_HOME=&#47;path&#47;to&#47;java gradlew war --stacktrace</code>)"},{"owner":{"account_id":1642950,"reputation":11777,"user_id":1515058,"accept_rate":57,"display_name":"Daniil Shevelev"},"score":1,"creation_date":1521390984,"post_id":37959153,"comment_id":85700260,"body_markdown":"I&#39;ve tried running this: ```.\\gradlew.bat bootRun -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk1.8.0_60&quot; --info```\nBut am getting this error: \n```Project &#39;.gradle.java.home=C&#39; not found in root project &#39;grails3-quick-start&#39;.```","body":"I&#39;ve tried running this: <code>.\\gradlew.bat bootRun -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk1.8.0_60&quot; --info</code> But am getting this error:  <code>Project &#39;.gradle.java.home=C&#39; not found in root project &#39;grails3-quick-start&#39;.</code>"},{"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"score":0,"creation_date":1521440621,"post_id":37959153,"comment_id":85713762,"body_markdown":"You need to put 2 backslashes for paths in windows so run this .\\gradlew.bat bootRun -Dorg.gradle.java.home=&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_60&quot;","body":"You need to put 2 backslashes for paths in windows so run this .\\gradlew.bat bootRun -Dorg.gradle.java.home=&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_60&quot;"},{"owner":{"account_id":1259154,"reputation":2738,"user_id":1236128,"accept_rate":86,"display_name":"Jonathan Komar"},"score":1,"creation_date":1572109086,"post_id":37959153,"comment_id":103462201,"body_markdown":"On MacOS for Java 8: `-Dorg.gradle.java.home=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/`","body":"On MacOS for Java 8: <code>-Dorg.gradle.java.home=&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;ado&zwnj;&#8203;ptopenjdk-8.jdk&#47;Cont&zwnj;&#8203;ents&#47;Home&#47;</code>"},{"owner":{"account_id":45915,"reputation":3990,"user_id":135535,"accept_rate":59,"display_name":"Christoph"},"score":1,"creation_date":1574287285,"post_id":37959153,"comment_id":104183173,"body_markdown":"Example for JDK 8 on MacOSX to add the path dynamically: ./gradlew clean build -Dorg.gradle.java.home=`/usr/libexec/java_home -v 1.8`","body":"Example for JDK 8 on MacOSX to add the path dynamically: ./gradlew clean build -Dorg.gradle.java.home=<code>&#47;usr&#47;libexec&#47;java_home -v 1.8</code>"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":1,"creation_date":1598896058,"post_id":37959153,"comment_id":112599587,"body_markdown":"**WINDOWS** example: `.\\gradlew test -D&quot;org.gradle.java.home&quot;=&quot;D:\\jdk\\jdk8oj9&quot;` (mind the quotes)","body":"<b>WINDOWS</b> example: <code>.\\gradlew test -D&quot;org.gradle.java.home&quot;=&quot;D:\\jdk\\jdk8oj9&quot;</code> (mind the quotes)"},{"owner":{"account_id":14048609,"reputation":759,"user_id":10148104,"display_name":"nashihu"},"score":0,"creation_date":1646720677,"post_id":37959153,"comment_id":126187479,"body_markdown":"thanks. in 2022 i need to write `org.gradle.java.home=/JDK_PATH` inside the gradle.properties, removing the `gradle build -D` prefix from the answer","body":"thanks. in 2022 i need to write <code>org.gradle.java.home=&#47;JDK_PATH</code> inside the gradle.properties, removing the <code>gradle build -D</code> prefix from the answer"},{"owner":{"account_id":6455298,"reputation":272,"user_id":11080293,"display_name":"IamDOM"},"score":0,"creation_date":1653238298,"post_id":37959153,"comment_id":127797175,"body_markdown":"My OS is Linux and I have my JAVA_HOME pointing to the correct path. I have even used this command `gradle build -Dorg.gradle.java.home=$JAVA_HOME` to prove my point. I&#39;ve installed gradle using snap in Ubuntu and I&#39;m guessing it is using some bundled JDK.","body":"My OS is Linux and I have my JAVA_HOME pointing to the correct path. I have even used this command <code>gradle build -Dorg.gradle.java.home=$JAVA_HOME</code> to prove my point. I&#39;ve installed gradle using snap in Ubuntu and I&#39;m guessing it is using some bundled JDK."},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1698705307,"post_id":37959153,"comment_id":136436812,"body_markdown":"On macOS Sonoma (version 14.1), if you want to use `java_home` command and specify a concrete version of JDK, the following works  (example for JDK 17): `./gradlew -Dorg.gradle.java.home=$(/usr/libexec/java_home -v 17)`. I.e. unlike the above mentioned commands, where `java_home` was used without any enclosing constructions, I used the [***command substitution***](https://zsh.sourceforge.io/Doc/Release/Expansion.html#Command-Substitution) (this `$(command)` construction), otherwise it didn&#39;t work.","body":"On macOS Sonoma (version 14.1), if you want to use <code>java_home</code> command and specify a concrete version of JDK, the following works  (example for JDK 17): <code>.&#47;gradlew -Dorg.gradle.java.home=$(&#47;usr&#47;libexec&#47;java_home -v 17)</code>. I.e. unlike the above mentioned commands, where <code>java_home</code> was used without any enclosing constructions, I used the <a href=\"https://zsh.sourceforge.io/Doc/Release/Expansion.html#Command-Substitution\" rel=\"nofollow noreferrer\"><b><i>command substitution</i></b></a> (this <code>$(command)</code> construction), otherwise it didn&#39;t work."}],"tags":[],"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"comment_count":15,"down_vote_count":5,"up_vote_count":277,"is_accepted":false,"score":272,"last_activity_date":1466572872,"creation_date":1466572872,"answer_id":37959153,"question_id":18487406,"body_markdown":"If you add JDK_PATH in **gradle.properties** your build become dependent on on that particular path.\r\nInstead Run **gradle task** with following command line parametemer\r\n\r\n    gradle build -Dorg.gradle.java.home=/JDK_PATH\r\n\r\nThis way your build is not dependent on some concrete path.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you add JDK_PATH in <strong>gradle.properties</strong> your build become dependent on on that particular path.\nInstead Run <strong>gradle task</strong> with following command line parametemer</p>\n\n<pre><code>gradle build -Dorg.gradle.java.home=/JDK_PATH\n</code></pre>\n\n<p>This way your build is not dependent on some concrete path.</p>\n"},{"comments":[{"owner":{"account_id":4421338,"reputation":984,"user_id":3601188,"accept_rate":80,"display_name":"Bondan Sebastian"},"score":0,"creation_date":1598356790,"post_id":41464266,"comment_id":112426570,"body_markdown":"Bumped into the same problem as OP (being forced to meddle with old project whom the original developer has left), this is the best solution for me so far","body":"Bumped into the same problem as OP (being forced to meddle with old project whom the original developer has left), this is the best solution for me so far"},{"owner":{"account_id":3472087,"reputation":1531,"user_id":2906153,"display_name":"firemaples"},"score":0,"creation_date":1607408823,"post_id":41464266,"comment_id":115256106,"body_markdown":"Using another environment variable instead of writing it in the local.properties file can also do the same job.","body":"Using another environment variable instead of writing it in the local.properties file can also do the same job."},{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1663621127,"post_id":41464266,"comment_id":130279122,"body_markdown":"This makes your gradlew installation work differently than in projects made by other people, adding a stumbling block for every new collaborator.","body":"This makes your gradlew installation work differently than in projects made by other people, adding a stumbling block for every new collaborator."}],"tags":[],"owner":{"account_id":4974019,"reputation":467,"user_id":4000934,"display_name":"sylwano"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1483819459,"creation_date":1483534207,"answer_id":41464266,"question_id":18487406,"body_markdown":"If you are using linux and gradle wrapper you can use following solution. \r\n\r\nAdd path to local.properties file:\r\n\r\n    javaHome=&lt;path to JDK&gt;\r\n\r\n\r\nAdd to your gradlew script file:\r\n\r\n    DIR=$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&amp; pwd )\r\n    source $DIR/local.properties 2&gt;/dev/null\r\n    \r\n    if ! [ -z &quot;$javaHome&quot; ]\r\n    then\r\n      JAVA_HOME=$javaHome\r\n    fi\r\n\r\nIn this solution, each developer can set his own JDK path. File `local.properties` shouldn&#39;t be included in version control system.\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are using linux and gradle wrapper you can use following solution. </p>\n\n<p>Add path to local.properties file:</p>\n\n<pre><code>javaHome=&lt;path to JDK&gt;\n</code></pre>\n\n<p>Add to your gradlew script file:</p>\n\n<pre><code>DIR=$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" &amp;&amp; pwd )\nsource $DIR/local.properties 2&gt;/dev/null\n\nif ! [ -z \"$javaHome\" ]\nthen\n  JAVA_HOME=$javaHome\nfi\n</code></pre>\n\n<p>In this solution, each developer can set his own JDK path. File <code>local.properties</code> shouldn't be included in version control system.</p>\n"},{"tags":[],"owner":{"account_id":5088460,"reputation":644,"user_id":4472665,"accept_rate":18,"display_name":"Manoj"},"comment_count":0,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1497006060,"creation_date":1497006060,"answer_id":44456092,"question_id":18487406,"body_markdown":"I added this line in my GRADLE_HOME/bin/gradle file - \r\n`export JAVA_HOME=/path/to/java/version`","title":"How do I tell Gradle to use specific JDK version?","body":"<p>I added this line in my GRADLE_HOME/bin/gradle file - \n<code>export JAVA_HOME=/path/to/java/version</code></p>\n"},{"comments":[{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":21,"creation_date":1524251954,"post_id":44799256,"comment_id":86913258,"body_markdown":"@morgwai -- except that this *isn&#39;t* the answer to the question, which explicitly asks &quot;What I want [is to set] a variable (defined per developer machine) which points to an installation of a JDK which will be used for building the whole application&quot;.  The upvoted answers are correct; this answer is for an entirely different question.","body":"@morgwai -- except that this <i>isn&#39;t</i> the answer to the question, which explicitly asks &quot;What I want [is to set] a variable (defined per developer machine) which points to an installation of a JDK which will be used for building the whole application&quot;.  The upvoted answers are correct; this answer is for an entirely different question."},{"owner":{"account_id":7451588,"reputation":811,"user_id":5666171,"accept_rate":86,"display_name":"CLOVIS"},"score":3,"creation_date":1530792539,"post_id":44799256,"comment_id":89363507,"body_markdown":"This is ignored by tools such as the Javadoc task (which tries to generate the javadoc according to Java 9 with modules on my project that is specified to use Java 8)","body":"This is ignored by tools such as the Javadoc task (which tries to generate the javadoc according to Java 9 with modules on my project that is specified to use Java 8)"},{"owner":{"account_id":8532978,"reputation":834,"user_id":7260220,"accept_rate":25,"display_name":"nathanfranke"},"score":8,"creation_date":1599623218,"post_id":44799256,"comment_id":112826840,"body_markdown":"While not an exact answer for this question, this way actually works for more than just one system. Most people searching this question want to see this answer and not the other answers.","body":"While not an exact answer for this question, this way actually works for more than just one system. Most people searching this question want to see this answer and not the other answers."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":7,"creation_date":1618736482,"post_id":44799256,"comment_id":118687830,"body_markdown":"I asked Google for &quot;gradle specify jdk version&quot; and it brought me here. The answer I was actually looking for is this one, regardless of what the question was actually about. Upvoted because useful.","body":"I asked Google for &quot;gradle specify jdk version&quot; and it brought me here. The answer I was actually looking for is this one, regardless of what the question was actually about. Upvoted because useful."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1651520850,"post_id":44799256,"comment_id":127379682,"body_markdown":"&quot;except that this isn&#39;t the answer to the question&quot;, The question actually asks two questions... one is &quot;specific JDK version?&quot; (by title), the other is &quot;an installation of a JDK&quot; (by description).  In my experience, the former is often more useful as newer JDKs can often target older JDK versions, allowing the existing location to achieve what the title (perhaps accidentally) asks.","body":"&quot;except that this isn&#39;t the answer to the question&quot;, The question actually asks two questions... one is &quot;specific JDK version?&quot; (by title), the other is &quot;an installation of a JDK&quot; (by description).  In my experience, the former is often more useful as newer JDKs can often target older JDK versions, allowing the existing location to achieve what the title (perhaps accidentally) asks."},{"owner":{"account_id":296842,"reputation":531,"user_id":602037,"accept_rate":100,"display_name":"Pedro Lamar&#227;o"},"score":3,"creation_date":1659967587,"post_id":44799256,"comment_id":129414415,"body_markdown":"For those coming in the future, Gradle&#39;s `JavaCompile` task now allows setting the `release` option. https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:release","body":"For those coming in the future, Gradle&#39;s <code>JavaCompile</code> task now allows setting the <code>release</code> option. <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:release\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1695137220,"post_id":44799256,"comment_id":135982328,"body_markdown":"idea says it&#39;s better to do `tasks.withType(JavaCompile).configureEach`, instead of just `tasks.withType(JavaCompile)`","body":"idea says it&#39;s better to do <code>tasks.withType(JavaCompile).configureEach</code>, instead of just <code>tasks.withType(JavaCompile)</code>"}],"tags":[],"owner":{"account_id":319581,"reputation":3587,"user_id":637423,"display_name":"Geert"},"comment_count":7,"down_vote_count":9,"up_vote_count":209,"is_accepted":false,"score":200,"last_activity_date":1660117777,"creation_date":1498643753,"answer_id":44799256,"question_id":18487406,"body_markdown":"To people ending up here when searching for the Gradle equivalent of the Maven property `maven.compiler.source` (or `&lt;source&gt;1.8&lt;/source&gt;`):\r\n\r\nIn build.gradle you can achieve this with\r\n\r\n    apply plugin: &#39;java&#39;\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\nSee the [Gradle documentation on this][1].\r\n\r\n## Gradle 7+\r\n\r\nFrom Gradle 7 onwards, you can also use [the `release` property][2], which makes use of the JDK 9 [`--release` compiler argument][3]:\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.release = 8\r\n    }\r\n\r\n(thanks Pedro Lamar&#227;o)\r\n\r\n  [1]: https://docs.gradle.org/3.3/userguide/java_plugin.html#sec:java_convention_properties\r\n  [2]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:release\r\n  [3]: https://openjdk.org/jeps/247","title":"How do I tell Gradle to use specific JDK version?","body":"<p>To people ending up here when searching for the Gradle equivalent of the Maven property <code>maven.compiler.source</code> (or <code>&lt;source&gt;1.8&lt;/source&gt;</code>):</p>\n<p>In build.gradle you can achieve this with</p>\n<pre><code>apply plugin: 'java'\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n</code></pre>\n<p>See the <a href=\"https://docs.gradle.org/3.3/userguide/java_plugin.html#sec:java_convention_properties\" rel=\"noreferrer\">Gradle documentation on this</a>.</p>\n<h2>Gradle 7+</h2>\n<p>From Gradle 7 onwards, you can also use <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:release\" rel=\"noreferrer\">the <code>release</code> property</a>, which makes use of the JDK 9 <a href=\"https://openjdk.org/jeps/247\" rel=\"noreferrer\"><code>--release</code> compiler argument</a>:</p>\n<pre><code>tasks.withType(JavaCompile) {\n    options.release = 8\n}\n</code></pre>\n<p>(thanks Pedro Lamar√£o)</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506657652,"creation_date":1506657652,"answer_id":46481612,"question_id":18487406,"body_markdown":"I am using Gradle 4.2 . Default JDK is Java 9. In early day of Java 9, Gradle 4.2 run on JDK 8 correctly (not JDK 9).\r\n\r\nI set JDK manually like this, in file **`%GRADLE_HOME%\\bin\\gradle.bat`**:\r\n\r\n\r\n    @if &quot;%DEBUG%&quot; == &quot;&quot; @echo off\r\n    @rem ##########################################################################\r\n    @rem\r\n    @rem  Gradle startup script for Windows\r\n    @rem\r\n    @rem ##########################################################################\r\n    \r\n    @rem Set local scope for the variables with windows NT shell\r\n    if &quot;%OS%&quot;==&quot;Windows_NT&quot; setlocal\r\n    \r\n    set DIRNAME=%~dp0\r\n    if &quot;%DIRNAME%&quot; == &quot;&quot; set DIRNAME=.\r\n    set APP_BASE_NAME=%~n0\r\n    set APP_HOME=%DIRNAME%..\r\n    \r\n    @rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\r\n    set DEFAULT_JVM_OPTS=\r\n    \r\n    @rem Find java.exe\r\n    if defined JAVA_HOME goto findJavaFromJavaHome\r\n    \r\n    @rem VyDN-start.\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\r\n    @rem VyDN-end.\r\n    \r\n    set JAVA_EXE=java.exe\r\n    %JAVA_EXE% -version &gt;NUL 2&gt;&amp;1\r\n    if &quot;%ERRORLEVEL%&quot; == &quot;0&quot; goto init\r\n    \r\n    echo.\r\n    echo ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n    echo.\r\n    echo Please set the JAVA_HOME variable in your environment to match the\r\n    echo location of your Java installation.\r\n    \r\n    goto fail\r\n    \r\n    :findJavaFromJavaHome\r\n    set JAVA_HOME=%JAVA_HOME:&quot;=%\r\n    \r\n    \r\n    @rem VyDN-start.\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\r\n    @rem VyDN-end.\r\n    \r\n    \r\n    set JAVA_EXE=%JAVA_HOME%/bin/java.exe\r\n    \r\n    if exist &quot;%JAVA_EXE%&quot; goto init\r\n    \r\n    echo.\r\n    echo ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\r\n    echo.\r\n    echo Please set the JAVA_HOME variable in your environment to match the\r\n    echo location of your Java installation.\r\n    \r\n    goto fail\r\n    \r\n    :init\r\n    @rem Get command-line arguments, handling Windows variants\r\n    \r\n    if not &quot;%OS%&quot; == &quot;Windows_NT&quot; goto win9xME_args\r\n    \r\n    :win9xME_args\r\n    @rem Slurp the command line arguments.\r\n    set CMD_LINE_ARGS=\r\n    set _SKIP=2\r\n    \r\n    :win9xME_args_slurp\r\n    if &quot;x%~1&quot; == &quot;x&quot; goto execute\r\n    \r\n    set CMD_LINE_ARGS=%*\r\n    \r\n    :execute\r\n    @rem Setup the command line\r\n    \r\n    set CLASSPATH=%APP_HOME%\\lib\\gradle-launcher-4.2.jar\r\n    \r\n    @rem Execute Gradle\r\n    &quot;%JAVA_EXE%&quot; %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% &quot;-Dorg.gradle.appname=%APP_BASE_NAME%&quot; -classpath &quot;%CLASSPATH%&quot; org.gradle.launcher.GradleMain %CMD_LINE_ARGS%\r\n    \r\n    :end\r\n    @rem End local scope for the variables with windows NT shell\r\n    if &quot;%ERRORLEVEL%&quot;==&quot;0&quot; goto mainEnd\r\n    \r\n    :fail\r\n    rem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\r\n    rem the _cmd.exe /c_ return code!\r\n    if  not &quot;&quot; == &quot;%GRADLE_EXIT_CONSOLE%&quot; exit 1\r\n    exit /b 1\r\n    \r\n    :mainEnd\r\n    if &quot;%OS%&quot;==&quot;Windows_NT&quot; endlocal\r\n    \r\n    :omega\r\n\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<p>I am using Gradle 4.2 . Default JDK is Java 9. In early day of Java 9, Gradle 4.2 run on JDK 8 correctly (not JDK 9).</p>\n\n<p>I set JDK manually like this, in file <strong><code>%GRADLE_HOME%\\bin\\gradle.bat</code></strong>:</p>\n\n<pre><code>@if \"%DEBUG%\" == \"\" @echo off\n@rem ##########################################################################\n@rem\n@rem  Gradle startup script for Windows\n@rem\n@rem ##########################################################################\n\n@rem Set local scope for the variables with windows NT shell\nif \"%OS%\"==\"Windows_NT\" setlocal\n\nset DIRNAME=%~dp0\nif \"%DIRNAME%\" == \"\" set DIRNAME=.\nset APP_BASE_NAME=%~n0\nset APP_HOME=%DIRNAME%..\n\n@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nset DEFAULT_JVM_OPTS=\n\n@rem Find java.exe\nif defined JAVA_HOME goto findJavaFromJavaHome\n\n@rem VyDN-start.\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\n@rem VyDN-end.\n\nset JAVA_EXE=java.exe\n%JAVA_EXE% -version &gt;NUL 2&gt;&amp;1\nif \"%ERRORLEVEL%\" == \"0\" goto init\n\necho.\necho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:findJavaFromJavaHome\nset JAVA_HOME=%JAVA_HOME:\"=%\n\n\n@rem VyDN-start.\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\n@rem VyDN-end.\n\n\nset JAVA_EXE=%JAVA_HOME%/bin/java.exe\n\nif exist \"%JAVA_EXE%\" goto init\n\necho.\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:init\n@rem Get command-line arguments, handling Windows variants\n\nif not \"%OS%\" == \"Windows_NT\" goto win9xME_args\n\n:win9xME_args\n@rem Slurp the command line arguments.\nset CMD_LINE_ARGS=\nset _SKIP=2\n\n:win9xME_args_slurp\nif \"x%~1\" == \"x\" goto execute\n\nset CMD_LINE_ARGS=%*\n\n:execute\n@rem Setup the command line\n\nset CLASSPATH=%APP_HOME%\\lib\\gradle-launcher-4.2.jar\n\n@rem Execute Gradle\n\"%JAVA_EXE%\" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% \"-Dorg.gradle.appname=%APP_BASE_NAME%\" -classpath \"%CLASSPATH%\" org.gradle.launcher.GradleMain %CMD_LINE_ARGS%\n\n:end\n@rem End local scope for the variables with windows NT shell\nif \"%ERRORLEVEL%\"==\"0\" goto mainEnd\n\n:fail\nrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\nrem the _cmd.exe /c_ return code!\nif  not \"\" == \"%GRADLE_EXIT_CONSOLE%\" exit 1\nexit /b 1\n\n:mainEnd\nif \"%OS%\"==\"Windows_NT\" endlocal\n\n:omega\n</code></pre>\n"},{"comments":[{"owner":{"account_id":231488,"reputation":852,"user_id":2158599,"accept_rate":33,"display_name":"Paul McCarthy"},"score":1,"creation_date":1566348973,"post_id":49047348,"comment_id":101625214,"body_markdown":"Don&#39;t see gradle tasks","body":"Don&#39;t see gradle tasks"},{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":2,"creation_date":1596539376,"post_id":49047348,"comment_id":111837149,"body_markdown":"Is this for Eclipse? If yes, please specify it in your answer.","body":"Is this for Eclipse? If yes, please specify it in your answer."}],"tags":[],"owner":{"account_id":2791520,"reputation":1177,"user_id":2401670,"accept_rate":81,"display_name":"Kiran"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1604646233,"creation_date":1519899246,"answer_id":49047348,"question_id":18487406,"body_markdown":"There is one more option to follow. In your gradle tasks available in Eclipse, you can set your desired jdk path. (I know this is a while since the question was posted. This answer can help someone.)\r\n\r\nRight click on the deploy or any other task and select &quot;Open Gradle Run Configuration...&quot;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen navigate to &quot;Java Home&quot; and paste your desired java path.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPlease note that, bin will be added by the gradle task itself. So don&#39;t add the &quot;bin&quot; to the path.\r\n\r\n  [1]: https://i.stack.imgur.com/AAAQn.png\r\n  [2]: https://i.stack.imgur.com/CoLUP.png","title":"How do I tell Gradle to use specific JDK version?","body":"<p>There is one more option to follow. In your gradle tasks available in Eclipse, you can set your desired jdk path. (I know this is a while since the question was posted. This answer can help someone.)</p>\n<p>Right click on the deploy or any other task and select &quot;Open Gradle Run Configuration...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/AAAQn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AAAQn.png\" alt=\"enter image description here\" /></a></p>\n<p>Then navigate to &quot;Java Home&quot; and paste your desired java path.</p>\n<p><a href=\"https://i.stack.imgur.com/CoLUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CoLUP.png\" alt=\"enter image description here\" /></a></p>\n<p>Please note that, bin will be added by the gradle task itself. So don't add the &quot;bin&quot; to the path.</p>\n"},{"tags":[],"owner":{"account_id":6317642,"reputation":3415,"user_id":4906998,"display_name":"Vittal Pai"},"comment_count":0,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1537953008,"creation_date":1537953008,"answer_id":52514015,"question_id":18487406,"body_markdown":"If you are executing using gradle wrapper, you can run the command with JDK path like following\r\n\r\n`./gradlew -Dorg.gradle.java.home=/jdk_path_directory`","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are executing using gradle wrapper, you can run the command with JDK path like following</p>\n\n<p><code>./gradlew -Dorg.gradle.java.home=/jdk_path_directory</code></p>\n"},{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1645227165,"post_id":53020141,"comment_id":125823720,"body_markdown":"Where &quot;decent shell&quot; means bash, basically. I just submitted a PR to make it work for the batch file too.","body":"Where &quot;decent shell&quot; means bash, basically. I just submitted a PR to make it work for the batch file too."}],"tags":[],"owner":{"account_id":12874763,"reputation":141,"user_id":9311849,"display_name":"Remo Meier"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540629586,"creation_date":1540629586,"answer_id":53020141,"question_id":18487406,"body_markdown":"there is a Gradle plugin that download/bootstraps a JDK automatically: \r\n\r\nhttps://plugins.gradle.org/plugin/com.github.rmee.jdk-bootstrap\r\n\r\nNo IDE integration yet and a decent shell required on Windows.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>there is a Gradle plugin that download/bootstraps a JDK automatically: </p>\n\n<p><a href=\"https://plugins.gradle.org/plugin/com.github.rmee.jdk-bootstrap\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/com.github.rmee.jdk-bootstrap</a></p>\n\n<p>No IDE integration yet and a decent shell required on Windows.</p>\n"},{"comments":[{"owner":{"account_id":936851,"reputation":2354,"user_id":965638,"accept_rate":84,"display_name":"eri0o"},"score":0,"creation_date":1644272497,"post_id":56386203,"comment_id":125557473,"body_markdown":"this doesn&#39;t work for me on Windows cmd.exe","body":"this doesn&#39;t work for me on Windows cmd.exe"},{"owner":{"account_id":1607293,"reputation":137,"user_id":2429751,"display_name":"JasonBodnar"},"score":0,"creation_date":1670540397,"post_id":56386203,"comment_id":131904508,"body_markdown":"@eri0o: You&#39;ll have to do something like `set JAVA_HOME=${PATH_TO_JAVA} &amp;&amp; gw build`","body":"@eri0o: You&#39;ll have to do something like <code>set JAVA_HOME=${PATH_TO_JAVA} &amp;&amp; gw build</code>"}],"tags":[],"owner":{"account_id":1607293,"reputation":137,"user_id":2429751,"display_name":"JasonBodnar"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1559253858,"creation_date":1559253858,"answer_id":56386203,"question_id":18487406,"body_markdown":"If you just want to set it once to run a specific command:\r\n\r\n    JAVA_HOME=/usr/lib/jvm/java-11-oracle/ gw build","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you just want to set it once to run a specific command:</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-11-oracle/ gw build\n</code></pre>\n"},{"comments":[{"owner":{"account_id":171586,"reputation":4477,"user_id":399113,"accept_rate":51,"display_name":"John John Pichler"},"score":3,"creation_date":1620218740,"post_id":58599790,"comment_id":119134841,"body_markdown":"Question: why do wee need to set ```--release``` if we are already setting the ```target```?","body":"Question: why do wee need to set <code>--release</code> if we are already setting the <code>target</code>?"}],"tags":[],"owner":{"account_id":2481346,"reputation":3567,"user_id":2160765,"display_name":"Rosberg Linhares"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1572311908,"creation_date":1572306468,"answer_id":58599790,"question_id":18487406,"body_markdown":"If you are using JDK 9+, you can do this:\r\n\r\n```kotlin\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8\r\n}\r\n\r\ntasks.withType&lt;JavaCompile&gt; {\r\n    options.compilerArgs.addAll(arrayOf(&quot;--release&quot;, &quot;8&quot;))\r\n}\r\n```\r\n\r\nYou can also see the following related issues:\r\n\r\n - Gradle: [[Java 9] Add convenience method for `-release` compiler argument](https://github.com/gradle/gradle/issues/2510)\r\n - Eclipse Plug-ins for Gradle: [JDK API compatibility should match the sourceCompatibility option](https://github.com/eclipse/buildship/issues/934).","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are using JDK 9+, you can do this:</p>\n\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\ntasks.withType&lt;JavaCompile&gt; {\n    options.compilerArgs.addAll(arrayOf(\"--release\", \"8\"))\n}\n</code></pre>\n\n<p>You can also see the following related issues:</p>\n\n<ul>\n<li>Gradle: <a href=\"https://github.com/gradle/gradle/issues/2510\" rel=\"noreferrer\">[Java 9] Add convenience method for <code>-release</code> compiler argument</a></li>\n<li>Eclipse Plug-ins for Gradle: <a href=\"https://github.com/eclipse/buildship/issues/934\" rel=\"noreferrer\">JDK API compatibility should match the sourceCompatibility option</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582407405,"creation_date":1582407405,"answer_id":60357056,"question_id":18487406,"body_markdown":"## Android Studio ##\r\n\r\nFile &gt; Project Structure &gt; SDK Location &gt; JDK Location &gt; \r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64\r\n\r\nGL\r\n\r\n[Install JDK][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14788468/5279996","title":"How do I tell Gradle to use specific JDK version?","body":"<h2>Android Studio</h2>\n\n<p>File > Project Structure > SDK Location > JDK Location > </p>\n\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n\n<p>GL</p>\n\n<p><a href=\"https://stackoverflow.com/a/14788468/5279996\">Install JDK</a></p>\n"},{"tags":[],"owner":{"account_id":6309469,"reputation":1068,"user_id":4901496,"display_name":"sobczak.dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585985845,"creation_date":1585985845,"answer_id":61025099,"question_id":18487406,"body_markdown":"If you are using Kotlin DSL, then in `build.gradle.kts` add:\r\n\r\n    tasks.withType&lt;JavaCompile&gt; {\r\n        options.isFork = true\r\n        options.forkOptions.javaHome = File(&quot;C:\\\\bin\\\\jdk-13.0.1\\\\&quot;)\r\n    }\r\nOf course, I&#39;m assuming that you have Windows OS and `javac` compiler is in path `C:\\bin\\jdk-13.0.1\\bin\\javac`. For Linux OS will be similarly.\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are using Kotlin DSL, then in <code>build.gradle.kts</code> add:</p>\n\n<pre><code>tasks.withType&lt;JavaCompile&gt; {\n    options.isFork = true\n    options.forkOptions.javaHome = File(\"C:\\\\bin\\\\jdk-13.0.1\\\\\")\n}\n</code></pre>\n\n<p>Of course, I'm assuming that you have Windows OS and <code>javac</code> compiler is in path <code>C:\\bin\\jdk-13.0.1\\bin\\javac</code>. For Linux OS will be similarly.</p>\n"},{"tags":[],"owner":{"account_id":18362394,"reputation":71,"user_id":13374232,"display_name":"Sergey Alekhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587491629,"creation_date":1587491629,"answer_id":61349923,"question_id":18487406,"body_markdown":"For windows run gradle task with jdk 11 path parameter in quotes\r\n\r\n    gradlew clean build -Dorg.gradle.java.home=&quot;c:/Program Files/Java/jdk-11&quot;","title":"How do I tell Gradle to use specific JDK version?","body":"<p>For windows run gradle task with jdk 11 path parameter in quotes</p>\n\n<pre><code>gradlew clean build -Dorg.gradle.java.home=\"c:/Program Files/Java/jdk-11\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141282,"reputation":10126,"user_id":348189,"accept_rate":89,"display_name":"TacB0sS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596668628,"creation_date":1596668628,"answer_id":63274687,"question_id":18487406,"body_markdown":"So, I use IntelliJ for my Android project, and the following solved the issue in the IDE:\r\n\r\njust cause it might save someone the few hours I wasted... \r\nIntelliJ -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build tools -&gt; Maven -&gt; Gradle\r\n\r\nand set **Gradle JVM** to 1.8\r\nmake sure you also have JDK 8 installed...\r\n\r\nNOTE: the project was compiling just fine from the command line","title":"How do I tell Gradle to use specific JDK version?","body":"<p>So, I use IntelliJ for my Android project, and the following solved the issue in the IDE:</p>\n<p>just cause it might save someone the few hours I wasted...\nIntelliJ -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build tools -&gt; Maven -&gt; Gradle</p>\n<p>and set <strong>Gradle JVM</strong> to 1.8\nmake sure you also have JDK 8 installed...</p>\n<p>NOTE: the project was compiling just fine from the command line</p>\n"},{"comments":[{"owner":{"account_id":392397,"reputation":28086,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"score":1,"creation_date":1634285005,"post_id":64220088,"comment_id":122988205,"body_markdown":"Does this solution still work if you open a terminal and run gradle build? Or is this solution only used when using the IDE to run/compile code?","body":"Does this solution still work if you open a terminal and run gradle build? Or is this solution only used when using the IDE to run/compile code?"},{"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"score":3,"creation_date":1634286245,"post_id":64220088,"comment_id":122988625,"body_markdown":"This is for the IDE","body":"This is for the IDE"},{"owner":{"account_id":183525,"reputation":1766,"user_id":418950,"display_name":"ScottWelker"},"score":1,"creation_date":1655938457,"post_id":64220088,"comment_id":128453672,"body_markdown":"@Johann yes. This can work from some terminal uses of gradle: https://stackoverflow.com/questions/67079327/how-can-i-fix-unsupported-class-file-major-version-60-in-intellij-idea/67101848#comment128424269_67101848","body":"@Johann yes. This can work from some terminal uses of gradle: <a href=\"https://stackoverflow.com/questions/67079327/how-can-i-fix-unsupported-class-file-major-version-60-in-intellij-idea/67101848#comment128424269_67101848\" title=\"how can i fix unsupported class file major version 60 in intellij idea\">stackoverflow.com/questions/67079327/&hellip;</a>"},{"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"score":0,"creation_date":1678873244,"post_id":64220088,"comment_id":133615863,"body_markdown":"There is no such option in the Gradle settings in 2023.","body":"There is no such option in the Gradle settings in 2023."}],"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":4,"down_vote_count":1,"up_vote_count":66,"is_accepted":false,"score":65,"last_activity_date":1618317991,"creation_date":1601963746,"answer_id":64220088,"question_id":18487406,"body_markdown":"If you have this problem from `Intellij IDE`, try this options\r\n1. Set Gradle JVM Home\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Set the JDK version in the Project module settings\r\n[![enter image description here][2]][2]\r\n\r\n3. Check the JDK version in the Modules\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DP9ls.png\r\n  [2]: https://i.stack.imgur.com/7hYsr.png\r\n  [3]: https://i.stack.imgur.com/HnDxy.png","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you have this problem from <code>Intellij IDE</code>, try this options</p>\n<ol>\n<li><p>Set Gradle JVM Home\n<a href=\"https://i.stack.imgur.com/DP9ls.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DP9ls.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Set the JDK version in the Project module settings\n<a href=\"https://i.stack.imgur.com/7hYsr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7hYsr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Check the JDK version in the Modules\n<a href=\"https://i.stack.imgur.com/HnDxy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HnDxy.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":1,"creation_date":1646079957,"post_id":65883276,"comment_id":126031711,"body_markdown":"didnt work.\n`Value &#39;C:Program FilesJavajdk-11.0.8&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)`\nPlease provide examples.","body":"didnt work. <code>Value &#39;C:Program FilesJavajdk-11.0.8&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)</code> Please provide examples."},{"owner":{"account_id":14975810,"reputation":164,"user_id":10811285,"display_name":"JPA"},"score":0,"creation_date":1649593076,"post_id":65883276,"comment_id":126909909,"body_markdown":"escape the backslashes like so org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk-11.0.8","body":"escape the backslashes like so org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk-11.0.8"},{"owner":{"account_id":12902473,"reputation":321,"user_id":9330812,"display_name":"MadHatter"},"score":1,"creation_date":1662691514,"post_id":65883276,"comment_id":130069489,"body_markdown":"Tried something like &quot;org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-11.0.16.1&quot;, but it won&#39;t work. However, something like this works: &quot;./gradlew -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk-11.0.15&quot; build&quot;","body":"Tried something like &quot;org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-11.0.16.1&quot;, but it won&#39;t work. However, something like this works: &quot;./gradlew -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk-11.0.15&quot; build&quot;"},{"owner":{"account_id":5784158,"reputation":312,"user_id":4563960,"display_name":"Lucas Sousa"},"score":0,"creation_date":1681871135,"post_id":65883276,"comment_id":134125397,"body_markdown":"This may be a sensitive private information about path of the development machine. How to deal with it?","body":"This may be a sensitive private information about path of the development machine. How to deal with it?"}],"tags":[],"owner":{"account_id":12080668,"reputation":1455,"user_id":8832537,"display_name":"Yekta Sarƒ±oƒülu"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1611571855,"creation_date":1611571855,"answer_id":65883276,"question_id":18487406,"body_markdown":"You could easily point your desired Java version with specifying in the project level `gradle.properties`. This would effect the current project rather than altering the language level for every project throughout the system.\r\n\r\n```properties\r\norg.gradle.java.home=&lt;YOUR_JDK_PATH&gt;\r\n```","title":"How do I tell Gradle to use specific JDK version?","body":"<p>You could easily point your desired Java version with specifying in the project level <code>gradle.properties</code>. This would effect the current project rather than altering the language level for every project throughout the system.</p>\n<pre><code>org.gradle.java.home=&lt;YOUR_JDK_PATH&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1618474495,"post_id":66443594,"comment_id":118613372,"body_markdown":"Do i need to remove sourceCompatibility &amp; targetCompatibility? Also if i want it to run with a specific java update, let&#39;s say Java 8 Update 281 instead of Java 8 Update 271, is it possible?","body":"Do i need to remove sourceCompatibility &amp; targetCompatibility? Also if i want it to run with a specific java update, let&#39;s say Java 8 Update 281 instead of Java 8 Update 271, is it possible?"},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":2,"creation_date":1618492853,"post_id":66443594,"comment_id":118621313,"body_markdown":"@jumping_monkey You can&#39;t define them at the `java { }` extension level, but you can still define them at the `JavaCompile` task level. Or use the new `release` flag on `CompileOptions`. See https://docs.gradle.org/current/userguide/building_java_projects.html#sec:java_cross_compilation. About the specific java update, see https://github.com/gradle/gradle/issues/16628.","body":"@jumping_monkey You can&#39;t define them at the <code>java { }</code> extension level, but you can still define them at the <code>JavaCompile</code> task level. Or use the new <code>release</code> flag on <code>CompileOptions</code>. See <a href=\"https://docs.gradle.org/current/userguide/building_java_projects.html#sec:java_cross_compilation\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>. About the specific java update, see <a href=\"https://github.com/gradle/gradle/issues/16628\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/16628</a>."},{"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"score":1,"creation_date":1631910215,"post_id":66443594,"comment_id":122360496,"body_markdown":"how can i use the toolchain for all the plugins? cc @Raman","body":"how can i use the toolchain for all the plugins? cc @Raman"},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":0,"creation_date":1631911092,"post_id":66443594,"comment_id":122360734,"body_markdown":"@SouravJha Depends on the plugin, but my answer describes how to use compiler metadata to set the appropriate options for your plugin(s).","body":"@SouravJha Depends on the plugin, but my answer describes how to use compiler metadata to set the appropriate options for your plugin(s)."},{"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"score":1,"creation_date":1631953457,"post_id":66443594,"comment_id":122366615,"body_markdown":"I meant that for my project using Gradle as my build tool, I have the Gradle wrapper, on running the Gradle commands the plugins I have used, should use toolchain java instead of my machine&#39;s default java. Is there a global way to set compiler for all the plugins.","body":"I meant that for my project using Gradle as my build tool, I have the Gradle wrapper, on running the Gradle commands the plugins I have used, should use toolchain java instead of my machine&#39;s default java. Is there a global way to set compiler for all the plugins."},{"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"score":0,"creation_date":1632248282,"post_id":66443594,"comment_id":122439647,"body_markdown":"@Raman is it possible to do the above?","body":"@Raman is it possible to do the above?"},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":0,"creation_date":1632263425,"post_id":66443594,"comment_id":122444137,"body_markdown":"@SouravJha No, there is no &quot;global&quot; way to do it for plugins that do not yet understand toolchains directly (see https://docs.gradle.org/current/userguide/toolchains.html#sec:plugins). See my answer for how to configure a plugin manually, assuming it supports such configuration.","body":"@SouravJha No, there is no &quot;global&quot; way to do it for plugins that do not yet understand toolchains directly (see <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:plugins\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/toolchains.html#sec:plugin&zwnj;&#8203;s</a>). See my answer for how to configure a plugin manually, assuming it supports such configuration."},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1646079457,"post_id":66443594,"comment_id":126031553,"body_markdown":"how do any of these answers tell gradle where the java 11 jre is located?","body":"how do any of these answers tell gradle where the java 11 jre is located?"},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":1,"creation_date":1646112049,"post_id":66443594,"comment_id":126037522,"body_markdown":"@johnktejik Gradle attempts to auto-detect the location via several common mechanisms (see https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection). You can also define custom locations if the auto-detection isn&#39;t sufficient (see https://docs.gradle.org/current/userguide/toolchains.html#sec:custom_loc).","body":"@johnktejik Gradle attempts to auto-detect the location via several common mechanisms (see <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>). You can also define custom locations if the auto-detection isn&#39;t sufficient (see <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:custom_loc\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>)."},{"owner":{"account_id":1904470,"reputation":302,"user_id":1719618,"display_name":"Jur_"},"score":0,"creation_date":1670243036,"post_id":66443594,"comment_id":131823531,"body_markdown":"As of version 7.6 Gradle will also attempt to download Java when necessary, defaulting to the Adoptium/AdoptOpenJDK distributions.","body":"As of version 7.6 Gradle will also attempt to download Java when necessary, defaulting to the Adoptium/AdoptOpenJDK distributions."}],"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"comment_count":10,"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1665029802,"creation_date":1614703599,"answer_id":66443594,"question_id":18487406,"body_markdown":"# Gradle 6.7+ ‚Äî Use Gradle Toolchain Support\r\n\r\nThe right way to do this with modern versions of Gradle (version 6.7+) is to use the [Gradle Java Toolchain][1] [support][2].\r\n\r\nThe following block, when the java plugin is applied to the current project, will use Java 11 in all java compilation, test, and javadoc tasks:\r\n\r\n```\r\njava {\r\n  toolchain {\r\n    languageVersion.set(JavaLanguageVersion.of(11))\r\n  }\r\n}\r\n```\r\n\r\nThis can also be set for [individual tasks][5].\r\n\r\nNOTE: For [other tasks relying on a Java executable or Java home][6], use the compiler metadata to set the appropriate options. See below for an example with the Kotlin plugin, prior to version 1.5.30.\r\n\r\nGradle attempts to [auto-detect][3] the location of the specified JDK via several common mechanisms. [Custom locations][4] can be configured if the auto-detection isn&#39;t sufficient.\r\n\r\n## Kotlin 1.7.20+\r\n\r\nFor Kotlin 1.7.20+, the Kotlin plugin [supports toolchains directly][8] and has a simplified syntax:\r\n\r\n```kotlin\r\nkotlin {\r\n  jvmToolchain(17)\r\n}\r\n```\r\n\r\n## Kotlin 1.5.30+\r\n\r\nFor Kotlin 1.5.30+, the Kotlin plugin [supports toolchains directly][7]:\r\n\r\n```kotlin\r\nkotlin {\r\n  jvmToolchain {\r\n    (this as JavaToolchainSpec).languageVersion.set(JavaLanguageVersion.of(17))\r\n  }\r\n}\r\n```\r\n\r\n## Kotlin Earlier Versions\r\n\r\nConfiguring the Kotlin compiler for versions prior to 1.5.30 involves using the toolchain API to determine the compiler, and passing that information to the plugin. Other compiler-based plugins may be configured in similar ways.\r\n\r\n```kotlin\r\nval compiler = javaToolchains.compilerFor {\r\n  languageVersion.set(JavaLanguageVersion.of(11))\r\n}\r\n\r\ntasks.withType&lt;KotlinJvmCompile&gt;().configureEach {\r\n  kotlinOptions.jdkHome = compiler.get().metadata.installationPath.asFile.absolutePath\r\n}\r\n```\r\n\r\n\r\n  [1]: https://blog.gradle.org/java-toolchains\r\n  [2]: https://docs.gradle.org/current/userguide/toolchains.html\r\n  [3]: https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\r\n  [4]: https://docs.gradle.org/current/userguide/toolchains.html#sec:custom_loc\r\n  [5]: https://docs.gradle.org/current/userguide/toolchains.html#specify_custom_toolchains_for_individual_tasks\r\n  [6]: https://docs.gradle.org/current/userguide/toolchains.html#integration_with_tasks_relying_on_a_java_executable_or_java_home\r\n  [7]: https://kotlinlang.org/docs/whatsnew1530.html#support-for-java-toolchains\r\n  [8]: https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<h1>Gradle 6.7+ ‚Äî Use Gradle Toolchain Support</h1>\n<p>The right way to do this with modern versions of Gradle (version 6.7+) is to use the <a href=\"https://blog.gradle.org/java-toolchains\" rel=\"noreferrer\">Gradle Java Toolchain</a> <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"noreferrer\">support</a>.</p>\n<p>The following block, when the java plugin is applied to the current project, will use Java 11 in all java compilation, test, and javadoc tasks:</p>\n<pre><code>java {\n  toolchain {\n    languageVersion.set(JavaLanguageVersion.of(11))\n  }\n}\n</code></pre>\n<p>This can also be set for <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#specify_custom_toolchains_for_individual_tasks\" rel=\"noreferrer\">individual tasks</a>.</p>\n<p>NOTE: For <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#integration_with_tasks_relying_on_a_java_executable_or_java_home\" rel=\"noreferrer\">other tasks relying on a Java executable or Java home</a>, use the compiler metadata to set the appropriate options. See below for an example with the Kotlin plugin, prior to version 1.5.30.</p>\n<p>Gradle attempts to <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\" rel=\"noreferrer\">auto-detect</a> the location of the specified JDK via several common mechanisms. <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:custom_loc\" rel=\"noreferrer\">Custom locations</a> can be configured if the auto-detection isn't sufficient.</p>\n<h2>Kotlin 1.7.20+</h2>\n<p>For Kotlin 1.7.20+, the Kotlin plugin <a href=\"https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration\" rel=\"noreferrer\">supports toolchains directly</a> and has a simplified syntax:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n  jvmToolchain(17)\n}\n</code></pre>\n<h2>Kotlin 1.5.30+</h2>\n<p>For Kotlin 1.5.30+, the Kotlin plugin <a href=\"https://kotlinlang.org/docs/whatsnew1530.html#support-for-java-toolchains\" rel=\"noreferrer\">supports toolchains directly</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n  jvmToolchain {\n    (this as JavaToolchainSpec).languageVersion.set(JavaLanguageVersion.of(17))\n  }\n}\n</code></pre>\n<h2>Kotlin Earlier Versions</h2>\n<p>Configuring the Kotlin compiler for versions prior to 1.5.30 involves using the toolchain API to determine the compiler, and passing that information to the plugin. Other compiler-based plugins may be configured in similar ways.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val compiler = javaToolchains.compilerFor {\n  languageVersion.set(JavaLanguageVersion.of(11))\n}\n\ntasks.withType&lt;KotlinJvmCompile&gt;().configureEach {\n  kotlinOptions.jdkHome = compiler.get().metadata.installationPath.asFile.absolutePath\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6228201,"reputation":5409,"user_id":4845808,"display_name":"Chinese Cat"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616667577,"creation_date":1616662301,"answer_id":66795979,"question_id":18487406,"body_markdown":"For Windows, open cmd and enter to your project root, then execute a command like this:\r\n\r\n**gradlew build -Dorg.gradle.java.home=&quot;jdk_path&quot;** \r\n\r\nMy JDK is located in this path: C:\\Program Files\\Java\\jdk-11.0.5.\r\n\r\nSo, for my case, it looks like this below:\r\n\r\n**gradlew build -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk-11.0.5&quot;**\r\n\r\nAdditionally, if you want to specify a certain variant, you can do like this :\r\n\r\n**gradlew assembleDebug -Dorg.gradle.java.home=&quot;E:\\AndroidStudio\\jre&quot;**\r\n\r\nThis command will compile your project with **Debug** variant and output 2 apks(debug + release) in 2 folders.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>For Windows, open cmd and enter to your project root, then execute a command like this:</p>\n<p><strong>gradlew build -Dorg.gradle.java.home=&quot;jdk_path&quot;</strong></p>\n<p>My JDK is located in this path: C:\\Program Files\\Java\\jdk-11.0.5.</p>\n<p>So, for my case, it looks like this below:</p>\n<p><strong>gradlew build -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk-11.0.5&quot;</strong></p>\n<p>Additionally, if you want to specify a certain variant, you can do like this :</p>\n<p><strong>gradlew assembleDebug -Dorg.gradle.java.home=&quot;E:\\AndroidStudio\\jre&quot;</strong></p>\n<p>This command will compile your project with <strong>Debug</strong> variant and output 2 apks(debug + release) in 2 folders.</p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619531785,"creation_date":1619531381,"answer_id":67284400,"question_id":18487406,"body_markdown":"There is a pretty simple way. You can try the following solution.\r\n    \r\n\r\n    sudo update-alternatives --config java\r\n\r\nAfter updating your java version, let check Gradle current JVM&#39;s version to ensure this change was applied.\r\n\r\n    gradle -v\r\n\r\nFor more details, pls review your `gradlew` file (in Unix-like OS) or `gradlew.bat` file (in Window OS) to see how Gradle config `JAVACMD` variable.\r\n\r\nFor example\r\n```\r\n# Determine the Java command to use to start the JVM.\r\nif [ -n &quot;$JAVA_HOME&quot; ] ; then\r\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n        # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n        JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n    else\r\n        JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\r\n    fi\r\n    if [ ! -x &quot;$JAVACMD&quot; ] ; then\r\n        die &quot;ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.&quot;\r\n    fi\r\nelse\r\n    JAVACMD=&quot;java&quot;\r\n    which java &gt;/dev/null 2&gt;&amp;1 || die &quot;ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.&quot;\r\nfi\r\n```","title":"How do I tell Gradle to use specific JDK version?","body":"<p>There is a pretty simple way. You can try the following solution.</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>After updating your java version, let check Gradle current JVM's version to ensure this change was applied.</p>\n<pre><code>gradle -v\n</code></pre>\n<p>For more details, pls review your <code>gradlew</code> file (in Unix-like OS) or <code>gradlew.bat</code> file (in Window OS) to see how Gradle config <code>JAVACMD</code> variable.</p>\n<p>For example</p>\n<pre><code># Determine the Java command to use to start the JVM.\nif [ -n &quot;$JAVA_HOME&quot; ] ; then\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\n        # IBM's JDK on AIX uses strange locations for the executables\n        JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\n    else\n        JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\n    fi\n    if [ ! -x &quot;$JAVACMD&quot; ] ; then\n        die &quot;ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.&quot;\n    fi\nelse\n    JAVACMD=&quot;java&quot;\n    which java &gt;/dev/null 2&gt;&amp;1 || die &quot;ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.&quot;\nfi\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6455298,"reputation":272,"user_id":11080293,"display_name":"IamDOM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653239693,"creation_date":1653239693,"answer_id":72339744,"question_id":18487406,"body_markdown":"Thanks to [this answer][1] I was able to identify that my issue was gradle picking the wrong JDK even if the JAVA_HOME was set correctly.\r\n\r\n**My original comment:**\r\n\r\nMy OS is Linux and I have my JAVA_HOME pointing to the correct path. I have even used this command gradle build -Dorg.gradle.java.home=$JAVA_HOME to prove my point. I&#39;ve installed gradle using snap in Ubuntu and I&#39;m guessing it is using some bundled JDK. \r\n\r\n**My solution:**\r\n\r\nI&#39;ve removed gradle using snap and then I&#39;ve manually installed gradle by downloading their binaries and put it in the PATH.\r\n\r\nMy conclusion is that the gradle snap installation on Ubuntu comes bundled with some older JDK.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37959153/11080293","title":"How do I tell Gradle to use specific JDK version?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/a/37959153/11080293\">this answer</a> I was able to identify that my issue was gradle picking the wrong JDK even if the JAVA_HOME was set correctly.</p>\n<p><strong>My original comment:</strong></p>\n<p>My OS is Linux and I have my JAVA_HOME pointing to the correct path. I have even used this command gradle build -Dorg.gradle.java.home=$JAVA_HOME to prove my point. I've installed gradle using snap in Ubuntu and I'm guessing it is using some bundled JDK.</p>\n<p><strong>My solution:</strong></p>\n<p>I've removed gradle using snap and then I've manually installed gradle by downloading their binaries and put it in the PATH.</p>\n<p>My conclusion is that the gradle snap installation on Ubuntu comes bundled with some older JDK.</p>\n"},{"comments":[{"owner":{"account_id":5749383,"reputation":930,"user_id":4539582,"accept_rate":62,"display_name":"newbie"},"score":0,"creation_date":1654261467,"post_id":72442809,"comment_id":128055102,"body_markdown":"Old question with the updated answer. that&#39;s great +1","body":"Old question with the updated answer. that&#39;s great +1"}],"tags":[],"owner":{"account_id":19894980,"reputation":453,"user_id":14576258,"display_name":"btm me"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1696407614,"creation_date":1653976300,"answer_id":72442809,"question_id":18487406,"body_markdown":"&gt; ***gradle.properties***\r\n\r\n  \r\n      org.gradle.jvmargs=-Xmx1536M\r\n        android.useAndroidX=true\r\n        android.enableJetifier=true\r\n        org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-11.0.15\r\n\r\n    -------------------------------------------------------------------\r\n\r\n   \r\n\r\n&gt;  ***build.gradle***\r\n\r\n     android {\r\n            compileSdkVersion flutter.compileSdkVersion\r\n            ndkVersion flutter.ndkVersion\r\n            compileOptions {\r\n                sourceCompatibility 11\r\n                targetCompatibility 11\r\n            }\r\n            kotlinOptions {\r\n                jvmTarget = &#39;11&#39;\r\n                useIR = true\r\n            }\r\n            sourceSets {\r\n                main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n            }\r\n\r\n\r\nafter flutter3.0 &amp; jdk11 install these steps worked for me \r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<blockquote>\n<p><em><strong>gradle.properties</strong></em></p>\n</blockquote>\n<pre><code>  org.gradle.jvmargs=-Xmx1536M\n    android.useAndroidX=true\n    android.enableJetifier=true\n    org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-11.0.15\n\n-------------------------------------------------------------------\n</code></pre>\n<blockquote>\n<p><em><strong>build.gradle</strong></em></p>\n</blockquote>\n<pre><code> android {\n        compileSdkVersion flutter.compileSdkVersion\n        ndkVersion flutter.ndkVersion\n        compileOptions {\n            sourceCompatibility 11\n            targetCompatibility 11\n        }\n        kotlinOptions {\n            jvmTarget = '11'\n            useIR = true\n        }\n        sourceSets {\n            main.java.srcDirs += 'src/main/kotlin'\n        }\n</code></pre>\n<p>after flutter3.0 &amp; jdk11 install these steps worked for me</p>\n"}],"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756671,"favorite_count":0,"down_vote_count":0,"up_vote_count":537,"accepted_answer_id":21212790,"answer_count":23,"score":537,"last_activity_date":1696407614,"creation_date":1377691550,"question_id":18487406,"body_markdown":"I can&#39;t figure out to get this working.\r\n\r\nScenario:\r\n\r\n - I have an application built with gradle\r\n - The application uses JavaFX\r\n\r\nWhat I want\r\n\r\n - Use a variable (defined per developer machine) which points to an installation of a JDK which will be used for building the whole application / tests / ...\r\n\r\nI thought about having the `gradle.properties` file, defining the variable. Something like\r\n\r\n    JAVA_HOME_FOR_MY_PROJECT=&lt;path to my desired JDK&gt;\r\n\r\nWhat I don&#39;t want\r\n\r\n - point `JAVA_HOME` to the desired JDK\r\n\r\nI could live with many suggestions:\r\n\r\n - a solution that defines a system environment variable which I&#39;m able to check in my build.gradle script\r\n - a variable defined in gradle.properties\r\n - overriding the JAVA_HOME variable only for the build context (something like `use JAVA_HOME=&lt;my special JDK path defined somewhere else defined&gt;`)\r\n - something else I didn&#39;t think about\r\n\r\nQuestion:\r\n\r\n - How to wire a variable (how ever defined, as variable in the `gradle.properties`, system environment variable, ...) to the build process?\r\n\r\nI have more than one JDK7 available and need to point to a special version (minimum JDK_u version).\r\n\r\nAny answer is appreciated and I&#39;m thankful for every hint to the right direction.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>I can't figure out to get this working.</p>\n\n<p>Scenario:</p>\n\n<ul>\n<li>I have an application built with gradle</li>\n<li>The application uses JavaFX</li>\n</ul>\n\n<p>What I want</p>\n\n<ul>\n<li>Use a variable (defined per developer machine) which points to an installation of a JDK which will be used for building the whole application / tests / ...</li>\n</ul>\n\n<p>I thought about having the <code>gradle.properties</code> file, defining the variable. Something like</p>\n\n<pre><code>JAVA_HOME_FOR_MY_PROJECT=&lt;path to my desired JDK&gt;\n</code></pre>\n\n<p>What I don't want</p>\n\n<ul>\n<li>point <code>JAVA_HOME</code> to the desired JDK</li>\n</ul>\n\n<p>I could live with many suggestions:</p>\n\n<ul>\n<li>a solution that defines a system environment variable which I'm able to check in my build.gradle script</li>\n<li>a variable defined in gradle.properties</li>\n<li>overriding the JAVA_HOME variable only for the build context (something like <code>use JAVA_HOME=&lt;my special JDK path defined somewhere else defined&gt;</code>)</li>\n<li>something else I didn't think about</li>\n</ul>\n\n<p>Question:</p>\n\n<ul>\n<li>How to wire a variable (how ever defined, as variable in the <code>gradle.properties</code>, system environment variable, ...) to the build process?</li>\n</ul>\n\n<p>I have more than one JDK7 available and need to point to a special version (minimum JDK_u version).</p>\n\n<p>Any answer is appreciated and I'm thankful for every hint to the right direction.</p>\n"},{"tags":["java","c++","sysv-ipc"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1696328206,"post_id":77221347,"comment_id":136135771,"body_markdown":"I doubt you&#39;re doing yourself any favors hashing the key first.","body":"I doubt you&#39;re doing yourself any favors hashing the key first."},{"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"score":0,"creation_date":1696329378,"post_id":77221347,"comment_id":136135954,"body_markdown":"I get it, i&#39;ll look how to get the st_ino and st_dev in a different way and if I still won&#39;t succeed ill update the question","body":"I get it, i&#39;ll look how to get the st_ino and st_dev in a different way and if I still won&#39;t succeed ill update the question"},{"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"score":0,"creation_date":1696330159,"post_id":77221347,"comment_id":136136086,"body_markdown":"in the ` BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);`","body":"in the ` BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);`"},{"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"score":0,"creation_date":1696330793,"post_id":77221347,"comment_id":136136202,"body_markdown":"I found the data that i need inside attributes but I can access it only when i do evaluate expression, any ideas how to solve it?","body":"I found the data that i need inside attributes but I can access it only when i do evaluate expression, any ideas how to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696332145,"creation_date":1696330632,"answer_id":77221656,"question_id":77221347,"body_markdown":"OK ... I see what you are attempting.\r\n\r\nIn Java 11, the `hashCode()` method for a `UnixFileKey` returns:\r\n\r\n       return (int)(st_dev ^ (st_dev &gt;&gt;&gt; 32)) +\r\n              (int)(st_ino ^ (st_ino &gt;&gt;&gt; 32));\r\n\r\n... and I guess you are trying to extract the `st_dev` and `st_ino` values from the returned value.\r\n\r\nBut it won&#39;t work.  That is not a reversible computation.\r\n\r\nIf you want to extract the `st_dev` and `st_ino` from a `UnixFileKey`, you will need to break abstraction so that you can access the values of the fields.  This can be done using reflection ... albeit that it is getting increasingly difficult to do this.\r\n\r\nAnother alternative would be to parse the `String` returned by the `toString()` method which (in Java 11) is formed as follows:\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;(dev=&quot;)\r\n          .append(Long.toHexString(st_dev))\r\n          .append(&quot;,ino=&quot;)\r\n          .append(st_ino)\r\n          .append(&#39;)&#39;);\r\n        return sb.toString();\r\n\r\nNote that either way you do this is going to make your code dependent on (unspecified) implementation details of a JDK internal class.   In theory it could break from one Java version to the next.  (These details appear to be unchanged from Java 7 to 17, but YMMV.)","title":"Can I get the values of st_ino and st_dev that used in &lt;sys/stat.h&gt; but in my java code?","body":"<p>OK ... I see what you are attempting.</p>\n<p>In Java 11, the <code>hashCode()</code> method for a <code>UnixFileKey</code> returns:</p>\n<pre><code>   return (int)(st_dev ^ (st_dev &gt;&gt;&gt; 32)) +\n          (int)(st_ino ^ (st_ino &gt;&gt;&gt; 32));\n</code></pre>\n<p>... and I guess you are trying to extract the <code>st_dev</code> and <code>st_ino</code> values from the returned value.</p>\n<p>But it won't work.  That is not a reversible computation.</p>\n<p>If you want to extract the <code>st_dev</code> and <code>st_ino</code> from a <code>UnixFileKey</code>, you will need to break abstraction so that you can access the values of the fields.  This can be done using reflection ... albeit that it is getting increasingly difficult to do this.</p>\n<p>Another alternative would be to parse the <code>String</code> returned by the <code>toString()</code> method which (in Java 11) is formed as follows:</p>\n<pre><code>    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;(dev=&quot;)\n      .append(Long.toHexString(st_dev))\n      .append(&quot;,ino=&quot;)\n      .append(st_ino)\n      .append(')');\n    return sb.toString();\n</code></pre>\n<p>Note that either way you do this is going to make your code dependent on (unspecified) implementation details of a JDK internal class.   In theory it could break from one Java version to the next.  (These details appear to be unchanged from Java 7 to 17, but YMMV.)</p>\n"}],"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696407320,"creation_date":1696327870,"question_id":77221347,"body_markdown":"I want to replicate this code part that used to convert file to key in my java project in order to access SharedMemory data.\r\n\r\nso the code in c looks like that:\r\n```cpp\r\nkey_t ftok(const char *path, int id)\r\n{\r\n    struct stat st;\r\n    if (stat(path, &amp;st) &lt; 0) return -1;\r\n    int inode = st.st_ino;\r\n    int dev = st.st_dev;\r\n    return ((st.st_ino &amp; 0xffff) | ((st.st_dev &amp; 0xff) &lt;&lt; 16) | ((id &amp; 0xff) &lt;&lt; 24));\r\n}\r\n```\r\n\r\nand with the use of chatgpt I got this code part, but for some reason the data in the inode and\r\n dev are not the same, so I guess that I cant access the stat properties of a specific file.. I could be wrong.\r\n\r\nThis is the Java code:\r\n```Java\r\ntry {\r\n            Path absolutePath = Paths.get(path).toAbsolutePath();\r\n            BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\r\n\r\n            int st_ino = (int) (attributes.fileKey().hashCode());\r\n            int st_dev = (int) ((attributes.fileKey().hashCode() &gt;&gt; 16));\r\n\r\n            return (st_ino &amp; 0xFFFF) | ((st_dev &amp; 0xFF) &lt;&lt; 16);\r\n        } catch (Exception e) {\r\n            return -1;\r\n        }\r\n```\r\nthe value of the numbers in the st_ino and st_dev are close, but no the exact copy\r\n\r\n\r\nI&#39;ve tried to use BasicFileAttributes to get the same result but unfortunately the numbers are not the same.\r\n\r\nEdit:\r\nThanks for the responses and all the clarifications on the subject. I read what Stephen C did and I did something like this:\r\n```Java\r\nPath absolutePath = Paths.get(path).toAbsolutePath();\r\nBasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\r\nString dev_ino_string = attributes.fileKey().toString();\r\nint st_ino = extractValue(dev_ino_string, &quot;ino&quot;);\r\nint st_dev = extractValue(dev_ino_string, &quot;dev&quot;);\r\n```\r\n(extractValues just get me the value from the toString)\r\nto string response look like this:`(dev=10302,ino=121896961)`\r\nand when I call `attributes.fileKey().toString()` I get this result:\r\n```\r\nst_dev = 66306\r\nst_ino = 121896961\r\n```\r\nnow it&#39;s a bit weird that the dev that i get is not the same in the tostring so I&#39;ll keep digging into it and look for an answer.\r\n\r\nEdit 2:\r\nThis is what I see when I evaluate\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Awskh.png\r\n\r\nAnd I cant simply extract the values with:\r\n`attributes.fileKey().st_dev`\r\nis there a way to bypass it and get the values?","title":"Can I get the values of st_ino and st_dev that used in &lt;sys/stat.h&gt; but in my java code?","body":"<p>I want to replicate this code part that used to convert file to key in my java project in order to access SharedMemory data.</p>\n<p>so the code in c looks like that:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>key_t ftok(const char *path, int id)\n{\n    struct stat st;\n    if (stat(path, &amp;st) &lt; 0) return -1;\n    int inode = st.st_ino;\n    int dev = st.st_dev;\n    return ((st.st_ino &amp; 0xffff) | ((st.st_dev &amp; 0xff) &lt;&lt; 16) | ((id &amp; 0xff) &lt;&lt; 24));\n}\n</code></pre>\n<p>and with the use of chatgpt I got this code part, but for some reason the data in the inode and\ndev are not the same, so I guess that I cant access the stat properties of a specific file.. I could be wrong.</p>\n<p>This is the Java code:</p>\n<pre><code>try {\n            Path absolutePath = Paths.get(path).toAbsolutePath();\n            BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\n\n            int st_ino = (int) (attributes.fileKey().hashCode());\n            int st_dev = (int) ((attributes.fileKey().hashCode() &gt;&gt; 16));\n\n            return (st_ino &amp; 0xFFFF) | ((st_dev &amp; 0xFF) &lt;&lt; 16);\n        } catch (Exception e) {\n            return -1;\n        }\n</code></pre>\n<p>the value of the numbers in the st_ino and st_dev are close, but no the exact copy</p>\n<p>I've tried to use BasicFileAttributes to get the same result but unfortunately the numbers are not the same.</p>\n<p>Edit:\nThanks for the responses and all the clarifications on the subject. I read what Stephen C did and I did something like this:</p>\n<pre><code>Path absolutePath = Paths.get(path).toAbsolutePath();\nBasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\nString dev_ino_string = attributes.fileKey().toString();\nint st_ino = extractValue(dev_ino_string, &quot;ino&quot;);\nint st_dev = extractValue(dev_ino_string, &quot;dev&quot;);\n</code></pre>\n<p>(extractValues just get me the value from the toString)\nto string response look like this:<code>(dev=10302,ino=121896961)</code>\nand when I call <code>attributes.fileKey().toString()</code> I get this result:</p>\n<pre><code>st_dev = 66306\nst_ino = 121896961\n</code></pre>\n<p>now it's a bit weird that the dev that i get is not the same in the tostring so I'll keep digging into it and look for an answer.</p>\n<p>Edit 2:\nThis is what I see when I evaluate\n<a href=\"https://i.stack.imgur.com/Awskh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Awskh.png\" alt=\"enter image description here\" /></a></p>\n<p>And I cant simply extract the values with:\n<code>attributes.fileKey().st_dev</code>\nis there a way to bypass it and get the values?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696403175,"post_id":77227438,"comment_id":136146502,"body_markdown":"what is this `class InnerDig` ?","body":"what is this <code>class InnerDig</code> ?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1696403907,"post_id":77227438,"comment_id":136146652,"body_markdown":"@FedericoklezCulloca Actually we can, that is what we call [*local class*](https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html). Syntaxtical problem here is that `while` loop is placed directly inside that local class, instead of wrapping it in its method/constructor/initialization block. Or we can just remove that `class InnerDig` since it is never *used*.","body":"@FedericoklezCulloca Actually we can, that is what we call <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html\" rel=\"nofollow noreferrer\"><i>local class</i></a>. Syntaxtical problem here is that <code>while</code> loop is placed directly inside that local class, instead of wrapping it in its method/constructor/initialization block. Or we can just remove that <code>class InnerDig</code> since it is never <i>used</i>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1696403995,"post_id":77227438,"comment_id":136146672,"body_markdown":"@Pshemo huh, TIL. I never saw that.","body":"@Pshemo huh, TIL. I never saw that."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696407313,"creation_date":1696407313,"answer_id":77227893,"question_id":77227438,"body_markdown":"Not sure what you are trying to achieve here. There are 2 problems with that code snippet. \r\n1. You can not write a control statement(if, switch, for, while, do-while, etc) outside a method or an initializer block. So, the while loop inside the class body `InnerDig` is not valid.\r\n2. Even if you put the loop inside a method inside the inner class, it still would not compile as inside local inner class, a variable(`count` in this scenario) from the container method (`digit`) can only be accessed if it is final or effectively final. ","title":"Syntax error, insert &quot;ClassBody&quot; to complete ClassDeclaration","body":"<p>Not sure what you are trying to achieve here. There are 2 problems with that code snippet.</p>\n<ol>\n<li>You can not write a control statement(if, switch, for, while, do-while, etc) outside a method or an initializer block. So, the while loop inside the class body <code>InnerDig</code> is not valid.</li>\n<li>Even if you put the loop inside a method inside the inner class, it still would not compile as inside local inner class, a variable(<code>count</code> in this scenario) from the container method (<code>digit</code>) can only be accessed if it is final or effectively final.</li>\n</ol>\n"}],"owner":{"account_id":28516347,"reputation":1,"user_id":21825651,"display_name":"Divya Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696587212,"answer_count":1,"score":-2,"last_activity_date":1696407313,"creation_date":1696403048,"question_id":77227438,"body_markdown":"    package numberquebymethod;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class NoOfDigit \r\n    {\r\n    \tpublic  int digit(int num)\r\n    \t{\r\n    \t\tint count=0;\r\n    \t\tclass InnerDig\r\n    \t\t{\r\n    \t\t\twhile(num!=0)\r\n    \t\t\t{\r\n    \t\t\t\tcount++;\r\n    \t\t\t\tnum=num/10;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter a number:&quot;);\r\n    \t\tint num=sc.nextInt();\r\n            NoOfDigit ndg=new NoOfDigit();\r\n            System.out.println(ndg.digit(num));\r\n    \t}\r\n    }\r\n    \r\n    //Getting error in line:Class InnerDig","title":"Syntax error, insert &quot;ClassBody&quot; to complete ClassDeclaration","body":"<pre><code>package numberquebymethod;\n\nimport java.util.Scanner;\n\npublic class NoOfDigit \n{\n    public  int digit(int num)\n    {\n        int count=0;\n        class InnerDig\n        {\n            while(num!=0)\n            {\n                count++;\n                num=num/10;\n            }\n        }\n        return count;\n    }\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter a number:&quot;);\n        int num=sc.nextInt();\n        NoOfDigit ndg=new NoOfDigit();\n        System.out.println(ndg.digit(num));\n    }\n}\n\n//Getting error in line:Class InnerDig\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696407207,"creation_date":1696407207,"answer_id":77227883,"question_id":77227768,"body_markdown":"&gt; How can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:\r\n\r\nYou can use a custom Converter, which is a Spring Data MongoDB component. It is used to serialise and deserialise objects to and from BSON documents.\r\n\r\nYou can see the example:\r\n```\r\npublic class CustomPropertyConverter implements Converter&lt;MyProperty, String&gt; {\r\n\r\n    @Override\r\n    public String convert(MyProperty source) {\r\n        return source.getString();\r\n    }\r\n\r\n    @Override\r\n    public MyProperty reverse(String source) {\r\n        MyProperty myProperty = new MyProperty();\r\n        myProperty.setString(source);\r\n        return myProperty;\r\n    }\r\n}\r\n```\r\n\r\nFurthermore you need to register this converter with Spring Data MongoDB:\r\n\r\n```\r\n@Document(collection = &quot;my_entity&quot;)\r\npublic class MyEntity {\r\n\r\n    @Convert(CustomPropertyConverter)\r\n    private MyProperty myProperty;\r\n\r\n    //...\r\n}\r\n```\r\n\r\nP.s.\r\nI hope it can help you.\r\n\r\nLet me know if it works for you, please.","title":"How to save complex type property as String in a Spring Data MongoDB entity","body":"<blockquote>\n<p>How can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:</p>\n</blockquote>\n<p>You can use a custom Converter, which is a Spring Data MongoDB component. It is used to serialise and deserialise objects to and from BSON documents.</p>\n<p>You can see the example:</p>\n<pre><code>public class CustomPropertyConverter implements Converter&lt;MyProperty, String&gt; {\n\n    @Override\n    public String convert(MyProperty source) {\n        return source.getString();\n    }\n\n    @Override\n    public MyProperty reverse(String source) {\n        MyProperty myProperty = new MyProperty();\n        myProperty.setString(source);\n        return myProperty;\n    }\n}\n</code></pre>\n<p>Furthermore you need to register this converter with Spring Data MongoDB:</p>\n<pre><code>@Document(collection = &quot;my_entity&quot;)\npublic class MyEntity {\n\n    @Convert(CustomPropertyConverter)\n    private MyProperty myProperty;\n\n    //...\n}\n</code></pre>\n<p>P.s.\nI hope it can help you.</p>\n<p>Let me know if it works for you, please.</p>\n"}],"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696407207,"creation_date":1696406279,"question_id":77227768,"body_markdown":"In my Spring Data MongoDB project I have a following POJO:\r\n\r\n       @Document(collection = &quot;my_entity&quot;)\r\n       public class MyEntity {\r\n           private MyProperty myProperty;\r\n       }\r\n\r\nwhere MyProperty:\r\n\r\n       public class MyProperty implements Serializable {\r\n            private String string;\r\n       }\r\n\r\nWhen I save instance of such Entiry then in MongoDB it become as following:\r\n\r\n    { &quot;_id&quot; : ...,\r\n      &quot;myProperty&quot; : {\r\n    \t\t&quot;string&quot; : &quot;...&quot;\r\n      }\r\n    }\r\n\r\nHow can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:\r\n\r\n    { \r\n      &quot;myProperty&quot; : &quot;...&quot;\r\n    }\r\n\r\n","title":"How to save complex type property as String in a Spring Data MongoDB entity","body":"<p>In my Spring Data MongoDB project I have a following POJO:</p>\n<pre><code>   @Document(collection = &quot;my_entity&quot;)\n   public class MyEntity {\n       private MyProperty myProperty;\n   }\n</code></pre>\n<p>where MyProperty:</p>\n<pre><code>   public class MyProperty implements Serializable {\n        private String string;\n   }\n</code></pre>\n<p>When I save instance of such Entiry then in MongoDB it become as following:</p>\n<pre><code>{ &quot;_id&quot; : ...,\n  &quot;myProperty&quot; : {\n        &quot;string&quot; : &quot;...&quot;\n  }\n}\n</code></pre>\n<p>How can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:</p>\n<pre><code>{ \n  &quot;myProperty&quot; : &quot;...&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":2266637,"reputation":1512,"user_id":1995130,"display_name":"dubonzi"},"score":0,"creation_date":1445871321,"post_id":33347303,"comment_id":54492916,"body_markdown":"Oh I hadn&#39;t noticed the `Pageable pageable` in his query, my bad! Edit my answer.","body":"Oh I hadn&#39;t noticed the <code>Pageable pageable</code> in his query, my bad! Edit my answer."}],"tags":[],"owner":{"account_id":2266637,"reputation":1512,"user_id":1995130,"display_name":"dubonzi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445871247,"creation_date":1445867008,"answer_id":33347303,"question_id":33318257,"body_markdown":"Spring Data offers basic sorting as seen [here][1]. You can also annotate your query with `@Query` and use `order by`, but I believe what you need is a more complex sorting logic.\r\n\r\nIf youre using Java 8 you can use its features to sort your list, [this][2] article shows good examples of that, it takes a bit more work but seems like what you&#39;re after. Note that in order to convert from `stream` to `list` you have to include  `.collect(Collectors.toList());` at the end of the `stream`. \r\n\r\nExample(taken from the article): \r\n\r\n    employees.stream().sorted((Employee e1, Employee e2) -&gt; e1.getHireDate()\r\n                            .compareTo(e2.getHireDate())).collect(Collectors.toList());\r\n\r\n\r\n**Edit**: I didn&#39;t notice you were using pagination. I had a similar problem where I had to do something with the page contents before returning the `Page` object, so I ended up creating an extension of the `PageImpl&lt;T&gt;` class:\r\n\r\n    public class PageImplBean&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private int number;\r\n        private int size;\r\n        private int totalPages;\r\n        private int numberOfElements;\r\n        private long totalElements;\r\n        private boolean previousPage;\r\n        private boolean first;\r\n        private boolean nextPage;\r\n        private boolean last;\r\n        private List&lt;T&gt; content;\r\n        @JsonIgnore\r\n        private Sort sort;\r\n    \r\n        public PageImplBean() {\r\n            super(new ArrayList&lt;T&gt;());\r\n        }\r\n    \r\n        public PageImplBean(Page pagina){\r\n            super(new ArrayList&lt;T&gt;());\r\n            this.number = pagina.getNumber();\r\n            this.size = pagina.getSize();\r\n            this.totalPages = pagina.getTotalPages();\r\n            this.numberOfElements = pagina.getNumberOfElements();\r\n            this.totalElements = pagina.getTotalElements();\r\n            this.previousPage = pagina.hasPrevious();\r\n            this.first = pagina.isFirst();\r\n            this.nextPage = pagina.hasNext();\r\n            this.last = pagina.isLast();\r\n        }\r\n    \r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(int number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public int getSize() {\r\n            return size;\r\n        }\r\n    \r\n        public void setSize(int size) {\r\n            this.size = size;\r\n        }\r\n    \r\n        public int getTotalPages() {\r\n            return totalPages;\r\n        }\r\n    \r\n        public void setTotalPages(int totalPages) {\r\n            this.totalPages = totalPages;\r\n        }\r\n    \r\n        public int getNumberOfElements() {\r\n            return numberOfElements;\r\n        }\r\n    \r\n        public void setNumberOfElements(int numberOfElements) {\r\n            this.numberOfElements = numberOfElements;\r\n        }\r\n    \r\n        public long getTotalElements() {\r\n            return totalElements;\r\n        }\r\n    \r\n        public void setTotalElements(long totalElements) {\r\n            this.totalElements = totalElements;\r\n        }\r\n    \r\n        public boolean isPreviousPage() {\r\n            return previousPage;\r\n        }\r\n    \r\n        public void setPreviousPage(boolean previousPage) {\r\n            this.previousPage = previousPage;\r\n        }\r\n    \r\n        public boolean isFirst() {\r\n            return first;\r\n        }\r\n    \r\n        public void setFirst(boolean first) {\r\n            this.first = first;\r\n        }\r\n    \r\n        public boolean isNextPage() {\r\n            return nextPage;\r\n        }\r\n    \r\n        public void setNextPage(boolean nextPage) {\r\n            this.nextPage = nextPage;\r\n        }\r\n    \r\n        public boolean isLast() {\r\n            return last;\r\n        }\r\n    \r\n        public void setLast(boolean last) {\r\n            this.last = last;\r\n        }\r\n    \r\n        public List&lt;T&gt; getContent() {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent(List&lt;T&gt; content) {\r\n            this.content = content;\r\n        }\r\n    \r\n        public Sort getSort() {\r\n            return sort;\r\n        }\r\n    \r\n        public void setSort(Sort sort) {\r\n            this.sort = sort;\r\n        }\r\n    \r\n        public PageImpl&lt;T&gt; pageImpl() {\r\n            return new PageImpl&lt;T&gt;(getContent(), new PageRequest(getNumber(),\r\n                    getSize(), getSort()), getTotalElements());\r\n        }\r\n    }\r\n\r\nWhat&#39;s important here in your case is the `setContent` method which doesnt exist in the base class. You can use that with your sorting method:\r\n\r\n    PageImplBean&lt;Thing&gt; page = //call your rest repository\r\n    List&lt;Thing&gt; pageContent = page.getContent();\r\n    page.setContent(sortByRating(pageContent));\r\n\r\n  [1]: http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-six-sorting/\r\n  [2]: http://www.leveluplunch.com/java/tutorials/007-sort-arraylist-stream-of-objects-in-java8/","title":"Spring Data JPA - Custom Sort in JpaRepository","body":"<p>Spring Data offers basic sorting as seen <a href=\"http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-six-sorting/\" rel=\"nofollow\">here</a>. You can also annotate your query with <code>@Query</code> and use <code>order by</code>, but I believe what you need is a more complex sorting logic.</p>\n\n<p>If youre using Java 8 you can use its features to sort your list, <a href=\"http://www.leveluplunch.com/java/tutorials/007-sort-arraylist-stream-of-objects-in-java8/\" rel=\"nofollow\">this</a> article shows good examples of that, it takes a bit more work but seems like what you're after. Note that in order to convert from <code>stream</code> to <code>list</code> you have to include  <code>.collect(Collectors.toList());</code> at the end of the <code>stream</code>. </p>\n\n<p>Example(taken from the article): </p>\n\n<pre><code>employees.stream().sorted((Employee e1, Employee e2) -&gt; e1.getHireDate()\n                        .compareTo(e2.getHireDate())).collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Edit</strong>: I didn't notice you were using pagination. I had a similar problem where I had to do something with the page contents before returning the <code>Page</code> object, so I ended up creating an extension of the <code>PageImpl&lt;T&gt;</code> class:</p>\n\n<pre><code>public class PageImplBean&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private int number;\n    private int size;\n    private int totalPages;\n    private int numberOfElements;\n    private long totalElements;\n    private boolean previousPage;\n    private boolean first;\n    private boolean nextPage;\n    private boolean last;\n    private List&lt;T&gt; content;\n    @JsonIgnore\n    private Sort sort;\n\n    public PageImplBean() {\n        super(new ArrayList&lt;T&gt;());\n    }\n\n    public PageImplBean(Page pagina){\n        super(new ArrayList&lt;T&gt;());\n        this.number = pagina.getNumber();\n        this.size = pagina.getSize();\n        this.totalPages = pagina.getTotalPages();\n        this.numberOfElements = pagina.getNumberOfElements();\n        this.totalElements = pagina.getTotalElements();\n        this.previousPage = pagina.hasPrevious();\n        this.first = pagina.isFirst();\n        this.nextPage = pagina.hasNext();\n        this.last = pagina.isLast();\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n\n    public int getSize() {\n        return size;\n    }\n\n    public void setSize(int size) {\n        this.size = size;\n    }\n\n    public int getTotalPages() {\n        return totalPages;\n    }\n\n    public void setTotalPages(int totalPages) {\n        this.totalPages = totalPages;\n    }\n\n    public int getNumberOfElements() {\n        return numberOfElements;\n    }\n\n    public void setNumberOfElements(int numberOfElements) {\n        this.numberOfElements = numberOfElements;\n    }\n\n    public long getTotalElements() {\n        return totalElements;\n    }\n\n    public void setTotalElements(long totalElements) {\n        this.totalElements = totalElements;\n    }\n\n    public boolean isPreviousPage() {\n        return previousPage;\n    }\n\n    public void setPreviousPage(boolean previousPage) {\n        this.previousPage = previousPage;\n    }\n\n    public boolean isFirst() {\n        return first;\n    }\n\n    public void setFirst(boolean first) {\n        this.first = first;\n    }\n\n    public boolean isNextPage() {\n        return nextPage;\n    }\n\n    public void setNextPage(boolean nextPage) {\n        this.nextPage = nextPage;\n    }\n\n    public boolean isLast() {\n        return last;\n    }\n\n    public void setLast(boolean last) {\n        this.last = last;\n    }\n\n    public List&lt;T&gt; getContent() {\n        return content;\n    }\n\n    public void setContent(List&lt;T&gt; content) {\n        this.content = content;\n    }\n\n    public Sort getSort() {\n        return sort;\n    }\n\n    public void setSort(Sort sort) {\n        this.sort = sort;\n    }\n\n    public PageImpl&lt;T&gt; pageImpl() {\n        return new PageImpl&lt;T&gt;(getContent(), new PageRequest(getNumber(),\n                getSize(), getSort()), getTotalElements());\n    }\n}\n</code></pre>\n\n<p>What's important here in your case is the <code>setContent</code> method which doesnt exist in the base class. You can use that with your sorting method:</p>\n\n<pre><code>PageImplBean&lt;Thing&gt; page = //call your rest repository\nList&lt;Thing&gt; pageContent = page.getContent();\npage.setContent(sortByRating(pageContent));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7322363,"reputation":292,"user_id":6597476,"display_name":"Leonardo Ramos Duarte"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558998357,"creation_date":1558998357,"answer_id":56333281,"question_id":33318257,"body_markdown":"You can customize your object page(Pageable). If you get data of request:\r\n```java\r\npublic PageRequest customSort(Args...) {\r\n    String[] newParams = {&quot;newParam&quot;};\r\n    Sort sort = page.getSort();\r\n    Sort.Order dataSort =\r\n        sort.iterator().next();\r\n    Sort newSort = Sort.by(dataSort.getDirection(), newParams);\r\n    return PageRequest.of(page.getPageNumber(), this.getPageSize(), newSort);\r\n}\r\n```\r\n\r\nSQL Before:\r\n```sql\r\norder by oldParam ASC/DESC;\r\n```\r\nSQL After:\r\n```sql\r\norder by newParam ASC/DESC;\r\n```","title":"Spring Data JPA - Custom Sort in JpaRepository","body":"<p>You can customize your object page(Pageable). If you get data of request:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public PageRequest customSort(Args...) {\n    String[] newParams = {\"newParam\"};\n    Sort sort = page.getSort();\n    Sort.Order dataSort =\n        sort.iterator().next();\n    Sort newSort = Sort.by(dataSort.getDirection(), newParams);\n    return PageRequest.of(page.getPageNumber(), this.getPageSize(), newSort);\n}\n</code></pre>\n\n<p>SQL Before:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>order by oldParam ASC/DESC;\n</code></pre>\n\n<p>SQL After:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>order by newParam ASC/DESC;\n</code></pre>\n"}],"owner":{"account_id":1155426,"reputation":5925,"user_id":2442740,"accept_rate":73,"display_name":"Christos Baziotis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13065,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1696406465,"creation_date":1445690056,"question_id":33318257,"body_markdown":"I am using Spring Data JPA with Spring Data REST and i have created a JpaRepository for my `Thing` entity.\r\n\r\n    @Repository\r\n    public interface ThingRepository extends JpaRepository&lt;Thing, Long&gt; {\r\n    \r\n        @RestResource(path = &quot;findByName&quot;, rel = &quot;findByName&quot;)\r\n        Page findByName(@Param(&quot;name&quot;) String name, Pageable page);\r\n    \r\n    }\r\n\r\nI want to apply sorting. I want to sort the `Thing` List based on a custom rating  algorithm. \r\n\r\n    List&lt;Thing&gt; sortByRating(List&lt;Thing&gt; things){\r\n\r\n        // custom logic\r\n\r\n        return things;\r\n    };\r\n\r\nI would like if possible to use a custom function in order to sort the results. What is the best approach to this kind of thing in Spring JPA? How can i make my Repository use my function to sort the result set?\r\n","title":"Spring Data JPA - Custom Sort in JpaRepository","body":"<p>I am using Spring Data JPA with Spring Data REST and i have created a JpaRepository for my <code>Thing</code> entity.</p>\n\n<pre><code>@Repository\npublic interface ThingRepository extends JpaRepository&lt;Thing, Long&gt; {\n\n    @RestResource(path = \"findByName\", rel = \"findByName\")\n    Page findByName(@Param(\"name\") String name, Pageable page);\n\n}\n</code></pre>\n\n<p>I want to apply sorting. I want to sort the <code>Thing</code> List based on a custom rating  algorithm. </p>\n\n<pre><code>List&lt;Thing&gt; sortByRating(List&lt;Thing&gt; things){\n\n    // custom logic\n\n    return things;\n};\n</code></pre>\n\n<p>I would like if possible to use a custom function in order to sort the results. What is the best approach to this kind of thing in Spring JPA? How can i make my Repository use my function to sort the result set?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","uuid"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696401156,"post_id":77227216,"comment_id":136146202,"body_markdown":"*in most cases, the SELECT will not return any duplicate data,* then catch the Exception?","body":"<i>in most cases, the SELECT will not return any duplicate data,</i> then catch the Exception?"},{"owner":{"account_id":7675502,"reputation":209,"user_id":5816527,"display_name":"Tobias Horst"},"score":1,"creation_date":1696401216,"post_id":77227216,"comment_id":136146208,"body_markdown":"The answer depends on your use case. However, why you then need a unique key for a record if duplication is acceptable? Think about what you want to achieve.","body":"The answer depends on your use case. However, why you then need a unique key for a record if duplication is acceptable? Think about what you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696401292,"creation_date":1696401292,"answer_id":77227285,"question_id":77227216,"body_markdown":"No, if the database has a unique primary key constraint, then attempting a duplicate insertion will raise an exception. \r\n\r\nYou will need to add code to handle the exception. Typically such code would calculate a new UUID then retry the insert.","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>No, if the database has a unique primary key constraint, then attempting a duplicate insertion will raise an exception.</p>\n<p>You will need to add code to handle the exception. Typically such code would calculate a new UUID then retry the insert.</p>\n"},{"comments":[{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1696402927,"post_id":77227332,"comment_id":136146464,"body_markdown":"To use catch exceptions, it&#39;s better to categorize them for different types of errors rather than catching a general exception.\n\ntry{\n   doSomething...\n}catch(ConstraintExcpetion ex){\n  doSomething...\n}catch(Exception ex){\n  doSomething...\n}","body":"To use catch exceptions, it&#39;s better to categorize them for different types of errors rather than catching a general exception.  try{    doSomething... }catch(ConstraintExcpetion ex){   doSomething... }catch(Exception ex){   doSomething... }"},{"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"score":0,"creation_date":1696405454,"post_id":77227332,"comment_id":136146926,"body_markdown":"@Ziv you are right, I edited the answer. Thanks","body":"@Ziv you are right, I edited the answer. Thanks"}],"tags":[],"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696405333,"creation_date":1696401826,"answer_id":77227332,"question_id":77227216,"body_markdown":"It is a more optimal solution to handle exceptions than to place an unnecessary query in the code. What also needs to be resolved is that the exceptions for duplication must be handled separately from other database exceptions. For example, check the Exception message in the catch case:\r\n\r\n    catch (Exception e) {\r\n      if (e.getMessage().contains(&quot;Duplicate&quot;)) { ... }\r\n      else { ... }\r\n    }\r\n\r\n\r\nOr, as Ziv suggested in the comment, you can catch specified exceptions. In this case SQLIntegrityConstraintViolationException will be thrown (or its subclass, but it depends of the driver vendor).","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>It is a more optimal solution to handle exceptions than to place an unnecessary query in the code. What also needs to be resolved is that the exceptions for duplication must be handled separately from other database exceptions. For example, check the Exception message in the catch case:</p>\n<pre><code>catch (Exception e) {\n  if (e.getMessage().contains(&quot;Duplicate&quot;)) { ... }\n  else { ... }\n}\n</code></pre>\n<p>Or, as Ziv suggested in the comment, you can catch specified exceptions. In this case SQLIntegrityConstraintViolationException will be thrown (or its subclass, but it depends of the driver vendor).</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696405918,"creation_date":1696405918,"answer_id":77227731,"question_id":77227216,"body_markdown":"You can combine the `select` check with the `insert` to avoid an error by only inserting when there isn&#39;t already a row for the key:\r\n\r\n```\r\ninsert into mytable\r\nselect\r\n   id_value,\r\n   col2_value,\r\n   col3_value\r\nfrom dual\r\nwhere not exists (select * from mytable where id = id_value)\r\n```\r\n\r\nCode this as a `@NativeQuery`.\r\n\r\nSome databases don&#39;t require `from dual` (eg postgres).\r\n","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>You can combine the <code>select</code> check with the <code>insert</code> to avoid an error by only inserting when there isn't already a row for the key:</p>\n<pre><code>insert into mytable\nselect\n   id_value,\n   col2_value,\n   col3_value\nfrom dual\nwhere not exists (select * from mytable where id = id_value)\n</code></pre>\n<p>Code this as a <code>@NativeQuery</code>.</p>\n<p>Some databases don't require <code>from dual</code> (eg postgres).</p>\n"}],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696405918,"creation_date":1696400651,"question_id":77227216,"body_markdown":"I am currently using Java with Spring Boot and Spring Data JPA to connect to a database. \r\nIn my table, there is a `UUID` column with a Unique Key constraint. \r\n\r\nMy question is, do I need to perform a SELECT before an INSERT to check for any duplicates to avoid an Exception upon insertion? However, in most cases, the SELECT will not return any duplicate data, which makes me feel like it&#39;s a wasted query. \r\n\r\nShould I nevertheless perform a SELECT before every INSERT to ensure that data is not duplicated, even for the rare cases where it might happen?","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>I am currently using Java with Spring Boot and Spring Data JPA to connect to a database.\nIn my table, there is a <code>UUID</code> column with a Unique Key constraint.</p>\n<p>My question is, do I need to perform a SELECT before an INSERT to check for any duplicates to avoid an Exception upon insertion? However, in most cases, the SELECT will not return any duplicate data, which makes me feel like it's a wasted query.</p>\n<p>Should I nevertheless perform a SELECT before every INSERT to ensure that data is not duplicated, even for the rare cases where it might happen?</p>\n"},{"tags":["java","intellij-idea","java-10","javacompiler"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1540862116,"creation_date":1540862116,"answer_id":53056039,"question_id":53053587,"body_markdown":"You can update the Java Compiler version of your module to be executed to use Java version 10 with the following settings :\r\n\r\n***Build, Execution, Deployment =&gt; Compiler =&gt; Java Compiler =&gt; Update Target Bytecode version***\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the image above you can notice that the modules *guice* and *hbase* are defaulting to use Java version 5 while I&#39;ve updated the others to use Java version 11 which is when compiling and executing them with JDK 11 works just fine.\r\n\r\n  [1]: https://i.stack.imgur.com/BZnVq.png","title":"How to avoid IntelliJ to reset language level?","body":"<p>You can update the Java Compiler version of your module to be executed to use Java version 10 with the following settings :</p>\n\n<p><strong><em>Build, Execution, Deployment => Compiler => Java Compiler => Update Target Bytecode version</em></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/BZnVq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BZnVq.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the image above you can notice that the modules <em>guice</em> and <em>hbase</em> are defaulting to use Java version 5 while I've updated the others to use Java version 11 which is when compiling and executing them with JDK 11 works just fine.</p>\n"},{"comments":[{"owner":{"account_id":7924913,"reputation":2565,"user_id":5984627,"accept_rate":67,"display_name":"jactor-rises"},"score":0,"creation_date":1591864658,"post_id":62301498,"comment_id":110219109,"body_markdown":"maven.compiler.source and maven.compiler.target has been deprecated... use &lt;release&gt;11&lt;/release&gt;","body":"maven.compiler.source and maven.compiler.target has been deprecated... use &lt;release&gt;11&lt;/release&gt;"},{"owner":{"account_id":3011681,"reputation":519,"user_id":2555046,"display_name":"knguyen"},"score":0,"creation_date":1671748192,"post_id":62301498,"comment_id":132170184,"body_markdown":"refreshing maven was what missing in my case. Thanks!","body":"refreshing maven was what missing in my case. Thanks!"}],"tags":[],"owner":{"account_id":1330960,"reputation":1383,"user_id":1274890,"display_name":"R Sun"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1696405747,"creation_date":1591785473,"answer_id":62301498,"question_id":53053587,"body_markdown":"In my case, I had to update value in `pom.xml` &amp; refreshing maven.\r\n\r\n```xml\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```","title":"How to avoid IntelliJ to reset language level?","body":"<p>In my case, I had to update value in <code>pom.xml</code> &amp; refreshing maven.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19110681,"reputation":21,"user_id":13956753,"display_name":"avenchoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696405791,"creation_date":1595141973,"answer_id":62977235,"question_id":53053587,"body_markdown":"I just update the `pom.xml` and it works for me.\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.11&lt;/source&gt;\r\n        &lt;target&gt;1.11&lt;/target&gt;\r\n        &lt;release&gt;11&lt;/release&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How to avoid IntelliJ to reset language level?","body":"<p>I just update the <code>pom.xml</code> and it works for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.11&lt;/source&gt;\n        &lt;target&gt;1.11&lt;/target&gt;\n        &lt;release&gt;11&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7924913,"reputation":2565,"user_id":5984627,"accept_rate":67,"display_name":"jactor-rises"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6597,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53056039,"answer_count":3,"score":12,"last_activity_date":1696405791,"creation_date":1540846164,"question_id":53053587,"body_markdown":"I am having troubles with this which have been answered dusin of times on this site.\n\nMy take on the problem is a bit different. I have a project which builds fine using maven 3.5.x and java release 10 (configured in the maven-compiler-plugin)\nWhen looking in IntelliJ&#39;s project structure, all modules have language level 10 (but the projects settings is language level 6 and the chosen sdk in the project structure is 1.8...\n\nHowever, even if I change the sdk to java 10 and the projects language level to 10, the error pasted below still occurs... ????\n\nMy IntelliJ version: IntelliJ IDEA 2018.2.5\n\nTo reproduce this error:\n\n * Check out from version control (GIT)\n * GitHub: https://github.com/jactor-rises/jactor-rises.git\n\n   Try to build it within IntelliJ:\n\n&gt; Information:java: Errors occurred while compiling module\n&gt; &#39;jactor-commons&#39; Information:javac 10.0.1 was used to compile java\n&gt; sources Information:29/10/2018, 21:31 - Compilation completed with 1\n&gt; error and 0 warnings in 4 s 777 ms Error:java: release version 5 not\n&gt; supported\n\n","title":"How to avoid IntelliJ to reset language level?","body":"<p>I am having troubles with this which have been answered dusin of times on this site.</p>\n<p>My take on the problem is a bit different. I have a project which builds fine using maven 3.5.x and java release 10 (configured in the maven-compiler-plugin)\nWhen looking in IntelliJ's project structure, all modules have language level 10 (but the projects settings is language level 6 and the chosen sdk in the project structure is 1.8...</p>\n<p>However, even if I change the sdk to java 10 and the projects language level to 10, the error pasted below still occurs... ????</p>\n<p>My IntelliJ version: IntelliJ IDEA 2018.2.5</p>\n<p>To reproduce this error:</p>\n<ul>\n<li><p>Check out from version control (GIT)</p>\n</li>\n<li><p>GitHub: <a href=\"https://github.com/jactor-rises/jactor-rises.git\" rel=\"noreferrer\">https://github.com/jactor-rises/jactor-rises.git</a></p>\n<p>Try to build it within IntelliJ:</p>\n</li>\n</ul>\n<blockquote>\n<p>Information:java: Errors occurred while compiling module\n'jactor-commons' Information:javac 10.0.1 was used to compile java\nsources Information:29/10/2018, 21:31 - Compilation completed with 1\nerror and 0 warnings in 4 s 777 ms Error:java: release version 5 not\nsupported</p>\n</blockquote>\n"},{"tags":["java","conditional-statements"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":5,"creation_date":1696400326,"post_id":77227179,"comment_id":136146041,"body_markdown":"The `else` clause only applies to `if(a==b)` , maybe what you need is `else if(a==b)` .","body":"The <code>else</code> clause only applies to <code>if(a==b)</code> , maybe what you need is <code>else if(a==b)</code> ."},{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":1,"creation_date":1696400382,"post_id":77227179,"comment_id":136146051,"body_markdown":"You need `else if (a == b)`. a &gt; b prints for 30, then you&#39;re checking if numbers are equal, which are not, so the else branch prints for 5.","body":"You need <code>else if (a == b)</code>. a &gt; b prints for 30, then you&#39;re checking if numbers are equal, which are not, so the else branch prints for 5."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1696400439,"creation_date":1696400439,"answer_id":77227199,"question_id":77227179,"body_markdown":"Your `if (a &gt; b)` statement is *entirely* separate from the following statements. Here&#39;s a way of demonstrating that, adding more code between the two:\r\n\r\n```java\r\nif (a &gt; b) {\r\n    System.out.println(&quot;the greatest number is &quot; + a);\r\n}\r\n\r\nSystem.out.println(&quot;Note how unrelated the code before and after is...&quot;);\r\n\r\nif (a == b) {\r\n    System.out.println(&quot;both are equal numbers&quot;);\r\n} else {\r\n    System.out.println(&quot;the greatest number is &quot; + b);\r\n}\r\n```\r\n\r\nYour list of conditions would be more clearly written as:\r\n\r\n- if (a&gt;b) : a is greater than b\r\n- *Otherwise*, if(a==b) : both are equal\r\n- *Otherwise*, b is greater than a\r\n\r\nThat makes it clear that you actually need an &quot;else if&quot; in the middle:\r\n\r\n```java\r\nif (a &gt; b) {\r\n    System.out.println(&quot;the greatest number is &quot; + a);\r\n} else if (a == b) {\r\n    System.out.println(&quot;both are equal numbers&quot;);\r\n} else {\r\n    System.out.println(&quot;the greatest number is &quot; + b);\r\n}\r\n```\r\n\r\nAt this point, the three branches are tightly linked to each other - you can&#39;t put that extra statement before &quot;else if&quot; (but outside the first &quot;if&quot; block) because the &quot;else if&quot; is joined to the first &quot;if&quot;.","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>Your <code>if (a &gt; b)</code> statement is <em>entirely</em> separate from the following statements. Here's a way of demonstrating that, adding more code between the two:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (a &gt; b) {\n    System.out.println(&quot;the greatest number is &quot; + a);\n}\n\nSystem.out.println(&quot;Note how unrelated the code before and after is...&quot;);\n\nif (a == b) {\n    System.out.println(&quot;both are equal numbers&quot;);\n} else {\n    System.out.println(&quot;the greatest number is &quot; + b);\n}\n</code></pre>\n<p>Your list of conditions would be more clearly written as:</p>\n<ul>\n<li>if (a&gt;b) : a is greater than b</li>\n<li><em>Otherwise</em>, if(a==b) : both are equal</li>\n<li><em>Otherwise</em>, b is greater than a</li>\n</ul>\n<p>That makes it clear that you actually need an &quot;else if&quot; in the middle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (a &gt; b) {\n    System.out.println(&quot;the greatest number is &quot; + a);\n} else if (a == b) {\n    System.out.println(&quot;both are equal numbers&quot;);\n} else {\n    System.out.println(&quot;the greatest number is &quot; + b);\n}\n</code></pre>\n<p>At this point, the three branches are tightly linked to each other - you can't put that extra statement before &quot;else if&quot; (but outside the first &quot;if&quot; block) because the &quot;else if&quot; is joined to the first &quot;if&quot;.</p>\n"},{"tags":[],"owner":{"account_id":25783275,"reputation":21,"user_id":19528574,"display_name":"Suman Devkota"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696400696,"creation_date":1696400696,"answer_id":77227221,"question_id":77227179,"body_markdown":"your condition of putting things are wrong .\r\n\r\n     if(a&gt;b)\r\n         {\r\n          System.out.println(&quot;the greatest number is &quot; + a);\r\n         }\r\n\r\n30&gt;5(True so it runs)\r\nNow for below case only it works as if..else statement.\r\n   \r\n\r\n     if(a==b)\r\n         {\r\n          System.out.println(&quot;both are equal numbers&quot;);\r\n         }\r\n     else{\r\n      System.out.println(&quot;the greatest number is &quot; + b);\r\n     }\r\n\r\nSo you should be using\r\n\r\n \r\n\r\n    if(a&gt;b)\r\n         {\r\n          System.out.println(&quot;the greatest number is &quot; + a);\r\n         }\r\n         else if(a==b)\r\n         {\r\n          System.out.println(&quot;both are equal numbers&quot;);\r\n         }\r\n         else{\r\n          System.out.println(&quot;the greatest number is &quot; + b);\r\n         }","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>your condition of putting things are wrong .</p>\n<pre><code> if(a&gt;b)\n     {\n      System.out.println(&quot;the greatest number is &quot; + a);\n     }\n</code></pre>\n<p>30&gt;5(True so it runs)\nNow for below case only it works as if..else statement.</p>\n<pre><code> if(a==b)\n     {\n      System.out.println(&quot;both are equal numbers&quot;);\n     }\n else{\n  System.out.println(&quot;the greatest number is &quot; + b);\n }\n</code></pre>\n<p>So you should be using</p>\n<pre><code>if(a&gt;b)\n     {\n      System.out.println(&quot;the greatest number is &quot; + a);\n     }\n     else if(a==b)\n     {\n      System.out.println(&quot;both are equal numbers&quot;);\n     }\n     else{\n      System.out.println(&quot;the greatest number is &quot; + b);\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696404399,"creation_date":1696403276,"answer_id":77227470,"question_id":77227179,"body_markdown":"This can be solved using `switch` (once learned, if allowed?!) like in:\r\n\r\n````\r\nString message = switch (Integer.signum(Integer.compare(a, b))) {\r\n    case +1 -&gt; &quot;the greatest number is &quot; + a;\r\n    case  0 -&gt; &quot;both are equal numbers&quot;;\r\n    case -1 -&gt; &quot;the greatest number is &quot; + b;\r\n    default -&gt; throw new RuntimeException(&quot;shoudl never happen!&quot;);\r\n};\r\n````\r\n\r\n`compare(a, b)` will return a number that is:  \r\n- negative, if `a &lt; b`;\r\n- zero, if both are equal;\r\n- positive, if `a &gt; b`.\r\n\r\nActually it is returning `-1`, `0`, or `+1`; but that is not how it is specified. Since the `switch` requires discrete values (unless we use Pattern Matching), we use `signum()` which only returns these three values, that is,  \r\n`signum(x)` will return:\r\n- `-1` if the argument is negative (`x &lt; 0`);\r\n-  `0` if the argument is zero;\r\n- `+1` if the argument is positive (`x &gt; 0`);\r\n\r\nA `switch` is often ideal if we have multiple exclusive option. In this particular case, it is a matter of preference, mainly regarding readability, if a `switch` should be used instead of `if-else` combinations. Sure one must also know what this methods are doing and why these are being used - `a &gt; b` is more *directly* expressing the intentions.","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>This can be solved using <code>switch</code> (once learned, if allowed?!) like in:</p>\n<pre><code>String message = switch (Integer.signum(Integer.compare(a, b))) {\n    case +1 -&gt; &quot;the greatest number is &quot; + a;\n    case  0 -&gt; &quot;both are equal numbers&quot;;\n    case -1 -&gt; &quot;the greatest number is &quot; + b;\n    default -&gt; throw new RuntimeException(&quot;shoudl never happen!&quot;);\n};\n</code></pre>\n<p><code>compare(a, b)</code> will return a number that is:</p>\n<ul>\n<li>negative, if <code>a &lt; b</code>;</li>\n<li>zero, if both are equal;</li>\n<li>positive, if <code>a &gt; b</code>.</li>\n</ul>\n<p>Actually it is returning <code>-1</code>, <code>0</code>, or <code>+1</code>; but that is not how it is specified. Since the <code>switch</code> requires discrete values (unless we use Pattern Matching), we use <code>signum()</code> which only returns these three values, that is,<br />\n<code>signum(x)</code> will return:</p>\n<ul>\n<li><code>-1</code> if the argument is negative (<code>x &lt; 0</code>);</li>\n<li><code>0</code> if the argument is zero;</li>\n<li><code>+1</code> if the argument is positive (<code>x &gt; 0</code>);</li>\n</ul>\n<p>A <code>switch</code> is often ideal if we have multiple exclusive option. In this particular case, it is a matter of preference, mainly regarding readability, if a <code>switch</code> should be used instead of <code>if-else</code> combinations. Sure one must also know what this methods are doing and why these are being used - <code>a &gt; b</code> is more <em>directly</em> expressing the intentions.</p>\n"},{"tags":[],"owner":{"account_id":21505740,"reputation":41,"user_id":15849157,"display_name":"Ankit Rege"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696405577,"creation_date":1696405577,"answer_id":77227695,"question_id":77227179,"body_markdown":"you must use this to run your code effectively\r\n\r\n    if(a&gt;b)\r\n     {\r\n      System.out.println(&quot;the greatest number is &quot; + a);\r\n     }\r\n     else if(a==b)\r\n     {\r\n      System.out.println(&quot;both are equal numbers&quot;);\r\n     }\r\n     else{\r\n      System.out.println(&quot;the greatest number is &quot; + b);\r\n     }","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>you must use this to run your code effectively</p>\n<pre><code>if(a&gt;b)\n {\n  System.out.println(&quot;the greatest number is &quot; + a);\n }\n else if(a==b)\n {\n  System.out.println(&quot;both are equal numbers&quot;);\n }\n else{\n  System.out.println(&quot;the greatest number is &quot; + b);\n }\n</code></pre>\n"}],"owner":{"account_id":29430988,"reputation":11,"user_id":22550710,"display_name":"neha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1696407891,"answer_count":4,"score":0,"last_activity_date":1696405577,"creation_date":1696400177,"question_id":77227179,"body_markdown":"I am trying to find max number between two inputs and conditions that I have used were :\r\n\r\n1. if (a&gt;b) : a is greater than b \r\n2. if(a==b) : both are equal\r\n3. else : b is greater than a\r\n\r\nNow, if I take a = 10 and b = 20, I get : b is greater than a, which is true.\r\n\r\nHowever, when I take a = 30 and b = 5, I get both the statements like : a is greater than b, b is greater than a, which means both the statements of if(a&gt;b) and of else{} are getting printed.\r\n\r\nWhen I search on Google then they have written if(a&gt;=b) as the first expression. Now my question is, what the &quot;=&quot; is making difference for executing the way we want it, and why by only adding &quot;&gt;&quot; I am getting both the statements executed?\r\n\r\nHere is the code \r\n```\r\nimport java.util.*;\r\n\r\npublic class conditional {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n     Scanner sc = new Scanner(System.in);\r\n     System.out.print(&quot;Enter first number : &quot;);\r\n     int a = sc.nextInt();\r\n     System.out.print(&quot;Enter second number : &quot;);\r\n     int b = sc.nextInt();\r\n\r\n     if(a&gt;b)\r\n     {\r\n      System.out.println(&quot;the greatest number is &quot; + a);\r\n     }\r\n     if(a==b)\r\n     {\r\n      System.out.println(&quot;both are equal numbers&quot;);\r\n     }\r\n     else{\r\n      System.out.println(&quot;the greatest number is &quot; + b);\r\n     }\r\n}\r\n}\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/qyoTh.png)","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>I am trying to find max number between two inputs and conditions that I have used were :</p>\n<ol>\n<li>if (a&gt;b) : a is greater than b</li>\n<li>if(a==b) : both are equal</li>\n<li>else : b is greater than a</li>\n</ol>\n<p>Now, if I take a = 10 and b = 20, I get : b is greater than a, which is true.</p>\n<p>However, when I take a = 30 and b = 5, I get both the statements like : a is greater than b, b is greater than a, which means both the statements of if(a&gt;b) and of else{} are getting printed.</p>\n<p>When I search on Google then they have written if(a&gt;=b) as the first expression. Now my question is, what the &quot;=&quot; is making difference for executing the way we want it, and why by only adding &quot;&gt;&quot; I am getting both the statements executed?</p>\n<p>Here is the code</p>\n<pre><code>import java.util.*;\n\npublic class conditional {\n\n    public static void main(String[] args)\n    {\n\n     Scanner sc = new Scanner(System.in);\n     System.out.print(&quot;Enter first number : &quot;);\n     int a = sc.nextInt();\n     System.out.print(&quot;Enter second number : &quot;);\n     int b = sc.nextInt();\n\n     if(a&gt;b)\n     {\n      System.out.println(&quot;the greatest number is &quot; + a);\n     }\n     if(a==b)\n     {\n      System.out.println(&quot;both are equal numbers&quot;);\n     }\n     else{\n      System.out.println(&quot;the greatest number is &quot; + b);\n     }\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qyoTh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","ssl","jboss","windows-server-2016"],"owner":{"account_id":29032210,"reputation":1,"user_id":22238837,"display_name":"Deep Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696405449,"creation_date":1696343965,"question_id":77223276,"body_markdown":"I have a Windows server where JBoss service is installed. I want to install SSL in it.\r\n\r\nCurrently my service is running on port 8667, which is http service. I have a mydomain.pfx(SSL Certificate) file.\r\n\r\nMy current URL is &lt;http://my_domain.com:8667/&gt;  \r\nI want to run the above URL as &lt;https://my_domain.com:8443/&gt;\r\n\r\nAlso I want to redirect the URL automatically from http to https.\r\n\r\nMy windows server version: `Windows Server 2016 Datacenter`  \r\nJava jdk version: `Java version 7 Update 80 (build 1.7.0_80-b15)`  \r\nJBoss version: `JBoss AS 7.1.1.Final`\r\n\r\n\r\nI have created a .jks file from .pfx file using a password &quot;Passwd&quot;\r\n\r\nThen I have done following changes in `.\\standalone\\configuration\\standalone.xml`\r\n\r\nFrom:\r\n\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\r\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\r\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\r\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\r\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\r\n                &lt;alias name=&quot;localhost&quot;/&gt;\r\n                &lt;alias name=&quot;example.com&quot;/&gt;\r\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\r\n            &lt;/virtual-server&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n\r\nTo:\r\n\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\r\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\r\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\r\n                &lt;ssl name=&quot;myapp-ssl&quot; key-alias=&quot;myapp&quot; password=&quot;Passwd&quot; certificate-key-file=&quot;myssl.jks&quot; protocol=&quot;TLSv1&quot;/&gt;\r\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\r\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\r\n                &lt;alias name=&quot;localhost&quot;/&gt;\r\n                &lt;alias name=&quot;example.com&quot;/&gt;\r\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\r\n            &lt;/virtual-server&gt;\r\n        &lt;/subsystem&gt;\r\n```","title":"Need to install PFX SSL certificate in JBoss AS 7.1.1.Final server and also need to make auto redirection from HTTP to HTTPS in URL","body":"<p>I have a Windows server where JBoss service is installed. I want to install SSL in it.</p>\n<p>Currently my service is running on port 8667, which is http service. I have a mydomain.pfx(SSL Certificate) file.</p>\n<p>My current URL is <a href=\"http://my_domain.com:8667/\" rel=\"nofollow noreferrer\">http://my_domain.com:8667/</a><br />\nI want to run the above URL as <a href=\"https://my_domain.com:8443/\" rel=\"nofollow noreferrer\">https://my_domain.com:8443/</a></p>\n<p>Also I want to redirect the URL automatically from http to https.</p>\n<p>My windows server version: <code>Windows Server 2016 Datacenter</code><br />\nJava jdk version: <code>Java version 7 Update 80 (build 1.7.0_80-b15)</code><br />\nJBoss version: <code>JBoss AS 7.1.1.Final</code></p>\n<p>I have created a .jks file from .pfx file using a password &quot;Passwd&quot;</p>\n<p>Then I have done following changes in <code>.\\standalone\\configuration\\standalone.xml</code></p>\n<p>From:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\n                &lt;alias name=&quot;localhost&quot;/&gt;\n                &lt;alias name=&quot;example.com&quot;/&gt;\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\n            &lt;/virtual-server&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>To:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\n                &lt;ssl name=&quot;myapp-ssl&quot; key-alias=&quot;myapp&quot; password=&quot;Passwd&quot; certificate-key-file=&quot;myssl.jks&quot; protocol=&quot;TLSv1&quot;/&gt;\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\n                &lt;alias name=&quot;localhost&quot;/&gt;\n                &lt;alias name=&quot;example.com&quot;/&gt;\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\n            &lt;/virtual-server&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n"},{"tags":["java","ssl","jboss","ejb","tls1.2"],"comments":[{"owner":{"account_id":329509,"reputation":3154,"user_id":653069,"display_name":"kwart"},"score":0,"creation_date":1521018036,"post_id":49269985,"comment_id":85549374,"body_markdown":"Do you mean community project JBoss AS 7 (really old one) or Red Hat product JBoss EAP 7 (not so old, but still old)?","body":"Do you mean community project JBoss AS 7 (really old one) or Red Hat product JBoss EAP 7 (not so old, but still old)?"},{"owner":{"account_id":173643,"reputation":185,"user_id":8301290,"accept_rate":75,"display_name":"Ponmanikandan Boothalingam"},"score":0,"creation_date":1521028189,"post_id":49269985,"comment_id":85556327,"body_markdown":"@kwart For Jboss EAP 7.0.0. I tried the following steps in the link [ssl config](https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/how_to_configure_server_security/#secure_the_management_interfaces) but i can hitting the server and call ejb with out client certificate from client side. But My management console working fine fro https after setup.But EJB i.e. Application not working.","body":"@kwart For Jboss EAP 7.0.0. I tried the following steps in the link <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/how_to_configure_server_security/#secure_the_management_interfaces\" rel=\"nofollow noreferrer\">ssl config</a> but i can hitting the server and call ejb with out client certificate from client side. But My management console working fine fro https after setup.But EJB i.e. Application not working."}],"answers":[{"tags":[],"owner":{"account_id":329509,"reputation":3154,"user_id":653069,"display_name":"kwart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1521042776,"creation_date":1521042776,"answer_id":49282286,"question_id":49269985,"body_markdown":"Try this tutorial for WildFly 10 - http://middlewaremagic.com/jboss/?p=2783\r\n\r\nWhat you need to change in server configuration is:\r\n\r\n* add SSL as your identity in a SecurityRealm\r\n* configure HTTPs listener in undertow subsystem\r\n* configure connector in remoting subsystem which will use the https\r\n* reference the new remoting connector from ejb3 subsystem\r\n\r\nSample CLI:\r\n\r\n    /core-service=management/security-realm=ApplicationRealm/server-identity=ssl:add(keystore-path=server.keystore, keystore-relative-to=jboss.server.config.dir, keystore-password=123456)\r\n    reload\r\n    /subsystem=undertow/server=default-server/https-listener=https:add(socket-binding=https, security-realm=ApplicationRealm)\r\n    /subsystem=remoting/http-connector=https-remoting-connector:add(connector-ref=https, sasl-protocol=remote, security-realm=ApplicationRealm)\r\n    /subsystem=ejb3/service=remote:write-attribute(name=connector-ref,value=https-remoting-connector)\r\n    reload\r\n\r\nThen you should use the proper port (8443) in the EJB client configuration.","title":"how to enable ssl in jboss 7.0.0.GA","body":"<p>Try this tutorial for WildFly 10 - <a href=\"http://middlewaremagic.com/jboss/?p=2783\" rel=\"nofollow noreferrer\">http://middlewaremagic.com/jboss/?p=2783</a></p>\n\n<p>What you need to change in server configuration is:</p>\n\n<ul>\n<li>add SSL as your identity in a SecurityRealm</li>\n<li>configure HTTPs listener in undertow subsystem</li>\n<li>configure connector in remoting subsystem which will use the https</li>\n<li>reference the new remoting connector from ejb3 subsystem</li>\n</ul>\n\n<p>Sample CLI:</p>\n\n<pre><code>/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:add(keystore-path=server.keystore, keystore-relative-to=jboss.server.config.dir, keystore-password=123456)\nreload\n/subsystem=undertow/server=default-server/https-listener=https:add(socket-binding=https, security-realm=ApplicationRealm)\n/subsystem=remoting/http-connector=https-remoting-connector:add(connector-ref=https, sasl-protocol=remote, security-realm=ApplicationRealm)\n/subsystem=ejb3/service=remote:write-attribute(name=connector-ref,value=https-remoting-connector)\nreload\n</code></pre>\n\n<p>Then you should use the proper port (8443) in the EJB client configuration.</p>\n"}],"owner":{"account_id":173643,"reputation":185,"user_id":8301290,"accept_rate":75,"display_name":"Ponmanikandan Boothalingam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49282286,"answer_count":1,"score":0,"last_activity_date":1696405337,"creation_date":1521003083,"question_id":49269985,"body_markdown":"I want to implement SSL for ejb call. I tried via the following link, but its not working as expected.\r\n\r\n[enable SSl in jboss][1]\r\n\r\nHow to enable SSL in Jboss 7.0.0.GA for EJB calls.\r\n\r\n\r\n  [1]: https://gist.github.com/thjanssen/b69434413207e439553b","title":"how to enable ssl in jboss 7.0.0.GA","body":"<p>I want to implement SSL for ejb call. I tried via the following link, but its not working as expected.</p>\n\n<p><a href=\"https://gist.github.com/thjanssen/b69434413207e439553b\" rel=\"nofollow noreferrer\">enable SSl in jboss</a></p>\n\n<p>How to enable SSL in Jboss 7.0.0.GA for EJB calls.</p>\n"},{"tags":["java","reactjs","spring-boot","google-cloud-platform","google-kubernetes-engine"],"answers":[{"comments":[{"owner":{"account_id":14200688,"reputation":5,"user_id":10258671,"display_name":"Stan"},"score":1,"creation_date":1696527145,"post_id":77227524,"comment_id":136167951,"body_markdown":"Yea, my fault. Thanks for pointing out a solution with ingress. Now I&#39;m able to access from outside the cluster.","body":"Yea, my fault. Thanks for pointing out a solution with ingress. Now I&#39;m able to access from outside the cluster."}],"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696403848,"creation_date":1696403848,"answer_id":77227524,"question_id":77226189,"body_markdown":"It&#39;s a common mistake with modern website deployment. Ask yourself: where is running my frontend?\r\n\r\nIf your answer is &quot;on GKE&quot;, it&#39;s wrong. GKE serves the web files (JS, HTML, CSS), but the code run on the browser.\r\n\r\nTherefore, the mention\r\n\r\n&gt; Also I tried to execute command curl http://imageupload-service:9595/api/v1/user-profile from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.\r\n\r\nis correct FROM INSIDE.\r\n\r\nBut your browser is OUTSIDE. All this URL are only known by your cluster, not on the internet\r\n&gt; imageupload-service:9595\r\n&gt;\r\n&gt;imageupload-service.default.svc.cluster.local:9595\r\n&gt;\r\n&gt;imageupload-service.default.svc:9595\r\n\r\nYou must use the public URL of your ingress gateway (an IP or a domain name) to access your cluster FROM OUTSIDE.","title":"ERR_NAME_NOT_RESOLVED error when React app execute REST API call to Spring Boot app which deployed into GKE","body":"<p>It's a common mistake with modern website deployment. Ask yourself: where is running my frontend?</p>\n<p>If your answer is &quot;on GKE&quot;, it's wrong. GKE serves the web files (JS, HTML, CSS), but the code run on the browser.</p>\n<p>Therefore, the mention</p>\n<blockquote>\n<p>Also I tried to execute command curl http://imageupload-service:9595/api/v1/user-profile from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.</p>\n</blockquote>\n<p>is correct FROM INSIDE.</p>\n<p>But your browser is OUTSIDE. All this URL are only known by your cluster, not on the internet</p>\n<blockquote>\n<p>imageupload-service:9595</p>\n<p>imageupload-service.default.svc.cluster.local:9595</p>\n<p>imageupload-service.default.svc:9595</p>\n</blockquote>\n<p>You must use the public URL of your ingress gateway (an IP or a domain name) to access your cluster FROM OUTSIDE.</p>\n"}],"owner":{"account_id":14200688,"reputation":5,"user_id":10258671,"display_name":"Stan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77227524,"answer_count":1,"score":0,"last_activity_date":1696403848,"creation_date":1696381394,"question_id":77226189,"body_markdown":"I faced with problem of resolving my backend IP address from frontend service. Both deployed into GKE. There are two deployment files - for the backend and frontend. The frontend app calls the backend app API. On the local kubernetes everything is fine, but when I deploy to GKE there are problems with calling the API from the front. There is an error in the browser console:\r\n\r\n[error in console](https://i.stack.imgur.com/WFMtc.png)\r\n\r\nI tried to pass the service name of the backend to the front deployment file in different ways:\r\n\r\n- imageupload-service:9595\r\n\r\n- imageupload-service.default.svc.cluster.local:9595\r\n\r\n- imageupload-service.default.svc:9595\r\n\r\nbut no luck.\r\n\r\nAlso I tried to execute command **curl http://imageupload-service:9595/api/v1/user-profile** from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.\r\n\r\nHere is my deployment files and content of App.js file where call to backend executed:\r\n\r\n**backend-deployment.yml:**\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: imageupload-deployment\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-deployment\r\nspec:\r\n  progressDeadlineSeconds: 600\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: imageupload-deployment\r\n  strategy:\r\n    rollingUpdate:\r\n      maxSurge: 25%\r\n      maxUnavailable: 25%\r\n    type: RollingUpdate\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: imageupload-deployment\r\n    spec:\r\n      containers:\r\n        - image:\r\n          imagePullPolicy: Always\r\n          name: imageupload\r\n          env:\r\n            - name: SPRING_DATASOURCE_URL\r\n              value: &quot;jdbc:postgresql://postgres-service:5432/postgres?currentSchema=imageupload&quot;\r\n            - name: SPRING_DATASOURCE_USER\r\n              value: postgres\r\n            - name: SPRING_JPA_HIBERNATE_DDL-AUTO\r\n              value: none\r\n            - name: SPRING_SQL_INIT_MODE\r\n              value: NEVER\r\n            - name: SPRING_DATASOURCE_PASSWORD\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: postgres-password-secret\r\n                  key: postgres-password\r\n          resources:\r\n            limits:\r\n              memory: &quot;1024Mi&quot;\r\n              cpu: &quot;500m&quot;\r\n            requests:\r\n              memory: &quot;256Mi&quot;\r\n              cpu: &quot;200m&quot;\r\n      restartPolicy: Always\r\n      terminationGracePeriodSeconds: 30\r\n\r\n---\r\n\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: imageupload-service\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-service\r\nspec:\r\n  selector:\r\n    app: imageupload-deployment\r\n  ports:\r\n    - name: imageupload-service-port\r\n      protocol: TCP\r\n      port: 9595\r\n  type: LoadBalancer\r\n  loadBalancerIP: &quot;&quot;\r\n\r\n---\r\napiVersion: autoscaling/v1\r\nkind: HorizontalPodAutoscaler\r\nmetadata:\r\n  name: imageupload-deployment-hpa\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-service\r\nspec:\r\n  maxReplicas: 2\r\n  minReplicas: 1\r\n  scaleTargetRef:\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    name: imageupload-deployment\r\n  targetCPUUtilizationPercentage: 70\r\n```\r\n\r\n**frontend-deployment.yml:**\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: imageupload-front-deployment\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-front-deployment\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app: imageupload-front-deployment\r\n  replicas: 2\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: imageupload-front-deployment\r\n    spec:\r\n      containers:\r\n        - name: imageupload-front\r\n          image:\r\n          env:\r\n            - name: REACT_APP_API_URL\r\n              value: http://imageupload-service:9595\r\n          imagePullPolicy: Always\r\n          resources:\r\n            limits:\r\n              cpu: &quot;500m&quot;\r\n              memory: &quot;1024Mi&quot;\r\n            requests:\r\n              cpu: &quot;200m&quot;\r\n              memory: &quot;256Mi&quot;\r\n\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: imageupload-front-service\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-front-service\r\nspec:\r\n  selector:\r\n    app: imageupload-front-deployment\r\n  ports:\r\n    - name: imageupload-front-service-port\r\n      protocol: TCP\r\n      port: 8080\r\n  type: LoadBalancer\r\n  loadBalancerIP: &quot;&quot;\r\n---\r\napiVersion: autoscaling/v1\r\nkind: HorizontalPodAutoscaler\r\nmetadata:\r\n  name: imageupload-front-deployment-hpa\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-front-service\r\nspec:\r\n  maxReplicas: 3\r\n  minReplicas: 1\r\n  scaleTargetRef:\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    name: imageupload-front-deployment\r\n  targetCPUUtilizationPercentage: 70\r\n```\r\n\r\n**Content of App.js file:**\r\n\r\n```\r\nimport logo from &#39;./logo.svg&#39;;\r\nimport &#39;./App.css&#39;;\r\nimport axios from &quot;axios&quot;;\r\nimport React, {useState, useEffect, useCallback} from &quot;react&quot;;\r\nimport {useDropzone} from &#39;react-dropzone&#39;\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL || &quot;http://localhost:9595&quot;;\r\nconsole.log(&quot;API URL:&quot;, apiUrl);\r\n\r\nconst UserProfiles = () =&gt; {\r\n\r\n    const [userProfiles, setUserProfiles] = useState([]);\r\n\r\n    const fetchUserProfiles = () =&gt; {\r\n        axios.get(`${apiUrl}/api/v1/user-profile`).then(res =&gt; {\r\n            console.log(res);\r\n            setUserProfiles(res.data);\r\n        })\r\n            .catch(err =&gt; {\r\n                console.error(&quot;Axios request failed:&quot;, err);\r\n            });\r\n    }\r\n\r\n    useEffect(() =&gt; {\r\n        fetchUserProfiles();\r\n    }, []);\r\n\r\n    return userProfiles.map((userProfile, index) =&gt; {\r\n        return (\r\n            &lt;div key={userProfile.userProfileImageLink}&gt;\r\n                {userProfile.userProfileId ?\r\n                    &lt;img key={userProfile.userProfileImageLink}\r\n                         src={`${apiUrl}/api/v1/user-profile/${userProfile.userProfileId}/image/download`}/&gt; : null}\r\n                &lt;br/&gt;\r\n                &lt;br/&gt;\r\n                &lt;h1&gt;{userProfile.username}&lt;/h1&gt;\r\n                &lt;p&gt;{userProfile.userProfileId}&lt;/p&gt;\r\n                &lt;Dropzone {...userProfile} updateImageEvent={fetchUserProfiles}/&gt;\r\n                &lt;br/&gt;\r\n            &lt;/div&gt;\r\n        )\r\n    })\r\n}\r\n\r\nfunction Dropzone({userProfileId, updateImageEvent}) {\r\n    const onDrop = useCallback(acceptedFiles =&gt; {\r\n        const file = acceptedFiles[0];\r\n        console.log(file);\r\n        const formData = new FormData();\r\n        formData.append(&quot;file&quot;, file);\r\n        axios.post(`${apiUrl}/api/v1/user-profile/${userProfileId}/image/upload`,\r\n            formData,\r\n            {\r\n                headers: {\r\n                    &quot;Content-Type&quot;: &quot;multipart/form-data&quot;\r\n                }\r\n            }).then(() =&gt; {\r\n            console.log(&quot;file uploaded successfully&quot;);\r\n            updateImageEvent();\r\n        }).catch(err =&gt; {\r\n            console.log(err);\r\n        });\r\n    }, [])\r\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n    return (\r\n        &lt;div {...getRootProps()}&gt;\r\n            &lt;input {...getInputProps()} /&gt;\r\n            {\r\n                isDragActive ?\r\n                    &lt;p&gt;Drop the image here ...&lt;/p&gt; :\r\n                    &lt;p&gt;Drag &#39;n&#39; drop profile image, or click to select profile image&lt;/p&gt;\r\n            }\r\n        &lt;/div&gt;\r\n    )\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        &lt;div className=&quot;App&quot;&gt;\r\n            &lt;UserProfiles/&gt;\r\n        &lt;/div&gt;\r\n    );\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\nI expected response in JSON format like:\r\n\r\n```\r\n{\r\n    &quot;userProfileId&quot;: &quot;bb5b9dd8-f6fc-4bd4-8050-e9aa947e80cb&quot;,\r\n    &quot;username&quot;: &quot;John Doe&quot;,\r\n    &quot;imageLink&quot;: &quot;&quot;\r\n  }\r\n```\r\n\r\nLooking for help to understand what is wrong here and what am I doing wrong and why is this error happening? I have no ideas...","title":"ERR_NAME_NOT_RESOLVED error when React app execute REST API call to Spring Boot app which deployed into GKE","body":"<p>I faced with problem of resolving my backend IP address from frontend service. Both deployed into GKE. There are two deployment files - for the backend and frontend. The frontend app calls the backend app API. On the local kubernetes everything is fine, but when I deploy to GKE there are problems with calling the API from the front. There is an error in the browser console:</p>\n<p><a href=\"https://i.stack.imgur.com/WFMtc.png\" rel=\"nofollow noreferrer\">error in console</a></p>\n<p>I tried to pass the service name of the backend to the front deployment file in different ways:</p>\n<ul>\n<li><p>imageupload-service:9595</p>\n</li>\n<li><p>imageupload-service.default.svc.cluster.local:9595</p>\n</li>\n<li><p>imageupload-service.default.svc:9595</p>\n</li>\n</ul>\n<p>but no luck.</p>\n<p>Also I tried to execute command <strong>curl http://imageupload-service:9595/api/v1/user-profile</strong> from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.</p>\n<p>Here is my deployment files and content of App.js file where call to backend executed:</p>\n<p><strong>backend-deployment.yml:</strong></p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: imageupload-deployment\n  namespace: default\n  labels:\n    app: imageupload-deployment\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 2\n  selector:\n    matchLabels:\n      app: imageupload-deployment\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: imageupload-deployment\n    spec:\n      containers:\n        - image:\n          imagePullPolicy: Always\n          name: imageupload\n          env:\n            - name: SPRING_DATASOURCE_URL\n              value: &quot;jdbc:postgresql://postgres-service:5432/postgres?currentSchema=imageupload&quot;\n            - name: SPRING_DATASOURCE_USER\n              value: postgres\n            - name: SPRING_JPA_HIBERNATE_DDL-AUTO\n              value: none\n            - name: SPRING_SQL_INIT_MODE\n              value: NEVER\n            - name: SPRING_DATASOURCE_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: postgres-password-secret\n                  key: postgres-password\n          resources:\n            limits:\n              memory: &quot;1024Mi&quot;\n              cpu: &quot;500m&quot;\n            requests:\n              memory: &quot;256Mi&quot;\n              cpu: &quot;200m&quot;\n      restartPolicy: Always\n      terminationGracePeriodSeconds: 30\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: imageupload-service\n  namespace: default\n  labels:\n    app: imageupload-service\nspec:\n  selector:\n    app: imageupload-deployment\n  ports:\n    - name: imageupload-service-port\n      protocol: TCP\n      port: 9595\n  type: LoadBalancer\n  loadBalancerIP: &quot;&quot;\n\n---\napiVersion: autoscaling/v1\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: imageupload-deployment-hpa\n  namespace: default\n  labels:\n    app: imageupload-service\nspec:\n  maxReplicas: 2\n  minReplicas: 1\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: imageupload-deployment\n  targetCPUUtilizationPercentage: 70\n</code></pre>\n<p><strong>frontend-deployment.yml:</strong></p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: imageupload-front-deployment\n  namespace: default\n  labels:\n    app: imageupload-front-deployment\nspec:\n  selector:\n    matchLabels:\n      app: imageupload-front-deployment\n  replicas: 2\n  template:\n    metadata:\n      labels:\n        app: imageupload-front-deployment\n    spec:\n      containers:\n        - name: imageupload-front\n          image:\n          env:\n            - name: REACT_APP_API_URL\n              value: http://imageupload-service:9595\n          imagePullPolicy: Always\n          resources:\n            limits:\n              cpu: &quot;500m&quot;\n              memory: &quot;1024Mi&quot;\n            requests:\n              cpu: &quot;200m&quot;\n              memory: &quot;256Mi&quot;\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: imageupload-front-service\n  namespace: default\n  labels:\n    app: imageupload-front-service\nspec:\n  selector:\n    app: imageupload-front-deployment\n  ports:\n    - name: imageupload-front-service-port\n      protocol: TCP\n      port: 8080\n  type: LoadBalancer\n  loadBalancerIP: &quot;&quot;\n---\napiVersion: autoscaling/v1\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: imageupload-front-deployment-hpa\n  namespace: default\n  labels:\n    app: imageupload-front-service\nspec:\n  maxReplicas: 3\n  minReplicas: 1\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: imageupload-front-deployment\n  targetCPUUtilizationPercentage: 70\n</code></pre>\n<p><strong>Content of App.js file:</strong></p>\n<pre><code>import logo from './logo.svg';\nimport './App.css';\nimport axios from &quot;axios&quot;;\nimport React, {useState, useEffect, useCallback} from &quot;react&quot;;\nimport {useDropzone} from 'react-dropzone'\n\nconst apiUrl = process.env.REACT_APP_API_URL || &quot;http://localhost:9595&quot;;\nconsole.log(&quot;API URL:&quot;, apiUrl);\n\nconst UserProfiles = () =&gt; {\n\n    const [userProfiles, setUserProfiles] = useState([]);\n\n    const fetchUserProfiles = () =&gt; {\n        axios.get(`${apiUrl}/api/v1/user-profile`).then(res =&gt; {\n            console.log(res);\n            setUserProfiles(res.data);\n        })\n            .catch(err =&gt; {\n                console.error(&quot;Axios request failed:&quot;, err);\n            });\n    }\n\n    useEffect(() =&gt; {\n        fetchUserProfiles();\n    }, []);\n\n    return userProfiles.map((userProfile, index) =&gt; {\n        return (\n            &lt;div key={userProfile.userProfileImageLink}&gt;\n                {userProfile.userProfileId ?\n                    &lt;img key={userProfile.userProfileImageLink}\n                         src={`${apiUrl}/api/v1/user-profile/${userProfile.userProfileId}/image/download`}/&gt; : null}\n                &lt;br/&gt;\n                &lt;br/&gt;\n                &lt;h1&gt;{userProfile.username}&lt;/h1&gt;\n                &lt;p&gt;{userProfile.userProfileId}&lt;/p&gt;\n                &lt;Dropzone {...userProfile} updateImageEvent={fetchUserProfiles}/&gt;\n                &lt;br/&gt;\n            &lt;/div&gt;\n        )\n    })\n}\n\nfunction Dropzone({userProfileId, updateImageEvent}) {\n    const onDrop = useCallback(acceptedFiles =&gt; {\n        const file = acceptedFiles[0];\n        console.log(file);\n        const formData = new FormData();\n        formData.append(&quot;file&quot;, file);\n        axios.post(`${apiUrl}/api/v1/user-profile/${userProfileId}/image/upload`,\n            formData,\n            {\n                headers: {\n                    &quot;Content-Type&quot;: &quot;multipart/form-data&quot;\n                }\n            }).then(() =&gt; {\n            console.log(&quot;file uploaded successfully&quot;);\n            updateImageEvent();\n        }).catch(err =&gt; {\n            console.log(err);\n        });\n    }, [])\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n\n    return (\n        &lt;div {...getRootProps()}&gt;\n            &lt;input {...getInputProps()} /&gt;\n            {\n                isDragActive ?\n                    &lt;p&gt;Drop the image here ...&lt;/p&gt; :\n                    &lt;p&gt;Drag 'n' drop profile image, or click to select profile image&lt;/p&gt;\n            }\n        &lt;/div&gt;\n    )\n}\n\nfunction App() {\n    return (\n        &lt;div className=&quot;App&quot;&gt;\n            &lt;UserProfiles/&gt;\n        &lt;/div&gt;\n    );\n}\n\nexport default App;\n</code></pre>\n<p>I expected response in JSON format like:</p>\n<pre><code>{\n    &quot;userProfileId&quot;: &quot;bb5b9dd8-f6fc-4bd4-8050-e9aa947e80cb&quot;,\n    &quot;username&quot;: &quot;John Doe&quot;,\n    &quot;imageLink&quot;: &quot;&quot;\n  }\n</code></pre>\n<p>Looking for help to understand what is wrong here and what am I doing wrong and why is this error happening? I have no ideas...</p>\n"},{"tags":["java","spring","download","stream","zip"],"comments":[{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":1,"creation_date":1657225492,"post_id":53885467,"comment_id":128767161,"body_markdown":"thank you for the work you did with teamcenter","body":"thank you for the work you did with teamcenter"}],"answers":[{"comments":[{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":1,"creation_date":1545406338,"post_id":53886072,"comment_id":94621198,"body_markdown":"Thanks this is work I can see the file being downloaded in the network tab of chrome, and appear after the file is completlly downloaded, so I need to show the progress of download in the client so I need to know the file size (length) to set .contentLength(fileLength) so is there a way to get the size of the zip file ?","body":"Thanks this is work I can see the file being downloaded in the network tab of chrome, and appear after the file is completlly downloaded, so I need to show the progress of download in the client so I need to know the file size (length) to set .contentLength(fileLength) so is there a way to get the size of the zip file ?"},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":1,"creation_date":1545408695,"post_id":53886072,"comment_id":94622192,"body_markdown":"Unfortunately you can&#39;t know the size of the zip before you stream it since you are zipping it at the same time as you stream it. This is the sacrifice you have to make for this extra efficiency. However, once you have served one request and created the zip file you could use that cached file for any duplicate requests and you will know its size.","body":"Unfortunately you can&#39;t know the size of the zip before you stream it since you are zipping it at the same time as you stream it. This is the sacrifice you have to make for this extra efficiency. However, once you have served one request and created the zip file you could use that cached file for any duplicate requests and you will know its size."},{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":1,"creation_date":1595519580,"post_id":53886072,"comment_id":111510016,"body_markdown":"@AbdennacerLachiheb You could try to base your progress off of how large you *expect* the zip to be and could update your estimate as progress continues. Depending on what compression algorithm you use that could be somewhere in the area of 70% of the original size, but it also really depends on the content you&#39;re compressing.","body":"@AbdennacerLachiheb You could try to base your progress off of how large you <i>expect</i> the zip to be and could update your estimate as progress continues. Depending on what compression algorithm you use that could be somewhere in the area of 70% of the original size, but it also really depends on the content you&#39;re compressing."}],"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1545409749,"creation_date":1545400923,"answer_id":53886072,"question_id":53885467,"body_markdown":"Try this instead. Rather than using the `ZipOutputStream` to wrap a `FileOutputStream`, writing your zip to a file, then copying it to the client output stream, instead just use the `ZipOutputStream` to wrap the client output stream so that when you add zip entries and data it goes directly to the client. If you want to *also* store it to a file on the server then you can make your `ZipOutputStream` write to a split output stream, to write both locations at once.\r\n\r\n\t@RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET, produces = &quot;application/zip&quot;)\r\n\tpublic ResponseEntity&lt;StreamingResponseBody&gt; getFile() throws Exception {\r\n\r\n\t\tInputStream[] streamsToZip = getStreamsFromAzure();\r\n\r\n        // You could cache already created zip files, maybe something like this:\r\n        //   String[] pathsOfResourcesToZip = getPathsFromAzure();\r\n        //   String zipId = getZipId(pathsOfResourcesToZip);\r\n        //   if(isZipExist(zipId))\r\n        //     // return that zip file\r\n        //   else do the following\r\n\r\n\t\tStreamingResponseBody streamResponse = clientOut -&gt; {\r\n\t\t\tFileOutputStream zipFileOut = new FileOutputStream(&quot;test.zip&quot;);\r\n\t\t\t\r\n\t\t\tZipOutputStream zos = new ZipOutputStream(new SplitOutputStream(clientOut, zipFileOut));\r\n\t\t\tfor (InputStream in : streamsToZip) {\r\n\t\t\t\taddToZipFile(zos, in);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn ResponseEntity.ok()\r\n\t\t\t\t.header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\r\n\t\t\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + &quot;download.zip&quot;)\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/zip&quot;)).body(streamResponse);\r\n\t}\r\n\r\n\r\n\tprivate void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\r\n\t\tZipEntry zipEntry = new ZipEntry(generateFileName());\r\n\t\tzos.putNextEntry(zipEntry);\r\n\t\tbyte[] bytes = new byte[1024];\r\n\t\tint length;\r\n\t\twhile ((length = fis.read(bytes)) &gt;= 0) {\r\n\t\t\tzos.write(bytes, 0, length);\r\n\t\t}\r\n\t\tzos.closeEntry();\r\n\t\tfis.close();\r\n\t}\r\n\r\n---\r\n\r\n\tpublic static class SplitOutputStream extends OutputStream {\r\n\t\tprivate final OutputStream out1;\r\n\t\tprivate final OutputStream out2;\r\n\r\n\t\tpublic SplitOutputStream(OutputStream out1, OutputStream out2) {\r\n\t\t\tthis.out1 = out1;\r\n\t\t\tthis.out2 = out2;\r\n\t\t}\r\n\r\n\t\t@Override public void write(int b) throws IOException {\r\n\t\t\tout1.write(b);\r\n\t\t\tout2.write(b);\r\n\t\t}\r\n\r\n\t\t@Override public void write(byte b[]) throws IOException {\r\n\t\t\tout1.write(b);\r\n\t\t\tout2.write(b);\r\n\t\t}\r\n\r\n\t\t@Override public void write(byte b[], int off, int len) throws IOException {\r\n\t\t\tout1.write(b, off, len);\r\n\t\t\tout2.write(b, off, len);\r\n\t\t}\r\n\r\n\t\t@Override public void flush() throws IOException {\r\n\t\t\tout1.flush();\r\n\t\t\tout2.flush();\r\n\t\t}\r\n\r\n\t\t/** Closes all the streams. If there was an IOException this throws the first one. */\r\n\t\t@Override public void close() throws IOException {\r\n\t\t\tIOException ioException = null;\r\n\t\t\tfor (OutputStream o : new OutputStream[] {\r\n\t\t\t\t\tout1,\r\n\t\t\t\t\tout2 }) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\to.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tif (ioException == null) {\r\n\t\t\t\t\t\tioException = e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (ioException != null) {\r\n\t\t\t\tthrow ioException;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nFor the first request for a set of resources to be zipped you wont know the size that the resulting zip file will be so you can&#39;t send the length along with the response since you are streaming the file as it is zipped.\r\n\r\nBut if you expect there to be repeated requests for the same set of resources to be zipped, then you can cache your zip files and simply return them on any subsequent requests; You will also know the length of the cached zip file so you can send that in the response as well.\r\n\r\nIf you want to do this then you will have to be able to consistently create the same identifier for each combination of the resources to be zipped, so that you can check if those resources were already zipped and return the cached file if they were. You might be able to could sort the ids (maybe full paths) of the resources that will be zipped and concatenate them to create an id for the zip file.","title":"Java zip files from streams instantly without using byte[]","body":"<p>Try this instead. Rather than using the <code>ZipOutputStream</code> to wrap a <code>FileOutputStream</code>, writing your zip to a file, then copying it to the client output stream, instead just use the <code>ZipOutputStream</code> to wrap the client output stream so that when you add zip entries and data it goes directly to the client. If you want to <em>also</em> store it to a file on the server then you can make your <code>ZipOutputStream</code> write to a split output stream, to write both locations at once.</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET, produces = \"application/zip\")\npublic ResponseEntity&lt;StreamingResponseBody&gt; getFile() throws Exception {\n\n    InputStream[] streamsToZip = getStreamsFromAzure();\n\n    // You could cache already created zip files, maybe something like this:\n    //   String[] pathsOfResourcesToZip = getPathsFromAzure();\n    //   String zipId = getZipId(pathsOfResourcesToZip);\n    //   if(isZipExist(zipId))\n    //     // return that zip file\n    //   else do the following\n\n    StreamingResponseBody streamResponse = clientOut -&gt; {\n        FileOutputStream zipFileOut = new FileOutputStream(\"test.zip\");\n\n        ZipOutputStream zos = new ZipOutputStream(new SplitOutputStream(clientOut, zipFileOut));\n        for (InputStream in : streamsToZip) {\n            addToZipFile(zos, in);\n        }\n    };\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\n            .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + \"download.zip\")\n            .contentType(MediaType.parseMediaType(\"application/zip\")).body(streamResponse);\n}\n\n\nprivate void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(generateFileName());\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n    fis.close();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public static class SplitOutputStream extends OutputStream {\n    private final OutputStream out1;\n    private final OutputStream out2;\n\n    public SplitOutputStream(OutputStream out1, OutputStream out2) {\n        this.out1 = out1;\n        this.out2 = out2;\n    }\n\n    @Override public void write(int b) throws IOException {\n        out1.write(b);\n        out2.write(b);\n    }\n\n    @Override public void write(byte b[]) throws IOException {\n        out1.write(b);\n        out2.write(b);\n    }\n\n    @Override public void write(byte b[], int off, int len) throws IOException {\n        out1.write(b, off, len);\n        out2.write(b, off, len);\n    }\n\n    @Override public void flush() throws IOException {\n        out1.flush();\n        out2.flush();\n    }\n\n    /** Closes all the streams. If there was an IOException this throws the first one. */\n    @Override public void close() throws IOException {\n        IOException ioException = null;\n        for (OutputStream o : new OutputStream[] {\n                out1,\n                out2 }) {\n            try {\n                o.close();\n            } catch (IOException e) {\n                if (ioException == null) {\n                    ioException = e;\n                }\n            }\n        }\n        if (ioException != null) {\n            throw ioException;\n        }\n    }\n}\n</code></pre>\n\n<p>For the first request for a set of resources to be zipped you wont know the size that the resulting zip file will be so you can't send the length along with the response since you are streaming the file as it is zipped.</p>\n\n<p>But if you expect there to be repeated requests for the same set of resources to be zipped, then you can cache your zip files and simply return them on any subsequent requests; You will also know the length of the cached zip file so you can send that in the response as well.</p>\n\n<p>If you want to do this then you will have to be able to consistently create the same identifier for each combination of the resources to be zipped, so that you can check if those resources were already zipped and return the cached file if they were. You might be able to could sort the ids (maybe full paths) of the resources that will be zipped and concatenate them to create an id for the zip file.</p>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696403824,"creation_date":1696386914,"answer_id":77226407,"question_id":53885467,"body_markdown":"Thanks to @xtratic, this only simplify version.\r\n\r\n - Fixed unable to open zip file in windows by auto closing in try-with-resource\r\n - Remove uneccessary &quot;test.zip&quot; file\r\n - Remove class `SplitOutputStream`\r\n - add block finally close on variable `clientOut` (just to make sure, you can remove it though :) )\r\n\r\n       public StreamingResponseBody yourMethod(Some Params...) {\r\n        \r\n    \tMap&lt;String, InputStream&gt; inputStreamMap = // map String file name and input stream\r\n    \tStreamingResponseBody streamResponse = clientOut -&gt; {\r\n    \t\ttry (ZipOutputStream zos = new ZipOutputStream(clientOut)) {\r\n    \t\t\tfor (Map.Entry&lt;String, InputStream&gt; entry : inputStreamMap.entrySet()) {\r\n    \t\t\t\tString filename = entry.getKey();\r\n    \t\t\t\ttry (InputStream inputStream = entry.getValue()) {\r\n    \t\t\t\t\taddToZipFile(zos, filename, inputStream);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tclientOut.close();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \r\n    \r\n    \treturn streamResponse;\r\n       }\r\n\r\nbelow method add filename parameter and remove `fis.close()`\r\n\r\n    private void addToZipFile(ZipOutputStream zos, String filename, InputStream fis) throws IOException {\r\n    \tZipEntry zipEntry = new ZipEntry(filename);\r\n    \tzos.putNextEntry(zipEntry);\r\n    \tbyte[] bytes = new byte[1024];\r\n    \tint length;\r\n    \twhile ((length = fis.read(bytes)) &gt;= 0) {\r\n    \t\tzos.write(bytes, 0, length);\r\n    \t}\r\n    \tzos.closeEntry();\r\n    }","title":"Java zip files from streams instantly without using byte[]","body":"<p>Thanks to @xtratic, this only simplify version.</p>\n<ul>\n<li><p>Fixed unable to open zip file in windows by auto closing in try-with-resource</p>\n</li>\n<li><p>Remove uneccessary &quot;test.zip&quot; file</p>\n</li>\n<li><p>Remove class <code>SplitOutputStream</code></p>\n</li>\n<li><p>add block finally close on variable <code>clientOut</code> (just to make sure, you can remove it though :) )</p>\n<pre><code>public StreamingResponseBody yourMethod(Some Params...) {\n\n Map&lt;String, InputStream&gt; inputStreamMap = // map String file name and input stream\n StreamingResponseBody streamResponse = clientOut -&gt; {\n     try (ZipOutputStream zos = new ZipOutputStream(clientOut)) {\n         for (Map.Entry&lt;String, InputStream&gt; entry : inputStreamMap.entrySet()) {\n             String filename = entry.getKey();\n             try (InputStream inputStream = entry.getValue()) {\n                 addToZipFile(zos, filename, inputStream);\n             }\n         }\n     } finally {\n         clientOut.close();\n     }\n };\n\n\n\n return streamResponse;\n}\n</code></pre>\n</li>\n</ul>\n<p>below method add filename parameter and remove <code>fis.close()</code></p>\n<pre><code>private void addToZipFile(ZipOutputStream zos, String filename, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(filename);\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n}\n</code></pre>\n"}],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3618,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53886072,"answer_count":2,"score":6,"last_activity_date":1696403824,"creation_date":1545398260,"question_id":53885467,"body_markdown":"I want to compress multiples files into a zip files, I&#39;m dealing with big files, and  then download them into the client, for the moment I&#39;m using this:\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET, produces = &quot;application/zip&quot;)\r\n    public ResponseEntity &lt;StreamingResponseBody&gt; getFile() throws Exception {\r\n        File zippedFile = new File(&quot;test.zip&quot;);\r\n        FileOutputStream fos = new FileOutputStream(zippedFile);\r\n        ZipOutputStream zos = new ZipOutputStream(fos);\r\n        InputStream[] streams = getStreamsFromAzure();\r\n        for (InputStream stream: streams) {\r\n            addToZipFile(zos, stream);\r\n        }\r\n        final InputStream fecFile = new FileInputStream(zippedFile);\r\n        Long fileLength = zippedFile.length();\r\n        StreamingResponseBody stream = outputStream - &gt;\r\n            readAndWrite(fecFile, outputStream);\r\n    \r\n        return ResponseEntity.ok()\r\n            .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + &quot;download.zip&quot;)\r\n            .contentLength(fileLength)\r\n            .contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\r\n            .body(stream);\r\n    }\r\n    \r\n    private void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\r\n        ZipEntry zipEntry = new ZipEntry(generateFileName());\r\n        zos.putNextEntry(zipEntry);\r\n        byte[] bytes = new byte[1024];\r\n        int length;\r\n        while ((length = fis.read(bytes)) &gt;= 0) {\r\n            zos.write(bytes, 0, length);\r\n        }\r\n        zos.closeEntry();\r\n        fis.close();\r\n    }\r\n\r\nThis take a lot of time before all files are zipped and then the downloading start, and for large files this kan take a lot of time, this is the line responsible for the delay:\r\n\r\n    while ((length = fis.read(bytes)) &gt;= 0) {\r\n        zos.write(bytes, 0, length);\r\n    }\r\n\r\nSo is there a way to download files immediately while their being zipped ?","title":"Java zip files from streams instantly without using byte[]","body":"<p>I want to compress multiples files into a zip files, I'm dealing with big files, and  then download them into the client, for the moment I'm using this:</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET, produces = \"application/zip\")\npublic ResponseEntity &lt;StreamingResponseBody&gt; getFile() throws Exception {\n    File zippedFile = new File(\"test.zip\");\n    FileOutputStream fos = new FileOutputStream(zippedFile);\n    ZipOutputStream zos = new ZipOutputStream(fos);\n    InputStream[] streams = getStreamsFromAzure();\n    for (InputStream stream: streams) {\n        addToZipFile(zos, stream);\n    }\n    final InputStream fecFile = new FileInputStream(zippedFile);\n    Long fileLength = zippedFile.length();\n    StreamingResponseBody stream = outputStream - &gt;\n        readAndWrite(fecFile, outputStream);\n\n    return ResponseEntity.ok()\n        .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\n        .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + \"download.zip\")\n        .contentLength(fileLength)\n        .contentType(MediaType.parseMediaType(\"application/zip\"))\n        .body(stream);\n}\n\nprivate void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(generateFileName());\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n    fis.close();\n}\n</code></pre>\n\n<p>This take a lot of time before all files are zipped and then the downloading start, and for large files this kan take a lot of time, this is the line responsible for the delay:</p>\n\n<pre><code>while ((length = fis.read(bytes)) &gt;= 0) {\n    zos.write(bytes, 0, length);\n}\n</code></pre>\n\n<p>So is there a way to download files immediately while their being zipped ?</p>\n"},{"tags":["java","logback","java.util.logging"],"comments":[{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":1,"creation_date":1530185866,"post_id":51076807,"comment_id":89152150,"body_markdown":"Bugs and limitations in Logback. Reading the comments from Brice at https://stackoverflow.com/a/20407321/3080094 - you probably need Logback 1.0.3 at a minimum to get it working without source code changes.","body":"Bugs and limitations in Logback. Reading the comments from Brice at <a href=\"https://stackoverflow.com/a/20407321/3080094\">stackoverflow.com/a/20407321/3080094</a> - you probably need Logback 1.0.3 at a minimum to get it working without source code changes."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1530187629,"post_id":51076807,"comment_id":89153402,"body_markdown":"Thank you, it looks promising.","body":"Thank you, it looks promising."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1530198475,"post_id":51076807,"comment_id":89160810,"body_markdown":"Upgrade to the current version did not help. I had to add  a contextListener as recommended in the linked answer.","body":"Upgrade to the current version did not help. I had to add  a contextListener as recommended in the linked answer."},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":1,"creation_date":1530208183,"post_id":51076807,"comment_id":89166068,"body_markdown":"The contextListener uses a LevelChangePropagator which is only available after 0.9.25 (and bug-fixed in 1.0.3), and you were using 0.9.20. I guess the upgrade and the contextListener combined did the trick?","body":"The contextListener uses a LevelChangePropagator which is only available after 0.9.25 (and bug-fixed in 1.0.3), and you were using 0.9.20. I guess the upgrade and the contextListener combined did the trick?"}],"answers":[{"comments":[{"owner":{"display_name":"user3091996"},"score":1,"creation_date":1637615106,"post_id":51099079,"comment_id":123869323,"body_markdown":"Possible typo in JCL -&gt; change to JUL. I am assuming the edit queue is full for that reason ;)","body":"Possible typo in JCL -&gt; change to JUL. I am assuming the edit queue is full for that reason ;)"}],"tags":[],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696403371,"creation_date":1530266189,"answer_id":51099079,"question_id":51076807,"body_markdown":"For future reference and googlers:\r\n\r\nTo Logback be able to propagate its configuration to JCL (java.util.logging) it is neccessary to add\r\n\r\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n        &lt;!-- reset all previous level configurations of all j.u.l. loggers --&gt;\r\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n    &lt;/contextListener&gt;\r\n\r\nand use the current version. Cudos to @vanOekel. See https://stackoverflow.com/a/20407321/1639556 for details.","title":"Logback does not log JUL fine level","body":"<p>For future reference and googlers:</p>\n<p>To Logback be able to propagate its configuration to JCL (java.util.logging) it is neccessary to add</p>\n<pre><code>&lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\n    &lt;!-- reset all previous level configurations of all j.u.l. loggers --&gt;\n    &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n&lt;/contextListener&gt;\n</code></pre>\n<p>and use the current version. Cudos to @vanOekel. See <a href=\"https://stackoverflow.com/a/20407321/1639556\">https://stackoverflow.com/a/20407321/1639556</a> for details.</p>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2491,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51099079,"answer_count":1,"score":5,"last_activity_date":1696403371,"creation_date":1530170097,"question_id":51076807,"body_markdown":"I am fixing a legacy JSF application running on tomcat 7.\r\n\r\nUserAccessBB.java \r\n\r\n    package beans;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class UserAccessBB {\r\n    private static final Logger LOG = \r\n    Logger.getLogger(UserAccessBB.class.getName());\r\n\r\n    public UserAccessBB() {\r\n        LOG.fine(&quot;UserAccessBB&quot;);\r\n\r\nlogback.xml\r\n\r\n\t&lt;logger name=&quot;beans&quot; level=&quot;TRACE&quot; additivity=&quot;false&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\t&lt;root level=&quot;INFO&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\nmaven\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe file is copied to WEB-INF/classes\r\n\r\nThe log file contains only INFO and higher level logs from this class. Lower levels are printed only when I modify the root logger. Where is the issue?","title":"Logback does not log JUL fine level","body":"<p>I am fixing a legacy JSF application running on tomcat 7.</p>\n\n<p>UserAccessBB.java </p>\n\n<pre><code>package beans;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class UserAccessBB {\nprivate static final Logger LOG = \nLogger.getLogger(UserAccessBB.class.getName());\n\npublic UserAccessBB() {\n    LOG.fine(\"UserAccessBB\");\n</code></pre>\n\n<p>logback.xml</p>\n\n<pre><code>&lt;logger name=\"beans\" level=\"TRACE\" additivity=\"false\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n&lt;/logger&gt;\n&lt;root level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>maven</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;0.9.20&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The file is copied to WEB-INF/classes</p>\n\n<p>The log file contains only INFO and higher level logs from this class. Lower levels are printed only when I modify the root logger. Where is the issue?</p>\n"},{"tags":["java","java-stream","generator"],"comments":[{"owner":{"account_id":6709095,"reputation":54,"user_id":5173085,"display_name":"Grzesl"},"score":1,"creation_date":1696403173,"post_id":77227422,"comment_id":136146501,"body_markdown":"Try simplyfy your format string like that: (...) return &quot;Test&quot; + String.format(&quot;%06d&quot;,nextId);","body":"Try simplyfy your format string like that: (...) return &quot;Test&quot; + String.format(&quot;%06d&quot;,nextId);"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1696403446,"post_id":77227422,"comment_id":136146554,"body_markdown":"`IntStream.range(0, 20).mapToObj(i -&gt; &quot;Test&quot; + String.format(&quot;%6s&quot;, Integer.toBinaryString(i)).replace(&quot; &quot;, &quot;0&quot;)).forEach(System.out::println);`","body":"<code>IntStream.range(0, 20).mapToObj(i -&gt; &quot;Test&quot; + String.format(&quot;%6s&quot;, Integer.toBinaryString(i)).replace(&quot; &quot;, &quot;0&quot;)).forEach(System.out::println);</code>"},{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1696403869,"post_id":77227422,"comment_id":136146644,"body_markdown":"@NikolasCharalambidis Thanks for the answer , I think you are converting it to BinaryString, instead i want it like this : \nTest0000001\nTest0000002\nTest0000003\nTest0000004\n.....\n....\nTest0000010\nTest0000011\nTest0000012\n.....\n...\nTest0000100\nTest0000101","body":"@NikolasCharalambidis Thanks for the answer , I think you are converting it to BinaryString, instead i want it like this :  Test0000001 Test0000002 Test0000003 Test0000004 ..... .... Test0000010 Test0000011 Test0000012 ..... ... Test0000100 Test0000101"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1696404569,"post_id":77227422,"comment_id":136146775,"body_markdown":"You said something completely different. Adjust the code as you need.","body":"You said something completely different. Adjust the code as you need."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696406915,"post_id":77227422,"comment_id":136147237,"body_markdown":"@Grzesl or even simpler, `return String.format(&quot;Test%06d&quot;,nextId);`","body":"@Grzesl or even simpler, <code>return String.format(&quot;Test%06d&quot;,nextId);</code>"}],"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696403124,"answer_count":0,"score":0,"last_activity_date":1696403194,"creation_date":1696402837,"question_id":77227422,"body_markdown":"I would like to generate custom ID like this :\r\n\r\n    Test0000001\r\n    Test0000002\r\n    Test0000010\r\n    Test0000011\r\n    Test0000100\r\n    Test0000101 \r\n\r\nBut my method always append and generate with `000000` (0000001, 00000010, 00000011) instead i would like to generate ids like mentioned above\r\n\r\n\r\n    public String generateId(int nextId) {\r\n        return &quot;Test&quot; + String.format(&quot;%06d%s&quot;, 0, nextId);\r\n    }\r\n\r\nGuide me on optimal way to generate ID. Thanks","title":"Optimal way to generate sequential id Java","body":"<p>I would like to generate custom ID like this :</p>\n<pre><code>Test0000001\nTest0000002\nTest0000010\nTest0000011\nTest0000100\nTest0000101 \n</code></pre>\n<p>But my method always append and generate with <code>000000</code> (0000001, 00000010, 00000011) instead i would like to generate ids like mentioned above</p>\n<pre><code>public String generateId(int nextId) {\n    return &quot;Test&quot; + String.format(&quot;%06d%s&quot;, 0, nextId);\n}\n</code></pre>\n<p>Guide me on optimal way to generate ID. Thanks</p>\n"},{"tags":["java","spring","aop","aspectj"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1696404697,"post_id":77227434,"comment_id":136146795,"body_markdown":"You have an `@Around` aspect that returns `void`. Which effectively now makes the methods always return `null`. Always return `Object` and always return the result of the call to `joinpoint.proceed()` else you will break things.","body":"You have an <code>@Around</code> aspect that returns <code>void</code>. Which effectively now makes the methods always return <code>null</code>. Always return <code>Object</code> and always return the result of the call to <code>joinpoint.proceed()</code> else you will break things."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1696405087,"post_id":77227434,"comment_id":136146869,"body_markdown":"Can I ask how will this affect the GetMapping, or is it that whatever that breaks due to not returning the result is &quot;random&quot;?","body":"Can I ask how will this affect the GetMapping, or is it that whatever that breaks due to not returning the result is &quot;random&quot;?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1696405477,"post_id":77227434,"comment_id":136146935,"body_markdown":"It isn&#39;t random anything that gets proxied is affected. Basically your aspect is wrong, never use `void` for the around aspect, always return the result of `proceed()`, you never know what might be the actual return type.","body":"It isn&#39;t random anything that gets proxied is affected. Basically your aspect is wrong, never use <code>void</code> for the around aspect, always return the result of <code>proceed()</code>, you never know what might be the actual return type."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1696405660,"post_id":77227434,"comment_id":136146968,"body_markdown":"you&#39;re right! I just took a look at other AOP examples which use around() quite a few of them return Object and the result of proceed(), just that the one I referenced while coding this returned void, and I copied that without knowing its effects.","body":"you&#39;re right! I just took a look at other AOP examples which use around() quite a few of them return Object and the result of proceed(), just that the one I referenced while coding this returned void, and I copied that without knowing its effects."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1696405913,"post_id":77227434,"comment_id":136147025,"body_markdown":"yup! it works perfectly fine now. Which is weird, because I distinctly recall it worked last week, but only this week it started throwing errors, so thats why it seemed random to me","body":"yup! it works perfectly fine now. Which is weird, because I distinctly recall it worked last week, but only this week it started throwing errors, so thats why it seemed random to me"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1696414613,"post_id":77227434,"comment_id":136148910,"body_markdown":"M. Deinum is 99% right. But of course, an around advice can return `void`, if its pointcut only targets `void` methods. It is only a problem for non-void ones.","body":"M. Deinum is 99% right. But of course, an around advice can return <code>void</code>, if its pointcut only targets <code>void</code> methods. It is only a problem for non-void ones."}],"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696403003,"creation_date":1696403003,"question_id":77227434,"body_markdown":"I implemented a custom annotation with AOP to add on additional behavior. The usage is something as follows:\r\n\r\n    @GetMapping(path=&quot;/my/path/{date}/{text}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public String subscribe(@PathVariable String date, @PathVariable String text, @PermittedMarkets String[] marketCodes) { //do processing and return something here }\r\n\r\nand my Annotation and AOP are as follows:\r\n\r\n    @Target(ElementType.PARAMETER)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface PermittedMarkets {\r\n    \r\n    }\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class MarketsAspect {\r\n        @Value(&quot;#{${config.market.permitted.marketmapping:{:}}}&quot;)\r\n        private Map&lt;String, String&gt; roleToMarketCodeMap;\r\n        @Value(&quot;${spring.profiles.active:}&quot;)\r\n        private String profile;\r\n    \r\n        @Around(&quot;execution(* *(.., @com.org.app.service.security.annotation.PermittedMarkets (*), ..))&quot;)\r\n        public void permittedMarkets(ProceedingJoinPoint pjp) throws Throwable {\r\n            final var args = pjp.getArgs();\r\n            final var annotations = ((MethodSignature) pjp.getSignature()).getMethod().getParameterAnnotations();\r\n    \r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                for (Annotation annotation : annotations[i]) {\r\n                    if (annotation.annotationType() == PermittedMarkets.class) {\r\n                        if (profile.equals(&quot;dev&quot;)) { args[i] = &quot;*&quot;; continue; }\r\n                        final var grantedAuthorities = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\r\n                                .map(Authentication::getAuthorities)\r\n                                .orElseThrow(() -&gt; new AccessDeniedException(&quot;No authorities found&quot;));\r\n    \r\n                        args[i] = grantedAuthorities.stream()\r\n                                .map(GrantedAuthority::getAuthority)\r\n                                .filter(entitlement -&gt; entitlement.contains(&quot;app_user&quot;))\r\n                                .map(A_entitlement -&gt; roleToMarketCodeMap.get(A_entitlement))\r\n                                .filter(Objects::nonNull).collect(Collectors.joining(&quot;,&quot;));\r\n                    }\r\n                }\r\n            }\r\n            pjp.proceed(args);\r\n        }\r\n    }\r\n\r\nHowever, I found out that this does not seem to work as intended. When I comment out the entirety of permittedMarkets() method, the frontend response has this Response Header:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I do not comment out, it has this response header and error log:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\nEventSource&#39;s response has a Content-Type specifying an unsupported type: -. Aborting connection\r\n\r\nIt seems that the AOP I added is affecting the GetMapping on my original method. How can I resolve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tUwdK.png\r\n  [2]: https://i.stack.imgur.com/oU9ze.png\r\n  [3]: https://i.stack.imgur.com/tLiaj.png","title":"Custom Annotation with AOP is affecting GetMapping annotation","body":"<p>I implemented a custom annotation with AOP to add on additional behavior. The usage is something as follows:</p>\n<pre><code>@GetMapping(path=&quot;/my/path/{date}/{text}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic String subscribe(@PathVariable String date, @PathVariable String text, @PermittedMarkets String[] marketCodes) { //do processing and return something here }\n</code></pre>\n<p>and my Annotation and AOP are as follows:</p>\n<pre><code>@Target(ElementType.PARAMETER)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PermittedMarkets {\n\n}\n\n@Aspect\n@Component\npublic class MarketsAspect {\n    @Value(&quot;#{${config.market.permitted.marketmapping:{:}}}&quot;)\n    private Map&lt;String, String&gt; roleToMarketCodeMap;\n    @Value(&quot;${spring.profiles.active:}&quot;)\n    private String profile;\n\n    @Around(&quot;execution(* *(.., @com.org.app.service.security.annotation.PermittedMarkets (*), ..))&quot;)\n    public void permittedMarkets(ProceedingJoinPoint pjp) throws Throwable {\n        final var args = pjp.getArgs();\n        final var annotations = ((MethodSignature) pjp.getSignature()).getMethod().getParameterAnnotations();\n\n        for (int i = 0; i &lt; args.length; i++) {\n            for (Annotation annotation : annotations[i]) {\n                if (annotation.annotationType() == PermittedMarkets.class) {\n                    if (profile.equals(&quot;dev&quot;)) { args[i] = &quot;*&quot;; continue; }\n                    final var grantedAuthorities = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\n                            .map(Authentication::getAuthorities)\n                            .orElseThrow(() -&gt; new AccessDeniedException(&quot;No authorities found&quot;));\n\n                    args[i] = grantedAuthorities.stream()\n                            .map(GrantedAuthority::getAuthority)\n                            .filter(entitlement -&gt; entitlement.contains(&quot;app_user&quot;))\n                            .map(A_entitlement -&gt; roleToMarketCodeMap.get(A_entitlement))\n                            .filter(Objects::nonNull).collect(Collectors.joining(&quot;,&quot;));\n                }\n            }\n        }\n        pjp.proceed(args);\n    }\n}\n</code></pre>\n<p>However, I found out that this does not seem to work as intended. When I comment out the entirety of permittedMarkets() method, the frontend response has this Response Header:</p>\n<p><a href=\"https://i.stack.imgur.com/tUwdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUwdK.png\" alt=\"enter image description here\" /></a></p>\n<p>If I do not comment out, it has this response header and error log:</p>\n<p><a href=\"https://i.stack.imgur.com/oU9ze.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oU9ze.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tLiaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tLiaj.png\" alt=\"enter image description here\" /></a>\nEventSource's response has a Content-Type specifying an unsupported type: -. Aborting connection</p>\n<p>It seems that the AOP I added is affecting the GetMapping on my original method. How can I resolve this?</p>\n"},{"tags":["java","unit-testing","testng","reportng"],"comments":[{"owner":{"account_id":4928280,"reputation":3516,"user_id":3968921,"accept_rate":43,"display_name":"Ankit Deshpande"},"score":0,"creation_date":1547287761,"post_id":11622365,"comment_id":95147254,"body_markdown":"Why is the test failing though ?","body":"Why is the test failing though ?"}],"answers":[{"comments":[{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":0,"creation_date":1403687360,"post_id":12164173,"comment_id":37750783,"body_markdown":"Tried it, doesn&#39;t work. It seems NG is not designed for this - see Does this really work for you? It&#39;s not working with TestNG 6.8.8. And Cedric says that it&#39;s not meant or guaranteed to work: https://groups.google.com/d/msg/testng-users/J-kA6mD73i0/rc0vNTyygy0J","body":"Tried it, doesn&#39;t work. It seems NG is not designed for this - see Does this really work for you? It&#39;s not working with TestNG 6.8.8. And Cedric says that it&#39;s not meant or guaranteed to work: <a href=\"https://groups.google.com/d/msg/testng-users/J-kA6mD73i0/rc0vNTyygy0J\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/testng-users/J-kA6mD73i0/rc0vNTyygy0&zwnj;&#8203;J</a>"}],"tags":[],"owner":{"account_id":1044891,"reputation":2477,"user_id":1050112,"accept_rate":55,"display_name":"MushyPeas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346173893,"creation_date":1346173628,"answer_id":12164173,"question_id":11622365,"body_markdown":"since nobody replied, i give it a try.\r\n\r\njust random thoughts i had when reading your post, while i was searching for a solution for my problem...\r\n\r\nyou can get the result of your test in your `@AfterTest` method via `ITestResult result`\r\n   \r\n    @AfterMethod\r\n    public void AfterMethod_CheckForFailure(ITestResult result, Method m)\r\n\r\nan `@AfterMethod` is called when a method with `@Test` annotation has finished.\r\nable to read the current iteration from a `static` class with a `static` member\r\nand if its `&lt;5` then use\r\n\r\n    result.setStatus(ITestResult.SUCCESS); // or what ever status you want\r\n    setCurrentTestResult(result);\r\n\r\ndunno if that works, but looks to me it could :) Good luck","title":"How to only output one Pass/Fail result when test is rerun?","body":"<p>since nobody replied, i give it a try.</p>\n\n<p>just random thoughts i had when reading your post, while i was searching for a solution for my problem...</p>\n\n<p>you can get the result of your test in your <code>@AfterTest</code> method via <code>ITestResult result</code></p>\n\n<pre><code>@AfterMethod\npublic void AfterMethod_CheckForFailure(ITestResult result, Method m)\n</code></pre>\n\n<p>an <code>@AfterMethod</code> is called when a method with <code>@Test</code> annotation has finished.\nable to read the current iteration from a <code>static</code> class with a <code>static</code> member\nand if its <code>&lt;5</code> then use</p>\n\n<pre><code>result.setStatus(ITestResult.SUCCESS); // or what ever status you want\nsetCurrentTestResult(result);\n</code></pre>\n\n<p>dunno if that works, but looks to me it could :) Good luck</p>\n"},{"comments":[{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":0,"creation_date":1403687264,"post_id":17822078,"comment_id":37750711,"body_markdown":"Does this really work for you? It&#39;s not working for me with TestNG 6.8.8. And Cedric says that it&#39;s not meant or guaranteed to work: https://groups.google.com/d/msg/testng-users/J-kA6mD73i0/rc0vNTyygy0J","body":"Does this really work for you? It&#39;s not working for me with TestNG 6.8.8. And Cedric says that it&#39;s not meant or guaranteed to work: <a href=\"https://groups.google.com/d/msg/testng-users/J-kA6mD73i0/rc0vNTyygy0J\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/testng-users/J-kA6mD73i0/rc0vNTyygy0&zwnj;&#8203;J</a>"},{"owner":{"account_id":2398253,"reputation":15105,"user_id":2434234,"accept_rate":67,"display_name":"Nick Humrich"},"score":0,"creation_date":1403713535,"post_id":17822078,"comment_id":37768365,"body_markdown":"@Fletch Honestly, I dont remember. I am not working on this, nor have access to it anymore. However, I do remember that I eventually threw this solution out the window. I can&#39;t remember why though. Sorry.","body":"@Fletch Honestly, I dont remember. I am not working on this, nor have access to it anymore. However, I do remember that I eventually threw this solution out the window. I can&#39;t remember why though. Sorry."},{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":0,"creation_date":1403766916,"post_id":17822078,"comment_id":37787820,"body_markdown":"yeah I just went to JUnit - it has a better and easier way to do this.","body":"yeah I just went to JUnit - it has a better and easier way to do this."}],"tags":[],"owner":{"account_id":2398253,"reputation":15105,"user_id":2434234,"accept_rate":67,"display_name":"Nick Humrich"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374763438,"creation_date":1374618397,"answer_id":17822078,"question_id":11622365,"body_markdown":"I have just done this and how I did it was I considered everything before the last time a success. I did this to allow 3 reruns, here is the code I used:\r\n\r\n\r\n    import org.testng.IRetryAnalyzer;\r\n    import org.testng.ITestResult;\r\n    import org.testng.Reporter;\r\n    \r\n    public class RetryAnalyzer implements IRetryAnalyzer {\r\n      private int count = 0;\r\n      private int maxCount = 2;\r\n    \r\n      @Override\r\n      public boolean retry(ITestResult result) {\r\n        if (!result.isSuccess()) {\r\n          if (count &lt; maxCount) {\r\n            count++;\r\n            result.setStatus(ITestResult.SUCCESS);\r\n            String message = Thread.currentThread().getName() + &quot;: Error in &quot; + result.getName() + &quot; Retrying &quot;\r\n                + (maxCount + 1 - count) + &quot; more times&quot;;\r\n            System.out.println(message);\r\n            Reporter.log(message);\r\n            return true;\r\n          } else {\r\n            result.setStatus(ITestResult.FAILURE);\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n\r\nThe key here was when I am still retrying, I set the result to success\r\n\r\n    result.setStatus(ITestResult.SUCCESS)\r\nand when the attempt has been made and it still fails, then set it to a fail\r\n\r\n    result.setStatus(ITestResult.FAILURE);","title":"How to only output one Pass/Fail result when test is rerun?","body":"<p>I have just done this and how I did it was I considered everything before the last time a success. I did this to allow 3 reruns, here is the code I used:</p>\n\n<pre><code>import org.testng.IRetryAnalyzer;\nimport org.testng.ITestResult;\nimport org.testng.Reporter;\n\npublic class RetryAnalyzer implements IRetryAnalyzer {\n  private int count = 0;\n  private int maxCount = 2;\n\n  @Override\n  public boolean retry(ITestResult result) {\n    if (!result.isSuccess()) {\n      if (count &lt; maxCount) {\n        count++;\n        result.setStatus(ITestResult.SUCCESS);\n        String message = Thread.currentThread().getName() + \": Error in \" + result.getName() + \" Retrying \"\n            + (maxCount + 1 - count) + \" more times\";\n        System.out.println(message);\n        Reporter.log(message);\n        return true;\n      } else {\n        result.setStatus(ITestResult.FAILURE);\n      }\n    }\n    return false;\n  }\n}\n</code></pre>\n\n<p>The key here was when I am still retrying, I set the result to success</p>\n\n<pre><code>result.setStatus(ITestResult.SUCCESS)\n</code></pre>\n\n<p>and when the attempt has been made and it still fails, then set it to a fail</p>\n\n<pre><code>result.setStatus(ITestResult.FAILURE);\n</code></pre>\n"}],"owner":{"account_id":1683436,"reputation":21,"user_id":1547185,"display_name":"user1547185"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9322,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696402975,"creation_date":1343088778,"question_id":11622365,"body_markdown":"I&#39;m using the IRetryAnalyzer class in TestNG in order to relaunch tests that fail (up to 5 attempts).  Right now if I run a test and it fails three times before passing, it says: \r\n&gt;Tests run: 4, Failures: 3, Errors 0, Skipped 0. \r\n\r\nWhat I want the results to show is:\r\n\r\n&gt; Tests run: 1, Failures: 0, Errors 0, Skipped 0.\r\n\r\nBasically, I don&#39;t want it to count as a failure unless it fails all 5 reruns. How do I do this? ","title":"How to only output one Pass/Fail result when test is rerun?","body":"<p>I'm using the IRetryAnalyzer class in TestNG in order to relaunch tests that fail (up to 5 attempts).  Right now if I run a test and it fails three times before passing, it says:</p>\n<blockquote>\n<p>Tests run: 4, Failures: 3, Errors 0, Skipped 0.</p>\n</blockquote>\n<p>What I want the results to show is:</p>\n<blockquote>\n<p>Tests run: 1, Failures: 0, Errors 0, Skipped 0.</p>\n</blockquote>\n<p>Basically, I don't want it to count as a failure unless it fails all 5 reruns. How do I do this?</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":9139237,"reputation":1,"user_id":6797736,"display_name":"Ond Mares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696402771,"creation_date":1696356043,"question_id":77224553,"body_markdown":"I have an application that tests another application with a set of data. When this test runs, it takes some time, so I used SseEmiter to display the progress.\r\nAfter updating to spring-boot version 3.0.7 it stopped working.\r\n\r\n# code example:\r\n\r\nThe first one is called EP which creates an instance of SseEmitter.\r\n\r\n```\r\n    fun testProgressStream(emitterId: String) = run {\r\n        val sseEmitter = sseEmitters[emitterId] ?: SseEmitter(600000)\r\n        sseEmitters[emitterId] = sseEmitter\r\n        sseEmitter\r\n    }\r\n```\r\n\r\nThe second EP is called next, where the test is started and the method &quot;send&quot; is called during the test.\r\n\r\n```\r\n @Transactional\r\n    fun runTest(\r\n        projectId: ProjectId,\r\n        request: RunTestRequest,\r\n        authentication: Authentication,\r\n        token: String,\r\n        emitterId: String\r\n    ): RunTestResponse {\r\n        val sseEmitter = sseEmitters[emitterId]\r\n        var counter = 0\r\n        var (dataSetId, env, clientId) = request\r\n        val dataSet = dataSetService.getFull(dataSetId)\r\n        val testName = createTestName(dataSet, projectId, env, clientId)\r\n        val client = configDataService.getClient(projectId, env, clientId, token)\r\n        val author: String = authentication.name\r\n        val traceId = UUID.randomUUID().toString()\r\n\r\n        ponyFacade = ponyFactory.byEnv(env) ?: throw TestException(&quot;Could not found Pony instance&quot;)\r\n        var sessionId = createPonySession(client, traceId)\r\n        val test = findOrCreateTest(dataSet, env, clientId, projectId, author)\r\n        val resultItems = mutableListOf&lt;TestResultItem&gt;()\r\n\r\n\r\n        val testResult = TestResult(\r\n            name = testName, test = test, executed = LocalDateTime.now(clock), executedBy = author, items = resultItems\r\n        )\r\n\r\n        sseEmitter?.send(SseEmitter.event().data(&quot;Starting test!!&quot;).name(SSE_TEST_MESSAGE))\r\n        test.results.add(testResult)\r\n\r\n        dataSet.items.forEachIndexed loop@{ index, item -&gt;\r\n\r\n            if (item.question.equals(NEW_SESSION_FLAG, true)) {\r\n\r\n                sseEmitter?.send(SseEmitter.event().data(&quot;--------------------&quot;).name(SSE_TEST_MESSAGE).id(item.hashCode().toString()))\r\n                sseEmitter?.send(SseEmitter.event().data(&quot;Creating new session&quot;).name(SSE_TEST_MESSAGE))\r\n\r\n                //Thread.sleep(1000) //By pausing, we prevent problems with the number of requests for IBM services in short time\r\n                sessionId = createPonySession(client, traceId)\r\n                return@loop\r\n            }\r\n\r\n            sseEmitter?.send(\r\n                SseEmitter.event()\r\n                    .data(dataSet.items.filter { it.question != NEW_SESSION_FLAG }.size)\r\n                    .name(SSE_TEST_SIZE_EVENT)\r\n            )\r\n\r\n            sseEmitter?.send(SseEmitter.event().data(&quot;Question: ${item.question}&quot; ).name(SSE_TEST_MESSAGE))\r\n\r\n            val messageResponse = testMessage(ponyFacade, client.apiKey, traceId, sessionId, item)\r\n            resultItems.add(buildTestResultItem(testResult, item, messageResponse))\r\n\r\n            sseEmitter?.send(\r\n                SseEmitter.event()\r\n                    .data(++counter)\r\n                    .name(SSE_TEST_PROGRESS_EVENT)\r\n            )\r\n\r\n            request.keepSession.takeIf { !it &amp;&amp; index != dataSet.items.lastIndex }?.let {\r\n                sessionId = createPonySession(client, traceId)\r\n            }\r\n        }\r\n        sseEmitter?.onTimeout {\r\n            sseEmitters.remove(emitterId)\r\n        }\r\n        sseEmitter?.onCompletion {\r\n            sseEmitters.remove(emitterId)\r\n        }\r\n        sseEmitter?.complete()\r\n\r\n        val report = testResult.items.takeIf { it.isNotEmpty() }?.let {\r\n            compareTestsService.compare(it)\r\n        }\r\n        val savedTestEntity = repository.save(test)\r\n\r\n        return RunTestResponse(\r\n            testResultId = savedTestEntity.results.last().id,\r\n            testDatasetIntentConflicts = report?.testDatasetIntentConflicts,\r\n            testDataSetResponseIdConflicts = report?.testDataSetResponseIdConflicts,\r\n            testIntentsConfidenceConflicts = report?.testIntentsConfidenceConflicts\r\n        )\r\n    }\r\n```\r\n\r\n**Even if the test ends, no message will come through EP with SseEmitor.**\r\n\r\nI don&#39;t have any errors in BE, nothing just happens.\r\n\r\nFE App throws an error, here is the console script.\r\n\r\n[enter image description here](https://i.stack.imgur.com/mseLc.png)\r\n\r\n```\r\n const wrongValues = validate();\r\n        let emitterId = uuidv4();\r\n        var eventSource = new EventSource(`${window.location.origin}/tf/api/v1/tests/progress-stream?emitterId=${emitterId}`)\r\n\r\n        // addEventListener version\r\n        eventSource.addEventListener(&quot;error&quot;, (e) =&gt; {\r\n            console.log(&quot;An error occurred while attempting to connect.&quot;, e.data);\r\n        });\r\n\r\n        eventSource.onmessage = (e) =&gt; {\r\n            console.log(e)\r\n        };\r\n\r\n        eventSource.addEventListener(&quot;TEST_PROGRESS&quot;, (event) =&gt; {\r\n            let progress = JSON.parse(event.data);\r\n            setProgress(progress);\r\n            if (progress === itemsSize) {\r\n                eventSource.close();\r\n                console.log(&quot;SSE closed&quot;);\r\n            }\r\n        });\r\n\r\n        eventSource.addEventListener(&quot;TEST_SIZE&quot;, (event) =&gt; {\r\n            let size = JSON.parse(event.data);\r\n            console.log(`Test size: ${size}`);\r\n            setItemsSize(size);\r\n        });\r\n\r\n        eventSource.onerror = (event) =&gt; {\r\n            if (event.target.readyState === EventSource.CLOSED)\r\n                console.log(&quot;SSE closed (&quot; + event.target.readyState + &quot;)&quot;);\r\n            else\r\n                console.log(&quot;connection error&quot;, event);\r\n                eventSource.close()\r\n        };\r\n\r\n        eventSource.onopen = () =&gt; {\r\n            console.log(&quot;connection opened&quot;);\r\n        };\r\n```\r\n\r\nI tried a lot of things, I don&#39;t know what to describe here.\r\n\r\nFor example, I added sending a message to the EP to create an Emmiter. The message comes, but if I put Thread.sleep(1000) before the message, the message doesn&#39;t come.\r\n\r\n\r\nHow I need it to work: So that during the running test, the messages that I set up and in parts of the code go to FE in real time, alo with using Thread.sleep() in code.\r\n\r\n\r\n\r\n","title":"SseEmitter does not work after update to spring-boot 3","body":"<p>I have an application that tests another application with a set of data. When this test runs, it takes some time, so I used SseEmiter to display the progress.\nAfter updating to spring-boot version 3.0.7 it stopped working.</p>\n<h1>code example:</h1>\n<p>The first one is called EP which creates an instance of SseEmitter.</p>\n<pre><code>    fun testProgressStream(emitterId: String) = run {\n        val sseEmitter = sseEmitters[emitterId] ?: SseEmitter(600000)\n        sseEmitters[emitterId] = sseEmitter\n        sseEmitter\n    }\n</code></pre>\n<p>The second EP is called next, where the test is started and the method &quot;send&quot; is called during the test.</p>\n<pre><code> @Transactional\n    fun runTest(\n        projectId: ProjectId,\n        request: RunTestRequest,\n        authentication: Authentication,\n        token: String,\n        emitterId: String\n    ): RunTestResponse {\n        val sseEmitter = sseEmitters[emitterId]\n        var counter = 0\n        var (dataSetId, env, clientId) = request\n        val dataSet = dataSetService.getFull(dataSetId)\n        val testName = createTestName(dataSet, projectId, env, clientId)\n        val client = configDataService.getClient(projectId, env, clientId, token)\n        val author: String = authentication.name\n        val traceId = UUID.randomUUID().toString()\n\n        ponyFacade = ponyFactory.byEnv(env) ?: throw TestException(&quot;Could not found Pony instance&quot;)\n        var sessionId = createPonySession(client, traceId)\n        val test = findOrCreateTest(dataSet, env, clientId, projectId, author)\n        val resultItems = mutableListOf&lt;TestResultItem&gt;()\n\n\n        val testResult = TestResult(\n            name = testName, test = test, executed = LocalDateTime.now(clock), executedBy = author, items = resultItems\n        )\n\n        sseEmitter?.send(SseEmitter.event().data(&quot;Starting test!!&quot;).name(SSE_TEST_MESSAGE))\n        test.results.add(testResult)\n\n        dataSet.items.forEachIndexed loop@{ index, item -&gt;\n\n            if (item.question.equals(NEW_SESSION_FLAG, true)) {\n\n                sseEmitter?.send(SseEmitter.event().data(&quot;--------------------&quot;).name(SSE_TEST_MESSAGE).id(item.hashCode().toString()))\n                sseEmitter?.send(SseEmitter.event().data(&quot;Creating new session&quot;).name(SSE_TEST_MESSAGE))\n\n                //Thread.sleep(1000) //By pausing, we prevent problems with the number of requests for IBM services in short time\n                sessionId = createPonySession(client, traceId)\n                return@loop\n            }\n\n            sseEmitter?.send(\n                SseEmitter.event()\n                    .data(dataSet.items.filter { it.question != NEW_SESSION_FLAG }.size)\n                    .name(SSE_TEST_SIZE_EVENT)\n            )\n\n            sseEmitter?.send(SseEmitter.event().data(&quot;Question: ${item.question}&quot; ).name(SSE_TEST_MESSAGE))\n\n            val messageResponse = testMessage(ponyFacade, client.apiKey, traceId, sessionId, item)\n            resultItems.add(buildTestResultItem(testResult, item, messageResponse))\n\n            sseEmitter?.send(\n                SseEmitter.event()\n                    .data(++counter)\n                    .name(SSE_TEST_PROGRESS_EVENT)\n            )\n\n            request.keepSession.takeIf { !it &amp;&amp; index != dataSet.items.lastIndex }?.let {\n                sessionId = createPonySession(client, traceId)\n            }\n        }\n        sseEmitter?.onTimeout {\n            sseEmitters.remove(emitterId)\n        }\n        sseEmitter?.onCompletion {\n            sseEmitters.remove(emitterId)\n        }\n        sseEmitter?.complete()\n\n        val report = testResult.items.takeIf { it.isNotEmpty() }?.let {\n            compareTestsService.compare(it)\n        }\n        val savedTestEntity = repository.save(test)\n\n        return RunTestResponse(\n            testResultId = savedTestEntity.results.last().id,\n            testDatasetIntentConflicts = report?.testDatasetIntentConflicts,\n            testDataSetResponseIdConflicts = report?.testDataSetResponseIdConflicts,\n            testIntentsConfidenceConflicts = report?.testIntentsConfidenceConflicts\n        )\n    }\n</code></pre>\n<p><strong>Even if the test ends, no message will come through EP with SseEmitor.</strong></p>\n<p>I don't have any errors in BE, nothing just happens.</p>\n<p>FE App throws an error, here is the console script.</p>\n<p><a href=\"https://i.stack.imgur.com/mseLc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code> const wrongValues = validate();\n        let emitterId = uuidv4();\n        var eventSource = new EventSource(`${window.location.origin}/tf/api/v1/tests/progress-stream?emitterId=${emitterId}`)\n\n        // addEventListener version\n        eventSource.addEventListener(&quot;error&quot;, (e) =&gt; {\n            console.log(&quot;An error occurred while attempting to connect.&quot;, e.data);\n        });\n\n        eventSource.onmessage = (e) =&gt; {\n            console.log(e)\n        };\n\n        eventSource.addEventListener(&quot;TEST_PROGRESS&quot;, (event) =&gt; {\n            let progress = JSON.parse(event.data);\n            setProgress(progress);\n            if (progress === itemsSize) {\n                eventSource.close();\n                console.log(&quot;SSE closed&quot;);\n            }\n        });\n\n        eventSource.addEventListener(&quot;TEST_SIZE&quot;, (event) =&gt; {\n            let size = JSON.parse(event.data);\n            console.log(`Test size: ${size}`);\n            setItemsSize(size);\n        });\n\n        eventSource.onerror = (event) =&gt; {\n            if (event.target.readyState === EventSource.CLOSED)\n                console.log(&quot;SSE closed (&quot; + event.target.readyState + &quot;)&quot;);\n            else\n                console.log(&quot;connection error&quot;, event);\n                eventSource.close()\n        };\n\n        eventSource.onopen = () =&gt; {\n            console.log(&quot;connection opened&quot;);\n        };\n</code></pre>\n<p>I tried a lot of things, I don't know what to describe here.</p>\n<p>For example, I added sending a message to the EP to create an Emmiter. The message comes, but if I put Thread.sleep(1000) before the message, the message doesn't come.</p>\n<p>How I need it to work: So that during the running test, the messages that I set up and in parts of the code go to FE in real time, alo with using Thread.sleep() in code.</p>\n"},{"tags":["java","oop","equality"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1681573787,"post_id":76023279,"comment_id":134079954,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681573818,"post_id":76023279,"comment_id":134079962,"body_markdown":"`var x = 4; var y = x; y = 2;` ‚Äì x is still 4.","body":"<code>var x = 4; var y = x; y = 2;</code> ‚Äì x is still 4."},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1681574411,"post_id":76023279,"comment_id":134080046,"body_markdown":"It sounds like you&#39;re reading the `=` as mathematical equality, so that `x=y, x=z` means `y=z`. It&#39;s actually assignment, in math sometimes written `:=`, and means something like &quot;forget the previous definition of x and use this new one instead&quot;","body":"It sounds like you&#39;re reading the <code>=</code> as mathematical equality, so that <code>x=y, x=z</code> means <code>y=z</code>. It&#39;s actually assignment, in math sometimes written <code>:=</code>, and means something like &quot;forget the previous definition of x and use this new one instead&quot;"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1681575309,"post_id":76023279,"comment_id":134080178,"body_markdown":"I suggest you try stepping through your program with a visualisation like [this one](https://pythontutor.com/java.html).","body":"I suggest you try stepping through your program with a visualisation like <a href=\"https://pythontutor.com/java.html\" rel=\"nofollow noreferrer\">this one</a>."},{"owner":{"account_id":28314195,"reputation":21,"user_id":21651013,"display_name":"Andrew"},"score":0,"creation_date":1681579867,"post_id":76023279,"comment_id":134080774,"body_markdown":"@knittl The pass-by-value thing is for passing objects into methods. This example however is all in the main method. Basically i&#39;m saying why obj.child = obj3 is different from saying obj2 = obj3, assuming that obj.child is obj2","body":"@knittl The pass-by-value thing is for passing objects into methods. This example however is all in the main method. Basically i&#39;m saying why obj.child = obj3 is different from saying obj2 = obj3, assuming that obj.child is obj2"}],"answers":[{"comments":[{"owner":{"account_id":28314195,"reputation":21,"user_id":21651013,"display_name":"Andrew"},"score":0,"creation_date":1681575394,"post_id":76023341,"comment_id":134080189,"body_markdown":"Makes sense, so obj.child stores a pointer and not the actual object? But how is saying obj.child.value different from saying obj2.value?","body":"Makes sense, so obj.child stores a pointer and not the actual object? But how is saying obj.child.value different from saying obj2.value?"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1681575980,"post_id":76023341,"comment_id":134080259,"body_markdown":"In the last example (line 5), they are not different. Running your code will prove it to you. `obj.child.value == obj2.value` will return true.","body":"In the last example (line 5), they are not different. Running your code will prove it to you. <code>obj.child.value == obj2.value</code> will return true."}],"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696402440,"creation_date":1681574479,"answer_id":76023341,"question_id":76023279,"body_markdown":"This is what happens after each of your code lines.\r\n\r\n1\r\n- \r\n\r\n```java\r\nPractice obj = new Practice(10);\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +--------------+\r\n```\r\n\r\n2\r\n-\r\n```java\r\nPractice obj2 = new Practice(9);\r\n// HEAP\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +--------------+\r\n//\r\n//                 +-------------+\r\n//      obj2 ----&gt; + Practice(9) +  \r\n//                 +-------------+   \r\n```\r\n\r\n3\r\n-\r\n\r\n```java\r\nPractice obj3 = new Practice(11);\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +--------------+\r\n//\r\n//                 +-------------+\r\n//      obj2 ----&gt; + Practice(9) +  \r\n//                 +-------------+        \r\n//  \r\n//                 +--------------+       \r\n//      obj3 ----&gt; + Practice(11) +\r\n//                 +--------------+    \r\n```\r\n\r\n4\r\n-\r\n\r\n```java\r\nobj.child = obj3;\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +    child -------------+\r\n//                +--------------+        |\r\n//                                        |\r\n//                 +-------------+        |\r\n//      obj2 ----&gt; + Practice(9) +        |\r\n//                 +-------------+        | \r\n//                                        |\r\n//                 +--------------+       |\r\n//      obj3 ----&gt; + Practice(11) +  &lt;----+\r\n//                 +--------------+ \r\n```\r\n\r\n5\r\n-\r\n\r\n```java\r\nobj.child = obj2;\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +    child -------------+\r\n//                +--------------+        |\r\n//                                        |\r\n//                 +-------------+        |\r\n//      obj2 ----&gt; + Practice(9) + &lt;------+\r\n//                 +-------------+         \r\n//                                        \r\n//                 +--------------+       \r\n//      obj3 ----&gt; + Practice(11) +\r\n//                 +--------------+ \r\n```","title":"Confused about object pointers/equality","body":"<p>This is what happens after each of your code lines.</p>\n<h2>1</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Practice obj = new Practice(10);\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +--------------+\n</code></pre>\n<h2>2</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Practice obj2 = new Practice(9);\n// HEAP\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +--------------+\n//\n//                 +-------------+\n//      obj2 ----&gt; + Practice(9) +  \n//                 +-------------+   \n</code></pre>\n<h2>3</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Practice obj3 = new Practice(11);\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +--------------+\n//\n//                 +-------------+\n//      obj2 ----&gt; + Practice(9) +  \n//                 +-------------+        \n//  \n//                 +--------------+       \n//      obj3 ----&gt; + Practice(11) +\n//                 +--------------+    \n</code></pre>\n<h2>4</h2>\n<pre class=\"lang-java prettyprint-override\"><code>obj.child = obj3;\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +    child -------------+\n//                +--------------+        |\n//                                        |\n//                 +-------------+        |\n//      obj2 ----&gt; + Practice(9) +        |\n//                 +-------------+        | \n//                                        |\n//                 +--------------+       |\n//      obj3 ----&gt; + Practice(11) +  &lt;----+\n//                 +--------------+ \n</code></pre>\n<h2>5</h2>\n<pre class=\"lang-java prettyprint-override\"><code>obj.child = obj2;\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +    child -------------+\n//                +--------------+        |\n//                                        |\n//                 +-------------+        |\n//      obj2 ----&gt; + Practice(9) + &lt;------+\n//                 +-------------+         \n//                                        \n//                 +--------------+       \n//      obj3 ----&gt; + Practice(11) +\n//                 +--------------+ \n</code></pre>\n"}],"owner":{"account_id":28314195,"reputation":21,"user_id":21651013,"display_name":"Andrew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696402440,"creation_date":1681573541,"question_id":76023279,"body_markdown":"    public class Practice {\r\n\t    public int value;\r\n\t    public Practice child;\r\n\t    public Practice(int value) {\r\n\t\t    this.value = value;\t\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    Practice obj = new Practice(10);\r\n\t\t    Practice obj2 = new Practice(9);\r\n\t\t    Practice obj3 = new Practice(11);\r\n\r\n\t        obj.child = obj3;\r\n\t        obj.child = obj2;\r\n\r\n\t\t    System.out.println(obj2 == obj3);\r\n\r\n\r\n\t    }\r\n\r\n    }\r\n\r\nIn this code, since I made obj.child = obj3, then I thought you could substitute obj3 for obj.child so that in other words the line &quot;obj.child = obj2&quot; could mean &quot;obj3 = obj2&quot;. However, in the print statement it returns false. \r\n\r\n\r\n\r\n\r\n\r\nHowever, if you do something like \r\n\r\n    obj.child = obj3;\r\n    obj.child.value = obj2.value;\r\n\r\nThen you are actually manipulating obj3 as its value changes, however in the previous code obj3 is only &quot;replaced&quot; however the object remains unchanged. \r\n\r\nSame thing here:\r\n\r\n    obj.child = obj3;\r\n    obj2 = obj.child;\r\n\r\nNow they are actual equal... so you can subsitute obj3 for obj.child? Now Im confused... Bit of a novice coder so I would appreciate if someone would clear this up for me. Thank you!!","title":"Confused about object pointers/equality","body":"<pre><code>public class Practice {\n    public int value;\n    public Practice child;\n    public Practice(int value) {\n        this.value = value; \n    }\n\n    public static void main(String[] args) {\n        Practice obj = new Practice(10);\n        Practice obj2 = new Practice(9);\n        Practice obj3 = new Practice(11);\n\n        obj.child = obj3;\n        obj.child = obj2;\n\n        System.out.println(obj2 == obj3);\n\n\n    }\n\n}\n</code></pre>\n<p>In this code, since I made obj.child = obj3, then I thought you could substitute obj3 for obj.child so that in other words the line &quot;obj.child = obj2&quot; could mean &quot;obj3 = obj2&quot;. However, in the print statement it returns false.</p>\n<p>However, if you do something like</p>\n<pre><code>obj.child = obj3;\nobj.child.value = obj2.value;\n</code></pre>\n<p>Then you are actually manipulating obj3 as its value changes, however in the previous code obj3 is only &quot;replaced&quot; however the object remains unchanged.</p>\n<p>Same thing here:</p>\n<pre><code>obj.child = obj3;\nobj2 = obj.child;\n</code></pre>\n<p>Now they are actual equal... so you can subsitute obj3 for obj.child? Now Im confused... Bit of a novice coder so I would appreciate if someone would clear this up for me. Thank you!!</p>\n"},{"tags":["java","java-8","rest"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1630688925,"post_id":69046582,"comment_id":122034013,"body_markdown":"Try `basicAuth = &quot;Bearer &quot; + ...` instead","body":"Try <code>basicAuth = &quot;Bearer &quot; + ...</code> instead"},{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1630689359,"post_id":69046582,"comment_id":122034166,"body_markdown":"Isn‚Äôt there a Duo SDK? Why are you using the REST services with Java when an SDK is provided?","body":"Isn‚Äôt there a Duo SDK? Why are you using the REST services with Java when an SDK is provided?"},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1630777822,"post_id":69046582,"comment_id":122050916,"body_markdown":"401 means &quot;unauthorized&quot;, i.e. API is closed from external use.","body":"401 means &quot;unauthorized&quot;, i.e. API is closed from external use."}],"answers":[{"tags":[],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696402431,"creation_date":1696402431,"answer_id":77227382,"question_id":69046582,"body_markdown":"You may use like below:\r\n\r\n 1. Add below dependency to pom.xml\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.duosecurity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;duo-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n 2. User below code:\r\n\r\n         import org.apache.http.HttpEntity;\r\n        import org.apache.http.HttpResponse;\r\n        import org.apache.http.client.HttpClient;\r\n        import org.apache.http.client.methods.HttpPost;\r\n        import org.apache.http.impl.client.HttpClients;\r\n        import org.apache.http.util.EntityUtils;\r\n        import javax.crypto.Mac;\r\n        import javax.crypto.spec.SecretKeySpec;\r\n        import java.io.IOException;\r\n        import java.io.UnsupportedEncodingException;\r\n        import java.net.URLEncoder;\r\n        import java.security.InvalidKeyException;\r\n        import java.security.NoSuchAlgorithmException;\r\n        import java.time.OffsetDateTime;\r\n        import java.time.format.DateTimeFormatter;\r\n        import java.util.ArrayList;\r\n        import java.util.Base64;\r\n        import java.util.SortedMap;\r\n        import java.util.TreeMap;\r\n    \r\n        public class AdminAPIExample {\r\n    \r\n            private static SortedMap&lt;String, Object&gt; params = new TreeMap&lt;String, Object&gt;();\r\n    \r\n            public static void main(String[] args) throws IOException {\r\n                String ikey = &quot;x&quot;;\r\n                String skey = &quot;x&quot;;\r\n                String host = &quot;x&quot;;\r\n                String httpMethod = &quot;POST&quot;;\r\n                String requestPath = &quot;/auth/v2/auth&quot;;\r\n    \r\n                String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\r\n    \r\n                params.put(&quot;username&quot;,&quot;20230612&quot;);\r\n                params.put(&quot;factor&quot;,&quot;push&quot;);\r\n                params.put(&quot;device&quot;,&quot;auto&quot;);\r\n    \r\n                String queryString = canonQueryString();\r\n               System.out.println(&quot;queryString = &quot; + queryString);\r\n            \r\n    \r\n    \r\n                String canonicalRequest = timestamp +&quot;\\n&quot; + httpMethod.toUpperCase() +&quot;\\n&quot; + host.toLowerCase() +&quot;\\n&quot;+requestPath +&quot;\\n&quot; +queryString;\r\n                System.out.println(&quot;canonicalRequest = &quot; + canonicalRequest);\r\n    \r\n                String signature = sign2(canonicalRequest, skey);\r\n                System.out.println(&quot;signature = &quot; + signature);\r\n    \r\n                String url = &quot;https://&quot; + host.toLowerCase() + requestPath+&quot;?&quot;+queryString;\r\n                System.out.println(&quot;url = &quot; + url);\r\n    \r\n                String authString =&quot;Basic &quot;+ Base64.getEncoder().encodeToString((ikey + &quot;:&quot; + signature).getBytes());\r\n                System.out.println(&quot;authString = &quot; + authString);\r\n                System.out.println(&quot;authString length= &quot; + authString.length());\r\n    \r\n    \r\n                HttpClient httpClient = HttpClients.createDefault();\r\n                HttpPost httpPost = new HttpPost(url);\r\n                httpPost.setHeader(&quot;Date&quot;, timestamp);\r\n                httpPost.setHeader(&quot;Authorization&quot;, authString);\r\n                httpPost.setHeader(&quot;Host&quot;, host.toLowerCase());\r\n                httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \r\n    \r\n                // Make the request\r\n                HttpResponse response = httpClient.execute(httpPost);\r\n                HttpEntity entity = response.getEntity();\r\n                String responseContent = entity != null ? EntityUtils.toString(entity) : &quot;&quot;;\r\n    \r\n                String rs =  &quot;Response Status Code: &quot; + response.getStatusLine().getStatusCode() + &quot;\\nResponse Content:\\n&quot; + responseContent;\r\n                System.out.println(&quot;rs = &quot; + rs);\r\n            }\r\n    \r\n            public static String canonQueryString()\r\n                    throws UnsupportedEncodingException {\r\n                ArrayList&lt;String&gt; args = new ArrayList&lt;String&gt;();\r\n    \r\n                for (String key : params.keySet()) {\r\n                    String name = URLEncoder\r\n                            .encode(key, &quot;UTF-8&quot;)\r\n                            .replace(&quot;+&quot;, &quot;%20&quot;)\r\n                            .replace(&quot;*&quot;, &quot;%2A&quot;)\r\n                            .replace(&quot;%7E&quot;, &quot;~&quot;);\r\n                    String value = URLEncoder\r\n                            .encode(params.get(key).toString(), &quot;UTF-8&quot;)\r\n                            .replace(&quot;+&quot;, &quot;%20&quot;)\r\n                            .replace(&quot;*&quot;, &quot;%2A&quot;)\r\n                            .replace(&quot;%7E&quot;, &quot;~&quot;);\r\n                    args.add(name + &quot;=&quot; + value);\r\n                }\r\n    \r\n                return com.duosecurity.client.Util.join(args.toArray(), &quot;&amp;&quot;);\r\n            }\r\n    \r\n            private static String bytesToHex(byte[] bytes) {\r\n                StringBuilder hexStringBuilder = new StringBuilder();\r\n                for (byte b : bytes) {\r\n                    hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\r\n                }\r\n                return hexStringBuilder.toString();\r\n            }\r\n    \r\n            static String sign2(String data, String secretKey){\r\n                try {\r\n    \r\n                    byte[] secretKeyBytes = secretKey.getBytes(&quot;UTF-8&quot;);\r\n                    byte[] messageBytes = data.getBytes(&quot;UTF-8&quot;);\r\n    \r\n                    // Create a secret key specification\r\n                    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKeyBytes, &quot;HmacSHA1&quot;); // Use a suitable HMAC algorithm\r\n    \r\n                    // Initialize the HMAC with the secret key\r\n                    Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;); // Use the same HMAC algorithm\r\n                    mac.init(secretKeySpec);\r\n    \r\n                    // Calculate the HMAC\r\n                    byte[] hmacBytes = mac.doFinal(messageBytes);\r\n    \r\n                    // Convert the HMAC to a hexadecimal string\r\n                    StringBuilder hexStringBuilder = new StringBuilder();\r\n                    for (byte b : hmacBytes) {\r\n                        hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\r\n                    }\r\n                    String hexHMAC = hexStringBuilder.toString();\r\n    \r\n                    // Print the hex HMAC\r\n                    System.out.println(hexHMAC);\r\n    \r\n    \r\n    \r\n                    return hexHMAC;\r\n                } catch (NoSuchAlgorithmException | InvalidKeyException | UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n    \r\n        }\r\n\r\nNote: All Other API are similar. **Just change your intregation key, Secrete key, host, end point and parameters.**","title":"I want to create a user on Google Duo through Java Rest api. Followed documentation but getting error","body":"<p>You may use like below:</p>\n<ol>\n<li><p>Add below dependency to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.duosecurity&lt;/groupId&gt;\n    &lt;artifactId&gt;duo-client&lt;/artifactId&gt;\n    &lt;version&gt;0.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>User below code:</p>\n<pre><code> import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.Base64;\nimport java.util.SortedMap;\nimport java.util.TreeMap;\n\npublic class AdminAPIExample {\n\n    private static SortedMap&lt;String, Object&gt; params = new TreeMap&lt;String, Object&gt;();\n\n    public static void main(String[] args) throws IOException {\n        String ikey = &quot;x&quot;;\n        String skey = &quot;x&quot;;\n        String host = &quot;x&quot;;\n        String httpMethod = &quot;POST&quot;;\n        String requestPath = &quot;/auth/v2/auth&quot;;\n\n        String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\n\n        params.put(&quot;username&quot;,&quot;20230612&quot;);\n        params.put(&quot;factor&quot;,&quot;push&quot;);\n        params.put(&quot;device&quot;,&quot;auto&quot;);\n\n        String queryString = canonQueryString();\n       System.out.println(&quot;queryString = &quot; + queryString);\n\n\n\n        String canonicalRequest = timestamp +&quot;\\n&quot; + httpMethod.toUpperCase() +&quot;\\n&quot; + host.toLowerCase() +&quot;\\n&quot;+requestPath +&quot;\\n&quot; +queryString;\n        System.out.println(&quot;canonicalRequest = &quot; + canonicalRequest);\n\n        String signature = sign2(canonicalRequest, skey);\n        System.out.println(&quot;signature = &quot; + signature);\n\n        String url = &quot;https://&quot; + host.toLowerCase() + requestPath+&quot;?&quot;+queryString;\n        System.out.println(&quot;url = &quot; + url);\n\n        String authString =&quot;Basic &quot;+ Base64.getEncoder().encodeToString((ikey + &quot;:&quot; + signature).getBytes());\n        System.out.println(&quot;authString = &quot; + authString);\n        System.out.println(&quot;authString length= &quot; + authString.length());\n\n\n        HttpClient httpClient = HttpClients.createDefault();\n        HttpPost httpPost = new HttpPost(url);\n        httpPost.setHeader(&quot;Date&quot;, timestamp);\n        httpPost.setHeader(&quot;Authorization&quot;, authString);\n        httpPost.setHeader(&quot;Host&quot;, host.toLowerCase());\n        httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n\n        // Make the request\n        HttpResponse response = httpClient.execute(httpPost);\n        HttpEntity entity = response.getEntity();\n        String responseContent = entity != null ? EntityUtils.toString(entity) : &quot;&quot;;\n\n        String rs =  &quot;Response Status Code: &quot; + response.getStatusLine().getStatusCode() + &quot;\\nResponse Content:\\n&quot; + responseContent;\n        System.out.println(&quot;rs = &quot; + rs);\n    }\n\n    public static String canonQueryString()\n            throws UnsupportedEncodingException {\n        ArrayList&lt;String&gt; args = new ArrayList&lt;String&gt;();\n\n        for (String key : params.keySet()) {\n            String name = URLEncoder\n                    .encode(key, &quot;UTF-8&quot;)\n                    .replace(&quot;+&quot;, &quot;%20&quot;)\n                    .replace(&quot;*&quot;, &quot;%2A&quot;)\n                    .replace(&quot;%7E&quot;, &quot;~&quot;);\n            String value = URLEncoder\n                    .encode(params.get(key).toString(), &quot;UTF-8&quot;)\n                    .replace(&quot;+&quot;, &quot;%20&quot;)\n                    .replace(&quot;*&quot;, &quot;%2A&quot;)\n                    .replace(&quot;%7E&quot;, &quot;~&quot;);\n            args.add(name + &quot;=&quot; + value);\n        }\n\n        return com.duosecurity.client.Util.join(args.toArray(), &quot;&amp;&quot;);\n    }\n\n    private static String bytesToHex(byte[] bytes) {\n        StringBuilder hexStringBuilder = new StringBuilder();\n        for (byte b : bytes) {\n            hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\n        }\n        return hexStringBuilder.toString();\n    }\n\n    static String sign2(String data, String secretKey){\n        try {\n\n            byte[] secretKeyBytes = secretKey.getBytes(&quot;UTF-8&quot;);\n            byte[] messageBytes = data.getBytes(&quot;UTF-8&quot;);\n\n            // Create a secret key specification\n            SecretKeySpec secretKeySpec = new SecretKeySpec(secretKeyBytes, &quot;HmacSHA1&quot;); // Use a suitable HMAC algorithm\n\n            // Initialize the HMAC with the secret key\n            Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;); // Use the same HMAC algorithm\n            mac.init(secretKeySpec);\n\n            // Calculate the HMAC\n            byte[] hmacBytes = mac.doFinal(messageBytes);\n\n            // Convert the HMAC to a hexadecimal string\n            StringBuilder hexStringBuilder = new StringBuilder();\n            for (byte b : hmacBytes) {\n                hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\n            }\n            String hexHMAC = hexStringBuilder.toString();\n\n            // Print the hex HMAC\n            System.out.println(hexHMAC);\n\n\n\n            return hexHMAC;\n        } catch (NoSuchAlgorithmException | InvalidKeyException | UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n}\n</code></pre>\n</li>\n</ol>\n<p>Note: All Other API are similar. <strong>Just change your intregation key, Secrete key, host, end point and parameters.</strong></p>\n"}],"owner":{"account_id":22647621,"reputation":3,"user_id":16822760,"display_name":"Jhonnysins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696402431,"creation_date":1630679440,"question_id":69046582,"body_markdown":"I am creating a Java Rest api to create users on Google Duo admin. I am following the documentation https://duo.com/docs/adminapi and I have added auth and date/time header but still I am getting unauthorised error 401. Can anyone guide me what am I doing wrong I have read the doc and added all the mandatory headers.\r\n\r\n    public static void POSTRequest() throws IOException {\r\n        String userCredentials = &quot;Username:Password&quot;;\r\n        String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userCredentials.getBytes()));\r\n        String dateTime = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\r\n        String POST_PARAMS = &quot;{\\n&quot; + &quot;\\&quot;userId\\&quot;: 101,\\r\\n&quot; +\r\n                &quot;    \\&quot;id\\&quot;: 101,\\r\\n&quot; +\r\n                &quot;    \\&quot;title\\&quot;: \\&quot;Test Title\\&quot;,\\r\\n&quot; +\r\n                &quot;    \\&quot;body\\&quot;: \\&quot;Test Body\\&quot;&quot; + &quot;\\n}&quot;;\r\n        URL obj = new URL(&quot;https://api-e9770554.duosecurity.com&quot;);\r\n\r\n        HttpURLConnection postConnection = (HttpURLConnection) obj.openConnection();\r\n        postConnection.setRequestMethod(&quot;POST&quot;);\r\n        postConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        postConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n        postConnection.setRequestProperty(&quot;Date&quot;, dateTime);\r\n        postConnection.setDoOutput(true);\r\n        OutputStream os = postConnection.getOutputStream();\r\n        os.write(POST_PARAMS.getBytes());\r\n        os.flush();\r\n        os.close();\r\n\r\n        int responseCode = postConnection.getResponseCode();\r\n        System.out.println(&quot;POST Response Code :  &quot; + responseCode);\r\n        System.out.println(&quot;POST Response Message : &quot; + postConnection.getResponseMessage());\r\n\r\n        if (responseCode == HttpURLConnection.HTTP_CREATED) { //success\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(\r\n            postConnection.getInputStream()));\r\n            String inputLine;\r\n            StringBuffer response = new StringBuffer();\r\n\r\n            while ((inputLine = in.readLine()) != null) {\r\n                response.append(inputLine);\r\n            }\r\n            in.close();\r\n\r\n            // print result\r\n            System.out.println(response.toString());\r\n        } else {\r\n            System.out.println(&quot;POST NOT WORKED&quot;);\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    {\r\n      &quot;code&quot;: 40101,\r\n      &quot;message&quot;: &quot;Missing request credentials&quot;,\r\n      &quot;stat&quot;: &quot;FAIL&quot;\r\n    }\r\n    \r\n    Response code: 401 (Unauthorized); Time: 2022ms; Content    length: 73 bytes\r\n\r\n\r\n\r\n","title":"I want to create a user on Google Duo through Java Rest api. Followed documentation but getting error","body":"<p>I am creating a Java Rest api to create users on Google Duo admin. I am following the documentation <a href=\"https://duo.com/docs/adminapi\" rel=\"nofollow noreferrer\">https://duo.com/docs/adminapi</a> and I have added auth and date/time header but still I am getting unauthorised error 401. Can anyone guide me what am I doing wrong I have read the doc and added all the mandatory headers.</p>\n<pre><code>public static void POSTRequest() throws IOException {\n    String userCredentials = &quot;Username:Password&quot;;\n    String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userCredentials.getBytes()));\n    String dateTime = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\n    String POST_PARAMS = &quot;{\\n&quot; + &quot;\\&quot;userId\\&quot;: 101,\\r\\n&quot; +\n            &quot;    \\&quot;id\\&quot;: 101,\\r\\n&quot; +\n            &quot;    \\&quot;title\\&quot;: \\&quot;Test Title\\&quot;,\\r\\n&quot; +\n            &quot;    \\&quot;body\\&quot;: \\&quot;Test Body\\&quot;&quot; + &quot;\\n}&quot;;\n    URL obj = new URL(&quot;https://api-e9770554.duosecurity.com&quot;);\n\n    HttpURLConnection postConnection = (HttpURLConnection) obj.openConnection();\n    postConnection.setRequestMethod(&quot;POST&quot;);\n    postConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    postConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n    postConnection.setRequestProperty(&quot;Date&quot;, dateTime);\n    postConnection.setDoOutput(true);\n    OutputStream os = postConnection.getOutputStream();\n    os.write(POST_PARAMS.getBytes());\n    os.flush();\n    os.close();\n\n    int responseCode = postConnection.getResponseCode();\n    System.out.println(&quot;POST Response Code :  &quot; + responseCode);\n    System.out.println(&quot;POST Response Message : &quot; + postConnection.getResponseMessage());\n\n    if (responseCode == HttpURLConnection.HTTP_CREATED) { //success\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n        postConnection.getInputStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        in.close();\n\n        // print result\n        System.out.println(response.toString());\n    } else {\n        System.out.println(&quot;POST NOT WORKED&quot;);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>{\n  &quot;code&quot;: 40101,\n  &quot;message&quot;: &quot;Missing request credentials&quot;,\n  &quot;stat&quot;: &quot;FAIL&quot;\n}\n\nResponse code: 401 (Unauthorized); Time: 2022ms; Content    length: 73 bytes\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","centos","eclipselink"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696056577,"post_id":77205620,"comment_id":136107859,"body_markdown":"Are  you using a build tool? Are you including your dependencies?","body":"Are  you using a build tool? Are you including your dependencies?"},{"owner":{"account_id":14606405,"reputation":113,"user_id":10549133,"display_name":"Ndrik7"},"score":0,"creation_date":1696057023,"post_id":77205620,"comment_id":136107897,"body_markdown":"I am using maven dependencies and build war file from eclipse.","body":"I am using maven dependencies and build war file from eclipse."},{"owner":{"account_id":14606405,"reputation":113,"user_id":10549133,"display_name":"Ndrik7"},"score":0,"creation_date":1696154367,"post_id":77205620,"comment_id":136114906,"body_markdown":"@dan1st I think the eclipselink.jar file has dipendency with an other jar file. Do you know how to configure this in CentOS?","body":"@dan1st I think the eclipselink.jar file has dipendency with an other jar file. Do you know how to configure this in CentOS?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696170213,"post_id":77205620,"comment_id":136116365,"body_markdown":"If you are using maven, why are you not building the WAR file with Maven?","body":"If you are using maven, why are you not building the WAR file with Maven?"},{"owner":{"account_id":14606405,"reputation":113,"user_id":10549133,"display_name":"Ndrik7"},"score":0,"creation_date":1696208521,"post_id":77205620,"comment_id":136120090,"body_markdown":"because the jar file must be loaded on jvm startup (base on documentation `https://eclipse.dev/eclipselink/documentation/2.6/solutions/testingjpa004.htm`). So, I must set with -javaagent on VM argument. But the jar file have dependency with an other jar file. I don&#39;t know, how to menage this on the server.","body":"because the jar file must be loaded on jvm startup (base on documentation <code>https:&#47;&#47;eclipse.dev&#47;eclipselink&#47;documentation&#47;2.6&#47;solutions&#47;&zwnj;&#8203;testingjpa004.htm</code>). So, I must set with -javaagent on VM argument. But the jar file have dependency with an other jar file. I don&#39;t know, how to menage this on the server."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696231084,"post_id":77205620,"comment_id":136121755,"body_markdown":"And how does the way the JAR file is loaded influence the way you are building it?","body":"And how does the way the JAR file is loaded influence the way you are building it?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1696256127,"post_id":77205620,"comment_id":136126191,"body_markdown":"You might try a different approach: static weaving your entities. See https://wiki.eclipse.org/EclipseLink/Examples/JPA/Tomcat_Web_Tutorial and https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Static_Weaving as I don&#39;t know that you&#39;ll get dynamic weaving to work in Tomcat which is not a full EE server. Ps EclipseLink 2.7 will require Javax persistence, not Jakarta.","body":"You might try a different approach: static weaving your entities. See <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Tomcat_Web_Tutorial\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/Examples/JPA/Tomcat_Web_Tutoria&zwnj;&#8203;l</a> and <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving/Static_Weaving\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> as I don&#39;t know that you&#39;ll get dynamic weaving to work in Tomcat which is not a full EE server. Ps EclipseLink 2.7 will require Javax persistence, not Jakarta."}],"owner":{"account_id":14606405,"reputation":113,"user_id":10549133,"display_name":"Ndrik7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696402270,"creation_date":1696046576,"question_id":77205620,"body_markdown":"I am using eclipse, tomcat and eclipselink to develop web application. I need to configure `javaagent:eclipselink.jar` on eclipse java VM to enable Weaving on eclipselink.\r\n\r\nOn Eclipse&#39;s VM arguments I add `-javaagent:/Users/user/Development/lib/eclipselink/2.7.10/eclipselink.jar`. When I run the tomcat server, I get error messege\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:491)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\r\n    Caused by: java.lang.NoClassDefFoundError: javax/persistence/spi/PersistenceUnitInfo\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:375)\r\n    \tat org.eclipse.persistence.internal.jpa.deployment.JavaSECMPInitializerAgent.initializeFromAgent(JavaSECMPInitializerAgent.java:46)\r\n    \tat org.eclipse.persistence.internal.jpa.deployment.JavaSECMPInitializerAgent.premain(JavaSECMPInitializerAgent.java:41)\r\n    \t... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: javax.persistence.spi.PersistenceUnitInfo\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 10 more\r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at open/src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\n    FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n\r\nWhen I run UnitTest with `-javaagent:/Users/user/Development/lib/eclipselink/2.7.10/eclipselink.jar` configuration, it run without error.\r\n\r\nWhen I run tomcat with `-Djavaagent:/Users/user/Development/lib/eclipselink/2.7.10/eclipselink.jar` configuration, it run but I don&#39;t the weaving function is no enable to jpa queries.\r\n\r\n\r\nI use :\r\n- java 17 SE\r\n- tomcat 9.0.56\r\n- eclipselink 2.7.10 (for JPA)\r\n- mysql 8.0.28\r\n- macos ventura\r\n\r\nHow to setting javaaggent with dipendecies?\r\nCan anyone help me with this situation?\r\nHow to configurate eclipselink.jar to enable weaving?\r\n\r\nI think, `the eclipselink.jar` has dipendency with another jar file (`jakarta.persistence_2.2.3.jar`). How can I configure this in CentOS ?\r\n\r\n**Update:**\r\nI found a solution from this page [github eclipselink issue #1803][1] how to add dipendency on JVM argument.\r\n\r\n    -Xbootclasspath/a:plugins/jakarta.persistence-api_3.1.0.jar\r\n\r\nAt my situation:\r\n\r\n    -Xbootclasspath/a:/eclipselink/2.7.13/jakarta.persistence_2.2.3.jar -javaagent:/eclipselink/2.7.13/eclipselink_2.7.13.jar\r\n\r\nI think, it works. The error is diappear.\r\n\r\n  [1]: https://github.com/eclipse-ee4j/eclipselink/issues/1803","title":"Set dependecy for javaagent eclipselink.jar in Eclipse Tomcat and CentOs","body":"<p>I am using eclipse, tomcat and eclipselink to develop web application. I need to configure <code>javaagent:eclipselink.jar</code> on eclipse java VM to enable Weaving on eclipselink.</p>\n<p>On Eclipse's VM arguments I add <code>-javaagent:/Users/user/Development/lib/eclipselink/2.7.10/eclipselink.jar</code>. When I run the tomcat server, I get error messege</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:491)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\nCaused by: java.lang.NoClassDefFoundError: javax/persistence/spi/PersistenceUnitInfo\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at org.eclipse.persistence.internal.jpa.deployment.JavaSECMPInitializerAgent.initializeFromAgent(JavaSECMPInitializerAgent.java:46)\n    at org.eclipse.persistence.internal.jpa.deployment.JavaSECMPInitializerAgent.premain(JavaSECMPInitializerAgent.java:41)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: javax.persistence.spi.PersistenceUnitInfo\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 10 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at open/src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n</code></pre>\n<p>When I run UnitTest with <code>-javaagent:/Users/user/Development/lib/eclipselink/2.7.10/eclipselink.jar</code> configuration, it run without error.</p>\n<p>When I run tomcat with <code>-Djavaagent:/Users/user/Development/lib/eclipselink/2.7.10/eclipselink.jar</code> configuration, it run but I don't the weaving function is no enable to jpa queries.</p>\n<p>I use :</p>\n<ul>\n<li>java 17 SE</li>\n<li>tomcat 9.0.56</li>\n<li>eclipselink 2.7.10 (for JPA)</li>\n<li>mysql 8.0.28</li>\n<li>macos ventura</li>\n</ul>\n<p>How to setting javaaggent with dipendecies?\nCan anyone help me with this situation?\nHow to configurate eclipselink.jar to enable weaving?</p>\n<p>I think, <code>the eclipselink.jar</code> has dipendency with another jar file (<code>jakarta.persistence_2.2.3.jar</code>). How can I configure this in CentOS ?</p>\n<p><strong>Update:</strong>\nI found a solution from this page <a href=\"https://github.com/eclipse-ee4j/eclipselink/issues/1803\" rel=\"nofollow noreferrer\">github eclipselink issue #1803</a> how to add dipendency on JVM argument.</p>\n<pre><code>-Xbootclasspath/a:plugins/jakarta.persistence-api_3.1.0.jar\n</code></pre>\n<p>At my situation:</p>\n<pre><code>-Xbootclasspath/a:/eclipselink/2.7.13/jakarta.persistence_2.2.3.jar -javaagent:/eclipselink/2.7.13/eclipselink_2.7.13.jar\n</code></pre>\n<p>I think, it works. The error is diappear.</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1696400646,"post_id":77227188,"comment_id":136146116,"body_markdown":"sorry I pass on this. if you follow this process, people could try it locally and debug etc: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"sorry I pass on this. if you follow this process, people could try it locally and debug etc: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"},{"owner":{"account_id":785,"reputation":257,"user_id":1023,"accept_rate":100,"display_name":"Gokul"},"score":0,"creation_date":1696413915,"post_id":77227188,"comment_id":136148741,"body_markdown":"Filed an issue with a minimal example at https://github.com/karatelabs/karate/issues/2412","body":"Filed an issue with a minimal example at <a href=\"https://github.com/karatelabs/karate/issues/2412\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/issues/2412</a>"}],"owner":{"account_id":785,"reputation":257,"user_id":1023,"accept_rate":100,"display_name":"Gokul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696400455,"creation_date":1696400290,"question_id":77227188,"body_markdown":"I am trying to write a test for an async webhook callback using karate.signal and karate.listen as documented at https://github.com/karatelabs/karate/tree/master#async\r\nI have split the test into two feature files. One for making the request from karate and one from handling the request on karate. However the listen is always timing out even if the signal call is made.\r\n\r\nTest feature file\r\n\r\n\r\n    Feature: Check Redis Event Q impl\r\n    \r\n      Background:\r\n        * url baseUrl\r\n        * def startmock = (mockName) =&gt; karate.start({mock:mockName,port:mockServerPort}).port\r\n        * def mockServerUrl = &#39;http://localhost:&#39;+ startmock(&#39;localTestServer.mock&#39;) +&#39;/api/response&#39;\r\n    \r\n      Scenario: Run ack immediately\r\n    \r\n        Given path servicePrefix, &#39;testq&#39;\r\n        And request { cbUrl:&#39;#(mockServerUrl)&#39; , deferCount : 0, deferSecs:0 }\r\n        When method POST\r\n        Then status 200\r\n        * listen 1000\r\n        * print listenResult\r\n        * json data = listenResult\r\n        * match data.count == 0\r\n\r\nMock server feature file\r\n\r\n    Feature: stateful mock server\r\n    \r\n      Background:\r\n    \r\n        * def prop = function(name){ return java.lang.System.getProperty(name) }\r\n        * def uuid = function(){ return java.util.UUID.randomUUID() + &#39;&#39; }\r\n        * print &quot;started mock&quot;\r\n    \r\n    \r\n      Scenario: pathMatches(&#39;/api/response&#39;) &amp;&amp; methodIs(&#39;post&#39;)\r\n        * def responseStatus = 200\r\n        * print &#39;signalling&#39;\r\n        * karate.signal(request)\r\n        * print &#39;signalled&#39;\r\n    \r\n    # This a catch all scenario handles every request, that hasn&#39;t been handled before.\r\n      Scenario:\r\n        * print &#39;No dedicated scenario matches incoming request.&#39;\r\n        * print &#39;With Headers:&#39;\r\n        * print requestHeaders\r\n        * print &#39;With Request Parameters&#39;\r\n        * print requestParams\r\n        * print &#39;And Request:&#39;\r\n        * print request\r\n        * def responseStatus = 404\r\n        * def response = {status:&#39;OK&#39;}\r\n\r\nHowever the listen always times out and is not getting the signalled object . The logs seem to indicate that the listen and signal are happening but the listen is always timing out\r\n\r\nLog snippet\r\n\r\n        10:59:23.721 [main] DEBUG com.intuit.karate - entered listen state with timeout: 1000\r\n        10:59:23.776 [pool-2-thread-1] INFO  c.a.connect.bridge.http.HttpClient - Doing POST to url http://localhost:60812/api/response with body {&quot;count&quot;:0,&quot;time&quot;:0} and headers DefaultHttpHeaders[x-request-id: f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, x-trail: e0c13a9f-0bdd-43a2-97a3-f79e52731f67;MISC_Q_c2715d2e-684a-46dd-9408-89d308c2f6cd;f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, content-type: application/json]\r\n        10:59:23.886 [armeria-common-worker-nio-9-1] INFO  c.l.a.i.common.JavaVersionSpecific - Using the APIs optimized for: Java 9+\r\n        10:59:23.925 [armeria-common-worker-nio-9-1] DEBUG com.intuit.karate - scenario matched at line 10: pathMatches(&#39;/api/response&#39;) &amp;&amp; methodIs(&#39;post&#39;)\r\n        10:59:23.928 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalling \r\n        10:59:23.938 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalled \r\n        10:59:23.950 [pool-2-thread-1] INFO  c.a.c.c.w.RedisQTestEventProcessor - Finished Event\r\n        10:59:23.956 [pool-2-thread-1] INFO  c.a.c.b.worker.redisq.LeaseHandler - Worker Task Done\r\n        10:59:24.725 [main] ERROR com.intuit.karate - listen timed out: java.util.concurrent.TimeoutException\r\n        10:59:24.726 [main] DEBUG com.intuit.karate - exit listen state with result: null\r\n\r\nFull logs\r\n\r\n    10:59:23.435 [main] DEBUG com.intuit.karate - request:\r\n    1 &gt; POST http://localhost:60811//testq\r\n    1 &gt; Content-Type: application/json; charset=UTF-8\r\n    1 &gt; Content-Length: 80\r\n    1 &gt; Host: localhost:60811\r\n    1 &gt; Connection: Keep-Alive\r\n    1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.20.1)\r\n    1 &gt; Accept-Encoding: gzip,deflate\r\n    {&quot;cbUrl&quot;:&quot;http:\\/\\/localhost:60812\\/api\\/response&quot;,&quot;deferCount&quot;:0,&quot;deferSecs&quot;:0}\r\n    \r\n    10:59:23.547 [nioEventLoopGroup-4-1] INFO  c.a.c.bridge.http.HttpRequestHandler - Got body {&quot;cbUrl&quot;:&quot;http:\\/\\/localhost:60812\\/api\\/response&quot;,&quot;deferCount&quot;:0,&quot;deferSecs&quot;:0}\r\n    10:59:23.657 [nioEventLoopGroup-4-1] INFO  c.a.c.b.w.redisq.WorkerPollerMgr - Q Insert\r\n    10:59:23.713 [nioEventLoopGroup-4-1] INFO  c.a.c.bridge.http.RequestIdStamper - done\r\n    10:59:23.719 [main] DEBUG com.intuit.karate - response time in milliseconds: 283\r\n    1 &lt; 200\r\n    1 &lt; content-length: 15\r\n    1 &lt; content-type: text/plain\r\n    1 &lt; x-request-id: e0c13a9f-0bdd-43a2-97a3-f79e52731f67\r\n    EmptyResource{}\r\n    \r\n    10:59:23.721 [main] DEBUG com.intuit.karate - entered listen state with timeout: 1000\r\n    10:59:23.776 [pool-2-thread-1] INFO  c.a.connect.bridge.http.HttpClient - Doing POST to url http://localhost:60812/api/response with body {&quot;count&quot;:0,&quot;time&quot;:0} and headers DefaultHttpHeaders[x-request-id: f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, x-trail: e0c13a9f-0bdd-43a2-97a3-f79e52731f67;MISC_Q_c2715d2e-684a-46dd-9408-89d308c2f6cd;f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, content-type: application/json]\r\n    10:59:23.886 [armeria-common-worker-nio-9-1] INFO  c.l.a.i.common.JavaVersionSpecific - Using the APIs optimized for: Java 9+\r\n    10:59:23.925 [armeria-common-worker-nio-9-1] DEBUG com.intuit.karate - scenario matched at line 10: pathMatches(&#39;/api/response&#39;) &amp;&amp; methodIs(&#39;post&#39;)\r\n    10:59:23.928 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalling \r\n    10:59:23.938 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalled \r\n    10:59:23.950 [pool-2-thread-1] INFO  c.a.c.c.w.RedisQTestEventProcessor - Finished Event\r\n    10:59:23.956 [pool-2-thread-1] INFO  c.a.c.b.worker.redisq.LeaseHandler - Worker Task Done\r\n    10:59:24.725 [main] ERROR com.intuit.karate - listen timed out: java.util.concurrent.TimeoutException\r\n    10:59:24.726 [main] DEBUG com.intuit.karate - exit listen state with result: null\r\n    10:59:24.732 [main] INFO  com.intuit.karate - [print] null \r\n    10:59:24.733 [main] ERROR com.intuit.karate - classpath:com/eventq/eventq.feature:16\r\n    * json data = listenResult\r\n    cannot convert to json: [type: NULL, value: null]\r\n    classpath:com/eventq/eventq.feature:16\r\n    ---------------------------------------------------------\r\n    feature: classpath:com/eventq/eventq.feature\r\n    scenarios:  1 | passed:  0 | failed:  1 | time: 1.6729\r\n    ---------------------------------------------------------\r\n    \r\n    \r\n    org.opentest4j.AssertionFailedError: cannot convert to json: [type: NULL, value: null]\r\n\r\nI am using karate version 1.2.0","title":"karate signal and listen across feature files","body":"<p>I am trying to write a test for an async webhook callback using karate.signal and karate.listen as documented at <a href=\"https://github.com/karatelabs/karate/tree/master#async\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/tree/master#async</a>\nI have split the test into two feature files. One for making the request from karate and one from handling the request on karate. However the listen is always timing out even if the signal call is made.</p>\n<p>Test feature file</p>\n<pre><code>Feature: Check Redis Event Q impl\n\n  Background:\n    * url baseUrl\n    * def startmock = (mockName) =&gt; karate.start({mock:mockName,port:mockServerPort}).port\n    * def mockServerUrl = 'http://localhost:'+ startmock('localTestServer.mock') +'/api/response'\n\n  Scenario: Run ack immediately\n\n    Given path servicePrefix, 'testq'\n    And request { cbUrl:'#(mockServerUrl)' , deferCount : 0, deferSecs:0 }\n    When method POST\n    Then status 200\n    * listen 1000\n    * print listenResult\n    * json data = listenResult\n    * match data.count == 0\n</code></pre>\n<p>Mock server feature file</p>\n<pre><code>Feature: stateful mock server\n\n  Background:\n\n    * def prop = function(name){ return java.lang.System.getProperty(name) }\n    * def uuid = function(){ return java.util.UUID.randomUUID() + '' }\n    * print &quot;started mock&quot;\n\n\n  Scenario: pathMatches('/api/response') &amp;&amp; methodIs('post')\n    * def responseStatus = 200\n    * print 'signalling'\n    * karate.signal(request)\n    * print 'signalled'\n\n# This a catch all scenario handles every request, that hasn't been handled before.\n  Scenario:\n    * print 'No dedicated scenario matches incoming request.'\n    * print 'With Headers:'\n    * print requestHeaders\n    * print 'With Request Parameters'\n    * print requestParams\n    * print 'And Request:'\n    * print request\n    * def responseStatus = 404\n    * def response = {status:'OK'}\n</code></pre>\n<p>However the listen always times out and is not getting the signalled object . The logs seem to indicate that the listen and signal are happening but the listen is always timing out</p>\n<p>Log snippet</p>\n<pre><code>    10:59:23.721 [main] DEBUG com.intuit.karate - entered listen state with timeout: 1000\n    10:59:23.776 [pool-2-thread-1] INFO  c.a.connect.bridge.http.HttpClient - Doing POST to url http://localhost:60812/api/response with body {&quot;count&quot;:0,&quot;time&quot;:0} and headers DefaultHttpHeaders[x-request-id: f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, x-trail: e0c13a9f-0bdd-43a2-97a3-f79e52731f67;MISC_Q_c2715d2e-684a-46dd-9408-89d308c2f6cd;f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, content-type: application/json]\n    10:59:23.886 [armeria-common-worker-nio-9-1] INFO  c.l.a.i.common.JavaVersionSpecific - Using the APIs optimized for: Java 9+\n    10:59:23.925 [armeria-common-worker-nio-9-1] DEBUG com.intuit.karate - scenario matched at line 10: pathMatches('/api/response') &amp;&amp; methodIs('post')\n    10:59:23.928 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalling \n    10:59:23.938 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalled \n    10:59:23.950 [pool-2-thread-1] INFO  c.a.c.c.w.RedisQTestEventProcessor - Finished Event\n    10:59:23.956 [pool-2-thread-1] INFO  c.a.c.b.worker.redisq.LeaseHandler - Worker Task Done\n    10:59:24.725 [main] ERROR com.intuit.karate - listen timed out: java.util.concurrent.TimeoutException\n    10:59:24.726 [main] DEBUG com.intuit.karate - exit listen state with result: null\n</code></pre>\n<p>Full logs</p>\n<pre><code>10:59:23.435 [main] DEBUG com.intuit.karate - request:\n1 &gt; POST http://localhost:60811//testq\n1 &gt; Content-Type: application/json; charset=UTF-8\n1 &gt; Content-Length: 80\n1 &gt; Host: localhost:60811\n1 &gt; Connection: Keep-Alive\n1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/11.0.20.1)\n1 &gt; Accept-Encoding: gzip,deflate\n{&quot;cbUrl&quot;:&quot;http:\\/\\/localhost:60812\\/api\\/response&quot;,&quot;deferCount&quot;:0,&quot;deferSecs&quot;:0}\n\n10:59:23.547 [nioEventLoopGroup-4-1] INFO  c.a.c.bridge.http.HttpRequestHandler - Got body {&quot;cbUrl&quot;:&quot;http:\\/\\/localhost:60812\\/api\\/response&quot;,&quot;deferCount&quot;:0,&quot;deferSecs&quot;:0}\n10:59:23.657 [nioEventLoopGroup-4-1] INFO  c.a.c.b.w.redisq.WorkerPollerMgr - Q Insert\n10:59:23.713 [nioEventLoopGroup-4-1] INFO  c.a.c.bridge.http.RequestIdStamper - done\n10:59:23.719 [main] DEBUG com.intuit.karate - response time in milliseconds: 283\n1 &lt; 200\n1 &lt; content-length: 15\n1 &lt; content-type: text/plain\n1 &lt; x-request-id: e0c13a9f-0bdd-43a2-97a3-f79e52731f67\nEmptyResource{}\n\n10:59:23.721 [main] DEBUG com.intuit.karate - entered listen state with timeout: 1000\n10:59:23.776 [pool-2-thread-1] INFO  c.a.connect.bridge.http.HttpClient - Doing POST to url http://localhost:60812/api/response with body {&quot;count&quot;:0,&quot;time&quot;:0} and headers DefaultHttpHeaders[x-request-id: f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, x-trail: e0c13a9f-0bdd-43a2-97a3-f79e52731f67;MISC_Q_c2715d2e-684a-46dd-9408-89d308c2f6cd;f9f0a598-fef3-4cc6-8c7e-a42c9aafa551, content-type: application/json]\n10:59:23.886 [armeria-common-worker-nio-9-1] INFO  c.l.a.i.common.JavaVersionSpecific - Using the APIs optimized for: Java 9+\n10:59:23.925 [armeria-common-worker-nio-9-1] DEBUG com.intuit.karate - scenario matched at line 10: pathMatches('/api/response') &amp;&amp; methodIs('post')\n10:59:23.928 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalling \n10:59:23.938 [armeria-common-worker-nio-9-1] INFO  com.intuit.karate - [print] signalled \n10:59:23.950 [pool-2-thread-1] INFO  c.a.c.c.w.RedisQTestEventProcessor - Finished Event\n10:59:23.956 [pool-2-thread-1] INFO  c.a.c.b.worker.redisq.LeaseHandler - Worker Task Done\n10:59:24.725 [main] ERROR com.intuit.karate - listen timed out: java.util.concurrent.TimeoutException\n10:59:24.726 [main] DEBUG com.intuit.karate - exit listen state with result: null\n10:59:24.732 [main] INFO  com.intuit.karate - [print] null \n10:59:24.733 [main] ERROR com.intuit.karate - classpath:com/eventq/eventq.feature:16\n* json data = listenResult\ncannot convert to json: [type: NULL, value: null]\nclasspath:com/eventq/eventq.feature:16\n---------------------------------------------------------\nfeature: classpath:com/eventq/eventq.feature\nscenarios:  1 | passed:  0 | failed:  1 | time: 1.6729\n---------------------------------------------------------\n\n\norg.opentest4j.AssertionFailedError: cannot convert to json: [type: NULL, value: null]\n</code></pre>\n<p>I am using karate version 1.2.0</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1644271919,"post_id":71025724,"comment_id":125557301,"body_markdown":"I&#39;ve a suggestion for an algorithm with the caveat that I haven&#39;t built it into a full solution so I can&#39;t guarantee its correctness. For each entry find the size of the largest subset that has that entry as its minimum. Then sum entry * size * (size + 1) / 2. This could be done in O(n) time if you are willing to live with poor space complexity (by maintaining a map from value to index as you scan)","body":"I&#39;ve a suggestion for an algorithm with the caveat that I haven&#39;t built it into a full solution so I can&#39;t guarantee its correctness. For each entry find the size of the largest subset that has that entry as its minimum. Then sum entry * size * (size + 1) / 2. This could be done in O(n) time if you are willing to live with poor space complexity (by maintaining a map from value to index as you scan)"},{"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"score":0,"creation_date":1644309504,"post_id":71025724,"comment_id":125565663,"body_markdown":"@sprinter, thank you. How to get this `For each entry find the size of the largest subset that has that entry as its minimum. ` and make the code run in O(n). Also I guess we may miss some subsets, I am not sure though","body":"@sprinter, thank you. How to get this <code>For each entry find the size of the largest subset that has that entry as its minimum. </code> and make the code run in O(n). Also I guess we may miss some subsets, I am not sure though"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1644354756,"post_id":71025724,"comment_id":125584086,"body_markdown":"With the caveat that I haven&#39;t actually written the code for this - my idea would be to use a `NavigableMap` from a value to the index of the last entry with that value as you scan. You can then use `floorEntry` to efficiently find the first index with a lower value. Scan from both ends and you have the size of the largest subset that has each entry as its minimum.","body":"With the caveat that I haven&#39;t actually written the code for this - my idea would be to use a <code>NavigableMap</code> from a value to the index of the last entry with that value as you scan. You can then use <code>floorEntry</code> to efficiently find the first index with a lower value. Scan from both ends and you have the size of the largest subset that has each entry as its minimum."},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1644541116,"post_id":71025724,"comment_id":125641005,"body_markdown":"I think you should edit in that you&#39;re looking to add the *products* of the min and sum of each subarray, as that isn&#39;t mentioned in the post and is very easy to miss if you only read the directions instead of the code and examples. It should still be possible to do in `O(n)`, but the solution is more complicated than user sprinter&#39;s comment.","body":"I think you should edit in that you&#39;re looking to add the <i>products</i> of the min and sum of each subarray, as that isn&#39;t mentioned in the post and is very easy to miss if you only read the directions instead of the code and examples. It should still be possible to do in <code>O(n)</code>, but the solution is more complicated than user sprinter&#39;s comment."},{"owner":{"account_id":23723665,"reputation":1,"user_id":17743893,"display_name":"convert"},"score":0,"creation_date":1644870499,"post_id":71025724,"comment_id":125715318,"body_markdown":"It&#180;s Java not C, you dont need int n it can even make it worth, just use A.length instead. Also A is not a good name for variable use something like for example array instead.","body":"It&#180;s Java not C, you dont need int n it can even make it worth, just use A.length instead. Also A is not a good name for variable use something like for example array instead."}],"answers":[{"comments":[{"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"score":0,"creation_date":1644619528,"post_id":71058573,"comment_id":125663692,"body_markdown":"This code using recursive approach right, but my input range is very high so this code can fail with memory errors.","body":"This code using recursive approach right, but my input range is very high so this code can fail with memory errors."},{"owner":{"account_id":16446795,"reputation":1069,"user_id":11881368,"display_name":"Roman Svistunov"},"score":0,"creation_date":1645085215,"post_id":71058573,"comment_id":125778048,"body_markdown":"@Chaitanya I added a non-recursive implementation of the same idea","body":"@Chaitanya I added a non-recursive implementation of the same idea"}],"tags":[],"owner":{"account_id":16446795,"reputation":1069,"user_id":11881368,"display_name":"Roman Svistunov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645085026,"creation_date":1644454430,"answer_id":71058573,"question_id":71025724,"body_markdown":"This problem can be solved in O(n log n).\r\n\r\n**Basic idea**\r\n\r\nIn this explanation, a lot of off-by-one errors probably sneaked in, but it does not matter for the idea. Let m be the minimum of the array. Then any subarray that contains m would have m as a minimum, and every other sub-array would be either entirely before or entirely after m. Let `n` be the number of elements in the array, and let us treat `m` as an index. Then for every `i &lt; m` let&#39;s count the subarrays that contain i&#39;th element and have m&#39;th element as a minimum. It is exactly `i * (n - m)`, as there are i possible left edges before i and (n - m) possible edges after m. Each of such arrays would have A[m] as a minimum, and each element with `i &lt; m` would contribute to the resulting sum with a factor of `i * A[m] * (n - m)`. For `i &gt; m` with similar reasoning we would get `(n - i) * A[m] * m`. Then we would update the array before m and after m recursively and then just loop over to get the result.\r\n\r\nThe problem is in the update. To add these `i * A[m] * (n - m)` to every possible i would result in a quadratic solution. But as one can notice, both sides are linear functions with respect to i, and this is an important property. Let&#39;s rewrite the function for the right side as `i * -A[m] * m + n * A[m] * m`. So we would use `a * i + b` expression for every index. If we have two linear functions `a * i + b` and `c * i + d`, their sum would, obviously, be `(a + c) * i + (b + d)` - also a linear function. To conclude this optimization we would use a recursive function with two parameters: subarray currently processed and linear function to apply to each element.\r\n\r\nThe last problem to solve is finding the minimum in the subarray, but that is known as RMQ problem and can be solved in O(n log n).\r\n\r\n**The function**\r\n\r\nTo speed things up we would not create subarrays, of course, but pass indices. The pseudocode for what we would like to achieve:\r\n\r\n```java\r\n//This uses inclusive l and exclusive r\r\npublic int program(int[] A, int l, int r, int a, int b) {\r\n  if (r - l == 0) {\r\n    //array of size 0 can appear in recursive calls\r\n    //if smallest element is first or last in its subarray\r\n    return 0;\r\n  }\r\n  if (r - l == 1) {\r\n    //for size one array there exists only one possible subarray\r\n    //we also need to add the linear function\r\n    return A[l] * A[l] + A[l] * (a * l + b);\r\n  }\r\n  //This is the call to your RMQ data structure\r\n  int m = findMinIdxInSubArray(A, l, r);\r\n  int result = 0;\r\n\r\n  //to the left function would be (i + 1 - l) * A[m] * (r - m) which expands to\r\n  //i * A[m] * (r - m) + (1 - l) * A[m] * (r - m)\r\n  result += program(A, l, i, a + A[m] * (r - m), b + (1 - l) * A[m] * (r - m));\r\n  \r\n  //to the right function would be (r - i) * A[m] * (m - l + 1) wich expands to\r\n  //i * -A[m] * (m - l + 1) + r * A[m] * (m - l + 1)\r\n  result += program(A, m + 1, r, a - A[m] * (m - l + 1), b + r * A[m] * (m - l + 1));\r\n\r\n  //This is the case for the element m itself,\r\n  //as it is not accounted in the previous calculations\r\n  //the linear function also needs to be accounted here\r\n  result += A[m] * (m - l + 1) * (r - m) + A[m] * (a * m + b);\r\n  return result;\r\n}\r\n```\r\nNow your old function would be written like:\r\n```java\r\npublic int program(int A[], int n) {\r\n  //initialize your RMQ data structure here\r\n  return program(A, 0, n, 0, 0);\r\n}\r\n```\r\nNote that this implementation lacks the findMinIdxInSubArray function, as i mentioned, any RMQ data structure can be used here. Feel free to use anything from Fenwick tree to sparse table.\r\n\r\n**Example**\r\nTo explain this formulas a little bit better i would trace the execution of this program for an array `A={3,2,1,4}`\r\n\r\nWhen the function is first called it has subarray from 0 inclusive to 4 not inclusive and no elements are accounted for now. The minimum of this subarray is element 1 at index 2, and m=2 therefore.\r\n\r\n1 is minimum for all subarrays [i,j] such that `i &lt;= 2` and `2 &lt;= j`.\r\n\r\nFor element 4 to the right of 1 it appears in 3 arrays ([0,3], [1,3], [2,3]), and recursive call with function -3 * i + 12 would be called. In this function call it is the array of size one, so we would account for subarray `{4}` with 16 and as it is index 3, it&#39;s linear function value is -3 * 3 + 12 = 3, so we would also add 4 * 3 = 12 to account for the arrays from the first function call.\r\n\r\nFor element 1 itself, it appears in 6 arrays ([0,2],[0,3],[1,2],[1,3],[2,2] and [2,3]) and in the last formula would be added as 1 * 3 * 2 as expected, contributing 6 to the total sum.\r\n\r\nNow for the harder array to the left. Element 3 appears in exactly 2 such arrays ([0,2] and [0,3]) and would contribute with a factor of 2 (2 arrays multiplied by minimum value 1 each) and element 2 appears in exactly 4 such arrays([0,2], [0,3], [1,2] and [1,3]). For these two elements, we would call a program with a linear function of 2*i+2, which, as one can see, matches their contribution.\r\n\r\nIn this recursive call, we would find that 2 at index 1 is the smallest element.\r\nTo the right of it, there are no elements, so the recursive call would return 0. 2 itself appears in two subarrays ([0,1] and [1,1]) and from them, it would contribute 8 (2 arrays value 2 in sum and 2 is minimum) to the total sum. But linear function mentions that we should also add 2*1+1=4 array*minimums from the previous levels, which matches our computations previously with the contribution of 8. So for 2, we would add a total of 16 in this iteration.\r\n\r\nTo the left of the two, there is only one element, it is three, it appears in only one array, so its contribution factor should increase by 2 (one array, but minimum is two). The function passed recursively would be `(2*i+2) + (2*i+2) = (4*i+4)`. When we would process the subarray of one element 3 we would add contribution of 9 from the subarray `{3}` and another 3*(4*0+4) to account for arrays on previous levels, and total contribution would be another 21.\r\n\r\nTherefore, recursive function would yield a sum of 21+16+6+28=71. Now lets validate this result by hand:\r\n\r\n```\r\n{3} - min=3, sum=3, min*sum=9\r\n{3,2} - min=2, sum=5, min*sum=10\r\n{3,2,1} - min=1, sum=6, min*sum=6\r\n{3,2,1,4} - min=1, sum=10, min*sum=10\r\n{2} - min=2, sum=2, min*sum=4\r\n{2,1} - min=1, sum=3, min*sum=3\r\n{2,1,4} - min=1, sum=7, min*sum=7\r\n{1} - min=1, sum=1, min*sum=1\r\n{1,4} - min=1, sum=5, min*sum=5\r\n{4} - min=4, sum=4, min*sum=16\r\n```\r\nTotal: 9+10+6+10+4+3+7+1+5+16=71\r\n\r\n**Edit**\r\n\r\nIf making stack size bigger is not possible to make recursion work, here is the same idea, but without using recursion:\r\n\r\n```java\r\n//This uses inclusive l and exclusive r\r\npublic int program(int[] A) {\r\n  //for every possible l we would store all other call parameters\r\n  //in the deepest call with this l\r\n  int[] r = new int[A.length];\r\n  int[] a = new int[A.length];\r\n  int[] b = new int[A.length];\r\n  r[0] = A.length;\r\n  a[0] = 0;\r\n  b[0] = 0;\r\n  int result = 0;\r\n  for (int l = 0; l &lt; A.length; ++l) {\r\n    //this loop would go down recursive calls to\r\n    //the deepest call with the same l\r\n    while (r[l] - l &gt; 1) {\r\n      int m = findMinIdxInSubArray(A, l, r[l]);\r\n\r\n      //adding to center element\r\n      r[m] = m + 1;\r\n      //everything that was previously added to the result\r\n      //should be stored in a and b\r\n      a[m] = a[l];\r\n      b[m] = b[l] + (m - l + 1) * (r - m);\r\n\r\n      //right recursion step\r\n      r[m + 1] = r[l];\r\n      a[m + 1] = a[l] - A[m] * (m - l + 1);\r\n      b[m + 1] = b[l] + r * A[m] * (m - l + 1);\r\n\r\n      //left recursion step\r\n      r[l] = m;\r\n      a[l] = a[l] + A[m] * (r - m);\r\n      b[l] = b[l] + (1 - l) * A[m] * (r - m)\r\n    }\r\n    result += A[l] * (a[l] * l + b[l]);\r\n  }\r\n```","title":"Find all possible subarrays of an array and sum them","body":"<p>This problem can be solved in O(n log n).</p>\n<p><strong>Basic idea</strong></p>\n<p>In this explanation, a lot of off-by-one errors probably sneaked in, but it does not matter for the idea. Let m be the minimum of the array. Then any subarray that contains m would have m as a minimum, and every other sub-array would be either entirely before or entirely after m. Let <code>n</code> be the number of elements in the array, and let us treat <code>m</code> as an index. Then for every <code>i &lt; m</code> let's count the subarrays that contain i'th element and have m'th element as a minimum. It is exactly <code>i * (n - m)</code>, as there are i possible left edges before i and (n - m) possible edges after m. Each of such arrays would have A[m] as a minimum, and each element with <code>i &lt; m</code> would contribute to the resulting sum with a factor of <code>i * A[m] * (n - m)</code>. For <code>i &gt; m</code> with similar reasoning we would get <code>(n - i) * A[m] * m</code>. Then we would update the array before m and after m recursively and then just loop over to get the result.</p>\n<p>The problem is in the update. To add these <code>i * A[m] * (n - m)</code> to every possible i would result in a quadratic solution. But as one can notice, both sides are linear functions with respect to i, and this is an important property. Let's rewrite the function for the right side as <code>i * -A[m] * m + n * A[m] * m</code>. So we would use <code>a * i + b</code> expression for every index. If we have two linear functions <code>a * i + b</code> and <code>c * i + d</code>, their sum would, obviously, be <code>(a + c) * i + (b + d)</code> - also a linear function. To conclude this optimization we would use a recursive function with two parameters: subarray currently processed and linear function to apply to each element.</p>\n<p>The last problem to solve is finding the minimum in the subarray, but that is known as RMQ problem and can be solved in O(n log n).</p>\n<p><strong>The function</strong></p>\n<p>To speed things up we would not create subarrays, of course, but pass indices. The pseudocode for what we would like to achieve:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//This uses inclusive l and exclusive r\npublic int program(int[] A, int l, int r, int a, int b) {\n  if (r - l == 0) {\n    //array of size 0 can appear in recursive calls\n    //if smallest element is first or last in its subarray\n    return 0;\n  }\n  if (r - l == 1) {\n    //for size one array there exists only one possible subarray\n    //we also need to add the linear function\n    return A[l] * A[l] + A[l] * (a * l + b);\n  }\n  //This is the call to your RMQ data structure\n  int m = findMinIdxInSubArray(A, l, r);\n  int result = 0;\n\n  //to the left function would be (i + 1 - l) * A[m] * (r - m) which expands to\n  //i * A[m] * (r - m) + (1 - l) * A[m] * (r - m)\n  result += program(A, l, i, a + A[m] * (r - m), b + (1 - l) * A[m] * (r - m));\n  \n  //to the right function would be (r - i) * A[m] * (m - l + 1) wich expands to\n  //i * -A[m] * (m - l + 1) + r * A[m] * (m - l + 1)\n  result += program(A, m + 1, r, a - A[m] * (m - l + 1), b + r * A[m] * (m - l + 1));\n\n  //This is the case for the element m itself,\n  //as it is not accounted in the previous calculations\n  //the linear function also needs to be accounted here\n  result += A[m] * (m - l + 1) * (r - m) + A[m] * (a * m + b);\n  return result;\n}\n</code></pre>\n<p>Now your old function would be written like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int program(int A[], int n) {\n  //initialize your RMQ data structure here\n  return program(A, 0, n, 0, 0);\n}\n</code></pre>\n<p>Note that this implementation lacks the findMinIdxInSubArray function, as i mentioned, any RMQ data structure can be used here. Feel free to use anything from Fenwick tree to sparse table.</p>\n<p><strong>Example</strong>\nTo explain this formulas a little bit better i would trace the execution of this program for an array <code>A={3,2,1,4}</code></p>\n<p>When the function is first called it has subarray from 0 inclusive to 4 not inclusive and no elements are accounted for now. The minimum of this subarray is element 1 at index 2, and m=2 therefore.</p>\n<p>1 is minimum for all subarrays [i,j] such that <code>i &lt;= 2</code> and <code>2 &lt;= j</code>.</p>\n<p>For element 4 to the right of 1 it appears in 3 arrays ([0,3], [1,3], [2,3]), and recursive call with function -3 * i + 12 would be called. In this function call it is the array of size one, so we would account for subarray <code>{4}</code> with 16 and as it is index 3, it's linear function value is -3 * 3 + 12 = 3, so we would also add 4 * 3 = 12 to account for the arrays from the first function call.</p>\n<p>For element 1 itself, it appears in 6 arrays ([0,2],[0,3],[1,2],[1,3],[2,2] and [2,3]) and in the last formula would be added as 1 * 3 * 2 as expected, contributing 6 to the total sum.</p>\n<p>Now for the harder array to the left. Element 3 appears in exactly 2 such arrays ([0,2] and [0,3]) and would contribute with a factor of 2 (2 arrays multiplied by minimum value 1 each) and element 2 appears in exactly 4 such arrays([0,2], [0,3], [1,2] and [1,3]). For these two elements, we would call a program with a linear function of 2*i+2, which, as one can see, matches their contribution.</p>\n<p>In this recursive call, we would find that 2 at index 1 is the smallest element.\nTo the right of it, there are no elements, so the recursive call would return 0. 2 itself appears in two subarrays ([0,1] and [1,1]) and from them, it would contribute 8 (2 arrays value 2 in sum and 2 is minimum) to the total sum. But linear function mentions that we should also add 2<em>1+1=4 array</em>minimums from the previous levels, which matches our computations previously with the contribution of 8. So for 2, we would add a total of 16 in this iteration.</p>\n<p>To the left of the two, there is only one element, it is three, it appears in only one array, so its contribution factor should increase by 2 (one array, but minimum is two). The function passed recursively would be <code>(2*i+2) + (2*i+2) = (4*i+4)</code>. When we would process the subarray of one element 3 we would add contribution of 9 from the subarray <code>{3}</code> and another 3*(4*0+4) to account for arrays on previous levels, and total contribution would be another 21.</p>\n<p>Therefore, recursive function would yield a sum of 21+16+6+28=71. Now lets validate this result by hand:</p>\n<pre><code>{3} - min=3, sum=3, min*sum=9\n{3,2} - min=2, sum=5, min*sum=10\n{3,2,1} - min=1, sum=6, min*sum=6\n{3,2,1,4} - min=1, sum=10, min*sum=10\n{2} - min=2, sum=2, min*sum=4\n{2,1} - min=1, sum=3, min*sum=3\n{2,1,4} - min=1, sum=7, min*sum=7\n{1} - min=1, sum=1, min*sum=1\n{1,4} - min=1, sum=5, min*sum=5\n{4} - min=4, sum=4, min*sum=16\n</code></pre>\n<p>Total: 9+10+6+10+4+3+7+1+5+16=71</p>\n<p><strong>Edit</strong></p>\n<p>If making stack size bigger is not possible to make recursion work, here is the same idea, but without using recursion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//This uses inclusive l and exclusive r\npublic int program(int[] A) {\n  //for every possible l we would store all other call parameters\n  //in the deepest call with this l\n  int[] r = new int[A.length];\n  int[] a = new int[A.length];\n  int[] b = new int[A.length];\n  r[0] = A.length;\n  a[0] = 0;\n  b[0] = 0;\n  int result = 0;\n  for (int l = 0; l &lt; A.length; ++l) {\n    //this loop would go down recursive calls to\n    //the deepest call with the same l\n    while (r[l] - l &gt; 1) {\n      int m = findMinIdxInSubArray(A, l, r[l]);\n\n      //adding to center element\n      r[m] = m + 1;\n      //everything that was previously added to the result\n      //should be stored in a and b\n      a[m] = a[l];\n      b[m] = b[l] + (m - l + 1) * (r - m);\n\n      //right recursion step\n      r[m + 1] = r[l];\n      a[m + 1] = a[l] - A[m] * (m - l + 1);\n      b[m + 1] = b[l] + r * A[m] * (m - l + 1);\n\n      //left recursion step\n      r[l] = m;\n      a[l] = a[l] + A[m] * (r - m);\n      b[l] = b[l] + (1 - l) * A[m] * (r - m)\n    }\n    result += A[l] * (a[l] * l + b[l]);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"score":0,"creation_date":1644619341,"post_id":71075842,"comment_id":125663663,"body_markdown":"I tried this approach, but it passed 6 test cases out of 15. Remaining failed with wrong answer, there were no time out errors. I added the ranges for my input to post now. please check.","body":"I tried this approach, but it passed 6 test cases out of 15. Remaining failed with wrong answer, there were no time out errors. I added the ranges for my input to post now. please check."},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1644625354,"post_id":71075842,"comment_id":125664801,"body_markdown":"@Chaitanya Do you know any specific failing testcases? The only explanation I can think of is the answer overflowed a `long`; I can probably avoid this by using a larger integer and taking moduli in every loop iteration. Try testing the updated code?","body":"@Chaitanya Do you know any specific failing testcases? The only explanation I can think of is the answer overflowed a <code>long</code>; I can probably avoid this by using a larger integer and taking moduli in every loop iteration. Try testing the updated code?"},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1644627679,"post_id":71075842,"comment_id":125665134,"body_markdown":"@Chaitanya Actually, based on the ranges you provided, the individual terms of the sum can be as large as `10^9 * 10^9 * 10^6 == 10^24`, too big for `long`. Do you have access to `java.math.BigInteger` or some other arbitrary-precision integer? If not, this might be difficult to deal with. I ran all my tests on a version of this code that was using arbitrary-precision ints and didn&#39;t see any problem.","body":"@Chaitanya Actually, based on the ranges you provided, the individual terms of the sum can be as large as <code>10^9 * 10^9 * 10^6 == 10^24</code>, too big for <code>long</code>. Do you have access to <code>java.math.BigInteger</code> or some other arbitrary-precision integer? If not, this might be difficult to deal with. I ran all my tests on a version of this code that was using arbitrary-precision ints and didn&#39;t see any problem."}],"tags":[],"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644635018,"creation_date":1644559916,"answer_id":71075842,"question_id":71025724,"body_markdown":"This problem can be solved in `O(n)` time and space.\r\n\r\nThe technique is to use the algorithm for [all nearest smaller values](https://en.wikipedia.org/wiki/All_nearest_smaller_values) to find the largest array whose minimum element is `x`, for all elements `x`. This first step has been asked before as a [separate post](https://stackoverflow.com/a/70371647/16757174); the method and explanations here are partially borrowed from my answer there. \r\n\r\n\r\nTo avoid problems with duplicates, we&#39;ll say that `x` is the minimum element of a subarray when it&#39;s the leftmost minimum, i.e. there is no previous element as small as `x` nor any future element strictly smaller than `x` within its subarray.\r\n\r\n\r\nUsing the algorithm for all nearest smaller values, for each index `i` with `0 &lt;= i &lt; n`, we compute the index of the previous smaller or equal value to `A[i]` (or `-1` if none exists), and the index of the next smaller value to `A[i]` (or `n` if none exists). This is **equivalent to assuming that we&#39;ve prepended `-infinity` and appended `+infinity` to `A`**, so I&#39;ll assume we&#39;ve done so (without actually modifying `A`).\r\n\r\n****\r\n\r\nNow, we have to compute each element&#39;s individual contribution to the total sum. We will break this into two pieces: the contribution of `A[i]` from subarrays whose minimum is located at or left of `i`, and the contribution of `A[i]` from subarrays whose minimum is located strictly after `i`. \r\n\r\n```\r\n 1. For each position i in the array A, \r\n    let M = (m_0, m_1, ... m_r) be the indices of the \r\n    ordered sequence of (weak) minima we see, starting\r\n    with m_0 = -1 and ending at m_r = i.\r\n```\r\n\r\n```\r\nFor example, if \r\nA = (5, 3, 9, 4, 6, 8, 10, 1, 2, 7)\r\n\r\nthen the sequence for A[5]==8 would be:\r\nM = -1, 1, 3, 4, 5\r\n\r\ncorresponding to the minima \r\n-infinity, 3, 4, 6, 8\r\n\r\nseen walking left from A[5]==8.\r\n```\r\n\r\n```\r\n 2. Let C(m_j, i), 1 &lt;= j &lt;= r, be the count of \r\n    subarrays of A that have m_j as their minimum\r\n    and contain A[i]. We can also let D(m_j, i) be\r\n    this count of arrays times the shared minimum\r\n    of the arrays: D(m_j, i) = A[m_j]*C(m_j, i).\r\n```\r\n\r\n```\r\n 3. The contribution of A[i] to the total sum \r\n    from subarrays whose minimum is located \r\n    at or before i is the \r\n    sum over j, 1 &lt;= j &lt;= r, of D(m_j, i)*A[i].\r\n    Note that this sum excludes the \r\n    fake minimum of -infinity\r\n```\r\n\r\n\r\nIf the indices of the `next_smaller` element and `previous_smaller_or_equal` element to `i` have been computed, then\r\n```\r\nC(i, i) = (next_smaller[i] - i) \r\n        * (i - previous_smaller_or_equal[i]).\r\n```\r\n\r\nNow, what I&#39;ve described so far is still an `O(n^2)` algorithm. The trick is that we can compute `C(m_j, i+1)` from `C(m_j, i)`, and that **we don&#39;t need to actually compute the individual values of `C` for previous minima**; only the sum mentioned at the end of (3) in an above code block.\r\n\r\n\r\n```\r\nC(m_j, i+1) = C(m_j, i) - (m_j-m_{j-1}) \r\n                     if A[i+1] &gt;= A[m_j], and\r\n\r\n            = 0 \r\n                     if A[i+1] &lt; A[m_j].\r\n```\r\n\r\nThis means that the values of our `C` function decrease at a fixed, linear rate **independent of** `i` until we reach a strictly smaller number than `A[m_j]`, at which point the sum contribution from `m_j` has decreased to zero.\r\n\r\nThat suggests that we should keep a (weakly) monotonic stack as we scan through `A`, storing the (weak) minima we&#39;ve seen from left to right together with the fixed linear rate at which its contribution to our `D(m_j, i)` function sum is decreasing. At `A[i]`, we perform the linear decrease to our running sum, pop all elements from the top of the stack that are strictly greater than `A[i]` (also removing their contribution to the running sum&#39;s decrease), add `A[i] * running sum` to our total, and push `A[i]` on top of the stack.\r\n\r\n\r\nSince each element of `A` is added and removed from the stack at most once, this runs in `O(n)` time.\r\n\r\n****\r\n\r\nThe contribution of `A[i]` to the total sum from subarrays whose minimum is located strictly after `i` is computed completely analogously going right-to-left, except we keep a strictly monotonic stack, and don&#39;t count the contribution of `A[i]` from subarrays which have `A[i]` as a minimum; these have already been counted.\r\n\r\n\r\n****\r\n\r\nHere&#39;s the full code in Java. To deal with integer overflow (since individual terms of the sum can be as large as `max(A)**2 * n`, or `10**24` here), I&#39;ve converted all arithmetic to use `BigInteger`. I&#39;m not a Java expert, so there may be a better fix or ways to use arbitrary-precision integers with less overhead.\r\n\r\n```java\r\nimport java.math.BigInteger;\r\nimport java.util.*;\r\n\r\npublic static int sub_sums(int[] A, int n) {\r\n    /* Given an array of integers A, compute the\r\n    sum over all subarrays B of min(B)*sum(B)\r\n    by using nearest smaller values\r\n\r\n    Run-time: O(n), and O(n) extra space\r\n    */\r\n\r\n    ArrayList&lt;BigInteger&gt; nums = new ArrayList&lt;BigInteger&gt;(n);\r\n    for (int i = 0; i &lt; n; i++){\r\n        nums.add(BigInteger.valueOf(A[i]));\r\n    }\r\n\r\n\r\n    BigInteger big_n = BigInteger.valueOf(n);\r\n\r\n    BigInteger MOD = BigInteger.valueOf(7 + 1000_000_000);\r\n\r\n    var previous_smaller_or_equal = new int[n];\r\n    var next_smaller = new int[n];\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        previous_smaller_or_equal[i] = i;\r\n        int j = i-1;\r\n        while (j &gt;= 0 &amp;&amp; A[j] &gt; A[i]){\r\n            j = previous_smaller_or_equal[j];\r\n        }\r\n        previous_smaller_or_equal[i] = j;\r\n    }\r\n\r\n    for (int i = n-1; i &gt;= 0; i--) {\r\n        next_smaller[i] = i;\r\n        int j = i+1;\r\n        while (j &lt; n &amp;&amp; A[j] &gt;= A[i]){\r\n            j = next_smaller[j];\r\n        }\r\n        next_smaller[i] = j;\r\n    }\r\n\r\n    BigInteger total = BigInteger.ZERO;\r\n    BigInteger running_sum = BigInteger.ZERO;\r\n    BigInteger running_sum_decrease = BigInteger.ZERO;\r\n\r\n    var s = new Stack&lt;Integer&gt;();\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n\r\n        // Contributions of this element as minimum\r\n        BigInteger term_1 = BigInteger.valueOf(next_smaller[i] - i);\r\n        BigInteger term_2 = BigInteger.valueOf(i - previous_smaller_or_equal[i]);\r\n\r\n        running_sum = running_sum.add(nums.get(i).multiply(term_1).multiply(term_2));\r\n\r\n        running_sum = running_sum.subtract(running_sum_decrease);\r\n\r\n        while (!s.empty() &amp;&amp; A[s.peek()] &gt; A[i]){\r\n            var last = s.pop();\r\n            BigInteger term_3 = nums.get(last).multiply(BigInteger.valueOf(last- previous_smaller_or_equal[last]));\r\n            running_sum_decrease = running_sum_decrease.subtract(term_3);\r\n        }\r\n\r\n        total = total.add(nums.get(i).multiply(running_sum));\r\n\r\n        running_sum_decrease = running_sum_decrease.add(term_2.multiply(nums.get(i)));\r\n\r\n        s.push(i);\r\n    }\r\n\r\n    s.clear();\r\n    running_sum = BigInteger.ZERO;\r\n    running_sum_decrease = BigInteger.ZERO;\r\n\r\n    for (int i = n-1; i &gt;= 0; i--) {\r\n\r\n        running_sum = running_sum.subtract(running_sum_decrease);\r\n        total = total.add(nums.get(i).multiply(running_sum));\r\n\r\n        // Contributions of this element as minimum\r\n        // Added afterwards now, since forward-pass already counted once\r\n\r\n        BigInteger term_1 = BigInteger.valueOf(next_smaller[i] - i);\r\n        BigInteger term_2 = BigInteger.valueOf(i - previous_smaller_or_equal[i]);\r\n\r\n        running_sum = running_sum.add(nums.get(i).multiply(term_1).multiply(term_2));\r\n\r\n        while (!s.empty() &amp;&amp; A[s.peek()] &gt;= A[i]){\r\n            var last = s.pop();\r\n            BigInteger term_3 = nums.get(last).multiply(BigInteger.valueOf(next_smaller[last]- last));\r\n            running_sum_decrease = running_sum_decrease.subtract(term_3);\r\n        }\r\n\r\n        running_sum_decrease = running_sum_decrease.add(term_1.multiply(nums.get(i)));\r\n\r\n        s.push(i);\r\n    }\r\n\r\n    return (total.mod(MOD)).intValue();\r\n}\r\n```\r\n\r\nExample usage:\r\n```java\r\nint[] d = {1, 2, 3};\r\nSystem.out.println(sub_sums(d, 3));  // Returns 33\r\nint[] c = {3, 2, 1, 4};\r\nSystem.out.println(sub_sums(c, 4));  // Returns 71\r\n```","title":"Find all possible subarrays of an array and sum them","body":"<p>This problem can be solved in <code>O(n)</code> time and space.</p>\n<p>The technique is to use the algorithm for <a href=\"https://en.wikipedia.org/wiki/All_nearest_smaller_values\" rel=\"nofollow noreferrer\">all nearest smaller values</a> to find the largest array whose minimum element is <code>x</code>, for all elements <code>x</code>. This first step has been asked before as a <a href=\"https://stackoverflow.com/a/70371647/16757174\">separate post</a>; the method and explanations here are partially borrowed from my answer there.</p>\n<p>To avoid problems with duplicates, we'll say that <code>x</code> is the minimum element of a subarray when it's the leftmost minimum, i.e. there is no previous element as small as <code>x</code> nor any future element strictly smaller than <code>x</code> within its subarray.</p>\n<p>Using the algorithm for all nearest smaller values, for each index <code>i</code> with <code>0 &lt;= i &lt; n</code>, we compute the index of the previous smaller or equal value to <code>A[i]</code> (or <code>-1</code> if none exists), and the index of the next smaller value to <code>A[i]</code> (or <code>n</code> if none exists). This is <strong>equivalent to assuming that we've prepended <code>-infinity</code> and appended <code>+infinity</code> to <code>A</code></strong>, so I'll assume we've done so (without actually modifying <code>A</code>).</p>\n<hr />\n<p>Now, we have to compute each element's individual contribution to the total sum. We will break this into two pieces: the contribution of <code>A[i]</code> from subarrays whose minimum is located at or left of <code>i</code>, and the contribution of <code>A[i]</code> from subarrays whose minimum is located strictly after <code>i</code>.</p>\n<pre><code> 1. For each position i in the array A, \n    let M = (m_0, m_1, ... m_r) be the indices of the \n    ordered sequence of (weak) minima we see, starting\n    with m_0 = -1 and ending at m_r = i.\n</code></pre>\n<pre><code>For example, if \nA = (5, 3, 9, 4, 6, 8, 10, 1, 2, 7)\n\nthen the sequence for A[5]==8 would be:\nM = -1, 1, 3, 4, 5\n\ncorresponding to the minima \n-infinity, 3, 4, 6, 8\n\nseen walking left from A[5]==8.\n</code></pre>\n<pre><code> 2. Let C(m_j, i), 1 &lt;= j &lt;= r, be the count of \n    subarrays of A that have m_j as their minimum\n    and contain A[i]. We can also let D(m_j, i) be\n    this count of arrays times the shared minimum\n    of the arrays: D(m_j, i) = A[m_j]*C(m_j, i).\n</code></pre>\n<pre><code> 3. The contribution of A[i] to the total sum \n    from subarrays whose minimum is located \n    at or before i is the \n    sum over j, 1 &lt;= j &lt;= r, of D(m_j, i)*A[i].\n    Note that this sum excludes the \n    fake minimum of -infinity\n</code></pre>\n<p>If the indices of the <code>next_smaller</code> element and <code>previous_smaller_or_equal</code> element to <code>i</code> have been computed, then</p>\n<pre><code>C(i, i) = (next_smaller[i] - i) \n        * (i - previous_smaller_or_equal[i]).\n</code></pre>\n<p>Now, what I've described so far is still an <code>O(n^2)</code> algorithm. The trick is that we can compute <code>C(m_j, i+1)</code> from <code>C(m_j, i)</code>, and that <strong>we don't need to actually compute the individual values of <code>C</code> for previous minima</strong>; only the sum mentioned at the end of (3) in an above code block.</p>\n<pre><code>C(m_j, i+1) = C(m_j, i) - (m_j-m_{j-1}) \n                     if A[i+1] &gt;= A[m_j], and\n\n            = 0 \n                     if A[i+1] &lt; A[m_j].\n</code></pre>\n<p>This means that the values of our <code>C</code> function decrease at a fixed, linear rate <strong>independent of</strong> <code>i</code> until we reach a strictly smaller number than <code>A[m_j]</code>, at which point the sum contribution from <code>m_j</code> has decreased to zero.</p>\n<p>That suggests that we should keep a (weakly) monotonic stack as we scan through <code>A</code>, storing the (weak) minima we've seen from left to right together with the fixed linear rate at which its contribution to our <code>D(m_j, i)</code> function sum is decreasing. At <code>A[i]</code>, we perform the linear decrease to our running sum, pop all elements from the top of the stack that are strictly greater than <code>A[i]</code> (also removing their contribution to the running sum's decrease), add <code>A[i] * running sum</code> to our total, and push <code>A[i]</code> on top of the stack.</p>\n<p>Since each element of <code>A</code> is added and removed from the stack at most once, this runs in <code>O(n)</code> time.</p>\n<hr />\n<p>The contribution of <code>A[i]</code> to the total sum from subarrays whose minimum is located strictly after <code>i</code> is computed completely analogously going right-to-left, except we keep a strictly monotonic stack, and don't count the contribution of <code>A[i]</code> from subarrays which have <code>A[i]</code> as a minimum; these have already been counted.</p>\n<hr />\n<p>Here's the full code in Java. To deal with integer overflow (since individual terms of the sum can be as large as <code>max(A)**2 * n</code>, or <code>10**24</code> here), I've converted all arithmetic to use <code>BigInteger</code>. I'm not a Java expert, so there may be a better fix or ways to use arbitrary-precision integers with less overhead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\nimport java.util.*;\n\npublic static int sub_sums(int[] A, int n) {\n    /* Given an array of integers A, compute the\n    sum over all subarrays B of min(B)*sum(B)\n    by using nearest smaller values\n\n    Run-time: O(n), and O(n) extra space\n    */\n\n    ArrayList&lt;BigInteger&gt; nums = new ArrayList&lt;BigInteger&gt;(n);\n    for (int i = 0; i &lt; n; i++){\n        nums.add(BigInteger.valueOf(A[i]));\n    }\n\n\n    BigInteger big_n = BigInteger.valueOf(n);\n\n    BigInteger MOD = BigInteger.valueOf(7 + 1000_000_000);\n\n    var previous_smaller_or_equal = new int[n];\n    var next_smaller = new int[n];\n\n    for (int i = 0; i &lt; n; i++) {\n        previous_smaller_or_equal[i] = i;\n        int j = i-1;\n        while (j &gt;= 0 &amp;&amp; A[j] &gt; A[i]){\n            j = previous_smaller_or_equal[j];\n        }\n        previous_smaller_or_equal[i] = j;\n    }\n\n    for (int i = n-1; i &gt;= 0; i--) {\n        next_smaller[i] = i;\n        int j = i+1;\n        while (j &lt; n &amp;&amp; A[j] &gt;= A[i]){\n            j = next_smaller[j];\n        }\n        next_smaller[i] = j;\n    }\n\n    BigInteger total = BigInteger.ZERO;\n    BigInteger running_sum = BigInteger.ZERO;\n    BigInteger running_sum_decrease = BigInteger.ZERO;\n\n    var s = new Stack&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; n; i++) {\n\n        // Contributions of this element as minimum\n        BigInteger term_1 = BigInteger.valueOf(next_smaller[i] - i);\n        BigInteger term_2 = BigInteger.valueOf(i - previous_smaller_or_equal[i]);\n\n        running_sum = running_sum.add(nums.get(i).multiply(term_1).multiply(term_2));\n\n        running_sum = running_sum.subtract(running_sum_decrease);\n\n        while (!s.empty() &amp;&amp; A[s.peek()] &gt; A[i]){\n            var last = s.pop();\n            BigInteger term_3 = nums.get(last).multiply(BigInteger.valueOf(last- previous_smaller_or_equal[last]));\n            running_sum_decrease = running_sum_decrease.subtract(term_3);\n        }\n\n        total = total.add(nums.get(i).multiply(running_sum));\n\n        running_sum_decrease = running_sum_decrease.add(term_2.multiply(nums.get(i)));\n\n        s.push(i);\n    }\n\n    s.clear();\n    running_sum = BigInteger.ZERO;\n    running_sum_decrease = BigInteger.ZERO;\n\n    for (int i = n-1; i &gt;= 0; i--) {\n\n        running_sum = running_sum.subtract(running_sum_decrease);\n        total = total.add(nums.get(i).multiply(running_sum));\n\n        // Contributions of this element as minimum\n        // Added afterwards now, since forward-pass already counted once\n\n        BigInteger term_1 = BigInteger.valueOf(next_smaller[i] - i);\n        BigInteger term_2 = BigInteger.valueOf(i - previous_smaller_or_equal[i]);\n\n        running_sum = running_sum.add(nums.get(i).multiply(term_1).multiply(term_2));\n\n        while (!s.empty() &amp;&amp; A[s.peek()] &gt;= A[i]){\n            var last = s.pop();\n            BigInteger term_3 = nums.get(last).multiply(BigInteger.valueOf(next_smaller[last]- last));\n            running_sum_decrease = running_sum_decrease.subtract(term_3);\n        }\n\n        running_sum_decrease = running_sum_decrease.add(term_1.multiply(nums.get(i)));\n\n        s.push(i);\n    }\n\n    return (total.mod(MOD)).intValue();\n}\n</code></pre>\n<p>Example usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] d = {1, 2, 3};\nSystem.out.println(sub_sums(d, 3));  // Returns 33\nint[] c = {3, 2, 1, 4};\nSystem.out.println(sub_sums(c, 4));  // Returns 71\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1645043366,"post_id":71143103,"comment_id":125768892,"body_markdown":"Isn&#39;t this still `O(n^2)` time?","body":"Isn&#39;t this still <code>O(n^2)</code> time?"}],"tags":[],"owner":{"account_id":24276143,"reputation":31,"user_id":18223427,"display_name":"pryakks"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645019499,"creation_date":1645019499,"answer_id":71143103,"question_id":71025724,"body_markdown":"you can try using recursion.\r\n````\r\nint[] array = {1,2,3};\r\nint maxSum = totalOfSubArray(array, 0, 0);\r\n````\r\n````\r\n\tprivate static int totalOfSubArray(int[] arr, int currentIndex, int maxSum) {\r\n\t\tint currentSum = 0;\r\n\r\n\t\tif (currentIndex == arr.length) {\r\n\t\t\tSystem.out.println(&quot;final total: &quot; + maxSum);\r\n\t\t\treturn maxSum;\r\n\t\t}\r\n\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor (int i = currentIndex; i &lt; arr.length; i++) {\r\n\t\t\tresult += arr[i];\r\n\t\t\tcurrentSum += arr[i];\r\n\t\t\tint min = Math.min(arr[currentIndex], arr[i]);\r\n\t\t\tmaxSum += min * currentSum;\r\n\t\t\tSystem.out.println(&quot;[&quot; + result + &quot;]  min : &quot; + min + &quot; currentSum: &quot; + currentSum + &quot; maxSum: &quot; + maxSum);\r\n\t\t}\r\n\r\n\t\treturn totalOfSubArray(arr, currentIndex + 1, maxSum);\r\n\t}\r\n\r\n````","title":"Find all possible subarrays of an array and sum them","body":"<p>you can try using recursion.</p>\n<pre><code>int[] array = {1,2,3};\nint maxSum = totalOfSubArray(array, 0, 0);\n</code></pre>\n<pre><code>    private static int totalOfSubArray(int[] arr, int currentIndex, int maxSum) {\n        int currentSum = 0;\n\n        if (currentIndex == arr.length) {\n            System.out.println(&quot;final total: &quot; + maxSum);\n            return maxSum;\n        }\n\n        String result = &quot;&quot;;\n        for (int i = currentIndex; i &lt; arr.length; i++) {\n            result += arr[i];\n            currentSum += arr[i];\n            int min = Math.min(arr[currentIndex], arr[i]);\n            maxSum += min * currentSum;\n            System.out.println(&quot;[&quot; + result + &quot;]  min : &quot; + min + &quot; currentSum: &quot; + currentSum + &quot; maxSum: &quot; + maxSum);\n        }\n\n        return totalOfSubArray(arr, currentIndex + 1, maxSum);\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29468775,"reputation":3,"user_id":22581777,"display_name":"Poorn Pragya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696400023,"creation_date":1696400023,"answer_id":77227165,"question_id":71025724,"body_markdown":"This can be solved in O(n) time and O(n) space. Idea is to find all subarrays such that A[i] is minimum element.\r\n\r\n    private static final int M = (int) 1e9 + 7;\r\n\r\n    public static int solve(int[] A) {\r\n        int n = A.length;\r\n        long[] ps = prefixOfPrefixSum(A);\r\n        int[] left = leftSmaller(A);\r\n        int[] right = rightSmaller(A);\r\n        long res = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int l = left[i];\r\n            int r = right[i];\r\n            long t1 = (i - l) * (ps[r] - ps[i]) % M + M;\r\n            long t2 = (r - i) * (ps[i] - ps[Math.max(l, 0)]) % M;\r\n            res += ((t1 - t2) * A[i]) % M;\r\n            res %= M;\r\n        }\r\n        return (int) res;\r\n    }\r\n\r\n    private static int[] leftSmaller(int[] A) {\r\n        int n = A.length;\r\n        int[] res = new int[n];\r\n        Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            while (!st.isEmpty() &amp;&amp; A[st.peek()] &gt;= A[i]) {\r\n                st.pop();\r\n            }\r\n            res[i] = st.isEmpty() ? -1 : st.peek();\r\n            st.push(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static int[] rightSmaller(int[] A) {\r\n        int n = A.length;\r\n        int[] res = new int[n];\r\n        Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\r\n        for (int i = n - 1; i &gt;= 0; i--) {\r\n            while (!st.isEmpty() &amp;&amp; A[st.peek()] &gt; A[i]) {\r\n                st.pop();\r\n            }\r\n            res[i] = st.isEmpty() ? n : st.peek();\r\n            st.push(i);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    private static long[] prefixOfPrefixSum(int[] A) {\r\n        int n = A.length;\r\n        long[] temp = new long[n + 1];\r\n        long[] res = new long[n + 1];\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            temp[i] = (temp[i - 1] + A[i - 1]) % M;\r\n            temp[i] %= M;\r\n        }\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            res[i] = (res[i - 1] + temp[i]) % M;\r\n            res[i] %= M;\r\n        }\r\n        return res;\r\n    }","title":"Find all possible subarrays of an array and sum them","body":"<p>This can be solved in O(n) time and O(n) space. Idea is to find all subarrays such that A[i] is minimum element.</p>\n<pre><code>private static final int M = (int) 1e9 + 7;\n\npublic static int solve(int[] A) {\n    int n = A.length;\n    long[] ps = prefixOfPrefixSum(A);\n    int[] left = leftSmaller(A);\n    int[] right = rightSmaller(A);\n    long res = 0;\n    for (int i = 0; i &lt; n; i++) {\n        int l = left[i];\n        int r = right[i];\n        long t1 = (i - l) * (ps[r] - ps[i]) % M + M;\n        long t2 = (r - i) * (ps[i] - ps[Math.max(l, 0)]) % M;\n        res += ((t1 - t2) * A[i]) % M;\n        res %= M;\n    }\n    return (int) res;\n}\n\nprivate static int[] leftSmaller(int[] A) {\n    int n = A.length;\n    int[] res = new int[n];\n    Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        while (!st.isEmpty() &amp;&amp; A[st.peek()] &gt;= A[i]) {\n            st.pop();\n        }\n        res[i] = st.isEmpty() ? -1 : st.peek();\n        st.push(i);\n    }\n    return res;\n}\n\nprivate static int[] rightSmaller(int[] A) {\n    int n = A.length;\n    int[] res = new int[n];\n    Stack&lt;Integer&gt; st = new Stack&lt;&gt;();\n    for (int i = n - 1; i &gt;= 0; i--) {\n        while (!st.isEmpty() &amp;&amp; A[st.peek()] &gt; A[i]) {\n            st.pop();\n        }\n        res[i] = st.isEmpty() ? n : st.peek();\n        st.push(i);\n    }\n    return res;\n}\n\nprivate static long[] prefixOfPrefixSum(int[] A) {\n    int n = A.length;\n    long[] temp = new long[n + 1];\n    long[] res = new long[n + 1];\n    for (int i = 1; i &lt;= n; i++) {\n        temp[i] = (temp[i - 1] + A[i - 1]) % M;\n        temp[i] %= M;\n    }\n    for (int i = 1; i &lt;= n; i++) {\n        res[i] = (res[i - 1] + temp[i]) % M;\n        res[i] %= M;\n    }\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2246,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1696400023,"creation_date":1644269842,"question_id":71025724,"body_markdown":"Let&#39;s suppose the array is `A={1,2,3}` , now get all subarrays for this array. For each sub-array find the minimum in that sub-array, also find the sum of items in that sub-array. Finally add all these values. The input cannot be sorted as I want all possible subarrays.\r\n\r\n**Example:**\r\n\r\nPossible sub-arrays are:\r\n\r\n    {1} - min = 1, sum = 1 =&gt; min* sum = 1\r\n    {1,2} - min = 1, sum = 3 =&gt; min* sum = 3\r\n    {1,2,3} - min = 1, sum = 6 =&gt; min* sum = 6\r\n    {2} - min = 2, sum = 2 =&gt; min* sum = 4\r\n    {2,3} - min = 2, sum = 5 =&gt; min* sum = 10\r\n    {3} - min = 3, sum = 3 =&gt; min* sum = 9\r\n\r\nFinally add all these values to get the result = 1 + 3 + 6 + 4 + 10 + 9 = 33.\r\n\r\n**constraints:** array elements can range from 1 to 1000_000_000. Array size from 1 to 100_000. Return output as module 7+1000_000_000.\r\n\r\nHere is my program with O(n^2). I want a better algorithm with lesser time complexity.\r\n\r\n    public int program(int[] A, int n) {\r\n        int M = 7 + 1000_000_000;\r\n        long total = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            long sum = 0;\r\n            int min = A[i];\r\n            for (int j = i; j &lt; n; j++) {\r\n                int a = A[j];\r\n                sum= (sum + a) % M;\r\n                min = Math.min(min, a);\r\n                total = (total + (min * sum) % M) % M;\r\n            }\r\n        }\r\n        return (int) total;\r\n    }\r\n\r\n**Input range:**\r\n\r\n    n range is 1 to 10^6\r\n    elements in array range is 1 to 10^9","title":"Find all possible subarrays of an array and sum them","body":"<p>Let's suppose the array is <code>A={1,2,3}</code> , now get all subarrays for this array. For each sub-array find the minimum in that sub-array, also find the sum of items in that sub-array. Finally add all these values. The input cannot be sorted as I want all possible subarrays.</p>\n<p><strong>Example:</strong></p>\n<p>Possible sub-arrays are:</p>\n<pre><code>{1} - min = 1, sum = 1 =&gt; min* sum = 1\n{1,2} - min = 1, sum = 3 =&gt; min* sum = 3\n{1,2,3} - min = 1, sum = 6 =&gt; min* sum = 6\n{2} - min = 2, sum = 2 =&gt; min* sum = 4\n{2,3} - min = 2, sum = 5 =&gt; min* sum = 10\n{3} - min = 3, sum = 3 =&gt; min* sum = 9\n</code></pre>\n<p>Finally add all these values to get the result = 1 + 3 + 6 + 4 + 10 + 9 = 33.</p>\n<p><strong>constraints:</strong> array elements can range from 1 to 1000_000_000. Array size from 1 to 100_000. Return output as module 7+1000_000_000.</p>\n<p>Here is my program with O(n^2). I want a better algorithm with lesser time complexity.</p>\n<pre><code>public int program(int[] A, int n) {\n    int M = 7 + 1000_000_000;\n    long total = 0;\n    for (int i = 0; i &lt; n; i++) {\n        long sum = 0;\n        int min = A[i];\n        for (int j = i; j &lt; n; j++) {\n            int a = A[j];\n            sum= (sum + a) % M;\n            min = Math.min(min, a);\n            total = (total + (min * sum) % M) % M;\n        }\n    }\n    return (int) total;\n}\n</code></pre>\n<p><strong>Input range:</strong></p>\n<pre><code>n range is 1 to 10^6\nelements in array range is 1 to 10^9\n</code></pre>\n"},{"tags":["java","r","xgboost","pmml"],"answers":[{"tags":[],"owner":{"account_id":2023228,"reputation":4703,"user_id":1808924,"display_name":"user1808924"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696399844,"creation_date":1696394654,"answer_id":77226814,"question_id":77225550,"body_markdown":"Your Java setup is definitely messy. Here&#39;s how to clean it up:\r\n\r\n 1. Install a LTS-version of JDK - one of 8, 11 or 17. The Java &quot;configuration&quot; should be JDK (complete toolset) not JRE (incomplete toolset).\r\n 2. There is no need for installing the `rJava` package.\r\n 3. Export the location of the installed JDK as `JAVA_HOME` environment variable (GNU/Linux style; see Windows documentation for Windows style): `export JAVA_HOME=/opt/jdk-11/`.\r\n 4. Append the `bin` directory of the newly exported `JAVA_HOME` env-var to the `PATH` environment variable (again, the following uses GNU/Linux style): `export PATH=$PATH:$JAVA_HOME/bin/`.\r\n 5. Push/Re-apply env-var changes on the system level. When you open a new terminal window and type `java --version` into it, it should print out the exact version string of your JDK 11.\r\n 6. Congrats, the `r2pmml` package works fine now, no need for additional R level changes!\r\n\r\nYou may also invoke the `r2pmml::r2pmml()` utility function with the `verbose = TRUE` flag on. This will print out the exact command-line sequence, which you can re-try one by one on a new terminal window and see where the original misconfiguration error resided.","title":"Java executable error with r2pmml when converting XGBoost model","body":"<p>Your Java setup is definitely messy. Here's how to clean it up:</p>\n<ol>\n<li>Install a LTS-version of JDK - one of 8, 11 or 17. The Java &quot;configuration&quot; should be JDK (complete toolset) not JRE (incomplete toolset).</li>\n<li>There is no need for installing the <code>rJava</code> package.</li>\n<li>Export the location of the installed JDK as <code>JAVA_HOME</code> environment variable (GNU/Linux style; see Windows documentation for Windows style): <code>export JAVA_HOME=/opt/jdk-11/</code>.</li>\n<li>Append the <code>bin</code> directory of the newly exported <code>JAVA_HOME</code> env-var to the <code>PATH</code> environment variable (again, the following uses GNU/Linux style): <code>export PATH=$PATH:$JAVA_HOME/bin/</code>.</li>\n<li>Push/Re-apply env-var changes on the system level. When you open a new terminal window and type <code>java --version</code> into it, it should print out the exact version string of your JDK 11.</li>\n<li>Congrats, the <code>r2pmml</code> package works fine now, no need for additional R level changes!</li>\n</ol>\n<p>You may also invoke the <code>r2pmml::r2pmml()</code> utility function with the <code>verbose = TRUE</code> flag on. This will print out the exact command-line sequence, which you can re-try one by one on a new terminal window and see where the original misconfiguration error resided.</p>\n"}],"owner":{"account_id":8327372,"reputation":120,"user_id":6272728,"display_name":"anubhuti mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696399844,"creation_date":1696367660,"question_id":77225550,"body_markdown":"I am trying to export an xgboost model from R to PMML. This PMML model will be integrated into a Java-based electronic medical record (EMR) system. I have tried everything and keep getting the following error:\r\n\r\n    Error in .convert(tempfile, file, converter, converter_classpath, verbose): Java is not installed, or the Java executable is not on system path (error code 127)\r\n\r\nI am working with Windows 10, 64-bit machine, and have tried the following:\r\n\r\n 1. Installing jdk-21 and jre-1.8 and adding them to environment variables path\r\n 2. Install rJava after installing the above Java programs\r\n 3. Installing `r2pmml` from source to get the latest version; updated R to the latest version\r\n 4. Updated JAVA_HOME in R to point to jre-1.8\r\n\r\nI am not even able to replicate this example from the `r2pmml` documentation. I get the same Java error as above:\r\n\r\n    library(&quot;xgboost&quot;)\r\n    library(&quot;r2pmml&quot;)\r\n    data(iris)\r\n    iris_X = iris[, -ncol(iris)]\r\n    iris_y = iris[, ncol(iris)]\r\n    # Convert from factor to integer[0, num_class]\r\n    iris_y = (as.integer(iris_y) - 1)\r\n    iris.matrix = model.matrix(~ . - 1, data = iris_X)\r\n    iris.DMatrix = xgb.DMatrix(iris.matrix, label = iris_y)\r\n    iris.fmap = as.fmap(iris.matrix)\r\n    iris.xgboost = xgboost(data = iris.DMatrix,\r\n    objective = &quot;multi:softprob&quot;, num_class = 3, nrounds = 11)\r\n    iris.xgboost = decorate(iris.xgboost, iris.fmap,\r\n    response_name = &quot;Species&quot;, response_levels = c(&quot;setosa&quot;, &quot;versicolor&quot;, &quot;virginica&quot;))\r\n    pmmlFile = file.path(tempdir(), &quot;Iris-XGBoost.pmml&quot;)\r\n    r2pmml(iris.xgboost, pmmlFile, compact = FALSE)\r\n    compactPmmlFile = file.path(tempdir(), &quot;Iris-XGBoost-compact.pmml&quot;)\r\n    r2pmml(iris.xgboost, compactPmmlFile, compact = TRUE)","title":"Java executable error with r2pmml when converting XGBoost model","body":"<p>I am trying to export an xgboost model from R to PMML. This PMML model will be integrated into a Java-based electronic medical record (EMR) system. I have tried everything and keep getting the following error:</p>\n<pre><code>Error in .convert(tempfile, file, converter, converter_classpath, verbose): Java is not installed, or the Java executable is not on system path (error code 127)\n</code></pre>\n<p>I am working with Windows 10, 64-bit machine, and have tried the following:</p>\n<ol>\n<li>Installing jdk-21 and jre-1.8 and adding them to environment variables path</li>\n<li>Install rJava after installing the above Java programs</li>\n<li>Installing <code>r2pmml</code> from source to get the latest version; updated R to the latest version</li>\n<li>Updated JAVA_HOME in R to point to jre-1.8</li>\n</ol>\n<p>I am not even able to replicate this example from the <code>r2pmml</code> documentation. I get the same Java error as above:</p>\n<pre><code>library(&quot;xgboost&quot;)\nlibrary(&quot;r2pmml&quot;)\ndata(iris)\niris_X = iris[, -ncol(iris)]\niris_y = iris[, ncol(iris)]\n# Convert from factor to integer[0, num_class]\niris_y = (as.integer(iris_y) - 1)\niris.matrix = model.matrix(~ . - 1, data = iris_X)\niris.DMatrix = xgb.DMatrix(iris.matrix, label = iris_y)\niris.fmap = as.fmap(iris.matrix)\niris.xgboost = xgboost(data = iris.DMatrix,\nobjective = &quot;multi:softprob&quot;, num_class = 3, nrounds = 11)\niris.xgboost = decorate(iris.xgboost, iris.fmap,\nresponse_name = &quot;Species&quot;, response_levels = c(&quot;setosa&quot;, &quot;versicolor&quot;, &quot;virginica&quot;))\npmmlFile = file.path(tempdir(), &quot;Iris-XGBoost.pmml&quot;)\nr2pmml(iris.xgboost, pmmlFile, compact = FALSE)\ncompactPmmlFile = file.path(tempdir(), &quot;Iris-XGBoost-compact.pmml&quot;)\nr2pmml(iris.xgboost, compactPmmlFile, compact = TRUE)\n</code></pre>\n"},{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653661240,"post_id":72406856,"comment_id":127911905,"body_markdown":"After you fix the syntax error, please notice that `state != &quot;California&quot;` [is not how you compare strings](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java).","body":"After you fix the syntax error, please notice that <code>state != &quot;California&quot;</code> <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">is not how you compare strings</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653661311,"post_id":72406856,"comment_id":127911923,"body_markdown":"To fix the syntax error simply do `double shippingCost = 0;` instead of `double shippingCost;` (i.e., give it an initial value. Local variables don&#39;t have a default one unlike class/instance members)","body":"To fix the syntax error simply do <code>double shippingCost = 0;</code> instead of <code>double shippingCost;</code> (i.e., give it an initial value. Local variables don&#39;t have a default one unlike class/instance members)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1653661725,"post_id":72406856,"comment_id":127912086,"body_markdown":"The only time you wouldn&#39;t have to supply a default value is in situations like `#calculateShipping`, where all code paths provide a value to the variable. The one in `#address` needs a default value, as @FedericoklezCulloca pointed out. Also keep in mind that while the variables are named the same, they are distinct between the two methods.","body":"The only time you wouldn&#39;t have to supply a default value is in situations like <code>#calculateShipping</code>, where all code paths provide a value to the variable. The one in <code>#address</code> needs a default value, as @FedericoklezCulloca pointed out. Also keep in mind that while the variables are named the same, they are distinct between the two methods."}],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653662168,"creation_date":1653661709,"answer_id":72406966,"question_id":72406856,"body_markdown":"Try this:\r\n```\r\n// customer address\r\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\r\n     double shippingCost = 0.0f;\r\n     \r\n     \r\n\r\n     // if shipping isn&#39;t california, add 10 to it\r\n     if (!state.equalsIgnoreCase(&quot;California&quot;)){\r\n       shippingCost += 10;\r\n     }     \r\n\r\n   }\r\n```\r\n\r\nNow, further things...\r\n\r\nThe compiler was warning you right, the shipping cost was not initialized. It could have been 0, but that&#39;s not guaranteed (hence the warning), so we initialized it to 0.\r\n\r\nFurthermore, comparing strings with `==` will only compare the addresses, address of your string with the address of the &quot;California&quot; literal from the string pool. These will most likely not match, even if both were `&quot;California&quot;`. When using objects (instances of anything that isn&#39;t a primitive), you should stick to using `.equals()` instead, and re-implement (override) that method in any class where equality needs to be different than just comparing addresses of references.\r\n\r\nadditionally, do try to steer away from shadowing things.\r\nthe `shippingCost` in method `address()` is not the same as `shippingCost` in method `ship()`. Yes, they&#39;re named the same, but they&#39;re both local. However, since your class `Order` doesn&#39;t have a `shippingCost` member, just because they&#39;re named the same doesn&#39;t mean that they represent the same value.\r\n\r\nIn case you added a `shippingCost` to `Order` class, your code would break, just because all these methods have a local `double shippingCost` which shadows the `this.shippingCost` member of the Order class. So do have that in mind as well.","title":"Conditionals and Control flow on Java (codecademy)","body":"<p>Try this:</p>\n<pre><code>// customer address\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\n     double shippingCost = 0.0f;\n     \n     \n\n     // if shipping isn't california, add 10 to it\n     if (!state.equalsIgnoreCase(&quot;California&quot;)){\n       shippingCost += 10;\n     }     \n\n   }\n</code></pre>\n<p>Now, further things...</p>\n<p>The compiler was warning you right, the shipping cost was not initialized. It could have been 0, but that's not guaranteed (hence the warning), so we initialized it to 0.</p>\n<p>Furthermore, comparing strings with <code>==</code> will only compare the addresses, address of your string with the address of the &quot;California&quot; literal from the string pool. These will most likely not match, even if both were <code>&quot;California&quot;</code>. When using objects (instances of anything that isn't a primitive), you should stick to using <code>.equals()</code> instead, and re-implement (override) that method in any class where equality needs to be different than just comparing addresses of references.</p>\n<p>additionally, do try to steer away from shadowing things.\nthe <code>shippingCost</code> in method <code>address()</code> is not the same as <code>shippingCost</code> in method <code>ship()</code>. Yes, they're named the same, but they're both local. However, since your class <code>Order</code> doesn't have a <code>shippingCost</code> member, just because they're named the same doesn't mean that they represent the same value.</p>\n<p>In case you added a <code>shippingCost</code> to <code>Order</code> class, your code would break, just because all these methods have a local <code>double shippingCost</code> which shadows the <code>this.shippingCost</code> member of the Order class. So do have that in mind as well.</p>\n"}],"owner":{"account_id":25398506,"reputation":1,"user_id":19208410,"display_name":"tsriram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696399346,"creation_date":1653661175,"question_id":72406856,"body_markdown":"I&#39;m just starting to learn Java, and I&#39;m stuck on a section in the conditionals and control flow part of Codecademy. \r\n\r\nI&#39;m trying to add a method that manipulates the `shippingCost` variable if shipped outside of &quot;California&quot;. I&#39;m really not sure how to expand on top of that (let me know if there are any questions), but I&#39;m confused as to how to do this, or is it just too advanced for the section I&#39;m on?\r\n\r\nThis is one of my first posts, so if I&#39;m using any features wrong let me know.\r\n\r\n\r\n\r\n```\r\npublic class Order {\r\n  boolean isFilled;\r\n  double billAmount;\r\n  String shipping;\r\n  \r\n  public Order(boolean filled, double cost, String shippingMethod, int zip) {\r\n\t\tif (cost &gt; 24.00) {\r\n      System.out.println(&quot;High value item!&quot;);\r\n    } else {\r\n      System.out.println(&quot;Low value item!&quot;);\r\n    }\r\n    isFilled = filled;\r\n    billAmount = cost;\r\n    shipping = shippingMethod;\r\n  \r\n  }\r\n  \r\n  public void ship() {\r\n    if (isFilled) {\r\n      System.out.println(&quot;Shipping&quot;);\r\n    } else {\r\n      System.out.println(&quot;Order not ready&quot;);\r\n    }\r\n    \r\n    double shippingCost = calculateShipping();\r\n    \r\n    System.out.println(&quot;Shipping cost: &quot;);\r\n    System.out.println(shippingCost);\r\n  }\r\n  \r\n  public double calculateShipping() {\r\n    double shippingCost;\r\n    switch (shipping) {\r\n      case &quot;Regular&quot;:\r\n        shippingCost = 0;\r\n        break;\r\n      case &quot;Express&quot;:    \r\n        shippingCost = 1.75;\r\n        break;\r\n      default:\r\n        shippingCost = .50; \r\n    }\r\n    return shippingCost;\r\n \t}\r\n\r\n// customer address\r\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\r\n     double shippingCost;\r\n     \r\n     \r\n\r\n\r\n     if (state != &quot;California&quot;){\r\n       shippingCost += 10;\r\n     }     \r\n\r\n   }\r\n  \r\n  public static void main(String[] args) {\r\n    // create instances and call methods here!\r\n\r\n  }\r\n}\r\n```\r\n\r\n\r\nFor this, I&#39;m getting this message:\r\n```\r\nOrder.java:54: error: variable shippingCost might not have been initialized\r\n       shippingCost += 10;\r\n       ^\r\n1 error\r\n","title":"Conditionals and Control flow on Java (codecademy)","body":"<p>I'm just starting to learn Java, and I'm stuck on a section in the conditionals and control flow part of Codecademy.</p>\n<p>I'm trying to add a method that manipulates the <code>shippingCost</code> variable if shipped outside of &quot;California&quot;. I'm really not sure how to expand on top of that (let me know if there are any questions), but I'm confused as to how to do this, or is it just too advanced for the section I'm on?</p>\n<p>This is one of my first posts, so if I'm using any features wrong let me know.</p>\n<pre><code>public class Order {\n  boolean isFilled;\n  double billAmount;\n  String shipping;\n  \n  public Order(boolean filled, double cost, String shippingMethod, int zip) {\n        if (cost &gt; 24.00) {\n      System.out.println(&quot;High value item!&quot;);\n    } else {\n      System.out.println(&quot;Low value item!&quot;);\n    }\n    isFilled = filled;\n    billAmount = cost;\n    shipping = shippingMethod;\n  \n  }\n  \n  public void ship() {\n    if (isFilled) {\n      System.out.println(&quot;Shipping&quot;);\n    } else {\n      System.out.println(&quot;Order not ready&quot;);\n    }\n    \n    double shippingCost = calculateShipping();\n    \n    System.out.println(&quot;Shipping cost: &quot;);\n    System.out.println(shippingCost);\n  }\n  \n  public double calculateShipping() {\n    double shippingCost;\n    switch (shipping) {\n      case &quot;Regular&quot;:\n        shippingCost = 0;\n        break;\n      case &quot;Express&quot;:    \n        shippingCost = 1.75;\n        break;\n      default:\n        shippingCost = .50; \n    }\n    return shippingCost;\n    }\n\n// customer address\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\n     double shippingCost;\n     \n     \n\n\n     if (state != &quot;California&quot;){\n       shippingCost += 10;\n     }     \n\n   }\n  \n  public static void main(String[] args) {\n    // create instances and call methods here!\n\n  }\n}\n</code></pre>\n<p>For this, I'm getting this message:</p>\n<pre><code>Order.java:54: error: variable shippingCost might not have been initialized\n       shippingCost += 10;\n       ^\n1 error\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673170402,"creation_date":1673170402,"answer_id":75046719,"question_id":75046668,"body_markdown":"You probably want something like this \r\n\r\n    @Modifying\r\n    @Query(value = &quot;UPDATE Parameter p SET p.name = (CASE &quot; +\r\n                   &quot;WHEN p.id IN (:ids) THEN (CASE &quot; +\r\n                   &quot;WHEN p.id = :ids[0] THEN :names[0] &quot; +\r\n                   &quot;WHEN p.id = :ids[1] THEN :names[1] &quot; +\r\n                   &quot;WHEN p.id = :ids[2] THEN :names[2] &quot; +\r\n                   // ...\r\n                   &quot;ELSE p.name &quot; +\r\n                   &quot;END) &quot; +\r\n                   &quot;ELSE p.name &quot; +\r\n                   &quot;END) &quot; +\r\n                   &quot;WHERE p.id IN (:ids)&quot;, nativeQuery = true)\r\n    void setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\r\n\r\nThis is a bad approach. Don&#39;t try to do that.\r\n\r\nIt&#39;s very bad for large lists, since the query will become very long and very difficult to maintain.\r\nIt does not work if the ids and names lists are not in the same order.\r\nIf you need to update a big number of rows, or if the order of the ids and names lists is not fixed, you might want to consider using a different approach, such as executing a separate update statement for each row or using a temporary table .","title":"Spring JPA repository update multiple entities with a single query","body":"<p>You probably want something like this</p>\n<pre><code>@Modifying\n@Query(value = &quot;UPDATE Parameter p SET p.name = (CASE &quot; +\n               &quot;WHEN p.id IN (:ids) THEN (CASE &quot; +\n               &quot;WHEN p.id = :ids[0] THEN :names[0] &quot; +\n               &quot;WHEN p.id = :ids[1] THEN :names[1] &quot; +\n               &quot;WHEN p.id = :ids[2] THEN :names[2] &quot; +\n               // ...\n               &quot;ELSE p.name &quot; +\n               &quot;END) &quot; +\n               &quot;ELSE p.name &quot; +\n               &quot;END) &quot; +\n               &quot;WHERE p.id IN (:ids)&quot;, nativeQuery = true)\nvoid setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\n</code></pre>\n<p>This is a bad approach. Don't try to do that.</p>\n<p>It's very bad for large lists, since the query will become very long and very difficult to maintain.\nIt does not work if the ids and names lists are not in the same order.\nIf you need to update a big number of rows, or if the order of the ids and names lists is not fixed, you might want to consider using a different approach, such as executing a separate update statement for each row or using a temporary table .</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673175622,"creation_date":1673175622,"answer_id":75047231,"question_id":75046668,"body_markdown":"(Un)fortunately, `spring-data-jpa` functionality is not so flexible as you would like to see, however it does allow to create [Custom Implementations for Spring Data Repositories](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations) and thus you may write any update query you want, some examples:\r\n- https://thorben-janssen.com/composite-repositories-spring-data-jpa/\r\n- https://vladmihalcea.com/custom-spring-data-repository/\r\n- https://www.baeldung.com/spring-data-composable-repositories\r\n\r\nby the way, you need to keep in mind that in general that is not a good idea to update hibernate entities via direct update, the reasoning is following:\r\n- it is not cache friendly - if you are using second level cache, hibernate needs to completely cleanup those cache, cause it has no chance to get know what entities have been updated\r\n- if you are using auditing solution like [envers](https://hibernate.org/orm/envers/), direct update bypasses that solution\r\n\r\nso, sometimes it is much better to enable batch updates and write something like:\r\n\r\n```java\r\n@Transactional\r\ndefault void setNameById(List&lt;Long&gt; ids, List&lt;String&gt; names) {\r\n    Map&lt;Long, Parameter&gt; data = StreamSupport.stream(findAllById(ids).spliterator(), false)\r\n            .collect(Collectors.toMap(\r\n                    Customer::getId,\r\n                    Function.identity()\r\n            ));\r\n    \r\n    for (int i = 0, n = ids.size(); i &lt; n; i++) {\r\n        Parameter parameter = data.get(ids.get(i));\r\n        if (parameter != null) {\r\n            parameter.setName(names.get(i));\r\n        }\r\n    }\r\n\r\n    saveAll(data.values());\r\n}\r\n```","title":"Spring JPA repository update multiple entities with a single query","body":"<p>(Un)fortunately, <code>spring-data-jpa</code> functionality is not so flexible as you would like to see, however it does allow to create <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">Custom Implementations for Spring Data Repositories</a> and thus you may write any update query you want, some examples:</p>\n<ul>\n<li><a href=\"https://thorben-janssen.com/composite-repositories-spring-data-jpa/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/composite-repositories-spring-data-jpa/</a></li>\n<li><a href=\"https://vladmihalcea.com/custom-spring-data-repository/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/custom-spring-data-repository/</a></li>\n<li><a href=\"https://www.baeldung.com/spring-data-composable-repositories\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-composable-repositories</a></li>\n</ul>\n<p>by the way, you need to keep in mind that in general that is not a good idea to update hibernate entities via direct update, the reasoning is following:</p>\n<ul>\n<li>it is not cache friendly - if you are using second level cache, hibernate needs to completely cleanup those cache, cause it has no chance to get know what entities have been updated</li>\n<li>if you are using auditing solution like <a href=\"https://hibernate.org/orm/envers/\" rel=\"nofollow noreferrer\">envers</a>, direct update bypasses that solution</li>\n</ul>\n<p>so, sometimes it is much better to enable batch updates and write something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\ndefault void setNameById(List&lt;Long&gt; ids, List&lt;String&gt; names) {\n    Map&lt;Long, Parameter&gt; data = StreamSupport.stream(findAllById(ids).spliterator(), false)\n            .collect(Collectors.toMap(\n                    Customer::getId,\n                    Function.identity()\n            ));\n    \n    for (int i = 0, n = ids.size(); i &lt; n; i++) {\n        Parameter parameter = data.get(ids.get(i));\n        if (parameter != null) {\n            parameter.setName(names.get(i));\n        }\n    }\n\n    saveAll(data.values());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696399051,"creation_date":1696399051,"answer_id":77227074,"question_id":75046668,"body_markdown":"I know it is old but I will share it anyway.\r\n\r\nPlease check [my post](https://stackoverflow.com/questions/77038282/calling-stored-procedure-with-typed-parameter-from-java-spring-boot-using-proce?noredirect=1#comment135979174_77038282) and my answer after I fought with this issue for long time.\r\n\r\nIt is using hibernate 6.\r\n\r\nThe idea behind it is to create a custom type in the DB having (in your case) long and string - Id, name.\r\n\r\nCreate a UserType to allow hibernate convert your type into db type.\r\n\r\nCreate a stored procedure to update your data in a single statement.\r\n\r\n```\r\n-- db script\r\n\r\nCREATE TYPE YourCustomType AS (\r\n  \tid long,\r\n  \tname varchar(100)\r\n );\r\n\r\nCREATE OR REPLACE PROCEDURE updateBulk(yourData YourCustomType[])  AS $$\r\nBEGIN\r\n   UPDATE Parameter as db\r\n   SET db.name = val.name \r\n   FROM (SELECT * from UNNEST(yourArrayOfData)) as val\r\n   WHERE db.id = val.id\r\nEND;\r\n$$ LANGUAGE &#39;plpgsql&#39;;\r\n```\r\n\r\nafter adding the object in java as in my post + creating a `UserType` + contributing the type + then add this to the repo\r\n\r\n```\r\n@Procedure(value= &quot;update_bulk&quot;)\r\nvoid updateBulk(Yourtype[] data);\r\n```\r\n\r\nHave fun..","title":"Spring JPA repository update multiple entities with a single query","body":"<p>I know it is old but I will share it anyway.</p>\n<p>Please check <a href=\"https://stackoverflow.com/questions/77038282/calling-stored-procedure-with-typed-parameter-from-java-spring-boot-using-proce?noredirect=1#comment135979174_77038282\">my post</a> and my answer after I fought with this issue for long time.</p>\n<p>It is using hibernate 6.</p>\n<p>The idea behind it is to create a custom type in the DB having (in your case) long and string - Id, name.</p>\n<p>Create a UserType to allow hibernate convert your type into db type.</p>\n<p>Create a stored procedure to update your data in a single statement.</p>\n<pre><code>-- db script\n\nCREATE TYPE YourCustomType AS (\n    id long,\n    name varchar(100)\n );\n\nCREATE OR REPLACE PROCEDURE updateBulk(yourData YourCustomType[])  AS $$\nBEGIN\n   UPDATE Parameter as db\n   SET db.name = val.name \n   FROM (SELECT * from UNNEST(yourArrayOfData)) as val\n   WHERE db.id = val.id\nEND;\n$$ LANGUAGE 'plpgsql';\n</code></pre>\n<p>after adding the object in java as in my post + creating a <code>UserType</code> + contributing the type + then add this to the repo</p>\n<pre><code>@Procedure(value= &quot;update_bulk&quot;)\nvoid updateBulk(Yourtype[] data);\n</code></pre>\n<p>Have fun..</p>\n"}],"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75046719,"answer_count":3,"score":0,"last_activity_date":1696399051,"creation_date":1673169830,"question_id":75046668,"body_markdown":"At the moment I have the following code which iterates a list of parameter entities and updates each of their names in the database:\r\n\r\n``` java\r\npublic class test {\r\n\r\n    @Autowired\r\n    private ParameterJpaRepository parameterJpaRepository;\r\n\r\n    public updateParameters(List&lt;Parameter&gt; parameters) {\r\n       for (Parameter parameter : parameters) {\r\n           parameterJpaRepository.setNameById(parameter.getId(), parameter.getName());\r\n       }\r\n    }\r\n}\r\n```\r\n\r\n``` java\r\npublic interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\r\n\r\n    @Modifying\r\n    @Query(&quot;UPDATE Parameter p SET p.name = :name WHERE p.id = :id&quot;)\r\n    void setNameById(@Param(&quot;id&quot;) long id, @Param(&quot;name&quot;) String name);\r\n}\r\n```\r\n\r\nObviously, this results in **N** queries:\r\n``` sql\r\nHibernate: update parameter set name=? where id=?\r\nHibernate: update parameter set name=? where id=?\r\nHibernate: update parameter set name=? where id=?\r\nHibernate: update parameter set name=? where id=?\r\n```\r\n\r\nI would like to combine then into a single query equivalent to this attempt:\r\n``` java\r\npublic interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\r\n\r\n    @Modifying\r\n    @Query(&quot;UPDATE Parameter p SET p.name = (:names) WHERE p.id = (:ids)&quot;)\r\n    void setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\r\n}\r\n```\r\nWhich should yield something like:\r\n``` sql\r\nHibernate: UPDATE parameter\r\n           SET name = (case when id = ? then ?\r\n                            when id = ? then ?\r\n                            when id = ? then ?\r\n                            when id = ? then ?\r\n                       end)\r\n           WHERE id in (?, ?, ?, ?);\r\n```\r\n\r\nIs this possible?","title":"Spring JPA repository update multiple entities with a single query","body":"<p>At the moment I have the following code which iterates a list of parameter entities and updates each of their names in the database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test {\n\n    @Autowired\n    private ParameterJpaRepository parameterJpaRepository;\n\n    public updateParameters(List&lt;Parameter&gt; parameters) {\n       for (Parameter parameter : parameters) {\n           parameterJpaRepository.setNameById(parameter.getId(), parameter.getName());\n       }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\n\n    @Modifying\n    @Query(&quot;UPDATE Parameter p SET p.name = :name WHERE p.id = :id&quot;)\n    void setNameById(@Param(&quot;id&quot;) long id, @Param(&quot;name&quot;) String name);\n}\n</code></pre>\n<p>Obviously, this results in <strong>N</strong> queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: update parameter set name=? where id=?\nHibernate: update parameter set name=? where id=?\nHibernate: update parameter set name=? where id=?\nHibernate: update parameter set name=? where id=?\n</code></pre>\n<p>I would like to combine then into a single query equivalent to this attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\n\n    @Modifying\n    @Query(&quot;UPDATE Parameter p SET p.name = (:names) WHERE p.id = (:ids)&quot;)\n    void setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\n}\n</code></pre>\n<p>Which should yield something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: UPDATE parameter\n           SET name = (case when id = ? then ?\n                            when id = ? then ?\n                            when id = ? then ?\n                            when id = ? then ?\n                       end)\n           WHERE id in (?, ?, ?, ?);\n</code></pre>\n<p>Is this possible?</p>\n"},{"tags":["java","if-statement","equality"],"answers":[{"tags":[],"owner":{"account_id":16370655,"reputation":1878,"user_id":11983046,"display_name":"Ryan Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655052099,"creation_date":1655052099,"answer_id":72594103,"question_id":72594063,"body_markdown":"Well, if-else statements work like this: when any one of the statements are satisfied, the rest of them are ignored. Take yours as an example.\r\n\r\n```\r\nif (guess &lt; numberToGuess) {\r\n    System.out.println(&quot;Higher&quot;);\r\n} else if (guess &gt; numberToGuess) {\r\n    System.out.println(&quot;Lower&quot;);\r\n} else if (i == 5) {\r\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n} else {\r\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n    break;\r\n}\r\n```\r\nEven when `i == 5`, if either of `guess &lt; numberToGuess` or `guess &gt; numberToGuess` are satisfied, the rest of the statements including `(i == 5)` are ignored. \r\n\r\nTo fix this, simply add `i == 5` as the first condition to check, because if `i == 5` is satisfied we shouldn&#39;t be considering the guess anyway. \r\n\r\nI&#39;m also guessing you want to break out of the loop if the game ends, so I added a `break` statement as well.\r\n\r\n```\r\nif (i == 5) {\r\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n    break;\r\n} else if (guess &lt; numberToGuess) {\r\n    System.out.println(&quot;Higher&quot;);\r\n} else if (guess &gt; numberToGuess) {\r\n    System.out.println(&quot;Lower&quot;);\r\n}  else {\r\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n    break;\r\n}\r\n```","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>Well, if-else statements work like this: when any one of the statements are satisfied, the rest of them are ignored. Take yours as an example.</p>\n<pre><code>if (guess &lt; numberToGuess) {\n    System.out.println(&quot;Higher&quot;);\n} else if (guess &gt; numberToGuess) {\n    System.out.println(&quot;Lower&quot;);\n} else if (i == 5) {\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n} else {\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break;\n}\n</code></pre>\n<p>Even when <code>i == 5</code>, if either of <code>guess &lt; numberToGuess</code> or <code>guess &gt; numberToGuess</code> are satisfied, the rest of the statements including <code>(i == 5)</code> are ignored.</p>\n<p>To fix this, simply add <code>i == 5</code> as the first condition to check, because if <code>i == 5</code> is satisfied we shouldn't be considering the guess anyway.</p>\n<p>I'm also guessing you want to break out of the loop if the game ends, so I added a <code>break</code> statement as well.</p>\n<pre><code>if (i == 5) {\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n    break;\n} else if (guess &lt; numberToGuess) {\n    System.out.println(&quot;Higher&quot;);\n} else if (guess &gt; numberToGuess) {\n    System.out.println(&quot;Lower&quot;);\n}  else {\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10484151,"reputation":422,"user_id":7728273,"accept_rate":80,"display_name":"kboskin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655052213,"creation_date":1655052213,"answer_id":72594116,"question_id":72594063,"body_markdown":"So, that appears to be so, because before checking if you are under the right loop condition, there are checks of variables\r\n\r\n    ... \r\n    if (guess &lt; numberToGuess) {\r\n                System.out.println(&quot;Higher&quot;);\r\n            } else if (guess &gt; numberToGuess) {\r\n                    System.out.println(&quot;Lower&quot;);\r\n            } \r\n    ....\r\nWhich are executed. So, to fix the bug, just move your check i == 5 to be the first branching clause. The code should look like next\r\n\r\n    if (i == 5) {\r\n        System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n    } else if (guess &gt; numberToGuess) {\r\n        System.out.println(&quot;Lower&quot;);\r\n    } else if (guess &lt; numberToGuess) {\r\n         System.out.println(&quot;Higher&quot;);\r\n    } else {\r\n        System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n        break;\r\n    }\r\n\r\nThis way you check the loop condition first and input condition after","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>So, that appears to be so, because before checking if you are under the right loop condition, there are checks of variables</p>\n<pre><code>... \nif (guess &lt; numberToGuess) {\n            System.out.println(&quot;Higher&quot;);\n        } else if (guess &gt; numberToGuess) {\n                System.out.println(&quot;Lower&quot;);\n        } \n....\n</code></pre>\n<p>Which are executed. So, to fix the bug, just move your check i == 5 to be the first branching clause. The code should look like next</p>\n<pre><code>if (i == 5) {\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n} else if (guess &gt; numberToGuess) {\n    System.out.println(&quot;Lower&quot;);\n} else if (guess &lt; numberToGuess) {\n     System.out.println(&quot;Higher&quot;);\n} else {\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break;\n}\n</code></pre>\n<p>This way you check the loop condition first and input condition after</p>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655052445,"creation_date":1655052445,"answer_id":72594146,"question_id":72594063,"body_markdown":"That is how `if/else if/else` works, your value will be either lower or higher than the guess, so one for the 2 first condition will be true, then no other will be checked\r\n\r\nSet the stop condition at first\r\n\r\n    int nb_tries = 5;\r\n    for (i = 1; i &lt;= nb_tries; i++) {\r\n        System.out.print(&quot;Attempt: &quot; + i + &quot;/&quot; + nb_tries + &quot; =&gt; &quot;);\r\n        int guess = scanner.nextInt();\r\n\r\n        if (i == nb_tries) {\r\n            System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n        } else if (guess &lt; numberToGuess) {\r\n            System.out.println(&quot;Higher&quot;);\r\n        } else if (guess &gt; numberToGuess) {\r\n            System.out.println(&quot;Lower&quot;);\r\n        } else {\r\n            System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n            break;\r\n        }\r\n    }\r\n\r\n","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>That is how <code>if/else if/else</code> works, your value will be either lower or higher than the guess, so one for the 2 first condition will be true, then no other will be checked</p>\n<p>Set the stop condition at first</p>\n<pre><code>int nb_tries = 5;\nfor (i = 1; i &lt;= nb_tries; i++) {\n    System.out.print(&quot;Attempt: &quot; + i + &quot;/&quot; + nb_tries + &quot; =&gt; &quot;);\n    int guess = scanner.nextInt();\n\n    if (i == nb_tries) {\n        System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n    } else if (guess &lt; numberToGuess) {\n        System.out.println(&quot;Higher&quot;);\n    } else if (guess &gt; numberToGuess) {\n        System.out.println(&quot;Lower&quot;);\n    } else {\n        System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2295385,"reputation":1,"user_id":2016942,"display_name":"user2016942"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696399013,"creation_date":1655053555,"answer_id":72594290,"question_id":72594063,"body_markdown":"The Thumb rule while using if-else statement is **which ever condition\r\nwill satisfied to the earliest**, it will go into that statement and\r\nafter that it will execute the code outside of if-else condition.\r\n\r\nSo in your case Well, if-else statements work like this: when any one\r\nof the statements are satisfied, the rest of them are ignored. Take\r\nyours as an example.\r\n\r\n```lang-java\r\nif (guess &lt; numberToGuess) {\r\n     System.out.println(&quot;Higher&quot;); } else if (guess &gt; numberToGuess) {\r\n     System.out.println(&quot;Lower&quot;); } else if (i == 5) {\r\n     System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess); } else {\r\n     System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n    break; }\r\n```\r\n\r\nEven when i == 5, if either of guess &lt; numberToGuess or guess &gt;\r\nnumberToGuess is satisfied, it will execute either of these instead of\r\ni==5.\r\n**So just think of the logic that you want to give more priority.**","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>The Thumb rule while using if-else statement is <strong>which ever condition\nwill satisfied to the earliest</strong>, it will go into that statement and\nafter that it will execute the code outside of if-else condition.</p>\n<p>So in your case Well, if-else statements work like this: when any one\nof the statements are satisfied, the rest of them are ignored. Take\nyours as an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (guess &lt; numberToGuess) {\n     System.out.println(&quot;Higher&quot;); } else if (guess &gt; numberToGuess) {\n     System.out.println(&quot;Lower&quot;); } else if (i == 5) {\n     System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess); } else {\n     System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break; }\n</code></pre>\n<p>Even when i == 5, if either of guess &lt; numberToGuess or guess &gt;\nnumberToGuess is satisfied, it will execute either of these instead of\ni==5.\n<strong>So just think of the logic that you want to give more priority.</strong></p>\n"}],"owner":{"account_id":21060237,"reputation":3,"user_id":15478774,"display_name":"filocoderist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72594103,"answer_count":4,"score":0,"last_activity_date":1696399013,"creation_date":1655051791,"question_id":72594063,"body_markdown":"I am learning Java and I do not know what makes my code not reading my else-if condition (i == 5)\r\n\r\n    int i;    \r\n    for (i = 1; i &lt;= 5; i++) {\r\n        int guess = scanner.nextInt();\r\n        System.out.println(&quot;Attempt: &quot; + i +&quot;/5&quot;);\r\n        if (guess &lt; numberToGuess) {\r\n            System.out.println(&quot;Higher&quot;);\r\n        } else if (guess &gt; numberToGuess) {\r\n                System.out.println(&quot;Lower&quot;);\r\n        } else if (i == 5) {\r\n            System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n        } else {\r\n            System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n            break;\r\n        }\r\n\r\nwhen i&#39;m running the code and try to fail the game by reaching the maximum number of int i which is 5, the second else if statement should appear but it is not working.\r\n\r\nI just don&#39;t get the reason why it is not reading the (i==5) condition, all of the other conditions are working except that.\r\n\r\n\r\n","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>I am learning Java and I do not know what makes my code not reading my else-if condition (i == 5)</p>\n<pre><code>int i;    \nfor (i = 1; i &lt;= 5; i++) {\n    int guess = scanner.nextInt();\n    System.out.println(&quot;Attempt: &quot; + i +&quot;/5&quot;);\n    if (guess &lt; numberToGuess) {\n        System.out.println(&quot;Higher&quot;);\n    } else if (guess &gt; numberToGuess) {\n            System.out.println(&quot;Lower&quot;);\n    } else if (i == 5) {\n        System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n    } else {\n        System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n        break;\n    }\n</code></pre>\n<p>when i'm running the code and try to fail the game by reaching the maximum number of int i which is 5, the second else if statement should appear but it is not working.</p>\n<p>I just don't get the reason why it is not reading the (i==5) condition, all of the other conditions are working except that.</p>\n"},{"tags":["java","android","google-maps","country-codes"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1696809064,"post_id":77226988,"comment_id":136196684,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of what you have tried so far. So that the community could check and help you better.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of what you have tried so far. So that the community could check and help you better."}],"answers":[{"tags":[],"owner":{"account_id":23941111,"reputation":1,"user_id":17934212,"display_name":"Lakshitha Wijewardhana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696398446,"creation_date":1696398446,"answer_id":77227025,"question_id":77226988,"body_markdown":"The Maps JavaScript API provides a [Geocoder class][1] for geocoding and reverse geocoding dynamically from user input. If instead you wish to geocode static, known addresses, see the [Geocoding web service.][2]\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/javascript/reference/geocoder\r\n  [2]: https://developers.google.com/maps/documentation/geocoding","title":"How to get country codes of the selected map area (visible map region)?","body":"<p>The Maps JavaScript API provides a <a href=\"https://developers.google.com/maps/documentation/javascript/reference/geocoder\" rel=\"nofollow noreferrer\">Geocoder class</a> for geocoding and reverse geocoding dynamically from user input. If instead you wish to geocode static, known addresses, see the <a href=\"https://developers.google.com/maps/documentation/geocoding\" rel=\"nofollow noreferrer\">Geocoding web service.</a></p>\n"}],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696398446,"creation_date":1696397816,"question_id":77226988,"body_markdown":"I want to get the country codes from the visible map region. Visible map region may contain multiple countries so I want all those country codes.\r\n\r\nI&#39;ve tried with Geocoder and with grid points in the map and it returned me all the country codes but the problem with that it&#39;s too slow. Geocoder takes time to return result so I&#39;m looking for the alternate way. \r\nPlease help.  ","title":"How to get country codes of the selected map area (visible map region)?","body":"<p>I want to get the country codes from the visible map region. Visible map region may contain multiple countries so I want all those country codes.</p>\n<p>I've tried with Geocoder and with grid points in the map and it returned me all the country codes but the problem with that it's too slow. Geocoder takes time to return result so I'm looking for the alternate way.\nPlease help.</p>\n"},{"tags":["java","logging","gzip","logback"],"answers":[{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696342179,"creation_date":1696342179,"answer_id":77223039,"question_id":77222137,"body_markdown":"Logback do not have any out of the box functionality to create zip from achieved log folder. However you shell script (Unix) or batch script (Windows) and schedule it to run as per needed timeline. You will easily find sample shell/batch scripts which you can modify.","title":"Is there a way to save old logs as archived and then delete the archived file?","body":"<p>Logback do not have any out of the box functionality to create zip from achieved log folder. However you shell script (Unix) or batch script (Windows) and schedule it to run as per needed timeline. You will easily find sample shell/batch scripts which you can modify.</p>\n"},{"tags":[],"owner":{"account_id":1075172,"reputation":5529,"user_id":1073487,"display_name":"Red Boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397714,"creation_date":1696397714,"answer_id":77226976,"question_id":77222137,"body_markdown":"As far as I know there is no policy in log rotation in Java to zip the old files, but you can do it using chron-tab schedule if in Unix based OS.\r\n\r\nJust skip writing specifying the &lt;rollingPolicy&gt; (TimeBasedRollingPolicy) to delete the files after 7 days, then you should just not specify &lt;maxHistory&gt;7&lt;/maxHistory&gt; in your configuration.\r\n\r\nYou should just leave the &lt;maxHistory&gt; out; it&#39;s optional and if it&#39;s not there, then archived log files are not deleted.\r\n\r\nThen write a crontab that will gunzip or zip the files periodically(once in a day in your case).\r\n\r\nI hope it helps.","title":"Is there a way to save old logs as archived and then delete the archived file?","body":"<p>As far as I know there is no policy in log rotation in Java to zip the old files, but you can do it using chron-tab schedule if in Unix based OS.</p>\n<p>Just skip writing specifying the  (TimeBasedRollingPolicy) to delete the files after 7 days, then you should just not specify 7 in your configuration.</p>\n<p>You should just leave the  out; it's optional and if it's not there, then archived log files are not deleted.</p>\n<p>Then write a crontab that will gunzip or zip the files periodically(once in a day in your case).</p>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":19179654,"reputation":3,"user_id":20823586,"display_name":"Alim Uddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696397714,"creation_date":1696335005,"question_id":77222137,"body_markdown":"I have a project which saves logs of all the other services. It is configured in such a way that it keeps only 7 days logs and deletes older logs every day.\r\n\r\nBut I want to know if there is a configuration through which I can save the logs older then 7 days into .gz format into new folder and then then delete those 7 days older logs. If I want to need to look into any older issue then I can just unzip the old logs.\r\n\r\nCurrently my configuration is like this -&gt;\r\n\r\n```xml\r\n&lt;appender name=&quot;FILE-ERROR&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n        &lt;pattern&gt;%highlight([%level]) - [%date] - [%logger] %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n        &lt;!--  rollover daily  --&gt;\r\n        &lt;fileNamePattern&gt;${DEV_HOME}/archived/app-error.%d{yyyy-MM-dd}.%i.log &lt;/fileNamePattern&gt;\r\n        &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n            &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\r\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;maxHistory&gt;7&lt;/maxHistory&gt;\r\n    &lt;/rollingPolicy&gt;\r\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n        &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;!-- output messages of exact level only  --&gt;\r\n        &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n        &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n    &lt;/filter&gt;\r\n&lt;/appender&gt;\r\n```","title":"Is there a way to save old logs as archived and then delete the archived file?","body":"<p>I have a project which saves logs of all the other services. It is configured in such a way that it keeps only 7 days logs and deletes older logs every day.</p>\n<p>But I want to know if there is a configuration through which I can save the logs older then 7 days into .gz format into new folder and then then delete those 7 days older logs. If I want to need to look into any older issue then I can just unzip the old logs.</p>\n<p>Currently my configuration is like this -&gt;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;FILE-ERROR&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;pattern&gt;%highlight([%level]) - [%date] - [%logger] %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!--  rollover daily  --&gt;\n        &lt;fileNamePattern&gt;${DEV_HOME}/archived/app-error.%d{yyyy-MM-dd}.%i.log &lt;/fileNamePattern&gt;\n        &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n            &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;maxHistory&gt;7&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n        &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;!-- output messages of exact level only  --&gt;\n        &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n        &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1374485,"reputation":15558,"user_id":1308767,"display_name":"Bojan Kseneman"},"score":0,"creation_date":1430937996,"post_id":30085063,"comment_id":48283240,"body_markdown":"If you have many items, no matter if solution is possible, I guarantee you an out of memory error.","body":"If you have many items, no matter if solution is possible, I guarantee you an out of memory error."}],"answers":[{"comments":[{"owner":{"account_id":6270402,"reputation":6551,"user_id":4874829,"display_name":"Yoav Sternberg"},"score":2,"creation_date":1431089038,"post_id":30124162,"comment_id":48357873,"body_markdown":"Making it to work where not all the items have same size would require you to save the data for each item, probably on a file.","body":"Making it to work where not all the items have same size would require you to save the data for each item, probably on a file."},{"owner":{"account_id":1155227,"reputation":22275,"user_id":1136023,"accept_rate":59,"display_name":"Bhavesh Hirpara"},"score":0,"creation_date":1480946200,"post_id":30124162,"comment_id":69160916,"body_markdown":"My one textview is not coming in screenshot","body":"My one textview is not coming in screenshot"},{"owner":{"account_id":1967607,"reputation":271,"user_id":1767409,"display_name":"dmathewwws"},"score":0,"creation_date":1488835532,"post_id":30124162,"comment_id":72399262,"body_markdown":"The Kotlin code in the link uses the async library from https://github.com/metalabdesign/AsyncAwait","body":"The Kotlin code in the link uses the async library from <a href=\"https://github.com/metalabdesign/AsyncAwait\" rel=\"nofollow noreferrer\">github.com/metalabdesign/AsyncAwait</a>"},{"owner":{"account_id":6270402,"reputation":6551,"user_id":4874829,"display_name":"Yoav Sternberg"},"score":1,"creation_date":1488913401,"post_id":30124162,"comment_id":72438192,"body_markdown":"@dmathewwws Actually it is based on old version of `Anko` (before async was reserved word). `AsyncAwait` can be used for that, but actually every async library can work here.","body":"@dmathewwws Actually it is based on old version of <code>Anko</code> (before async was reserved word). <code>AsyncAwait</code> can be used for that, but actually every async library can work here."},{"owner":{"account_id":1967607,"reputation":271,"user_id":1767409,"display_name":"dmathewwws"},"score":0,"creation_date":1488918464,"post_id":30124162,"comment_id":72441217,"body_markdown":"Thanks for the clarification Yoav","body":"Thanks for the clarification Yoav"},{"owner":{"account_id":6270402,"reputation":6551,"user_id":4874829,"display_name":"Yoav Sternberg"},"score":0,"creation_date":1488920704,"post_id":30124162,"comment_id":72442516,"body_markdown":"I&#39;ve updated the snippet, so now it uses modern Kotlin syntax.","body":"I&#39;ve updated the snippet, so now it uses modern Kotlin syntax."}],"tags":[],"owner":{"account_id":6270402,"reputation":6551,"user_id":4874829,"display_name":"Yoav Sternberg"},"comment_count":6,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1488920673,"creation_date":1431088951,"answer_id":30124162,"question_id":30085063,"body_markdown":"Here is my solution for `LinearLayoutManager` when **all the items are on same size** and there is **only one type of item**. This solution is based on [This answer][1].  \r\n\r\n**Note**: It can possibly lead to out of memory error.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static Bitmap getRecyclerViewScreenshot(RecyclerView view) {\r\n            int size = view.getAdapter().getItemCount();\r\n            RecyclerView.ViewHolder holder = view.getAdapter().createViewHolder(view, 0);\r\n            view.getAdapter().onBindViewHolder(holder, 0);\r\n            holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                    View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n            holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\r\n            Bitmap bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), holder.itemView.getMeasuredHeight() * size,\r\n                    Bitmap.Config.ARGB_8888);\r\n            Canvas bigCanvas = new Canvas(bigBitmap);\r\n            bigCanvas.drawColor(Color.WHITE);\r\n            Paint paint = new Paint();\r\n            int iHeight = 0;\r\n            holder.itemView.setDrawingCacheEnabled(true);\r\n            holder.itemView.buildDrawingCache();\r\n            bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\r\n            holder.itemView.setDrawingCacheEnabled(false);\r\n            holder.itemView.destroyDrawingCache();\r\n            iHeight += holder.itemView.getMeasuredHeight();\r\n            for (int i = 1; i &lt; size; i++) {\r\n                view.getAdapter().onBindViewHolder(holder, i);\r\n                holder.itemView.setDrawingCacheEnabled(true);\r\n                holder.itemView.buildDrawingCache();\r\n                bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\r\n                iHeight += holder.itemView.getMeasuredHeight();\r\n                holder.itemView.setDrawingCacheEnabled(false);\r\n                holder.itemView.destroyDrawingCache();\r\n            }\r\n            return bigBitmap;\r\n        }\r\n\r\n**Note 2:** It has originally been written in Kotlin. [Here][2] is the original code used by me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12956881/4874829\r\n  [2]: http://paste.ubuntu.com/24132917/","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Here is my solution for <code>LinearLayoutManager</code> when <strong>all the items are on same size</strong> and there is <strong>only one type of item</strong>. This solution is based on <a href=\"https://stackoverflow.com/a/12956881/4874829\">This answer</a>.  </p>\n\n<p><strong>Note</strong>: It can possibly lead to out of memory error.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Bitmap getRecyclerViewScreenshot(RecyclerView view) {\n        int size = view.getAdapter().getItemCount();\n        RecyclerView.ViewHolder holder = view.getAdapter().createViewHolder(view, 0);\n        view.getAdapter().onBindViewHolder(holder, 0);\n        holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n        holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\n        Bitmap bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), holder.itemView.getMeasuredHeight() * size,\n                Bitmap.Config.ARGB_8888);\n        Canvas bigCanvas = new Canvas(bigBitmap);\n        bigCanvas.drawColor(Color.WHITE);\n        Paint paint = new Paint();\n        int iHeight = 0;\n        holder.itemView.setDrawingCacheEnabled(true);\n        holder.itemView.buildDrawingCache();\n        bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\n        holder.itemView.setDrawingCacheEnabled(false);\n        holder.itemView.destroyDrawingCache();\n        iHeight += holder.itemView.getMeasuredHeight();\n        for (int i = 1; i &lt; size; i++) {\n            view.getAdapter().onBindViewHolder(holder, i);\n            holder.itemView.setDrawingCacheEnabled(true);\n            holder.itemView.buildDrawingCache();\n            bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\n            iHeight += holder.itemView.getMeasuredHeight();\n            holder.itemView.setDrawingCacheEnabled(false);\n            holder.itemView.destroyDrawingCache();\n        }\n        return bigBitmap;\n    }\n</code></pre>\n\n<p><strong>Note 2:</strong> It has originally been written in Kotlin. <a href=\"http://paste.ubuntu.com/24132917/\" rel=\"noreferrer\">Here</a> is the original code used by me.</p>\n"},{"comments":[{"owner":{"account_id":361327,"reputation":12478,"user_id":703851,"accept_rate":100,"display_name":"Vaibhav Jani"},"score":0,"creation_date":1455546222,"post_id":31017673,"comment_id":58524361,"body_markdown":"Thank you very very much. You saved my life bro!","body":"Thank you very very much. You saved my life bro!"},{"owner":{"account_id":5259897,"reputation":257,"user_id":4201691,"accept_rate":57,"display_name":"Janardhan Y"},"score":0,"creation_date":1515324616,"post_id":31017673,"comment_id":83250647,"body_markdown":"Thanks for the code, but imageView is not getting exported","body":"Thanks for the code, but imageView is not getting exported"},{"owner":{"account_id":10048493,"reputation":135,"user_id":7429014,"accept_rate":60,"display_name":"Dart"},"score":0,"creation_date":1515757699,"post_id":31017673,"comment_id":83432862,"body_markdown":"they very much thanks, one more point can we add mobile frame with that","body":"they very much thanks, one more point can we add mobile frame with that"},{"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"score":1,"creation_date":1535364849,"post_id":31017673,"comment_id":91024259,"body_markdown":"java.lang.ArrayIndexOutOfBoundsException: length=10; index=-1\n        at java.util.ArrayList.get(ArrayList.java:439)\n        at .adapter.InsightsDetailAdapter.onBindViewHolder(InsightsDetailAdapter.java:170)\n        at .ui.insights.insightdetail.InsightsDetailFragment.getScreenshotFromRecyclerView(InsightsDetailFragment.java:456)","body":"java.lang.ArrayIndexOutOfBoundsException: length=10; index=-1         at java.util.ArrayList.get(ArrayList.java:439)         at .adapter.InsightsDetailAdapter.onBindViewHolder(InsightsDeta&zwnj;&#8203;ilAdapter.java:170)         at .ui.insights.insightdetail.InsightsDetailFragment.getScreens&zwnj;&#8203;hotFromRecyclerView(&zwnj;&#8203;InsightsDetailFragme&zwnj;&#8203;nt.java:456)"},{"owner":{"account_id":6246927,"reputation":2030,"user_id":5060269,"display_name":"Shubham Goel"},"score":0,"creation_date":1612450518,"post_id":31017673,"comment_id":116775372,"body_markdown":"Better solution than the first accepted one. The accepted solution on top creates a low quality image with missing data.","body":"Better solution than the first accepted one. The accepted solution on top creates a low quality image with missing data."},{"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"score":0,"creation_date":1678621807,"post_id":31017673,"comment_id":133565612,"body_markdown":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.isRecycled()&#39; on a null object reference.....\n\n---on this line---\n\n                 Bitmap bitmap = bitmaCache.get(String.valueOf(i));","body":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.isRecycled()&#39; on a null object reference.....  ---on this line---                   Bitmap bitmap = bitmaCache.get(String.valueOf(i));"}],"tags":[],"owner":{"account_id":89527,"reputation":6656,"user_id":246942,"accept_rate":68,"display_name":"Prasham"},"comment_count":6,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1488935714,"creation_date":1435120359,"answer_id":31017673,"question_id":30085063,"body_markdown":"Inspired from Yoav&#39;s answer. This code works for recyclerview item types and probably regardless of it&#39;s size. \r\n\r\nIt was tested with a recyclerview having linearlayout manager and three item types. Yet to check it with other layout managers.\r\n\r\n    public Bitmap getScreenshotFromRecyclerView(RecyclerView view) {\r\n            RecyclerView.Adapter adapter = view.getAdapter();\r\n            Bitmap bigBitmap = null;\r\n            if (adapter != null) {\r\n                int size = adapter.getItemCount();\r\n                int height = 0;\r\n                Paint paint = new Paint();\r\n                int iHeight = 0;\r\n                final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\r\n    \r\n                // Use 1/8th of the available memory for this memory cache.\r\n                final int cacheSize = maxMemory / 8;\r\n                LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\r\n                    adapter.onBindViewHolder(holder, i);\r\n                    holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n                    holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\r\n                    holder.itemView.setDrawingCacheEnabled(true);\r\n                    holder.itemView.buildDrawingCache();\r\n                    Bitmap drawingCache = holder.itemView.getDrawingCache();\r\n                    if (drawingCache != null) {\r\n    \r\n                        bitmaCache.put(String.valueOf(i), drawingCache);\r\n                    }\r\n    //                holder.itemView.setDrawingCacheEnabled(false);\r\n    //                holder.itemView.destroyDrawingCache();\r\n                    height += holder.itemView.getMeasuredHeight();\r\n                }\r\n    \r\n                bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\r\n                Canvas bigCanvas = new Canvas(bigBitmap);\r\n                bigCanvas.drawColor(Color.WHITE);\r\n    \r\n                for (int i = 0; i &lt; size; i++) {\r\n                    Bitmap bitmap = bitmaCache.get(String.valueOf(i));\r\n                    bigCanvas.drawBitmap(bitmap, 0f, iHeight, paint);\r\n                    iHeight += bitmap.getHeight();\r\n                    bitmap.recycle();\r\n                }\r\n    \r\n            }\r\n            return bigBitmap;\r\n        }","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Inspired from Yoav's answer. This code works for recyclerview item types and probably regardless of it's size. </p>\n\n<p>It was tested with a recyclerview having linearlayout manager and three item types. Yet to check it with other layout managers.</p>\n\n<pre><code>public Bitmap getScreenshotFromRecyclerView(RecyclerView view) {\n        RecyclerView.Adapter adapter = view.getAdapter();\n        Bitmap bigBitmap = null;\n        if (adapter != null) {\n            int size = adapter.getItemCount();\n            int height = 0;\n            Paint paint = new Paint();\n            int iHeight = 0;\n            final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\n\n            // Use 1/8th of the available memory for this memory cache.\n            final int cacheSize = maxMemory / 8;\n            LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\n            for (int i = 0; i &lt; size; i++) {\n                RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\n                adapter.onBindViewHolder(holder, i);\n                holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n                holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\n                holder.itemView.setDrawingCacheEnabled(true);\n                holder.itemView.buildDrawingCache();\n                Bitmap drawingCache = holder.itemView.getDrawingCache();\n                if (drawingCache != null) {\n\n                    bitmaCache.put(String.valueOf(i), drawingCache);\n                }\n//                holder.itemView.setDrawingCacheEnabled(false);\n//                holder.itemView.destroyDrawingCache();\n                height += holder.itemView.getMeasuredHeight();\n            }\n\n            bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\n            Canvas bigCanvas = new Canvas(bigBitmap);\n            bigCanvas.drawColor(Color.WHITE);\n\n            for (int i = 0; i &lt; size; i++) {\n                Bitmap bitmap = bitmaCache.get(String.valueOf(i));\n                bigCanvas.drawBitmap(bitmap, 0f, iHeight, paint);\n                iHeight += bitmap.getHeight();\n                bitmap.recycle();\n            }\n\n        }\n        return bigBitmap;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9933732,"reputation":2018,"user_id":7352723,"display_name":"Jeffrey"},"score":0,"creation_date":1537630634,"post_id":52039218,"comment_id":91858530,"body_markdown":"Works well. One thing I would like to do is remove the white space above and below. I&#39;ve tried removing all padding and margin but no luck.","body":"Works well. One thing I would like to do is remove the white space above and below. I&#39;ve tried removing all padding and margin but no luck."},{"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"score":0,"creation_date":1537630768,"post_id":52039218,"comment_id":91858565,"body_markdown":"Try giving background to the layout","body":"Try giving background to the layout"},{"owner":{"account_id":9933732,"reputation":2018,"user_id":7352723,"display_name":"Jeffrey"},"score":4,"creation_date":1537676282,"post_id":52039218,"comment_id":91867955,"body_markdown":"Two thing I had to do: Call recyclerView.getLayoutManager().scrollToPosition(0) before creating the bitmap to remove the bottom space and ensure consistent output. I also had another view group above the recyclerView which I had to create as a separate bitmap of and combine the two together.","body":"Two thing I had to do: Call recyclerView.getLayoutManager().scrollToPosition(0) before creating the bitmap to remove the bottom space and ensure consistent output. I also had another view group above the recyclerView which I had to create as a separate bitmap of and combine the two together."},{"owner":{"account_id":1233319,"reputation":1517,"user_id":1197454,"accept_rate":75,"display_name":"ChaturaM"},"score":0,"creation_date":1556089124,"post_id":52039218,"comment_id":98313420,"body_markdown":"my screenshot gets a black background for the rows that are out of visible area. Any  suggestion to fix it?","body":"my screenshot gets a black background for the rows that are out of visible area. Any  suggestion to fix it?"},{"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"score":0,"creation_date":1593880099,"post_id":52039218,"comment_id":110933977,"body_markdown":"yeah it do budddy. @J.Dragon","body":"yeah it do budddy. @J.Dragon"},{"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"score":0,"creation_date":1637918530,"post_id":52039218,"comment_id":123956220,"body_markdown":"What about horizontal recycleview ?","body":"What about horizontal recycleview ?"}],"tags":[],"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1535372320,"creation_date":1535372320,"answer_id":52039218,"question_id":30085063,"body_markdown":"Take the Screenshot of complete Recyclerview regardless of its items and item types:\r\n\r\nThis piece of code works like a charm.\r\n\r\nHere is a clean way to do this short and precise:\r\n\r\n    recyclerView.measure(\r\n            View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(), View.MeasureSpec.EXACTLY),\r\n            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n    \r\n    Bitmap bm = Bitmap.createBitmap(recyclerView.getWidth(), recyclerView.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\r\n    recyclerView.draw(new Canvas(bm));\r\n    \r\n    saveImage(bm);\r\n    ImageView im\r\n              = new ImageView(getActivity());\r\n    im.setImageBitmap(bm);\r\n     new AlertDialog.Builder(getActivity()).setView(im).show();\r\n\r\n","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Take the Screenshot of complete Recyclerview regardless of its items and item types:</p>\n\n<p>This piece of code works like a charm.</p>\n\n<p>Here is a clean way to do this short and precise:</p>\n\n<pre><code>recyclerView.measure(\n        View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(), View.MeasureSpec.EXACTLY),\n        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n\nBitmap bm = Bitmap.createBitmap(recyclerView.getWidth(), recyclerView.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\nrecyclerView.draw(new Canvas(bm));\n\nsaveImage(bm);\nImageView im\n          = new ImageView(getActivity());\nim.setImageBitmap(bm);\n new AlertDialog.Builder(getActivity()).setView(im).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329085,"reputation":2202,"user_id":652410,"accept_rate":97,"display_name":"eoinzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565300180,"creation_date":1565300180,"answer_id":57420926,"question_id":30085063,"body_markdown":"I wrote a method to get a screenshot of a few different views:\r\n\r\n\r\n    private static Bitmap getBitmapFromView(View view) {\r\n        if (view.getVisibility() != View.VISIBLE) {\r\n            view = getNextView(view);\r\n            Log.d(TAG, &quot;New view id: &quot; + view.getId());\r\n        }\r\n        //Define a bitmap with the same size as the view\r\n        Bitmap returnedBitmap;\r\n        if (view instanceof ScrollView) {\r\n            returnedBitmap = Bitmap.createBitmap(((ViewGroup) view).getChildAt(0).getWidth(), ((ViewGroup) view).getChildAt(0).getHeight(), Bitmap.Config.ARGB_8888);\r\n        } else if (view instanceof RecyclerView) {\r\n            view.measure(\r\n                    View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                    View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n\r\n            returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\r\n        } else {\r\n            returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\r\n        }\r\n\r\n        //Bind a canvas to it\r\n        Canvas canvas = new Canvas(returnedBitmap);\r\n        //Get the view&#39;s background\r\n        Drawable bgDrawable = view.getBackground();\r\n        if (bgDrawable != null) {\r\n            //has background drawable, then draw it on the canvas\r\n            bgDrawable.draw(canvas);\r\n        } else {\r\n            //does not have background drawable, then draw white background on the canvas\r\n            canvas.drawColor(Color.WHITE);\r\n        }\r\n        // draw the view on the canvas\r\n        view.draw(canvas);\r\n        //return the bitmap\r\n        return returnedBitmap;\r\n    }\r\n\r\n    /**\r\n     * If the base view is not visible, then it has no width or height.\r\n     * This causes a problem when we are creating a PDF based on its size.\r\n     * This method gets the next visible View.\r\n     *\r\n     * @param view The invisible view\r\n     * @return The next visible view after the given View, or the original view if there&#39;s no more\r\n     * visible views.\r\n     */\r\n    private static View getNextView(View view) {\r\n        if (view.getParent() != null &amp;&amp; (view.getParent() instanceof ViewGroup)) {\r\n            ViewGroup group = (ViewGroup) view.getParent();\r\n            View child;\r\n            boolean getNext = false;\r\n            //Iterate through all views from parent\r\n            for (int i = 0; i &lt; group.getChildCount(); i++) {\r\n                child = group.getChildAt(i);\r\n                if (getNext) {\r\n                    //Make sure the view is visible, else iterate again until we find a visible view\r\n                    if (child.getVisibility() == View.VISIBLE) {\r\n                        Log.d(TAG, String.format(Locale.ENGLISH, &quot;CHILD: %s : %s&quot;, child.getClass().getSimpleName(), child.getId()));\r\n                        view = child;\r\n                    }\r\n                }\r\n                //Iterate until we find out current view,\r\n                // then we want to get the NEXT view\r\n                if (child.getId() == view.getId()) {\r\n                    getNext = true;\r\n                }\r\n            }\r\n        }\r\n        return view;\r\n    }\r\n\r\n","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>I wrote a method to get a screenshot of a few different views:</p>\n\n<pre><code>private static Bitmap getBitmapFromView(View view) {\n    if (view.getVisibility() != View.VISIBLE) {\n        view = getNextView(view);\n        Log.d(TAG, \"New view id: \" + view.getId());\n    }\n    //Define a bitmap with the same size as the view\n    Bitmap returnedBitmap;\n    if (view instanceof ScrollView) {\n        returnedBitmap = Bitmap.createBitmap(((ViewGroup) view).getChildAt(0).getWidth(), ((ViewGroup) view).getChildAt(0).getHeight(), Bitmap.Config.ARGB_8888);\n    } else if (view instanceof RecyclerView) {\n        view.measure(\n                View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n\n        returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\n    } else {\n        returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\n    }\n\n    //Bind a canvas to it\n    Canvas canvas = new Canvas(returnedBitmap);\n    //Get the view's background\n    Drawable bgDrawable = view.getBackground();\n    if (bgDrawable != null) {\n        //has background drawable, then draw it on the canvas\n        bgDrawable.draw(canvas);\n    } else {\n        //does not have background drawable, then draw white background on the canvas\n        canvas.drawColor(Color.WHITE);\n    }\n    // draw the view on the canvas\n    view.draw(canvas);\n    //return the bitmap\n    return returnedBitmap;\n}\n\n/**\n * If the base view is not visible, then it has no width or height.\n * This causes a problem when we are creating a PDF based on its size.\n * This method gets the next visible View.\n *\n * @param view The invisible view\n * @return The next visible view after the given View, or the original view if there's no more\n * visible views.\n */\nprivate static View getNextView(View view) {\n    if (view.getParent() != null &amp;&amp; (view.getParent() instanceof ViewGroup)) {\n        ViewGroup group = (ViewGroup) view.getParent();\n        View child;\n        boolean getNext = false;\n        //Iterate through all views from parent\n        for (int i = 0; i &lt; group.getChildCount(); i++) {\n            child = group.getChildAt(i);\n            if (getNext) {\n                //Make sure the view is visible, else iterate again until we find a visible view\n                if (child.getVisibility() == View.VISIBLE) {\n                    Log.d(TAG, String.format(Locale.ENGLISH, \"CHILD: %s : %s\", child.getClass().getSimpleName(), child.getId()));\n                    view = child;\n                }\n            }\n            //Iterate until we find out current view,\n            // then we want to get the NEXT view\n            if (child.getId() == view.getId()) {\n                getNext = true;\n            }\n        }\n    }\n    return view;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9269706,"reputation":1518,"user_id":6884103,"display_name":"Momen Zaqout"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600797731,"creation_date":1600703755,"answer_id":63995858,"question_id":30085063,"body_markdown":"**The best solution I found is**\r\n\r\n 1. create a new NestedScrollView\r\n 2. add it to recyclerview&#39;s parent\r\n 3. remove recyclerview from its parent &quot;it&#39;s important to add it to a new parent&quot;\r\n 4. add recyclerview to nestedscrollview\r\n 5. take screenshot of nestedscrollview\r\n 6. add recyclerview to its main parent.\r\n\r\n\r\n\r\n\r\n\r\n         nestedScreenShot = new NestedScrollView(getContext());\r\n       \r\n         constraintLayout.removeView(recyclerView);\r\n         \r\n         ConstraintLayout.LayoutParams params =new \r\n    \r\n         Constraints.LayoutParams(viewGroup.LayoutParams.MATCH_PARENT,\r\n    \r\n         ViewGroup.LayoutParams.MATCH_PARENT);\r\n          \r\n         nestedScreenShot.setLayoutParams(params);\r\n         \r\n        Drawable scrollBackground = scrollView.getBackground();\r\n        if (scrollBackground != null) {\r\n            tempNestedScreenShot.setBackground(scrollBackground);\r\n        }\r\n        tempNestedScreenShot.setPadding(scrollView.getLeft(), \r\n        scrollView.getTop(), scrollView.getRight(), scrollView.getBottom());\r\n\r\n         constraintLayout.addView(nestedScreenShot);\r\n          \r\n         nestedScreenShot.addView(recyclerView, params);\r\n        \r\n         new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    nestedScreenShot.removeView(recyclerView);\r\n                    constraintLayout.removeView(nestedScreenShot);\r\n                    nestedScreenShot = null;\r\n                    constraintLayout.addView(recyclerView, params);\r\n    \r\n    \r\n                }\r\n                }, 8000);\r\n          takescreenshotOfNested(nestedScreenShot);\r\n    \r\n\r\n   \r\nThis method will return screenshot of nestedscrollview\r\n         \r\n                \r\n                \r\n           private Bitmap takescreenshotOfNested(View u) {\r\n            \r\n            NestedScrollView viewNested = null;\r\n                \r\n            ScrollView viewScroll = null;\r\n                  \r\n            if (u instanceof NestedScrollView) {\r\n                     \r\n           \r\n            viewNested = (NestedScrollView) u;\r\n                 \r\n         \r\n           } else if (u instanceof ScrollView) {\r\n                  \r\n          \r\n             viewScroll = (ScrollView) u;\r\n                \r\n           }\r\n                \r\n                    Bitmap bitmap;\r\n                    if (viewNested != null) {\r\n                        viewNested.setDrawingCacheEnabled(false);\r\n                        viewNested.invalidate();\r\n                        viewNested.getChildAt(0).setDrawingCacheEnabled(false);\r\n                        viewNested.getChildAt(0).invalidate();\r\n                \r\n                        bitmap = Bitmap.createBitmap(viewNested.getChildAt(0).getWidth(),\r\n                                viewNested.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\r\n                        Canvas canvas = new Canvas(bitmap);\r\n                        canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\r\n                        viewNested.draw(canvas);\r\n                    } else {\r\n                \r\n                        try {\r\n                \r\n                            viewScroll.setDrawingCacheEnabled(false);\r\n                            viewScroll.invalidate();\r\n                        } catch (Exception ignored) {\r\n                        }\r\n                        viewScroll.getChildAt(0).setDrawingCacheEnabled(false);\r\n                        viewScroll.getChildAt(0).invalidate();\r\n                \r\n                        bitmap = Bitmap.createBitmap(viewScroll.getChildAt(0).getWidth(),\r\n                                viewScroll.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\r\n                        Canvas canvas = new Canvas(bitmap);\r\n                        canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\r\n                        viewScroll.draw(canvas);\r\n                \r\n                    }\r\n                    return bitmap;\r\n                \r\n                }\r\n\r\n\r\n&gt; don&#39;t forget to recycle the bitmap after using it","title":"Take a screenshot of RecyclerView in FULL length","body":"<p><strong>The best solution I found is</strong></p>\n<ol>\n<li><p>create a new NestedScrollView</p>\n</li>\n<li><p>add it to recyclerview's parent</p>\n</li>\n<li><p>remove recyclerview from its parent &quot;it's important to add it to a new parent&quot;</p>\n</li>\n<li><p>add recyclerview to nestedscrollview</p>\n</li>\n<li><p>take screenshot of nestedscrollview</p>\n</li>\n<li><p>add recyclerview to its main parent.</p>\n<pre><code> nestedScreenShot = new NestedScrollView(getContext());\n\n constraintLayout.removeView(recyclerView);\n\n ConstraintLayout.LayoutParams params =new \n\n Constraints.LayoutParams(viewGroup.LayoutParams.MATCH_PARENT,\n\n ViewGroup.LayoutParams.MATCH_PARENT);\n\n nestedScreenShot.setLayoutParams(params);\n\nDrawable scrollBackground = scrollView.getBackground();\nif (scrollBackground != null) {\n    tempNestedScreenShot.setBackground(scrollBackground);\n}\ntempNestedScreenShot.setPadding(scrollView.getLeft(), \nscrollView.getTop(), scrollView.getRight(), scrollView.getBottom());\n\n constraintLayout.addView(nestedScreenShot);\n\n nestedScreenShot.addView(recyclerView, params);\n\n new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n\n            nestedScreenShot.removeView(recyclerView);\n            constraintLayout.removeView(nestedScreenShot);\n            nestedScreenShot = null;\n            constraintLayout.addView(recyclerView, params);\n\n\n        }\n        }, 8000);\n  takescreenshotOfNested(nestedScreenShot);\n</code></pre>\n</li>\n</ol>\n<p>This method will return screenshot of nestedscrollview</p>\n<pre><code>       private Bitmap takescreenshotOfNested(View u) {\n        \n        NestedScrollView viewNested = null;\n            \n        ScrollView viewScroll = null;\n              \n        if (u instanceof NestedScrollView) {\n                 \n       \n        viewNested = (NestedScrollView) u;\n             \n     \n       } else if (u instanceof ScrollView) {\n              \n      \n         viewScroll = (ScrollView) u;\n            \n       }\n            \n                Bitmap bitmap;\n                if (viewNested != null) {\n                    viewNested.setDrawingCacheEnabled(false);\n                    viewNested.invalidate();\n                    viewNested.getChildAt(0).setDrawingCacheEnabled(false);\n                    viewNested.getChildAt(0).invalidate();\n            \n                    bitmap = Bitmap.createBitmap(viewNested.getChildAt(0).getWidth(),\n                            viewNested.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(bitmap);\n                    canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\n                    viewNested.draw(canvas);\n                } else {\n            \n                    try {\n            \n                        viewScroll.setDrawingCacheEnabled(false);\n                        viewScroll.invalidate();\n                    } catch (Exception ignored) {\n                    }\n                    viewScroll.getChildAt(0).setDrawingCacheEnabled(false);\n                    viewScroll.getChildAt(0).invalidate();\n            \n                    bitmap = Bitmap.createBitmap(viewScroll.getChildAt(0).getWidth(),\n                            viewScroll.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(bitmap);\n                    canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\n                    viewScroll.draw(canvas);\n            \n                }\n                return bitmap;\n            \n            }\n</code></pre>\n<blockquote>\n<p>don't forget to recycle the bitmap after using it</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9614608,"reputation":11,"user_id":7137846,"display_name":"inabdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682321588,"creation_date":1682321588,"answer_id":76089557,"question_id":30085063,"body_markdown":"Inspired from Nouman Ch answer, that solution works great, but I am facing background color issue in final image and recyclerView scrolling also not working fine after that. Here is quick fix!\r\n\r\nAfter creating the bitmap from recyclerView\r\n\r\n    presenter?.dataRecyclerView?.let {\r\n                it.measure(\r\n                    View.MeasureSpec.makeMeasureSpec(it.width, View.MeasureSpec.EXACTLY),\r\n                    View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\r\n                );\r\n    \r\n                var bm = Bitmap.createBitmap(\r\n                    it.width,\r\n                    it.measuredHeight,\r\n                    Bitmap.Config.ARGB_8888\r\n                )\r\n                it.draw(Canvas(bm))\r\n    \r\n    //to fix background color of final image\r\n                val newBitmap = Bitmap.createBitmap(bm.width, bm.height, bm.config)\r\n                val canvas = Canvas(newBitmap)\r\n                canvas.drawColor(Color.WHITE)\r\n                canvas.drawBitmap(bm, 0f, 0f, null)\r\n                bm = newBitmap\r\n    \r\n                saveBitmapeToGallery(bm)\r\n    //notify adapter, to fix scrolling\r\n                it.adapter?.notifyDataSetChanged()\r\n            }\r\n\r\n","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Inspired from Nouman Ch answer, that solution works great, but I am facing background color issue in final image and recyclerView scrolling also not working fine after that. Here is quick fix!</p>\n<p>After creating the bitmap from recyclerView</p>\n<pre><code>presenter?.dataRecyclerView?.let {\n            it.measure(\n                View.MeasureSpec.makeMeasureSpec(it.width, View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\n            );\n\n            var bm = Bitmap.createBitmap(\n                it.width,\n                it.measuredHeight,\n                Bitmap.Config.ARGB_8888\n            )\n            it.draw(Canvas(bm))\n\n//to fix background color of final image\n            val newBitmap = Bitmap.createBitmap(bm.width, bm.height, bm.config)\n            val canvas = Canvas(newBitmap)\n            canvas.drawColor(Color.WHITE)\n            canvas.drawBitmap(bm, 0f, 0f, null)\n            bm = newBitmap\n\n            saveBitmapeToGallery(bm)\n//notify adapter, to fix scrolling\n            it.adapter?.notifyDataSetChanged()\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4546280,"reputation":1606,"user_id":3692788,"accept_rate":67,"display_name":"JCarlosR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397657,"creation_date":1696397657,"answer_id":77226973,"question_id":30085063,"body_markdown":"This class generates a `Bitmap` for a `LinearLayout` containing views and a `RecyclerView`.\r\n\r\nThis is based on Prasham&#39;s answer, but refactored to **Kotlin** and descriptive methods to make it *easier to understand*.\r\n\r\n```\r\nimport android.graphics.Bitmap\r\nimport android.graphics.Canvas\r\nimport android.graphics.Color\r\nimport android.graphics.Paint\r\nimport android.util.LruCache\r\nimport android.view.View\r\nimport androidx.appcompat.widget.LinearLayoutCompat\r\nimport androidx.core.view.children\r\nimport androidx.recyclerview.widget.RecyclerView\r\n\r\nclass BitmapComposer {\r\n\r\n    private val maxMemory by lazy {\r\n        (Runtime.getRuntime().maxMemory() / 1024).toInt()\r\n    }\r\n\r\n    // Use 1/7 of the available memory for this memory cache\r\n    private val cacheSize by lazy {\r\n        maxMemory / 7\r\n    }\r\n\r\n    private val bitmapCache: LruCache&lt;Int, Bitmap&gt; by lazy {\r\n        LruCache(cacheSize)\r\n    }\r\n\r\n    // Increments each time something gets added to the LruCache\r\n    private var cacheIndex = 0\r\n\r\n    // Accumulated height to be used as the total\r\n    private var bigHeight = 0\r\n\r\n    fun getViewAsBitmap(view: View): Bitmap {\r\n        if (view is LinearLayoutCompat) {\r\n            view.children.forEach {\r\n                addViewToBitmapCache(it)\r\n            }\r\n        } else if (view is RecyclerView) {\r\n            addRecyclerViewToBitmapCache(view)\r\n        }\r\n\r\n        return drawBigBitmap(view)\r\n    }\r\n\r\n    private fun drawBigBitmap(view: View): Bitmap {\r\n        val bigBitmap = Bitmap.createBitmap(\r\n            view.measuredWidth,\r\n            bigHeight,\r\n            Bitmap.Config.ARGB_8888\r\n        )\r\n\r\n        val bigCanvas = Canvas(bigBitmap)\r\n        bigCanvas.drawColor(Color.WHITE)\r\n\r\n        val paint = Paint()\r\n        var top = 0\r\n\r\n        for (i in 0 until bitmapCache.size()) {\r\n            val bitmap: Bitmap = bitmapCache.get(i)\r\n            bigCanvas.drawBitmap(\r\n                bitmap,\r\n                0f, // left\r\n                top.toFloat(), // top\r\n                paint\r\n            )\r\n\r\n            top += bitmap.height\r\n            bitmap.recycle()\r\n        }\r\n\r\n        return bigBitmap\r\n    }\r\n\r\n    private fun addRecyclerViewToBitmapCache(view: RecyclerView) {\r\n        val adapter = view.adapter ?: throw Exception(&quot;No adapter found&quot;)\r\n        val size = adapter.itemCount\r\n\r\n        for (i in 0 until size) {\r\n            val itemView = getItemView(view, adapter, i)\r\n            addViewToBitmapCache(itemView)\r\n        }\r\n    }\r\n\r\n    private fun addViewToBitmapCache(view: View) {\r\n        if (view is RecyclerView) {\r\n            addRecyclerViewToBitmapCache(view)\r\n            return\r\n        }\r\n\r\n        val drawingCache = Bitmap.createBitmap(\r\n            view.width,\r\n            view.height,\r\n            Bitmap.Config.RGB_565\r\n        )\r\n\r\n        val canvas = Canvas(drawingCache)\r\n        canvas.drawColor(Color.WHITE)\r\n\r\n        view.draw(canvas)\r\n        bitmapCache.put(cacheIndex++, drawingCache)\r\n        bigHeight += view.measuredHeight\r\n    }\r\n\r\n    private fun getItemView(\r\n        view: RecyclerView,\r\n        adapter: RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;,\r\n        i: Int\r\n    ): View {\r\n        val holder = adapter.createViewHolder(view, adapter.getItemViewType(i))\r\n        adapter.onBindViewHolder(holder, i)\r\n\r\n        holder.itemView.measure(\r\n            View.MeasureSpec.makeMeasureSpec(view.width, View.MeasureSpec.EXACTLY),\r\n            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\r\n        )\r\n\r\n        holder.itemView.layout(\r\n            0,\r\n            0,\r\n            holder.itemView.measuredWidth,\r\n            holder.itemView.measuredHeight\r\n        )\r\n\r\n        return holder.itemView\r\n    }\r\n}\r\n```\r\n\r\n**How to use it?** \r\n\r\nSimply pass a view (it can be a `LinearLayoutCompat` or a `RecyclerView`).\r\n\r\n```\r\nval composer = BitmapComposer()\r\nval bitmap = composer.getViewAsBitmap(view)\r\n```\r\n\r\nNotes:\r\n- In order to **center elements** (e.g. `TextView`s), I used `android:layout_width=&quot;match_parent&quot;` and `android:gravity=&quot;center&quot;` as a workaround.\r\n- I haven&#39;t tested with other `ViewGroup`s, but works fine for a `LinearLayout` containing a `RecyclerView` and other simple views.","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>This class generates a <code>Bitmap</code> for a <code>LinearLayout</code> containing views and a <code>RecyclerView</code>.</p>\n<p>This is based on Prasham's answer, but refactored to <strong>Kotlin</strong> and descriptive methods to make it <em>easier to understand</em>.</p>\n<pre><code>import android.graphics.Bitmap\nimport android.graphics.Canvas\nimport android.graphics.Color\nimport android.graphics.Paint\nimport android.util.LruCache\nimport android.view.View\nimport androidx.appcompat.widget.LinearLayoutCompat\nimport androidx.core.view.children\nimport androidx.recyclerview.widget.RecyclerView\n\nclass BitmapComposer {\n\n    private val maxMemory by lazy {\n        (Runtime.getRuntime().maxMemory() / 1024).toInt()\n    }\n\n    // Use 1/7 of the available memory for this memory cache\n    private val cacheSize by lazy {\n        maxMemory / 7\n    }\n\n    private val bitmapCache: LruCache&lt;Int, Bitmap&gt; by lazy {\n        LruCache(cacheSize)\n    }\n\n    // Increments each time something gets added to the LruCache\n    private var cacheIndex = 0\n\n    // Accumulated height to be used as the total\n    private var bigHeight = 0\n\n    fun getViewAsBitmap(view: View): Bitmap {\n        if (view is LinearLayoutCompat) {\n            view.children.forEach {\n                addViewToBitmapCache(it)\n            }\n        } else if (view is RecyclerView) {\n            addRecyclerViewToBitmapCache(view)\n        }\n\n        return drawBigBitmap(view)\n    }\n\n    private fun drawBigBitmap(view: View): Bitmap {\n        val bigBitmap = Bitmap.createBitmap(\n            view.measuredWidth,\n            bigHeight,\n            Bitmap.Config.ARGB_8888\n        )\n\n        val bigCanvas = Canvas(bigBitmap)\n        bigCanvas.drawColor(Color.WHITE)\n\n        val paint = Paint()\n        var top = 0\n\n        for (i in 0 until bitmapCache.size()) {\n            val bitmap: Bitmap = bitmapCache.get(i)\n            bigCanvas.drawBitmap(\n                bitmap,\n                0f, // left\n                top.toFloat(), // top\n                paint\n            )\n\n            top += bitmap.height\n            bitmap.recycle()\n        }\n\n        return bigBitmap\n    }\n\n    private fun addRecyclerViewToBitmapCache(view: RecyclerView) {\n        val adapter = view.adapter ?: throw Exception(&quot;No adapter found&quot;)\n        val size = adapter.itemCount\n\n        for (i in 0 until size) {\n            val itemView = getItemView(view, adapter, i)\n            addViewToBitmapCache(itemView)\n        }\n    }\n\n    private fun addViewToBitmapCache(view: View) {\n        if (view is RecyclerView) {\n            addRecyclerViewToBitmapCache(view)\n            return\n        }\n\n        val drawingCache = Bitmap.createBitmap(\n            view.width,\n            view.height,\n            Bitmap.Config.RGB_565\n        )\n\n        val canvas = Canvas(drawingCache)\n        canvas.drawColor(Color.WHITE)\n\n        view.draw(canvas)\n        bitmapCache.put(cacheIndex++, drawingCache)\n        bigHeight += view.measuredHeight\n    }\n\n    private fun getItemView(\n        view: RecyclerView,\n        adapter: RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;,\n        i: Int\n    ): View {\n        val holder = adapter.createViewHolder(view, adapter.getItemViewType(i))\n        adapter.onBindViewHolder(holder, i)\n\n        holder.itemView.measure(\n            View.MeasureSpec.makeMeasureSpec(view.width, View.MeasureSpec.EXACTLY),\n            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\n        )\n\n        holder.itemView.layout(\n            0,\n            0,\n            holder.itemView.measuredWidth,\n            holder.itemView.measuredHeight\n        )\n\n        return holder.itemView\n    }\n}\n</code></pre>\n<p><strong>How to use it?</strong></p>\n<p>Simply pass a view (it can be a <code>LinearLayoutCompat</code> or a <code>RecyclerView</code>).</p>\n<pre><code>val composer = BitmapComposer()\nval bitmap = composer.getViewAsBitmap(view)\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>In order to <strong>center elements</strong> (e.g. <code>TextView</code>s), I used <code>android:layout_width=&quot;match_parent&quot;</code> and <code>android:gravity=&quot;center&quot;</code> as a workaround.</li>\n<li>I haven't tested with other <code>ViewGroup</code>s, but works fine for a <code>LinearLayout</code> containing a <code>RecyclerView</code> and other simple views.</li>\n</ul>\n"}],"owner":{"account_id":181954,"reputation":1137,"user_id":416319,"accept_rate":100,"display_name":"davis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11626,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":31017673,"answer_count":7,"score":12,"last_activity_date":1696397657,"creation_date":1430937825,"question_id":30085063,"body_markdown":"I want to get a &quot;full page&quot; screenshot of the activity. The view contains a RecyclerView with many items.\r\n\r\nI can take a screenshot of the current view with this function:\r\n\r\n    public Bitmap getScreenBitmap() {\r\n        View v= findViewById(R.id.container).getRootView();\r\n        v.setDrawingCacheEnabled(true);\r\n        v.buildDrawingCache(true);\r\n        Bitmap b = Bitmap.createBitmap(v.getDrawingCache());\r\n        v.setDrawingCacheEnabled(false); // clear drawing cache\r\n        return b;\r\n    }\r\n\r\nBut it contains only the items I can view normally (as expected).\r\n\r\n**Is there some way to make the RecyclerView magically show in full length (display all items at once) when I take the screenshot?**\r\n\r\nIf not, how should I approach this problem?","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>I want to get a \"full page\" screenshot of the activity. The view contains a RecyclerView with many items.</p>\n\n<p>I can take a screenshot of the current view with this function:</p>\n\n<pre><code>public Bitmap getScreenBitmap() {\n    View v= findViewById(R.id.container).getRootView();\n    v.setDrawingCacheEnabled(true);\n    v.buildDrawingCache(true);\n    Bitmap b = Bitmap.createBitmap(v.getDrawingCache());\n    v.setDrawingCacheEnabled(false); // clear drawing cache\n    return b;\n}\n</code></pre>\n\n<p>But it contains only the items I can view normally (as expected).</p>\n\n<p><strong>Is there some way to make the RecyclerView magically show in full length (display all items at once) when I take the screenshot?</strong></p>\n\n<p>If not, how should I approach this problem?</p>\n"},{"tags":["java","android","flutter","react-native"],"answers":[{"tags":[],"owner":{"account_id":13388424,"reputation":277,"user_id":9661508,"display_name":"Oluwatosin Solarin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667117728,"creation_date":1667117728,"answer_id":74251460,"question_id":74251459,"body_markdown":"For me what worked was to uninstall all manually installed java versions I mean java installations via installer, or let&#39;s say uninstall all java installations at `/Library/Java/JavaVirtualMachines/`.\r\n\r\n 1. run `/usr/libexec/java_home -v 1.8.0_06 --exec javac -version` to see all currently installed java versions.\r\n 2. run `sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk` on each of the jdk versions.\r\n 3. Check the JDK location in Android Studio, you can find that under `Android Studio &gt; Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle` make sure whatever JDK is selected is at the location `/Applications/Android Studio.app/Contents/jre/Contents/Home`, this is Android Studio&#39;s downloaded JDK location, if you can&#39;t find the JDK you want to use in the dropdown of downloaded JDKs, use the download JDK button in the dropdown. \r\n 4. try running the application again it should now use the JDK set by android studio. ","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>For me what worked was to uninstall all manually installed java versions I mean java installations via installer, or let's say uninstall all java installations at <code>/Library/Java/JavaVirtualMachines/</code>.</p>\n<ol>\n<li>run <code>/usr/libexec/java_home -v 1.8.0_06 --exec javac -version</code> to see all currently installed java versions.</li>\n<li>run <code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk</code> on each of the jdk versions.</li>\n<li>Check the JDK location in Android Studio, you can find that under <code>Android Studio &gt; Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle</code> make sure whatever JDK is selected is at the location <code>/Applications/Android Studio.app/Contents/jre/Contents/Home</code>, this is Android Studio's downloaded JDK location, if you can't find the JDK you want to use in the dropdown of downloaded JDKs, use the download JDK button in the dropdown.</li>\n<li>try running the application again it should now use the JDK set by android studio.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695487749,"creation_date":1695487749,"answer_id":77164037,"question_id":74251459,"body_markdown":"If you are working with flutter, I just figured out the solution \r\nAll I did is to add\r\n\r\n    org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\r\n\r\nto the `gradle.properties` file\r\n\r\nSee this link : [How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76207178/15721679","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>If you are working with flutter, I just figured out the solution\nAll I did is to add</p>\n<pre><code>org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\n</code></pre>\n<p>to the <code>gradle.properties</code> file</p>\n<p>See this link : <a href=\"https://stackoverflow.com/a/76207178/15721679\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not 'opens {package}' to {B}&quot;) on Java 9?</a></p>\n"},{"comments":[{"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"score":0,"creation_date":1696715458,"post_id":77226946,"comment_id":136189502,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/35081821)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/35081821\">From Review</a>"}],"tags":[],"owner":{"account_id":29593538,"reputation":11,"user_id":22680527,"display_name":"Vedant Dhumane"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696397305,"creation_date":1696397305,"answer_id":77226946,"question_id":74251459,"body_markdown":"If you are working with Android(Java),try lowering the JDK version to 11 or 8(JDK 1.8)","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>If you are working with Android(Java),try lowering the JDK version to 11 or 8(JDK 1.8)</p>\n"}],"owner":{"account_id":13388424,"reputation":277,"user_id":9661508,"display_name":"Oluwatosin Solarin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11429,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696397305,"creation_date":1667117728,"question_id":74251459,"body_markdown":"[Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @fb04536]","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>[Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @fb04536]</p>\n"},{"tags":["java","android","android-studio","android-layout"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676468852,"post_id":75373490,"comment_id":133142357,"body_markdown":"That is a long stack dump: 89 calls deep. Is that normal?","body":"That is a long stack dump: 89 calls deep. Is that normal?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676469094,"post_id":75373490,"comment_id":133142440,"body_markdown":"What version of Android Studio?","body":"What version of Android Studio?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676469363,"post_id":75373490,"comment_id":133142544,"body_markdown":"Is there some implicit infinite recursion in your data?","body":"Is there some implicit infinite recursion in your data?"},{"owner":{"account_id":6255346,"reputation":44,"user_id":5437295,"display_name":"Dimitris Katikaridis"},"score":0,"creation_date":1676631770,"post_id":75373490,"comment_id":133180696,"body_markdown":"i honestly do not know why this stack dump is long...\nI tested it on both latest stable and canary builds\n\nrecursion in my XML? do u see something like this? i dont think so i do :/","body":"i honestly do not know why this stack dump is long... I tested it on both latest stable and canary builds  recursion in my XML? do u see something like this? i dont think so i do :/"}],"answers":[{"comments":[{"owner":{"account_id":6255346,"reputation":44,"user_id":5437295,"display_name":"Dimitris Katikaridis"},"score":1,"creation_date":1676273243,"post_id":75407391,"comment_id":133096719,"body_markdown":"what exactly is this ?","body":"what exactly is this ?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676470234,"post_id":75407391,"comment_id":133142864,"body_markdown":"@Dimitris Katikaridis: It is a code dump. We have no idea why they are doing this. Perhaps they have a commission to generate a certain number of reputation points through [Fiverr](https://en.wikipedia.org/wiki/Fiverr) and are sprinkling more or less random code over mostly year-old questions (though not in this particular case) in the hope of a random upvote. That time could be spend so much better, e.g., by escaping illiteracy and improving their English.","body":"@Dimitris Katikaridis: It is a code dump. We have no idea why they are doing this. Perhaps they have a commission to generate a certain number of reputation points through <a href=\"https://en.wikipedia.org/wiki/Fiverr\" rel=\"nofollow noreferrer\">Fiverr</a> and are sprinkling more or less random code over mostly year-old questions (though not in this particular case) in the hope of a random upvote. That time could be spend so much better, e.g., by escaping illiteracy and improving their English."}],"tags":[],"owner":{"account_id":10780313,"reputation":192,"user_id":7931023,"display_name":"Ashfaque"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676008144,"creation_date":1676008144,"answer_id":75407391,"question_id":75373490,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n\t\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n\t\tandroid:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/appbar&quot;\r\n            layout=&quot;@layout/layout_appbar&quot; /&gt;\r\n    \r\n  \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:layout_marginBottom=&quot;10dp&quot;&gt;\r\n       &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;","title":"NestedScrollView breaks suggestions in Android Studio","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/appbar&quot;\n        layout=&quot;@layout/layout_appbar&quot; /&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n   &lt;/LinearLayout&gt;\n</code></pre>\n\n"},{"comments":[{"owner":{"account_id":6255346,"reputation":44,"user_id":5437295,"display_name":"Dimitris Katikaridis"},"score":0,"creation_date":1676292800,"post_id":75424481,"comment_id":133101807,"body_markdown":"i tried it many times and it didnt work. i think its something deeper","body":"i tried it many times and it didnt work. i think its something deeper"},{"owner":{"account_id":26373002,"reputation":26,"user_id":20027397,"display_name":"Ankit Kumar Sen"},"score":0,"creation_date":1697035267,"post_id":75424481,"comment_id":136229233,"body_markdown":"Check From Where the NullPointerExecption is Coming","body":"Check From Where the NullPointerExecption is Coming"}],"tags":[],"owner":{"account_id":26373002,"reputation":26,"user_id":20027397,"display_name":"Ankit Kumar Sen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397210,"creation_date":1676167162,"answer_id":75424481,"question_id":75373490,"body_markdown":"You can try using Ctrl + Space to trigger suggestions within a NestedScrollView, as this shortcut should work both inside and outside of it. Also, make sure you&#39;re using the latest Android Studio version and attempt to resolve the issue by cleaning, rebuilding, and syncing your project, as these steps often help address problems within Android Studio.","title":"NestedScrollView breaks suggestions in Android Studio","body":"<p>You can try using Ctrl + Space to trigger suggestions within a NestedScrollView, as this shortcut should work both inside and outside of it. Also, make sure you're using the latest Android Studio version and attempt to resolve the issue by cleaning, rebuilding, and syncing your project, as these steps often help address problems within Android Studio.</p>\n"}],"owner":{"account_id":6255346,"reputation":44,"user_id":5437295,"display_name":"Dimitris Katikaridis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696397210,"creation_date":1675773490,"question_id":75373490,"body_markdown":"Here is the strange behavior. I have this layout:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/appbar&quot;\r\n        layout=&quot;@layout/layout_appbar&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n   &lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nSo far, everything seems perfect. Although, if I replace the LinearLayout with a NestedScrollView, all of a sudden, the suggestions just do not work! If I remove the nested scrollview, everything seems to work again. Here are my gradle dependencies:\r\n\r\n&gt;     implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n&gt;     implementation &#39;androidx.appcompat:appcompat-resources:1.6.0&#39;\r\n&gt;     implementation &#39;androidx.core:core:1.9.0&#39;\r\n&gt;     implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n&gt;\r\n&gt;     implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n&gt;     implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n&gt;     implementation &#39;com.android.support:support-annotations:28.0.0&#39;\r\n&gt;     implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.5&#39;\r\n&gt;     implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n&gt;     implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n&gt;     implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n&gt;     implementation &#39;org.apache.commons:commons-io:1.3.2&#39;\r\n&gt;     implementation &#39;androidx.fragment:fragment:1.5.5&#39; //  Forecast Charts\r\n&gt;     implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39; //  maps v2\r\n&gt;     implementation &#39;androidx.asynclayoutinflater:asynclayoutinflater:1.0.0&#39;\r\n&gt;     implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n&gt;     implementation &#39;com.google.maps.android:android-maps-utils:2.4.0&#39;\r\n&gt;     // needed for timestamps manip\r\n&gt;     implementation &#39;net.danlew:android.joda:2.11.2&#39;\r\n&gt;\r\n&gt;     implementation &quot;androidx.camera:camera-camera2:1.2.1&quot;\r\n&gt;     implementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\r\n&gt;     implementation &quot;androidx.camera:camera-view:1.2.1&quot;\r\n&gt;\r\n&gt;     implementation &#39;com.google.android.gms:play-services-mlkit-barcode-scanning:18.1.0&#39;\r\n&gt;     //implementation &#39;com.google.mlkit:barcode-scanning:17.0.2&#39;\r\n&gt;\r\n&gt;     implementation &#39;androidx.window:window:1.0.0&#39;\r\n\r\nwhile my gradle is gradle-7.5-bin.zip and my plugins are\r\n\r\n```lang-none\r\nplugins {\r\n     id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n     id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n     id &#39;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&#39;\r\nversion &#39;2.0.1&#39; apply false }\r\n```\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nAlso a popup of broken IDE is appeared and here is the log:\r\n\r\n```lang-none\r\njava.lang.NullPointerException\r\nat org.jetbrains.android.dom.AttributeProcessingUtil.registerAttributesForClassAndSuperclasses(AttributeProcessingUtil.java:315)\r\nat org.jetbrains.android.dom.AttributeProcessingUtil.processLayoutAttributes(AttributeProcessingUtil.java:604)\r\nat org.jetbrains.android.dom.AttributeProcessingUtil.processAttributes(AttributeProcessingUtil.java:681)\r\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:56)\r\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:28)\r\nat com.intellij.util.xml.reflect.DomExtenderEP.extend(DomExtenderEP.java:91)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.runDomExtenders(DynamicGenericInfo.java:124)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.lambda$checkInitialized$0(DynamicGenericInfo.java:55)\r\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\r\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\r\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.checkInitialized(DynamicGenericInfo.java:54)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.getAttributeChildrenDescriptions(DynamicGenericInfo.java:231)\r\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:184)\r\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:195)\r\nat org.jetbrains.android.dom.layout.LayoutElementDescriptor.getAttributeDescriptor(LayoutElementDescriptors.kt:124)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptionImpl(XmlAttributeDelegate.java:68)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.lambda$getDescriptor$0(XmlAttributeDelegate.java:55)\r\nat com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:158)\r\nat com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:39)\r\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$3(CachedValueBase.java:227)\r\nat com.intellij.util.CachedValueBase.computeData(CachedValueBase.java:42)\r\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$4(CachedValueBase.java:227)\r\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\r\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\r\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\r\nat com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:228)\r\nat com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:28)\r\nat com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:72)\r\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:155)\r\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:121)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptor(XmlAttributeDelegate.java:53)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeImpl.getDescriptor(XmlAttributeImpl.java:191)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:23)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:20)\r\nat com.intellij.openapi.util.NullableLazyValue.getValue(NullableLazyValue.java:20)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.getDescriptor(XmlAttributeReference.java:110)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.resolve(XmlAttributeReference.java:50)\r\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:177)\r\nat com.intellij.codeInsight.TargetElementUtilBase.doGetReferenceOrReferencedElement(TargetElementUtilBase.java:165)\r\nat com.intellij.codeInsight.TargetElementUtilBase.getReferenceOrReferencedElement(TargetElementUtilBase.java:210)\r\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:254)\r\nat com.intellij.codeInsight.TargetElementUtilBase.doFindTargetElement(TargetElementUtilBase.java:233)\r\nat com.intellij.codeInsight.TargetElementUtilBase.findTargetElement(TargetElementUtilBase.java:298)\r\nat com.intellij.codeInsight.TargetElementUtil.findTargetElement(TargetElementUtil.java:147)\r\nat com.jetbrains.cidr.lang.psi.impl.OCTargetElementUtil.findTargetElement(OCTargetElementUtil.java:47)\r\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getPsiElementIn(TextEditorPsiDataProvider.java:226)\r\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getSlowData(TextEditorPsiDataProvider.java:139)\r\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.lambda$getData$0(TextEditorPsiDataProvider.java:93)\r\nat com.intellij.ide.impl.DataManagerImpl.getSlowData(DataManagerImpl.java:153)\r\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$2(DataManagerImpl.java:121)\r\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$4(DataManagerImpl.java:126)\r\nat com.intellij.ide.impl.DataManagerImpl.getDataFromProvider(DataManagerImpl.java:77)\r\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext.getData(PreCachedDataContext.java:182)\r\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext$InjectedDataContext.getData(PreCachedDataContext.java:327)\r\nat com.intellij.openapi.actionSystem.DataKey.getData(DataKey.java:63)\r\nat org.jetbrains.android.quickDefinitions.AndroidImplementationViewSessionFactory.createSession(AndroidImplementationViewSession.kt:55)\r\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.performForContext(ShowRelatedElementsActionBase.java:86)\r\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.actionPerformed(ShowRelatedElementsActionBase.java:63)\r\nat com.intellij.openapi.keymap.impl.ActionProcessor.performAction(ActionProcessor.java:65)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$1.performAction(IdeKeyEventDispatcher.java:579)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$10(IdeKeyEventDispatcher.java:704)\r\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:106)\r\nat com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:95)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$11(IdeKeyEventDispatcher.java:704)\r\nat com.intellij.openapi.actionSystem.ex.ActionUtil.performDumbAwareWithCallbacks(ActionUtil.java:256)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.doPerformActionInner(IdeKeyEventDispatcher.java:701)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:645)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:590)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processActionOrWaitSecondStroke(IdeKeyEventDispatcher.java:473)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:462)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:227)\r\nat com.intellij.ide.IdeEventQueue.dispatchKeyEvent(IdeEventQueue.java:804)\r\nat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:740)\r\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$6(IdeEventQueue.java:439)\r\nat com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:803)\r\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$7(IdeEventQueue.java:438)\r\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:119)\r\nat com.intellij.ide.IdeEventQueue.performActivity(IdeEventQueue.java:604)\r\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$8(IdeEventQueue.java:436)\r\nat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:873)\r\nat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:484)\r\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/c7isQ.png\r\n  [2]: https://i.stack.imgur.com/w252x.png\r\n","title":"NestedScrollView breaks suggestions in Android Studio","body":"<p>Here is the strange behavior. I have this layout:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/appbar&quot;\n        layout=&quot;@layout/layout_appbar&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n   &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>So far, everything seems perfect. Although, if I replace the LinearLayout with a NestedScrollView, all of a sudden, the suggestions just do not work! If I remove the nested scrollview, everything seems to work again. Here are my gradle dependencies:</p>\n<blockquote>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.0'\nimplementation 'androidx.appcompat:appcompat-resources:1.6.0'\nimplementation 'androidx.core:core:1.9.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n\nimplementation 'androidx.navigation:navigation-fragment:2.5.3'\nimplementation 'androidx.navigation:navigation-ui:2.5.3'\nimplementation 'com.android.support:support-annotations:28.0.0'\nimplementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.5'\nimplementation 'com.google.android.gms:play-services-location:21.0.1'\nimplementation 'com.squareup.picasso:picasso:2.71828'\nimplementation 'androidx.preference:preference:1.2.0'\nimplementation 'org.apache.commons:commons-io:1.3.2'\nimplementation 'androidx.fragment:fragment:1.5.5' //  Forecast Charts\nimplementation 'com.github.PhilJay:MPAndroidChart:v3.1.0' //  maps v2\nimplementation 'androidx.asynclayoutinflater:asynclayoutinflater:1.0.0'\nimplementation 'com.google.android.gms:play-services-maps:18.1.0'\nimplementation 'com.google.maps.android:android-maps-utils:2.4.0'\n// needed for timestamps manip\nimplementation 'net.danlew:android.joda:2.11.2'\n\nimplementation &quot;androidx.camera:camera-camera2:1.2.1&quot;\nimplementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\nimplementation &quot;androidx.camera:camera-view:1.2.1&quot;\n\nimplementation 'com.google.android.gms:play-services-mlkit-barcode-scanning:18.1.0'\n//implementation 'com.google.mlkit:barcode-scanning:17.0.2'\n\nimplementation 'androidx.window:window:1.0.0'\n</code></pre>\n</blockquote>\n<p>while my gradle is gradle-7.5-bin.zip and my plugins are</p>\n<pre class=\"lang-none prettyprint-override\"><code>plugins {\n     id 'com.android.application' version '7.4.1' apply false\n     id 'com.android.library' version '7.4.1' apply false\n     id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin'\nversion '2.0.1' apply false }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/c7isQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c7isQ.png\" alt=\"Enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/w252x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w252x.png\" alt=\"Enter image description here\" /></a></p>\n<p>Also a popup of broken IDE is appeared and here is the log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\nat org.jetbrains.android.dom.AttributeProcessingUtil.registerAttributesForClassAndSuperclasses(AttributeProcessingUtil.java:315)\nat org.jetbrains.android.dom.AttributeProcessingUtil.processLayoutAttributes(AttributeProcessingUtil.java:604)\nat org.jetbrains.android.dom.AttributeProcessingUtil.processAttributes(AttributeProcessingUtil.java:681)\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:56)\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:28)\nat com.intellij.util.xml.reflect.DomExtenderEP.extend(DomExtenderEP.java:91)\nat com.intellij.util.xml.impl.DynamicGenericInfo.runDomExtenders(DynamicGenericInfo.java:124)\nat com.intellij.util.xml.impl.DynamicGenericInfo.lambda$checkInitialized$0(DynamicGenericInfo.java:55)\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\nat com.intellij.util.xml.impl.DynamicGenericInfo.checkInitialized(DynamicGenericInfo.java:54)\nat com.intellij.util.xml.impl.DynamicGenericInfo.getAttributeChildrenDescriptions(DynamicGenericInfo.java:231)\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:184)\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:195)\nat org.jetbrains.android.dom.layout.LayoutElementDescriptor.getAttributeDescriptor(LayoutElementDescriptors.kt:124)\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptionImpl(XmlAttributeDelegate.java:68)\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.lambda$getDescriptor$0(XmlAttributeDelegate.java:55)\nat com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:158)\nat com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:39)\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$3(CachedValueBase.java:227)\nat com.intellij.util.CachedValueBase.computeData(CachedValueBase.java:42)\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$4(CachedValueBase.java:227)\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\nat com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:228)\nat com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:28)\nat com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:72)\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:155)\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:121)\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptor(XmlAttributeDelegate.java:53)\nat com.intellij.psi.impl.source.xml.XmlAttributeImpl.getDescriptor(XmlAttributeImpl.java:191)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:23)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:20)\nat com.intellij.openapi.util.NullableLazyValue.getValue(NullableLazyValue.java:20)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.getDescriptor(XmlAttributeReference.java:110)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.resolve(XmlAttributeReference.java:50)\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:177)\nat com.intellij.codeInsight.TargetElementUtilBase.doGetReferenceOrReferencedElement(TargetElementUtilBase.java:165)\nat com.intellij.codeInsight.TargetElementUtilBase.getReferenceOrReferencedElement(TargetElementUtilBase.java:210)\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:254)\nat com.intellij.codeInsight.TargetElementUtilBase.doFindTargetElement(TargetElementUtilBase.java:233)\nat com.intellij.codeInsight.TargetElementUtilBase.findTargetElement(TargetElementUtilBase.java:298)\nat com.intellij.codeInsight.TargetElementUtil.findTargetElement(TargetElementUtil.java:147)\nat com.jetbrains.cidr.lang.psi.impl.OCTargetElementUtil.findTargetElement(OCTargetElementUtil.java:47)\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getPsiElementIn(TextEditorPsiDataProvider.java:226)\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getSlowData(TextEditorPsiDataProvider.java:139)\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.lambda$getData$0(TextEditorPsiDataProvider.java:93)\nat com.intellij.ide.impl.DataManagerImpl.getSlowData(DataManagerImpl.java:153)\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$2(DataManagerImpl.java:121)\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$4(DataManagerImpl.java:126)\nat com.intellij.ide.impl.DataManagerImpl.getDataFromProvider(DataManagerImpl.java:77)\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext.getData(PreCachedDataContext.java:182)\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext$InjectedDataContext.getData(PreCachedDataContext.java:327)\nat com.intellij.openapi.actionSystem.DataKey.getData(DataKey.java:63)\nat org.jetbrains.android.quickDefinitions.AndroidImplementationViewSessionFactory.createSession(AndroidImplementationViewSession.kt:55)\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.performForContext(ShowRelatedElementsActionBase.java:86)\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.actionPerformed(ShowRelatedElementsActionBase.java:63)\nat com.intellij.openapi.keymap.impl.ActionProcessor.performAction(ActionProcessor.java:65)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$1.performAction(IdeKeyEventDispatcher.java:579)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$10(IdeKeyEventDispatcher.java:704)\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:106)\nat com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:95)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$11(IdeKeyEventDispatcher.java:704)\nat com.intellij.openapi.actionSystem.ex.ActionUtil.performDumbAwareWithCallbacks(ActionUtil.java:256)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.doPerformActionInner(IdeKeyEventDispatcher.java:701)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:645)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:590)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processActionOrWaitSecondStroke(IdeKeyEventDispatcher.java:473)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:462)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:227)\nat com.intellij.ide.IdeEventQueue.dispatchKeyEvent(IdeEventQueue.java:804)\nat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:740)\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$6(IdeEventQueue.java:439)\nat com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:803)\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$7(IdeEventQueue.java:438)\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:119)\nat com.intellij.ide.IdeEventQueue.performActivity(IdeEventQueue.java:604)\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$8(IdeEventQueue.java:436)\nat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:873)\nat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:484)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695905242,"post_id":77194037,"comment_id":136087981,"body_markdown":"Why would you need to do that programmatically. add `${YOUR_PROPERTY_NAME}` as the value, add `&lt;context:property-placeholder /&gt;` to your XML and restart. No need to make it more complex then that.","body":"Why would you need to do that programmatically. add <code>${YOUR_PROPERTY_NAME}</code> as the value, add <code>&lt;context:property-placeholder &#47;&gt;</code> to your XML and restart. No need to make it more complex then that."},{"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"score":0,"creation_date":1695907018,"post_id":77194037,"comment_id":136088419,"body_markdown":"I need to read the repeatInterval from the database after application start. That&#39;s why I need to set it programmatically i think.","body":"I need to read the repeatInterval from the database after application start. That&#39;s why I need to set it programmatically i think."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695909447,"post_id":77194037,"comment_id":136089008,"body_markdown":"That is not what you stated in your question, there it is a system property. If you want relevant answers then ask the actual question.","body":"That is not what you stated in your question, there it is a system property. If you want relevant answers then ask the actual question."}],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397032,"creation_date":1696397032,"answer_id":77226938,"question_id":77194037,"body_markdown":"So what you want to achieve is, you have interval stored in DB, and you want your jobs to be scheduled based on that value in DB.\r\n\r\nFirst possibility is, keep defining the schedule job in your app context (e.g. XML), and make your DB one of your property source which you could get the value from DB and put in the placeholder.  However this is probably too complex and causing big effect to your overall application.\r\n\r\nAnother approach is, given `SchedulerFactoryBean` is basically creating a Quartz Scheduler for you, you could have your application access the DB to get whatever detail you want, and programmatically creating Quartz `JobDetail` and `Trigger` and add it to the `Scheduler` bean. ","title":"Programmatically access repeatInterval of XML-based Spring task scheduler","body":"<p>So what you want to achieve is, you have interval stored in DB, and you want your jobs to be scheduled based on that value in DB.</p>\n<p>First possibility is, keep defining the schedule job in your app context (e.g. XML), and make your DB one of your property source which you could get the value from DB and put in the placeholder.  However this is probably too complex and causing big effect to your overall application.</p>\n<p>Another approach is, given <code>SchedulerFactoryBean</code> is basically creating a Quartz Scheduler for you, you could have your application access the DB to get whatever detail you want, and programmatically creating Quartz <code>JobDetail</code> and <code>Trigger</code> and add it to the <code>Scheduler</code> bean.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696397032,"creation_date":1695895754,"question_id":77194037,"body_markdown":"I have this task scheduler. My problem is, that I have to read the repeatInterval from a database and have to set it accordingly, which I cannot do with this XML-configuration. How do I access this value in my groupChatNotificationService?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\r\n    \t xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot; &gt;\r\n    \t\r\n    \t&lt;!-- Handle scheduled event consumers --&gt;\r\n    \r\n    \t&lt;bean id=&quot;msgScheduledEventConsumersJob&quot; class=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;targetObject&quot; ref=&quot;groupChatNotificationService&quot; /&gt;\r\n    \t\t&lt;property name=&quot;targetMethod&quot; value=&quot;doNotify&quot; /&gt;\r\n    \t\t&lt;property name=&quot;concurrent&quot; value=&quot;false&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;msgScheduledEventConsumersTrigger&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;jobDetail&quot; ref=&quot;msgScheduledEventConsumersJob&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- 60 seconds --&gt;\r\n    \t\t&lt;property name=&quot;startDelay&quot; value=&quot;60000&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- repeat every 60 seconds --&gt;\r\n    \t\t&lt;property name=&quot;repeatInterval&quot; value=&quot;60000&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Scheduler --&gt;\r\n    \r\n    \t&lt;bean id=&quot;mlsScheduler&quot; class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;triggers&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;ref bean=&quot;msgScheduledEventConsumersTrigger&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nIt would be very easy if i would be using annotation-based schedulers, but I cannot do that because then the doNotify() method will be executed multiple consecutive times (probably problem with loading some app context multiple times). With this xml-based approach, the doNotify() is only executed once, but now i have to inject the repeatInterval from my system property to the job. ","title":"Programmatically access repeatInterval of XML-based Spring task scheduler","body":"<p>I have this task scheduler. My problem is, that I have to read the repeatInterval from a database and have to set it accordingly, which I cannot do with this XML-configuration. How do I access this value in my groupChatNotificationService?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\n     xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot; &gt;\n    \n    &lt;!-- Handle scheduled event consumers --&gt;\n\n    &lt;bean id=&quot;msgScheduledEventConsumersJob&quot; class=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt;\n        &lt;property name=&quot;targetObject&quot; ref=&quot;groupChatNotificationService&quot; /&gt;\n        &lt;property name=&quot;targetMethod&quot; value=&quot;doNotify&quot; /&gt;\n        &lt;property name=&quot;concurrent&quot; value=&quot;false&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;msgScheduledEventConsumersTrigger&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot;&gt;\n        &lt;property name=&quot;jobDetail&quot; ref=&quot;msgScheduledEventConsumersJob&quot; /&gt;\n\n        &lt;!-- 60 seconds --&gt;\n        &lt;property name=&quot;startDelay&quot; value=&quot;60000&quot; /&gt;\n\n        &lt;!-- repeat every 60 seconds --&gt;\n        &lt;property name=&quot;repeatInterval&quot; value=&quot;60000&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Scheduler --&gt;\n\n    &lt;bean id=&quot;mlsScheduler&quot; class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\n        &lt;property name=&quot;triggers&quot;&gt;\n            &lt;list&gt;\n                &lt;ref bean=&quot;msgScheduledEventConsumersTrigger&quot; /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>It would be very easy if i would be using annotation-based schedulers, but I cannot do that because then the doNotify() method will be executed multiple consecutive times (probably problem with loading some app context multiple times). With this xml-based approach, the doNotify() is only executed once, but now i have to inject the repeatInterval from my system property to the job.</p>\n"},{"tags":["java","selenium-webdriver","apache-poi","fileinputstream","xssfworkbook"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696400302,"post_id":77226931,"comment_id":136146036,"body_markdown":"This makes zero sense: `new FileOutputStream(String.valueOf(new FileInputStream(path)));` and is what&#39;s causing the problem. You&#39;re currently creating a file output stream, and as filename, you&#39;re using the `toString()` of a file input stream, which is **always** `&quot;java.io.FileInputStream@&lt;hashcode&gt;&quot;`.  You probably meant `new FileOutputStream(path)`, which will probably not work if the file is still open through `fis`.","body":"This makes zero sense: <code>new FileOutputStream(String.valueOf(new FileInputStream(path)));</code> and is what&#39;s causing the problem. You&#39;re currently creating a file output stream, and as filename, you&#39;re using the <code>toString()</code> of a file input stream, which is <b>always</b> <code>&quot;java.io.FileInputStream@&lt;hashcode&gt;&quot;</code>.  You probably meant <code>new FileOutputStream(path)</code>, which will probably not work if the file is still open through <code>fis</code>."},{"owner":{"account_id":6730033,"reputation":71,"user_id":5186734,"accept_rate":33,"display_name":"Sheena Tyagi"},"score":0,"creation_date":1696401228,"post_id":77226931,"comment_id":136146209,"body_markdown":"@MarkRotteveel Thanks for your input. I did the below changes \n\n            fis.close();\n            fileOut = new FileOutputStream(path);\n\n            workbook.write(fileOut);\n            fileOut.flush();\n            workbook.close();\n\nbut now I am getting .apache.poi.POIXMLException: java.lang.NullPointerException in \n  workbook.write(fileOut); line.","body":"@MarkRotteveel Thanks for your input. I did the below changes               fis.close();             fileOut = new FileOutputStream(path);              workbook.write(fileOut);             fileOut.flush();             workbook.close();  but now I am getting .apache.poi.POIXMLException: java.lang.NullPointerException in    workbook.write(fileOut); line."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696401462,"post_id":77226931,"comment_id":136146241,"body_markdown":"I&#39;d suggest to first try writing with a **different** file name without closing `fis`. It is entirely possible that POI can&#39;t write back to the same file (it has been a while since I used it), because it needs `fis` to remain open, or maybe check the POI documentation for this.","body":"I&#39;d suggest to first try writing with a <b>different</b> file name without closing <code>fis</code>. It is entirely possible that POI can&#39;t write back to the same file (it has been a while since I used it), because it needs <code>fis</code> to remain open, or maybe check the POI documentation for this."}],"owner":{"account_id":6730033,"reputation":71,"user_id":5186734,"accept_rate":33,"display_name":"Sheena Tyagi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696396952,"creation_date":1696396952,"question_id":77226931,"body_markdown":"I am facing an issue where everytime path is initialized to XSSFWorkbook, a file java.io.FileInputStream@51bde877 (51bde877 being a random number each time) is created in the root folder of my project.\r\nBelow is the sample code:\r\n```\r\n       try {\r\n            fis = new FileInputStream(path);\r\n            if (path.endsWith(&quot;.xls&quot;)) {\r\n                workbook = new HSSFWorkbook(fis);\r\n            }\r\n            if (path.endsWith(&quot;.xlsx&quot;)) {\r\n                workbook = new XSSFWorkbook(path);\r\n            }\r\n\r\n            if (rowNum &lt;= 0)\r\n                return false;\r\n\r\n            int index = workbook.getSheetIndex(sheetName);\r\n            if (index == -1)\r\n                return false;\r\n\r\n            sheet = workbook.getSheetAt(index);\r\n\r\n            int colNum = -1;\r\n            row = sheet.getRow(0);\r\n            for (int i = 0; i &lt; row.getLastCellNum(); i++) {\r\n                //   System.out.println(row.getCell(i).getStringCellValue().trim());\r\n                if (row.getCell(i).getStringCellValue().trim().equals(colName))\r\n                    colNum = i;\r\n            }\r\n\r\n            if (colNum == -1)\r\n                return false;\r\n\r\n            sheet.autoSizeColumn(colNum);\r\n            row = sheet.getRow(rowNum - 1);\r\n            if (row == null)\r\n                row = sheet.createRow(rowNum - 1);\r\n\r\n            cell = row.getCell(colNum);\r\n            if (cell == null)\r\n                cell = row.createCell(colNum);\r\n\r\n            cell.setCellValue(data);\r\n\r\n            //fis.close();\r\n\r\n            fileOut = new FileOutputStream(String.valueOf(new FileInputStream(path)));\r\n\r\n            workbook.write(fileOut);\r\n            fileOut.flush();\r\n            workbook.close();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n\r\n```\r\n\r\nHow should I prevent the creation of these junk files in my project?","title":"java.io.FileInputStream file is getting generated on calling excel reader using XSSFWorkbook","body":"<p>I am facing an issue where everytime path is initialized to XSSFWorkbook, a file java.io.FileInputStream@51bde877 (51bde877 being a random number each time) is created in the root folder of my project.\nBelow is the sample code:</p>\n<pre><code>       try {\n            fis = new FileInputStream(path);\n            if (path.endsWith(&quot;.xls&quot;)) {\n                workbook = new HSSFWorkbook(fis);\n            }\n            if (path.endsWith(&quot;.xlsx&quot;)) {\n                workbook = new XSSFWorkbook(path);\n            }\n\n            if (rowNum &lt;= 0)\n                return false;\n\n            int index = workbook.getSheetIndex(sheetName);\n            if (index == -1)\n                return false;\n\n            sheet = workbook.getSheetAt(index);\n\n            int colNum = -1;\n            row = sheet.getRow(0);\n            for (int i = 0; i &lt; row.getLastCellNum(); i++) {\n                //   System.out.println(row.getCell(i).getStringCellValue().trim());\n                if (row.getCell(i).getStringCellValue().trim().equals(colName))\n                    colNum = i;\n            }\n\n            if (colNum == -1)\n                return false;\n\n            sheet.autoSizeColumn(colNum);\n            row = sheet.getRow(rowNum - 1);\n            if (row == null)\n                row = sheet.createRow(rowNum - 1);\n\n            cell = row.getCell(colNum);\n            if (cell == null)\n                cell = row.createCell(colNum);\n\n            cell.setCellValue(data);\n\n            //fis.close();\n\n            fileOut = new FileOutputStream(String.valueOf(new FileInputStream(path)));\n\n            workbook.write(fileOut);\n            fileOut.flush();\n            workbook.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n\n</code></pre>\n<p>How should I prevent the creation of these junk files in my project?</p>\n"},{"tags":["java","dockable"],"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696396835,"creation_date":1696396835,"question_id":77226925,"body_markdown":"I would like to change the font color for DockableFrame&#39;s title and i&#39;ve tried using UIManager etc but it still doesn&#39;t work. My code below tried using custom label component and UIManager:\r\n\r\n    public static void main(String[] args){\r\n    \r\n    \tUIManager.put(&quot;DockableFrameTitlePane.showIcon&quot;, true);\r\n    \tUIManager.put(&quot;DockableFrame.titleForeground&quot;, Color.red);\r\n    \r\n    \tDockableFrame dock = bnew DockableFrame(&quot;Title&quot;, myIcon);\r\n    \r\n    \tJLabel label = new JLabel(&quot;Jlabel Title&quot;);\r\n    \tlabel.setForeground(Color.green);\r\n    \tdock.setTitleLabelComponent(label);\r\n    \r\n    \tJFrame frame = new JFrame(&quot;Frame&quot;);\r\n    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tframe.add(dock);\r\n    \tframe.pack();\r\n    \tframe.setVisible(true);\r\n    \r\n    }\r\n\r\nWhat was displayed was a dockable frame titled &quot;JLabel Frame&quot; in black text with my custom icon. How do i actually change the font color?","title":"DockableFrame title font color","body":"<p>I would like to change the font color for DockableFrame's title and i've tried using UIManager etc but it still doesn't work. My code below tried using custom label component and UIManager:</p>\n<pre><code>public static void main(String[] args){\n\n    UIManager.put(&quot;DockableFrameTitlePane.showIcon&quot;, true);\n    UIManager.put(&quot;DockableFrame.titleForeground&quot;, Color.red);\n\n    DockableFrame dock = bnew DockableFrame(&quot;Title&quot;, myIcon);\n\n    JLabel label = new JLabel(&quot;Jlabel Title&quot;);\n    label.setForeground(Color.green);\n    dock.setTitleLabelComponent(label);\n\n    JFrame frame = new JFrame(&quot;Frame&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.add(dock);\n    frame.pack();\n    frame.setVisible(true);\n\n}\n</code></pre>\n<p>What was displayed was a dockable frame titled &quot;JLabel Frame&quot; in black text with my custom icon. How do i actually change the font color?</p>\n"},{"tags":["java","spring","spring-boot","jackson","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"score":0,"creation_date":1696417727,"post_id":77226854,"comment_id":136149505,"body_markdown":"Thank&#39;s for your suggestion. Is there a way to make it work for all requests without adding those statements in each method?","body":"Thank&#39;s for your suggestion. Is there a way to make it work for all requests without adding those statements in each method?"},{"owner":{"account_id":22436273,"reputation":88,"user_id":16641483,"display_name":"Lofri97"},"score":0,"creation_date":1696488637,"post_id":77226854,"comment_id":136159821,"body_markdown":"Sorry for late. Customizing MappingJackson2HttpMessageConverter or adding ResponseBodyAdvice will hekp implement behavior in various requests.","body":"Sorry for late. Customizing MappingJackson2HttpMessageConverter or adding ResponseBodyAdvice will hekp implement behavior in various requests."}],"tags":[],"owner":{"account_id":22436273,"reputation":88,"user_id":16641483,"display_name":"Lofri97"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696395952,"creation_date":1696395533,"answer_id":77226854,"question_id":77224709,"body_markdown":"If the client can be distinguished through the header, JsonView can be used like below.\r\n\r\nController\r\n```java\r\npackage com.example.so77224709;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonView;\r\nimport org.springframework.http.converter.json.MappingJacksonValue;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestHeader;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public MappingJacksonValue getUser(@RequestHeader(&quot;Client-Meta-Data&quot;) String data) {\r\n        User user = new User();\r\n\r\n        MappingJacksonValue result = new MappingJacksonValue(user);\r\n        Class&lt;?&gt; viewClazz;\r\n        switch (data) {\r\n            case &quot;A&quot; :\r\n                viewClazz = User.ClientAView.class;\r\n                break;\r\n            case &quot;B&quot; :\r\n                viewClazz = User.ClientBView.class;\r\n                break;\r\n            case &quot;C&quot; :\r\n                viewClazz = User.ClientCView.class;\r\n                break;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Meta data not defined.&quot;);\r\n        }\r\n        result.setSerializationView(viewClazz);\r\n        return result;\r\n    }\r\n\r\n\r\n    public static class User {\r\n        public interface ClientAView {};\r\n        public interface ClientBView {};\r\n        public interface ClientCView {};\r\n\r\n        @JsonView(ClientAView.class)\r\n        public String a = &quot;a&quot;;\r\n\r\n        @JsonView(ClientBView.class)\r\n        public String b = &quot;b&quot;;\r\n\r\n        @JsonView(ClientCView.class)\r\n        public String c = &quot;c&quot;;\r\n    }\r\n}\r\n```\r\nRequest\r\n```curl\r\ncurl --location --request GET &#39;localhost:8080/user&#39; \\\r\n--header &#39;Client-Meta-Data: B&#39;\r\n```\r\nResponse\r\n```json\r\n{\r\n    &quot;b&quot;: &quot;b&quot;\r\n}\r\n```\r\n\r\nThis code is example code.\r\nI would implement a resolver that resolve client specific view through the header and replace the switch statement.","title":"Spring boot endpoints with JsonView for multiple clients","body":"<p>If the client can be distinguished through the header, JsonView can be used like below.</p>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.so77224709;\n\nimport com.fasterxml.jackson.annotation.JsonView;\nimport org.springframework.http.converter.json.MappingJacksonValue;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TestController {\n\n    @GetMapping(&quot;/user&quot;)\n    public MappingJacksonValue getUser(@RequestHeader(&quot;Client-Meta-Data&quot;) String data) {\n        User user = new User();\n\n        MappingJacksonValue result = new MappingJacksonValue(user);\n        Class&lt;?&gt; viewClazz;\n        switch (data) {\n            case &quot;A&quot; :\n                viewClazz = User.ClientAView.class;\n                break;\n            case &quot;B&quot; :\n                viewClazz = User.ClientBView.class;\n                break;\n            case &quot;C&quot; :\n                viewClazz = User.ClientCView.class;\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Meta data not defined.&quot;);\n        }\n        result.setSerializationView(viewClazz);\n        return result;\n    }\n\n\n    public static class User {\n        public interface ClientAView {};\n        public interface ClientBView {};\n        public interface ClientCView {};\n\n        @JsonView(ClientAView.class)\n        public String a = &quot;a&quot;;\n\n        @JsonView(ClientBView.class)\n        public String b = &quot;b&quot;;\n\n        @JsonView(ClientCView.class)\n        public String c = &quot;c&quot;;\n    }\n}\n</code></pre>\n<p>Request</p>\n<pre><code>curl --location --request GET 'localhost:8080/user' \\\n--header 'Client-Meta-Data: B'\n</code></pre>\n<p>Response</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;b&quot;: &quot;b&quot;\n}\n</code></pre>\n<p>This code is example code.\nI would implement a resolver that resolve client specific view through the header and replace the switch statement.</p>\n"}],"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696395952,"creation_date":1696357655,"question_id":77224709,"body_markdown":"I&#39;m creating endpoints with Spring Boot and I have many clients that will consume them. I would like to some fields of response when some client make a request and show them for others. I&#39;m a using JsonView from Jackson package, I readed that documentation: https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html It works fine. But my use case is a bit different. An endpoint can be called by many clients. I know the requester by meta data in request header. Each client has its class view.\r\n\r\nI would like each time a client make a request, JsonView consider its view class and ignore others and so on. But I don&#39;t know how to do it. Can someone help me?","title":"Spring boot endpoints with JsonView for multiple clients","body":"<p>I'm creating endpoints with Spring Boot and I have many clients that will consume them. I would like to some fields of response when some client make a request and show them for others. I'm a using JsonView from Jackson package, I readed that documentation: <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html</a> It works fine. But my use case is a bit different. An endpoint can be called by many clients. I know the requester by meta data in request header. Each client has its class view.</p>\n<p>I would like each time a client make a request, JsonView consider its view class and ignore others and so on. But I don't know how to do it. Can someone help me?</p>\n"},{"tags":["java","android","angular","cordova","ionic5"],"owner":{"account_id":18243423,"reputation":403,"user_id":13280037,"display_name":"Zaman Rajpoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696395893,"creation_date":1696367644,"question_id":77225548,"body_markdown":"Full log when generating the apk, \r\nJava version is jdk8\r\nandroid platform version is 8.1.0 using android@8.1.0\r\n\r\n```\r\n\r\nThe following dependencies are project dependencies that are direct or have transitive dependencies that lead to the art\r\nifact with the issue.\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-auth-api-phone@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-base@17.1.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-crashlytics-ndk@17.0.1\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-messaging@20.2.1\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-measurement-api@17.4.3\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-clearcut@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-perf@19.0.7\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-location@16.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-firestore@21.4.3\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-database-collection@17.0.1\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-auth@18.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-auth-base@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-tagmanager-api@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-iid-interop@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-iid@20.2.1\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-auth@19.3.1\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-location@16.+\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-analytics@17.4.3\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-analytics-impl@17.0.0\r\n-- Project &#39;app&#39; depends onto com.onesignal:OneSignal@4.8.5\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-crashlytics@17.0.1\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-config@19.1.4\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-tagmanager@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-auth-interop@19.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-phenotype@17.0.0\r\n\r\nFor extended debugging info execute Gradle from the command line with ./gradlew --info :app:assembleDebug to see the dep\r\nendency paths to the artifact. This error message came from the google-services Gradle plugin, report issues at https://\r\ngithub.com/google/play-services-plugins and disable by adding &quot;googleServices { disableVersionCheck = false }&quot; to your b\r\nuild.gradle file.\r\n\r\n\r\n```\r\n\r\nI want to make a successfull debugable apk.","title":"Cordova 10.0.0 and Ionic 5.6 version is running on web, but not generate apk","body":"<p>Full log when generating the apk,\nJava version is jdk8\nandroid platform version is 8.1.0 using android@8.1.0</p>\n<pre><code>\nThe following dependencies are project dependencies that are direct or have transitive dependencies that lead to the art\nifact with the issue.\n-- Project 'app' depends onto com.google.android.gms:play-services-auth-api-phone@17.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-base@17.1.0\n-- Project 'app' depends onto com.google.firebase:firebase-crashlytics-ndk@17.0.1\n-- Project 'app' depends onto com.google.firebase:firebase-messaging@20.2.1\n-- Project 'app' depends onto com.google.android.gms:play-services-measurement-api@17.4.3\n-- Project 'app' depends onto com.google.android.gms:play-services-clearcut@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-perf@19.0.7\n-- Project 'app' depends onto com.google.android.gms:play-services-location@16.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-firestore@21.4.3\n-- Project 'app' depends onto com.google.firebase:firebase-database-collection@17.0.1\n-- Project 'app' depends onto com.google.android.gms:play-services-auth@18.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-auth-base@17.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-tagmanager-api@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-iid-interop@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-iid@20.2.1\n-- Project 'app' depends onto com.google.firebase:firebase-auth@19.3.1\n-- Project 'app' depends onto com.google.android.gms:play-services-location@16.+\n-- Project 'app' depends onto com.google.firebase:firebase-analytics@17.4.3\n-- Project 'app' depends onto com.google.android.gms:play-services-analytics-impl@17.0.0\n-- Project 'app' depends onto com.onesignal:OneSignal@4.8.5\n-- Project 'app' depends onto com.google.firebase:firebase-crashlytics@17.0.1\n-- Project 'app' depends onto com.google.firebase:firebase-config@19.1.4\n-- Project 'app' depends onto com.google.android.gms:play-services-tagmanager@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-auth-interop@19.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-phenotype@17.0.0\n\nFor extended debugging info execute Gradle from the command line with ./gradlew --info :app:assembleDebug to see the dep\nendency paths to the artifact. This error message came from the google-services Gradle plugin, report issues at https://\ngithub.com/google/play-services-plugins and disable by adding &quot;googleServices { disableVersionCheck = false }&quot; to your b\nuild.gradle file.\n\n\n</code></pre>\n<p>I want to make a successfull debugable apk.</p>\n"},{"tags":["java","installation"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637265209,"post_id":70025668,"comment_id":123786984,"body_markdown":"You‚Äôll need to explain each of your first two sentences in detail. Also, how have none of the many existing Questions and Answers on this topic not addressed your issue?","body":"You‚Äôll need to explain each of your first two sentences in detail. Also, how have none of the many existing Questions and Answers on this topic not addressed your issue?"}],"answers":[{"tags":[],"owner":{"account_id":1092288,"reputation":402,"user_id":1086664,"display_name":"Mike Fabrikant"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641068475,"creation_date":1641068475,"answer_id":70551634,"question_id":70025668,"body_markdown":"`brew install java`\r\n\r\nIn case of a build error, check the output and you may see a suggestion to create a symbolic link and run the command again.\r\n\r\nhttps://mkyong.com/java/how-to-install-java-on-mac-osx/\r\n","title":"Java on MacOS Monterey","body":"<p><code>brew install java</code></p>\n<p>In case of a build error, check the output and you may see a suggestion to create a symbolic link and run the command again.</p>\n<p><a href=\"https://mkyong.com/java/how-to-install-java-on-mac-osx/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-install-java-on-mac-osx/</a></p>\n"}],"owner":{"account_id":8402672,"reputation":95,"user_id":6307253,"display_name":"John Barrett"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696395800,"creation_date":1637263909,"question_id":70025668,"body_markdown":"I&#39;ve installed java 8 jdk, but javac is not working. Also, the operating system has java blocked. Is there any way to fix this? I am using macOS Monterey.","title":"Java on MacOS Monterey","body":"<p>I've installed java 8 jdk, but javac is not working. Also, the operating system has java blocked. Is there any way to fix this? I am using macOS Monterey.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7773500,"reputation":5844,"user_id":5882307,"display_name":"OMi Shah"},"score":0,"creation_date":1696396235,"post_id":77226668,"comment_id":136145558,"body_markdown":"duplicate question for sure !!","body":"duplicate question for sure !!"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1696433073,"post_id":77226668,"comment_id":136152909,"body_markdown":"Just an aside-  that pattern isn&#39;t even close to right, email addresses are very complicated.  You&#39;ll work for the majority of them, but not all of them with this.","body":"Just an aside-  that pattern isn&#39;t even close to right, email addresses are very complicated.  You&#39;ll work for the majority of them, but not all of them with this."}],"answers":[{"tags":[],"owner":{"account_id":1841805,"reputation":3174,"user_id":1671058,"accept_rate":71,"display_name":"gaurav jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696395123,"creation_date":1696395123,"answer_id":77226832,"question_id":77226668,"body_markdown":"You can use the inbuilt email regex pattern (provided by *android.util*) to match your email.\r\n\r\n    Patterns.EMAIL_ADDRESS.matcher(email).matches()\r\n\r\nAlso, you can check for an empty email before trying to validate it against a regex.","title":"how allow email using email validation regex in android","body":"<p>You can use the inbuilt email regex pattern (provided by <em>android.util</em>) to match your email.</p>\n<pre><code>Patterns.EMAIL_ADDRESS.matcher(email).matches()\n</code></pre>\n<p>Also, you can check for an empty email before trying to validate it against a regex.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696395575,"creation_date":1696395575,"answer_id":77226859,"question_id":77226668,"body_markdown":"Add a _hypen_ to the second _character-class_, and remove the `+` _quantifier_ from the `\\.`.\r\n\r\n```none\r\n^[a-zA-Z0-9+_.-]+@[a-z-]+\\.[a-z]+\r\n```\r\n\r\nAdditionally, just use _[String#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String))_.\r\n\r\n```java\r\nreturn email.matches(&quot;[a-zA-Z0-9+_.-]+@[a-z-]+\\\\.[a-z]+&quot;);\r\n```","title":"how allow email using email validation regex in android","body":"<p>Add a <em>hypen</em> to the second <em>character-class</em>, and remove the <code>+</code> <em>quantifier</em> from the <code>\\.</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[a-zA-Z0-9+_.-]+@[a-z-]+\\.[a-z]+\n</code></pre>\n<p>Additionally, just use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return email.matches(&quot;[a-zA-Z0-9+_.-]+@[a-z-]+\\\\.[a-z]+&quot;);\n</code></pre>\n"}],"owner":{"account_id":1995082,"reputation":143,"user_id":1788205,"display_name":"MARSH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696407936,"accepted_answer_id":77226859,"answer_count":2,"score":0,"last_activity_date":1696395575,"creation_date":1696392173,"question_id":77226668,"body_markdown":"     public static boolean isEmailValid(String email) {\r\n            boolean isValid = false;\r\n            String expression = &quot;^[a-zA-Z0-9+_.-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n            Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\r\n            Matcher matcher = pattern.matcher(email);\r\n            if (matcher.matches()) {\r\n                isValid = true;\r\n            }\r\n            return isValid;\r\n        }\r\n\r\nthis is my code for email validation its working fine but when i try to enter sanjeev@san-szabo.com  then its not allowing  using regex can any one please help me how to allow this email using above regex what i need to change . \r\n\r\nThanks ","title":"how allow email using email validation regex in android","body":"<pre><code> public static boolean isEmailValid(String email) {\n        boolean isValid = false;\n        String expression = &quot;^[a-zA-Z0-9+_.-]+@[a-z]+\\\\.+[a-z]+&quot;;\n        Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(email);\n        if (matcher.matches()) {\n            isValid = true;\n        }\n        return isValid;\n    }\n</code></pre>\n<p>this is my code for email validation its working fine but when i try to enter sanjeev@san-szabo.com  then its not allowing  using regex can any one please help me how to allow this email using above regex what i need to change .</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1522329524,"post_id":49557014,"comment_id":86121759,"body_markdown":"Did hibernate generate that table? You don&#39;t even need to specify a FK in your code. It is purely optional","body":"Did hibernate generate that table? You don&#39;t even need to specify a FK in your code. It is purely optional"},{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1522329813,"post_id":49557014,"comment_id":86121975,"body_markdown":"Yes, Hibernate is generating the table but I want the name of FK is as mentioned in annotation.","body":"Yes, Hibernate is generating the table but I want the name of FK is as mentioned in annotation."},{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1522330066,"post_id":49557014,"comment_id":86122139,"body_markdown":"Check this link. Could be duplicate of https://stackoverflow.com/questions/16564789/changing-the-generated-name-of-a-foreign-key-in-hibernate","body":"Check this link. Could be duplicate of <a href=\"https://stackoverflow.com/questions/16564789/changing-the-generated-name-of-a-foreign-key-in-hibernate\" title=\"changing the generated name of a foreign key in hibernate\">stackoverflow.com/questions/16564789/&hellip;</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1522330499,"post_id":49557014,"comment_id":86122480,"body_markdown":"Have you tried to specify the `@ForeignKey` explicitly instead of have it nested in other annotations?","body":"Have you tried to specify the <code>@ForeignKey</code> explicitly instead of have it nested in other annotations?"},{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1522330729,"post_id":49557014,"comment_id":86122673,"body_markdown":"Yes, I have tried that solution but it is not working.","body":"Yes, I have tried that solution but it is not working."},{"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"score":0,"creation_date":1522334252,"post_id":49557014,"comment_id":86125504,"body_markdown":"@parthivrshah what is the error when you try to specify the FK explicitly","body":"@parthivrshah what is the error when you try to specify the FK explicitly"},{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1522381507,"post_id":49557014,"comment_id":86144475,"body_markdown":"It is not giving any error but in the db it creates randomly.","body":"It is not giving any error but in the db it creates randomly."}],"answers":[{"comments":[{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1522381961,"post_id":49559091,"comment_id":86144552,"body_markdown":"I have tried this ...It is not giving any error but in the database it creates randomly generated foreign key.","body":"I have tried this ...It is not giving any error but in the database it creates randomly generated foreign key."},{"owner":{"display_name":"user8558216"},"score":0,"creation_date":1522386009,"post_id":49559091,"comment_id":86145377,"body_markdown":"So you need to raise a bug on the jpa provider you are using","body":"So you need to raise a bug on the jpa provider you are using"},{"owner":{"account_id":4136270,"reputation":459,"user_id":3392874,"display_name":"TomasZ."},"score":0,"creation_date":1624014344,"post_id":49559091,"comment_id":120247818,"body_markdown":"Works correctly with Quarkus Hibernate 1.13.7.\nThe accepted answer didn&#39;t work for me, beacause there is no `inverseName` in `@javax.persistence.ForeignKey`","body":"Works correctly with Quarkus Hibernate 1.13.7. The accepted answer didn&#39;t work for me, beacause there is no <code>inverseName</code> in <code>@javax.persistence.ForeignKey</code>"}],"tags":[],"owner":{"display_name":"user8558216"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522395044,"creation_date":1522334898,"answer_id":49559091,"question_id":49557014,"body_markdown":"With a join table this is how you should specify it\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;course_program_table&quot;, \r\n        joinColumns = @JoinColumn(name = &quot;course_id&quot;, ...)\r\n        foreignKey = @ForeignKey(name = &quot;fk_program_id&quot;), \r\n        inverseJoinColumns = @JoinColumn(name = &quot;program_id&quot;, ...)\r\n        inverseForeignKey = @ForeignKey(name = &quot;fk_course_id&quot;))\r\n    private List programs;\r\n\r\nThis is how I do it with the JPA provider I use (not Hibernate), and that is why the `@JoinTable` has the &quot;foreignKey&quot;/&quot;inverseForeignKey&quot; attributes (the FKs are on/owned by the join table). \r\n\r\nIf that doesn&#39;t work then you need to be looking at raising a bug on your chosen JPA provider.","title":"How to specify foreign key with the join column?","body":"<p>With a join table this is how you should specify it</p>\n\n<pre><code>@ManyToMany\n@JoinTable(name = \"course_program_table\", \n    joinColumns = @JoinColumn(name = \"course_id\", ...)\n    foreignKey = @ForeignKey(name = \"fk_program_id\"), \n    inverseJoinColumns = @JoinColumn(name = \"program_id\", ...)\n    inverseForeignKey = @ForeignKey(name = \"fk_course_id\"))\nprivate List programs;\n</code></pre>\n\n<p>This is how I do it with the JPA provider I use (not Hibernate), and that is why the <code>@JoinTable</code> has the \"foreignKey\"/\"inverseForeignKey\" attributes (the FKs are on/owned by the join table). </p>\n\n<p>If that doesn't work then you need to be looking at raising a bug on your chosen JPA provider.</p>\n"},{"tags":[],"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1524649096,"creation_date":1524649096,"answer_id":50018868,"question_id":49557014,"body_markdown":"    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;tten_courseservice_course_program_table&quot;, joinColumns = @JoinColumn(name = &quot;course_id&quot;, referencedColumnName = &quot;course_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;program_id&quot;, referencedColumnName = &quot;program_id&quot;))\r\n\t@ForeignKey(name=&quot;fk_tten_courseservice_course_table_course_id&quot;,inverseName=&quot;fk_tten_courseservice_program_table_program_id&quot;)\r\n\tprivate List&lt;ProgramEntity&gt; programs;``\r\n\r\nI have tried this and now I am able to generate foreign key name properly.\r\n\r\nHope it will help other.","title":"How to specify foreign key with the join column?","body":"<pre><code>@ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\n@JoinTable(name = \"tten_courseservice_course_program_table\", joinColumns = @JoinColumn(name = \"course_id\", referencedColumnName = \"course_id\"), inverseJoinColumns = @JoinColumn(name = \"program_id\", referencedColumnName = \"program_id\"))\n@ForeignKey(name=\"fk_tten_courseservice_course_table_course_id\",inverseName=\"fk_tten_courseservice_program_table_program_id\")\nprivate List&lt;ProgramEntity&gt; programs;``\n</code></pre>\n\n<p>I have tried this and now I am able to generate foreign key name properly.</p>\n\n<p>Hope it will help other.</p>\n"},{"tags":[],"owner":{"account_id":6088315,"reputation":321,"user_id":4751508,"display_name":"an0nym0use"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696395492,"creation_date":1696395492,"answer_id":77226853,"question_id":49557014,"body_markdown":"All of the other answers worked for me, but I had to add additional unique contraints, else I could see additional unique keys generated in liquibase changesets.\r\n\r\nThe following covered all of the keys.\r\n\r\n        @ManyToMany\r\n        @JoinTable(name = &quot;STUDENT_COURSE_MAPPING&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;STUDENT_ID&quot;, referencedColumnName = &quot;ID&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;COURSE_ID&quot;, referencedColumnName = &quot;ID&quot;),\r\n                foreignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__STUDENT&quot;),\r\n                inverseForeignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__COURSE&quot;),\r\n                uniqueConstraints = @UniqueConstraint(name=&quot;UK__STUDENT_COURSE_MAPPING&quot;,columnNames = {&quot;STUDENT_ID&quot;,&quot;COURSE_ID&quot;})\r\n        )\r\n        private Set&lt;Course&gt; courses;\r\n\r\n","title":"How to specify foreign key with the join column?","body":"<p>All of the other answers worked for me, but I had to add additional unique contraints, else I could see additional unique keys generated in liquibase changesets.</p>\n<p>The following covered all of the keys.</p>\n<pre><code>    @ManyToMany\n    @JoinTable(name = &quot;STUDENT_COURSE_MAPPING&quot;,\n            joinColumns = @JoinColumn(name = &quot;STUDENT_ID&quot;, referencedColumnName = &quot;ID&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;COURSE_ID&quot;, referencedColumnName = &quot;ID&quot;),\n            foreignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__STUDENT&quot;),\n            inverseForeignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__COURSE&quot;),\n            uniqueConstraints = @UniqueConstraint(name=&quot;UK__STUDENT_COURSE_MAPPING&quot;,columnNames = {&quot;STUDENT_ID&quot;,&quot;COURSE_ID&quot;})\n    )\n    private Set&lt;Course&gt; courses;\n</code></pre>\n"}],"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16695,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":50018868,"answer_count":3,"score":9,"last_activity_date":1696395492,"creation_date":1522329173,"question_id":49557014,"body_markdown":"My code is as below. I am using the spring boot with jpa and postgresql database\r\nI need user friendly name as foreign key.\r\n&lt;pre&gt;\r\n\r\n    @Entity\r\n    @Table(name=&quot;course_table&quot;)\r\n    public class Course extends BaseAuditingEntity {\r\n\r\n    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;course_program_table&quot;, joinColumns = @JoinColumn(name = &quot;course_id&quot;, referencedColumnName = &quot;course_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_program_id&quot;)), inverseJoinColumns = @JoinColumn(name = &quot;program_id&quot;, referencedColumnName = &quot;program_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_course_id&quot;)))\r\n\tprivate List&lt;Program&gt; programs;\r\n    }\r\n\r\n&lt;/pre&gt;\r\nI have given the name of foreign key using the @ForeignKey annotation but when I see db it is showing the randomly created foreignkey name.\r\n\r\n&lt;pre&gt;\r\nCREATE TABLE course_program_table\r\n(\r\n    course_id integer NOT NULL,\r\n    program_id integer NOT NULL,\r\n    CONSTRAINT &lt;b&gt;fk_28c95hl4nqclyvyxuduei5nbf&lt;/b&gt; FOREIGN KEY (program_id)\r\n        REFERENCES public.program_table (program_id) MATCH SIMPLE\r\n        ON UPDATE NO ACTION\r\n        ON DELETE NO ACTION,\r\n    CONSTRAINT &lt;b&gt;fk_5sainywquv8yyu24pjk3jptn7&lt;/b&gt; FOREIGN KEY (course_id)\r\n        REFERENCES public.course_table (course_id) MATCH SIMPLE\r\n        ON UPDATE NO ACTION\r\n        ON DELETE NO ACTION\r\n)\r\n&lt;/pre&gt;\r\n\r\nI need foreign key as mentioned in the annotation like fk_program_id and fk_course_id.\r\n\r\nThanks in advance.","title":"How to specify foreign key with the join column?","body":"<p>My code is as below. I am using the spring boot with jpa and postgresql database\nI need user friendly name as foreign key.</p>\n\n<pre>\n\n    @Entity\n    @Table(name=\"course_table\")\n    public class Course extends BaseAuditingEntity {\n\n    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\n    @JoinTable(name = \"course_program_table\", joinColumns = @JoinColumn(name = \"course_id\", referencedColumnName = \"course_id\", foreignKey = @ForeignKey(name = \"fk_program_id\")), inverseJoinColumns = @JoinColumn(name = \"program_id\", referencedColumnName = \"program_id\", foreignKey = @ForeignKey(name = \"fk_course_id\")))\n    private List programs;\n    }\n\n</pre>\n\n<p>I have given the name of foreign key using the @ForeignKey annotation but when I see db it is showing the randomly created foreignkey name.</p>\n\n<pre>\nCREATE TABLE course_program_table\n(\n    course_id integer NOT NULL,\n    program_id integer NOT NULL,\n    CONSTRAINT <b>fk_28c95hl4nqclyvyxuduei5nbf</b> FOREIGN KEY (program_id)\n        REFERENCES public.program_table (program_id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION,\n    CONSTRAINT <b>fk_5sainywquv8yyu24pjk3jptn7</b> FOREIGN KEY (course_id)\n        REFERENCES public.course_table (course_id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n)\n</pre>\n\n<p>I need foreign key as mentioned in the annotation like fk_program_id and fk_course_id.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","java","get","teavm"],"answers":[{"tags":[],"owner":{"account_id":1120999,"reputation":2035,"user_id":1109309,"accept_rate":62,"display_name":"Alexey Andreev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696395045,"creation_date":1696395045,"answer_id":77226830,"question_id":77225279,"body_markdown":"According to [documentation](https://teavm.org/docs/runtime/jso.html) `FetchCallback` must extend `JSObject` interface. BTW, TeaVM already comes with wrappers for [XMLHttpRequest](https://github.com/konsoletyper/teavm/blob/7ff56d7a94fe723f1b9936764c0e2fd5dab54d7f/jso/apis/src/main/java/org/teavm/jso/ajax/XMLHttpRequest.java).","title":"GET request in TeaVM","body":"<p>According to <a href=\"https://teavm.org/docs/runtime/jso.html\" rel=\"nofollow noreferrer\">documentation</a> <code>FetchCallback</code> must extend <code>JSObject</code> interface. BTW, TeaVM already comes with wrappers for <a href=\"https://github.com/konsoletyper/teavm/blob/7ff56d7a94fe723f1b9936764c0e2fd5dab54d7f/jso/apis/src/main/java/org/teavm/jso/ajax/XMLHttpRequest.java\" rel=\"nofollow noreferrer\">XMLHttpRequest</a>.</p>\n"}],"owner":{"account_id":8979189,"reputation":55,"user_id":6694947,"display_name":"mazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77226830,"answer_count":1,"score":0,"last_activity_date":1696395045,"creation_date":1696364084,"question_id":77225279,"body_markdown":"I want to make a GET request to an URL in Java so that it can be transpiled to Javascript via TeaVM. I understand that I can&#39;t use the java.net API, because it is not supported by TeaVM. So I tried to make a Javascript-function which can be used by TeaVM.\r\n````\r\n@JSBody(params = { &quot;url&quot;, &quot;callback&quot; }, script = &quot;fetch(url)\\n&quot;\r\n                                                     + &quot;.then(response =&gt; response.text())\\n&quot;\r\n                                                     + &quot;.then(text =&gt; callback.complete(text))\\n&quot;\r\n                                                     + &quot;.catch(error =&gt; callback.error(error.message));&quot;)\r\n    static native void fetch(String url, FetchCallback callback);\r\n````\r\nMy Java Interface is simple:\r\n````\r\npublic interface FetchCallback {\r\n        void complete(String result);\r\n        void error(String message);\r\n    }\r\n````\r\nWhen i run the install Maven target, I get this error:\r\n\r\n*[ERROR] Method org.example.Client.fetch(Ljava/lang/String;Lorg/example/Client$FetchCallback;)V is not a proper native JavaScript method declaration: its 2th parameter has wrong type*\r\n\r\nUnfortunately my JS knowledge is very limited (hence TeaVM) so I can&#39;t make sense of this error message. Could someone please help me with how to make a GET request in TeaVM?\r\n","title":"GET request in TeaVM","body":"<p>I want to make a GET request to an URL in Java so that it can be transpiled to Javascript via TeaVM. I understand that I can't use the java.net API, because it is not supported by TeaVM. So I tried to make a Javascript-function which can be used by TeaVM.</p>\n<pre><code>@JSBody(params = { &quot;url&quot;, &quot;callback&quot; }, script = &quot;fetch(url)\\n&quot;\n                                                     + &quot;.then(response =&gt; response.text())\\n&quot;\n                                                     + &quot;.then(text =&gt; callback.complete(text))\\n&quot;\n                                                     + &quot;.catch(error =&gt; callback.error(error.message));&quot;)\n    static native void fetch(String url, FetchCallback callback);\n</code></pre>\n<p>My Java Interface is simple:</p>\n<pre><code>public interface FetchCallback {\n        void complete(String result);\n        void error(String message);\n    }\n</code></pre>\n<p>When i run the install Maven target, I get this error:</p>\n<p><em>[ERROR] Method org.example.Client.fetch(Ljava/lang/String;Lorg/example/Client$FetchCallback;)V is not a proper native JavaScript method declaration: its 2th parameter has wrong type</em></p>\n<p>Unfortunately my JS knowledge is very limited (hence TeaVM) so I can't make sense of this error message. Could someone please help me with how to make a GET request in TeaVM?</p>\n"},{"tags":["java","rest","upload","quarkus","multipart"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1695706177,"post_id":77176602,"comment_id":136056303,"body_markdown":"I actually don&#39;t think we support `FileUpload` in the client yet... Mind opening an issue?","body":"I actually don&#39;t think we support <code>FileUpload</code> in the client yet... Mind opening an issue?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1695717690,"post_id":77176602,"comment_id":136058348,"body_markdown":"It shouldn&#39;t be too hard to create a `MessageBodyWriter&lt;FileUpload&gt;`. I&#39;ve done the opposite for clients consuming `StreamingOutput` - I created a relatively simple `MessageBodyReader&lt;StreamingOutput&gt;`.","body":"It shouldn&#39;t be too hard to create a <code>MessageBodyWriter&lt;FileUpload&gt;</code>. I&#39;ve done the opposite for clients consuming <code>StreamingOutput</code> - I created a relatively simple <code>MessageBodyReader&lt;StreamingOutput&gt;</code>."}],"owner":{"account_id":29513648,"reputation":1,"user_id":22618100,"display_name":"Andre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696394618,"creation_date":1695693104,"question_id":77176602,"body_markdown":"I want to create an endpoint to upload files and inside this endpoint send these files to another endpoint. Like this:\r\n\r\n```\r\n[front-end] ----(files)----&gt; [UploadResource] ----(samefiles)----&gt; [ApiServiceResource]\r\n```\r\n\r\nThe first endpoint get all files uploaded but sending these files from this endpoint to the second endpoint it receives an empty list.\r\n\r\n**imports:**\r\n\r\n```\r\nimport java.util.List;\r\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\r\nimport org.jboss.resteasy.reactive.PartType;\r\nimport org.jboss.resteasy.reactive.RestForm;\r\nimport org.jboss.resteasy.reactive.multipart.FileUpload;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.Consumes;\r\nimport jakarta.ws.rs.POST;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.Produces;\r\nimport jakarta.ws.rs.core.MediaType;\r\nimport jakarta.ws.rs.core.Response;\r\n```\r\n\r\n**Upload class:**\r\n\r\n```\r\n@Path(&quot;/v1/upload&quot;)\r\npublic class UploadResource {\r\n  @Inject\r\n  @RestClient\r\n  ApiService apiService;\r\n\r\n  @POST\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.TEXT_PLAIN)\r\n  public Response uploadFiles(@RestForm(FileUpload.ALL) PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\r\n    System.out.println(&quot;endpoint &#39;v1/upload&#39; received &quot; + files.size() + &quot; files&quot;);\r\n    apiService.receiveFiles(files);\r\n    return Response.ok().build();\r\n  }\r\n```\r\n\r\n**ApiService interface:**\r\n\r\n```\r\n@RegisterRestClient(configKey = &quot;api-service&quot;)\r\npublic interface ApiService {\r\n  @POST\r\n  @Path(&quot;v1/receivefiles&quot;)\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.TEXT_PLAIN)\r\n  Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files);\r\n}\r\n```\r\n\r\n**ApiServiceResource class:**\r\n\r\n```\r\n@Path(&quot;/api-service&quot;)\r\npublic class ApiServiceResource {\r\n  @POST\r\n  @Path(&quot;v1/receivefiles&quot;)\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.TEXT_PLAIN)\r\n  public Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\r\n    System.out.println(&quot;endpoint &#39;api-service/v1/receivefiles&#39; received &quot; + files.size() + &quot; files&quot;);\r\n    return Response.ok().build();\r\n  }\r\n}\r\n```\r\n\r\nAfter sending a POST request with 3 files to ```&#39;.../v1/upload&#39;``` the console shows this:\r\n\r\n**Console:**\r\n\r\n```\r\nendpoint &#39;v1/upload&#39; received 3 files\r\nendpoint &#39;api-service/v1/receivefiles&#39; received 0 files\r\n```\r\n\r\n*Note*: *If the POST request points directly to ```&#39;api-service/v1/receivefiles&#39;``` it works fine*","title":"Java Rest Upload - how to upload files to an endpoint and bypass these files to a second endpoint?","body":"<p>I want to create an endpoint to upload files and inside this endpoint send these files to another endpoint. Like this:</p>\n<pre><code>[front-end] ----(files)----&gt; [UploadResource] ----(samefiles)----&gt; [ApiServiceResource]\n</code></pre>\n<p>The first endpoint get all files uploaded but sending these files from this endpoint to the second endpoint it receives an empty list.</p>\n<p><strong>imports:</strong></p>\n<pre><code>import java.util.List;\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\nimport org.jboss.resteasy.reactive.PartType;\nimport org.jboss.resteasy.reactive.RestForm;\nimport org.jboss.resteasy.reactive.multipart.FileUpload;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.Consumes;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\nimport jakarta.ws.rs.core.Response;\n</code></pre>\n<p><strong>Upload class:</strong></p>\n<pre><code>@Path(&quot;/v1/upload&quot;)\npublic class UploadResource {\n  @Inject\n  @RestClient\n  ApiService apiService;\n\n  @POST\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  public Response uploadFiles(@RestForm(FileUpload.ALL) PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\n    System.out.println(&quot;endpoint 'v1/upload' received &quot; + files.size() + &quot; files&quot;);\n    apiService.receiveFiles(files);\n    return Response.ok().build();\n  }\n</code></pre>\n<p><strong>ApiService interface:</strong></p>\n<pre><code>@RegisterRestClient(configKey = &quot;api-service&quot;)\npublic interface ApiService {\n  @POST\n  @Path(&quot;v1/receivefiles&quot;)\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files);\n}\n</code></pre>\n<p><strong>ApiServiceResource class:</strong></p>\n<pre><code>@Path(&quot;/api-service&quot;)\npublic class ApiServiceResource {\n  @POST\n  @Path(&quot;v1/receivefiles&quot;)\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  public Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\n    System.out.println(&quot;endpoint 'api-service/v1/receivefiles' received &quot; + files.size() + &quot; files&quot;);\n    return Response.ok().build();\n  }\n}\n</code></pre>\n<p>After sending a POST request with 3 files to <code>'.../v1/upload'</code> the console shows this:</p>\n<p><strong>Console:</strong></p>\n<pre><code>endpoint 'v1/upload' received 3 files\nendpoint 'api-service/v1/receivefiles' received 0 files\n</code></pre>\n<p><em>Note</em>: <em>If the POST request points directly to <code>'api-service/v1/receivefiles'</code> it works fine</em></p>\n"},{"tags":["java","swing","window","awt","screen"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696391467,"post_id":77226605,"comment_id":136145214,"body_markdown":"I refactored my code example to use `SwingUtilities.invokeLater` because Swing should always run on the Event Thread. Didn&#39;t solve the problem though.","body":"I refactored my code example to use <code>SwingUtilities.invokeLater</code> because Swing should always run on the Event Thread. Didn&#39;t solve the problem though."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1696391529,"post_id":77226605,"comment_id":136145219,"body_markdown":"Yes, calling `setLocationByPlatform` on a large `JFrame` will display part of the `JFrame` off screen.  Reduce the size or number of Swing components in your `JFrame`.  Put long text in a `JScrollPane`.  Use `JDialogs` to display some information.","body":"Yes, calling <code>setLocationByPlatform</code> on a large <code>JFrame</code> will display part of the <code>JFrame</code> off screen.  Reduce the size or number of Swing components in your <code>JFrame</code>.  Put long text in a <code>JScrollPane</code>.  Use <code>JDialogs</code> to display some information."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696391734,"post_id":77226605,"comment_id":136145234,"body_markdown":"@GilbertLeBlanc Thanks for the response. Agreed, this is definitely common knowledge ways to get around this. I guess I am just more surprised that a method as encouraged as `pack()` would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a *`resizeToAvoidClippingScreen`* method or something.","body":"@GilbertLeBlanc Thanks for the response. Agreed, this is definitely common knowledge ways to get around this. I guess I am just more surprised that a method as encouraged as <code>pack()</code> would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a <i><code>resizeToAvoidClippingScreen</code></i> method or something."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1696391924,"post_id":77226605,"comment_id":136145251,"body_markdown":"`pack` just calculates the preferred size of your Swing components.  If the result is a 50000 x 30000 `JFrame`, that&#39;s on the developer to correct.","body":"<code>pack</code> just calculates the preferred size of your Swing components.  If the result is a 50000 x 30000 <code>JFrame</code>, that&#39;s on the developer to correct."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696392318,"post_id":77226605,"comment_id":136145280,"body_markdown":"@GilbertLeBlanc You know, I think you helped point me to the right answer. If I think about it some more, what would it be like to have a `resizeToProper` method? Yes, it would do the job, but what if through some unfortunate coincidence, the resizing makes the window look like there are no more components, but there actually are more, just cut off by the window? That would make my method a ***REALLY DANGEROUS*** method because then I run the risk of having components hidden for users when they are actually there. I&#39;ll put that as an answer. Thank you for the help!","body":"@GilbertLeBlanc You know, I think you helped point me to the right answer. If I think about it some more, what would it be like to have a <code>resizeToProper</code> method? Yes, it would do the job, but what if through some unfortunate coincidence, the resizing makes the window look like there are no more components, but there actually are more, just cut off by the window? That would make my method a <b><i>REALLY DANGEROUS</i></b> method because then I run the risk of having components hidden for users when they are actually there. I&#39;ll put that as an answer. Thank you for the help!"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696394393,"post_id":77226605,"comment_id":136145420,"body_markdown":"@GilbertLeBlanc Posted the answer. Ty again!","body":"@GilbertLeBlanc Posted the answer. Ty again!"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696394360,"creation_date":1696394360,"answer_id":77226791,"question_id":77226605,"body_markdown":"After thinking about it, I am pretty sure I have a very good reason why the answer is no. Not a definitive, backed by documentation answer, but one that is logical.\r\n\r\nImagine we did have that method -- `resizeToAvoidClippingScreen()`. While it would certainly be convenient, in rare occasions, it would actually be ***DANGEROUS***.\r\n\r\nImagine I have a grid of squares where each square has a large gap between all of its neighbors. On small screens, you run the risk of having the squares on the right and the bottom cut off, but in a convincing way that is not obvious to the user that there is a component hidden. Here is a visual example.\r\n\r\nHere is our grid.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow, on a large window, they may look like this.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut on a small window, if we used our magic method and let the content get cutoff by the window instead of letting the window get cut off by the screen, we might end up with this instead.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see, it might be completely non-obvious to the user that content is cut off of the screen.\r\n\r\nThat is the danger of this method. Introducing this method would end up causing a whole bunch of issues that are hard to find and easy to make.\r\n\r\nNow, obviously, if you have content that is so wildly out of bounds that it careens off the screen, then that&#39;s on the developer. But, for methods like `pack()`, they will try their best to fit it in, but will extend the window slightly off screen if needed. If anything, it&#39;s a good signifier that your content is a little too big and needs to be broken up.\r\n\r\nGilbert Le Blanc gave some good examples on how to do that above. You can use [`JScrollPane`][4] to add scroll bars when your content gets too big. You can move some of the content into a popup window called a [`JDialog`][5] or [`JOptionPane`][6]. You could use [`CardLayout`][7], a layout that allows you to cycle through your components one by one (paginate through them) on the same frame.\r\n\r\nAs is, if your frame has so many components that `pack()` ends up putting your frame slightly off-screen, consider that to be Swing&#39;s gentle hint that there is too much content in your frame at one time, and you need to rework your solution. Understanding that, I&#39;m glad they did it this way. It would be much harder to discover if `pack()` tried to keep everything on screen so diligently, even in examples where there is just enough space to do so. As is, even when there is just enough space to fit everything, `pack()` will still shift you slightly off-screen, almost like an intentional hint by Swing that you still need to rework the frame.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EVVAB.png\r\n  [2]: https://i.stack.imgur.com/Y9AKR.png\r\n  [3]: https://i.stack.imgur.com/bhwmh.png\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JScrollPane.html\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JDialog.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JOptionPane.html\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/CardLayout.html","title":"How to prevent JFrame from being oversized for window when calling pack()?","body":"<p>After thinking about it, I am pretty sure I have a very good reason why the answer is no. Not a definitive, backed by documentation answer, but one that is logical.</p>\n<p>Imagine we did have that method -- <code>resizeToAvoidClippingScreen()</code>. While it would certainly be convenient, in rare occasions, it would actually be <em><strong>DANGEROUS</strong></em>.</p>\n<p>Imagine I have a grid of squares where each square has a large gap between all of its neighbors. On small screens, you run the risk of having the squares on the right and the bottom cut off, but in a convincing way that is not obvious to the user that there is a component hidden. Here is a visual example.</p>\n<p>Here is our grid.</p>\n<p><a href=\"https://i.stack.imgur.com/EVVAB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EVVAB.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, on a large window, they may look like this.</p>\n<p><a href=\"https://i.stack.imgur.com/Y9AKR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9AKR.png\" alt=\"enter image description here\" /></a></p>\n<p>But on a small window, if we used our magic method and let the content get cutoff by the window instead of letting the window get cut off by the screen, we might end up with this instead.</p>\n<p><a href=\"https://i.stack.imgur.com/bhwmh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhwmh.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, it might be completely non-obvious to the user that content is cut off of the screen.</p>\n<p>That is the danger of this method. Introducing this method would end up causing a whole bunch of issues that are hard to find and easy to make.</p>\n<p>Now, obviously, if you have content that is so wildly out of bounds that it careens off the screen, then that's on the developer. But, for methods like <code>pack()</code>, they will try their best to fit it in, but will extend the window slightly off screen if needed. If anything, it's a good signifier that your content is a little too big and needs to be broken up.</p>\n<p>Gilbert Le Blanc gave some good examples on how to do that above. You can use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JScrollPane.html\" rel=\"nofollow noreferrer\"><code>JScrollPane</code></a> to add scroll bars when your content gets too big. You can move some of the content into a popup window called a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JDialog.html\" rel=\"nofollow noreferrer\"><code>JDialog</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JOptionPane.html\" rel=\"nofollow noreferrer\"><code>JOptionPane</code></a>. You could use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/CardLayout.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a>, a layout that allows you to cycle through your components one by one (paginate through them) on the same frame.</p>\n<p>As is, if your frame has so many components that <code>pack()</code> ends up putting your frame slightly off-screen, consider that to be Swing's gentle hint that there is too much content in your frame at one time, and you need to rework your solution. Understanding that, I'm glad they did it this way. It would be much harder to discover if <code>pack()</code> tried to keep everything on screen so diligently, even in examples where there is just enough space to do so. As is, even when there is just enough space to fit everything, <code>pack()</code> will still shift you slightly off-screen, almost like an intentional hint by Swing that you still need to rework the frame.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696394360,"creation_date":1696390970,"question_id":77226605,"body_markdown":"I have a [`JFrame`][1] that uses the method [`pack()`][2] to minimize the size of the components within the frame. This works well enough, but occasionally, due to something upon startup, I&#39;ll have a lot of components and the frame will be gigantic. Technically, the frame won&#39;t be bigger than my screen, but essentially it will be the same size.\r\n\r\nI also call a method on my `JFrame` called [`setLocationByPlatform(true)`][3], which places my frame in the platform-relative default location.\r\n\r\nHowever, when calling these 2 together, they end up with part of my frame being off-screen.\r\n\r\nNow, there are a million-and-1 ways to work around this. I could full screen my application, which is most likely the real solution here. I could deactivate either or both options. I could set my size and location explicitly. And there&#39;s more solutions.\r\n\r\nBut is there any way to call both `pack()` and `setLocationByPlatform(true)` without ending up with my frame partially off-screen? Excluding above solutions of course. I&#39;ll accept no as an answer if it can be backed up (maybe docs say these 2 can contradict each other, or something like that). I just want my window to be fully on-screen after calling both of the mentioned methods.\r\n\r\nAnd to be clear, I am A-OK with the actual content on my frame being cut off because the frame is too small. By all means, if the frame is too small to hold all of the content, that is a different problem that I already have solutions that I ***will later*** apply. But for now, to demonstrate the point, I am A-OK with an answer that allows content to be cutoff the window, but the full window is fully on-screen.\r\n\r\nAnd not that this needs a code example, but here is one.\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class SOQ_20231003\r\n{\r\n\r\n   public static void main(final String[] args)\r\n   {\r\n\r\n      SwingUtilities.invokeLater(SOQ_20231003::new);\r\n\r\n   }\r\n\r\n   public SOQ_20231003()\r\n   {\r\n   \r\n      final JFrame frame = new JFrame();\r\n      \r\n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n   \r\n      final JPanel panel = new JPanel();\r\n   \r\n      for (int i = 0; i &lt; 100; i++)\r\n      {\r\n      \r\n         final JButton button = new JButton();\r\n      \r\n         final String text = \r\n            &quot;&quot;&quot;\r\n            &lt;html&gt;\r\n            &lt;p&gt;\r\n            Totam qui nihil qui possimus architecto. Quo quia voluptatem possimus. Aliquid praesentium ab assumenda nisi eligendi eum dolore sed. Sint dolorem eaque est vitae ipsam architecto. Consectetur consequatur ipsum assumenda nostrum debitis ab a nobis. Dignissimos nobis rem aut nihil mollitia rerum. Porro quis neque eos. Dolorum eum sit aperiam cumque velit nulla quidem qui. Velit facilis maiores rerum mollitia. Tempore dolor consequatur quis. Similique minima animi et et repellat quam. Hic dolore voluptatem tempora est et dolor atque dolores. Odio est repellendus fugiat neque ut quas sunt quia. Sunt ea ab qui. Placeat pariatur dolores quis earum exercitationem. Nulla aut id nulla pariatur. Officia architecto sunt ipsum. Quo voluptatibus aut qui voluptates velit accusamus fuga. Beatae et ullam adipisci. Quo ducimus et in quam soluta officia ducimus. Placeat molestiae qui quia ut. Sint dolorem porro amet minus. Labore expedita dolorem omnis eveniet et quis.\r\n            &lt;/p&gt;\r\n            &lt;/html&gt;\r\n            &quot;&quot;&quot;\r\n            ;\r\n      \r\n         button.setText(text);\r\n         \r\n         panel.add(button);\r\n      \r\n      }\r\n      \r\n      frame.add(panel);\r\n      \r\n      frame.pack();\r\n      frame.setLocationByPlatform(true);\r\n      \r\n      frame.setVisible(true); //image is cut-off on the right hand side of the screen!\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nI guess I am just more surprised that a method as encouraged as `pack()` or `setLocationByPlatform(true)` would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a *`resizeToAvoidClippingScreen`* method or something.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#pack()\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#setLocationByPlatform(boolean)","title":"How to prevent JFrame from being oversized for window when calling pack()?","body":"<p>I have a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\"><code>JFrame</code></a> that uses the method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#pack()\" rel=\"nofollow noreferrer\"><code>pack()</code></a> to minimize the size of the components within the frame. This works well enough, but occasionally, due to something upon startup, I'll have a lot of components and the frame will be gigantic. Technically, the frame won't be bigger than my screen, but essentially it will be the same size.</p>\n<p>I also call a method on my <code>JFrame</code> called <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#setLocationByPlatform(boolean)\" rel=\"nofollow noreferrer\"><code>setLocationByPlatform(true)</code></a>, which places my frame in the platform-relative default location.</p>\n<p>However, when calling these 2 together, they end up with part of my frame being off-screen.</p>\n<p>Now, there are a million-and-1 ways to work around this. I could full screen my application, which is most likely the real solution here. I could deactivate either or both options. I could set my size and location explicitly. And there's more solutions.</p>\n<p>But is there any way to call both <code>pack()</code> and <code>setLocationByPlatform(true)</code> without ending up with my frame partially off-screen? Excluding above solutions of course. I'll accept no as an answer if it can be backed up (maybe docs say these 2 can contradict each other, or something like that). I just want my window to be fully on-screen after calling both of the mentioned methods.</p>\n<p>And to be clear, I am A-OK with the actual content on my frame being cut off because the frame is too small. By all means, if the frame is too small to hold all of the content, that is a different problem that I already have solutions that I <em><strong>will later</strong></em> apply. But for now, to demonstrate the point, I am A-OK with an answer that allows content to be cutoff the window, but the full window is fully on-screen.</p>\n<p>And not that this needs a code example, but here is one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class SOQ_20231003\n{\n\n   public static void main(final String[] args)\n   {\n\n      SwingUtilities.invokeLater(SOQ_20231003::new);\n\n   }\n\n   public SOQ_20231003()\n   {\n   \n      final JFrame frame = new JFrame();\n      \n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n   \n      final JPanel panel = new JPanel();\n   \n      for (int i = 0; i &lt; 100; i++)\n      {\n      \n         final JButton button = new JButton();\n      \n         final String text = \n            &quot;&quot;&quot;\n            &lt;html&gt;\n            &lt;p&gt;\n            Totam qui nihil qui possimus architecto. Quo quia voluptatem possimus. Aliquid praesentium ab assumenda nisi eligendi eum dolore sed. Sint dolorem eaque est vitae ipsam architecto. Consectetur consequatur ipsum assumenda nostrum debitis ab a nobis. Dignissimos nobis rem aut nihil mollitia rerum. Porro quis neque eos. Dolorum eum sit aperiam cumque velit nulla quidem qui. Velit facilis maiores rerum mollitia. Tempore dolor consequatur quis. Similique minima animi et et repellat quam. Hic dolore voluptatem tempora est et dolor atque dolores. Odio est repellendus fugiat neque ut quas sunt quia. Sunt ea ab qui. Placeat pariatur dolores quis earum exercitationem. Nulla aut id nulla pariatur. Officia architecto sunt ipsum. Quo voluptatibus aut qui voluptates velit accusamus fuga. Beatae et ullam adipisci. Quo ducimus et in quam soluta officia ducimus. Placeat molestiae qui quia ut. Sint dolorem porro amet minus. Labore expedita dolorem omnis eveniet et quis.\n            &lt;/p&gt;\n            &lt;/html&gt;\n            &quot;&quot;&quot;\n            ;\n      \n         button.setText(text);\n         \n         panel.add(button);\n      \n      }\n      \n      frame.add(panel);\n      \n      frame.pack();\n      frame.setLocationByPlatform(true);\n      \n      frame.setVisible(true); //image is cut-off on the right hand side of the screen!\n   \n   }\n\n}\n</code></pre>\n<p>I guess I am just more surprised that a method as encouraged as <code>pack()</code> or <code>setLocationByPlatform(true)</code> would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a <em><code>resizeToAvoidClippingScreen</code></em> method or something.</p>\n"},{"tags":["java","design-patterns","jackson","abstraction"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1696515359,"post_id":77226731,"comment_id":136165456,"body_markdown":"related: [The Rule of Three](https://andrewbrookins.com/technology/the-rule-of-three/) and [The Wrong Abstraction](https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction)","body":"related: <a href=\"https://andrewbrookins.com/technology/the-rule-of-three/\" rel=\"nofollow noreferrer\">The Rule of Three</a> and <a href=\"https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction\" rel=\"nofollow noreferrer\">The Wrong Abstraction</a>"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1696782260,"post_id":77226731,"comment_id":136194398,"body_markdown":"@jaco0646 I understand what you mean. However, I&#39;m still curious what the solution is","body":"@jaco0646 I understand what you mean. However, I&#39;m still curious what the solution is"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696393266,"creation_date":1696393266,"question_id":77226731,"body_markdown":"I decorated an `ObjectMapper` and provided an additional abstraction layer to avoid coupling with `ObjectMapper` directly. Take a look:\r\n```java\r\nclass ClientServerCommunicator {\r\n    private static final Serializer serializer = new JacksonSerializer();\r\n    // more code\r\n```\r\n```java\r\npublic interface Serializer {\r\n    String serialize(Object object);\r\n    &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz);\r\n}\r\n```\r\n```java\r\npublic class JacksonSerializer implements Serializer {\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n    @Override\r\n    @SneakyThrows\r\n    public String serialize(Object object) {\r\n        return objectMapper.writeValueAsString(object);\r\n    }\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz) {\r\n        return objectMapper.readValue(serializedObject, clazz);\r\n    }\r\n    @SneakyThrows\r\n    // not present in the interface!\r\n    public &lt;T&gt; T deserialize(String serializedObject, TypeReference&lt;T&gt; typeReference) {\r\n        return objectMapper.readValue(serializedObject, typeReference);\r\n    }\r\n}\r\n```\r\nHowever, when it comes to deserialization of generic types, I&#39;m not sure how I should describe it in my interface. So far, I simply cast to `JacksonSerializer` which will fail if I decide to use another implementation\r\n```java\r\n        ServerSocketMessage&lt;ChatAuthentication&gt; serverResponse = ((JacksonSerializer) serializer).deserialize(line, new TypeReference&lt;&gt;() {\r\n        });\r\n```\r\nShould I add an additional abstraction layer for `TypedReference`? What if other libraries handle it differently (they don&#39;t pass some generic dummy)?\r\n\r\nWhat would you recommend?","title":"Abstraction layer over an ObjectMapper decorator: how do I approach deserialization of generic types?","body":"<p>I decorated an <code>ObjectMapper</code> and provided an additional abstraction layer to avoid coupling with <code>ObjectMapper</code> directly. Take a look:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClientServerCommunicator {\n    private static final Serializer serializer = new JacksonSerializer();\n    // more code\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Serializer {\n    String serialize(Object object);\n    &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class JacksonSerializer implements Serializer {\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    @Override\n    @SneakyThrows\n    public String serialize(Object object) {\n        return objectMapper.writeValueAsString(object);\n    }\n\n    @Override\n    @SneakyThrows\n    public &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz) {\n        return objectMapper.readValue(serializedObject, clazz);\n    }\n    @SneakyThrows\n    // not present in the interface!\n    public &lt;T&gt; T deserialize(String serializedObject, TypeReference&lt;T&gt; typeReference) {\n        return objectMapper.readValue(serializedObject, typeReference);\n    }\n}\n</code></pre>\n<p>However, when it comes to deserialization of generic types, I'm not sure how I should describe it in my interface. So far, I simply cast to <code>JacksonSerializer</code> which will fail if I decide to use another implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ServerSocketMessage&lt;ChatAuthentication&gt; serverResponse = ((JacksonSerializer) serializer).deserialize(line, new TypeReference&lt;&gt;() {\n        });\n</code></pre>\n<p>Should I add an additional abstraction layer for <code>TypedReference</code>? What if other libraries handle it differently (they don't pass some generic dummy)?</p>\n<p>What would you recommend?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1696334997,"post_id":77221711,"comment_id":136136997,"body_markdown":"https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F","body":"<a href=\"https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13645494,"reputation":49,"user_id":9844579,"display_name":"Lakshyya Kothari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696392747,"creation_date":1696392747,"answer_id":77226705,"question_id":77221711,"body_markdown":"I found the issue,  ```previous.setValue(string.getBytes());``` was the culprit. Keeping the code as \r\n```\r\nif(string.contains(searchString)){\r\nstring = string.replaceFirst(searchString, replacement);\r\nprevious.setValue(string.getBytes());\r\n}\r\n```\r\nresolved it. Looks like it was something related to how the pdf was encoded or something.\r\n\r\nAnyway, thanks for the help! :) ","title":"Replace text in PDF using Apache PDFBox messing up certain content","body":"<p>I found the issue,  <code>previous.setValue(string.getBytes());</code> was the culprit. Keeping the code as</p>\n<pre><code>if(string.contains(searchString)){\nstring = string.replaceFirst(searchString, replacement);\nprevious.setValue(string.getBytes());\n}\n</code></pre>\n<p>resolved it. Looks like it was something related to how the pdf was encoded or something.</p>\n<p>Anyway, thanks for the help! :)</p>\n"}],"owner":{"account_id":13645494,"reputation":49,"user_id":9844579,"display_name":"Lakshyya Kothari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77226705,"answer_count":1,"score":0,"last_activity_date":1696392747,"creation_date":1696331200,"question_id":77221711,"body_markdown":"I am trying to perform a text replace on a PDF using Apache PDFBox using the below code. The text replace is working perfectly but at the same time certain sections of the pdf have gone missing. Could you please help me in finding out what could have caused this. After calling the replaceTextInSecond function, I am just performing the below\r\n```\r\ndocument.save(&quot;filename.pdf&quot;);\r\ndocument.close();\r\n```\r\n\r\nCould you help me identify the cause? Thanks in advance!!\r\n\r\n```\r\nprivate static PDDocument replaceTextInSecond(PDDocument document, String searchString, String replacement) {\r\n\t\tPDPage page = document.getPage(1);\r\n        PDFStreamParser parser;\r\n\t\ttry {\r\n\t\t\tparser = new PDFStreamParser(page);\r\n\t\t\tparser.parse();\r\n\t        List&lt;?&gt; tokens = parser.getTokens();\r\n\t        \r\n\t        for (int j = 0; j &lt; tokens.size(); j++) {\r\n                Object next = tokens.get(j);\r\n                if (next instanceof Operator) {\r\n                    Operator op = (Operator) next;\r\n\r\n                    String pstring = &quot;&quot;;\r\n                    int prej = 0;\r\n\r\n                    if (op.getName().equals(&quot;Tj&quot;)) {\r\n                        COSString previous = (COSString) tokens.get(j - 1);\r\n                        String string = previous.getString();\r\n                        //System.out.println(&quot;string :::: &quot; +string);\r\n                        string = string.replaceFirst(searchString, replacement);\r\n                        previous.setValue(string.getBytes());\r\n                    } else if (op.getName().equals(&quot;TJ&quot;)) {\r\n                        COSArray previous = (COSArray) tokens.get(j - 1);\r\n                        for (int k = 0; k &lt; previous.size(); k++) {\r\n                            Object arrElement = previous.getObject(k);\r\n                            if (arrElement instanceof COSString) {\r\n                                COSString cosString = (COSString) arrElement;\r\n                                String string = cosString.getString();\r\n                                //System.out.println(&quot;string :::: &quot; +string);\r\n                                if (j == prej) {\r\n                                    pstring += string;\r\n                                } else {\r\n                                    prej = j;\r\n                                    pstring = string;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (searchString.equals(pstring.trim())) {\r\n                            COSString cosString2 = (COSString) previous.getObject(0);\r\n                            cosString2.setValue(replacement.getBytes());\r\n                            int total = previous.size() - 1;\r\n                            for (int k = total; k &gt; 0; k--) {\r\n                                previous.remove(k);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            PDStream updatedStream = new PDStream(document);\r\n            OutputStream out = updatedStream.createOutputStream(COSName.FLATE_DECODE);\r\n            ContentStreamWriter tokenWriter = new ContentStreamWriter(out);\r\n            tokenWriter.writeTokens(tokens);\r\n            out.close();\r\n            page.setContents(updatedStream);\r\n            //System.out.println(&quot;replaced &quot; +searchString + &quot; with &quot; + replacement);\r\n        }\r\n\t            \r\n\t\tcatch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\treturn document;\r\n\t}\r\n```","title":"Replace text in PDF using Apache PDFBox messing up certain content","body":"<p>I am trying to perform a text replace on a PDF using Apache PDFBox using the below code. The text replace is working perfectly but at the same time certain sections of the pdf have gone missing. Could you please help me in finding out what could have caused this. After calling the replaceTextInSecond function, I am just performing the below</p>\n<pre><code>document.save(&quot;filename.pdf&quot;);\ndocument.close();\n</code></pre>\n<p>Could you help me identify the cause? Thanks in advance!!</p>\n<pre><code>private static PDDocument replaceTextInSecond(PDDocument document, String searchString, String replacement) {\n        PDPage page = document.getPage(1);\n        PDFStreamParser parser;\n        try {\n            parser = new PDFStreamParser(page);\n            parser.parse();\n            List&lt;?&gt; tokens = parser.getTokens();\n            \n            for (int j = 0; j &lt; tokens.size(); j++) {\n                Object next = tokens.get(j);\n                if (next instanceof Operator) {\n                    Operator op = (Operator) next;\n\n                    String pstring = &quot;&quot;;\n                    int prej = 0;\n\n                    if (op.getName().equals(&quot;Tj&quot;)) {\n                        COSString previous = (COSString) tokens.get(j - 1);\n                        String string = previous.getString();\n                        //System.out.println(&quot;string :::: &quot; +string);\n                        string = string.replaceFirst(searchString, replacement);\n                        previous.setValue(string.getBytes());\n                    } else if (op.getName().equals(&quot;TJ&quot;)) {\n                        COSArray previous = (COSArray) tokens.get(j - 1);\n                        for (int k = 0; k &lt; previous.size(); k++) {\n                            Object arrElement = previous.getObject(k);\n                            if (arrElement instanceof COSString) {\n                                COSString cosString = (COSString) arrElement;\n                                String string = cosString.getString();\n                                //System.out.println(&quot;string :::: &quot; +string);\n                                if (j == prej) {\n                                    pstring += string;\n                                } else {\n                                    prej = j;\n                                    pstring = string;\n                                }\n                            }\n                        }\n\n                        if (searchString.equals(pstring.trim())) {\n                            COSString cosString2 = (COSString) previous.getObject(0);\n                            cosString2.setValue(replacement.getBytes());\n                            int total = previous.size() - 1;\n                            for (int k = total; k &gt; 0; k--) {\n                                previous.remove(k);\n                            }\n                        }\n                    }\n                }\n            }\n            PDStream updatedStream = new PDStream(document);\n            OutputStream out = updatedStream.createOutputStream(COSName.FLATE_DECODE);\n            ContentStreamWriter tokenWriter = new ContentStreamWriter(out);\n            tokenWriter.writeTokens(tokens);\n            out.close();\n            page.setContents(updatedStream);\n            //System.out.println(&quot;replaced &quot; +searchString + &quot; with &quot; + replacement);\n        }\n                \n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    return document;\n    }\n</code></pre>\n"},{"tags":["java","proxy","mockito","bucket","bucket4j"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667343046,"post_id":74280328,"comment_id":131144233,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"score":0,"creation_date":1667400455,"post_id":74280328,"comment_id":131158613,"body_markdown":"@lesiak the question here is builder method is of the type abstract , that method is throwing NPE. do i have to mock it ?","body":"@lesiak the question here is builder method is of the type abstract , that method is throwing NPE. do i have to mock it ?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667405721,"post_id":74280328,"comment_id":131160710,"body_markdown":"Please post full stack trace","body":"Please post full stack trace"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667583869,"post_id":74280328,"comment_id":131209097,"body_markdown":"What value does `builder` have? It is a mock? What value does `builder()` return? (but very likely everything is already answered in the link posted by Lesiak &quot;what is a NPE and how to fix&quot;)","body":"What value does <code>builder</code> have? It is a mock? What value does <code>builder()</code> return? (but very likely everything is already answered in the link posted by Lesiak &quot;what is a NPE and how to fix&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"score":0,"creation_date":1668722278,"post_id":74428256,"comment_id":131482198,"body_markdown":"I tried mocking buckets.builder first and then buckets.builder.build () that helped me to get the unit test working. I have a proxy manager bean initialized by JcacheProxyManager. thanks for your help!","body":"I tried mocking buckets.builder first and then buckets.builder.build () that helped me to get the unit test working. I have a proxy manager bean initialized by JcacheProxyManager. thanks for your help!"}],"tags":[],"owner":{"account_id":7743618,"reputation":24,"user_id":5862337,"display_name":"Vladimir Bukhtoyarov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668411253,"creation_date":1668411253,"answer_id":74428256,"question_id":74280328,"body_markdown":"**buckets** is null, because you did not set any value to this field. You need to initialize this field before calling any method.\r\n    \r\n    ","title":"Unit test proxyManager","body":"<p><strong>buckets</strong> is null, because you did not set any value to this field. You need to initialize this field before calling any method.</p>\n"},{"tags":[],"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668722305,"creation_date":1668722305,"answer_id":74482574,"question_id":74280328,"body_markdown":"I tried mocking buckets.builder first and then buckets.builder.build () that helped me to get the unit test to work. I have a proxy manager bean initialized by JcacheProxyManager.\r\n\r\n     @InjectMocks private RateLimitingService rateLimitingService;\r\n    \r\n      @Mock RemoteBucketBuilder&lt;String&gt; remoteBucketBuilder;\r\n    \r\n      @Mock ProxyManager&lt;String&gt; buckets;\r\n    \r\n      @Test\r\n      void shouldGetBucketsForThePassedKey() throws NoSuchAlgorithmException {\r\n\r\n    when(buckets.builder()).thenReturn(remoteBucketBuilder);\r\n    when(remoteBucketBuilder.build(\r\n            anyString(), ArgumentMatchers.&lt;Supplier&lt;BucketConfiguration&gt;&gt;any()))\r\n        .thenReturn(mock(BucketProxy.class));\r\n    Bucket bucket = rateLimitingService.resolveBucket(&quot;1&quot;, &quot;1&quot;, &quot;1&quot;);\r\n    assertNotNull(bucket);\r\n  }","title":"Unit test proxyManager","body":"<p>I tried mocking buckets.builder first and then buckets.builder.build () that helped me to get the unit test to work. I have a proxy manager bean initialized by JcacheProxyManager.</p>\n<pre><code> @InjectMocks private RateLimitingService rateLimitingService;\n\n  @Mock RemoteBucketBuilder&lt;String&gt; remoteBucketBuilder;\n\n  @Mock ProxyManager&lt;String&gt; buckets;\n\n  @Test\n  void shouldGetBucketsForThePassedKey() throws NoSuchAlgorithmException {\n\nwhen(buckets.builder()).thenReturn(remoteBucketBuilder);\nwhen(remoteBucketBuilder.build(\n        anyString(), ArgumentMatchers.&lt;Supplier&lt;BucketConfiguration&gt;&gt;any()))\n    .thenReturn(mock(BucketProxy.class));\nBucket bucket = rateLimitingService.resolveBucket(&quot;1&quot;, &quot;1&quot;, &quot;1&quot;);\nassertNotNull(bucket);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696392588,"creation_date":1667327543,"question_id":74280328,"body_markdown":"I need to unit test this code, but i have been seeing null pointer exceptions at buckets.builder().\r\n\r\n    import io.github.bucket4j.distributed.proxy.ProxyManager;\r\n   \r\n\r\n    private ProxyManager buckets;\r\n    \r\n     public Bucket resolveBucket(String key) {\r\n        Supplier&lt;BucketConfiguration&gt; configSupplier = getConfigSupplierForUser();\r\n        return buckets.builder().build(key, configSupplier);\r\n      }\r\n\r\n","title":"Unit test proxyManager","body":"<p>I need to unit test this code, but i have been seeing null pointer exceptions at buckets.builder().</p>\n<pre><code>import io.github.bucket4j.distributed.proxy.ProxyManager;\n\n\nprivate ProxyManager buckets;\n\n public Bucket resolveBucket(String key) {\n    Supplier&lt;BucketConfiguration&gt; configSupplier = getConfigSupplierForUser();\n    return buckets.builder().build(key, configSupplier);\n  }\n</code></pre>\n"},{"tags":["java","windows","selenium-webdriver","webdriver","maven-3"],"comments":[{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1696320359,"post_id":77219578,"comment_id":136134421,"body_markdown":"Please paste the code here. People do not like to read text from link or image here.","body":"Please paste the code here. People do not like to read text from link or image here."},{"owner":{"account_id":1472673,"reputation":33,"user_id":1383816,"accept_rate":20,"display_name":"sampath"},"score":0,"creation_date":1696390334,"post_id":77219578,"comment_id":136145125,"body_markdown":"@Tal Angel, I have uploaded code and console logs here.","body":"@Tal Angel, I have uploaded code and console logs here."}],"owner":{"account_id":1472673,"reputation":33,"user_id":1383816,"accept_rate":20,"display_name":"sampath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696392481,"creation_date":1696305576,"question_id":77219578,"body_markdown":"Whenever am trying to close the webdriver its throwing the error as: &quot;java.net.SocketException: Connection reset&quot;. \r\nThe code snippet, console logs and pom.xml is available on the following link: https://gist.github.com/SambathKumar/7a7c6c9659ae0fa4b3cadc0c7f61d76f \r\n\r\nWhat is the issue and how to fix this issue?\r\n\r\n**Orangehrm.java**\r\n```\r\npackage sam.test;\r\n\r\nimport java.time.Duration;\r\nimport java.util.List;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\npublic class Orangehrm {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tChromeOptions co=new ChromeOptions();\r\n\t\tWebDriver wd=new ChromeDriver(co);\r\n\t\tfinal int SLEEPSEC=3000;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Before launch orange hrm&quot;);\r\n\t\t\twd.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n\t\t\tSystem.out.println(&quot;After launch orange hrm&quot;);\r\n\t\t\twd.manage().window().maximize();\r\n\t\t\twd.manage().timeouts().implicitlyWait(Duration.ofSeconds(SLEEPSEC));\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;username&#39;]&quot;)).clear();\r\n\t\t\tSystem.out.println(&quot;After clearing the username field&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;username&#39;]&quot;)).sendKeys(&quot;Admin&quot;);\r\n\t\t\tSystem.out.println(&quot;After entering the username as Admin&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;password&#39;]&quot;)).clear();\r\n\t\t\tSystem.out.println(&quot;After clearing the password field&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;password&#39;]&quot;)).sendKeys(&quot;admin123&quot;);\r\n\t\t\tSystem.out.println(&quot;After entering the password as admin123&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;button[type=&#39;submit&#39;]&quot;)).submit();\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}finally {\r\n\t\t\tSystem.out.println(&quot;before close&quot;);\r\n\t\t\t//Thread.sleep(SLEEPSEC);\r\n\t\t\twd.close();\r\n\t\t\tSystem.out.println(&quot;before quit&quot;);\r\n\t\t\twd.quit();\r\n\t\t\tSystem.out.println(&quot;after quit&quot;);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\t\r\n\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.sam&lt;/groupId&gt;\r\n  &lt;artifactId&gt;sam.test&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;test&lt;/name&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n\t    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.12.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n&lt;!--\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**console.logs**\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nOct 02, 2023 10:51:13 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 117, so returning the closest version found: 116\r\nBefore launch orange hrm\r\nAfter launch orange hrm\r\nAfter clearing the username field\r\nAfter entering the username as Admin\r\nAfter clearing the password field\r\nAfter entering the password as admin123\r\nbefore close\r\nOct 02, 2023 10:51:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:254)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nbefore quit\r\nafter quit\r\n```\r\n","title":"Not able to close selenium webdriver object 4.11.0 and 4.12.1","body":"<p>Whenever am trying to close the webdriver its throwing the error as: &quot;java.net.SocketException: Connection reset&quot;.\nThe code snippet, console logs and pom.xml is available on the following link: <a href=\"https://gist.github.com/SambathKumar/7a7c6c9659ae0fa4b3cadc0c7f61d76f\" rel=\"nofollow noreferrer\">https://gist.github.com/SambathKumar/7a7c6c9659ae0fa4b3cadc0c7f61d76f</a></p>\n<p>What is the issue and how to fix this issue?</p>\n<p><strong>Orangehrm.java</strong></p>\n<pre><code>package sam.test;\n\nimport java.time.Duration;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Orangehrm {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        ChromeOptions co=new ChromeOptions();\n        WebDriver wd=new ChromeDriver(co);\n        final int SLEEPSEC=3000;\n        try {\n            System.out.println(&quot;Before launch orange hrm&quot;);\n            wd.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n            System.out.println(&quot;After launch orange hrm&quot;);\n            wd.manage().window().maximize();\n            wd.manage().timeouts().implicitlyWait(Duration.ofSeconds(SLEEPSEC));\n            wd.findElement(By.cssSelector(&quot;input[name='username']&quot;)).clear();\n            System.out.println(&quot;After clearing the username field&quot;);\n            wd.findElement(By.cssSelector(&quot;input[name='username']&quot;)).sendKeys(&quot;Admin&quot;);\n            System.out.println(&quot;After entering the username as Admin&quot;);\n            wd.findElement(By.cssSelector(&quot;input[name='password']&quot;)).clear();\n            System.out.println(&quot;After clearing the password field&quot;);\n            wd.findElement(By.cssSelector(&quot;input[name='password']&quot;)).sendKeys(&quot;admin123&quot;);\n            System.out.println(&quot;After entering the password as admin123&quot;);\n            wd.findElement(By.cssSelector(&quot;button[type='submit']&quot;)).submit();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }finally {\n            System.out.println(&quot;before close&quot;);\n            //Thread.sleep(SLEEPSEC);\n            wd.close();\n            System.out.println(&quot;before quit&quot;);\n            wd.quit();\n            System.out.println(&quot;after quit&quot;);\n        }\n\n    }\n}\n    \n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.sam&lt;/groupId&gt;\n  &lt;artifactId&gt;sam.test&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;test&lt;/name&gt;\n  \n  &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n  &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>console.logs</strong></p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nOct 02, 2023 10:51:13 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 117, so returning the closest version found: 116\nBefore launch orange hrm\nAfter launch orange hrm\nAfter clearing the username field\nAfter entering the username as Admin\nAfter clearing the password field\nAfter entering the password as admin123\nbefore close\nOct 02, 2023 10:51:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:254)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nbefore quit\nafter quit\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-permissions"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1653553236,"post_id":72388741,"comment_id":127881327,"body_markdown":"weird, [it is there](https://developer.android.com/reference/android/Manifest.permission#POST_NOTIFICATIONS). try to restart your Android Studio with cache cleaning (File -&gt;Invalidate caches -&gt; Invalidate and Restart button)","body":"weird, <a href=\"https://developer.android.com/reference/android/Manifest.permission#POST_NOTIFICATIONS\" rel=\"nofollow noreferrer\">it is there</a>. try to restart your Android Studio with cache cleaning (File -&gt;Invalidate caches -&gt; Invalidate and Restart button)"},{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1653553489,"post_id":72388741,"comment_id":127881420,"body_markdown":"Does there any role for the Gradle version here?","body":"Does there any role for the Gradle version here?"}],"answers":[{"comments":[{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1653572024,"post_id":72390497,"comment_id":127887620,"body_markdown":"**Note:** As of 26-05-2022 android 13 is not yet stable","body":"<b>Note:</b> As of 26-05-2022 android 13 is not yet stable"},{"owner":{"account_id":6388932,"reputation":391,"user_id":4955822,"display_name":"Aayush Goyal"},"score":1,"creation_date":1661455071,"post_id":72390497,"comment_id":129783294,"body_markdown":"Just thought it saved my day in advance. Thanks for this.","body":"Just thought it saved my day in advance. Thanks for this."},{"owner":{"account_id":59548,"reputation":19807,"user_id":178143,"accept_rate":61,"display_name":"Ted"},"score":1,"creation_date":1670336460,"post_id":72390497,"comment_id":131849492,"body_markdown":"This did not work for me...","body":"This did not work for me..."}],"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668427349,"creation_date":1653561621,"answer_id":72390497,"question_id":72388741,"body_markdown":"         android {\r\n         namespace &#39;com.example.myapplication&#39;\r\n        compileSdkVersion 33//update this\r\n    \r\n         defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n            minSdk 23\r\n            targetSdkVersion 33//update this\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\n","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<pre><code>     android {\n     namespace 'com.example.myapplication'\n    compileSdkVersion 33//update this\n\n     defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 23\n        targetSdkVersion 33//update this\n        versionCode 1\n        versionName &quot;1.0&quot;\n        \n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8030597,"reputation":3786,"user_id":6055738,"display_name":"Eric Cen"},"score":0,"creation_date":1674090037,"post_id":73110837,"comment_id":132643231,"body_markdown":"Android TiramisuPrivacy Sandbox Preview is not needed.  Try to File -&gt; Invalidate Caches...","body":"Android TiramisuPrivacy Sandbox Preview is not needed.  Try to File -&gt; Invalidate Caches..."}],"tags":[],"owner":{"account_id":14345234,"reputation":509,"user_id":10362244,"display_name":"Dev Soni"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660017741,"creation_date":1658759001,"answer_id":73110837,"question_id":72388741,"body_markdown":"&lt;p&gt;I faced the same problem, &lt;/p&gt;\r\n&lt;p&gt;&lt;b&gt;Steps to fix :&lt;/b&gt;&lt;/p&gt;\r\n\r\n&lt;b&gt;Install SDK Platforms&lt;/b&gt;\r\n`SDK Platform 33`\r\n`Android TiramisuPrivacy Sandbox Preview`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Install SDK Tools :**\r\nAndroid SDK build Tools 33\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Slaqn.png\r\n  [2]: https://i.stack.imgur.com/f6tbH.png","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>I faced the same problem, </p>\n<p><b>Steps to fix :</b></p>\n<p><b>Install SDK Platforms</b>\n<code>SDK Platform 33</code>\n<code>Android TiramisuPrivacy Sandbox Preview</code></p>\n<p><a href=\"https://i.stack.imgur.com/Slaqn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Slaqn.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Install SDK Tools :</strong>\nAndroid SDK build Tools 33\n<a href=\"https://i.stack.imgur.com/f6tbH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6tbH.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":59548,"reputation":19807,"user_id":178143,"accept_rate":61,"display_name":"Ted"},"score":1,"creation_date":1670336192,"post_id":73274269,"comment_id":131849387,"body_markdown":"This did not work for me.","body":"This did not work for me."},{"owner":{"account_id":17880418,"reputation":454,"user_id":12989363,"display_name":"MatBuompy"},"score":0,"creation_date":1670340273,"post_id":73274269,"comment_id":131851064,"body_markdown":"Did you install the Android API 33 SDK?","body":"Did you install the Android API 33 SDK?"},{"owner":{"account_id":59548,"reputation":19807,"user_id":178143,"accept_rate":61,"display_name":"Ted"},"score":0,"creation_date":1670391021,"post_id":73274269,"comment_id":131863294,"body_markdown":"Oh yes, that is definately installed.","body":"Oh yes, that is definately installed."},{"owner":{"account_id":17880418,"reputation":454,"user_id":12989363,"display_name":"MatBuompy"},"score":0,"creation_date":1670400028,"post_id":73274269,"comment_id":131865235,"body_markdown":"Well, I can&#39;t definately help if you don&#39;t provide additional info.","body":"Well, I can&#39;t definately help if you don&#39;t provide additional info."},{"owner":{"account_id":59548,"reputation":19807,"user_id":178143,"accept_rate":61,"display_name":"Ted"},"score":0,"creation_date":1670401627,"post_id":73274269,"comment_id":131865700,"body_markdown":"Btw, it does work now, it was a typo.","body":"Btw, it does work now, it was a typo."},{"owner":{"account_id":17880418,"reputation":454,"user_id":12989363,"display_name":"MatBuompy"},"score":0,"creation_date":1670403718,"post_id":73274269,"comment_id":131866426,"body_markdown":"I&#39;m glad you solved your problem. And, yeah, tone is hard to decipher online.","body":"I&#39;m glad you solved your problem. And, yeah, tone is hard to decipher online."},{"owner":{"account_id":255904,"reputation":1823,"user_id":536255,"accept_rate":35,"display_name":"Koger"},"score":0,"creation_date":1697022716,"post_id":73274269,"comment_id":136226486,"body_markdown":"Thanks, that worked for me. Funny it wasn&#39;t enough to have compileSdkVersion in  android block, it had to be under defaultConfig as well... Would never thought about it.","body":"Thanks, that worked for me. Funny it wasn&#39;t enough to have compileSdkVersion in  android block, it had to be under defaultConfig as well... Would never thought about it."}],"tags":[],"owner":{"account_id":17880418,"reputation":454,"user_id":12989363,"display_name":"MatBuompy"},"comment_count":7,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1659943914,"creation_date":1659943914,"answer_id":73274269,"question_id":72388741,"body_markdown":"I solved it by using *compileSdkVersion 33* in the gradle file at the Module level. Then it allowed me to use the POST_NOTIFICATIONS permission without any issue.\r\n[![Gradle Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/goHdh.png","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>I solved it by using <em>compileSdkVersion 33</em> in the gradle file at the Module level. Then it allowed me to use the POST_NOTIFICATIONS permission without any issue.\n<a href=\"https://i.stack.imgur.com/goHdh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/goHdh.png\" alt=\"Gradle Settings\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1679895568,"post_id":73806774,"comment_id":133796382,"body_markdown":"I wonder why Android Studio doesn&#39;t provide a quick action to add the import for us.","body":"I wonder why Android Studio doesn&#39;t provide a quick action to add the import for us."},{"owner":{"account_id":5819278,"reputation":154,"user_id":4587866,"display_name":"Pim Tegelaar"},"score":1,"creation_date":1681601787,"post_id":73806774,"comment_id":134083250,"body_markdown":"Android Studio also sees a Manifest class for your apps package, so doesn&#39;t see it as a missing import.","body":"Android Studio also sees a Manifest class for your apps package, so doesn&#39;t see it as a missing import."}],"tags":[],"owner":{"account_id":7908176,"reputation":2940,"user_id":5972985,"display_name":"Joseph Wambura"},"comment_count":2,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1663793185,"creation_date":1663793185,"answer_id":73806774,"question_id":72388741,"body_markdown":"Just add this import:\r\n\r\n    import android.Manifest","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Just add this import:</p>\n<pre><code>import android.Manifest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":988766,"reputation":1937,"user_id":1006580,"accept_rate":82,"display_name":"Nestor Ledon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674152369,"creation_date":1674152369,"answer_id":75176662,"question_id":72388741,"body_markdown":"Set **targetSDKVersion** to ***33***.\r\n\r\nIf for some reason it complains about your minimum supported and you&#39;re in no position to update, use the following instead:\r\n\r\n```\r\nNotificationManagerCompat.from(this).areNotificationsEnabled()\r\n```","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Set <strong>targetSDKVersion</strong> to <em><strong>33</strong></em>.</p>\n<p>If for some reason it complains about your minimum supported and you're in no position to update, use the following instead:</p>\n<pre><code>NotificationManagerCompat.from(this).areNotificationsEnabled()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374590,"reputation":3335,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680535267,"creation_date":1680535267,"answer_id":75921110,"question_id":72388741,"body_markdown":"You need to prefix the Manifest statement with android., e.g., \r\n\r\n                if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.POST_NOTIFICATIONS) ==\r\n                    PackageManager.PERMISSION_GRANTED)","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>You need to prefix the Manifest statement with android., e.g.,</p>\n<pre><code>            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.POST_NOTIFICATIONS) ==\n                PackageManager.PERMISSION_GRANTED)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683905185,"post_id":76237494,"comment_id":134443026,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76237494/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24404734,"reputation":1,"user_id":18333050,"display_name":"Yogesh Swami"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683903166,"creation_date":1683903166,"answer_id":76237494,"question_id":72388741,"body_markdown":"just import\r\n`import android.Manifest.permission.POST_NOTIFICATIONS as POST_NOTIFICATIONS`\r\nand use as\r\n`ContextCompat.checkSelfPermission(context, POST_NOTIFICATIONS)`\r\nit&#39;s work perfectly","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>just import\n<code>import android.Manifest.permission.POST_NOTIFICATIONS as POST_NOTIFICATIONS</code>\nand use as\n<code>ContextCompat.checkSelfPermission(context, POST_NOTIFICATIONS)</code>\nit's work perfectly</p>\n"},{"tags":[],"owner":{"account_id":8741496,"reputation":1621,"user_id":6538435,"display_name":"Davide Carpini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684312476,"creation_date":1684312476,"answer_id":76270073,"question_id":72388741,"body_markdown":"if you are coming here for a react-native that uses &#39;react-native-gesture-handler&#39; this is because react-native-gesture-handler has a new 2.10.0 version, if you downgrade it to 2.9.0 it should work","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>if you are coming here for a react-native that uses 'react-native-gesture-handler' this is because react-native-gesture-handler has a new 2.10.0 version, if you downgrade it to 2.9.0 it should work</p>\n"},{"tags":[],"owner":{"account_id":12790330,"reputation":2710,"user_id":9255057,"display_name":"Hardik Hirpara"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696392222,"creation_date":1694752013,"answer_id":77109602,"question_id":72388741,"body_markdown":"Import below line\r\n\r\n    import android.Manifest\r\n\r\nthen use, \r\n\r\n&gt; android.Manifest.permission.POST_NOTIFICATIONS\r\n\r\ninstead of \r\n\r\n&gt; Manifest.permission.POST_NOTIFICATIONS\r\n","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Import below line</p>\n<pre><code>import android.Manifest\n</code></pre>\n<p>then use,</p>\n<blockquote>\n<p>android.Manifest.permission.POST_NOTIFICATIONS</p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p>Manifest.permission.POST_NOTIFICATIONS</p>\n</blockquote>\n"}],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26429,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":72390497,"answer_count":9,"score":40,"last_activity_date":1696392222,"creation_date":1653552697,"question_id":72388741,"body_markdown":"Trying to implement the notification permission for android 13 or &quot;Tiramisu&quot; but failed to get the import for that permission. \r\n\r\nCurrently:\r\ntargeted SDK version is 32\r\ncompile SDK version is 32\r\n\r\nI&#39;ve declared it also in manifiest as below:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;\r\n\r\nimport i&#39;m using: \r\n\r\n    import android.Manifest\r\n\r\n- But even not getting import in my fragment.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ozyhp.png\r\n","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Trying to implement the notification permission for android 13 or &quot;Tiramisu&quot; but failed to get the import for that permission.</p>\n<p>Currently:\ntargeted SDK version is 32\ncompile SDK version is 32</p>\n<p>I've declared it also in manifiest as below:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;\n</code></pre>\n<p>import i'm using:</p>\n<pre><code>import android.Manifest\n</code></pre>\n<ul>\n<li>But even not getting import in my fragment.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ozyhp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ozyhp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","load-testing","gatling"],"answers":[{"comments":[{"owner":{"account_id":29188724,"reputation":3,"user_id":22361265,"display_name":"Darla David"},"score":0,"creation_date":1696387871,"post_id":77221150,"comment_id":136144995,"body_markdown":"Hi! I changed the cookie&#39;s domain to `staging.com` and the response code is still 403.","body":"Hi! I changed the cookie&#39;s domain to <code>staging.com</code> and the response code is still 403."},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1696411849,"post_id":77221150,"comment_id":136148214,"body_markdown":"Enable debug logging in logback.conf and check the payloads. In particular, make sure your cookie is sent. Also, make sure your cookie hasn&#39;t expired.","body":"Enable debug logging in logback.conf and check the payloads. In particular, make sure your cookie is sent. Also, make sure your cookie hasn&#39;t expired."}],"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696326029,"creation_date":1696326029,"answer_id":77221150,"question_id":77219560,"body_markdown":"The domain of your request (`staging.com`) and the one of your cookie (`.staging.com`) don&#39;t match so the cookie is not sent. Check [RFC6265][1] for more details.\r\n\r\nThings would work as expected if you&#39;d fix your cookie&#39;s domain and use `staging.com` instead.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6265.html#section-5.1.3","title":"Getting a 403 Forbidden Error in Gatling despite Adding Correct Cookie - Troubleshooting Help Needed","body":"<p>The domain of your request (<code>staging.com</code>) and the one of your cookie (<code>.staging.com</code>) don't match so the cookie is not sent. Check <a href=\"https://www.rfc-editor.org/rfc/rfc6265.html#section-5.1.3\" rel=\"nofollow noreferrer\">RFC6265</a> for more details.</p>\n<p>Things would work as expected if you'd fix your cookie's domain and use <code>staging.com</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":29188724,"reputation":3,"user_id":22361265,"display_name":"Darla David"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696391031,"creation_date":1696391031,"answer_id":77226607,"question_id":77219560,"body_markdown":"I changed the order of the scenario. Setting cookies first before accessing the website.\r\n\r\n```\r\n    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\r\n\r\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\r\n            .withDomain(&quot;.staging.com&quot;)\r\n            .withPath(&quot;/&quot;)\r\n            .withSecure(true)))\r\n\r\n        .exec(http(&quot;Accessing Website&quot;)\r\n            .get(&quot;/&quot;)\r\n            .check(status().saveAs(&quot;status&quot;)))\r\n        \r\n        .exec(session -&gt; {\r\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\r\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\r\n            return session;\r\n        });\r\n```","title":"Getting a 403 Forbidden Error in Gatling despite Adding Correct Cookie - Troubleshooting Help Needed","body":"<p>I changed the order of the scenario. Setting cookies first before accessing the website.</p>\n<pre><code>    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\n\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\n            .withDomain(&quot;.staging.com&quot;)\n            .withPath(&quot;/&quot;)\n            .withSecure(true)))\n\n        .exec(http(&quot;Accessing Website&quot;)\n            .get(&quot;/&quot;)\n            .check(status().saveAs(&quot;status&quot;)))\n        \n        .exec(session -&gt; {\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\n            return session;\n        });\n</code></pre>\n"}],"owner":{"account_id":29188724,"reputation":3,"user_id":22361265,"display_name":"Darla David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77226607,"answer_count":2,"score":0,"last_activity_date":1696391031,"creation_date":1696305152,"question_id":77219560,"body_markdown":"I am working on a load testing script using Gatling for a website, and I&#39;ve encountered a **403 Forbidden error** in the response, even after adding the necessary cookie for authentication. I&#39;ve double-checked the cookie, headers, and the URL, but I&#39;m still unable to resolve this issue.\r\n\r\n\r\n```\r\npackage assignment7;\r\n\r\nimport static io.gatling.javaapi.core.CoreDsl.*;\r\nimport static io.gatling.javaapi.http.HttpDsl.*;\r\n\r\nimport io.gatling.javaapi.core.*;\r\nimport io.gatling.javaapi.http.*;\r\n\r\npublic class AssignmentSimulation extends Simulation {\r\n    \r\n    // http config\r\n    private HttpProtocolBuilder httpProtocol = http\r\n        .baseUrl(&quot;https://staging.com&quot;)\r\n        .acceptHeader(&quot;application/json, text/plain, */*&quot;)\r\n        .acceptEncodingHeader(&quot;gzip, deflate, br&quot;)\r\n        .acceptLanguageHeader(&quot;en-US,en;q=0.9&quot;)\r\n        .contentTypeHeader(&quot;application/json&quot;)\r\n        .userAgentHeader(&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36 Edg/117.0.2045.47&quot;);\r\n        \r\n    // Scenario definition\r\n    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\r\n        .exec(http(&quot;Accessing Website&quot;)\r\n            .get(&quot;/&quot;)\r\n            .check(status().saveAs(&quot;status&quot;)))\r\n\r\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\r\n            .withDomain(&quot;.staging.com&quot;)\r\n            .withPath(&quot;/&quot;)\r\n            .withSecure(true)))\r\n        \r\n        .exec(session -&gt; {\r\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\r\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\r\n            return session;\r\n        });\r\n\r\n    //load simulation\r\n    {\r\n        setUp(\r\n            scn.injectOpen(atOnceUsers(1))\r\n        ).protocols(httpProtocol);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI would greatly appreciate any guidance or insights on why I&#39;m still receiving a 403 error despite adding the cookie correctly. Is there anything else I might be missing or any common pitfalls in Gatling that I should be aware of? Thank you in advance for your help!\r\n\r\n","title":"Getting a 403 Forbidden Error in Gatling despite Adding Correct Cookie - Troubleshooting Help Needed","body":"<p>I am working on a load testing script using Gatling for a website, and I've encountered a <strong>403 Forbidden error</strong> in the response, even after adding the necessary cookie for authentication. I've double-checked the cookie, headers, and the URL, but I'm still unable to resolve this issue.</p>\n<pre><code>package assignment7;\n\nimport static io.gatling.javaapi.core.CoreDsl.*;\nimport static io.gatling.javaapi.http.HttpDsl.*;\n\nimport io.gatling.javaapi.core.*;\nimport io.gatling.javaapi.http.*;\n\npublic class AssignmentSimulation extends Simulation {\n    \n    // http config\n    private HttpProtocolBuilder httpProtocol = http\n        .baseUrl(&quot;https://staging.com&quot;)\n        .acceptHeader(&quot;application/json, text/plain, */*&quot;)\n        .acceptEncodingHeader(&quot;gzip, deflate, br&quot;)\n        .acceptLanguageHeader(&quot;en-US,en;q=0.9&quot;)\n        .contentTypeHeader(&quot;application/json&quot;)\n        .userAgentHeader(&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36 Edg/117.0.2045.47&quot;);\n        \n    // Scenario definition\n    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\n        .exec(http(&quot;Accessing Website&quot;)\n            .get(&quot;/&quot;)\n            .check(status().saveAs(&quot;status&quot;)))\n\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\n            .withDomain(&quot;.staging.com&quot;)\n            .withPath(&quot;/&quot;)\n            .withSecure(true)))\n        \n        .exec(session -&gt; {\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\n            return session;\n        });\n\n    //load simulation\n    {\n        setUp(\n            scn.injectOpen(atOnceUsers(1))\n        ).protocols(httpProtocol);\n    }\n}\n\n</code></pre>\n<p>I would greatly appreciate any guidance or insights on why I'm still receiving a 403 error despite adding the cookie correctly. Is there anything else I might be missing or any common pitfalls in Gatling that I should be aware of? Thank you in advance for your help!</p>\n"},{"tags":["java","pdfbox"],"answers":[{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1696391061,"post_id":77226597,"comment_id":136145177,"body_markdown":"There is a migration guide, but that one is missing. I&#39;ll try to add it when I have more time. (Extended national holiday weekend is just over)","body":"There is a migration guide, but that one is missing. I&#39;ll try to add it when I have more time. (Extended national holiday weekend is just over)"}],"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696390896,"creation_date":1696390896,"answer_id":77226597,"question_id":77226377,"body_markdown":"This one has been replaced by `PDAnnotationFreeText`.","title":"Annotations in PDFBox 3","body":"<p>This one has been replaced by <code>PDAnnotationFreeText</code>.</p>\n"}],"owner":{"account_id":5944573,"reputation":55,"user_id":4674527,"display_name":"Benjamin James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77226597,"answer_count":1,"score":1,"last_activity_date":1696390896,"creation_date":1696386196,"question_id":77226377,"body_markdown":"Updating to PDFBox 3 from 2, I get an error for the line below, and the javadoc on javadoc.io is down.  Anyone know the new way to add comments to a pdf in pdfbox 3?\r\n\r\n            PDAnnotationTextMarkup txtMark = new PDAnnotationTextMarkup(PDAnnotationTextMarkup.SUB_TYPE_FREETEXT);\r\n\r\nThere is no property PDAnnotationTextMarkup.SUB_TYPE_FREETEXT","title":"Annotations in PDFBox 3","body":"<p>Updating to PDFBox 3 from 2, I get an error for the line below, and the javadoc on javadoc.io is down.  Anyone know the new way to add comments to a pdf in pdfbox 3?</p>\n<pre><code>        PDAnnotationTextMarkup txtMark = new PDAnnotationTextMarkup(PDAnnotationTextMarkup.SUB_TYPE_FREETEXT);\n</code></pre>\n<p>There is no property PDAnnotationTextMarkup.SUB_TYPE_FREETEXT</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9988,"page":146,"page_size":100}
