{"items":[{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2318717,"reputation":67,"user_id":2035116,"display_name":"Jaykumar Javiya"},"score":0,"creation_date":1602591462,"post_id":64334196,"comment_id":113763705,"body_markdown":"have you changed/installed java&#39;s new version in UNIX server?","body":"have you changed/installed java&#39;s new version in UNIX server?"},{"owner":{"account_id":15435352,"reputation":1,"user_id":11135602,"display_name":"Savio Coelho"},"score":0,"creation_date":1602594071,"post_id":64334196,"comment_id":113764955,"body_markdown":"Highly unlikely...No","body":"Highly unlikely...No"},{"owner":{"account_id":15435352,"reputation":1,"user_id":11135602,"display_name":"Savio Coelho"},"score":0,"creation_date":1602594104,"post_id":64334196,"comment_id":113764974,"body_markdown":"The dependency have not changed as well","body":"The dependency have not changed as well"}],"owner":{"account_id":15435352,"reputation":1,"user_id":11135602,"display_name":"Savio Coelho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140619,"creation_date":1602587774,"question_id":64334196,"body_markdown":"Error: Could not find or load main class org.springframework.boot.loader.PropertiesLauncher - JAVA -SpringBoot Application;\r\n\r\nThe application was working fine until a few months ago; is running fine locally but not the UNIX servers.\r\n\r\nCLI used -\r\n```\r\njava -cp SomeJAR.jar -Dloader.main=MainClass org.springframework.boot.loader.PropertiesLauncher classpath:some.xml\r\n```\r\nThe only that has changed in the project is that Unit Test Cases were added, what could be causing this issue???","title":"Error: Could not find or load main class org.springframework.boot.loader.PropertiesLauncher - JAVA -SpringBoot Application","body":"<p>Error: Could not find or load main class org.springframework.boot.loader.PropertiesLauncher - JAVA -SpringBoot Application;</p>\n<p>The application was working fine until a few months ago; is running fine locally but not the UNIX servers.</p>\n<p>CLI used -</p>\n<pre><code>java -cp SomeJAR.jar -Dloader.main=MainClass org.springframework.boot.loader.PropertiesLauncher classpath:some.xml\n</code></pre>\n<p>The only that has changed in the project is that Unit Test Cases were added, what could be causing this issue???</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1602648559,"post_id":64346222,"comment_id":113783938,"body_markdown":"Can you remove ComponentScan from the Application and see if things are working fine?","body":"Can you remove ComponentScan from the Application and see if things are working fine?"},{"owner":{"account_id":19730350,"reputation":1,"user_id":14445970,"display_name":"Ng Siong Teck"},"score":0,"creation_date":1602652561,"post_id":64346222,"comment_id":113784779,"body_markdown":"@sonus21 If I removed ComponentScan, Springboot will not process EnableJpaRepositories in the java datasource config file. If i add EnableJpaREpositories in the springboot main app, it will throw not a managed type error.","body":"@sonus21 If I removed ComponentScan, Springboot will not process EnableJpaRepositories in the java datasource config file. If i add EnableJpaREpositories in the springboot main app, it will throw not a managed type error."},{"owner":{"account_id":19730350,"reputation":1,"user_id":14445970,"display_name":"Ng Siong Teck"},"score":0,"creation_date":1605062473,"post_id":64346222,"comment_id":114535851,"body_markdown":"@sonus21 I just found out the issue that I forgot to import the module in maven. Thanks for the help anyway!! Cheers","body":"@sonus21 I just found out the issue that I forgot to import the module in maven. Thanks for the help anyway!! Cheers"}],"owner":{"account_id":19730350,"reputation":1,"user_id":14445970,"display_name":"Ng Siong Teck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140599,"creation_date":1602646283,"question_id":64346222,"body_markdown":"I would like to ask on how to configure the SpringBoot application to include external Jar Java DataSource Configuration. Entity classes are all annotated with `@Entity` in the external Jar entity classes, repository interfaces with @ repository annotation with CrudRepository extended. The Lib module is packaged as a JAR file with Datasource configured in Java. The WAR module is supposed to import the LIB jar, and use it to extract data from database, with the datasource configured with the JAR itself.\r\n\r\nMaven build extract\r\n\r\n    &lt;groupId&gt;com.sample.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;App-war&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sample.lib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;Lib-jar&lt;/artifactId&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.penta.account&lt;/groupId&gt;\r\n                &lt;artifactId&gt;AccountService-jar&lt;/artifactId&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nI have tried the following method below which resulted in &#39;not a managed type&#39; error for entity class. I understand that @EnableJpaRepository and @EntityScan is supposed to scan external JAR Spring beans to be included in the WAR application.\r\n\r\n    @SpringBootApplication()\r\n    @EnableJpaRepositories({&quot;com.sample.lib.repository&quot;,&quot;com.sample.app.repository&quot;})\r\n    @EntityScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.app.entity&quot;})\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application .class, args);\r\n        }\r\n    }\r\n\r\nSo I thought that I should have imported the Java datasource configuration, and then use it to store the packages to scan. The application can be compiled but the components in the WAR were not compiled, resulting spring boot to use the default login page and ignoring any custom authentication in the WAR packages.\r\n\r\nDataSource Java configuration for LibDSConfig\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(&quot;com.sample.lib.repository&quot;)\r\n    public class LibDSConfig {\r\n    \r\n        // Other @Bean classes\r\n        @Bean\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n            em.setDataSource(local());\r\n            em.setPackagesToScan(new String[]{com.sample.lib.entity});\r\n            JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n            em.setJpaVendorAdapter(vendorAdapter);\r\n            em.setJpaProperties(additionalProperties());\r\n            return em;\r\n        }    \r\n    }\r\n\r\nDataSource Java configuration for AppDSConfig\r\n\r\n    @Configuration\r\n        @EnableJpaRepositories(&quot;com.sample.app.repository&quot;)\r\n        public class AppDSConfig {\r\n        \r\n            // Other @Bean classes\r\n            @Bean\r\n            public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n                LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n                em.setDataSource(local());\r\n                em.setPackagesToScan(new String[]{com.sample.app.entity});\r\n                JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n                em.setJpaVendorAdapter(vendorAdapter);\r\n                em.setJpaProperties(additionalProperties());\r\n                return em;\r\n            }    \r\n        }\r\n\r\nSpringboot main java configuration\r\n\r\n\r\n    @SpringBootApplication()\r\n    @ComponentScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.lib.entity&quot;})\r\n    @Import({\r\n        AppDSConfig.class,\r\n        LibDSConfig .class\r\n    })\r\n    public class Application{\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nI understand that the @ComponentScan only scans the entity classes as configured in the code above. I would like to ask if there are any alternative solutions to import external jar java configurations?","title":"Scanning external jar java datasource configuration in a multimodule SpringBoot application","body":"<p>I would like to ask on how to configure the SpringBoot application to include external Jar Java DataSource Configuration. Entity classes are all annotated with <code>@Entity</code> in the external Jar entity classes, repository interfaces with @ repository annotation with CrudRepository extended. The Lib module is packaged as a JAR file with Datasource configured in Java. The WAR module is supposed to import the LIB jar, and use it to extract data from database, with the datasource configured with the JAR itself.</p>\n<p>Maven build extract</p>\n<pre><code>&lt;groupId&gt;com.sample.app&lt;/groupId&gt;\n&lt;artifactId&gt;App-war&lt;/artifactId&gt;\n&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sample.lib&lt;/groupId&gt;\n            &lt;artifactId&gt;Lib-jar&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.penta.account&lt;/groupId&gt;\n            &lt;artifactId&gt;AccountService-jar&lt;/artifactId&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I have tried the following method below which resulted in 'not a managed type' error for entity class. I understand that @EnableJpaRepository and @EntityScan is supposed to scan external JAR Spring beans to be included in the WAR application.</p>\n<pre><code>@SpringBootApplication()\n@EnableJpaRepositories({&quot;com.sample.lib.repository&quot;,&quot;com.sample.app.repository&quot;})\n@EntityScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.app.entity&quot;})\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application .class, args);\n    }\n}\n</code></pre>\n<p>So I thought that I should have imported the Java datasource configuration, and then use it to store the packages to scan. The application can be compiled but the components in the WAR were not compiled, resulting spring boot to use the default login page and ignoring any custom authentication in the WAR packages.</p>\n<p>DataSource Java configuration for LibDSConfig</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(&quot;com.sample.lib.repository&quot;)\npublic class LibDSConfig {\n\n    // Other @Bean classes\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(local());\n        em.setPackagesToScan(new String[]{com.sample.lib.entity});\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n        return em;\n    }    \n}\n</code></pre>\n<p>DataSource Java configuration for AppDSConfig</p>\n<pre><code>@Configuration\n    @EnableJpaRepositories(&quot;com.sample.app.repository&quot;)\n    public class AppDSConfig {\n    \n        // Other @Bean classes\n        @Bean\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n            LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n            em.setDataSource(local());\n            em.setPackagesToScan(new String[]{com.sample.app.entity});\n            JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n            em.setJpaVendorAdapter(vendorAdapter);\n            em.setJpaProperties(additionalProperties());\n            return em;\n        }    \n    }\n</code></pre>\n<p>Springboot main java configuration</p>\n<pre><code>@SpringBootApplication()\n@ComponentScan({&quot;com.sample.lib.entity&quot;,&quot;com.sample.lib.entity&quot;})\n@Import({\n    AppDSConfig.class,\n    LibDSConfig .class\n})\npublic class Application{\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>I understand that the @ComponentScan only scans the entity classes as configured in the code above. I would like to ask if there are any alternative solutions to import external jar java configurations?</p>\n"},{"tags":["java","python-3.x","macos","mini-forge"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1638139812,"post_id":70148103,"comment_id":124002038,"body_markdown":"Is the trailing dot after `zip` needed?  `https://www.languagetool.org/download/LanguageTool-5.5.zip.`  returns 404 error too.","body":"Is the trailing dot after <code>zip</code> needed?  <code>https:&#47;&#47;www.languagetool.org&#47;download&#47;LanguageTool-5.5.zip.</code>  returns 404 error too."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1638140178,"post_id":70148103,"comment_id":124002112,"body_markdown":"The issue has been reported in [Github](https://github.com/jxmorris12/language_tool_python/issues/48), although it seems to be solved now. Are you still facing the problem?","body":"The issue has been reported in <a href=\"https://github.com/jxmorris12/language_tool_python/issues/48\" rel=\"nofollow noreferrer\">Github</a>, although it seems to be solved now. Are you still facing the problem?"},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638140475,"post_id":70148103,"comment_id":124002187,"body_markdown":"@AlexRudenko I tried also to go up `.../download` but got the same error 403.","body":"@AlexRudenko I tried also to go up <code>...&#47;download</code> but got the same error 403."},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638140564,"post_id":70148103,"comment_id":124002203,"body_markdown":"@jccampanero I just tried\n\n`req = requests.get(&#39;https://www.languagetool.org/download/LanguageTool-5.5.zip&#39;,stream=True, proxies=None)`\n\ngeting\n\n`&lt;Response [403]&gt;`","body":"@jccampanero I just tried  <code>req = requests.get(&#39;https:&#47;&#47;www.languagetool.org&#47;download&#47;Language&zwnj;&#8203;Tool-5.5.zip&#39;,stream&zwnj;&#8203;=True, proxies=None)</code>  geting  <code>&lt;Response [403]&gt;</code>"},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638140735,"post_id":70148103,"comment_id":124002238,"body_markdown":"Could it be something related with user agents on Safari with Mac M1? \n\nI&#39;m trying on Linux Mint same code, but it works fine.","body":"Could it be something related with user agents on Safari with Mac M1?   I&#39;m trying on Linux Mint same code, but it works fine."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1638142042,"post_id":70148103,"comment_id":124002464,"body_markdown":"I agree with you. I obtained the same result. And I agree with @JoopEggen, if you examine the response `history` a redirect is performed.","body":"I agree with you. I obtained the same result. And I agree with @JoopEggen, if you examine the response <code>history</code> a redirect is performed."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1638143705,"post_id":70148103,"comment_id":124002730,"body_markdown":"The redirect is performed against `https://languagetool.org/download/LanguageTool-5.5.zip`. Pay attention to the url, it is not under `www` anymore. And this link returns always `403`, forbidden.","body":"The redirect is performed against <code>https:&#47;&#47;languagetool.org&#47;download&#47;LanguageTool-5.5.zip</code>. Pay attention to the url, it is not under <code>www</code> anymore. And this link returns always <code>403</code>, forbidden."},{"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"score":0,"creation_date":1638144443,"post_id":70148103,"comment_id":124002853,"body_markdown":"Agree, I Just post the issue in the official forum page:\n\nhttps://forum.languagetool.org/t/automated-download-of-lt-does-not-work/7424\n\nand they tell me This is a known issue, and we’re working on it. It will hopefully be fixed in a few days.\n\nI just wonder if we can just get the local files from the languages to make it work and stop depending on the server...","body":"Agree, I Just post the issue in the official forum page:  <a href=\"https://forum.languagetool.org/t/automated-download-of-lt-does-not-work/7424\" rel=\"nofollow noreferrer\">forum.languagetool.org/t/automated-download-of-lt-does-not-w&zwnj;&#8203;ork/&hellip;</a>  and they tell me This is a known issue, and we’re working on it. It will hopefully be fixed in a few days.  I just wonder if we can just get the local files from the languages to make it work and stop depending on the server..."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638140566,"creation_date":1638140566,"answer_id":70148220,"question_id":70148103,"body_markdown":"***Not an answer: the network traffic***\r\n\r\nIn the browser, development tool, network: a redirect on the zip,\r\nFor the rest tracking.\r\n\r\n| Name | Status | Type | Initiator | Size | Time |\r\n|------|--------|------|-----------|------|------|\r\n| collect?v=1&amp;_v=j96&amp;a=421817770&amp;t=event&amp;_s=2&amp;dl=htt…-languagetool-org-download-languaget&amp;z=2037529220 | 200 | xhr | analytics.js:44 | 22 B | 211  ms |\r\n| Pingym?gm0=0&amp;gm1=0&amp;tivt=2549&amp;hov=1&amp;tth=113&amp;intt=2&amp;intl…0:tp=1:mt=7&amp;sek=3697285284406464539:1638139533389 | 200 | ping | inside.js:1 | 1.3 kB | 324  ms |\r\n| Bilddt?advEntityId=819590&amp;asId=ecf354bb-1855-2567-a204…13*,rmeas:1,rend:1,renddet:DIV.qs.sn,lt:0%7D&amp;br=c | 200 | gif | dcmads.js:1011 | 216 B | 1.08 s |\r\n| Document LanguageTool-5.5.zip | **301** | document / redirect | others | 300 B | 295  ms |\r\n| XHRcollect?t=dc&amp;aip=1&amp;_r=3&amp;v=1&amp;_v=j96&amp;tid=UA-10824261…7377033.1638135822&amp;_u=SCCACEABBAAAAC~&amp;z=905256628 | 200 | xhr | analytics.js:44 | 22 B | 195  ms |\r\n| Document LanguageTool-5.5.zip | 200 | document | LanguageTool-5.5.zip | 11.0 kB | 494  ms |\r\n\r\nNot sure whether the redirect is causing the problem.","title":"Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip. language_tool_python, Mac M1","body":"<p><em><strong>Not an answer: the network traffic</strong></em></p>\n<p>In the browser, development tool, network: a redirect on the zip,\nFor the rest tracking.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Status</th>\n<th>Type</th>\n<th>Initiator</th>\n<th>Size</th>\n<th>Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>collect?v=1&amp;_v=j96&amp;a=421817770&amp;t=event&amp;_s=2&amp;dl=htt…-languagetool-org-download-languaget&amp;z=2037529220</td>\n<td>200</td>\n<td>xhr</td>\n<td>analytics.js:44</td>\n<td>22 B</td>\n<td>211  ms</td>\n</tr>\n<tr>\n<td>Pingym?gm0=0&amp;gm1=0&amp;tivt=2549&amp;hov=1&amp;tth=113&amp;intt=2&amp;intl…0:tp=1:mt=7&amp;sek=3697285284406464539:1638139533389</td>\n<td>200</td>\n<td>ping</td>\n<td>inside.js:1</td>\n<td>1.3 kB</td>\n<td>324  ms</td>\n</tr>\n<tr>\n<td>Bilddt?advEntityId=819590&amp;asId=ecf354bb-1855-2567-a204…13*,rmeas:1,rend:1,renddet:DIV.qs.sn,lt:0%7D&amp;br=c</td>\n<td>200</td>\n<td>gif</td>\n<td>dcmads.js:1011</td>\n<td>216 B</td>\n<td>1.08 s</td>\n</tr>\n<tr>\n<td>Document LanguageTool-5.5.zip</td>\n<td><strong>301</strong></td>\n<td>document / redirect</td>\n<td>others</td>\n<td>300 B</td>\n<td>295  ms</td>\n</tr>\n<tr>\n<td>XHRcollect?t=dc&amp;aip=1&amp;_r=3&amp;v=1&amp;_v=j96&amp;tid=UA-10824261…7377033.1638135822&amp;_u=SCCACEABBAAAAC~&amp;z=905256628</td>\n<td>200</td>\n<td>xhr</td>\n<td>analytics.js:44</td>\n<td>22 B</td>\n<td>195  ms</td>\n</tr>\n<tr>\n<td>Document LanguageTool-5.5.zip</td>\n<td>200</td>\n<td>document</td>\n<td>LanguageTool-5.5.zip</td>\n<td>11.0 kB</td>\n<td>494  ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Not sure whether the redirect is causing the problem.</p>\n"}],"owner":{"account_id":2994327,"reputation":392,"user_id":5585110,"display_name":"Ankara"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638140566,"creation_date":1638139390,"question_id":70148103,"body_markdown":"When using **language_tool_python** package for finding gramatical errors, I found the following Exception:\r\n\r\n`Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.`\r\n\r\nI am using Mac M1, had to install **Java 17** (tried Java 8 as well) from Azul Zulu so its recognizes Java module.\r\n\r\nOn Linux, works fine.\r\n\r\nSeems like there is a problem with the URL, but when we go directly the file exists!\r\n\r\nhttps://www.languagetool.org/download/LanguageTool-5.5.zip\r\n\r\nAlso tried version 2.5 but I got the same result.\r\n\r\nIs there a workaround for this?\r\n\r\nThanks!\r\n\r\nHere the traceback:\r\n\r\n```---------------------------------------------------------------------------\r\nException                                 Traceback (most recent call last)\r\n/var/folders/d_/hfs18jf54371qfmf54zq289c0000gn/T/ipykernel_33610/1177712971.py in &lt;module&gt;\r\n----&gt; 1 tool = language_tool_python.LanguageTool(&#39;en-US&#39;)\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in __init__(self, language, motherTongue, remote_server, newSpellings)\r\n     43             self._update_remote_server_config(self._url)\r\n     44         elif not self._server_is_alive():\r\n---&gt; 45             self._start_server_on_free_port()\r\n     46         if language is None:\r\n     47             try:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_server_on_free_port(self)\r\n    179             self._url = &#39;http://{}:{}/v2/&#39;.format(self._HOST, self._port)\r\n    180             try:\r\n--&gt; 181                 self._start_local_server()\r\n    182                 break\r\n    183             except ServerError:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_local_server(self)\r\n    189     def _start_local_server(self):\r\n    190         # Before starting local server, download language tool if needed.\r\n--&gt; 191         download_lt()\r\n    192         err = None\r\n    193         try:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_lt(update)\r\n    152         return\r\n    153 \r\n--&gt; 154     download_zip(language_tool_download_url, download_folder)\r\n    155 \r\n    156 if __name__ == &#39;__main__&#39;:\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_zip(url, directory)\r\n    123     # Download file.\r\n    124     downloaded_file = tempfile.NamedTemporaryFile(suffix=&#39;.zip&#39;, delete=False)\r\n--&gt; 125     http_get(url, downloaded_file)\r\n    126     # Close the file so we can extract it.\r\n    127     downloaded_file.close()\r\n\r\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in http_get(url, out_file, proxies)\r\n    104     total = int(content_length) if content_length is not None else None\r\n    105     if req.status_code == 403: # Not found on AWS\r\n--&gt; 106         raise Exception(&#39;Could not find at URL {}.&#39;.format(url))\r\n    107     progress = tqdm.tqdm(unit=&quot;B&quot;, unit_scale=True, total=total, desc=&#39;Downloading LanguageTool&#39;)\r\n    108     for chunk in req.iter_content(chunk_size=1024):\r\n\r\nException: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.```","title":"Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip. language_tool_python, Mac M1","body":"<p>When using <strong>language_tool_python</strong> package for finding gramatical errors, I found the following Exception:</p>\n<p><code>Exception: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.</code></p>\n<p>I am using Mac M1, had to install <strong>Java 17</strong> (tried Java 8 as well) from Azul Zulu so its recognizes Java module.</p>\n<p>On Linux, works fine.</p>\n<p>Seems like there is a problem with the URL, but when we go directly the file exists!</p>\n<p><a href=\"https://www.languagetool.org/download/LanguageTool-5.5.zip\" rel=\"nofollow noreferrer\">https://www.languagetool.org/download/LanguageTool-5.5.zip</a></p>\n<p>Also tried version 2.5 but I got the same result.</p>\n<p>Is there a workaround for this?</p>\n<p>Thanks!</p>\n<p>Here the traceback:</p>\n<pre><code>Exception                                 Traceback (most recent call last)\n/var/folders/d_/hfs18jf54371qfmf54zq289c0000gn/T/ipykernel_33610/1177712971.py in &lt;module&gt;\n----&gt; 1 tool = language_tool_python.LanguageTool('en-US')\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in __init__(self, language, motherTongue, remote_server, newSpellings)\n     43             self._update_remote_server_config(self._url)\n     44         elif not self._server_is_alive():\n---&gt; 45             self._start_server_on_free_port()\n     46         if language is None:\n     47             try:\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_server_on_free_port(self)\n    179             self._url = 'http://{}:{}/v2/'.format(self._HOST, self._port)\n    180             try:\n--&gt; 181                 self._start_local_server()\n    182                 break\n    183             except ServerError:\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/server.py in _start_local_server(self)\n    189     def _start_local_server(self):\n    190         # Before starting local server, download language tool if needed.\n--&gt; 191         download_lt()\n    192         err = None\n    193         try:\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_lt(update)\n    152         return\n    153 \n--&gt; 154     download_zip(language_tool_download_url, download_folder)\n    155 \n    156 if __name__ == '__main__':\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in download_zip(url, directory)\n    123     # Download file.\n    124     downloaded_file = tempfile.NamedTemporaryFile(suffix='.zip', delete=False)\n--&gt; 125     http_get(url, downloaded_file)\n    126     # Close the file so we can extract it.\n    127     downloaded_file.close()\n\n~/miniforge3/envs/transformers/lib/python3.9/site-packages/language_tool_python/download_lt.py in http_get(url, out_file, proxies)\n    104     total = int(content_length) if content_length is not None else None\n    105     if req.status_code == 403: # Not found on AWS\n--&gt; 106         raise Exception('Could not find at URL {}.'.format(url))\n    107     progress = tqdm.tqdm(unit=&quot;B&quot;, unit_scale=True, total=total, desc='Downloading LanguageTool')\n    108     for chunk in req.iter_content(chunk_size=1024):\n\nException: Could not find at URL https://www.languagetool.org/download/LanguageTool-5.5.zip.```\n</code></pre>\n"},{"tags":["java","video","libgdx"],"comments":[{"owner":{"account_id":6509008,"reputation":2795,"user_id":5036979,"display_name":"Ahmed Ashraf"},"score":0,"creation_date":1475846321,"post_id":35940543,"comment_id":67120352,"body_markdown":"Hi, did you get an answer yet, I&#39;m facing the same problem","body":"Hi, did you get an answer yet, I&#39;m facing the same problem"},{"owner":{"account_id":4881377,"reputation":5297,"user_id":3946482,"accept_rate":93,"display_name":"plaidshirt"},"score":0,"creation_date":1476079785,"post_id":35940543,"comment_id":67184275,"body_markdown":"@AhmedAshrafG : No, I haven&#39;t got yet.","body":"@AhmedAshrafG : No, I haven&#39;t got yet."},{"owner":{"account_id":6509008,"reputation":2795,"user_id":5036979,"display_name":"Ahmed Ashraf"},"score":0,"creation_date":1476119446,"post_id":35940543,"comment_id":67206523,"body_markdown":"Ok thanks @Kovacs, guess I have to do it natively in android/desktop","body":"Ok thanks @Kovacs, guess I have to do it natively in android/desktop"}],"answers":[{"tags":[],"owner":{"account_id":3568052,"reputation":1179,"user_id":2979092,"accept_rate":88,"display_name":"WLGfx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638140443,"creation_date":1637336645,"answer_id":70037426,"question_id":35940543,"body_markdown":"Okay, so this was asked 5 years ago(ish), but I decided for my current project I needed it working with LibGDX.\r\n\r\nFirst off the repository page:\r\n\r\n    https://github.com/libgdx/gdx-video\r\n\r\nA page that kind of helped me a little and probably won&#39;t be mentioned again:\r\n\r\n    https://github.com/libgdx/gdx-video/issues/2\r\n\r\nAnd then this that I was curious about:\r\n\r\n    https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\r\n\r\nNB: This is Nov 2021 so the current versions of IntelliJ Idea and LibGDX I am using for this.\r\n\r\nBefore I start with integrating this library I&#39;ll add that LibGDX still sets up the older version of LWJGL for Desktop as the earlier version, but I fixed this by changing the &#39;DesktopLauncher.java&#39; to this:\r\n\r\n    //import com.badlogic.gdx.backends.lwjgl.LwjglApplication;\r\n    //import com.badlogic.gdx.backends.lwjgl.LwjglApplicationConfiguration;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\r\n    import com.mygdx.game.MyGdxGame;\r\n\r\n    public class DesktopLauncher {\r\n\t    public static void main (String[] arg) {\r\n\t\t    //LwjglApplicationConfiguration config = new LwjglApplicationConfiguration();\r\n\t\t    //new LwjglApplication(new MyGdxGame(), config);\r\n\t\t    Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\n\t\t    config.setWindowedMode(1280, 768);\r\n\t\t    new Lwjgl3Application(new MyGdxGame(), config);\r\n\t    }\r\n    }\r\n\r\nOn the first page it gives an explanation thus:\r\n\r\n    Core:\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video:0.0.1&quot;\r\n    Desktop:\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl:0.0.1&quot;\r\n    or\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl3:0.0.1&quot;\r\n    Android:\r\n    implementation &quot;com.badlogicgames.gdx-video:gdx-video-android:0.0.1&quot;\r\n\r\nIt says on the github page to use the current version of &#39;gdx-video&#39; instead of &#39;0.0.1&#39;. The 3rd link above is the repository for &#39;gdx-video&#39; and on entering the directories, the current version as of this date is &#39;1.3.2-SNAPSHOT&#39;. It took me a few days to figure out I had to add the &#39;-SNAPSHOT&#39; at the end.\r\n\r\nSo, to get this working, the &#39;build.gradle&#39; file was changed to this:\r\n\r\n    project(&quot;:core&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n\r\n        // https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\r\n\r\n        dependencies {\r\n            implementation &quot;com.badlogicgames.gdx-video:gdx-video:1.3.2-SNAPSHOT&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\r\n            \r\n        }\r\n    }\r\n\r\n    project(&quot;:android&quot;) {\r\n        apply plugin: &quot;com.android.application&quot;\r\n\r\n        configurations { natives }\r\n\r\n        dependencies {\r\n            implementation project(&quot;:core&quot;)\r\n            implementation &quot;com.badlogicgames.gdx-video:gdx-video-android:1.3.2-SNAPSHOT&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\r\n            natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\r\n            \r\n        }\r\n    }\r\n\r\n    project(&quot;:desktop&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n\r\n\r\n        dependencies {\r\n            implementation project(&quot;:core&quot;)\r\n            implementation &quot;com.badlogicgames.gdx-video:gdx-video-desktop:1.3.2-SNAPSHOT&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\r\n            \r\n        }\r\n    }\r\n\r\nThe desktop project then built and ran fine, but on Android it still compained. This was a simple fix as the error message said that the minSdkVersion needed to be 16 and not 14.\r\n\r\nIn the &#39;build.gradle:android&#39;:\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.mygdx.game&quot;\r\n        minSdkVersion 16 // just change this\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n\r\nAlso note that you will need to resync your gradle project.\r\n\r\nSo, this has got it building for desktop and android, I&#39;m not using other platforms but it should be the same for what is available in the repository.\r\n\r\nAlso, I&#39;m just about to start testing this out so I don&#39;t actually know if it is working. I&#39;ll come back and make edits as needed.\r\n\r\n**UPDATE: 28 Nov 2021**\r\n\r\nI&#39;ve ditched &#39;gdx-video&#39; mainly because of the overhead of converting the video frames to a texture compatile with LibGDX. I&#39;ve used ffmpeg in the past and by using a custom shader to render the YUV video frame instead of converting to RGB first. This is most notable when playing 1080p videos on low end Android hardware, the video playback is very glitchy. Using my old code I was able to play 1080p 60FPS on a single core 800Mhz Arm chip. This version was struggling playing 25FPS on a quad core ARM chip.\r\n\r\nAlso the desktop version of &#39;gdx-video&#39;, although would build, the VideoPlayerDesktop class was missing and could not play a single thing.\r\n\r\nSo for me, it&#39;s back to the drawing board and set up two separate projects.","title":"Video playing in libGDX","body":"<p>Okay, so this was asked 5 years ago(ish), but I decided for my current project I needed it working with LibGDX.</p>\n<p>First off the repository page:</p>\n<pre><code>https://github.com/libgdx/gdx-video\n</code></pre>\n<p>A page that kind of helped me a little and probably won't be mentioned again:</p>\n<pre><code>https://github.com/libgdx/gdx-video/issues/2\n</code></pre>\n<p>And then this that I was curious about:</p>\n<pre><code>https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\n</code></pre>\n<p>NB: This is Nov 2021 so the current versions of IntelliJ Idea and LibGDX I am using for this.</p>\n<p>Before I start with integrating this library I'll add that LibGDX still sets up the older version of LWJGL for Desktop as the earlier version, but I fixed this by changing the 'DesktopLauncher.java' to this:</p>\n<pre><code>//import com.badlogic.gdx.backends.lwjgl.LwjglApplication;\n//import com.badlogic.gdx.backends.lwjgl.LwjglApplicationConfiguration;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\nimport com.mygdx.game.MyGdxGame;\n\npublic class DesktopLauncher {\n    public static void main (String[] arg) {\n        //LwjglApplicationConfiguration config = new LwjglApplicationConfiguration();\n        //new LwjglApplication(new MyGdxGame(), config);\n        Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\n        config.setWindowedMode(1280, 768);\n        new Lwjgl3Application(new MyGdxGame(), config);\n    }\n}\n</code></pre>\n<p>On the first page it gives an explanation thus:</p>\n<pre><code>Core:\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video:0.0.1&quot;\nDesktop:\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl:0.0.1&quot;\nor\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video-lwjgl3:0.0.1&quot;\nAndroid:\nimplementation &quot;com.badlogicgames.gdx-video:gdx-video-android:0.0.1&quot;\n</code></pre>\n<p>It says on the github page to use the current version of 'gdx-video' instead of '0.0.1'. The 3rd link above is the repository for 'gdx-video' and on entering the directories, the current version as of this date is '1.3.2-SNAPSHOT'. It took me a few days to figure out I had to add the '-SNAPSHOT' at the end.</p>\n<p>So, to get this working, the 'build.gradle' file was changed to this:</p>\n<pre><code>project(&quot;:core&quot;) {\n    apply plugin: &quot;java-library&quot;\n\n    // https://oss.sonatype.org/content/repositories/snapshots/com/badlogicgames/gdx-video/\n\n    dependencies {\n        implementation &quot;com.badlogicgames.gdx-video:gdx-video:1.3.2-SNAPSHOT&quot;\n        api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\n        \n    }\n}\n\nproject(&quot;:android&quot;) {\n    apply plugin: &quot;com.android.application&quot;\n\n    configurations { natives }\n\n    dependencies {\n        implementation project(&quot;:core&quot;)\n        implementation &quot;com.badlogicgames.gdx-video:gdx-video-android:1.3.2-SNAPSHOT&quot;\n        api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\n        api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\n        \n    }\n}\n\nproject(&quot;:desktop&quot;) {\n    apply plugin: &quot;java-library&quot;\n\n\n    dependencies {\n        implementation project(&quot;:core&quot;)\n        implementation &quot;com.badlogicgames.gdx-video:gdx-video-desktop:1.3.2-SNAPSHOT&quot;\n        api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\n        api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\n        \n    }\n}\n</code></pre>\n<p>The desktop project then built and ran fine, but on Android it still compained. This was a simple fix as the error message said that the minSdkVersion needed to be 16 and not 14.</p>\n<p>In the 'build.gradle:android':</p>\n<pre><code>defaultConfig {\n    applicationId &quot;com.mygdx.game&quot;\n    minSdkVersion 16 // just change this\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n}\n</code></pre>\n<p>Also note that you will need to resync your gradle project.</p>\n<p>So, this has got it building for desktop and android, I'm not using other platforms but it should be the same for what is available in the repository.</p>\n<p>Also, I'm just about to start testing this out so I don't actually know if it is working. I'll come back and make edits as needed.</p>\n<p><strong>UPDATE: 28 Nov 2021</strong></p>\n<p>I've ditched 'gdx-video' mainly because of the overhead of converting the video frames to a texture compatile with LibGDX. I've used ffmpeg in the past and by using a custom shader to render the YUV video frame instead of converting to RGB first. This is most notable when playing 1080p videos on low end Android hardware, the video playback is very glitchy. Using my old code I was able to play 1080p 60FPS on a single core 800Mhz Arm chip. This version was struggling playing 25FPS on a quad core ARM chip.</p>\n<p>Also the desktop version of 'gdx-video', although would build, the VideoPlayerDesktop class was missing and could not play a single thing.</p>\n<p>So for me, it's back to the drawing board and set up two separate projects.</p>\n"}],"owner":{"account_id":4881377,"reputation":5297,"user_id":3946482,"accept_rate":93,"display_name":"plaidshirt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2816,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638140443,"creation_date":1457700048,"question_id":35940543,"body_markdown":"I have tried to use [GDX-video extension][1] in a libGDX project. I have converted an `MP4` file into `OGG` (Theora+Vorbis) with use of `VLC` and placed under `res/data/` folder in android project.\r\nWhen I run project, see black screen.\r\n\r\n    package com.mygdx.game;\r\n    \r\n    import com.badlogic.gdx.ApplicationAdapter;\r\n    import com.badlogic.gdx.Gdx;\r\n    import com.badlogic.gdx.InputMultiplexer;\r\n    import com.badlogic.gdx.InputProcessor;\r\n    import com.badlogic.gdx.graphics.GL20;\r\n    import com.badlogic.gdx.graphics.Mesh;\r\n    import com.badlogic.gdx.graphics.PerspectiveCamera;\r\n    import com.badlogic.gdx.graphics.VertexAttributes.Usage;\r\n    import com.badlogic.gdx.graphics.g3d.Environment;\r\n    import com.badlogic.gdx.graphics.g3d.ModelInstance;\r\n    import com.badlogic.gdx.graphics.g3d.attributes.ColorAttribute;\r\n    import com.badlogic.gdx.graphics.g3d.environment.DirectionalLight;\r\n    import com.badlogic.gdx.graphics.g3d.utils.CameraInputController;\r\n    import com.badlogic.gdx.graphics.g3d.utils.MeshBuilder;\r\n    import com.badlogic.gdx.math.Vector3;\r\n    import com.badlogic.gdx.video.VideoPlayer;\r\n    import com.badlogic.gdx.video.VideoPlayerCreator;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    \r\n    public class MyGdxGame extends ApplicationAdapter implements InputProcessor {\r\n        public PerspectiveCamera cam;\r\n        public CameraInputController inputController;\r\n        public ModelInstance instance;\r\n        public Environment environment;\r\n    \r\n        public VideoPlayer videoPlayer;\r\n        public Mesh mesh;\r\n    \r\n        private final Vector3 tmpV1 = new Vector3();\r\n        private final Vector3 target = new Vector3();\r\n    \r\n        @Override\r\n        public void create() {\r\n            environment = new Environment();\r\n            environment.set(new ColorAttribute(ColorAttribute.AmbientLight, .4f, .4f, .4f, 1f));\r\n            environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, -1f, -0.8f, -0.2f));\r\n    \r\n            cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\r\n            cam.position.set(10f, 10f, 10f);\r\n            cam.lookAt(0, 0, 0);\r\n            cam.near = 0.1f;\r\n            cam.far = 300f;\r\n            cam.update();\r\n    \r\n            MeshBuilder meshBuilder = new MeshBuilder();\r\n            meshBuilder.begin(Usage.Position | Usage.TextureCoordinates, GL20.GL_TRIANGLES);\r\n            // @formatter:off\r\n            meshBuilder.box(5, 5, 5);\r\n            // @formatter:on\r\n            mesh = meshBuilder.end();\r\n            videoPlayer = VideoPlayerCreator.createVideoPlayer(cam, mesh, GL20.GL_TRIANGLES);\r\n            try {\r\n                videoPlayer.play(Gdx.files.internal(&quot;data/converted.ogg&quot;));\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Gdx.input.setInputProcessor(new InputMultiplexer(this, inputController = new CameraInputController(cam)));\r\n            Gdx.gl.glEnable(GL20.GL_CULL_FACE);\r\n            Gdx.gl.glCullFace(GL20.GL_BACK);\r\n        }\r\n    \r\n        @Override\r\n        public void render() {\r\n            inputController.update();\r\n    \r\n            Gdx.gl.glViewport(0, 0, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\r\n            Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\r\n    \r\n            final float delta = Gdx.graphics.getDeltaTime();\r\n            tmpV1.set(cam.direction).crs(cam.up).y = 0f;\r\n            cam.rotateAround(target, tmpV1.nor(), delta * 20);\r\n            cam.rotateAround(target, Vector3.Y, delta * -30);\r\n            cam.update();\r\n    \r\n            if (!videoPlayer.render()) { // As soon as the video is finished, we start the file again using the same player.\r\n                try {\r\n                    videoPlayer.play(Gdx.files.internal(&quot;data/converted.ogg&quot;));\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void dispose () {\r\n        }\r\n    \r\n        public boolean needsGL20 () {\r\n            return true;\r\n        }\r\n    \r\n        public void resume () {\r\n        }\r\n    \r\n        public void resize (int width, int height) {\r\n        }\r\n    \r\n        public void pause () {\r\n        }\r\n    \r\n        @Override\r\n        public boolean keyDown(int keycode) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean keyUp(int keycode) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean keyTyped(char character) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean touchDown(int screenX, int screenY, int pointer, int button) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean touchUp(int screenX, int screenY, int pointer, int button) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean touchDragged(int screenX, int screenY, int pointer) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean mouseMoved(int screenX, int screenY) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean scrolled(int amount) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nIt is a freshly created project, only necessary `Gradle` dependencies have added to it.\r\n\r\n\r\n  [1]: https://github.com/libgdx/gdx-video","title":"Video playing in libGDX","body":"<p>I have tried to use <a href=\"https://github.com/libgdx/gdx-video\" rel=\"nofollow\">GDX-video extension</a> in a libGDX project. I have converted an <code>MP4</code> file into <code>OGG</code> (Theora+Vorbis) with use of <code>VLC</code> and placed under <code>res/data/</code> folder in android project.\nWhen I run project, see black screen.</p>\n\n<pre><code>package com.mygdx.game;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.InputMultiplexer;\nimport com.badlogic.gdx.InputProcessor;\nimport com.badlogic.gdx.graphics.GL20;\nimport com.badlogic.gdx.graphics.Mesh;\nimport com.badlogic.gdx.graphics.PerspectiveCamera;\nimport com.badlogic.gdx.graphics.VertexAttributes.Usage;\nimport com.badlogic.gdx.graphics.g3d.Environment;\nimport com.badlogic.gdx.graphics.g3d.ModelInstance;\nimport com.badlogic.gdx.graphics.g3d.attributes.ColorAttribute;\nimport com.badlogic.gdx.graphics.g3d.environment.DirectionalLight;\nimport com.badlogic.gdx.graphics.g3d.utils.CameraInputController;\nimport com.badlogic.gdx.graphics.g3d.utils.MeshBuilder;\nimport com.badlogic.gdx.math.Vector3;\nimport com.badlogic.gdx.video.VideoPlayer;\nimport com.badlogic.gdx.video.VideoPlayerCreator;\n\nimport java.io.FileNotFoundException;\n\npublic class MyGdxGame extends ApplicationAdapter implements InputProcessor {\n    public PerspectiveCamera cam;\n    public CameraInputController inputController;\n    public ModelInstance instance;\n    public Environment environment;\n\n    public VideoPlayer videoPlayer;\n    public Mesh mesh;\n\n    private final Vector3 tmpV1 = new Vector3();\n    private final Vector3 target = new Vector3();\n\n    @Override\n    public void create() {\n        environment = new Environment();\n        environment.set(new ColorAttribute(ColorAttribute.AmbientLight, .4f, .4f, .4f, 1f));\n        environment.add(new DirectionalLight().set(0.8f, 0.8f, 0.8f, -1f, -0.8f, -0.2f));\n\n        cam = new PerspectiveCamera(67, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        cam.position.set(10f, 10f, 10f);\n        cam.lookAt(0, 0, 0);\n        cam.near = 0.1f;\n        cam.far = 300f;\n        cam.update();\n\n        MeshBuilder meshBuilder = new MeshBuilder();\n        meshBuilder.begin(Usage.Position | Usage.TextureCoordinates, GL20.GL_TRIANGLES);\n        // @formatter:off\n        meshBuilder.box(5, 5, 5);\n        // @formatter:on\n        mesh = meshBuilder.end();\n        videoPlayer = VideoPlayerCreator.createVideoPlayer(cam, mesh, GL20.GL_TRIANGLES);\n        try {\n            videoPlayer.play(Gdx.files.internal(\"data/converted.ogg\"));\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        Gdx.input.setInputProcessor(new InputMultiplexer(this, inputController = new CameraInputController(cam)));\n        Gdx.gl.glEnable(GL20.GL_CULL_FACE);\n        Gdx.gl.glCullFace(GL20.GL_BACK);\n    }\n\n    @Override\n    public void render() {\n        inputController.update();\n\n        Gdx.gl.glViewport(0, 0, Gdx.graphics.getWidth(), Gdx.graphics.getHeight());\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT);\n\n        final float delta = Gdx.graphics.getDeltaTime();\n        tmpV1.set(cam.direction).crs(cam.up).y = 0f;\n        cam.rotateAround(target, tmpV1.nor(), delta * 20);\n        cam.rotateAround(target, Vector3.Y, delta * -30);\n        cam.update();\n\n        if (!videoPlayer.render()) { // As soon as the video is finished, we start the file again using the same player.\n            try {\n                videoPlayer.play(Gdx.files.internal(\"data/converted.ogg\"));\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public void dispose () {\n    }\n\n    public boolean needsGL20 () {\n        return true;\n    }\n\n    public void resume () {\n    }\n\n    public void resize (int width, int height) {\n    }\n\n    public void pause () {\n    }\n\n    @Override\n    public boolean keyDown(int keycode) {\n        return false;\n    }\n\n    @Override\n    public boolean keyUp(int keycode) {\n        return false;\n    }\n\n    @Override\n    public boolean keyTyped(char character) {\n        return false;\n    }\n\n    @Override\n    public boolean touchDown(int screenX, int screenY, int pointer, int button) {\n        return false;\n    }\n\n    @Override\n    public boolean touchUp(int screenX, int screenY, int pointer, int button) {\n        return false;\n    }\n\n    @Override\n    public boolean touchDragged(int screenX, int screenY, int pointer) {\n        return false;\n    }\n\n    @Override\n    public boolean mouseMoved(int screenX, int screenY) {\n        return false;\n    }\n\n    @Override\n    public boolean scrolled(int amount) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>It is a freshly created project, only necessary <code>Gradle</code> dependencies have added to it.</p>\n"},{"tags":["java","class","object","inheritance","arraylist"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1638139583,"post_id":70148046,"comment_id":124001995,"body_markdown":"Please clarify what your intent is. Your main class does not even compile as is and your description is hard to follow. Do you want to add a `List` or a `Map` to the parent class?","body":"Please clarify what your intent is. Your main class does not even compile as is and your description is hard to follow. Do you want to add a <code>List</code> or a <code>Map</code> to the parent class?"},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638139712,"post_id":70148046,"comment_id":124002019,"body_markdown":"I want a list for the parent class.","body":"I want a list for the parent class."},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638139787,"post_id":70148046,"comment_id":124002034,"body_markdown":"I did put the main class with errors so it&#39;d be a little easier to understand with the comments.","body":"I did put the main class with errors so it&#39;d be a little easier to understand with the comments."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1638139872,"post_id":70148046,"comment_id":124002049,"body_markdown":"But what is `employeeList` in your main class? It seems to be a `List&lt;EmployeeService&gt;` so do you want a `List&lt;EmployeeService&gt;` property in your `List&lt;EmployeeService&gt;`?","body":"But what is <code>employeeList</code> in your main class? It seems to be a <code>List&lt;EmployeeService&gt;</code> so do you want a <code>List&lt;EmployeeService&gt;</code> property in your <code>List&lt;EmployeeService&gt;</code>?"},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638140048,"post_id":70148046,"comment_id":124002080,"body_markdown":"It&#39;s a hashMap that&#39;s used to create a new object with the child class, not the parent. And it&#39;s part of an assignment, I&#39;m sorry if the instructions are vague. All I need help with is to be able to pass an arrayList from the parent class to the child class.","body":"It&#39;s a hashMap that&#39;s used to create a new object with the child class, not the parent. And it&#39;s part of an assignment, I&#39;m sorry if the instructions are vague. All I need help with is to be able to pass an arrayList from the parent class to the child class."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1638140140,"post_id":70148046,"comment_id":124002101,"body_markdown":"It makes no sense at all. Is it an `ArrayList` or a `HashMap`?","body":"It makes no sense at all. Is it an <code>ArrayList</code> or a <code>HashMap</code>?"},{"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"score":0,"creation_date":1638140209,"post_id":70148046,"comment_id":124002118,"body_markdown":"An arrayList. I&#39;ll remove the main class if that helps. Ignore the HashMap please.","body":"An arrayList. I&#39;ll remove the main class if that helps. Ignore the HashMap please."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638140345,"creation_date":1638140345,"answer_id":70148199,"question_id":70148046,"body_markdown":"Just add the property and an additional constructor to the parent class as follows:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EmployeeService {\r\n    private String experience;\r\n    private String position;\r\n    private List&lt;String&gt; serviceList;\r\n\r\n    public EmployeeService (String experience, String position) {\r\n        this.setExperience (experience);\r\n        this.setPosition(position);\r\n    }\r\n\r\n    public EmployeeService (String experience, String position, List&lt;String&gt; serviceList) {\r\n        this(experience, position);\r\n        this.serviceList = new ArrayList&lt;&gt;(serviceList);\r\n    }\r\n\r\n    public String getExperience() {\r\n        return experience;\r\n    }\r\n\r\n    public void setExperience(String experience) {\r\n        this.experience = experience;\r\n    }\r\n\r\n    public String getPosition() {\r\n        return position;\r\n    }\r\n\r\n    public void setPosition(String position) {\r\n        this.position = position;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\r\n    }\r\n}\r\n```\r\n\r\nThen adapt your child class:\r\n```java\r\nimport java.util.List;\r\n\r\npublic class EmployeeInfo extends EmployeeService {\r\n    private String firstName;\r\n    private String address;\r\n\r\n    public EmployeeInfo (String firstName, String address, String experience, String position) {\r\n        super(experience, position);\r\n        this.setFirstName (firstName);\r\n        this.setAddress(address);\r\n    }\r\n\r\n    public EmployeeInfo (String firstName, String address, String experience, String position, List&lt;String&gt; serviceList) {\r\n        super(experience, position, serviceList);\r\n        this.setFirstName (firstName);\r\n        this.setAddress(address);\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\r\n    }\r\n}\r\n```","title":"How to add an arrayList to this child class?","body":"<p>Just add the property and an additional constructor to the parent class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class EmployeeService {\n    private String experience;\n    private String position;\n    private List&lt;String&gt; serviceList;\n\n    public EmployeeService (String experience, String position) {\n        this.setExperience (experience);\n        this.setPosition(position);\n    }\n\n    public EmployeeService (String experience, String position, List&lt;String&gt; serviceList) {\n        this(experience, position);\n        this.serviceList = new ArrayList&lt;&gt;(serviceList);\n    }\n\n    public String getExperience() {\n        return experience;\n    }\n\n    public void setExperience(String experience) {\n        this.experience = experience;\n    }\n\n    public String getPosition() {\n        return position;\n    }\n\n    public void setPosition(String position) {\n        this.position = position;\n    }\n\n    public String toString() {\n        return &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\n    }\n}\n</code></pre>\n<p>Then adapt your child class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic class EmployeeInfo extends EmployeeService {\n    private String firstName;\n    private String address;\n\n    public EmployeeInfo (String firstName, String address, String experience, String position) {\n        super(experience, position);\n        this.setFirstName (firstName);\n        this.setAddress(address);\n    }\n\n    public EmployeeInfo (String firstName, String address, String experience, String position, List&lt;String&gt; serviceList) {\n        super(experience, position, serviceList);\n        this.setFirstName (firstName);\n        this.setAddress(address);\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String toString() {\n        return &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21978460,"reputation":5,"user_id":16253909,"display_name":"beginner_101"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70148199,"answer_count":1,"score":0,"last_activity_date":1638140345,"creation_date":1638138777,"question_id":70148046,"body_markdown":"\r\nContext - So there are two classes that uses inheritance. The EmployeeService is the parent class and the EmployeeInfo is the child class.\r\n\r\nWhat do I need help with - So I am trying to insert an arrayList to the parent class that combines the information of the **experience** and **position** and makes a new arrayList called serviceList. \r\n\r\nAnd when I call a super() in the child class, I should be able to call the arrayList rather than the String variables  (experience, position). \r\n\r\n**To put it short, I should basically be able to pass an arrayList as the third parameter in the child class employeeInfo method instead of String experience or String position**\r\n\r\nParent class - \r\n```\r\npublic class EmployeeService () {\r\n\tprivate String experience;\r\n\tprivate String position;\r\n\t\r\n\tpublic EmployeeService (String experience, String position) {\r\n\t\tthis.setExperience (experience);\r\n\t    this.setPosition(position);\r\n\t}\r\n\t\r\n\tpublic String getExperience() {\r\n\t\treturn experience;\r\n\t}\r\n\r\n\tpublic void setExperience(String experience) {\r\n\t\tthis.experience = experience;\r\n\t}\r\n\t\r\n\tpublic String getPosition() {\r\n\t\treturn position;\r\n\t}\r\n\r\n\tpublic void setPosition(String position) {\r\n\t\tthis.position = position;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\nChild class - \r\n```\r\npublic class EmployeeInfo () {\r\n\tprivate String firstName;\r\n\tprivate String address;\r\n\t\r\n\tpublic EmployeeInfo (String firstName, String address,String experience, String position) {\r\n\t\tsuper(experience, position);\r\n\t\tthis.setFirstName (firstName);\r\n\t    this.setAddress(address);\r\n\t}\r\n\t\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\t\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\r\n\t}\r\n}\r\n","title":"How to add an arrayList to this child class?","body":"<p>Context - So there are two classes that uses inheritance. The EmployeeService is the parent class and the EmployeeInfo is the child class.</p>\n<p>What do I need help with - So I am trying to insert an arrayList to the parent class that combines the information of the <strong>experience</strong> and <strong>position</strong> and makes a new arrayList called serviceList.</p>\n<p>And when I call a super() in the child class, I should be able to call the arrayList rather than the String variables  (experience, position).</p>\n<p><strong>To put it short, I should basically be able to pass an arrayList as the third parameter in the child class employeeInfo method instead of String experience or String position</strong></p>\n<p>Parent class -</p>\n<pre><code>public class EmployeeService () {\n    private String experience;\n    private String position;\n    \n    public EmployeeService (String experience, String position) {\n        this.setExperience (experience);\n        this.setPosition(position);\n    }\n    \n    public String getExperience() {\n        return experience;\n    }\n\n    public void setExperience(String experience) {\n        this.experience = experience;\n    }\n    \n    public String getPosition() {\n        return position;\n    }\n\n    public void setPosition(String position) {\n        this.position = position;\n    }\n    \n    public String toString() {\n        return &quot;Experience - &quot; + experience + &quot;Position&quot; + &quot; - &quot; + position;\n    }\n    \n}\n\n</code></pre>\n<p>Child class -</p>\n<pre><code>public class EmployeeInfo () {\n    private String firstName;\n    private String address;\n    \n    public EmployeeInfo (String firstName, String address,String experience, String position) {\n        super(experience, position);\n        this.setFirstName (firstName);\n        this.setAddress(address);\n    }\n    \n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    \n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n    \n    public String toString() {\n        return &quot;Name - &quot; + firstName + &quot;Address&quot; + &quot; - &quot; + address + super.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":1783732,"reputation":11618,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"score":0,"creation_date":1520343659,"post_id":49131948,"comment_id":85269098,"body_markdown":"Can you add the junit code?","body":"Can you add the junit code?"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1520362604,"post_id":49131948,"comment_id":85281199,"body_markdown":"What do you mean by &quot;THIS IS NOT RECOGNIZED&quot;?","body":"What do you mean by &quot;THIS IS NOT RECOGNIZED&quot;?"},{"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"score":0,"creation_date":1520501242,"post_id":49131948,"comment_id":85344327,"body_markdown":"This means that if I tried to pick org.springframework.book.test in IDEA it shows me warn message &quot;No suggestions&quot;. So that I am not able to access to outputCapture class. I will edit my question.","body":"This means that if I tried to pick org.springframework.book.test in IDEA it shows me warn message &quot;No suggestions&quot;. So that I am not able to access to outputCapture class. I will edit my question."},{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1520516728,"post_id":49131948,"comment_id":85354142,"body_markdown":"have you added in your configuration (maven?) the dependency to spring boot test? please show your `pom.xml`","body":"have you added in your configuration (maven?) the dependency to spring boot test? please show your <code>pom.xml</code>"}],"answers":[{"tags":[],"owner":{"account_id":1030890,"reputation":6354,"user_id":1039203,"accept_rate":86,"display_name":"KeyMaker00"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564944770,"creation_date":1564944267,"answer_id":57349318,"question_id":49131948,"body_markdown":"Just a wide guess since I don&#39;t know your dependencies: if you are using maven, try to add the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; &lt;!-- or another version --&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe reason is that `OutputCapture` comes along from the project `spring-boot-test`.\r\n\r\nGithub: [OutputCapture][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/rule/OutputCapture.java","title":"Spring feature OutputCapture does not work in valid spring boot version","body":"<p>Just a wide guess since I don't know your dependencies: if you are using maven, try to add the following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;version&gt;2.1.6.RELEASE&lt;/version&gt; &lt;!-- or another version --&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The reason is that <code>OutputCapture</code> comes along from the project <code>spring-boot-test</code>.</p>\n\n<p>Github: <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/rule/OutputCapture.java\" rel=\"nofollow noreferrer\">OutputCapture</a></p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638140236,"creation_date":1638140236,"answer_id":70148188,"question_id":49131948,"body_markdown":"The `OutputCapture` class was [deprecated](https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/test/rule/OutputCapture.html) in version 2.2.0 in Spring Boot test in favour of the `OutputCaptureRule` class.\r\n\r\nSee this [answer](https://stackoverflow.com/a/61268662/3059685) for how to use `OutputCaptureRule` class.","title":"Spring feature OutputCapture does not work in valid spring boot version","body":"<p>The <code>OutputCapture</code> class was <a href=\"https://docs.spring.io/spring-boot/docs/2.2.0.RELEASE/api/org/springframework/boot/test/rule/OutputCapture.html\" rel=\"nofollow noreferrer\">deprecated</a> in version 2.2.0 in Spring Boot test in favour of the <code>OutputCaptureRule</code> class.</p>\n<p>See this <a href=\"https://stackoverflow.com/a/61268662/3059685\">answer</a> for how to use <code>OutputCaptureRule</code> class.</p>\n"}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638140236,"creation_date":1520342746,"question_id":49131948,"body_markdown":"I cannot use the feature with `OutputCapture` within [JUnit testing][1]. I want to use this feature to see some log messages.\r\nIf I tried to include the class package `org.springframework.book.test.rule.OutputCapture` in IDEA it shows me warn message &quot;No suggestions&quot;. So that I am not able to access to outputCapture class (even test package is not visible).\r\n\r\nAs I found out on this [website][2] this class is supported since version 1.3. \r\nHowever I am using correct spring boot version 1.5.\r\n\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.springframework.boot.test.rule.OutputCapture; THIS IS NOT RECOGNIZED\r\n    \r\n    import static org.hamcrest.Matchers.*;\r\n    import static org.junit.Assert.*;\r\n    \r\n    public class MyTest {\r\n    \r\n    \t@Rule\r\n    \tpublic OutputCapture capture = new OutputCapture();\r\n    \r\n    \t@Test\r\n    \tpublic void testName() throws Exception {\r\n    \t\tSystem.out.println(&quot;Hello World!&quot;);\r\n    \t\tassertThat(capture.toString(), containsString(&quot;World&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nWhat is wrong?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-output-capture-test-utility\r\n  [2]: https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/test/rule/OutputCapture.html","title":"Spring feature OutputCapture does not work in valid spring boot version","body":"<p>I cannot use the feature with <code>OutputCapture</code> within <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-output-capture-test-utility\" rel=\"nofollow noreferrer\">JUnit testing</a>. I want to use this feature to see some log messages.\nIf I tried to include the class package <code>org.springframework.book.test.rule.OutputCapture</code> in IDEA it shows me warn message \"No suggestions\". So that I am not able to access to outputCapture class (even test package is not visible).</p>\n\n<p>As I found out on this <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/api/org/springframework/boot/test/rule/OutputCapture.html\" rel=\"nofollow noreferrer\">website</a> this class is supported since version 1.3. \nHowever I am using correct spring boot version 1.5.</p>\n\n<pre><code>import org.junit.Rule;\nimport org.junit.Test;\nimport org.springframework.boot.test.rule.OutputCapture; THIS IS NOT RECOGNIZED\n\nimport static org.hamcrest.Matchers.*;\nimport static org.junit.Assert.*;\n\npublic class MyTest {\n\n    @Rule\n    public OutputCapture capture = new OutputCapture();\n\n    @Test\n    public void testName() throws Exception {\n        System.out.println(\"Hello World!\");\n        assertThat(capture.toString(), containsString(\"World\"));\n    }\n\n}\n</code></pre>\n\n<p>What is wrong?</p>\n"},{"tags":["java","spring","spring-boot","asynchronous","scheduled-tasks"],"comments":[{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":1,"creation_date":1603015595,"post_id":64411786,"comment_id":113897375,"body_markdown":"Hi, how do you define that this solution work on one thread? By default, @Scheduled work on one thread, but you then pass execution to `commonTaskExecutor`.\nTry to view all current active threads via `jconsole`.","body":"Hi, how do you define that this solution work on one thread? By default, @Scheduled work on one thread, but you then pass execution to <code>commonTaskExecutor</code>. Try to view all current active threads via <code>jconsole</code>."},{"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"score":0,"creation_date":1603016170,"post_id":64411786,"comment_id":113897485,"body_markdown":"@shadownindzya I make thousands of operations in my async method&#39;s loop, and log the current thread name in each iteration.","body":"@shadownindzya I make thousands of operations in my async method&#39;s loop, and log the current thread name in each iteration."},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603016928,"post_id":64411786,"comment_id":113897647,"body_markdown":"I reproduced your configuration, and all work as expected\n```\n 16:27:15.001  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1\n16:27:15.004  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Ended schedule at thread = pool-1-thread-1\n16:27:15.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1\n16:27:25.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations executed on TEST1\n\n```","body":"I reproduced your configuration, and all work as expected ```  16:27:15.001  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1 16:27:15.004  INFO 5927 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Ended schedule at thread = pool-1-thread-1 16:27:15.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1 16:27:25.008  INFO 5927 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations executed on TEST1  ```"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017121,"post_id":64411786,"comment_id":113897695,"body_markdown":"and with jconsole I see - `pool-1-thread-1` thread of Scheduled executor. And `TEST1, TEST2,...` threads of common executor pool.","body":"and with jconsole I see - <code>pool-1-thread-1</code> thread of Scheduled executor. And <code>TEST1, TEST2,...</code> threads of common executor pool."},{"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"score":0,"creation_date":1603017332,"post_id":64411786,"comment_id":113897748,"body_markdown":"@shadownindzya try to log the current thread name in a loop for eg 10000 times and you will always get TEST1 thread, at least for me it works like that","body":"@shadownindzya try to log the current thread name in a loop for eg 10000 times and you will always get TEST1 thread, at least for me it works like that"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017487,"post_id":64411786,"comment_id":113897783,"body_markdown":"hm, do you mean inside that async method use infinite loop?","body":"hm, do you mean inside that async method use infinite loop?"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017586,"post_id":64411786,"comment_id":113897818,"body_markdown":"in this case, of course it will work on one thread. You should try call from infinite loop inside `ScheduledTask#process` method","body":"in this case, of course it will work on one thread. You should try call from infinite loop inside <code>ScheduledTask#process</code> method"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017638,"post_id":64411786,"comment_id":113897835,"body_markdown":"@Scheduled(cron = &quot;15 * * * * ?&quot;)\n    public void process() {\n        logger.info(&quot;Started schedule at thread = {}&quot;, Thread.currentThread().getName());\n        for (int i=0; i&lt;10000;i++) {\n            confirmReservationTask.confirmReservations();\n        }\n        logger.info(&quot;Ended schedule at thread = {}&quot;, Thread.currentThread().getName());\n    }","body":"@Scheduled(cron = &quot;15 * * * * ?&quot;)     public void process() {         logger.info(&quot;Started schedule at thread = {}&quot;, Thread.currentThread().getName());         for (int i=0; i&lt;10000;i++) {             confirmReservationTask.confirmReservations();         }         logger.info(&quot;Ended schedule at thread = {}&quot;, Thread.currentThread().getName());     }"},{"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"score":0,"creation_date":1603017732,"post_id":64411786,"comment_id":113897852,"body_markdown":"Not infinite, just force the @Async method to run longer so it can uses different threads. My method runs for 1,5min and still on 1 thread (TEST1)","body":"Not infinite, just force the @Async method to run longer so it can uses different threads. My method runs for 1,5min and still on 1 thread (TEST1)"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603017756,"post_id":64411786,"comment_id":113897859,"body_markdown":"and you got something like this:\n  INFO 6447 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1\n INFO 6447 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1\n  INFO 6447 --- [         TEST11] s.example.ConfirmReservationTask         : Run confirmReservations on TEST11\n INFO 6447 --- [         TEST10] s.example.ConfirmReservationTask         : Run confirmReservations on TEST10\n INFO 6447 --- [         TEST17] s.example.ConfirmReservationTask         : Run confirmReservations on TEST17","body":"and you got something like this:   INFO 6447 --- [pool-1-thread-1] stckovflw.example.ScheduledTask          : Started schedule at thread = pool-1-thread-1  INFO 6447 --- [          TEST1] s.example.ConfirmReservationTask         : Run confirmReservations on TEST1   INFO 6447 --- [         TEST11] s.example.ConfirmReservationTask         : Run confirmReservations on TEST11  INFO 6447 --- [         TEST10] s.example.ConfirmReservationTask         : Run confirmReservations on TEST10  INFO 6447 --- [         TEST17] s.example.ConfirmReservationTask         : Run confirmReservations on TEST17"},{"owner":{"account_id":16588413,"reputation":84,"user_id":12032134,"display_name":"Nugusbayev Kanagat"},"score":0,"creation_date":1603018075,"post_id":64411786,"comment_id":113897928,"body_markdown":"can you share your logs with my @Scheduled example above ?","body":"can you share your logs with my @Scheduled example above ?"}],"owner":{"account_id":19664179,"reputation":1,"user_id":14395016,"display_name":"Marcinek"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638140068,"creation_date":1603013841,"question_id":64411786,"body_markdown":"I have read many questions and answers about using `@Scheduled` with `@Async` in Spring but no one resolves my problem and my asynchronous method still runs single-threaded. So here is my Configuration class:\r\n\r\n    @EnableScheduling\r\n    @EnableAsync\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class SchedulerConfiguration {\r\n    \r\n        private final ThreadPoolProperties threadPoolProperties;\r\n    \r\n        @Bean\r\n        public TaskExecutor commonTaskExecutor() {\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setCorePoolSize(threadPoolProperties.getCorePoolSize()); // 10\r\n            taskExecutor.setMaxPoolSize(threadPoolProperties.getMaxPoolSize()); // 20\r\n            taskExecutor.setQueueCapacity(threadPoolProperties.getQueueCapacity()); // 5\r\n            taskExecutor.setThreadNamePrefix(&quot;TEST&quot;);\r\n            taskExecutor.initialize();\r\n            return taskExecutor;\r\n        }\r\n    }\r\n\r\nThen we have a bean with the `@Scheduled` method:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class ScheduledTask {\r\n    \r\n        private final ConfirmReservationTask confirmReservationTask;\r\n    \r\n        @Scheduled(cron = &quot;${booking.scheduler.confirmReservationsCron}&quot;)\r\n        public void process() {\r\n            confirmReservationTask.confirmReservations();\r\n        }\r\n    }\r\n\r\nAnd finally, another bean (to avoid self-injection and proxy problems with asynchronous processing) with `@Async` method:\r\n\r\n    @Log4j2\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class ConfirmReservationTask {\r\n    \r\n        private final ReservationService reservationService;\r\n    \r\n        @Async(&quot;commonTaskExecutor&quot;)\r\n        public void confirmReservations() {\r\n        ...\r\n        }\r\n    }\r\n\r\nunfortunately, this solution works in only one thread, however, the method uses the correct `ThreadExecutor`. How to solve it?","title":"How to run @Async method inside the @Scheduled one","body":"<p>I have read many questions and answers about using <code>@Scheduled</code> with <code>@Async</code> in Spring but no one resolves my problem and my asynchronous method still runs single-threaded. So here is my Configuration class:</p>\n<pre><code>@EnableScheduling\n@EnableAsync\n@Configuration\n@RequiredArgsConstructor\npublic class SchedulerConfiguration {\n\n    private final ThreadPoolProperties threadPoolProperties;\n\n    @Bean\n    public TaskExecutor commonTaskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setCorePoolSize(threadPoolProperties.getCorePoolSize()); // 10\n        taskExecutor.setMaxPoolSize(threadPoolProperties.getMaxPoolSize()); // 20\n        taskExecutor.setQueueCapacity(threadPoolProperties.getQueueCapacity()); // 5\n        taskExecutor.setThreadNamePrefix(&quot;TEST&quot;);\n        taskExecutor.initialize();\n        return taskExecutor;\n    }\n}\n</code></pre>\n<p>Then we have a bean with the <code>@Scheduled</code> method:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class ScheduledTask {\n\n    private final ConfirmReservationTask confirmReservationTask;\n\n    @Scheduled(cron = &quot;${booking.scheduler.confirmReservationsCron}&quot;)\n    public void process() {\n        confirmReservationTask.confirmReservations();\n    }\n}\n</code></pre>\n<p>And finally, another bean (to avoid self-injection and proxy problems with asynchronous processing) with <code>@Async</code> method:</p>\n<pre><code>@Log4j2\n@Component\n@RequiredArgsConstructor\npublic class ConfirmReservationTask {\n\n    private final ReservationService reservationService;\n\n    @Async(&quot;commonTaskExecutor&quot;)\n    public void confirmReservations() {\n    ...\n    }\n}\n</code></pre>\n<p>unfortunately, this solution works in only one thread, however, the method uses the correct <code>ThreadExecutor</code>. How to solve it?</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1638118984,"post_id":70145458,"comment_id":123997056,"body_markdown":"See https://gluonhq.com/products/javafx/.","body":"See <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">gluonhq.com/products/javafx</a>."},{"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"score":0,"creation_date":1638121508,"post_id":70145458,"comment_id":123997664,"body_markdown":"Ensure that you are running the latest Gradle with the latest JDK - the error indicates that your JDK is outdated, meaning that if that message is printed, you cannot be running JDK 17.","body":"Ensure that you are running the latest Gradle with the latest JDK - the error indicates that your JDK is outdated, meaning that if that message is printed, you cannot be running JDK 17."},{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1638121748,"post_id":70145458,"comment_id":123997735,"body_markdown":"AFAIK JavaFX 17 requieres JDK 11+. JavaFX was removed from Java JDK since JDK 11.","body":"AFAIK JavaFX 17 requieres JDK 11+. JavaFX was removed from Java JDK since JDK 11."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1638128168,"post_id":70145458,"comment_id":123999353,"body_markdown":"The latest version of the JavaFX **Gradle plugin** is 0.0.10. The plugin is a separate thing from JavaFX itself. The latest version of JavaFX is 17.0.1, as pointed out in the answer below. And as also pointed out, you need at least Java 11 to use JavaFX 11+.","body":"The latest version of the JavaFX <b>Gradle plugin</b> is 0.0.10. The plugin is a separate thing from JavaFX itself. The latest version of JavaFX is 17.0.1, as pointed out in the answer below. And as also pointed out, you need at least Java 11 to use JavaFX 11+."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638139574,"creation_date":1638123498,"answer_id":70146211,"question_id":70145458,"body_markdown":"# tl;dr\r\n\r\nCurrently the latest versions for JavaFX development would be:\r\n\r\n - **JavaFX Gradle Plugin 0.0.10** (simplifies working with JavaFX 11+ in Gradle projects)\r\n - **OpenJFX 17.0.1** (libraries that implement JavaFX, require Java 11 or later)\r\n - **Java 17.0.1** (an LTS version)\r\n\r\n# *JavaFX Gradle Plugin*\r\n\r\n[Comments by Slaw](https://stackoverflow.com/questions/70145458/how-do-i-find-the-most-recent-version-of-javafx-to-implement-in-my-build-gradle/70146211#comment123999353_70145458) point out that you seem to be confusing the [Gradle plug-in for JavaFX][1] with the [OpenJFX libraries][2] needed to run a JavaFX app. \r\n\r\nThe plug-in simplifies working with JavaFX 11+ for [Gradle][3] projects.\r\n\r\nCurrently, that plugin’s latest version is [0.0.10][4]. See also the [GitHub product page][5].\r\n\r\n# *OpenJFX* libraries\r\n\r\nAs for the OpenJFX libraries, see the [Products Roadmap](https://gluonhq.com/products/javafx/) at GluonHQ.com. You will find 17.0.1 is the latest, with 18 in early-access.\r\n\r\nThe JavaFX (OpenJFX) releases have been synced to arrive at about the same time as the Java releases, and use the same major version number. A convenient approach. \r\n\r\nBut OpenJFX releases do not require the latest Java. The [Release Notes for 17](https://github.com/openjdk/jfx/blob/master/doc-files/release-notes-17.md) says it requires Java 11 or later. Note that both Java 11 and 17 are [Long-Term Support (LTS)][6] versions. \r\n\r\nI suggest you generally do your development work with the latest Java and the latest JavaFX while aiming your deployments at the latest LTS version of both. Note that Oracle recently announced a change in the LTS cadence from every three years to every two years. Presumably JavaFX will follow that as well. \r\n\r\nSee also the related Question, [*Which version of OpenJFX (JavaFX) and Scene Builder should I use with Amazon Corretto 11 (OpenJDK)?*](https://stackoverflow.com/q/67910703/642706).\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.openjfx/javafx-plugin?repo=gradle-plugins\r\n  [2]: https://mvnrepository.com/artifact/org.openjfx\r\n  [3]: https://en.m.wikipedia.org/wiki/Gradle\r\n  [4]: https://mvnrepository.com/artifact/org.openjfx/javafx-plugin/0.0.10\r\n  [5]: https://github.com/openjfx/javafx-gradle-plugin\r\n  [6]: https://en.wikipedia.org/wiki/Long-term_support","title":"How do I find the most recent version of JavaFX to implement in my build.gradle file?","body":"<h1>tl;dr</h1>\n<p>Currently the latest versions for JavaFX development would be:</p>\n<ul>\n<li><strong>JavaFX Gradle Plugin 0.0.10</strong> (simplifies working with JavaFX 11+ in Gradle projects)</li>\n<li><strong>OpenJFX 17.0.1</strong> (libraries that implement JavaFX, require Java 11 or later)</li>\n<li><strong>Java 17.0.1</strong> (an LTS version)</li>\n</ul>\n<h1><em>JavaFX Gradle Plugin</em></h1>\n<p><a href=\"https://stackoverflow.com/questions/70145458/how-do-i-find-the-most-recent-version-of-javafx-to-implement-in-my-build-gradle/70146211#comment123999353_70145458\">Comments by Slaw</a> point out that you seem to be confusing the <a href=\"https://mvnrepository.com/artifact/org.openjfx/javafx-plugin?repo=gradle-plugins\" rel=\"nofollow noreferrer\">Gradle plug-in for JavaFX</a> with the <a href=\"https://mvnrepository.com/artifact/org.openjfx\" rel=\"nofollow noreferrer\">OpenJFX libraries</a> needed to run a JavaFX app.</p>\n<p>The plug-in simplifies working with JavaFX 11+ for <a href=\"https://en.m.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a> projects.</p>\n<p>Currently, that plugin’s latest version is <a href=\"https://mvnrepository.com/artifact/org.openjfx/javafx-plugin/0.0.10\" rel=\"nofollow noreferrer\">0.0.10</a>. See also the <a href=\"https://github.com/openjfx/javafx-gradle-plugin\" rel=\"nofollow noreferrer\">GitHub product page</a>.</p>\n<h1><em>OpenJFX</em> libraries</h1>\n<p>As for the OpenJFX libraries, see the <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">Products Roadmap</a> at GluonHQ.com. You will find 17.0.1 is the latest, with 18 in early-access.</p>\n<p>The JavaFX (OpenJFX) releases have been synced to arrive at about the same time as the Java releases, and use the same major version number. A convenient approach.</p>\n<p>But OpenJFX releases do not require the latest Java. The <a href=\"https://github.com/openjdk/jfx/blob/master/doc-files/release-notes-17.md\" rel=\"nofollow noreferrer\">Release Notes for 17</a> says it requires Java 11 or later. Note that both Java 11 and 17 are <a href=\"https://en.wikipedia.org/wiki/Long-term_support\" rel=\"nofollow noreferrer\">Long-Term Support (LTS)</a> versions.</p>\n<p>I suggest you generally do your development work with the latest Java and the latest JavaFX while aiming your deployments at the latest LTS version of both. Note that Oracle recently announced a change in the LTS cadence from every three years to every two years. Presumably JavaFX will follow that as well.</p>\n<p>See also the related Question, <a href=\"https://stackoverflow.com/q/67910703/642706\"><em>Which version of OpenJFX (JavaFX) and Scene Builder should I use with Amazon Corretto 11 (OpenJDK)?</em></a>.</p>\n"}],"owner":{"account_id":19292570,"reputation":39,"user_id":14102200,"display_name":"Brian Erlich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70146211,"answer_count":1,"score":1,"last_activity_date":1638139574,"creation_date":1638117533,"question_id":70145458,"body_markdown":"What I believe is the official website, [openjfx.io][1], tells me to use version 0.0.10 in gradle. However, It&#39;s incompatible with JDK 8 and 17, spitting out `java.lang.UnsupportedClassVersionError: org/openjfx/gradle/JavaFXPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0`\r\nI looked through the JavaFX repo, but couldnt find a good version number to replace 0.0.10 with, but I don&#39;t think 0.0.10 is really the most recent one. Where can I find the most recent build number?\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#gradle","title":"How do I find the most recent version of JavaFX to implement in my build.gradle file?","body":"<p>What I believe is the official website, <a href=\"https://openjfx.io/openjfx-docs/#gradle\" rel=\"nofollow noreferrer\">openjfx.io</a>, tells me to use version 0.0.10 in gradle. However, It's incompatible with JDK 8 and 17, spitting out <code>java.lang.UnsupportedClassVersionError: org/openjfx/gradle/JavaFXPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code>\nI looked through the JavaFX repo, but couldnt find a good version number to replace 0.0.10 with, but I don't think 0.0.10 is really the most recent one. Where can I find the most recent build number?</p>\n"},{"tags":["java","file","serialization","hashmap"],"answers":[{"tags":[],"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638139321,"creation_date":1638137371,"answer_id":70147888,"question_id":70147656,"body_markdown":"You are expecting that result of `toString` method for two instances of `Credentials` with the same parameters will be the same, but it is not.\r\n\r\n    String hash = Encryption.SHA_512(credentials.toString()); //get credentials hash in a String format\r\n            if (!users.containsKey(hash))\r\n                users.put(hash, user);\r\n\r\n`credentials.toString()` will contain a hash of the newly created instance of `new Credentials(&quot;Edward&quot;, &quot;password&quot;)`\r\n\r\n\r\nBy default, the `hashCode` method does return distinct integers for distinct objects. This is typically implemented by converting the internal address of the object into an integer (see doc [here][2])\r\n\r\nBy default, the `toString` method returns the name of the object’s class plus its hash code (see doc [here][1]). \r\n\r\n    getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())\r\n\r\nThereby, when you calculate hash, it will be different for each new instance.\r\n\r\nYou can ensure in it by creating several new Credentials instances with the same  parameter values.\r\n\r\n    Credentials instance1 = new Credentials(&quot;Edward&quot;, &quot;password&quot;);\r\n    Credentials instance2 = new Credentials(&quot;Edward&quot;, &quot;password&quot;);\r\n    Console.out.println(instance1.toString());\r\n    Console.out.println(instance2.toString());\r\n\r\nTo overcome this issue, you need to override both `equals` and `hash` methods in the `Credentials` class, so two instances with the same parameters will return the same hash. In this case, the keys for them will be equal, and you will not get duplicates.\r\n\r\nYou can read about how to do it and why you need to do it in the related answers:\r\n - https://stackoverflow.com/a/27609/4671372\r\n - https://stackoverflow.com/a/2265637/4671372\r\n - https://stackoverflow.com/a/38559684/4671372\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode%28%29\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()","title":"Hashtable Duplicate values in Serialization","body":"<p>You are expecting that result of <code>toString</code> method for two instances of <code>Credentials</code> with the same parameters will be the same, but it is not.</p>\n<pre><code>String hash = Encryption.SHA_512(credentials.toString()); //get credentials hash in a String format\n        if (!users.containsKey(hash))\n            users.put(hash, user);\n</code></pre>\n<p><code>credentials.toString()</code> will contain a hash of the newly created instance of <code>new Credentials(&quot;Edward&quot;, &quot;password&quot;)</code></p>\n<p>By default, the <code>hashCode</code> method does return distinct integers for distinct objects. This is typically implemented by converting the internal address of the object into an integer (see doc <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>By default, the <code>toString</code> method returns the name of the object’s class plus its hash code (see doc <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode%28%29\" rel=\"nofollow noreferrer\">here</a>).</p>\n<pre><code>getClass().getName() + '@' + Integer.toHexString(hashCode())\n</code></pre>\n<p>Thereby, when you calculate hash, it will be different for each new instance.</p>\n<p>You can ensure in it by creating several new Credentials instances with the same  parameter values.</p>\n<pre><code>Credentials instance1 = new Credentials(&quot;Edward&quot;, &quot;password&quot;);\nCredentials instance2 = new Credentials(&quot;Edward&quot;, &quot;password&quot;);\nConsole.out.println(instance1.toString());\nConsole.out.println(instance2.toString());\n</code></pre>\n<p>To overcome this issue, you need to override both <code>equals</code> and <code>hash</code> methods in the <code>Credentials</code> class, so two instances with the same parameters will return the same hash. In this case, the keys for them will be equal, and you will not get duplicates.</p>\n<p>You can read about how to do it and why you need to do it in the related answers:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/27609/4671372\">https://stackoverflow.com/a/27609/4671372</a></li>\n<li><a href=\"https://stackoverflow.com/a/2265637/4671372\">https://stackoverflow.com/a/2265637/4671372</a></li>\n<li><a href=\"https://stackoverflow.com/a/38559684/4671372\">https://stackoverflow.com/a/38559684/4671372</a></li>\n</ul>\n"}],"owner":{"account_id":15597005,"reputation":144,"user_id":11252200,"display_name":"laegirl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70147888,"answer_count":1,"score":-2,"last_activity_date":1638139321,"creation_date":1638135314,"question_id":70147656,"body_markdown":"I have an abstract Database class which implements Serializable and has 2 methods for read/write to a `.ser` file. An example of a Database child would be `CredentialsUsers` which extends the `Database` and has a `Hashmap&lt;Credentials,User&gt;`. When I open my application I load the data with `read` and after i finish I save the data with `load`. One of the types of Users supported in my Application is an Administrator,with special privileges. Before I run my Application I make sure to initialize an Admin with `initAdmin()` below. An admin can check stats like number of users etc. If I `rm *.ser` my files and run the Application everything is sailing smoothly,but each time I run it I add one more &lt;b&gt;duplicate&lt;/b&gt; admin in the `Hashmap`. I&#39;ve been at it for 2 hours,added special checks which make no sense(adding a key,pair in the map only if not present etc) and I still can&#39;t find why the Databases allow duplicate values. Any ideas?\r\nHeres some code about reading/writing(Methods of Abstract Database):\r\n```\r\npublic Object read() {\r\n        Object obj = null;\r\n        try {\r\n            File temp = new File(this.filename);\r\n            temp.createNewFile(); // create file if not present\r\n            FileInputStream fileIn = new FileInputStream(this.filename);\r\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n            obj = objectIn.readObject();\r\n            objectIn.close();\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return obj;\r\n    }\r\npublic void write() {\r\n        try {\r\n            File temp = new File(this.filename);\r\n            temp.createNewFile(); // create file if not present\r\n            FileOutputStream fileOut = new FileOutputStream(this.filename);\r\n            ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\r\n            objectOut.writeObject(this);\r\n            objectOut.close();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n```\r\nAnd heres the Admin init:\r\n```\r\nprivate void initAdmin() throws NoSuchAlgorithmException {\r\n        Admin admin = new Admin(new Credentials(&quot;Edward&quot;, &quot;password&quot;),\r\n                &quot;Edward&quot;, 25, &quot;fakemail@gmail.com&quot;, Gender.MALE, &quot;fakephone&quot;);\r\n        if(credentialsUserDatabase.selectUser(admin.getCredentials())==null)//entry not found\r\n            credentialsUserDatabase.insertUser(admin.getCredentials(), admin);\r\n    }\r\n```\r\nAnd lastly the implementation:\r\n```\r\npublic class CredentialsUser extends Database {\r\n    @Serial\r\n    private static final long serialVersionUID = 0;\r\n    private HashMap&lt;String, User&gt; users; //Mapping of hash(Credentials) -&gt; User\r\n\r\n    public void insertUser(Credentials credentials, User user) throws NoSuchAlgorithmException {\r\n        if (user == null || credentials == null)\r\n            return;\r\n        String hash = Encryption.SHA_512(credentials.toString()); //get credentials hash in a String format\r\n        if (!users.containsKey(hash))\r\n            users.put(hash, user);\r\n    }\r\n```\r\n\r\nYou can see the useless checks about duplicate keys everywhere,also maybe the way Im reading a database from the file has to do with it. Here&#39;s the last part which may be the problem:\r\n```\r\nprivate void loadData(){\r\n    Object temp = credentialsUserDatabase.read();\r\n        if (temp != null) //EOF returns null\r\n            credentialsUserDatabase = (CredentialsUser) temp;\r\n}\r\n```\r\nOrder of methods is loadData()-&gt;initAdmin()-&gt;Application Runs-&gt;write()","title":"Hashtable Duplicate values in Serialization","body":"<p>I have an abstract Database class which implements Serializable and has 2 methods for read/write to a <code>.ser</code> file. An example of a Database child would be <code>CredentialsUsers</code> which extends the <code>Database</code> and has a <code>Hashmap&lt;Credentials,User&gt;</code>. When I open my application I load the data with <code>read</code> and after i finish I save the data with <code>load</code>. One of the types of Users supported in my Application is an Administrator,with special privileges. Before I run my Application I make sure to initialize an Admin with <code>initAdmin()</code> below. An admin can check stats like number of users etc. If I <code>rm *.ser</code> my files and run the Application everything is sailing smoothly,but each time I run it I add one more <b>duplicate</b> admin in the <code>Hashmap</code>. I've been at it for 2 hours,added special checks which make no sense(adding a key,pair in the map only if not present etc) and I still can't find why the Databases allow duplicate values. Any ideas?\nHeres some code about reading/writing(Methods of Abstract Database):</p>\n<pre><code>public Object read() {\n        Object obj = null;\n        try {\n            File temp = new File(this.filename);\n            temp.createNewFile(); // create file if not present\n            FileInputStream fileIn = new FileInputStream(this.filename);\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n            obj = objectIn.readObject();\n            objectIn.close();\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return obj;\n    }\npublic void write() {\n        try {\n            File temp = new File(this.filename);\n            temp.createNewFile(); // create file if not present\n            FileOutputStream fileOut = new FileOutputStream(this.filename);\n            ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\n            objectOut.writeObject(this);\n            objectOut.close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>And heres the Admin init:</p>\n<pre><code>private void initAdmin() throws NoSuchAlgorithmException {\n        Admin admin = new Admin(new Credentials(&quot;Edward&quot;, &quot;password&quot;),\n                &quot;Edward&quot;, 25, &quot;fakemail@gmail.com&quot;, Gender.MALE, &quot;fakephone&quot;);\n        if(credentialsUserDatabase.selectUser(admin.getCredentials())==null)//entry not found\n            credentialsUserDatabase.insertUser(admin.getCredentials(), admin);\n    }\n</code></pre>\n<p>And lastly the implementation:</p>\n<pre><code>public class CredentialsUser extends Database {\n    @Serial\n    private static final long serialVersionUID = 0;\n    private HashMap&lt;String, User&gt; users; //Mapping of hash(Credentials) -&gt; User\n\n    public void insertUser(Credentials credentials, User user) throws NoSuchAlgorithmException {\n        if (user == null || credentials == null)\n            return;\n        String hash = Encryption.SHA_512(credentials.toString()); //get credentials hash in a String format\n        if (!users.containsKey(hash))\n            users.put(hash, user);\n    }\n</code></pre>\n<p>You can see the useless checks about duplicate keys everywhere,also maybe the way Im reading a database from the file has to do with it. Here's the last part which may be the problem:</p>\n<pre><code>private void loadData(){\n    Object temp = credentialsUserDatabase.read();\n        if (temp != null) //EOF returns null\n            credentialsUserDatabase = (CredentialsUser) temp;\n}\n</code></pre>\n<p>Order of methods is loadData()-&gt;initAdmin()-&gt;Application Runs-&gt;write()</p>\n"},{"tags":["java","swing","animation","jtextpane"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1638138031,"post_id":70147670,"comment_id":124001633,"body_markdown":"Use a Swing Timer to help populate your text component with a delay","body":"Use a Swing Timer to help populate your text component with a delay"},{"owner":{"account_id":19114736,"reputation":13,"user_id":13959995,"display_name":"Overlord99"},"score":0,"creation_date":1638146516,"post_id":70147670,"comment_id":124003155,"body_markdown":"I tried it. It works but it only shows full text after a delay, not each character by itself so it would look like it&#39;s a typewriter. I&#39;ll try tomorrow with the answer below and see how it goes.","body":"I tried it. It works but it only shows full text after a delay, not each character by itself so it would look like it&#39;s a typewriter. I&#39;ll try tomorrow with the answer below and see how it goes."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638139177,"creation_date":1638138811,"answer_id":70148050,"question_id":70147670,"body_markdown":"The basic idea is the same for `JTextPane` and `JTextArea`.  The problem is, `JTextPane` is WAY more powerful in terms of it&#39;s rendering capabilities and doesn&#39;t provide some of the helper methods that `JTextArea` does, like `append`, instead, you&#39;ll have to do that yourself.\r\n\r\nHaving said that, this is a VERY basic example.  This example loads the &quot;Star Wars, A New Hope&quot; script from an embedded file resource and prints it, like a type writer.\r\n\r\nIf you tap &lt;kbd&gt;Stop&lt;/kbd&gt;, it will stop the `Timer` and append the remaining text for the current line.  Funny enough, if you start it again, it will pick up where it left off, neat side effect.\r\n\r\n[![MakeItType][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.Timer;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.Document;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private JTextPane textPane;\r\n            private Timer timer;\r\n            private List&lt;String&gt; lines;\r\n\r\n            private String currentLine;\r\n            private int currentLinePosition;\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                textPane = new JTextPane();\r\n                add(new JScrollPane(textPane));\r\n\r\n                JPanel actionsPane = new JPanel(new GridBagLayout());\r\n\r\n                JButton makeItSo = new JButton(&quot;Make it so&quot;);\r\n                JButton stop = new JButton(&quot;Stop&quot;);\r\n\r\n                actionsPane.add(makeItSo);\r\n                makeItSo.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        makeItSo();\r\n                        makeItSo.setEnabled(false);\r\n                        stop.setEnabled(true);\r\n                    }\r\n                });\r\n\r\n                actionsPane.add(stop);\r\n                stop.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        stopTimer();\r\n\r\n                        makeItSo.setEnabled(true);\r\n                        stop.setEnabled(false);\r\n                    }\r\n                });\r\n\r\n                add(actionsPane, BorderLayout.SOUTH);\r\n\r\n                loadScript();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            protected void loadScript() {\r\n                lines = new ArrayList&lt;&gt;(128);\r\n                try (BufferedReader br = new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(&quot;/scripts/StarWarANewHope.txt&quot;)))) {\r\n                    for (String line = br.readLine(); line != null; line = br.readLine()) {\r\n                        lines.add(line);\r\n                    }\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n\r\n            protected int startPosition(String text) {\r\n                if (text.isEmpty() || text.isBlank()) {\r\n                    return 0;\r\n                }\r\n                int index = 0;\r\n                while (Character.isWhitespace(text.charAt(index))) {\r\n                    index++;\r\n                }\r\n                return index;\r\n            }\r\n\r\n            protected void insertWithOutError(String text) {\r\n                try {\r\n                    insert(text);\r\n                } catch (BadLocationException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n\r\n            protected void insert(String text) throws BadLocationException {\r\n                Document document = textPane.getDocument();\r\n                document.insertString(document.getLength(), text, null);\r\n            }\r\n\r\n            protected void stopTimer() {\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                    timer = null;\r\n                }\r\n\r\n                if (currentLine != null) {\r\n                    if (currentLinePosition &lt; currentLine.length()) {\r\n                        String text = currentLine.substring(currentLinePosition);\r\n                        try {\r\n                            insert(text);\r\n                            insertWithOutError(&quot;\\n&quot;);\r\n                        } catch (BadLocationException ex) {\r\n                            Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                        }        \r\n                    }\r\n                }\r\n\r\n                currentLine = null;\r\n            }\r\n\r\n            protected void makeItSo() {\r\n                stopTimer();\r\n                if (lines.isEmpty()) {\r\n                    return;\r\n                }\r\n                try {\r\n                    // Pop the first line\r\n                    currentLine = lines.remove(0);\r\n                    int offset = startPosition(currentLine);\r\n                    if (currentLine.isBlank() || offset == currentLine.length()) {\r\n                        insertWithOutError(&quot;\\n&quot;);\r\n                    } else {\r\n                        String leading = currentLine.substring(0, offset);\r\n                        insert(leading);\r\n                    }\r\n                    currentLinePosition = 0;\r\n                    currentLine = currentLine.trim();\r\n\r\n                    timer = new Timer(5, new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            if (currentLinePosition &lt; currentLine.length()) {\r\n                                try {\r\n                                    String next = currentLine.substring(currentLinePosition, currentLinePosition + 1);\r\n                                    insert(next);\r\n                                    currentLinePosition++;\r\n                                } catch (BadLocationException ex) {\r\n                                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                                    stopTimer();\r\n                                }\r\n                            } else {\r\n                                insertWithOutError(&quot;\\n&quot;);\r\n                                makeItSo();\r\n                            }\r\n                        }\r\n                    });\r\n                    timer.start();\r\n                } catch (BadLocationException ex) {\r\n                    Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nNow, `JTextPane` can support `StyledDocument`s, this makes it some what, complicated work with.  You will note that I&#39;ve not even tried to support &quot;attributes&quot;, you&#39;ll have to figure that mess out for yourself &#128541;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JSzmM.gif","title":"How to make text appear delayed in JTextPane?","body":"<p>The basic idea is the same for <code>JTextPane</code> and <code>JTextArea</code>.  The problem is, <code>JTextPane</code> is WAY more powerful in terms of it's rendering capabilities and doesn't provide some of the helper methods that <code>JTextArea</code> does, like <code>append</code>, instead, you'll have to do that yourself.</p>\n<p>Having said that, this is a VERY basic example.  This example loads the &quot;Star Wars, A New Hope&quot; script from an embedded file resource and prints it, like a type writer.</p>\n<p>If you tap <kbd>Stop</kbd>, it will stop the <code>Timer</code> and append the remaining text for the current line.  Funny enough, if you start it again, it will pick up where it left off, neat side effect.</p>\n<p><a href=\"https://i.stack.imgur.com/JSzmM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JSzmM.gif\" alt=\"MakeItType\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextPane;\nimport javax.swing.Timer;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Document;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private JTextPane textPane;\n        private Timer timer;\n        private List&lt;String&gt; lines;\n\n        private String currentLine;\n        private int currentLinePosition;\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            textPane = new JTextPane();\n            add(new JScrollPane(textPane));\n\n            JPanel actionsPane = new JPanel(new GridBagLayout());\n\n            JButton makeItSo = new JButton(&quot;Make it so&quot;);\n            JButton stop = new JButton(&quot;Stop&quot;);\n\n            actionsPane.add(makeItSo);\n            makeItSo.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    makeItSo();\n                    makeItSo.setEnabled(false);\n                    stop.setEnabled(true);\n                }\n            });\n\n            actionsPane.add(stop);\n            stop.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    stopTimer();\n\n                    makeItSo.setEnabled(true);\n                    stop.setEnabled(false);\n                }\n            });\n\n            add(actionsPane, BorderLayout.SOUTH);\n\n            loadScript();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        protected void loadScript() {\n            lines = new ArrayList&lt;&gt;(128);\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(&quot;/scripts/StarWarANewHope.txt&quot;)))) {\n                for (String line = br.readLine(); line != null; line = br.readLine()) {\n                    lines.add(line);\n                }\n            } catch (IOException ex) {\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n\n        protected int startPosition(String text) {\n            if (text.isEmpty() || text.isBlank()) {\n                return 0;\n            }\n            int index = 0;\n            while (Character.isWhitespace(text.charAt(index))) {\n                index++;\n            }\n            return index;\n        }\n\n        protected void insertWithOutError(String text) {\n            try {\n                insert(text);\n            } catch (BadLocationException ex) {\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n\n        protected void insert(String text) throws BadLocationException {\n            Document document = textPane.getDocument();\n            document.insertString(document.getLength(), text, null);\n        }\n\n        protected void stopTimer() {\n            if (timer != null) {\n                timer.stop();\n                timer = null;\n            }\n\n            if (currentLine != null) {\n                if (currentLinePosition &lt; currentLine.length()) {\n                    String text = currentLine.substring(currentLinePosition);\n                    try {\n                        insert(text);\n                        insertWithOutError(&quot;\\n&quot;);\n                    } catch (BadLocationException ex) {\n                        Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                    }        \n                }\n            }\n\n            currentLine = null;\n        }\n\n        protected void makeItSo() {\n            stopTimer();\n            if (lines.isEmpty()) {\n                return;\n            }\n            try {\n                // Pop the first line\n                currentLine = lines.remove(0);\n                int offset = startPosition(currentLine);\n                if (currentLine.isBlank() || offset == currentLine.length()) {\n                    insertWithOutError(&quot;\\n&quot;);\n                } else {\n                    String leading = currentLine.substring(0, offset);\n                    insert(leading);\n                }\n                currentLinePosition = 0;\n                currentLine = currentLine.trim();\n\n                timer = new Timer(5, new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        if (currentLinePosition &lt; currentLine.length()) {\n                            try {\n                                String next = currentLine.substring(currentLinePosition, currentLinePosition + 1);\n                                insert(next);\n                                currentLinePosition++;\n                            } catch (BadLocationException ex) {\n                                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n                                stopTimer();\n                            }\n                        } else {\n                            insertWithOutError(&quot;\\n&quot;);\n                            makeItSo();\n                        }\n                    }\n                });\n                timer.start();\n            } catch (BadLocationException ex) {\n                Logger.getLogger(Test.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Now, <code>JTextPane</code> can support <code>StyledDocument</code>s, this makes it some what, complicated work with.  You will note that I've not even tried to support &quot;attributes&quot;, you'll have to figure that mess out for yourself 😝</p>\n"}],"owner":{"account_id":19114736,"reputation":13,"user_id":13959995,"display_name":"Overlord99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70148050,"answer_count":1,"score":-1,"last_activity_date":1638139177,"creation_date":1638135485,"question_id":70147670,"body_markdown":"public class Frame2 extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\tFrame1 frms = new Frame1();\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t\r\n\t\t\t\t\tFrame2 frame = new Frame2();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t\tframe.setResizable(false);\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tpublic Frame2() {\r\n\t\t\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(250, 100, 799, 526);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n       // ...\r\n\r\n\t\tfinal JTextPanePlus pnText1 = new JTextPanePlus(); // final because listener requires this \r\n\t\tpnText1.setImage(icon4, -70, -100, 600, 500);\r\n\t\tpnText1.setVisible(false);\r\n\t\tpnText1.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN , 16));\r\n\t\tpnText1.setEditable(false);\r\n\t\tpnText1.setForeground(Color.WHITE);\r\n\t\t\r\n\t\tpnText1.setText(&quot;Some text dasdasdasdasdasdas&quot;);\r\n\t\tpnText1.setBounds(60, 343, 527, 111);\r\n\t\tcontentPane.add(pnText1);\r\n \r\n       //...\r\n\r\n        backgroundLabel.addMouseListener(new MouseAdapter(){\r\n\t\t\t\t\t @Override\r\n\t\t\t\t\t public void mouseClicked(MouseEvent arg0) {\r\n\r\n\t\t\t\t\t\tpnText1.setVisible(true);\r\n\r\n\t                        }\r\n\t\t\t\t\t\t});\r\n        // ...\r\n}\r\n\r\nMethod that picks an image for JTextPane\r\n\r\npublic class JTextPanePlus extends JTextPane {\r\n\r\n\tImage image;\r\n\tint x,y,width,height;\r\n\tpublic JTextPanePlus(){\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic JTextPanePlus(String text){\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic void setImage(ImageIcon icon, int x, int y, int width, int height) {\r\n\t\t\r\n\t\tthis.image = icon.getImage();\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tsetOpaque(false);\r\n\t\trepaint();\r\n\t}\r\n\tpublic void paint(Graphics g){\r\n\t\t\r\n\t\tg.drawImage(image, x, y, width, height, null);\r\n\t\tsuper.paint(g);\r\n\t}\r\n\t\r\n}\r\n\r\nI&#39;m having trouble making my text of JTextPane (JTextPanePlus) to appear slightly delayed between each character. Basically I want to create an effect like for a novel or adventure. And if user doesn&#39;t want to wait for whole text to appear, I could add a &quot;mouseListener&quot; and make the text appear at once (stop the method).\r\n\r\nNow the problem is that I got no idea how to do this. Most topics around here covered things for JTextArea&#39;s and I&#39;m not sure if the same can be done for JTextPane.\r\n\r\nI tried to do &quot;for(char c : s.toCharArray())&quot; but then I have no idea what to do with &quot;c&quot; and this method seems to only work for print. Tried to use &quot;Thread.sleep&quot; but this freezes the whole JFrame. Java.swing.timer could work but then JTextPane doesn&#39;t support &quot;.append&quot; when used.\r\n\r\nI&#39;m running out of options and I&#39;m not an expert for this. This is my first time working with something this hard. Also I&#39;m truly sorry if this wasn&#39;t explained at best.","title":"How to make text appear delayed in JTextPane?","body":"<p>public class Frame2 extends JFrame {</p>\n<pre><code>private JPanel contentPane;\nFrame1 frms = new Frame1();\n\npublic static void main(String[] args) {\n    \n    EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            try {\n                \n                Frame2 frame = new Frame2();\n                frame.setVisible(true);\n                frame.setResizable(false);\n                \n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n\npublic Frame2() {\n    \n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setBounds(250, 100, 799, 526);\n    contentPane = new JPanel();\n    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n    setContentPane(contentPane);\n    contentPane.setLayout(null);\n    \n   // ...\n\n    final JTextPanePlus pnText1 = new JTextPanePlus(); // final because listener requires this \n    pnText1.setImage(icon4, -70, -100, 600, 500);\n    pnText1.setVisible(false);\n    pnText1.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN , 16));\n    pnText1.setEditable(false);\n    pnText1.setForeground(Color.WHITE);\n    \n    pnText1.setText(&quot;Some text dasdasdasdasdasdas&quot;);\n    pnText1.setBounds(60, 343, 527, 111);\n    contentPane.add(pnText1);\n\n   //...\n\n    backgroundLabel.addMouseListener(new MouseAdapter(){\n                 @Override\n                 public void mouseClicked(MouseEvent arg0) {\n\n                    pnText1.setVisible(true);\n\n                        }\n                    });\n    // ...\n</code></pre>\n<p>}</p>\n<p>Method that picks an image for JTextPane</p>\n<p>public class JTextPanePlus extends JTextPane {</p>\n<pre><code>Image image;\nint x,y,width,height;\npublic JTextPanePlus(){\n    super();\n}\n\npublic JTextPanePlus(String text){\n    super();\n}\n\npublic void setImage(ImageIcon icon, int x, int y, int width, int height) {\n    \n    this.image = icon.getImage();\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    setOpaque(false);\n    repaint();\n}\npublic void paint(Graphics g){\n    \n    g.drawImage(image, x, y, width, height, null);\n    super.paint(g);\n}\n</code></pre>\n<p>}</p>\n<p>I'm having trouble making my text of JTextPane (JTextPanePlus) to appear slightly delayed between each character. Basically I want to create an effect like for a novel or adventure. And if user doesn't want to wait for whole text to appear, I could add a &quot;mouseListener&quot; and make the text appear at once (stop the method).</p>\n<p>Now the problem is that I got no idea how to do this. Most topics around here covered things for JTextArea's and I'm not sure if the same can be done for JTextPane.</p>\n<p>I tried to do &quot;for(char c : s.toCharArray())&quot; but then I have no idea what to do with &quot;c&quot; and this method seems to only work for print. Tried to use &quot;Thread.sleep&quot; but this freezes the whole JFrame. Java.swing.timer could work but then JTextPane doesn't support &quot;.append&quot; when used.</p>\n<p>I'm running out of options and I'm not an expert for this. This is my first time working with something this hard. Also I'm truly sorry if this wasn't explained at best.</p>\n"},{"tags":["java","spring","spring-boot","graphql","build.gradle"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1603178058,"post_id":64440203,"comment_id":113946138,"body_markdown":"It looks like Spring Boot is expecting a different version of the GraphQL library than you have specified in your dependencies. You might want to consider using the Spring Boot BOM and not specify versions of dependencies that are defined in the Spring Boot BOM.","body":"It looks like Spring Boot is expecting a different version of the GraphQL library than you have specified in your dependencies. You might want to consider using the Spring Boot BOM and not specify versions of dependencies that are defined in the Spring Boot BOM."},{"owner":{"account_id":13118576,"reputation":214,"user_id":9476859,"display_name":"Jeet Banerjee"},"score":0,"creation_date":1603886853,"post_id":64440203,"comment_id":114176791,"body_markdown":"I am facing same error, what steps did you take to resolve it @AyyasamyS","body":"I am facing same error, what steps did you take to resolve it @AyyasamyS"}],"owner":{"account_id":11456688,"reputation":21,"user_id":8397464,"display_name":"Ayyasamy S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1358,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638139036,"creation_date":1603177930,"question_id":64440203,"body_markdown":"My application is not started because of the below issue. Please help me with this. \r\n\r\n**My build.gradle file :**\r\n        \r\n      \tapply plugin: &#39;java-library&#39;\r\n\t\tapply plugin: &#39;war&#39;\r\n\t\tapply plugin: &#39;eclipse&#39;\r\n\t\tapply plugin: &#39;maven&#39;\r\n\t\tapply plugin: &#39;kotlin&#39;\r\n\r\n\t\tbuildscript {\r\n\t\t\t\text.kotlin_version = &#39;1.0.1-2&#39;\r\n\t\t\t\r\n\t\t\t\trepositories {\r\n\t\t\t\t\tjcenter()\r\n\t\t\t\t\tmavenCentral()\r\n\t\t\t\t}\r\n\t\t\t\tdependencies {\r\n\t\t\t\t\tclasspath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.1-2&#39;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\trepositories {\r\n\t\t\tjcenter()\r\n\t\t\tmavenCentral()\r\n\t\t}\r\n\t\tdependencies {\r\n\t\t\tcompile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;, version: &#39;2.3.3.RELEASE&#39;\r\n\t\t\tcompile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;2.3.3.RELEASE&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java-kickstart&#39;, name: &#39;graphql-spring-boot-starter&#39;, version: &#39;7.2.0&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java-kickstart&#39;, name: &#39;graphql-java-servlet&#39;, version: &#39;10.0.0&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java-kickstart&#39;, name: &#39;graphql-spring-boot-autoconfigure&#39;, version: &#39;7.2.0&#39;\r\n\t\t\tprovidedCompile group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.12&#39;\r\n\t\t\t//implementation(&quot;com.graphql-java:graphql-java-extended-scalars:2020-02-19T04-04-26-6f82be9&quot;)\r\n\t\t\tcompile group: &#39;org.mariadb.jdbc&#39;, name: &#39;mariadb-java-client&#39;, version: &#39;2.6.2&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java&#39;, name: &#39;graphql-java-extended-scalars&#39;, version: &#39;1.0.1&#39;\r\n\t\t\t//compile group: &#39;com.graphql-java-kickstart&#39;, name: &#39;graphql-java-tools&#39;, version: &#39;5.6.1&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java-kickstart&#39;, name: &#39;graphql-java-tools&#39;, version: &#39;6.1.0&#39;\r\n\t\t\t//compile group: &#39;com.graphql-java&#39;, name: &#39;graphql-java&#39;, version: &#39;2020-10-16T05-33-59-df5bbde&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java&#39;, name: &#39;graphql-java&#39;, version: &#39;13.0&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java-kickstart&#39;, name: &#39;playground-spring-boot-starter&#39;, version: &#39;5.10.0&#39;\r\n\t\t\tcompile group: &#39;com.graphql-java-kickstart&#39;, name: &#39;voyager-spring-boot-starter&#39;, version: &#39;7.2.0&#39;\r\n\t\t}\r\n\r\n**My Error Message**\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [graphql/kickstart/tools/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [graphql.kickstart.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchFieldError: graphql/schema/idl/ScalarInfo.STANDARD_SCALAR_DEFINITIONS\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$157/0000000000000000.getObject(Unknown Source) ~[na:na]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\n\tat com.test.TestProjectApplication.main(TestProjectApplication.java:14) [bin/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [graphql.kickstart.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is java.lang.NoSuchFieldError: graphql/schema/idl/ScalarInfo.STANDARD_SCALAR_DEFINITIONS\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.NoSuchFieldError: graphql/schema/idl/ScalarInfo.STANDARD_SCALAR_DEFINITIONS\r\n\tat graphql.kickstart.tools.TypeClassMatcher.match(TypeClassMatcher.kt:83) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.TypeClassMatcher.match$default(TypeClassMatcher.kt:26) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.TypeClassMatcher.match(TypeClassMatcher.kt:74) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.TypeClassMatcher.match(TypeClassMatcher.kt:23) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:261) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:114) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:72) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:154) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:195) ~[graphql-java-tools-6.1.0.jar:na]\r\n\tat graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:151) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\r\n\tat graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$e5e64929.CGLIB$schemaParser$2(&lt;generated&gt;) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\r\n\tat graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$e5e64929$$FastClassBySpringCGLIB$$cb005481.invoke(&lt;generated&gt;) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$e5e64929.schemaParser(&lt;generated&gt;) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_252]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_252]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\t... 22 common frames omitted\r\n```","title":"java.lang.NoSuchFieldError: graphql/schema/idl/ScalarInfo.STANDARD_SCALAR_DEFINITIONS","body":"<p>My application is not started because of the below issue. Please help me with this.</p>\n<p><strong>My build.gradle file :</strong></p>\n<pre><code>    apply plugin: 'java-library'\n    apply plugin: 'war'\n    apply plugin: 'eclipse'\n    apply plugin: 'maven'\n    apply plugin: 'kotlin'\n\n    buildscript {\n            ext.kotlin_version = '1.0.1-2'\n        \n            repositories {\n                jcenter()\n                mavenCentral()\n            }\n            dependencies {\n                classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.1-2'\n            }\n    }\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: '2.3.3.RELEASE'\n        compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.3.3.RELEASE'\n        compile group: 'com.graphql-java-kickstart', name: 'graphql-spring-boot-starter', version: '7.2.0'\n        compile group: 'com.graphql-java-kickstart', name: 'graphql-java-servlet', version: '10.0.0'\n        compile group: 'com.graphql-java-kickstart', name: 'graphql-spring-boot-autoconfigure', version: '7.2.0'\n        providedCompile group: 'org.projectlombok', name: 'lombok', version: '1.18.12'\n        //implementation(&quot;com.graphql-java:graphql-java-extended-scalars:2020-02-19T04-04-26-6f82be9&quot;)\n        compile group: 'org.mariadb.jdbc', name: 'mariadb-java-client', version: '2.6.2'\n        compile group: 'com.graphql-java', name: 'graphql-java-extended-scalars', version: '1.0.1'\n        //compile group: 'com.graphql-java-kickstart', name: 'graphql-java-tools', version: '5.6.1'\n        compile group: 'com.graphql-java-kickstart', name: 'graphql-java-tools', version: '6.1.0'\n        //compile group: 'com.graphql-java', name: 'graphql-java', version: '2020-10-16T05-33-59-df5bbde'\n        compile group: 'com.graphql-java', name: 'graphql-java', version: '13.0'\n        compile group: 'com.graphql-java-kickstart', name: 'playground-spring-boot-starter', version: '5.10.0'\n        compile group: 'com.graphql-java-kickstart', name: 'voyager-spring-boot-starter', version: '7.2.0'\n    }\n</code></pre>\n<p><strong>My Error Message</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [graphql/kickstart/tools/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [graphql.kickstart.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchFieldError: graphql/schema/idl/ScalarInfo.STANDARD_SCALAR_DEFINITIONS\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:635) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$157/0000000000000000.getObject(Unknown Source) ~[na:na]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar:2.3.4.RELEASE]\n    at com.test.TestProjectApplication.main(TestProjectApplication.java:14) [bin/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [graphql.kickstart.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is java.lang.NoSuchFieldError: graphql/schema/idl/ScalarInfo.STANDARD_SCALAR_DEFINITIONS\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    ... 21 common frames omitted\nCaused by: java.lang.NoSuchFieldError: graphql/schema/idl/ScalarInfo.STANDARD_SCALAR_DEFINITIONS\n    at graphql.kickstart.tools.TypeClassMatcher.match(TypeClassMatcher.kt:83) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.TypeClassMatcher.match$default(TypeClassMatcher.kt:26) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.TypeClassMatcher.match(TypeClassMatcher.kt:74) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.TypeClassMatcher.match(TypeClassMatcher.kt:23) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:261) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:114) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:72) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:154) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:195) ~[graphql-java-tools-6.1.0.jar:na]\n    at graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:151) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\n    at graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$e5e64929.CGLIB$schemaParser$2(&lt;generated&gt;) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\n    at graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$e5e64929$$FastClassBySpringCGLIB$$cb005481.invoke(&lt;generated&gt;) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at graphql.kickstart.tools.boot.GraphQLJavaToolsAutoConfiguration$$EnhancerBySpringCGLIB$$e5e64929.schemaParser(&lt;generated&gt;) ~[graphql-kickstart-spring-boot-autoconfigure-tools-7.2.0.jar:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_252]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_252]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_252]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_252]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    ... 22 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","spring-mvc"],"comments":[{"owner":{"account_id":15141662,"reputation":1034,"user_id":10926486,"display_name":"V. Mokrecov"},"score":0,"creation_date":1603816169,"post_id":64556624,"comment_id":114154048,"body_markdown":"Please add an error to your question. I checked your code, it works without error. You may not be calling the endpoint correctly. I&#39;ve tried calling the endpoint with a check like this: &quot;curl --location --request GET &#39;http://localhost:8080/file?filepath=/Users/name/Downloads&#39;&quot;","body":"Please add an error to your question. I checked your code, it works without error. You may not be calling the endpoint correctly. I&#39;ve tried calling the endpoint with a check like this: &quot;curl --location --request GET &#39;<a href=\"http://localhost:8080/file?filepath=/Users/name/Downloads\" rel=\"nofollow noreferrer\">localhost:8080/file?filepath=/Users/name/Downloads</a>&#39;&quot;"},{"owner":{"account_id":19193349,"reputation":135,"user_id":14022639,"display_name":"Suds"},"score":0,"creation_date":1603887244,"post_id":64556624,"comment_id":114176965,"body_markdown":"@V.Mokrecov Turns out it was an issue with the format and when I wrote the request like yours it worked fine, thank you so much!!!","body":"@V.Mokrecov Turns out it was an issue with the format and when I wrote the request like yours it worked fine, thank you so much!!!"}],"owner":{"account_id":19193349,"reputation":135,"user_id":14022639,"display_name":"Suds"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638138827,"creation_date":1603808990,"question_id":64556624,"body_markdown":"I am trying to create a Java web application using Spring Tools that takes in a file path as a query parameter and returns the files at that given file path. However, I am getting a Whitelabel error when I run the application. I&#39;m not sure if the issue is from the way I&#39;m calling `Filewalk.java` or if it&#39;s because of an issue with how I&#39;m formatting the request. I am new to Spring Tools and would appreciate anybody taking a look at my code and letting me know where I&#39;m going wrong: \r\n\r\n**SpringBootExampleApplication.java**\r\n```java\r\npackage net.javavatutorial.tutorials;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@Controller\r\n@SpringBootApplication\r\npublic class SpringBootExampleApplication {\r\n\r\n\t@RequestMapping(&quot;/file&quot;)\r\n\t@ResponseBody\r\n\tpublic String home(@RequestParam(&quot;filepath&quot;) String filepath) { \r\n\t\treturn Filewalk.filewalk(filepath);\r\n\t}\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootExampleApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n**Filewalk.java** program that finds the files at a given file path:\r\n```java\r\npackage net.javavatutorial.tutorials;\r\n\r\nimport java.io.File; \r\n\r\npublic class Filewalk {\r\n\t\r\n\tpublic static String filewalk(String s) {\r\n\t\tString result = &quot;&quot;;\r\n\t\t// creates a file object\r\n\t\tFile file = new File(s);\r\n\t\t\r\n\t\t// returns an array of all files\r\n\t\tString[] fileList = file.list();\r\n\t\t\r\n\t\tfor (String str : fileList) {\r\n\t\t\tresult += str + &quot;\\n&quot;;\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n}\r\n```","title":"Whitelabel Error in Java Spring Web Application","body":"<p>I am trying to create a Java web application using Spring Tools that takes in a file path as a query parameter and returns the files at that given file path. However, I am getting a Whitelabel error when I run the application. I'm not sure if the issue is from the way I'm calling <code>Filewalk.java</code> or if it's because of an issue with how I'm formatting the request. I am new to Spring Tools and would appreciate anybody taking a look at my code and letting me know where I'm going wrong:</p>\n<p><strong>SpringBootExampleApplication.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.javavatutorial.tutorials;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@Controller\n@SpringBootApplication\npublic class SpringBootExampleApplication {\n\n    @RequestMapping(&quot;/file&quot;)\n    @ResponseBody\n    public String home(@RequestParam(&quot;filepath&quot;) String filepath) { \n        return Filewalk.filewalk(filepath);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootExampleApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Filewalk.java</strong> program that finds the files at a given file path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.javavatutorial.tutorials;\n\nimport java.io.File; \n\npublic class Filewalk {\n    \n    public static String filewalk(String s) {\n        String result = &quot;&quot;;\n        // creates a file object\n        File file = new File(s);\n        \n        // returns an array of all files\n        String[] fileList = file.list();\n        \n        for (String str : fileList) {\n            result += str + &quot;\\n&quot;;\n        }\n        \n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","data-structures","binary-tree","binary-search-tree","chop"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638097272,"creation_date":1638096804,"answer_id":70142678,"question_id":70141130,"body_markdown":"Indeed, your algorithm is not making use of the efficiency that you can get from the fact you are dealing with a binary search tree. So iterating through the tree with an in-order traversal is not the way to go.\r\n\r\nInstead, perform a binary search and cut the edges that link two nodes which should end up in different trees. While cutting you&#39;ll also need to reattach nodes to where a previous cut was performed. The complexity is the same as a binary search towards the bottom of the tree, and so it is O(logn).\r\n\r\nHere is an implementation that assumes you have the regular getters and setters:\r\n\r\n* on the `Node` class: `getLeft`, `setLeft`, `getRight`, `setRight`, `getValue`, and\r\n* on the `BinarySearchTree` class: `getRoot`, `setRoot`\r\n\r\n\r\n```\r\npublic BinarySearchTree&lt;Node,T&gt; chop(T x) {\r\n    // Create two temporary dummy (sentinel) nodes to ease the process.\r\n    Node rightRootParent = super.newNode();\r\n    Node leftRootParent = super.newNode();\r\n    \r\n    // Set &quot;cursors&quot; at both sides\r\n    Node rightParent = rightRootParent;\r\n    Node leftParent = leftRootParent;\r\n    \r\n    // Start the binary search for x, cutting edges as we walk down\r\n    Node node = this.getRoot();\r\n    while (node != null) {\r\n        // Decide for each node in the binary search path at which side it should go\r\n        if (c.compare(node.getValue(), x) &gt;= 0) {\r\n            // Node should belong to the right-side tree\r\n            rightParent.setLeft(node); // Establish edge\r\n            rightParent = node; \r\n            node = node.getLeft(); // Move down\r\n            rightParent.setLeft(null); // Cut next edge for now (it might get restored)\r\n        } else { // Symmetric case\r\n            leftParent.setRight(node);\r\n            leftParent = node;\r\n            node = node.getRight();\r\n            leftParent.setRight(null);\r\n        }\r\n    }\r\n    \r\n    // Set the roots of both trees\r\n    this.setRoot(leftRootParent.getRight());\r\n    return BinarySearchTree&lt;Node, T&gt;(rightRootParent.getLeft());\r\n}\r\n```\r\n\r\n\r\n","title":"How to make an efficient algorithm for chopping a binary search tree into two by given value?","body":"<p>Indeed, your algorithm is not making use of the efficiency that you can get from the fact you are dealing with a binary search tree. So iterating through the tree with an in-order traversal is not the way to go.</p>\n<p>Instead, perform a binary search and cut the edges that link two nodes which should end up in different trees. While cutting you'll also need to reattach nodes to where a previous cut was performed. The complexity is the same as a binary search towards the bottom of the tree, and so it is O(logn).</p>\n<p>Here is an implementation that assumes you have the regular getters and setters:</p>\n<ul>\n<li>on the <code>Node</code> class: <code>getLeft</code>, <code>setLeft</code>, <code>getRight</code>, <code>setRight</code>, <code>getValue</code>, and</li>\n<li>on the <code>BinarySearchTree</code> class: <code>getRoot</code>, <code>setRoot</code></li>\n</ul>\n<pre><code>public BinarySearchTree&lt;Node,T&gt; chop(T x) {\n    // Create two temporary dummy (sentinel) nodes to ease the process.\n    Node rightRootParent = super.newNode();\n    Node leftRootParent = super.newNode();\n    \n    // Set &quot;cursors&quot; at both sides\n    Node rightParent = rightRootParent;\n    Node leftParent = leftRootParent;\n    \n    // Start the binary search for x, cutting edges as we walk down\n    Node node = this.getRoot();\n    while (node != null) {\n        // Decide for each node in the binary search path at which side it should go\n        if (c.compare(node.getValue(), x) &gt;= 0) {\n            // Node should belong to the right-side tree\n            rightParent.setLeft(node); // Establish edge\n            rightParent = node; \n            node = node.getLeft(); // Move down\n            rightParent.setLeft(null); // Cut next edge for now (it might get restored)\n        } else { // Symmetric case\n            leftParent.setRight(node);\n            leftParent = node;\n            node = node.getRight();\n            leftParent.setRight(null);\n        }\n    }\n    \n    // Set the roots of both trees\n    this.setRoot(leftRootParent.getRight());\n    return BinarySearchTree&lt;Node, T&gt;(rightRootParent.getLeft());\n}\n</code></pre>\n"}],"owner":{"account_id":23476203,"reputation":9,"user_id":17528959,"display_name":"Nihal Modaress"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638138658,"creation_date":1638080449,"question_id":70141130,"body_markdown":"I implemented `public BinarySearchTree&lt;Node,T&gt; chop(T x)` \r\nthat chops my tree into two parts at element `x`. The SSet `this` will contain elements &lt; `x`, and the returned SSet is a SSet that contains elements &gt;= `x`. This should work for all elements regardless of whether they are in `this`. \r\n\r\nFor example, suppose `s={2,4,6,8}`. Then `s.chop(3)` returns `{4,6,8}` and `s` becomes `{2}`. We would get the same result for `s.chop(4)`.\r\n\r\nThe `slowChop` method is implemented, but it has a time complexity of O(n), but I need to reduce it to at least O(h) when the tree is balanced (where `h` is the height of the tree).\r\n\r\n```\r\npublic BinarySearchTree&lt;Node,T&gt; slowChop(T x) {\r\n    Node sample = super.newNode();\r\n    BinarySearchTree&lt;Node,T&gt; other = new \r\n    BinarySearchTree&lt;Node, T&gt;(sample);\r\n\r\n    // Iterate through the n nodes in-order.\r\n    // When see value &gt;=x, add to new BST in O(height) time, and\r\n    // remove it from this BST (on next iteration) in O(height) time.\r\n        Iterator&lt;T&gt; it = iterator();\r\n    T prev = null;\r\n    while( it.hasNext() ) {\r\n      T curr = (T)(it.next());\r\n      if( c.compare(curr, x) &gt;= 0 ) { // we have our first &gt;= x \r\nother.add(curr);\r\n        if( prev != null ) {\r\n          this.remove(prev);          // safe to remove now\r\n        }\r\n        prev = curr;\r\n      }\r\n    }\r\n    if( prev != null ) {\r\n      this.remove(prev); // edge case, get that last one!\r\n    }\r\n    return other; \r\n}\r\n```\r\n```\r\n\r\n public BinarySearchTree&lt;Node,T&gt; chop(T x) {\r\n\t\tNode sample = super.newNode();\r\n\t\tBinarySearchTree&lt;Node,T&gt; other = new \r\n        BinarySearchTree&lt;Node, T&gt;(sample);\r\n    // TODO: Implement this method. It should match slowChop in\r\n    // behaviour, but should be faster :-)\r\n\t\r\n\r\n\t\r\n    return other;\r\n  }\r\n```","title":"How to make an efficient algorithm for chopping a binary search tree into two by given value?","body":"<p>I implemented <code>public BinarySearchTree&lt;Node,T&gt; chop(T x)</code>\nthat chops my tree into two parts at element <code>x</code>. The SSet <code>this</code> will contain elements &lt; <code>x</code>, and the returned SSet is a SSet that contains elements &gt;= <code>x</code>. This should work for all elements regardless of whether they are in <code>this</code>.</p>\n<p>For example, suppose <code>s={2,4,6,8}</code>. Then <code>s.chop(3)</code> returns <code>{4,6,8}</code> and <code>s</code> becomes <code>{2}</code>. We would get the same result for <code>s.chop(4)</code>.</p>\n<p>The <code>slowChop</code> method is implemented, but it has a time complexity of O(n), but I need to reduce it to at least O(h) when the tree is balanced (where <code>h</code> is the height of the tree).</p>\n<pre><code>public BinarySearchTree&lt;Node,T&gt; slowChop(T x) {\n    Node sample = super.newNode();\n    BinarySearchTree&lt;Node,T&gt; other = new \n    BinarySearchTree&lt;Node, T&gt;(sample);\n\n    // Iterate through the n nodes in-order.\n    // When see value &gt;=x, add to new BST in O(height) time, and\n    // remove it from this BST (on next iteration) in O(height) time.\n        Iterator&lt;T&gt; it = iterator();\n    T prev = null;\n    while( it.hasNext() ) {\n      T curr = (T)(it.next());\n      if( c.compare(curr, x) &gt;= 0 ) { // we have our first &gt;= x \nother.add(curr);\n        if( prev != null ) {\n          this.remove(prev);          // safe to remove now\n        }\n        prev = curr;\n      }\n    }\n    if( prev != null ) {\n      this.remove(prev); // edge case, get that last one!\n    }\n    return other; \n}\n</code></pre>\n<pre><code>\n public BinarySearchTree&lt;Node,T&gt; chop(T x) {\n        Node sample = super.newNode();\n        BinarySearchTree&lt;Node,T&gt; other = new \n        BinarySearchTree&lt;Node, T&gt;(sample);\n    // TODO: Implement this method. It should match slowChop in\n    // behaviour, but should be faster :-)\n    \n\n    \n    return other;\n  }\n</code></pre>\n"},{"tags":["java","json","spring","spring-mvc"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1468507941,"post_id":38377311,"comment_id":64164938,"body_markdown":"Why are you using `MediaType.APPLICATION_JSON_VALUE` on `produces`, but a string literal on `consumes`? Why do you have `produces` and `@ResponseBody` when method doesn&#39;t produce anything? That may have confused Spring MVC to prevent mapping from working.","body":"Why are you using <code>MediaType.APPLICATION_JSON_VALUE</code> on <code>produces</code>, but a string literal on <code>consumes</code>? Why do you have <code>produces</code> and <code>@ResponseBody</code> when method doesn&#39;t produce anything? That may have confused Spring MVC to prevent mapping from working."},{"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"score":0,"creation_date":1468508404,"post_id":38377311,"comment_id":64165339,"body_markdown":"@Andreas, `MediaType.APPLICATION_JSON_VALUE` is just a constant to `&quot;application/json&quot;`, so I dont think that this is the problem.\nAnyway, I removed `produces` and `@ResponseBody` and I still in the same issue.","body":"@Andreas, <code>MediaType.APPLICATION_JSON_VALUE</code> is just a constant to <code>&quot;application&#47;json&quot;</code>, so I dont think that this is the problem. Anyway, I removed <code>produces</code> and <code>@ResponseBody</code> and I still in the same issue."},{"owner":{"account_id":114769,"reputation":5726,"user_id":301650,"accept_rate":56,"display_name":"Nikem"},"score":0,"creation_date":1468508454,"post_id":38377311,"comment_id":64165381,"body_markdown":"@PedroH why do you need this `consumes` attribute at all? It serves only to make mapping more specific. Remove it and try again.","body":"@PedroH why do you need this <code>consumes</code> attribute at all? It serves only to make mapping more specific. Remove it and try again."},{"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"score":0,"creation_date":1468508625,"post_id":38377311,"comment_id":64165511,"body_markdown":"@Nikem, thanks, but I removed `consumes` and I&#39;m in the same issue.","body":"@Nikem, thanks, but I removed <code>consumes</code> and I&#39;m in the same issue."},{"owner":{"account_id":2817991,"reputation":3469,"user_id":2422530,"accept_rate":56,"display_name":"Pallav Jha"},"score":0,"creation_date":1468508969,"post_id":38377311,"comment_id":64165769,"body_markdown":"try adding Content-Type as application/json while sending the request, i.e., in your ajax method or in the postman","body":"try adding Content-Type as application/json while sending the request, i.e., in your ajax method or in the postman"},{"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"score":0,"creation_date":1468509189,"post_id":38377311,"comment_id":64165927,"body_markdown":"I tried with and without the content-type in the request header. But still not working","body":"I tried with and without the content-type in the request header. But still not working"},{"owner":{"account_id":7677535,"reputation":10742,"user_id":5817888,"accept_rate":33,"display_name":"J&#233;r&#233;mie B"},"score":1,"creation_date":1468510035,"post_id":38377311,"comment_id":64166579,"body_markdown":"Don&#39;t mix different versions of jackson component. And be sure you version of jackson you want to use is compatible with the version of Spring MVC you use.","body":"Don&#39;t mix different versions of jackson component. And be sure you version of jackson you want to use is compatible with the version of Spring MVC you use."},{"owner":{"account_id":114769,"reputation":5726,"user_id":301650,"accept_rate":56,"display_name":"Nikem"},"score":0,"creation_date":1468521741,"post_id":38377311,"comment_id":64173534,"body_markdown":"@PedroH I have reworked my answer. Works for me :)","body":"@PedroH I have reworked my answer. Works for me :)"},{"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"score":0,"creation_date":1468522391,"post_id":38377311,"comment_id":64173968,"body_markdown":"Thaks @Nikem, I&#39;ll test it!","body":"Thaks @Nikem, I&#39;ll test it!"}],"answers":[{"tags":[],"owner":{"account_id":8563155,"reputation":1009,"user_id":6416551,"display_name":"Wilder Valera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468516762,"creation_date":1468510380,"answer_id":38378402,"question_id":38377311,"body_markdown":"Add this &lt;i&gt;Bean&lt;/i&gt; in your webconfig class\r\n\r\n    @Bean\r\n\tpublic ContentNegotiatingViewResolver contentViewResolver() {\r\n\t\tContentNegotiationManagerFactoryBean contentNegotiationManager = new ContentNegotiationManagerFactoryBean();\r\n\t\tcontentNegotiationManager.addMediaType(&quot;json&quot;, MediaType.APPLICATION_JSON);\r\n\r\n\t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n\t\tviewResolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\r\n\t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n\r\n\t\tMappingJackson2JsonView defaultView = new MappingJackson2JsonView();\r\n\t\tdefaultView.setExtractValueFromSingleKeyModel(true);\r\n\r\n\t\tContentNegotiatingViewResolver contentViewResolver = new ContentNegotiatingViewResolver();\r\n\t\tcontentViewResolver.setContentNegotiationManager(contentNegotiationManager.getObject());\r\n\t\tcontentViewResolver.setViewResolvers(Arrays.&lt;ViewResolver&gt; asList(viewResolver));\r\n\t\tcontentViewResolver.setDefaultViews(Arrays.&lt;View&gt; asList(defaultView));\r\n\t\treturn contentViewResolver;\r\n\t}\r\n\r\n**UPDATE**\r\n\r\nThe guys from the comments are right, this won&#39;t fix your issue but I noticed something.\r\n\r\nIf I set consumes = MediaType.APPLICATION_JSON_VALUE and in the request I don&#39;t specify the content type it will throw an exception then if I set the content type the issue is fixed. \r\n\r\nNow, the issue seems to be something with your dependencies.\r\n\r\nMy pom dependencies:\r\n\r\n     &lt;properties&gt;\r\n         &lt;springframework.version&gt;4.1.9.RELEASE&lt;/springframework.version&gt;\r\n         &lt;springframework.security.oauth.version&gt;2.0.9.RELEASE&lt;/springframework.security.oauth.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        ...\r\n\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;version&gt;${springframework.security.oauth.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        ...\r\n\r\n    &lt;/dependencies&gt;","title":"Content type &#39;application/json&#39; not supported in Spring MVC and jackson","body":"<p>Add this <i>Bean</i> in your webconfig class</p>\n\n<pre><code>@Bean\npublic ContentNegotiatingViewResolver contentViewResolver() {\n    ContentNegotiationManagerFactoryBean contentNegotiationManager = new ContentNegotiationManagerFactoryBean();\n    contentNegotiationManager.addMediaType(\"json\", MediaType.APPLICATION_JSON);\n\n    InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n    viewResolver.setPrefix(\"/WEB-INF/jsp/\");\n    viewResolver.setSuffix(\".jsp\");\n\n    MappingJackson2JsonView defaultView = new MappingJackson2JsonView();\n    defaultView.setExtractValueFromSingleKeyModel(true);\n\n    ContentNegotiatingViewResolver contentViewResolver = new ContentNegotiatingViewResolver();\n    contentViewResolver.setContentNegotiationManager(contentNegotiationManager.getObject());\n    contentViewResolver.setViewResolvers(Arrays.&lt;ViewResolver&gt; asList(viewResolver));\n    contentViewResolver.setDefaultViews(Arrays.&lt;View&gt; asList(defaultView));\n    return contentViewResolver;\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The guys from the comments are right, this won't fix your issue but I noticed something.</p>\n\n<p>If I set consumes = MediaType.APPLICATION_JSON_VALUE and in the request I don't specify the content type it will throw an exception then if I set the content type the issue is fixed. </p>\n\n<p>Now, the issue seems to be something with your dependencies.</p>\n\n<p>My pom dependencies:</p>\n\n<pre><code> &lt;properties&gt;\n     &lt;springframework.version&gt;4.1.9.RELEASE&lt;/springframework.version&gt;\n     &lt;springframework.security.oauth.version&gt;2.0.9.RELEASE&lt;/springframework.security.oauth.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    ...\n\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;${springframework.security.oauth.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    ...\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114769,"reputation":5726,"user_id":301650,"accept_rate":56,"display_name":"Nikem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1468521704,"creation_date":1468521704,"answer_id":38381864,"question_id":38377311,"body_markdown":"Here is my working example:\r\n\r\n    @SpringBootApplication\r\n    @Controller\r\n    public class Application {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(Application.class);\r\n      }\r\n    \r\n    \r\n      @RequestMapping(value = &quot;/testing&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      @ResponseBody\r\n      private void testing(@RequestBody Request body, @RequestHeader HttpHeaders headers, HttpServletRequest httpRequest) {\r\n        System.out.println(body.getTest());\r\n      }\r\n    }\r\n\r\nThis project has only 1 dependency:\r\n\r\n    org.springframework.boot:spring-boot-starter-web\r\n\r\nWhen I call the url like this:\r\n\r\n    curl -XPOST -v -d &#39;{ &quot;test&quot;: &quot;abc123&quot; }&#39; -H &quot;Content-type: application/json&quot; http://localhost:8080/testing\r\n\r\nI see the correct `abc123` in the logs. If I remove `Content-type` header I get the exception\r\n\r\n    org.springframework.web.HttpMediaTypeNotSupportedException&quot;,&quot;message&quot;:&quot;Content type &#39;application/x-www-form-urlencoded&#39; not supported","title":"Content type &#39;application/json&#39; not supported in Spring MVC and jackson","body":"<p>Here is my working example:</p>\n\n<pre><code>@SpringBootApplication\n@Controller\npublic class Application {\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class);\n  }\n\n\n  @RequestMapping(value = \"/testing\", method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n  @ResponseBody\n  private void testing(@RequestBody Request body, @RequestHeader HttpHeaders headers, HttpServletRequest httpRequest) {\n    System.out.println(body.getTest());\n  }\n}\n</code></pre>\n\n<p>This project has only 1 dependency:</p>\n\n<pre><code>org.springframework.boot:spring-boot-starter-web\n</code></pre>\n\n<p>When I call the url like this:</p>\n\n<pre><code>curl -XPOST -v -d '{ \"test\": \"abc123\" }' -H \"Content-type: application/json\" http://localhost:8080/testing\n</code></pre>\n\n<p>I see the correct <code>abc123</code> in the logs. If I remove <code>Content-type</code> header I get the exception</p>\n\n<pre><code>org.springframework.web.HttpMediaTypeNotSupportedException\",\"message\":\"Content type 'application/x-www-form-urlencoded' not supported\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1509733155,"creation_date":1509733155,"answer_id":47102217,"question_id":38377311,"body_markdown":"In my case the problem was an addition to a dto of a property which having a type that was error prone for Jackson, it was of type JsonObject. Jackson was unable to deserialize other objects because of that addition.  \r\n**The exception message is completely inaccurate!**","title":"Content type &#39;application/json&#39; not supported in Spring MVC and jackson","body":"<p>In my case the problem was an addition to a dto of a property which having a type that was error prone for Jackson, it was of type JsonObject. Jackson was unable to deserialize other objects because of that addition.<br>\n<strong>The exception message is completely inaccurate!</strong></p>\n"},{"tags":[],"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541449931,"creation_date":1541449931,"answer_id":53161780,"question_id":38377311,"body_markdown":"For anyone else looking for this problem, I had to have at least one public variable or a getter on my Pojo class. ","title":"Content type &#39;application/json&#39; not supported in Spring MVC and jackson","body":"<p>For anyone else looking for this problem, I had to have at least one public variable or a getter on my Pojo class. </p>\n"},{"tags":[],"owner":{"account_id":4405831,"reputation":2663,"user_id":3590283,"display_name":"Sheikh Abdul Wahid"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1558656997,"creation_date":1558656997,"answer_id":56284384,"question_id":38377311,"body_markdown":"I had same issue. finally i resolved it. Actual error was in `jackson` lib. Here is the location and code snippet. \r\n\r\n    /* \\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.6.5\\jackson-databind-2.6.5-sources.jar!\\com\\fasterxml\\jackson\\databind\\DeserializationContext.java  406 */\r\n    \r\n    \r\n    public boolean hasValueDeserializerFor(JavaType type, AtomicReference&lt;Throwable&gt; cause) {\r\n            try {\r\n                return _cache.hasValueDeserializerFor(this, _factory, type);\r\n            } catch (JsonMappingException e) {\r\n                if (cause != null) {\r\n                    cause.set(e);\r\n                }\r\n            } catch (RuntimeException e) {\r\n                if (cause == null) { // earlier behavior\r\n                    throw e;\r\n                }\r\n                cause.set(e);\r\n            }\r\n            return false;\r\n        }\r\n\r\n","title":"Content type &#39;application/json&#39; not supported in Spring MVC and jackson","body":"<p>I had same issue. finally i resolved it. Actual error was in <code>jackson</code> lib. Here is the location and code snippet. </p>\n\n<pre><code>/* \\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.6.5\\jackson-databind-2.6.5-sources.jar!\\com\\fasterxml\\jackson\\databind\\DeserializationContext.java  406 */\n\n\npublic boolean hasValueDeserializerFor(JavaType type, AtomicReference&lt;Throwable&gt; cause) {\n        try {\n            return _cache.hasValueDeserializerFor(this, _factory, type);\n        } catch (JsonMappingException e) {\n            if (cause != null) {\n                cause.set(e);\n            }\n        } catch (RuntimeException e) {\n            if (cause == null) { // earlier behavior\n                throw e;\n            }\n            cause.set(e);\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19070122,"reputation":109,"user_id":13924481,"display_name":"Little Bug"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638138415,"creation_date":1638138415,"answer_id":70148015,"question_id":38377311,"body_markdown":"For those who use **Spring Framework**, **not** Spring Boot, and encounter this problem.\r\n\r\nThe **root** of this problem is: \r\n\r\n - Spring need to ① **recognize** the &quot;Content-Type&quot;, and ② **convert\r\n   the content** to the **parameter type** we declared in the method&#39;s\r\n   signature.\r\n   \r\n - The &#39;**application/json**&#39; is not supported, because, **by default**,\r\n   the Spring cannot find a **proper HttpMessageConverter** to do the **converting job**, which is step ②.\r\n\r\n**Solution**:\r\n\r\n - We **manually** add a proper **HttpMessageConverter** into the\r\n   **Spring&#39;s configuration** of **our application**.\r\n\r\nSteps:\r\n\r\n 1. Choose the **HttpMessageConverter&#39;s class** we want to use. For Json, we\r\n    can choose from\r\n    &quot;org.springframework.http.converter.json.**JsonbHttpMessageConverter**&quot;,\r\n    &quot;org.springframework.http.converter.json.**MappingJackson2HttpMessageConverter**&quot;,\r\n    and **so on**.\r\n 2. Add the **JsonbHttpMessageConverter object** (or other kinds of Json\r\n    HttpMessageConverter **object**) to **Spring&#39;s configuration**, by calling\r\n    the &quot;public void\r\n    **configureMessageConverters**(List&lt;HttpMessageConverter&lt;?&gt;&gt;\r\n    converters)&quot; method of the **&quot;WebMvcConfigurer&quot; implementation class**\r\n    in our application. Inside the method, we can **add any\r\n    HttpMessageConverter object** as needed, by using &quot;**converters.add()**&quot;.\r\n\r\n 3. Add **correspond dependency** into &quot;pom.xml&quot; file. For example, if you\r\n    use the &quot;**JsonbHttpMessageConverter**&quot;, then you need to add the\r\n    dependencies of &quot;**javax.json.bind-api**&quot; and &quot;**yasson**&quot;.","title":"Content type &#39;application/json&#39; not supported in Spring MVC and jackson","body":"<p>For those who use <strong>Spring Framework</strong>, <strong>not</strong> Spring Boot, and encounter this problem.</p>\n<p>The <strong>root</strong> of this problem is:</p>\n<ul>\n<li><p>Spring need to ① <strong>recognize</strong> the &quot;Content-Type&quot;, and ② <strong>convert\nthe content</strong> to the <strong>parameter type</strong> we declared in the method's\nsignature.</p>\n</li>\n<li><p>The '<strong>application/json</strong>' is not supported, because, <strong>by default</strong>,\nthe Spring cannot find a <strong>proper HttpMessageConverter</strong> to do the <strong>converting job</strong>, which is step ②.</p>\n</li>\n</ul>\n<p><strong>Solution</strong>:</p>\n<ul>\n<li>We <strong>manually</strong> add a proper <strong>HttpMessageConverter</strong> into the\n<strong>Spring's configuration</strong> of <strong>our application</strong>.</li>\n</ul>\n<p>Steps:</p>\n<ol>\n<li><p>Choose the <strong>HttpMessageConverter's class</strong> we want to use. For Json, we\ncan choose from\n&quot;org.springframework.http.converter.json.<strong>JsonbHttpMessageConverter</strong>&quot;,\n&quot;org.springframework.http.converter.json.<strong>MappingJackson2HttpMessageConverter</strong>&quot;,\nand <strong>so on</strong>.</p>\n</li>\n<li><p>Add the <strong>JsonbHttpMessageConverter object</strong> (or other kinds of Json\nHttpMessageConverter <strong>object</strong>) to <strong>Spring's configuration</strong>, by calling\nthe &quot;public void\n<strong>configureMessageConverters</strong>(List&lt;HttpMessageConverter&lt;?&gt;&gt;\nconverters)&quot; method of the <strong>&quot;WebMvcConfigurer&quot; implementation class</strong>\nin our application. Inside the method, we can <strong>add any\nHttpMessageConverter object</strong> as needed, by using &quot;<strong>converters.add()</strong>&quot;.</p>\n</li>\n<li><p>Add <strong>correspond dependency</strong> into &quot;pom.xml&quot; file. For example, if you\nuse the &quot;<strong>JsonbHttpMessageConverter</strong>&quot;, then you need to add the\ndependencies of &quot;<strong>javax.json.bind-api</strong>&quot; and &quot;<strong>yasson</strong>&quot;.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3761306,"reputation":1040,"user_id":3126207,"accept_rate":67,"display_name":"pedrohreis"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45483,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":38381864,"answer_count":6,"score":7,"last_activity_date":1638138415,"creation_date":1468507565,"question_id":38377311,"body_markdown":"  I&#39;m getting an error (Handler execution resulted in exception: Content type &#39;application/json&#39; not supported) when trying to receive a post request using Spring MVC.\r\n\r\n  My Json, just for testing, is pretty simple:\r\n\r\n    { &quot;test&quot;: &quot;abc123&quot; }\r\n\r\n  My pojo class:\r\n\r\n    public class Request {\r\n\t\r\n\t    String test;\r\n\t\r\n\t    public String getTest() {\r\n\t\t    return test;\r\n\t    }\r\n\r\n\t    public void setTest(String test) {\r\n\t\t    this.test = test;\r\n\t    }\r\n\r\n    }\r\n\r\n   And my controller:\r\n\r\n\t@RequestMapping(value = &quot;/testing&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\tprivate void testing(@RequestBody Request body, @RequestHeader HttpHeaders headers, HttpServletRequest httpRequest) {\r\n\t\tSystem.out.println(body.getTest());\r\n\t}\r\n\r\n   In my pom.xml, I added: \r\n\r\n    &lt;dependencies&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t        &lt;version&gt;1.8.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n   I think that something is wrong in json deserialization, but I cannot find it.\r\n\r\n   Any help is welcome. Thanks.","title":"Content type &#39;application/json&#39; not supported in Spring MVC and jackson","body":"<p>I'm getting an error (Handler execution resulted in exception: Content type 'application/json' not supported) when trying to receive a post request using Spring MVC.</p>\n\n<p>My Json, just for testing, is pretty simple:</p>\n\n<pre><code>{ \"test\": \"abc123\" }\n</code></pre>\n\n<p>My pojo class:</p>\n\n<pre><code>public class Request {\n\n    String test;\n\n    public String getTest() {\n        return test;\n    }\n\n    public void setTest(String test) {\n        this.test = test;\n    }\n\n}\n</code></pre>\n\n<p>And my controller:</p>\n\n<pre><code>@RequestMapping(value = \"/testing\", method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\nprivate void testing(@RequestBody Request body, @RequestHeader HttpHeaders headers, HttpServletRequest httpRequest) {\n    System.out.println(body.getTest());\n}\n</code></pre>\n\n<p>In my pom.xml, I added: </p>\n\n<pre><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I think that something is wrong in json deserialization, but I cannot find it.</p>\n\n<p>Any help is welcome. Thanks.</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638130756,"post_id":70146501,"comment_id":124000011,"body_markdown":"What are you trying to accomplish with the MIN MAX and `plusDays`? I am baffled. If you explain your goal, perhaps we can better guide you. At a minimum, I suspect you need to learn about the Half-Open approach to defining a span of time.","body":"What are you trying to accomplish with the MIN MAX and <code>plusDays</code>? I am baffled. If you explain your goal, perhaps we can better guide you. At a minimum, I suspect you need to learn about the Half-Open approach to defining a span of time."},{"owner":{"account_id":7525883,"reputation":35,"user_id":5716073,"accept_rate":40,"display_name":"DBANerd"},"score":0,"creation_date":1638131284,"post_id":70146501,"comment_id":124000135,"body_markdown":"I know half open approach. Here is my requirement, User enters two timestamps, I need convert that into  different outputs based on no of days between the user input.","body":"I know half open approach. Here is my requirement, User enters two timestamps, I need convert that into  different outputs based on no of days between the user input."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1638131546,"post_id":70146501,"comment_id":124000211,"body_markdown":"Provide explanations as edits to your question, not as comments.","body":"Provide explanations as edits to your question, not as comments."}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638129850,"creation_date":1638126990,"answer_id":70146674,"question_id":70146501,"body_markdown":"You also need to parse the output. Therefore you can use the already defined `DateTimeFormatter`, which has a `parse` method.\r\n\r\nCode for the output:\r\n```java\r\nSystem.out.println(totalDates.get(i).format(formatter));\r\n```\r\nAlso you have one additional line in your output. This one comes from the line where you set `localStartTime = localStartTime.with(LocalTime.MIN);`. Here i would suggest this change:\r\n\r\n```java\r\nLocalDateTime workingStartTime = localStartTime;\r\n\r\nList&lt;LocalDateTime&gt; totalDates = new ArrayList&lt;&gt;();\r\nwhile (!workingStartTime.isAfter(localEndTime)) {\r\n  if(!workingStartTime.equals(localStartTime)) {\r\n    workingStartTime = workingStartTime.with(LocalTime.MIN);\r\n  }\r\n  totalDates.add(workingStartTime);\r\n  totalDates.add(workingStartTime.with(LocalTime.MAX));\r\n  workingStartTime = workingStartTime.plusDays(1);\r\n}\r\n```\r\n\r\n**Edit: Solution using streams and flatMap**\r\n\r\nHere is how you build the final List with streams (no extra adding of the last day is needed):\r\n```java\r\nList&lt;LocalDateTime&gt; totalDates = localStartTime.toLocalDate().datesUntil(localEndTime.toLocalDate().plusDays(1))\r\n    .flatMap(date -&gt; Stream.of(\r\n        date.equals(localStartTime.toLocalDate()) ? LocalDateTime.of(date, localStartTime.toLocalTime()) : LocalDateTime.of(date, LocalTime.MIN),\r\n        date.equals(localEndTime.toLocalDate()) ? LocalDateTime.of(date, localEndTime.toLocalTime()) : LocalDateTime.of(date, LocalTime.MAX))\r\n    )\r\n    .collect(Collectors.toList());\r\n```","title":"Print Datetime between Two timestamps in Java","body":"<p>You also need to parse the output. Therefore you can use the already defined <code>DateTimeFormatter</code>, which has a <code>parse</code> method.</p>\n<p>Code for the output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(totalDates.get(i).format(formatter));\n</code></pre>\n<p>Also you have one additional line in your output. This one comes from the line where you set <code>localStartTime = localStartTime.with(LocalTime.MIN);</code>. Here i would suggest this change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime workingStartTime = localStartTime;\n\nList&lt;LocalDateTime&gt; totalDates = new ArrayList&lt;&gt;();\nwhile (!workingStartTime.isAfter(localEndTime)) {\n  if(!workingStartTime.equals(localStartTime)) {\n    workingStartTime = workingStartTime.with(LocalTime.MIN);\n  }\n  totalDates.add(workingStartTime);\n  totalDates.add(workingStartTime.with(LocalTime.MAX));\n  workingStartTime = workingStartTime.plusDays(1);\n}\n</code></pre>\n<p><strong>Edit: Solution using streams and flatMap</strong></p>\n<p>Here is how you build the final List with streams (no extra adding of the last day is needed):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;LocalDateTime&gt; totalDates = localStartTime.toLocalDate().datesUntil(localEndTime.toLocalDate().plusDays(1))\n    .flatMap(date -&gt; Stream.of(\n        date.equals(localStartTime.toLocalDate()) ? LocalDateTime.of(date, localStartTime.toLocalTime()) : LocalDateTime.of(date, LocalTime.MIN),\n        date.equals(localEndTime.toLocalDate()) ? LocalDateTime.of(date, localEndTime.toLocalTime()) : LocalDateTime.of(date, LocalTime.MAX))\n    )\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638137556,"creation_date":1638127333,"answer_id":70146706,"question_id":70146501,"body_markdown":"\r\n```\r\nString startTime = &quot;11/26/2021 11:00 PM&quot;;\r\nString endTime = &quot;11/28/2021 04:00 AM&quot;;\r\n\r\nDateTimeFormatter dtf =\r\n\t\tDateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;);\r\nLocalDateTime start = LocalDateTime.parse(startTime, dtf);\r\nLocalDateTime end = LocalDateTime.parse(endTime, dtf);\r\n```\r\n- Start streaming the dates as given\r\n- then create an inner stream by creating two `LocalDateTime` instances using the current `LocalDate` instance.\r\n   - current datetime by `1 minute` before midnight\r\n   - current datetime by `1 day` ahead of midnight\r\n- then `flatMap` that stream and put the datetimes in a linked list.\r\n- to finish, add the current start `LocalDateTime` to the beginning of the list\r\n- and the ending `LocalDateTime` to the end of the list\r\n```\r\nList&lt;LocalDateTime&gt; list =\r\n\t\tstart.toLocalDate().datesUntil(end.toLocalDate())\r\n\t\t\t\t.flatMap(date -&gt; Stream.of(\r\n\t\t\t\t\t\tdate.atTime(23,59),\r\n\t\t\t\t\t\tdate.atTime(0,0).plusDays(1)))\r\n\t\t\t\t.collect(Collectors\r\n\t\t\t\t\t\t.toCollection(LinkedList::new));\r\nlist.add(0, start);\r\nlist.add(end);\r\nlist.forEach(d -&gt; System.out.println(d.format(dtf)));\r\n```\r\nprints\r\n```\r\n11/26/2021 11:00 PM\r\n11/26/2021 11:59 PM\r\n11/27/2021 12:00 AM\r\n11/27/2021 11:59 PM\r\n11/28/2021 12:00 AM\r\n11/28/2021 04:00 AM\r\n","title":"Print Datetime between Two timestamps in Java","body":"<pre><code>String startTime = &quot;11/26/2021 11:00 PM&quot;;\nString endTime = &quot;11/28/2021 04:00 AM&quot;;\n\nDateTimeFormatter dtf =\n        DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;);\nLocalDateTime start = LocalDateTime.parse(startTime, dtf);\nLocalDateTime end = LocalDateTime.parse(endTime, dtf);\n</code></pre>\n<ul>\n<li>Start streaming the dates as given</li>\n<li>then create an inner stream by creating two <code>LocalDateTime</code> instances using the current <code>LocalDate</code> instance.\n<ul>\n<li>current datetime by <code>1 minute</code> before midnight</li>\n<li>current datetime by <code>1 day</code> ahead of midnight</li>\n</ul>\n</li>\n<li>then <code>flatMap</code> that stream and put the datetimes in a linked list.</li>\n<li>to finish, add the current start <code>LocalDateTime</code> to the beginning of the list</li>\n<li>and the ending <code>LocalDateTime</code> to the end of the list</li>\n</ul>\n<pre><code>List&lt;LocalDateTime&gt; list =\n        start.toLocalDate().datesUntil(end.toLocalDate())\n                .flatMap(date -&gt; Stream.of(\n                        date.atTime(23,59),\n                        date.atTime(0,0).plusDays(1)))\n                .collect(Collectors\n                        .toCollection(LinkedList::new));\nlist.add(0, start);\nlist.add(end);\nlist.forEach(d -&gt; System.out.println(d.format(dtf)));\n</code></pre>\n<p>prints</p>\n<pre><code>11/26/2021 11:00 PM\n11/26/2021 11:59 PM\n11/27/2021 12:00 AM\n11/27/2021 11:59 PM\n11/28/2021 12:00 AM\n11/28/2021 04:00 AM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7525883,"reputation":35,"user_id":5716073,"accept_rate":40,"display_name":"DBANerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638131155,"creation_date":1638130325,"answer_id":70147101,"question_id":70146501,"body_markdown":"This seems to work. If there are other elegant ways to do this.. Please let me know. \r\n```java\r\npublic static void main(String[] args) {\r\n\r\n\tString StartTime = &quot;02/27/2021 11:00 PM&quot;;\r\n\tString EndTime = &quot;03/02/2021 01:00 PM&quot;;\r\n\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;);\r\n\tLocalDate localStartDate = LocalDate.parse(StartTime, formatter);\r\n\tLocalDate localEndDate = LocalDate.parse(EndTime, formatter);\r\n\r\n\tLocalDateTime localStartTime = LocalDateTime.parse(StartTime, formatter);\r\n\tLocalDateTime localEndTime = LocalDateTime.parse(EndTime, formatter);\r\n\r\n\tList&lt;LocalDateTime&gt; totalDates = new ArrayList&lt;&gt;();\r\n\twhile (localEndDate.isAfter(localStartDate)) {\r\n\r\n\t\ttotalDates.add(localStartTime);\r\n\t\ttotalDates.add(localStartTime.with(LocalTime.MAX));\r\n\r\n\t\tif (!localStartDate.equals(localEndDate)) {\r\n\t\t\tlocalStartTime = localStartTime.plusDays(1).with(LocalTime.MIN);\r\n\t\t}\r\n\t\tlocalStartDate = localStartDate.plusDays(1);\r\n\r\n\t}\r\n\r\n\ttotalDates.add(localEndTime.with(LocalTime.MIN));\r\n\ttotalDates.add(localEndTime);\r\n\r\n\tfor (int i = 0; i &lt; totalDates.size(); i++) {\r\n\t\tSystem.out.print(formatter.format(totalDates.get(i)) + &quot;\\n&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Print Datetime between Two timestamps in Java","body":"<p>This seems to work. If there are other elegant ways to do this.. Please let me know.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    String StartTime = &quot;02/27/2021 11:00 PM&quot;;\n    String EndTime = &quot;03/02/2021 01:00 PM&quot;;\n\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;);\n    LocalDate localStartDate = LocalDate.parse(StartTime, formatter);\n    LocalDate localEndDate = LocalDate.parse(EndTime, formatter);\n\n    LocalDateTime localStartTime = LocalDateTime.parse(StartTime, formatter);\n    LocalDateTime localEndTime = LocalDateTime.parse(EndTime, formatter);\n\n    List&lt;LocalDateTime&gt; totalDates = new ArrayList&lt;&gt;();\n    while (localEndDate.isAfter(localStartDate)) {\n\n        totalDates.add(localStartTime);\n        totalDates.add(localStartTime.with(LocalTime.MAX));\n\n        if (!localStartDate.equals(localEndDate)) {\n            localStartTime = localStartTime.plusDays(1).with(LocalTime.MIN);\n        }\n        localStartDate = localStartDate.plusDays(1);\n\n    }\n\n    totalDates.add(localEndTime.with(LocalTime.MIN));\n    totalDates.add(localEndTime);\n\n    for (int i = 0; i &lt; totalDates.size(); i++) {\n        System.out.print(formatter.format(totalDates.get(i)) + &quot;\\n&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7525883,"reputation":35,"user_id":5716073,"accept_rate":40,"display_name":"DBANerd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70146706,"answer_count":3,"score":1,"last_activity_date":1638137556,"creation_date":1638125670,"question_id":70146501,"body_markdown":"Here is my requirement. Pretty sure there is an elegant way to do this. Need your help. I need to build a backend program to process and insert multiple dates into a table using start and end time selected by user.\r\n\r\n**Input:** \r\n\r\n    StartTime: 11/26/2021 11:00 PM\r\n    EndTime: 11/28/2021 04:00 AM\r\n\r\n**Output I am expecting**\r\n\r\n    11/26/2021 11:00 PM\r\n    11/26/2021 11:59 PM\r\n    11/27/2021 12:00 AM\r\n    11/27/2021 11:59 PM\r\n    11/28/2021 12:00 AM\r\n    11/28/2021 04:00 AM\r\n\r\n**My Code**\r\n\r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tString StartTime = &quot;11/27/2021 11:00 PM&quot;;\r\n    \t\tString EndTime = &quot;11/29/2021 04:00 AM&quot;;\r\n    \t\t\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;);\r\n            LocalDate localStartDate = LocalDate.parse(StartTime, formatter);\r\n            LocalDate localEndDate = LocalDate.parse(EndTime, formatter);\r\n    \r\n            LocalDateTime  localStartTime = LocalDateTime.parse(StartTime,formatter);\r\n            LocalDateTime  localEndTime = LocalDateTime.parse(EndTime,formatter);\r\n            \r\n    \t    \r\n    \t    List&lt;LocalDateTime&gt; totalDates = new ArrayList&lt;&gt;();\r\n    \t    while (!localStartTime.isAfter(localEndTime)) {\r\n    \t        totalDates.add(localStartTime);\r\n    \t        totalDates.add(localStartTime.with(LocalTime.MAX));\r\n    \t        localStartTime = localStartTime.plusDays(1);\r\n    \t        localStartTime = localStartTime.with(LocalTime.MIN);\r\n    \t    }\r\n    \t    \r\n    \t    totalDates.add(localEndTime.with(LocalTime.MIN));\r\n    \t    totalDates.add(localEndTime);\r\n    \t    \r\n    \t    for (int i = 0; i &lt; totalDates.size(); i++) {\r\n    \t    \tSystem.out.print(totalDates.get(i) + &quot;\\n&quot;);\r\n    \t    }\r\n    \r\n    \t}\r\n\r\n**My Output:**\r\n\r\n    2021-11-27T23:00\r\n    2021-11-27T23:59:59.999999999\r\n    2021-11-28T00:00\r\n    2021-11-28T23:59:59.999999999\r\n    2021-11-29T00:00\r\n    2021-11-29T23:59:59.999999999\r\n    2021-11-29T00:00\r\n    2021-11-29T04:00\r\n\r\n\r\n","title":"Print Datetime between Two timestamps in Java","body":"<p>Here is my requirement. Pretty sure there is an elegant way to do this. Need your help. I need to build a backend program to process and insert multiple dates into a table using start and end time selected by user.</p>\n<p><strong>Input:</strong></p>\n<pre><code>StartTime: 11/26/2021 11:00 PM\nEndTime: 11/28/2021 04:00 AM\n</code></pre>\n<p><strong>Output I am expecting</strong></p>\n<pre><code>11/26/2021 11:00 PM\n11/26/2021 11:59 PM\n11/27/2021 12:00 AM\n11/27/2021 11:59 PM\n11/28/2021 12:00 AM\n11/28/2021 04:00 AM\n</code></pre>\n<p><strong>My Code</strong></p>\n<pre><code>public static void main(String[] args) {\n        \n        String StartTime = &quot;11/27/2021 11:00 PM&quot;;\n        String EndTime = &quot;11/29/2021 04:00 AM&quot;;\n        \n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy hh:mm a&quot;);\n        LocalDate localStartDate = LocalDate.parse(StartTime, formatter);\n        LocalDate localEndDate = LocalDate.parse(EndTime, formatter);\n\n        LocalDateTime  localStartTime = LocalDateTime.parse(StartTime,formatter);\n        LocalDateTime  localEndTime = LocalDateTime.parse(EndTime,formatter);\n        \n        \n        List&lt;LocalDateTime&gt; totalDates = new ArrayList&lt;&gt;();\n        while (!localStartTime.isAfter(localEndTime)) {\n            totalDates.add(localStartTime);\n            totalDates.add(localStartTime.with(LocalTime.MAX));\n            localStartTime = localStartTime.plusDays(1);\n            localStartTime = localStartTime.with(LocalTime.MIN);\n        }\n        \n        totalDates.add(localEndTime.with(LocalTime.MIN));\n        totalDates.add(localEndTime);\n        \n        for (int i = 0; i &lt; totalDates.size(); i++) {\n            System.out.print(totalDates.get(i) + &quot;\\n&quot;);\n        }\n\n    }\n</code></pre>\n<p><strong>My Output:</strong></p>\n<pre><code>2021-11-27T23:00\n2021-11-27T23:59:59.999999999\n2021-11-28T00:00\n2021-11-28T23:59:59.999999999\n2021-11-29T00:00\n2021-11-29T23:59:59.999999999\n2021-11-29T00:00\n2021-11-29T04:00\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-hateoas"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1604311706,"post_id":64643257,"comment_id":114299235,"body_markdown":"The bi-directional relationship is a root of the problem here. Is it neccesary to use it?","body":"The bi-directional relationship is a root of the problem here. Is it neccesary to use it?"},{"owner":{"account_id":16618576,"reputation":21,"user_id":12009561,"display_name":"Christian Hufgard"},"score":0,"creation_date":1604401525,"post_id":64643257,"comment_id":114330758,"body_markdown":"Luckily it is not and I could delete it. (Figured that out yesterday on myself :). But why isn&#39;t the excerpt used? When I call the published repository directly it is used.","body":"Luckily it is not and I could delete it. (Figured that out yesterday on myself :). But why isn&#39;t the excerpt used? When I call the published repository directly it is used."}],"owner":{"account_id":16618576,"reputation":21,"user_id":12009561,"display_name":"Christian Hufgard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638137528,"creation_date":1604310808,"question_id":64643257,"body_markdown":"Based on [this](https://howtodoinjava.com/spring5/hateoas/spring-hateoas-tutorial/) tutorial I try to add an additional service.\r\n\r\nIt has this method:\r\n```java\r\n@GetMapping(path = &quot;/albums&quot;)\r\npublic PagedModel&lt;Album&gt; getAlbums(Pageable pageable) {\r\n    final var albums = albumRepository.findAll(pageable);\r\n    return PagedModel.of(albums.getContent(), new PagedModel.PageMetadata(albums.getSize(), pageable.getPageNumber(),\r\n            albums.getTotalElements(), albums.getTotalPages()));\r\n}\r\n```\r\n\r\nThe Actor:\r\n```java\r\npackage example;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString(exclude = &quot;albums&quot;)\r\n@Entity\r\n@Table(name=&quot;actor&quot;)\r\npublic class Actor implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n     \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String birthDate;\r\n     \r\n    @ManyToMany(cascade= CascadeType.ALL)\r\n    @JoinTable(\r\n      name = &quot;actor_album&quot;, \r\n      joinColumns = @JoinColumn(name = &quot;actor_id&quot;),\r\n      inverseJoinColumns = @JoinColumn(name = &quot;album_id&quot;))\r\n    private List&lt;Album&gt; albums;\r\n}\r\n```\r\n\r\nThe Album:\r\n```java\r\npackage example;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@ToString(exclude = &quot;actors&quot;)\r\n@Table(name=&quot;album&quot;)\r\npublic class Album implements Serializable\r\n{\r\n    private static final long serialVersionUID = 1L;\r\n     \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String title;\r\n    private String description;\r\n    private String releaseDate;\r\n     \r\n    @ManyToMany(mappedBy = &quot;albums&quot;,fetch = FetchType.EAGER)\r\n    private List&lt;Actor&gt; actors;\r\n}\r\n```\r\n\r\nIf I call my method, a StackOverflowError is raised:\r\n```\r\njava.lang.StackOverflowError: null\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:773) ~[jackson-databind-2.11.2.jar:2.11.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.11.2.jar:2.11.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.11.2.jar:2.11.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.11.2.jar:2.11.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.11.2.jar:2.11.2]\r\n```\r\n\r\nThe problem seems to be, that only the root album is rendered correctly and for the linked Actors instead of the excerpt the full Entity is rendered - including the reference back to the Album.\r\n\r\nIf I use a custom assembler and generate explicit DTOs as the return object I lose various generate default links.\r\n\r\nAny idea how I can get the automagic serialization that kicks in when I have no custom `RestController`? ","title":"Hateoas StackOverflowError when using RestController with PagedModel","body":"<p>Based on <a href=\"https://howtodoinjava.com/spring5/hateoas/spring-hateoas-tutorial/\" rel=\"nofollow noreferrer\">this</a> tutorial I try to add an additional service.</p>\n<p>It has this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/albums&quot;)\npublic PagedModel&lt;Album&gt; getAlbums(Pageable pageable) {\n    final var albums = albumRepository.findAll(pageable);\n    return PagedModel.of(albums.getContent(), new PagedModel.PageMetadata(albums.getSize(), pageable.getPageNumber(),\n            albums.getTotalElements(), albums.getTotalPages()));\n}\n</code></pre>\n<p>The Actor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\nimport java.io.Serializable;\nimport java.util.List;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString(exclude = &quot;albums&quot;)\n@Entity\n@Table(name=&quot;actor&quot;)\npublic class Actor implements Serializable {\n    private static final long serialVersionUID = 1L;\n     \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String birthDate;\n     \n    @ManyToMany(cascade= CascadeType.ALL)\n    @JoinTable(\n      name = &quot;actor_album&quot;, \n      joinColumns = @JoinColumn(name = &quot;actor_id&quot;),\n      inverseJoinColumns = @JoinColumn(name = &quot;album_id&quot;))\n    private List&lt;Album&gt; albums;\n}\n</code></pre>\n<p>The Album:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\nimport java.io.Serializable;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@ToString(exclude = &quot;actors&quot;)\n@Table(name=&quot;album&quot;)\npublic class Album implements Serializable\n{\n    private static final long serialVersionUID = 1L;\n     \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String title;\n    private String description;\n    private String releaseDate;\n     \n    @ManyToMany(mappedBy = &quot;albums&quot;,fetch = FetchType.EAGER)\n    private List&lt;Actor&gt; actors;\n}\n</code></pre>\n<p>If I call my method, a StackOverflowError is raised:</p>\n<pre><code>java.lang.StackOverflowError: null\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:773) ~[jackson-databind-2.11.2.jar:2.11.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.11.2.jar:2.11.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145) ~[jackson-databind-2.11.2.jar:2.11.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107) ~[jackson-databind-2.11.2.jar:2.11.2]\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25) ~[jackson-databind-2.11.2.jar:2.11.2]\n</code></pre>\n<p>The problem seems to be, that only the root album is rendered correctly and for the linked Actors instead of the excerpt the full Entity is rendered - including the reference back to the Album.</p>\n<p>If I use a custom assembler and generate explicit DTOs as the return object I lose various generate default links.</p>\n<p>Any idea how I can get the automagic serialization that kicks in when I have no custom <code>RestController</code>?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1604322366,"post_id":64646027,"comment_id":114303792,"body_markdown":"Is the server publicly accessible? It&#39;s probably a vuln scan. What URL is being posted to?","body":"Is the server publicly accessible? It&#39;s probably a vuln scan. What URL is being posted to?"},{"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"score":0,"creation_date":1604323317,"post_id":64646027,"comment_id":114304210,"body_markdown":"@OrangeDog I am just running it locally (From IntelliJ). It is posting to &quot;/&quot;.","body":"@OrangeDog I am just running it locally (From IntelliJ). It is posting to &quot;/&quot;."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1604323344,"post_id":64646027,"comment_id":114304224,"body_markdown":"Is it actually? You&#39;ve checked e.g. the browser network tab? Put a breakpoint in that stacktrace?","body":"Is it actually? You&#39;ve checked e.g. the browser network tab? Put a breakpoint in that stacktrace?"},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1604323752,"post_id":64646027,"comment_id":114304427,"body_markdown":"Why do you post to base URL? Just change the post URL to sth. else","body":"Why do you post to base URL? Just change the post URL to sth. else"},{"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"score":0,"creation_date":1604324025,"post_id":64646027,"comment_id":114304555,"body_markdown":"@OnurBaşt&#252;rk The warning persists no matter what url I use.","body":"@OnurBaşt&#252;rk The warning persists no matter what url I use."},{"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"score":0,"creation_date":1604324314,"post_id":64646027,"comment_id":114304688,"body_markdown":"@OrangeDog Yes it is localhost: &quot;Host: localhost:8080 Origin: http://localhost:8080 Referer: http://localhost:8080/&quot;","body":"@OrangeDog Yes it is localhost: &quot;Host: localhost:8080 Origin: <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a> Referer: <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a>&quot;"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1604324361,"post_id":64646027,"comment_id":114304716,"body_markdown":"@AndrewFairbairn none of those are the URL, only the host.","body":"@AndrewFairbairn none of those are the URL, only the host."},{"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"score":0,"creation_date":1604324446,"post_id":64646027,"comment_id":114304759,"body_markdown":"@OrangeDog Sorry, this is all new to me. If you meant the request URL it is also localhost: Request URL: http://localhost:8080/","body":"@OrangeDog Sorry, this is all new to me. If you meant the request URL it is also localhost: Request URL: <a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a>"},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1604324478,"post_id":64646027,"comment_id":114304775,"body_markdown":"Well, when I look at your view, I feel that there should be only one object (URL) at your post method, but you have many objects at your controller method (Url, Method, BindingResult etc.). Please check out https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation. And be sure to restart your application after you change your code","body":"Well, when I look at your view, I feel that there should be only one object (URL) at your post method, but you have many objects at your controller method (Url, Method, BindingResult etc.). Please check out <a href=\"https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation\" rel=\"nofollow noreferrer\">baeldung.com/spring-mvc-and-the-modelattribute-annotation</a>. And be sure to restart your application after you change your code"},{"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"score":0,"creation_date":1604325035,"post_id":64646027,"comment_id":114305038,"body_markdown":"@OnurBaşt&#252;rk Thank you for the suggestion. Even if I remove everything but the URL object the waning persists. Even if I comment out the whole post mapping I still see the warning. Is there something else that could be causing it?","body":"@OnurBaşt&#252;rk Thank you for the suggestion. Even if I remove everything but the URL object the waning persists. Even if I comment out the whole post mapping I still see the warning. Is there something else that could be causing it?"},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1604325182,"post_id":64646027,"comment_id":114305107,"body_markdown":"Commenting the post mapping at the controller wouldn&#39;t change anything if you still try to post to base URL from your view. Just to make things simpler, first try to send just a string from your view to your post method.","body":"Commenting the post mapping at the controller wouldn&#39;t change anything if you still try to post to base URL from your view. Just to make things simpler, first try to send just a string from your view to your post method."},{"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"score":0,"creation_date":1604325590,"post_id":64646027,"comment_id":114305331,"body_markdown":"@OnurBaşt&#252;rk I will give that a try. Thanks.","body":"@OnurBaşt&#252;rk I will give that a try. Thanks."},{"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"score":0,"creation_date":1604326992,"post_id":64646027,"comment_id":114306008,"body_markdown":"Right, so I tired your suggestions and no luck. But, I did narrow it down. It has something to do with the last GET mapping. With this: &quot;@GetMapping(value = &quot;/{shortUrl}&quot;)&quot; removed the waring goes away.","body":"Right, so I tired your suggestions and no luck. But, I did narrow it down. It has something to do with the last GET mapping. With this: &quot;@GetMapping(value = &quot;/{shortUrl}&quot;)&quot; removed the waring goes away."}],"owner":{"account_id":19879692,"reputation":11,"user_id":14563966,"display_name":"Andrew Fairbairn"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638137471,"creation_date":1604321786,"question_id":64646027,"body_markdown":"I have been digging around on the web and here the last two days to try to find a solution to this and I am coming up empty-handed. The application seems to function normally but I keep getting the warning mentioned in the title. It repeats itself regularly in the spring console and I have no idea what is causing it.\r\n\r\nFull warning:\r\n```\r\nWARN 3652 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\r\n```\r\nAs mentioned, this repeats itself the whole time I have the application running locally.\r\n\r\nHere is the html page with the form:\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/styles.css&quot;&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;form action=&quot;/&quot; th:object=&quot;${url}&quot; method=&quot;POST&quot;&gt;\r\n            &lt;input th:field=&quot;*{longUrl}&quot; type=&quot;url&quot; placeholder=&quot;Url to shorten&quot; /&gt;\r\n            &lt;input class=&quot;button&quot; type=&quot;submit&quot; value=&quot;Shorten&quot;&gt;\r\n        &lt;/form&gt;\r\n        &lt;div class=&quot;formstyle&quot;&gt;\r\n            &lt;span class=&quot;longlink&quot; th:text=&quot;${url.longUrl}&quot;&gt;&lt;/span&gt;\r\n            &lt;span class=&quot;shortlink&quot; &gt;&lt;a th:href=&quot;@{${shortUrl}}&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; th:text=&quot;${shortUrl}&quot;&gt;&lt;/a&gt;&lt;/span&gt;\r\n            &lt;span class=&quot;copy&quot;&gt;&lt;button class=&quot;copybutton&quot; onClick=&quot;copyUrl()&quot;&gt;Copy&lt;/button&gt;&lt;/span&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;script th:inline=&quot;javascript&quot;&gt;\r\nfunction copyUrl() {\r\n    var tempInput = document.createElement(&quot;input&quot;);\r\n    tempInput.style = &quot;position: absolute; left: -1000px; top: -1000px&quot;;\r\n    tempInput.value = /*[[${shortUrl}]]*/;\r\n    document.body.appendChild(tempInput);\r\n    tempInput.select();\r\n    tempInput.setSelectionRange(0, 99999)\r\n    document.execCommand(&quot;copy&quot;);\r\n    document.body.removeChild(tempInput);\r\n}\r\n&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere is my controller class:\r\n```java\r\npackage com.afairbairn.urlshrt.controller;\r\n\r\nimport com.afairbairn.urlshrt.entity.Url;\r\nimport com.afairbairn.urlshrt.service.UrlService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.net.URI;\r\n\r\n\r\n@Controller\r\npublic class AppController {\r\n\r\n    @Autowired\r\n    private UrlService urlService;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model){\r\n        model.addAttribute(&quot;url&quot;, new Url());\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public String ConvertLongUrl(@ModelAttribute Url url, BindingResult bindingResult, Model model, HttpServletRequest request) {\r\n        String currUrl = request.getRequestURL().toString();\r\n        String shortUrl = urlService.ConvertLongUrlObject(url);\r\n        shortUrl = currUrl + shortUrl;\r\n        model.addAttribute(&quot;shortUrl&quot;, shortUrl);\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{shortUrl}&quot;)\r\n    @Cacheable(value = &quot;urls&quot;, key = &quot;#shortUrl&quot;, sync = true)\r\n    public ResponseEntity GetToRedirect(@PathVariable String shortUrl) {\r\n        String url = urlService.ReturnLongUrl(shortUrl);\r\n        return ResponseEntity.status(HttpStatus.FOUND)\r\n                .location(URI.create(url))\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is my first post here so if I haven&#39;t provided some necessary details let me know.\r\n\r\nTIA!\r\n\r\n::UPDATE::\r\n\r\nThe problem has something to do with the second `@GetMapping`. When I remove it or comment it out the warning goes away. Just this line is causing the warning: `@GetMapping(value = &quot;/{shortUrl}&quot;)`","title":"Spring Boot warning: Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]","body":"<p>I have been digging around on the web and here the last two days to try to find a solution to this and I am coming up empty-handed. The application seems to function normally but I keep getting the warning mentioned in the title. It repeats itself regularly in the spring console and I have no idea what is causing it.</p>\n<p>Full warning:</p>\n<pre><code>WARN 3652 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]\n</code></pre>\n<p>As mentioned, this repeats itself the whole time I have the application running locally.</p>\n<p>Here is the html page with the form:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/styles.css&quot;&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;form action=&quot;/&quot; th:object=&quot;${url}&quot; method=&quot;POST&quot;&gt;\n            &lt;input th:field=&quot;*{longUrl}&quot; type=&quot;url&quot; placeholder=&quot;Url to shorten&quot; /&gt;\n            &lt;input class=&quot;button&quot; type=&quot;submit&quot; value=&quot;Shorten&quot;&gt;\n        &lt;/form&gt;\n        &lt;div class=&quot;formstyle&quot;&gt;\n            &lt;span class=&quot;longlink&quot; th:text=&quot;${url.longUrl}&quot;&gt;&lt;/span&gt;\n            &lt;span class=&quot;shortlink&quot; &gt;&lt;a th:href=&quot;@{${shortUrl}}&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; th:text=&quot;${shortUrl}&quot;&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;span class=&quot;copy&quot;&gt;&lt;button class=&quot;copybutton&quot; onClick=&quot;copyUrl()&quot;&gt;Copy&lt;/button&gt;&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;script th:inline=&quot;javascript&quot;&gt;\nfunction copyUrl() {\n    var tempInput = document.createElement(&quot;input&quot;);\n    tempInput.style = &quot;position: absolute; left: -1000px; top: -1000px&quot;;\n    tempInput.value = /*[[${shortUrl}]]*/;\n    document.body.appendChild(tempInput);\n    tempInput.select();\n    tempInput.setSelectionRange(0, 99999)\n    document.execCommand(&quot;copy&quot;);\n    document.body.removeChild(tempInput);\n}\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.afairbairn.urlshrt.controller;\n\nimport com.afairbairn.urlshrt.entity.Url;\nimport com.afairbairn.urlshrt.service.UrlService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.net.URI;\n\n\n@Controller\npublic class AppController {\n\n    @Autowired\n    private UrlService urlService;\n\n    @GetMapping(&quot;/&quot;)\n    public String index(Model model){\n        model.addAttribute(&quot;url&quot;, new Url());\n        return &quot;index&quot;;\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public String ConvertLongUrl(@ModelAttribute Url url, BindingResult bindingResult, Model model, HttpServletRequest request) {\n        String currUrl = request.getRequestURL().toString();\n        String shortUrl = urlService.ConvertLongUrlObject(url);\n        shortUrl = currUrl + shortUrl;\n        model.addAttribute(&quot;shortUrl&quot;, shortUrl);\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(value = &quot;/{shortUrl}&quot;)\n    @Cacheable(value = &quot;urls&quot;, key = &quot;#shortUrl&quot;, sync = true)\n    public ResponseEntity GetToRedirect(@PathVariable String shortUrl) {\n        String url = urlService.ReturnLongUrl(shortUrl);\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .location(URI.create(url))\n                .build();\n    }\n\n}\n</code></pre>\n<p>This is my first post here so if I haven't provided some necessary details let me know.</p>\n<p>TIA!</p>\n<p>::UPDATE::</p>\n<p>The problem has something to do with the second <code>@GetMapping</code>. When I remove it or comment it out the warning goes away. Just this line is causing the warning: <code>@GetMapping(value = &quot;/{shortUrl}&quot;)</code></p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1604396747,"post_id":64658822,"comment_id":114328614,"body_markdown":"The code of your jar is not run during the build. Unless, of course, it is test code.","body":"The code of your jar is not run during the build. Unless, of course, it is test code."},{"owner":{"account_id":18791729,"reputation":11,"user_id":13704028,"display_name":"rutss"},"score":0,"creation_date":1604399296,"post_id":64658822,"comment_id":114329750,"body_markdown":"@JFabianMeier\nThe class is defined with `@Component` and also method is defined as `@Bean` annotations. When I do mvn clean install, it runs this code and even during running jar this code gets executed.","body":"@JFabianMeier The class is defined with <code>@Component</code> and also method is defined as <code>@Bean</code> annotations. When I do mvn clean install, it runs this code and even during running jar this code gets executed."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1604405160,"post_id":64658822,"comment_id":114332222,"body_markdown":"You probably need to show us your POM. Did you define an `exec` plugin execution or something like that. Maven normally never runs the code, it just builds it.","body":"You probably need to show us your POM. Did you define an <code>exec</code> plugin execution or something like that. Maven normally never runs the code, it just builds it."},{"owner":{"account_id":18791729,"reputation":11,"user_id":13704028,"display_name":"rutss"},"score":0,"creation_date":1604413676,"post_id":64658822,"comment_id":114336300,"body_markdown":"@JFabianMeier\n`&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;`\nAbove build block is mentioned in pom and some other dependencies.","body":"@JFabianMeier <code>&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#47;artifactId&gt; &lt;&#47;plugin&gt; &lt;&#47;plugins&gt; &lt;&#47;build&gt;</code> Above build block is mentioned in pom and some other dependencies."}],"owner":{"account_id":18791729,"reputation":11,"user_id":13704028,"display_name":"rutss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638137376,"creation_date":1604390322,"question_id":64658822,"body_markdown":"In the configuration component class, I have a bean function where I have a listener which runs in an infinite loop that continuously reads the Redis list. Now while building the application using `mvn clean install` command, it runs this code and goes into an infinite loop. I just want to run this code during running the jar `java -jar test.jar` and not during `mvn clean install` step. \r\nIs there any way or workaround during the build step I can skip this code from execution? Is there any `mvn` command to achieve this?","title":"How to stop configuration component class bean functions to get executed during mvn clean install?","body":"<p>In the configuration component class, I have a bean function where I have a listener which runs in an infinite loop that continuously reads the Redis list. Now while building the application using <code>mvn clean install</code> command, it runs this code and goes into an infinite loop. I just want to run this code during running the jar <code>java -jar test.jar</code> and not during <code>mvn clean install</code> step.\nIs there any way or workaround during the build step I can skip this code from execution? Is there any <code>mvn</code> command to achieve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5309069,"reputation":2033,"user_id":4236028,"display_name":"sam"},"score":3,"creation_date":1445894850,"post_id":33355890,"comment_id":54507753,"body_markdown":"Run code through a debugger and keep watch on the variables.","body":"Run code through a debugger and keep watch on the variables."}],"answers":[{"tags":[],"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445895088,"creation_date":1445895088,"answer_id":33356015,"question_id":33355890,"body_markdown":"The if statements switch the numbers by creating a temporary value to store the old number in before setting it to the new number, the other number is then set to the old, saved number\r\n\r\nA more interesting way of switching numbers is with bitwise operators\r\n\r\n    num1 = num1 ^ num2;\r\n    num2 = num1 ^ num2;\r\n    num1 = num1 ^ num2;\r\n\r\nThis works from xoring the bits together, and because xor inverts itself when given the same value `((A xor B) xor B) == A`","title":"How does number swapping work with if statements?","body":"<p>The if statements switch the numbers by creating a temporary value to store the old number in before setting it to the new number, the other number is then set to the old, saved number</p>\n\n<p>A more interesting way of switching numbers is with bitwise operators</p>\n\n<pre><code>num1 = num1 ^ num2;\nnum2 = num1 ^ num2;\nnum1 = num1 ^ num2;\n</code></pre>\n\n<p>This works from xoring the bits together, and because xor inverts itself when given the same value <code>((A xor B) xor B) == A</code></p>\n"}],"owner":{"account_id":7190590,"reputation":1,"user_id":5491081,"display_name":"ZeroGravity780"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1638137248,"creation_date":1445894627,"question_id":33355890,"body_markdown":"I want to know exactly how these `if` statements are switching the numbers. I have never been asked to do non-descending order before so I took a little snip off the internet.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     * Created by Nicholas on 10/26/2015.\r\n     */\r\n    public class Main {\r\n    \r\n        final static Scanner userInput = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;Please enter three numbers.&quot;);\r\n            System.out.println();\r\n    \r\n            System.out.print(&quot;Number 1: &quot;);\r\n            int num1 = userInput.nextInt();\r\n            System.out.println();\r\n    \r\n            System.out.print(&quot;Number 2: &quot;);\r\n            int num2 = userInput.nextInt();\r\n            System.out.println();\r\n    \r\n            System.out.print(&quot;Number 3: &quot;);\r\n            int num3 = userInput.nextInt();\r\n            System.out.println();\r\n    \r\n            if (num1 &gt; num2) {\r\n                int temp = num1;\r\n                num1 = num2;\r\n                num2 = temp;\r\n            }\r\n    \r\n            if (num2 &gt; num3) {\r\n                int temp = num2;\r\n                num2 = num3;\r\n                num3 = temp;\r\n            }\r\n    \r\n            if (num1 &gt; num2) {\r\n                int temp = num1;\r\n                num1 = num2;\r\n                num2 = temp;\r\n            }\r\n    \r\n            System.out.print(&quot;The numbers in non-descending order are, &quot; + num1 + &quot; &quot; + num2 + &quot; &quot; + num3);\r\n        }\r\n    }","title":"How does number swapping work with if statements?","body":"<p>I want to know exactly how these <code>if</code> statements are switching the numbers. I have never been asked to do non-descending order before so I took a little snip off the internet.</p>\n\n<pre><code>import java.util.Scanner;\n\n/**\n * Created by Nicholas on 10/26/2015.\n */\npublic class Main {\n\n    final static Scanner userInput = new Scanner(System.in);\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Please enter three numbers.\");\n        System.out.println();\n\n        System.out.print(\"Number 1: \");\n        int num1 = userInput.nextInt();\n        System.out.println();\n\n        System.out.print(\"Number 2: \");\n        int num2 = userInput.nextInt();\n        System.out.println();\n\n        System.out.print(\"Number 3: \");\n        int num3 = userInput.nextInt();\n        System.out.println();\n\n        if (num1 &gt; num2) {\n            int temp = num1;\n            num1 = num2;\n            num2 = temp;\n        }\n\n        if (num2 &gt; num3) {\n            int temp = num2;\n            num2 = num3;\n            num3 = temp;\n        }\n\n        if (num1 &gt; num2) {\n            int temp = num1;\n            num1 = num2;\n            num2 = temp;\n        }\n\n        System.out.print(\"The numbers in non-descending order are, \" + num1 + \" \" + num2 + \" \" + num3);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-layout","ram"],"answers":[{"tags":[],"owner":{"account_id":4630332,"reputation":1690,"user_id":3753040,"display_name":"Benny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638137153,"creation_date":1638137153,"answer_id":70147859,"question_id":70001785,"body_markdown":"This is probably because your layout is too complex with lots of nested layouts. Try to split your XML by moving pieces to separate layout files and then add them using the `&lt;include&gt;` tab, each of these `&lt;include&gt;` layouts will be inflated in a different call. Another option could be to see if you can make your screen design work with a RecyclerView.\r\n\r\nThe main idea is to split the inflation of each of your view components into different screen frames. Heavy operations that take longer than 16ms will freeze a few frames.\r\n\r\n","title":"Android Activity freezes some seconds in a 1GB RAM device before it opens","body":"<p>This is probably because your layout is too complex with lots of nested layouts. Try to split your XML by moving pieces to separate layout files and then add them using the <code>&lt;include&gt;</code> tab, each of these <code>&lt;include&gt;</code> layouts will be inflated in a different call. Another option could be to see if you can make your screen design work with a RecyclerView.</p>\n<p>The main idea is to split the inflation of each of your view components into different screen frames. Heavy operations that take longer than 16ms will freeze a few frames.</p>\n"}],"owner":{"display_name":"user15338837"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638137153,"creation_date":1637141089,"question_id":70001785,"body_markdown":"I have an activity that is called from MainActivity when an Image Button is pressed. I use a Thread.\r\n\r\n    ImageButton btnQuiz = findViewById(R.id.bQuiz);\r\n    btnQuiz.setOnClickListener(v -&gt; {\r\n        new Thread(new Runnable() {\r\n            public void run() {\r\n                // a potentially time consuming task\r\n                Intent intent = new Intent(MainActivity.this,Quiz.class);\r\n                startActivity(intent);\r\n            }\r\n        }).start();\r\n    });\r\n\r\nWhen I press that button in any AVD device it works propertly, but when I run it on my old tablet with Android 4.4.4 and 1GB or RAM memory, it freezes some seconds and I can read in the debug window of Android Studio:\r\n\r\n    D/dalvikvm: GC_FOR_ALLOC freed 3528K, 47% free 4367K/8176K, paused 20ms, total 20ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 748K, 50% free 4148K/8176K, paused 12ms, total 12ms  \r\n    D/dalvikvm: GC_FOR_ALLOC freed 405K, 48% free 4254K/8176K, paused 12ms, total 14ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 426K, 47% free 4340K/8176K, paused 12ms, total 12ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 422K, 46% free 4438K/8176K, paused 13ms, total 13ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 436K, 45% free 4555K/8176K, paused 13ms, total 14ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 491K, 44% free 4657K/8176K, paused 14ms, total 22ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 495K, 42% free 4787K/8176K, paused 14ms, total 14ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 526K, 40% free 4931K/8176K, paused 15ms, total 18ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 594K, 39% free 5054K/8176K, paused 15ms, total 15ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 622K, 37% free 5190K/8176K, paused 16ms, total 16ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 637K, 35% free 5357K/8176K, paused 17ms, total 17ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 705K, 33% free 5511K/8176K, paused 17ms, total 18ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 732K, 31% free 5689K/8176K, paused 18ms, total 23ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 787K, 29% free 5872K/8176K, paused 18ms, total 22ms\r\n    D/dalvikvm: GC_FOR_ALLOC freed 255K, 28% free 5911K/8176K, paused 17ms, total 17ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.548MB for 4016-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 78K, 28% free 5920K/8180K, paused 16ms, total 16ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.556MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5923K/8184K, paused 17ms, total 18ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.558MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 8K, 28% free 5922K/8188K, paused 17ms, total 17ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.558MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 4K, 28% free 5929K/8192K, paused 16ms, total 16ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.565MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5932K/8196K, paused 16ms, total 17ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.568MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 4K, 28% free 5936K/8200K, paused 16ms, total 16ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.572MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 67K, 28% free 5950K/8204K, paused 17ms, total 17ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.585MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5953K/8208K, paused 16ms, total 16ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.588MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 4K, 28% free 5959K/8212K, paused 15ms, total 16ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.595MB for 4016-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5963K/8216K, paused 17ms, total 17ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.599MB for 4016-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 129K, 28% free 5979K/8220K, paused 17ms, total 17ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.614MB for 2940-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed 8K, 28% free 5981K/8224K, paused 16ms, total 16ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.616MB for 4016-byte allocation\r\n    D/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5984K/8228K, paused 16ms, total 16ms\r\n    I/dalvikvm-heap: Grow heap (frag case) to 6.620MB for 4016-byte allocation\r\n\r\nThis is the layout that is loaded:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    tools:context=&quot;com.geologyapplications.minerals.Quiz&quot;\r\n    android:theme=&quot;@android:style/Holo.Light.ButtonBar&quot;\r\n    android:descendantFocusability=&quot;beforeDescendants&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;&gt;\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:theme=&quot;@style/ToolbarTheme&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_tipo&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/tipo2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_diafanidad&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:text=&quot;@string/diafanidad2&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:focusable=&quot;true&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_grupo&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/grupo2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_brillo&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:text=&quot;@string/brillo2&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:focusable=&quot;true&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_clase&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/clase2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_raya&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:text=&quot;@string/raya2&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:focusable=&quot;true&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_formula&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/formula2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_dureza&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:text=&quot;@string/dureza2&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:focusable=&quot;true&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_sistema&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/sistema2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_densidad&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:text=&quot;@string/densidad2&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:focusable=&quot;true&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_ambientes&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/ambientes2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_exfoliacion&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:text=&quot;@string/exfoliacion2&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_habito&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/habito2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_fractura&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:text=&quot;@string/fractura2&quot;\r\n                        android:textSize=&quot;14sp&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;2&quot;&gt;\r\n                    &lt;CheckBox\r\n                        android:id=&quot;@+id/checkbox_color&quot;\r\n                        android:layout_width=&quot;0dp&quot;\r\n                        android:layout_height=&quot;40dp&quot;\r\n                        android:layout_weight=&quot;1&quot;\r\n                        android:clickable=&quot;true&quot;\r\n                        android:focusable=&quot;true&quot;\r\n                        android:text=&quot;@string/color2&quot;\r\n                        android:textSize=&quot;14sp&quot;/&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;60dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:layout_marginEnd=&quot;5dp&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:text=&quot;@string/numpreguntas&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;&gt;\r\n                &lt;/TextView&gt;\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/numpreguntas&quot;\r\n                    android:layout_width=&quot;80dp&quot;\r\n                    android:layout_height=&quot;60dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_margin=&quot;5dp&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:inputType=&quot;numberSigned&quot;\r\n                    tools:ignore=&quot;SpeakableTextPresentCheck&quot;\r\n                    android:autofillHints=&quot;10&quot;\r\n                    android:hint=&quot;@string/diez&quot;&gt;\r\n                &lt;/EditText&gt;\r\n            &lt;/LinearLayout&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n                &lt;Button\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_margin=&quot;10dp&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:id=&quot;@+id/empezar&quot;\r\n                    android:text=&quot;@string/empezar&quot;\r\n                    android:background=&quot;@color/black&quot;\r\n                    android:textColor=&quot;@color/white&quot;&gt;\r\n                &lt;/Button&gt;\r\n                &lt;Button\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_margin=&quot;10dp&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:id=&quot;@+id/iratienda&quot;\r\n                    android:text=&quot;@string/iratienda&quot;\r\n                    android:background=&quot;@color/black&quot;\r\n                    android:textColor=&quot;@color/white&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nI can&#39;t post the Java class as it has 500 lines, but you can read it [here][1].\r\n\r\nMy question is if there is something wrong in my code or just my app should have as requisite 2GB of RAM and set the minimumSDKVersion to Android 5.0.\r\n\r\nHave I managed incorrectly the threads?\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1br63bDZXGtqotDPQHLyYyzfOBPR9WcU4/view?usp=sharing","title":"Android Activity freezes some seconds in a 1GB RAM device before it opens","body":"<p>I have an activity that is called from MainActivity when an Image Button is pressed. I use a Thread.</p>\n<pre><code>ImageButton btnQuiz = findViewById(R.id.bQuiz);\nbtnQuiz.setOnClickListener(v -&gt; {\n    new Thread(new Runnable() {\n        public void run() {\n            // a potentially time consuming task\n            Intent intent = new Intent(MainActivity.this,Quiz.class);\n            startActivity(intent);\n        }\n    }).start();\n});\n</code></pre>\n<p>When I press that button in any AVD device it works propertly, but when I run it on my old tablet with Android 4.4.4 and 1GB or RAM memory, it freezes some seconds and I can read in the debug window of Android Studio:</p>\n<pre><code>D/dalvikvm: GC_FOR_ALLOC freed 3528K, 47% free 4367K/8176K, paused 20ms, total 20ms\nD/dalvikvm: GC_FOR_ALLOC freed 748K, 50% free 4148K/8176K, paused 12ms, total 12ms  \nD/dalvikvm: GC_FOR_ALLOC freed 405K, 48% free 4254K/8176K, paused 12ms, total 14ms\nD/dalvikvm: GC_FOR_ALLOC freed 426K, 47% free 4340K/8176K, paused 12ms, total 12ms\nD/dalvikvm: GC_FOR_ALLOC freed 422K, 46% free 4438K/8176K, paused 13ms, total 13ms\nD/dalvikvm: GC_FOR_ALLOC freed 436K, 45% free 4555K/8176K, paused 13ms, total 14ms\nD/dalvikvm: GC_FOR_ALLOC freed 491K, 44% free 4657K/8176K, paused 14ms, total 22ms\nD/dalvikvm: GC_FOR_ALLOC freed 495K, 42% free 4787K/8176K, paused 14ms, total 14ms\nD/dalvikvm: GC_FOR_ALLOC freed 526K, 40% free 4931K/8176K, paused 15ms, total 18ms\nD/dalvikvm: GC_FOR_ALLOC freed 594K, 39% free 5054K/8176K, paused 15ms, total 15ms\nD/dalvikvm: GC_FOR_ALLOC freed 622K, 37% free 5190K/8176K, paused 16ms, total 16ms\nD/dalvikvm: GC_FOR_ALLOC freed 637K, 35% free 5357K/8176K, paused 17ms, total 17ms\nD/dalvikvm: GC_FOR_ALLOC freed 705K, 33% free 5511K/8176K, paused 17ms, total 18ms\nD/dalvikvm: GC_FOR_ALLOC freed 732K, 31% free 5689K/8176K, paused 18ms, total 23ms\nD/dalvikvm: GC_FOR_ALLOC freed 787K, 29% free 5872K/8176K, paused 18ms, total 22ms\nD/dalvikvm: GC_FOR_ALLOC freed 255K, 28% free 5911K/8176K, paused 17ms, total 17ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.548MB for 4016-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 78K, 28% free 5920K/8180K, paused 16ms, total 16ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.556MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5923K/8184K, paused 17ms, total 18ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.558MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 8K, 28% free 5922K/8188K, paused 17ms, total 17ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.558MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 4K, 28% free 5929K/8192K, paused 16ms, total 16ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.565MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5932K/8196K, paused 16ms, total 17ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.568MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 4K, 28% free 5936K/8200K, paused 16ms, total 16ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.572MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 67K, 28% free 5950K/8204K, paused 17ms, total 17ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.585MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5953K/8208K, paused 16ms, total 16ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.588MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 4K, 28% free 5959K/8212K, paused 15ms, total 16ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.595MB for 4016-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5963K/8216K, paused 17ms, total 17ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.599MB for 4016-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 129K, 28% free 5979K/8220K, paused 17ms, total 17ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.614MB for 2940-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed 8K, 28% free 5981K/8224K, paused 16ms, total 16ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.616MB for 4016-byte allocation\nD/dalvikvm: GC_FOR_ALLOC freed &lt;1K, 28% free 5984K/8228K, paused 16ms, total 16ms\nI/dalvikvm-heap: Grow heap (frag case) to 6.620MB for 4016-byte allocation\n</code></pre>\n<p>This is the layout that is loaded:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\ntools:context=&quot;com.geologyapplications.minerals.Quiz&quot;\nandroid:theme=&quot;@android:style/Holo.Light.ButtonBar&quot;\nandroid:descendantFocusability=&quot;beforeDescendants&quot;\nandroid:focusableInTouchMode=&quot;true&quot;&gt;\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    android:theme=&quot;@style/ToolbarTheme&quot;&gt;\n&lt;/androidx.appcompat.widget.Toolbar&gt;\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_tipo&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/tipo2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_diafanidad&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:text=&quot;@string/diafanidad2&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:focusable=&quot;true&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_grupo&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/grupo2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_brillo&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:text=&quot;@string/brillo2&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:focusable=&quot;true&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_clase&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/clase2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_raya&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:text=&quot;@string/raya2&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:focusable=&quot;true&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_formula&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/formula2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_dureza&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:text=&quot;@string/dureza2&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:focusable=&quot;true&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_sistema&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/sistema2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_densidad&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:text=&quot;@string/densidad2&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:focusable=&quot;true&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_ambientes&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/ambientes2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_exfoliacion&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;@string/exfoliacion2&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_habito&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/habito2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_fractura&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;@string/fractura2&quot;\n                    android:textSize=&quot;14sp&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;/&gt;\n            &lt;/LinearLayout&gt;\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;2&quot;&gt;\n                &lt;CheckBox\n                    android:id=&quot;@+id/checkbox_color&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;40dp&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:clickable=&quot;true&quot;\n                    android:focusable=&quot;true&quot;\n                    android:text=&quot;@string/color2&quot;\n                    android:textSize=&quot;14sp&quot;/&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:layout_marginEnd=&quot;5dp&quot;\n                android:gravity=&quot;center&quot;\n                android:textSize=&quot;14sp&quot;\n                android:text=&quot;@string/numpreguntas&quot;\n                android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;&gt;\n            &lt;/TextView&gt;\n            &lt;EditText\n                android:id=&quot;@+id/numpreguntas&quot;\n                android:layout_width=&quot;80dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_margin=&quot;5dp&quot;\n                android:textSize=&quot;14sp&quot;\n                android:inputType=&quot;numberSigned&quot;\n                tools:ignore=&quot;SpeakableTextPresentCheck&quot;\n                android:autofillHints=&quot;10&quot;\n                android:hint=&quot;@string/diez&quot;&gt;\n            &lt;/EditText&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n            &lt;Button\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:textSize=&quot;14sp&quot;\n                android:id=&quot;@+id/empezar&quot;\n                android:text=&quot;@string/empezar&quot;\n                android:background=&quot;@color/black&quot;\n                android:textColor=&quot;@color/white&quot;&gt;\n            &lt;/Button&gt;\n            &lt;Button\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:textSize=&quot;14sp&quot;\n                android:id=&quot;@+id/iratienda&quot;\n                android:text=&quot;@string/iratienda&quot;\n                android:background=&quot;@color/black&quot;\n                android:textColor=&quot;@color/white&quot;/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I can't post the Java class as it has 500 lines, but you can read it <a href=\"https://drive.google.com/file/d/1br63bDZXGtqotDPQHLyYyzfOBPR9WcU4/view?usp=sharing\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>My question is if there is something wrong in my code or just my app should have as requisite 2GB of RAM and set the minimumSDKVersion to Android 5.0.</p>\n<p>Have I managed incorrectly the threads?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1604568454,"post_id":64694135,"comment_id":114387999,"body_markdown":"1. You should register the scope before calling `refresh`, 2. scopes are implemented using proxies, you are seeing the hashcode of the proxy (which will always be the same).","body":"1. You should register the scope before calling <code>refresh</code>, 2. scopes are implemented using proxies, you are seeing the hashcode of the proxy (which will always be the same)."},{"owner":{"display_name":"user10871691"},"score":0,"creation_date":1604591294,"post_id":64694135,"comment_id":114398915,"body_markdown":"@M.Deinum Is the `refresh` call really needed ? `ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(path)` makes refresh not necessary.","body":"@M.Deinum Is the <code>refresh</code> call really needed ? <code>ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(path)</code> makes refresh not necessary."},{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1604631368,"post_id":64694135,"comment_id":114412712,"body_markdown":"@M.Deinum, @quasimodo00  Not yet. If calling `refresh` after register,Spring will thrown a `IllegalStateException`,that is `BeanFactory not initialized or already closed - call &#39;refresh&#39; before accessing beans via the ApplicationContext\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.getBeanFactory`","body":"@M.Deinum, @quasimodo00  Not yet. If calling <code>refresh</code> after register,Spring will thrown a <code>IllegalStateException</code>,that is <code>BeanFactory not initialized or already closed - call &#39;refresh&#39; before accessing beans via the ApplicationContext \tat org.springframework.context.support.AbstractRefreshableAppli&zwnj;&#8203;cationContext.getBea&zwnj;&#8203;nFactory</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1604655187,"post_id":64694135,"comment_id":114418951,"body_markdown":"Without the registratioj of the scope it simply isn&#39;t available. Instead write a `BeanFactoryPostProcessor` register it and use that to register the custom scope, or as you are already using XML, use the preferred way (as shown in the spring documentation).","body":"Without the registratioj of the scope it simply isn&#39;t available. Instead write a <code>BeanFactoryPostProcessor</code> register it and use that to register the custom scope, or as you are already using XML, use the preferred way (as shown in the spring documentation)."},{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1604891925,"post_id":64694135,"comment_id":114476074,"body_markdown":"It&#39;s unavailable by using BeanFactoryPostProcessor.It looks like to the same result.Also,Spring document dosen&#39;t describe this section in detail. I want to get the thread scope, but only get the singleton scope.","body":"It&#39;s unavailable by using BeanFactoryPostProcessor.It looks like to the same result.Also,Spring document dosen&#39;t describe this section in detail. I want to get the thread scope, but only get the singleton scope."}],"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638137109,"creation_date":1604567267,"question_id":64694135,"body_markdown":"I want to implement the custom scope bean. I have been reading this content in the Spring Framework Doc about this. But when I write the code myself, I have confused. There are two threads, but they have got the same instance. I want to know the reason. The following example:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/aop\r\n        https://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\r\n    &lt;bean id=&quot;bean&quot; class=&quot;com.example.demo.custom.scope.CustomScope&quot; scope=&quot;custom&quot;&gt;\r\n        &lt;aop:scoped-proxy/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;thing&quot; class=&quot;com.example.demo.custom.scope.Thing&quot;&gt;\r\n        &lt;property name=&quot;customScope&quot; ref=&quot;bean&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\n```java\r\npackage com.example.demo.custom.scope;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.config.Scope;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\nimport org.springframework.context.support.SimpleThreadScope;\r\n\r\npublic class CustomScope {\r\n\r\n\tprivate static Logger log = LoggerFactory.getLogger(CustomScope.class);\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tmethod1();\r\n\t}\r\n\r\n\tprivate static void method1() {\r\n\t\tString path = &quot;classpath:custom/scope/customScope.xml&quot;;\r\n\t\tClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext();\r\n\t\tcontext.setConfigLocation(path);\r\n\t\tScope scope = new SimpleThreadScope();\r\n\t\tcontext.refresh();\r\n\t\tcontext.getBeanFactory().registerScope(&quot;custom&quot;, scope);\r\n\t\tfor (int i = 0; i &lt; 2; i++) {\r\n\t\t\tThread thread = new Thread(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tThing thing = context.getBean(&quot;thing&quot;, Thing.class);\r\n\t\t\t\t\tlog.info(&quot;{}-{}-thing.hashCode:{},custom.hashCode:{}&quot;, Thread.currentThread().getName(),\r\n\t\t\t\t\t\t\tscope.getConversationId(), thing.hashCode(), thing.getCustomScope().hashCode());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthread.setName(String.valueOf(i));\r\n//\t\t\tthread.join();\r\n\t\t\tthread.start();\r\n\t\t}\r\n\t\tcontext.close();\r\n\t}\r\n}\r\n```\r\n\r\nThe log infomation is: \r\n```\r\n2020-11-05 17:06:50,469 INFO  [1] com.example.demo.custom.scope.CustomScope$1: 1-1-thing.hashCode:346204054,custom.hashCode:-475529550\r\n2020-11-05 17:06:50,469 INFO  [0] com.example.demo.custom.scope.CustomScope$1: 0-0-thing.hashCode:346204054,custom.hashCode:-475529550\r\n```","title":"Why the custom scope bean is always return the same instance in Spring Framework","body":"<p>I want to implement the custom scope bean. I have been reading this content in the Spring Framework Doc about this. But when I write the code myself, I have confused. There are two threads, but they have got the same instance. I want to know the reason. The following example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/aop\n        https://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;\n    &lt;bean id=&quot;bean&quot; class=&quot;com.example.demo.custom.scope.CustomScope&quot; scope=&quot;custom&quot;&gt;\n        &lt;aop:scoped-proxy/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;thing&quot; class=&quot;com.example.demo.custom.scope.Thing&quot;&gt;\n        &lt;property name=&quot;customScope&quot; ref=&quot;bean&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.custom.scope;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.config.Scope;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\nimport org.springframework.context.support.SimpleThreadScope;\n\npublic class CustomScope {\n\n    private static Logger log = LoggerFactory.getLogger(CustomScope.class);\n\n    public static void main(String[] args) throws InterruptedException {\n        method1();\n    }\n\n    private static void method1() {\n        String path = &quot;classpath:custom/scope/customScope.xml&quot;;\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext();\n        context.setConfigLocation(path);\n        Scope scope = new SimpleThreadScope();\n        context.refresh();\n        context.getBeanFactory().registerScope(&quot;custom&quot;, scope);\n        for (int i = 0; i &lt; 2; i++) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Thing thing = context.getBean(&quot;thing&quot;, Thing.class);\n                    log.info(&quot;{}-{}-thing.hashCode:{},custom.hashCode:{}&quot;, Thread.currentThread().getName(),\n                            scope.getConversationId(), thing.hashCode(), thing.getCustomScope().hashCode());\n                }\n            });\n            thread.setName(String.valueOf(i));\n//          thread.join();\n            thread.start();\n        }\n        context.close();\n    }\n}\n</code></pre>\n<p>The log infomation is:</p>\n<pre><code>2020-11-05 17:06:50,469 INFO  [1] com.example.demo.custom.scope.CustomScope$1: 1-1-thing.hashCode:346204054,custom.hashCode:-475529550\n2020-11-05 17:06:50,469 INFO  [0] com.example.demo.custom.scope.CustomScope$1: 0-0-thing.hashCode:346204054,custom.hashCode:-475529550\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":19071845,"reputation":11,"user_id":13925831,"display_name":"Flavio Rodrigues"},"score":0,"creation_date":1604578597,"post_id":64697003,"comment_id":114392326,"body_markdown":"Apache Maven 3.6.3 - maven version\nJava version: 14.0.1 - java version","body":"Apache Maven 3.6.3 - maven version Java version: 14.0.1 - java version"},{"owner":{"account_id":2510424,"reputation":540,"user_id":2183049,"display_name":"Habil"},"score":0,"creation_date":1604580695,"post_id":64697003,"comment_id":114393226,"body_markdown":"Can you check your .m2 repository?  Is spring-boot-starter-parent-2.3.5.RELEASE.pom there? If not check your maven configuration.","body":"Can you check your .m2 repository?  Is spring-boot-starter-parent-2.3.5.RELEASE.pom there? If not check your maven configuration."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1604581069,"post_id":64697003,"comment_id":114393421,"body_markdown":"Are you building on plain command line?","body":"Are you building on plain command line?"},{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":0,"creation_date":1604608246,"post_id":64697003,"comment_id":114406554,"body_markdown":"Did you try right Klick in pom.xml and then maven-&gt;reimport","body":"Did you try right Klick in pom.xml and then maven-&gt;reimport"},{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":0,"creation_date":1604608299,"post_id":64697003,"comment_id":114406575,"body_markdown":"Or do a mvn clean and then reimport dependencies?","body":"Or do a mvn clean and then reimport dependencies?"},{"owner":{"account_id":19071845,"reputation":11,"user_id":13925831,"display_name":"Flavio Rodrigues"},"score":0,"creation_date":1607953456,"post_id":64697003,"comment_id":115425654,"body_markdown":"Hey, guys, sorry for not answering before. O got it. I reimport and update maven.\nThanks all.","body":"Hey, guys, sorry for not answering before. O got it. I reimport and update maven. Thanks all."}],"owner":{"account_id":19071845,"reputation":11,"user_id":13925831,"display_name":"Flavio Rodrigues"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638137042,"creation_date":1604578479,"question_id":64697003,"body_markdown":"I got this message in my pom file. Should I need to add or remove any dependency or plugin inside my pom? It looks like maven is not recognizing the Spring Boot version.\r\nthanks in advance. I&#39;ve already tried to remove and add some dependencies but the error still persists.  \r\n\r\nPom File:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.algaworks&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;artigo-spring-boot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;artigo-spring-boot&lt;/name&gt;\r\n\t&lt;description&gt;Projeto de exemplo para o artigo&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Project &#39;org.springframework.boot:spring-boot-starter-parent:2.3.5.RELEASE&#39; not found","body":"<p>I got this message in my pom file. Should I need to add or remove any dependency or plugin inside my pom? It looks like maven is not recognizing the Spring Boot version.\nthanks in advance. I've already tried to remove and add some dependencies but the error still persists.</p>\n<p>Pom File:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.algaworks&lt;/groupId&gt;\n    &lt;artifactId&gt;artigo-spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;artigo-spring-boot&lt;/name&gt;\n    &lt;description&gt;Projeto de exemplo para o artigo&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","elasticsearch"],"comments":[{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1604595607,"post_id":64701778,"comment_id":114401249,"body_markdown":"can you post the request(url, body etc) that you are using on postman?","body":"can you post the request(url, body etc) that you are using on postman?"},{"owner":{"account_id":18230674,"reputation":21,"user_id":14018455,"display_name":"Joseph_lpz"},"score":0,"creation_date":1604597237,"post_id":64701778,"comment_id":114402018,"body_markdown":"curl --location --request POST &#39;localhost:8080/persona&#39; \\\n--header &#39;Content-Type: application/json&#39; \\\n--data-raw &#39;{\n    &quot;id&quot;:1,\n    &quot;nombre&quot;:&quot;alan&quot;,\n    &quot;apellido&quot;:&quot;lazo&quot; \n    \n}\nthis is the curl of request","body":"curl --location --request POST &#39;localhost:8080/persona&#39; \\ --header &#39;Content-Type: application/json&#39; \\ --data-raw &#39;{     &quot;id&quot;:1,     &quot;nombre&quot;:&quot;alan&quot;,     &quot;apellido&quot;:&quot;lazo&quot;       } this is the curl of request"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1604599964,"post_id":64701778,"comment_id":114403192,"body_markdown":"It is most likely due to version mismatch between your elasticsearch app and the dependencies you are using. Do you know the elasticsearch version that you are using? Spring Boot 2.3.5 works well with ES 7.6.*","body":"It is most likely due to version mismatch between your elasticsearch app and the dependencies you are using. Do you know the elasticsearch version that you are using? Spring Boot 2.3.5 works well with ES 7.6.*"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1604600118,"post_id":64701778,"comment_id":114403256,"body_markdown":"Also, since you are using `spring-boot-starter-data-elasticsearch`, you don&#39;t need to separately define `elasticsearch-rest-high-level-client` and `elasticsearch` dependencies. Also, i noticed you are using v7.4 while sprng boot 2.3.5 is compatible with 7.6. You can simply delete these two dependencies.","body":"Also, since you are using <code>spring-boot-starter-data-elasticsearch</code>, you don&#39;t need to separately define <code>elasticsearch-rest-high-level-client</code> and <code>elasticsearch</code> dependencies. Also, i noticed you are using v7.4 while sprng boot 2.3.5 is compatible with 7.6. You can simply delete these two dependencies."},{"owner":{"account_id":18230674,"reputation":21,"user_id":14018455,"display_name":"Joseph_lpz"},"score":0,"creation_date":1604601320,"post_id":64701778,"comment_id":114403819,"body_markdown":"Thank you very much for your answer, I removed both dependencies and now the error changed to `Elasticsearch exception [type = invalid_type_name_exception, reason = Document mapping type name can&#39;t start with &#39;_&#39;, found: [_doc]]`\n\nI guess it is an error with the entity class and the document tag","body":"Thank you very much for your answer, I removed both dependencies and now the error changed to <code>Elasticsearch exception [type = invalid_type_name_exception, reason = Document mapping type name can&#39;t start with &#39;_&#39;, found: [_doc]]</code>  I guess it is an error with the entity class and the document tag"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1604601386,"post_id":64701778,"comment_id":114403848,"body_markdown":"Which version of elasticsearch client you are using?","body":"Which version of elasticsearch client you are using?"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1604601582,"post_id":64701778,"comment_id":114403935,"body_markdown":"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions Look at this for compatibility","body":"<a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.versions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/elasticsearch/docs/current/refere&zwnj;&#8203;nce/&hellip;</a> Look at this for compatibility"},{"owner":{"account_id":18230674,"reputation":21,"user_id":14018455,"display_name":"Joseph_lpz"},"score":0,"creation_date":1604601680,"post_id":64701778,"comment_id":114403971,"body_markdown":"`{\n  &quot;name&quot; : &quot;F1TLE_5&quot;,\n  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,\n  &quot;cluster_uuid&quot; : &quot;2p5yCN96RpC6fkh6I9sZtw&quot;,\n  &quot;version&quot; : {\n    &quot;number&quot; : &quot;5.5.0&quot;,\n    &quot;build_hash&quot; : &quot;260387d&quot;,\n    &quot;build_date&quot; : &quot;2017-06-30T23:16:05.735Z&quot;,\n    &quot;build_snapshot&quot; : false,\n    &quot;lucene_version&quot; : &quot;6.6.0&quot;\n  },\n  &quot;tagline&quot; : &quot;You Know, for Search&quot;\n}\n`\nyou were right maybe the problem was the version","body":"<code>{   &quot;name&quot; : &quot;F1TLE_5&quot;,   &quot;cluster_name&quot; : &quot;elasticsearch&quot;,   &quot;cluster_uuid&quot; : &quot;2p5yCN96RpC6fkh6I9sZtw&quot;,   &quot;version&quot; : {     &quot;number&quot; : &quot;5.5.0&quot;,     &quot;build_hash&quot; : &quot;260387d&quot;,     &quot;build_date&quot; : &quot;2017-06-30T23:16:05.735Z&quot;,     &quot;build_snapshot&quot; : false,     &quot;lucene_version&quot; : &quot;6.6.0&quot;   },   &quot;tagline&quot; : &quot;You Know, for Search&quot; } </code> you were right maybe the problem was the version"},{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":0,"creation_date":1604601795,"post_id":64701778,"comment_id":114404013,"body_markdown":"Yes. It looks you are using elasticsearch client 5.5.0. that&#39;s super old. 7.6 and higher should work fine","body":"Yes. It looks you are using elasticsearch client 5.5.0. that&#39;s super old. 7.6 and higher should work fine"},{"owner":{"account_id":18230674,"reputation":21,"user_id":14018455,"display_name":"Joseph_lpz"},"score":0,"creation_date":1604603966,"post_id":64701778,"comment_id":114404938,"body_markdown":"Thank you very much friend for your help, it was indeed a version problem, I really thank you","body":"Thank you very much friend for your help, it was indeed a version problem, I really thank you"}],"owner":{"account_id":18230674,"reputation":21,"user_id":14018455,"display_name":"Joseph_lpz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638136993,"creation_date":1604595386,"question_id":64701778,"body_markdown":"I am new to implementing elasticsearch, I am trying to implement it in a project, to use the spring data methods, such as save (), findAll (), etc. but apparently, spring boor is not doing the retraction towards the elasticsearch engine.\r\n\r\nmy pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t&lt;repository&gt;\r\n\t\t&lt;id&gt;es-snapshots&lt;/id&gt;\r\n\t\t&lt;name&gt;elasticsearch snapshot repo&lt;/name&gt;\r\n\t\t&lt;url&gt;https://snapshots.elastic.co/maven/&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n\t&lt;repository&gt;\r\n\t\t&lt;id&gt;elastic-lucene-snapshots&lt;/id&gt;\r\n\t\t&lt;name&gt;Elastic Lucene Snapshots&lt;/name&gt;\r\n\t\t&lt;url&gt;https://s3.amazonaws.com/download.elasticsearch.org/lucenesnapshots/83f9835&lt;/url&gt;\r\n\t\t&lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\r\n\t\t&lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\r\n\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\nmy entity\r\n\r\n```java\r\nimport lombok.Data;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.elasticsearch.annotations.Document;\r\n\r\n@Document(indexName = &quot;persona&quot;)\r\n@Data\r\npublic class Persona {\r\n\r\n    @Id\r\n    public int id;\r\n\r\n    public String nombre;\r\n\r\n    public String apellido;\r\n}\r\n``` \r\n\r\nmy config class\r\n```java\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\r\nimport org.springframework.data.elasticsearch.client.RestClients;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate;\r\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n\r\n@Configuration\r\n@EnableElasticsearchRepositories(basePackages = &quot;com.example.demo.elasticRepository&quot;)\r\npublic class RestClientConfig {\r\n\r\n    @Bean\r\n    public RestHighLevelClient client() {\r\n        ClientConfiguration clientConfiguration\r\n                = ClientConfiguration.builder()\r\n                .connectedTo(&quot;localhost:9200&quot;)\r\n                .build();\r\n\r\n        return RestClients.create(clientConfiguration).rest();\r\n    }\r\n\r\n    @Bean\r\n    public ElasticsearchOperations elasticsearchTemplate() {\r\n        return new ElasticsearchRestTemplate(client());\r\n    }\r\n}\r\n```\r\nmy controller\r\n\r\n```java\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/persona&quot;)\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class PersonaController {\r\n\r\n    final PersonaElasticRepository personaElasticRepository;\r\n    final ElasticsearchRestTemplate elasticsearchRestTemplate;\r\n\r\n    @PostMapping()\r\n    @ResponseBody()\r\n    public ResponseEntity&lt;String&gt; crear(@RequestBody PersonaDTO requestDTO)\r\n    {\r\n        Persona persona = new Persona();\r\n        persona.nombre=requestDTO.getNombre();\r\n        persona.apellido=requestDTO.getApellido();\r\n\r\n        personaElasticRepository.save(persona);\r\n        return new ResponseEntity(JsonResponse.success(&quot;Viaje creado con &#233;xito&quot;, persona, Views.PersonaListar.class), HttpStatus.CREATED);\r\n    }\r\n    @GetMapping( produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody()\r\n    public ResponseEntity&lt;String&gt; listar()\r\n    {\r\n        List&lt;Persona&gt; persona = new ArrayList&lt;&gt;();\r\n        persona=personaElasticRepository.findAll();\r\n        return new ResponseEntity(JsonResponse.success(&quot;Viaje creado con &#233;xito&quot;, persona, Views.PersonaListar.class), HttpStatus.CREATED);\r\n    }\r\n}\r\n```\r\n\r\nmy repository\r\n```java\r\nimport com.example.demo.entity.Persona;\r\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic interface PersonaElasticRepository extends ElasticsearchRepository&lt;Persona,Integer&gt; {\r\n\r\n    List&lt;Persona&gt; findAll();\r\n}\r\n```\r\n\r\nthe problem comes when I try to make a call through postman, towards my application it throws this error by console\r\n\r\n```\r\nSuppressed: org.elasticsearch.client.ResponseException: method [PUT], host [http://localhost:9200], URI [/persona/_doc/0?timeout=1m], status line [HTTP/1.1 400 Bad Request]\r\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;invalid_type_name_exception&quot;,&quot;reason&quot;:&quot;Document mapping type name can&#39;t start with &#39;_&#39;, found: [_doc]&quot;}],&quot;type&quot;:&quot;invalid_type_name_exception&quot;,&quot;reason&quot;:&quot;Document mapping type name can&#39;t start with &#39;_&#39;, found: [_doc]&quot;},&quot;status&quot;:400}\r\n```\r\nsorry for my english but this is a translation\r\n\t","title":"Springboot Elasticsearch using Spring data - I can&#39;t use the respository&#39;s own methods","body":"<p>I am new to implementing elasticsearch, I am trying to implement it in a project, to use the spring data methods, such as save (), findAll (), etc. but apparently, spring boor is not doing the retraction towards the elasticsearch engine.</p>\n<p>my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n            &lt;version&gt;7.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;7.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;es-snapshots&lt;/id&gt;\n        &lt;name&gt;elasticsearch snapshot repo&lt;/name&gt;\n        &lt;url&gt;https://snapshots.elastic.co/maven/&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;elastic-lucene-snapshots&lt;/id&gt;\n        &lt;name&gt;Elastic Lucene Snapshots&lt;/name&gt;\n        &lt;url&gt;https://s3.amazonaws.com/download.elasticsearch.org/lucenesnapshots/83f9835&lt;/url&gt;\n        &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\n        &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>my entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.elasticsearch.annotations.Document;\n\n@Document(indexName = &quot;persona&quot;)\n@Data\npublic class Persona {\n\n    @Id\n    public int id;\n\n    public String nombre;\n\n    public String apellido;\n}\n</code></pre>\n<p>my config class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.elasticsearch.client.RestHighLevelClient;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\nimport org.springframework.data.elasticsearch.client.RestClients;\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\nimport org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate;\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\n\n@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.example.demo.elasticRepository&quot;)\npublic class RestClientConfig {\n\n    @Bean\n    public RestHighLevelClient client() {\n        ClientConfiguration clientConfiguration\n                = ClientConfiguration.builder()\n                .connectedTo(&quot;localhost:9200&quot;)\n                .build();\n\n        return RestClients.create(clientConfiguration).rest();\n    }\n\n    @Bean\n    public ElasticsearchOperations elasticsearchTemplate() {\n        return new ElasticsearchRestTemplate(client());\n    }\n}\n</code></pre>\n<p>my controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/persona&quot;)\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class PersonaController {\n\n    final PersonaElasticRepository personaElasticRepository;\n    final ElasticsearchRestTemplate elasticsearchRestTemplate;\n\n    @PostMapping()\n    @ResponseBody()\n    public ResponseEntity&lt;String&gt; crear(@RequestBody PersonaDTO requestDTO)\n    {\n        Persona persona = new Persona();\n        persona.nombre=requestDTO.getNombre();\n        persona.apellido=requestDTO.getApellido();\n\n        personaElasticRepository.save(persona);\n        return new ResponseEntity(JsonResponse.success(&quot;Viaje creado con éxito&quot;, persona, Views.PersonaListar.class), HttpStatus.CREATED);\n    }\n    @GetMapping( produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody()\n    public ResponseEntity&lt;String&gt; listar()\n    {\n        List&lt;Persona&gt; persona = new ArrayList&lt;&gt;();\n        persona=personaElasticRepository.findAll();\n        return new ResponseEntity(JsonResponse.success(&quot;Viaje creado con éxito&quot;, persona, Views.PersonaListar.class), HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>my repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.example.demo.entity.Persona;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n\nimport java.util.List;\n\npublic interface PersonaElasticRepository extends ElasticsearchRepository&lt;Persona,Integer&gt; {\n\n    List&lt;Persona&gt; findAll();\n}\n</code></pre>\n<p>the problem comes when I try to make a call through postman, towards my application it throws this error by console</p>\n<pre><code>Suppressed: org.elasticsearch.client.ResponseException: method [PUT], host [http://localhost:9200], URI [/persona/_doc/0?timeout=1m], status line [HTTP/1.1 400 Bad Request]\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;invalid_type_name_exception&quot;,&quot;reason&quot;:&quot;Document mapping type name can't start with '_', found: [_doc]&quot;}],&quot;type&quot;:&quot;invalid_type_name_exception&quot;,&quot;reason&quot;:&quot;Document mapping type name can't start with '_', found: [_doc]&quot;},&quot;status&quot;:400}\n</code></pre>\n<p>sorry for my english but this is a translation</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","builder-pattern"],"comments":[{"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"score":1,"creation_date":1604600478,"post_id":64702386,"comment_id":114403418,"body_markdown":"`is this the best way to map entity to dto&#39;s with logic as database conversions` - IMO you don&#39;t need to complicate the type conversion this way. Also, `best way` IMO is to use tools like mapstruct mapper interfaces","body":"<code>is this the best way to map entity to dto&#39;s with logic as database conversions</code> - IMO you don&#39;t need to complicate the type conversion this way. Also, <code>best way</code> IMO is to use tools like mapstruct mapper interfaces"}],"owner":{"account_id":19629466,"reputation":3,"user_id":14368108,"display_name":"mcolution"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638136936,"creation_date":1604597596,"question_id":64702386,"body_markdown":"I&#39;m creating an API that transmits data from another web service. I&#39;m looking for good practice to convert the objects from the web service to my DTO&#39;s. The conversion from the object to DTO has some logic.\r\n\r\n\r\nI have now implemented this (pseudo-code):\r\n\r\nI have a main builder that contains generic code that the other builders can use.\r\n\r\n    @Component\r\n    public abstract class RelationDtoBuilder &lt;T extends RelationDtoBuilder &lt;T&gt;&gt; {\r\n    protected abstract T getThis();\r\n\r\n    @Autowired\r\n    private PhoneNumberDtoBuilder phoneNumberDtoBuilder ;\r\n\r\n    protected List&lt;PhoneNumberDto&gt; phoneNumbers= new ArrayList&lt;&gt;();\r\n\r\n    public T setPhoneNumbers(List&lt;PhoneNumber&gt; phoneNumbers) {\r\n        if (phoneNumbers!= null) {\r\n            phoneNumbers.stream().forEach(phoneNumber -&gt; {\r\n                this.phoneNumbers.add(\r\n                        phoneNumberDtoBuilder \r\n                                .setNumber(branch.getNumber())\r\n                                .setType(branch.getType())\r\n                                .build()\r\n                );            });\r\n        }\r\n        return getThis();\r\n    }\r\n\r\n    }\r\n\r\nSubclass builder for a PersonDto\r\n\r\n    @Component\r\n    public final class PersonDtoBuilder extends RelationDtoBuilder&lt;PersonDtoBuilder&gt; {\r\n\r\n    @Override\r\n    protected PersonDtoBuilder getThis() {\r\n        return this;\r\n    }\r\n\r\n    public PersonDto build() {\r\n        PersonDto personDto = new PersonDto();\r\n        PersonDto.setPhoneNumbers(super.phoneNumbers);\r\n        return PersonDto;\r\n    }\r\n\r\n    }\r\n\r\nSubclass builder for a CompanyDto\r\n\r\n    @Component\r\n    public final class CompanyDtoBuilder extends RelationDtoBuilder&lt;CompanyDtoBuilder &gt; {\r\n\r\n    protected List&lt;BranchDto&gt; branches = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected CompanyDtoBuilder getThis() {\r\n        return this;\r\n    }\r\n\r\n    public CompanyDtoBuilder setBranches(List&lt;Branch&gt; branches) {\r\n        if (branches != null) {\r\n            branches.stream().forEach(branch -&gt; {\r\n                this.branches.add(\r\n                        branchDtoBuilder\r\n                                .setName(branch.getName())\r\n                                .setType(branch.getType())\r\n                                .setPhoneNumbers(branch.getPhoneNumbers)\r\n                                .build()\r\n                );\r\n            });          \r\n        }\r\n        return getThis();\r\n    }\r\n\r\n\r\n    public CompanyDtoBuilder build() {\r\n        CompanyDto companyDto= new CompanyDto ();\r\n        companyDto.setPhoneNumbers(super.phoneNumbers);\r\n        companyDto.setBranches(this.branches);\r\n        return CompanyDto;\r\n    }\r\n\r\n\r\n    }\r\n\r\nBranchDtoBuilder\r\n\r\n    @Component\r\n    public final class BranchDtoBuilder extends RelationDtoBuilder&lt;PersonDtoBuilder&gt;{\r\n\r\n    @Autowired\r\n    private ValueConverterService valueConverterService;\r\n\r\n    private String name;\r\n    private String type;\r\n\r\n    @Override\r\n    protected BranchDtoBuilder getThis() {\r\n        return this;\r\n    }\r\n\r\n    public BranchDtoBuilder setName(String name) {\r\n        this.name= name;\r\n        return this;\r\n    }\r\n\r\n    public BranchDtoBuilder setType(String type) {\r\n        if (type != null) {\r\n            this.type= valueConverterService.convertValue(&quot;branchType&quot;, type);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public BranchDtoBuilder build() {\r\n        BranchDto branchDto = new branchDto();\r\n        branchDto.setSoort(this.soort);\r\n        branchDto.setWaarde(this.waarde);\r\n        branchDto.setPhoneNumbers(this.datumIngang);\r\n        return branchDto ;\r\n    }\r\n\r\n    }\r\n\r\n\r\nProblem is that de BranchDtoBuilder is using the same reference for phone numbers as the CompanyDtoBuilder. How can I achieve constructing the DTO&#39;s without having duplicate code?\r\n\r\nSecondly, is this the best way to map entities to DTO&#39;s with logic as database conversions (BranchDtoBuilder)?","title":"Spring boot builder pattern entity to dto","body":"<p>I'm creating an API that transmits data from another web service. I'm looking for good practice to convert the objects from the web service to my DTO's. The conversion from the object to DTO has some logic.</p>\n<p>I have now implemented this (pseudo-code):</p>\n<p>I have a main builder that contains generic code that the other builders can use.</p>\n<pre><code>@Component\npublic abstract class RelationDtoBuilder &lt;T extends RelationDtoBuilder &lt;T&gt;&gt; {\nprotected abstract T getThis();\n\n@Autowired\nprivate PhoneNumberDtoBuilder phoneNumberDtoBuilder ;\n\nprotected List&lt;PhoneNumberDto&gt; phoneNumbers= new ArrayList&lt;&gt;();\n\npublic T setPhoneNumbers(List&lt;PhoneNumber&gt; phoneNumbers) {\n    if (phoneNumbers!= null) {\n        phoneNumbers.stream().forEach(phoneNumber -&gt; {\n            this.phoneNumbers.add(\n                    phoneNumberDtoBuilder \n                            .setNumber(branch.getNumber())\n                            .setType(branch.getType())\n                            .build()\n            );            });\n    }\n    return getThis();\n}\n\n}\n</code></pre>\n<p>Subclass builder for a PersonDto</p>\n<pre><code>@Component\npublic final class PersonDtoBuilder extends RelationDtoBuilder&lt;PersonDtoBuilder&gt; {\n\n@Override\nprotected PersonDtoBuilder getThis() {\n    return this;\n}\n\npublic PersonDto build() {\n    PersonDto personDto = new PersonDto();\n    PersonDto.setPhoneNumbers(super.phoneNumbers);\n    return PersonDto;\n}\n\n}\n</code></pre>\n<p>Subclass builder for a CompanyDto</p>\n<pre><code>@Component\npublic final class CompanyDtoBuilder extends RelationDtoBuilder&lt;CompanyDtoBuilder &gt; {\n\nprotected List&lt;BranchDto&gt; branches = new ArrayList&lt;&gt;();\n\n@Override\nprotected CompanyDtoBuilder getThis() {\n    return this;\n}\n\npublic CompanyDtoBuilder setBranches(List&lt;Branch&gt; branches) {\n    if (branches != null) {\n        branches.stream().forEach(branch -&gt; {\n            this.branches.add(\n                    branchDtoBuilder\n                            .setName(branch.getName())\n                            .setType(branch.getType())\n                            .setPhoneNumbers(branch.getPhoneNumbers)\n                            .build()\n            );\n        });          \n    }\n    return getThis();\n}\n\n\npublic CompanyDtoBuilder build() {\n    CompanyDto companyDto= new CompanyDto ();\n    companyDto.setPhoneNumbers(super.phoneNumbers);\n    companyDto.setBranches(this.branches);\n    return CompanyDto;\n}\n\n\n}\n</code></pre>\n<p>BranchDtoBuilder</p>\n<pre><code>@Component\npublic final class BranchDtoBuilder extends RelationDtoBuilder&lt;PersonDtoBuilder&gt;{\n\n@Autowired\nprivate ValueConverterService valueConverterService;\n\nprivate String name;\nprivate String type;\n\n@Override\nprotected BranchDtoBuilder getThis() {\n    return this;\n}\n\npublic BranchDtoBuilder setName(String name) {\n    this.name= name;\n    return this;\n}\n\npublic BranchDtoBuilder setType(String type) {\n    if (type != null) {\n        this.type= valueConverterService.convertValue(&quot;branchType&quot;, type);\n    }\n    return this;\n}\n\npublic BranchDtoBuilder build() {\n    BranchDto branchDto = new branchDto();\n    branchDto.setSoort(this.soort);\n    branchDto.setWaarde(this.waarde);\n    branchDto.setPhoneNumbers(this.datumIngang);\n    return branchDto ;\n}\n\n}\n</code></pre>\n<p>Problem is that de BranchDtoBuilder is using the same reference for phone numbers as the CompanyDtoBuilder. How can I achieve constructing the DTO's without having duplicate code?</p>\n<p>Secondly, is this the best way to map entities to DTO's with logic as database conversions (BranchDtoBuilder)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":4,"creation_date":1483538340,"post_id":41465575,"comment_id":70136636,"body_markdown":"Because that is not a valid java code, as java doesn&#39;t support pointers.","body":"Because that is not a valid java code, as java doesn&#39;t support pointers."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1483538631,"creation_date":1483538413,"answer_id":41465645,"question_id":41465575,"body_markdown":"Java is not C++.\r\n\r\nYou need to write swap differently in Java.\r\n\r\n    public static void swap(int[] a, int i, int j) {\r\n        int t = a[i];\r\n        a[i] = a[j];\r\n        a[j] = t;\r\n    }\r\n\r\nJava doesn&#39;t support `&amp;` and `*` unary operators.\r\n\r\nOn the plus side you don&#39;t need to pass the length of an array\r\n\r\n    public static void bubble(int[] a) {\r\n        for (int i = 0; i &lt; a.length; i++) {","title":"Why does java throw an error when we use address and pointer for the following sorting program?","body":"<p>Java is not C++.</p>\n\n<p>You need to write swap differently in Java.</p>\n\n<pre><code>public static void swap(int[] a, int i, int j) {\n    int t = a[i];\n    a[i] = a[j];\n    a[j] = t;\n}\n</code></pre>\n\n<p>Java doesn't support <code>&amp;</code> and <code>*</code> unary operators.</p>\n\n<p>On the plus side you don't need to pass the length of an array</p>\n\n<pre><code>public static void bubble(int[] a) {\n    for (int i = 0; i &lt; a.length; i++) {\n</code></pre>\n"}],"owner":{"account_id":9967151,"reputation":61,"user_id":7374504,"display_name":"Tarun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"accepted_answer_id":41465645,"answer_count":1,"score":-6,"last_activity_date":1638136894,"creation_date":1483538265,"question_id":41465575,"body_markdown":"This is a simple bubblesort program.\r\nMy doubt is with the swapping part.\r\n\r\n    package tutorials;\r\n\r\n    import java.util.*;\r\n\r\n    public class Bubblesort {\r\n    \t//static int a[];\r\n    \tpublic static void main(String [] args){\r\n    \t\tScanner arr = new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;enter the no. of elements&quot;);\r\n    \t\tint e=arr.nextInt();\r\n    \t\tint a[]=new int[e];\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;e;i++)\r\n    \t\t a[i] = (int) arr.nextInt();\r\n    \t\t\r\n    \t\tint b=a.length;\r\n    \t\t\r\n    \t\tbubble(a,b);\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;e;i++)\r\n    \t\t\tSystem.out.print(&quot; &quot;+a[i]);\r\n    \t\tarr.close();\r\n    \t\t   \r\n    \t}\r\n    \tpublic static void bubble(int a[],int c){\r\n    \t\tfor(int i=0;i&lt;c;i++){\r\n    \t\t\tfor(int j=0;j&lt;c-1;j++){\r\n    \t\t\t\tif(a[j]&gt;a[j+1]){\r\n    \t\t\t\t\tswap(&amp;a[j],&amp;a[j+1]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void swap(int *p,int *q){\r\n    \t\tint temp;\r\n    \t\ttemp=p;\r\n    \t\tp=q;\r\n    \t\tq=temp;\t\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I send the address and receive it through a pointer, it shows an error. Why?\r\n","title":"Why does java throw an error when we use address and pointer for the following sorting program?","body":"<p>This is a simple bubblesort program.\nMy doubt is with the swapping part.</p>\n<pre><code>package tutorials;\n\nimport java.util.*;\n\npublic class Bubblesort {\n    //static int a[];\n    public static void main(String [] args){\n        Scanner arr = new Scanner(System.in);\n        System.out.print(&quot;enter the no. of elements&quot;);\n        int e=arr.nextInt();\n        int a[]=new int[e];\n        \n        for(int i=0;i&lt;e;i++)\n         a[i] = (int) arr.nextInt();\n        \n        int b=a.length;\n        \n        bubble(a,b);\n        \n        for(int i=0;i&lt;e;i++)\n            System.out.print(&quot; &quot;+a[i]);\n        arr.close();\n           \n    }\n    public static void bubble(int a[],int c){\n        for(int i=0;i&lt;c;i++){\n            for(int j=0;j&lt;c-1;j++){\n                if(a[j]&gt;a[j+1]){\n                    swap(&amp;a[j],&amp;a[j+1]);\n                }\n            }\n        }\n    }\n    public static void swap(int *p,int *q){\n        int temp;\n        temp=p;\n        p=q;\n        q=temp; \n    }\n\n}\n</code></pre>\n<p>When I send the address and receive it through a pointer, it shows an error. Why?</p>\n"},{"tags":["java","datatables","xhtml","richfaces"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635868540,"post_id":69812170,"comment_id":123404798,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1508365,"reputation":1869,"user_id":1411160,"display_name":"Emil Sierżęga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638136757,"creation_date":1638136757,"answer_id":70147828,"question_id":69812170,"body_markdown":"Page won&#39;t change automatically (e.g on filtering). But you can do it yourself. For example:\r\n\r\nIn JavaScript:\r\n\r\n    RichFaces.component(scrollerName).first();\r\n\r\nIn Java:\r\n\r\n\tUIDataScroller scroller = (UIDataScroller) findComponent(scrollerClientId);\r\n\tif (scroller.getPage() &gt; 1) {\r\n\t\tDataScrollEvent resetScrollerEvent = new DataScrollEvent(scroller,\r\n\t\t\t\tInteger.toString(scroller.getPage()), &quot;1&quot;, 1);\r\n\t\tscroller.broadcast(resetScrollerEvent);\r\n\t}\r\n","title":"rich:dataScroller won&#39;t reset at page 1 on a new search","body":"<p>Page won't change automatically (e.g on filtering). But you can do it yourself. For example:</p>\n<p>In JavaScript:</p>\n<pre><code>RichFaces.component(scrollerName).first();\n</code></pre>\n<p>In Java:</p>\n<pre><code>UIDataScroller scroller = (UIDataScroller) findComponent(scrollerClientId);\nif (scroller.getPage() &gt; 1) {\n    DataScrollEvent resetScrollerEvent = new DataScrollEvent(scroller,\n            Integer.toString(scroller.getPage()), &quot;1&quot;, 1);\n    scroller.broadcast(resetScrollerEvent);\n}\n</code></pre>\n"}],"owner":{"account_id":15149829,"reputation":26,"user_id":10932429,"display_name":"Alien F."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638136757,"creation_date":1635863712,"question_id":69812170,"body_markdown":"i&#39;m facing a problem with component rich:dataScroller:\r\n\r\nwhen i trigger an actionListener to fill a datatable with new data and the table (made with component rich:dataTable) is currently at page &gt; 1, the table updated will update correctly but not pointing at page #1 as expected.\r\n\r\nis there any way to reset component dataScroller or to tell the table to reset its pagination in that situation?\r\n\r\nthanks in advice,\r\n","title":"rich:dataScroller won&#39;t reset at page 1 on a new search","body":"<p>i'm facing a problem with component rich:dataScroller:</p>\n<p>when i trigger an actionListener to fill a datatable with new data and the table (made with component rich:dataTable) is currently at page &gt; 1, the table updated will update correctly but not pointing at page #1 as expected.</p>\n<p>is there any way to reset component dataScroller or to tell the table to reset its pagination in that situation?</p>\n<p>thanks in advice,</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":1,"creation_date":1604618574,"post_id":64706432,"comment_id":114410039,"body_markdown":"when you do post, you don&#39;t get it as requestParamater. It would be on your requestBody.","body":"when you do post, you don&#39;t get it as requestParamater. It would be on your requestBody."},{"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"score":0,"creation_date":1604619055,"post_id":64706432,"comment_id":114410157,"body_markdown":"Are you sure that you have a Project with the projectId you provided at ProjectExpenditureService&#39;s addExpenditure method. Debug the service method and try to see the values of your parameters, especially projectId. And then be sure that you have a project in the database with that project id.","body":"Are you sure that you have a Project with the projectId you provided at ProjectExpenditureService&#39;s addExpenditure method. Debug the service method and try to see the values of your parameters, especially projectId. And then be sure that you have a project in the database with that project id."}],"owner":{"account_id":19444717,"reputation":1,"user_id":14222518,"display_name":"Taehee Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638136663,"creation_date":1604616478,"question_id":64706432,"body_markdown":"I am building simple CRUD examples using Spring. \r\nI have two entities (Project) and (ProjectExpenditure) and they have M:1 relationship.\r\nMy problem is &quot;When I submit ProjectExpenditure via POST, null(for type=&quot;text&quot;) and 0 (for type=&quot;number&quot;) are saved&quot; instead of real data sent.\r\n\r\n**Entity 1 - Project**\r\n```java\r\n@Entity\r\n@Getter @Setter\r\n@Table(name = &quot;projects&quot;)\r\npublic class Project  {     \r\n    @Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n    private int budget;\t\r\n\t\t\r\n\t    \r\n\t// Business Logic:  Adding Expenditure will minus Project budget \r\n\tpublic void minusBudget(int expenditure) {\r\n\t\tint leftBudget = this.budget -= expenditure;\r\n\t\t\r\n\t\tif(leftBudget &lt;= 0) {\r\n\t\t\tthrow new NotEnoughBudgetException (&quot;Budget is not enough&quot;);\r\n\t\t}\r\n\t\r\n\t\tthis.budget = leftBudget;\r\n\t} \r\n}\r\n```\r\n\r\n**Entity 2 - ProjectExpenditure**\r\n```java\r\n@Entity\r\n@Getter @Setter\r\n@RequiredArgsConstructor\r\n@Table(name = &quot;project_expenditure&quot;)\r\npublic class ProjectExpenditure{\r\n    @Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne (fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;project_id&quot;)\r\n\tprivate Project project;\r\n\r\n\tprivate int cost;\r\n\r\n\tprivate String description;\r\n\r\n\t\r\n\t\r\n\t// Add Expenditure: Adding Expenditure will minus Project budget \r\n\tpublic ProjectExpenditure createExpenditure (Project project, int cost, String description) {\r\n\t\tProjectExpenditure expenditure = new ProjectExpenditure();\r\n\t\t\r\n\t\texpenditure.setProject(project);\r\n\t\texpenditure.setCost(cost);\r\n\t\texpenditure.setDescription(description);\r\n\t\t\r\n\t\tproject.minusBudget(cost);\t\r\n\t\r\n\t\treturn expenditure;\r\n\t}\r\n}\r\n```\r\n\r\n**Repositories**\r\n```java\r\n@RepositoryRestResource\r\npublic interface ProjectRepository extends CrudRepository&lt;Project, Long&gt; { }\r\n```\r\n\r\n```java\r\n@RepositoryRestResource\r\npublic interface ProjectExpenditureRepository extends CrudRepository&lt;ProjectExpenditure, Long&gt; { } \r\n```\r\n\r\n\r\n**Service**\r\n```java\r\n@Service\r\n@Transactional(readOnly = true)\r\n@RequiredArgsConstructor\r\npublic class ProjectExpenditureService {\r\n\r\n\tprivate final ProjectRepository pRepository;\r\n\tprivate final ProjectExpenditureRepository peRepository;\r\n\t\r\n\t/*\r\n\t * Add Expenditure\r\n\t */\r\n\t@Transactional\r\n\tpublic Long addExpenditure (Long projectId, int cost, String description) {\r\n\t\t\r\n\t\t// Create ProjectExpenditure\r\n\t\tProjectExpenditure projectExpenditure = new ProjectExpenditure();\r\n\t\tpRepository.findById(projectId).ifPresent(p -&gt; projectExpenditure.createExpenditure(p, cost, description));\r\n\t\r\n\t\t\r\n\t\t// Save ProjectExpenditure\r\n\t\tpeRepository.save(projectExpenditure);\r\n\t\t\r\n\t\treturn projectExpenditure.getId();\r\n\t\r\n\t}\r\n}\r\n``` \r\n\r\n**Controller**\r\n```java\r\n@Controller\r\n@RequiredArgsConstructor\r\npublic class ProjectExpenditureController {\r\n\r\n\tprivate final ProjectRepository pRepository;\r\n\tprivate final ProjectExpenditureRepository peRepository;\r\n\tprivate final ProjectExpenditureService service; \r\n\r\n    // Add Expenditure\r\n\t@GetMapping(value = &quot;expenditureadd/{id}&quot;)\r\n\tpublic String addExpenditure(@PathVariable(&quot;id&quot;) Long projectId, Model model) {\r\n\t\t\r\n\t\tProjectExpenditure expenditure = new ProjectExpenditure();\r\n\t\tpRepository.findById(projectId).ifPresent(p -&gt; expenditure.setProject(p));\r\n\t\tmodel.addAttribute(&quot;expenditure&quot;, expenditure);\r\n\t\t\r\n\t\treturn &quot;expenditure/addexpenditure&quot;;\r\n\t}\r\n\r\n\t@PostMapping(value = &quot;/expenditureadd/{id}&quot;)\r\n\tpublic String expendtirueSubmit(@PathVariable(&quot;id&quot;) Long project_Id, \r\n    @RequestParam(&quot;project.id&quot;) Long projectId, @RequestParam(&quot;cost&quot;) int cost, \r\n    @RequestParam(&quot;description&quot;) String description, Model model) {\r\n\t\r\n\t\tservice.addExpenditure(projectId, cost, description);\t\t\r\n\t\treturn &quot;redirect:/expendituretlist/{id}&quot;;\r\n\t}\r\n}\r\n``` \r\n\r\n**View - addexpenditure**\r\n```html\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n\t  xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;Project Management&lt;/title&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/bootstrap.min.css&quot;\r\n\t  th:href=&quot;@{/css/bootstrap.min.css}&quot; /&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body style=&quot;margin: 15px;&quot;&gt;\r\n&lt;div class=&quot;container&quot;&gt;\r\n\t\t&lt;div th:replace=&quot;fragments/title :: title&quot; /&gt;\r\n\r\n\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t&lt;form  class=&quot;form-horizontal&quot; th:action=&quot;@{/expenditureadd/__${id}__}&quot; th:object=&quot;${expenditure}&quot; method=&quot;post&quot;&gt;\r\n\t\t\r\n\t\t&lt;input type=&quot;hidden&quot; id=&quot;projectId&quot; th:field=&quot;*{project.id}&quot; /&gt; &lt;br&gt;\r\n\t\r\n    \t&lt;label for=&quot;expenditure&quot; class=&quot;control-label col-sm-2&quot;&gt;Expenditure&lt;/label&gt; \r\n\t\t&lt;input type=&quot;number&quot; id=&quot;cost&quot; th:field=&quot;*{cost}&quot; class=&quot;form-control&quot; /&gt; \r\n        &lt;br&gt; \r\n\t\t\r\n\t\t&lt;label for=&quot;description&quot; class=&quot;control-label col-sm-2&quot;&gt;Description&lt;/label&gt;\r\n\t\t&lt;input type=&quot;text&quot; id=&quot;description&quot; th:field=&quot;*{description}&quot; class=&quot;form-control&quot;/&gt; &lt;br&gt;\t\t\r\n\t\t\r\n\t\t\r\n\t\t&lt;input type =&quot;submit&quot; class=&quot;btn btn-success&quot; value=&quot;Submit&quot;/&gt;\r\n \t&lt;/form&gt;\r\n \t&lt;/div&gt;\r\n \t\t&lt;div th:replace=&quot;fragments/footer :: footer&quot; /&gt;\r\n \t&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n``` \r\nAfter submitting new expenditure, database is updated as below:\r\n\r\nid | cost | description | project_id\r\n1  |   0  |     null    |    null\r\n\r\nIs there some problem in mapping?? \r\n","title":"Spring Boot: POST submission saves null in database","body":"<p>I am building simple CRUD examples using Spring.\nI have two entities (Project) and (ProjectExpenditure) and they have M:1 relationship.\nMy problem is &quot;When I submit ProjectExpenditure via POST, null(for type=&quot;text&quot;) and 0 (for type=&quot;number&quot;) are saved&quot; instead of real data sent.</p>\n<p><strong>Entity 1 - Project</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter @Setter\n@Table(name = &quot;projects&quot;)\npublic class Project  {     \n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private int budget; \n        \n        \n    // Business Logic:  Adding Expenditure will minus Project budget \n    public void minusBudget(int expenditure) {\n        int leftBudget = this.budget -= expenditure;\n        \n        if(leftBudget &lt;= 0) {\n            throw new NotEnoughBudgetException (&quot;Budget is not enough&quot;);\n        }\n    \n        this.budget = leftBudget;\n    } \n}\n</code></pre>\n<p><strong>Entity 2 - ProjectExpenditure</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter @Setter\n@RequiredArgsConstructor\n@Table(name = &quot;project_expenditure&quot;)\npublic class ProjectExpenditure{\n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne (fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;project_id&quot;)\n    private Project project;\n\n    private int cost;\n\n    private String description;\n\n    \n    \n    // Add Expenditure: Adding Expenditure will minus Project budget \n    public ProjectExpenditure createExpenditure (Project project, int cost, String description) {\n        ProjectExpenditure expenditure = new ProjectExpenditure();\n        \n        expenditure.setProject(project);\n        expenditure.setCost(cost);\n        expenditure.setDescription(description);\n        \n        project.minusBudget(cost);  \n    \n        return expenditure;\n    }\n}\n</code></pre>\n<p><strong>Repositories</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RepositoryRestResource\npublic interface ProjectRepository extends CrudRepository&lt;Project, Long&gt; { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RepositoryRestResource\npublic interface ProjectExpenditureRepository extends CrudRepository&lt;ProjectExpenditure, Long&gt; { } \n</code></pre>\n<p><strong>Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional(readOnly = true)\n@RequiredArgsConstructor\npublic class ProjectExpenditureService {\n\n    private final ProjectRepository pRepository;\n    private final ProjectExpenditureRepository peRepository;\n    \n    /*\n     * Add Expenditure\n     */\n    @Transactional\n    public Long addExpenditure (Long projectId, int cost, String description) {\n        \n        // Create ProjectExpenditure\n        ProjectExpenditure projectExpenditure = new ProjectExpenditure();\n        pRepository.findById(projectId).ifPresent(p -&gt; projectExpenditure.createExpenditure(p, cost, description));\n    \n        \n        // Save ProjectExpenditure\n        peRepository.save(projectExpenditure);\n        \n        return projectExpenditure.getId();\n    \n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequiredArgsConstructor\npublic class ProjectExpenditureController {\n\n    private final ProjectRepository pRepository;\n    private final ProjectExpenditureRepository peRepository;\n    private final ProjectExpenditureService service; \n\n    // Add Expenditure\n    @GetMapping(value = &quot;expenditureadd/{id}&quot;)\n    public String addExpenditure(@PathVariable(&quot;id&quot;) Long projectId, Model model) {\n        \n        ProjectExpenditure expenditure = new ProjectExpenditure();\n        pRepository.findById(projectId).ifPresent(p -&gt; expenditure.setProject(p));\n        model.addAttribute(&quot;expenditure&quot;, expenditure);\n        \n        return &quot;expenditure/addexpenditure&quot;;\n    }\n\n    @PostMapping(value = &quot;/expenditureadd/{id}&quot;)\n    public String expendtirueSubmit(@PathVariable(&quot;id&quot;) Long project_Id, \n    @RequestParam(&quot;project.id&quot;) Long projectId, @RequestParam(&quot;cost&quot;) int cost, \n    @RequestParam(&quot;description&quot;) String description, Model model) {\n    \n        service.addExpenditure(projectId, cost, description);       \n        return &quot;redirect:/expendituretlist/{id}&quot;;\n    }\n}\n</code></pre>\n<p><strong>View - addexpenditure</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\n&lt;head&gt;\n&lt;title&gt;Project Management&lt;/title&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/bootstrap.min.css&quot;\n      th:href=&quot;@{/css/bootstrap.min.css}&quot; /&gt;\n&lt;/head&gt;\n\n&lt;body style=&quot;margin: 15px;&quot;&gt;\n&lt;div class=&quot;container&quot;&gt;\n        &lt;div th:replace=&quot;fragments/title :: title&quot; /&gt;\n\n        &lt;div class=&quot;form-group&quot;&gt;\n        &lt;form  class=&quot;form-horizontal&quot; th:action=&quot;@{/expenditureadd/__${id}__}&quot; th:object=&quot;${expenditure}&quot; method=&quot;post&quot;&gt;\n        \n        &lt;input type=&quot;hidden&quot; id=&quot;projectId&quot; th:field=&quot;*{project.id}&quot; /&gt; &lt;br&gt;\n    \n        &lt;label for=&quot;expenditure&quot; class=&quot;control-label col-sm-2&quot;&gt;Expenditure&lt;/label&gt; \n        &lt;input type=&quot;number&quot; id=&quot;cost&quot; th:field=&quot;*{cost}&quot; class=&quot;form-control&quot; /&gt; \n        &lt;br&gt; \n        \n        &lt;label for=&quot;description&quot; class=&quot;control-label col-sm-2&quot;&gt;Description&lt;/label&gt;\n        &lt;input type=&quot;text&quot; id=&quot;description&quot; th:field=&quot;*{description}&quot; class=&quot;form-control&quot;/&gt; &lt;br&gt;       \n        \n        \n        &lt;input type =&quot;submit&quot; class=&quot;btn btn-success&quot; value=&quot;Submit&quot;/&gt;\n    &lt;/form&gt;\n    &lt;/div&gt;\n        &lt;div th:replace=&quot;fragments/footer :: footer&quot; /&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>After submitting new expenditure, database is updated as below:</p>\n<p>id | cost | description | project_id\n1  |   0  |     null    |    null</p>\n<p>Is there some problem in mapping??</p>\n"},{"tags":["java","spring","spring-boot","ssl","certificate"],"comments":[{"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"score":0,"creation_date":1604655328,"post_id":64711619,"comment_id":114419009,"body_markdown":"Use it like `keytool -importcert -file&lt;/usr/ssl/trust.jks&gt; -keypass &lt;567890&gt; -keystore -file &lt;/usr/sert/cacerts&gt; -storepass &lt;12387461324&gt;`","body":"Use it like <code>keytool -importcert -file&lt;&#47;usr&#47;ssl&#47;trust.jks&gt; -keypass &lt;567890&gt; -keystore -file &lt;&#47;usr&#47;sert&#47;cacerts&gt; -storepass &lt;12387461324&gt;</code>"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1604687228,"post_id":64711619,"comment_id":114432635,"body_markdown":"This is not a programming question and @Ananthapadmanabhan is still wrong. If trust.jks is in fact a JKS (i.e. a keystore) _containing_ certs, use `keytool -importkeystore -srckeystore /usr/ssl/trust.jks -destkeystore /usr/sert/cacerts` to import/copy its contents. Add `-{src,dest}storepass $pw` if you don&#39;t want to be prompted, but if you are on a multiuser system (less common today) or run untrustworthy software, this allows other users to see your passwords. Put a space between each `-option` and its value and never use `&lt; &gt;`.","body":"This is not a programming question and @Ananthapadmanabhan is still wrong. If trust.jks is in fact a JKS (i.e. a keystore) <i>containing</i> certs, use <code>keytool -importkeystore -srckeystore &#47;usr&#47;ssl&#47;trust.jks -destkeystore &#47;usr&#47;sert&#47;cacerts</code> to import/copy its contents. Add <code>-{src,dest}storepass $pw</code> if you don&#39;t want to be prompted, but if you are on a multiuser system (less common today) or run untrustworthy software, this allows other users to see your passwords. Put a space between each <code>-option</code> and its value and never use <code>&lt; &gt;</code>."}],"owner":{"account_id":15706058,"reputation":19,"user_id":11878838,"display_name":"Александр"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638136599,"creation_date":1604653251,"question_id":64711619,"body_markdown":"I have a file with certificates and I want to add a new SSL certificate to it by using `keytool` command.\r\n\r\nHow do I add the `trust.jks` file to the `cacerts` file?\r\n\r\nI am trying to use something like this:\r\n\r\n    keytool -importsert -file&lt;/usr/ssl/trust.jks&gt; -keypass&lt;567890&gt; -keystore -file&lt;/usr/sert/cacerts&gt; -storepass&lt;12387461324&gt; \r\n\r\nBut I have a syntax error.","title":"Cant import ssl key to cacerts keytool","body":"<p>I have a file with certificates and I want to add a new SSL certificate to it by using <code>keytool</code> command.</p>\n<p>How do I add the <code>trust.jks</code> file to the <code>cacerts</code> file?</p>\n<p>I am trying to use something like this:</p>\n<pre><code>keytool -importsert -file&lt;/usr/ssl/trust.jks&gt; -keypass&lt;567890&gt; -keystore -file&lt;/usr/sert/cacerts&gt; -storepass&lt;12387461324&gt; \n</code></pre>\n<p>But I have a syntax error.</p>\n"},{"tags":["java","spring","spring-boot","proguard"],"owner":{"account_id":16989313,"reputation":51,"user_id":12289261,"display_name":"XiaoyuZhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1638136586,"creation_date":1604658350,"question_id":64712835,"body_markdown":"Startup error\r\n```\r\n2020-11-06 18:07:31.452  WARN 13120 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.maple.MapleApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;a&#39; for bean class [com.maple.a.d.a.a] conflicts with existing, non-compatible bean definition of same name and class [com.maple.a.b.a]\r\n2020-11-06 18:07:31.463 ERROR 13120 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.maple.MapleApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;a&#39; for bean class [com.maple.a.d.a.a] conflicts with existing, non-compatible bean definition of same name and class [com.maple.a.b.a]\r\n```\r\nI tried to use Spring `definition.getBeanClassName()` naming rules, but it didn’t work. Is it too much trouble if you want to manually set the name of each bean on the annotation? Can ProGuard provide the function of not repeating the class name? I haven’t found it yet.","title":"ProGuard will make Spring Bean name conflict","body":"<p>Startup error</p>\n<pre><code>2020-11-06 18:07:31.452  WARN 13120 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.maple.MapleApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'a' for bean class [com.maple.a.d.a.a] conflicts with existing, non-compatible bean definition of same name and class [com.maple.a.b.a]\n2020-11-06 18:07:31.463 ERROR 13120 --- [           main] o.s.boot.SpringApplication               : Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.maple.MapleApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'a' for bean class [com.maple.a.d.a.a] conflicts with existing, non-compatible bean definition of same name and class [com.maple.a.b.a]\n</code></pre>\n<p>I tried to use Spring <code>definition.getBeanClassName()</code> naming rules, but it didn’t work. Is it too much trouble if you want to manually set the name of each bean on the annotation? Can ProGuard provide the function of not repeating the class name? I haven’t found it yet.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","rest"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1604934895,"post_id":64754180,"comment_id":114491605,"body_markdown":"Who is calling `MachineServiceImpl` from where when you run into problems?","body":"Who is calling <code>MachineServiceImpl</code> from where when you run into problems?"},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1604935176,"post_id":64754180,"comment_id":114491744,"body_markdown":"what does the machine object look like?","body":"what does the machine object look like?"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1604935580,"post_id":64754180,"comment_id":114491951,"body_markdown":"Imma go out on a limp here and suggest you remove the `field injection` and switch over to `constructor` injection. `null` injected values during runtime signify that something may have gone wrong during the construction of the required `bean` (in your case the `repository`). Switching over to constructor based injection will result in a much clearer error than the `null` you see.","body":"Imma go out on a limp here and suggest you remove the <code>field injection</code> and switch over to <code>constructor</code> injection. <code>null</code> injected values during runtime signify that something may have gone wrong during the construction of the required <code>bean</code> (in your case the <code>repository</code>). Switching over to constructor based injection will result in a much clearer error than the <code>null</code> you see."},{"owner":{"account_id":9932816,"reputation":43,"user_id":7352103,"display_name":"Chris"},"score":0,"creation_date":1604937607,"post_id":64754180,"comment_id":114492921,"body_markdown":"@Smutje That would be the class BrewMES in the model package","body":"@Smutje That would be the class BrewMES in the model package"},{"owner":{"account_id":9932816,"reputation":43,"user_id":7352103,"display_name":"Chris"},"score":0,"creation_date":1604937764,"post_id":64754180,"comment_id":114493022,"body_markdown":"@Aman its just a regular class with some variables, anything specific you&#39;re curious about?","body":"@Aman its just a regular class with some variables, anything specific you&#39;re curious about?"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1604938268,"post_id":64754180,"comment_id":114493291,"body_markdown":"So what does BrewMES looks like?","body":"So what does BrewMES looks like?"},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1604944868,"post_id":64754180,"comment_id":114496254,"body_markdown":"What do you mean by *the repository returns null*, is it that the field itself is null?","body":"What do you mean by <i>the repository returns null</i>, is it that the field itself is null?"},{"owner":{"account_id":9932816,"reputation":43,"user_id":7352103,"display_name":"Chris"},"score":0,"creation_date":1604970011,"post_id":64754180,"comment_id":114504471,"body_markdown":"@Smutje It is simply annotated with @Service and then contains a variable \n```\n\t@Autowired\n\tprivate MachineRepository repo;\n```","body":"@Smutje It is simply annotated with @Service and then contains a variable  ``` \t@Autowired \tprivate MachineRepository repo; ```"},{"owner":{"account_id":9932816,"reputation":43,"user_id":7352103,"display_name":"Chris"},"score":0,"creation_date":1604970090,"post_id":64754180,"comment_id":114504491,"body_markdown":"@Aman I mean that the program crashed because of null pointer exception whenever i try to get the count, or content of the database table. (Yes i checked that its not empty).","body":"@Aman I mean that the program crashed because of null pointer exception whenever i try to get the count, or content of the database table. (Yes i checked that its not empty)."},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1604995545,"post_id":64754180,"comment_id":114510220,"body_markdown":"My question went into the direction of &quot;where is the original request coming from&quot;, that&#39;s why adding *every* piece of relevant code is required to help usually. If BrewMES is just another service, who calls BrewMES then?","body":"My question went into the direction of &quot;where is the original request coming from&quot;, that&#39;s why adding <i>every</i> piece of relevant code is required to help usually. If BrewMES is just another service, who calls BrewMES then?"},{"owner":{"account_id":9932816,"reputation":43,"user_id":7352103,"display_name":"Chris"},"score":0,"creation_date":1605003708,"post_id":64754180,"comment_id":114513796,"body_markdown":"@Smutje Sorry, i see where you&#39;re getting now. That is done from BrewMesApplication which is the autogenerated main class from spring.","body":"@Smutje Sorry, i see where you&#39;re getting now. That is done from BrewMesApplication which is the autogenerated main class from spring."}],"owner":{"account_id":9932816,"reputation":43,"user_id":7352103,"display_name":"Chris"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638136522,"creation_date":1604934508,"question_id":64754180,"body_markdown":"I am working on a solution where I wish to store some data using hibernate, while I am also using Spring Boot as a framework. \r\nWhen I wish to use call any of the methods that the CRUDRepository provides I get into trouble. I am able to successfully call them from the API-Controller class with no problem, however, when I attempt the same from another class (annotated `@Service`) the repository returns null. To me, it seems that it&#39;s weird to have the repository interaction in the API. This is based on a Separation of Concerns and 3-layer architecture standpoint.\r\n\r\nI have a suspicion that Spring might be messing with me and only allowing such calls inside beans?\r\n\r\nRepository:\r\n```java\r\npackage com.BrewMES.demo.Persistence;\r\nimport ...\r\n\r\n@Repository\r\npublic interface MachineRepository extends CrudRepository&lt;Machine, UUID&gt; {\r\n}\r\n\r\n```\r\n\r\nService Interface:\r\n```java\r\npackage com.BrewMES.demo.Persistence;\r\nimport ...\r\n\r\npublic interface MachineService {\r\n    void saveMachine(Machine machine);\r\n}\r\n```\r\n\r\nService:\r\n```java\r\npackage com.BrewMES.demo.Persistence;\r\nimport ...\r\n\r\n@Service\r\npublic class MachineServiceImpl implements MachineService {\r\n    @Autowired\r\n    private MachineRepository repo;\r\n\r\n    @Override\r\n    public void saveMachine(Machine machine) {\r\n        System.out.println(&quot;Ye get here ye?&quot;);\r\n        repo.save(machine);\r\n    }\r\n}\r\n\r\n```\r\n\r\nLayers:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GrLLR.png","title":"JPA Repository returns null outside @RestController","body":"<p>I am working on a solution where I wish to store some data using hibernate, while I am also using Spring Boot as a framework.\nWhen I wish to use call any of the methods that the CRUDRepository provides I get into trouble. I am able to successfully call them from the API-Controller class with no problem, however, when I attempt the same from another class (annotated <code>@Service</code>) the repository returns null. To me, it seems that it's weird to have the repository interaction in the API. This is based on a Separation of Concerns and 3-layer architecture standpoint.</p>\n<p>I have a suspicion that Spring might be messing with me and only allowing such calls inside beans?</p>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.BrewMES.demo.Persistence;\nimport ...\n\n@Repository\npublic interface MachineRepository extends CrudRepository&lt;Machine, UUID&gt; {\n}\n\n</code></pre>\n<p>Service Interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.BrewMES.demo.Persistence;\nimport ...\n\npublic interface MachineService {\n    void saveMachine(Machine machine);\n}\n</code></pre>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.BrewMES.demo.Persistence;\nimport ...\n\n@Service\npublic class MachineServiceImpl implements MachineService {\n    @Autowired\n    private MachineRepository repo;\n\n    @Override\n    public void saveMachine(Machine machine) {\n        System.out.println(&quot;Ye get here ye?&quot;);\n        repo.save(machine);\n    }\n}\n\n</code></pre>\n<p>Layers:</p>\n<p><a href=\"https://i.stack.imgur.com/GrLLR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrLLR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1604973095,"post_id":64761252,"comment_id":114505140,"body_markdown":"You showed us the wrong class. You need to show us your security configuration, e.g. your subclass of `WebSecurityConfigurerAdapter`, and security-related values in `application.properties`.","body":"You showed us the wrong class. You need to show us your security configuration, e.g. your subclass of <code>WebSecurityConfigurerAdapter</code>, and security-related values in <code>application.properties</code>."},{"owner":{"account_id":19836504,"reputation":11,"user_id":14530055,"display_name":"JHerrinJr"},"score":0,"creation_date":1605037563,"post_id":64761252,"comment_id":114529043,"body_markdown":"Thank you for your response! Although Im a little confused. Im not using WebSecurityConfigurerAdapter, and application.properties only has debug=true; in it.","body":"Thank you for your response! Although Im a little confused. Im not using WebSecurityConfigurerAdapter, and application.properties only has debug=true; in it."}],"owner":{"account_id":19836504,"reputation":11,"user_id":14530055,"display_name":"JHerrinJr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638136482,"creation_date":1604968808,"question_id":64761252,"body_markdown":"I started with a spring boot starter project version 2.3.5, but when I call `authenticationManager.authenticate` I get a stack overflow error. \r\n\r\n```\r\njava.lang.StackOverflowError: null\r\n\tat ch.qos.logback.classic.Logger.callTurboFilters(Logger.java:751) ~[logback-classic-1.2.3.jar:na]\r\n\tat ch.qos.logback.classic.Logger.isDebugEnabled(Logger.java:469) ~[logback-classic-1.2.3.jar:na]\r\n\tat ch.qos.logback.classic.Logger.isDebugEnabled(Logger.java:465) ~[logback-classic-1.2.3.jar:na]\r\n\tat org.apache.commons.logging.LogAdapter$Slf4jLog.isDebugEnabled(LogAdapter.java:310) ~[spring-jcl-5.2.10.RELEASE.jar:5.2.10.RELEASE]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:186) ~[spring-security-core-5.3.5.RELEASE.jar:5.3.5.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:524) ~[spring-security-config-5.3.5.RELEASE.jar:5.3.5.RELEASE]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:219) ~[spring-security-core-5.3.5.RELEASE.jar:5.3.5.RELEASE]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:524) ~[spring-security-config-5.3.5.RELEASE.jar:5.3.5.RELEASE]\r\n```\r\n\r\nInitially I did not use the user variable and instead created created the new `UsernamePasswordAuthenticationToken` inside the `authenticationManager.authenticate` either way I get the stack overflow error. I also have tried `@PostMapping` instead of `@RequestMapping` and Method. All of these cause the same failure.\r\nI get the printline that says I am &quot;in /Authenticate&quot; with the following.\r\n\r\n```\r\n2020-11-09 16:20:32.141 DEBUG 10456 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.javabrains.springsecurityjwt.HelloResource#createAuthenticationToken(AuthenticationRequest)\r\n2020-11-09 16:20:32.188 DEBUG 10456 --- [nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read &quot;application/json;charset=UTF-8&quot; to [io.javabrains.springsecurityjwt.models.AuthenticationRequest@758a32c5]\r\nin /Authenticate\r\n2020-11-09 16:20:32.197 DEBUG 10456 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.StackOverflowError\r\n2020-11-09 16:20:32.201 ERROR 10456 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\r\n```\r\nHere is the full code of the Class\r\nThank you for any info or things I should try!\r\n\r\n```\r\npackage io.javabrains.springsecurityjwt;\r\n\r\nimport io.javabrains.springsecurityjwt.models.AuthenticationRequest;\r\nimport io.javabrains.springsecurityjwt.models.AuthenticationResponse;\r\nimport io.javabrains.springsecurityjwt.services.MyUserDetailsService;\r\nimport io.javabrains.springsecurityjwt.util.JwtUtil;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class HelloResource {\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private MyUserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private JwtUtil jwtTokenUtil;\r\n\r\n    @RequestMapping( &quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;Hello World&quot;;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\r\n        UsernamePasswordAuthenticationToken user = new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n        System.out.println(&quot;in /Authenticate&quot;);\r\n        try {\r\n            authenticationManager.authenticate(\r\n                    user\r\n//                  new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\r\n            );\r\n            System.out.println(&quot;in Try in /Authenticate&quot;);\r\n        } catch (BadCredentialsException e) {\r\n            throw new Exception(&quot;Incorrect Username or Password&quot;, e);\r\n        }\r\n        System.out.println(&quot;outside the try catch&quot;);\r\n\r\n        final UserDetails userDetails = userDetailsService\r\n                .loadUserByUsername(authenticationRequest.getUsername());\r\n        final String jwt = jwtTokenUtil.generateToken(userDetails);\r\n\r\n        return ResponseEntity.ok(new AuthenticationResponse(jwt));\r\n\r\n    }\r\n}\r\n```","title":"Stack overflow calling Spring authenticationManager.authenticate","body":"<p>I started with a spring boot starter project version 2.3.5, but when I call <code>authenticationManager.authenticate</code> I get a stack overflow error.</p>\n<pre><code>java.lang.StackOverflowError: null\n    at ch.qos.logback.classic.Logger.callTurboFilters(Logger.java:751) ~[logback-classic-1.2.3.jar:na]\n    at ch.qos.logback.classic.Logger.isDebugEnabled(Logger.java:469) ~[logback-classic-1.2.3.jar:na]\n    at ch.qos.logback.classic.Logger.isDebugEnabled(Logger.java:465) ~[logback-classic-1.2.3.jar:na]\n    at org.apache.commons.logging.LogAdapter$Slf4jLog.isDebugEnabled(LogAdapter.java:310) ~[spring-jcl-5.2.10.RELEASE.jar:5.2.10.RELEASE]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:186) ~[spring-security-core-5.3.5.RELEASE.jar:5.3.5.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:524) ~[spring-security-config-5.3.5.RELEASE.jar:5.3.5.RELEASE]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:219) ~[spring-security-core-5.3.5.RELEASE.jar:5.3.5.RELEASE]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:524) ~[spring-security-config-5.3.5.RELEASE.jar:5.3.5.RELEASE]\n</code></pre>\n<p>Initially I did not use the user variable and instead created created the new <code>UsernamePasswordAuthenticationToken</code> inside the <code>authenticationManager.authenticate</code> either way I get the stack overflow error. I also have tried <code>@PostMapping</code> instead of <code>@RequestMapping</code> and Method. All of these cause the same failure.\nI get the printline that says I am &quot;in /Authenticate&quot; with the following.</p>\n<pre><code>2020-11-09 16:20:32.141 DEBUG 10456 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.javabrains.springsecurityjwt.HelloResource#createAuthenticationToken(AuthenticationRequest)\n2020-11-09 16:20:32.188 DEBUG 10456 --- [nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read &quot;application/json;charset=UTF-8&quot; to [io.javabrains.springsecurityjwt.models.AuthenticationRequest@758a32c5]\nin /Authenticate\n2020-11-09 16:20:32.197 DEBUG 10456 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.StackOverflowError\n2020-11-09 16:20:32.201 ERROR 10456 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\n</code></pre>\n<p>Here is the full code of the Class\nThank you for any info or things I should try!</p>\n<pre><code>package io.javabrains.springsecurityjwt;\n\nimport io.javabrains.springsecurityjwt.models.AuthenticationRequest;\nimport io.javabrains.springsecurityjwt.models.AuthenticationResponse;\nimport io.javabrains.springsecurityjwt.services.MyUserDetailsService;\nimport io.javabrains.springsecurityjwt.util.JwtUtil;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloResource {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n    @Autowired\n    private JwtUtil jwtTokenUtil;\n\n    @RequestMapping( &quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello World&quot;;\n    }\n\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\n        UsernamePasswordAuthenticationToken user = new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n        System.out.println(&quot;in /Authenticate&quot;);\n        try {\n            authenticationManager.authenticate(\n                    user\n//                  new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\n            );\n            System.out.println(&quot;in Try in /Authenticate&quot;);\n        } catch (BadCredentialsException e) {\n            throw new Exception(&quot;Incorrect Username or Password&quot;, e);\n        }\n        System.out.println(&quot;outside the try catch&quot;);\n\n        final UserDetails userDetails = userDetailsService\n                .loadUserByUsername(authenticationRequest.getUsername());\n        final String jwt = jwtTokenUtil.generateToken(userDetails);\n\n        return ResponseEntity.ok(new AuthenticationResponse(jwt));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-aop","aspect"],"comments":[{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1605004684,"post_id":64767148,"comment_id":114514244,"body_markdown":"of course it is possible, check the the following on how to create this apps https://stackoverflow.com/questions/64554436/deploying-a-spring-boot-project-using-maven-and-further-importing-it-in-other-pr","body":"of course it is possible, check the the following on how to create this apps <a href=\"https://stackoverflow.com/questions/64554436/deploying-a-spring-boot-project-using-maven-and-further-importing-it-in-other-pr\" title=\"deploying a spring boot project using maven and further importing it in other pr\">stackoverflow.com/questions/64554436/&hellip;</a>"},{"owner":{"account_id":15314354,"reputation":179,"user_id":11048662,"display_name":"vicky"},"score":0,"creation_date":1605005622,"post_id":64767148,"comment_id":114514672,"body_markdown":"@Aman I am already using the library for common code like Splunk friendly code and Spring sleuth, here my question is specific to Aspect way of logging, as the Spring container will be separate for each of the apps and way it manages beans and how will the library identify the &quot;@Pointcut&quot; of some other Spring service say app1 that was called by user and now it run that method. If you have any example of this let me know.","body":"@Aman I am already using the library for common code like Splunk friendly code and Spring sleuth, here my question is specific to Aspect way of logging, as the Spring container will be separate for each of the apps and way it manages beans and how will the library identify the &quot;@Pointcut&quot; of some other Spring service say app1 that was called by user and now it run that method. If you have any example of this let me know."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1605013598,"post_id":64767148,"comment_id":114518209,"body_markdown":"You are right that they run in different context. Once you have created a separate app(common functionalities), you have to scan the components in the inheriting app. IMHO, if it is only for this aspect, I would duplicate it in both apps","body":"You are right that they run in different context. Once you have created a separate app(common functionalities), you have to scan the components in the inheriting app. IMHO, if it is only for this aspect, I would duplicate it in both apps"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1605928515,"post_id":64767148,"comment_id":114810921,"body_markdown":"If the pointcut matches the relevant applications or micro-services, I see no problem. A separate aspect library is just like any other dependency. Just make sure component scan in your target application picks up the aspect package(s) and that Spring AOP is actually activated.","body":"If the pointcut matches the relevant applications or micro-services, I see no problem. A separate aspect library is just like any other dependency. Just make sure component scan in your target application picks up the aspect package(s) and that Spring AOP is actually activated."},{"owner":{"account_id":15314354,"reputation":179,"user_id":11048662,"display_name":"vicky"},"score":0,"creation_date":1606323927,"post_id":64767148,"comment_id":114932260,"body_markdown":"@kriegaex, excited to hear that it is doable, could you please elaborate a bit more or could point me to some example.","body":"@kriegaex, excited to hear that it is doable, could you please elaborate a bit more or could point me to some example."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1606358888,"post_id":64767148,"comment_id":114942871,"body_markdown":"With all due respect, it is your job to provide an [MCVE](https://stackoverflow.com/help/mcve) reproducing your situation, then I can help you fix it. But first I need to be able to find the root cause. So I would appreciate a minimal, but full sample project on GitHub, ideally a Maven project or Gradle as the next best choice (I am a Maven guy).  With the two code snippets given, I really cannot analyse anything because it is not the information I need.","body":"With all due respect, it is your job to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> reproducing your situation, then I can help you fix it. But first I need to be able to find the root cause. So I would appreciate a minimal, but full sample project on GitHub, ideally a Maven project or Gradle as the next best choice (I am a Maven guy).  With the two code snippets given, I really cannot analyse anything because it is not the information I need."}],"owner":{"account_id":15314354,"reputation":179,"user_id":11048662,"display_name":"vicky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638136435,"creation_date":1605004216,"question_id":64767148,"body_markdown":"I have a common repo for frequently used services/code and in the multi service I have a write separate Aspect class for logging request, controller or service classes. What I wanted to check if there is a way to move this to a code to common repo and inject that dependency for reusability. \r\n\r\nExample :\r\napp 1 -  class :Aspect1.java\r\n```java\r\n@Pointcut(&quot;execution(* com.test.app1.controller..*.*(..))&quot;)\r\npublic void allControllerMethods() {\r\n}\r\n```\r\n\r\napp 2 -  class :Aspect2.java\r\n```java\r\n@Pointcut(&quot;execution(* com.test.app2.controller..*.*(..))&quot;)\r\npublic void allControllerMethods() {\r\n}\r\n```\r\nframework repo - move the code from app1, app2, etc to common framework repo","title":"Is it possible to move Aspect class for logging in a multi app or micro service architecture to a common place or repo?","body":"<p>I have a common repo for frequently used services/code and in the multi service I have a write separate Aspect class for logging request, controller or service classes. What I wanted to check if there is a way to move this to a code to common repo and inject that dependency for reusability.</p>\n<p>Example :\napp 1 -  class :Aspect1.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(* com.test.app1.controller..*.*(..))&quot;)\npublic void allControllerMethods() {\n}\n</code></pre>\n<p>app 2 -  class :Aspect2.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Pointcut(&quot;execution(* com.test.app2.controller..*.*(..))&quot;)\npublic void allControllerMethods() {\n}\n</code></pre>\n<p>framework repo - move the code from app1, app2, etc to common framework repo</p>\n"},{"tags":["java","spring","spring-boot","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1605122853,"post_id":64791700,"comment_id":114558167,"body_markdown":"The default path is `http://localhost:8080/actuator/health` which is clearly written out in the documentation (where you should start if something is not working) https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-endpoints","body":"The default path is <code>http:&#47;&#47;localhost:8080&#47;actuator&#47;health</code> which is clearly written out in the documentation (where you should start if something is not working) <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-endpoints\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1605123034,"post_id":64791700,"comment_id":114558224,"body_markdown":"Logs will probably not show anything if you exclude all log dependecies. And you also dont need to pull in the context as this already pulled in by all other spring dependencies. If you start a new project i suggest you use the spring initlzer to generate a project with correct dependencies because there is a lot wrong with yours","body":"Logs will probably not show anything if you exclude all log dependecies. And you also dont need to pull in the context as this already pulled in by all other spring dependencies. If you start a new project i suggest you use the spring initlzer to generate a project with correct dependencies because there is a lot wrong with yours"}],"owner":{"account_id":6708984,"reputation":21,"user_id":5408634,"display_name":"Tejpal Borkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638136298,"creation_date":1605117521,"question_id":64791700,"body_markdown":"With the following dependencies, the /actuator endpoint is showing 404. Please help me\r\n\r\nI was expecting the management facilities to be available on 127.0.0.1:8081 i.e.\r\n\r\nhttp://127.0.0.1:8081/health\r\n\r\nBut nothing loads on the endpoint, what have I done wrong? Actuator endpoints work in the case of a normal Spring Boot application. But is not working when I add it in the spring-webflux application. Even the logs are not showing the detected actuator endpoint.\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n   &lt;version&gt;${spring-boot.version}&lt;/version&gt;           \r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n   &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n   &lt;version&gt;0.9.1.RELEASE&lt;/version&gt;\r\n   &lt;exclusions&gt;\r\n       &lt;exclusion&gt;\r\n           &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n           &lt;artifactId&gt;netty-transport-native-epoll&lt;/artifactId&gt;\r\n       &lt;/exclusion&gt;\r\n       &lt;exclusion&gt;\r\n           &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n           &lt;artifactId&gt;netty-transport-native-unix-common&lt;/artifactId&gt;\r\n       &lt;/exclusion&gt;\r\n   &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n   &lt;version&gt;${spring.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n   &lt;version&gt;${spring.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n   &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n   &lt;exclusions&gt;\r\n       &lt;exclusion&gt;\r\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n       &lt;/exclusion&gt;\r\n   &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n   &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n   &lt;exclusions&gt;\r\n       &lt;exclusion&gt;\r\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n           &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n       &lt;/exclusion&gt;\r\n   &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Actuator not working for spring boot reactive weblux","body":"<p>With the following dependencies, the /actuator endpoint is showing 404. Please help me</p>\n<p>I was expecting the management facilities to be available on 127.0.0.1:8081 i.e.</p>\n<p><a href=\"http://127.0.0.1:8081/health\" rel=\"nofollow noreferrer\">http://127.0.0.1:8081/health</a></p>\n<p>But nothing loads on the endpoint, what have I done wrong? Actuator endpoints work in the case of a normal Spring Boot application. But is not working when I add it in the spring-webflux application. Even the logs are not showing the detected actuator endpoint.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n   &lt;version&gt;${spring-boot.version}&lt;/version&gt;           \n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n   &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n   &lt;version&gt;0.9.1.RELEASE&lt;/version&gt;\n   &lt;exclusions&gt;\n       &lt;exclusion&gt;\n           &lt;groupId&gt;io.netty&lt;/groupId&gt;\n           &lt;artifactId&gt;netty-transport-native-epoll&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n       &lt;exclusion&gt;\n           &lt;groupId&gt;io.netty&lt;/groupId&gt;\n           &lt;artifactId&gt;netty-transport-native-unix-common&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n   &lt;version&gt;${spring.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n   &lt;version&gt;${spring.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n   &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n   &lt;exclusions&gt;\n       &lt;exclusion&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n   &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n   &lt;exclusions&gt;\n       &lt;exclusion&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1402351990,"post_id":24129446,"comment_id":37230587,"body_markdown":"I find that difficult to believe, unless you&#39;re using something like Neo4J that mmaps large data sets. There&#39;s not nearly enough detail, however; at a minimum to start, we&#39;d need to see all the memory information for the application, especially including the resident set.","body":"I find that difficult to believe, unless you&#39;re using something like Neo4J that mmaps large data sets. There&#39;s not nearly enough detail, however; at a minimum to start, we&#39;d need to see all the memory information for the application, especially including the resident set."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1402354124,"post_id":24129446,"comment_id":37231274,"body_markdown":"The fact that you have such a big discrepancy there strongly indicates that something is getting mmapped in early. The next step I&#39;d take is to run lsof and see if any such large files are open.","body":"The fact that you have such a big discrepancy there strongly indicates that something is getting mmapped in early. The next step I&#39;d take is to run lsof and see if any such large files are open."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1402401785,"post_id":24129446,"comment_id":37249685,"body_markdown":"You are aware that you are mixing spring versions? Spring boot uses 4.0.3 whereas you are using 2jars from 3.2.4, you should never mix versions of frameworks, this will lead to trouble. Could you add your full pom instead of only the dependencies?","body":"You are aware that you are mixing spring versions? Spring boot uses 4.0.3 whereas you are using 2jars from 3.2.4, you should never mix versions of frameworks, this will lead to trouble. Could you add your full pom instead of only the dependencies?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1402401984,"post_id":24129446,"comment_id":37249808,"body_markdown":"Please add the output of `mvn dependency:tree`. To troubleshoot you probably want to add a memory profiler to the app to see what is taking up the memory. Also you are using `spring-boot-starter-actuator` which by default keeps metrics in-memory, might be worth to see what happens without the actuator.","body":"Please add the output of <code>mvn dependency:tree</code>. To troubleshoot you probably want to add a memory profiler to the app to see what is taking up the memory. Also you are using <code>spring-boot-starter-actuator</code> which by default keeps metrics in-memory, might be worth to see what happens without the actuator."},{"owner":{"account_id":261114,"reputation":2591,"user_id":545086,"accept_rate":53,"display_name":"DilTeam"},"score":0,"creation_date":1402424352,"post_id":24129446,"comment_id":37264505,"body_markdown":"As requested, added entire pom.xml &amp; output from mvn dependency:tree.  Removing &#39;actuator&#39; didn&#39;t help.  I am profiling using pmap.  Lots of &#39;annon&#39; processes &amp; quite a few jvm related libraries.  Will keep looking.  Thanks for everyone&#39;s help.","body":"As requested, added entire pom.xml &amp; output from mvn dependency:tree.  Removing &#39;actuator&#39; didn&#39;t help.  I am profiling using pmap.  Lots of &#39;annon&#39; processes &amp; quite a few jvm related libraries.  Will keep looking.  Thanks for everyone&#39;s help."}],"answers":[{"tags":[],"owner":{"account_id":261114,"reputation":2591,"user_id":545086,"accept_rate":53,"display_name":"DilTeam"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1463381057,"creation_date":1402426391,"answer_id":24148770,"question_id":24129446,"body_markdown":"After specifying `-Xmx` option, the virtual memory consumption went down.  Currently, I am starting my Spring Boot app like this:\r\n\r\n    java -Xmx4096m -jar myapp-rest-service-0.1.0.jar\r\n\r\nIf there&#39;s a better way to set this value in `application.properties` file (or somewhere else), please do let me know.\r\n\r\n","title":"Spring boot memory utilization","body":"<p>After specifying <code>-Xmx</code> option, the virtual memory consumption went down.  Currently, I am starting my Spring Boot app like this:</p>\n\n<pre><code>java -Xmx4096m -jar myapp-rest-service-0.1.0.jar\n</code></pre>\n\n<p>If there's a better way to set this value in <code>application.properties</code> file (or somewhere else), please do let me know.</p>\n"},{"tags":[],"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638136192,"creation_date":1403969536,"answer_id":24468326,"question_id":24129446,"body_markdown":"JVM uses default heap size based on the physical memory available (usually a percentage of available system memory). The value also depends on the JVM version and the client/server mode.\r\n\r\nYou can find more about this topic with these keyword: &quot;default Java heap configuration&quot;\r\n\r\nThis SO answer addresses the same topic (Jabir&#39;s answer):\r\nhttps://stackoverflow.com/questions/2915276/what-is-the-default-maximum-heap-size-for-suns-jvm-from-java-se-6\r\n","title":"Spring boot memory utilization","body":"<p>JVM uses default heap size based on the physical memory available (usually a percentage of available system memory). The value also depends on the JVM version and the client/server mode.</p>\n<p>You can find more about this topic with these keyword: &quot;default Java heap configuration&quot;</p>\n<p>This SO answer addresses the same topic (Jabir's answer):\n<a href=\"https://stackoverflow.com/questions/2915276/what-is-the-default-maximum-heap-size-for-suns-jvm-from-java-se-6\">What is the default maximum heap size for Sun&#39;s JVM from Java SE 6?</a></p>\n"}],"owner":{"account_id":261114,"reputation":2591,"user_id":545086,"accept_rate":53,"display_name":"DilTeam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17725,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":24148770,"answer_count":2,"score":5,"last_activity_date":1638136192,"creation_date":1402349654,"question_id":24129446,"body_markdown":"We have an application based on Spring Boot.  We deploy it using an executable jar which is about 20Meg.  When we start this application, it uses 18Gigs worth of &quot;Virutual&quot; memory right away.  I understand that most of this is kept in secondary storage such as hard disk, but our System Administrators are questioning why we need so much of Virtual memory.\r\n\r\nThe Jar file is small.  At the startup I am using BoneCPDataSource but I&#39;ve cut down # of connections to 5.  As soon as application is started it uses 18g of Virtual memory.\r\n\r\nCan someone tell me why?  Should I play with java memory settings on command line to reduce this number?  The command we use is:\r\n\r\njava -jar filename.jar\r\n\r\n\r\n\r\nAs requested, here&#39;s some more info:\r\n\r\n1) Here&#39;s a line from &#39;top&#39; command:&lt;br&gt;&lt;br&gt;\r\n24511 xyz  20   0 17.6g 531m 9.8m S  0.0  0.8   0:16.57 java\r\n\r\n2)  There&#39;s no Neo4J.  Here&#39;s my pom.xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xyz.myapp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myapp-rest-service&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;start-class&gt;com.xyz.myapp.rest.Application&lt;/start-class&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bonecp&lt;/artifactId&gt;\r\n            &lt;version&gt;0.8.0.RELEASE&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;com.jolbox.logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0-rc1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0-rc1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt; \r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \r\n                &lt;version&gt;2.3.2&lt;/version&gt; \r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\r\n            &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\r\n            &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n\r\n3)  I build this application using following command:\r\n\r\nmvn clean package\r\n\r\nand this is what it creates in the ./target directory:\r\n\r\n-rwxr-xr-x  1 myuserid Domain Users 20259555 Jun  9 15:36 myapp-rest-service-0.1.0.jar\r\n\r\n4)  lsof output for my app:\r\n\r\nhttp://pastebin.com/V00BrD67\r\n\r\n5)  Output from mvn dependency:tree\r\n\r\nhttp://pastebin.com/cFnR0NMX\r\n","title":"Spring boot memory utilization","body":"<p>We have an application based on Spring Boot.  We deploy it using an executable jar which is about 20Meg.  When we start this application, it uses 18Gigs worth of \"Virutual\" memory right away.  I understand that most of this is kept in secondary storage such as hard disk, but our System Administrators are questioning why we need so much of Virtual memory.</p>\n\n<p>The Jar file is small.  At the startup I am using BoneCPDataSource but I've cut down # of connections to 5.  As soon as application is started it uses 18g of Virtual memory.</p>\n\n<p>Can someone tell me why?  Should I play with java memory settings on command line to reduce this number?  The command we use is:</p>\n\n<p>java -jar filename.jar</p>\n\n<p>As requested, here's some more info:</p>\n\n<p>1) Here's a line from 'top' command:<br><br>\n24511 xyz  20   0 17.6g 531m 9.8m S  0.0  0.8   0:16.57 java</p>\n\n<p>2)  There's no Neo4J.  Here's my pom.xml</p>\n\n<p>\nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;groupId&gt;com.xyz.myapp&lt;/groupId&gt;\n&lt;artifactId&gt;myapp-rest-service&lt;/artifactId&gt;\n&lt;version&gt;0.1.0&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;start-class&gt;com.xyz.myapp.rest.Application&lt;/start-class&gt;\n&lt;/properties&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\n        &lt;artifactId&gt;bonecp&lt;/artifactId&gt;\n        &lt;version&gt;0.8.0.RELEASE&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.jolbox&lt;/groupId&gt;\n                &lt;artifactId&gt;com.jolbox.logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;4.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0-rc1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0-rc1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;jdbc&lt;/artifactId&gt;\n        &lt;version&gt;6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;\n        &lt;version&gt;1.18.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt; \n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; \n            &lt;version&gt;2.3.2&lt;/version&gt; \n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\n        &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\n        &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p></p>\n\n<p>3)  I build this application using following command:</p>\n\n<p>mvn clean package</p>\n\n<p>and this is what it creates in the ./target directory:</p>\n\n<p>-rwxr-xr-x  1 myuserid Domain Users 20259555 Jun  9 15:36 myapp-rest-service-0.1.0.jar</p>\n\n<p>4)  lsof output for my app:</p>\n\n<p><a href=\"http://pastebin.com/V00BrD67\" rel=\"noreferrer\">http://pastebin.com/V00BrD67</a></p>\n\n<p>5)  Output from mvn dependency:tree</p>\n\n<p><a href=\"http://pastebin.com/cFnR0NMX\" rel=\"noreferrer\">http://pastebin.com/cFnR0NMX</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3784660,"reputation":1471,"user_id":3143009,"accept_rate":4,"display_name":"soung"},"score":0,"creation_date":1605198260,"post_id":64807559,"comment_id":114583360,"body_markdown":"1- If possible don&#39;t store html in database. rather store raw information  in data base and  do all formatting stuff  in html. \n\n\n\n\n2- If not possible to store raw data in database : I don&#39;t really understand what you are trying to do. But if you want to manipulate html code in java i suppose third party library like https://jsoup.org/ can help.","body":"1- If possible don&#39;t store html in database. rather store raw information  in data base and  do all formatting stuff  in html.      2- If not possible to store raw data in database : I don&#39;t really understand what you are trying to do. But if you want to manipulate html code in java i suppose third party library like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup.org</a> can help."},{"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"score":0,"creation_date":1605198346,"post_id":64807559,"comment_id":114583421,"body_markdown":"read this https://howtodoinjava.com/java/string/escape-html-encode-string/","body":"read this <a href=\"https://howtodoinjava.com/java/string/escape-html-encode-string/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/string/escape-html-encode-string</a>"}],"owner":{"account_id":14281946,"reputation":13,"user_id":10316404,"display_name":"Sneha Chinni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638136184,"creation_date":1605197576,"question_id":64807559,"body_markdown":"To prevent Html injections, I am trying to escape HTML tags on my java code and save them on the database.\r\n\r\nWhen I need to fetch the same from the database and send it to the front end, I do not want all the HTML tags to get unescaped. Is there any way to unescape only certain text formatting tags(bold, italic, underline...) leaving the rest escaped?\r\n\r\nExample: \r\n\r\nSuppose I have a strong tag inside it an anchor tag than when unescaping back from the database I should unescape only strong tag not HTML\r\n\r\nCan anyone suggest to me the way or solution to do this?","title":"How to prevent escaping of specific(certain) HTML tags in java spring","body":"<p>To prevent Html injections, I am trying to escape HTML tags on my java code and save them on the database.</p>\n<p>When I need to fetch the same from the database and send it to the front end, I do not want all the HTML tags to get unescaped. Is there any way to unescape only certain text formatting tags(bold, italic, underline...) leaving the rest escaped?</p>\n<p>Example:</p>\n<p>Suppose I have a strong tag inside it an anchor tag than when unescaping back from the database I should unescape only strong tag not HTML</p>\n<p>Can anyone suggest to me the way or solution to do this?</p>\n"},{"tags":["java","jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1638128646,"post_id":70146847,"comment_id":123999463,"body_markdown":"How are you calling this `getPerson` method? Which line is the error occurring?","body":"How are you calling this <code>getPerson</code> method? Which line is the error occurring?"},{"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"score":0,"creation_date":1638128773,"post_id":70146847,"comment_id":123999500,"body_markdown":"@TylerLiu just where it says `result.getString(&quot;id&quot;),` The id is type UUID in my db.","body":"@TylerLiu just where it says <code>result.getString(&quot;id&quot;),</code> The id is type UUID in my db."},{"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"score":0,"creation_date":1638129785,"post_id":70146847,"comment_id":123999743,"body_markdown":"The error message seems to indicate there&#39;s something wrong with the way you are calling the `getPerson` method.","body":"The error message seems to indicate there&#39;s something wrong with the way you are calling the <code>getPerson</code> method."},{"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"score":0,"creation_date":1638130708,"post_id":70146847,"comment_id":124000000,"body_markdown":"@TylerLiu it no, I&#39;ve edited my code. Check","body":"@TylerLiu it no, I&#39;ve edited my code. Check"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1638131225,"post_id":70146847,"comment_id":124000126,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1638132924,"post_id":70146847,"comment_id":124000516,"body_markdown":"https://stackoverflow.com/questions/56265904/reading-uuid-from-result-set-in-postgres-jdbc/56267754","body":"<a href=\"https://stackoverflow.com/questions/56265904/reading-uuid-from-result-set-in-postgres-jdbc/56267754\" title=\"reading uuid from result set in postgres jdbc\">stackoverflow.com/questions/56265904/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638130886,"creation_date":1638130886,"answer_id":70147171,"question_id":70146847,"body_markdown":"Try using `getObject` and casting it to UUID: `result.getObject(&quot;id&quot;, java.util.UUID.class)`","title":"jdbc template getString on UUID not working","body":"<p>Try using <code>getObject</code> and casting it to UUID: <code>result.getObject(&quot;id&quot;, java.util.UUID.class)</code></p>\n"}],"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1638136200,"accepted_answer_id":70147171,"answer_count":1,"score":-1,"last_activity_date":1638136165,"creation_date":1638128445,"question_id":70146847,"body_markdown":"I have this method.\r\n\r\nI am using jdbcTemplate query and then I am trying to return the list, however I am getting this error:\r\n\r\n`Required type UUID provided String`\r\n\r\n```java\r\n public List&lt;Person&gt; getPeople() {\r\n        String sql = &quot;SELECT * from people&quot;;\r\n        List&lt;Person&gt; people = jdbcTemplate.query(sql, (rs, idx) -&gt; {\r\n            return new Person(\r\n                    result.getString(&quot;id&quot;); &lt;-------------- says can&#39;t fetch string because it&#39;s uuid type in db\r\n            )\r\n        })\r\n    }\r\n```\r\n\r\nWhat do I need to use instead of `getString` in order for this to work?","title":"jdbc template getString on UUID not working","body":"<p>I have this method.</p>\n<p>I am using jdbcTemplate query and then I am trying to return the list, however I am getting this error:</p>\n<p><code>Required type UUID provided String</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> public List&lt;Person&gt; getPeople() {\n        String sql = &quot;SELECT * from people&quot;;\n        List&lt;Person&gt; people = jdbcTemplate.query(sql, (rs, idx) -&gt; {\n            return new Person(\n                    result.getString(&quot;id&quot;); &lt;-------------- says can't fetch string because it's uuid type in db\n            )\n        })\n    }\n</code></pre>\n<p>What do I need to use instead of <code>getString</code> in order for this to work?</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":11260126,"reputation":173,"user_id":8968052,"display_name":"Kujoen"},"score":0,"creation_date":1638134663,"post_id":70147487,"comment_id":124000878,"body_markdown":"You can a compile the java file using &quot;javac&quot; and then run it with &quot;java&quot;. Are you looking to do something else here ?","body":"You can a compile the java file using &quot;javac&quot; and then run it with &quot;java&quot;. Are you looking to do something else here ?"},{"owner":{"account_id":11260126,"reputation":173,"user_id":8968052,"display_name":"Kujoen"},"score":0,"creation_date":1638134967,"post_id":70147487,"comment_id":124000958,"body_markdown":"Or do you mean you want to create a python script to run this ? Please a little more information :)","body":"Or do you mean you want to create a python script to run this ? Please a little more information :)"},{"owner":{"account_id":14194828,"reputation":23,"user_id":11306658,"display_name":"ThatStudent"},"score":0,"creation_date":1638135155,"post_id":70147487,"comment_id":124001008,"body_markdown":"yup a python script would be nice, so that a simple run of the script with arguments completes the work","body":"yup a python script would be nice, so that a simple run of the script with arguments completes the work"},{"owner":{"account_id":20907575,"reputation":5943,"user_id":15359157,"display_name":"code"},"score":0,"creation_date":1638135439,"post_id":70147487,"comment_id":124001068,"body_markdown":"Python script to run Java? Import `os`, then in the same folder run something like `os.system(&quot;javac AnaliT.java&quot;)` then `os.system(&quot;java Anali&quot;)`. With the command line just go to the same folder and run `javac AnaliT.java` and then `java AnaliT`.","body":"Python script to run Java? Import <code>os</code>, then in the same folder run something like <code>os.system(&quot;javac AnaliT.java&quot;)</code> then <code>os.system(&quot;java Anali&quot;)</code>. With the command line just go to the same folder and run <code>javac AnaliT.java</code> and then <code>java AnaliT</code>."}],"answers":[{"tags":[],"owner":{"account_id":11260126,"reputation":173,"user_id":8968052,"display_name":"Kujoen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638135878,"creation_date":1638135878,"answer_id":70147723,"question_id":70147487,"body_markdown":"You could compile and run the java file from python by checking out the *subprocess* module:\r\nhttps://docs.python.org/3/library/subprocess.html\r\n\r\nYou can also run java code using the system module: https://stackoverflow.com/questions/60713070/running-a-java-file-in-python-using-os-system\r\n\r\nIf you want to invoke Java code from python, take a look here:\r\nhttps://stackoverflow.com/questions/3652554/calling-java-from-python\r\nHere it is recommended you use [Py4J][1].\r\n\r\nHere you can find an example of running a Java Class from a .bat file: https://stackoverflow.com/questions/8938944/how-to-run-java-application-by-bat-file\r\n\r\nAs mentioned in a comment you can also compile the file with java using `java target.java` and then run it with `java target` in the same directory\r\n\r\nI hope by showing you some of these resources you can guide yourself towards more specific help.\r\n\r\n  [1]: http://py4j.sourceforge.net/index.html","title":"Run java main class in command line/batch file/python script","body":"<p>You could compile and run the java file from python by checking out the <em>subprocess</em> module:\n<a href=\"https://docs.python.org/3/library/subprocess.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/subprocess.html</a></p>\n<p>You can also run java code using the system module: <a href=\"https://stackoverflow.com/questions/60713070/running-a-java-file-in-python-using-os-system\">running a java file in python using os.system()</a></p>\n<p>If you want to invoke Java code from python, take a look here:\n<a href=\"https://stackoverflow.com/questions/3652554/calling-java-from-python\">Calling Java from Python</a>\nHere it is recommended you use <a href=\"http://py4j.sourceforge.net/index.html\" rel=\"nofollow noreferrer\">Py4J</a>.</p>\n<p>Here you can find an example of running a Java Class from a .bat file: <a href=\"https://stackoverflow.com/questions/8938944/how-to-run-java-application-by-bat-file\">How to run java application by .bat file</a></p>\n<p>As mentioned in a comment you can also compile the file with java using <code>java target.java</code> and then run it with <code>java target</code> in the same directory</p>\n<p>I hope by showing you some of these resources you can guide yourself towards more specific help.</p>\n"}],"owner":{"account_id":14194828,"reputation":23,"user_id":11306658,"display_name":"ThatStudent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70147723,"answer_count":1,"score":0,"last_activity_date":1638135878,"creation_date":1638133810,"question_id":70147487,"body_markdown":"I have a java class which is to be made into a tool so that I can give the input to the class as parameters and then produce the output in the command line, I have written the code in IntelliJ and want the code to be portable so that it can be used instantly by the click of a button. I have little experience in creating a bat file or python script.\r\n```\r\npackage ase.ATool;\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\npublic class AnaliT {\r\n    public static void main(String[] args) {\r\n        File file = null;\r\n        File dir = new File(args[0]);\r\n        File[] directoryListing = dir.listFiles();\r\n\r\n        StringBuffer componentString = new StringBuffer(100);\r\n        if (directoryListing != null) {\r\n            for (File child : directoryListing) {\r\n                float complexity = 0, noOfMethods = 0;\r\n                System.out.println(child.getPath() + &quot; &quot;);\r\n                String currentLine;\r\n                BufferedReader bufferedReader = null;\r\n                try {\r\n                    bufferedReader = new BufferedReader(new FileReader(child.getPath()));\r\n                    System.out.println(bufferedReader);\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n}\r\n\r\n```\r\n\r\nI want to convert the above code in to a tool so i can invoke this main function from the command line, batch file or python file.","title":"Run java main class in command line/batch file/python script","body":"<p>I have a java class which is to be made into a tool so that I can give the input to the class as parameters and then produce the output in the command line, I have written the code in IntelliJ and want the code to be portable so that it can be used instantly by the click of a button. I have little experience in creating a bat file or python script.</p>\n<pre><code>package ase.ATool;\nimport java.io.*;\nimport java.util.*;\nimport java.util.regex.*;\n\npublic class AnaliT {\n    public static void main(String[] args) {\n        File file = null;\n        File dir = new File(args[0]);\n        File[] directoryListing = dir.listFiles();\n\n        StringBuffer componentString = new StringBuffer(100);\n        if (directoryListing != null) {\n            for (File child : directoryListing) {\n                float complexity = 0, noOfMethods = 0;\n                System.out.println(child.getPath() + &quot; &quot;);\n                String currentLine;\n                BufferedReader bufferedReader = null;\n                try {\n                    bufferedReader = new BufferedReader(new FileReader(child.getPath()));\n                    System.out.println(bufferedReader);\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n}\n\n</code></pre>\n<p>I want to convert the above code in to a tool so i can invoke this main function from the command line, batch file or python file.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260773324,"creation_date":1260773324,"answer_id":1899311,"question_id":1899288,"body_markdown":"The javadoc of InetAddress.getCanonicalHostName() says:\n\n&gt; Gets the fully qualified domain name for this IP address. Best effort method, meaning we may not be able to return the FQDN depending on the underlying system configuration. \n&gt;\n&gt; If there is a security manager, this method first calls its checkConnect method with the hostname and -1 as its arguments to see if the calling code is allowed to know the hostname for this IP address, i.e., to connect to the host. **If the operation is not allowed, it will return the textual representation of the IP address**.\n\nI looks like your system configuration isn&#39;t correct. Are you running from within an applet?","title":"Cannot get hostname from getHostName","body":"<p>The javadoc of InetAddress.getCanonicalHostName() says:</p>\n<blockquote>\n<p>Gets the fully qualified domain name for this IP address. Best effort method, meaning we may not be able to return the FQDN depending on the underlying system configuration.</p>\n<p>If there is a security manager, this method first calls its checkConnect method with the hostname and -1 as its arguments to see if the calling code is allowed to know the hostname for this IP address, i.e., to connect to the host. <strong>If the operation is not allowed, it will return the textual representation of the IP address</strong>.</p>\n</blockquote>\n<p>I looks like your system configuration isn't correct. Are you running from within an applet?</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1260778475,"creation_date":1260774376,"answer_id":1899377,"question_id":1899288,"body_markdown":"We&#39;ve established roughly what the problem is in tangens&#39; answer.\r\n\r\nI think you can fix the problem pretty simply by putting host names into your hosts file.\r\n\r\n    %SystemRoot%\\system32\\drivers\\etc\\hosts\r\n\r\nis the file you&#39;re looking for; localhost is defined here. You want to put a name and address line in it for every host you want to resolve.\r\n\r\nI&#39;ve never tried this. If it doesn&#39;t work, you get your money back.\r\n\r\n----\r\n\r\n**Update**\r\n\r\nThe above is the &quot;quick hack&quot; solution. This essentially entails that whenever someone manually changes the IP address of a host you&#39;re interested in, someone must at the same time change the `hosts` files on any machines that want to access those hosts.\r\n\r\nThe other alternative is to operate your own DNS server. You still need to update IP addresses when a host&#39;s address changes, but you only need to do so in one place, and you get both forward and reverse name resolution throughout your network. This takes more setting up but is easier to maintain in the long run.\r\n\r\nHere is a very useful reference: &lt;http://www.dns.net/dnsrd/servers/windows.html&gt;\r\n\r\nThey mention that the &quot;built in&quot; Microsoft DNS server is a terrible solution (up until the one in Windows 2003 Server) but mention at least two alternatives, one commercial and one free. BIND is what is currently holding much of the Internet together, DNS-wise, and it&#39;s great that they have a Windows port too.","title":"Cannot get hostname from getHostName","body":"<p>We've established roughly what the problem is in tangens' answer.</p>\n\n<p>I think you can fix the problem pretty simply by putting host names into your hosts file.</p>\n\n<pre><code>%SystemRoot%\\system32\\drivers\\etc\\hosts\n</code></pre>\n\n<p>is the file you're looking for; localhost is defined here. You want to put a name and address line in it for every host you want to resolve.</p>\n\n<p>I've never tried this. If it doesn't work, you get your money back.</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>The above is the \"quick hack\" solution. This essentially entails that whenever someone manually changes the IP address of a host you're interested in, someone must at the same time change the <code>hosts</code> files on any machines that want to access those hosts.</p>\n\n<p>The other alternative is to operate your own DNS server. You still need to update IP addresses when a host's address changes, but you only need to do so in one place, and you get both forward and reverse name resolution throughout your network. This takes more setting up but is easier to maintain in the long run.</p>\n\n<p>Here is a very useful reference: <a href=\"http://www.dns.net/dnsrd/servers/windows.html\" rel=\"nofollow noreferrer\">http://www.dns.net/dnsrd/servers/windows.html</a></p>\n\n<p>They mention that the \"built in\" Microsoft DNS server is a terrible solution (up until the one in Windows 2003 Server) but mention at least two alternatives, one commercial and one free. BIND is what is currently holding much of the Internet together, DNS-wise, and it's great that they have a Windows port too.</p>\n"},{"tags":[],"owner":{"account_id":52735,"reputation":2133,"user_id":157620,"accept_rate":73,"display_name":"Joe Ijam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260777837,"creation_date":1260775085,"answer_id":1899419,"question_id":1899288,"body_markdown":"Reply Feedback for Carl Smotricz\r\n---------------------------------\r\n\r\nGreat answer, but we still don&#39;t know if the host name has been updated or not...\r\nThis is something like we hardcode.\r\n\r\nAnyway thank you so much\r\n\r\n\r\n\r\n    # Copyright (c) 1993-1999 Microsoft Corp.\r\n    #\r\n    # This is a sample HOSTS file used by Microsoft TCP/IP for Windows.\r\n    #\r\n    # This file contains the mappings of IP addresses to host names. Each\r\n    # entry should be kept on an individual line. The IP address should\r\n    # be placed in the first column followed by the corresponding host name.\r\n    # The IP address and the host name should be separated by at least one\r\n    # space.\r\n    #\r\n    # Additionally, comments (such as these) may be inserted on individual\r\n    # lines or following the machine name denoted by a &#39;#&#39; symbol.\r\n    #\r\n    # For example:\r\n    #\r\n    #      102.54.94.97     rhino.acme.com          # source server\r\n    #       38.25.63.10     x.acme.com              # x client host\r\n    \r\n    127.0.0.1       localhost\r\n    192.168.2.139       dev-testing","title":"Cannot get hostname from getHostName","body":"<h2>Reply Feedback for Carl Smotricz</h2>\n\n<p>Great answer, but we still don't know if the host name has been updated or not...\nThis is something like we hardcode.</p>\n\n<p>Anyway thank you so much</p>\n\n<pre><code># Copyright (c) 1993-1999 Microsoft Corp.\n#\n# This is a sample HOSTS file used by Microsoft TCP/IP for Windows.\n#\n# This file contains the mappings of IP addresses to host names. Each\n# entry should be kept on an individual line. The IP address should\n# be placed in the first column followed by the corresponding host name.\n# The IP address and the host name should be separated by at least one\n# space.\n#\n# Additionally, comments (such as these) may be inserted on individual\n# lines or following the machine name denoted by a '#' symbol.\n#\n# For example:\n#\n#      102.54.94.97     rhino.acme.com          # source server\n#       38.25.63.10     x.acme.com              # x client host\n\n127.0.0.1       localhost\n192.168.2.139       dev-testing\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1260779865,"creation_date":1260779865,"answer_id":1899685,"question_id":1899288,"body_markdown":"Your DNS is broken.  Then IP-numbers are returned instead.","title":"Cannot get hostname from getHostName","body":"<p>Your DNS is broken.  Then IP-numbers are returned instead.</p>\n"},{"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534289406,"creation_date":1462953891,"answer_id":37156542,"question_id":1899288,"body_markdown":"### Looking at the source for `InetAddress.getHostName()` (Sun JDK8)...\n\nThe method performs the following logic:\n\n&gt;  1. Loops through the available `sun.net.spi.nameservice.NameService&#39;s`\n&gt;  2. Performs a reverse DNS lookup - e.g. `192.168.0.23 -&gt; frodo.baggins.com.au`\n&gt;  3. *Checks with the `java.lang.SecurityManager`, to see if &quot;we have permission to connect&quot; to **hostname**\n&gt;  4. *Performs a forward DNS lookup on the hostname, to prevent spoofing - e.g. `frodo.baggins.com.au -&gt; 192.168.0.99`\n&gt;  5. If forward lookup result matches the original address (e.g. `192.168.0.23 == 192.168.0.99?`), return **hostname**, otherwise return `getHostAddress()`\n&gt; \n&gt; *If step 3 or 4 throws a `SecurityException`/`UnknownHostException`, return `getHostAddress()`\n\nFor me, step **#2** successfully resolved the hostname, but failed at step **#4** with an `UnknownHostException`.\n\n----------\n\n### TLDR; you must fulfill ALL of the following requirements:\n\n 1. the `SecurityManager` must provide permission to access the host\n 1. you must be able to forward AND reverse DNS lookup your `InetAddress`\n 1. the forward lookup details MUST match the reverse lookup details\n\nOnly then will Java give you the hostname.\n\n----------\n\n### OR, [you could bypass these steps with the following method][1], and just get the hostname.\n\n&lt;!-- lang: java-lang --&gt;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static String getHostName(InetAddress addr) {\n        String host = null;\n        List&lt;NameService&gt; nameServicesImpl = new ArrayList&lt;&gt;();\n        try {\n            // do naughty things...\n            Field nameServices = InetAddress.class.getDeclaredField(&quot;nameServices&quot;);\n            nameServices.setAccessible(true);\n            nameServicesImpl = (List&lt;NameService&gt;) nameServices.get(null);\n        } catch (Throwable t) {\n            throw new RuntimeException(&quot;Got caught doing naughty things.&quot;, t);\n        }\n        for (NameService nameService : nameServicesImpl) {\n            try {\n                // lookup the hostname...\n                host = nameService.getHostByAddr(addr.getAddress());\n            } catch (Throwable t) {\n                // NOOP: problem getting hostname from this name service, continue looping...\n            }\n        }\n        return host != null ? host : addr.getHostAddress();\n    }\n\n  [1]: https://gist.github.com/nickgrealy/07698367d2e64740bd56b08fa9fa95e0#file-inetaddressutils-java-L46-56","title":"Cannot get hostname from getHostName","body":"<h3>Looking at the source for <code>InetAddress.getHostName()</code> (Sun JDK8)...</h3>\n<p>The method performs the following logic:</p>\n<blockquote>\n<ol>\n<li>Loops through the available <code>sun.net.spi.nameservice.NameService's</code></li>\n<li>Performs a reverse DNS lookup - e.g. <code>192.168.0.23 -&gt; frodo.baggins.com.au</code></li>\n<li>*Checks with the <code>java.lang.SecurityManager</code>, to see if &quot;we have permission to connect&quot; to <strong>hostname</strong></li>\n<li>*Performs a forward DNS lookup on the hostname, to prevent spoofing - e.g. <code>frodo.baggins.com.au -&gt; 192.168.0.99</code></li>\n<li>If forward lookup result matches the original address (e.g. <code>192.168.0.23 == 192.168.0.99?</code>), return <strong>hostname</strong>, otherwise return <code>getHostAddress()</code></li>\n</ol>\n<p>*If step 3 or 4 throws a <code>SecurityException</code>/<code>UnknownHostException</code>, return <code>getHostAddress()</code></p>\n</blockquote>\n<p>For me, step <strong>#2</strong> successfully resolved the hostname, but failed at step <strong>#4</strong> with an <code>UnknownHostException</code>.</p>\n<hr />\n<h3>TLDR; you must fulfill ALL of the following requirements:</h3>\n<ol>\n<li>the <code>SecurityManager</code> must provide permission to access the host</li>\n<li>you must be able to forward AND reverse DNS lookup your <code>InetAddress</code></li>\n<li>the forward lookup details MUST match the reverse lookup details</li>\n</ol>\n<p>Only then will Java give you the hostname.</p>\n<hr />\n<h3>OR, <a href=\"https://gist.github.com/nickgrealy/07698367d2e64740bd56b08fa9fa95e0#file-inetaddressutils-java-L46-56\" rel=\"nofollow noreferrer\">you could bypass these steps with the following method</a>, and just get the hostname.</h3>\n\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static String getHostName(InetAddress addr) {\n    String host = null;\n    List&lt;NameService&gt; nameServicesImpl = new ArrayList&lt;&gt;();\n    try {\n        // do naughty things...\n        Field nameServices = InetAddress.class.getDeclaredField(&quot;nameServices&quot;);\n        nameServices.setAccessible(true);\n        nameServicesImpl = (List&lt;NameService&gt;) nameServices.get(null);\n    } catch (Throwable t) {\n        throw new RuntimeException(&quot;Got caught doing naughty things.&quot;, t);\n    }\n    for (NameService nameService : nameServicesImpl) {\n        try {\n            // lookup the hostname...\n            host = nameService.getHostByAddr(addr.getAddress());\n        } catch (Throwable t) {\n            // NOOP: problem getting hostname from this name service, continue looping...\n        }\n    }\n    return host != null ? host : addr.getHostAddress();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638135678,"creation_date":1638135678,"answer_id":70147691,"question_id":1899288,"body_markdown":"The problem can be caused by multiple reasons.\r\n\r\n# Reason 1: the IP address doesn&#39;t have a hostname #\r\nThis is probably the most common reason, and has nothing to do with security managers.\r\n\r\nIf an IP address doesn&#39;t resolve to a hostname, because there is no hostname, then you would expect `getHostName()` to return `null` or throw a `UnknownHostException`, but this doesn&#39;t happen. Instead `getHostName()` simply returns the IP address as a string back again. For reasons unknown to me, this common situation is undocumented.\r\n\r\nSo if the IP address is the same as the result returned by `getHostName()`, then the hostname doesn&#39;t exist.\r\n\r\n## Detailed explanation ##\r\n\r\nThe following JDK code is the cause of this undocumented problem:\r\nhttps://github.com/openjdk/jdk/blob/jdk-17+35/src/java.base/share/classes/java/net/InetAddress.java#L697\r\n\r\n```\r\npublic class InetAddress implements java.io.Serializable {\r\n    private static String getHostFromNameService(InetAddress addr, boolean check) {\r\n        String host = null;\r\n            try {\r\n                // first lookup the hostname\r\n                host = nameService.getHostByAddr(addr.getAddress());\r\n\r\n                /* check to see if calling code is allowed to know\r\n                 * the hostname for this IP address, ie, connect to the host\r\n                 */\r\n                if (check) {\r\n                    @SuppressWarnings(&quot;removal&quot;)\r\n                    SecurityManager sec = System.getSecurityManager();\r\n                    if (sec != null) {\r\n                        sec.checkConnect(host, -1);\r\n                    }\r\n                }\r\n\r\n                /* now get all the IP addresses for this hostname,\r\n                 * and make sure one of them matches the original IP\r\n                 * address. We do this to try and prevent spoofing.\r\n                 */\r\n\r\n                InetAddress[] arr = InetAddress.getAllByName0(host, check);\r\n                boolean ok = false;\r\n\r\n                if(arr != null) {\r\n                    for(int i = 0; !ok &amp;&amp; i &lt; arr.length; i++) {\r\n                        ok = addr.equals(arr[i]);\r\n                    }\r\n                }\r\n\r\n                //XXX: if it looks a spoof just return the address?\r\n                if (!ok) {\r\n                    host = addr.getHostAddress();\r\n                    return host;\r\n                }\r\n            } catch (SecurityException e) {\r\n                host = addr.getHostAddress();\r\n            } catch (UnknownHostException e) {\r\n                host = addr.getHostAddress();\r\n                // let next provider resolve the hostname\r\n            }\r\n        return host;\r\n    }\r\n}\r\n```\r\nSo what happens is that the IP-address is passed to `NameService.getHostByAddr()` (`NameService` is a private interface), which has this (private) documentation in the source code:\r\n```\r\nLookup the host corresponding to the IP address provided\r\n@param addr byte array representing an IP address\r\n@return {@code String} representing the host name mapping\r\n@throws UnknownHostException if no host found for the specified IP address\r\n```\r\nSo `NameService.getHostByAddr()` throws an `UnknownHostException` if the IP doesn&#39;t have a hostname, but `InetAddress.getHostFromNameService()` swallows this exception and instead, it returns the provided IP-address itself!!! IMO it should have let the exception be thrown instead of swallowing it, because swallowing it makes it more difficult for the client to determine whether a hostname exists.\r\n\r\nYou can check if the IP address has a hostname by using the `nslookup` commandline tool: `nslookup 192.168.2.139`. If it returns something like:\r\n`** server can&#39;t find 139.2.168.192.in-addr.arpa: NXDOMAIN` (Linux) or `*** can&#39;t find 192.168.2.139: Non-existent domain` (Windows) then there is no hostname.\r\n\r\n# Reason 2: a security manager is applied #\r\nBy default, Java doesn&#39;t have a security manager enabled. In that case, this reason doesn&#39;t apply.\r\n\r\nA security manager is an object that defines a security policy for an application. If you have a security manager and want to find out if it is the cause of your problem, then you should check whether it is allowing you to open a socket to the resolved hostname (if any). To do so, first use `nslookup 192.168.2.139` and verify if a hostname is resolved. If no hostname is resolved, then your problem is caused by &quot;Reason 1&quot;. If it does resolve to a hostname, for example `myhostname`, then try this:\r\n\r\n```\r\nSecurityManager sec = System.getSecurityManager();\r\nif (sec != null) {\r\n\tsec.checkConnect(&quot;myhostname&quot;, -1);\r\n}\r\n```\r\n\r\nIf [`checkConnect()`][1] throws a `SecurityException`, then a SecurityManager is active and is causing the problem. So then you could look into how you can configure your securityManager to solve the problem.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/SecurityManager.html#checkConnect-java.lang.String-int-","title":"Cannot get hostname from getHostName","body":"<p>The problem can be caused by multiple reasons.</p>\n<h1>Reason 1: the IP address doesn't have a hostname</h1>\n<p>This is probably the most common reason, and has nothing to do with security managers.</p>\n<p>If an IP address doesn't resolve to a hostname, because there is no hostname, then you would expect <code>getHostName()</code> to return <code>null</code> or throw a <code>UnknownHostException</code>, but this doesn't happen. Instead <code>getHostName()</code> simply returns the IP address as a string back again. For reasons unknown to me, this common situation is undocumented.</p>\n<p>So if the IP address is the same as the result returned by <code>getHostName()</code>, then the hostname doesn't exist.</p>\n<h2>Detailed explanation</h2>\n<p>The following JDK code is the cause of this undocumented problem:\n<a href=\"https://github.com/openjdk/jdk/blob/jdk-17+35/src/java.base/share/classes/java/net/InetAddress.java#L697\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/jdk-17+35/src/java.base/share/classes/java/net/InetAddress.java#L697</a></p>\n<pre><code>public class InetAddress implements java.io.Serializable {\n    private static String getHostFromNameService(InetAddress addr, boolean check) {\n        String host = null;\n            try {\n                // first lookup the hostname\n                host = nameService.getHostByAddr(addr.getAddress());\n\n                /* check to see if calling code is allowed to know\n                 * the hostname for this IP address, ie, connect to the host\n                 */\n                if (check) {\n                    @SuppressWarnings(&quot;removal&quot;)\n                    SecurityManager sec = System.getSecurityManager();\n                    if (sec != null) {\n                        sec.checkConnect(host, -1);\n                    }\n                }\n\n                /* now get all the IP addresses for this hostname,\n                 * and make sure one of them matches the original IP\n                 * address. We do this to try and prevent spoofing.\n                 */\n\n                InetAddress[] arr = InetAddress.getAllByName0(host, check);\n                boolean ok = false;\n\n                if(arr != null) {\n                    for(int i = 0; !ok &amp;&amp; i &lt; arr.length; i++) {\n                        ok = addr.equals(arr[i]);\n                    }\n                }\n\n                //XXX: if it looks a spoof just return the address?\n                if (!ok) {\n                    host = addr.getHostAddress();\n                    return host;\n                }\n            } catch (SecurityException e) {\n                host = addr.getHostAddress();\n            } catch (UnknownHostException e) {\n                host = addr.getHostAddress();\n                // let next provider resolve the hostname\n            }\n        return host;\n    }\n}\n</code></pre>\n<p>So what happens is that the IP-address is passed to <code>NameService.getHostByAddr()</code> (<code>NameService</code> is a private interface), which has this (private) documentation in the source code:</p>\n<pre><code>Lookup the host corresponding to the IP address provided\n@param addr byte array representing an IP address\n@return {@code String} representing the host name mapping\n@throws UnknownHostException if no host found for the specified IP address\n</code></pre>\n<p>So <code>NameService.getHostByAddr()</code> throws an <code>UnknownHostException</code> if the IP doesn't have a hostname, but <code>InetAddress.getHostFromNameService()</code> swallows this exception and instead, it returns the provided IP-address itself!!! IMO it should have let the exception be thrown instead of swallowing it, because swallowing it makes it more difficult for the client to determine whether a hostname exists.</p>\n<p>You can check if the IP address has a hostname by using the <code>nslookup</code> commandline tool: <code>nslookup 192.168.2.139</code>. If it returns something like:\n<code>** server can't find 139.2.168.192.in-addr.arpa: NXDOMAIN</code> (Linux) or <code>*** can't find 192.168.2.139: Non-existent domain</code> (Windows) then there is no hostname.</p>\n<h1>Reason 2: a security manager is applied</h1>\n<p>By default, Java doesn't have a security manager enabled. In that case, this reason doesn't apply.</p>\n<p>A security manager is an object that defines a security policy for an application. If you have a security manager and want to find out if it is the cause of your problem, then you should check whether it is allowing you to open a socket to the resolved hostname (if any). To do so, first use <code>nslookup 192.168.2.139</code> and verify if a hostname is resolved. If no hostname is resolved, then your problem is caused by &quot;Reason 1&quot;. If it does resolve to a hostname, for example <code>myhostname</code>, then try this:</p>\n<pre><code>SecurityManager sec = System.getSecurityManager();\nif (sec != null) {\n    sec.checkConnect(&quot;myhostname&quot;, -1);\n}\n</code></pre>\n<p>If <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/SecurityManager.html#checkConnect-java.lang.String-int-\" rel=\"nofollow noreferrer\"><code>checkConnect()</code></a> throws a <code>SecurityException</code>, then a SecurityManager is active and is causing the problem. So then you could look into how you can configure your securityManager to solve the problem.</p>\n"}],"owner":{"account_id":52735,"reputation":2133,"user_id":157620,"accept_rate":73,"display_name":"Joe Ijam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12093,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1899685,"answer_count":6,"score":3,"last_activity_date":1638135678,"creation_date":1260772861,"question_id":1899288,"body_markdown":"I am trying to get hostname/computer name using this method. Unfortunately i only can get localhost but not other computer.\r\n\r\n\r\n\r\n    private String getHostName(String _strIP) {\r\n        try {\r\n            InetAddress inetAddress = InetAddress.getByName(_strIP);\r\n            System.out.println(&quot;getHostAddress : &quot; + inetAddress.getHostAddress());\r\n            System.out.println(&quot;getHostName : &quot; + inetAddress.getHostName());\r\n            System.out.println(&quot;getCanonicalHostName : &quot; + inetAddress.getCanonicalHostName());\r\n            return inetAddress.getHostName();            \r\n        } catch (UnknownHostException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return strDefaultHostName;\r\n    }\r\n\r\n### the result (not localhost)\r\n\r\n    getHostAddress : 192.168.2.139\r\n    getHostName : 192.168.2.139\r\n    getCanonicalHostName : 192.168.2.139\r\n\r\n\r\n### the result (localhost)\r\n\r\n    getHostAddress : 127.0.0.1\r\n    getHostName : localhost\r\n    getCanonicalHostName : localhost\r\n\r\n\r\nThank you\r\n\r\n\r\n","title":"Cannot get hostname from getHostName","body":"<p>I am trying to get hostname/computer name using this method. Unfortunately i only can get localhost but not other computer.</p>\n\n<pre><code>private String getHostName(String _strIP) {\n    try {\n        InetAddress inetAddress = InetAddress.getByName(_strIP);\n        System.out.println(\"getHostAddress : \" + inetAddress.getHostAddress());\n        System.out.println(\"getHostName : \" + inetAddress.getHostName());\n        System.out.println(\"getCanonicalHostName : \" + inetAddress.getCanonicalHostName());\n        return inetAddress.getHostName();            \n    } catch (UnknownHostException e) {\n        e.printStackTrace();\n    }\n    return strDefaultHostName;\n}\n</code></pre>\n\n<h3>the result (not localhost)</h3>\n\n<pre><code>getHostAddress : 192.168.2.139\ngetHostName : 192.168.2.139\ngetCanonicalHostName : 192.168.2.139\n</code></pre>\n\n<h3>the result (localhost)</h3>\n\n<pre><code>getHostAddress : 127.0.0.1\ngetHostName : localhost\ngetCanonicalHostName : localhost\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","jpa","hql"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1605217846,"post_id":64810266,"comment_id":114591551,"body_markdown":"What&#39;s the root cause for the error you&#39;re getting? I suspect Spring Data does not like mixing interface-based and class-based projections. Try declaring an interface for the `Hyperfile` getters and using it as the element type for the `RFQDto.files` list instead","body":"What&#39;s the root cause for the error you&#39;re getting? I suspect Spring Data does not like mixing interface-based and class-based projections. Try declaring an interface for the <code>Hyperfile</code> getters and using it as the element type for the <code>RFQDto.files</code> list instead"},{"owner":{"account_id":3949068,"reputation":33,"user_id":14440586,"display_name":"KareemAhmed"},"score":0,"creation_date":1605221521,"post_id":64810266,"comment_id":114592840,"body_markdown":"declare it inside projection interface if so this does not work","body":"declare it inside projection interface if so this does not work"},{"owner":{"account_id":3949068,"reputation":33,"user_id":14440586,"display_name":"KareemAhmed"},"score":0,"creation_date":1605224243,"post_id":64810266,"comment_id":114593534,"body_markdown":"HyperFile is in element collection","body":"HyperFile is in element collection"}],"owner":{"account_id":3949068,"reputation":33,"user_id":14440586,"display_name":"KareemAhmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638135520,"creation_date":1605208175,"question_id":64810266,"body_markdown":"I have a `LineItem` entity an\r\n```java\r\n@Entity\r\n@JsonInclude(value = Include.NON_NULL)\r\npublic class LineItem extends AbstractEntity&lt;LineItem&gt;\r\n{\r\n\tprivate int rank;\r\n\t@JsonIgnore\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(nullable = false)\r\n\tprivate OrderEntity orderEntity;\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\tprivate Service service;\r\n\r\n\tprivate long quantity;\r\n\tprivate BigDecimal unitPrice;\r\n\r\n\t@ElementCollection\r\n\tprivate List&lt;HyperFile&gt; files = new ArrayList&lt;HyperFile&gt;();\r\n\r\n```\r\nHyperFile\r\n```\r\n@Embeddable\r\n@JsonInclude(value = Include.NON_NULL)\r\npublic class HyperFile\r\n{\r\n\tprivate String material;\r\n\tprivate String type;\r\n.....\r\n```\r\n\r\nAnd projection DTP of `LineItem`\r\n\r\n```java\r\n&#186;ublic interface RFQDto\r\n{\r\n\tService getService();\r\n\r\n\tList&lt;HyperFile&gt; getFiles();\r\n\r\n\tLineItemStatus getStatus();\r\n\r\n\tUUID getId();\r\n\r\n\tLocalDateTime getUpdated();\r\n\r\n\tlong getQuantity();\r\n\r\n\tOrderEntity getOrderEntity();\r\n\r\n\tinterface OrderEntity\r\n\t{\r\n\t\tOrderStatus getStatus();\r\n\t}\r\n\r\n\tinterface List&lt;HyperFile&gt;\r\n\t{\r\n\t\tUUID getId();\r\n\r\n\t}\r\n```\r\n\r\nI want to retrieve RFQDto projection of `LineItem` from `LineitemRepository` with its fields but I can not get files field\r\n\r\n```java\r\npublic interface LineItemRepository\r\n\t\textends PagingAndSortingRepository&lt;LineItem, UUID&gt;, JpaSpecificationExecutor&lt;LineItem&gt;\r\n{\r\n\tOptional&lt;LineItem&gt; findOneByIdAndOrderEntity_Organization_Id(UUID id, UUID orgId);\r\n\r\n\t@Query(&quot;SELECT l.id AS id, l.service AS service,&quot; + &quot;l.status AS status,l.updated AS updated,&quot; + &quot;l.files As files&quot;\r\n\t\t\t+ &quot;l.quantity AS quantity,&quot; + &quot;l.orderEntity As orderEntity FROM LineItem l &quot;\r\n\t\t\t+ &quot;WHERE l not in (select q.lineItem from Quotation q where q.partner=?2)\t&quot;\r\n\t\t\t+ &quot;and l.service in (?1) and l.status=?3 and l.orderEntity.status=?4&quot;)\r\n\tPage&lt;RFQDto&gt; findByServiceIn(List&lt;Service&gt; services, Organization org, LineItemStatus status,\r\n\t\t\tOrderStatus orderStatus, Pageable page);\r\n...\r\n```\r\nreturns exception\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n```\r\n\r\nand when removing &quot;l.files As files&quot; from the query it runs but returns null in files field \r\n\r\nHow to return files as a List of objects using the query.","title":"Return List&lt;objects&gt; from a projection interface using Hql query","body":"<p>I have a <code>LineItem</code> entity an</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@JsonInclude(value = Include.NON_NULL)\npublic class LineItem extends AbstractEntity&lt;LineItem&gt;\n{\n    private int rank;\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(nullable = false)\n    private OrderEntity orderEntity;\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    private Service service;\n\n    private long quantity;\n    private BigDecimal unitPrice;\n\n    @ElementCollection\n    private List&lt;HyperFile&gt; files = new ArrayList&lt;HyperFile&gt;();\n\n</code></pre>\n<p>HyperFile</p>\n<pre><code>@Embeddable\n@JsonInclude(value = Include.NON_NULL)\npublic class HyperFile\n{\n    private String material;\n    private String type;\n.....\n</code></pre>\n<p>And projection DTP of <code>LineItem</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>ºublic interface RFQDto\n{\n    Service getService();\n\n    List&lt;HyperFile&gt; getFiles();\n\n    LineItemStatus getStatus();\n\n    UUID getId();\n\n    LocalDateTime getUpdated();\n\n    long getQuantity();\n\n    OrderEntity getOrderEntity();\n\n    interface OrderEntity\n    {\n        OrderStatus getStatus();\n    }\n\n    interface List&lt;HyperFile&gt;\n    {\n        UUID getId();\n\n    }\n</code></pre>\n<p>I want to retrieve RFQDto projection of <code>LineItem</code> from <code>LineitemRepository</code> with its fields but I can not get files field</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface LineItemRepository\n        extends PagingAndSortingRepository&lt;LineItem, UUID&gt;, JpaSpecificationExecutor&lt;LineItem&gt;\n{\n    Optional&lt;LineItem&gt; findOneByIdAndOrderEntity_Organization_Id(UUID id, UUID orgId);\n\n    @Query(&quot;SELECT l.id AS id, l.service AS service,&quot; + &quot;l.status AS status,l.updated AS updated,&quot; + &quot;l.files As files&quot;\n            + &quot;l.quantity AS quantity,&quot; + &quot;l.orderEntity As orderEntity FROM LineItem l &quot;\n            + &quot;WHERE l not in (select q.lineItem from Quotation q where q.partner=?2)   &quot;\n            + &quot;and l.service in (?1) and l.status=?3 and l.orderEntity.status=?4&quot;)\n    Page&lt;RFQDto&gt; findByServiceIn(List&lt;Service&gt; services, Organization org, LineItemStatus status,\n            OrderStatus orderStatus, Pageable page);\n...\n</code></pre>\n<p>returns exception</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException:\n</code></pre>\n<p>and when removing &quot;l.files As files&quot; from the query it runs but returns null in files field</p>\n<p>How to return files as a List of objects using the query.</p>\n"},{"tags":["java","spring","spring-boot","redis","transactions"],"owner":{"account_id":6621920,"reputation":11,"user_id":5113289,"display_name":"Archer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638135414,"creation_date":1605280107,"question_id":64823283,"body_markdown":"applicaton.yml:\r\n```yaml\r\nspring:\r\n  redis:\r\n    host: 192.168.1.102\r\n    password: 123456\r\n  datasource:\r\n    druid:\r\n      username: root\r\n      password: 123456\r\n      url: jdbc:mysql://192.168.1.102:3306/shop?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false\r\n      driver-class-name: com.mysql.cj.jdbc.Driver  \r\n\r\nserver:\r\n  port: 6666\r\n ```\r\n \r\nRedisConfig.java:   \r\n```java\r\n@Configuration\r\n//@EnableTransactionManagement\r\npublic class RedisConfig {\r\n\t@Bean\r\n\tpublic RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory)\r\n\t\t\tthrows UnknownHostException {\r\n\t\tRedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(redisConnectionFactory);\r\n\r\n\t\tStringRedisSerializer serializer = new StringRedisSerializer();\r\n\t\ttemplate.setKeySerializer(serializer);\r\n\t\ttemplate.setValueSerializer(serializer);\r\n\r\n\t\ttemplate.setHashKeySerializer(serializer);\r\n\t\ttemplate.setHashValueSerializer(serializer);\r\n\t\t//template.setEnableTransactionSupport(true);\r\n\t\treturn template;\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n    @Autowired\r\n    RedisTemplate redisTemplate;\r\n\r\n    @Test\r\n    @Transactional\r\n    void test01() {\r\n        /**\r\n         *  token=abcdef stored in redis\r\n         */\r\n        Long result = (Long) redisTemplate.execute(new DefaultRedisScript(&quot;if redis.call(&#39;get&#39;,KEYS[1])== ARGV[1] then return redis.call(&#39;del&#39;,KEYS[1]) else &quot; +\r\n                &quot;return 0 end&quot;, Long.class), Collections.singletonList(&quot;token&quot;), &quot;abcdef&quot;);\r\n\r\n        System.out.println(result); // console will print 1,the token in redis will be deleted\r\n \r\n    }\r\n}\r\n```   \r\n    \r\nLua scripts can be executed normally without using transactions.\r\n\r\nI added transaction management in the following test, and there were some problems.\r\n```java        \r\n@Configuration\r\n@EnableTransactionManagement //Configuration enabling Transaction Management\r\npublic class RedisConfig {\r\n\t@Bean\r\n\tpublic RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory)\r\n\t\t\tthrows UnknownHostException {\r\n\t\tRedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(redisConnectionFactory);\r\n\r\n\t\tStringRedisSerializer serializer = new StringRedisSerializer();\r\n\t\ttemplate.setKeySerializer(serializer);\r\n\t\ttemplate.setValueSerializer(serializer);\r\n\r\n\t\ttemplate.setHashKeySerializer(serializer);\r\n\t\ttemplate.setHashValueSerializer(serializer);\r\n\t\ttemplate.setEnableTransactionSupport(true); //Configures RedisTemplate to participate in transactions by binding connections to the current thread.\r\n\t\treturn template;\r\n\t}\t\r\n}\r\n```\r\n \r\n```java\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n    @Autowired\r\n    RedisTemplate redisTemplate;\r\n\r\n    @Test\r\n    @Transactional\r\n    void test01() {\r\n        /**\r\n         *  token=abcdef stored in redis\r\n         */\r\n        Long result = (Long) redisTemplate.execute(new DefaultRedisScript(&quot;if redis.call(&#39;get&#39;,KEYS[1])== ARGV[1] then return redis.call(&#39;del&#39;,KEYS[1]) else &quot; +\r\n                &quot;return 0 end&quot;, Long.class), Collections.singletonList(&quot;token&quot;), &quot;abcdef&quot;);\r\n\r\n        System.out.println(result); // console will print null,the token in redis will not be deleted\r\n\r\n    }\r\n}\r\n```\r\n\r\nWhen I use `@EnableTransactionManagement`, the lua script cannot be executed normally.\r\n\r\nWhy does the execution result of lua script return null?  \r\n\r\nHow to use transactions without affecting the execution of lua scripts?","title":"Redis executing Lua script conflicts with transaction","body":"<p>applicaton.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  redis:\n    host: 192.168.1.102\n    password: 123456\n  datasource:\n    druid:\n      username: root\n      password: 123456\n      url: jdbc:mysql://192.168.1.102:3306/shop?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false\n      driver-class-name: com.mysql.cj.jdbc.Driver  \n\nserver:\n  port: 6666\n</code></pre>\n<p>RedisConfig.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n//@EnableTransactionManagement\npublic class RedisConfig {\n    @Bean\n    public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory)\n            throws UnknownHostException {\n        RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n\n        StringRedisSerializer serializer = new StringRedisSerializer();\n        template.setKeySerializer(serializer);\n        template.setValueSerializer(serializer);\n\n        template.setHashKeySerializer(serializer);\n        template.setHashValueSerializer(serializer);\n        //template.setEnableTransactionSupport(true);\n        return template;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass DemoApplicationTests {\n    @Autowired\n    RedisTemplate redisTemplate;\n\n    @Test\n    @Transactional\n    void test01() {\n        /**\n         *  token=abcdef stored in redis\n         */\n        Long result = (Long) redisTemplate.execute(new DefaultRedisScript(&quot;if redis.call('get',KEYS[1])== ARGV[1] then return redis.call('del',KEYS[1]) else &quot; +\n                &quot;return 0 end&quot;, Long.class), Collections.singletonList(&quot;token&quot;), &quot;abcdef&quot;);\n\n        System.out.println(result); // console will print 1,the token in redis will be deleted\n \n    }\n}\n</code></pre>\n<p>Lua scripts can be executed normally without using transactions.</p>\n<p>I added transaction management in the following test, and there were some problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableTransactionManagement //Configuration enabling Transaction Management\npublic class RedisConfig {\n    @Bean\n    public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory)\n            throws UnknownHostException {\n        RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n\n        StringRedisSerializer serializer = new StringRedisSerializer();\n        template.setKeySerializer(serializer);\n        template.setValueSerializer(serializer);\n\n        template.setHashKeySerializer(serializer);\n        template.setHashValueSerializer(serializer);\n        template.setEnableTransactionSupport(true); //Configures RedisTemplate to participate in transactions by binding connections to the current thread.\n        return template;\n    }   \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass DemoApplicationTests {\n    @Autowired\n    RedisTemplate redisTemplate;\n\n    @Test\n    @Transactional\n    void test01() {\n        /**\n         *  token=abcdef stored in redis\n         */\n        Long result = (Long) redisTemplate.execute(new DefaultRedisScript(&quot;if redis.call('get',KEYS[1])== ARGV[1] then return redis.call('del',KEYS[1]) else &quot; +\n                &quot;return 0 end&quot;, Long.class), Collections.singletonList(&quot;token&quot;), &quot;abcdef&quot;);\n\n        System.out.println(result); // console will print null,the token in redis will not be deleted\n\n    }\n}\n</code></pre>\n<p>When I use <code>@EnableTransactionManagement</code>, the lua script cannot be executed normally.</p>\n<p>Why does the execution result of lua script return null?</p>\n<p>How to use transactions without affecting the execution of lua scripts?</p>\n"},{"tags":["java","spring","spring-boot","soap"],"comments":[{"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"score":0,"creation_date":1605685143,"post_id":64888657,"comment_id":114723630,"body_markdown":"Without seeing the class around your method, the problem can not be found. Could be missing @Endpoint annotation for example.","body":"Without seeing the class around your method, the problem can not be found. Could be missing @Endpoint annotation for example."},{"owner":{"account_id":17916680,"reputation":684,"user_id":13017474,"display_name":"priyranjan"},"score":0,"creation_date":1605686007,"post_id":64888657,"comment_id":114723951,"body_markdown":"attach log here how some1 will help you with just piece of code with no meaning. add request n response sample","body":"attach log here how some1 will help you with just piece of code with no meaning. add request n response sample"}],"owner":{"account_id":19957582,"reputation":1,"user_id":14625930,"display_name":"Zeynep Sema Ozdemir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638135345,"creation_date":1605683978,"question_id":64888657,"body_markdown":"I am new using Spring SOAP W. I follow many tutorials and try to adapt my need to these examples, but never work, I had this message: `No endpoint mapping found for [SaajSoapMessage {http://example/eFatura}documentRequest`\r\n\r\nHere is the endpoint\r\n\r\n    @PayloadRoot(namespace = &quot;http://example/eFatura&quot;, localPart = &quot;DocumentType&quot;)\r\n    @ResponsePayload\r\n    public DocumentReturnType sendDocument(@RequestPayload DocumentType request) {\r\n        DocumentReturnType response = new DocumentReturnType();\r\n        response.setHash(&quot;Hash-123&quot;);\r\n        response.setMsg(&quot;Mesaj-SemaDeneme&quot;);\r\n        return response;\r\n    }","title":"No endpoint mapping found for [SaajSoapMessage {www.example.org/documentRequest]","body":"<p>I am new using Spring SOAP W. I follow many tutorials and try to adapt my need to these examples, but never work, I had this message: <code>No endpoint mapping found for [SaajSoapMessage {http://example/eFatura}documentRequest</code></p>\n<p>Here is the endpoint</p>\n<pre><code>@PayloadRoot(namespace = &quot;http://example/eFatura&quot;, localPart = &quot;DocumentType&quot;)\n@ResponsePayload\npublic DocumentReturnType sendDocument(@RequestPayload DocumentType request) {\n    DocumentReturnType response = new DocumentReturnType();\n    response.setHash(&quot;Hash-123&quot;);\n    response.setMsg(&quot;Mesaj-SemaDeneme&quot;);\n    return response;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1605702342,"post_id":64891975,"comment_id":114731052,"body_markdown":"Why are you manually creating a Datasource instead of using the Spring Boot auto-configured one? With that just limit the initial pool size to 1 instead of the default 10 and do proper connection idle checks and validation. You shouldn&#39;t use a validation query but rather rely on the JDBC 4 validation checks.","body":"Why are you manually creating a Datasource instead of using the Spring Boot auto-configured one? With that just limit the initial pool size to 1 instead of the default 10 and do proper connection idle checks and validation. You shouldn&#39;t use a validation query but rather rely on the JDBC 4 validation checks."},{"owner":{"account_id":12849611,"reputation":21,"user_id":9294921,"display_name":"Vishal Nayak"},"score":0,"creation_date":1605771110,"post_id":64891975,"comment_id":114755174,"body_markdown":"@M.Deinum : My remote database supports only 1 active connection, so If another instance of my application is accessing the same, I get this :\n\njava.sql.SQLSyntaxErrorException: User 6eX6BxR3TY already has more than &#39;max_user_connections&#39; active connections\n\nThe above exception generates lengthy stacktrace which I need to catch and log it as an error.","body":"@M.Deinum : My remote database supports only 1 active connection, so If another instance of my application is accessing the same, I get this :  java.sql.SQLSyntaxErrorException: User 6eX6BxR3TY already has more than &#39;max_user_connections&#39; active connections  The above exception generates lengthy stacktrace which I need to catch and log it as an error."}],"owner":{"account_id":12849611,"reputation":21,"user_id":9294921,"display_name":"Vishal Nayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638135314,"creation_date":1605698126,"question_id":64891975,"body_markdown":"My database has limited active connections which results in a HikariPool initialization exception as shown below for which I want to neglect the entire stack trace and catch the exception in my Main class. \r\n\r\nHere&#39;s a stack trace of my exception log:\r\n\r\n    2020-11-18 16:27:16.619  INFO 9124 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2020-11-18 16:27:18.344 ERROR 9124 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.sql.SQLSyntaxErrorException: User 6eX6BxR3TY already has more than &#39;max_user_connections&#39; active connections\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)\r\n\r\nHere&#39;s the main class:\r\n\r\n    @SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\r\n    public class NseapiApplication {\r\n    \r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(NseapiApplication.class);\r\n    \r\n    \tprivate static String splunkUrl;\r\n    \r\n    \t@Value(&quot;${splunk.url}&quot;)\r\n    \tpublic void setSplunkUrl(String splunkUrl) {\r\n    \t\tNseapiApplication.splunkUrl = splunkUrl;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(NseapiApplication.class, args);\r\n    \t\tLOGGER.info(&quot;Forwarding logs to Splunk Cloud Instance : &quot; + splunkUrl);\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic static BeanFactoryPostProcessor dependsOnPostProcessor() {\r\n    \t\treturn bf -&gt; {\r\n    \t\t\tString[] jpa = bf.getBeanNamesForType(EntityManagerFactory.class);\r\n    \t\t\tStream.of(jpa).map(bf::getBeanDefinition).forEach(it -&gt; it.setDependsOn(&quot;databaseStartupValidator&quot;));\r\n    \t\t};\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DatabaseStartupValidator databaseStartupValidator(DataSource dataSource) {\r\n    \t\tDatabaseStartupValidator dsv = new DatabaseStartupValidator();\r\n    \t\tdsv.setDataSource(dataSource);\r\n    \t\tdsv.setValidationQuery(DatabaseDriver.MYSQL.getValidationQuery());\r\n    \t\treturn dsv;\r\n    \t}\r\n    }\r\n\r\n\r\nHere&#39;s the Database Configuration class:\r\n\r\n    @Configuration\r\n    public class DatasourceConfig {\r\n    \r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(DatasourceConfig.class);\r\n    \r\n    \t@Bean\r\n    \tpublic DataSource datasource() {\r\n    \t\treturn DataSourceBuilder.create()\r\n    \t\t\t\t\t.driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;)\r\n    \t\t\t\t\t.url(&quot;jdbc:mysql://myDbUrl&quot;).username(&quot;myUserName&quot;).password(&quot;myPassword&quot;)\r\n    \t\t\t\t\t.build();\r\n    \r\n    \t}\r\n    }","title":"How do I catch exceptions occurring during HikariPool intialization in Spring Boot?","body":"<p>My database has limited active connections which results in a HikariPool initialization exception as shown below for which I want to neglect the entire stack trace and catch the exception in my Main class.</p>\n<p>Here's a stack trace of my exception log:</p>\n<pre><code>2020-11-18 16:27:16.619  INFO 9124 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-11-18 16:27:18.344 ERROR 9124 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLSyntaxErrorException: User 6eX6BxR3TY already has more than 'max_user_connections' active connections\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)\n</code></pre>\n<p>Here's the main class:</p>\n<pre><code>@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })\npublic class NseapiApplication {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(NseapiApplication.class);\n\n    private static String splunkUrl;\n\n    @Value(&quot;${splunk.url}&quot;)\n    public void setSplunkUrl(String splunkUrl) {\n        NseapiApplication.splunkUrl = splunkUrl;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(NseapiApplication.class, args);\n        LOGGER.info(&quot;Forwarding logs to Splunk Cloud Instance : &quot; + splunkUrl);\n\n    }\n\n    @Bean\n    public static BeanFactoryPostProcessor dependsOnPostProcessor() {\n        return bf -&gt; {\n            String[] jpa = bf.getBeanNamesForType(EntityManagerFactory.class);\n            Stream.of(jpa).map(bf::getBeanDefinition).forEach(it -&gt; it.setDependsOn(&quot;databaseStartupValidator&quot;));\n        };\n    }\n\n    @Bean\n    public DatabaseStartupValidator databaseStartupValidator(DataSource dataSource) {\n        DatabaseStartupValidator dsv = new DatabaseStartupValidator();\n        dsv.setDataSource(dataSource);\n        dsv.setValidationQuery(DatabaseDriver.MYSQL.getValidationQuery());\n        return dsv;\n    }\n}\n</code></pre>\n<p>Here's the Database Configuration class:</p>\n<pre><code>@Configuration\npublic class DatasourceConfig {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(DatasourceConfig.class);\n\n    @Bean\n    public DataSource datasource() {\n        return DataSourceBuilder.create()\n                    .driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;)\n                    .url(&quot;jdbc:mysql://myDbUrl&quot;).username(&quot;myUserName&quot;).password(&quot;myPassword&quot;)\n                    .build();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","java-15"],"comments":[{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1605719985,"post_id":64896708,"comment_id":114739783,"body_markdown":"Can you show us what is inside of `getAuthentication(...)`?","body":"Can you show us what is inside of <code>getAuthentication(...)</code>?"},{"owner":{"display_name":"user7791584"},"score":0,"creation_date":1605720256,"post_id":64896708,"comment_id":114739926,"body_markdown":"@Aman Yes, but only partially.","body":"@Aman Yes, but only partially."},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1605720305,"post_id":64896708,"comment_id":114739946,"body_markdown":"The part where you are instantiating `Authentication` object?","body":"The part where you are instantiating <code>Authentication</code> object?"},{"owner":{"display_name":"user7791584"},"score":0,"creation_date":1605720355,"post_id":64896708,"comment_id":114739970,"body_markdown":"Certainly, added it to the question @Aman","body":"Certainly, added it to the question @Aman"},{"owner":{"account_id":3020783,"reputation":963,"user_id":2561895,"accept_rate":67,"display_name":"Brandon"},"score":0,"creation_date":1646603857,"post_id":64896708,"comment_id":126158814,"body_markdown":"Did you ever resolve this issue? I am experiencing the exact same stack trace.","body":"Did you ever resolve this issue? I am experiencing the exact same stack trace."}],"owner":{"display_name":"user7791584"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638135216,"creation_date":1605715235,"question_id":64896708,"body_markdown":"Currently performing the upgrade from Spring Boot v2.3.5 to v2.4.0. However, I&#39;m running into a problem in regards to setting the *SecurityContextHolder* when a user is authenticated and actually going through the *FilterChain*.\r\n\r\nThe problematic code is part of a class that extends the *BasicAuthenticationFilter* and looks like this:\r\n```java\r\n    /**\r\n     * Perform the filter for authentication\r\n     *\r\n     * @param request  The HttpServletRequest\r\n     * @param response The HttpServletResponse\r\n     * @param chain    The FilterChain\r\n     * @throws IOException      When the filter could not be performed\r\n     * @throws ServletException When the filter could not be performed\r\n     */\r\n    @Override\r\n    protected void doFilterInternal(final HttpServletRequest request,\r\n                                    final HttpServletResponse response,\r\n                                    final FilterChain chain) throws IOException, ServletException {\r\n        final String header = request.getHeader(jwtConfiguration.getHeader());\r\n\r\n        if (header == null || !header.startsWith(jwtConfiguration.getTokenPrefix())) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        final UsernamePasswordAuthenticationToken authentication = getAuthentication(request);\r\n\r\n        if (authentication == null) {\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n        } else {\r\n            final SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\r\n            context.setAuthentication(authentication);\r\n            SecurityContextHolder.setContext(context);\r\n\r\n            chain.doFilter(request, response); // The exception is thrown here, but only when setting the SecurityContextHolder\r\n        }\r\n    }\r\n\r\n\r\n...\r\n\r\n    /**\r\n     * Get the UsernamePasswordAuthenticationToken from the HttpServletRequest\r\n     *\r\n     * @param request The HttpServletRequest\r\n     * @return The UsernamePasswordAuthenticationToken that was filtered from the HttpServletRequest\r\n     */\r\n    private UsernamePasswordAuthenticationToken getAuthentication(final HttpServletRequest request) {\r\n        final String token = request.getHeader(jwtConfiguration.getHeader());\r\n        if (token != null &amp;&amp; !token.isEmpty()) {\r\n            final UserDto user = authorizationService.getCurrentUser(token);\r\n\r\n            if (user != null) {\r\n                final Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\r\n\r\n                if (user.getRoles() != null) {\r\n                    for (final RoleDto role : user.getRoles()) {\r\n                        if (role.getPermissions() != null) {\r\n                            for (final PermissionDto permission : role.getPermissions()) {\r\n                                grantedAuthorities.add(new SimpleGrantedAuthority(permission.getName()));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return new UsernamePasswordAuthenticationToken(user, null, grantedAuthorities);\r\n            }\r\n            return null;\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nWithout setting the *SecurityContextHolder* the code works just fine, but unfortunately, the *Authentication* will not be set, which isn&#39;t the result I&#39;m after since I&#39;d like to secure certain endpoints.\r\n\r\nThe class that extends *WebSecurityConfigurerAdapter* is set up like so:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private final JwtConfiguration jwtConfiguration;\r\n    private final IAuthorizationService userService;\r\n\r\n    /**\r\n     * Initialize a new WebSecurityConfiguration\r\n     *\r\n     * @param jwtConfiguration The JwtConfiguration object\r\n     * @param userService      The IAuthorizationService implementation\r\n     */\r\n    public WebSecurityConfiguration(@Autowired final JwtConfiguration jwtConfiguration,\r\n                                    @Autowired final IAuthorizationService userService) {\r\n        if (jwtConfiguration == null)\r\n            throw new NullPointerException(&quot;JwtConfig cannot be null!&quot;);\r\n        if (userService == null)\r\n            throw new NullPointerException(&quot;IAuthorizationService cannot be null!&quot;);\r\n\r\n        this.jwtConfiguration = jwtConfiguration;\r\n        this.userService = userService;\r\n    }\r\n\r\n    /**\r\n     * Configure the HttpSecurity\r\n     *\r\n     * @param http The HttpSecurity object\r\n     * @throws Exception When the configuration failed\r\n     */\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        final AuthenticationManager authenticationManager = authenticationManager();\r\n\r\n        http\r\n                .csrf().disable().cors().and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/authentication/**&quot;,\r\n                        &quot;/v2/api-docs&quot;,\r\n                        &quot;/configuration/ui&quot;,\r\n                        &quot;/swagger-resources/**&quot;,\r\n                        &quot;/configuration/security&quot;,\r\n                        &quot;/swagger-ui.html&quot;,\r\n                        &quot;/webjars/**&quot;)\r\n                .permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilterBefore(new JwtAuthorizationFilter(authenticationManager, jwtConfiguration, userService), JwtAuthorizationFilter.class)\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n}\r\n```\r\n\r\nThe exception itself, that occurs when setting the SecurityContextHolder, when passing through the chain is as follows:\r\n\r\n*java.lang.IllegalStateException: No primary or single public constructor found for interface org.springframework.security.core.Authentication - and no default constructor found either*\r\n\r\n[![Exception Stacktrace][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eaiVQ.png","title":"Spring Boot 2.4.0 - Setting the SecurityContextHolder using a BasicAuthenticationFilter throws IllegalStateException","body":"<p>Currently performing the upgrade from Spring Boot v2.3.5 to v2.4.0. However, I'm running into a problem in regards to setting the <em>SecurityContextHolder</em> when a user is authenticated and actually going through the <em>FilterChain</em>.</p>\n<p>The problematic code is part of a class that extends the <em>BasicAuthenticationFilter</em> and looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Perform the filter for authentication\n     *\n     * @param request  The HttpServletRequest\n     * @param response The HttpServletResponse\n     * @param chain    The FilterChain\n     * @throws IOException      When the filter could not be performed\n     * @throws ServletException When the filter could not be performed\n     */\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request,\n                                    final HttpServletResponse response,\n                                    final FilterChain chain) throws IOException, ServletException {\n        final String header = request.getHeader(jwtConfiguration.getHeader());\n\n        if (header == null || !header.startsWith(jwtConfiguration.getTokenPrefix())) {\n            chain.doFilter(request, response);\n            return;\n        }\n\n        final UsernamePasswordAuthenticationToken authentication = getAuthentication(request);\n\n        if (authentication == null) {\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\n        } else {\n            final SecurityContext context = SecurityContextHolder.createEmptyContext();\n\n            context.setAuthentication(authentication);\n            SecurityContextHolder.setContext(context);\n\n            chain.doFilter(request, response); // The exception is thrown here, but only when setting the SecurityContextHolder\n        }\n    }\n\n\n...\n\n    /**\n     * Get the UsernamePasswordAuthenticationToken from the HttpServletRequest\n     *\n     * @param request The HttpServletRequest\n     * @return The UsernamePasswordAuthenticationToken that was filtered from the HttpServletRequest\n     */\n    private UsernamePasswordAuthenticationToken getAuthentication(final HttpServletRequest request) {\n        final String token = request.getHeader(jwtConfiguration.getHeader());\n        if (token != null &amp;&amp; !token.isEmpty()) {\n            final UserDto user = authorizationService.getCurrentUser(token);\n\n            if (user != null) {\n                final Set&lt;GrantedAuthority&gt; grantedAuthorities = new HashSet&lt;&gt;();\n\n                if (user.getRoles() != null) {\n                    for (final RoleDto role : user.getRoles()) {\n                        if (role.getPermissions() != null) {\n                            for (final PermissionDto permission : role.getPermissions()) {\n                                grantedAuthorities.add(new SimpleGrantedAuthority(permission.getName()));\n                            }\n                        }\n                    }\n                }\n\n                return new UsernamePasswordAuthenticationToken(user, null, grantedAuthorities);\n            }\n            return null;\n        }\n        return null;\n    }\n</code></pre>\n<p>Without setting the <em>SecurityContextHolder</em> the code works just fine, but unfortunately, the <em>Authentication</em> will not be set, which isn't the result I'm after since I'd like to secure certain endpoints.</p>\n<p>The class that extends <em>WebSecurityConfigurerAdapter</em> is set up like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private final JwtConfiguration jwtConfiguration;\n    private final IAuthorizationService userService;\n\n    /**\n     * Initialize a new WebSecurityConfiguration\n     *\n     * @param jwtConfiguration The JwtConfiguration object\n     * @param userService      The IAuthorizationService implementation\n     */\n    public WebSecurityConfiguration(@Autowired final JwtConfiguration jwtConfiguration,\n                                    @Autowired final IAuthorizationService userService) {\n        if (jwtConfiguration == null)\n            throw new NullPointerException(&quot;JwtConfig cannot be null!&quot;);\n        if (userService == null)\n            throw new NullPointerException(&quot;IAuthorizationService cannot be null!&quot;);\n\n        this.jwtConfiguration = jwtConfiguration;\n        this.userService = userService;\n    }\n\n    /**\n     * Configure the HttpSecurity\n     *\n     * @param http The HttpSecurity object\n     * @throws Exception When the configuration failed\n     */\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        final AuthenticationManager authenticationManager = authenticationManager();\n\n        http\n                .csrf().disable().cors().and()\n                .authorizeRequests()\n                .antMatchers(&quot;/authentication/**&quot;,\n                        &quot;/v2/api-docs&quot;,\n                        &quot;/configuration/ui&quot;,\n                        &quot;/swagger-resources/**&quot;,\n                        &quot;/configuration/security&quot;,\n                        &quot;/swagger-ui.html&quot;,\n                        &quot;/webjars/**&quot;)\n                .permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .addFilterBefore(new JwtAuthorizationFilter(authenticationManager, jwtConfiguration, userService), JwtAuthorizationFilter.class)\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n}\n</code></pre>\n<p>The exception itself, that occurs when setting the SecurityContextHolder, when passing through the chain is as follows:</p>\n<p><em>java.lang.IllegalStateException: No primary or single public constructor found for interface org.springframework.security.core.Authentication - and no default constructor found either</em></p>\n<p><a href=\"https://i.stack.imgur.com/eaiVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eaiVQ.png\" alt=\"Exception Stacktrace\" /></a></p>\n"},{"tags":["java","spring","spring-boot","localhost"],"comments":[{"owner":{"account_id":10222302,"reputation":621,"user_id":7546121,"display_name":"Amir Schnell"},"score":0,"creation_date":1605775367,"post_id":64907966,"comment_id":114756869,"body_markdown":"spring boot comes with an integrated tomcat server, so no need for that. You need to keep your application running on your computer, open the ports to be accessible from your network and that should do the trick.","body":"spring boot comes with an integrated tomcat server, so no need for that. You need to keep your application running on your computer, open the ports to be accessible from your network and that should do the trick."},{"owner":{"account_id":18579204,"reputation":13,"user_id":13539120,"display_name":"Aman"},"score":0,"creation_date":1605776217,"post_id":64907966,"comment_id":114757261,"body_markdown":"Thankyou  @AmirSchnell opening the ports worked . Thanks","body":"Thankyou  @AmirSchnell opening the ports worked . Thanks"}],"owner":{"account_id":18579204,"reputation":13,"user_id":13539120,"display_name":"Aman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638135149,"creation_date":1605774665,"question_id":64907966,"body_markdown":"I have bound a few spring boot actuator endpoints jar file metrics to ports 9000, 9001 and 9002. On trying localhost:9000 or server IP:9000. I am able to access the metrics. \r\n\r\nBut this works only on the local server. I want that any on my company network can open the metric site through IP based URL i.e IP:9000. \r\n\r\nHow can I achieve this without using tomcat or xamp. It is a spring boot actuator.","title":"spring boot actuator Site working on Localhost need to expose to private network","body":"<p>I have bound a few spring boot actuator endpoints jar file metrics to ports 9000, 9001 and 9002. On trying localhost:9000 or server IP:9000. I am able to access the metrics.</p>\n<p>But this works only on the local server. I want that any on my company network can open the metric site through IP based URL i.e IP:9000.</p>\n<p>How can I achieve this without using tomcat or xamp. It is a spring boot actuator.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","amazon-cognito"],"owner":{"account_id":20022097,"reputation":11,"user_id":14676805,"display_name":"Ankit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638134997,"creation_date":1605890583,"question_id":64933400,"body_markdown":"I want to authorize my two sets of endpoint\r\n\r\n 1. provider url with pattern (`/provider/api/**`)\r\n 2. customer url with pattern (`/customer/api/**`)\r\n\r\nAll other endpoints can be ignored.\r\nI am using AWS Cognito as my authorization server and have built two different User Pools for `Provider` and `Customer`. I have set up the Spring Boot Security from guide https://medium.com/@arjunsk/resource-server-with-cognito-b7fbfbee0155 \r\n\r\nHere are my two Security Configuration\r\n\r\n```java\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class CustomerResourceServerSecurityConfiguration extends ResourceServerConfigurerAdapter {\r\n\r\n  private final ResourceServerProperties resource;\r\n\r\n  @Override\r\n  public void configure(HttpSecurity http) throws Exception {\r\n\r\n    // Very important\r\n    http.cors();\r\n\r\n    http.csrf().disable();\r\n\r\n    http.requestMatchers()\r\n          .antMatchers(&quot;/customer/api/**&quot;)\r\n        .and()\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/customer/api/**&quot;).authenticated();\r\n  }\r\n\r\n  // Enabling Cognito Converter\r\n  @Bean\r\n  public TokenStore jwkTokenStore() {\r\n    return new JwkTokenStore(\r\n        Collections.singletonList(resource.getJwk().getKeySetUri()),\r\n        new CognitoAccessTokenConverter(),\r\n        null);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class ProviderResourceServerSecurityConfiguration extends ResourceServerConfigurerAdapter {\r\n\r\n  @Qualifier(&quot;providerResourceServerProperties&quot;)\r\n  private final ResourceServerProperties resource;\r\n\r\n  @Override\r\n  public void configure(HttpSecurity http) throws Exception {\r\n\r\n    // Very important\r\n    http.cors();\r\n\r\n    http.csrf().disable();\r\n\r\n    http.requestMatchers()\r\n          .antMatchers(&quot;/provider/api/**&quot;)\r\n        .and()\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/provider/api/**&quot;).authenticated();\r\n  }\r\n\r\n  // Enabling Cognito Converter\r\n  @Bean\r\n  public TokenStore jwkTokenStore() {\r\n    return new JwkTokenStore(\r\n        Collections.singletonList(resource.getJwk().getKeySetUri()),\r\n        new CognitoAccessTokenConverter(),\r\n        null);\r\n  }\r\n}\r\n```\r\n\r\nMy Different Configuration is determined by Configuration\r\n\r\n```java\r\n@Configuration\r\npublic class ResourceServerPropertiesConfig {\r\n\r\n  @Bean\r\n  @Primary\r\n  @ConfigurationProperties(&quot;security.customer.oauth2.resource&quot;)\r\n  public ResourceServerProperties customerResourceServerProperties() {\r\n    return new ResourceServerProperties();\r\n  }\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;security.provider.oauth2.resource&quot;)\r\n  public ResourceServerProperties providerResourceServerProperties() {\r\n    return new ResourceServerProperties();\r\n  }\r\n}\r\n``` \r\n\r\n*If I use a single configuration, it works properly. But if use both configuration, I see that my provider configuration is always ignored and all provider endpoint is authorized by the customer security configuration. I tried setting up the Order but was not able to resolve it.*\r\n\r\n**Please help in setting up two different configurations based on an endpoint such that provider URL is authenticated by only `ProviderResourceServerSecurityConfiguration` and customer URL is authenticated only by `CustomerResourceServerSecurityConfiguration`.**","title":"Use Multiple ResourceServerConfigurerAdapter Spring security based on endpoint","body":"<p>I want to authorize my two sets of endpoint</p>\n<ol>\n<li>provider url with pattern (<code>/provider/api/**</code>)</li>\n<li>customer url with pattern (<code>/customer/api/**</code>)</li>\n</ol>\n<p>All other endpoints can be ignored.\nI am using AWS Cognito as my authorization server and have built two different User Pools for <code>Provider</code> and <code>Customer</code>. I have set up the Spring Boot Security from guide <a href=\"https://medium.com/@arjunsk/resource-server-with-cognito-b7fbfbee0155\" rel=\"nofollow noreferrer\">https://medium.com/@arjunsk/resource-server-with-cognito-b7fbfbee0155</a></p>\n<p>Here are my two Security Configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class CustomerResourceServerSecurityConfiguration extends ResourceServerConfigurerAdapter {\n\n  private final ResourceServerProperties resource;\n\n  @Override\n  public void configure(HttpSecurity http) throws Exception {\n\n    // Very important\n    http.cors();\n\n    http.csrf().disable();\n\n    http.requestMatchers()\n          .antMatchers(&quot;/customer/api/**&quot;)\n        .and()\n        .authorizeRequests()\n        .antMatchers(&quot;/customer/api/**&quot;).authenticated();\n  }\n\n  // Enabling Cognito Converter\n  @Bean\n  public TokenStore jwkTokenStore() {\n    return new JwkTokenStore(\n        Collections.singletonList(resource.getJwk().getKeySetUri()),\n        new CognitoAccessTokenConverter(),\n        null);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class ProviderResourceServerSecurityConfiguration extends ResourceServerConfigurerAdapter {\n\n  @Qualifier(&quot;providerResourceServerProperties&quot;)\n  private final ResourceServerProperties resource;\n\n  @Override\n  public void configure(HttpSecurity http) throws Exception {\n\n    // Very important\n    http.cors();\n\n    http.csrf().disable();\n\n    http.requestMatchers()\n          .antMatchers(&quot;/provider/api/**&quot;)\n        .and()\n        .authorizeRequests()\n        .antMatchers(&quot;/provider/api/**&quot;).authenticated();\n  }\n\n  // Enabling Cognito Converter\n  @Bean\n  public TokenStore jwkTokenStore() {\n    return new JwkTokenStore(\n        Collections.singletonList(resource.getJwk().getKeySetUri()),\n        new CognitoAccessTokenConverter(),\n        null);\n  }\n}\n</code></pre>\n<p>My Different Configuration is determined by Configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ResourceServerPropertiesConfig {\n\n  @Bean\n  @Primary\n  @ConfigurationProperties(&quot;security.customer.oauth2.resource&quot;)\n  public ResourceServerProperties customerResourceServerProperties() {\n    return new ResourceServerProperties();\n  }\n\n  @Bean\n  @ConfigurationProperties(&quot;security.provider.oauth2.resource&quot;)\n  public ResourceServerProperties providerResourceServerProperties() {\n    return new ResourceServerProperties();\n  }\n}\n</code></pre>\n<p><em>If I use a single configuration, it works properly. But if use both configuration, I see that my provider configuration is always ignored and all provider endpoint is authorized by the customer security configuration. I tried setting up the Order but was not able to resolve it.</em></p>\n<p><strong>Please help in setting up two different configurations based on an endpoint such that provider URL is authenticated by only <code>ProviderResourceServerSecurityConfiguration</code> and customer URL is authenticated only by <code>CustomerResourceServerSecurityConfiguration</code>.</strong></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1606295614,"post_id":65000914,"comment_id":114918629,"body_markdown":"Why is it a deviation from the spec? What is implemented is the W3C recommendation for checks and pre-flight checks (see https://fetch.spec.whatwg.org/#cors-check).","body":"Why is it a deviation from the spec? What is implemented is the W3C recommendation for checks and pre-flight checks (see <a href=\"https://fetch.spec.whatwg.org/#cors-check\" rel=\"nofollow noreferrer\">fetch.spec.whatwg.org/#cors-check</a>)."},{"owner":{"account_id":20057422,"reputation":11,"user_id":14704806,"display_name":"Ori Schmitz"},"score":0,"creation_date":1606319980,"post_id":65000914,"comment_id":114930295,"body_markdown":"I might have misinterperted that. But I do find many other answers here that claim that CORS will only block an attacker&#39;s browser from reading the response and does not block the server from performing the request. A few examples [1](https://security.stackexchange.com/questions/154350/same-origin-policy-and-csrf-tokens/154356#154356) [2](https://stackoverflow.com/questions/29350797/how-does-csrf-protection-give-me-greater-security-than-cors-control-with-front-e/29409179#29409179) [3](https://stackoverflow.com/questions/19793695/does-a-proper-cors-setup-prevent-xsrf/19793919#19793919)","body":"I might have misinterperted that. But I do find many other answers here that claim that CORS will only block an attacker&#39;s browser from reading the response and does not block the server from performing the request. A few examples <a href=\"https://security.stackexchange.com/questions/154350/same-origin-policy-and-csrf-tokens/154356#154356\">1</a> <a href=\"https://stackoverflow.com/questions/29350797/how-does-csrf-protection-give-me-greater-security-than-cors-control-with-front-e/29409179#29409179\">2</a> <a href=\"https://stackoverflow.com/questions/19793695/does-a-proper-cors-setup-prevent-xsrf/19793919#19793919\">3</a>"},{"owner":{"account_id":20057422,"reputation":11,"user_id":14704806,"display_name":"Ori Schmitz"},"score":0,"creation_date":1606320076,"post_id":65000914,"comment_id":114930340,"body_markdown":"Are they all wrong or is there something else that I do not understand?","body":"Are they all wrong or is there something else that I do not understand?"}],"owner":{"account_id":20057422,"reputation":11,"user_id":14704806,"display_name":"Ori Schmitz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638134873,"creation_date":1606292671,"question_id":65000914,"body_markdown":"When perusing the implementation of Spring Web (5.2.9)&#39;s `CorsWebFilter` &amp; `DefaultCorsProcessor` I noticed that requests sent from a browser containing an origin that is not included inside the configuration&#39;s `allowedOrigins` are rejected in the filter and not passed on to the rest of the filter chain.\r\n\r\nEverything I&#39;ve read about CORS always says that:\r\n\r\n 1. CORS is there to relax the SOP, acting on the browser only.\r\n 2. CORS is not a valid way to prevent CSRF.\r\n\r\nIs this rejection of request on the server-side that Spring does a deviation from the specs? If it is, how safe is it to rely on this implementation staying in upcoming versions of Spring?\r\n\r\nWould you consider it a valid way to prevent CSRF? If I only allow a specific origin, requests made from other origins will always be rejected inside of the `CorsFilter`.","title":"Server side request rejection using Spring Web&#39;s CorsWebFilter","body":"<p>When perusing the implementation of Spring Web (5.2.9)'s <code>CorsWebFilter</code> &amp; <code>DefaultCorsProcessor</code> I noticed that requests sent from a browser containing an origin that is not included inside the configuration's <code>allowedOrigins</code> are rejected in the filter and not passed on to the rest of the filter chain.</p>\n<p>Everything I've read about CORS always says that:</p>\n<ol>\n<li>CORS is there to relax the SOP, acting on the browser only.</li>\n<li>CORS is not a valid way to prevent CSRF.</li>\n</ol>\n<p>Is this rejection of request on the server-side that Spring does a deviation from the specs? If it is, how safe is it to rely on this implementation staying in upcoming versions of Spring?</p>\n<p>Would you consider it a valid way to prevent CSRF? If I only allow a specific origin, requests made from other origins will always be rejected inside of the <code>CorsFilter</code>.</p>\n"},{"tags":["java","spring","azure","spring-boot","azure-functions"],"comments":[{"owner":{"account_id":18904531,"reputation":6115,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1606315442,"post_id":65004659,"comment_id":114927790,"body_markdown":"Though bean name by default takes method name, but can you try explicitly setting `@Bean(name = &quot;messageRouter&quot;)`?","body":"Though bean name by default takes method name, but can you try explicitly setting <code>@Bean(name = &quot;messageRouter&quot;)</code>?"},{"owner":{"account_id":20057141,"reputation":1,"user_id":14704576,"display_name":"Lars"},"score":1,"creation_date":1606474592,"post_id":65004659,"comment_id":114978038,"body_markdown":"@krishg Sadly, this is also not working","body":"@krishg Sadly, this is also not working"},{"owner":{"account_id":18904531,"reputation":6115,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1606475141,"post_id":65004659,"comment_id":114978225,"body_markdown":"It&#39;s strange. It works for me (without specifying Bean name as your original code snippet) when I used the [pom.xml from the example](https://github.com/spring-cloud/spring-cloud-function/blob/master/spring-cloud-function-samples/function-sample-azure/pom.xml).","body":"It&#39;s strange. It works for me (without specifying Bean name as your original code snippet) when I used the <a href=\"https://github.com/spring-cloud/spring-cloud-function/blob/master/spring-cloud-function-samples/function-sample-azure/pom.xml\" rel=\"nofollow noreferrer\">pom.xml from the example</a>."}],"owner":{"account_id":20057141,"reputation":1,"user_id":14704576,"display_name":"Lars"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638134803,"creation_date":1606307041,"question_id":65004659,"body_markdown":"I have a Java azure function with spring boot integration. For some reason, the application throws errors when it tries to find the defined spring function:\r\n\r\nThis is the function `EventHubTriggerFunction.java`:\r\n\r\n```java\r\npublic class EventHubTriggerFunction extends AzureSpringBootRequestHandler&lt;String, String&gt; {\r\n\r\n    @FunctionName(&quot;messageRouter&quot;)\r\n    public void run(\r\n            @BindingName(&quot;SystemProperties&quot;) Map&lt;String, Object&gt; systemProperties,\r\n            @BindingName(&quot;Properties&quot;) Map&lt;String, Object&gt; properties,\r\n            @EventHubTrigger(name = &quot;message&quot;, eventHubName = &quot;eventhubName&quot;, connection = &quot;conn&quot;, consumerGroup = &quot;$Default&quot;, cardinality = Cardinality.ONE) String message,\r\n            final ExecutionContext context\r\n    ) {\r\n        String s = handleRequest(message, context);\r\n        context.getLogger().info(s);\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis is my spring boot `Application.java`:\r\n```java\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n  @Bean\r\n  public Function&lt;String, String&gt; messageRouter() {\r\n    return value -&gt; &quot;HELLO FROM SPRING&quot;;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n}\r\n```\r\n\r\nThe error, if a message is getting processed: \r\n``` \r\n2020-11-25T09:53:01.320 [Information] Initialized context: catalog=null\r\n2020-11-25T09:53:01.355 [Error] Executed &#39;Functions.messageRouter&#39; (Failed, Id=8c680fe7-a275-4038-83d1-7ba7acb65129, Duration=129ms)Result: FailureException: IllegalStateException: No function defined with name=messageRouter\r\n```\r\nThe function itself is triggering + processing until ``handleRequest()`` is getting called. This code is based in the example [here][1] (including POM).\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-function/tree/master/spring-cloud-function-samples/function-sample-azure","title":"Java Spring Azure Function throws Initialized context: catalog=null, IllegalStateException: No function defined with name","body":"<p>I have a Java azure function with spring boot integration. For some reason, the application throws errors when it tries to find the defined spring function:</p>\n<p>This is the function <code>EventHubTriggerFunction.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EventHubTriggerFunction extends AzureSpringBootRequestHandler&lt;String, String&gt; {\n\n    @FunctionName(&quot;messageRouter&quot;)\n    public void run(\n            @BindingName(&quot;SystemProperties&quot;) Map&lt;String, Object&gt; systemProperties,\n            @BindingName(&quot;Properties&quot;) Map&lt;String, Object&gt; properties,\n            @EventHubTrigger(name = &quot;message&quot;, eventHubName = &quot;eventhubName&quot;, connection = &quot;conn&quot;, consumerGroup = &quot;$Default&quot;, cardinality = Cardinality.ONE) String message,\n            final ExecutionContext context\n    ) {\n        String s = handleRequest(message, context);\n        context.getLogger().info(s);\n\n    }\n}\n</code></pre>\n<p>This is my spring boot <code>Application.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class Application {\n\n  @Bean\n  public Function&lt;String, String&gt; messageRouter() {\n    return value -&gt; &quot;HELLO FROM SPRING&quot;;\n  }\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>The error, if a message is getting processed:</p>\n<pre><code>2020-11-25T09:53:01.320 [Information] Initialized context: catalog=null\n2020-11-25T09:53:01.355 [Error] Executed 'Functions.messageRouter' (Failed, Id=8c680fe7-a275-4038-83d1-7ba7acb65129, Duration=129ms)Result: FailureException: IllegalStateException: No function defined with name=messageRouter\n</code></pre>\n<p>The function itself is triggering + processing until <code>handleRequest()</code> is getting called. This code is based in the example <a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/master/spring-cloud-function-samples/function-sample-azure\" rel=\"nofollow noreferrer\">here</a> (including POM).</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3266313,"reputation":476,"user_id":2750734,"display_name":"OranShuster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638112948,"creation_date":1638112948,"answer_id":70144797,"question_id":70144720,"body_markdown":"You need to reset the tracker every loop, not just when you find a new item.\r\n\r\nI also rewrote your code to use lists from the start instead of converting arrays\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        List&lt;WordCount&gt; first = Arrays.asList(new WordCount(&quot;I&quot;, 1), new WordCount(&quot;love&quot;, 1), new WordCount(&quot;you&quot;, 1));\r\n        List&lt;WordCount&gt; second = Arrays.asList(new WordCount(&quot;I&quot;, 1), new WordCount(&quot;love&quot;, 1), new WordCount(&quot;me&quot;, 1));\r\n        List&lt;WordCount&gt; combined = new ArrayList&lt;&gt;(first);\r\n\r\n        for (WordCount count : second) {\r\n            int tracker = 0;\r\n            for (WordCount wordCount : first) {\r\n                if (count.getWord().equals(wordCount.getWord())) {\r\n                    tracker++;\r\n                }\r\n            }\r\n            if (tracker == 0) {\r\n                WordCount a = new WordCount(count.getWord(), count.getCount());\r\n                a.setCount(0);\r\n                combined.add(a);\r\n            }\r\n        }\r\n\r\n        System.out.println(combined);\r\n    }","title":"Comparing one array to another then adding the missing objects from the second array to the first","body":"<p>You need to reset the tracker every loop, not just when you find a new item.</p>\n<p>I also rewrote your code to use lists from the start instead of converting arrays</p>\n<pre><code>    public static void main(String[] args) {\n        List&lt;WordCount&gt; first = Arrays.asList(new WordCount(&quot;I&quot;, 1), new WordCount(&quot;love&quot;, 1), new WordCount(&quot;you&quot;, 1));\n        List&lt;WordCount&gt; second = Arrays.asList(new WordCount(&quot;I&quot;, 1), new WordCount(&quot;love&quot;, 1), new WordCount(&quot;me&quot;, 1));\n        List&lt;WordCount&gt; combined = new ArrayList&lt;&gt;(first);\n\n        for (WordCount count : second) {\n            int tracker = 0;\n            for (WordCount wordCount : first) {\n                if (count.getWord().equals(wordCount.getWord())) {\n                    tracker++;\n                }\n            }\n            if (tracker == 0) {\n                WordCount a = new WordCount(count.getWord(), count.getCount());\n                a.setCount(0);\n                combined.add(a);\n            }\n        }\n\n        System.out.println(combined);\n    }\n</code></pre>\n"}],"owner":{"account_id":23265577,"reputation":25,"user_id":17351170,"display_name":"Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70144797,"answer_count":1,"score":1,"last_activity_date":1638134617,"creation_date":1638112342,"question_id":70144720,"body_markdown":"I want to compare two object arrays from the `WordCount` class and add missing elements from the second array to the first one. My method below converts the first to a list. After that, the for loops check for the same words. \r\n\r\nThe tracker number is incremented if the same string is detected, and if the tracker remains 0 after the for loop, the object is then added to the first list, as it doesn&#39;t exist in the first list. The count of this object is then set to 0.\r\n\r\nLastly, the list is converted back to an array. The problem is that this only returns 3 objects.\r\n\r\nIn theory, the list with a toString-method should look like this:\r\n```\r\n[(&quot;I&quot;, 1), (&quot;love&quot;, 1), (&quot;you&quot;, 1), (&quot;me&quot;, 0)]\r\n```\r\nThe `WordCount` Class:\r\n```java\r\npublic class WordCount {\r\n\tprivate String word;\r\n\tprivate int count;\r\n\r\n\tpublic WordCount(String word, int count) {\r\n\t\tthis.word = word;\r\n\t\tthis.count = count;\r\n\t\tif (count &lt; 0)\r\n\t\t\tcount = 0;\r\n\t}\r\n\tpublic int getCount() {\r\n\t\treturn count;\r\n\t}\r\n\r\n\tpublic void setCount(int count) {\r\n\t\tthis.count = count;\r\n\t}\r\n\r\n\tpublic String getWord() {\r\n\t\treturn word;\r\n\t}\r\n\r\n\tpublic void setWord(String word) {\r\n\t\tthis.word = word;\r\n\t}\r\n```\r\nMain method (in another class):\r\n```java\r\n\tpublic static void main(String arg[]) {\r\n\t\tint tracker = 0;\r\n\t\tWordCount[] first;\r\n\t\tfirst = new WordCount[3];\r\n\t\tfirst[0] = new WordCount(&quot;I&quot;, 1);\r\n\t\tfirst[1] = new WordCount(&quot;love&quot;, 1);\r\n\t\tfirst[2] = new WordCount(&quot;you&quot;, 1);\r\n\t\tArrayList&lt;WordCount&gt; list = new ArrayList&lt;&gt;(Arrays.asList(first));\r\n\t\tWordCount[] second;\r\n\t\tsecond = new WordCount[3];\r\n\t\tsecond[0] = new WordCount(&quot;I&quot;, 1);\r\n\t\tsecond[1] = new WordCount(&quot;love&quot;, 1);\r\n\t\tsecond[2] = new WordCount(&quot;me&quot;, 1);\r\n\t\tfor (int i = 0; i &lt; second.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; first.length; j++) {\r\n\t\t\t\tif (second[i].getWord().equals(first[j].getWord())) {\r\n\t\t\t\t\ttracker++;\r\n\t\t\t\t} else\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t}\r\n\t\t\tif (tracker == 0) {\r\n\t\t\t\tWordCount a = new WordCount(second[i].getWord(), second[i].getCount());\r\n\t\t\t\ta.setCount(0);\r\n\t\t\t\tlist.add(a);\r\n\t\t\t\ttracker = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tWordCount[] lastList = list.toArray(new WordCount[0]);\r\n\t}\r\n```","title":"Comparing one array to another then adding the missing objects from the second array to the first","body":"<p>I want to compare two object arrays from the <code>WordCount</code> class and add missing elements from the second array to the first one. My method below converts the first to a list. After that, the for loops check for the same words.</p>\n<p>The tracker number is incremented if the same string is detected, and if the tracker remains 0 after the for loop, the object is then added to the first list, as it doesn't exist in the first list. The count of this object is then set to 0.</p>\n<p>Lastly, the list is converted back to an array. The problem is that this only returns 3 objects.</p>\n<p>In theory, the list with a toString-method should look like this:</p>\n<pre><code>[(&quot;I&quot;, 1), (&quot;love&quot;, 1), (&quot;you&quot;, 1), (&quot;me&quot;, 0)]\n</code></pre>\n<p>The <code>WordCount</code> Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WordCount {\n    private String word;\n    private int count;\n\n    public WordCount(String word, int count) {\n        this.word = word;\n        this.count = count;\n        if (count &lt; 0)\n            count = 0;\n    }\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n        this.count = count;\n    }\n\n    public String getWord() {\n        return word;\n    }\n\n    public void setWord(String word) {\n        this.word = word;\n    }\n</code></pre>\n<p>Main method (in another class):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String arg[]) {\n        int tracker = 0;\n        WordCount[] first;\n        first = new WordCount[3];\n        first[0] = new WordCount(&quot;I&quot;, 1);\n        first[1] = new WordCount(&quot;love&quot;, 1);\n        first[2] = new WordCount(&quot;you&quot;, 1);\n        ArrayList&lt;WordCount&gt; list = new ArrayList&lt;&gt;(Arrays.asList(first));\n        WordCount[] second;\n        second = new WordCount[3];\n        second[0] = new WordCount(&quot;I&quot;, 1);\n        second[1] = new WordCount(&quot;love&quot;, 1);\n        second[2] = new WordCount(&quot;me&quot;, 1);\n        for (int i = 0; i &lt; second.length; i++) {\n            for (int j = 0; j &lt; first.length; j++) {\n                if (second[i].getWord().equals(first[j].getWord())) {\n                    tracker++;\n                } else\n                    continue;\n\n            }\n            if (tracker == 0) {\n                WordCount a = new WordCount(second[i].getWord(), second[i].getCount());\n                a.setCount(0);\n                list.add(a);\n                tracker = 0;\n            }\n        }\n        WordCount[] lastList = list.toArray(new WordCount[0]);\n    }\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1638125129,"post_id":70145421,"comment_id":123998584,"body_markdown":"You can use any algorithm to compress/decompress any sequence of bytes you want, but some algorithms work better than other for some given type of data.","body":"You can use any algorithm to compress/decompress any sequence of bytes you want, but some algorithms work better than other for some given type of data."}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638134307,"creation_date":1638134307,"answer_id":70147531,"question_id":70145421,"body_markdown":"Dictionary-type compression is applicable when there are many repeated sequences of bytes.  Equivalently, it&#39;s applicable when seeing a byte sequence that you&#39;ve seen before suggests that the next byte will also match what you saw before.\r\n\r\nThe same can be said of pretty much all &quot;universal&quot; lossless compression algorithms, which are not designed specifically to compress a certain kind of data, and the LZ algorithms are in this class.\r\n\r\nThese algorithms compress image data with varying degrees of success, depending on the type of image and what kind of preprocessing is used to translate the image data into a sequence of bytes.\r\n\r\nBoth [PNG][1] and [GIF][2] are examples of lossless image formats that use LZ-style compression.  There doesn&#39;t seem to be a very good reason to write your own, but if you replace PNG&#39;s compressor with LZSS, you&#39;ll get similar results.  The DEFLATE algorithm that it uses is already a good combination of LZSS and Huffman, so maybe it already provides what you need out of the box.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Portable_Network_Graphics\r\n  [2]: https://en.wikipedia.org/wiki/GIF","title":"Image compression and decompression Java","body":"<p>Dictionary-type compression is applicable when there are many repeated sequences of bytes.  Equivalently, it's applicable when seeing a byte sequence that you've seen before suggests that the next byte will also match what you saw before.</p>\n<p>The same can be said of pretty much all &quot;universal&quot; lossless compression algorithms, which are not designed specifically to compress a certain kind of data, and the LZ algorithms are in this class.</p>\n<p>These algorithms compress image data with varying degrees of success, depending on the type of image and what kind of preprocessing is used to translate the image data into a sequence of bytes.</p>\n<p>Both <a href=\"https://en.wikipedia.org/wiki/Portable_Network_Graphics\" rel=\"nofollow noreferrer\">PNG</a> and <a href=\"https://en.wikipedia.org/wiki/GIF\" rel=\"nofollow noreferrer\">GIF</a> are examples of lossless image formats that use LZ-style compression.  There doesn't seem to be a very good reason to write your own, but if you replace PNG's compressor with LZSS, you'll get similar results.  The DEFLATE algorithm that it uses is already a good combination of LZSS and Huffman, so maybe it already provides what you need out of the box.</p>\n"}],"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70147531,"answer_count":1,"score":1,"last_activity_date":1638134307,"creation_date":1638117232,"question_id":70145421,"body_markdown":"I want to create a program which compresses and decompresses images , there are many algorithms to do that , but I was asked to use the LZSS algorithm to compress and decompress the images , my question is that isn&#39;t the LZSS a dictionary type data compression method ? used only for text files ? or am I wrong ? Can the LZSS algorithm be used to compress and decompress images ? ","title":"Image compression and decompression Java","body":"<p>I want to create a program which compresses and decompresses images , there are many algorithms to do that , but I was asked to use the LZSS algorithm to compress and decompress the images , my question is that isn't the LZSS a dictionary type data compression method ? used only for text files ? or am I wrong ? Can the LZSS algorithm be used to compress and decompress images ?</p>\n"},{"tags":["java","selenium","selenium-webdriver","firefox","webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1637777410,"post_id":70100400,"comment_id":123918993,"body_markdown":"source code is here: https://github.com/mozilla/geckodriver/releases  (You&#39;d probably also want to change the proto-type name...)","body":"source code is here: <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">github.com/mozilla/geckodriver/releases</a>  (You&#39;d probably also want to change the proto-type name...)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1637777934,"post_id":70100400,"comment_id":123919181,"body_markdown":"Firefox may set the flag, though... it&#39;ll know when Marionette is used which may set the flag itself.  I don&#39;t really know... but any bot detection would be smarter than just relying on this, anyway.  They&#39;ll at the very least also detect the script injections/hooks.  (but have to target things specific to bots so add-ons/extensions wouldn&#39;t be flagged...)","body":"Firefox may set the flag, though... it&#39;ll know when Marionette is used which may set the flag itself.  I don&#39;t really know... but any bot detection would be smarter than just relying on this, anyway.  They&#39;ll at the very least also detect the script injections/hooks.  (but have to target things specific to bots so add-ons/extensions wouldn&#39;t be flagged...)"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1638133883,"creation_date":1638128519,"answer_id":70146850,"question_id":70100400,"body_markdown":"In the discussion [Can a website detect when you are using Selenium with chromedriver?](https://stackoverflow.com/questions/33225947/can-a-website-detect-when-you-are-using-selenium-with-chromedriver) as suggested by different users to open the [ChromeDriver](https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747) in a [Hex Editor](https://www.hhdsoftware.com/free-hex-editor) and edit the _document variables_ replacing the `cdc_` and `$wdc_` string might be possible, but achiving the same with [GeckoDriver](https://stackoverflow.com/questions/45329528/which-firefox-browser-versions-supported-for-given-geckodriver-version/45331403#45331403) may not be possible.\r\n\r\nMoreover, the commands like [_execute_cdp_cmd()_](https://stackoverflow.com/questions/33225947/can-a-website-detect-when-you-are-using-selenium-with-chromedriver/62520191#62520191) and _Python_ libraries like [**selenium-stealth**](https://stackoverflow.com/questions/33225947/can-a-website-detect-when-you-are-using-selenium-with-chromedriver/70133896#70133896) may not be currently supported by _GeckoDriver_.\r\n\r\n\r\n----------\r\n\r\n\r\nThe [GeckoDriver](https://stackoverflow.com/questions/45329528/which-firefox-browser-versions-supported-for-given-geckodriver-version/45331403#45331403) source code can be easily downloaded from [mozilla / geckodriver](https://github.com/mozilla/geckodriver/releases) page both in `zip` and `tar.gz` format. If you are on [tag:windows] system you can unzip the downloaded file and find the the source code of different modules in the `...\\geckodriver-0.30.0\\src` directory:\r\n\r\n![geckodriver_source_code](https://i.stack.imgur.com/ObOZG.png)\r\n\r\n\r\n----------\r\n\r\n\r\nAdditionally, [geckodriver](https://github.com/mozilla/geckodriver) is made available under the [Mozilla Public License](https://www.mozilla.org/en-US/MPL/2.0/). [GeckoDriver](https://stackoverflow.com/questions/45510338/selenium-webdriver-3-4-0-geckodriver-0-18-0-firefox-which-combination-w/45510453#45510453) source code can also be found in [mozilla-central](https://hg.mozilla.org/mozilla-central/file/tip/testing/geckodriver) under **testing/geckodriver**.\r\n\r\n![mozilla-central-files](https://i.stack.imgur.com/94E4s.png)\r\n\r\n\r\n----------\r\n\r\n\r\nWebDriver Specifications\r\n------------------------\r\nNow as per [WebDriver W3C Editor&#39;s Draft](https://w3c.github.io/webdriver/#interface):\r\n\r\n&gt;&gt;The _**webdriver-active flag**_ is set to `true` when the user agent is under remote control. It is initially `false`.\r\n\r\n![boolean_webdriver](https://i.stack.imgur.com/0pRBF.png)\r\n\r\nSo there can be two possible ways to keep `webdriver` flag as `false` as:\r\n\r\n- Remove the _`readonly`_ attribute, so can be edited runtime. (as discussed in this [answer](https://stackoverflow.com/a/62520191/7429447))\r\n- Strangle the [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) from emitting the signals that the user agent is under remote control.\r\n\r\nTo me the second option looks pretty much viable as the most frequently updated tier is the second tier (`Selenium WebDriver.dll` and `WebDriver.Support.dll` modules). Since _App Studio_ uses `C#` and `.Net` version _4.0_ (before Selenium 4.1.0 (November 22, 2021)) to communicate with Selenium, you need to download the .Net 4.0 version of the Selenium modules. The [current stable version](https://www.nuget.org/api/v2/package/Selenium.WebDriver) being **4.1.0**. Once the zip file is downloaded, extract the content to a folder and navigate to the `net40` subfolder.\r\n\r\n![net40](https://i.stack.imgur.com/GAp0z.gif)\r\n\r\nNow, you can copy the `WebDriver.dll` and `WebDriver.Support.dll` files to the `bin` folder of the App Studio installation. e.g, `C:\\ibi\\AppStudio82\\bin` and make the required changes.\r\n\r\nAs an alternative, you can also download the [NuGet](https://www.nuget.org/packages/Selenium.WebDriver), copy the `.Net 4.0` content of the **NuGet** package into the bin folder of the App Studio installation and make the required changes.\r\n\r\n\r\n----------\r\n\r\n\r\ntl; dr\r\n------\r\n- [_Building geckodriver_](https://firefox-source-docs.mozilla.org/testing/geckodriver/Building.html#building-geckodriver)\r\n- [Testing geckodriver](https://firefox-source-docs.mozilla.org/testing/geckodriver/Testing.html#testing-geckodriver)\r\n","title":"Remove Bot-Identyfing Features from Firefox WebDriver Source Code?","body":"<p>In the discussion <a href=\"https://stackoverflow.com/questions/33225947/can-a-website-detect-when-you-are-using-selenium-with-chromedriver\">Can a website detect when you are using Selenium with chromedriver?</a> as suggested by different users to open the <a href=\"https://stackoverflow.com/questions/59909654/how-does-chrome-driver-interact-with-chrome-browser/59927747#59927747\">ChromeDriver</a> in a <a href=\"https://www.hhdsoftware.com/free-hex-editor\" rel=\"nofollow noreferrer\">Hex Editor</a> and edit the <em>document variables</em> replacing the <code>cdc_</code> and <code>$wdc_</code> string might be possible, but achiving the same with <a href=\"https://stackoverflow.com/questions/45329528/which-firefox-browser-versions-supported-for-given-geckodriver-version/45331403#45331403\">GeckoDriver</a> may not be possible.</p>\n<p>Moreover, the commands like <a href=\"https://stackoverflow.com/questions/33225947/can-a-website-detect-when-you-are-using-selenium-with-chromedriver/62520191#62520191\"><em>execute_cdp_cmd()</em></a> and <em>Python</em> libraries like <a href=\"https://stackoverflow.com/questions/33225947/can-a-website-detect-when-you-are-using-selenium-with-chromedriver/70133896#70133896\"><strong>selenium-stealth</strong></a> may not be currently supported by <em>GeckoDriver</em>.</p>\n<hr />\n<p>The <a href=\"https://stackoverflow.com/questions/45329528/which-firefox-browser-versions-supported-for-given-geckodriver-version/45331403#45331403\">GeckoDriver</a> source code can be easily downloaded from <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">mozilla / geckodriver</a> page both in <code>zip</code> and <code>tar.gz</code> format. If you are on <a href=\"/questions/tagged/windows\" class=\"post-tag\" title=\"show questions tagged &#39;windows&#39;\" rel=\"tag\">windows</a> system you can unzip the downloaded file and find the the source code of different modules in the <code>...\\geckodriver-0.30.0\\src</code> directory:</p>\n<p><img src=\"https://i.stack.imgur.com/ObOZG.png\" alt=\"geckodriver_source_code\" /></p>\n<hr />\n<p>Additionally, <a href=\"https://github.com/mozilla/geckodriver\" rel=\"nofollow noreferrer\">geckodriver</a> is made available under the <a href=\"https://www.mozilla.org/en-US/MPL/2.0/\" rel=\"nofollow noreferrer\">Mozilla Public License</a>. <a href=\"https://stackoverflow.com/questions/45510338/selenium-webdriver-3-4-0-geckodriver-0-18-0-firefox-which-combination-w/45510453#45510453\">GeckoDriver</a> source code can also be found in <a href=\"https://hg.mozilla.org/mozilla-central/file/tip/testing/geckodriver\" rel=\"nofollow noreferrer\">mozilla-central</a> under <strong>testing/geckodriver</strong>.</p>\n<p><img src=\"https://i.stack.imgur.com/94E4s.png\" alt=\"mozilla-central-files\" /></p>\n<hr />\n<h2>WebDriver Specifications</h2>\n<p>Now as per <a href=\"https://w3c.github.io/webdriver/#interface\" rel=\"nofollow noreferrer\">WebDriver W3C Editor's Draft</a>:</p>\n<blockquote>\n<blockquote>\n<p>The <em><strong>webdriver-active flag</strong></em> is set to <code>true</code> when the user agent is under remote control. It is initially <code>false</code>.</p>\n</blockquote>\n</blockquote>\n<p><img src=\"https://i.stack.imgur.com/0pRBF.png\" alt=\"boolean_webdriver\" /></p>\n<p>So there can be two possible ways to keep <code>webdriver</code> flag as <code>false</code> as:</p>\n<ul>\n<li>Remove the <em><code>readonly</code></em> attribute, so can be edited runtime. (as discussed in this <a href=\"https://stackoverflow.com/a/62520191/7429447\">answer</a>)</li>\n<li>Strangle the <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> from emitting the signals that the user agent is under remote control.</li>\n</ul>\n<p>To me the second option looks pretty much viable as the most frequently updated tier is the second tier (<code>Selenium WebDriver.dll</code> and <code>WebDriver.Support.dll</code> modules). Since <em>App Studio</em> uses <code>C#</code> and <code>.Net</code> version <em>4.0</em> (before Selenium 4.1.0 (November 22, 2021)) to communicate with Selenium, you need to download the .Net 4.0 version of the Selenium modules. The <a href=\"https://www.nuget.org/api/v2/package/Selenium.WebDriver\" rel=\"nofollow noreferrer\">current stable version</a> being <strong>4.1.0</strong>. Once the zip file is downloaded, extract the content to a folder and navigate to the <code>net40</code> subfolder.</p>\n<p><img src=\"https://i.stack.imgur.com/GAp0z.gif\" alt=\"net40\" /></p>\n<p>Now, you can copy the <code>WebDriver.dll</code> and <code>WebDriver.Support.dll</code> files to the <code>bin</code> folder of the App Studio installation. e.g, <code>C:\\ibi\\AppStudio82\\bin</code> and make the required changes.</p>\n<p>As an alternative, you can also download the <a href=\"https://www.nuget.org/packages/Selenium.WebDriver\" rel=\"nofollow noreferrer\">NuGet</a>, copy the <code>.Net 4.0</code> content of the <strong>NuGet</strong> package into the bin folder of the App Studio installation and make the required changes.</p>\n<hr />\n<h2>tl; dr</h2>\n<ul>\n<li><a href=\"https://firefox-source-docs.mozilla.org/testing/geckodriver/Building.html#building-geckodriver\" rel=\"nofollow noreferrer\"><em>Building geckodriver</em></a></li>\n<li><a href=\"https://firefox-source-docs.mozilla.org/testing/geckodriver/Testing.html#testing-geckodriver\" rel=\"nofollow noreferrer\">Testing geckodriver</a></li>\n</ul>\n"}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1620,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":70146850,"answer_count":1,"score":4,"last_activity_date":1638133883,"creation_date":1637774653,"question_id":70100400,"body_markdown":"One of the ways `WebDriver` [identifies itself as a bot to external websites][1] is by setting the **webdriver-active flag** to true. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nA user on SO [suggested][3] that it is possible modify `Chrome Driver` source code to remove all bot-identifying attributes (see [this][3] and [this][4] response). \r\n\r\n\r\nIs it possible to achieve a similar outcome w/ Firefox by modifying the source code of `Geckodriver`, `Firefox WebDriver` or perhaps both? I&#39;m asking because there is currently [no way to conceal WebDriver using Firefox Options][5] without source code modification. \r\n\r\nIf we can somehow remove bot identifying features from the source code, we can prevent `WebDriver` from being identified as a bot without needing [to bundle TOR with Firefox][5].\r\n\r\nWhile there&#39;s no getting around the fact that Selenium (in its present state) identifies itself, surely we can modify source code to remove all identification similar to how it&#39;s achieved in Chrome Driver?\r\n\r\n\r\n  [1]: https://w3c.github.io/webdriver/#interface\r\n  [2]: https://i.stack.imgur.com/kivdt.png\r\n  [3]: https://stackoverflow.com/a/52108199/16044298\r\n  [4]: https://stackoverflow.com/a/41220267/16044298\r\n  [5]: https://stackoverflow.com/a/70064475/16044298","title":"Remove Bot-Identyfing Features from Firefox WebDriver Source Code?","body":"<p>One of the ways <code>WebDriver</code> <a href=\"https://w3c.github.io/webdriver/#interface\" rel=\"nofollow noreferrer\">identifies itself as a bot to external websites</a> is by setting the <strong>webdriver-active flag</strong> to true.</p>\n<p><a href=\"https://i.stack.imgur.com/kivdt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kivdt.png\" alt=\"enter image description here\" /></a></p>\n<p>A user on SO <a href=\"https://stackoverflow.com/a/52108199/16044298\">suggested</a> that it is possible modify <code>Chrome Driver</code> source code to remove all bot-identifying attributes (see <a href=\"https://stackoverflow.com/a/52108199/16044298\">this</a> and <a href=\"https://stackoverflow.com/a/41220267/16044298\">this</a> response).</p>\n<p>Is it possible to achieve a similar outcome w/ Firefox by modifying the source code of <code>Geckodriver</code>, <code>Firefox WebDriver</code> or perhaps both? I'm asking because there is currently <a href=\"https://stackoverflow.com/a/70064475/16044298\">no way to conceal WebDriver using Firefox Options</a> without source code modification.</p>\n<p>If we can somehow remove bot identifying features from the source code, we can prevent <code>WebDriver</code> from being identified as a bot without needing <a href=\"https://stackoverflow.com/a/70064475/16044298\">to bundle TOR with Firefox</a>.</p>\n<p>While there's no getting around the fact that Selenium (in its present state) identifies itself, surely we can modify source code to remove all identification similar to how it's achieved in Chrome Driver?</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":13818852,"reputation":148,"user_id":9974818,"display_name":"CuriousCI"},"score":1,"creation_date":1638133585,"post_id":70147406,"comment_id":124000658,"body_markdown":"The problem is you have to initialize max_L:\nint max_L = 0;\nNow I&#39;m working on a more complete answer, but this should fix it. If it still doesn&#39;t work, could you provide some examples, please?","body":"The problem is you have to initialize max_L: int max_L = 0; Now I&#39;m working on a more complete answer, but this should fix it. If it still doesn&#39;t work, could you provide some examples, please?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638133744,"post_id":70147406,"comment_id":124000689,"body_markdown":"Unlike instance variables, local variables are not assigned a &quot;default&quot; value.  Since the compiler can&#39;t determine if a value will ever be assigned to these variables (because of the `if` statement), it&#39;s complaining that you need to do something about it","body":"Unlike instance variables, local variables are not assigned a &quot;default&quot; value.  Since the compiler can&#39;t determine if a value will ever be assigned to these variables (because of the <code>if</code> statement), it&#39;s complaining that you need to do something about it"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638133802,"post_id":70147406,"comment_id":124000698,"body_markdown":"Also, don&#39;t close the `Scanner` which is reading from `System.in`, this will close the underlying `System.in` as well, which is not something you really want to do ;)","body":"Also, don&#39;t close the <code>Scanner</code> which is reading from <code>System.in</code>, this will close the underlying <code>System.in</code> as well, which is not something you really want to do ;)"},{"owner":{"account_id":23482254,"reputation":3,"user_id":17534237,"display_name":"Noble.Programmer"},"score":0,"creation_date":1638134778,"post_id":70147406,"comment_id":124000904,"body_markdown":"@CuriousCI  Okay okay now I have understood my problem, thank you. it has been fixed as I saw someone did what you have suggested.","body":"@CuriousCI  Okay okay now I have understood my problem, thank you. it has been fixed as I saw someone did what you have suggested."},{"owner":{"account_id":23482254,"reputation":3,"user_id":17534237,"display_name":"Noble.Programmer"},"score":0,"creation_date":1638134995,"post_id":70147406,"comment_id":124000964,"body_markdown":"Thank you for explaining why it will not work if I did not assign to a value it made it clear for me, but I could not understand why I should not close the scanner also the ide tells me to close it but it does not come as an error so it is okay if I run without closing it","body":"Thank you for explaining why it will not work if I did not assign to a value it made it clear for me, but I could not understand why I should not close the scanner also the ide tells me to close it but it does not come as an error so it is okay if I run without closing it"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638133710,"creation_date":1638133710,"answer_id":70147472,"question_id":70147406,"body_markdown":"The problem is that you are mixing `i` with `max_box`. The following should work as you expect:\r\n```java\r\npublic class missYou {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Words&quot;);\r\n        System.out.print(&quot;Enter words: &quot;);\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        String word = input.nextLine();\r\n\r\n        String[] parts = word.split(&quot; &quot;);\r\n        String longestWord = parts[0];\r\n        int longestWordSize = longestWord.length();\r\n        int longestWordLocation = 0;\r\n\r\n        for (int i = 1; i &lt; parts.length; i++) {\r\n            if (parts[i].length() &gt; longestWordSize) {\r\n                longestWord = parts[i];\r\n                longestWordLocation = i;\r\n                longestWordSize = longestWord.length();\r\n            }\r\n        }\r\n\r\n        System.out.print(&quot;The longest word is &quot; + longestWord + &quot; contain &quot; +\r\n                longestWordSize + &quot; letters, in box &quot; + longestWordLocation);\r\n        input.close();\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, try to be explicit when naming your variables, `max_L` and `max_box` are not very good names because they are hard to understand.","title":"Problem: printing an index, value of index, length index in an array has a loop","body":"<p>The problem is that you are mixing <code>i</code> with <code>max_box</code>. The following should work as you expect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class missYou {\n    public static void main(String[] args) {\n        System.out.println(&quot;Words&quot;);\n        System.out.print(&quot;Enter words: &quot;);\n\n        Scanner input = new Scanner(System.in);\n        String word = input.nextLine();\n\n        String[] parts = word.split(&quot; &quot;);\n        String longestWord = parts[0];\n        int longestWordSize = longestWord.length();\n        int longestWordLocation = 0;\n\n        for (int i = 1; i &lt; parts.length; i++) {\n            if (parts[i].length() &gt; longestWordSize) {\n                longestWord = parts[i];\n                longestWordLocation = i;\n                longestWordSize = longestWord.length();\n            }\n        }\n\n        System.out.print(&quot;The longest word is &quot; + longestWord + &quot; contain &quot; +\n                longestWordSize + &quot; letters, in box &quot; + longestWordLocation);\n        input.close();\n    }\n}\n</code></pre>\n<p>Additionally, try to be explicit when naming your variables, <code>max_L</code> and <code>max_box</code> are not very good names because they are hard to understand.</p>\n"}],"owner":{"account_id":23482254,"reputation":3,"user_id":17534237,"display_name":"Noble.Programmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70147472,"answer_count":1,"score":0,"last_activity_date":1638133710,"creation_date":1638133061,"question_id":70147406,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class missYou {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Words&quot;);\r\n\t\tSystem.out.print(&quot;Enter words: &quot;);\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tString word = input.nextLine();\r\n\t\t\r\n\t\tString[] parts = word.split(&quot; &quot;); \r\n\t\tString max = parts[0]; \r\n\t\tint max_box; int parts_L = parts.length; \r\n\t\tint max_L; int i;\r\n\t\t\r\n\t\tfor (i = 1; i &lt; parts_L; i++) {\r\n\t\t\tif (parts[i].length() &gt; max.length()) {\t\r\n\t\t\t\tmax = parts[i];\r\n\t\t\t\tmax_box = i;\r\n\t\t\t\tmax_L = parts[i].length();\r\n\t\t\t}\r\n\t\t}\r\n\r\n/* the problem occurs in the next line where it does not print the max value, \r\n   and it considers max_L without a value which I did give it a value in the \r\n   loop and the I value should be the same as the index of the longest \r\n   string but it gives me the last index in the array */ \r\n\t\t\t\r\n\t\tSystem.out.print(&quot;The longest word is &quot; + max + &quot; contain &quot; + \r\n\t\t                 max_L + &quot; letters, in box &quot; + i);\r\n\t\tinput.close();\r\n\t}\r\n}\r\n```","title":"Problem: printing an index, value of index, length index in an array has a loop","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class missYou {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Words&quot;);\n        System.out.print(&quot;Enter words: &quot;);\n        \n        Scanner input = new Scanner(System.in);\n        String word = input.nextLine();\n        \n        String[] parts = word.split(&quot; &quot;); \n        String max = parts[0]; \n        int max_box; int parts_L = parts.length; \n        int max_L; int i;\n        \n        for (i = 1; i &lt; parts_L; i++) {\n            if (parts[i].length() &gt; max.length()) { \n                max = parts[i];\n                max_box = i;\n                max_L = parts[i].length();\n            }\n        }\n\n/* the problem occurs in the next line where it does not print the max value, \n   and it considers max_L without a value which I did give it a value in the \n   loop and the I value should be the same as the index of the longest \n   string but it gives me the last index in the array */ \n            \n        System.out.print(&quot;The longest word is &quot; + max + &quot; contain &quot; + \n                         max_L + &quot; letters, in box &quot; + i);\n        input.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","navigation-drawer"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1631473482,"post_id":69154140,"comment_id":122225495,"body_markdown":"*textArea.setText(textArea.getText() + text + &quot;\\r\\n&quot;);*","body":"<i>textArea.setText(textArea.getText() + text + &quot;\\r\\n&quot;);</i>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1631481020,"post_id":69154140,"comment_id":122227105,"body_markdown":"@GilbertLeBlanc, don&#39;t use setText(...). This will cause the Document to delete all the  existing Elements of the Document and it will then need to reparse the text to rebuild the Elements of the Document. A lot of unnecessary work when you can either use the `append(.,..)` method, or `Document.insertString(...)` methods. Also a Document only stores &quot;\\n&quot; as the newline string.","body":"@GilbertLeBlanc, don&#39;t use setText(...). This will cause the Document to delete all the  existing Elements of the Document and it will then need to reparse the text to rebuild the Elements of the Document. A lot of unnecessary work when you can either use the <code>append(.,..)</code> method, or <code>Document.insertString(...)</code> methods. Also a Document only stores &quot;\\n&quot; as the newline string."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631480782,"creation_date":1631480782,"answer_id":69155219,"question_id":69154140,"body_markdown":"&gt; The problem is that text that gets displayed the first time gets &quot;deleted&quot; because the other text is now displayed instead of the first text.\r\n\r\nDon&#39;t use the `setText(...)` method. This will remove the existing text before adding the new text.\r\n\r\nInstead use the `append(...)` method. Something like:\r\n\r\n    textArea.append(&quot;\\nAnother line of text.&quot;);\r\n\r\nto append the text to the end of the Document.\r\n\r\nOr you can use the `Document.insertString(...)` method to insert new text anywhere in the Document of the text area.","title":"Cannot resolve class android.support.v7.widget.Toolbar","body":"<blockquote>\n<p>The problem is that text that gets displayed the first time gets &quot;deleted&quot; because the other text is now displayed instead of the first text.</p>\n</blockquote>\n<p>Don't use the <code>setText(...)</code> method. This will remove the existing text before adding the new text.</p>\n<p>Instead use the <code>append(...)</code> method. Something like:</p>\n<pre><code>textArea.append(&quot;\\nAnother line of text.&quot;);\n</code></pre>\n<p>to append the text to the end of the Document.</p>\n<p>Or you can use the <code>Document.insertString(...)</code> method to insert new text anywhere in the Document of the text area.</p>\n"}],"owner":{"account_id":22627371,"reputation":33,"user_id":16805279,"display_name":"jakob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1631534232,"answer_count":1,"score":-3,"last_activity_date":1638133000,"creation_date":1631470993,"question_id":69154140,"body_markdown":"I&#39;m trying to make an android app with a toolbar, but I get the above error message. What is the problem? I created my program sofar with whatching youtube videos (I am a beginner), but now I&#39;m stuck:the dependencies of my build.gradle file are different from one in the youtube video. I for instance dont have the following implementation:`implementation &#39;com.android.support:appcompat-v7:26.1.0&#39;`\r\nEverything would be fine if I had this line, if I could copy and paste it in the next line change it with `implementation &#39;com.android.support:design:26.1.0&#39;`\r\nThis is the code in my activity_main.xml file, the error occurs here:\r\n\r\n    xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;#FFFFFF&quot;\r\n            android:elevation=&quot;4dp&quot;\r\n            android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; /&gt;`\r\n\r\nAnd this are the dependencies of my build.gradle file:\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n\r\nWhat can I do?\r\nI hope you got everything to answer my question.\r\n","title":"Cannot resolve class android.support.v7.widget.Toolbar","body":"<p>I'm trying to make an android app with a toolbar, but I get the above error message. What is the problem? I created my program sofar with whatching youtube videos (I am a beginner), but now I'm stuck:the dependencies of my build.gradle file are different from one in the youtube video. I for instance dont have the following implementation:<code>implementation 'com.android.support:appcompat-v7:26.1.0'</code>\nEverything would be fine if I had this line, if I could copy and paste it in the next line change it with <code>implementation 'com.android.support:design:26.1.0'</code>\nThis is the code in my activity_main.xml file, the error occurs here:</p>\n<pre><code>xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n&lt;RelativeLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;android.support.v7.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;#FFFFFF&quot;\n        android:elevation=&quot;4dp&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n        app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; /&gt;`\n</code></pre>\n<p>And this are the dependencies of my build.gradle file:</p>\n<p>dependencies {</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.0'\nimplementation 'com.google.android.material:material:1.4.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.2'\ntestImplementation 'junit:junit:4.+'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n<p>}</p>\n<p>What can I do?\nI hope you got everything to answer my question.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1483293,"reputation":3155,"user_id":1392116,"display_name":"sarcan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638132987,"creation_date":1638132987,"answer_id":70147393,"question_id":70146768,"body_markdown":"I think your main issue here comes from the fact that, in order to get to the controller, you reload the view from FXML every time to attempt to add a name. If you reload the FXML you are not getting the same instance, but a new one. Think of it as creating an empty copy. \r\n\r\nThe reason the loader will behave this way is to make FXML reusable. For instance, if you have a Save dialog that you want to reuse in multiple places, you wouldn&#39;t want changes you make to one instance to affect all others. \r\n\r\nTry to change your coding accordingly - for instance, when you load your dialog for adding students, you could wire it to the main view&#39;s controller via a setter. \r\n\r\nAs for the SQL question, you may want to create a separate question. To get you started, you might want to look at the [javadoc for PreparedStatement][1], it holds an example on how to pass values to the statement right at the top of the page. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html","title":"JavaFX ListView controller communication and and Database Issues","body":"<p>I think your main issue here comes from the fact that, in order to get to the controller, you reload the view from FXML every time to attempt to add a name. If you reload the FXML you are not getting the same instance, but a new one. Think of it as creating an empty copy.</p>\n<p>The reason the loader will behave this way is to make FXML reusable. For instance, if you have a Save dialog that you want to reuse in multiple places, you wouldn't want changes you make to one instance to affect all others.</p>\n<p>Try to change your coding accordingly - for instance, when you load your dialog for adding students, you could wire it to the main view's controller via a setter.</p>\n<p>As for the SQL question, you may want to create a separate question. To get you started, you might want to look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">javadoc for PreparedStatement</a>, it holds an example on how to pass values to the statement right at the top of the page.</p>\n"}],"owner":{"account_id":23479042,"reputation":19,"user_id":17531441,"display_name":"Tomislav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70147393,"answer_count":1,"score":0,"last_activity_date":1638132987,"creation_date":1638127796,"question_id":70146768,"body_markdown":"Basically I have a main scene with a list and an Add Student button. Clicking the Add Student button opens a new window in which there are two text fields, name and surname. These two are then passed to a Student object constructor that contains, among other attributes, the last and first name of the student. The new student object is now stored and I use a method addToNames that uses student.getName() and student.getSurname() to add the attributes into the list view. The issue is that it doesn&#39;t display the names in the list, and while debugging with print statements, I found out each student object overrides the previous one the way I implemented it. It got even stranger because I remember trying out simple print statement variations of implementing this, and some worked some didn&#39;t. Only example I can remember is that when I used print(&quot;lol&quot;) in my addToNames method as it is right now, It would work. I also want to store these values in a MySQL database with which I already have an established connection. However, I don&#39;t know how to do this . Here is my code\r\n\r\nMy JavaFX main scene controller class \r\n\r\n    public class Events {\r\n\r\n\t@FXML\r\n\tprivate Button studentADD;\r\n\t@FXML\r\n\tprivate Button add;\r\n\t@FXML\r\n\tprivate ListView&lt;String&gt; nameslist;\r\n\t\r\n\tprivate Student[] Students = new Student[200];\r\n\t\r\n\t\r\n\t\r\n\tpublic void addToNames(Student student) {\r\n\t\tnameslist.getItems().add(&quot;xd&quot;);\r\n\t\tSystem.out.println(student.getName() + &quot; &quot; + student.getSurname());\r\n\t}\r\n\t\r\n\t\r\n\tpublic void switchToStudentAdd(ActionEvent e) throws IOException {\r\n\t\t//Student stud = new Student(&quot;John&quot;, &quot;Appleseed&quot;);\r\n\t\tFXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;AddStud.fxml&quot;));\r\n\t\tParent root = (Parent) fxmlLoader.load();\r\n\t\tStage stage = new Stage();\r\n\t\tstage.setScene(new Scene(root));  \r\n\t\tstage.show();\r\n\t\t//nameslist.getItems().add(stud.getName() + &quot; &quot; + stud.getSurname());\r\n\t}}\r\n\t\t\t\r\n\r\n\r\nMy JavaFX add student window secondary scene controller class \r\n\r\n    public class AddStudEvents{\r\n\r\n\t@FXML\r\n\tprivate TextField firstName;\r\n\t@FXML\r\n\tprivate TextField lastName;\r\n\t@FXML\r\n\tprivate Button addStudent;\r\n\t\r\n\tpublic void addNameToList(ActionEvent e) throws IOException {\r\n\t\tString name = firstName.getText();\r\n\t\tString lastname = lastName.getText();\r\n\t\t\r\n\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\r\n\t\tParent root = loader.load();\r\n\t\tEvents maincontroller = loader.getController();\r\n\t\t\r\n\t\tStudent student = new Student(name, lastname);\r\n\t\tmaincontroller.addToNames(student);\r\n\t}}\r\n\t\r\n\r\n\r\nMy SQL adding method (It does work, however I want it to insert variable student.getName() and a variable student.getSurname() strings, as well as an array of student Marks which is another attribute of the student class, I don&#39;t know if this is possible for arrays though. I head somewhere I need to use a JSON, but I&#39;m not sure what that means. I am using SQL workbench)\r\n\r\n    public class DatabaseControl {\r\n\r\n\tstatic String url = &quot;jdbc:mysql://localhost:3306/ia&quot;;\r\n\tstatic String username = &quot;root&quot;;\r\n\tstatic String password = &quot;sifra123&quot;;\r\n\tstatic Connection connection = null;\r\n\t\r\n\tpublic static void main(String[] args) throws InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchMethodException, SecurityException, ClassNotFoundException, SQLException {\r\n\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;).getDeclaredConstructor().newInstance();\r\n\t\tconnection = DriverManager.getConnection(url, username, password);\r\n\t\tPreparedStatement ps = connection.prepareStatement(&quot;INSERT INTO ia.student (name) VALUES (&#39;yussef walker&#39;);&quot;);\r\n\t\tPreparedStatement ps1 = connection.prepareStatement(&quot;INSERT INTO ia.student (surname) VALUES (&#39;yussef walker&#39;);&quot;);\r\n\t\tPreparedStatement ps2 = connection.prepareStatement(&quot;INSERT INTO ia.student (surname) VALUES (&#39;yussef walker&#39;);&quot;);\r\n\t\t\r\n\t\tint status = ps.executeUpdate();\r\n\t\t\r\n\t\tif(status != 0) {\r\n\t\t\tSystem.out.println(&quot;Connection established&quot;);\r\n\t\t\tSystem.out.println(&quot;Inserted&quot;);\r\n\t\t}\r\n\r\n\t}}\r\n\r\n\r\nSorry for putting the final curly braces so strangely, the text editor won&#39;t let me do it properly.\r\n\r\nEDIT: I would prefer to just ad it to the database and then be able to populate a listview with my database name and last name if possible\r\n\r\n\r\n","title":"JavaFX ListView controller communication and and Database Issues","body":"<p>Basically I have a main scene with a list and an Add Student button. Clicking the Add Student button opens a new window in which there are two text fields, name and surname. These two are then passed to a Student object constructor that contains, among other attributes, the last and first name of the student. The new student object is now stored and I use a method addToNames that uses student.getName() and student.getSurname() to add the attributes into the list view. The issue is that it doesn't display the names in the list, and while debugging with print statements, I found out each student object overrides the previous one the way I implemented it. It got even stranger because I remember trying out simple print statement variations of implementing this, and some worked some didn't. Only example I can remember is that when I used print(&quot;lol&quot;) in my addToNames method as it is right now, It would work. I also want to store these values in a MySQL database with which I already have an established connection. However, I don't know how to do this . Here is my code</p>\n<p>My JavaFX main scene controller class</p>\n<pre><code>public class Events {\n\n@FXML\nprivate Button studentADD;\n@FXML\nprivate Button add;\n@FXML\nprivate ListView&lt;String&gt; nameslist;\n\nprivate Student[] Students = new Student[200];\n\n\n\npublic void addToNames(Student student) {\n    nameslist.getItems().add(&quot;xd&quot;);\n    System.out.println(student.getName() + &quot; &quot; + student.getSurname());\n}\n\n\npublic void switchToStudentAdd(ActionEvent e) throws IOException {\n    //Student stud = new Student(&quot;John&quot;, &quot;Appleseed&quot;);\n    FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;AddStud.fxml&quot;));\n    Parent root = (Parent) fxmlLoader.load();\n    Stage stage = new Stage();\n    stage.setScene(new Scene(root));  \n    stage.show();\n    //nameslist.getItems().add(stud.getName() + &quot; &quot; + stud.getSurname());\n}}\n        \n</code></pre>\n<p>My JavaFX add student window secondary scene controller class</p>\n<pre><code>public class AddStudEvents{\n\n@FXML\nprivate TextField firstName;\n@FXML\nprivate TextField lastName;\n@FXML\nprivate Button addStudent;\n\npublic void addNameToList(ActionEvent e) throws IOException {\n    String name = firstName.getText();\n    String lastname = lastName.getText();\n    \n    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\n    Parent root = loader.load();\n    Events maincontroller = loader.getController();\n    \n    Student student = new Student(name, lastname);\n    maincontroller.addToNames(student);\n}}\n</code></pre>\n<p>My SQL adding method (It does work, however I want it to insert variable student.getName() and a variable student.getSurname() strings, as well as an array of student Marks which is another attribute of the student class, I don't know if this is possible for arrays though. I head somewhere I need to use a JSON, but I'm not sure what that means. I am using SQL workbench)</p>\n<pre><code>public class DatabaseControl {\n\nstatic String url = &quot;jdbc:mysql://localhost:3306/ia&quot;;\nstatic String username = &quot;root&quot;;\nstatic String password = &quot;sifra123&quot;;\nstatic Connection connection = null;\n\npublic static void main(String[] args) throws InstantiationException, IllegalAccessException, IllegalArgumentException, InvocationTargetException, NoSuchMethodException, SecurityException, ClassNotFoundException, SQLException {\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;).getDeclaredConstructor().newInstance();\n    connection = DriverManager.getConnection(url, username, password);\n    PreparedStatement ps = connection.prepareStatement(&quot;INSERT INTO ia.student (name) VALUES ('yussef walker');&quot;);\n    PreparedStatement ps1 = connection.prepareStatement(&quot;INSERT INTO ia.student (surname) VALUES ('yussef walker');&quot;);\n    PreparedStatement ps2 = connection.prepareStatement(&quot;INSERT INTO ia.student (surname) VALUES ('yussef walker');&quot;);\n    \n    int status = ps.executeUpdate();\n    \n    if(status != 0) {\n        System.out.println(&quot;Connection established&quot;);\n        System.out.println(&quot;Inserted&quot;);\n    }\n\n}}\n</code></pre>\n<p>Sorry for putting the final curly braces so strangely, the text editor won't let me do it properly.</p>\n<p>EDIT: I would prefer to just ad it to the database and then be able to populate a listview with my database name and last name if possible</p>\n"},{"tags":["java","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638132843,"creation_date":1638132843,"answer_id":70147379,"question_id":70145976,"body_markdown":"The reason `PathPattern` was introduced is explained in details in [this post on spring.io](https://spring.io/blog/2020/06/30/url-matching-with-pathpattern-in-spring-mvc). Here&#39;re few excerpts from the post:\r\n\r\n&gt; In Spring applications `AntPathMatcher` is used to identify classpath, file system, remote, and other resources in Spring configuration. It has also been used in Spring MVC to match URL paths. Over time the use of patterns in web applications grew in number and syntax with `AntPathMatcher` evolving to meet those needs but some pain points remain without a solution.\r\n\r\n&gt; The introduction of Spring WebFlux in Spring Framework 5.0 was a good opportunity to re-think all this and to create an alternative. \r\n\r\nWith `PathPattern`:\r\n\r\n&gt; Patterns are parsed on startup and re-used at runtime for efficient URL matching. How much more efficient? It’s hard to give numbers without a concrete use case but our jmh benchmark shows 6-8 times the throughput and 30-40% reduction in allocation rate. \r\n\r\n&gt; `PathPattern` is compatible with `AntPathMatcher` syntax except couple cases (listed in the post.)","title":"what is the difference between pathpattern and antpathmatcher in spring mvc?","body":"<p>The reason <code>PathPattern</code> was introduced is explained in details in <a href=\"https://spring.io/blog/2020/06/30/url-matching-with-pathpattern-in-spring-mvc\" rel=\"nofollow noreferrer\">this post on spring.io</a>. Here're few excerpts from the post:</p>\n<blockquote>\n<p>In Spring applications <code>AntPathMatcher</code> is used to identify classpath, file system, remote, and other resources in Spring configuration. It has also been used in Spring MVC to match URL paths. Over time the use of patterns in web applications grew in number and syntax with <code>AntPathMatcher</code> evolving to meet those needs but some pain points remain without a solution.</p>\n</blockquote>\n<blockquote>\n<p>The introduction of Spring WebFlux in Spring Framework 5.0 was a good opportunity to re-think all this and to create an alternative.</p>\n</blockquote>\n<p>With <code>PathPattern</code>:</p>\n<blockquote>\n<p>Patterns are parsed on startup and re-used at runtime for efficient URL matching. How much more efficient? It’s hard to give numbers without a concrete use case but our jmh benchmark shows 6-8 times the throughput and 30-40% reduction in allocation rate.</p>\n</blockquote>\n<blockquote>\n<p><code>PathPattern</code> is compatible with <code>AntPathMatcher</code> syntax except couple cases (listed in the post.)</p>\n</blockquote>\n"}],"owner":{"account_id":16662660,"reputation":127,"user_id":12042237,"display_name":"javaway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4648,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1638132843,"creation_date":1638121564,"question_id":70145976,"body_markdown":"    what is the difference between pathpattern and antpathmatcher in spring mvc?\r\n\r\n&gt; what is the difference between pathpattern and antpathmatcher in spring mvc?","title":"what is the difference between pathpattern and antpathmatcher in spring mvc?","body":"<pre><code>what is the difference between pathpattern and antpathmatcher in spring mvc?\n</code></pre>\n<blockquote>\n<p>what is the difference between pathpattern and antpathmatcher in spring mvc?</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","sdk"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1638131388,"post_id":70147159,"comment_id":124000164,"body_markdown":"`.aab` files OR `.aar` file.`AAB` is Android App Bundle which for [Google Play Store app publishing](https://developer.android.com/guide/app-bundle), `AAR` is Android Archive file which is a [library file](https://developer.android.com/studio/projects/android-library) containing code/resources/android manifest for merging into an android project. As how to make your specific SDK work what does the SDK documentation say. Check if there is a sample app and look there.","body":"<code>.aab</code> files OR <code>.aar</code> file.<code>AAB</code> is Android App Bundle which for <a href=\"https://developer.android.com/guide/app-bundle\" rel=\"nofollow noreferrer\">Google Play Store app publishing</a>, <code>AAR</code> is Android Archive file which is a <a href=\"https://developer.android.com/studio/projects/android-library\" rel=\"nofollow noreferrer\">library file</a> containing code/resources/android manifest for merging into an android project. As how to make your specific SDK work what does the SDK documentation say. Check if there is a sample app and look there."},{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1638134291,"post_id":70147159,"comment_id":124000786,"body_markdown":"This is something that the SDK documentation needs to tell you.","body":"This is something that the SDK documentation needs to tell you."}],"owner":{"account_id":23481948,"reputation":1,"user_id":17533966,"display_name":"Nikola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638131983,"creation_date":1638130777,"question_id":70147159,"body_markdown":"I have a sdk for android, in the documentation of the sdk is indicate that it contains some screens that must be mandatory calling  a spec&#237;fic method but I only see a\r\n.aar and an .xml (layout).\r\n\r\nI was able to install the sdk with android studio and I only see the different methods.\r\n\r\nIt is assumed that for the functionality of the sdk it has a front end and a sound that is mandatory when we got a good response calling some specific methods . My question must be is if I should develop that or does the sdk include it. knowing that the sdk only contains an .aar and a xml. no images or sound that must meet.\r\n\r\nSomeone can clarify this to me?\r\n\r\nEdit: .aar*","title":"A SDK can contain front end?","body":"<p>I have a sdk for android, in the documentation of the sdk is indicate that it contains some screens that must be mandatory calling  a specífic method but I only see a\n.aar and an .xml (layout).</p>\n<p>I was able to install the sdk with android studio and I only see the different methods.</p>\n<p>It is assumed that for the functionality of the sdk it has a front end and a sound that is mandatory when we got a good response calling some specific methods . My question must be is if I should develop that or does the sdk include it. knowing that the sdk only contains an .aar and a xml. no images or sound that must meet.</p>\n<p>Someone can clarify this to me?</p>\n<p>Edit: .aar*</p>\n"},{"tags":["java","collections","stream","option-type","lombok"],"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1637823339,"post_id":70105930,"comment_id":123929583,"body_markdown":"Line 7 may be `return scoreOptional;`","body":"Line 7 may be <code>return scoreOptional;</code>"}],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637824996,"creation_date":1637824996,"answer_id":70107197,"question_id":70105930,"body_markdown":"You could use `ifPresent`, this might make the code look more clean. However I am not sure if this would &quot;optimize&quot; the performance.\r\n\r\n```java\r\npublic Optional&lt;Score&gt; calculate(){\r\n    Optional&lt;Score&gt; scoreOptional = getScore();\r\n    scoreOptional.ifPresent(score -&gt; {\r\n        score.setScore(13d);\r\n        score.setPercentage(15d);\r\n    });\r\n    \r\n    return scoreOptional;\r\n}\r\n\r\n```","title":"How to set data using optional java","body":"<p>You could use <code>ifPresent</code>, this might make the code look more clean. However I am not sure if this would &quot;optimize&quot; the performance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;Score&gt; calculate(){\n    Optional&lt;Score&gt; scoreOptional = getScore();\n    scoreOptional.ifPresent(score -&gt; {\n        score.setScore(13d);\n        score.setPercentage(15d);\n    });\n    \n    return scoreOptional;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638131981,"creation_date":1638131981,"answer_id":70147291,"question_id":70105930,"body_markdown":"I would use `Optional.map()`:\r\n\r\n    public Optional&lt;Score&gt; calculate() {\r\n        return getScore().map(score -&gt; {\r\n            score.setScore(13D);\r\n            score.setPercentage(15D);\r\n            return score;\r\n        });\r\n    }","title":"How to set data using optional java","body":"<p>I would use <code>Optional.map()</code>:</p>\n<pre><code>public Optional&lt;Score&gt; calculate() {\n    return getScore().map(score -&gt; {\n        score.setScore(13D);\n        score.setPercentage(15D);\n        return score;\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":12688704,"reputation":74,"user_id":9219612,"display_name":"MUKUL JHA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1638131981,"creation_date":1637815596,"question_id":70105930,"body_markdown":"  I am new to Optional and functional programming.\r\n  How do I optimize the below code using optional(line: 4 to line: 7)?\r\n\r\n    @Getter @Setter\r\n    class Score{\r\n        Double score;\r\n        Double percentage;\r\n    }\r\n    \r\n    Optional&lt;Score&gt; scoreOptional getScore(){}\r\n\r\nHow to set score and percentage data using optional\r\n\r\n    public Optional&lt;Score&gt; calculate(){\r\n      Optional&lt;Score&gt; scoreOptional = getScore();\r\n     \r\n      // I am setting data like this\r\n      if(scoreOptional.isEmpty())\r\n         return scoreOptional;\r\n    \r\n       //line : 4\r\n       Score score= scoreOptional.get();\r\n       score.setScore(13D);\r\n       score.setPercentage(15D);\r\n       return Optional.of(score);\r\n       //line: 7\r\n\r\n    }\r\n    \r\n    ","title":"How to set data using optional java","body":"<p>I am new to Optional and functional programming.\nHow do I optimize the below code using optional(line: 4 to line: 7)?</p>\n<pre><code>@Getter @Setter\nclass Score{\n    Double score;\n    Double percentage;\n}\n\nOptional&lt;Score&gt; scoreOptional getScore(){}\n</code></pre>\n<p>How to set score and percentage data using optional</p>\n<pre><code>public Optional&lt;Score&gt; calculate(){\n  Optional&lt;Score&gt; scoreOptional = getScore();\n \n  // I am setting data like this\n  if(scoreOptional.isEmpty())\n     return scoreOptional;\n\n   //line : 4\n   Score score= scoreOptional.get();\n   score.setScore(13D);\n   score.setPercentage(15D);\n   return Optional.of(score);\n   //line: 7\n\n}\n</code></pre>\n"},{"tags":["java","mysql","sql","database-metadata"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637682322,"post_id":70083584,"comment_id":123888775,"body_markdown":"You probably need to pass the database name as the first parameter to `getTables(..)` (`catalog`), maybe the second parameter.","body":"You probably need to pass the database name as the first parameter to <code>getTables(..)</code> (<code>catalog</code>), maybe the second parameter."},{"owner":{"account_id":317817,"reputation":2514,"user_id":634698,"accept_rate":11,"display_name":"Thallius"},"score":0,"creation_date":1637682404,"post_id":70083584,"comment_id":123888807,"body_markdown":"You need to set the database name in the second parameter of the getTables method","body":"You need to set the database name in the second parameter of the getTables method"},{"owner":{"account_id":17102768,"reputation":23,"user_id":12375490,"display_name":"Zouhair"},"score":0,"creation_date":1637758720,"post_id":70083584,"comment_id":123911089,"body_markdown":"Thank you both for your help. But, passing the database name in first or second parameter as you suggested didn&#39;t work. In fact, passing it as the first parameter returned an empty `ResultSet`, and passing it in the second parameter led to the same output as my original code. I&#39;ve been wondering if there&#39;s a problem server-side ? I say this because the same connection targeted only the concerned database and not all of them.","body":"Thank you both for your help. But, passing the database name in first or second parameter as you suggested didn&#39;t work. In fact, passing it as the first parameter returned an empty <code>ResultSet</code>, and passing it in the second parameter led to the same output as my original code. I&#39;ve been wondering if there&#39;s a problem server-side ? I say this because the same connection targeted only the concerned database and not all of them."}],"answers":[{"tags":[],"owner":{"account_id":17102768,"reputation":23,"user_id":12375490,"display_name":"Zouhair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638131695,"creation_date":1638131695,"answer_id":70147267,"question_id":70083584,"body_markdown":"A friend made the following suggestion that only works if one has access to the server and its databases and is allowed to change the tables within. For example, if the targetted database is &quot;human_resources&quot;, we can simply alter all its tables to have a prefix such as &quot;hr&quot; and then pass it as a third argument in the getTables method : \r\n\r\n    ResultSet rs1 = databaseMetaData.getTables(null, null, &quot;hr%&quot;, types);\r\n\r\nThis solves the issue, but requires a change in the database. Still a good enough solution for me.","title":"Error with getting all tables from a database using DatabaseMetaData","body":"<p>A friend made the following suggestion that only works if one has access to the server and its databases and is allowed to change the tables within. For example, if the targetted database is &quot;human_resources&quot;, we can simply alter all its tables to have a prefix such as &quot;hr&quot; and then pass it as a third argument in the getTables method :</p>\n<pre><code>ResultSet rs1 = databaseMetaData.getTables(null, null, &quot;hr%&quot;, types);\n</code></pre>\n<p>This solves the issue, but requires a change in the database. Still a good enough solution for me.</p>\n"}],"owner":{"account_id":17102768,"reputation":23,"user_id":12375490,"display_name":"Zouhair"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638131695,"creation_date":1637681531,"question_id":70083584,"body_markdown":"I&#39;d like to retrieve all tables from a database, in order to count their rows and eventually count all elements currently in the database. I&#39;m trying to do this using Java&#39;s DatabaseMetaData.\r\n\r\nThis is the contents of my constructor, which is responsible for establishing the connection to the database: \r\n\r\n    String driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n    String fullUrl = &quot;jdbc:mysql://&quot;+ url + &quot;/&quot; + db;\r\n      \r\n    try {\r\n\t    Class.forName(driver);\r\n\t\tsetConn(DriverManager.getConnection(fullUrl, username, password));\r\n\t} \r\n\r\nThe connection is made to a WAMP server, and is fully functional based on many attempts before this. Could someone help me with this?\r\n\r\nThis is the method I&#39;m implementing to count all elements in the database, and the countRowsInTable method is already implemented and working.\r\n\r\n    public int countElementsInDB(String dbName) {\r\n    \tDatabaseOperations db = new DatabaseOperations(&quot;localhost:3306&quot;, dbName, user, password);\r\n        try {\r\n\t\t\tDatabaseMetaData databaseMetaData = conn.getMetaData();\r\n\t\t\tString[] types = {&quot;TABLE&quot;};\r\n\t\t\tResultSet rs1 = databaseMetaData.getTables(null, null, &quot;%&quot;, types);\r\n\t\t\tint counter = 0;\r\n\t\t\twhile(rs1.next()){\r\n            \tcounter += countRowsInTable(rs1.getString(&quot;TABLE_NAME&quot;));\r\n            }\r\n\t\t\treturn counter;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn -1;\r\n    }\r\n\r\nThe code is working, but is in fact returning all tables from all databases present in the server, even though the URL I&#39;m using indicates the database in question here. How do I get it to only return tables from the database I&#39;m targeting?","title":"Error with getting all tables from a database using DatabaseMetaData","body":"<p>I'd like to retrieve all tables from a database, in order to count their rows and eventually count all elements currently in the database. I'm trying to do this using Java's DatabaseMetaData.</p>\n<p>This is the contents of my constructor, which is responsible for establishing the connection to the database:</p>\n<pre><code>String driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\nString fullUrl = &quot;jdbc:mysql://&quot;+ url + &quot;/&quot; + db;\n  \ntry {\n    Class.forName(driver);\n    setConn(DriverManager.getConnection(fullUrl, username, password));\n} \n</code></pre>\n<p>The connection is made to a WAMP server, and is fully functional based on many attempts before this. Could someone help me with this?</p>\n<p>This is the method I'm implementing to count all elements in the database, and the countRowsInTable method is already implemented and working.</p>\n<pre><code>public int countElementsInDB(String dbName) {\n    DatabaseOperations db = new DatabaseOperations(&quot;localhost:3306&quot;, dbName, user, password);\n    try {\n        DatabaseMetaData databaseMetaData = conn.getMetaData();\n        String[] types = {&quot;TABLE&quot;};\n        ResultSet rs1 = databaseMetaData.getTables(null, null, &quot;%&quot;, types);\n        int counter = 0;\n        while(rs1.next()){\n            counter += countRowsInTable(rs1.getString(&quot;TABLE_NAME&quot;));\n        }\n        return counter;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return -1;\n}\n</code></pre>\n<p>The code is working, but is in fact returning all tables from all databases present in the server, even though the URL I'm using indicates the database in question here. How do I get it to only return tables from the database I'm targeting?</p>\n"},{"tags":["java","fonts","apache-poi","java-11"],"comments":[{"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"score":2,"creation_date":1549459495,"post_id":54554625,"comment_id":95909115,"body_markdown":"Add your code for the entire unit test in question.  See: https://stackoverflow.com/help/mcve  My guess is that you may have been using internal sun classes which are not guaranteed to exists between releases.  This is also what happened with classloaders going from jdk8 to jdk11, the internal base classes and implementation classes changed and people casting to them got these type of failures.","body":"Add your code for the entire unit test in question.  See: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>  My guess is that you may have been using internal sun classes which are not guaranteed to exists between releases.  This is also what happened with classloaders going from jdk8 to jdk11, the internal base classes and implementation classes changed and people casting to them got these type of failures."}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1552335730,"creation_date":1552335730,"answer_id":55109790,"question_id":54554625,"body_markdown":"It seems OpenJDK 11 does not include some font-related stuff any more and your operating system is currently not providing any by itself. \r\n\r\nYou can try to install some font-related packages in your operating system to see if that solves the problem.\r\n\r\nSee also the release notes at https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8191522 ","title":"OpenJDK 11 java.lang.ClassCastException: class sun.font.CompositeFont cannot be cast to class sun.font.PhysicalFont","body":"<p>It seems OpenJDK 11 does not include some font-related stuff any more and your operating system is currently not providing any by itself. </p>\n\n<p>You can try to install some font-related packages in your operating system to see if that solves the problem.</p>\n\n<p>See also the release notes at <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8191522\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html#JDK-8191522</a> </p>\n"},{"tags":[],"owner":{"account_id":1014587,"reputation":2104,"user_id":1026436,"display_name":"gavi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560358217,"creation_date":1560358217,"answer_id":56566982,"question_id":54554625,"body_markdown":"On Ubuntu 18.0.4 LTS, The following command fixed the issue\r\n\r\n`sudo apt-get install fontconfig`\r\n","title":"OpenJDK 11 java.lang.ClassCastException: class sun.font.CompositeFont cannot be cast to class sun.font.PhysicalFont","body":"<p>On Ubuntu 18.0.4 LTS, The following command fixed the issue</p>\n\n<p><code>sudo apt-get install fontconfig</code></p>\n"},{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586281639,"creation_date":1586271195,"answer_id":61082904,"question_id":54554625,"body_markdown":"I think you must have some fonts installed, otherwise you would get a NullPointerException before getting to this point.\r\n\r\nDoes this simple program run okay,it would fail if no fonts installed ?\r\n\r\n    import java.awt.*;\r\n    public class Fonts\r\n    {\r\n         public static void main(String[] args) throws Exception\r\n         {\r\n             Font defaultFont = Font.decode(null);\r\n             System.out.println(defaultFont);\r\n         }\r\n    }\r\n\r\nI think the issue is more that your fonts are not configured *correctly*, its kind of clear that getDefaultPhysicalFont() expect to get a font of type **PhysicalFont** but is actually getting one of type **CompositeFont**, not clear why that is happening.\r\n\r\nTry running \r\n\r\n    fc-cache -rv *pathoffonts*\r\n\r\ne.g \r\n\r\n    fc-cache -rv /usr/share/fonts\r\n\r\nthat seemed worked for me when I add the same error also using Jakarta Poi, however Im not yet getting consistent results.","title":"OpenJDK 11 java.lang.ClassCastException: class sun.font.CompositeFont cannot be cast to class sun.font.PhysicalFont","body":"<p>I think you must have some fonts installed, otherwise you would get a NullPointerException before getting to this point.</p>\n\n<p>Does this simple program run okay,it would fail if no fonts installed ?</p>\n\n<pre><code>import java.awt.*;\npublic class Fonts\n{\n     public static void main(String[] args) throws Exception\n     {\n         Font defaultFont = Font.decode(null);\n         System.out.println(defaultFont);\n     }\n}\n</code></pre>\n\n<p>I think the issue is more that your fonts are not configured <em>correctly</em>, its kind of clear that getDefaultPhysicalFont() expect to get a font of type <strong>PhysicalFont</strong> but is actually getting one of type <strong>CompositeFont</strong>, not clear why that is happening.</p>\n\n<p>Try running </p>\n\n<pre><code>fc-cache -rv *pathoffonts*\n</code></pre>\n\n<p>e.g </p>\n\n<pre><code>fc-cache -rv /usr/share/fonts\n</code></pre>\n\n<p>that seemed worked for me when I add the same error also using Jakarta Poi, however Im not yet getting consistent results.</p>\n"},{"tags":[],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628172567,"creation_date":1628172567,"answer_id":68668200,"question_id":54554625,"body_markdown":"In our case we had a service running on K8s which would throw this error on the first request but would run fine for subsequent requests. Solved it by installing DejaVu in the base image of our Dockerfile, [as some people recommended here][1].\r\n\r\nSomething like \r\n\r\n    FROM &lt;my base image&gt; AS EXPLODED\r\n    RUN apk add --update ttf-dejavu &amp;&amp; rm -rf /var/cache/apk/*\r\n\r\nBuilt the image, pushed it to Harbor and used the new image as a base image.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51307075/docker-and-java-fontconfiguration-issue","title":"OpenJDK 11 java.lang.ClassCastException: class sun.font.CompositeFont cannot be cast to class sun.font.PhysicalFont","body":"<p>In our case we had a service running on K8s which would throw this error on the first request but would run fine for subsequent requests. Solved it by installing DejaVu in the base image of our Dockerfile, <a href=\"https://stackoverflow.com/questions/51307075/docker-and-java-fontconfiguration-issue\">as some people recommended here</a>.</p>\n<p>Something like</p>\n<pre><code>FROM &lt;my base image&gt; AS EXPLODED\nRUN apk add --update ttf-dejavu &amp;&amp; rm -rf /var/cache/apk/*\n</code></pre>\n<p>Built the image, pushed it to Harbor and used the new image as a base image.</p>\n"}],"owner":{"account_id":3860963,"reputation":131,"user_id":3198724,"display_name":"Mathias Noack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5941,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1638131000,"creation_date":1549459165,"question_id":54554625,"body_markdown":"i running on Linux my junit test with openJDK 11 and got following error:\r\n```\r\njava.lang.ClassCastException: class sun.font.CompositeFont cannot be cast to class sun.font.PhysicalFont (sun.font.CompositeFont and sun.font.PhysicalFont are in module java.desktop of loader &#39;bootstrap&#39;)\r\n\tat java.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(SunFontManager.java:1086)\r\n\tat java.desktop/sun.font.SunFontManager.initialiseDeferredFont(SunFontManager.java:965)\r\n\tat java.desktop/sun.font.SunFontManager.findOtherDeferredFont(SunFontManager.java:903)\r\n\tat java.desktop/sun.font.SunFontManager.findDeferredFont(SunFontManager.java:919)\r\n\tat java.desktop/sun.font.SunFontManager.findFont2D(SunFontManager.java:2120)\r\n\tat java.desktop/java.awt.Font.getFont2D(Font.java:506)\r\n\tat java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2246)\r\n\tat java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469)\r\n\tat java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530)\r\n\tat org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:275)\r\n\tat org.apache.poi.xssf.streaming.AutoSizeColumnTracker.&lt;init&gt;(AutoSizeColumnTracker.java:117)\r\n\tat org.apache.poi.xssf.streaming.SXSSFSheet.&lt;init&gt;(SXSSFSheet.java:82)\r\n\tat org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:658)\r\n\tat org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:679)\r\n\tat com.textb2.ui.controller.ExcelCreator.newSheet(ExcelCreator.java:135)\r\n\tat com.textb2.ui.controller.ExcelCreator.buildExcel(ExcelCreator.java:182)\r\n\tat com.textb2.ui.controller.ExcelCreatorTest.testNoData(ExcelCreatorTest.java:91)\r\n\tat com.textb2.ui.controller.ExcelCreatorTest.testGermany(ExcelCreatorTest.java:53)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n\tat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n```\r\n\r\nNot sure but it must have something to do with fonts in /usr/share/fonts. At the moment i have no fonts there. I know that openJdk11 does not includes fonts anymore. But I&#39;m not sure what to do.\r\n\r\nThanks ...\r\n\r\nJust found a bug in an older version which is already fixed:\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8144703\r\n\r\n","title":"OpenJDK 11 java.lang.ClassCastException: class sun.font.CompositeFont cannot be cast to class sun.font.PhysicalFont","body":"<p>i running on Linux my junit test with openJDK 11 and got following error:</p>\n\n<pre><code>java.lang.ClassCastException: class sun.font.CompositeFont cannot be cast to class sun.font.PhysicalFont (sun.font.CompositeFont and sun.font.PhysicalFont are in module java.desktop of loader 'bootstrap')\n    at java.desktop/sun.font.SunFontManager.getDefaultPhysicalFont(SunFontManager.java:1086)\n    at java.desktop/sun.font.SunFontManager.initialiseDeferredFont(SunFontManager.java:965)\n    at java.desktop/sun.font.SunFontManager.findOtherDeferredFont(SunFontManager.java:903)\n    at java.desktop/sun.font.SunFontManager.findDeferredFont(SunFontManager.java:919)\n    at java.desktop/sun.font.SunFontManager.findFont2D(SunFontManager.java:2120)\n    at java.desktop/java.awt.Font.getFont2D(Font.java:506)\n    at java.desktop/java.awt.Font.canDisplayUpTo(Font.java:2246)\n    at java.desktop/java.awt.font.TextLayout.singleFont(TextLayout.java:469)\n    at java.desktop/java.awt.font.TextLayout.&lt;init&gt;(TextLayout.java:530)\n    at org.apache.poi.ss.util.SheetUtil.getDefaultCharWidth(SheetUtil.java:275)\n    at org.apache.poi.xssf.streaming.AutoSizeColumnTracker.&lt;init&gt;(AutoSizeColumnTracker.java:117)\n    at org.apache.poi.xssf.streaming.SXSSFSheet.&lt;init&gt;(SXSSFSheet.java:82)\n    at org.apache.poi.xssf.streaming.SXSSFWorkbook.createAndRegisterSXSSFSheet(SXSSFWorkbook.java:658)\n    at org.apache.poi.xssf.streaming.SXSSFWorkbook.createSheet(SXSSFWorkbook.java:679)\n    at com.textb2.ui.controller.ExcelCreator.newSheet(ExcelCreator.java:135)\n    at com.textb2.ui.controller.ExcelCreator.buildExcel(ExcelCreator.java:182)\n    at com.textb2.ui.controller.ExcelCreatorTest.testNoData(ExcelCreatorTest.java:91)\n    at com.textb2.ui.controller.ExcelCreatorTest.testGermany(ExcelCreatorTest.java:53)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\n</code></pre>\n\n<p>Not sure but it must have something to do with fonts in /usr/share/fonts. At the moment i have no fonts there. I know that openJdk11 does not includes fonts anymore. But I'm not sure what to do.</p>\n\n<p>Thanks ...</p>\n\n<p>Just found a bug in an older version which is already fixed:\n<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8144703\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8144703</a></p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638116878,"creation_date":1638116878,"answer_id":70145363,"question_id":70144591,"body_markdown":"You want to use conditional sum aggregation over a Window partitioned by `id`: \r\n\r\n```java\r\nimport org.apache.spark.sql.expressions.Window;\r\nimport org.apache.spark.sql.expressions.WindowSpec;\r\n\r\nimport static org.apache.spark.sql.functions.*;\r\n\r\n\r\nWindowSpec w = Window.partitionBy(&quot;id&quot;);\r\n\r\nDataset &lt;Row&gt; df3 = df2.withColumn(\r\n    &quot;totalcredit&quot;,\r\n    when(\r\n        col(&quot;type&quot;).equalTo(&quot;credit&quot;),\r\n        sum(when(col(&quot;type&quot;).equalTo(&quot;credit&quot;), col(&quot;amount&quot;))).over(w)\r\n    ).otherwise(0)\r\n).withColumn(\r\n    &quot;totaldebit&quot;,\r\n    when(\r\n        col(&quot;type&quot;).equalTo(&quot;debit&quot;),\r\n        sum(when(col(&quot;type&quot;).equalTo(&quot;debit&quot;), col(&quot;amount&quot;))).over(w)\r\n    ).otherwise(0)\r\n);\r\n\r\n\r\ndf3.show();\r\n\r\n//+---+-----+-------+--------+---+------+------+-----------+----------+\r\n//| id|txnId|account|    date|idl|  type|amount|totalcredit|totaldebit|\r\n//+---+-----+-------+--------+---+------+------+-----------+----------+\r\n//|145| 4513|  30095|11272020|  0| debit|  4000|          0|      5000|\r\n//|145| 4514|  30094|11272020|  0| debit|  1000|          0|      5000|\r\n//|135| 4512|  30096|11272020|  0|credit|  2000|       2000|         0|\r\n//|153| 4512|  30095|11272020| 30| debit|  1000|          0|      2000|\r\n//|153| 4512|  30096|11272020|  0|credit|   200|        700|         0|\r\n//|153| 4512|  30097|11272020|  0| debit|  1000|          0|      2000|\r\n//|153| 4512|  30097|11272020|  0|credit|   500|        700|         0|\r\n//+---+-----+-------+--------+---+------+------+-----------+----------+\r\n```","title":"spark with column and aggregate function dropping other columns in the dataset","body":"<p>You want to use conditional sum aggregation over a Window partitioned by <code>id</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.spark.sql.expressions.Window;\nimport org.apache.spark.sql.expressions.WindowSpec;\n\nimport static org.apache.spark.sql.functions.*;\n\n\nWindowSpec w = Window.partitionBy(&quot;id&quot;);\n\nDataset &lt;Row&gt; df3 = df2.withColumn(\n    &quot;totalcredit&quot;,\n    when(\n        col(&quot;type&quot;).equalTo(&quot;credit&quot;),\n        sum(when(col(&quot;type&quot;).equalTo(&quot;credit&quot;), col(&quot;amount&quot;))).over(w)\n    ).otherwise(0)\n).withColumn(\n    &quot;totaldebit&quot;,\n    when(\n        col(&quot;type&quot;).equalTo(&quot;debit&quot;),\n        sum(when(col(&quot;type&quot;).equalTo(&quot;debit&quot;), col(&quot;amount&quot;))).over(w)\n    ).otherwise(0)\n);\n\n\ndf3.show();\n\n//+---+-----+-------+--------+---+------+------+-----------+----------+\n//| id|txnId|account|    date|idl|  type|amount|totalcredit|totaldebit|\n//+---+-----+-------+--------+---+------+------+-----------+----------+\n//|145| 4513|  30095|11272020|  0| debit|  4000|          0|      5000|\n//|145| 4514|  30094|11272020|  0| debit|  1000|          0|      5000|\n//|135| 4512|  30096|11272020|  0|credit|  2000|       2000|         0|\n//|153| 4512|  30095|11272020| 30| debit|  1000|          0|      2000|\n//|153| 4512|  30096|11272020|  0|credit|   200|        700|         0|\n//|153| 4512|  30097|11272020|  0| debit|  1000|          0|      2000|\n//|153| 4512|  30097|11272020|  0|credit|   500|        700|         0|\n//+---+-----+-------+--------+---+------+------+-----------+----------+\n</code></pre>\n"}],"owner":{"display_name":"user15653327"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1638130981,"creation_date":1638111459,"question_id":70144591,"body_markdown":"\r\nI have the below data frame and I have grouped the below data frame by `id`, `txnId` and `date`\r\n```\r\n+---------+--------------+-------+------------+---------+------+------+\r\n|       id|         txnId|account|        date|      idl|  type|amount|\r\n+---------+--------------+-------+------------+---------+------+------+\r\n|      153|   0000004512 |  30095|    11272020|       30| debit|  1000|\r\n|      153|   0000004512 |  30096|    11272020|        0|credit|   200|\r\n|      145|   0000004513 |  30095|    11272020|        0| debit|  4000|\r\n|      135|   0000004512 |  30096|    11272020|        0|credit|  2000|\r\n|      153|   0000004512 |  30097|    11272020|        0| debit|  1000|\r\n|      145|   0000004514 |  30094|    11272020|        0| debit|  1000|\r\n+---------+--------------+-------+------------+---------+------+------+\r\n```\r\n\r\nso after grouping , the output is\r\n```\r\n+---------+--------------+-------+------------+---------+------+------+\r\n|       id|         txnId|account|        date|      idl|  type|amount|\r\n+---------+--------------+-------+------------+---------+------+------+\r\n|      153|    0000004512|  30095|    11272020|       30| debit|  1000|\r\n|      153|    0000004512|  30096|    11272020|        0|credit|   200|\r\n|      153|    0000004512|  30097|    11272020|        0| debit|  1000|\r\n|      153|    0000004512|  30097|    11272020|        0|credit|   500|\r\n|      145|    0000004513|  30095|    11272020|        0| debit|  4000|\r\n|      145|    0000004514|  30094|    11272020|        0| debit|  1000|\r\n|      135|    0000004512|  30096|    11272020|        0|credit|  2000|\r\n+---------+--------------+-------+------------+---------+------+------+\r\n\r\n```\r\n\r\nI need to add a third and fourth column to the data frame such that it is a total of amounts by the type credit or debit for that group , the output should look like\r\n```\r\n+---------+--------------+-------+-----------+---------+------+------+-----------+----------+\r\n|       id|         txnId|account|       date|      idl|  type|amount|totalcredit|totaldebit|\r\n+---------+--------------+-------+-----------+---------+------+------+-----------+----------+\r\n|      153|    0000004512|  30095|   11272020|       30| debit|  1000|          0|      2000|\r\n|      153|    0000004512|  30096|   11272020|        0|credit|   200|        700|         0|\r\n|      153|    0000004512|  30097|   11272020|        0| debit|  1000|          0|      2000|\r\n|      153|    0000004512|  30097|   11272020|        0|credit|   500|        700|         0|\r\n|      145|    0000004513|  30095|   11272020|        0| debit|  4000|          0|      4000|\r\n|      145|    0000004514|  30094|   11272020|        0|credit|  1000|       1000|         0|\r\n|      135|    0000004512|  30096|   11272020|        0|credit|  2000|       2000|         0|\r\n+---------+--------------+-------+-----------+---------+------+------+-----------+----------+\r\n```\r\n\r\nI have written the below code to add new column for \r\n\r\n```java\r\nDataset &lt;Row&gt; df3 = df2.where(df2.col(&quot;type&quot;).equalTo(&quot;credit&quot;))\r\n    .groupBy(&quot;type&quot;)\r\n    .agg(sum(&quot;amount&quot;)).withColumnRenamed(&quot;sum(amount)&quot;, &quot;totalcredit&quot;);\r\n```\r\n\r\nbut it is dropping the other columns from the dataset, how do I preserve the other columns in the dataset ?.\r\n\r\n\r\n\r\n","title":"spark with column and aggregate function dropping other columns in the dataset","body":"<p>I have the below data frame and I have grouped the below data frame by <code>id</code>, <code>txnId</code> and <code>date</code></p>\n<pre><code>+---------+--------------+-------+------------+---------+------+------+\n|       id|         txnId|account|        date|      idl|  type|amount|\n+---------+--------------+-------+------------+---------+------+------+\n|      153|   0000004512 |  30095|    11272020|       30| debit|  1000|\n|      153|   0000004512 |  30096|    11272020|        0|credit|   200|\n|      145|   0000004513 |  30095|    11272020|        0| debit|  4000|\n|      135|   0000004512 |  30096|    11272020|        0|credit|  2000|\n|      153|   0000004512 |  30097|    11272020|        0| debit|  1000|\n|      145|   0000004514 |  30094|    11272020|        0| debit|  1000|\n+---------+--------------+-------+------------+---------+------+------+\n</code></pre>\n<p>so after grouping , the output is</p>\n<pre><code>+---------+--------------+-------+------------+---------+------+------+\n|       id|         txnId|account|        date|      idl|  type|amount|\n+---------+--------------+-------+------------+---------+------+------+\n|      153|    0000004512|  30095|    11272020|       30| debit|  1000|\n|      153|    0000004512|  30096|    11272020|        0|credit|   200|\n|      153|    0000004512|  30097|    11272020|        0| debit|  1000|\n|      153|    0000004512|  30097|    11272020|        0|credit|   500|\n|      145|    0000004513|  30095|    11272020|        0| debit|  4000|\n|      145|    0000004514|  30094|    11272020|        0| debit|  1000|\n|      135|    0000004512|  30096|    11272020|        0|credit|  2000|\n+---------+--------------+-------+------------+---------+------+------+\n\n</code></pre>\n<p>I need to add a third and fourth column to the data frame such that it is a total of amounts by the type credit or debit for that group , the output should look like</p>\n<pre><code>+---------+--------------+-------+-----------+---------+------+------+-----------+----------+\n|       id|         txnId|account|       date|      idl|  type|amount|totalcredit|totaldebit|\n+---------+--------------+-------+-----------+---------+------+------+-----------+----------+\n|      153|    0000004512|  30095|   11272020|       30| debit|  1000|          0|      2000|\n|      153|    0000004512|  30096|   11272020|        0|credit|   200|        700|         0|\n|      153|    0000004512|  30097|   11272020|        0| debit|  1000|          0|      2000|\n|      153|    0000004512|  30097|   11272020|        0|credit|   500|        700|         0|\n|      145|    0000004513|  30095|   11272020|        0| debit|  4000|          0|      4000|\n|      145|    0000004514|  30094|   11272020|        0|credit|  1000|       1000|         0|\n|      135|    0000004512|  30096|   11272020|        0|credit|  2000|       2000|         0|\n+---------+--------------+-------+-----------+---------+------+------+-----------+----------+\n</code></pre>\n<p>I have written the below code to add new column for</p>\n<pre class=\"lang-java prettyprint-override\"><code>Dataset &lt;Row&gt; df3 = df2.where(df2.col(&quot;type&quot;).equalTo(&quot;credit&quot;))\n    .groupBy(&quot;type&quot;)\n    .agg(sum(&quot;amount&quot;)).withColumnRenamed(&quot;sum(amount)&quot;, &quot;totalcredit&quot;);\n</code></pre>\n<p>but it is dropping the other columns from the dataset, how do I preserve the other columns in the dataset ?.</p>\n"},{"tags":["java","csv","weka","arff"],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638129350,"creation_date":1638129350,"answer_id":70146957,"question_id":70134117,"body_markdown":"Instead of fixing the output (ie ArffSaver), it would be easier fixing the input (ie [CSVLoader](https://weka.sourceforge.io/doc.dev/weka/core/converters/CSVLoader.html)). The `-L` command-line option (`nominalLabelSpecs` property in the GUI) allows you to specify the labels for nominal attributes. That way, you can force the order and available labels, if one of the CSV files doesn&#39;t have all the labels present.\r\n\r\nThe following filters can be used as well to change the order of your labels:\r\n* [weka.filters.unsupervised.attribute.SortLabels](https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/SortLabels.html)\r\n* [weka.filters.unsupervised.attribute.SwapValues](https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/SwapValues.html)","title":"how to specify nominal attribute value&#39;s order when converting csv file into arff file?","body":"<p>Instead of fixing the output (ie ArffSaver), it would be easier fixing the input (ie <a href=\"https://weka.sourceforge.io/doc.dev/weka/core/converters/CSVLoader.html\" rel=\"nofollow noreferrer\">CSVLoader</a>). The <code>-L</code> command-line option (<code>nominalLabelSpecs</code> property in the GUI) allows you to specify the labels for nominal attributes. That way, you can force the order and available labels, if one of the CSV files doesn't have all the labels present.</p>\n<p>The following filters can be used as well to change the order of your labels:</p>\n<ul>\n<li><a href=\"https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/SortLabels.html\" rel=\"nofollow noreferrer\">weka.filters.unsupervised.attribute.SortLabels</a></li>\n<li><a href=\"https://weka.sourceforge.io/doc.dev/weka/filters/unsupervised/attribute/SwapValues.html\" rel=\"nofollow noreferrer\">weka.filters.unsupervised.attribute.SwapValues</a></li>\n</ul>\n"}],"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70146957,"answer_count":1,"score":0,"last_activity_date":1638129350,"creation_date":1638010443,"question_id":70134117,"body_markdown":"I&#39;m trying to convert a csv file into an arff file using the following code.\r\n```java\r\nvar csvFile = new File(&quot;/path/to/input/file.csv&quot;);\r\nvar arffOutputFile = new File(&quot;/path/to/output/file.arff&quot;);\r\nvar loader = new CSVLoader();\r\nloader.setSource(csvFile);\r\nvar instances = loader.getDataSet();\r\nvar saver = new ArffSaver();\r\nsaver.setInstances(instances);\r\nsaver.setFile(arffOutputFile);\r\nsaver.writeBatch();\r\n```\r\nThis code works, but the problem is the following. In my attributes list, I have a nominal attribute with values `{yes, no}` and i need that the arff header shows as first value `yes`. To be clearer, I need `@attribute nominal_attr {yes,no}` and not `@attribute nominal_attr {no,yes}` in the arff output header. The problem is that the order is determined by the value of the first `Instance` in `instances`: if the first row in csv input file has the `no` value, in the header there will be `@attribute nominal_attr {no,yes}`. &lt;br&gt;\r\nIs there a way to force the `ArffSaver` to use a certain order in the header without changing the order of the `Instances`?","title":"how to specify nominal attribute value&#39;s order when converting csv file into arff file?","body":"<p>I'm trying to convert a csv file into an arff file using the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var csvFile = new File(&quot;/path/to/input/file.csv&quot;);\nvar arffOutputFile = new File(&quot;/path/to/output/file.arff&quot;);\nvar loader = new CSVLoader();\nloader.setSource(csvFile);\nvar instances = loader.getDataSet();\nvar saver = new ArffSaver();\nsaver.setInstances(instances);\nsaver.setFile(arffOutputFile);\nsaver.writeBatch();\n</code></pre>\n<p>This code works, but the problem is the following. In my attributes list, I have a nominal attribute with values <code>{yes, no}</code> and i need that the arff header shows as first value <code>yes</code>. To be clearer, I need <code>@attribute nominal_attr {yes,no}</code> and not <code>@attribute nominal_attr {no,yes}</code> in the arff output header. The problem is that the order is determined by the value of the first <code>Instance</code> in <code>instances</code>: if the first row in csv input file has the <code>no</code> value, in the header there will be <code>@attribute nominal_attr {no,yes}</code>. <br>\nIs there a way to force the <code>ArffSaver</code> to use a certain order in the header without changing the order of the <code>Instances</code>?</p>\n"},{"tags":["java","android","android-studio","whatsapp","nativeapplication"],"comments":[{"owner":{"account_id":17330832,"reputation":13,"user_id":12553977,"display_name":"Istiack Mohammad"},"score":0,"creation_date":1638113754,"post_id":70144906,"comment_id":123995750,"body_markdown":"&#39;    @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n    \n            boolean overrideUrlLoading = false;\n    \n            if (url != null &amp;&amp; url.startsWith(&quot;whatsapp://&quot;)) {\n    \n                view.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n    \n                overrideUrlLoading = true;\n    \n            } else {\n    \n                view.loadUrl(url);\n            }\n    \n            return overrideUrlLoading;\n        }\n    &#39;","body":"&#39;    @Override         public boolean shouldOverrideUrlLoading(WebView view, String url) {                  boolean overrideUrlLoading = false;                  if (url != null &amp;&amp; url.startsWith(&quot;whatsapp://&quot;)) {                      view.getContext().startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));                      overrideUrlLoading = true;                  } else {                      view.loadUrl(url);             }                  return overrideUrlLoading;         }     &#39;"}],"answers":[{"tags":[],"owner":{"account_id":18132716,"reputation":397,"user_id":13187633,"display_name":"yan sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638114525,"creation_date":1638114525,"answer_id":70145032,"question_id":70144906,"body_markdown":"MainActivity and this superclass not has `shouldOverrideUrlLoading` method ","title":"im having issues with whatsapp:// url scheme","body":"<p>MainActivity and this superclass not has <code>shouldOverrideUrlLoading</code> method</p>\n"},{"tags":[],"owner":{"account_id":19172399,"reputation":21,"user_id":14005859,"display_name":"Misa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638129277,"creation_date":1638129277,"answer_id":70146947,"question_id":70144906,"body_markdown":"With this code, you&#39;re saying that there is a method shouldOverrideUrlLoading in your superclass. \r\nSuperclass is the class you extend. Example: \r\n \r\n&gt; public class MainActivity extends ExampleClass { }\r\n\r\nTo [override a method][1], there needs to be a \r\n\r\n&gt; protected void shouldOverrideUrlLoading(){ }\r\n\r\nmethod in ExampleClass. \r\n\r\nIf you didn&#39;t override any class, remove @Override.\r\nIf you did and must extend a class, you can&#39;t go further without [inheritance][2] knowledge.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/overriding-in-java/\r\n  [2]: http://tutorials.jenkov.com/java/inheritance.html","title":"im having issues with whatsapp:// url scheme","body":"<p>With this code, you're saying that there is a method shouldOverrideUrlLoading in your superclass.\nSuperclass is the class you extend. Example:</p>\n<blockquote>\n<p>public class MainActivity extends ExampleClass { }</p>\n</blockquote>\n<p>To <a href=\"https://www.geeksforgeeks.org/overriding-in-java/\" rel=\"nofollow noreferrer\">override a method</a>, there needs to be a</p>\n<blockquote>\n<p>protected void shouldOverrideUrlLoading(){ }</p>\n</blockquote>\n<p>method in ExampleClass.</p>\n<p>If you didn't override any class, remove @Override.\nIf you did and must extend a class, you can't go further without <a href=\"http://tutorials.jenkov.com/java/inheritance.html\" rel=\"nofollow noreferrer\">inheritance</a> knowledge.</p>\n"}],"owner":{"account_id":17330832,"reputation":13,"user_id":12553977,"display_name":"Istiack Mohammad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638129277,"creation_date":1638113713,"question_id":70144906,"body_markdown":"***method does not override method from superclass***. how can i fix this error.\r\nim making and android native app for my website.and my website contain a button which amy app defining as unknown url error so i add the code (shared in screenshote) but after that is showing a error and its not working, im doing making this app without any pre knowledge of java or android app development please help me out to solve this issue . everything is working fine instead of whatsapp url\r\n\r\n[![method does not override method from superclass. how can i fix this error.\r\nim making and android native app for my website.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n8Vy8.jpg\r\n\r\n\r\n","title":"im having issues with whatsapp:// url scheme","body":"<p><em><strong>method does not override method from superclass</strong></em>. how can i fix this error.\nim making and android native app for my website.and my website contain a button which amy app defining as unknown url error so i add the code (shared in screenshote) but after that is showing a error and its not working, im doing making this app without any pre knowledge of java or android app development please help me out to solve this issue . everything is working fine instead of whatsapp url</p>\n<p><a href=\"https://i.stack.imgur.com/n8Vy8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n8Vy8.jpg\" alt=\"method does not override method from superclass. how can i fix this error.\nim making and android native app for my website.\" /></a></p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638046527,"post_id":70138620,"comment_id":123984911,"body_markdown":"Add the components you want to hide to a `JPanel` and hide the `JPanel`","body":"Add the components you want to hide to a <code>JPanel</code> and hide the <code>JPanel</code>"},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1638047086,"post_id":70138620,"comment_id":123985018,"body_markdown":"MadProgrammer- I think this will not do the job. I have a set of components I use throughout the app.For example I have 6 buttons 4 text fields. I basically change the appearance of UI with buttons. So at first I have 2 buttons displayed. Then I need to add 2 textfields.Then hide all and display just a Text area. If I add components to JPanel I can only work with them as a whole so hide or show all of them at once. I would need to hide all of them and then perhaps have separate method for each type of component such ass one for buttons and one for textfields to show needed amount of components","body":"MadProgrammer- I think this will not do the job. I have a set of components I use throughout the app.For example I have 6 buttons 4 text fields. I basically change the appearance of UI with buttons. So at first I have 2 buttons displayed. Then I need to add 2 textfields.Then hide all and display just a Text area. If I add components to JPanel I can only work with them as a whole so hide or show all of them at once. I would need to hide all of them and then perhaps have separate method for each type of component such ass one for buttons and one for textfields to show needed amount of components"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1638047304,"post_id":70138620,"comment_id":123985073,"body_markdown":"Use a `CardLayout` instead, basically the same concept.  You&#39;re also forgetting that you are not stuck to using a single layout, for example, you &quot;base&quot; controls can be added to a single container, using a specific layout, then the base container can be addd to another container using a different layout.  But, since you&#39;ve provided zero context to your problem, this is the best advice I can provide","body":"Use a <code>CardLayout</code> instead, basically the same concept.  You&#39;re also forgetting that you are not stuck to using a single layout, for example, you &quot;base&quot; controls can be added to a single container, using a specific layout, then the base container can be addd to another container using a different layout.  But, since you&#39;ve provided zero context to your problem, this is the best advice I can provide"},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1638048325,"post_id":70138620,"comment_id":123985297,"body_markdown":"I added my code for better Understanding of my problem","body":"I added my code for better Understanding of my problem"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638048630,"post_id":70138620,"comment_id":123985354,"body_markdown":"OMG - Break each screen down into it&#39;s own component; decouple and re-use where applicable; make use of `CardLayout` to control the navigation","body":"OMG - Break each screen down into it&#39;s own component; decouple and re-use where applicable; make use of <code>CardLayout</code> to control the navigation"},{"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"score":0,"creation_date":1638052448,"post_id":70138620,"comment_id":123986054,"body_markdown":"Can you show me how to do that? I&#39;m sorry, I&#39;m just a beginner.","body":"Can you show me how to do that? I&#39;m sorry, I&#39;m just a beginner."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638056112,"post_id":70138620,"comment_id":123986661,"body_markdown":"I already did, see my updated example","body":"I already did, see my updated example"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638128825,"creation_date":1638046786,"answer_id":70138655,"question_id":70138620,"body_markdown":"Add the components you want to control to a common container, then simply hide/show it\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(new Insets(8, 8, 8, 8)));\r\n                setLayout(new BorderLayout());\r\n                JPanel basePane = new JPanel(new GridBagLayout());\r\n                basePane.setBorder(new EmptyBorder(new Insets(50, 50, 50, 50)));\r\n                basePane.add(new JLabel(&quot;I can see you&quot;));\r\n                add(basePane);\r\n\r\n                JButton btn = new JButton(&quot;Hide&quot;);\r\n                add(btn, BorderLayout.SOUTH);\r\n\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (basePane.isVisible()) {\r\n                            basePane.setVisible(false);\r\n                            btn.setText(&quot;Show&quot;);\r\n                        } else {\r\n                            basePane.setVisible(true);\r\n                            btn.setText(&quot;Hide&quot;);\r\n                        }\r\n                    }\r\n                }); \r\n            }\r\n\r\n        }\r\n    }\r\n\r\n&gt;  I think this will not do the job ...\r\n\r\nActually, I think it will, but, you&#39;re missing a number very important, core concepts.\r\n\r\n### Decouple\r\n\r\nYou&#39;re operating in a OO language, one of things you&#39;re going to want to focus on is &quot;decoupling&quot; the dependencies your functionality has to other functionality.  Ask yourself the simple question.  If I had to modify this one part of the system, what ramifications will it have.  If you find yourself in a cascade of changes, then your system is to tightly coupled\r\n\r\n### Single responsibility\r\n\r\nYou want to isolate functionality, as much as possible, so that it has one single job to do.  Rather then using a &quot;god&quot; class (like you have), which tries to do everything, break down your problem into small chunks an isolate the functionality, so that it&#39;s doing as simple a job as it possibly can.\r\n\r\nAs much as possible, each element shouldn&#39;t be reliant on knowing the current state of the system, beyond what it&#39;s been told, which is part of the first and third points.\r\n\r\n### Dependency injection\r\n\r\nPass the information that each sub system needs to them, rather than having globally reachable resources.  This is really good for testing, but it further reduces the coupling\r\n\r\n### Code to interface\r\n\r\nMake use of `interface` to describe high level concepts of functionality.  For example, the &quot;student details&quot; view doesn&#39;t care about how the student information is structured, obtained or managed, it only cares about presenting some information maintained by the `interface` (or contract).  This will make it easier to make core changes to the underlying implementation without adversely effecting all those parts of the system which want to use it, as they are only relying on the &quot;contract&quot; defined by the `interface`\r\n\r\n### Example...\r\n\r\nNow, typically, I use a `CardLayout`, but a `CardLayout` isn&#39;t as dynamic as something like this problem might need.\r\n\r\nSo, instead, I rolled my own &quot;navigation&quot; workflow.  This allows me more control over the information which needs to be injected and allows for a more dynamic presentation - you don&#39;t want to present the student login screen filled in with the student credentials when a student logs out.\r\n\r\n\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.Window;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayDeque;\r\n    import java.util.Deque;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.setTitle(&quot;Študentsk&#253; syst&#233;m&quot;);\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface Authenticator {\r\n\r\n            public Student authenticateStudent(String userName, char[] password);\r\n\r\n            public void logout(Student student);\r\n        }\r\n\r\n        // This is how you would return information\r\n        public interface Student {\r\n        }\r\n\r\n        // You&#39;ll need to fill this out...\r\n        public class DefaultAuthenticator implements Authenticator {\r\n\r\n            @Override\r\n            public Student authenticateStudent(String userName, char[] password) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public void logout(Student student) {\r\n            }\r\n\r\n        }\r\n\r\n        public class NavigationManager {\r\n\r\n            private Deque&lt;JPanel&gt; viewHierarchy = new ArrayDeque&lt;&gt;(16);\r\n\r\n            private JPanel parent;\r\n\r\n            public NavigationManager(JPanel parent) {\r\n                this.parent = parent;\r\n            }\r\n\r\n            protected void push(JPanel view) {\r\n                viewHierarchy.add(view);\r\n                present(view);\r\n            }\r\n\r\n            protected void present(JPanel view) {\r\n                parent.removeAll();\r\n                parent.add(view);\r\n                parent.revalidate();\r\n                Window window = SwingUtilities.windowForComponent(parent);\r\n                if (window != null) {\r\n                    window.pack();\r\n                    window.setLocationRelativeTo(null);\r\n                }\r\n                parent.repaint();\r\n            }\r\n\r\n            protected void pop() {\r\n                if (viewHierarchy.size() &gt; 1) {\r\n                    viewHierarchy.removeLast();\r\n                }\r\n                present(viewHierarchy.getLast());\r\n            }\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private MenuPane menuPane;\r\n\r\n            private Authenticator authenticator = new DefaultAuthenticator();\r\n            private NavigationManager navigationManager;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n                navigationManager = new NavigationManager(this);\r\n\r\n                push(getMenuPane());\r\n            }\r\n\r\n            protected void push(JPanel view) {\r\n                navigationManager.push(view);\r\n            }\r\n\r\n            protected void pop() {\r\n                navigationManager.pop();\r\n            }\r\n\r\n            protected void present(JPanel view) {\r\n                navigationManager.present(view);\r\n            }\r\n\r\n            protected Authenticator getAuthenticator() {\r\n                return authenticator;\r\n            }\r\n\r\n            protected MenuPane getMenuPane() {\r\n                if (menuPane == null) {\r\n                    menuPane = new MenuPane(new MenuPane.NavigationController() {\r\n                        @Override\r\n                        public void presentAdmin() {\r\n                        }\r\n\r\n                        @Override\r\n                        public void presentStudent() {\r\n                            present(getStudentLoginPane());\r\n                        }\r\n                    });\r\n                }\r\n                return menuPane;\r\n            }\r\n\r\n            protected StudentLoginPane getStudentLoginPane() {\r\n                return new StudentLoginPane(getAuthenticator(), new StudentLoginPane.NavigationController() {\r\n                    @Override\r\n                    public void back() {\r\n                        pop();\r\n                    }\r\n\r\n                    @Override\r\n                    public void studentAuthentictated(Student student) {\r\n                        push(getStudentDetailsPane(student));\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected StudentPane getStudentDetailsPane(Student student) {\r\n                return new StudentPane(student, new StudentPane.NavigationController() {\r\n                    @Override\r\n                    public void logout(Student student) {\r\n                        getAuthenticator().logout(student);\r\n                        pop();\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class MenuPane extends JPanel {\r\n\r\n            public static interface NavigationController {\r\n\r\n                public void presentAdmin();\r\n\r\n                public void presentStudent();\r\n            }\r\n\r\n            private JButton adminBtn;\r\n            private JButton studentBtn;\r\n            private JLabel title;\r\n\r\n            public MenuPane(NavigationController navigationController) {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(new Insets(25, 25, 25, 25)));\r\n                adminBtn = new JButton(&quot;Admin&quot;);\r\n                studentBtn = new JButton(&quot;Študent&quot;);\r\n                title = new JLabel(&quot;Zvoľ typ prihl&#225;senia&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                add(title, gbc);\r\n                add(adminBtn, gbc);\r\n                add(studentBtn, gbc);\r\n\r\n                adminBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigationController.presentAdmin();\r\n                    }\r\n                });\r\n                studentBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigationController.presentStudent();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class StudentLoginPane extends JPanel {\r\n\r\n            public static interface NavigationController {\r\n\r\n                public void back();\r\n\r\n                public void studentAuthentictated(Student student);\r\n            }\r\n\r\n            private JLabel title;\r\n            private JButton signInBtn;\r\n            private JButton backBtn;\r\n\r\n            private JLabel loginLabel;\r\n            private JLabel passwordLabel;\r\n            private JTextField userNameField;\r\n            private JTextField passwordField;\r\n\r\n            public StudentLoginPane(Authenticator authenticator, NavigationController navigationController) {\r\n                title = new JLabel(&quot;Študentsk&#253; syst&#233;m&quot;);\r\n                title.setHorizontalAlignment(JLabel.CENTER);\r\n                title.setBorder(new EmptyBorder(16, 16, 16, 16));\r\n                signInBtn = new JButton(&quot;Prihl&#225;siť&quot;);\r\n                backBtn = new JButton(&quot;Sp&#228;ť&quot;);\r\n                loginLabel = new JLabel(&quot;Login:&quot;);\r\n                passwordLabel = new JLabel(&quot;Heslo:&quot;);\r\n\r\n                userNameField = new JTextField(10);\r\n                passwordField = new JPasswordField(10);\r\n\r\n                setLayout(new BorderLayout());\r\n                add(title, BorderLayout.NORTH);\r\n\r\n                JPanel contentPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                contentPane.add(loginLabel, gbc);\r\n                gbc.gridy++;\r\n                contentPane.add(passwordLabel, gbc);\r\n\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                gbc.gridx = 1;\r\n                gbc.gridy = 0;\r\n                contentPane.add(userNameField, gbc);\r\n                gbc.gridy++;\r\n                contentPane.add(passwordField, gbc);\r\n\r\n                add(contentPane);\r\n\r\n                JPanel buttonPane = new JPanel(new GridBagLayout());\r\n                buttonPane.setBorder(new EmptyBorder(16, 16, 16, 16));\r\n\r\n                buttonPane.add(signInBtn);\r\n                buttonPane.add(backBtn);\r\n\r\n                add(buttonPane, BorderLayout.SOUTH);\r\n\r\n                signInBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Perform the required authentication\r\n                        // If you&#39;re wondering, yes, I&#39;d probably pass in a reference\r\n                        // to a &quot;authenticator&quot; which would do the actual work for\r\n                        // me\r\n                        // Passing null here is just for demonstration purposes\r\n                        navigationController.studentAuthentictated(null);\r\n                    }\r\n                });\r\n\r\n                backBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigationController.back();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class StudentPane extends JPanel {\r\n\r\n            public static interface NavigationController {\r\n\r\n                public void logout(Student student);\r\n            }\r\n\r\n            private JLabel idLabel;\r\n            private JLabel nameLabel;\r\n            private JLabel groupLabel;\r\n\r\n            // And here we have a demonstration of a decoupled workflow\r\n            // The MainPane shouldn&#39;t care about anything other then logging\r\n            // the student out, all other &quot;sub flows&quot; can become the responsbility\r\n            // of the sub views themselves\r\n            private NavigationManager navigationManager;\r\n\r\n            public StudentPane(Student student, NavigationController navigationController) {\r\n                navigationManager = new NavigationManager(this);\r\n\r\n                idLabel = new JLabel(&quot;560269&quot;); // Use the reference to student to get this\r\n                nameLabel = new JLabel(&quot;Marek Magula&quot;); // Use the reference to student to get this\r\n                groupLabel = new JLabel(&quot;5ZYS11&quot;); // Use the reference to student to get this\r\n\r\n                setLayout(new BorderLayout());\r\n\r\n                JPanel detailsPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                detailsPane.add(new JLabel(&quot;ID:&quot;), gbc);\r\n                gbc.gridy++;\r\n                detailsPane.add(new JLabel(&quot;Meno:&quot;), gbc);\r\n                gbc.gridy++;\r\n                detailsPane.add(new JLabel(&quot;Študijn&#225; skupina:&quot;), gbc);\r\n\r\n                add(detailsPane, BorderLayout.NORTH);\r\n\r\n                gbc.gridx = 1;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                detailsPane.add(idLabel, gbc);\r\n                gbc.gridy++;\r\n                detailsPane.add(nameLabel, gbc);\r\n                gbc.gridy++;\r\n                detailsPane.add(groupLabel, gbc);\r\n\r\n                JButton subjectsBtn = new JButton(&quot;Predmety&quot;);\r\n                JButton optioinalSubjectsBtn = new JButton(&quot;Voliteľn&#233; predmety&quot;);\r\n                JButton changePassword = new JButton(&quot;Zmeniť heslo&quot;);\r\n                JButton profileBtn = new JButton(&quot;Profilov&#233; &#250;daje&quot;);\r\n                JButton logoutBtn = new JButton(&quot;Odhl&#225;siť&quot;);\r\n\r\n                JPanel buttonPane = new JPanel(new GridBagLayout());\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.ipadx = 8;\r\n                gbc.ipady = 8;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                buttonPane.add(subjectsBtn, gbc);\r\n                buttonPane.add(optioinalSubjectsBtn, gbc);\r\n                buttonPane.add(changePassword, gbc);\r\n                buttonPane.add(profileBtn, gbc);\r\n                buttonPane.add(logoutBtn, gbc);\r\n\r\n                add(buttonPane);\r\n\r\n                subjectsBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Create a student&#39;s subject pane;\r\n                        // Inject in the student reference\r\n                        // Use the NavigationManager to push it onto the stack\r\n                    }\r\n                });\r\n                optioinalSubjectsBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Create a student&#39;s optional subject pane;\r\n                        // Inject in the student reference\r\n                        // Use the NavigationManager to push it onto the stack\r\n                    }\r\n                });\r\n                changePassword.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Okay, this is one of those &quot;questionable&quot; options\r\n                        // Is it better to pass the a reference of the \r\n                        // &quot;authenticator&quot; service to this class, then use a \r\n                        // simple dialog to get the password from the user\r\n                        // and then pass it to the &quot;authenticator&quot; service\r\n                        // OR\r\n                        // should we present another screen?!\r\n                        // Personally, I prefer option 1\r\n\r\n                        JOptionPane.showMessageDialog(StudentPane.this, &quot;All your password belong to us&quot;);\r\n                    }\r\n                });\r\n                profileBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        // Create a student&#39;s profile pane;\r\n                        // Inject in the student reference\r\n                        // Use the NavigationManager to push it onto the stack\r\n                    }\r\n                });\r\n                logoutBtn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        navigationController.logout(student);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nThis is an incomplete implementation, only intended to provide a jumping off point.\r\n\r\nI strongly encourage you to have look at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","title":"Is there a way to hide all elements in JFrame","body":"<p>Add the components you want to control to a common container, then simply hide/show it</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(new Insets(8, 8, 8, 8)));\n            setLayout(new BorderLayout());\n            JPanel basePane = new JPanel(new GridBagLayout());\n            basePane.setBorder(new EmptyBorder(new Insets(50, 50, 50, 50)));\n            basePane.add(new JLabel(&quot;I can see you&quot;));\n            add(basePane);\n\n            JButton btn = new JButton(&quot;Hide&quot;);\n            add(btn, BorderLayout.SOUTH);\n\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (basePane.isVisible()) {\n                        basePane.setVisible(false);\n                        btn.setText(&quot;Show&quot;);\n                    } else {\n                        basePane.setVisible(true);\n                        btn.setText(&quot;Hide&quot;);\n                    }\n                }\n            }); \n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>I think this will not do the job ...</p>\n</blockquote>\n<p>Actually, I think it will, but, you're missing a number very important, core concepts.</p>\n<h3>Decouple</h3>\n<p>You're operating in a OO language, one of things you're going to want to focus on is &quot;decoupling&quot; the dependencies your functionality has to other functionality.  Ask yourself the simple question.  If I had to modify this one part of the system, what ramifications will it have.  If you find yourself in a cascade of changes, then your system is to tightly coupled</p>\n<h3>Single responsibility</h3>\n<p>You want to isolate functionality, as much as possible, so that it has one single job to do.  Rather then using a &quot;god&quot; class (like you have), which tries to do everything, break down your problem into small chunks an isolate the functionality, so that it's doing as simple a job as it possibly can.</p>\n<p>As much as possible, each element shouldn't be reliant on knowing the current state of the system, beyond what it's been told, which is part of the first and third points.</p>\n<h3>Dependency injection</h3>\n<p>Pass the information that each sub system needs to them, rather than having globally reachable resources.  This is really good for testing, but it further reduces the coupling</p>\n<h3>Code to interface</h3>\n<p>Make use of <code>interface</code> to describe high level concepts of functionality.  For example, the &quot;student details&quot; view doesn't care about how the student information is structured, obtained or managed, it only cares about presenting some information maintained by the <code>interface</code> (or contract).  This will make it easier to make core changes to the underlying implementation without adversely effecting all those parts of the system which want to use it, as they are only relying on the &quot;contract&quot; defined by the <code>interface</code></p>\n<h3>Example...</h3>\n<p>Now, typically, I use a <code>CardLayout</code>, but a <code>CardLayout</code> isn't as dynamic as something like this problem might need.</p>\n<p>So, instead, I rolled my own &quot;navigation&quot; workflow.  This allows me more control over the information which needs to be injected and allows for a more dynamic presentation - you don't want to present the student login screen filled in with the student credentials when a student logs out.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.setTitle(&quot;Študentský systém&quot;);\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public interface Authenticator {\n\n        public Student authenticateStudent(String userName, char[] password);\n\n        public void logout(Student student);\n    }\n\n    // This is how you would return information\n    public interface Student {\n    }\n\n    // You'll need to fill this out...\n    public class DefaultAuthenticator implements Authenticator {\n\n        @Override\n        public Student authenticateStudent(String userName, char[] password) {\n            return null;\n        }\n\n        @Override\n        public void logout(Student student) {\n        }\n\n    }\n\n    public class NavigationManager {\n\n        private Deque&lt;JPanel&gt; viewHierarchy = new ArrayDeque&lt;&gt;(16);\n\n        private JPanel parent;\n\n        public NavigationManager(JPanel parent) {\n            this.parent = parent;\n        }\n\n        protected void push(JPanel view) {\n            viewHierarchy.add(view);\n            present(view);\n        }\n\n        protected void present(JPanel view) {\n            parent.removeAll();\n            parent.add(view);\n            parent.revalidate();\n            Window window = SwingUtilities.windowForComponent(parent);\n            if (window != null) {\n                window.pack();\n                window.setLocationRelativeTo(null);\n            }\n            parent.repaint();\n        }\n\n        protected void pop() {\n            if (viewHierarchy.size() &gt; 1) {\n                viewHierarchy.removeLast();\n            }\n            present(viewHierarchy.getLast());\n        }\n    }\n\n    public class MainPane extends JPanel {\n\n        private MenuPane menuPane;\n\n        private Authenticator authenticator = new DefaultAuthenticator();\n        private NavigationManager navigationManager;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n            navigationManager = new NavigationManager(this);\n\n            push(getMenuPane());\n        }\n\n        protected void push(JPanel view) {\n            navigationManager.push(view);\n        }\n\n        protected void pop() {\n            navigationManager.pop();\n        }\n\n        protected void present(JPanel view) {\n            navigationManager.present(view);\n        }\n\n        protected Authenticator getAuthenticator() {\n            return authenticator;\n        }\n\n        protected MenuPane getMenuPane() {\n            if (menuPane == null) {\n                menuPane = new MenuPane(new MenuPane.NavigationController() {\n                    @Override\n                    public void presentAdmin() {\n                    }\n\n                    @Override\n                    public void presentStudent() {\n                        present(getStudentLoginPane());\n                    }\n                });\n            }\n            return menuPane;\n        }\n\n        protected StudentLoginPane getStudentLoginPane() {\n            return new StudentLoginPane(getAuthenticator(), new StudentLoginPane.NavigationController() {\n                @Override\n                public void back() {\n                    pop();\n                }\n\n                @Override\n                public void studentAuthentictated(Student student) {\n                    push(getStudentDetailsPane(student));\n                }\n            });\n        }\n\n        protected StudentPane getStudentDetailsPane(Student student) {\n            return new StudentPane(student, new StudentPane.NavigationController() {\n                @Override\n                public void logout(Student student) {\n                    getAuthenticator().logout(student);\n                    pop();\n                }\n            });\n        }\n\n    }\n\n    public class MenuPane extends JPanel {\n\n        public static interface NavigationController {\n\n            public void presentAdmin();\n\n            public void presentStudent();\n        }\n\n        private JButton adminBtn;\n        private JButton studentBtn;\n        private JLabel title;\n\n        public MenuPane(NavigationController navigationController) {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(new Insets(25, 25, 25, 25)));\n            adminBtn = new JButton(&quot;Admin&quot;);\n            studentBtn = new JButton(&quot;Študent&quot;);\n            title = new JLabel(&quot;Zvoľ typ prihlásenia&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            add(title, gbc);\n            add(adminBtn, gbc);\n            add(studentBtn, gbc);\n\n            adminBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigationController.presentAdmin();\n                }\n            });\n            studentBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigationController.presentStudent();\n                }\n            });\n        }\n    }\n\n    public class StudentLoginPane extends JPanel {\n\n        public static interface NavigationController {\n\n            public void back();\n\n            public void studentAuthentictated(Student student);\n        }\n\n        private JLabel title;\n        private JButton signInBtn;\n        private JButton backBtn;\n\n        private JLabel loginLabel;\n        private JLabel passwordLabel;\n        private JTextField userNameField;\n        private JTextField passwordField;\n\n        public StudentLoginPane(Authenticator authenticator, NavigationController navigationController) {\n            title = new JLabel(&quot;Študentský systém&quot;);\n            title.setHorizontalAlignment(JLabel.CENTER);\n            title.setBorder(new EmptyBorder(16, 16, 16, 16));\n            signInBtn = new JButton(&quot;Prihlásiť&quot;);\n            backBtn = new JButton(&quot;Späť&quot;);\n            loginLabel = new JLabel(&quot;Login:&quot;);\n            passwordLabel = new JLabel(&quot;Heslo:&quot;);\n\n            userNameField = new JTextField(10);\n            passwordField = new JPasswordField(10);\n\n            setLayout(new BorderLayout());\n            add(title, BorderLayout.NORTH);\n\n            JPanel contentPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_END;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            contentPane.add(loginLabel, gbc);\n            gbc.gridy++;\n            contentPane.add(passwordLabel, gbc);\n\n            gbc.anchor = GridBagConstraints.LINE_START;\n            gbc.gridx = 1;\n            gbc.gridy = 0;\n            contentPane.add(userNameField, gbc);\n            gbc.gridy++;\n            contentPane.add(passwordField, gbc);\n\n            add(contentPane);\n\n            JPanel buttonPane = new JPanel(new GridBagLayout());\n            buttonPane.setBorder(new EmptyBorder(16, 16, 16, 16));\n\n            buttonPane.add(signInBtn);\n            buttonPane.add(backBtn);\n\n            add(buttonPane, BorderLayout.SOUTH);\n\n            signInBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Perform the required authentication\n                    // If you're wondering, yes, I'd probably pass in a reference\n                    // to a &quot;authenticator&quot; which would do the actual work for\n                    // me\n                    // Passing null here is just for demonstration purposes\n                    navigationController.studentAuthentictated(null);\n                }\n            });\n\n            backBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigationController.back();\n                }\n            });\n        }\n    }\n\n    public class StudentPane extends JPanel {\n\n        public static interface NavigationController {\n\n            public void logout(Student student);\n        }\n\n        private JLabel idLabel;\n        private JLabel nameLabel;\n        private JLabel groupLabel;\n\n        // And here we have a demonstration of a decoupled workflow\n        // The MainPane shouldn't care about anything other then logging\n        // the student out, all other &quot;sub flows&quot; can become the responsbility\n        // of the sub views themselves\n        private NavigationManager navigationManager;\n\n        public StudentPane(Student student, NavigationController navigationController) {\n            navigationManager = new NavigationManager(this);\n\n            idLabel = new JLabel(&quot;560269&quot;); // Use the reference to student to get this\n            nameLabel = new JLabel(&quot;Marek Magula&quot;); // Use the reference to student to get this\n            groupLabel = new JLabel(&quot;5ZYS11&quot;); // Use the reference to student to get this\n\n            setLayout(new BorderLayout());\n\n            JPanel detailsPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_END;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            detailsPane.add(new JLabel(&quot;ID:&quot;), gbc);\n            gbc.gridy++;\n            detailsPane.add(new JLabel(&quot;Meno:&quot;), gbc);\n            gbc.gridy++;\n            detailsPane.add(new JLabel(&quot;Študijná skupina:&quot;), gbc);\n\n            add(detailsPane, BorderLayout.NORTH);\n\n            gbc.gridx = 1;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.LINE_START;\n            detailsPane.add(idLabel, gbc);\n            gbc.gridy++;\n            detailsPane.add(nameLabel, gbc);\n            gbc.gridy++;\n            detailsPane.add(groupLabel, gbc);\n\n            JButton subjectsBtn = new JButton(&quot;Predmety&quot;);\n            JButton optioinalSubjectsBtn = new JButton(&quot;Voliteľné predmety&quot;);\n            JButton changePassword = new JButton(&quot;Zmeniť heslo&quot;);\n            JButton profileBtn = new JButton(&quot;Profilové údaje&quot;);\n            JButton logoutBtn = new JButton(&quot;Odhlásiť&quot;);\n\n            JPanel buttonPane = new JPanel(new GridBagLayout());\n            gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.ipadx = 8;\n            gbc.ipady = 8;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            buttonPane.add(subjectsBtn, gbc);\n            buttonPane.add(optioinalSubjectsBtn, gbc);\n            buttonPane.add(changePassword, gbc);\n            buttonPane.add(profileBtn, gbc);\n            buttonPane.add(logoutBtn, gbc);\n\n            add(buttonPane);\n\n            subjectsBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Create a student's subject pane;\n                    // Inject in the student reference\n                    // Use the NavigationManager to push it onto the stack\n                }\n            });\n            optioinalSubjectsBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Create a student's optional subject pane;\n                    // Inject in the student reference\n                    // Use the NavigationManager to push it onto the stack\n                }\n            });\n            changePassword.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Okay, this is one of those &quot;questionable&quot; options\n                    // Is it better to pass the a reference of the \n                    // &quot;authenticator&quot; service to this class, then use a \n                    // simple dialog to get the password from the user\n                    // and then pass it to the &quot;authenticator&quot; service\n                    // OR\n                    // should we present another screen?!\n                    // Personally, I prefer option 1\n\n                    JOptionPane.showMessageDialog(StudentPane.this, &quot;All your password belong to us&quot;);\n                }\n            });\n            profileBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    // Create a student's profile pane;\n                    // Inject in the student reference\n                    // Use the NavigationManager to push it onto the stack\n                }\n            });\n            logoutBtn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    navigationController.logout(student);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>This is an incomplete implementation, only intended to provide a jumping off point.</p>\n<p>I strongly encourage you to have look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n"}],"owner":{"account_id":23366394,"reputation":15,"user_id":17437984,"display_name":"marek"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70138655,"answer_count":1,"score":0,"last_activity_date":1638128825,"creation_date":1638046426,"question_id":70138620,"body_markdown":"I&#39;m currently working on Java application and I&#39;m using JFrame and inside of JFrame i have some buttons, labels and textfields. I&#39;m in need of hiding all the elements that are in JFrame. I don&#39;t need to hide JFrame itself, only the elements in it so I can display some others. Is there a way to hide them all without manually writing element.setVisibility(false); for every single one of them?\r\n\r\n\r\n   \r\n\r\n    import javax.swing.*;\r\n    import java.awt.Font;\r\n    import java.awt.Color;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.border.LineBorder;\r\n    import java.util.ArrayList;\r\n    public class GraphicUserInterface implements ActionListener {\r\n        /**\r\n         * Constructor for objects of class GraphicUserInterface\r\n         */\r\n        private JFrame window;\r\n        private JButton button1;\r\n        private JButton button2;\r\n        private JButton button3;\r\n        private JButton button4;\r\n        private JButton button5;\r\n        private JButton button6;\r\n       \r\n        private JLabel title;\r\n        private JLabel username;\r\n        private JLabel password;\r\n        private JTextField textF1;\r\n        private JPasswordField passF;\r\n        private JTextArea title2;\r\n        \r\n        \r\n        private int prevMenu;\r\n        private int menu ;\r\n    \r\n        private Admin admin;\r\n    \r\n        public GraphicUserInterface() {\r\n            // initialise instance variables\r\n            this.admin = new Admin();\r\n            this.window = new JFrame();\r\n            this.button1 = new JButton();\r\n            this.button2 = new JButton();\r\n            this.button3 = new JButton();\r\n            this.button4 = new JButton();\r\n            this.button5 = new JButton();\r\n            this.button6 = new JButton();\r\n            \r\n            this.title2 = new JTextArea();\r\n            \r\n            this.title = new JLabel();\r\n            this.username = new JLabel();\r\n            this.password = new JLabel();\r\n            this.textF1 = new JTextField();\r\n            this.passF = new JPasswordField();\r\n            this.button1.addActionListener(this);\r\n            this.button2.addActionListener(this);\r\n            \r\n        }\r\n    \r\n        public void start() {\r\n            \r\n            switch(this.menu) {\r\n                case 0:\r\n                this.window.setTitle(&quot;Študentsk&#253; syst&#233;m&quot;);\r\n                this.button1.setText(&quot;Admin&quot;);\r\n                this.button2.setText(&quot;Študent&quot;);\r\n                this.title.setText(&quot;Zvoľ typ prihl&#225;senia&quot;); \r\n    \r\n                this.title.setBounds(130,50,200,70);\r\n                this.title.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\r\n    \r\n                this.button1.setBounds(140,130,120,55);\r\n                this.button1.setBackground(Color.white);\r\n                this.button1.setBorder(new LineBorder(Color.black,5));\r\n    \r\n                this.button2.setBounds(140,215,120,55);\r\n                this.button2.setBackground(new Color(156,156,156));\r\n                this.button2.setBorder(new LineBorder(Color.black,5));\r\n                this.button2.setForeground(Color.white);\r\n    \r\n              \r\n                this.window.add(this.button1);\r\n                this.window.add(this.button2);\r\n                this.window.add(this.title); \r\n                visOfUIElements(false);\r\n    \r\n                this.window.getContentPane().setBackground(new Color(235, 235, 235));\r\n                this.window.setSize(400,400);  \r\n                this.window.setLayout(null);  \r\n                this.window.setVisible(true);\r\n                \r\n    \r\n                //this.button1.addActionListener(this);\r\n                        \r\n                //this.button2.addActionListener(this);\r\n                break;\r\n                case 1:\r\n                \r\n                this.window.setTitle(&quot;Študentsk&#253; syst&#233;m&quot;);\r\n                this.button1.setText(&quot;Prihl&#225;siť&quot;);\r\n                this.button2.setText(&quot;Sp&#228;ť&quot;);\r\n                this.title.setText(&quot;Prihl&#225;senie Admin&quot;);\r\n                this.textF1.setBounds(130,125,125,20);\r\n                this.passF.setBounds(130,155,125,20);\r\n                this.username.setText(&quot;Login:&quot;);\r\n                this.password.setText(&quot;Heslo:&quot;);\r\n                \r\n                this.title.setBounds(100,50,200,70);\r\n                this.title.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\r\n                \r\n                this.username.setBounds(80,100,50,70);\r\n                this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n           \r\n                this.password.setBounds(80,130,50,70);      \r\n                this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n    \r\n                this.button1.setBounds(130,180,60,30);\r\n                this.button1.setBackground(Color.white);\r\n                this.button1.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button2.setBounds(195,180,60,30);\r\n                this.button2.setBackground(new Color(156,156,156));\r\n                this.button2.setBorder(new LineBorder(Color.black,3));\r\n                this.button2.setForeground(Color.white);\r\n                \r\n                this.textF1.setBounds(130,125,125,20);\r\n                this.passF.setBounds(130,155,125,20);\r\n    \r\n              \r\n                this.window.add(this.button1);\r\n                this.window.add(this.button2);\r\n                this.window.add(this.title); \r\n                this.window.add(this.textF1);\r\n                this.window.add(this.passF);\r\n                this.window.add(this.username);\r\n                this.window.add(this.password);\r\n                visOfUIElements(true);\r\n    \r\n                this.window.getContentPane().setBackground(new Color(235, 235, 235));\r\n                this.window.setSize(400,400);  \r\n                this.window.setLayout(null);  \r\n                this.window.setVisible(true);\r\n                \r\n    \r\n                \r\n                break;\r\n                case 2:\r\n                \r\n                this.window.setTitle(&quot;Študentsk&#253; syst&#233;m&quot;);\r\n                this.button1.setText(&quot;Prihl&#225;siť&quot;);\r\n                this.button2.setText(&quot;Sp&#228;ť&quot;);\r\n                this.title.setText(&quot;Prihl&#225;senie Študent&quot;);\r\n                this.textF1.setBounds(130,125,125,20);\r\n                this.passF.setBounds(130,155,125,20);\r\n                this.username.setText(&quot;Login:&quot;);\r\n                this.password.setText(&quot;Heslo:&quot;);\r\n                \r\n                this.title.setBounds(100,50,200,70);\r\n                this.title.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\r\n                \r\n                this.username.setBounds(80,100,50,70);\r\n                this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n           \r\n                this.password.setBounds(80,130,50,70);      \r\n                this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n    \r\n                this.button1.setBounds(130,180,60,30);\r\n                this.button1.setBackground(Color.white);\r\n                this.button1.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button2.setBounds(195,180,60,30);\r\n                this.button2.setBackground(new Color(156,156,156));\r\n                this.button2.setBorder(new LineBorder(Color.black,3));\r\n                this.button2.setForeground(Color.white);\r\n                \r\n                this.textF1.setBounds(130,125,125,20);\r\n                this.passF.setBounds(130,155,125,20);\r\n                \r\n                this.textF1.setText(&quot;Marek&quot;);\r\n              \r\n                this.window.add(this.button1);\r\n                this.window.add(this.button2);\r\n                this.window.add(this.title); \r\n                this.window.add(this.textF1);\r\n                this.window.add(this.passF);\r\n                this.window.add(this.username);\r\n                this.window.add(this.password);\r\n                visOfUIElements(true);\r\n    \r\n                this.window.getContentPane().setBackground(new Color(235, 235, 235));\r\n                this.window.setSize(400,400);  \r\n                this.window.setLayout(null);  \r\n                this.window.setVisible(true);\r\n                \r\n                break;\r\n                case 3:\r\n                this.window.setTitle(&quot;Študentsk&#253; syst&#233;m&quot;);\r\n                this.button1.setText(&quot;Pridať študenta&quot;);\r\n                this.button2.setText(&quot;Vyhľadať študenta&quot;);\r\n                this.button3.setText(&quot;Pridať predmet&quot;);\r\n                this.button4.setText(&quot;Pridať odbor&quot;);\r\n                this.button5.setText(&quot;Pridať fakultu&quot;);\r\n                this.button6.setText(&quot;Odhl&#225;siť&quot;);\r\n                \r\n                this.title.setText(&quot;Admin&quot;);\r\n                this.textF1.setBounds(325,125,125,20);\r\n                this.passF.setBounds(325,155,125,20);\r\n                this.username.setText(&quot;Login:&quot;);\r\n                this.password.setText(&quot;Heslo:&quot;);\r\n                \r\n                this.title2.setBounds(380,50,200,200);\r\n                this.title2.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\r\n                \r\n                this.username.setBounds(80,100,50,70);\r\n                this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n           \r\n                this.password.setBounds(80,130,50,70);      \r\n                this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n    \r\n                this.button1.setBounds(350,130,120,55);\r\n                this.button1.setBackground(Color.white);\r\n                this.button1.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button2.setBounds(350,215,120,55);\r\n                this.button2.setBackground(Color.white);\r\n                this.button2.setBorder(new LineBorder(Color.black,3));\r\n                this.button2.setForeground(Color.black);\r\n                \r\n                \r\n                this.button3.setBounds(350,300,120,55);\r\n                this.button3.setBackground(Color.white);\r\n                this.button3.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button4.setBounds(350,385,120,55);\r\n                this.button4.setBackground(Color.white);\r\n                this.button4.setBorder(new LineBorder(Color.black,3));\r\n                \r\n                \r\n                this.button5.setBounds(350,470,120,55);\r\n                this.button5.setBackground(Color.white);\r\n                this.button5.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button6.setBounds(350,555,120,55);\r\n                this.button6.setBackground(new Color(156,156,156));\r\n                this.button6.setBorder(new LineBorder(Color.black,3));\r\n                this.button6.setForeground(Color.white);\r\n                \r\n                \r\n                this.textF1.setBounds(130,125,125,20);\r\n                this.passF.setBounds(130,155,125,20);\r\n    \r\n              \r\n                this.window.add(this.button1);\r\n                this.window.add(this.button2);\r\n                this.window.add(this.button3);\r\n                this.window.add(this.button4);\r\n                this.window.add(this.button5);\r\n                this.window.add(this.button6);\r\n                \r\n                this.window.add(this.title); \r\n                this.window.add(this.textF1);\r\n                this.window.add(this.passF);\r\n                this.window.add(this.username);\r\n                this.window.add(this.password);\r\n                visOfUIElements(false);\r\n    \r\n                this.window.getContentPane().setBackground(new Color(235, 235, 235));\r\n                this.window.setSize(820,800);  \r\n                this.window.setLayout(null);  \r\n                this.window.setVisible(true);\r\n                break;\r\n                case 4:\r\n                this.window.setTitle(&quot;Študentsk&#253; syst&#233;m&quot;);\r\n                this.button1.setText(&quot;Predmety&quot;);\r\n                this.button2.setText(&quot;Voliteľn&#233; predmety&quot;);\r\n                this.button3.setText(&quot;Zmeniť heslo&quot;);\r\n                this.button4.setText(&quot;Profilov&#233; &#250;daje&quot;);\r\n                this.button5.setText(&quot;Odhl&#225;siť&quot;);\r\n                String a = &quot;\\nID: 560269 &quot;;\r\n                String b =&quot;\\nMeno: Marek Magula &quot;;\r\n                String c = &quot;\\nŠtudijn&#225; skupina: 5ZYS11&quot;;\r\n                \r\n                this.title2.setEditable(false);\r\n                this.title2.append(a);\r\n                this.title2.append(b);\r\n                this.title2.append(c);\r\n                this.textF1.setBounds(325,125,125,20);\r\n                this.passF.setBounds(325,155,125,20);\r\n                this.username.setText(&quot;Login:&quot;);\r\n                this.password.setText(&quot;Heslo:&quot;);\r\n                \r\n                this.title2.setBounds(350,50,200,200);\r\n                this.title2.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n                this.title2.setBackground(new Color(235, 235, 235));\r\n                \r\n                this.username.setBounds(80,100,50,70);\r\n                this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n           \r\n                this.password.setBounds(80,130,50,70);      \r\n                this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\r\n    \r\n                this.button1.setBounds(350,130,120,55);\r\n                this.button1.setBackground(Color.white);\r\n                this.button1.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button2.setBounds(350,215,120,55);\r\n                this.button2.setBackground(Color.white);\r\n                this.button2.setBorder(new LineBorder(Color.black,3));\r\n                this.button2.setForeground(Color.black);\r\n                \r\n                \r\n                this.button3.setBounds(350,300,120,55);\r\n                this.button3.setBackground(Color.white);\r\n                this.button3.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button4.setBounds(350,385,120,55);\r\n                this.button4.setBackground(Color.white);\r\n                this.button4.setBorder(new LineBorder(Color.black,3));\r\n    \r\n                this.button5.setBounds(350,470,120,55);\r\n                this.button5.setBackground(new Color(156,156,156));\r\n                this.button5.setBorder(new LineBorder(Color.black,3));\r\n                this.button5.setForeground(Color.white);\r\n      \r\n                this.textF1.setBounds(130,125,125,20);\r\n                this.passF.setBounds(130,155,125,20);\r\n    \r\n                this.window.add(this.button1);\r\n                this.window.add(this.button2);\r\n                this.window.add(this.button3);\r\n                this.window.add(this.button4);\r\n                \r\n                this.window.add(this.button5);\r\n                \r\n                this.window.add(this.title2); \r\n                this.window.remove(this.title); \r\n                this.window.add(this.textF1);\r\n                this.window.add(this.passF);\r\n                this.window.add(this.username);\r\n                this.window.add(this.password);\r\n                visOfUIElements(false);\r\n    \r\n                this.window.getContentPane().setBackground(new Color(235, 235, 235));\r\n                this.window.setSize(820,800);  \r\n                this.window.setLayout(null);  \r\n                this.window.setVisible(true);\r\n                \r\n                break;\r\n            \r\n            }\r\n    \r\n        }\r\n        public void actionPerformed(ActionEvent e) {\r\n            switch (this.menu) {\r\n                case 0:\r\n                if (e.getSource() == this.button1) {\r\n                    this.menu = 1;            \r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 2;           \r\n                    start();\r\n                }\r\n                break;\r\n                case 1:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 2:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 4;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 3:\r\n                if (e.getSource() == this.button1) {\r\n                    this.menu = 5;            \r\n                    start();\r\n                } else if (e.getSource() == this.button2) {\r\n                    this.menu = 6;           \r\n                    start();\r\n                } else if (e.getSource() == this.button3) {\r\n                    this.menu = 7;           \r\n                    start();\r\n                } else if (e.getSource() == this.button4) {\r\n                    this.menu = 8;           \r\n                    start();\r\n                } else if (e.getSource() == this.button5) {\r\n                    this.menu = 9;           \r\n                    start();\r\n                } else if (e.getSource() == this.button6) {\r\n                    this.menu = 0;           \r\n                    start();\r\n                }\r\n                break;\r\n                case 4:\r\n                if (e.getSource() == this.button1) {\r\n                    this.menu = 10;            \r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 11;           \r\n                    start();\r\n                } else if (e.getSource()== this.button3) {\r\n                    this.menu = 12;           \r\n                    start();\r\n                } else if (e.getSource()== this.button4) {\r\n                    this.menu = 13;           \r\n                    start();\r\n                } else if (e.getSource()== this.button5) {\r\n                    this.menu = 0;           \r\n                    start();\r\n                } \r\n                break;\r\n                case 5:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 6:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 7:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 8:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 9:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 10:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 11:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 12:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n                case 13:\r\n                if (e.getSource()== this.button1) {\r\n                    this.menu = 3;\r\n                    start();\r\n                } else if (e.getSource()== this.button2) {\r\n                    this.menu = 0;\r\n                    start();\r\n                }\r\n                break;\r\n               \r\n            }    \r\n        }\r\n        \r\n        /*public void visOfUIElements(boolean visibility) {\r\n            this.username.setVisible(visibility);\r\n                this.password.setVisible(visibility);\r\n                this.textF1.setVisible(visibility);\r\n                this.passF.setVisible(visibility);\r\n        }*/\r\n    }\r\n\r\n\r\n\r\nHere is my code. I&#39;m changing the layout of a UI window and need to make it more efficient so I don&#39;t write the same code hundreds of times. ","title":"Is there a way to hide all elements in JFrame","body":"<p>I'm currently working on Java application and I'm using JFrame and inside of JFrame i have some buttons, labels and textfields. I'm in need of hiding all the elements that are in JFrame. I don't need to hide JFrame itself, only the elements in it so I can display some others. Is there a way to hide them all without manually writing element.setVisibility(false); for every single one of them?</p>\n<pre><code>import javax.swing.*;\nimport java.awt.Font;\nimport java.awt.Color;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.border.LineBorder;\nimport java.util.ArrayList;\npublic class GraphicUserInterface implements ActionListener {\n    /**\n     * Constructor for objects of class GraphicUserInterface\n     */\n    private JFrame window;\n    private JButton button1;\n    private JButton button2;\n    private JButton button3;\n    private JButton button4;\n    private JButton button5;\n    private JButton button6;\n   \n    private JLabel title;\n    private JLabel username;\n    private JLabel password;\n    private JTextField textF1;\n    private JPasswordField passF;\n    private JTextArea title2;\n    \n    \n    private int prevMenu;\n    private int menu ;\n\n    private Admin admin;\n\n    public GraphicUserInterface() {\n        // initialise instance variables\n        this.admin = new Admin();\n        this.window = new JFrame();\n        this.button1 = new JButton();\n        this.button2 = new JButton();\n        this.button3 = new JButton();\n        this.button4 = new JButton();\n        this.button5 = new JButton();\n        this.button6 = new JButton();\n        \n        this.title2 = new JTextArea();\n        \n        this.title = new JLabel();\n        this.username = new JLabel();\n        this.password = new JLabel();\n        this.textF1 = new JTextField();\n        this.passF = new JPasswordField();\n        this.button1.addActionListener(this);\n        this.button2.addActionListener(this);\n        \n    }\n\n    public void start() {\n        \n        switch(this.menu) {\n            case 0:\n            this.window.setTitle(&quot;Študentský systém&quot;);\n            this.button1.setText(&quot;Admin&quot;);\n            this.button2.setText(&quot;Študent&quot;);\n            this.title.setText(&quot;Zvoľ typ prihlásenia&quot;); \n\n            this.title.setBounds(130,50,200,70);\n            this.title.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\n\n            this.button1.setBounds(140,130,120,55);\n            this.button1.setBackground(Color.white);\n            this.button1.setBorder(new LineBorder(Color.black,5));\n\n            this.button2.setBounds(140,215,120,55);\n            this.button2.setBackground(new Color(156,156,156));\n            this.button2.setBorder(new LineBorder(Color.black,5));\n            this.button2.setForeground(Color.white);\n\n          \n            this.window.add(this.button1);\n            this.window.add(this.button2);\n            this.window.add(this.title); \n            visOfUIElements(false);\n\n            this.window.getContentPane().setBackground(new Color(235, 235, 235));\n            this.window.setSize(400,400);  \n            this.window.setLayout(null);  \n            this.window.setVisible(true);\n            \n\n            //this.button1.addActionListener(this);\n                    \n            //this.button2.addActionListener(this);\n            break;\n            case 1:\n            \n            this.window.setTitle(&quot;Študentský systém&quot;);\n            this.button1.setText(&quot;Prihlásiť&quot;);\n            this.button2.setText(&quot;Späť&quot;);\n            this.title.setText(&quot;Prihlásenie Admin&quot;);\n            this.textF1.setBounds(130,125,125,20);\n            this.passF.setBounds(130,155,125,20);\n            this.username.setText(&quot;Login:&quot;);\n            this.password.setText(&quot;Heslo:&quot;);\n            \n            this.title.setBounds(100,50,200,70);\n            this.title.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\n            \n            this.username.setBounds(80,100,50,70);\n            this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n       \n            this.password.setBounds(80,130,50,70);      \n            this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n\n            this.button1.setBounds(130,180,60,30);\n            this.button1.setBackground(Color.white);\n            this.button1.setBorder(new LineBorder(Color.black,3));\n\n            this.button2.setBounds(195,180,60,30);\n            this.button2.setBackground(new Color(156,156,156));\n            this.button2.setBorder(new LineBorder(Color.black,3));\n            this.button2.setForeground(Color.white);\n            \n            this.textF1.setBounds(130,125,125,20);\n            this.passF.setBounds(130,155,125,20);\n\n          \n            this.window.add(this.button1);\n            this.window.add(this.button2);\n            this.window.add(this.title); \n            this.window.add(this.textF1);\n            this.window.add(this.passF);\n            this.window.add(this.username);\n            this.window.add(this.password);\n            visOfUIElements(true);\n\n            this.window.getContentPane().setBackground(new Color(235, 235, 235));\n            this.window.setSize(400,400);  \n            this.window.setLayout(null);  \n            this.window.setVisible(true);\n            \n\n            \n            break;\n            case 2:\n            \n            this.window.setTitle(&quot;Študentský systém&quot;);\n            this.button1.setText(&quot;Prihlásiť&quot;);\n            this.button2.setText(&quot;Späť&quot;);\n            this.title.setText(&quot;Prihlásenie Študent&quot;);\n            this.textF1.setBounds(130,125,125,20);\n            this.passF.setBounds(130,155,125,20);\n            this.username.setText(&quot;Login:&quot;);\n            this.password.setText(&quot;Heslo:&quot;);\n            \n            this.title.setBounds(100,50,200,70);\n            this.title.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\n            \n            this.username.setBounds(80,100,50,70);\n            this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n       \n            this.password.setBounds(80,130,50,70);      \n            this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n\n            this.button1.setBounds(130,180,60,30);\n            this.button1.setBackground(Color.white);\n            this.button1.setBorder(new LineBorder(Color.black,3));\n\n            this.button2.setBounds(195,180,60,30);\n            this.button2.setBackground(new Color(156,156,156));\n            this.button2.setBorder(new LineBorder(Color.black,3));\n            this.button2.setForeground(Color.white);\n            \n            this.textF1.setBounds(130,125,125,20);\n            this.passF.setBounds(130,155,125,20);\n            \n            this.textF1.setText(&quot;Marek&quot;);\n          \n            this.window.add(this.button1);\n            this.window.add(this.button2);\n            this.window.add(this.title); \n            this.window.add(this.textF1);\n            this.window.add(this.passF);\n            this.window.add(this.username);\n            this.window.add(this.password);\n            visOfUIElements(true);\n\n            this.window.getContentPane().setBackground(new Color(235, 235, 235));\n            this.window.setSize(400,400);  \n            this.window.setLayout(null);  \n            this.window.setVisible(true);\n            \n            break;\n            case 3:\n            this.window.setTitle(&quot;Študentský systém&quot;);\n            this.button1.setText(&quot;Pridať študenta&quot;);\n            this.button2.setText(&quot;Vyhľadať študenta&quot;);\n            this.button3.setText(&quot;Pridať predmet&quot;);\n            this.button4.setText(&quot;Pridať odbor&quot;);\n            this.button5.setText(&quot;Pridať fakultu&quot;);\n            this.button6.setText(&quot;Odhlásiť&quot;);\n            \n            this.title.setText(&quot;Admin&quot;);\n            this.textF1.setBounds(325,125,125,20);\n            this.passF.setBounds(325,155,125,20);\n            this.username.setText(&quot;Login:&quot;);\n            this.password.setText(&quot;Heslo:&quot;);\n            \n            this.title2.setBounds(380,50,200,200);\n            this.title2.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\n            \n            this.username.setBounds(80,100,50,70);\n            this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n       \n            this.password.setBounds(80,130,50,70);      \n            this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n\n            this.button1.setBounds(350,130,120,55);\n            this.button1.setBackground(Color.white);\n            this.button1.setBorder(new LineBorder(Color.black,3));\n\n            this.button2.setBounds(350,215,120,55);\n            this.button2.setBackground(Color.white);\n            this.button2.setBorder(new LineBorder(Color.black,3));\n            this.button2.setForeground(Color.black);\n            \n            \n            this.button3.setBounds(350,300,120,55);\n            this.button3.setBackground(Color.white);\n            this.button3.setBorder(new LineBorder(Color.black,3));\n\n            this.button4.setBounds(350,385,120,55);\n            this.button4.setBackground(Color.white);\n            this.button4.setBorder(new LineBorder(Color.black,3));\n            \n            \n            this.button5.setBounds(350,470,120,55);\n            this.button5.setBackground(Color.white);\n            this.button5.setBorder(new LineBorder(Color.black,3));\n\n            this.button6.setBounds(350,555,120,55);\n            this.button6.setBackground(new Color(156,156,156));\n            this.button6.setBorder(new LineBorder(Color.black,3));\n            this.button6.setForeground(Color.white);\n            \n            \n            this.textF1.setBounds(130,125,125,20);\n            this.passF.setBounds(130,155,125,20);\n\n          \n            this.window.add(this.button1);\n            this.window.add(this.button2);\n            this.window.add(this.button3);\n            this.window.add(this.button4);\n            this.window.add(this.button5);\n            this.window.add(this.button6);\n            \n            this.window.add(this.title); \n            this.window.add(this.textF1);\n            this.window.add(this.passF);\n            this.window.add(this.username);\n            this.window.add(this.password);\n            visOfUIElements(false);\n\n            this.window.getContentPane().setBackground(new Color(235, 235, 235));\n            this.window.setSize(820,800);  \n            this.window.setLayout(null);  \n            this.window.setVisible(true);\n            break;\n            case 4:\n            this.window.setTitle(&quot;Študentský systém&quot;);\n            this.button1.setText(&quot;Predmety&quot;);\n            this.button2.setText(&quot;Voliteľné predmety&quot;);\n            this.button3.setText(&quot;Zmeniť heslo&quot;);\n            this.button4.setText(&quot;Profilové údaje&quot;);\n            this.button5.setText(&quot;Odhlásiť&quot;);\n            String a = &quot;\\nID: 560269 &quot;;\n            String b =&quot;\\nMeno: Marek Magula &quot;;\n            String c = &quot;\\nŠtudijná skupina: 5ZYS11&quot;;\n            \n            this.title2.setEditable(false);\n            this.title2.append(a);\n            this.title2.append(b);\n            this.title2.append(c);\n            this.textF1.setBounds(325,125,125,20);\n            this.passF.setBounds(325,155,125,20);\n            this.username.setText(&quot;Login:&quot;);\n            this.password.setText(&quot;Heslo:&quot;);\n            \n            this.title2.setBounds(350,50,200,200);\n            this.title2.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n            this.title2.setBackground(new Color(235, 235, 235));\n            \n            this.username.setBounds(80,100,50,70);\n            this.username.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n       \n            this.password.setBounds(80,130,50,70);      \n            this.password.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 15));\n\n            this.button1.setBounds(350,130,120,55);\n            this.button1.setBackground(Color.white);\n            this.button1.setBorder(new LineBorder(Color.black,3));\n\n            this.button2.setBounds(350,215,120,55);\n            this.button2.setBackground(Color.white);\n            this.button2.setBorder(new LineBorder(Color.black,3));\n            this.button2.setForeground(Color.black);\n            \n            \n            this.button3.setBounds(350,300,120,55);\n            this.button3.setBackground(Color.white);\n            this.button3.setBorder(new LineBorder(Color.black,3));\n\n            this.button4.setBounds(350,385,120,55);\n            this.button4.setBackground(Color.white);\n            this.button4.setBorder(new LineBorder(Color.black,3));\n\n            this.button5.setBounds(350,470,120,55);\n            this.button5.setBackground(new Color(156,156,156));\n            this.button5.setBorder(new LineBorder(Color.black,3));\n            this.button5.setForeground(Color.white);\n  \n            this.textF1.setBounds(130,125,125,20);\n            this.passF.setBounds(130,155,125,20);\n\n            this.window.add(this.button1);\n            this.window.add(this.button2);\n            this.window.add(this.button3);\n            this.window.add(this.button4);\n            \n            this.window.add(this.button5);\n            \n            this.window.add(this.title2); \n            this.window.remove(this.title); \n            this.window.add(this.textF1);\n            this.window.add(this.passF);\n            this.window.add(this.username);\n            this.window.add(this.password);\n            visOfUIElements(false);\n\n            this.window.getContentPane().setBackground(new Color(235, 235, 235));\n            this.window.setSize(820,800);  \n            this.window.setLayout(null);  \n            this.window.setVisible(true);\n            \n            break;\n        \n        }\n\n    }\n    public void actionPerformed(ActionEvent e) {\n        switch (this.menu) {\n            case 0:\n            if (e.getSource() == this.button1) {\n                this.menu = 1;            \n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 2;           \n                start();\n            }\n            break;\n            case 1:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 2:\n            if (e.getSource()== this.button1) {\n                this.menu = 4;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 3:\n            if (e.getSource() == this.button1) {\n                this.menu = 5;            \n                start();\n            } else if (e.getSource() == this.button2) {\n                this.menu = 6;           \n                start();\n            } else if (e.getSource() == this.button3) {\n                this.menu = 7;           \n                start();\n            } else if (e.getSource() == this.button4) {\n                this.menu = 8;           \n                start();\n            } else if (e.getSource() == this.button5) {\n                this.menu = 9;           \n                start();\n            } else if (e.getSource() == this.button6) {\n                this.menu = 0;           \n                start();\n            }\n            break;\n            case 4:\n            if (e.getSource() == this.button1) {\n                this.menu = 10;            \n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 11;           \n                start();\n            } else if (e.getSource()== this.button3) {\n                this.menu = 12;           \n                start();\n            } else if (e.getSource()== this.button4) {\n                this.menu = 13;           \n                start();\n            } else if (e.getSource()== this.button5) {\n                this.menu = 0;           \n                start();\n            } \n            break;\n            case 5:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 6:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 7:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 8:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 9:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 10:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 11:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 12:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n            case 13:\n            if (e.getSource()== this.button1) {\n                this.menu = 3;\n                start();\n            } else if (e.getSource()== this.button2) {\n                this.menu = 0;\n                start();\n            }\n            break;\n           \n        }    \n    }\n    \n    /*public void visOfUIElements(boolean visibility) {\n        this.username.setVisible(visibility);\n            this.password.setVisible(visibility);\n            this.textF1.setVisible(visibility);\n            this.passF.setVisible(visibility);\n    }*/\n}\n</code></pre>\n<p>Here is my code. I'm changing the layout of a UI window and need to make it more efficient so I don't write the same code hundreds of times.</p>\n"},{"tags":["java","docker","graalvm","distroless"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638125931,"creation_date":1638124900,"answer_id":70146401,"question_id":70146086,"body_markdown":"I&#39;m not sure if it will work, but you could try setting the environment variable `JAVA_TOOL_OPTIONS` to the desired value:\r\n\r\n```\r\nJAVA_TOOL_OPTIONS=-XmxNNN\r\n```\r\n\r\nFrom the [documentation](https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html):\r\n\r\n&gt; This environment variable allows you to specify the initialization of\r\n&gt; tools, specifically the launching of native or Java programming language \r\n&gt; agents using the -agentlib or -javaagent options. In the following example \r\n&gt; the environment variable is set so that the HPROF profiler is launched when &gt; the application is started:\r\n&gt;\r\n&gt; `$ export JAVA_TOOL_OPTIONS=&quot;-agentlib:hprof&quot;`\r\n&gt;\r\n&gt; This variable can also be used to augment the command line with other \r\n&gt; options for diagnostic purposes. For example, you can supply the \r\n&gt; `-XX:OnError` option to specify a script or command to be executed when a\r\n&gt; fatal error occurs.\r\n\r\n\r\nThe [GraalVM documentation](https://www.graalvm.org/reference-manual/native-image/Agent/#injecting-the-agent-via-the-process-environment) itself provides an example of use as well, although in a different context.","title":"Passing customizable options to a GraalVM image execution in a distroless environment","body":"<p>I'm not sure if it will work, but you could try setting the environment variable <code>JAVA_TOOL_OPTIONS</code> to the desired value:</p>\n<pre><code>JAVA_TOOL_OPTIONS=-XmxNNN\n</code></pre>\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>This environment variable allows you to specify the initialization of\ntools, specifically the launching of native or Java programming language\nagents using the -agentlib or -javaagent options. In the following example\nthe environment variable is set so that the HPROF profiler is launched when &gt; the application is started:</p>\n<p><code>$ export JAVA_TOOL_OPTIONS=&quot;-agentlib:hprof&quot;</code></p>\n<p>This variable can also be used to augment the command line with other\noptions for diagnostic purposes. For example, you can supply the\n<code>-XX:OnError</code> option to specify a script or command to be executed when a\nfatal error occurs.</p>\n</blockquote>\n<p>The <a href=\"https://www.graalvm.org/reference-manual/native-image/Agent/#injecting-the-agent-via-the-process-environment\" rel=\"nofollow noreferrer\">GraalVM documentation</a> itself provides an example of use as well, although in a different context.</p>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638128770,"creation_date":1638127109,"answer_id":70146688,"question_id":70146086,"body_markdown":"You could use `busybox` to get a shell inside a distroless container:\r\n\r\n```\r\nFROM gcr.io/distroless/base\r\n\r\n...\r\n\r\nCOPY --from=amd64/busybox:1.31.1 /bin/busybox /busybox/busybox\r\nRUN [&quot;/busybox/busybox&quot;, &quot;--install&quot;, &quot;/bin&quot;]\r\n\r\nCMD [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;java -version&quot;]\r\n```\r\n\r\nYou can find an example to this kind of `Dockerfile` [here](https://github.com/qaware/distroless-graalvm-ce/blob/master/20.1.0-java11/Dockerfile).\r\n\r\nBut I don&#39;t think this busybox shell is necessary needed.\r\n\r\nAltough `ENTRYPOINT /application $OPTIONS` does not work, this will work `ENTRYPOINT [&quot;myapp&quot;, &quot;arguments&quot;]`\r\n\r\n&gt; Note that distroless images by default do not contain a shell. That means the Dockerfile ENTRYPOINT command, when defined, must be specified in vector form, to avoid the container runtime prefixing with a shell.\r\n\r\nsource: [github](https://github.com/GoogleContainerTools/distroless#entrypoints)","title":"Passing customizable options to a GraalVM image execution in a distroless environment","body":"<p>You could use <code>busybox</code> to get a shell inside a distroless container:</p>\n<pre><code>FROM gcr.io/distroless/base\n\n...\n\nCOPY --from=amd64/busybox:1.31.1 /bin/busybox /busybox/busybox\nRUN [&quot;/busybox/busybox&quot;, &quot;--install&quot;, &quot;/bin&quot;]\n\nCMD [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;java -version&quot;]\n</code></pre>\n<p>You can find an example to this kind of <code>Dockerfile</code> <a href=\"https://github.com/qaware/distroless-graalvm-ce/blob/master/20.1.0-java11/Dockerfile\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>But I don't think this busybox shell is necessary needed.</p>\n<p>Altough <code>ENTRYPOINT /application $OPTIONS</code> does not work, this will work <code>ENTRYPOINT [&quot;myapp&quot;, &quot;arguments&quot;]</code></p>\n<blockquote>\n<p>Note that distroless images by default do not contain a shell. That means the Dockerfile ENTRYPOINT command, when defined, must be specified in vector form, to avoid the container runtime prefixing with a shell.</p>\n</blockquote>\n<p>source: <a href=\"https://github.com/GoogleContainerTools/distroless#entrypoints\" rel=\"nofollow noreferrer\">github</a></p>\n"}],"owner":{"account_id":4349840,"reputation":125,"user_id":3550598,"display_name":"Inqy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70146688,"answer_count":2,"score":2,"last_activity_date":1638128770,"creation_date":1638122387,"question_id":70146086,"body_markdown":"For context, I&#39;m building a java application compiled to GraalVM native image running on a [distroless][1] docker image in Kubernetes.\r\n\r\nI&#39;ve been trying to do something rather simple and hit a wall: I&#39;d like to set custom heap size limits per environment via `-XmxNNN`. To do that, the options with which I&#39;d like to run the application would be held in an environment variable. The problem arises due to the usage of a distroless image - which doesn&#39;t have bash and so `ENTRYPOINT /application $OPTIONS` doesn&#39;t work.\r\n\r\nIs there an environment variable GraalVM supports on its own, or any other way of setting this?\r\n\r\nI dont want to:\r\n - hardcode the values in the Docker image\r\n - hardcode the values by [predefining them during native-image build][2]\r\n\r\n\r\n  [1]: https://github.com/GoogleContainerTools/distroless\r\n  [2]: https://www.graalvm.org/reference-manual/native-image/MemoryManagement/#java-heap-size","title":"Passing customizable options to a GraalVM image execution in a distroless environment","body":"<p>For context, I'm building a java application compiled to GraalVM native image running on a <a href=\"https://github.com/GoogleContainerTools/distroless\" rel=\"nofollow noreferrer\">distroless</a> docker image in Kubernetes.</p>\n<p>I've been trying to do something rather simple and hit a wall: I'd like to set custom heap size limits per environment via <code>-XmxNNN</code>. To do that, the options with which I'd like to run the application would be held in an environment variable. The problem arises due to the usage of a distroless image - which doesn't have bash and so <code>ENTRYPOINT /application $OPTIONS</code> doesn't work.</p>\n<p>Is there an environment variable GraalVM supports on its own, or any other way of setting this?</p>\n<p>I dont want to:</p>\n<ul>\n<li>hardcode the values in the Docker image</li>\n<li>hardcode the values by <a href=\"https://www.graalvm.org/reference-manual/native-image/MemoryManagement/#java-heap-size\" rel=\"nofollow noreferrer\">predefining them during native-image build</a></li>\n</ul>\n"},{"tags":["java","makefile"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638128332,"post_id":70146804,"comment_id":123999379,"body_markdown":"“Don’t work” means?","body":"“Don’t work” means?"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1638128342,"post_id":70146804,"comment_id":123999383,"body_markdown":"In what millenium was a Makefile a good way to build/run Java projects?  Answer: none. Makefiles are ancient, and they don&#39;t support Java best practices, like dependency management.  I strongly suggest using Gradle.","body":"In what millenium was a Makefile a good way to build/run Java projects?  Answer: none. Makefiles are ancient, and they don&#39;t support Java best practices, like dependency management.  I strongly suggest using Gradle."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1638128637,"post_id":70146804,"comment_id":123999458,"body_markdown":"Does this answer your question? [How to run java class file which is in different directory?](https://stackoverflow.com/questions/25237345/how-to-run-java-class-file-which-is-in-different-directory)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25237345/how-to-run-java-class-file-which-is-in-different-directory\">How to run java class file which is in different directory?</a>"},{"owner":{"account_id":23481663,"reputation":1,"user_id":17533714,"display_name":"Diana"},"score":0,"creation_date":1638128779,"post_id":70146804,"comment_id":123999503,"body_markdown":"I need to use a makefile because my university demands it... So in that matter I have no choice. As for &quot;don&#39;t work&quot; I mean they do nothing, when I type make It doesn&#39;t compile anything and make clean doesn&#39;t delete any files (in vscode they both work, the problem is with intelliJ)...","body":"I need to use a makefile because my university demands it... So in that matter I have no choice. As for &quot;don&#39;t work&quot; I mean they do nothing, when I type make It doesn&#39;t compile anything and make clean doesn&#39;t delete any files (in vscode they both work, the problem is with intelliJ)..."},{"owner":{"account_id":8496744,"reputation":12357,"user_id":6371123,"display_name":"G.M."},"score":0,"creation_date":1638128835,"post_id":70146804,"comment_id":123999520,"body_markdown":"Assuming you&#39;re using `GNU make`, each line in the `make` recipe is executed (by default) in its own shell.  So the line `tests=$$(ls ./in | grep -E &quot;test[0-9]+.in&quot;)` does *not* set `tests` for the following lines.","body":"Assuming you&#39;re using <code>GNU make</code>, each line in the <code>make</code> recipe is executed (by default) in its own shell.  So the line <code>tests=$$(ls .&#47;in | grep -E &quot;test[0-9]+.in&quot;)</code> does <i>not</i> set <code>tests</code> for the following lines."},{"owner":{"account_id":23481663,"reputation":1,"user_id":17533714,"display_name":"Diana"},"score":0,"creation_date":1638129027,"post_id":70146804,"comment_id":123999567,"body_markdown":"So what can I do to get the list of test files so I can run the program for each one when I don&#39;t know how many of them are?","body":"So what can I do to get the list of test files so I can run the program for each one when I don&#39;t know how many of them are?"},{"owner":{"account_id":8496744,"reputation":12357,"user_id":6371123,"display_name":"G.M."},"score":0,"creation_date":1638129338,"post_id":70146804,"comment_id":123999637,"body_markdown":"Add a backslash.  So `tests=$$(ls ./in | grep -E &quot;test[0-9]+.in&quot;) \\ `.  There&#39;s probably a good dupe for this.","body":"Add a backslash.  So <code>tests=$$(ls .&#47;in | grep -E &quot;test[0-9]+.in&quot;) \\ </code>.  There&#39;s probably a good dupe for this."},{"owner":{"account_id":904308,"reputation":94856,"user_id":939557,"accept_rate":78,"display_name":"MadScientist"},"score":1,"creation_date":1638129762,"post_id":70146804,"comment_id":123999735,"body_markdown":"You should add a `;` and backslash, not just backslash.  Note, this is not specific to GNU make: every POSIX-style make program behaves this way.","body":"You should add a <code>;</code> and backslash, not just backslash.  Note, this is not specific to GNU make: every POSIX-style make program behaves this way."},{"owner":{"account_id":23481663,"reputation":1,"user_id":17533714,"display_name":"Diana"},"score":0,"creation_date":1638129769,"post_id":70146804,"comment_id":123999738,"body_markdown":"I managed to make it work by adding ;\\ to tests=$$(ls ./in | grep -E &quot;test[0-9]+.in&quot;) like you said and running ShortestPath instead of ShortestPath.class. Thank you for the answers!","body":"I managed to make it work by adding ;\\ to tests=$$(ls ./in | grep -E &quot;test[0-9]+.in&quot;) like you said and running ShortestPath instead of ShortestPath.class. Thank you for the answers!"},{"owner":{"account_id":8496744,"reputation":12357,"user_id":6371123,"display_name":"G.M."},"score":0,"creation_date":1638130442,"post_id":70146804,"comment_id":123999935,"body_markdown":"@MadScientist Thanks for the correction: forgot about the semicolon.","body":"@MadScientist Thanks for the correction: forgot about the semicolon."}],"owner":{"account_id":23481663,"reputation":1,"user_id":17533714,"display_name":"Diana"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638128544,"creation_date":1638128055,"question_id":70146804,"body_markdown":"I tried running an unspecified number of tests using a makefile, tested the command beforehand in bash but when I try it from the makefile it doesn&#39;t work. All it does in vscode is write the code I typed a bit modified back to me and in itelliJ even the make and clean rules don&#39;t work. The rule I&#39;m referring to is run-p1.\r\n\r\n    make:\r\n\t    javac ./src/Bucket.java ./src/Graph.java ./src/ShortestPath.java ./src/Weight.java\r\n\r\n    run-p1:\r\n\t    tests=$$(ls ./in | grep -E &quot;test[0-9]+.in&quot;)\r\n\t    for i in $$tests; do\\\r\n\t\t    java ./src/ShortestPath.class 1 &quot;$$i&quot;;\\\r\n\t    done\r\n\r\n    clean:\r\n\t    rm ./src/*.class\r\n\r\nFor testing all I did in ShortestPath.java main is this:\r\n\r\n    public static void main(String[] args) {\r\n        for(String s: args) {\r\n            System.out.println(s);\r\n        }\r\n    }","title":"Why doesn&#39;t for loop work in java makefile?","body":"<p>I tried running an unspecified number of tests using a makefile, tested the command beforehand in bash but when I try it from the makefile it doesn't work. All it does in vscode is write the code I typed a bit modified back to me and in itelliJ even the make and clean rules don't work. The rule I'm referring to is run-p1.</p>\n<pre><code>make:\n    javac ./src/Bucket.java ./src/Graph.java ./src/ShortestPath.java ./src/Weight.java\n\nrun-p1:\n    tests=$$(ls ./in | grep -E &quot;test[0-9]+.in&quot;)\n    for i in $$tests; do\\\n        java ./src/ShortestPath.class 1 &quot;$$i&quot;;\\\n    done\n\nclean:\n    rm ./src/*.class\n</code></pre>\n<p>For testing all I did in ShortestPath.java main is this:</p>\n<pre><code>public static void main(String[] args) {\n    for(String s: args) {\n        System.out.println(s);\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","browser","hyperlink","apache-poi"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1637820544,"post_id":70106300,"comment_id":123928884,"body_markdown":"Does the hyperlink get opened in the same browser and browser window as the already active session? Your browser probably doesn&#39;t send the necessary headers when you click the link in the Excel file - if it isn&#39;t opened in the same window that might be the reason why.","body":"Does the hyperlink get opened in the same browser and browser window as the already active session? Your browser probably doesn&#39;t send the necessary headers when you click the link in the Excel file - if it isn&#39;t opened in the same window that might be the reason why."},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1637820803,"post_id":70106300,"comment_id":123928946,"body_markdown":"yes. hyperlink opened in same browser which has active session.","body":"yes. hyperlink opened in same browser which has active session."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1637821428,"post_id":70106300,"comment_id":123929098,"body_markdown":"This is not a `apache poi` issue. It is how hyperlinks clicked on Office documents work. The click action tells the operating system: Here is the link, please choose the default browser and open it. It will **not** use any open sessions even if in same browser. And this is good as it is. Else every one, who knows the link, colud open the site without logon, couldn&#39;t the one?","body":"This is not a <code>apache poi</code> issue. It is how hyperlinks clicked on Office documents work. The click action tells the operating system: Here is the link, please choose the default browser and open it. It will <b>not</b> use any open sessions even if in same browser. And this is good as it is. Else every one, who knows the link, colud open the site without logon, couldn&#39;t the one?"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1637822037,"post_id":70106300,"comment_id":123929230,"body_markdown":"scenario is need to open the expected url if I&#39;m already signed in. otherwise need to redirect to login page. Any fix is there to open the expected url when user already signed in?","body":"scenario is need to open the expected url if I&#39;m already signed in. otherwise need to redirect to login page. Any fix is there to open the expected url when user already signed in?"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638128130,"creation_date":1637818881,"question_id":70106300,"body_markdown":"I&#39;m using `apache-poi:3.9` to write the excel file. In one column, I am writing a hyperLink like below \r\n\r\n\r\n    final CellStyle hlink_style = wb.createCellStyle();\r\n    final Font hlink_font = wb.createFont();\r\n    hlink_font.setUnderline(Font.U_SINGLE);\r\n    hlink_font.setColor(IndexedColors.DARK_BLUE.getIndex());\r\n    hlink_style.setFont(hlink_font);\r\n            \r\n    // sample value\r\n    String value = &quot;&lt;a href=\\&quot;https://localhost/user/UserDetailAction.do?userid=213&amp;depid=453\\&quot;&gt;&lt;/a&gt;&quot;;\r\n    final Document document = Jsoup.parse((String) value);\r\n    final String id= document.select(&quot;a&quot;).first().text();\r\n    final String url = document.select(&quot;a&quot;).first().attr(&quot;href&quot;);\r\n\r\n\r\n    final Hyperlink hyperlink = wb.getCreationHelper().createHyperlink(1);\r\n    // Tried with and without encoding\r\n    hyperlink.setAddress(URLEncoder.encode(url, StandardCharsets.UTF_8.toString()));\r\n    cell.setHyperlink(hyperlink);\r\n    cell.setCellStyle(hlink_style);\r\n    cell.setCellValue(id);\r\n\r\n\r\nIt&#39;s writing the id as hyperlink in excel(xlsx). But when I click it, it&#39;s redirected me to the login page(even when the session is active).\r\n\r\nBut when I copy the hyperlink from exel and paste it in the browser, it&#39;s working fine.\r\n\r\nHow to fix this?\r\n","title":"Excel links redirected to login page, but when the link is pasted in the browser, actual page loading","body":"<p>I'm using <code>apache-poi:3.9</code> to write the excel file. In one column, I am writing a hyperLink like below</p>\n<pre><code>final CellStyle hlink_style = wb.createCellStyle();\nfinal Font hlink_font = wb.createFont();\nhlink_font.setUnderline(Font.U_SINGLE);\nhlink_font.setColor(IndexedColors.DARK_BLUE.getIndex());\nhlink_style.setFont(hlink_font);\n        \n// sample value\nString value = &quot;&lt;a href=\\&quot;https://localhost/user/UserDetailAction.do?userid=213&amp;depid=453\\&quot;&gt;&lt;/a&gt;&quot;;\nfinal Document document = Jsoup.parse((String) value);\nfinal String id= document.select(&quot;a&quot;).first().text();\nfinal String url = document.select(&quot;a&quot;).first().attr(&quot;href&quot;);\n\n\nfinal Hyperlink hyperlink = wb.getCreationHelper().createHyperlink(1);\n// Tried with and without encoding\nhyperlink.setAddress(URLEncoder.encode(url, StandardCharsets.UTF_8.toString()));\ncell.setHyperlink(hyperlink);\ncell.setCellStyle(hlink_style);\ncell.setCellValue(id);\n</code></pre>\n<p>It's writing the id as hyperlink in excel(xlsx). But when I click it, it's redirected me to the login page(even when the session is active).</p>\n<p>But when I copy the hyperlink from exel and paste it in the browser, it's working fine.</p>\n<p>How to fix this?</p>\n"},{"tags":["java","gradle","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1481194617,"creation_date":1481122301,"answer_id":41020554,"question_id":41017544,"body_markdown":"I think that the last one(declaration in the root) is the correct one and it has to work properly, though it causes warnings in IDE. It&#39;s nowhere said, what is the prefered way to declare it and there is only one example in the [official docs][1], where it&#39;s used as:\r\n\r\n    sourceCompatibility = 1.6\r\n\r\nin the root of the `build.gradle`.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_cross_compilation","title":"How to specify source and target compatibility in Java module?","body":"<p>I think that the last one(declaration in the root) is the correct one and it has to work properly, though it causes warnings in IDE. It's nowhere said, what is the prefered way to declare it and there is only one example in the <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_cross_compilation\" rel=\"noreferrer\">official docs</a>, where it's used as:</p>\n\n<pre><code>sourceCompatibility = 1.6\n</code></pre>\n\n<p>in the root of the <code>build.gradle</code>.</p>\n"},{"tags":[],"owner":{"account_id":131269,"reputation":411,"user_id":331145,"display_name":"Jeroen Wijdemans"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1508495061,"creation_date":1496150330,"answer_id":44263437,"question_id":41017544,"body_markdown":"Compatibility needs to be specified inside the compileJava block\r\n\r\n    compileJava   {\r\n      sourceCompatibility = &#39;1.8&#39;\r\n      targetCompatibility = &#39;1.8&#39;\r\n    }\r\n\r\nIntelliJ gives this warning\r\n\r\n&gt; Access to &#39;sourceCompatibility&#39; exceeds its access rights\r\n\r\nif you use a double parameter. \r\n\r\nWhen you make the value a string (e.g. quoted) the warning will disappear.\r\n\r\n--edit--\r\n\r\nthe warning only appears using 1.8 in IntelliJ 2016. In 2017 the warning is gone using either `1.8` or `&#39;1.8&#39;`","title":"How to specify source and target compatibility in Java module?","body":"<p>Compatibility needs to be specified inside the compileJava block</p>\n\n<pre><code>compileJava   {\n  sourceCompatibility = '1.8'\n  targetCompatibility = '1.8'\n}\n</code></pre>\n\n<p>IntelliJ gives this warning</p>\n\n<blockquote>\n  <p>Access to 'sourceCompatibility' exceeds its access rights</p>\n</blockquote>\n\n<p>if you use a double parameter. </p>\n\n<p>When you make the value a string (e.g. quoted) the warning will disappear.</p>\n\n<p>--edit--</p>\n\n<p>the warning only appears using 1.8 in IntelliJ 2016. In 2017 the warning is gone using either <code>1.8</code> or <code>'1.8'</code></p>\n"},{"tags":[],"owner":{"account_id":3005837,"reputation":5552,"user_id":2550406,"accept_rate":88,"display_name":"lucidbrot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511860667,"creation_date":1511703011,"answer_id":47496681,"question_id":41017544,"body_markdown":"(As pointed out by the OP, this answer doesn&#39;t really fit the question. I&#39;d like to keep it here at the bottom though, just in case somebody else lands on this page searching for the same problem as me)\r\n\r\nFor android, the `compileJava` block that Jeroen Wijdemans suggested, does not work.\r\nWhat does work is specifying in the app build.gradle\r\n\r\n    // https://developer.android.com/studio/write/java8-support.html\r\n    // Configure only for each module that uses Java 8\r\n    // language features (either in its source code or\r\n    // through dependencies).\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\nCurrently, intellij 2017.2.6 tells me then that you need to enable Jack. So let&#39;s do that as well, by adding the following inside the android block:\r\n\r\n        // https://stackoverflow.com/questions/37004069/errorjack-is-required-to-support-java-8-language-features\r\n        jackOptions {\r\n            enabled true\r\n        }\r\n\r\nIf building now results in errors or warnings, simply rebuilding the whole project might get rid of them. (It did work for me)","title":"How to specify source and target compatibility in Java module?","body":"<p>(As pointed out by the OP, this answer doesn't really fit the question. I'd like to keep it here at the bottom though, just in case somebody else lands on this page searching for the same problem as me)</p>\n\n<p>For android, the <code>compileJava</code> block that Jeroen Wijdemans suggested, does not work.\nWhat does work is specifying in the app build.gradle</p>\n\n<pre><code>// https://developer.android.com/studio/write/java8-support.html\n// Configure only for each module that uses Java 8\n// language features (either in its source code or\n// through dependencies).\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>Currently, intellij 2017.2.6 tells me then that you need to enable Jack. So let's do that as well, by adding the following inside the android block:</p>\n\n<pre><code>    // https://stackoverflow.com/questions/37004069/errorjack-is-required-to-support-java-8-language-features\n    jackOptions {\n        enabled true\n    }\n</code></pre>\n\n<p>If building now results in errors or warnings, simply rebuilding the whole project might get rid of them. (It did work for me)</p>\n"}],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48251,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":41020554,"answer_count":3,"score":18,"last_activity_date":1638127240,"creation_date":1481113817,"question_id":41017544,"body_markdown":"I have a Gradle project consisting of an Android module (the `com.android.library` plugin is applied in the `build.gradle` file) and a Java module (the `java` plugin is applied in the `build.gradle` file). Within the `build.gradle` file of the Java module I was previously specifying the source and target compatibility as follows:\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\n    compileJava {\r\n        sourceCompatibility = 1.7\r\n        targetCompatibility = 1.7\r\n    }\r\n\r\nI&#39;ve just updated the project&#39;s &quot;Android Plugin for Gradle&quot; and &quot;Gradle Wrapper&quot; versions to the latest releases (2.2.3 and 3.2.1 respectively) and I&#39;m now seeing warnings in the Java module as follows:\r\n\r\n    Access to &#39;sourceCompatibility&#39; exceeds its access rights\r\n    Access to &#39;targetCompatibility&#39; exceeds its access rights\r\n\r\nIf I move the `sourceCompatibility` and `targetCompatibility` declarations to the root-level of the module&#39;s `build.gradle` file as follows...\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\n    sourceCompatibility = 1.7\r\n    targetCompatibility = 1.7\r\n\r\n... then I get warning messages telling me that the assignments are not used.\r\n\r\nWhat is the correct manner of specifying the source and target compatibility level of a Java module in the latest Gradle release?","title":"How to specify source and target compatibility in Java module?","body":"<p>I have a Gradle project consisting of an Android module (the <code>com.android.library</code> plugin is applied in the <code>build.gradle</code> file) and a Java module (the <code>java</code> plugin is applied in the <code>build.gradle</code> file). Within the <code>build.gradle</code> file of the Java module I was previously specifying the source and target compatibility as follows:</p>\n\n<pre><code>apply plugin: 'java'\n\ncompileJava {\n    sourceCompatibility = 1.7\n    targetCompatibility = 1.7\n}\n</code></pre>\n\n<p>I've just updated the project's \"Android Plugin for Gradle\" and \"Gradle Wrapper\" versions to the latest releases (2.2.3 and 3.2.1 respectively) and I'm now seeing warnings in the Java module as follows:</p>\n\n<pre><code>Access to 'sourceCompatibility' exceeds its access rights\nAccess to 'targetCompatibility' exceeds its access rights\n</code></pre>\n\n<p>If I move the <code>sourceCompatibility</code> and <code>targetCompatibility</code> declarations to the root-level of the module's <code>build.gradle</code> file as follows...</p>\n\n<pre><code>apply plugin: 'java'\n\nsourceCompatibility = 1.7\ntargetCompatibility = 1.7\n</code></pre>\n\n<p>... then I get warning messages telling me that the assignments are not used.</p>\n\n<p>What is the correct manner of specifying the source and target compatibility level of a Java module in the latest Gradle release?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-security"],"comments":[{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":1,"creation_date":1638224798,"post_id":70144751,"comment_id":124027334,"body_markdown":"Does [this answer](https://stackoverflow.com/a/65664998/15835039) your question?","body":"Does <a href=\"https://stackoverflow.com/a/65664998/15835039\">this answer</a> your question?"}],"answers":[{"tags":[],"owner":{"account_id":15195708,"reputation":68,"user_id":17397404,"display_name":"Segev Malool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638127180,"creation_date":1638127180,"answer_id":70146694,"question_id":70144751,"body_markdown":"I think a simpler solution might be to match the path prefix first (using ant/path pattern), then define an authentication criterion for that path in line. \r\n\r\nThis is very similar to the usual examples (see example usage https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html).\r\n\r\nIs the &quot;api-secret-key&quot; the same for all users of the api endpoint? If so, you could just create a shared &quot;user&quot; to satisfy this requirement (which is what spring does by default), although this is NOT secure in general. If not, then what is the criterion for validating the &quot;api-secret-key&quot;? \r\n\r\nYou shouldn&#39;t need multiple filter chains to check these criteria (see filter chain docs https://docs.spring.io/spring-security/reference/servlet/architecture.html).\r\n\r\n","title":"How to design two seperate authorization/authentication configurations in spring boot?","body":"<p>I think a simpler solution might be to match the path prefix first (using ant/path pattern), then define an authentication criterion for that path in line.</p>\n<p>This is very similar to the usual examples (see example usage <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html</a>).</p>\n<p>Is the &quot;api-secret-key&quot; the same for all users of the api endpoint? If so, you could just create a shared &quot;user&quot; to satisfy this requirement (which is what spring does by default), although this is NOT secure in general. If not, then what is the criterion for validating the &quot;api-secret-key&quot;?</p>\n<p>You shouldn't need multiple filter chains to check these criteria (see filter chain docs <a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/architecture.html</a>).</p>\n"}],"owner":{"account_id":18414116,"reputation":3,"user_id":13413541,"display_name":"coding_philosophy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70146694,"answer_count":1,"score":0,"last_activity_date":1638127180,"creation_date":1638112650,"question_id":70144751,"body_markdown":"I want to implement authentication and authorization for spring boot application with this design:\r\n\r\nFirst group of endpoints (&quot;/api/**) will have authorization by passing the api-secret-key through requests headers. Authentication should be permitted for all.\r\n\r\nSecond group (/admin/**) will have authentication by hitting the /login endpoint passing username and password where I will have custom UserDetailService. If the authentication is good, the token will be returned and used for authorizing for other endpoints.\r\n\r\nI had idea to implement:\r\n- Two WebSecurityConfiguration (s)\r\n- Two Filters\r\n\r\nI am constantly failing and I think the problem is in my aproach to the problem.\r\nHere is the [initial](https://stackoverflow.com/questions/70137839/multiple-filters-and-websecurityconfigurations-not-worrking-correctly) question that has already implemented code, but I would like someone to suggest different approach ","title":"How to design two seperate authorization/authentication configurations in spring boot?","body":"<p>I want to implement authentication and authorization for spring boot application with this design:</p>\n<p>First group of endpoints (&quot;/api/**) will have authorization by passing the api-secret-key through requests headers. Authentication should be permitted for all.</p>\n<p>Second group (/admin/**) will have authentication by hitting the /login endpoint passing username and password where I will have custom UserDetailService. If the authentication is good, the token will be returned and used for authorizing for other endpoints.</p>\n<p>I had idea to implement:</p>\n<ul>\n<li>Two WebSecurityConfiguration (s)</li>\n<li>Two Filters</li>\n</ul>\n<p>I am constantly failing and I think the problem is in my aproach to the problem.\nHere is the <a href=\"https://stackoverflow.com/questions/70137839/multiple-filters-and-websecurityconfigurations-not-worrking-correctly\">initial</a> question that has already implemented code, but I would like someone to suggest different approach</p>\n"},{"tags":["java","parsing","jaxb"],"answers":[{"tags":[],"owner":{"account_id":15652453,"reputation":10,"user_id":11293590,"display_name":"Mary Fernandes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579603398,"creation_date":1579603398,"answer_id":59839307,"question_id":59650366,"body_markdown":"You can change the name to @XmlElement(name = &quot;ip-addresses&quot;)\r\n\r\nYou can also make a pojo of ip-addresses and can access the tag through it \r\n\r\n    @XmlRootElement(&quot;ip-addresses&quot;)\r\n    class Ip_Addresses{\r\n    String ip_address\r\n    \r\n    @XmlElement(&quot;ip-addresses&quot;)\r\n    public String getIp_Address(){\r\n    return ip_addresses\r\n    }\r\n    }\r\n\r\nI hope this helps","title":"JaxB unmarshalling a strange XML with duplicate tags","body":"<p>You can change the name to @XmlElement(name = \"ip-addresses\")</p>\n\n<p>You can also make a pojo of ip-addresses and can access the tag through it </p>\n\n<pre><code>@XmlRootElement(\"ip-addresses\")\nclass Ip_Addresses{\nString ip_address\n\n@XmlElement(\"ip-addresses\")\npublic String getIp_Address(){\nreturn ip_addresses\n}\n}\n</code></pre>\n\n<p>I hope this helps</p>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638126902,"creation_date":1638126902,"answer_id":70146665,"question_id":59650366,"body_markdown":"There is a simple solution to this.\r\nIt uses the [`@XmlElementWrapper` annotation][1].\r\nFurthermore, you don&#39;t need the `IPAddress` class,\r\nbut instead can use `String` directly.\r\n\r\nThen your `Response` class will look like this:\r\n\r\n    @XmlRootElement(name = &quot;Response&quot;)\r\n    public class Response {\r\n        public Response() {\r\n        }\r\n\r\n        public Response(List&lt;String&gt; ipAddresses){\r\n            this.ipAddresses = ipAddresses; \r\n        }\r\n\r\n        private List&lt;String&gt; ipAddresses = null;\r\n\r\n        @XmlElementWrapper(name = &quot;ip-addresses&quot;)\r\n        @XmlElement(name = &quot;ip-addresses&quot;)\r\n        public List&lt;String&gt; getIpAddresses() {\r\n            return ipAddresses;\r\n        }\r\n\r\n        public void setIpAddresses(List&lt;String&gt; ipAddresses) {\r\n            this.ipAddresses = ipAddresses;\r\n        }\r\n    }\r\n\t\r\n [1]: https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlElementWrapper.html\r\n ","title":"JaxB unmarshalling a strange XML with duplicate tags","body":"<p>There is a simple solution to this.\nIt uses the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlElementWrapper.html\" rel=\"nofollow noreferrer\"><code>@XmlElementWrapper</code> annotation</a>.\nFurthermore, you don't need the <code>IPAddress</code> class,\nbut instead can use <code>String</code> directly.</p>\n<p>Then your <code>Response</code> class will look like this:</p>\n<pre><code>@XmlRootElement(name = &quot;Response&quot;)\npublic class Response {\n    public Response() {\n    }\n\n    public Response(List&lt;String&gt; ipAddresses){\n        this.ipAddresses = ipAddresses; \n    }\n\n    private List&lt;String&gt; ipAddresses = null;\n\n    @XmlElementWrapper(name = &quot;ip-addresses&quot;)\n    @XmlElement(name = &quot;ip-addresses&quot;)\n    public List&lt;String&gt; getIpAddresses() {\n        return ipAddresses;\n    }\n\n    public void setIpAddresses(List&lt;String&gt; ipAddresses) {\n        this.ipAddresses = ipAddresses;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3300110,"reputation":21,"user_id":2776475,"display_name":"user2776475"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638126902,"creation_date":1578501994,"question_id":59650366,"body_markdown":"Have a really strange XML coming from a REST service that I cannot change.\r\n\r\n```xml\r\n&lt;Response&gt;\r\n&lt;ip-addresses&gt;\r\n   &lt;ip-addresses&gt;ip1&lt;/ip-addresses&gt;\r\n   &lt;ip-addresses&gt;ip2&lt;/ip-addresses&gt;\r\n&lt;/ip-addresses&gt;\r\n&lt;/Response&gt;\r\n```\r\n\r\nObviously this is an error, the inner tag should be `&lt;ip-address&gt;` and not `&lt;ip-addresses&gt;`. But there is nothing I can do about it, I just need to grab it and parse it. Is there anyway Jaxb can help in this strange situation? \r\n\r\nI coded a model class: `IpAddress.java` with just 1 String inside: \r\n\r\n```java\r\npublic class IPAddress {\r\n\r\n    public IPAddress() {\r\n    }\r\n\r\n    public IPAddress(String ipAddress) {\r\n        super();\r\n        this.ipAddress = ipAddress;\r\n    }\r\n\r\n    private String ipAddress = null;\r\n\r\n    @XmlElement(name = &quot;ip-address&quot;)\r\n    public String getIpAddress() {\r\n        return ipAddress;\r\n    }\r\n\r\n    public void setIpAddress(String ipAddress) {\r\n        this.ipAddress = ipAddress;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAlso have a response class like this: \r\n\r\n```java\r\npublic class Response {\r\n    public Response() {\r\n    }\r\n\r\n    public Response(List&lt;IPAddress&gt; ipAddress){\r\n        this.ipAddress = ipAddress; \r\n    }\r\n    private List&lt;IPAddress&gt; ipAddress = null;\r\n\r\n    @XmlElement(name = &quot;ip-address&quot;)\r\n    public List&lt;IPAddress&gt; getIpAddress() {\r\n        return ipAddress;\r\n    }\r\n\r\n    public void setIpAddress(List&lt;IPAddress&gt; ipAddress) {\r\n        this.ipAddress = ipAddress;\r\n    }\r\n}\r\n```\r\n\r\nWhen I run it, strangely the code stops (in debug) inside the setter method of the `IpAddress` class and reads the values (ip1, ip2). And next the setter of the Response class is called but the value to be set (`List&lt;IPAddress&gt; ipAddress`) is null. \r\n\r\nAny ideas on how to code this to have the list of IPs considering the XML cannot be changed?\r\n","title":"JaxB unmarshalling a strange XML with duplicate tags","body":"<p>Have a really strange XML coming from a REST service that I cannot change.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Response&gt;\n&lt;ip-addresses&gt;\n   &lt;ip-addresses&gt;ip1&lt;/ip-addresses&gt;\n   &lt;ip-addresses&gt;ip2&lt;/ip-addresses&gt;\n&lt;/ip-addresses&gt;\n&lt;/Response&gt;\n</code></pre>\n<p>Obviously this is an error, the inner tag should be <code>&lt;ip-address&gt;</code> and not <code>&lt;ip-addresses&gt;</code>. But there is nothing I can do about it, I just need to grab it and parse it. Is there anyway Jaxb can help in this strange situation?</p>\n<p>I coded a model class: <code>IpAddress.java</code> with just 1 String inside:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IPAddress {\n\n    public IPAddress() {\n    }\n\n    public IPAddress(String ipAddress) {\n        super();\n        this.ipAddress = ipAddress;\n    }\n\n    private String ipAddress = null;\n\n    @XmlElement(name = &quot;ip-address&quot;)\n    public String getIpAddress() {\n        return ipAddress;\n    }\n\n    public void setIpAddress(String ipAddress) {\n        this.ipAddress = ipAddress;\n    }\n}\n</code></pre>\n<p>Also have a response class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Response {\n    public Response() {\n    }\n\n    public Response(List&lt;IPAddress&gt; ipAddress){\n        this.ipAddress = ipAddress; \n    }\n    private List&lt;IPAddress&gt; ipAddress = null;\n\n    @XmlElement(name = &quot;ip-address&quot;)\n    public List&lt;IPAddress&gt; getIpAddress() {\n        return ipAddress;\n    }\n\n    public void setIpAddress(List&lt;IPAddress&gt; ipAddress) {\n        this.ipAddress = ipAddress;\n    }\n}\n</code></pre>\n<p>When I run it, strangely the code stops (in debug) inside the setter method of the <code>IpAddress</code> class and reads the values (ip1, ip2). And next the setter of the Response class is called but the value to be set (<code>List&lt;IPAddress&gt; ipAddress</code>) is null.</p>\n<p>Any ideas on how to code this to have the list of IPs considering the XML cannot be changed?</p>\n"},{"tags":["java","clojure","clojure-java-interop"],"answers":[{"tags":[],"owner":{"account_id":991688,"reputation":4726,"user_id":1008794,"display_name":"Rulle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638126822,"creation_date":1638126822,"answer_id":70146651,"question_id":70146201,"body_markdown":"I would use the [newInstance](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--) method to create a new instance from `my-class` that is of type [java.lang.Class](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html):\r\n\r\n```clj\r\n(let [my-class my-clojure-class]\r\n  (java_function (.newInstance my-class)))\r\n\r\n```","title":"How do I pass a class to new indirectly in clojure","body":"<p>I would use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\" rel=\"nofollow noreferrer\">newInstance</a> method to create a new instance from <code>my-class</code> that is of type <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">java.lang.Class</a>:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(let [my-class my-clojure-class]\n  (java_function (.newInstance my-class)))\n\n</code></pre>\n"}],"owner":{"account_id":18017998,"reputation":65,"user_id":13096021,"display_name":"gash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70146651,"answer_count":1,"score":0,"last_activity_date":1638126822,"creation_date":1638123392,"question_id":70146201,"body_markdown":"I have a clojure class (a namespace with a `(:gen-class)` clause). \r\nI then need to pass a constructed object to a java function. \r\nthis works\r\n``` \r\n (java_function (my-clojure-class.))\r\n```\r\nHowever, if I need to refer to the class indirectly, that runs into some problems \r\nbecause `new` does not evaluate its argument. I am able to get the desired result by using\r\n```\r\n(let [my-class my-clojure-class]\r\n     (java_function \r\n         (eval `(new ~(symbol (. my-class getName))))))\r\n```\r\n\r\nWhile this works it feels clunky. Is there a cleaner way or am I missing something ? \r\n\r\n\r\n \r\n\r\n ","title":"How do I pass a class to new indirectly in clojure","body":"<p>I have a clojure class (a namespace with a <code>(:gen-class)</code> clause).\nI then need to pass a constructed object to a java function.\nthis works</p>\n<pre><code> (java_function (my-clojure-class.))\n</code></pre>\n<p>However, if I need to refer to the class indirectly, that runs into some problems\nbecause <code>new</code> does not evaluate its argument. I am able to get the desired result by using</p>\n<pre><code>(let [my-class my-clojure-class]\n     (java_function \n         (eval `(new ~(symbol (. my-class getName))))))\n</code></pre>\n<p>While this works it feels clunky. Is there a cleaner way or am I missing something ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1638041441,"post_id":70138011,"comment_id":123983874,"body_markdown":"Which database are you using? MySQL, Postgres...or something else?","body":"Which database are you using? MySQL, Postgres...or something else?"},{"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"score":0,"creation_date":1638043536,"post_id":70138011,"comment_id":123984342,"body_markdown":"@ErvinSzilagyi postgres","body":"@ErvinSzilagyi postgres"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":1,"creation_date":1638043598,"post_id":70138011,"comment_id":123984353,"body_markdown":"For Postgres you can use `SERIAL`. See: https://stackoverflow.com/questions/787722/postgresql-autoincrement","body":"For Postgres you can use <code>SERIAL</code>. See: <a href=\"https://stackoverflow.com/questions/787722/postgresql-autoincrement\" title=\"postgresql autoincrement\">stackoverflow.com/questions/787722/postgresql-autoincrement</a>"},{"owner":{"account_id":149941,"reputation":2907,"user_id":362792,"display_name":"Hitobat"},"score":1,"creation_date":1638044194,"post_id":70138011,"comment_id":123984465,"body_markdown":"If using postgres you can also use sql `INSERT INTO people (name) VALUES (?) RETURNING id`. This will add new row, and tell you what is id (or other returning columns) using just single query statement.","body":"If using postgres you can also use sql <code>INSERT INTO people (name) VALUES (?) RETURNING id</code>. This will add new row, and tell you what is id (or other returning columns) using just single query statement."},{"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"score":0,"creation_date":1638044789,"post_id":70138011,"comment_id":123984580,"body_markdown":"@ErvinSzilagyi I am using serial, but whenever the addPerson returns person in postman it says that the id is 0, but when I fetch again on get request the id is correct.","body":"@ErvinSzilagyi I am using serial, but whenever the addPerson returns person in postman it says that the id is 0, but when I fetch again on get request the id is correct."},{"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"score":0,"creation_date":1638121351,"post_id":70138011,"comment_id":123997633,"body_markdown":"@Hitobat when I added `RETURNING id` I get an error `A result was returned when none was expected`","body":"@Hitobat when I added <code>RETURNING id</code> I get an error <code>A result was returned when none was expected</code>"},{"owner":{"account_id":149941,"reputation":2907,"user_id":362792,"display_name":"Hitobat"},"score":0,"creation_date":1638125526,"post_id":70138011,"comment_id":123998678,"body_markdown":"You need to use jdbcTemplate `query` or `execute` method if you want to use returning. Because update method does not allow return value.","body":"You need to use jdbcTemplate <code>query</code> or <code>execute</code> method if you want to use returning. Because update method does not allow return value."},{"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"score":0,"creation_date":1638126174,"post_id":70138011,"comment_id":123998834,"body_markdown":"@Hitobat I am using spring boot, what should I return then after `POST` and `PUT` method?","body":"@Hitobat I am using spring boot, what should I return then after <code>POST</code> and <code>PUT</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":149941,"reputation":2907,"user_id":362792,"display_name":"Hitobat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638126800,"creation_date":1638126800,"answer_id":70146648,"question_id":70138011,"body_markdown":"It seems you need to apply back the database-generated ID to the Java object. \r\nSince you say you&#39;re using Postgres you can use a RETURNING clause to do this.\r\n\r\nI think there&#39;s a more general way in Spring Boot but I can&#39;t remember, so there may be a better answer which covers all databases.\r\n\r\n```java\r\npublic Person addPerson(Person person) {\r\n  String sql = &quot;INSERT INTO people (name) values (?) RETURNING id&quot;;\r\n  Object[] params = new Object[]{ person.getName() };\r\n  int newId = jdbcTemplate.queryForObject(sql, params, Integer.class);\r\n  person.setId(newId);\r\n  return person;\r\n}\r\n```","title":"Increment id based on last person in sql","body":"<p>It seems you need to apply back the database-generated ID to the Java object.\nSince you say you're using Postgres you can use a RETURNING clause to do this.</p>\n<p>I think there's a more general way in Spring Boot but I can't remember, so there may be a better answer which covers all databases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Person addPerson(Person person) {\n  String sql = &quot;INSERT INTO people (name) values (?) RETURNING id&quot;;\n  Object[] params = new Object[]{ person.getName() };\n  int newId = jdbcTemplate.queryForObject(sql, params, Integer.class);\n  person.setId(newId);\n  return person;\n}\n</code></pre>\n"}],"owner":{"account_id":18371181,"reputation":1896,"user_id":13381244,"display_name":"Dave"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638126800,"creation_date":1638041125,"question_id":70138011,"body_markdown":"Whenever I am inserting the person, I want to get the id of the last person, and automatically increment it by 1 and if it doesn&#39;t exist give id of 1. Where do I need to set this up, and what do I need to use? I think it should be done in the getter or?\r\n\r\nPerson with getters and setters\r\n```java\r\npublic class Person {\r\n     int id;\r\n     int name;\r\n }\r\n```\r\n\r\nPerson Data Access Object\r\n```java\r\n\r\npublic Person addPerson(Person person) {\r\n  String sql = &quot;INSERT INTO people (id, name) values (?, ?);&quot;\r\n  jdbcTemplate.update(sql, person.getId(), person.getName());\r\n  \r\n  return person;\r\n}\r\n```","title":"Increment id based on last person in sql","body":"<p>Whenever I am inserting the person, I want to get the id of the last person, and automatically increment it by 1 and if it doesn't exist give id of 1. Where do I need to set this up, and what do I need to use? I think it should be done in the getter or?</p>\n<p>Person with getters and setters</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n     int id;\n     int name;\n }\n</code></pre>\n<p>Person Data Access Object</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Person addPerson(Person person) {\n  String sql = &quot;INSERT INTO people (id, name) values (?, ?);&quot;\n  jdbcTemplate.update(sql, person.getId(), person.getName());\n  \n  return person;\n}\n</code></pre>\n"},{"tags":["java","jar","classloader","java-11"],"comments":[{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1637678143,"post_id":70066951,"comment_id":123886842,"body_markdown":"Did you get any output regarding your custom class loader on startup?","body":"Did you get any output regarding your custom class loader on startup?"},{"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"score":0,"creation_date":1637692564,"post_id":70066951,"comment_id":123893070,"body_markdown":"Not particular. Only thing that is logged are the arguments like this: arg=-Dfile.encoding=UTF-8\narg=-Djava.system.class.loader=DynamicClassLoader, but no further loging. On dev there is a message  &quot;org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created Restart ClassLoader&quot;, but this is not on prod (and doesn&#39;t make at difference on the working/error).","body":"Not particular. Only thing that is logged are the arguments like this: arg=-Dfile.encoding=UTF-8 arg=-Djava.system.class.loader=DynamicClassLoader, but no further loging. On dev there is a message  &quot;org.springframework.boot.devtools.restart.classloader.Resta&zwnj;&#8203;rtClassLoader - Created Restart ClassLoader&quot;, but this is not on prod (and doesn&#39;t make at difference on the working/error)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637693927,"post_id":70066951,"comment_id":123893539,"body_markdown":"I just tried it and this system property still works. You may add log statements to see whether your class gets loaded+initialized, and the constructor gets called, etc. But why are you using Reflection to invoke your own `public` method `DynamicClassLoader .addURL`? And is it really necessary to add the jar to the system class loader, can’t you just load the classes through a new `URLClassLoader`?","body":"I just tried it and this system property still works. You may add log statements to see whether your class gets loaded+initialized, and the constructor gets called, etc. But why are you using Reflection to invoke your own <code>public</code> method <code>DynamicClassLoader .addURL</code>? And is it really necessary to add the jar to the system class loader, can’t you just load the classes through a new <code>URLClassLoader</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637694792,"post_id":70066951,"comment_id":123893855,"body_markdown":"See https://ideone.com/dJy18T","body":"See <a href=\"https://ideone.com/dJy18T\" rel=\"nofollow noreferrer\">ideone.com/dJy18T</a>"},{"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"score":0,"creation_date":1637697488,"post_id":70066951,"comment_id":123894828,"body_markdown":"I reused your code in my Spring boot app. I get the following output: ClassLoader.getSystemClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@67424e82","body":"I reused your code in my Spring boot app. I get the following output: ClassLoader.getSystemClassLoader(): jdk.internal.loader.ClassLoaders$AppClassLoader@67424e82"},{"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"score":0,"creation_date":1637697692,"post_id":70066951,"comment_id":123894898,"body_markdown":"On your second question. The goal is to load/instantiate a jar file dynamically in runtime. In JDK8 a common way was to use the URLClassLoader (and reflection). From 9+ the addUrl method is protected so it has to be some other way (reflection or not). One approach is the extend URLClassLoader and make the addUrl method public.","body":"On your second question. The goal is to load/instantiate a jar file dynamically in runtime. In JDK8 a common way was to use the URLClassLoader (and reflection). From 9+ the addUrl method is protected so it has to be some other way (reflection or not). One approach is the extend URLClassLoader and make the addUrl method public."},{"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"score":0,"creation_date":1637706692,"post_id":70066951,"comment_id":123897683,"body_markdown":"Seems like I am running into the following: https://stackoverflow.com/questions/64388395/spring-boot-runnable-jar-cant-find-classloader-set-via-java-system-class-loader","body":"Seems like I am running into the following: <a href=\"https://stackoverflow.com/questions/64388395/spring-boot-runnable-jar-cant-find-classloader-set-via-java-system-class-loader\" title=\"spring boot runnable jar cant find classloader set via java system class loader\">stackoverflow.com/questions/64388395/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637752887,"post_id":70066951,"comment_id":123908854,"body_markdown":"Of course, for the `java.system.class.loader` to work, the specified class must be loadable by the standard class loader. You didn’t mention that your class loader is stored in a non-standard way, but how is this supposed to work anyway? Besides that, you didn’t answer the question. Yes, using an `URLClassLoader` is a common way. If you use it the official way, by creating a new `URLClassLoader`, you don’t need Reflection and it still works. So, the still unanswered question is whether you really need to add the jar *to the system class loader* and can’t use the official way.","body":"Of course, for the <code>java.system.class.loader</code> to work, the specified class must be loadable by the standard class loader. You didn’t mention that your class loader is stored in a non-standard way, but how is this supposed to work anyway? Besides that, you didn’t answer the question. Yes, using an <code>URLClassLoader</code> is a common way. If you use it the official way, by creating a new <code>URLClassLoader</code>, you don’t need Reflection and it still works. So, the still unanswered question is whether you really need to add the jar <i>to the system class loader</i> and can’t use the official way."},{"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"score":0,"creation_date":1637754593,"post_id":70066951,"comment_id":123909509,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/239541/discussion-between-user2209562-and-holger).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/239541/discussion-between-user2209562-and-holger\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637963998,"creation_date":1637963998,"answer_id":70130412,"question_id":70066951,"body_markdown":"Changing the `ClassLoader` of a running application is a terrible idea. Specially changing the system `ClassLoader` as you&#39;re trying to do.\r\n\r\nThe JVM loads classes lazily as it executes, then caches them on first load. Interfering with that process may cause serious issues for your application stability.\r\n\r\nUsing reflection to access internal methods of `URLClassLoader`, as you&#39;re doing, will just cause your application to become tied to particular JDK versions where your code happens to work, but it&#39;s not guaranteed to keep working as you upgrade to newer JDK versions, or even JDK from different vendors.\r\n\r\nThere are ways to do this though, but it&#39;s far from trivial.\r\n\r\nFor example, [OSGi](https://www.osgi.org/) is a system that adds this feature to the JVM, but you must change your application to fit into the OSGi model, which is not very easy. One of its main attractions is exactly that it allows you to install bundles (jars with OSGi metadata), remove them, and even upgrade them all without restarting your application.\r\n\r\nIt does that by isolating all jars into their own `ClassLoader`s (to simplify things a bit) and calculating which classes are exported/imported by each bundle, then making sure that each `ClassLoader` can see the necessary classes from others as necessary (which is hard!).\r\n\r\nYou can have a simple dynamic loading mechanism, though, by creating new instances of [`URLClassLoader`](https://docs.oracle.com/javase/9/docs/api/java/net/URLClassLoader.html) for each group of jars you want to load at runtime.\r\n\r\nIt works like this, approximately:\r\n\r\n```java\r\nURL[] jars = { ... };\r\n\r\n// you can pass a parent loader to the constructor...\r\n// it will delegate first, so already loaded classes are not tried to reload\r\nvar loader = new URLClassLoader(jars);\r\n\r\n// once you have a ClassLoader, you may use it to load classes provided\r\n// by the new jars\r\nClass&lt;?&gt; type = loader.loadClass(&quot;DynamicClass&quot;);\r\n\r\n// do something with this class?\r\n// But you must cast it to some type that&#39;s known in the current class-path,\r\n// otherwise this class is only usable by reflection!\r\n\r\n// For example, if you know this class must implement Runnable and it has\r\n// a default constructor, you may be able to do this:\r\nvar runnable = (Runnable) type.newInstance();\r\n\r\n// as we now know the type, we can actually use it type-safely\r\nrunnable.run();\r\n\r\n```","title":"How to load JAR files dynamically at Runtime in JDK11+?","body":"<p>Changing the <code>ClassLoader</code> of a running application is a terrible idea. Specially changing the system <code>ClassLoader</code> as you're trying to do.</p>\n<p>The JVM loads classes lazily as it executes, then caches them on first load. Interfering with that process may cause serious issues for your application stability.</p>\n<p>Using reflection to access internal methods of <code>URLClassLoader</code>, as you're doing, will just cause your application to become tied to particular JDK versions where your code happens to work, but it's not guaranteed to keep working as you upgrade to newer JDK versions, or even JDK from different vendors.</p>\n<p>There are ways to do this though, but it's far from trivial.</p>\n<p>For example, <a href=\"https://www.osgi.org/\" rel=\"nofollow noreferrer\">OSGi</a> is a system that adds this feature to the JVM, but you must change your application to fit into the OSGi model, which is not very easy. One of its main attractions is exactly that it allows you to install bundles (jars with OSGi metadata), remove them, and even upgrade them all without restarting your application.</p>\n<p>It does that by isolating all jars into their own <code>ClassLoader</code>s (to simplify things a bit) and calculating which classes are exported/imported by each bundle, then making sure that each <code>ClassLoader</code> can see the necessary classes from others as necessary (which is hard!).</p>\n<p>You can have a simple dynamic loading mechanism, though, by creating new instances of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\"><code>URLClassLoader</code></a> for each group of jars you want to load at runtime.</p>\n<p>It works like this, approximately:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL[] jars = { ... };\n\n// you can pass a parent loader to the constructor...\n// it will delegate first, so already loaded classes are not tried to reload\nvar loader = new URLClassLoader(jars);\n\n// once you have a ClassLoader, you may use it to load classes provided\n// by the new jars\nClass&lt;?&gt; type = loader.loadClass(&quot;DynamicClass&quot;);\n\n// do something with this class?\n// But you must cast it to some type that's known in the current class-path,\n// otherwise this class is only usable by reflection!\n\n// For example, if you know this class must implement Runnable and it has\n// a default constructor, you may be able to do this:\nvar runnable = (Runnable) type.newInstance();\n\n// as we now know the type, we can actually use it type-safely\nrunnable.run();\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638126457,"creation_date":1638126457,"answer_id":70146597,"question_id":70066951,"body_markdown":"Based on the discussion in the comment section, I was able to find a solution. This maybe not as generic as I hoped for and assumes that you know the class to use (opposite to just add the Maven dependency to your pom.xml or the old JDK8 solution).\r\n\r\n1. Download the Maven dependencies (using [Jeka][1])\r\n\r\n```java\r\n\r\nList&lt;Path&gt; paths = resolveDependency(groupId, artifactId, version);\r\n\r\npublic List&lt;Path&gt; resolveDependency(String groupId, String artifactId, String version) throws Exception {\r\n    \t\r\n        String dependency = groupId + &quot;:&quot; + artifactId + &quot;:&quot; + version;\r\n        \r\n        JkDependencySet deps = JkDependencySet.of()\r\n                .and(dependency)\r\n                .withDefaultScopes(COMPILE_AND_RUNTIME);\r\n\r\n        JkDependencyResolver resolver = JkDependencyResolver.of(JkRepo.ofMavenCentral());\r\n        List&lt;Path&gt; paths = resolver.resolve(deps, RUNTIME).getFiles().getEntries();\r\n\r\n        return paths;\r\n\r\n\t}\r\n```\r\n\r\n2. Load the jar files\r\n\r\n\r\n\r\n\r\n```java\r\n\r\nList&lt;Class&gt; classes = loadDependency(paths);\r\n\r\npublic List&lt;Class&gt; loadDependency(List&lt;Path&gt; paths) throws Exception {\r\n\r\n        List&lt;Class&gt; classes = new ArrayList&lt;&gt;();\r\n\r\n        for(Path path: paths){\r\n\r\n            URL url = path.toUri().toURL();\r\n            URLClassLoader child = new URLClassLoader(new URL[] {url}, this.getClass().getClassLoader());\r\n\r\n            ArrayList&lt;String&gt; classNames = getClassNamesFromJar(path.toString());\r\n\r\n            for (String className : classNames) {\r\n                Class classToLoad = Class.forName(className, true, child);\r\n                classes.add(classToLoad);\r\n            }\r\n        }\r\n\r\n        return classes;\r\n\r\n    }\r\n\r\n\r\n    // Returns an arraylist of class names in a JarInputStream\r\n    private ArrayList&lt;String&gt; getClassNamesFromJar(JarInputStream jarFile) throws Exception {\r\n        ArrayList&lt;String&gt; classNames = new ArrayList&lt;&gt;();\r\n        try {\r\n            //JarInputStream jarFile = new JarInputStream(jarFileStream);\r\n            JarEntry jar;\r\n\r\n            //Iterate through the contents of the jar file\r\n            while (true) {\r\n                jar = jarFile.getNextJarEntry();\r\n                if (jar == null) {\r\n                    break;\r\n                }\r\n                //Pick file that has the extension of .class\r\n                if ((jar.getName().endsWith(&quot;.class&quot;))) {\r\n                    String className = jar.getName().replaceAll(&quot;/&quot;, &quot;\\\\.&quot;);\r\n                    String myClass = className.substring(0, className.lastIndexOf(&#39;.&#39;));\r\n                    classNames.add(myClass);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            throw new Exception(&quot;Error while getting class names from jar&quot;, e);\r\n        }\r\n        return classNames;\r\n    }\r\n\r\n\r\n// Returns an arraylist of class names in a JarInputStream\r\n// Calls the above function by converting the jar path to a stream\r\nprivate ArrayList&lt;String&gt; getClassNamesFromJar(String jarPath) throws Exception {\r\n        return getClassNamesFromJar(new JarInputStream(new FileInputStream(jarPath)));\r\n    }\r\n\r\n```\r\n\r\n3. Use the class\r\n\r\nLike Renato points out, know you need to know the class to use it. In my case it&#39;s a Camel component which I need to cast and add to this framework. The classes are what you retrieved in the second step and the scheme is the name of the [component][2].\r\n\r\n```java\r\n\r\nComponent camelComponent = getComponent(classes, scheme);\r\ncontext.addComponent(scheme, camelComponent);\r\n\r\npublic Component getComponent(List&lt;Class&gt; classes, String scheme) throws Exception {\r\n\r\n\t\tComponent component = null;\r\n\t\tfor(Class classToLoad: classes){\r\n\t\t\tString className = classToLoad.getName().toLowerCase();\r\n\t\t\tif(className.endsWith(scheme + &quot;component&quot;)){\r\n\t\t\t\tObject object =  classToLoad.newInstance();\r\n\t\t\t\tcomponent = (Component) object;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn component;\r\n\t}\r\n```\r\n\r\nThus, the second part is to make it dynamically available. Added the first and third part to have an example of a complete solution.\r\n\r\n\r\n  [1]: https://jeka.dev/\r\n  [2]: https://camel.apache.org/components/next/","title":"How to load JAR files dynamically at Runtime in JDK11+?","body":"<p>Based on the discussion in the comment section, I was able to find a solution. This maybe not as generic as I hoped for and assumes that you know the class to use (opposite to just add the Maven dependency to your pom.xml or the old JDK8 solution).</p>\n<ol>\n<li>Download the Maven dependencies (using <a href=\"https://jeka.dev/\" rel=\"nofollow noreferrer\">Jeka</a>)</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\nList&lt;Path&gt; paths = resolveDependency(groupId, artifactId, version);\n\npublic List&lt;Path&gt; resolveDependency(String groupId, String artifactId, String version) throws Exception {\n        \n        String dependency = groupId + &quot;:&quot; + artifactId + &quot;:&quot; + version;\n        \n        JkDependencySet deps = JkDependencySet.of()\n                .and(dependency)\n                .withDefaultScopes(COMPILE_AND_RUNTIME);\n\n        JkDependencyResolver resolver = JkDependencyResolver.of(JkRepo.ofMavenCentral());\n        List&lt;Path&gt; paths = resolver.resolve(deps, RUNTIME).getFiles().getEntries();\n\n        return paths;\n\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Load the jar files</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\nList&lt;Class&gt; classes = loadDependency(paths);\n\npublic List&lt;Class&gt; loadDependency(List&lt;Path&gt; paths) throws Exception {\n\n        List&lt;Class&gt; classes = new ArrayList&lt;&gt;();\n\n        for(Path path: paths){\n\n            URL url = path.toUri().toURL();\n            URLClassLoader child = new URLClassLoader(new URL[] {url}, this.getClass().getClassLoader());\n\n            ArrayList&lt;String&gt; classNames = getClassNamesFromJar(path.toString());\n\n            for (String className : classNames) {\n                Class classToLoad = Class.forName(className, true, child);\n                classes.add(classToLoad);\n            }\n        }\n\n        return classes;\n\n    }\n\n\n    // Returns an arraylist of class names in a JarInputStream\n    private ArrayList&lt;String&gt; getClassNamesFromJar(JarInputStream jarFile) throws Exception {\n        ArrayList&lt;String&gt; classNames = new ArrayList&lt;&gt;();\n        try {\n            //JarInputStream jarFile = new JarInputStream(jarFileStream);\n            JarEntry jar;\n\n            //Iterate through the contents of the jar file\n            while (true) {\n                jar = jarFile.getNextJarEntry();\n                if (jar == null) {\n                    break;\n                }\n                //Pick file that has the extension of .class\n                if ((jar.getName().endsWith(&quot;.class&quot;))) {\n                    String className = jar.getName().replaceAll(&quot;/&quot;, &quot;\\\\.&quot;);\n                    String myClass = className.substring(0, className.lastIndexOf('.'));\n                    classNames.add(myClass);\n                }\n            }\n        } catch (Exception e) {\n            throw new Exception(&quot;Error while getting class names from jar&quot;, e);\n        }\n        return classNames;\n    }\n\n\n// Returns an arraylist of class names in a JarInputStream\n// Calls the above function by converting the jar path to a stream\nprivate ArrayList&lt;String&gt; getClassNamesFromJar(String jarPath) throws Exception {\n        return getClassNamesFromJar(new JarInputStream(new FileInputStream(jarPath)));\n    }\n\n</code></pre>\n<ol start=\"3\">\n<li>Use the class</li>\n</ol>\n<p>Like Renato points out, know you need to know the class to use it. In my case it's a Camel component which I need to cast and add to this framework. The classes are what you retrieved in the second step and the scheme is the name of the <a href=\"https://camel.apache.org/components/next/\" rel=\"nofollow noreferrer\">component</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nComponent camelComponent = getComponent(classes, scheme);\ncontext.addComponent(scheme, camelComponent);\n\npublic Component getComponent(List&lt;Class&gt; classes, String scheme) throws Exception {\n\n        Component component = null;\n        for(Class classToLoad: classes){\n            String className = classToLoad.getName().toLowerCase();\n            if(className.endsWith(scheme + &quot;component&quot;)){\n                Object object =  classToLoad.newInstance();\n                component = (Component) object;\n            }\n        }\n\n        return component;\n    }\n</code></pre>\n<p>Thus, the second part is to make it dynamically available. Added the first and third part to have an example of a complete solution.</p>\n"}],"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4495,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1638126457,"creation_date":1637589525,"question_id":70066951,"body_markdown":"I have an application that loads jar files in runtime dynamically using the following solution:\r\n\r\n```java do\r\nFile file = ...\r\nURL url = file.toURI().toURL();\r\n\r\nURLClassLoader classLoader = (URLClassLoader)ClassLoader.getSystemClassLoader();\r\nMethod method = URLClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\r\nmethod.setAccessible(true);\r\nmethod.invoke(classLoader, url);\r\n```\r\n\r\nThis was done using the answer at https://stackoverflow.com/questions/60764/how-to-load-jar-files-dynamically-at-runtime\r\n\r\nI now want a solution that works JDK11+ that is *equivalent* to the original solution I used. Thus doing it programmatically without the need for third-party libraries/frameworks or loading/invoking single classes.\r\n\r\nI tried the following:\r\n\r\n1) Created a DynamicClassLoader that extends the UrlClassLoader:\r\n\r\n```java\r\npublic final class DynamicClassLoader extends URLClassLoader {\r\n\r\n\r\n    public DynamicClassLoader(URL[] urls, ClassLoader parent) {\r\n        super(urls, parent);\r\n    }\r\n\r\n    public DynamicClassLoader(String name, ClassLoader parent) {\r\n        super(name, new URL[0], parent);\r\n    }\r\n    \r\n    public DynamicClassLoader(ClassLoader parent) {\r\n        this(&quot;classpath&quot;, parent);\r\n    }\r\n\r\n    public void addURL(URL url) {\r\n        super.addURL(url);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n2) I then start my application wit *java.system.class.loader* flag:\r\n\r\n`java -Djava.system.class.loader=com.example.DynamicClassLoader`\r\n\r\nThen I have a jar file as a path object which I call with the following method:\r\n\r\n```java\r\npublic void loadJar(Path path) throws Exception {\r\n       \t\r\n    \tURL url = path.toUri().toURL();\r\n    \t\r\n    \tDynamicClassLoader classLoader = (DynamicClassLoader)ClassLoader.getSystemClassLoader();\r\n    \tMethod method = DynamicClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\r\n    \tmethod.setAccessible(true);\r\n    \tmethod.invoke(classLoader, url);       \t\r\n    }\r\n```\r\n\r\nWhen this method is called I get the following cast class exception:\r\n\r\n```\r\nclass jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class com.example.classloader.DynamicClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader is\r\n in module java.base of loader &#39;bootstrap&#39;; com.example.classloader.DynamicClassLoader is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nI am using Spring Boot (2.4) on OpenJDK11 (build 11.0.10+9).\r\n","title":"How to load JAR files dynamically at Runtime in JDK11+?","body":"<p>I have an application that loads jar files in runtime dynamically using the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = ...\nURL url = file.toURI().toURL();\n\nURLClassLoader classLoader = (URLClassLoader)ClassLoader.getSystemClassLoader();\nMethod method = URLClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\nmethod.setAccessible(true);\nmethod.invoke(classLoader, url);\n</code></pre>\n<p>This was done using the answer at <a href=\"https://stackoverflow.com/questions/60764/how-to-load-jar-files-dynamically-at-runtime\">How to load JAR files dynamically at Runtime?</a></p>\n<p>I now want a solution that works JDK11+ that is <em>equivalent</em> to the original solution I used. Thus doing it programmatically without the need for third-party libraries/frameworks or loading/invoking single classes.</p>\n<p>I tried the following:</p>\n<ol>\n<li>Created a DynamicClassLoader that extends the UrlClassLoader:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public final class DynamicClassLoader extends URLClassLoader {\n\n\n    public DynamicClassLoader(URL[] urls, ClassLoader parent) {\n        super(urls, parent);\n    }\n\n    public DynamicClassLoader(String name, ClassLoader parent) {\n        super(name, new URL[0], parent);\n    }\n    \n    public DynamicClassLoader(ClassLoader parent) {\n        this(&quot;classpath&quot;, parent);\n    }\n\n    public void addURL(URL url) {\n        super.addURL(url);\n    }\n    \n}\n</code></pre>\n<ol start=\"2\">\n<li>I then start my application wit <em>java.system.class.loader</em> flag:</li>\n</ol>\n<p><code>java -Djava.system.class.loader=com.example.DynamicClassLoader</code></p>\n<p>Then I have a jar file as a path object which I call with the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void loadJar(Path path) throws Exception {\n        \n        URL url = path.toUri().toURL();\n        \n        DynamicClassLoader classLoader = (DynamicClassLoader)ClassLoader.getSystemClassLoader();\n        Method method = DynamicClassLoader.class.getDeclaredMethod(&quot;addURL&quot;, URL.class);\n        method.setAccessible(true);\n        method.invoke(classLoader, url);        \n    }\n</code></pre>\n<p>When this method is called I get the following cast class exception:</p>\n<pre><code>class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class com.example.classloader.DynamicClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader is\n in module java.base of loader 'bootstrap'; com.example.classloader.DynamicClassLoader is in unnamed module of loader 'app')\n</code></pre>\n<p>I am using Spring Boot (2.4) on OpenJDK11 (build 11.0.10+9).</p>\n"},{"tags":["java","spring-boot","protocol-buffers","grpc","grpc-java"],"comments":[{"owner":{"account_id":8368684,"reputation":747,"user_id":8360923,"display_name":"HelloWood"},"score":0,"creation_date":1638327463,"post_id":70146578,"comment_id":124057258,"body_markdown":"I have a try for snake case service and method generate, it is snake case correctly. Please make sure your code is generated from same proto file and dependency version is same.","body":"I have a try for snake case service and method generate, it is snake case correctly. Please make sure your code is generated from same proto file and dependency version is same."},{"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"score":0,"creation_date":1638350947,"post_id":70146578,"comment_id":124062456,"body_markdown":"@HelloWood I used the lognet grpc gradle plugin to handle generation / grpc versions","body":"@HelloWood I used the lognet grpc gradle plugin to handle generation / grpc versions"}],"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638126274,"creation_date":1638126274,"question_id":70146578,"body_markdown":"I have a C++ client calling my Java gRPC server, and get the following exception when trying to call a method - clearly listed in my proto file.\r\n\r\n`org.lognet.springboot.grpc.GRpcServicesRegistry#descriptorToServiceMethod` doesn&#39;t map the RPC methods, of the form `rpc_method_name` (snake-case) to the generated java methods, of the form `rpcMethodName` (camel-case).\r\n\r\nThis causes the following error to be thrown at run-time: \r\n```\r\norg.lognet.springboot.grpc.security.SecurityInterceptor$1: Authentication failure.\r\n\tat org.lognet.springboot.grpc.security.SecurityInterceptor.interceptCall(SecurityInterceptor.java:147) ~[grpc-spring-boot-starter-4.5.10.jar:na]\r\n\tat io.grpc.ServerInterceptors$InterceptCallHandler.startCall(ServerInterceptors.java:244) ~[grpc-api-1.42.0.jar:1.42.0]\r\n\tat org.lognet.springboot.grpc.recovery.GRpcExceptionHandlerInterceptor.interceptCall(GRpcExceptionHandlerInterceptor.java:59) ~[grpc-spring-boot-starter-4.5.10.jar:na]\r\n\tat io.grpc.ServerInterceptors$InterceptCallHandler.startCall(ServerInterceptors.java:244) ~[grpc-api-1.42.0.jar:1.42.0]\r\n\tat io.grpc.internal.ServerImpl$ServerTransportListenerImpl.startWrappedCall(ServerImpl.java:703) ~[grpc-core-1.42.0.jar:1.42.0]\r\n\tat io.grpc.internal.ServerImpl$ServerTransportListenerImpl.access$2200(ServerImpl.java:406) ~[grpc-core-1.42.0.jar:1.42.0]\r\n\tat io.grpc.internal.ServerImpl$ServerTransportListenerImpl$1HandleServerCall.runInternal(ServerImpl.java:615) ~[grpc-core-1.42.0.jar:1.42.0]\r\n\tat io.grpc.internal.ServerImpl$ServerTransportListenerImpl$1HandleServerCall.runInContext(ServerImpl.java:603) ~[grpc-core-1.42.0.jar:1.42.0]\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.42.0.jar:1.42.0]\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.42.0.jar:1.42.0]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\nCaused by: java.lang.IllegalStateException: Method ***rpc_method_name*** not found in service ***org.me.MyGrpcService***\r\n\tat org.lognet.springboot.grpc.GRpcServicesRegistry.descriptorToServiceMethod(GRpcServicesRegistry.java:186) ~[grpc-spring-boot-starter-4.5.10.jar:na]\r\n\tat org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97) ~[spring-core-5.3.7.jar:5.3.7]\r\n\tat org.lognet.springboot.grpc.GRpcServicesRegistry.getGrpServiceMethod(GRpcServicesRegistry.java:120) ~[grpc-spring-boot-starter-4.5.10.jar:na]\r\n\tat org.lognet.springboot.grpc.security.SecurityInterceptor.setupGRpcSecurityContext(SecurityInterceptor.java:261) ~[grpc-spring-boot-starter-4.5.10.jar:na]\r\n\tat org.lognet.springboot.grpc.security.SecurityInterceptor.interceptCall(SecurityInterceptor.java:143) ~[grpc-spring-boot-starter-4.5.10.jar:na]\r\n\t... 12 common frames omitted\r\n```\r\n\r\nIs this a bug with the api, or is there some config/dependency I&#39;m missing?","title":"gRPC unauthenticated exception caused by method not foudn","body":"<p>I have a C++ client calling my Java gRPC server, and get the following exception when trying to call a method - clearly listed in my proto file.</p>\n<p><code>org.lognet.springboot.grpc.GRpcServicesRegistry#descriptorToServiceMethod</code> doesn't map the RPC methods, of the form <code>rpc_method_name</code> (snake-case) to the generated java methods, of the form <code>rpcMethodName</code> (camel-case).</p>\n<p>This causes the following error to be thrown at run-time:</p>\n<pre><code>org.lognet.springboot.grpc.security.SecurityInterceptor$1: Authentication failure.\n    at org.lognet.springboot.grpc.security.SecurityInterceptor.interceptCall(SecurityInterceptor.java:147) ~[grpc-spring-boot-starter-4.5.10.jar:na]\n    at io.grpc.ServerInterceptors$InterceptCallHandler.startCall(ServerInterceptors.java:244) ~[grpc-api-1.42.0.jar:1.42.0]\n    at org.lognet.springboot.grpc.recovery.GRpcExceptionHandlerInterceptor.interceptCall(GRpcExceptionHandlerInterceptor.java:59) ~[grpc-spring-boot-starter-4.5.10.jar:na]\n    at io.grpc.ServerInterceptors$InterceptCallHandler.startCall(ServerInterceptors.java:244) ~[grpc-api-1.42.0.jar:1.42.0]\n    at io.grpc.internal.ServerImpl$ServerTransportListenerImpl.startWrappedCall(ServerImpl.java:703) ~[grpc-core-1.42.0.jar:1.42.0]\n    at io.grpc.internal.ServerImpl$ServerTransportListenerImpl.access$2200(ServerImpl.java:406) ~[grpc-core-1.42.0.jar:1.42.0]\n    at io.grpc.internal.ServerImpl$ServerTransportListenerImpl$1HandleServerCall.runInternal(ServerImpl.java:615) ~[grpc-core-1.42.0.jar:1.42.0]\n    at io.grpc.internal.ServerImpl$ServerTransportListenerImpl$1HandleServerCall.runInContext(ServerImpl.java:603) ~[grpc-core-1.42.0.jar:1.42.0]\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.42.0.jar:1.42.0]\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.42.0.jar:1.42.0]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\nCaused by: java.lang.IllegalStateException: Method ***rpc_method_name*** not found in service ***org.me.MyGrpcService***\n    at org.lognet.springboot.grpc.GRpcServicesRegistry.descriptorToServiceMethod(GRpcServicesRegistry.java:186) ~[grpc-spring-boot-starter-4.5.10.jar:na]\n    at org.springframework.util.function.SingletonSupplier.get(SingletonSupplier.java:97) ~[spring-core-5.3.7.jar:5.3.7]\n    at org.lognet.springboot.grpc.GRpcServicesRegistry.getGrpServiceMethod(GRpcServicesRegistry.java:120) ~[grpc-spring-boot-starter-4.5.10.jar:na]\n    at org.lognet.springboot.grpc.security.SecurityInterceptor.setupGRpcSecurityContext(SecurityInterceptor.java:261) ~[grpc-spring-boot-starter-4.5.10.jar:na]\n    at org.lognet.springboot.grpc.security.SecurityInterceptor.interceptCall(SecurityInterceptor.java:143) ~[grpc-spring-boot-starter-4.5.10.jar:na]\n    ... 12 common frames omitted\n</code></pre>\n<p>Is this a bug with the api, or is there some config/dependency I'm missing?</p>\n"},{"tags":["java","gradle","junit","cucumber"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1637768133,"post_id":70075238,"comment_id":123915314,"body_markdown":"Can you show us some code to reproduce the scenario what you are doing?","body":"Can you show us some code to reproduce the scenario what you are doing?"},{"owner":{"account_id":3671961,"reputation":382,"user_id":3058943,"display_name":"West_JR"},"score":0,"creation_date":1637960502,"post_id":70075238,"comment_id":123969850,"body_markdown":"Take the &quot;Is it Friday&quot; example from the docs. I want to run that multiple times, but have the code-under-test use a different time library each time. The expectation is that the test and its results should not change. I can&#39;t figure out how to do this. If your doing BDD, then it seems odd to imbed this information into the scenarios. They shouldn&#39;t care about implementation details.","body":"Take the &quot;Is it Friday&quot; example from the docs. I want to run that multiple times, but have the code-under-test use a different time library each time. The expectation is that the test and its results should not change. I can&#39;t figure out how to do this. If your doing BDD, then it seems odd to imbed this information into the scenarios. They shouldn&#39;t care about implementation details."}],"answers":[{"tags":[],"owner":{"account_id":5459096,"reputation":4018,"user_id":4341733,"display_name":"diabolist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638126224,"creation_date":1638126224,"answer_id":70146569,"question_id":70075238,"body_markdown":"What about using environment variables to modify your before code, and then instead of trying to cucumber to run features multiple times, script to run cucumber multiple times each with a different environment variables.\r\n\r\nYou can either user different values for ENV vars. Or even different sets of ENV vars.\r\n\r\nYour features will know which run they are in from ENV,","title":"Cucumber how to run features multiple times with different code under test?","body":"<p>What about using environment variables to modify your before code, and then instead of trying to cucumber to run features multiple times, script to run cucumber multiple times each with a different environment variables.</p>\n<p>You can either user different values for ENV vars. Or even different sets of ENV vars.</p>\n<p>Your features will know which run they are in from ENV,</p>\n"}],"owner":{"account_id":3671961,"reputation":382,"user_id":3058943,"display_name":"West_JR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638126224,"creation_date":1637639993,"question_id":70075238,"body_markdown":"\r\nThe shot version:\r\nHow do I do Junit&#39;s `@RunWith(Parameterized::class)` with cucumber features?\r\n\r\nI have feature files that I like. I want to run the exact same features multiple times, but change &quot;the environment&quot; so the `@Before` code in my step-defs is slightly different. I have a few different implementations of some code under test, and I want to make sure they all work. So it has to be part of the CI pipeline. Not a manual cmd-line thing\r\n\r\nThe thing I want to change between runs has no semantic meaning to the scenarios/features file, so I would prefer not to radically alter/duplicate them.\r\n\r\nI&#39;m using stock java/kotlin and gradle junit. No spring, no webUI\r\n\r\nI setup multiple junit hooks all pointing to the same features, which works for running the features multiple times. But I can&#39;t figure out how to get any information from the hook to the step-defs.\r\n\r\n\r\n--- update ---\r\n\r\nHere is the code I have to plug the cucumber tests into junit :\r\n\r\n\r\n    @RunWith(Cucumber::class)\r\n    @CucumberOptions(\r\n        features = [&quot;src/test/resources/hellocucumber/&quot;],\r\n    )\r\n    class FirstRun\r\n    \r\n    @RunWith(Cucumber::class)\r\n    @CucumberOptions(\r\n        features = [&quot;src/test/resources/hellocucumber/&quot;],\r\n    )\r\n    class SecondRun\r\n\r\n\r\nThis does run the tests twice, which is what I want.\r\n\r\nBut in my step-defs I the `@Before` section were I setup the code under test, how do I tell if it&#39;s the first run, or the second? I can&#39;t figure out a way to get any data from these stubs to the step-defs.\r\n\r\nMaybe this isn&#39;t the way to do this?\r\n\r\n\r\n\r\n","title":"Cucumber how to run features multiple times with different code under test?","body":"<p>The shot version:\nHow do I do Junit's <code>@RunWith(Parameterized::class)</code> with cucumber features?</p>\n<p>I have feature files that I like. I want to run the exact same features multiple times, but change &quot;the environment&quot; so the <code>@Before</code> code in my step-defs is slightly different. I have a few different implementations of some code under test, and I want to make sure they all work. So it has to be part of the CI pipeline. Not a manual cmd-line thing</p>\n<p>The thing I want to change between runs has no semantic meaning to the scenarios/features file, so I would prefer not to radically alter/duplicate them.</p>\n<p>I'm using stock java/kotlin and gradle junit. No spring, no webUI</p>\n<p>I setup multiple junit hooks all pointing to the same features, which works for running the features multiple times. But I can't figure out how to get any information from the hook to the step-defs.</p>\n<p>--- update ---</p>\n<p>Here is the code I have to plug the cucumber tests into junit :</p>\n<pre><code>@RunWith(Cucumber::class)\n@CucumberOptions(\n    features = [&quot;src/test/resources/hellocucumber/&quot;],\n)\nclass FirstRun\n\n@RunWith(Cucumber::class)\n@CucumberOptions(\n    features = [&quot;src/test/resources/hellocucumber/&quot;],\n)\nclass SecondRun\n</code></pre>\n<p>This does run the tests twice, which is what I want.</p>\n<p>But in my step-defs I the <code>@Before</code> section were I setup the code under test, how do I tell if it's the first run, or the second? I can't figure out a way to get any data from these stubs to the step-defs.</p>\n<p>Maybe this isn't the way to do this?</p>\n"},{"tags":["java","exception","logging"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638125669,"creation_date":1638125132,"answer_id":70146433,"question_id":70146330,"body_markdown":"It&#39;s not a java related question, but rather coding practices question. You may get different answers from each person that you ask, as it may be related to standards established in the community/company/personal preference etc, therefore: don&#39;t expect a single answer. \r\n\r\nMy perspective on the subject (just logging exception on multiple layers, I&#39;m not talking about propagating/rethrowing/wrapping an exception - as that&#39;s another story) is as follows:\r\n\r\nIf given layer has anything specific to add to the log: log it. \r\nFor instance:\r\n * DAO layer may log information related to DB failure for the exception\r\n * Service layer (calling that DAO) may have more context in which that operation executed (i.e. some user id, or operation specific data) that could be logged with the exception.\r\n * There could be more layers, i.e. next one could be some Controller, that can log i.e. some request identifier (for tracing purposes) or maybe request data. \r\n\r\nOf course it would cause the exception to be logged 3 times, each one would add more data to the log. However, when you write DAO class, you have no guarantee if the service will log an exception or not, therefore it should always log it (unless you have a global exception handler that would log all uncaught exceptions - but then: you have no guarantee that a service didn&#39;t just catch an exception without logging)\r\n\r\nBTW - a rule for rethrowing an exception: Always embed a `cause` exception in the new exception that you throw, this way you&#39;ll see a full chain of exceptions.","title":"Should I log CRUD methods in Service layer?","body":"<p>It's not a java related question, but rather coding practices question. You may get different answers from each person that you ask, as it may be related to standards established in the community/company/personal preference etc, therefore: don't expect a single answer.</p>\n<p>My perspective on the subject (just logging exception on multiple layers, I'm not talking about propagating/rethrowing/wrapping an exception - as that's another story) is as follows:</p>\n<p>If given layer has anything specific to add to the log: log it.\nFor instance:</p>\n<ul>\n<li>DAO layer may log information related to DB failure for the exception</li>\n<li>Service layer (calling that DAO) may have more context in which that operation executed (i.e. some user id, or operation specific data) that could be logged with the exception.</li>\n<li>There could be more layers, i.e. next one could be some Controller, that can log i.e. some request identifier (for tracing purposes) or maybe request data.</li>\n</ul>\n<p>Of course it would cause the exception to be logged 3 times, each one would add more data to the log. However, when you write DAO class, you have no guarantee if the service will log an exception or not, therefore it should always log it (unless you have a global exception handler that would log all uncaught exceptions - but then: you have no guarantee that a service didn't just catch an exception without logging)</p>\n<p>BTW - a rule for rethrowing an exception: Always embed a <code>cause</code> exception in the new exception that you throw, this way you'll see a full chain of exceptions.</p>\n"}],"owner":{"account_id":23136889,"reputation":59,"user_id":17241007,"display_name":"Spam Garbage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638125669,"creation_date":1638124350,"question_id":70146330,"body_markdown":"I started add slf4j logging an custom exception into my project. I add logs into my ServiceImplementation class where I have CRUD methods which I implement in my DaoImplementation class. The question is: If my CRUD methods already have added logs and custom exception in Dao class should they have same logs in other class?\r\nExample: \r\n\r\n\r\n    public class SpringTeacherDao implements TeacherDao {\r\n    private static Logger logger = LoggerFactory.getLogger(SpringTeacherDao.class);\r\n\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n\r\n    @Autowired\r\n    public SpringTeacherDao(DataSource dataSource) {\r\n        jdbcTemplate = new JdbcTemplate(dataSource);\r\n    }\r\n\r\n    @Override\r\n    public void create(Teacher teacher) {\r\n        logger.debug(&quot;Add teacher status: in progress...&quot;);\r\n        if (teacher == null) {\r\n            String error = &quot;Add teacher status: Error, teacher is null.&quot;;\r\n            logger.warn(error);\r\n            throw new UniversityDaoException(error);\r\n        }\r\n        String sql = &quot;INSERT INTO teacher VALUES(?,?,?)&quot;;\r\n        try {\r\n            jdbcTemplate.update(sql, teacher.getID(), teacher.getName(), teacher.getSurname());\r\n        }catch (DuplicateKeyException e){\r\n            String duplicate = &quot;Teacher id already exist&quot;;\r\n            logger.warn(duplicate);\r\n            throw new UniversityDaoException(duplicate);\r\n        }\r\n        logger.info(&quot;Add teacher status: Teacher has been added&quot;);\r\n    }\r\n\r\n-\r\n\r\n    public class TeacherServiceImpl implements TeacherService {\r\n    private static Logger logger = LoggerFactory.getLogger(TeacherServiceImpl.class);\r\n    private final TeacherDao teacherDao;\r\n    private final LectureDao lectureDao;\r\n    private final TeachersLectureDao teachersLectureDao;\r\n\r\n\r\n    public TeacherServiceImpl(TeacherDao teacherDao, LectureDao lectureDao, TeachersLectureDao teachersLectureDao) {\r\n        this.teacherDao = teacherDao;\r\n        this.lectureDao = lectureDao;\r\n        this.teachersLectureDao = teachersLectureDao;\r\n    }\r\n\r\n    @Override\r\n    public void addTeacher(Teacher teacher) {\r\n        teacherDao.create(teacher);\r\n    }","title":"Should I log CRUD methods in Service layer?","body":"<p>I started add slf4j logging an custom exception into my project. I add logs into my ServiceImplementation class where I have CRUD methods which I implement in my DaoImplementation class. The question is: If my CRUD methods already have added logs and custom exception in Dao class should they have same logs in other class?\nExample:</p>\n<pre><code>public class SpringTeacherDao implements TeacherDao {\nprivate static Logger logger = LoggerFactory.getLogger(SpringTeacherDao.class);\n\nprivate JdbcTemplate jdbcTemplate;\n\n\n@Autowired\npublic SpringTeacherDao(DataSource dataSource) {\n    jdbcTemplate = new JdbcTemplate(dataSource);\n}\n\n@Override\npublic void create(Teacher teacher) {\n    logger.debug(&quot;Add teacher status: in progress...&quot;);\n    if (teacher == null) {\n        String error = &quot;Add teacher status: Error, teacher is null.&quot;;\n        logger.warn(error);\n        throw new UniversityDaoException(error);\n    }\n    String sql = &quot;INSERT INTO teacher VALUES(?,?,?)&quot;;\n    try {\n        jdbcTemplate.update(sql, teacher.getID(), teacher.getName(), teacher.getSurname());\n    }catch (DuplicateKeyException e){\n        String duplicate = &quot;Teacher id already exist&quot;;\n        logger.warn(duplicate);\n        throw new UniversityDaoException(duplicate);\n    }\n    logger.info(&quot;Add teacher status: Teacher has been added&quot;);\n}\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>public class TeacherServiceImpl implements TeacherService {\nprivate static Logger logger = LoggerFactory.getLogger(TeacherServiceImpl.class);\nprivate final TeacherDao teacherDao;\nprivate final LectureDao lectureDao;\nprivate final TeachersLectureDao teachersLectureDao;\n\n\npublic TeacherServiceImpl(TeacherDao teacherDao, LectureDao lectureDao, TeachersLectureDao teachersLectureDao) {\n    this.teacherDao = teacherDao;\n    this.lectureDao = lectureDao;\n    this.teachersLectureDao = teachersLectureDao;\n}\n\n@Override\npublic void addTeacher(Teacher teacher) {\n    teacherDao.create(teacher);\n}\n</code></pre>\n"},{"tags":["java","android","file","android-intent","filesystems"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638125528,"creation_date":1638041584,"answer_id":70138069,"question_id":70137951,"body_markdown":"intead of calling `startActivity` just use `queryIntentActivities`\r\n\r\n    PackageManager packageManager = getPackageManager();\r\n    List&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(i888777,\r\n        PackageManager.MATCH_DEFAULT_ONLY);\r\n\r\nyou can also try with `MATCH_ALL` flag or whatever you need. more to inspect in [DOC](https://developer.android.com/reference/android/content/pm/PackageManager#MATCH_DEFAULT_ONLY)","title":"how to get all the apps that can open file to arrayList","body":"<p>intead of calling <code>startActivity</code> just use <code>queryIntentActivities</code></p>\n<pre><code>PackageManager packageManager = getPackageManager();\nList&lt;ResolveInfo&gt; activities = packageManager.queryIntentActivities(i888777,\n    PackageManager.MATCH_DEFAULT_ONLY);\n</code></pre>\n<p>you can also try with <code>MATCH_ALL</code> flag or whatever you need. more to inspect in <a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#MATCH_DEFAULT_ONLY\" rel=\"nofollow noreferrer\">DOC</a></p>\n"}],"owner":{"account_id":21461018,"reputation":40,"user_id":15811766,"display_name":"Star4Droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70138069,"answer_count":1,"score":0,"last_activity_date":1638125528,"creation_date":1638040490,"question_id":70137951,"body_markdown":"how i can get all the apps that can open file to ArrayList? \r\ni am using this code to open file:-\r\n```\r\n         Intent i888777 = new Intent;\r\n\tUri ur888 = (Uri.fromFile(new java.io.File(_path)));\r\n\ti888777.setAction(Intent.ACTION_VIEW);\r\n\ti888777.setDataAndType(ur888,_type);\r\nstartActivity(Intent.createChooser(i888777,_msg));\r\n```\r\n[preview][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YGKcJ.jpg","title":"how to get all the apps that can open file to arrayList","body":"<p>how i can get all the apps that can open file to ArrayList?\ni am using this code to open file:-</p>\n<pre><code>         Intent i888777 = new Intent;\n    Uri ur888 = (Uri.fromFile(new java.io.File(_path)));\n    i888777.setAction(Intent.ACTION_VIEW);\n    i888777.setDataAndType(ur888,_type);\nstartActivity(Intent.createChooser(i888777,_msg));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YGKcJ.jpg\" rel=\"nofollow noreferrer\">preview</a></p>\n"},{"tags":["java","android","runtime-error","android-implicit-intent"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638125157,"creation_date":1638125157,"answer_id":70146439,"question_id":70146407,"body_markdown":"Get rid of `resolveActivity()`. Just call `startActivity()`, but do so in a `try`/`catch`, so you can catch the `ActivityNotFoundException` if there is no Web browser available.","title":"Consider adding a `&lt;query&gt;` declaration to your manifest when calling this \\method;","body":"<p>Get rid of <code>resolveActivity()</code>. Just call <code>startActivity()</code>, but do so in a <code>try</code>/<code>catch</code>, so you can catch the <code>ActivityNotFoundException</code> if there is no Web browser available.</p>\n"}],"owner":{"account_id":21069113,"reputation":13,"user_id":15485704,"display_name":"Siddharth Bhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70146439,"answer_count":1,"score":1,"last_activity_date":1638125157,"creation_date":1638124945,"question_id":70146407,"body_markdown":"I am getting this **warning on resolveActivity** line while using implicit intents and I am unable to open any website because of that.\r\n\r\n    btnWeb.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String v = et.getText().toString();\r\n                    Uri uri = Uri.parse(v);\r\n                    Intent intent = new Intent(Intent.ACTION_VIEW, uri);\r\n                    if (intent.resolveActivity(getPackageManager())!=null){\r\n                        startActivity(intent);\r\n                    }\r\n                }\r\n            });","title":"Consider adding a `&lt;query&gt;` declaration to your manifest when calling this \\method;","body":"<p>I am getting this <strong>warning on resolveActivity</strong> line while using implicit intents and I am unable to open any website because of that.</p>\n<pre><code>btnWeb.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String v = et.getText().toString();\n                Uri uri = Uri.parse(v);\n                Intent intent = new Intent(Intent.ACTION_VIEW, uri);\n                if (intent.resolveActivity(getPackageManager())!=null){\n                    startActivity(intent);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","character","replaceall"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1638131679,"post_id":70144209,"comment_id":124000245,"body_markdown":"If A were `abbcdacd` should the result be `bacd`?","body":"If A were <code>abbcdacd</code> should the result be <code>bacd</code>?"},{"owner":{"account_id":22891240,"reputation":33,"user_id":17031344,"display_name":"YeonSoo"},"score":0,"creation_date":1638165222,"post_id":70144209,"comment_id":124005939,"body_markdown":"nope, the answer should be abcdabcd","body":"nope, the answer should be abcdabcd"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1638169198,"post_id":70144209,"comment_id":124006700,"body_markdown":"How do you get `abcdabcd` from `abbcdacd`??","body":"How do you get <code>abcdabcd</code> from <code>abbcdacd</code>??"}],"answers":[{"tags":[],"owner":{"account_id":16139646,"reputation":131,"user_id":13041893,"display_name":"Bryan Motta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638124375,"creation_date":1638124375,"answer_id":70146333,"question_id":70144209,"body_markdown":"you can use the regex for that\r\n\r\n    A = A.replaceAll(&quot;([a-z]+)\\1&quot;,&quot;&quot;);\r\ncan find out more about regex here [https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Replacing string for only one time in Java?","body":"<p>you can use the regex for that</p>\n<pre><code>A = A.replaceAll(&quot;([a-z]+)\\1&quot;,&quot;&quot;);\n</code></pre>\n<p>can find out more about regex here <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html</a></p>\n"},{"tags":[],"owner":{"account_id":16055833,"reputation":126,"user_id":14425218,"display_name":"C M Abdullah Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638124918,"creation_date":1638124918,"answer_id":70146404,"question_id":70144209,"body_markdown":"you can use distinct() method\r\n\r\n    public static void main(String[] args) {\r\n    \t\tString str = &quot;aabbccdd&quot;;\r\n    \t\tString result = str.chars().distinct().boxed()\r\n    \t\t\t\t.map(c -&gt; (char) (c.intValue()))\r\n    \t\t\t\t.map(String::valueOf)\r\n    \t\t\t\t.collect(Collectors.joining());\r\n    \t\tSystem.out.println(result);\r\n    \t}","title":"Replacing string for only one time in Java?","body":"<p>you can use distinct() method</p>\n<pre><code>public static void main(String[] args) {\n        String str = &quot;aabbccdd&quot;;\n        String result = str.chars().distinct().boxed()\n                .map(c -&gt; (char) (c.intValue()))\n                .map(String::valueOf)\n                .collect(Collectors.joining());\n        System.out.println(result);\n    }\n</code></pre>\n"}],"owner":{"account_id":22891240,"reputation":33,"user_id":17031344,"display_name":"YeonSoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1638144740,"accepted_answer_id":70146404,"answer_count":2,"score":-1,"last_activity_date":1638124918,"creation_date":1638108844,"question_id":70144209,"body_markdown":"Saying that there are String A = &quot;aabbccdd&quot; and String B = &quot;abcd&quot;,\r\nis there any way to remove the matching characters of String B towards String A for only one time?\r\n\r\nExpected output is A = &quot;abcd&quot;.\r\n\r\nI know it will solve the problem when using for loops, but is there any simpler way to do it?\r\nFor example, using replaceAll or regular expressions?\r\n","title":"Replacing string for only one time in Java?","body":"<p>Saying that there are String A = &quot;aabbccdd&quot; and String B = &quot;abcd&quot;,\nis there any way to remove the matching characters of String B towards String A for only one time?</p>\n<p>Expected output is A = &quot;abcd&quot;.</p>\n<p>I know it will solve the problem when using for loops, but is there any simpler way to do it?\nFor example, using replaceAll or regular expressions?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1638074184,"post_id":70140647,"comment_id":123988624,"body_markdown":"Never post code as an image. Also, a *regular expression* makes this trivial. `return str.replaceAll(&quot;([aeiou])&quot;, &quot;$1$1&quot;);`","body":"Never post code as an image. Also, a <i>regular expression</i> makes this trivial. <code>return str.replaceAll(&quot;([aeiou])&quot;, &quot;$1$1&quot;);</code>"},{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":1,"creation_date":1638074769,"post_id":70140647,"comment_id":123988682,"body_markdown":"Regarding properly-formatted code vs code-as-image: Please see this [meta post](https://meta.stackoverflow.com/a/285557/272109) which lists many reasons why properly-formatted text is important. Aside from that: Please provide more details regarding your error (such as input string) and anything else for others to help you.","body":"Regarding properly-formatted code vs code-as-image: Please see this <a href=\"https://meta.stackoverflow.com/a/285557/272109\">meta post</a> which lists many reasons why properly-formatted text is important. Aside from that: Please provide more details regarding your error (such as input string) and anything else for others to help you."},{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":1,"creation_date":1638074819,"post_id":70140647,"comment_id":123988688,"body_markdown":"@ElliottFrisch - for someone just learning Java (or maybe just learning programming in general), I&#39;m not sure a regular expression would fall into the category of *trivial*...","body":"@ElliottFrisch - for someone just learning Java (or maybe just learning programming in general), I&#39;m not sure a regular expression would fall into the category of <i>trivial</i>..."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1638076991,"post_id":70140647,"comment_id":123988891,"body_markdown":"@DavidMakogon Perhaps. I learned regular expressions a long time ago. You only have to [avoid two problems](https://blog.codinghorror.com/regular-expressions-now-you-have-two-problems/).","body":"@DavidMakogon Perhaps. I learned regular expressions a long time ago. You only have to <a href=\"https://blog.codinghorror.com/regular-expressions-now-you-have-two-problems/\" rel=\"nofollow noreferrer\">avoid two problems</a>."},{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":2,"creation_date":1638082375,"post_id":70140647,"comment_id":123989472,"body_markdown":"The line with str.charAt(i+1) does not compile.  You can add the str.charAt(i) to display, but you cannot set it to a value returned from a method.","body":"The line with str.charAt(i+1) does not compile.  You can add the str.charAt(i) to display, but you cannot set it to a value returned from a method."}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638123884,"creation_date":1638093890,"answer_id":70142355,"question_id":70140647,"body_markdown":"The easiest way to do this is using `replaceAll` like this:\r\n\r\n```java\r\npublic static String doubleVowel(String str) {\r\n  return str.replaceAll(&quot;([aeiou])&quot;, &quot;$1$1&quot;);\r\n}\r\n```\r\nAlso your original code was not completely wrong. In the `if`-block you need to add the `char` to the resulting string `display`, then it should work:\r\n\r\n```java\r\npublic static String doubleVowel(String str) {\r\n  String display = &quot;&quot;;\r\n\r\n  for(int i = 0; i &lt; str.length(); i++) {\r\n    if(str.charAt(i) == &#39;a&#39; || str.charAt(i) == &#39;e&#39; || str.charAt(i) == &#39;i&#39; || str.charAt(i) == &#39;o&#39; || str.charAt(i) == &#39;u&#39;) {\r\n      display += str.charAt(i);\r\n    }\r\n    display += str.charAt(i);\r\n  }\r\n  return display;\r\n}\r\n```\r\n\r\nThe result for &quot;water&quot; and &quot;phone&quot; are:\r\n```\r\nwaateer\r\nphoonee\r\n```\r\n\r\n**EDIT: also include uppercase example**\r\n\r\nRegex:\r\n```java\r\npublic static String doubleVowel(String str) {\r\n  return str.replaceAll(&quot;([aeiouAEIOU])&quot;, &quot;$1$1&quot;);\r\n}\r\n```\r\nNon-Regex:\r\n```java\r\npublic static String doubleVowel(String str) {\r\n  String strLowerCase = str.toLowerCase();\r\n  String display = &quot;&quot;;\r\n\r\n  for (int i = 0; i &lt; str.length(); i++) {\r\n    if (strLowerCase.charAt(i) == &#39;a&#39;\r\n        || strLowerCase.charAt(i) == &#39;e&#39;\r\n        || strLowerCase.charAt(i) == &#39;i&#39;\r\n        || strLowerCase.charAt(i) == &#39;o&#39;\r\n        || strLowerCase.charAt(i) == &#39;u&#39;) {\r\n      display += str.charAt(i);\r\n    }\r\n    display += str.charAt(i);\r\n  }\r\n  return display;\r\n}\r\n```","title":"Is there a way to make specific letters in a string become double?","body":"<p>The easiest way to do this is using <code>replaceAll</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String doubleVowel(String str) {\n  return str.replaceAll(&quot;([aeiou])&quot;, &quot;$1$1&quot;);\n}\n</code></pre>\n<p>Also your original code was not completely wrong. In the <code>if</code>-block you need to add the <code>char</code> to the resulting string <code>display</code>, then it should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String doubleVowel(String str) {\n  String display = &quot;&quot;;\n\n  for(int i = 0; i &lt; str.length(); i++) {\n    if(str.charAt(i) == 'a' || str.charAt(i) == 'e' || str.charAt(i) == 'i' || str.charAt(i) == 'o' || str.charAt(i) == 'u') {\n      display += str.charAt(i);\n    }\n    display += str.charAt(i);\n  }\n  return display;\n}\n</code></pre>\n<p>The result for &quot;water&quot; and &quot;phone&quot; are:</p>\n<pre><code>waateer\nphoonee\n</code></pre>\n<p><strong>EDIT: also include uppercase example</strong></p>\n<p>Regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String doubleVowel(String str) {\n  return str.replaceAll(&quot;([aeiouAEIOU])&quot;, &quot;$1$1&quot;);\n}\n</code></pre>\n<p>Non-Regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String doubleVowel(String str) {\n  String strLowerCase = str.toLowerCase();\n  String display = &quot;&quot;;\n\n  for (int i = 0; i &lt; str.length(); i++) {\n    if (strLowerCase.charAt(i) == 'a'\n        || strLowerCase.charAt(i) == 'e'\n        || strLowerCase.charAt(i) == 'i'\n        || strLowerCase.charAt(i) == 'o'\n        || strLowerCase.charAt(i) == 'u') {\n      display += str.charAt(i);\n    }\n    display += str.charAt(i);\n  }\n  return display;\n}\n</code></pre>\n"}],"owner":{"account_id":23475502,"reputation":7,"user_id":17528365,"display_name":"prezido17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1638123884,"creation_date":1638073497,"question_id":70140647,"body_markdown":"I have a task to make a method in Java that makes any vowel in the string to repeat itself when its called on the method\r\n\r\nexample: water would become waateer, phone becomes phoonee\r\n\r\nI tried creating a for loop that when a letter in the string is a , e , i , o, or u, it should repeat that letter at the next index\r\n\r\n```java\r\npublic static String doubleVowel(String str) {\r\n  String display = &quot;&quot;;\r\n\r\n  for(int i = 0; i &lt; str.length(); i++) {\r\n    if(str.charAt(i) == &#39;a&#39; || str.charAt(i) == &#39;e&#39; || str.charAt(i) == &#39;i&#39; || str.charAt(i) == &#39;o&#39; || str.charAt(i) == &#39;u&#39;) {\r\n      str.charAt(i+1) = str.charAt(i);\r\n    }\r\n    display += str.charAt(i);\r\n  }\r\n  return display;\r\n}\r\n```\r\n\r\nI keep getting an unexpected type error code and I don&#39;t know why this error is happening.\r\n\r\nIs there another way to do this? if not, what am I doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MmQH9.png","title":"Is there a way to make specific letters in a string become double?","body":"<p>I have a task to make a method in Java that makes any vowel in the string to repeat itself when its called on the method</p>\n<p>example: water would become waateer, phone becomes phoonee</p>\n<p>I tried creating a for loop that when a letter in the string is a , e , i , o, or u, it should repeat that letter at the next index</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String doubleVowel(String str) {\n  String display = &quot;&quot;;\n\n  for(int i = 0; i &lt; str.length(); i++) {\n    if(str.charAt(i) == 'a' || str.charAt(i) == 'e' || str.charAt(i) == 'i' || str.charAt(i) == 'o' || str.charAt(i) == 'u') {\n      str.charAt(i+1) = str.charAt(i);\n    }\n    display += str.charAt(i);\n  }\n  return display;\n}\n</code></pre>\n<p>I keep getting an unexpected type error code and I don't know why this error is happening.</p>\n<p>Is there another way to do this? if not, what am I doing wrong?</p>\n"},{"tags":["java","android","speech-to-text"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1638124463,"post_id":70146264,"comment_id":123998411,"body_markdown":"Pretty sure this is baked into the operating system and not a feature any app can use.  I would be very surprised if there was a way to write an app to do this.","body":"Pretty sure this is baked into the operating system and not a feature any app can use.  I would be very surprised if there was a way to write an app to do this."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1638125300,"post_id":70146264,"comment_id":123998625,"body_markdown":"@LouisWasserman if so, how is the PocketSphinx library able to do it?","body":"@LouisWasserman if so, how is the PocketSphinx library able to do it?"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1638125712,"post_id":70146264,"comment_id":123998726,"body_markdown":"In a java project for PC, I combined picovoice porcupine and rhino for wake word detection and simple command processing. Both projects should be available for android as well, maybe have a look at the demo files in their github repositories.","body":"In a java project for PC, I combined picovoice porcupine and rhino for wake word detection and simple command processing. Both projects should be available for android as well, maybe have a look at the demo files in their github repositories."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1638128484,"post_id":70146264,"comment_id":123999420,"body_markdown":"In addition to the fact that Google Assistant has system level permissions, they probably have access to hardware/Manufacturer SDK like [Qualcomm&#39;s Voice Assist](https://www.qualcomm.com/products/features/voice-assist) which takes advantage of low power always on listening.","body":"In addition to the fact that Google Assistant has system level permissions, they probably have access to hardware/Manufacturer SDK like <a href=\"https://www.qualcomm.com/products/features/voice-assist\" rel=\"nofollow noreferrer\">Qualcomm&#39;s Voice Assist</a> which takes advantage of low power always on listening."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1638702780,"post_id":70146264,"comment_id":124153462,"body_markdown":"@floxbr Thank you for sharing this info. Picovoice/Porcupine is very useful!","body":"@floxbr Thank you for sharing this info. Picovoice/Porcupine is very useful!"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638123844,"creation_date":1638123844,"question_id":70146264,"body_markdown":"I&#39;m trying to figure out a way to use Speech Recognizer permanently. The goal is that my app will listen to what I am constantly saying and handles when I say &quot;OK Phone&quot;.\r\n\r\nI have tried this with Speech Recognizer in a service. So there was a loop, like when speech recognizer has finished to listen, it outputs the result and start listening again. Well, that was a bad idea and it didn&#39;t work well, because the speech recognizer was listening only for a short time. So there was a gap of a few seconds between the end of the speech and the beginning of the next speech. \r\n\r\nAs I have realized that the speech recognizer doesn&#39;t provide permanent listening, I have tried it with the library PocketSphinx. I have bad experience with that library since it can&#39;t match the words clearly as Speech Recognizer from Google does.\r\n\r\nI also thought about recording an audio and then passing it to Speech Recognizer. The problem with this is that it would not work in real-time.\r\n\r\nHowever, I am running out of ideas. Instead of using any libraries, I would like to understand how Google is able to listen to you and matches when you say &quot;OK Google&quot;.\r\n\r\nAny ideas would be appreciated!\r\n\r\n\r\n","title":"Running speech recognizer permanently","body":"<p>I'm trying to figure out a way to use Speech Recognizer permanently. The goal is that my app will listen to what I am constantly saying and handles when I say &quot;OK Phone&quot;.</p>\n<p>I have tried this with Speech Recognizer in a service. So there was a loop, like when speech recognizer has finished to listen, it outputs the result and start listening again. Well, that was a bad idea and it didn't work well, because the speech recognizer was listening only for a short time. So there was a gap of a few seconds between the end of the speech and the beginning of the next speech.</p>\n<p>As I have realized that the speech recognizer doesn't provide permanent listening, I have tried it with the library PocketSphinx. I have bad experience with that library since it can't match the words clearly as Speech Recognizer from Google does.</p>\n<p>I also thought about recording an audio and then passing it to Speech Recognizer. The problem with this is that it would not work in real-time.</p>\n<p>However, I am running out of ideas. Instead of using any libraries, I would like to understand how Google is able to listen to you and matches when you say &quot;OK Google&quot;.</p>\n<p>Any ideas would be appreciated!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":5945965,"reputation":1809,"user_id":4675457,"display_name":"Todor Kostov"},"score":0,"creation_date":1638117665,"post_id":70145353,"comment_id":123996713,"body_markdown":"Have you checked the Firestore documentation for reading data? https://firebase.google.com/docs/firestore/query-data/get-data#get_a_document","body":"Have you checked the Firestore documentation for reading data? <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#get_a_document\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/query-data/&hellip;</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1638123753,"post_id":70145353,"comment_id":123998242,"body_markdown":"Data is loaded from Firestore (and most modern cloud APIs) asynchronously. If you step through this code in a debugger, or place some log statements, you&#39;ll see that your `storageReference = FirebaseStorage.getInstance()...` happens *before* the call to `setYear(gyear)` ever executes, which is why you don&#39;t get the value you expect. The solution for this is always the same: any code that needs the data from the database must be inside `onEvent` or be called from there.","body":"Data is loaded from Firestore (and most modern cloud APIs) asynchronously. If you step through this code in a debugger, or place some log statements, you&#39;ll see that your <code>storageReference = FirebaseStorage.getInstance()...</code> happens <i>before</i> the call to <code>setYear(gyear)</code> ever executes, which is why you don&#39;t get the value you expect. The solution for this is always the same: any code that needs the data from the database must be inside <code>onEvent</code> or be called from there."}],"owner":{"account_id":23480014,"reputation":1,"user_id":17532298,"display_name":"Jeevan Kumar A Das"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638123773,"answer_count":0,"score":0,"last_activity_date":1638123815,"creation_date":1638116755,"question_id":70145353,"body_markdown":"I am trying to retrieve the value of year from a collection on cloud firestore, I will use this year value to retrieve data from the firestore storage. The code I am using for doing this is \r\n\r\n```\r\n        DocumentReference documentReference = fStore.collection(&quot;Users&quot;).document(userId);\r\n        documentReference.addSnapshotListener(this, new EventListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                if (error != null){\r\n\r\n                    if (progressDialog.isShowing())\r\n                        progressDialog.dismiss();\r\n                    Log.e(&quot;Firestore error&quot;,error.getMessage());\r\n                    return;\r\n                }\r\n                assert value != null;\r\n                String gyear = value.getString(&quot;Year&quot;);\r\n                setYear(gyear);\r\n            }\r\n        });\r\n       storageReference = FirebaseStorage.getInstance().getReference(&quot;AcademicCalendar/&quot;+getYear()+&quot;/AC.jpg&quot;);\r\n\r\n```\r\nhere the setYear and getYear are setter and getter for the year variable of type string. I want to store the value of year from firestore to this string. But when I do so I am getting the value as null. Below I have printed the storageReference, as you can see the value is null.\r\n\r\n```\r\nI/System.out: StorageRefgs://dsu-app-cm.appspot.com/AcademicCalendar/null/AC.jpg\r\n```\r\ncould your please help me find a way to store the year in a string variable so I can use it to retrieve data from firebase storage?","title":"How to retrieve any value from Firestore collections and store it in a variable?","body":"<p>I am trying to retrieve the value of year from a collection on cloud firestore, I will use this year value to retrieve data from the firestore storage. The code I am using for doing this is</p>\n<pre><code>        DocumentReference documentReference = fStore.collection(&quot;Users&quot;).document(userId);\n        documentReference.addSnapshotListener(this, new EventListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\n                if (error != null){\n\n                    if (progressDialog.isShowing())\n                        progressDialog.dismiss();\n                    Log.e(&quot;Firestore error&quot;,error.getMessage());\n                    return;\n                }\n                assert value != null;\n                String gyear = value.getString(&quot;Year&quot;);\n                setYear(gyear);\n            }\n        });\n       storageReference = FirebaseStorage.getInstance().getReference(&quot;AcademicCalendar/&quot;+getYear()+&quot;/AC.jpg&quot;);\n\n</code></pre>\n<p>here the setYear and getYear are setter and getter for the year variable of type string. I want to store the value of year from firestore to this string. But when I do so I am getting the value as null. Below I have printed the storageReference, as you can see the value is null.</p>\n<pre><code>I/System.out: StorageRefgs://dsu-app-cm.appspot.com/AcademicCalendar/null/AC.jpg\n</code></pre>\n<p>could your please help me find a way to store the year in a string variable so I can use it to retrieve data from firebase storage?</p>\n"},{"tags":["java","database","multithreading","concurrency","batch-processing"],"comments":[{"owner":{"account_id":7759488,"reputation":264,"user_id":5872703,"display_name":"Mouamle Hasan"},"score":1,"creation_date":1638129748,"post_id":70146203,"comment_id":123999732,"body_markdown":"Maybe a single connection can&#39;t handle concurrent writes, have you tried with multiple connections or connection pools?","body":"Maybe a single connection can&#39;t handle concurrent writes, have you tried with multiple connections or connection pools?"}],"owner":{"account_id":23445538,"reputation":21,"user_id":17502399,"display_name":"Михаил Фролов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638123410,"creation_date":1638123410,"question_id":70146203,"body_markdown":"I have an `embedded SQL DataBase` that contains 2 million+ rows with String and Integer fields.&lt;br /&gt; The dataBase is filled by addBatch and executeBatch operations where one batch = 100.000 requests.\r\n\r\n**The function which create one Batch:**\r\n```java\r\nlimit = 100000\r\npublic void insertData(data) {\r\n   if (insertCounter &gt;= limit) {\r\n     flushToDb();\r\n   }\r\n   prepareInsert.setString(1, data.getString());\r\n   prepareInsert.setString(2, data.getString());\r\n   prepareInsert.setString(3, data.getString());\r\n   prepareInsert.setString(4, data.getString());\r\n   prepareInsert.setInteger(5, data.getInteger());\r\n   prepareInsert.setString(6, data.getString());\r\n   prepareInsertRef.setInteger(7, data.getInteger());\r\n   prepareInsertRef.addBatch();\r\n   insertCounter++;\r\n}\r\n```\r\nWhen I use only one thread the database is filled in 13 seconds.\r\nHowever, when I try to add the concurrency my performance does not increase.\r\nIn my case I create \r\n```java\r\nexecutorService = Executors.newFixedThreadPool(THREAD_NUMBER);\r\n```\r\nIt executes the *InsertDate* tasks from the [BlockingQueue][1] concurrently, but my program&#39;s running time increases to 18 seconds.\r\nIn the project I use the `HSQL database` because it supports concurrency write and read operations.\r\n\r\n\r\nI&#39;d like to hear your ideas on how to improve my multi-threads solution for database filling.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html","title":"Concurrency Batch filling the database","body":"<p>I have an <code>embedded SQL DataBase</code> that contains 2 million+ rows with String and Integer fields.<br /> The dataBase is filled by addBatch and executeBatch operations where one batch = 100.000 requests.</p>\n<p><strong>The function which create one Batch:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>limit = 100000\npublic void insertData(data) {\n   if (insertCounter &gt;= limit) {\n     flushToDb();\n   }\n   prepareInsert.setString(1, data.getString());\n   prepareInsert.setString(2, data.getString());\n   prepareInsert.setString(3, data.getString());\n   prepareInsert.setString(4, data.getString());\n   prepareInsert.setInteger(5, data.getInteger());\n   prepareInsert.setString(6, data.getString());\n   prepareInsertRef.setInteger(7, data.getInteger());\n   prepareInsertRef.addBatch();\n   insertCounter++;\n}\n</code></pre>\n<p>When I use only one thread the database is filled in 13 seconds.\nHowever, when I try to add the concurrency my performance does not increase.\nIn my case I create</p>\n<pre class=\"lang-java prettyprint-override\"><code>executorService = Executors.newFixedThreadPool(THREAD_NUMBER);\n</code></pre>\n<p>It executes the <em>InsertDate</em> tasks from the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">BlockingQueue</a> concurrently, but my program's running time increases to 18 seconds.\nIn the project I use the <code>HSQL database</code> because it supports concurrency write and read operations.</p>\n<p>I'd like to hear your ideas on how to improve my multi-threads solution for database filling.</p>\n"},{"tags":["java","swing","fonts","cross-platform","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1638122671,"creation_date":1367242329,"answer_id":16279950,"question_id":16279781,"body_markdown":"You can use the logical font &quot;monospaced&quot;. While it guarantees to have a font that has the same size for all characters, it won&#39;t be the same on all platform.\r\n\r\n    import java.awt.Font;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class TestTextArea {\r\n    \r\n    \tprivate void initUI() {\r\n    \t\tJFrame frame = new JFrame(&quot;test&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tJTextArea textArea = new JTextArea(24, 80);\r\n    \t\ttextArea.setFont(new Font(Font.MONOSPACED, Font.PLAIN, 12));\r\n    \t\tframe.add(new JScrollPane(textArea));\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew TestTextArea().initUI();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nAlternatively, you could look up a &quot;free&quot; font which meets your need, embed that font in with code and load it with `java.awt.Font.createFont(int, InputStream)`.\r\n","title":"Getting JTextArea to display fixed-width font without antialiasing","body":"<p>You can use the logical font &quot;monospaced&quot;. While it guarantees to have a font that has the same size for all characters, it won't be the same on all platform.</p>\n<pre><code>import java.awt.Font;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\n\npublic class TestTextArea {\n\n    private void initUI() {\n        JFrame frame = new JFrame(&quot;test&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JTextArea textArea = new JTextArea(24, 80);\n        textArea.setFont(new Font(Font.MONOSPACED, Font.PLAIN, 12));\n        frame.add(new JScrollPane(textArea));\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new TestTextArea().initUI();\n            }\n        });\n\n    }\n\n}\n</code></pre>\n<p>Alternatively, you could look up a &quot;free&quot; font which meets your need, embed that font in with code and load it with <code>java.awt.Font.createFont(int, InputStream)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2281740,"reputation":711,"user_id":2006658,"accept_rate":83,"display_name":"CLOUGH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455821111,"creation_date":1455821111,"answer_id":35489879,"question_id":16279781,"body_markdown":"I came close to a solution by using `JTextPane` instead of `JTextArea` by setting the content type of the `JTextPane` to `text/html` and setting the text as a `html` content.\r\n\r\n    JtextPane textPane;\r\n    String text;\r\n    \r\n    // initialization\r\n    \r\n    textPane.setContentType(&quot;text/html&quot;);\r\n    textPane.setText(&quot;&quot;\r\n            + &quot;&lt;html&gt;&quot;\r\n            + &quot;&lt;body&gt;&quot;\r\n            + &quot;&lt;p&gt;&quot;\r\n            + &quot;&lt;tt&gt;&quot;+text.replaceAll(&quot; &quot;, &quot;&amp;nbsp;&quot;).replaceAll(&quot;\\n&quot;, &quot;&lt;br&gt;&quot;)+&quot;&lt;/tt&gt;&quot;\r\n            + &quot;&lt;/p&gt;&quot;\r\n            + &quot;&lt;/body&gt;&quot;\r\n            + &quot;&lt;/html&gt;&quot;                \r\n            + &quot;&quot;);\r\n\r\n`&lt;tt&gt;` tag is making the text **monospaced**  and all white spaces and new line characters of the `text` have replaced with html [space entity][1] and `&lt;br&gt;` tag, respectively. I tested the output in both Windows and Ubuntu OSes and they were same. \r\n\r\n\r\n  [1]: http://www.w3schools.com/html/html_entities.asp","title":"Getting JTextArea to display fixed-width font without antialiasing","body":"<p>I came close to a solution by using <code>JTextPane</code> instead of <code>JTextArea</code> by setting the content type of the <code>JTextPane</code> to <code>text/html</code> and setting the text as a <code>html</code> content.</p>\n\n<pre><code>JtextPane textPane;\nString text;\n\n// initialization\n\ntextPane.setContentType(\"text/html\");\ntextPane.setText(\"\"\n        + \"&lt;html&gt;\"\n        + \"&lt;body&gt;\"\n        + \"&lt;p&gt;\"\n        + \"&lt;tt&gt;\"+text.replaceAll(\" \", \"&amp;nbsp;\").replaceAll(\"\\n\", \"&lt;br&gt;\")+\"&lt;/tt&gt;\"\n        + \"&lt;/p&gt;\"\n        + \"&lt;/body&gt;\"\n        + \"&lt;/html&gt;\"                \n        + \"\");\n</code></pre>\n\n<p><code>&lt;tt&gt;</code> tag is making the text <strong>monospaced</strong>  and all white spaces and new line characters of the <code>text</code> have replaced with html <a href=\"http://www.w3schools.com/html/html_entities.asp\" rel=\"nofollow\">space entity</a> and <code>&lt;br&gt;</code> tag, respectively. I tested the output in both Windows and Ubuntu OSes and they were same. </p>\n"}],"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21567,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":16279950,"answer_count":2,"score":13,"last_activity_date":1638122671,"creation_date":1367241845,"question_id":16279781,"body_markdown":"Does anybody know how to get JTextArea to display a fixed size\r\nfont on all platforms?\r\n\r\nI want to make a simple code editor with save/open functionality,\r\nwhich is simple enough, but I would like to get font to be \r\nfixed-size, preferably courier new.\r\n\r\nThe problem is that courier new is proprietary apparently, and not\r\nonly is it not installed by default on many systems, but on most\r\nmodern systems, it is set to cleartype be default, which makes\r\nit look like garbage.\r\n\r\nI am tempted to make my own JPanel with update-render-paint and\r\nreinvent the JTextArea, and save fonts as fixed-size bitmaps, but\r\nthis approach appears silly, and very time consuming.\r\n\r\nI would like to include a free fixed-size font to the project and\r\nuse that font on all platforms, which appears possible. However, \r\nmodern systems appear to force-smooth all fonts, which I would\r\nlike to prevent it from doing.\r\n\r\nSadly, it appears that Swing automatically abides by system preferences\r\nso without destroying user&#39;s settings, it appears to be a no go.\r\n\r\nSo in short, is there a way to get JTextArea to display a fixed-width\r\nfont and disable font smoothing/antialiasing (or at least toggle), or\r\nis this task impossible using swing?\r\n\r\nThanks ahead of time!","title":"Getting JTextArea to display fixed-width font without antialiasing","body":"<p>Does anybody know how to get JTextArea to display a fixed size\nfont on all platforms?</p>\n\n<p>I want to make a simple code editor with save/open functionality,\nwhich is simple enough, but I would like to get font to be \nfixed-size, preferably courier new.</p>\n\n<p>The problem is that courier new is proprietary apparently, and not\nonly is it not installed by default on many systems, but on most\nmodern systems, it is set to cleartype be default, which makes\nit look like garbage.</p>\n\n<p>I am tempted to make my own JPanel with update-render-paint and\nreinvent the JTextArea, and save fonts as fixed-size bitmaps, but\nthis approach appears silly, and very time consuming.</p>\n\n<p>I would like to include a free fixed-size font to the project and\nuse that font on all platforms, which appears possible. However, \nmodern systems appear to force-smooth all fonts, which I would\nlike to prevent it from doing.</p>\n\n<p>Sadly, it appears that Swing automatically abides by system preferences\nso without destroying user's settings, it appears to be a no go.</p>\n\n<p>So in short, is there a way to get JTextArea to display a fixed-width\nfont and disable font smoothing/antialiasing (or at least toggle), or\nis this task impossible using swing?</p>\n\n<p>Thanks ahead of time!</p>\n"},{"tags":["java","maven","weka","smote"],"comments":[{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1637175814,"post_id":70009796,"comment_id":123758658,"body_markdown":"What Java version are you using?","body":"What Java version are you using?"},{"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"score":0,"creation_date":1637230114,"post_id":70009796,"comment_id":123772475,"body_markdown":"I&#39;m currently using `java 11.0.11`. I&#39;m going to add this information editing the question.","body":"I&#39;m currently using <code>java 11.0.11</code>. I&#39;m going to add this information editing the question."},{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1637362219,"post_id":70009796,"comment_id":123815110,"body_markdown":"You&#39;ll have to post the code that generates your train/test sets as well.","body":"You&#39;ll have to post the code that generates your train/test sets as well."},{"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"score":0,"creation_date":1637407873,"post_id":70009796,"comment_id":123821427,"body_markdown":"Added in **EDIT 3**.","body":"Added in <b>EDIT 3</b>."}],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637615063,"creation_date":1637274611,"answer_id":70027568,"question_id":70009796,"body_markdown":"I put together a quick example Maven project and I don&#39;t have any problems under Java 11 (`openjdk version &quot;11.0.11&quot; 2021-04-20`):\r\n\r\nThe example `pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.github.fracpete&lt;/groupId&gt;\r\n  &lt;artifactId&gt;smote-test&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;0.0.1&lt;/version&gt;\r\n\r\n  &lt;name&gt;smote-test&lt;/name&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\r\n       &lt;artifactId&gt;weka-stable&lt;/artifactId&gt;\r\n       &lt;version&gt;3.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\r\n       &lt;artifactId&gt;SMOTE&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;exec&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;executable&gt;java&lt;/executable&gt;\r\n          &lt;arguments&gt;\r\n            &lt;argument&gt;-classpath&lt;/argument&gt;\r\n            &lt;classpath/&gt;\r\n            &lt;argument&gt;smote.SmoteTest&lt;/argument&gt;\r\n          &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI&#39;ve adapted your `FilesCreator` class to work with Java 8 syntax (easier to read for me) and to load an ARFF file instead of a CSV one. This class needs to go into `src/main/java/smote`:\r\n\r\n```java\r\npackage smote;\r\n\r\nimport weka.core.Attribute;\r\nimport weka.core.Instance;\r\nimport weka.core.Instances;\r\nimport weka.core.converters.ArffLoader;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class FilesCreator {\r\n\r\n  private File basicArff;\r\n  private Instances totalData;\r\n\r\n  private ArrayList&lt;Instance&gt; testingInstances;\r\n  private File testingSet;\r\n  private File trainingSet;\r\n\r\n  /* *******************************************************************/\r\n\r\n  public FilesCreator(File fullArffFile, File arffFile, File training, File testing)\r\n      throws IOException {\r\n    ArffLoader loader = new ArffLoader();\r\n    loader.setSource(fullArffFile);\r\n    this.totalData = loader.getDataSet(); // get instances object\r\n    this.basicArff = arffFile;\r\n    this.testingSet = testing;\r\n    this.trainingSet = training;\r\n  }\r\n\r\n  private ArrayList&lt;Attribute&gt; getAttributesList(){\r\n    ArrayList&lt;Attribute&gt; attributes = new ArrayList&lt;Attribute&gt;();\r\n    int i;\r\n    for (i = 0; i &lt; this.totalData.numAttributes(); i++)\r\n      attributes.add(this.totalData.attribute(i));\r\n    return attributes;\r\n  }\r\n\r\n  private void writeHeader(PrintWriter pf) {\r\n    // just write the attributes in the given file.\r\n    // f is either this.testingSet or this.trainingSet\r\n    pf.append(&quot;@relation &quot; + this.totalData.relationName() + &quot;\\n\\n&quot;);\r\n    pf.flush();\r\n    ArrayList&lt;Attribute&gt; attributes = this.getAttributesList();\r\n    for (Attribute line : attributes){\r\n      pf.append(line.toString() + &quot;\\n&quot;);\r\n      pf.flush();\r\n    }\r\n    pf.append(&quot;\\n@data\\n&quot;);\r\n    pf.flush();\r\n  }\r\n\r\n  /* *******************************************************************/\r\n  /* testing file */\r\n\r\n  // testing instances\r\n  private void computeTestingSet(int indexRelease){\r\n    int i;\r\n    int currIndex;\r\n    // re-initialize the list\r\n    this.testingInstances = new ArrayList&lt;&gt;();\r\n    for (i = 0; i &lt; this.totalData.numInstances(); i++){\r\n      // first attribute is the release index\r\n      currIndex = (int) this.totalData.instance(i).value(0);\r\n      if (currIndex == indexRelease)\r\n\ttestingInstances.add(this.totalData.instance(i));\r\n      else if (currIndex &gt; indexRelease)\r\n\tbreak;\r\n    }\r\n  }\r\n\r\n  // testing file\r\n  private void computeTestingFile(int indexRelease){\r\n    this.computeTestingSet(indexRelease);\r\n    try(PrintWriter fp = new PrintWriter(this.testingSet)) {\r\n\r\n      this.writeHeader(fp);\r\n      for (Instance line : this.testingInstances){\r\n\tfp.append(line.toString() + &quot;\\n&quot;);\r\n\tfp.flush();\r\n      }\r\n    } catch (IOException e) {\r\n      Logger logger = Logger.getLogger(FilesCreator.class.getName());\r\n      logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\r\n    }\r\n  }\r\n  /* *******************************************************************/\r\n  // training file\r\n  private void computeTrainingFile(int indexRelease){\r\n    int i;\r\n\r\n    try(FileWriter fw = new FileWriter(this.trainingSet, true);\r\n\tPrintWriter fp = new PrintWriter(fw)) {\r\n      if (indexRelease == 1) {\r\n\t// first iteration: need the header.\r\n\tfp.print(&quot;&quot;);\r\n\tfp.flush();\r\n\tthis.writeHeader(fp);\r\n\tfor (i = 0; i &lt; this.totalData.numInstances(); i++) {\r\n\t  if ( (int) this.totalData.instance(i).value(0) &gt; indexRelease)\r\n\t    break;\r\n\t  fp.append(this.totalData.instance(i).toString() + &quot;\\n&quot;);\r\n\t  fp.flush();\r\n\t}\r\n      }\r\n      else {\r\n\t// in this case just append the testing instances, which\r\n\t// are the indexReleas+1-th data:\r\n\tfor (Instance obj : this.testingInstances){\r\n\t  fp.append(obj.toString() + &quot;\\n&quot;);\r\n\t  fp.flush();\r\n\t}\r\n      }\r\n    } catch (IOException e) {\r\n      Logger logger = Logger.getLogger(FilesCreator.class.getName());\r\n      logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\r\n    }\r\n  }\r\n\r\n  /* *******************************************************************/\r\n  // public method\r\n  public void computeFiles(int indexRelease){\r\n    this.computeTrainingFile(indexRelease);\r\n    this.computeTestingFile(indexRelease + 1);\r\n  }\r\n}\r\n```\r\n\r\nI then combined your two example ARFF files into a single one: `full.arff`\r\n\r\nThe `smote.SmoteTest` class located in `src/main/java/smote` (you&#39;ll need to change the hard-coded paths to the datasets):\r\n\r\n```java\r\npackage smote;\r\n\r\nimport weka.classifiers.Evaluation;\r\nimport weka.classifiers.bayes.NaiveBayes;\r\nimport weka.classifiers.meta.FilteredClassifier;\r\nimport weka.core.Instances;\r\nimport weka.core.converters.ConverterUtils.DataSource;\r\nimport weka.filters.supervised.instance.SMOTE;\r\n\r\nimport java.io.File;\r\n\r\npublic class SmoteTest {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    FilesCreator filesCreator = new FilesCreator(new File(&quot;/home/fracpete/full.arff&quot;), new File(&quot;.&quot;), new File(&quot;/home/fracpete/train.arff&quot;), new File(&quot;/home/fracpete/test.arff&quot;));\r\n    for (int i = 1; i &lt; 20; i++) {\r\n      System.out.println(&quot;--&gt; &quot; + i);\r\n      filesCreator.computeFiles(i);\r\n      System.out.println(&quot;Reading train&quot;);\r\n      Instances trainingDataset = DataSource.read(&quot;/home/fracpete/train.arff&quot;);\r\n      trainingDataset.setClassIndex(trainingDataset.numAttributes() - 1);\r\n      System.out.println(&quot;Reading test&quot;);\r\n      Instances testingDataset = DataSource.read(&quot;/home/fracpete/test.arff&quot;);\r\n      testingDataset.setClassIndex(trainingDataset.numAttributes() - 1);\r\n      System.out.println(&quot;smote&quot;);\r\n      FilteredClassifier filtered = new FilteredClassifier();\r\n      SMOTE smote = new SMOTE();\r\n      filtered.setFilter(smote);\r\n      filtered.setClassifier(new NaiveBayes());\r\n      filtered.buildClassifier(trainingDataset);\r\n      Evaluation currEvaluation = new Evaluation(testingDataset);\r\n      currEvaluation.evaluateModel(filtered, testingDataset);\r\n      System.out.println(currEvaluation.toSummaryString());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThen compile and run it:\r\n\r\n```bash\r\nmvn clean install\r\nmvn exec:exec \r\n```\r\n\r\nThis will fail as well at the second iteration.\r\n\r\nHowever, after removing all the duplicate rows from the combined dataset, the error goes away.\r\n\r\nMy feeling is that SMOTE doesn&#39;t cope with duplicate rows in the input data.\r\n\r\nNB: Before any run, make sure to remove the `train.arff` and `test.arff` files.\r\n\r\n","title":"Using SMOTE on java raises Comparison method violates its general contract","body":"<p>I put together a quick example Maven project and I don't have any problems under Java 11 (<code>openjdk version &quot;11.0.11&quot; 2021-04-20</code>):</p>\n<p>The example <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.github.fracpete&lt;/groupId&gt;\n  &lt;artifactId&gt;smote-test&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n\n  &lt;name&gt;smote-test&lt;/name&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\n       &lt;artifactId&gt;weka-stable&lt;/artifactId&gt;\n       &lt;version&gt;3.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\n       &lt;artifactId&gt;SMOTE&lt;/artifactId&gt;\n       &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;executable&gt;java&lt;/executable&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;-classpath&lt;/argument&gt;\n            &lt;classpath/&gt;\n            &lt;argument&gt;smote.SmoteTest&lt;/argument&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I've adapted your <code>FilesCreator</code> class to work with Java 8 syntax (easier to read for me) and to load an ARFF file instead of a CSV one. This class needs to go into <code>src/main/java/smote</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package smote;\n\nimport weka.core.Attribute;\nimport weka.core.Instance;\nimport weka.core.Instances;\nimport weka.core.converters.ArffLoader;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class FilesCreator {\n\n  private File basicArff;\n  private Instances totalData;\n\n  private ArrayList&lt;Instance&gt; testingInstances;\n  private File testingSet;\n  private File trainingSet;\n\n  /* *******************************************************************/\n\n  public FilesCreator(File fullArffFile, File arffFile, File training, File testing)\n      throws IOException {\n    ArffLoader loader = new ArffLoader();\n    loader.setSource(fullArffFile);\n    this.totalData = loader.getDataSet(); // get instances object\n    this.basicArff = arffFile;\n    this.testingSet = testing;\n    this.trainingSet = training;\n  }\n\n  private ArrayList&lt;Attribute&gt; getAttributesList(){\n    ArrayList&lt;Attribute&gt; attributes = new ArrayList&lt;Attribute&gt;();\n    int i;\n    for (i = 0; i &lt; this.totalData.numAttributes(); i++)\n      attributes.add(this.totalData.attribute(i));\n    return attributes;\n  }\n\n  private void writeHeader(PrintWriter pf) {\n    // just write the attributes in the given file.\n    // f is either this.testingSet or this.trainingSet\n    pf.append(&quot;@relation &quot; + this.totalData.relationName() + &quot;\\n\\n&quot;);\n    pf.flush();\n    ArrayList&lt;Attribute&gt; attributes = this.getAttributesList();\n    for (Attribute line : attributes){\n      pf.append(line.toString() + &quot;\\n&quot;);\n      pf.flush();\n    }\n    pf.append(&quot;\\n@data\\n&quot;);\n    pf.flush();\n  }\n\n  /* *******************************************************************/\n  /* testing file */\n\n  // testing instances\n  private void computeTestingSet(int indexRelease){\n    int i;\n    int currIndex;\n    // re-initialize the list\n    this.testingInstances = new ArrayList&lt;&gt;();\n    for (i = 0; i &lt; this.totalData.numInstances(); i++){\n      // first attribute is the release index\n      currIndex = (int) this.totalData.instance(i).value(0);\n      if (currIndex == indexRelease)\n    testingInstances.add(this.totalData.instance(i));\n      else if (currIndex &gt; indexRelease)\n    break;\n    }\n  }\n\n  // testing file\n  private void computeTestingFile(int indexRelease){\n    this.computeTestingSet(indexRelease);\n    try(PrintWriter fp = new PrintWriter(this.testingSet)) {\n\n      this.writeHeader(fp);\n      for (Instance line : this.testingInstances){\n    fp.append(line.toString() + &quot;\\n&quot;);\n    fp.flush();\n      }\n    } catch (IOException e) {\n      Logger logger = Logger.getLogger(FilesCreator.class.getName());\n      logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\n    }\n  }\n  /* *******************************************************************/\n  // training file\n  private void computeTrainingFile(int indexRelease){\n    int i;\n\n    try(FileWriter fw = new FileWriter(this.trainingSet, true);\n    PrintWriter fp = new PrintWriter(fw)) {\n      if (indexRelease == 1) {\n    // first iteration: need the header.\n    fp.print(&quot;&quot;);\n    fp.flush();\n    this.writeHeader(fp);\n    for (i = 0; i &lt; this.totalData.numInstances(); i++) {\n      if ( (int) this.totalData.instance(i).value(0) &gt; indexRelease)\n        break;\n      fp.append(this.totalData.instance(i).toString() + &quot;\\n&quot;);\n      fp.flush();\n    }\n      }\n      else {\n    // in this case just append the testing instances, which\n    // are the indexReleas+1-th data:\n    for (Instance obj : this.testingInstances){\n      fp.append(obj.toString() + &quot;\\n&quot;);\n      fp.flush();\n    }\n      }\n    } catch (IOException e) {\n      Logger logger = Logger.getLogger(FilesCreator.class.getName());\n      logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\n    }\n  }\n\n  /* *******************************************************************/\n  // public method\n  public void computeFiles(int indexRelease){\n    this.computeTrainingFile(indexRelease);\n    this.computeTestingFile(indexRelease + 1);\n  }\n}\n</code></pre>\n<p>I then combined your two example ARFF files into a single one: <code>full.arff</code></p>\n<p>The <code>smote.SmoteTest</code> class located in <code>src/main/java/smote</code> (you'll need to change the hard-coded paths to the datasets):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package smote;\n\nimport weka.classifiers.Evaluation;\nimport weka.classifiers.bayes.NaiveBayes;\nimport weka.classifiers.meta.FilteredClassifier;\nimport weka.core.Instances;\nimport weka.core.converters.ConverterUtils.DataSource;\nimport weka.filters.supervised.instance.SMOTE;\n\nimport java.io.File;\n\npublic class SmoteTest {\n\n  public static void main(String[] args) throws Exception {\n    FilesCreator filesCreator = new FilesCreator(new File(&quot;/home/fracpete/full.arff&quot;), new File(&quot;.&quot;), new File(&quot;/home/fracpete/train.arff&quot;), new File(&quot;/home/fracpete/test.arff&quot;));\n    for (int i = 1; i &lt; 20; i++) {\n      System.out.println(&quot;--&gt; &quot; + i);\n      filesCreator.computeFiles(i);\n      System.out.println(&quot;Reading train&quot;);\n      Instances trainingDataset = DataSource.read(&quot;/home/fracpete/train.arff&quot;);\n      trainingDataset.setClassIndex(trainingDataset.numAttributes() - 1);\n      System.out.println(&quot;Reading test&quot;);\n      Instances testingDataset = DataSource.read(&quot;/home/fracpete/test.arff&quot;);\n      testingDataset.setClassIndex(trainingDataset.numAttributes() - 1);\n      System.out.println(&quot;smote&quot;);\n      FilteredClassifier filtered = new FilteredClassifier();\n      SMOTE smote = new SMOTE();\n      filtered.setFilter(smote);\n      filtered.setClassifier(new NaiveBayes());\n      filtered.buildClassifier(trainingDataset);\n      Evaluation currEvaluation = new Evaluation(testingDataset);\n      currEvaluation.evaluateModel(filtered, testingDataset);\n      System.out.println(currEvaluation.toSummaryString());\n    }\n  }\n}\n</code></pre>\n<p>Then compile and run it:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn clean install\nmvn exec:exec \n</code></pre>\n<p>This will fail as well at the second iteration.</p>\n<p>However, after removing all the duplicate rows from the combined dataset, the error goes away.</p>\n<p>My feeling is that SMOTE doesn't cope with duplicate rows in the input data.</p>\n<p>NB: Before any run, make sure to remove the <code>train.arff</code> and <code>test.arff</code> files.</p>\n"},{"tags":[],"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638122558,"creation_date":1638122558,"answer_id":70146115,"question_id":70009796,"body_markdown":"I solved the problem changing the smote dependency in my `pom.xml` in:\r\n```maven\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\r\n   &lt;artifactId&gt;SMOTE&lt;/artifactId&gt;\r\n   &lt;version&gt;1.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIn this version, I don&#39;t have any problem and my code runs as expected. Hope this will help others.","title":"Using SMOTE on java raises Comparison method violates its general contract","body":"<p>I solved the problem changing the smote dependency in my <code>pom.xml</code> in:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\n   &lt;artifactId&gt;SMOTE&lt;/artifactId&gt;\n   &lt;version&gt;1.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In this version, I don't have any problem and my code runs as expected. Hope this will help others.</p>\n"}],"owner":{"account_id":21295225,"reputation":398,"user_id":15671866,"display_name":"ma4strong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70146115,"answer_count":2,"score":0,"last_activity_date":1638122558,"creation_date":1637173978,"question_id":70009796,"body_markdown":"&lt;br&gt;\r\nI&#39;m working on a project in java and I need to use Weka&#39;s API. I use Maven to manage dependencies and, in particular, I have the following one:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\r\n   &lt;artifactId&gt;weka-stable&lt;/artifactId&gt;\r\n   &lt;version&gt;3.8.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIn this version, the SMOTE class is not kept, but I really need it; that&#39;s why I also added in my `pom.xml`  the following dependency:\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\r\n   &lt;artifactId&gt;SMOTE&lt;/artifactId&gt;\r\n   &lt;version&gt;1.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIn my Java code, i also try to develop the `WalkForward` validation technique: I can prepare both *training set* and *testing set* for each step, so i can use them in a loop in which what I do is the following:\r\n```java\r\nfor (...){\r\n   var filtered = new FilteredClassifier();\r\n   var smote = new SMOTE();\r\n   filtered.setFilter(smote);\r\n   filtered.setClassifier(new NaiveBayes());\r\n   filtered.buildClassifier(trainingDataset);\r\n   var currEvaluation = new Evaluation(testingDataset);\r\n   currEvaluation.evaluateModel(filtered, testingDataset);\r\n}\r\n```\r\n`trainingDataset` and `testingDataset` type is `Instances` and their value changes appropriately in each iteration. In the first iteration, no problem occurs, but in the second one the `java.lang.IllegalArgumentException: Comparison method violates its general contract!` is raised. The exception stack trace is:\r\n```\r\njava.lang.IllegalArgumentException: Comparison method violates its general contract!\r\n\tat java.base/java.util.TimSort.mergeLo(TimSort.java:781)\r\n\tat java.base/java.util.TimSort.mergeAt(TimSort.java:518)\r\n\tat java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:245)\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1441)\r\n\tat java.base/java.util.List.sort(List.java:506)\r\n\tat java.base/java.util.Collections.sort(Collections.java:179)\r\n\tat weka.filters.supervised.instance.SMOTE.doSMOTE(SMOTE.java:637)\r\n\tat weka.filters.supervised.instance.SMOTE.batchFinished(SMOTE.java:489)\r\n\tat weka.filters.Filter.useFilter(Filter.java:708)\r\n\tat weka.classifiers.meta.FilteredClassifier.setUp(FilteredClassifier.java:719)\r\n\tat weka.classifiers.meta.FilteredClassifier.buildClassifier(FilteredClassifier.java:794)\r\n```\r\nDoes anyone know how to solve the problem? &lt;br&gt;\r\nThanks in advance.&lt;br&gt;\r\n&lt;br&gt;\r\n**EDIT**: I forgot to say I&#39;m using `java 11.0.11`. &lt;br&gt;\r\n&lt;br&gt;\r\n**EDIT 2**: Based on the @fracpete answer, I deduce that the problem may be the sets creation. I state that I&#39;m trying to predict bugginess of classes of another opensource project. Because of `Walk Forward`, I have 19 steps and should have 19 different training files and 19 testing files. To avoid this, I have a list of class `InfoKeeper` which keeps Instances for train and test for each step. During the creation of this array, i do the following:\r\n\r\n 1. from the base ARFF file, i crete 2 temporary files: training test file keeping version 1 data, testing set file keeping version 2 data. Then I read these temp ARFFs to create the Instances class. These will be kept by `InfoKeeper` related on step 1. &lt;br&gt;\r\n 2. I append testing set file&#39;s row (only data, of course) in the training set files, so that it will keep version 1 and version 2 data. Then I override the training file to let it keeps the version 3 data. I read these temp ARFFs to get the Instances that will be kept by `InfoKeeper` related on step 2. &lt;br&gt;\r\n\r\nThe code iterates on step 2 to create all the remaining `InfoKeeper`. May this operation be the problem?&lt;br&gt;\r\n&lt;br&gt;\r\nI also tried to use @frecpete snippet, but the same error occurs. The files I used are the following:&lt;br&gt;\r\n&lt;a href=&quot;https://drive.google.com/file/d/1irhHW580sgGwE6QRdS3dz8gIJhOrUaS_/view?usp=sharing&quot;&gt;training set file&lt;/a&gt; &lt;br&gt;\r\n&lt;a href=&quot;https://drive.google.com/file/d/1j8o3skOEZrElrxP4H9KieqWG8OAiPNOa/view?usp=sharing&quot;&gt;testing set file&lt;/a&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n**EDIT 3**: this is how I compute files:\r\n``` java\r\npublic class FilesCreator {\r\n\r\n    private File basicArff;\r\n    private Instances totalData;\r\n\r\n    private ArrayList&lt;Instance&gt; testingInstances;\r\n    private File testingSet;\r\n    private File trainingSet;\r\n\r\n    /* *******************************************************************/\r\n\r\n    public FilesCreator(File csvFile, File arffFile, File training, File testing) \r\n           throws IOException {\r\n        var loader = new CSVLoader();\r\n        loader.setSource(csvFile);\r\n        this.totalData = loader.getDataSet(); // get instances object\r\n        this.basicArff = arffFile;\r\n        this.testingSet = testing;\r\n        this.trainingSet = training;\r\n    }\r\n\r\n    private ArrayList&lt;Attribute&gt; getAttributesList(){\r\n        var attributes = new ArrayList&lt;Attribute&gt;();\r\n        int i;\r\n        for (i = 0; i &lt; this.totalData.numAttributes(); i++)\r\n            attributes.add(this.totalData.attribute(i));\r\n        return attributes;\r\n    }\r\n\r\n    private void writeHeader(PrintWriter pf) {\r\n        // just write the attributes in the given file. \r\n        // f is either this.testingSet or this.trainingSet\r\n        pf.append(&quot;@relation &quot; + this.totalData.relationName() + &quot;\\n\\n&quot;);\r\n        pf.flush();\r\n        var attributes = this.getAttributesList();\r\n        for (Attribute line : attributes){\r\n            pf.append(line.toString() + &quot;\\n&quot;);\r\n            pf.flush();\r\n        }\r\n        pf.append(&quot;\\n@data\\n&quot;);\r\n        pf.flush();\r\n    }\r\n\r\n    /* *******************************************************************/\r\n    /* testing file */\r\n\r\n    // testing instances\r\n    private void computeTestingSet(int indexRelease){\r\n        int i;\r\n        int currIndex;\r\n        // re-initialize the list\r\n        this.testingInstances = new ArrayList&lt;&gt;();\r\n        for (i = 0; i &lt; this.totalData.numInstances(); i++){\r\n            // first attribute is the release index\r\n            currIndex = (int) this.totalData.instance(i).value(0);\r\n            if (currIndex == indexRelease)\r\n                testingInstances.add(this.totalData.instance(i));\r\n            else if (currIndex &gt; indexRelease)\r\n                break;\r\n        }\r\n    }\r\n\r\n    // testing file\r\n    private void computeTestingFile(int indexRelease){\r\n        this.computeTestingSet(indexRelease);\r\n        try(var fp = new PrintWriter(this.testingSet)) {\r\n\r\n            this.writeHeader(fp);\r\n            for (Instance line : this.testingInstances){\r\n                fp.append(line.toString() + &quot;\\n&quot;);\r\n                fp.flush();\r\n            }\r\n        } catch (IOException e) {\r\n            var logger = Logger.getLogger(FilesCreator.class.getName());\r\n            logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\r\n        }\r\n    }\r\n    /* *******************************************************************/\r\n    // training file\r\n    private void computeTrainingFile(int indexRelease){\r\n        int i;\r\n\r\n        try(var fw = new FileWriter(this.trainingSet, true);\r\n            var fp = new PrintWriter(fw)) {\r\n            if (indexRelease == 1) {\r\n                // first iteration: need the header.\r\n                fp.print(&quot;&quot;);\r\n                fp.flush();\r\n                this.writeHeader(fp);\r\n                for (i = 0; i &lt; this.totalData.numInstances(); i++) {\r\n                    if ( (int) this.totalData.instance(i).value(0) &gt; indexRelease)\r\n                        break;\r\n                    fp.append(this.totalData.instance(i).toString() + &quot;\\n&quot;);\r\n                    fp.flush();\r\n                }\r\n            }\r\n            else {\r\n                // in this case just append the testing instances, which\r\n                // are the indexReleas+1-th data:\r\n                for (Instance obj : this.testingInstances){\r\n                    fp.append(obj.toString() + &quot;\\n&quot;);\r\n                    fp.flush();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            var logger = Logger.getLogger(FilesCreator.class.getName());\r\n            logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\r\n        }\r\n    }\r\n\r\n    /* *******************************************************************/\r\n    // public method\r\n    public void computeFiles(int indexRelease){\r\n        this.computeTrainingFile(indexRelease);\r\n        this.computeTestingFile(indexRelease + 1);\r\n    }\r\n}\r\n\r\n```\r\nThe last public method is invoked inside a loop of another class, starting from 1 to 19:\r\n```java\r\n    FilesCreator filesCreator = new FilesCreator(csvFile, arffFile, training, testing);\r\n    for (i = 1; i &lt; 20; i++) {\r\n        filesCreator.computeFiles(i);\r\n        /* do something with files, such as getting Instances and\r\n           use them for SMOTE computation */\r\n    }\r\n```\r\n**EDIT 4**: I removed duplicated instances from `totalData` in `FilesCreator` by doing the following:\r\n```java\r\n var currDir = Paths.get(&quot;.&quot;).toAbsolutePath().normalize().toFile();\r\n    var ext = &quot;.arff&quot;;\r\n    var tmpFile = File.createTempFile(&quot;without_replicated&quot;, ext, currDir);\r\n    RemoveDuplicates.main(new String[]{&quot;-i&quot;, this.basicArff.toPath().toString(), &quot;-o&quot;, tmpFile.toPath().toString()});\r\n    // output file has effective 0 instances repetitions \r\n    var arffLoader = new ArffLoader();\r\n    arffLoader.setSource(tmpFile);\r\n    this.totalData = arffLoader.getDataSet();\r\n    Files.delete(tmpFile.toPath());\r\n``` \r\nI cannot manually modify it because it&#39;s output of previous computation. The code works for iteration `2`, but get the same error for iteration `3`. &lt;br&gt;\r\nThe files for this iteration are:&lt;br&gt;\r\n&lt;a href=&quot;https://drive.google.com/file/d/1QaO252xcaHaiKyFyb4aixEK4H_csM01x/view?usp=sharing&quot;&gt;train_iteration4.arff&lt;/a&gt; &lt;br&gt;\r\n&lt;a href=&quot;https://drive.google.com/file/d/1bw71PC9xOMBcnjpml80Ysdg0TDhNW__n/view?usp=sharing&quot;&gt;test_iteration4.arff&lt;/a&gt;&lt;br&gt;\r\nThis is the very full arff file obtained by the previous snippet and it&#39;s the one which is loaded by `arffLoader.setSource(tmpFile);`: &lt;br&gt;\r\n&lt;a href=&quot;https://drive.google.com/file/d/1k-0bJZBKZCMql_OMswHVGtp0z10HX4dl/view?usp=sharing&quot;&gt;full.arff&lt;/a&gt;&lt;br&gt;","title":"Using SMOTE on java raises Comparison method violates its general contract","body":"<br>\nI'm working on a project in java and I need to use Weka's API. I use Maven to manage dependencies and, in particular, I have the following one:\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\n   &lt;artifactId&gt;weka-stable&lt;/artifactId&gt;\n   &lt;version&gt;3.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In this version, the SMOTE class is not kept, but I really need it; that's why I also added in my <code>pom.xml</code>  the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;nz.ac.waikato.cms.weka&lt;/groupId&gt;\n   &lt;artifactId&gt;SMOTE&lt;/artifactId&gt;\n   &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my Java code, i also try to develop the <code>WalkForward</code> validation technique: I can prepare both <em>training set</em> and <em>testing set</em> for each step, so i can use them in a loop in which what I do is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (...){\n   var filtered = new FilteredClassifier();\n   var smote = new SMOTE();\n   filtered.setFilter(smote);\n   filtered.setClassifier(new NaiveBayes());\n   filtered.buildClassifier(trainingDataset);\n   var currEvaluation = new Evaluation(testingDataset);\n   currEvaluation.evaluateModel(filtered, testingDataset);\n}\n</code></pre>\n<p><code>trainingDataset</code> and <code>testingDataset</code> type is <code>Instances</code> and their value changes appropriately in each iteration. In the first iteration, no problem occurs, but in the second one the <code>java.lang.IllegalArgumentException: Comparison method violates its general contract!</code> is raised. The exception stack trace is:</p>\n<pre><code>java.lang.IllegalArgumentException: Comparison method violates its general contract!\n    at java.base/java.util.TimSort.mergeLo(TimSort.java:781)\n    at java.base/java.util.TimSort.mergeAt(TimSort.java:518)\n    at java.base/java.util.TimSort.mergeCollapse(TimSort.java:448)\n    at java.base/java.util.TimSort.sort(TimSort.java:245)\n    at java.base/java.util.Arrays.sort(Arrays.java:1441)\n    at java.base/java.util.List.sort(List.java:506)\n    at java.base/java.util.Collections.sort(Collections.java:179)\n    at weka.filters.supervised.instance.SMOTE.doSMOTE(SMOTE.java:637)\n    at weka.filters.supervised.instance.SMOTE.batchFinished(SMOTE.java:489)\n    at weka.filters.Filter.useFilter(Filter.java:708)\n    at weka.classifiers.meta.FilteredClassifier.setUp(FilteredClassifier.java:719)\n    at weka.classifiers.meta.FilteredClassifier.buildClassifier(FilteredClassifier.java:794)\n</code></pre>\n<p>Does anyone know how to solve the problem? <br>\nThanks in advance.<br>\n<br>\n<strong>EDIT</strong>: I forgot to say I'm using <code>java 11.0.11</code>. <br>\n<br>\n<strong>EDIT 2</strong>: Based on the @fracpete answer, I deduce that the problem may be the sets creation. I state that I'm trying to predict bugginess of classes of another opensource project. Because of <code>Walk Forward</code>, I have 19 steps and should have 19 different training files and 19 testing files. To avoid this, I have a list of class <code>InfoKeeper</code> which keeps Instances for train and test for each step. During the creation of this array, i do the following:</p>\n<ol>\n<li>from the base ARFF file, i crete 2 temporary files: training test file keeping version 1 data, testing set file keeping version 2 data. Then I read these temp ARFFs to create the Instances class. These will be kept by <code>InfoKeeper</code> related on step 1. <br></li>\n<li>I append testing set file's row (only data, of course) in the training set files, so that it will keep version 1 and version 2 data. Then I override the training file to let it keeps the version 3 data. I read these temp ARFFs to get the Instances that will be kept by <code>InfoKeeper</code> related on step 2. <br></li>\n</ol>\n<p>The code iterates on step 2 to create all the remaining <code>InfoKeeper</code>. May this operation be the problem?<br>\n<br>\nI also tried to use @frecpete snippet, but the same error occurs. The files I used are the following:<br>\n<a href=\"https://drive.google.com/file/d/1irhHW580sgGwE6QRdS3dz8gIJhOrUaS_/view?usp=sharing\" rel=\"nofollow noreferrer\">training set file</a> <br>\n<a href=\"https://drive.google.com/file/d/1j8o3skOEZrElrxP4H9KieqWG8OAiPNOa/view?usp=sharing\" rel=\"nofollow noreferrer\">testing set file</a>\n<br>\n<br>\n<strong>EDIT 3</strong>: this is how I compute files:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FilesCreator {\n\n    private File basicArff;\n    private Instances totalData;\n\n    private ArrayList&lt;Instance&gt; testingInstances;\n    private File testingSet;\n    private File trainingSet;\n\n    /* *******************************************************************/\n\n    public FilesCreator(File csvFile, File arffFile, File training, File testing) \n           throws IOException {\n        var loader = new CSVLoader();\n        loader.setSource(csvFile);\n        this.totalData = loader.getDataSet(); // get instances object\n        this.basicArff = arffFile;\n        this.testingSet = testing;\n        this.trainingSet = training;\n    }\n\n    private ArrayList&lt;Attribute&gt; getAttributesList(){\n        var attributes = new ArrayList&lt;Attribute&gt;();\n        int i;\n        for (i = 0; i &lt; this.totalData.numAttributes(); i++)\n            attributes.add(this.totalData.attribute(i));\n        return attributes;\n    }\n\n    private void writeHeader(PrintWriter pf) {\n        // just write the attributes in the given file. \n        // f is either this.testingSet or this.trainingSet\n        pf.append(&quot;@relation &quot; + this.totalData.relationName() + &quot;\\n\\n&quot;);\n        pf.flush();\n        var attributes = this.getAttributesList();\n        for (Attribute line : attributes){\n            pf.append(line.toString() + &quot;\\n&quot;);\n            pf.flush();\n        }\n        pf.append(&quot;\\n@data\\n&quot;);\n        pf.flush();\n    }\n\n    /* *******************************************************************/\n    /* testing file */\n\n    // testing instances\n    private void computeTestingSet(int indexRelease){\n        int i;\n        int currIndex;\n        // re-initialize the list\n        this.testingInstances = new ArrayList&lt;&gt;();\n        for (i = 0; i &lt; this.totalData.numInstances(); i++){\n            // first attribute is the release index\n            currIndex = (int) this.totalData.instance(i).value(0);\n            if (currIndex == indexRelease)\n                testingInstances.add(this.totalData.instance(i));\n            else if (currIndex &gt; indexRelease)\n                break;\n        }\n    }\n\n    // testing file\n    private void computeTestingFile(int indexRelease){\n        this.computeTestingSet(indexRelease);\n        try(var fp = new PrintWriter(this.testingSet)) {\n\n            this.writeHeader(fp);\n            for (Instance line : this.testingInstances){\n                fp.append(line.toString() + &quot;\\n&quot;);\n                fp.flush();\n            }\n        } catch (IOException e) {\n            var logger = Logger.getLogger(FilesCreator.class.getName());\n            logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\n        }\n    }\n    /* *******************************************************************/\n    // training file\n    private void computeTrainingFile(int indexRelease){\n        int i;\n\n        try(var fw = new FileWriter(this.trainingSet, true);\n            var fp = new PrintWriter(fw)) {\n            if (indexRelease == 1) {\n                // first iteration: need the header.\n                fp.print(&quot;&quot;);\n                fp.flush();\n                this.writeHeader(fp);\n                for (i = 0; i &lt; this.totalData.numInstances(); i++) {\n                    if ( (int) this.totalData.instance(i).value(0) &gt; indexRelease)\n                        break;\n                    fp.append(this.totalData.instance(i).toString() + &quot;\\n&quot;);\n                    fp.flush();\n                }\n            }\n            else {\n                // in this case just append the testing instances, which\n                // are the indexReleas+1-th data:\n                for (Instance obj : this.testingInstances){\n                    fp.append(obj.toString() + &quot;\\n&quot;);\n                    fp.flush();\n                }\n            }\n        } catch (IOException e) {\n            var logger = Logger.getLogger(FilesCreator.class.getName());\n            logger.log(Level.OFF, Arrays.toString(e.getStackTrace()));\n        }\n    }\n\n    /* *******************************************************************/\n    // public method\n    public void computeFiles(int indexRelease){\n        this.computeTrainingFile(indexRelease);\n        this.computeTestingFile(indexRelease + 1);\n    }\n}\n\n</code></pre>\n<p>The last public method is invoked inside a loop of another class, starting from 1 to 19:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    FilesCreator filesCreator = new FilesCreator(csvFile, arffFile, training, testing);\n    for (i = 1; i &lt; 20; i++) {\n        filesCreator.computeFiles(i);\n        /* do something with files, such as getting Instances and\n           use them for SMOTE computation */\n    }\n</code></pre>\n<p><strong>EDIT 4</strong>: I removed duplicated instances from <code>totalData</code> in <code>FilesCreator</code> by doing the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code> var currDir = Paths.get(&quot;.&quot;).toAbsolutePath().normalize().toFile();\n    var ext = &quot;.arff&quot;;\n    var tmpFile = File.createTempFile(&quot;without_replicated&quot;, ext, currDir);\n    RemoveDuplicates.main(new String[]{&quot;-i&quot;, this.basicArff.toPath().toString(), &quot;-o&quot;, tmpFile.toPath().toString()});\n    // output file has effective 0 instances repetitions \n    var arffLoader = new ArffLoader();\n    arffLoader.setSource(tmpFile);\n    this.totalData = arffLoader.getDataSet();\n    Files.delete(tmpFile.toPath());\n</code></pre>\n<p>I cannot manually modify it because it's output of previous computation. The code works for iteration <code>2</code>, but get the same error for iteration <code>3</code>. <br>\nThe files for this iteration are:<br>\n<a href=\"https://drive.google.com/file/d/1QaO252xcaHaiKyFyb4aixEK4H_csM01x/view?usp=sharing\" rel=\"nofollow noreferrer\">train_iteration4.arff</a> <br>\n<a href=\"https://drive.google.com/file/d/1bw71PC9xOMBcnjpml80Ysdg0TDhNW__n/view?usp=sharing\" rel=\"nofollow noreferrer\">test_iteration4.arff</a><br>\nThis is the very full arff file obtained by the previous snippet and it's the one which is loaded by <code>arffLoader.setSource(tmpFile);</code>: <br>\n<a href=\"https://drive.google.com/file/d/1k-0bJZBKZCMql_OMswHVGtp0z10HX4dl/view?usp=sharing\" rel=\"nofollow noreferrer\">full.arff</a><br></p>\n"},{"tags":["java","swing","jframe","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":11436074,"reputation":86,"user_id":8383428,"display_name":"Der_Reparator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637771909,"creation_date":1637771733,"answer_id":70099729,"question_id":70099367,"body_markdown":"There could be 2 problems at hand. If your original textfile is using Tabs instead of spaces to align its columns the way it does, you need to set the same tab size on your `JTextArea` component.\r\n\r\nSee [JavaDoc for setTabSize(int)][1]\r\n\r\nSecondly, alignment can only really be achieved with a mono-sapced font (where every character has the same visual width).\r\n\r\nSee [JavaDoc for setFont(Font)][2]\r\n\r\nI just found [this answer][3] by Guillaume Polet where he describes the way to get a general-purpose monospace font by simply specifying `monospaced` as the font&#39;s name:\r\n\r\n    JTextArea textArea = new JTextArea(24, 80);\r\n    textArea.setFont(new Font(&quot;monospaced&quot;, Font.PLAIN, 12));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setTabSize(int)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setFont(java.awt.Font)\r\n  [3]: https://stackoverflow.com/a/16279950/8383428","title":"How to display data to a JtextArea in java with exact text alignment same from the txt file","body":"<p>There could be 2 problems at hand. If your original textfile is using Tabs instead of spaces to align its columns the way it does, you need to set the same tab size on your <code>JTextArea</code> component.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setTabSize(int)\" rel=\"nofollow noreferrer\">JavaDoc for setTabSize(int)</a></p>\n<p>Secondly, alignment can only really be achieved with a mono-sapced font (where every character has the same visual width).</p>\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setFont(java.awt.Font)\" rel=\"nofollow noreferrer\">JavaDoc for setFont(Font)</a></p>\n<p>I just found <a href=\"https://stackoverflow.com/a/16279950/8383428\">this answer</a> by Guillaume Polet where he describes the way to get a general-purpose monospace font by simply specifying <code>monospaced</code> as the font's name:</p>\n<pre><code>JTextArea textArea = new JTextArea(24, 80);\ntextArea.setFont(new Font(&quot;monospaced&quot;, Font.PLAIN, 12));\n</code></pre>\n"}],"owner":{"account_id":20580160,"reputation":3,"user_id":15106463,"display_name":"Newbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70099729,"answer_count":1,"score":0,"last_activity_date":1638122551,"creation_date":1637770245,"question_id":70099367,"body_markdown":"![This is the exact alignment from the text file][1]\r\n\r\n\r\nWhen I append the data to the JTextArea in Java it does not copy the alignment.  \r\n\r\n![This is the image of the text area and the alignment is very different from the txt file.][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FlzYc.png\r\n  [2]: https://i.stack.imgur.com/HmImi.png","title":"How to display data to a JtextArea in java with exact text alignment same from the txt file","body":"<p><img src=\"https://i.stack.imgur.com/FlzYc.png\" alt=\"This is the exact alignment from the text file\" /></p>\n<p>When I append the data to the JTextArea in Java it does not copy the alignment.</p>\n<p><img src=\"https://i.stack.imgur.com/HmImi.png\" alt=\"This is the image of the text area and the alignment is very different from the txt file.\" /></p>\n"},{"tags":["java","selenium","jenkins","testrail"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636625949,"post_id":69913431,"comment_id":123609457,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"score":0,"creation_date":1638370021,"post_id":69913431,"comment_id":124070209,"body_markdown":"As for writing results back to TestRail from Jenkins you can check [Railflow](https://railflow.io) jenkins plugin. Disclaimer: I&#39;m a developer at Railflow","body":"As for writing results back to TestRail from Jenkins you can check <a href=\"https://railflow.io\" rel=\"nofollow noreferrer\">Railflow</a> jenkins plugin. Disclaimer: I&#39;m a developer at Railflow"}],"answers":[{"tags":[],"owner":{"account_id":18323958,"reputation":285,"user_id":13344100,"display_name":"aspok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636595166,"creation_date":1636595166,"answer_id":69922287,"question_id":69913431,"body_markdown":"In order to run test cases directly from TestRail, you&#39;ll need to first set up a [UI script and a trigger script.][1] The UI script will add a button that allows a user to kick the tests, and the trigger script will actually send some command to start the tests. I  would note that you&#39;ll need to call out to some external test runner that can actually kick and run the tests.\r\n\r\nIn order to get the results back into TestRail you&#39;ll need to leverage [TestRail&#39;s API][2]. This will allow you to post your results back into the desired run. You can associate your results via test case ID&#39;s and place them in either a new or existing run.\r\n\r\n\r\n  [1]: https://www.gurock.com/testrail/docs/customization/automation-trigger\r\n  [2]: https://www.gurock.com/testrail/docs/api","title":"Testrail integration with automated tests","body":"<p>In order to run test cases directly from TestRail, you'll need to first set up a <a href=\"https://www.gurock.com/testrail/docs/customization/automation-trigger\" rel=\"nofollow noreferrer\">UI script and a trigger script.</a> The UI script will add a button that allows a user to kick the tests, and the trigger script will actually send some command to start the tests. I  would note that you'll need to call out to some external test runner that can actually kick and run the tests.</p>\n<p>In order to get the results back into TestRail you'll need to leverage <a href=\"https://www.gurock.com/testrail/docs/api\" rel=\"nofollow noreferrer\">TestRail's API</a>. This will allow you to post your results back into the desired run. You can associate your results via test case ID's and place them in either a new or existing run.</p>\n"}],"owner":{"account_id":23288002,"reputation":1,"user_id":17370522,"display_name":"Namra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638121711,"creation_date":1636548059,"question_id":69913431,"body_markdown":"I want to integrate TestRail with automated tests where I want to run test cases from testRail which calls the test cases in Jenkins and then writes the result back to TestRail itself.","title":"Testrail integration with automated tests","body":"<p>I want to integrate TestRail with automated tests where I want to run test cases from testRail which calls the test cases in Jenkins and then writes the result back to TestRail itself.</p>\n"},{"tags":["java","swing","graphics","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1638116229,"post_id":70144226,"comment_id":123996351,"body_markdown":"1) class names should start with an upper case character. 2) custom painting should be done by overriding paintComponent(...). 3) the painting method should only paint the current state of the component. So you need to keep a model of the current state. Check out [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/). It demonstrates one way to do all of the above. So maybe you need an ArrayList of &quot;checks&quot; to paint?","body":"1) class names should start with an upper case character. 2) custom painting should be done by overriding paintComponent(...). 3) the painting method should only paint the current state of the component. So you need to keep a model of the current state. Check out <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a>. It demonstrates one way to do all of the above. So maybe you need an ArrayList of &quot;checks&quot; to paint?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1638121479,"post_id":70144226,"comment_id":123997661,"body_markdown":"What do you mean by &#39;check&#39;? DYM a checkmark like ✔ this? Is this GUI for a board game? If so, what game?","body":"What do you mean by &#39;check&#39;? DYM a checkmark like ✔ this? Is this GUI for a board game? If so, what game?"}],"owner":{"account_id":18847444,"reputation":29,"user_id":13747345,"display_name":"Sannan Yousuf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638121665,"creation_date":1638108956,"question_id":70144226,"body_markdown":"Following youtube tutorials I have created a `mypanel` class. I overrode the `paint` method in the class and called `drawRect()` and other functions in `paint()`. \r\n\r\nWhat I want to do is to make a method which takes number of boxes as parameter and creates a check. Currently, I am able to make a check but since the paint is overridden I am unable to pass the number of boxes.\r\n\r\nFollowing is the implementation of `mypanel` class:\r\n\r\n    package com.example;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public mypanel extends JPanel {\r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            int noofchecks = 10;\r\n            for (int j = 0; j &lt; noofchecks; j++) {\r\n                for (int i = 0; i &lt; noofchecks; i++) {\r\n                    if (j % 2 == 0) {\r\n                        if (i % 2 == 0) {\r\n                            g.setColor(Color.white);\r\n                        } else {\r\n                            g.setColor(Color.black);\r\n                        }\r\n                    } else {\r\n                        if (i % 2 == 0) {\r\n                            g.setColor(Color.black);\r\n                        } else {\r\n                            g.setColor(Color.white);\r\n                        }\r\n                    }\r\n                    g.fillRect(5 + (i * 20), 5 + (j * 20), 20, 20);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void makerect(Graphics g) {\r\n        }\r\n    }\r\n\r\nThis is `example` class calling `mypanel` class:\r\n\r\n    package com.example;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class example extends JFrame {\r\n\r\n       example() {\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            example ex = new example();\r\n            ex.setVisible(true);\r\n            ex.load(10);\r\n        }\r\n    \r\n        public void load(int noofchecks) {\r\n            int x = (noofchecks * 20) + 30;\r\n            int y = x + 30;\r\n            setSize(x, y);\r\n            mypanel panel = new mypanel();\r\n            panel.setBackground(Color.white);\r\n            add(panel);\r\n        }\r\n    }","title":"How do I make a method to print a check in JFrame?","body":"<p>Following youtube tutorials I have created a <code>mypanel</code> class. I overrode the <code>paint</code> method in the class and called <code>drawRect()</code> and other functions in <code>paint()</code>.</p>\n<p>What I want to do is to make a method which takes number of boxes as parameter and creates a check. Currently, I am able to make a check but since the paint is overridden I am unable to pass the number of boxes.</p>\n<p>Following is the implementation of <code>mypanel</code> class:</p>\n<pre><code>package com.example;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic mypanel extends JPanel {\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        int noofchecks = 10;\n        for (int j = 0; j &lt; noofchecks; j++) {\n            for (int i = 0; i &lt; noofchecks; i++) {\n                if (j % 2 == 0) {\n                    if (i % 2 == 0) {\n                        g.setColor(Color.white);\n                    } else {\n                        g.setColor(Color.black);\n                    }\n                } else {\n                    if (i % 2 == 0) {\n                        g.setColor(Color.black);\n                    } else {\n                        g.setColor(Color.white);\n                    }\n                }\n                g.fillRect(5 + (i * 20), 5 + (j * 20), 20, 20);\n            }\n        }\n    }\n\n    public void makerect(Graphics g) {\n    }\n}\n</code></pre>\n<p>This is <code>example</code> class calling <code>mypanel</code> class:</p>\n<pre><code>package com.example;\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class example extends JFrame {\n\n   example() {\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n    }\n\n    public static void main(String[] args) {\n        example ex = new example();\n        ex.setVisible(true);\n        ex.load(10);\n    }\n\n    public void load(int noofchecks) {\n        int x = (noofchecks * 20) + 30;\n        int y = x + 30;\n        setSize(x, y);\n        mypanel panel = new mypanel();\n        panel.setBackground(Color.white);\n        add(panel);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","button","sharepoint"],"comments":[{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1638159566,"post_id":70145973,"comment_id":124005026,"body_markdown":"please share screenshot and code snipet. that would be more helpful","body":"please share screenshot and code snipet. that would be more helpful"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1638168652,"post_id":70145973,"comment_id":124006591,"body_markdown":"Use implicit wait and dynamic xpaths instead of absolute. In case of persistence, update your question with your code and url or html source code.","body":"Use implicit wait and dynamic xpaths instead of absolute. In case of persistence, update your question with your code and url or html source code."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1638176852,"post_id":70145973,"comment_id":124009040,"body_markdown":"@JayanthBala Please read why a [screenshot of HTML or code or error is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Consider suggesting OP to update the Question with formatted text based relevant HTML, code trials and error stack trace.","body":"@JayanthBala Please read why a <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">screenshot of HTML or code or error is a bad idea</a>. Consider suggesting OP to update the Question with formatted text based relevant HTML, code trials and error stack trace."},{"owner":{"account_id":23290502,"reputation":1,"user_id":17372664,"display_name":"morningrose"},"score":0,"creation_date":1638371991,"post_id":70145973,"comment_id":124071115,"body_markdown":"Yes , it worked after using implicit wait and dynamic Xpath.","body":"Yes , it worked after using implicit wait and dynamic Xpath."},{"owner":{"account_id":23290502,"reputation":1,"user_id":17372664,"display_name":"morningrose"},"score":0,"creation_date":1638561518,"post_id":70145973,"comment_id":124130570,"body_markdown":"//input[@id=&#39;rc_select_0&#39;])[1]&quot;, this Xpath with index also worked for me. If I don&#39;t give the index the Webdriver wasn&#39;t selecting any element. I also used Thread. sleep(5000) in order to open up the tree path and select the file.","body":"//input[@id=&#39;rc_select_0&#39;])[1]&quot;, this Xpath with index also worked for me. If I don&#39;t give the index the Webdriver wasn&#39;t selecting any element. I also used Thread. sleep(5000) in order to open up the tree path and select the file."}],"owner":{"account_id":23290502,"reputation":1,"user_id":17372664,"display_name":"morningrose"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638121522,"creation_date":1638121522,"question_id":70145973,"body_markdown":"I am trying to automate a SharePoint site, using Selenium Java. I want my web driver to go to one file, move it and save it into the target folder.\r\nThere is a 3 dot menu, if we click, then it displays options like move, delete, download  etc I tried the Xpath but it is not recognizing as there are multiple 3 point buttons for different files in the same webpage with no unique id.\r\nTo recognize the button, I used complete XPath but did not work.\r\n Also, can I use the Actions class once I am able to select the button?\r\nAny recommendations?\r\n\r\nCopied below is the source code for the button I want to select.\r\n&lt;button type=&quot;button&quot; class=&quot;ant-btn ant-btn-default ant-btn-circle ant-dropdown-trigger threeDotsMenu_306b4f12 ant-btn-icon-only&quot;&gt;&lt;span role=&quot;img&quot; aria-label=&quot;more&quot; class=&quot;anticon anticon-more&quot;&gt;&lt;svg viewBox=&quot;64 64 896 896&quot; focusable=&quot;false&quot; class=&quot;&quot; data-icon=&quot;more&quot; width=&quot;1em&quot; height=&quot;1em&quot; fill=&quot;currentColor&quot; aria-hidden=&quot;true&quot;&gt;&lt;path d=&quot;M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/button&gt;\r\n&lt;span role=&quot;img&quot; aria-label=&quot;more&quot; class=&quot;anticon anticon-more&quot;&gt;&lt;svg viewBox=&quot;64 64 896 896&quot; focusable=&quot;false&quot; class=&quot;&quot; data-icon=&quot;more&quot; width=&quot;1em&quot; height=&quot;1em&quot; fill=&quot;currentColor&quot; aria-hidden=&quot;true&quot;&gt;&lt;path d=&quot;M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 \r\n0z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;\r\n\r\nXpath for button1 (Target folder)\r\n/html/body/div[1]/div[2]/div[1]/div/div[3]/section/article/div/div/div/div/div[1]/div/div/div/div/div/div/div/div/div/div/div/div/div/div[2]/div[2]/div[3]/div[1]/div/div/div[1]/div/div[2]/button[2]\r\n\r\nXpath for button2 (source file)\r\n/html/body/div[1]/div[2]/div[1]/div/div[3]/section/article/div/div/div/div/div[1]/div/div/div/div/div/div/div/div/div/div/div/div/div/div[2]/div[2]/div[3]/div[1]/div/div/div[2]/div/div[2]/button[2]","title":"Unable to select a 3 point button in Sharepoint using Selenium WebDriver in Java","body":"<p>I am trying to automate a SharePoint site, using Selenium Java. I want my web driver to go to one file, move it and save it into the target folder.\nThere is a 3 dot menu, if we click, then it displays options like move, delete, download  etc I tried the Xpath but it is not recognizing as there are multiple 3 point buttons for different files in the same webpage with no unique id.\nTo recognize the button, I used complete XPath but did not work.\nAlso, can I use the Actions class once I am able to select the button?\nAny recommendations?</p>\n<p>Copied below is the source code for the button I want to select.\n\n</p>\n<p>Xpath for button1 (Target folder)\n/html/body/div[1]/div[2]/div[1]/div/div[3]/section/article/div/div/div/div/div[1]/div/div/div/div/div/div/div/div/div/div/div/div/div/div[2]/div[2]/div[3]/div[1]/div/div/div[1]/div/div[2]/button[2]</p>\n<p>Xpath for button2 (source file)\n/html/body/div[1]/div[2]/div[1]/div/div[3]/section/article/div/div/div/div/div[1]/div/div/div/div/div/div/div/div/div/div/div/div/div/div[2]/div[2]/div[3]/div[1]/div/div/div[2]/div/div[2]/button[2]</p>\n"},{"tags":["java","generics","feign"],"comments":[{"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"score":0,"creation_date":1522374284,"post_id":49512194,"comment_id":86143093,"body_markdown":"Feign sees all non-`@Param`-annotated (there are a couple more annotations it recognizes as well) parameters as &quot;body&quot; params (there can be only 1) which it will encode into the message it sends. You could try: `public BaseClass getObject(@Param(&quot;type&quot;) String type, @Param(&quot;id&quot;) String id);`. If your object types don&#39;t share a base class or interface, then just use `Object`. You might also need to use your own custom `Decoder` that will need to know how to instantiate your objects based on the contents of the returned message body.","body":"Feign sees all non-<code>@Param</code>-annotated (there are a couple more annotations it recognizes as well) parameters as &quot;body&quot; params (there can be only 1) which it will encode into the message it sends. You could try: <code>public BaseClass getObject(@Param(&quot;type&quot;) String type, @Param(&quot;id&quot;) String id);</code>. If your object types don&#39;t share a base class or interface, then just use <code>Object</code>. You might also need to use your own custom <code>Decoder</code> that will need to know how to instantiate your objects based on the contents of the returned message body."},{"owner":{"account_id":11443378,"reputation":85,"user_id":8388120,"accept_rate":0,"display_name":"kashi viswanath"},"score":0,"creation_date":1589828241,"post_id":49512194,"comment_id":109443238,"body_markdown":"@Kannan did u find any solution?","body":"@Kannan did u find any solution?"},{"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"score":0,"creation_date":1589851083,"post_id":49512194,"comment_id":109451282,"body_markdown":"@kashiviswanath Nope..","body":"@kashiviswanath Nope.."}],"answers":[{"tags":[],"owner":{"account_id":4763082,"reputation":974,"user_id":3849984,"display_name":"Laess3r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615893016,"creation_date":1615893016,"answer_id":66654015,"question_id":49512194,"body_markdown":"You could just use Feigns&#39; generic Response type. Sadly it&#39;s not typesafe and requires to return the body as inputStream or byte[].\r\n\r\nLike this:\r\n\r\n      @RequestLine(&quot;GET /objects/{type}/{model_id}&quot;)\r\n      public Response getMyData(@Param(&quot;model_id&quot;) String theModelId)\r\n      {\r\n        return Response.Builder.body(response).build();\r\n      }","title":"Generic response support for feign client","body":"<p>You could just use Feigns' generic Response type. Sadly it's not typesafe and requires to return the body as inputStream or byte[].</p>\n<p>Like this:</p>\n<pre><code>  @RequestLine(&quot;GET /objects/{type}/{model_id}&quot;)\n  public Response getMyData(@Param(&quot;model_id&quot;) String theModelId)\n  {\n    return Response.Builder.body(response).build();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14318074,"reputation":1,"user_id":14156285,"display_name":"Hamza Najji"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638120726,"creation_date":1638120726,"answer_id":70145866,"question_id":49512194,"body_markdown":"when it comes to Generic Responses it was always hard to make Feign returns a generic Response, Your only Option is to Define String response then map it with mapstruct :\r\n\r\n     @RequestLine(&quot;GET /objects/{type}/{model_id}&quot;)\r\n\t\tString getObject(@Param(&quot;type&quot;) String theObjectType, @Param(&quot;model_id&quot;) String theModelId);\r\n\r\n\r\nthen define in a utility class like: \r\n\r\n    public final class JsonUtils {\r\n\r\n    private JsonUtils() {\r\n\r\n    }\r\n\t\r\n\t @SneakyThrows\r\n    public static &lt;T&gt; T jsonToObject(final String jsonString, final Class&lt;T&gt; clazz) {\r\n        final ObjectMapper objectMapper = buildObjectMapper();\r\n        return objectMapper.readValue(jsonString, clazz);\r\n    }\r\n\t\r\n\t public static ObjectMapper buildObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false);\r\n        objectMapper.registerModule(new ParameterNamesModule());\r\n        objectMapper.registerModule(new Jdk8Module());\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        return objectMapper;\r\n\r\n    }\r\n\t\r\n}","title":"Generic response support for feign client","body":"<p>when it comes to Generic Responses it was always hard to make Feign returns a generic Response, Your only Option is to Define String response then map it with mapstruct :</p>\n<pre><code> @RequestLine(&quot;GET /objects/{type}/{model_id}&quot;)\n    String getObject(@Param(&quot;type&quot;) String theObjectType, @Param(&quot;model_id&quot;) String theModelId);\n</code></pre>\n<p>then define in a utility class like:</p>\n<pre><code>public final class JsonUtils {\n\nprivate JsonUtils() {\n\n}\n\n @SneakyThrows\npublic static &lt;T&gt; T jsonToObject(final String jsonString, final Class&lt;T&gt; clazz) {\n    final ObjectMapper objectMapper = buildObjectMapper();\n    return objectMapper.readValue(jsonString, clazz);\n}\n\n public static ObjectMapper buildObjectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n    objectMapper.configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false);\n    objectMapper.registerModule(new ParameterNamesModule());\n    objectMapper.registerModule(new Jdk8Module());\n    objectMapper.registerModule(new JavaTimeModule());\n    return objectMapper;\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5982,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1638120726,"creation_date":1522151615,"question_id":49512194,"body_markdown":"I am writing a REST client using Feign. There is an endpoint which can be generalized by parameterizing the path. But based on the path I can get a different type of response. \r\n\r\nSo I am trying to use a single method using generic. Since I must tell the method on the return type, I am parameterizing the type of the return value, like below,\r\n\r\n    @RequestLine(&quot;GET /objects/{type}/{model_id}&quot;)\r\n    public &lt;T&gt; Entity&lt;T&gt; getObject(\r\n                @Param(&quot;type&quot;) String theObjectType, @Param(&quot;model_id&quot;) String theModelId,\r\n                Class&lt;T&gt; theResponseClass);\r\n\r\nBut the problem is, Feign will use `theResponseClass` as body. \r\nHow can I achieve a generic feign client method?\r\n","title":"Generic response support for feign client","body":"<p>I am writing a REST client using Feign. There is an endpoint which can be generalized by parameterizing the path. But based on the path I can get a different type of response. </p>\n\n<p>So I am trying to use a single method using generic. Since I must tell the method on the return type, I am parameterizing the type of the return value, like below,</p>\n\n<pre><code>@RequestLine(\"GET /objects/{type}/{model_id}\")\npublic &lt;T&gt; Entity&lt;T&gt; getObject(\n            @Param(\"type\") String theObjectType, @Param(\"model_id\") String theModelId,\n            Class&lt;T&gt; theResponseClass);\n</code></pre>\n\n<p>But the problem is, Feign will use <code>theResponseClass</code> as body. \nHow can I achieve a generic feign client method?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1638113189,"post_id":70144612,"comment_id":123995621,"body_markdown":"How do those other project retrieve that library? Are you manually copying new one and replacing old versions? If so, then yes, however you run your java project, it&#39;ll of course use new version (since you overwrote it). You need to provide more details and be more precise in describing the question.","body":"How do those other project retrieve that library? Are you manually copying new one and replacing old versions? If so, then yes, however you run your java project, it&#39;ll of course use new version (since you overwrote it). You need to provide more details and be more precise in describing the question."}],"answers":[{"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638119233,"creation_date":1638119233,"answer_id":70145674,"question_id":70144612,"body_markdown":"You should not be referencing external libraries by relative path unless you have a good reason for it, exactly for reasons like these. Ideally you want to use a build automation tool which will handle this, for example Maven, Gradle or Ant, so that the dependencies are included on compile and are a part of your JAR or whatever you are building your project into.\r\n\r\nhttps://www.baeldung.com/ant-maven-gradle","title":"Does java library update when changing file in path?","body":"<p>You should not be referencing external libraries by relative path unless you have a good reason for it, exactly for reasons like these. Ideally you want to use a build automation tool which will handle this, for example Maven, Gradle or Ant, so that the dependencies are included on compile and are a part of your JAR or whatever you are building your project into.</p>\n<p><a href=\"https://www.baeldung.com/ant-maven-gradle\" rel=\"nofollow noreferrer\">https://www.baeldung.com/ant-maven-gradle</a></p>\n"}],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1638120347,"accepted_answer_id":70145674,"answer_count":1,"score":0,"last_activity_date":1638120342,"creation_date":1638111620,"question_id":70144612,"body_markdown":"I have created a library to use some utilities I need in multiple projects. So lets say I&#39;m building a new version of the library and overwrite the old one, do my other project automatically update the library to the newer version when I reload my project? (Or when I build it)","title":"Does java library update when changing file in path?","body":"<p>I have created a library to use some utilities I need in multiple projects. So lets say I'm building a new version of the library and overwrite the old one, do my other project automatically update the library to the newer version when I reload my project? (Or when I build it)</p>\n"},{"tags":["java","plugins","minecraft","bukkit"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1638020016,"post_id":70134713,"comment_id":123978749,"body_markdown":"What is your problem ? What is not working ?","body":"What is your problem ? What is not working ?"}],"answers":[{"tags":[],"owner":{"account_id":21108700,"reputation":19,"user_id":15517151,"display_name":"hackedXD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638023757,"creation_date":1638023757,"answer_id":70135724,"question_id":70134713,"body_markdown":"K, So i don&#39;t know that much about plugin dev, but here is my best shot with 15 min of research. Not sure about the API, but if u can implement this outside the event, try this\r\n\r\n```\r\n@EventHandler\r\npublic void onKill(PlayerDeathEvent e) {\r\n  if (e.getEntity().getKiller() != null) { // to check if there was actually a killer\r\n    Entity killer = e.getEntity.getKiller(); // stores killer instance\r\n    if (killer.hasMetadata(&quot;Chemistry&quot;)) { // checks if has class\r\n       killer.getInventory().addItem(new ItemStack(Material.BOOK));\r\n    }\r\n  }\r\n}\r\n```\r\n\r\ni think. i honestly dont know","title":"How to add a item to player","body":"<p>K, So i don't know that much about plugin dev, but here is my best shot with 15 min of research. Not sure about the API, but if u can implement this outside the event, try this</p>\n<pre><code>@EventHandler\npublic void onKill(PlayerDeathEvent e) {\n  if (e.getEntity().getKiller() != null) { // to check if there was actually a killer\n    Entity killer = e.getEntity.getKiller(); // stores killer instance\n    if (killer.hasMetadata(&quot;Chemistry&quot;)) { // checks if has class\n       killer.getInventory().addItem(new ItemStack(Material.BOOK));\n    }\n  }\n}\n</code></pre>\n<p>i think. i honestly dont know</p>\n"},{"tags":[],"owner":{"account_id":10693489,"reputation":75,"user_id":7871540,"display_name":"Mark Cockram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638120256,"creation_date":1638120256,"answer_id":70145805,"question_id":70134713,"body_markdown":"Potions have always been a pain in Minecraft. Mojang changes how item data works.\r\n\r\nI have some Deprecated code that I made. This should work for a few of the upcoming updates.\r\n\r\n    \tpublic ItemStack getPotionItem(Color c, PotionEffectType type, PotionType pType, boolean splash, int time, int level) {\r\n\t\tPotion p = new Potion(pType);\r\n\t\tp.setSplash(splash);\r\n\t\tp.setType(pType);\r\n\r\n\t\tItemStack pot = new ItemStack(Material.SPLASH_POTION);\r\n\t\tPotionMeta im = (PotionMeta) pot.getItemMeta();\r\n\t\tList&lt;String&gt; lores = new ArrayList&lt;String&gt;();\r\n\t\tlores.add(getLore());\r\n\t\tim.setDisplayName(getName());\r\n\t\tim.addCustomEffect(new PotionEffect(type, time, level - 1), true);\r\n\t\t\r\n\t\tim.setLore(lores);\r\n\t\tim.setColor(getColor());\r\n\t\tim.addItemFlags(ItemFlag.HIDE_POTION_EFFECTS);\r\n\t\tim.addItemFlags(ItemFlag.HIDE_ATTRIBUTES);\r\n\t\tpot.setItemMeta(im);\r\n\t\tp.apply(pot);\r\n\t\treturn pot;\r\n\t}","title":"How to add a item to player","body":"<p>Potions have always been a pain in Minecraft. Mojang changes how item data works.</p>\n<p>I have some Deprecated code that I made. This should work for a few of the upcoming updates.</p>\n<pre><code>    public ItemStack getPotionItem(Color c, PotionEffectType type, PotionType pType, boolean splash, int time, int level) {\n    Potion p = new Potion(pType);\n    p.setSplash(splash);\n    p.setType(pType);\n\n    ItemStack pot = new ItemStack(Material.SPLASH_POTION);\n    PotionMeta im = (PotionMeta) pot.getItemMeta();\n    List&lt;String&gt; lores = new ArrayList&lt;String&gt;();\n    lores.add(getLore());\n    im.setDisplayName(getName());\n    im.addCustomEffect(new PotionEffect(type, time, level - 1), true);\n    \n    im.setLore(lores);\n    im.setColor(getColor());\n    im.addItemFlags(ItemFlag.HIDE_POTION_EFFECTS);\n    im.addItemFlags(ItemFlag.HIDE_ATTRIBUTES);\n    pot.setItemMeta(im);\n    p.apply(pot);\n    return pot;\n}\n</code></pre>\n"}],"owner":{"account_id":21726401,"reputation":1,"user_id":16035779,"display_name":"UNDERTALE VN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638120256,"creation_date":1638015498,"question_id":70134713,"body_markdown":"I&#39;m trying to add some custom ability to &lt;a href=&quot;https://www.spigotmc.org/resources/kitbattle-advanced.2872/&quot;&gt;this&lt;/a&gt; plugin by using it own API. I have some trouble adding items to players when they got a kill. I have tried a lot of different methods to add potion to the killer by using .addItem(). There is no wiki for this plugin and on their page, there is some information about the API. Here is my code\r\n\r\n    public class ChemistryAbility extends Ability{\r\n\t\t\r\n\t//Return name of ability\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\t\r\n\t\treturn &quot;Chemistry&quot;;\r\n\t}\r\n\t\r\n\t//Get the data form config file. \r\n\t@Override\r\n\tpublic void load(FileConfiguration file) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t//Get the activate Material\r\n\t@Override\r\n    public Material getActivationMaterial() {\r\n        return null;\r\n    }\r\n    \r\n\t//Get the activate projectile\r\n    @Override\r\n    public EntityType getActivationProjectile() {\r\n        return null;\r\n    }\r\n    \r\n    //Will this ability activate when player attack another player\r\n    @Override\r\n    public boolean isAttackActivated() {\r\n        return true;\r\n    }\r\n    \r\n    //Will this ability activate when player get attacked by another player\r\n    @Override\r\n    public boolean isAttackReceiveActivated() {\r\n        return false;\r\n    }\r\n    \r\n    //Will this ability activate when player get damage\r\n    @Override\r\n    public boolean isDamageActivated() {\r\n        return false;\r\n    }\r\n    \r\n    //Will this ability activate when player interact with another player\r\n    @Override\r\n    public boolean isEntityInteractionActivated() {\r\n        return false;\r\n    }\r\n\t\r\n\t@Override\r\n\tpublic boolean execute(final Player p, final PlayerData PD, final Event e) {\r\n\t\t\r\n\t\tItemStack potion = new ItemStack(Material.SPLASH_POTION, 3);\r\n\t\t\r\n\t\tPotionMeta pmeta = (PotionMeta) potion.getItemMeta();\r\n\t\t\r\n\t\tpmeta.addCustomEffect(new PotionEffect(PotionEffectType.HARM, 1, 2), true);\r\n\t\t\r\n\t\tpotion.setItemMeta(pmeta);\r\n\t\t\r\n\t\t\r\n\t\tPlayer killer = p.getKiller();\r\n\t\t\r\n\t\t\r\n\t\tif (p.isDead()) {\r\n\t\t\tp.getKiller();\r\n\t\t\t\r\n\t\t\tif (p.getKiller() instanceof Player) {\r\n\t\t\t\t\r\n\t\t\t\tkiller.getInventory().addItem(potion);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\r\n}\r\n","title":"How to add a item to player","body":"<p>I'm trying to add some custom ability to <a href=\"https://www.spigotmc.org/resources/kitbattle-advanced.2872/\" rel=\"nofollow noreferrer\">this</a> plugin by using it own API. I have some trouble adding items to players when they got a kill. I have tried a lot of different methods to add potion to the killer by using .addItem(). There is no wiki for this plugin and on their page, there is some information about the API. Here is my code</p>\n<pre><code>public class ChemistryAbility extends Ability{\n    \n//Return name of ability\n@Override\npublic String getName() {\n    \n    return &quot;Chemistry&quot;;\n}\n\n//Get the data form config file. \n@Override\npublic void load(FileConfiguration file) {\n    // TODO Auto-generated method stub\n    \n}\n\n//Get the activate Material\n@Override\npublic Material getActivationMaterial() {\n    return null;\n}\n\n//Get the activate projectile\n@Override\npublic EntityType getActivationProjectile() {\n    return null;\n}\n\n//Will this ability activate when player attack another player\n@Override\npublic boolean isAttackActivated() {\n    return true;\n}\n\n//Will this ability activate when player get attacked by another player\n@Override\npublic boolean isAttackReceiveActivated() {\n    return false;\n}\n\n//Will this ability activate when player get damage\n@Override\npublic boolean isDamageActivated() {\n    return false;\n}\n\n//Will this ability activate when player interact with another player\n@Override\npublic boolean isEntityInteractionActivated() {\n    return false;\n}\n\n@Override\npublic boolean execute(final Player p, final PlayerData PD, final Event e) {\n    \n    ItemStack potion = new ItemStack(Material.SPLASH_POTION, 3);\n    \n    PotionMeta pmeta = (PotionMeta) potion.getItemMeta();\n    \n    pmeta.addCustomEffect(new PotionEffect(PotionEffectType.HARM, 1, 2), true);\n    \n    potion.setItemMeta(pmeta);\n    \n    \n    Player killer = p.getKiller();\n    \n    \n    if (p.isDead()) {\n        p.getKiller();\n        \n        if (p.getKiller() instanceof Player) {\n            \n            killer.getInventory().addItem(potion);\n            \n        }\n        \n    }\n    \n    return false;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-intent","openurl","tiktok"],"answers":[{"tags":[],"owner":{"account_id":7179690,"reputation":1071,"user_id":6997733,"display_name":"user7179690"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638120213,"creation_date":1638120213,"answer_id":70145796,"question_id":68010950,"body_markdown":"maybe a late answer, but what you can do for not only TikTok, but any other app you want to open it from your Android application is to use the package name of it and open it using intent normally, example code to open Instagram for example.\r\n\r\n    url = &quot;https://instagram.com/p/imagecode&quot;\r\n    Uri uri = Uri.parse(url);\r\n    Intent likeIng = new Intent(Intent.ACTION_VIEW, URI);\r\n    likeIng.setPackage(&quot;com.instagram.android&quot;); // -&gt; here is the part \r\n    try {\r\n         startActivity(likeIng);\r\n     } catch (ActivityNotFoundException e) {\r\n        //catch the Error if the app not installed.\r\n     }\r\nyou can get the package name from Google play URL itself it contains the package name, for TikTok, the package name is `com.ss.android.ugc.trill` so you can use it to open it using the above code, I did not test it with TikTok, but it&#39;s tested with Instagram, so I think the same logic applies.\r\n\r\n","title":"How to open specific tiktok video link in Android?","body":"<p>maybe a late answer, but what you can do for not only TikTok, but any other app you want to open it from your Android application is to use the package name of it and open it using intent normally, example code to open Instagram for example.</p>\n<pre><code>url = &quot;https://instagram.com/p/imagecode&quot;\nUri uri = Uri.parse(url);\nIntent likeIng = new Intent(Intent.ACTION_VIEW, URI);\nlikeIng.setPackage(&quot;com.instagram.android&quot;); // -&gt; here is the part \ntry {\n     startActivity(likeIng);\n } catch (ActivityNotFoundException e) {\n    //catch the Error if the app not installed.\n }\n</code></pre>\n<p>you can get the package name from Google play URL itself it contains the package name, for TikTok, the package name is <code>com.ss.android.ugc.trill</code> so you can use it to open it using the above code, I did not test it with TikTok, but it's tested with Instagram, so I think the same logic applies.</p>\n"}],"owner":{"account_id":19277145,"reputation":33,"user_id":14089906,"display_name":"Rastko Stamenkovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2052,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70145796,"answer_count":1,"score":2,"last_activity_date":1638120213,"creation_date":1623884306,"question_id":68010950,"body_markdown":"I basically want my button to open tiktok video link (**link should be opened by tiktok app**, not default browser or webview) on click. How to program that button in Android Studio?","title":"How to open specific tiktok video link in Android?","body":"<p>I basically want my button to open tiktok video link (<strong>link should be opened by tiktok app</strong>, not default browser or webview) on click. How to program that button in Android Studio?</p>\n"},{"tags":["java","file","encoding","stream","character-encoding"],"comments":[{"owner":{"account_id":21796,"reputation":5577,"user_id":53276,"display_name":"Mihai Nita"},"score":13,"creation_date":1323951218,"post_id":499010,"comment_id":10548873,"body_markdown":"Eduard is right, &quot;You cannot determine the encoding of a arbitrary byte stream&quot;. All other proposals give you ways (and libraries) to do best guessing. But in the end they are still guesses.","body":"Eduard is right, &quot;You cannot determine the encoding of a arbitrary byte stream&quot;. All other proposals give you ways (and libraries) to do best guessing. But in the end they are still guesses."},{"owner":{"account_id":1813358,"reputation":9087,"user_id":1648987,"accept_rate":25,"display_name":"Karol S"},"score":11,"creation_date":1411843475,"post_id":499010,"comment_id":40860354,"body_markdown":"`Reader.getEncoding` returns the encoding the reader was set up to use, which in your case is the default encoding.","body":"<code>Reader.getEncoding</code> returns the encoding the reader was set up to use, which in your case is the default encoding."},{"owner":{"account_id":15814379,"reputation":565,"user_id":12114801,"display_name":"Sathvik"},"score":0,"creation_date":1605023439,"post_id":499010,"comment_id":114522928,"body_markdown":"```System.getProperty(&quot;file.encoding&quot;)``` it returns string. ex - ```FileInputStream fis = new FileInputStream(path);  String encoding = System.getProperty(&quot;fis.encoding&quot;);```","body":"<code>System.getProperty(&quot;file.encoding&quot;)</code> it returns string. ex - <code>FileInputStream fis = new FileInputStream(path);  String encoding = System.getProperty(&quot;fis.encoding&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":13,"up_vote_count":1,"is_accepted":false,"score":-12,"last_activity_date":1233416648,"creation_date":1233416648,"answer_id":499032,"question_id":499010,"body_markdown":"Can you pick the appropriate char set in the [Constructor][1]:\r\n\r\n    new InputStreamReader(new FileInputStream(in), &quot;ISO8859_1&quot;);\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/InputStreamReader.html","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>Can you pick the appropriate char set in the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/InputStreamReader.html\" rel=\"nofollow noreferrer\">Constructor</a>:</p>\n\n<pre><code>new InputStreamReader(new FileInputStream(in), \"ISO8859_1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"down_vote_count":8,"up_vote_count":117,"is_accepted":false,"score":109,"last_activity_date":1394481079,"creation_date":1233416662,"answer_id":499033,"question_id":499010,"body_markdown":"You cannot determine the encoding of a arbitrary byte stream. This is the nature of encodings. A encoding means a mapping between a byte value and its representation. So every encoding &quot;could&quot; be the right.\r\n\r\nThe [getEncoding()][1] method will return the encoding which was set up (read the [JavaDoc][1]) for the stream. It will not guess the encoding for you.\r\n\r\nSome streams tell you which encoding was used to create them: XML, HTML. But not an arbitrary byte stream.\r\n\r\nAnyway, you could try to guess an encoding on your own if you have to. Every language has a common frequency for every char. In English the char e appears very often but &#234; will appear very very seldom. In a ISO-8859-1 stream there are usually no 0x00 chars. But a UTF-16 stream has a lot of them.\r\n\r\nOr: you could ask the user. I&#39;ve already seen applications which present you a snippet of the file in different encodings and ask you to select the &quot;correct&quot; one.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#getEncoding%28%29\r\n","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>You cannot determine the encoding of a arbitrary byte stream. This is the nature of encodings. A encoding means a mapping between a byte value and its representation. So every encoding \"could\" be the right.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#getEncoding%28%29\" rel=\"noreferrer\">getEncoding()</a> method will return the encoding which was set up (read the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStreamReader.html#getEncoding%28%29\" rel=\"noreferrer\">JavaDoc</a>) for the stream. It will not guess the encoding for you.</p>\n\n<p>Some streams tell you which encoding was used to create them: XML, HTML. But not an arbitrary byte stream.</p>\n\n<p>Anyway, you could try to guess an encoding on your own if you have to. Every language has a common frequency for every char. In English the char e appears very often but ê will appear very very seldom. In a ISO-8859-1 stream there are usually no 0x00 chars. But a UTF-16 stream has a lot of them.</p>\n\n<p>Or: you could ask the user. I've already seen applications which present you a snippet of the file in different encodings and ask you to select the \"correct\" one.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1233416761,"creation_date":1233416761,"answer_id":499037,"question_id":499010,"body_markdown":"If you don&#39;t know the encoding of your data, it is not so easy to determine, but you could try to use a [library to guess it][1]. Also, there is [a similar question][2].\r\n\r\n\r\n  [1]: http://glaforge.free.fr/wiki/index.php?wiki=GuessEncoding\r\n  [2]: https://stackoverflow.com/questions/457655/java-charset-and-windows/457849#457849","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>If you don't know the encoding of your data, it is not so easy to determine, but you could try to use a <a href=\"http://glaforge.free.fr/wiki/index.php?wiki=GuessEncoding\" rel=\"nofollow noreferrer\">library to guess it</a>. Also, there is <a href=\"https://stackoverflow.com/questions/457655/java-charset-and-windows/457849#457849\">a similar question</a>.</p>\n"},{"tags":[],"owner":{"account_id":10566,"reputation":29161,"user_id":20029,"display_name":"Zach Scrivena"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1233474258,"creation_date":1233473612,"answer_id":500394,"question_id":499010,"body_markdown":"You can certainly *validate* the file for a particular charset by [decoding][1] it with a [`CharsetDecoder`][2] and watching out for &quot;malformed-input&quot; or &quot;unmappable-character&quot; errors. Of course, this only tells you if a charset is wrong; it doesn&#39;t tell you if it is correct. For that, you need a basis of comparison to evaluate the decoded results, e.g. do you know beforehand if the characters are restricted to some subset, or whether the text adheres to some strict format? The bottom line is that charset detection is guesswork without any guarantees.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/nio/charset/CharsetDecoder.html#decode(java.nio.ByteBuffer,%20java.nio.CharBuffer,%20boolean)\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/nio/charset/CharsetDecoder.html","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>You can certainly <em>validate</em> the file for a particular charset by <a href=\"http://java.sun.com/javase/6/docs/api/java/nio/charset/CharsetDecoder.html#decode(java.nio.ByteBuffer,%20java.nio.CharBuffer,%20boolean)\" rel=\"noreferrer\">decoding</a> it with a <a href=\"http://java.sun.com/javase/6/docs/api/java/nio/charset/CharsetDecoder.html\" rel=\"noreferrer\"><code>CharsetDecoder</code></a> and watching out for \"malformed-input\" or \"unmappable-character\" errors. Of course, this only tells you if a charset is wrong; it doesn't tell you if it is correct. For that, you need a basis of comparison to evaluate the decoded results, e.g. do you know beforehand if the characters are restricted to some subset, or whether the text adheres to some strict format? The bottom line is that charset detection is guesswork without any guarantees.</p>\n"},{"tags":[],"owner":{"account_id":8011,"reputation":29400,"user_id":14139,"accept_rate":84,"display_name":"brianegge"},"down_vote_count":6,"up_vote_count":7,"is_accepted":false,"score":1,"last_activity_date":1323478998,"creation_date":1243322438,"answer_id":909352,"question_id":499010,"body_markdown":"For ISO8859_1 files, there is not an easy way to distinguish them from ASCII.  For Unicode files however one can generally detect this based on the first few bytes of the file.\r\n\r\nUTF-8 and UTF-16 files include a [Byte Order Mark][1] (BOM) at the very beginning of the file.  The BOM is a zero-width non-breaking space.  \r\n\r\nUnfortunately, for historical reasons, Java does not detect this automatically.  Programs like Notepad will check the BOM and use the appropriate encoding.  Using unix or Cygwin, you can check the BOM with the file command.  For example:\r\n\r\n    $ file sample2.sql \r\n    sample2.sql: Unicode text, UTF-16, big-endian\r\n\r\nFor Java, I suggest you check out this code, which will detect the common file formats and select the correct encoding:  [How to read a file and automatically specify the correct encoding][2]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Byte-order_mark\r\n  [2]: http://www.ericbt.com/Blog/60","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>For ISO8859_1 files, there is not an easy way to distinguish them from ASCII.  For Unicode files however one can generally detect this based on the first few bytes of the file.</p>\n\n<p>UTF-8 and UTF-16 files include a <a href=\"http://en.wikipedia.org/wiki/Byte-order_mark\" rel=\"nofollow noreferrer\">Byte Order Mark</a> (BOM) at the very beginning of the file.  The BOM is a zero-width non-breaking space.  </p>\n\n<p>Unfortunately, for historical reasons, Java does not detect this automatically.  Programs like Notepad will check the BOM and use the appropriate encoding.  Using unix or Cygwin, you can check the BOM with the file command.  For example:</p>\n\n<pre><code>$ file sample2.sql \nsample2.sql: Unicode text, UTF-16, big-endian\n</code></pre>\n\n<p>For Java, I suggest you check out this code, which will detect the common file formats and select the correct encoding:  <a href=\"http://www.ericbt.com/Blog/60\" rel=\"nofollow noreferrer\">How to read a file and automatically specify the correct encoding</a></p>\n"},{"tags":[],"owner":{"account_id":580711,"reputation":49,"user_id":245377,"display_name":"falcon"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1262855044,"creation_date":1262855044,"answer_id":2019203,"question_id":499010,"body_markdown":"I found a nice third party library which can detect actual encoding:\r\nhttp://glaforge.free.fr/wiki/index.php?wiki=GuessEncoding\r\n\r\nI didn&#39;t test it extensively but it seems to work.","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>I found a nice third party library which can detect actual encoding:\n<a href=\"http://glaforge.free.fr/wiki/index.php?wiki=GuessEncoding\" rel=\"nofollow noreferrer\">http://glaforge.free.fr/wiki/index.php?wiki=GuessEncoding</a></p>\n\n<p>I didn't test it extensively but it seems to work.</p>\n"},{"tags":[],"owner":{"account_id":592596,"reputation":77,"user_id":273480,"display_name":"Lorrat"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1266234781,"creation_date":1266234781,"answer_id":2265688,"question_id":499010,"body_markdown":"The libs above are simple BOM detectors which of course only work if there is a BOM in the beginning of the file.  Take a look at http://jchardet.sourceforge.net/ which does scans the text \r\n","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>The libs above are simple BOM detectors which of course only work if there is a BOM in the beginning of the file.  Take a look at <a href=\"http://jchardet.sourceforge.net/\" rel=\"noreferrer\">http://jchardet.sourceforge.net/</a> which does scans the text </p>\n"},{"tags":[],"owner":{"account_id":139941,"reputation":413,"user_id":345883,"display_name":"user345883"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1324082475,"creation_date":1288001502,"answer_id":4013565,"question_id":499010,"body_markdown":"check this out:\r\nhttp://site.icu-project.org/ (icu4j)\r\n they have libraries for detecting charset from IOStream\r\ncould be simple like this:\r\n\r\n\r\n    BufferedInputStream bis = new BufferedInputStream(input);\r\n    CharsetDetector cd = new CharsetDetector();\r\n    cd.setText(bis);\r\n    CharsetMatch cm = cd.detect();\r\n\r\n    if (cm != null) {\r\n       reader = cm.getReader();\r\n       charset = cm.getName();\r\n    }else {\r\n       throw new UnsupportedCharsetException()\r\n    }","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>check this out:\n<a href=\"http://site.icu-project.org/\">http://site.icu-project.org/</a> (icu4j)\n they have libraries for detecting charset from IOStream\ncould be simple like this:</p>\n\n<pre><code>BufferedInputStream bis = new BufferedInputStream(input);\nCharsetDetector cd = new CharsetDetector();\ncd.setText(bis);\nCharsetMatch cm = cd.detect();\n\nif (cm != null) {\n   reader = cm.getReader();\n   charset = cm.getName();\n}else {\n   throw new UnsupportedCharsetException()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"down_vote_count":3,"up_vote_count":83,"is_accepted":true,"score":80,"last_activity_date":1624979170,"creation_date":1295444676,"answer_id":4735911,"question_id":499010,"body_markdown":"I have used this library, similar to jchardet for detecting encoding in Java:\r\nhttps://github.com/albfernandez/juniversalchardet\r\n","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>I have used this library, similar to jchardet for detecting encoding in Java:\n<a href=\"https://github.com/albfernandez/juniversalchardet\" rel=\"noreferrer\">https://github.com/albfernandez/juniversalchardet</a></p>\n"},{"tags":[],"owner":{"account_id":1210049,"reputation":932,"user_id":1178789,"display_name":"ssamuel68"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1579613273,"creation_date":1365109302,"answer_id":15821629,"question_id":499010,"body_markdown":"If you use ICU4J (http://icu-project.org/apiref/icu4j/)\r\n\r\nHere is my code:\r\n```java\r\nString charset = &quot;ISO-8859-1&quot;; //Default chartset, put whatever you want\r\n    \r\nbyte[] fileContent = null;\r\nFileInputStream fin = null;\r\n    \r\n//create FileInputStream object\r\nfin = new FileInputStream(file.getPath());\r\n    \r\n/*\r\n * Create byte array large enough to hold the content of the file.\r\n * Use File.length to determine size of the file in bytes.\r\n */\r\nfileContent = new byte[(int) file.length()];\r\n    \r\n/*\r\n * To read content of the file in byte array, use\r\n * int read(byte[] byteArray) method of java FileInputStream class.\r\n *\r\n */\r\nfin.read(fileContent);\r\n\r\nbyte[] data =  fileContent;\r\n\r\nCharsetDetector detector = new CharsetDetector();\r\ndetector.setText(data);\r\n\r\nCharsetMatch cm = detector.detect();\r\n\r\nif (cm != null) {\r\n    int confidence = cm.getConfidence();\r\n    System.out.println(&quot;Encoding: &quot; + cm.getName() + &quot; - Confidence: &quot; + confidence + &quot;%&quot;);\r\n    //Here you have the encode name and the confidence\r\n    //In my case if the confidence is &gt; 50 I return the encode, else I return the default value\r\n    if (confidence &gt; 50) {\r\n        charset = cm.getName();\r\n    }\r\n}\r\n```\r\nRemember to put all the try-catch need it.\r\n\r\nI hope this works for you.\r\n","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>If you use ICU4J (<a href=\"http://icu-project.org/apiref/icu4j/\" rel=\"nofollow noreferrer\">http://icu-project.org/apiref/icu4j/</a>)</p>\n\n<p>Here is my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String charset = \"ISO-8859-1\"; //Default chartset, put whatever you want\n\nbyte[] fileContent = null;\nFileInputStream fin = null;\n\n//create FileInputStream object\nfin = new FileInputStream(file.getPath());\n\n/*\n * Create byte array large enough to hold the content of the file.\n * Use File.length to determine size of the file in bytes.\n */\nfileContent = new byte[(int) file.length()];\n\n/*\n * To read content of the file in byte array, use\n * int read(byte[] byteArray) method of java FileInputStream class.\n *\n */\nfin.read(fileContent);\n\nbyte[] data =  fileContent;\n\nCharsetDetector detector = new CharsetDetector();\ndetector.setText(data);\n\nCharsetMatch cm = detector.detect();\n\nif (cm != null) {\n    int confidence = cm.getConfidence();\n    System.out.println(\"Encoding: \" + cm.getName() + \" - Confidence: \" + confidence + \"%\");\n    //Here you have the encode name and the confidence\n    //In my case if the confidence is &gt; 50 I return the encode, else I return the default value\n    if (confidence &gt; 50) {\n        charset = cm.getName();\n    }\n}\n</code></pre>\n\n<p>Remember to put all the try-catch need it.</p>\n\n<p>I hope this works for you.</p>\n"},{"tags":[],"owner":{"account_id":203782,"reputation":52320,"user_id":451634,"accept_rate":58,"display_name":"Benny Code"},"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1638120106,"creation_date":1417351717,"answer_id":27213396,"question_id":499010,"body_markdown":"Here are my favorites:\r\n\r\n**[TikaEncodingDetector][1]**\r\n\r\nDependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.any23&lt;/groupId&gt;\r\n      &lt;artifactId&gt;apache-any23-encoding&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSample:\r\n\r\n    public static Charset guessCharset(InputStream is) throws IOException {\r\n      return Charset.forName(new TikaEncodingDetector().guessEncoding(is));    \r\n    }\r\n\r\n**[GuessEncoding][2]**\r\n\r\nDependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.codehaus.guessencoding&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guessencoding&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSample:\r\n\r\n      public static Charset guessCharset2(File file) throws IOException {\r\n        return CharsetToolkit.guessEncoding(file, 4096, StandardCharsets.UTF_8);\r\n      }\r\n\r\n  [1]: http://tika.apache.org/\r\n  [2]: https://github.com/codehaus/guessencoding","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>Here are my favorites:</p>\n<p><strong><a href=\"http://tika.apache.org/\" rel=\"nofollow noreferrer\">TikaEncodingDetector</a></strong></p>\n<p>Dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.any23&lt;/groupId&gt;\n  &lt;artifactId&gt;apache-any23-encoding&lt;/artifactId&gt;\n  &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Sample:</p>\n<pre><code>public static Charset guessCharset(InputStream is) throws IOException {\n  return Charset.forName(new TikaEncodingDetector().guessEncoding(is));    \n}\n</code></pre>\n<p><strong><a href=\"https://github.com/codehaus/guessencoding\" rel=\"nofollow noreferrer\">GuessEncoding</a></strong></p>\n<p>Dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.codehaus.guessencoding&lt;/groupId&gt;\n  &lt;artifactId&gt;guessencoding&lt;/artifactId&gt;\n  &lt;version&gt;1.4&lt;/version&gt;\n  &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Sample:</p>\n<pre><code>  public static Charset guessCharset2(File file) throws IOException {\n    return CharsetToolkit.guessEncoding(file, 4096, StandardCharsets.UTF_8);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1243113,"reputation":113,"user_id":1205208,"accept_rate":50,"display_name":"Nolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441273637,"creation_date":1431349454,"answer_id":30168441,"question_id":499010,"body_markdown":"An alternative to TikaEncodingDetector is to use [Tika AutoDetectReader][1].\r\n\r\n    Charset charset = new AutoDetectReader(new FileInputStream(file)).getCharset();\r\n\r\n\r\n  [1]: https://tika.apache.org/1.2/api/org/apache/tika/detect/AutoDetectReader.html","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>An alternative to TikaEncodingDetector is to use <a href=\"https://tika.apache.org/1.2/api/org/apache/tika/detect/AutoDetectReader.html\" rel=\"nofollow\">Tika AutoDetectReader</a>.</p>\n\n<pre><code>Charset charset = new AutoDetectReader(new FileInputStream(file)).getCharset();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1501487932,"creation_date":1441276680,"answer_id":32373318,"question_id":499010,"body_markdown":"### Which library to use?\nAs of this writing, they are three libraries that emerge: \n\n* [GuessEncoding][1]\n* [ICU4j][2]\n* [juniversalchardet][3]\n\nI don&#39;t include [Apache Any23][4] because it uses ICU4j 3.4 under the hood.\n\n### How to tell which one has detected the *right* charset (or as close as possible)?\nIt&#39;s impossible to certify the charset detected by each above libraries. However, it&#39;s possible to ask them in turn and score the returned response.\n\n### How to score the returned response?\nEach response can be assigned one point. The more points a response have, the more confidence the detected charset has. This is a simple scoring method. You can elaborate others.\n\n### Is there any sample code?\nHere is a full snippet implementing the strategy described in the previous lines.\n\n    public static String guessEncoding(InputStream input) throws IOException {\n        // Load input data\n        long count = 0;\n        int n = 0, EOF = -1;\n        byte[] buffer = new byte[4096];\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n\n        while ((EOF != (n = input.read(buffer))) &amp;&amp; (count &lt;= Integer.MAX_VALUE)) {\n            output.write(buffer, 0, n);\n            count += n;\n        }\n        \n        if (count &gt; Integer.MAX_VALUE) {\n            throw new RuntimeException(&quot;Inputstream too large.&quot;);\n        }\n \n        byte[] data = output.toByteArray();\n\n        // Detect encoding\n        Map&lt;String, int[]&gt; encodingsScores = new HashMap&lt;&gt;();\n\n        // * GuessEncoding\n        updateEncodingsScores(encodingsScores, new CharsetToolkit(data).guessEncoding().displayName());\n\n        // * ICU4j\n        CharsetDetector charsetDetector = new CharsetDetector();\n        charsetDetector.setText(data);\n        charsetDetector.enableInputFilter(true);\n        CharsetMatch cm = charsetDetector.detect();\n        if (cm != null) {\n            updateEncodingsScores(encodingsScores, cm.getName());\n        }\n\n        // * juniversalchardset\n        UniversalDetector universalDetector = new UniversalDetector(null);\n        universalDetector.handleData(data, 0, data.length);\n        universalDetector.dataEnd();\n        String encodingName = universalDetector.getDetectedCharset();\n        if (encodingName != null) {\n            updateEncodingsScores(encodingsScores, encodingName);\n        }\n\n        // Find winning encoding\n        Map.Entry&lt;String, int[]&gt; maxEntry = null;\n        for (Map.Entry&lt;String, int[]&gt; e : encodingsScores.entrySet()) {\n            if (maxEntry == null || (e.getValue()[0] &gt; maxEntry.getValue()[0])) {\n                maxEntry = e;\n            }\n        }\n\n        String winningEncoding = maxEntry.getKey();\n        //dumpEncodingsScores(encodingsScores);\n        return winningEncoding;\n    }\n\n    private static void updateEncodingsScores(Map&lt;String, int[]&gt; encodingsScores, String encoding) {\n        String encodingName = encoding.toLowerCase();\n        int[] encodingScore = encodingsScores.get(encodingName);\n\n        if (encodingScore == null) {\n            encodingsScores.put(encodingName, new int[] { 1 });\n        } else {\n            encodingScore[0]++;\n        }\n    }    \n\n    private static void dumpEncodingsScores(Map&lt;String, int[]&gt; encodingsScores) {\n        System.out.println(toString(encodingsScores));\n    }\n\n    private static String toString(Map&lt;String, int[]&gt; encodingsScores) {\n        String GLUE = &quot;, &quot;;\n        StringBuilder sb = new StringBuilder();\n\n        for (Map.Entry&lt;String, int[]&gt; e : encodingsScores.entrySet()) {\n            sb.append(e.getKey() + &quot;:&quot; + e.getValue()[0] + GLUE);\n        }\n        int len = sb.length();\n        sb.delete(len - GLUE.length(), len);\n\n        return &quot;{ &quot; + sb.toString() + &quot; }&quot;;\n    }\n\n*Improvements:*\nThe `guessEncoding` method reads the inputstream entirely. For large inputstreams this can be a concern. All these libraries would read the whole inputstream. This would imply a large time consumption for detecting the charset.\n\nIt&#39;s possible to limit the initial data loading to a few bytes and perform the charset detection on those few bytes only.\n\n  [1]: http://mvnrepository.com/artifact/org.codehaus.guessencoding/guessencoding\n  [2]: http://mvnrepository.com/artifact/com.ibm.icu\n  [3]: http://mvnrepository.com/artifact/com.googlecode.juniversalchardet/juniversalchardet\n  [4]: http://mvnrepository.com/artifact/org.apache.any23/apache-any23-encoding","title":"Java : How to determine the correct charset encoding of a stream","body":"<h3>Which library to use?</h3>\n<p>As of this writing, they are three libraries that emerge:</p>\n<ul>\n<li><a href=\"http://mvnrepository.com/artifact/org.codehaus.guessencoding/guessencoding\" rel=\"noreferrer\">GuessEncoding</a></li>\n<li><a href=\"http://mvnrepository.com/artifact/com.ibm.icu\" rel=\"noreferrer\">ICU4j</a></li>\n<li><a href=\"http://mvnrepository.com/artifact/com.googlecode.juniversalchardet/juniversalchardet\" rel=\"noreferrer\">juniversalchardet</a></li>\n</ul>\n<p>I don't include <a href=\"http://mvnrepository.com/artifact/org.apache.any23/apache-any23-encoding\" rel=\"noreferrer\">Apache Any23</a> because it uses ICU4j 3.4 under the hood.</p>\n<h3>How to tell which one has detected the <em>right</em> charset (or as close as possible)?</h3>\n<p>It's impossible to certify the charset detected by each above libraries. However, it's possible to ask them in turn and score the returned response.</p>\n<h3>How to score the returned response?</h3>\n<p>Each response can be assigned one point. The more points a response have, the more confidence the detected charset has. This is a simple scoring method. You can elaborate others.</p>\n<h3>Is there any sample code?</h3>\n<p>Here is a full snippet implementing the strategy described in the previous lines.</p>\n<pre><code>public static String guessEncoding(InputStream input) throws IOException {\n    // Load input data\n    long count = 0;\n    int n = 0, EOF = -1;\n    byte[] buffer = new byte[4096];\n    ByteArrayOutputStream output = new ByteArrayOutputStream();\n\n    while ((EOF != (n = input.read(buffer))) &amp;&amp; (count &lt;= Integer.MAX_VALUE)) {\n        output.write(buffer, 0, n);\n        count += n;\n    }\n    \n    if (count &gt; Integer.MAX_VALUE) {\n        throw new RuntimeException(&quot;Inputstream too large.&quot;);\n    }\n\n    byte[] data = output.toByteArray();\n\n    // Detect encoding\n    Map&lt;String, int[]&gt; encodingsScores = new HashMap&lt;&gt;();\n\n    // * GuessEncoding\n    updateEncodingsScores(encodingsScores, new CharsetToolkit(data).guessEncoding().displayName());\n\n    // * ICU4j\n    CharsetDetector charsetDetector = new CharsetDetector();\n    charsetDetector.setText(data);\n    charsetDetector.enableInputFilter(true);\n    CharsetMatch cm = charsetDetector.detect();\n    if (cm != null) {\n        updateEncodingsScores(encodingsScores, cm.getName());\n    }\n\n    // * juniversalchardset\n    UniversalDetector universalDetector = new UniversalDetector(null);\n    universalDetector.handleData(data, 0, data.length);\n    universalDetector.dataEnd();\n    String encodingName = universalDetector.getDetectedCharset();\n    if (encodingName != null) {\n        updateEncodingsScores(encodingsScores, encodingName);\n    }\n\n    // Find winning encoding\n    Map.Entry&lt;String, int[]&gt; maxEntry = null;\n    for (Map.Entry&lt;String, int[]&gt; e : encodingsScores.entrySet()) {\n        if (maxEntry == null || (e.getValue()[0] &gt; maxEntry.getValue()[0])) {\n            maxEntry = e;\n        }\n    }\n\n    String winningEncoding = maxEntry.getKey();\n    //dumpEncodingsScores(encodingsScores);\n    return winningEncoding;\n}\n\nprivate static void updateEncodingsScores(Map&lt;String, int[]&gt; encodingsScores, String encoding) {\n    String encodingName = encoding.toLowerCase();\n    int[] encodingScore = encodingsScores.get(encodingName);\n\n    if (encodingScore == null) {\n        encodingsScores.put(encodingName, new int[] { 1 });\n    } else {\n        encodingScore[0]++;\n    }\n}    \n\nprivate static void dumpEncodingsScores(Map&lt;String, int[]&gt; encodingsScores) {\n    System.out.println(toString(encodingsScores));\n}\n\nprivate static String toString(Map&lt;String, int[]&gt; encodingsScores) {\n    String GLUE = &quot;, &quot;;\n    StringBuilder sb = new StringBuilder();\n\n    for (Map.Entry&lt;String, int[]&gt; e : encodingsScores.entrySet()) {\n        sb.append(e.getKey() + &quot;:&quot; + e.getValue()[0] + GLUE);\n    }\n    int len = sb.length();\n    sb.delete(len - GLUE.length(), len);\n\n    return &quot;{ &quot; + sb.toString() + &quot; }&quot;;\n}\n</code></pre>\n<p><em>Improvements:</em>\nThe <code>guessEncoding</code> method reads the inputstream entirely. For large inputstreams this can be a concern. All these libraries would read the whole inputstream. This would imply a large time consumption for detecting the charset.</p>\n<p>It's possible to limit the initial data loading to a few bytes and perform the charset detection on those few bytes only.</p>\n"},{"tags":[],"owner":{"account_id":1250355,"reputation":579,"user_id":1210878,"accept_rate":44,"display_name":"faghani"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1465417748,"creation_date":1463084081,"answer_id":37196594,"question_id":499010,"body_markdown":"As far as I know, there is no general library in this context to be suitable for all types of problems. So, for each problem you should test the existing libraries and select the best one which satisfies your problem’s constraints, but often none of them is appropriate. In these cases you can write your own Encoding Detector! As I have wrote ...\r\n\r\nI’ve wrote a meta java tool for detecting charset encoding of HTML Web pages, using IBM ICU4j and Mozilla JCharDet as the built-in components. [Here][1] you can find my tool, please read the README section before anything else. Also, you can find some basic concepts of this problem in my [paper][2] and in its references.   \r\n\r\nBellow I provided some helpful comments which I’ve experienced in my work:   \r\n\r\n - Charset detection is not a foolproof process, because it is essentially based on statistical data and what actually happens is **guessing** not **detecting**\r\n - icu4j is the main tool in this context by IBM, imho\r\n - Both TikaEncodingDetector and Lucene-ICU4j are using icu4j and their accuracy had not a meaningful difference from which the icu4j in my tests (at most %1, as I remember)\r\n - icu4j is much more general than jchardet, icu4j is just a bit biased to IBM family encodings while jchardet is strongly biased to utf-8\r\n - Due to the widespread use of UTF-8 in HTML-world; jchardet is a better choice than icu4j in overall, but is not the best choice!\r\n - icu4j is great for East Asian specific encodings like EUC-KR, EUC-JP, SHIFT_JIS, BIG5 and the GB family encodings\r\n - Both icu4j and jchardet are debacle in dealing with HTML pages with Windows-1251 and Windows-1256 encodings. Windows-1251 aka cp1251 is widely used for Cyrillic-based languages like Russian and Windows-1256 aka cp1256 is widely used for Arabic \r\n - Almost all encoding detection tools are using statistical methods, so the accuracy of output strongly depends on the size and the contents of the input \r\n - Some encodings are essentially the same just with a partial differences, so in some cases the guessed or detected encoding may be false but at the same time be true! As about Windows-1252 and ISO-8859-1. (refer to the last paragraph under the 5.2 section of my paper)\r\n\r\n  [1]: https://github.com/shabanali-faghani/IUST-HTMLCharDet\r\n  [2]: http://link.springer.com/chapter/10.1007/978-3-319-28940-3_17","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>As far as I know, there is no general library in this context to be suitable for all types of problems. So, for each problem you should test the existing libraries and select the best one which satisfies your problem’s constraints, but often none of them is appropriate. In these cases you can write your own Encoding Detector! As I have wrote ...</p>\n\n<p>I’ve wrote a meta java tool for detecting charset encoding of HTML Web pages, using IBM ICU4j and Mozilla JCharDet as the built-in components. <a href=\"https://github.com/shabanali-faghani/IUST-HTMLCharDet\" rel=\"noreferrer\">Here</a> you can find my tool, please read the README section before anything else. Also, you can find some basic concepts of this problem in my <a href=\"http://link.springer.com/chapter/10.1007/978-3-319-28940-3_17\" rel=\"noreferrer\">paper</a> and in its references.   </p>\n\n<p>Bellow I provided some helpful comments which I’ve experienced in my work:   </p>\n\n<ul>\n<li>Charset detection is not a foolproof process, because it is essentially based on statistical data and what actually happens is <strong>guessing</strong> not <strong>detecting</strong></li>\n<li>icu4j is the main tool in this context by IBM, imho</li>\n<li>Both TikaEncodingDetector and Lucene-ICU4j are using icu4j and their accuracy had not a meaningful difference from which the icu4j in my tests (at most %1, as I remember)</li>\n<li>icu4j is much more general than jchardet, icu4j is just a bit biased to IBM family encodings while jchardet is strongly biased to utf-8</li>\n<li>Due to the widespread use of UTF-8 in HTML-world; jchardet is a better choice than icu4j in overall, but is not the best choice!</li>\n<li>icu4j is great for East Asian specific encodings like EUC-KR, EUC-JP, SHIFT_JIS, BIG5 and the GB family encodings</li>\n<li>Both icu4j and jchardet are debacle in dealing with HTML pages with Windows-1251 and Windows-1256 encodings. Windows-1251 aka cp1251 is widely used for Cyrillic-based languages like Russian and Windows-1256 aka cp1256 is widely used for Arabic </li>\n<li>Almost all encoding detection tools are using statistical methods, so the accuracy of output strongly depends on the size and the contents of the input </li>\n<li>Some encodings are essentially the same just with a partial differences, so in some cases the guessed or detected encoding may be false but at the same time be true! As about Windows-1252 and ISO-8859-1. (refer to the last paragraph under the 5.2 section of my paper)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2376243,"reputation":1090,"user_id":2079513,"accept_rate":86,"display_name":"Andres"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532959976,"creation_date":1532797144,"answer_id":51573443,"question_id":499010,"body_markdown":"In plain Java:\r\n\r\n    final String[] encodings = { &quot;US-ASCII&quot;, &quot;ISO-8859-1&quot;, &quot;UTF-8&quot;, &quot;UTF-16BE&quot;, &quot;UTF-16LE&quot;, &quot;UTF-16&quot; };\r\n\r\n    List&lt;String&gt; lines;\r\n\r\n    for (String encoding : encodings) {\r\n        try {\r\n            lines = Files.readAllLines(path, Charset.forName(encoding));\r\n            for (String line : lines) {\r\n                // do something...\r\n            }\r\n            break;\r\n        } catch (IOException ioe) {\r\n            System.out.println(encoding + &quot; failed, trying next.&quot;);\r\n        }\r\n    }\r\n\r\nThis approach will try the encodings one by one until one works or we run out of them.\r\n(BTW my encodings list has only those items because they are the charsets implementations required on every Java platform, https://docs.oracle.com/javase/9/docs/api/java/nio/charset/Charset.html)","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>In plain Java:</p>\n\n<pre><code>final String[] encodings = { \"US-ASCII\", \"ISO-8859-1\", \"UTF-8\", \"UTF-16BE\", \"UTF-16LE\", \"UTF-16\" };\n\nList&lt;String&gt; lines;\n\nfor (String encoding : encodings) {\n    try {\n        lines = Files.readAllLines(path, Charset.forName(encoding));\n        for (String line : lines) {\n            // do something...\n        }\n        break;\n    } catch (IOException ioe) {\n        System.out.println(encoding + \" failed, trying next.\");\n    }\n}\n</code></pre>\n\n<p>This approach will try the encodings one by one until one works or we run out of them.\n(BTW my encodings list has only those items because they are the charsets implementations required on every Java platform, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/nio/charset/Charset.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615420878,"creation_date":1615420878,"answer_id":66574641,"question_id":499010,"body_markdown":"A good strategy to handle this, is with a way to auto detect the input charset.\r\n\r\nI use org.xml.sax.InputSource in Java 11 to solve it:\r\n\r\n    ...    \r\n    import org.xml.sax.InputSource;\r\n    ...\r\n\r\n    InputSource inputSource = new InputSource(inputStream);\r\n    inputStreamReader = new InputStreamReader(\r\n        inputSource.getByteStream(), inputSource.getEncoding()\r\n      );\r\n\r\n \r\nInput sample:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;?&gt;\r\n    &lt;rss xmlns:dc=&quot;https://purl.org/dc/elements/1.1/&quot; version=&quot;2.0&quot;&gt;\r\n    &lt;channel&gt;\r\n    ...**strong text**","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>A good strategy to handle this, is with a way to auto detect the input charset.</p>\n<p>I use org.xml.sax.InputSource in Java 11 to solve it:</p>\n<pre><code>...    \nimport org.xml.sax.InputSource;\n...\n\nInputSource inputSource = new InputSource(inputStream);\ninputStreamReader = new InputStreamReader(\n    inputSource.getByteStream(), inputSource.getEncoding()\n  );\n</code></pre>\n<p>Input sample:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-16&quot;?&gt;\n&lt;rss xmlns:dc=&quot;https://purl.org/dc/elements/1.1/&quot; version=&quot;2.0&quot;&gt;\n&lt;channel&gt;\n...**strong text**\n</code></pre>\n"}],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381952,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":4735911,"answer_count":16,"score":159,"last_activity_date":1638120106,"creation_date":1233416050,"question_id":499010,"body_markdown":"With reference to the following thread:\r\n[https://stackoverflow.com/questions/498636/java-app-unable-to-read-iso-8859-1-encoded-file-correctly][1]\r\n\r\nWhat is the best way to programatically determine the correct charset encoding of an inputstream/file ?\r\n\r\nI have tried using the following:\r\n\r\n    File in =  new File(args[0]);\r\n    InputStreamReader r = new InputStreamReader(new FileInputStream(in));\r\n    System.out.println(r.getEncoding());\r\n\r\nBut on a file which I know to be encoded with ISO8859_1 the above code yields ASCII, which is not correct, and does not allow me to correctly render the content of the file back to the console.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/498636/java-app-unable-to-read-iso-8859-1-encoded-file-correctly","title":"Java : How to determine the correct charset encoding of a stream","body":"<p>With reference to the following thread:\n<a href=\"https://stackoverflow.com/questions/498636/java-app-unable-to-read-iso-8859-1-encoded-file-correctly\">Java App : Unable to read iso-8859-1 encoded file correctly</a></p>\n\n<p>What is the best way to programatically determine the correct charset encoding of an inputstream/file ?</p>\n\n<p>I have tried using the following:</p>\n\n<pre><code>File in =  new File(args[0]);\nInputStreamReader r = new InputStreamReader(new FileInputStream(in));\nSystem.out.println(r.getEncoding());\n</code></pre>\n\n<p>But on a file which I know to be encoded with ISO8859_1 the above code yields ASCII, which is not correct, and does not allow me to correctly render the content of the file back to the console.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","annotations"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1637954648,"post_id":70126343,"comment_id":123968443,"body_markdown":"what is error/issue you are facing","body":"what is error/issue you are facing"},{"owner":{"account_id":11126109,"reputation":381,"user_id":8167554,"display_name":"Pratyush Narain"},"score":0,"creation_date":1637955097,"post_id":70126343,"comment_id":123968572,"body_markdown":"Hi when i try to run I am getting &#39;unknown column name COL1&#39; if i run for the above complex query. but if i just run this query-&gt; select * from TABLE1 I get no error. I think i need to map both tables to entity somehow.Can you please help me thanks","body":"Hi when i try to run I am getting &#39;unknown column name COL1&#39; if i run for the above complex query. but if i just run this query-&gt; select * from TABLE1 I get no error. I think i need to map both tables to entity somehow.Can you please help me thanks"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1637955860,"post_id":70126343,"comment_id":123968782,"body_markdown":"Did you try to giving alias to table and using columns with alias, because I used multiple tables reference without any isssues","body":"Did you try to giving alias to table and using columns with alias, because I used multiple tables reference without any isssues"},{"owner":{"account_id":11126109,"reputation":381,"user_id":8167554,"display_name":"Pratyush Narain"},"score":0,"creation_date":1637956348,"post_id":70126343,"comment_id":123968893,"body_markdown":"Sorry but what is alias?","body":"Sorry but what is alias?"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1638008800,"post_id":70126343,"comment_id":123976625,"body_markdown":"select t1.* from TABLE1 t1\nwhere t1.COL1 = (select t2.COL2 from TABLE2 t2 where t2.COL3 = &#39;data&#39;) or t1.COL1 = &#39;data&#39;","body":"select t1.* from TABLE1 t1 where t1.COL1 = (select t2.COL2 from TABLE2 t2 where t2.COL3 = &#39;data&#39;) or t1.COL1 = &#39;data&#39;"},{"owner":{"account_id":11126109,"reputation":381,"user_id":8167554,"display_name":"Pratyush Narain"},"score":0,"creation_date":1638012112,"post_id":70126343,"comment_id":123977288,"body_markdown":"Ohh ok and how should my entity class look like? I mean should it have columns from both the tables?","body":"Ohh ok and how should my entity class look like? I mean should it have columns from both the tables?"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1638119640,"post_id":70126343,"comment_id":123997223,"body_markdown":"Can you share your problem in GitHub so that i can look and fix it","body":"Can you share your problem in GitHub so that i can look and fix it"},{"owner":{"account_id":11126109,"reputation":381,"user_id":8167554,"display_name":"Pratyush Narain"},"score":0,"creation_date":1638176057,"post_id":70126343,"comment_id":124008769,"body_markdown":"Sorry but I can&#39;t upload the project on github :(   the project is exactly same as above my question is in entity we provide column annotation so which columns should I provide there like I have two tables if I provide column name of one table and run query then it throws error like unknown column name coz column name is actually not there in my entity class. I mean should I give column names of both tables in one entity class? If yes then how can I have both tables in table annotation","body":"Sorry but I can&#39;t upload the project on github :(   the project is exactly same as above my question is in entity we provide column annotation so which columns should I provide there like I have two tables if I provide column name of one table and run query then it throws error like unknown column name coz column name is actually not there in my entity class. I mean should I give column names of both tables in one entity class? If yes then how can I have both tables in table annotation"}],"owner":{"account_id":11126109,"reputation":381,"user_id":8167554,"display_name":"Pratyush Narain"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638119581,"creation_date":1637938566,"question_id":70126343,"body_markdown":"I am having a query which has 2 tables. I need to use it as query annotation in repository class to fetch data from database\r\n\r\nthis is how my query looks something like this\r\n\r\n    select * from TABLE1 where COL1 = (select COL2 from TABLE2 where COL3 = &#39;data&#39;) or COL1 = &#39;data&#39;\r\n\r\nNow as it has 2 tables I need to make some Entity which can have multiple tables\r\n\r\nI know how to make an Entity for 1 table-&gt;\r\n\r\n    @Entity\r\n\r\n    @Table(name = &#39;TABLE1&#39;)\r\n    public class DisplayEntity implements Serializable {\r\n    \r\n    \r\n    @Column(name = &#39;COL1&#39;)\r\n    private String someVariable\r\n    \r\n    //getters and setters\r\n    }\r\n\r\nand repository class will look like -&gt;\r\n\r\n    @Repository\r\n    \r\n    public DisplayDataRepository extends CrudRepository&lt;DisplayEntity,Long&gt;\r\n    {\r\n    @Query(select * from TABLE1)\r\n    List&lt;DisplayEntity&gt; displayDatainTable();\r\n\r\nThis will work if I have single table in query but it is not working when I am having 2 tables as shown above in the above query\r\n\r\nCan anyone please help me how we can have a query implemented in repository class having 2 tables and how should my Entity class looks like\r\n\r\nThank you","title":"Fetch data from Subquery consisting 2 tables in springboot","body":"<p>I am having a query which has 2 tables. I need to use it as query annotation in repository class to fetch data from database</p>\n<p>this is how my query looks something like this</p>\n<pre><code>select * from TABLE1 where COL1 = (select COL2 from TABLE2 where COL3 = 'data') or COL1 = 'data'\n</code></pre>\n<p>Now as it has 2 tables I need to make some Entity which can have multiple tables</p>\n<p>I know how to make an Entity for 1 table-&gt;</p>\n<pre><code>@Entity\n\n@Table(name = 'TABLE1')\npublic class DisplayEntity implements Serializable {\n\n\n@Column(name = 'COL1')\nprivate String someVariable\n\n//getters and setters\n}\n</code></pre>\n<p>and repository class will look like -&gt;</p>\n<pre><code>@Repository\n\npublic DisplayDataRepository extends CrudRepository&lt;DisplayEntity,Long&gt;\n{\n@Query(select * from TABLE1)\nList&lt;DisplayEntity&gt; displayDatainTable();\n</code></pre>\n<p>This will work if I have single table in query but it is not working when I am having 2 tables as shown above in the above query</p>\n<p>Can anyone please help me how we can have a query implemented in repository class having 2 tables and how should my Entity class looks like</p>\n<p>Thank you</p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1638119088,"post_id":70145632,"comment_id":123997079,"body_markdown":"One: You only need to compile a Java file once to run it many times. Two: Starting a Java process is slow, you are meant to do that once with a long running program to amortize the cost. Three: Running an external Java process from PHP is a terrible idea. Four: **Why** do you want to do this?","body":"One: You only need to compile a Java file once to run it many times. Two: Starting a Java process is slow, you are meant to do that once with a long running program to amortize the cost. Three: Running an external Java process from PHP is a terrible idea. Four: <b>Why</b> do you want to do this?"},{"owner":{"account_id":18239776,"reputation":49,"user_id":14877474,"display_name":"michelle"},"score":0,"creation_date":1638119610,"post_id":70145632,"comment_id":123997217,"body_markdown":"Three: Why is it a terrible idea? Four: I am uploading a file to PHP and converting the file to pdf that requires a library in java. (The `Hello World` is just testing whether it works)","body":"Three: Why is it a terrible idea? Four: I am uploading a file to PHP and converting the file to pdf that requires a library in java. (The <code>Hello World</code> is just testing whether it works)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1638119838,"post_id":70145632,"comment_id":123997265,"body_markdown":"Because cgi-bin does not scale. We learned that in the 90s. You don&#39;t need to recompile the Java program to change command line arguments. Still shouldn&#39;t mix languages. Use Java, or use PHP. Or use both but on different ports. See [What is Java Servlet?](https://stackoverflow.com/q/7213541/2970947)","body":"Because cgi-bin does not scale. We learned that in the 90s. You don&#39;t need to recompile the Java program to change command line arguments. Still shouldn&#39;t mix languages. Use Java, or use PHP. Or use both but on different ports. See <a href=\"https://stackoverflow.com/q/7213541/2970947\">What is Java Servlet?</a>"},{"owner":{"account_id":18239776,"reputation":49,"user_id":14877474,"display_name":"michelle"},"score":0,"creation_date":1638121209,"post_id":70145632,"comment_id":123997598,"body_markdown":"Is there any way to retrieve the link from the server in java given that the link can change from time to time (since I&#39;m uploading files and the link changes according to the file id generated)","body":"Is there any way to retrieve the link from the server in java given that the link can change from time to time (since I&#39;m uploading files and the link changes according to the file id generated)"},{"owner":{"account_id":10385580,"reputation":300,"user_id":7658797,"display_name":"TheKodeToad"},"score":1,"creation_date":1638121264,"post_id":70145632,"comment_id":123997612,"body_markdown":"This isn&#39;t necessarily an awful idea, as this code isn&#39;t being run for every single request, and users will not mind waiting a while for PDF conversion. I am guilty of doing similar things in the past, when it would be overly complicated using a single programming language. Still, you should create a full Java project, compile it into a JAR, and run it from PHP. This would require a lot of learning, but by then, you may just want to create the whole thing in Java.","body":"This isn&#39;t necessarily an awful idea, as this code isn&#39;t being run for every single request, and users will not mind waiting a while for PDF conversion. I am guilty of doing similar things in the past, when it would be overly complicated using a single programming language. Still, you should create a full Java project, compile it into a JAR, and run it from PHP. This would require a lot of learning, but by then, you may just want to create the whole thing in Java."},{"owner":{"account_id":16406564,"reputation":7066,"user_id":11854986,"display_name":"Ken Lee"},"score":0,"creation_date":1638121625,"post_id":70145632,"comment_id":123997702,"body_markdown":"For shell_exec, please use full paths :. For example change `javac the-file.java` to `/opt/jdk1.7.0_80/bin/javac /var/www/test1/the-file.java` (same for java the-file)","body":"For shell_exec, please use full paths :. For example change <code>javac the-file.java</code> to <code>&#47;opt&#47;jdk1.7.0_80&#47;bin&#47;javac &#47;var&#47;www&#47;test1&#47;the-file.java</code> (same for java the-file)"},{"owner":{"account_id":18239776,"reputation":49,"user_id":14877474,"display_name":"michelle"},"score":0,"creation_date":1638122051,"post_id":70145632,"comment_id":123997825,"body_markdown":"@Ken Lee Why can&#39;t I just change directory and execute the file?","body":"@Ken Lee Why can&#39;t I just change directory and execute the file?"},{"owner":{"account_id":16406564,"reputation":7066,"user_id":11854986,"display_name":"Ken Lee"},"score":1,"creation_date":1638122127,"post_id":70145632,"comment_id":123997849,"body_markdown":"For PHP shell execution, environment variables (e.g. PATH) **may** not be effective because the &quot;user&quot; executing the script is apache (or nginx, etc.), not you. So in your case with two simple lines, please include the full paths","body":"For PHP shell execution, environment variables (e.g. PATH) <b>may</b> not be effective because the &quot;user&quot; executing the script is apache (or nginx, etc.), not you. So in your case with two simple lines, please include the full paths"},{"owner":{"account_id":18239776,"reputation":49,"user_id":14877474,"display_name":"michelle"},"score":0,"creation_date":1638122528,"post_id":70145632,"comment_id":123997938,"body_markdown":"@Ken Lee I see, thanks, let me try it out","body":"@Ken Lee I see, thanks, let me try it out"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":1,"creation_date":1638141430,"post_id":70145632,"comment_id":124002358,"body_markdown":"Why not just do the PDF conversion using PHP?","body":"Why not just do the PDF conversion using PHP?"}],"owner":{"account_id":18239776,"reputation":49,"user_id":14877474,"display_name":"michelle"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638119326,"creation_date":1638118804,"question_id":70145632,"body_markdown":"```\r\npublic class the-file{\r\n  public static void main(String[] args){\r\n    System.out.println(&quot;Hello World&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```\r\n&lt;?php\r\n  $dir = &quot;cd &#39;/var/www/the-file/java/&#39;&quot;;\r\n  echo shell_exec(&quot;$dir &amp;&amp; javac the-file.java &amp;&amp; java the-file&quot;);\r\n?&gt;\r\n```\r\n\r\nI execute `echo shell_exec(&quot;$dir &amp;&amp; javac the-file.java &amp;&amp; java the-file&quot;)` but it does not show anything on my website. But if I do `echo shell_exec(&quot;$dir &amp;&amp; java the-file&quot;)` or `echo shell_exec(&quot;$dir &amp;&amp; java the-file &amp;&amp; javac the-file.java&quot;)`, there is `Hello World` printed out on my website, is there a way to resolve this, I want it to compile `echo shell_exec(&quot;$dir &amp;&amp; javac the-file.java &amp;&amp; java the-file&quot;)` and output `Hello World`.","title":"javac did not output anything but output if reverse order for javac and java","body":"<pre><code>public class the-file{\n  public static void main(String[] args){\n    System.out.println(&quot;Hello World&quot;);\n  }\n}\n</code></pre>\n<pre><code>&lt;?php\n  $dir = &quot;cd '/var/www/the-file/java/'&quot;;\n  echo shell_exec(&quot;$dir &amp;&amp; javac the-file.java &amp;&amp; java the-file&quot;);\n?&gt;\n</code></pre>\n<p>I execute <code>echo shell_exec(&quot;$dir &amp;&amp; javac the-file.java &amp;&amp; java the-file&quot;)</code> but it does not show anything on my website. But if I do <code>echo shell_exec(&quot;$dir &amp;&amp; java the-file&quot;)</code> or <code>echo shell_exec(&quot;$dir &amp;&amp; java the-file &amp;&amp; javac the-file.java&quot;)</code>, there is <code>Hello World</code> printed out on my website, is there a way to resolve this, I want it to compile <code>echo shell_exec(&quot;$dir &amp;&amp; javac the-file.java &amp;&amp; java the-file&quot;)</code> and output <code>Hello World</code>.</p>\n"},{"tags":["java","intellij-idea","lambda","collections","java-stream"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1638115889,"post_id":70144943,"comment_id":123996262,"body_markdown":"Are you looking for a solution or you have a solution but want a better one? If you have a solution, can you post it, please?","body":"Are you looking for a solution or you have a solution but want a better one? If you have a solution, can you post it, please?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638119113,"creation_date":1638119113,"answer_id":70145666,"question_id":70144943,"body_markdown":"It seems that actual input data in `Map&lt;Faction, List&lt;Resource&gt;&gt;` look like:\r\n```\r\n{rr=[wool, wool, lumber], bb=[lumber, wool, grain]}\r\n```\r\nAssuming that appropriate enums are used for `Resource` and `Faction`, the map of resources to their amount can be retrieved using `flatMap` for the values in the input map:\r\n```java\r\nMap&lt;Faction, List&lt;Resource&gt;&gt; input; // some input data\r\n\r\nMap&lt;Resource, Integer&gt; result = input\r\n    .values() // Collection&lt;List&lt;Resource&gt;&gt;\r\n    .stream() // Stream&lt;List&lt;Resource&gt;&gt;\r\n    .flatMap(List::stream) // Stream&lt;Resource&gt;\r\n    .collect(Collectors.groupingBy(\r\n        resource -&gt; resource,\r\n        LinkedHashMap::new, // optional map supplier to keep insertion order\r\n        Collectors.summingInt(resource -&gt; 1)\r\n    ));\r\n```\r\nor `Collectors.toMap` may be applied:\r\n```java\r\n...\r\n    .collect(Collectors.toMap(\r\n        resource -&gt; resource,\r\n        resource -&gt; 1,\r\n        Integer::sum,      // merge function to summarize amounts\r\n        LinkedHashMap::new // optional map supplier to keep insertion order\r\n    ));\r\n```\r\n","title":"Optimal way to transfer values from a Map&lt;K, V&lt;List&gt;&gt; to a Map&lt;otherKey, otherValue&lt;List&gt;&gt;","body":"<p>It seems that actual input data in <code>Map&lt;Faction, List&lt;Resource&gt;&gt;</code> look like:</p>\n<pre><code>{rr=[wool, wool, lumber], bb=[lumber, wool, grain]}\n</code></pre>\n<p>Assuming that appropriate enums are used for <code>Resource</code> and <code>Faction</code>, the map of resources to their amount can be retrieved using <code>flatMap</code> for the values in the input map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Faction, List&lt;Resource&gt;&gt; input; // some input data\n\nMap&lt;Resource, Integer&gt; result = input\n    .values() // Collection&lt;List&lt;Resource&gt;&gt;\n    .stream() // Stream&lt;List&lt;Resource&gt;&gt;\n    .flatMap(List::stream) // Stream&lt;Resource&gt;\n    .collect(Collectors.groupingBy(\n        resource -&gt; resource,\n        LinkedHashMap::new, // optional map supplier to keep insertion order\n        Collectors.summingInt(resource -&gt; 1)\n    ));\n</code></pre>\n<p>or <code>Collectors.toMap</code> may be applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n    .collect(Collectors.toMap(\n        resource -&gt; resource,\n        resource -&gt; 1,\n        Integer::sum,      // merge function to summarize amounts\n        LinkedHashMap::new // optional map supplier to keep insertion order\n    ));\n</code></pre>\n"}],"owner":{"account_id":23479777,"reputation":3,"user_id":17532098,"display_name":"comrade_adibit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70145666,"answer_count":1,"score":0,"last_activity_date":1638119113,"creation_date":1638113937,"question_id":70144943,"body_markdown":"Heres what i got to work with:\r\n`Map&lt;Faction, List&lt;Resource&gt;&gt;`\r\n\r\n- Faction is the enum String value of a player faction (e.g &quot;rr&quot; for team red, &quot;bb&quot; for team blue)\r\n- Resources is String enum value of a Resource e.g &quot;Wool&quot;, &quot;Lumber&quot;\r\n\r\nSo the list looks like this right now: \r\n```\r\n(&quot;rr&quot;, &quot;wool&quot;)\r\n(&quot;rr&quot;, &quot;wool&quot;)\r\n(&quot;rr&quot;, &quot;lumber&quot;)\r\n(&quot;bb&quot;, &quot;wool&quot;)\r\n```\r\n---------------------------------\r\nSo my goal is to have a `Map&lt;Resource, Integer&gt;`\r\n\r\n- where Resource is String name of a Resource from an enum\r\n- Integer represents the amount of Resource Cards\r\n\r\nExample of target contained values: `(&quot;Wool&quot;, 4), (&quot;Grain&quot;, 3), (&quot;Lumber&quot;, 2)`\r\n\r\n---------------------------------\r\n\r\nSo I&#39;m trying to do this (in pseudocode):\r\n- extract all resources belonging to `Faction` &quot;rr&quot; and put them into a map `&lt;Resources, Integer&gt;` where each resource type should be represented once and `Integer` represents the sum of the amount of `Resource` cards\r\n--&gt; repeat this step for 3 more player `Faction`\r\n\r\n--------------------------------\r\n\r\nI&#39;ve played around with streams and foreach loops but have produced no valuable code yet because I struggle yet in the conception phase.","title":"Optimal way to transfer values from a Map&lt;K, V&lt;List&gt;&gt; to a Map&lt;otherKey, otherValue&lt;List&gt;&gt;","body":"<p>Heres what i got to work with:\n<code>Map&lt;Faction, List&lt;Resource&gt;&gt;</code></p>\n<ul>\n<li>Faction is the enum String value of a player faction (e.g &quot;rr&quot; for team red, &quot;bb&quot; for team blue)</li>\n<li>Resources is String enum value of a Resource e.g &quot;Wool&quot;, &quot;Lumber&quot;</li>\n</ul>\n<p>So the list looks like this right now:</p>\n<pre><code>(&quot;rr&quot;, &quot;wool&quot;)\n(&quot;rr&quot;, &quot;wool&quot;)\n(&quot;rr&quot;, &quot;lumber&quot;)\n(&quot;bb&quot;, &quot;wool&quot;)\n</code></pre>\n<hr />\n<p>So my goal is to have a <code>Map&lt;Resource, Integer&gt;</code></p>\n<ul>\n<li>where Resource is String name of a Resource from an enum</li>\n<li>Integer represents the amount of Resource Cards</li>\n</ul>\n<p>Example of target contained values: <code>(&quot;Wool&quot;, 4), (&quot;Grain&quot;, 3), (&quot;Lumber&quot;, 2)</code></p>\n<hr />\n<p>So I'm trying to do this (in pseudocode):</p>\n<ul>\n<li>extract all resources belonging to <code>Faction</code> &quot;rr&quot; and put them into a map <code>&lt;Resources, Integer&gt;</code> where each resource type should be represented once and <code>Integer</code> represents the sum of the amount of <code>Resource</code> cards\n--&gt; repeat this step for 3 more player <code>Faction</code></li>\n</ul>\n<hr />\n<p>I've played around with streams and foreach loops but have produced no valuable code yet because I struggle yet in the conception phase.</p>\n"},{"tags":["java","itext","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637587962,"post_id":70065247,"comment_id":123858585,"body_markdown":"Please share an example pdf signed by your code for analysis.","body":"Please share an example pdf signed by your code for analysis."},{"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"score":0,"creation_date":1637589579,"post_id":70065247,"comment_id":123859225,"body_markdown":"thank you, I just added the document","body":"thank you, I just added the document"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637593754,"post_id":70065247,"comment_id":123861101,"body_markdown":"Your code is inconsistent. In `prepareForSigning` you instantiate a `PdfDocumentSigner` with a `PdfWriter` argument (`new PdfDocumentSigner(pdfReader, pdfWriter, false)`) but the `PdfDocumentSigner` you show only comes with a `PdfDocumentSigner(PdfReader reader, OutputStream outputStream, boolean properties)` constructor. Thus, please have a look at your code again and check whether you simply forgot to copy&amp;paste some code or whether you actually use a different `PdfDocumentSigner` class.","body":"Your code is inconsistent. In <code>prepareForSigning</code> you instantiate a <code>PdfDocumentSigner</code> with a <code>PdfWriter</code> argument (<code>new PdfDocumentSigner(pdfReader, pdfWriter, false)</code>) but the <code>PdfDocumentSigner</code> you show only comes with a <code>PdfDocumentSigner(PdfReader reader, OutputStream outputStream, boolean properties)</code> constructor. Thus, please have a look at your code again and check whether you simply forgot to copy&amp;paste some code or whether you actually use a different <code>PdfDocumentSigner</code> class."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637594114,"post_id":70065247,"comment_id":123861234,"body_markdown":"That been said your example file looks like an originally probably correctly signed PDF was manipulated regularly (i.e. not in append mode) which moved objects (resulting in the signed byte ranges entry gap not holding the signature container anymore) and so completely invalidated the signature. Your code appears to attempt to use append mode everywhere, so that behavior does not match either.","body":"That been said your example file looks like an originally probably correctly signed PDF was manipulated regularly (i.e. not in append mode) which moved objects (resulting in the signed byte ranges entry gap not holding the signature container anymore) and so completely invalidated the signature. Your code appears to attempt to use append mode everywhere, so that behavior does not match either."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637594666,"post_id":70065247,"comment_id":123861491,"body_markdown":"That being said, I wouldn&#39;t recommend using the architecture in your code. `PdfSigner` is not really meant to be derived from. Your code would IMO be much cleaner if you used a standard `PdfSigner` with its `signExternalContainer` method for your first step with your `PdfHashSignatureContainer`, then requested the signature container from the service, and then eventually used a `PdfDocument` with the static `PdfSigner.signDeferred` method to inject the signature container into your PDF.","body":"That being said, I wouldn&#39;t recommend using the architecture in your code. <code>PdfSigner</code> is not really meant to be derived from. Your code would IMO be much cleaner if you used a standard <code>PdfSigner</code> with its <code>signExternalContainer</code> method for your first step with your <code>PdfHashSignatureContainer</code>, then requested the signature container from the service, and then eventually used a <code>PdfDocument</code> with the static <code>PdfSigner.signDeferred</code> method to inject the signature container into your PDF."},{"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"score":0,"creation_date":1637597548,"post_id":70065247,"comment_id":123862807,"body_markdown":"I set the append mode when I create the signer, is there somewhere else I should use it? also, the signDeferred method wants a string for the name of the field, would that be the signature name?","body":"I set the append mode when I create the signer, is there somewhere else I should use it? also, the signDeferred method wants a string for the name of the field, would that be the signature name?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637597762,"post_id":70065247,"comment_id":123862895,"body_markdown":"*&quot;I set the append mode when I create the signer, is there somewhere else I should use it?&quot;* - You in particular also use append mode in `extendDocumentWithCrlOcspMetadata`. The example looks as if that was missing, though. *&quot;the signDeferred method wants a string for the name of the field, would that be the signature name&quot;* - the signature field name.","body":"<i>&quot;I set the append mode when I create the signer, is there somewhere else I should use it?&quot;</i> - You in particular also use append mode in <code>extendDocumentWithCrlOcspMetadata</code>. The example looks as if that was missing, though. <i>&quot;the signDeferred method wants a string for the name of the field, would that be the signature name&quot;</i> - the signature field name."},{"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"score":0,"creation_date":1637599525,"post_id":70065247,"comment_id":123863644,"body_markdown":"right, but I thought I needed to use the append mode for adding the crls and ocsps, is that not the case?","body":"right, but I thought I needed to use the append mode for adding the crls and ocsps, is that not the case?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637603681,"post_id":70065247,"comment_id":123865275,"body_markdown":"*&quot;but I thought I needed to use the append mode for adding the crls and ocsps, is that not the case?&quot;* - Yes, you do. Always use append mode when dealing with PDFs that are signed. But in your example PDF that apparently did not happen, its a single-revision PDF including CRLs etc.. Thus, it looks like CRLs and OCSP responses have been added with different code than the code you posted. As already commented above, there are more discrepancies.","body":"<i>&quot;but I thought I needed to use the append mode for adding the crls and ocsps, is that not the case?&quot;</i> - Yes, you do. Always use append mode when dealing with PDFs that are signed. But in your example PDF that apparently did not happen, its a single-revision PDF including CRLs etc.. Thus, it looks like CRLs and OCSP responses have been added with different code than the code you posted. As already commented above, there are more discrepancies."},{"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"score":0,"creation_date":1637611753,"post_id":70065247,"comment_id":123868259,"body_markdown":"the code is that, it seems very strange, I will try the changes you suggested, thank you","body":"the code is that, it seems very strange, I will try the changes you suggested, thank you"},{"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"score":0,"creation_date":1637679267,"post_id":70065247,"comment_id":123887362,"body_markdown":"Im having major issues with those suggestions, but I noticed that changing the instantiation of the pdfsigner to: \npdfSigner = new PdfDocumentSigner(pdfReader, inMemoryStream, true)\nchanged nothing in the behaviour of the service","body":"Im having major issues with those suggestions, but I noticed that changing the instantiation of the pdfsigner to:  pdfSigner = new PdfDocumentSigner(pdfReader, inMemoryStream, true) changed nothing in the behaviour of the service"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637682946,"post_id":70065247,"comment_id":123889045,"body_markdown":"*&quot;I noticed that&quot;* - Well, that&#39;s not the point. If the original code you posted in your question did successfully compile and you did not forget to copy&amp;paste a constructor accepting a `PdfWriter`, then apparently your code uses a different `PdfDocumentSigner` than you think; either simply a different version of the class you think or a completely different class altogether. Have you checked imports etc? Alternatively your compile attempts simply failed and you ran an earlier version of the whole code (I don&#39;t know your tool stack, so this might happen without being too obvious).","body":"<i>&quot;I noticed that&quot;</i> - Well, that&#39;s not the point. If the original code you posted in your question did successfully compile and you did not forget to copy&amp;paste a constructor accepting a <code>PdfWriter</code>, then apparently your code uses a different <code>PdfDocumentSigner</code> than you think; either simply a different version of the class you think or a completely different class altogether. Have you checked imports etc? Alternatively your compile attempts simply failed and you ran an earlier version of the whole code (I don&#39;t know your tool stack, so this might happen without being too obvious)."},{"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"score":0,"creation_date":1637686646,"post_id":70065247,"comment_id":123890629,"body_markdown":"There is no import because the pdfsigner is in the same package. However I did a test with the pdfsigner declared like this:\n\n    private com.mydomain.myservice.service.PdfDocumentSigner pdfSigner;\n\nand nothing changed; I am using itextpdf 7.0.5 and I haven&#39;t slept trying to figure this out","body":"There is no import because the pdfsigner is in the same package. However I did a test with the pdfsigner declared like this:      private com.mydomain.myservice.service.PdfDocumentSigner pdfSigner;  and nothing changed; I am using itextpdf 7.0.5 and I haven&#39;t slept trying to figure this out"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637704998,"post_id":70065247,"comment_id":123897261,"body_markdown":"That you used a non-existing constructor is only part of the weirdness. Another part is that your example file is a single revision file while according to your code it should have two revisions. In the end this means that I cannot be sure about anything in your code.","body":"That you used a non-existing constructor is only part of the weirdness. Another part is that your example file is a single revision file while according to your code it should have two revisions. In the end this means that I cannot be sure about anything in your code."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637705295,"post_id":70065247,"comment_id":123897356,"body_markdown":"Have you tried simplifying your code? E.g. for starters by not calling `extendDocumentWithCrlOcspMetadata` at all? Have you tried saving intermediate file states, e.g. whenever you have it as a byte[]? Have you checked whether you do see the log outputs of your code? Also have you tried switching to a current iText version? 7.0.5 is somewhat old and still has some issues stemming from the iText 5/iText 7 architecture break.","body":"Have you tried simplifying your code? E.g. for starters by not calling <code>extendDocumentWithCrlOcspMetadata</code> at all? Have you tried saving intermediate file states, e.g. whenever you have it as a byte[]? Have you checked whether you do see the log outputs of your code? Also have you tried switching to a current iText version? 7.0.5 is somewhat old and still has some issues stemming from the iText 5/iText 7 architecture break."},{"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"score":0,"creation_date":1637775621,"post_id":70065247,"comment_id":123918336,"body_markdown":"I did update itext to 7.1.14 and after fixing some old &quot;cell.add(&quot;text&quot;)&quot; the service is up and running again, but the output was still the same.\nIn the logs I could see all the crls and ocsps info, and, according to the log at least, the ltv validation was successfully merged into the document. \nI also tried to comment out the call to the method that adds those entries to the pdf and still nothing.\nI added the logs for the document at every stage, but all the bytearraysoutputstreams seem to be empty, I edited the pdfdocumenthandler class in the question to show the logs","body":"I did update itext to 7.1.14 and after fixing some old &quot;cell.add(&quot;text&quot;)&quot; the service is up and running again, but the output was still the same. In the logs I could see all the crls and ocsps info, and, according to the log at least, the ltv validation was successfully merged into the document.  I also tried to comment out the call to the method that adds those entries to the pdf and still nothing. I added the logs for the document at every stage, but all the bytearraysoutputstreams seem to be empty, I edited the pdfdocumenthandler class in the question to show the logs"}],"answers":[{"tags":[],"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638119080,"creation_date":1638117094,"answer_id":70145399,"question_id":70065247,"body_markdown":"    pdfWriter = new PdfWriter(inMemoryStream, new WriterProperties().addXmpMetadata().setPdfVersion(PdfVersion.PDF_1_0));\r\n\r\nthat was the issue, after changing it to \r\n\r\n    pdfWriter = new PdfWriter(inMemoryStream, new WriterProperties().addXmpMetadata().setPdfVersion(PdfVersion.PDF_1_3));\r\n\r\nit worked perfectly","title":"external signature results in corrupted pdf after signing","body":"<pre><code>pdfWriter = new PdfWriter(inMemoryStream, new WriterProperties().addXmpMetadata().setPdfVersion(PdfVersion.PDF_1_0));\n</code></pre>\n<p>that was the issue, after changing it to</p>\n<pre><code>pdfWriter = new PdfWriter(inMemoryStream, new WriterProperties().addXmpMetadata().setPdfVersion(PdfVersion.PDF_1_3));\n</code></pre>\n<p>it worked perfectly</p>\n"}],"owner":{"account_id":22814616,"reputation":1,"user_id":16965425,"display_name":"Antonio De Michele"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70145399,"answer_count":1,"score":0,"last_activity_date":1638119080,"creation_date":1637581482,"question_id":70065247,"body_markdown":"I am trying to sign a pdf document from a 3rd party signature provider.\r\nI send them the document hash, after creating the empty signature and they send a timestamp token (we agreed it would be a timestamp signature) and I add the signature back into the pdf. the api call to get the timestmp and crl and ocsp goes well, but once I generate the pdf with the signature, adobe says the signature is not valid and the error is:\r\n\r\nError during signature verification.  \r\n\r\nSignature contains incorrect, unrecognized, corrupted or suspicious data.\r\nSupport Information: SigDict /Contents illegal data\r\n\r\nthis is the current code:\r\n\r\nsignatureprovider.java\r\n\r\n        public ByteArrayOutputStream sign(byte[] src, Rectangle rect, int signPage) throws Exception {\r\n        log.info(&quot;I am in the signing method&quot;);\r\n        ByteArrayOutputStream dest = new ByteArrayOutputStream();\r\n        PdfDocumentHandler handler = new PdfDocumentHandler(new ByteArrayInputStream(src), dest);\r\n        handler.prepareForSigning(rect, signPage);\r\n        TrustedTimestampService service = new TrustedTimestampService();\r\n        SignResponseWrapper response = new SignResponseWrapper();\r\n        response = service.signHash(handler.getEncodedDocumentHash());\r\n        String timestampToken = response.getSignResponse().getSignatureObject().getOther().getScSignatureObjects().getScExtendedSignatureObject().getTimestamp().getRFC3161TimeStampToken();\r\n        List&lt;String&gt; encodedCrlEntries = new ArrayList&lt;String&gt;();\r\n        encodedCrlEntries.add(response.getSignResponse().getOptionalOutputs().getScRevocationInformation().getScCRLs().getScCRL());\r\n        List&lt;String&gt; encodedOcspEntries = new ArrayList&lt;String&gt;();\r\n        encodedOcspEntries.add(response.getSignResponse().getOptionalOutputs().getScRevocationInformation().getScOCSPs().getScOCSP());\r\n        byte[] signed = handler.createSignedPdf(Base64.getDecoder().decode(timestampToken), 15000, encodedCrlEntries, encodedOcspEntries);\r\n        dest.flush();\r\n        dest.write(signed);\r\n        handler.close();\r\n        return dest;\r\n    }\r\n\r\nI will avoid adding the service, it simply sends the hash and gets the tokens \r\npdfdocumenthandler.java\r\n\r\npublic PdfDocumentHandler(InputStream inputStream, ByteArrayOutputStream outputStream) {\r\n        this.inputStream = inputStream;\r\n        this.outputStream = outputStream;\r\n\r\n    }\r\n\r\n    public void prepareForSigning(Rectangle rect, int signPage)\r\n        throws IOException, GeneralSecurityException {\r\n\r\n        inMemoryStream = new ByteArrayOutputStream();\r\n        inMemoryStream.write(StreamUtil.inputStreamToArray(inputStream));\r\n\r\n        boolean hasSignature = hasDocumentSignature();\r\n        pdfReader = new PdfReader(new ByteArrayInputStream(inMemoryStream.toByteArray()), new ReaderProperties());\r\n        inMemoryStream.reset();\r\n        pdfWriter = new PdfWriter(inMemoryStream, new WriterProperties().addXmpMetadata().setPdfVersion(PdfVersion.PDF_1_0));\r\n        StampingProperties stampingProperties = new StampingProperties();\r\n        pdfSigner = new PdfDocumentSigner(pdfReader, inMemoryStream, hasSignature ? stampingProperties.useAppendMode() : stampingProperties);\r\n\r\n        pdfSigner.getSignatureAppearance()\r\n            .setReason(&quot;myreason&quot;)\r\n            .setLocation(&quot;mylocation&quot;)\r\n            .setContact(&quot;mycontact&quot;)\r\n            .setPageRect(rect)\r\n            .setPageNumber(signPage)\r\n            .setSignatureCreator(&quot;creator&quot;);\r\n\r\n        pdfSigner.setFieldName(&quot;digitalSig&quot;);\r\n        try {\r\n            imgStorage = new ImageStorage();\r\n            ImageData imgData = ImageDataFactory.create(Base64.getDecoder().decode(imgStorage.getimgData().getBytes()));\r\n            pdfSigner.getSignatureAppearance().setRenderingMode(RenderingMode.GRAPHIC);\r\n            pdfSigner.getSignatureAppearance().setSignatureGraphic(imgData);\r\n        } catch(Exception e){\r\n            pdfSigner.getSignatureAppearance().setRenderingMode(RenderingMode.DESCRIPTION);\r\n        }\r\n        \r\n        Map&lt;PdfName, PdfObject&gt; signatureDictionary = new HashMap&lt;&gt;();\r\n        signatureDictionary.put(PdfName.Filter, PdfName.Adobe_PPKLite);\r\n        signatureDictionary.put(PdfName.SubFilter, PdfName.ETSI_RFC3161);\r\n\r\n        Calendar signDate = Calendar.getInstance();\r\n        pdfSigner.setSignDate(signDate);\r\n\r\n        PdfHashSignatureContainer hashSignatureContainer = new PdfHashSignatureContainer(&quot;SHA-512&quot;, new PdfDictionary(signatureDictionary));\r\n        documentHash = pdfSigner.computeHash(hashSignatureContainer, 15_000);\r\n        log.info(&quot;prepared document - outputstream: &quot; + Base64.getEncoder().encodeToString(outputStream.toByteArray()));\r\n        log.info(&quot;prepared document - inmemorystream: &quot; + Base64.getEncoder().encodeToString(inMemoryStream.toByteArray()));\r\n        \r\n    }\r\n\r\n    public byte[] createSignedPdf(byte[] externalSignature, int estimatedSize, List&lt;String&gt; encodedCrlEntries,\r\n                                List&lt;String&gt; encodedOcspEntries) {\r\n        if (pdfSigner.getCertificationLevel() == PdfSigner.CERTIFIED_NO_CHANGES_ALLOWED) {\r\n            throw new RuntimeException(String.format(&quot;Could not apply signature because source file contains a certification that does not allow &quot;\r\n                                                       + &quot;any changes to the document with id %s&quot;));\r\n        }\r\n        if (estimatedSize &lt; externalSignature.length) {\r\n            throw new RuntimeException(String.format(&quot;Not enough space for signature in the document. The estimated size needs to be &quot; +\r\n                                                       &quot; %d bytes.&quot;, externalSignature.length));\r\n        }\r\n\r\n        try {\r\n            pdfSigner.signWithAuthorizedSignature(new PdfSignatureContainer(externalSignature), estimatedSize);\r\n\r\n            if (null != encodedCrlEntries || null!=encodedOcspEntries) {\r\n                extendDocumentWithCrlOcspMetadata(encodedCrlEntries, encodedOcspEntries);\r\n            } else {\r\n                log.info(&quot;No CRL and OCSP entries were received to be embedded into the PDF&quot;);\r\n                outputStream.write(inMemoryStream.toByteArray());\r\n            }\r\n            //outputStream.write(inMemoryStream.toByteArray());\r\n            closeResource(inMemoryStream);\r\n            closeResource(outputStream);\r\n            log.info(&quot;complete document - outputstream: &quot; + Base64.getEncoder().encodeToString(outputStream.toByteArray()));\r\n            log.info(&quot;complete document - inmemorystream: &quot; + Base64.getEncoder().encodeToString(inMemoryStream.toByteArray()));\r\n        } catch (IOException | GeneralSecurityException e) {\r\n            throw new RuntimeException(String.format(&quot;Failed to embed the signature in the document&quot;), e);\r\n        }\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n    private void extendDocumentWithCrlOcspMetadata(List&lt;String&gt; encodedCrlEntries, List&lt;String&gt; encodedOcspEntries) {\r\n        if (pdfSigner.getCertificationLevel() == PdfSigner.CERTIFIED_NO_CHANGES_ALLOWED) {\r\n            throw new RuntimeException(String.format(&quot;Could not apply revocation information (LTV) to the DSS Dictionary. Document contains a &quot; +\r\n                                                       &quot;certification that does not allow any changes&quot;));\r\n        }\r\n        log.info(&quot;document without crl and ocsp - outputstream: &quot; + Base64.getEncoder().encodeToString(outputStream.toByteArray()));\r\n        log.info(&quot;document without crl and ocsp - inmemorystream: &quot; + Base64.getEncoder().encodeToString(inMemoryStream.toByteArray()));\r\n        List&lt;byte[]&gt; crl = mapEncodedEntries(encodedCrlEntries, this::mapEncodedCrl);\r\n        List&lt;byte[]&gt; ocsp = mapEncodedEntries(encodedOcspEntries, this::mapEncodedOcsp);\r\n\r\n        try (InputStream documentStream = new ByteArrayInputStream(inMemoryStream.toByteArray());\r\n             PdfReader reader = new PdfReader(documentStream);\r\n             PdfWriter writer = new PdfWriter(outputStream);\r\n             PdfDocument pdfDocument = new PdfDocument(reader, writer, new StampingProperties().preserveEncryption().useAppendMode())) {\r\n            LtvVerification validation = new LtvVerification(pdfDocument);\r\n            List&lt;String&gt; signatureNames = new SignatureUtil(pdfDocument).getSignatureNames();\r\n            String signatureName = signatureNames.get(signatureNames.size() - 1);\r\n            boolean isSignatureVerificationAdded = validation.addVerification(signatureName, ocsp, crl, null);\r\n            validation.merge();\r\n            logSignatureVerificationInfo(isSignatureVerificationAdded);\r\n\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(String.format(&quot;Failed to embed the signature(s) in the document(s) and close the streams&quot;));\r\n        }\r\n        \r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getEncodedDocumentHash() {\r\n        return Base64.getEncoder().encodeToString(documentHash);\r\n    }\r\n\r\n    private void logSignatureVerificationInfo(boolean isSignatureVerificationAdded) {\r\n        if (isSignatureVerificationAdded) {\r\n            log.info(&quot;Merged LTV validation information to the output stream&quot;);\r\n        } else {\r\n            log.warn(&quot;Failed to merge LTV validation information to the output stream&quot;);\r\n        }\r\n    }\r\n\r\n    private List&lt;byte[]&gt; mapEncodedEntries(List&lt;String&gt; encodedEntries, Function&lt;String, byte[]&gt; mapperFunction) {\r\n        return Objects.nonNull(encodedEntries)\r\n               ? encodedEntries.stream().map(mapperFunction).collect(Collectors.toList())\r\n               : Collections.emptyList();\r\n    }\r\n\r\n    private byte[] mapEncodedCrl(String encodedCrl) {\r\n        try (InputStream inputStream = new ByteArrayInputStream(Base64.getDecoder().decode(encodedCrl))) {\r\n            X509CRL x509crl = (X509CRL) CertificateFactory.getInstance(&quot;X.509&quot;).generateCRL(inputStream);\r\n            logCrlInfo(x509crl);\r\n            return x509crl.getEncoded();\r\n        } catch (IOException | CertificateException | CRLException e) {\r\n            throw new RuntimeException(String.format(&quot;Failed to map the received encoded CRL entry&quot;), e);\r\n        }\r\n    }\r\n\r\n    private byte[] mapEncodedOcsp(String encodedOcsp) {\r\n        try (InputStream inputStream = new ByteArrayInputStream(Base64.getDecoder().decode(encodedOcsp))) {\r\n            OCSPResp ocspResp = new OCSPResp(inputStream);\r\n            BasicOCSPResp basicResp = (BasicOCSPResp) ocspResp.getResponseObject();\r\n            logOcspInfo(ocspResp, basicResp);\r\n            return basicResp.getEncoded();\r\n        } catch (IOException | OCSPException e) {\r\n            throw new RuntimeException(String.format(&quot;Failed to map the received encoded OCSP entry&quot;), e);\r\n        }\r\n    }\r\n\r\n    private void logCrlInfo(X509CRL x509crl) {\r\n        int revokedCertificatesNo = Objects.isNull(x509crl.getRevokedCertificates()) ? 0 : x509crl.getRevokedCertificates().size();\r\n\r\n        String message = &quot;Embedding CRL response... [&quot;\r\n                         + &quot;IssuerDN: &quot; + x509crl.getIssuerX500Principal() + &quot; &quot;\r\n                         + &quot;This update: &quot; + x509crl.getThisUpdate() + &quot; &quot;\r\n                         + &quot;Next update: &quot; + x509crl.getNextUpdate() + &quot; &quot;\r\n                         + &quot;No. of revoked certificates: &quot; + revokedCertificatesNo\r\n                         + &quot;]&quot;;\r\n        log.info(message);\r\n    }\r\n\r\n    private void logOcspInfo(OCSPResp ocspResp, BasicOCSPResp basicResp) {\r\n        SingleResp response = basicResp.getResponses()[0];\r\n        BigInteger serialNumber = response.getCertID().getSerialNumber();\r\n        X509CertificateHolder firstCertificate = basicResp.getCerts()[0];\r\n\r\n        String message = &quot;Embedding OCSP response... [&quot;\r\n                         + &quot;Status: &quot; + (ocspResp.getStatus() == 0 ? &quot;OK&quot; : &quot;NOK&quot;) + &quot; &quot;\r\n                         + &quot;Produced at: &quot; + basicResp.getProducedAt() + &quot; &quot;\r\n                         + &quot;This update: &quot; + response.getThisUpdate() + &quot; &quot;\r\n                         + &quot;Next update: &quot; + response.getNextUpdate() + &quot; &quot;\r\n                         + &quot;X509 cert issuer: &quot; + firstCertificate.getIssuer() + &quot; &quot;\r\n                         + &quot;X509 cert subject: &quot; + firstCertificate.getSubject() + &quot; &quot;\r\n                         + &quot;Certificate ID: &quot; + serialNumber.toString() + &quot;(&quot; + serialNumber.toString(16).toUpperCase() + &quot;)&quot;\r\n                         + &quot;]&quot;;\r\n        log.info(message);\r\n    }\r\n\r\n    private boolean hasDocumentSignature() throws IOException {\r\n        try (ByteArrayInputStream is = new ByteArrayInputStream(inMemoryStream.toByteArray());\r\n             PdfReader reader = new PdfReader(is, new ReaderProperties());\r\n             PdfDocument pdfDocument = new PdfDocument(reader)) {\r\n            SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\r\n            return signatureUtil.getSignatureNames().size() &gt; 0;\r\n        }\r\n    }\r\n\r\npdfdocumentsigner.java\r\n\r\n    public class PdfDocumentSigner extends PdfSigner {\r\n    \r\n    public PdfDocumentSigner(PdfReader reader, OutputStream outputStream, boolean properties) throws IOException {\r\n        super(reader, outputStream, properties);\r\n    }\r\n\r\n    public byte[] computeHash(IExternalSignatureContainer externalHashContainer, int estimatedSize) throws GeneralSecurityException, IOException {\r\n        if (closed) {\r\n            throw new PdfException(PdfException.ThisInstanceOfPdfSignerAlreadyClosed);\r\n        }\r\n\r\n        PdfSignature signatureDictionary = new PdfSignature();\r\n        PdfSignatureAppearance appearance = getSignatureAppearance();\r\n        signatureDictionary.setReason(appearance.getReason());\r\n        signatureDictionary.setLocation(appearance.getLocation());\r\n        signatureDictionary.setSignatureCreator(appearance.getSignatureCreator());\r\n        signatureDictionary.setContact(appearance.getContact());\r\n        signatureDictionary.setDate(new PdfDate(getSignDate()));\r\n        externalHashContainer.modifySigningDictionary(signatureDictionary.getPdfObject());\r\n        cryptoDictionary = signatureDictionary;\r\n\r\n        Map&lt;PdfName, Integer&gt; exc = new HashMap&lt;&gt;();\r\n        exc.put(PdfName.Contents, estimatedSize * 2 + 2);\r\n        preClose(exc);\r\n\r\n        InputStream dataRangeStream = getRangeStream();\r\n        return externalHashContainer.sign(dataRangeStream);\r\n    }\r\n\r\n    public void signWithAuthorizedSignature(IExternalSignatureContainer externalSignatureContainer, int estimatedSize)\r\n        throws GeneralSecurityException, IOException {\r\n        InputStream dataRangeStream = getRangeStream();\r\n        byte[] authorizedSignature = externalSignatureContainer.sign(dataRangeStream);\r\n\r\n        if (estimatedSize &lt; authorizedSignature.length) {\r\n            throw new IOException(String.format(&quot;Not enough space. The estimated signature size [%d bytes] is less than the received authorized &quot;\r\n                                                + &quot;signature [%d bytes] which needs to be embedded into the document.&quot;, estimatedSize,\r\n                                                authorizedSignature.length));\r\n        }\r\n\r\n        byte[] paddedSignature = new byte[estimatedSize];\r\n        System.arraycopy(authorizedSignature, 0, paddedSignature, 0, authorizedSignature.length);\r\n\r\n        PdfDictionary dic2 = new PdfDictionary();\r\n        dic2.put(PdfName.Contents, new PdfString(paddedSignature).setHexWriting(true));\r\n        close(dic2);\r\n\r\n        closed = true;\r\n    }\r\n\r\nI have been looking and it does seem like I am not missing anything, can anyone please help me figure this out?\r\nhere vis the final pdf sample\r\n\r\n[sample pdf](https://drive.google.com/file/d/1tJDN1JeOsjq8PqgI1QOzS2vOC2O8JxoI/view?usp=sharing)","title":"external signature results in corrupted pdf after signing","body":"<p>I am trying to sign a pdf document from a 3rd party signature provider.\nI send them the document hash, after creating the empty signature and they send a timestamp token (we agreed it would be a timestamp signature) and I add the signature back into the pdf. the api call to get the timestmp and crl and ocsp goes well, but once I generate the pdf with the signature, adobe says the signature is not valid and the error is:</p>\n<p>Error during signature verification.</p>\n<p>Signature contains incorrect, unrecognized, corrupted or suspicious data.\nSupport Information: SigDict /Contents illegal data</p>\n<p>this is the current code:</p>\n<p>signatureprovider.java</p>\n<pre><code>    public ByteArrayOutputStream sign(byte[] src, Rectangle rect, int signPage) throws Exception {\n    log.info(&quot;I am in the signing method&quot;);\n    ByteArrayOutputStream dest = new ByteArrayOutputStream();\n    PdfDocumentHandler handler = new PdfDocumentHandler(new ByteArrayInputStream(src), dest);\n    handler.prepareForSigning(rect, signPage);\n    TrustedTimestampService service = new TrustedTimestampService();\n    SignResponseWrapper response = new SignResponseWrapper();\n    response = service.signHash(handler.getEncodedDocumentHash());\n    String timestampToken = response.getSignResponse().getSignatureObject().getOther().getScSignatureObjects().getScExtendedSignatureObject().getTimestamp().getRFC3161TimeStampToken();\n    List&lt;String&gt; encodedCrlEntries = new ArrayList&lt;String&gt;();\n    encodedCrlEntries.add(response.getSignResponse().getOptionalOutputs().getScRevocationInformation().getScCRLs().getScCRL());\n    List&lt;String&gt; encodedOcspEntries = new ArrayList&lt;String&gt;();\n    encodedOcspEntries.add(response.getSignResponse().getOptionalOutputs().getScRevocationInformation().getScOCSPs().getScOCSP());\n    byte[] signed = handler.createSignedPdf(Base64.getDecoder().decode(timestampToken), 15000, encodedCrlEntries, encodedOcspEntries);\n    dest.flush();\n    dest.write(signed);\n    handler.close();\n    return dest;\n}\n</code></pre>\n<p>I will avoid adding the service, it simply sends the hash and gets the tokens\npdfdocumenthandler.java</p>\n<p>public PdfDocumentHandler(InputStream inputStream, ByteArrayOutputStream outputStream) {\nthis.inputStream = inputStream;\nthis.outputStream = outputStream;</p>\n<pre><code>}\n\npublic void prepareForSigning(Rectangle rect, int signPage)\n    throws IOException, GeneralSecurityException {\n\n    inMemoryStream = new ByteArrayOutputStream();\n    inMemoryStream.write(StreamUtil.inputStreamToArray(inputStream));\n\n    boolean hasSignature = hasDocumentSignature();\n    pdfReader = new PdfReader(new ByteArrayInputStream(inMemoryStream.toByteArray()), new ReaderProperties());\n    inMemoryStream.reset();\n    pdfWriter = new PdfWriter(inMemoryStream, new WriterProperties().addXmpMetadata().setPdfVersion(PdfVersion.PDF_1_0));\n    StampingProperties stampingProperties = new StampingProperties();\n    pdfSigner = new PdfDocumentSigner(pdfReader, inMemoryStream, hasSignature ? stampingProperties.useAppendMode() : stampingProperties);\n\n    pdfSigner.getSignatureAppearance()\n        .setReason(&quot;myreason&quot;)\n        .setLocation(&quot;mylocation&quot;)\n        .setContact(&quot;mycontact&quot;)\n        .setPageRect(rect)\n        .setPageNumber(signPage)\n        .setSignatureCreator(&quot;creator&quot;);\n\n    pdfSigner.setFieldName(&quot;digitalSig&quot;);\n    try {\n        imgStorage = new ImageStorage();\n        ImageData imgData = ImageDataFactory.create(Base64.getDecoder().decode(imgStorage.getimgData().getBytes()));\n        pdfSigner.getSignatureAppearance().setRenderingMode(RenderingMode.GRAPHIC);\n        pdfSigner.getSignatureAppearance().setSignatureGraphic(imgData);\n    } catch(Exception e){\n        pdfSigner.getSignatureAppearance().setRenderingMode(RenderingMode.DESCRIPTION);\n    }\n    \n    Map&lt;PdfName, PdfObject&gt; signatureDictionary = new HashMap&lt;&gt;();\n    signatureDictionary.put(PdfName.Filter, PdfName.Adobe_PPKLite);\n    signatureDictionary.put(PdfName.SubFilter, PdfName.ETSI_RFC3161);\n\n    Calendar signDate = Calendar.getInstance();\n    pdfSigner.setSignDate(signDate);\n\n    PdfHashSignatureContainer hashSignatureContainer = new PdfHashSignatureContainer(&quot;SHA-512&quot;, new PdfDictionary(signatureDictionary));\n    documentHash = pdfSigner.computeHash(hashSignatureContainer, 15_000);\n    log.info(&quot;prepared document - outputstream: &quot; + Base64.getEncoder().encodeToString(outputStream.toByteArray()));\n    log.info(&quot;prepared document - inmemorystream: &quot; + Base64.getEncoder().encodeToString(inMemoryStream.toByteArray()));\n    \n}\n\npublic byte[] createSignedPdf(byte[] externalSignature, int estimatedSize, List&lt;String&gt; encodedCrlEntries,\n                            List&lt;String&gt; encodedOcspEntries) {\n    if (pdfSigner.getCertificationLevel() == PdfSigner.CERTIFIED_NO_CHANGES_ALLOWED) {\n        throw new RuntimeException(String.format(&quot;Could not apply signature because source file contains a certification that does not allow &quot;\n                                                   + &quot;any changes to the document with id %s&quot;));\n    }\n    if (estimatedSize &lt; externalSignature.length) {\n        throw new RuntimeException(String.format(&quot;Not enough space for signature in the document. The estimated size needs to be &quot; +\n                                                   &quot; %d bytes.&quot;, externalSignature.length));\n    }\n\n    try {\n        pdfSigner.signWithAuthorizedSignature(new PdfSignatureContainer(externalSignature), estimatedSize);\n\n        if (null != encodedCrlEntries || null!=encodedOcspEntries) {\n            extendDocumentWithCrlOcspMetadata(encodedCrlEntries, encodedOcspEntries);\n        } else {\n            log.info(&quot;No CRL and OCSP entries were received to be embedded into the PDF&quot;);\n            outputStream.write(inMemoryStream.toByteArray());\n        }\n        //outputStream.write(inMemoryStream.toByteArray());\n        closeResource(inMemoryStream);\n        closeResource(outputStream);\n        log.info(&quot;complete document - outputstream: &quot; + Base64.getEncoder().encodeToString(outputStream.toByteArray()));\n        log.info(&quot;complete document - inmemorystream: &quot; + Base64.getEncoder().encodeToString(inMemoryStream.toByteArray()));\n    } catch (IOException | GeneralSecurityException e) {\n        throw new RuntimeException(String.format(&quot;Failed to embed the signature in the document&quot;), e);\n    }\n    return outputStream.toByteArray();\n}\n\nprivate void extendDocumentWithCrlOcspMetadata(List&lt;String&gt; encodedCrlEntries, List&lt;String&gt; encodedOcspEntries) {\n    if (pdfSigner.getCertificationLevel() == PdfSigner.CERTIFIED_NO_CHANGES_ALLOWED) {\n        throw new RuntimeException(String.format(&quot;Could not apply revocation information (LTV) to the DSS Dictionary. Document contains a &quot; +\n                                                   &quot;certification that does not allow any changes&quot;));\n    }\n    log.info(&quot;document without crl and ocsp - outputstream: &quot; + Base64.getEncoder().encodeToString(outputStream.toByteArray()));\n    log.info(&quot;document without crl and ocsp - inmemorystream: &quot; + Base64.getEncoder().encodeToString(inMemoryStream.toByteArray()));\n    List&lt;byte[]&gt; crl = mapEncodedEntries(encodedCrlEntries, this::mapEncodedCrl);\n    List&lt;byte[]&gt; ocsp = mapEncodedEntries(encodedOcspEntries, this::mapEncodedOcsp);\n\n    try (InputStream documentStream = new ByteArrayInputStream(inMemoryStream.toByteArray());\n         PdfReader reader = new PdfReader(documentStream);\n         PdfWriter writer = new PdfWriter(outputStream);\n         PdfDocument pdfDocument = new PdfDocument(reader, writer, new StampingProperties().preserveEncryption().useAppendMode())) {\n        LtvVerification validation = new LtvVerification(pdfDocument);\n        List&lt;String&gt; signatureNames = new SignatureUtil(pdfDocument).getSignatureNames();\n        String signatureName = signatureNames.get(signatureNames.size() - 1);\n        boolean isSignatureVerificationAdded = validation.addVerification(signatureName, ocsp, crl, null);\n        validation.merge();\n        logSignatureVerificationInfo(isSignatureVerificationAdded);\n\n    } catch (Exception e) {\n        throw new RuntimeException(String.format(&quot;Failed to embed the signature(s) in the document(s) and close the streams&quot;));\n    }\n    \n}\n\npublic String getId() {\n    return id;\n}\n\npublic String getEncodedDocumentHash() {\n    return Base64.getEncoder().encodeToString(documentHash);\n}\n\nprivate void logSignatureVerificationInfo(boolean isSignatureVerificationAdded) {\n    if (isSignatureVerificationAdded) {\n        log.info(&quot;Merged LTV validation information to the output stream&quot;);\n    } else {\n        log.warn(&quot;Failed to merge LTV validation information to the output stream&quot;);\n    }\n}\n\nprivate List&lt;byte[]&gt; mapEncodedEntries(List&lt;String&gt; encodedEntries, Function&lt;String, byte[]&gt; mapperFunction) {\n    return Objects.nonNull(encodedEntries)\n           ? encodedEntries.stream().map(mapperFunction).collect(Collectors.toList())\n           : Collections.emptyList();\n}\n\nprivate byte[] mapEncodedCrl(String encodedCrl) {\n    try (InputStream inputStream = new ByteArrayInputStream(Base64.getDecoder().decode(encodedCrl))) {\n        X509CRL x509crl = (X509CRL) CertificateFactory.getInstance(&quot;X.509&quot;).generateCRL(inputStream);\n        logCrlInfo(x509crl);\n        return x509crl.getEncoded();\n    } catch (IOException | CertificateException | CRLException e) {\n        throw new RuntimeException(String.format(&quot;Failed to map the received encoded CRL entry&quot;), e);\n    }\n}\n\nprivate byte[] mapEncodedOcsp(String encodedOcsp) {\n    try (InputStream inputStream = new ByteArrayInputStream(Base64.getDecoder().decode(encodedOcsp))) {\n        OCSPResp ocspResp = new OCSPResp(inputStream);\n        BasicOCSPResp basicResp = (BasicOCSPResp) ocspResp.getResponseObject();\n        logOcspInfo(ocspResp, basicResp);\n        return basicResp.getEncoded();\n    } catch (IOException | OCSPException e) {\n        throw new RuntimeException(String.format(&quot;Failed to map the received encoded OCSP entry&quot;), e);\n    }\n}\n\nprivate void logCrlInfo(X509CRL x509crl) {\n    int revokedCertificatesNo = Objects.isNull(x509crl.getRevokedCertificates()) ? 0 : x509crl.getRevokedCertificates().size();\n\n    String message = &quot;Embedding CRL response... [&quot;\n                     + &quot;IssuerDN: &quot; + x509crl.getIssuerX500Principal() + &quot; &quot;\n                     + &quot;This update: &quot; + x509crl.getThisUpdate() + &quot; &quot;\n                     + &quot;Next update: &quot; + x509crl.getNextUpdate() + &quot; &quot;\n                     + &quot;No. of revoked certificates: &quot; + revokedCertificatesNo\n                     + &quot;]&quot;;\n    log.info(message);\n}\n\nprivate void logOcspInfo(OCSPResp ocspResp, BasicOCSPResp basicResp) {\n    SingleResp response = basicResp.getResponses()[0];\n    BigInteger serialNumber = response.getCertID().getSerialNumber();\n    X509CertificateHolder firstCertificate = basicResp.getCerts()[0];\n\n    String message = &quot;Embedding OCSP response... [&quot;\n                     + &quot;Status: &quot; + (ocspResp.getStatus() == 0 ? &quot;OK&quot; : &quot;NOK&quot;) + &quot; &quot;\n                     + &quot;Produced at: &quot; + basicResp.getProducedAt() + &quot; &quot;\n                     + &quot;This update: &quot; + response.getThisUpdate() + &quot; &quot;\n                     + &quot;Next update: &quot; + response.getNextUpdate() + &quot; &quot;\n                     + &quot;X509 cert issuer: &quot; + firstCertificate.getIssuer() + &quot; &quot;\n                     + &quot;X509 cert subject: &quot; + firstCertificate.getSubject() + &quot; &quot;\n                     + &quot;Certificate ID: &quot; + serialNumber.toString() + &quot;(&quot; + serialNumber.toString(16).toUpperCase() + &quot;)&quot;\n                     + &quot;]&quot;;\n    log.info(message);\n}\n\nprivate boolean hasDocumentSignature() throws IOException {\n    try (ByteArrayInputStream is = new ByteArrayInputStream(inMemoryStream.toByteArray());\n         PdfReader reader = new PdfReader(is, new ReaderProperties());\n         PdfDocument pdfDocument = new PdfDocument(reader)) {\n        SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\n        return signatureUtil.getSignatureNames().size() &gt; 0;\n    }\n}\n</code></pre>\n<p>pdfdocumentsigner.java</p>\n<pre><code>public class PdfDocumentSigner extends PdfSigner {\n\npublic PdfDocumentSigner(PdfReader reader, OutputStream outputStream, boolean properties) throws IOException {\n    super(reader, outputStream, properties);\n}\n\npublic byte[] computeHash(IExternalSignatureContainer externalHashContainer, int estimatedSize) throws GeneralSecurityException, IOException {\n    if (closed) {\n        throw new PdfException(PdfException.ThisInstanceOfPdfSignerAlreadyClosed);\n    }\n\n    PdfSignature signatureDictionary = new PdfSignature();\n    PdfSignatureAppearance appearance = getSignatureAppearance();\n    signatureDictionary.setReason(appearance.getReason());\n    signatureDictionary.setLocation(appearance.getLocation());\n    signatureDictionary.setSignatureCreator(appearance.getSignatureCreator());\n    signatureDictionary.setContact(appearance.getContact());\n    signatureDictionary.setDate(new PdfDate(getSignDate()));\n    externalHashContainer.modifySigningDictionary(signatureDictionary.getPdfObject());\n    cryptoDictionary = signatureDictionary;\n\n    Map&lt;PdfName, Integer&gt; exc = new HashMap&lt;&gt;();\n    exc.put(PdfName.Contents, estimatedSize * 2 + 2);\n    preClose(exc);\n\n    InputStream dataRangeStream = getRangeStream();\n    return externalHashContainer.sign(dataRangeStream);\n}\n\npublic void signWithAuthorizedSignature(IExternalSignatureContainer externalSignatureContainer, int estimatedSize)\n    throws GeneralSecurityException, IOException {\n    InputStream dataRangeStream = getRangeStream();\n    byte[] authorizedSignature = externalSignatureContainer.sign(dataRangeStream);\n\n    if (estimatedSize &lt; authorizedSignature.length) {\n        throw new IOException(String.format(&quot;Not enough space. The estimated signature size [%d bytes] is less than the received authorized &quot;\n                                            + &quot;signature [%d bytes] which needs to be embedded into the document.&quot;, estimatedSize,\n                                            authorizedSignature.length));\n    }\n\n    byte[] paddedSignature = new byte[estimatedSize];\n    System.arraycopy(authorizedSignature, 0, paddedSignature, 0, authorizedSignature.length);\n\n    PdfDictionary dic2 = new PdfDictionary();\n    dic2.put(PdfName.Contents, new PdfString(paddedSignature).setHexWriting(true));\n    close(dic2);\n\n    closed = true;\n}\n</code></pre>\n<p>I have been looking and it does seem like I am not missing anything, can anyone please help me figure this out?\nhere vis the final pdf sample</p>\n<p><a href=\"https://drive.google.com/file/d/1tJDN1JeOsjq8PqgI1QOzS2vOC2O8JxoI/view?usp=sharing\" rel=\"nofollow noreferrer\">sample pdf</a></p>\n"},{"tags":["java","multithreading","javafx","responsive-design","java.util.concurrent"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638115656,"post_id":70144794,"comment_id":123996189,"body_markdown":"What is ImportListTask?","body":"What is ImportListTask?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638116176,"post_id":70144794,"comment_id":123996338,"body_markdown":"What, exactly, are you trying to accomplish?","body":"What, exactly, are you trying to accomplish?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638117462,"post_id":70144794,"comment_id":123996660,"body_markdown":"See [can a service start several tasks](https://stackoverflow.com/questions/39859697/can-a-service-starts-several-tasks) -&gt; the answer is “no”.","body":"See <a href=\"https://stackoverflow.com/questions/39859697/can-a-service-starts-several-tasks\">can a service start several tasks</a> -&gt; the answer is “no”."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638118419,"post_id":70144794,"comment_id":123996925,"body_markdown":"I think you are understanding a service. It manages task creation and execution. It creates and runs a single task in its executor when it is started. You can restart it and do it again. It doesn’t create and run multiple simultaneous tasks. You should not separately create, run and manage tasks which the service is handling, if you are going to do that, you don’t need a service at all (and that might be fine, there is a good chance that using a service is not the best way to solve your problem.","body":"I think you are understanding a service. It manages task creation and execution. It creates and runs a single task in its executor when it is started. You can restart it and do it again. It doesn’t create and run multiple simultaneous tasks. You should not separately create, run and manage tasks which the service is handling, if you are going to do that, you don’t need a service at all (and that might be fine, there is a good chance that using a service is not the best way to solve your problem."},{"owner":{"account_id":17002737,"reputation":11,"user_id":12299708,"display_name":"Jason Statham"},"score":1,"creation_date":1638119396,"post_id":70144794,"comment_id":123997165,"body_markdown":"@jewelsea, thanks for your  replies!\n\nI completed the code and renamed &quot;Import List Task&quot;.\n\nI want to create several threads (tasks), and run them at the same time and also have the option of being able to stop all of these threads with a click of the mouse. After starting, the text in the button must be changed (&quot;Running&quot;) and after completion or interruption, the text &quot;Create&quot;.","body":"@jewelsea, thanks for your  replies!  I completed the code and renamed &quot;Import List Task&quot;.  I want to create several threads (tasks), and run them at the same time and also have the option of being able to stop all of these threads with a click of the mouse. After starting, the text in the button must be changed (&quot;Running&quot;) and after completion or interruption, the text &quot;Create&quot;."},{"owner":{"account_id":17002737,"reputation":11,"user_id":12299708,"display_name":"Jason Statham"},"score":0,"creation_date":1638122089,"post_id":70144794,"comment_id":123997835,"body_markdown":"@jewelsea, I did exactly the same https://stackoverflow.com/questions/39859697/can-a-service-starts-several-tasks as described here. Unfortunately that didn&#39;t help. \n\nI understand the meaning and difference between task and service. I understand that GUI can only be updated through JavaFX thread. But this run-later thread is executed at the very end. So the thread ends up at the end of the queue.","body":"@jewelsea, I did exactly the same <a href=\"https://stackoverflow.com/questions/39859697/can-a-service-starts-several-tasks\" title=\"can a service starts several tasks\">stackoverflow.com/questions/39859697/&hellip;</a> as described here. Unfortunately that didn&#39;t help.   I understand the meaning and difference between task and service. I understand that GUI can only be updated through JavaFX thread. But this run-later thread is executed at the very end. So the thread ends up at the end of the queue."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1638130150,"post_id":70144794,"comment_id":123999845,"body_markdown":"I&#39;d look at a `Task` that manages a `CountDownLatch`; examples [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjavafx%5d%20Task%20CountDownLatch) and [here](https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20CountDownLatch).","body":"I&#39;d look at a <code>Task</code> that manages a <code>CountDownLatch</code>; examples <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjavafx%5d%20Task%20CountDownLatch\">here</a> and <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20CountDownLatch\">here</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638136087,"post_id":70144794,"comment_id":124001218,"body_markdown":"You have quite a few errors in your code. It would take some time to fix them. One error is calling futureTask.get() on the JavaFX app thread. That is a blocking api which is going to freeze all JavaFX processing  and event handling until the task completes.  Instead, [get the value](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Worker.html#getValue()) in [an onSuccess](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html#onSucceededProperty) event handler.","body":"You have quite a few errors in your code. It would take some time to fix them. One error is calling futureTask.get() on the JavaFX app thread. That is a blocking api which is going to freeze all JavaFX processing  and event handling until the task completes.  Instead, <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Worker.html#getValue()\" rel=\"nofollow noreferrer\">get the value</a> in <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html#onSucceededProperty\" rel=\"nofollow noreferrer\">an onSuccess</a> event handler."}],"owner":{"account_id":17002737,"reputation":11,"user_id":12299708,"display_name":"Jason Statham"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638118814,"creation_date":1638112926,"question_id":70144794,"body_markdown":"I can&#39;t update/reset the text in button or update gui info. The GUI freezes every time. I tried all option from stackoverflow, nothing helps...\r\n\r\nCan you help me? The JavaFX Thread (Platform.runLater) will be the last to be called and the button text will be changed on the end of process/programm. \r\nThe following threads are running at the end of the createTasks method:\r\n\r\n**---------------------------------------\r\n\r\n1 Name: main; Priority: 1; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n2 Name: Reference Handler; Priority: 10; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n3 Name: JavaFX Application Thread; Priority: 5; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n4 Name: Cleaner-0; Priority: 8; Thread-Group: java.lang.ThreadGroup[name=InnocuousThreadGroup,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n5 Name: Notification Thread; Priority: 9; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n6 Name: Thread-2; Priority: 7; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n7 Name: Signal Dispatcher; Priority: 9; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n8 Name: Prism Font Disposer; Priority: 10; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n9 Name: InvokeLaterDispatcher; Priority: 4; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n10 Name: Finalizer; Priority: 8; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n11 Name: QuantumRenderer-0; Priority: 3; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n12 Name: ForkJoinPool-1-worker-13; Priority: 5; Thread-Group: null\r\n\r\n---------------------------------------\r\n\r\n13 Name: Common-Cleaner; Priority: 8; Thread-Group: java.lang.ThreadGroup[name=InnocuousThreadGroup,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n14 Name: Attach Listener; Priority: 5; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n15 Name: Monitor Ctrl-Break; Priority: 2; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n16 Name: ForkJoinPool-1-worker-5; Priority: 5; Thread-Group: null\r\n\r\n---------------------------------------\r\n\r\n17 Name: ForkJoinPool-1-worker-7; Priority: 5; Thread-Group: null\r\n\r\n---------------------------------------\r\n\r\n18 Name: Java2D Disposer; Priority: 10; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n19 Name: JavaFX-Launcher; Priority: 6; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]\r\n\r\n---------------------------------------\r\n\r\n20 Name: ForkJoinPool-1-worker-15; Priority: 5; Thread-Group: null\r\n**\r\n\r\n  \r\n\r\n        public class CreateTabController {\r\n    \r\n        public Button btnStart;\r\n        public Button btnStopCreating;\r\n    \r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfCompletelyProtocols = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNotCompletelyProtocols = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNoTestProtocols = new ArrayList&lt;&gt;();\r\n    \r\n        private HashSet&lt;String&gt; pathsToAllFiles;\r\n    \r\n    \r\n    public class CustomService extends Service&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; {\r\n    \r\n                private int startIndex;\r\n                private int endIndex;\r\n                private String[] allPaths;\r\n                private ArrayList&lt;String&gt; searchParams;\r\n                private String searchType;\r\n                private boolean separatelyCreating;\r\n    \r\n                public CustomService(int startIndex, int endIndex, String[] allPaths, ArrayList&lt;String&gt; searchParams, String searchType, boolean separatelyCreating) {\r\n                    this.startIndex = startIndex;\r\n                    this.endIndex = endIndex;\r\n                    this.allPaths = allPaths;\r\n                    this.searchParams = searchParams;\r\n                    this.searchType = searchType;\r\n                    this.separatelyCreating = separatelyCreating;\r\n                }\r\n    \r\n                @Override\r\n                protected Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; createTask() {\r\n    \r\n                    Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; task = new Task&lt;&gt;() {\r\n    \r\n                        @Override\r\n                        protected Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; call() throws Exception {\r\n    \r\n                            ImportList importList =\r\n                                    new ImportList(startIndex, endIndex, allPaths, searchParams, searchType, separatelyCreating);\r\n    \r\n                            return importList.getExcelLists();\r\n    \r\n                        }\r\n    \r\n                    };\r\n    \r\n                    task.setOnRunning(finishEvent-&gt; {\r\n    \r\n                        Platform.runLater(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                btnStart.setText(&quot;l&#228;uft...&quot;);\r\n                            }\r\n    \r\n                        });\r\n    \r\n                    });\r\n    \r\n                    return task;\r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n            public Map&lt;String,ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; createTasks(HashSet&lt;String&gt; pathsToAllFiles, ArrayList&lt;String&gt; searchParams, String searchType, boolean separatelyCreating) throws InterruptedException {\r\n    \r\n                ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfCompletelyProtocols = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNotCompletelyProtocols = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNoTestProtocols = new ArrayList&lt;&gt;();\r\n    \r\n                String[] allPaths = new String[pathsToAllFiles.size()];\r\n                pathsToAllFiles.toArray(allPaths);\r\n                HashSet&lt;String[]&gt; indexes = CustomTools.getStartEndIndexesByCores(allPaths);\r\n    \r\n    \r\n    \r\n                int processorsNum = Runtime.getRuntime().availableProcessors();\r\n    \r\n                ExecutorService exec = Executors.newWorkStealingPool(processorsNum);\r\n    \r\n                List&lt;Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n    \r\n                for (String[] indexPair : indexes) {\r\n    \r\n                    int startIndex = Integer.parseInt(indexPair[0]);\r\n                    int endIndex = Integer.parseInt(indexPair[1]);\r\n    \r\n                    CreateTabController.CustomService service = new CreateTabController.CustomService(startIndex, endIndex, allPaths, searchParams, searchType, separatelyCreating);\r\n                    tasks.add(service.createTask());\r\n    \r\n                    service.setExecutor(exec);\r\n                    service.start();\r\n                }\r\n    \r\n                tasks.forEach(exec::execute);\r\n    \r\n                Map&lt;String,ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; allProcessedPDFs = new HashMap&lt;&gt;();\r\n    \r\n                for (int j = 0; j &lt; tasks.size(); j++) {\r\n    \r\n                    Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; futureTask = tasks.get(j);\r\n                    try {\r\n    \r\n                        allProcessedPDFs = futureTask.get();\r\n    \r\n                        listOfNoTestProtocols.addAll(allProcessedPDFs.get(&quot;noTestingProtocols&quot;));\r\n                        listOfCompletelyProtocols.addAll(allProcessedPDFs.get(&quot;completelyProtocols&quot;));\r\n                        listOfNotCompletelyProtocols.addAll(allProcessedPDFs.get(&quot;notCompletelyProtocols&quot;));\r\n    \r\n                    } catch (InterruptedException | ExecutionException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                allProcessedPDFs.clear();\r\n    \r\n                allProcessedPDFs.put(&quot;noTestingProtocols&quot;, listOfNoTestProtocols);\r\n                allProcessedPDFs.put(&quot;completelyProtocols&quot;, listOfCompletelyProtocols);\r\n                allProcessedPDFs.put(&quot;notCompletelyProtocols&quot;, listOfNotCompletelyProtocols);\r\n    \r\n                exec.shutdown();\r\n    \r\n                return allProcessedPDFs;\r\n            }\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    package resources;\r\n    \r\n    import com.itextpdf.text.io.FileChannelRandomAccessSource;\r\n    import com.itextpdf.text.pdf.PdfReader;\r\n    import com.itextpdf.text.pdf.RandomAccessFileOrArray;\r\n    import com.itextpdf.text.pdf.parser.PdfTextExtractor;\r\n    import db.DB;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDDocumentCatalog;\r\n    import org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;\r\n    import org.apache.pdfbox.pdmodel.interactive.form.PDField;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.RandomAccessFile;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.text.ParseException;\r\n    import java.util.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import custom_utils.CustomLogging;\r\n    \r\n    public class ImportList {\r\n    \r\n        private String filePath;\r\n        private ArrayList&lt;HashMap&lt;String, String&gt;&gt; importableData = new ArrayList&lt;&gt;();\r\n        private ArrayList&lt;HashMap&lt;String, String&gt;&gt; notImportableData = new ArrayList&lt;&gt;();\r\n        private ArrayList&lt;HashMap&lt;String, String&gt;&gt; noTestingProtocols = new ArrayList&lt;&gt;();\r\n    \r\n        private int startIndex;\r\n        private int endIndex;\r\n        private String[] allPaths;\r\n        private ArrayList&lt;String&gt; searchParams;\r\n        private String searchType;\r\n        private boolean separatelyCreating;\r\n    \r\n        public ImportList(int startIndex, int endIndex, String[] allPaths, ArrayList&lt;String&gt; searchParams, String searchType, boolean separatelyCreating) {\r\n            this.startIndex = startIndex;\r\n            this.endIndex = endIndex;\r\n            this.allPaths = allPaths;\r\n            this.searchParams = searchParams;\r\n            this.searchType = searchType;\r\n            this.separatelyCreating = separatelyCreating;\r\n        }\r\n    \t\r\n    \tpublic Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; getExcelLists() throws Exception {\r\n            return startCreating(startIndex, endIndex, allPaths, searchParams, searchType, separatelyCreating);\r\n        }\r\n    \t\r\n    \t private Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; startCreating(int startIndex, int endIndex,\r\n                           String[] allPaths, ArrayList&lt;String&gt; searchParams,\r\n                           String searchType, boolean separatelyCreating)\r\n        {\r\n    \r\n    \r\n            Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; allProcessedPDFs = new HashMap&lt;&gt;();\r\n    \r\n            for (int j = startIndex; j &lt; endIndex; j++) {\r\n    \r\n                String path = allPaths[j];\r\n    \r\n                try {\r\n                    if (Files.size(Paths.get(path)) &lt; 10) {\r\n                        break;\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                PDDocument doc = null;\r\n                PdfReader readerPdf = null;\r\n                RandomAccessFile randomAccessFile = null;\r\n                RandomAccessFileOrArray randomAccessFileOrArray = null;\r\n                FileChannelRandomAccessSource fileChannelRandomAccessSource = null;\r\n    \r\n                try {\r\n    \r\n                    randomAccessFile = new RandomAccessFile(new File(path), &quot;r&quot;);\r\n                    fileChannelRandomAccessSource = new FileChannelRandomAccessSource(randomAccessFile.getChannel());\r\n                    randomAccessFileOrArray = new RandomAccessFileOrArray(fileChannelRandomAccessSource);\r\n                    readerPdf = new PdfReader(randomAccessFileOrArray, null);\r\n    \r\n                    int pageNumbers = readerPdf.getNumberOfPages();\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n    \r\n                    for (int i = 1; i &lt;= pageNumbers; i++) {\r\n                        String text= PdfTextExtractor.getTextFromPage(readerPdf, i);\r\n                        stringBuilder.append(text);\r\n                    }\r\n    \r\n                    String parsedText = stringBuilder.toString();\r\n                    Pattern pattern = Pattern.compile(&quot;\\\\w+&quot;);\r\n                    Matcher matcher = pattern.matcher(parsedText);\r\n                    boolean isSearchable = matcher.find();\r\n    \r\n                    if (isSearchable) {\r\n    \r\n                        File file = new File(path);\r\n                        doc = PDDocument.load(file);\r\n                        List&lt;PDField&gt; fields = null;\r\n    \r\n                        boolean containsSearchParam = false;\r\n                        PDAcroForm form = null;\r\n                        PDDocumentCatalog pdDocumentCatalog = doc.getDocumentCatalog();\r\n    \r\n                        if (pdDocumentCatalog != null) {\r\n                            form = pdDocumentCatalog.getAcroForm();\r\n                            if (form != null) {\r\n                                fields = form.getFields();\r\n                            }\r\n                        }\r\n    \r\n                        if (!separatelyCreating) {\r\n    \r\n                            for (String searchParam : searchParams) {\r\n                                if (searchParam.length() &lt; 2) {\r\n                                    break;\r\n                                }\r\n    \r\n                                if (searchType.equals(Consts.SEARCH_TYPE_CONTAINS)) {\r\n                                    if (StringUtils.containsIgnoreCase(parsedText, searchParam)) {\r\n                                        createTechnicalTestData(parsedText, path);\r\n                                    }\r\n                                }\r\n    \r\n                                if (searchType.equals(Consts.SEARCH_TYPE_EQUALS)) {\r\n                                    if (isEqual(parsedText, searchParam)) {\r\n                                        createTechnicalTestData(parsedText, path);\r\n                                    }\r\n                                }\r\n    \r\n    \r\n                                if (fields != null) {\r\n    \r\n                                    for (PDField field : fields) {\r\n                                        if (searchParam.equals(field.getValueAsString())) {\r\n                                            containsSearchParam = true;\r\n                                        }\r\n                                    }\r\n    \r\n                                    if (containsSearchParam) {\r\n                                        findTestingDataFromForms(fields, parsedText, path);\r\n                                    }\r\n    \r\n                                }\r\n    \r\n                            }\r\n    \r\n                        } else {\r\n    \r\n                            createTechnicalTestData(parsedText, path);\r\n    \r\n                            if (fields != null) {\r\n                                findTestingDataFromForms(fields, parsedText, path);\r\n                            }\r\n                        }\r\n    \r\n                    }\r\n    \r\n                    if (doc != null) {\r\n                        doc.close();\r\n                    }\r\n    \r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n    \r\n                    assert randomAccessFileOrArray != null;\r\n                    try {\r\n                        randomAccessFileOrArray.close();\r\n                        fileChannelRandomAccessSource.close();\r\n                        randomAccessFile.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n            if (this.noTestingProtocols != null) {\r\n                allProcessedPDFs.put(&quot;noTestingProtocols&quot;, this.noTestingProtocols);\r\n            }\r\n    \r\n            if (this.importableData != null) {\r\n                allProcessedPDFs.put(&quot;completelyProtocols&quot;, this.importableData);\r\n            }\r\n    \r\n            if (this.notImportableData != null) {\r\n                allProcessedPDFs.put(&quot;notCompletelyProtocols&quot;, this.notImportableData);\r\n            }\r\n    \r\n            return allProcessedPDFs;\r\n        }\r\n    \r\n    }","title":"JavaFX GUI freezes | Usage of multiple tasks","body":"<p>I can't update/reset the text in button or update gui info. The GUI freezes every time. I tried all option from stackoverflow, nothing helps...</p>\n<p>Can you help me? The JavaFX Thread (Platform.runLater) will be the last to be called and the button text will be changed on the end of process/programm.\nThe following threads are running at the end of the createTasks method:</p>\n<p>**---------------------------------------</p>\n<p>1 Name: main; Priority: 1; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]</p>\n<hr />\n<p>2 Name: Reference Handler; Priority: 10; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]</p>\n<hr />\n<p>3 Name: JavaFX Application Thread; Priority: 5; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]</p>\n<hr />\n<p>4 Name: Cleaner-0; Priority: 8; Thread-Group: java.lang.ThreadGroup[name=InnocuousThreadGroup,maxpri=10]</p>\n<hr />\n<p>5 Name: Notification Thread; Priority: 9; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]</p>\n<hr />\n<p>6 Name: Thread-2; Priority: 7; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]</p>\n<hr />\n<p>7 Name: Signal Dispatcher; Priority: 9; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]</p>\n<hr />\n<p>8 Name: Prism Font Disposer; Priority: 10; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]</p>\n<hr />\n<p>9 Name: InvokeLaterDispatcher; Priority: 4; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]</p>\n<hr />\n<p>10 Name: Finalizer; Priority: 8; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]</p>\n<hr />\n<p>11 Name: QuantumRenderer-0; Priority: 3; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]</p>\n<hr />\n<p>12 Name: ForkJoinPool-1-worker-13; Priority: 5; Thread-Group: null</p>\n<hr />\n<p>13 Name: Common-Cleaner; Priority: 8; Thread-Group: java.lang.ThreadGroup[name=InnocuousThreadGroup,maxpri=10]</p>\n<hr />\n<p>14 Name: Attach Listener; Priority: 5; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]</p>\n<hr />\n<p>15 Name: Monitor Ctrl-Break; Priority: 2; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]</p>\n<hr />\n<p>16 Name: ForkJoinPool-1-worker-5; Priority: 5; Thread-Group: null</p>\n<hr />\n<p>17 Name: ForkJoinPool-1-worker-7; Priority: 5; Thread-Group: null</p>\n<hr />\n<p>18 Name: Java2D Disposer; Priority: 10; Thread-Group: java.lang.ThreadGroup[name=system,maxpri=10]</p>\n<hr />\n<p>19 Name: JavaFX-Launcher; Priority: 6; Thread-Group: java.lang.ThreadGroup[name=main,maxpri=10]</p>\n<hr />\n<p>20 Name: ForkJoinPool-1-worker-15; Priority: 5; Thread-Group: null\n**</p>\n<pre><code>    public class CreateTabController {\n\n    public Button btnStart;\n    public Button btnStopCreating;\n\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfCompletelyProtocols = new ArrayList&lt;&gt;();\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNotCompletelyProtocols = new ArrayList&lt;&gt;();\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNoTestProtocols = new ArrayList&lt;&gt;();\n\n    private HashSet&lt;String&gt; pathsToAllFiles;\n\n\npublic class CustomService extends Service&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; {\n\n            private int startIndex;\n            private int endIndex;\n            private String[] allPaths;\n            private ArrayList&lt;String&gt; searchParams;\n            private String searchType;\n            private boolean separatelyCreating;\n\n            public CustomService(int startIndex, int endIndex, String[] allPaths, ArrayList&lt;String&gt; searchParams, String searchType, boolean separatelyCreating) {\n                this.startIndex = startIndex;\n                this.endIndex = endIndex;\n                this.allPaths = allPaths;\n                this.searchParams = searchParams;\n                this.searchType = searchType;\n                this.separatelyCreating = separatelyCreating;\n            }\n\n            @Override\n            protected Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; createTask() {\n\n                Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; task = new Task&lt;&gt;() {\n\n                    @Override\n                    protected Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; call() throws Exception {\n\n                        ImportList importList =\n                                new ImportList(startIndex, endIndex, allPaths, searchParams, searchType, separatelyCreating);\n\n                        return importList.getExcelLists();\n\n                    }\n\n                };\n\n                task.setOnRunning(finishEvent-&gt; {\n\n                    Platform.runLater(new Runnable() {\n                        @Override\n                        public void run() {\n                            btnStart.setText(&quot;läuft...&quot;);\n                        }\n\n                    });\n\n                });\n\n                return task;\n            }\n\n\n        }\n\n        public Map&lt;String,ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; createTasks(HashSet&lt;String&gt; pathsToAllFiles, ArrayList&lt;String&gt; searchParams, String searchType, boolean separatelyCreating) throws InterruptedException {\n\n            ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfCompletelyProtocols = new ArrayList&lt;&gt;();\n            ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNotCompletelyProtocols = new ArrayList&lt;&gt;();\n            ArrayList&lt;HashMap&lt;String, String&gt;&gt; listOfNoTestProtocols = new ArrayList&lt;&gt;();\n\n            String[] allPaths = new String[pathsToAllFiles.size()];\n            pathsToAllFiles.toArray(allPaths);\n            HashSet&lt;String[]&gt; indexes = CustomTools.getStartEndIndexesByCores(allPaths);\n\n\n\n            int processorsNum = Runtime.getRuntime().availableProcessors();\n\n            ExecutorService exec = Executors.newWorkStealingPool(processorsNum);\n\n            List&lt;Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt;&gt; tasks = new ArrayList&lt;&gt;();\n\n            for (String[] indexPair : indexes) {\n\n                int startIndex = Integer.parseInt(indexPair[0]);\n                int endIndex = Integer.parseInt(indexPair[1]);\n\n                CreateTabController.CustomService service = new CreateTabController.CustomService(startIndex, endIndex, allPaths, searchParams, searchType, separatelyCreating);\n                tasks.add(service.createTask());\n\n                service.setExecutor(exec);\n                service.start();\n            }\n\n            tasks.forEach(exec::execute);\n\n            Map&lt;String,ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; allProcessedPDFs = new HashMap&lt;&gt;();\n\n            for (int j = 0; j &lt; tasks.size(); j++) {\n\n                Task&lt;Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;&gt; futureTask = tasks.get(j);\n                try {\n\n                    allProcessedPDFs = futureTask.get();\n\n                    listOfNoTestProtocols.addAll(allProcessedPDFs.get(&quot;noTestingProtocols&quot;));\n                    listOfCompletelyProtocols.addAll(allProcessedPDFs.get(&quot;completelyProtocols&quot;));\n                    listOfNotCompletelyProtocols.addAll(allProcessedPDFs.get(&quot;notCompletelyProtocols&quot;));\n\n                } catch (InterruptedException | ExecutionException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            allProcessedPDFs.clear();\n\n            allProcessedPDFs.put(&quot;noTestingProtocols&quot;, listOfNoTestProtocols);\n            allProcessedPDFs.put(&quot;completelyProtocols&quot;, listOfCompletelyProtocols);\n            allProcessedPDFs.put(&quot;notCompletelyProtocols&quot;, listOfNotCompletelyProtocols);\n\n            exec.shutdown();\n\n            return allProcessedPDFs;\n        }\n        \n    }\n    \n    \npackage resources;\n\nimport com.itextpdf.text.io.FileChannelRandomAccessSource;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.RandomAccessFileOrArray;\nimport com.itextpdf.text.pdf.parser.PdfTextExtractor;\nimport db.DB;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDDocumentCatalog;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm;\nimport org.apache.pdfbox.pdmodel.interactive.form.PDField;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.RandomAccessFile;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.text.ParseException;\nimport java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport custom_utils.CustomLogging;\n\npublic class ImportList {\n\n    private String filePath;\n    private ArrayList&lt;HashMap&lt;String, String&gt;&gt; importableData = new ArrayList&lt;&gt;();\n    private ArrayList&lt;HashMap&lt;String, String&gt;&gt; notImportableData = new ArrayList&lt;&gt;();\n    private ArrayList&lt;HashMap&lt;String, String&gt;&gt; noTestingProtocols = new ArrayList&lt;&gt;();\n\n    private int startIndex;\n    private int endIndex;\n    private String[] allPaths;\n    private ArrayList&lt;String&gt; searchParams;\n    private String searchType;\n    private boolean separatelyCreating;\n\n    public ImportList(int startIndex, int endIndex, String[] allPaths, ArrayList&lt;String&gt; searchParams, String searchType, boolean separatelyCreating) {\n        this.startIndex = startIndex;\n        this.endIndex = endIndex;\n        this.allPaths = allPaths;\n        this.searchParams = searchParams;\n        this.searchType = searchType;\n        this.separatelyCreating = separatelyCreating;\n    }\n    \n    public Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; getExcelLists() throws Exception {\n        return startCreating(startIndex, endIndex, allPaths, searchParams, searchType, separatelyCreating);\n    }\n    \n     private Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; startCreating(int startIndex, int endIndex,\n                       String[] allPaths, ArrayList&lt;String&gt; searchParams,\n                       String searchType, boolean separatelyCreating)\n    {\n\n\n        Map&lt;String, ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt; allProcessedPDFs = new HashMap&lt;&gt;();\n\n        for (int j = startIndex; j &lt; endIndex; j++) {\n\n            String path = allPaths[j];\n\n            try {\n                if (Files.size(Paths.get(path)) &lt; 10) {\n                    break;\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            PDDocument doc = null;\n            PdfReader readerPdf = null;\n            RandomAccessFile randomAccessFile = null;\n            RandomAccessFileOrArray randomAccessFileOrArray = null;\n            FileChannelRandomAccessSource fileChannelRandomAccessSource = null;\n\n            try {\n\n                randomAccessFile = new RandomAccessFile(new File(path), &quot;r&quot;);\n                fileChannelRandomAccessSource = new FileChannelRandomAccessSource(randomAccessFile.getChannel());\n                randomAccessFileOrArray = new RandomAccessFileOrArray(fileChannelRandomAccessSource);\n                readerPdf = new PdfReader(randomAccessFileOrArray, null);\n\n                int pageNumbers = readerPdf.getNumberOfPages();\n                StringBuilder stringBuilder = new StringBuilder();\n\n                for (int i = 1; i &lt;= pageNumbers; i++) {\n                    String text= PdfTextExtractor.getTextFromPage(readerPdf, i);\n                    stringBuilder.append(text);\n                }\n\n                String parsedText = stringBuilder.toString();\n                Pattern pattern = Pattern.compile(&quot;\\\\w+&quot;);\n                Matcher matcher = pattern.matcher(parsedText);\n                boolean isSearchable = matcher.find();\n\n                if (isSearchable) {\n\n                    File file = new File(path);\n                    doc = PDDocument.load(file);\n                    List&lt;PDField&gt; fields = null;\n\n                    boolean containsSearchParam = false;\n                    PDAcroForm form = null;\n                    PDDocumentCatalog pdDocumentCatalog = doc.getDocumentCatalog();\n\n                    if (pdDocumentCatalog != null) {\n                        form = pdDocumentCatalog.getAcroForm();\n                        if (form != null) {\n                            fields = form.getFields();\n                        }\n                    }\n\n                    if (!separatelyCreating) {\n\n                        for (String searchParam : searchParams) {\n                            if (searchParam.length() &lt; 2) {\n                                break;\n                            }\n\n                            if (searchType.equals(Consts.SEARCH_TYPE_CONTAINS)) {\n                                if (StringUtils.containsIgnoreCase(parsedText, searchParam)) {\n                                    createTechnicalTestData(parsedText, path);\n                                }\n                            }\n\n                            if (searchType.equals(Consts.SEARCH_TYPE_EQUALS)) {\n                                if (isEqual(parsedText, searchParam)) {\n                                    createTechnicalTestData(parsedText, path);\n                                }\n                            }\n\n\n                            if (fields != null) {\n\n                                for (PDField field : fields) {\n                                    if (searchParam.equals(field.getValueAsString())) {\n                                        containsSearchParam = true;\n                                    }\n                                }\n\n                                if (containsSearchParam) {\n                                    findTestingDataFromForms(fields, parsedText, path);\n                                }\n\n                            }\n\n                        }\n\n                    } else {\n\n                        createTechnicalTestData(parsedText, path);\n\n                        if (fields != null) {\n                            findTestingDataFromForms(fields, parsedText, path);\n                        }\n                    }\n\n                }\n\n                if (doc != null) {\n                    doc.close();\n                }\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n\n                assert randomAccessFileOrArray != null;\n                try {\n                    randomAccessFileOrArray.close();\n                    fileChannelRandomAccessSource.close();\n                    randomAccessFile.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n            }\n\n\n        }\n\n        if (this.noTestingProtocols != null) {\n            allProcessedPDFs.put(&quot;noTestingProtocols&quot;, this.noTestingProtocols);\n        }\n\n        if (this.importableData != null) {\n            allProcessedPDFs.put(&quot;completelyProtocols&quot;, this.importableData);\n        }\n\n        if (this.notImportableData != null) {\n            allProcessedPDFs.put(&quot;notCompletelyProtocols&quot;, this.notImportableData);\n        }\n\n        return allProcessedPDFs;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638118717,"creation_date":1638118717,"answer_id":70145618,"question_id":70145459,"body_markdown":"You cannot make the `INSERT INTO` statement return anything. Depending on your database&#39;s support, on that end you could execute multiple statements, e.g., `INSERT INTO ...; SELECT ...`, but Spring Data JDBC does not support this.\r\n\r\n* What you can do is implement `saveNewUser` and perform the insert then select, sequentially and synchronously. See this: https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#repositories.single-repository-behavior.\r\n* If your database supports it, you could create a stored procedure that performs the insert then select.","title":"Get Entity ID after executing Native insert query + Spring JPA","body":"<p>You cannot make the <code>INSERT INTO</code> statement return anything. Depending on your database's support, on that end you could execute multiple statements, e.g., <code>INSERT INTO ...; SELECT ...</code>, but Spring Data JDBC does not support this.</p>\n<ul>\n<li>What you can do is implement <code>saveNewUser</code> and perform the insert then select, sequentially and synchronously. See this: <a href=\"https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#repositories.single-repository-behavior\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jdbc/docs/current/reference/html/#repositories.single-repository-behavior</a>.</li>\n<li>If your database supports it, you could create a stored procedure that performs the insert then select.</li>\n</ul>\n"}],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3955,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70145618,"answer_count":1,"score":3,"last_activity_date":1638118717,"creation_date":1638117536,"question_id":70145459,"body_markdown":"I am using a Native query in my JPA Repository to run INSERT query - because, I couldn&#39;t run a few queries through JPA.\r\n\r\n```java\r\nString INSERT_USER_IN_TO_DATABASE = &quot;INSERT INTO USER_MASTER &quot; +\r\n            &quot;(&quot; +\r\n            &quot;MOBILE_X,USER_TYPE,COUNTRYCODE,USER_N,USER_LAST_N,GENDER,DOB) &quot; +\r\n            &quot;VALUES ( &quot; +\r\n            &quot;EncryptByKey(Key_GUID(convert(varchar,?1)), ?2),&quot; +\r\n            &quot;1,+91,?3,?4,?5,?6&quot; +\r\n            &quot;)&quot;;\r\n\r\n    @Query(value = INSERT_USER_IN_TO_DATABASE, nativeQuery = true)\r\n    @Modifying\r\n    UserMasterEntity saveNewUser(String encryptionKey,\r\n                                 String phoneNumber,\r\n                                 String name,\r\n                                 String lastName,\r\n                                 String gender,\r\n                                 String dob);\r\n```\r\nMy intention is to execute the `INSERT` statement and get me the userMaster entity. But I get the below exception\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract com.officeride.fileprocess.job.bulkuser.UserMasterEntity com.officeride.fileprocess.job.bulkuser.UserMasterRepository.saveNewUser(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)\r\n```\r\n\r\nI used `@ColumnTransformer` stuff too in my entity and nothing is working out for me.\r\n\r\nHow to tackle this? \r\n","title":"Get Entity ID after executing Native insert query + Spring JPA","body":"<p>I am using a Native query in my JPA Repository to run INSERT query - because, I couldn't run a few queries through JPA.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String INSERT_USER_IN_TO_DATABASE = &quot;INSERT INTO USER_MASTER &quot; +\n            &quot;(&quot; +\n            &quot;MOBILE_X,USER_TYPE,COUNTRYCODE,USER_N,USER_LAST_N,GENDER,DOB) &quot; +\n            &quot;VALUES ( &quot; +\n            &quot;EncryptByKey(Key_GUID(convert(varchar,?1)), ?2),&quot; +\n            &quot;1,+91,?3,?4,?5,?6&quot; +\n            &quot;)&quot;;\n\n    @Query(value = INSERT_USER_IN_TO_DATABASE, nativeQuery = true)\n    @Modifying\n    UserMasterEntity saveNewUser(String encryptionKey,\n                                 String phoneNumber,\n                                 String name,\n                                 String lastName,\n                                 String gender,\n                                 String dob);\n</code></pre>\n<p>My intention is to execute the <code>INSERT</code> statement and get me the userMaster entity. But I get the below exception</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract com.officeride.fileprocess.job.bulkuser.UserMasterEntity com.officeride.fileprocess.job.bulkuser.UserMasterRepository.saveNewUser(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)\n</code></pre>\n<p>I used <code>@ColumnTransformer</code> stuff too in my entity and nothing is working out for me.</p>\n<p>How to tackle this?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4485425,"reputation":169,"user_id":3648235,"accept_rate":0,"display_name":"user3648235"},"score":0,"creation_date":1638122403,"post_id":70145584,"comment_id":123997905,"body_markdown":"Not sure if I understand. Are you pretty much saying that I can&#39;t embed the fonts from a directory in my html template ?\nHow can I make it work please ?","body":"Not sure if I understand. Are you pretty much saying that I can&#39;t embed the fonts from a directory in my html template ? How can I make it work please ?"},{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1659063419,"post_id":70145584,"comment_id":129211432,"body_markdown":"have you found a solution?","body":"have you found a solution?"}],"owner":{"account_id":4485425,"reputation":169,"user_id":3648235,"accept_rate":0,"display_name":"user3648235"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638118462,"creation_date":1638118462,"question_id":70145584,"body_markdown":"Using thymeleaf I am trying to render the Html and generate PDF. \r\nBut the fonts is not getting applied. Please any help.\r\n\r\nHere is where template is located inside the springboot application:\r\n\r\n```\r\n-&gt; resources\r\n---&gt; templates\r\n-------&gt; the file_template.html\r\n-------&gt; fonts/\r\n```\r\n\r\nHere is the template, I specifically put the head where I define the Style of the template:\r\n\r\n```\r\n&lt;head&gt;\r\n  &lt;title&gt;Invoice&lt;/title&gt;\r\n  &lt;style&gt;\r\n    *,\r\n    *::after,\r\n    *::before {\r\n      margin: 0;\r\n      padding: 0;\r\n      box-sizing: inherit;\r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 100;\r\n      font-style: Normal;\r\n      src: url(&#39;/fonts/MuseoSans-100.otf&#39;);\r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 300;\r\n      font-style: Normal;\r\n      src: url(&#39;/fonts/MuseoSans-300.otf&#39;);\r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 500;\r\n      font-style: Normal;\r\n      src: url(&#39;/fonts/MuseoSans_500.otf&#39;);\r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 700;\r\n      font-style: Normal;\r\n      src: url(&#39;/fonts/MuseoSans_700.otf&#39;);\r\n    }\r\n\r\n    html {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    body {\r\n      font-family: &quot;Museo Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;,\r\n        Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;,\r\n        sans-serif;\r\n      background-color: #ffffff;\r\n      min-height: 100vh;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n```\r\n\r\nI even try this one:\r\n```\r\n&lt;head&gt;\r\n  &lt;title&gt;Invoice&lt;/title&gt;\r\n  &lt;style&gt;\r\n    *,\r\n    *::after,\r\n    *::before {\r\n      margin: 0;\r\n      padding: 0;\r\n      box-sizing: inherit;\r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 100;\r\n      font-style: Normal;\r\n      src: url(&quot;fonts/MuseoSans-100.otf&quot;) format(&quot;otf&quot;);\r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 300;\r\n      font-style: Normal;\r\n      src: url(&quot;fonts/MuseoSans-300.otf&quot;) format(&quot;otf&quot;);\r\n      \r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 500;\r\n      font-style: Normal;\r\n      src: url(&quot;fonts/MuseoSans_500.otf&quot;) format(&quot;otf&quot;);\r\n    }\r\n\r\n    @font-face {\r\n      font-family: &#39;Museo Sans&#39;;\r\n      font-weight: 700;\r\n      font-style: Normal;\r\n      src: url(&quot;fonts/MuseoSans_700.otf&quot;) format(&quot;otf&quot;);\r\n    }\r\n\r\n    html {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    body {\r\n      font-family: &quot;Museo Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;,\r\n        Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;,\r\n        sans-serif;\r\n      background-color: #ffffff;\r\n      min-height: 100vh;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n```\r\n\r\nPlease any help.Thank You","title":"Thymeleaf with springboot Templates do not have access to fonts","body":"<p>Using thymeleaf I am trying to render the Html and generate PDF.\nBut the fonts is not getting applied. Please any help.</p>\n<p>Here is where template is located inside the springboot application:</p>\n<pre><code>-&gt; resources\n---&gt; templates\n-------&gt; the file_template.html\n-------&gt; fonts/\n</code></pre>\n<p>Here is the template, I specifically put the head where I define the Style of the template:</p>\n<pre><code>&lt;head&gt;\n  &lt;title&gt;Invoice&lt;/title&gt;\n  &lt;style&gt;\n    *,\n    *::after,\n    *::before {\n      margin: 0;\n      padding: 0;\n      box-sizing: inherit;\n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 100;\n      font-style: Normal;\n      src: url('/fonts/MuseoSans-100.otf');\n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 300;\n      font-style: Normal;\n      src: url('/fonts/MuseoSans-300.otf');\n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 500;\n      font-style: Normal;\n      src: url('/fonts/MuseoSans_500.otf');\n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 700;\n      font-style: Normal;\n      src: url('/fonts/MuseoSans_700.otf');\n    }\n\n    html {\n      box-sizing: border-box;\n    }\n\n    body {\n      font-family: &quot;Museo Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;,\n        Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;,\n        sans-serif;\n      background-color: #ffffff;\n      min-height: 100vh;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n</code></pre>\n<p>I even try this one:</p>\n<pre><code>&lt;head&gt;\n  &lt;title&gt;Invoice&lt;/title&gt;\n  &lt;style&gt;\n    *,\n    *::after,\n    *::before {\n      margin: 0;\n      padding: 0;\n      box-sizing: inherit;\n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 100;\n      font-style: Normal;\n      src: url(&quot;fonts/MuseoSans-100.otf&quot;) format(&quot;otf&quot;);\n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 300;\n      font-style: Normal;\n      src: url(&quot;fonts/MuseoSans-300.otf&quot;) format(&quot;otf&quot;);\n      \n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 500;\n      font-style: Normal;\n      src: url(&quot;fonts/MuseoSans_500.otf&quot;) format(&quot;otf&quot;);\n    }\n\n    @font-face {\n      font-family: 'Museo Sans';\n      font-weight: 700;\n      font-style: Normal;\n      src: url(&quot;fonts/MuseoSans_700.otf&quot;) format(&quot;otf&quot;);\n    }\n\n    html {\n      box-sizing: border-box;\n    }\n\n    body {\n      font-family: &quot;Museo Sans&quot;, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;,\n        Roboto, Oxygen, Ubuntu, Cantarell, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;,\n        sans-serif;\n      background-color: #ffffff;\n      min-height: 100vh;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n</code></pre>\n<p>Please any help.Thank You</p>\n"},{"tags":["java","bytebuffer"],"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":0,"creation_date":1453114300,"post_id":34852818,"comment_id":57445401,"body_markdown":"May be it&#39;s a particular problem of `GLBuffers.newDirectByteBuffer` implementation? What it is?","body":"May be it&#39;s a particular problem of <code>GLBuffers.newDirectByteBuffer</code> implementation? What it is?"},{"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"score":0,"creation_date":1453114392,"post_id":34852818,"comment_id":57445464,"body_markdown":"It&#39;s the `jogl` util to allocate buffer, anyway it&#39;s not that, let me update the question","body":"It&#39;s the <code>jogl</code> util to allocate buffer, anyway it&#39;s not that, let me update the question"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1453118088,"post_id":34852818,"comment_id":57447667,"body_markdown":"The Javadoc for view buffers clearly states that they maintain their own position and limit.","body":"The Javadoc for view buffers clearly states that they maintain their own position and limit."},{"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"score":1,"creation_date":1453118312,"post_id":34852818,"comment_id":57447808,"body_markdown":"Yeah, sorry, lunch break :), let me check it","body":"Yeah, sorry, lunch break :), let me check it"}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638118289,"creation_date":1453114870,"answer_id":34853088,"question_id":34852818,"body_markdown":"Yes, it&#39;s ok, because actually `position` is increased in another object, which&#39;s reference you get when invoke `vertexBuffer.asFloatBuffer()`.\r\n\r\nIn other words, if you change your code to:\r\n\r\n        FloatBuffer floatBuffer = vertexBuffer.asFloatBuffer();\r\n        floatBuffer.put(new float[]{1, 2, 3});\r\n        System.out.println(floatBuffer.toString());\r\n\r\nyou will get:\r\n\r\n    java.nio.ByteBufferAsFloatBufferB[pos=3 lim=3 cap=3]","title":"Is it normal that adding a float array on a view buffer does not increase position?","body":"<p>Yes, it's ok, because actually <code>position</code> is increased in another object, which's reference you get when invoke <code>vertexBuffer.asFloatBuffer()</code>.</p>\n<p>In other words, if you change your code to:</p>\n<pre><code>    FloatBuffer floatBuffer = vertexBuffer.asFloatBuffer();\n    floatBuffer.put(new float[]{1, 2, 3});\n    System.out.println(floatBuffer.toString());\n</code></pre>\n<p>you will get:</p>\n<pre><code>java.nio.ByteBufferAsFloatBufferB[pos=3 lim=3 cap=3]\n</code></pre>\n"}],"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34853088,"answer_count":1,"score":1,"last_activity_date":1638118289,"creation_date":1453114066,"question_id":34852818,"body_markdown":"As titled, this code:\r\n\r\n        ByteBuffer vertexBuffer = GLBuffers.newDirectByteBuffer(3*Float.BYTES+3*Byte.BYTES);\r\n        System.out.println(vertexBuffer.toString());\r\n        vertexBuffer.asFloatBuffer().put(new float[]{1,2,3});\r\n        System.out.println(vertexBuffer.toString());\r\n        vertexBuffer.put(new byte[]{0,1,2});\r\n        System.out.println(vertexBuffer.toString());\r\n\r\nPrints out the following:\r\n\r\n    java.nio.DirectByteBuffer[pos=0 lim=15 cap=15]\r\n    java.nio.DirectByteBuffer[pos=0 lim=15 cap=15]\r\n    java.nio.DirectByteBuffer[pos=3 lim=15 cap=15]\r\n\r\nBut, in theory, I&#39;d expect the first `put` on my view buffer to increase the position from 0 to 3, and the second `put` from 3 to 6, in order to get something like this:\r\n\r\n\r\n    java.nio.DirectByteBuffer[pos=0 lim=15 cap=15]\r\n    java.nio.DirectByteBuffer[pos=3 lim=15 cap=15]\r\n    java.nio.DirectByteBuffer[pos=6 lim=15 cap=15]\r\n\r\nThe api doc says:\r\n\r\n&gt; public final FloatBuffer put(float[] src) Relative bulk put\r\n&gt; method&#160;&#160;(optional operation). This method transfers the entire content\r\n&gt; of the given source float array into this buffer. An invocation of\r\n&gt; this method of the form dst.put(a) behaves in exactly the same way as\r\n&gt; the invocation\r\n&gt;      dst.put(a, 0, a.length)\r\n\r\nIf we go to see the invocation it mentions\r\n\r\n&gt; public FloatBuffer put(float[] src, int offset, int length) Relative\r\n&gt; bulk put method&#160;&#160;(optional operation). This method transfers floats\r\n&gt; into this buffer from the given source array. If there are more floats\r\n&gt; to be copied from the array than remain in this buffer, that is, if\r\n&gt; length&#160;&gt;&#160;remaining(), then no floats are transferred and a\r\n&gt; BufferOverflowException is thrown. Otherwise, this method copies\r\n&gt; length floats from the given array into this buffer, starting at the\r\n&gt; given offset in the array and at the current position of this buffer.\r\n&gt; **The position of this buffer is then incremented by length.** In other\r\n&gt; words, an invocation of this method of the form dst.put(src,&#160;off,&#160;len)\r\n&gt; has exactly the same effect as the loop\r\n&gt;      for (int i = off; i &lt; off + len; i++)\r\n&gt;          dst.put(a[i]);\r\n\r\nIt clearly says the position is gonna be increment..\r\n\r\nIs it normal or am I missing anything?\r\n\r\nEdit: Same behaviour with:\r\n\r\n    ByteBuffer vertexBuffer = ByteBuffer.allocate(3*Float.BYTES+3*Byte.BYTES);","title":"Is it normal that adding a float array on a view buffer does not increase position?","body":"<p>As titled, this code:</p>\n\n<pre><code>    ByteBuffer vertexBuffer = GLBuffers.newDirectByteBuffer(3*Float.BYTES+3*Byte.BYTES);\n    System.out.println(vertexBuffer.toString());\n    vertexBuffer.asFloatBuffer().put(new float[]{1,2,3});\n    System.out.println(vertexBuffer.toString());\n    vertexBuffer.put(new byte[]{0,1,2});\n    System.out.println(vertexBuffer.toString());\n</code></pre>\n\n<p>Prints out the following:</p>\n\n<pre><code>java.nio.DirectByteBuffer[pos=0 lim=15 cap=15]\njava.nio.DirectByteBuffer[pos=0 lim=15 cap=15]\njava.nio.DirectByteBuffer[pos=3 lim=15 cap=15]\n</code></pre>\n\n<p>But, in theory, I'd expect the first <code>put</code> on my view buffer to increase the position from 0 to 3, and the second <code>put</code> from 3 to 6, in order to get something like this:</p>\n\n<pre><code>java.nio.DirectByteBuffer[pos=0 lim=15 cap=15]\njava.nio.DirectByteBuffer[pos=3 lim=15 cap=15]\njava.nio.DirectByteBuffer[pos=6 lim=15 cap=15]\n</code></pre>\n\n<p>The api doc says:</p>\n\n<blockquote>\n  <p>public final FloatBuffer put(float[] src) Relative bulk put\n  method  (optional operation). This method transfers the entire content\n  of the given source float array into this buffer. An invocation of\n  this method of the form dst.put(a) behaves in exactly the same way as\n  the invocation\n       dst.put(a, 0, a.length)</p>\n</blockquote>\n\n<p>If we go to see the invocation it mentions</p>\n\n<blockquote>\n  <p>public FloatBuffer put(float[] src, int offset, int length) Relative\n  bulk put method  (optional operation). This method transfers floats\n  into this buffer from the given source array. If there are more floats\n  to be copied from the array than remain in this buffer, that is, if\n  length > remaining(), then no floats are transferred and a\n  BufferOverflowException is thrown. Otherwise, this method copies\n  length floats from the given array into this buffer, starting at the\n  given offset in the array and at the current position of this buffer.\n  <strong>The position of this buffer is then incremented by length.</strong> In other\n  words, an invocation of this method of the form dst.put(src, off, len)\n  has exactly the same effect as the loop\n       for (int i = off; i &lt; off + len; i++)\n           dst.put(a[i]);</p>\n</blockquote>\n\n<p>It clearly says the position is gonna be increment..</p>\n\n<p>Is it normal or am I missing anything?</p>\n\n<p>Edit: Same behaviour with:</p>\n\n<pre><code>ByteBuffer vertexBuffer = ByteBuffer.allocate(3*Float.BYTES+3*Byte.BYTES);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8182,"page":1810,"page_size":100}
