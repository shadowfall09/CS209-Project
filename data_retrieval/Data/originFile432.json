{"items":[{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1700,"reputation":24591,"user_id":2291,"accept_rate":88,"display_name":"Jon Adams"},"score":0,"creation_date":1537213644,"post_id":52272533,"comment_id":91694233,"body_markdown":"Not an answer to the question, but for general stream advice: This may not be the best example, because with Streams it makes more sense to do something like `List&lt;Integer&gt; newList = list.stream().filter(...).collect(...);` then use the result of the stream (`newList`) from there on. Streams are much easier to grasp if you think about them as functions that return a result (whether it is modified or created new) that you may further operate on, not the original source. Then you shouldn&#39;t (in most cases) have to worry about implementation details like this.","body":"Not an answer to the question, but for general stream advice: This may not be the best example, because with Streams it makes more sense to do something like <code>List&lt;Integer&gt; newList = list.stream().filter(...).collect(...);</code> then use the result of the stream (<code>newList</code>) from there on. Streams are much easier to grasp if you think about them as functions that return a result (whether it is modified or created new) that you may further operate on, not the original source. Then you shouldn&#39;t (in most cases) have to worry about implementation details like this."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1536657817,"creation_date":1536657722,"answer_id":52272725,"question_id":52272533,"body_markdown":"The API documentation makes no such guarantee “that subsequent operations no longer operate on the backing collection”, hence, you should never rely on such a behavior of a particular implementation.\r\n\r\nYour example happens to do the desired thing by accident; there’s not even a guarantee that the `List` created by `collect(Collectors.toList())` supports the `remove` operation.\r\n\r\nTo show a counter-example\r\n\r\n    Set&lt;Integer&gt; set = IntStream.range(0, 10).boxed()\r\n        .collect(Collectors.toCollection(TreeSet::new));\r\n    set.stream()\r\n        .filter(i -&gt; i &gt; 5)\r\n        .sorted()\r\n        .forEach(set::remove);\r\n\r\nthrows a `ConcurrentModificationException`. The reason is that the implementation optimizes this scenario, as the source is already sorted. In principle, it could do the same optimization to your original example, as `forEach` is explicitly performing the action in no specified order, hence, the sorting is unnecessary.\r\n\r\nThere are other optimizations imaginable, e.g. `sorted().findFirst()` could get converted to a “find the minimum” operation, without the need to copy the element into a new storage for sorting.\r\n\r\nSo the bottom line is, when relying on unspecified behavior, what may happen to work today, may break tomorrow, when new optimizations are added.\r\n","title":"Does every stateful intermediate Stream API operation guarantee a new source collection?","body":"<p>The API documentation makes no such guarantee “that subsequent operations no longer operate on the backing collection”, hence, you should never rely on such a behavior of a particular implementation.</p>\n\n<p>Your example happens to do the desired thing by accident; there’s not even a guarantee that the <code>List</code> created by <code>collect(Collectors.toList())</code> supports the <code>remove</code> operation.</p>\n\n<p>To show a counter-example</p>\n\n<pre><code>Set&lt;Integer&gt; set = IntStream.range(0, 10).boxed()\n    .collect(Collectors.toCollection(TreeSet::new));\nset.stream()\n    .filter(i -&gt; i &gt; 5)\n    .sorted()\n    .forEach(set::remove);\n</code></pre>\n\n<p>throws a <code>ConcurrentModificationException</code>. The reason is that the implementation optimizes this scenario, as the source is already sorted. In principle, it could do the same optimization to your original example, as <code>forEach</code> is explicitly performing the action in no specified order, hence, the sorting is unnecessary.</p>\n\n<p>There are other optimizations imaginable, e.g. <code>sorted().findFirst()</code> could get converted to a “find the minimum” operation, without the need to copy the element into a new storage for sorting.</p>\n\n<p>So the bottom line is, when relying on unspecified behavior, what may happen to work today, may break tomorrow, when new optimizations are added.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1536659721,"creation_date":1536657863,"answer_id":52272767,"question_id":52272533,"body_markdown":"Well `sorted` has to be a full *copying* barrier for the stream pipeline, after all your source could be *not sorted*; but this is not documented as such, thus do not rely on it.\r\n\r\nThis is not *just* about `sorted` per-se, but what other optimization can be done to the stream pipeline, so that `sorted` could be entirely skipped. For example:\r\n\r\n    List&lt;Integer&gt; sortedList = IntStream.range(0, 10)\r\n                .boxed()\r\n                .collect(Collectors.toList());\r\n\r\n        StreamSupport.stream(() -&gt; sortedList.spliterator(), Spliterator.SORTED, false)\r\n                .sorted()\r\n                .forEach(sortedList::remove); // fails with CME, thus no copying occurred \r\n\r\nOf course, `sorted` needs to be a full barrier and stop to do an entire sort, unless, of course, it can be skipped, thus the documentation makes no such promises, so that we don&#39;t run in weird surprises. \r\n\r\n`distinct` on the other hand does not *have to be a full barrier*, all distinct does is check one element at a time, if it is unique; so after a single element is checked (and it is unique) it is passed to the next stage, thus without being a full barrier. Either way, this is not documented also... \r\n\r\n\r\n\r\n    ","title":"Does every stateful intermediate Stream API operation guarantee a new source collection?","body":"<p>Well <code>sorted</code> has to be a full <em>copying</em> barrier for the stream pipeline, after all your source could be <em>not sorted</em>; but this is not documented as such, thus do not rely on it.</p>\n\n<p>This is not <em>just</em> about <code>sorted</code> per-se, but what other optimization can be done to the stream pipeline, so that <code>sorted</code> could be entirely skipped. For example:</p>\n\n<pre><code>List&lt;Integer&gt; sortedList = IntStream.range(0, 10)\n            .boxed()\n            .collect(Collectors.toList());\n\n    StreamSupport.stream(() -&gt; sortedList.spliterator(), Spliterator.SORTED, false)\n            .sorted()\n            .forEach(sortedList::remove); // fails with CME, thus no copying occurred \n</code></pre>\n\n<p>Of course, <code>sorted</code> needs to be a full barrier and stop to do an entire sort, unless, of course, it can be skipped, thus the documentation makes no such promises, so that we don't run in weird surprises. </p>\n\n<p><code>distinct</code> on the other hand does not <em>have to be a full barrier</em>, all distinct does is check one element at a time, if it is unique; so after a single element is checked (and it is unique) it is passed to the next stage, thus without being a full barrier. Either way, this is not documented also... </p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536685571,"creation_date":1536662687,"answer_id":52274148,"question_id":52272533,"body_markdown":"You shouldn&#39;t have brought up the cases with a terminal operation `forEach(list::remove)` because `list::remove` is an interfering function and it violates the [&quot;non-interference&quot;][1] principle for terminal actions.\r\n\r\nIt&#39;s vital to follow the rules before wondering why an incorrect code snippet causes unexpected (or undocumented) behaviour.\r\n\r\nI believe that `list::remove` is the root of the problem here. You wouldn&#39;t have noticed the difference between the operations for this scenario if you&#39;d written a proper action for `forEach`.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#NonInterference","title":"Does every stateful intermediate Stream API operation guarantee a new source collection?","body":"<p>You shouldn't have brought up the cases with a terminal operation <code>forEach(list::remove)</code> because <code>list::remove</code> is an interfering function and it violates the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#NonInterference\" rel=\"nofollow noreferrer\">\"non-interference\"</a> principle for terminal actions.</p>\n\n<p>It's vital to follow the rules before wondering why an incorrect code snippet causes unexpected (or undocumented) behaviour.</p>\n\n<p>I believe that <code>list::remove</code> is the root of the problem here. You wouldn't have noticed the difference between the operations for this scenario if you'd written a proper action for <code>forEach</code>.</p>\n"}],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1918,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":52272725,"answer_count":3,"score":34,"last_activity_date":1684221653,"creation_date":1536657098,"question_id":52272533,"body_markdown":"Is the following statement true? \r\n\r\n&gt; The `sorted()` operation is a “stateful intermediate operation”, which means that subsequent operations no longer operate on the backing collection, but on an internal state. \r\n\r\n&lt;sup&gt;([Source][1] and [source][2] - they seem to copy from each other or come from the same source.)&lt;/sup&gt;\r\n\r\n**Disclaimer:** I am aware the following snippets are not legit usages of Java Stream API. Don&#39;t use in the production code.\r\n\r\nI have tested [`Stream::sorted`][3] as a snippet from sources above:\r\n\r\n    final List&lt;Integer&gt; list = IntStream.range(0, 10).boxed().collect(Collectors.toList());\r\n\t\t\r\n\tlist.stream()\r\n\t    .filter(i -&gt; i &gt; 5)\r\n\t    .sorted()\r\n\t    .forEach(list::remove);\r\n\r\n    System.out.println(list);            // Prints [0, 1, 2, 3, 4, 5]\r\n\r\nIt works. I replaced [`Stream::sorted`][3] with [`Stream::distinct`][4], [`Stream::limit`][5] and [`Stream::skip`][6]:\r\n\r\n    final List&lt;Integer&gt; list = IntStream.range(0, 10).boxed().collect(Collectors.toList());\r\n\t\t\r\n\tlist.stream()\r\n\t    .filter(i -&gt; i &gt; 5)\r\n\t    .distinct()\r\n\t    .forEach(list::remove);          // Throws NullPointerException\r\n\r\n\r\nTo my surprise, the `NullPointerException` is thrown. \r\n\r\nAll the tested methods follow the [stateful intermediate operation][7] characteristics. Yet, this unique behavior of [`Stream::sorted`][3] is not documented nor the [Stream operations and pipelines][7] part explains whether the *stateful intermediate operations* really guarantee a new source collection.\r\n\r\nWhere my confusion comes from and what is the explanation of the behavior above?\r\n\r\n\r\n  [1]: https://www.toptal.com/java/top-10-most-common-java-development-mistakes\r\n  [2]: https://dzone.com/articles/java-8-friday-10-subtle\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps","title":"Does every stateful intermediate Stream API operation guarantee a new source collection?","body":"<p>Is the following statement true?</p>\n<blockquote>\n<p>The <code>sorted()</code> operation is a “stateful intermediate operation”, which means that subsequent operations no longer operate on the backing collection, but on an internal state.</p>\n</blockquote>\n<p><sup>(<a href=\"https://www.toptal.com/java/top-10-most-common-java-development-mistakes\" rel=\"nofollow noreferrer\">Source</a> and <a href=\"https://dzone.com/articles/java-8-friday-10-subtle\" rel=\"nofollow noreferrer\">source</a> - they seem to copy from each other or come from the same source.)</sup></p>\n<p><strong>Disclaimer:</strong> I am aware the following snippets are not legit usages of Java Stream API. Don't use in the production code.</p>\n<p>I have tested <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\" rel=\"nofollow noreferrer\"><code>Stream::sorted</code></a> as a snippet from sources above:</p>\n<pre><code>final List&lt;Integer&gt; list = IntStream.range(0, 10).boxed().collect(Collectors.toList());\n    \nlist.stream()\n    .filter(i -&gt; i &gt; 5)\n    .sorted()\n    .forEach(list::remove);\n\nSystem.out.println(list);            // Prints [0, 1, 2, 3, 4, 5]\n</code></pre>\n<p>It works. I replaced <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\" rel=\"nofollow noreferrer\"><code>Stream::sorted</code></a> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"nofollow noreferrer\"><code>Stream::distinct</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-\" rel=\"nofollow noreferrer\"><code>Stream::limit</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-\" rel=\"nofollow noreferrer\"><code>Stream::skip</code></a>:</p>\n<pre><code>final List&lt;Integer&gt; list = IntStream.range(0, 10).boxed().collect(Collectors.toList());\n    \nlist.stream()\n    .filter(i -&gt; i &gt; 5)\n    .distinct()\n    .forEach(list::remove);          // Throws NullPointerException\n</code></pre>\n<p>To my surprise, the <code>NullPointerException</code> is thrown.</p>\n<p>All the tested methods follow the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">stateful intermediate operation</a> characteristics. Yet, this unique behavior of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\" rel=\"nofollow noreferrer\"><code>Stream::sorted</code></a> is not documented nor the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">Stream operations and pipelines</a> part explains whether the <em>stateful intermediate operations</em> really guarantee a new source collection.</p>\n<p>Where my confusion comes from and what is the explanation of the behavior above?</p>\n"},{"tags":["javascript","java","selenium-webdriver","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684157859,"creation_date":1684157859,"answer_id":76254670,"question_id":76254513,"body_markdown":"You can try the below way. I extracted the locator from your given `html` make sure its unique.\r\n\r\n    WebElement element = driver.findElement(By.cssSelector(&quot;div.ant-select-selection__rendered&quot;));\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);","title":"JavascriptExecutor for scrolling does not work with selenium","body":"<p>You can try the below way. I extracted the locator from your given <code>html</code> make sure its unique.</p>\n<pre><code>WebElement element = driver.findElement(By.cssSelector(&quot;div.ant-select-selection__rendered&quot;));\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n"}],"owner":{"account_id":13429951,"reputation":43,"user_id":9690055,"display_name":"Shams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76254670,"answer_count":1,"score":0,"last_activity_date":1684221481,"creation_date":1684156791,"question_id":76254513,"body_markdown":"This what I have tried\r\n\r\n    Thread.sleep(3000);\r\n    JavascriptExecutor js3 = (JavascriptExecutor) driver;\r\n    js3.executeScript(&quot;window.scrollBy(0,500)&quot;, &quot;&quot;);\r\n\r\nBut the page does not scroll down, is there perhaps another way of scroll down on a form, because when I am trying the above the form won&#39;t scroll so I am not able to get to the below element.\r\n\r\nI want to scroll down to this element on the form.\r\n\r\n    &#39;&lt;div class=&quot;ant-select-selection__rendered&quot; style=&quot;&quot;&gt;&lt;div unselectable=&quot;on&quot; class=&quot;ant-select-selection__placeholder&quot; style=&quot;display: none; user-select: none;&quot;&gt;Select...&lt;/div&gt;&lt;div title=&quot;&quot; class=&quot;ant-select-selection-selected-value&quot; style=&quot;display: block; opacity: 1;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;\r\n\r\n","title":"JavascriptExecutor for scrolling does not work with selenium","body":"<p>This what I have tried</p>\n<pre><code>Thread.sleep(3000);\nJavascriptExecutor js3 = (JavascriptExecutor) driver;\njs3.executeScript(&quot;window.scrollBy(0,500)&quot;, &quot;&quot;);\n</code></pre>\n<p>But the page does not scroll down, is there perhaps another way of scroll down on a form, because when I am trying the above the form won't scroll so I am not able to get to the below element.</p>\n<p>I want to scroll down to this element on the form.</p>\n<pre><code>'&lt;div class=&quot;ant-select-selection__rendered&quot; style=&quot;&quot;&gt;&lt;div unselectable=&quot;on&quot; class=&quot;ant-select-selection__placeholder&quot; style=&quot;display: none; user-select: none;&quot;&gt;Select...&lt;/div&gt;&lt;div title=&quot;&quot; class=&quot;ant-select-selection-selected-value&quot; style=&quot;display: block; opacity: 1;&quot;&gt;&lt;/div&gt;&lt;/div&gt;'\n</code></pre>\n"},{"tags":["java","testing","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":10375812,"reputation":2008,"user_id":7652010,"display_name":"Akhil Bojedla"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1588262846,"creation_date":1571221603,"answer_id":58411130,"question_id":58409743,"body_markdown":"You can make use of `UriBuilder`.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    webTestClient.get()\r\n\t\t\t\t.uri(uriBuilder -&gt;\r\n\t\t\t\t\t\turiBuilder\r\n\t\t\t\t\t\t\t\t.path(&quot;/v3/callback&quot;)\r\n\t\t\t\t\t\t\t\t.queryParam(&quot;state&quot;, &quot;cGF5bWVudGlkPTRiMmZlMG&quot;)\r\n\t\t\t\t\t\t\t\t.build())\r\n\t\t\t\t.exchange()\r\n\t\t\t\t.expectStatus()\r\n\t\t\t\t.isOk();\r\n\r\nThis should work.","title":"Spring webflux WebTestClient with query parameter","body":"<p>You can make use of <code>UriBuilder</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>webTestClient.get()\n            .uri(uriBuilder -&gt;\n                    uriBuilder\n                            .path(\"/v3/callback\")\n                            .queryParam(\"state\", \"cGF5bWVudGlkPTRiMmZlMG\")\n                            .build())\n            .exchange()\n            .expectStatus()\n            .isOk();\n</code></pre>\n\n<p>This should work.</p>\n"},{"tags":[],"owner":{"account_id":1001906,"reputation":2166,"user_id":1016580,"display_name":"Alexei Khlebnikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680260837,"creation_date":1677518807,"answer_id":75583684,"question_id":58409743,"body_markdown":"If your query parameter value contains curly braces, for example like this:\r\n\r\n```java\r\nwebTestClient.get()\r\n    .uri(uriBuilder -&gt; uriBuilder\r\n        .path(&quot;/v3/callback&quot;)\r\n        .queryParam(&quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;)\r\n        .build())\r\n    .exchange()\r\n    .expectStatus()\r\n    .isOk();\r\n```\r\n\r\nThen `UriBuilder` will attempt to do variable substitution on the contents of the curly braces and you will likely get an exception on the `build()` call. In order to avoid it, place your request parameters in a separate `requestParams` map and use controlled variable substitution by calling `build(requestParams)` when building the `URI`:\r\n\r\n```java\r\nvar requestParams = Map.of(\r\n    &quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;\r\n);\r\n\r\nwebTestClient.get()\r\n    .uri(uriBuilder -&gt; uriBuilder\r\n        .path(&quot;/v3/callback&quot;)\r\n        .queryParam(&quot;query&quot;, &quot;{query}&quot;)\r\n        .build(requestParams))\r\n    .exchange()\r\n    .expectStatus()\r\n    .isOk();\r\n```\r\n\r\nAnother tip. If you find `.uri(uriBuilder -&gt; ...)` syntax a bit complex, you can prepare the `URI` explicitly before the request:\r\n\r\n```java\r\nvar requestParams = Map.of(\r\n    &quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;\r\n);\r\n\r\nURI uri = new DefaultUriBuilderFactory(&quot;/v3/callback&quot;)\r\n    .builder()\r\n    .queryParam(&quot;query&quot;, &quot;{query}&quot;)\r\n    .build(requestParams);\r\n\r\nwebTestClient.get()\r\n    .uri(uri)\r\n    .exchange()\r\n    .expectStatus()\r\n    .isOk();\r\n```\r\n\r\nIf the `URI` is prepared beforehand - it is easier to check the generated `URI` in the debugger or log it.\r\n","title":"Spring webflux WebTestClient with query parameter","body":"<p>If your query parameter value contains curly braces, for example like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webTestClient.get()\n    .uri(uriBuilder -&gt; uriBuilder\n        .path(&quot;/v3/callback&quot;)\n        .queryParam(&quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;)\n        .build())\n    .exchange()\n    .expectStatus()\n    .isOk();\n</code></pre>\n<p>Then <code>UriBuilder</code> will attempt to do variable substitution on the contents of the curly braces and you will likely get an exception on the <code>build()</code> call. In order to avoid it, place your request parameters in a separate <code>requestParams</code> map and use controlled variable substitution by calling <code>build(requestParams)</code> when building the <code>URI</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var requestParams = Map.of(\n    &quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;\n);\n\nwebTestClient.get()\n    .uri(uriBuilder -&gt; uriBuilder\n        .path(&quot;/v3/callback&quot;)\n        .queryParam(&quot;query&quot;, &quot;{query}&quot;)\n        .build(requestParams))\n    .exchange()\n    .expectStatus()\n    .isOk();\n</code></pre>\n<p>Another tip. If you find <code>.uri(uriBuilder -&gt; ...)</code> syntax a bit complex, you can prepare the <code>URI</code> explicitly before the request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var requestParams = Map.of(\n    &quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;\n);\n\nURI uri = new DefaultUriBuilderFactory(&quot;/v3/callback&quot;)\n    .builder()\n    .queryParam(&quot;query&quot;, &quot;{query}&quot;)\n    .build(requestParams);\n\nwebTestClient.get()\n    .uri(uri)\n    .exchange()\n    .expectStatus()\n    .isOk();\n</code></pre>\n<p>If the <code>URI</code> is prepared beforehand - it is easier to check the generated <code>URI</code> in the debugger or log it.</p>\n"},{"tags":[],"owner":{"account_id":8609185,"reputation":148,"user_id":6448190,"display_name":"vinilpj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684221361,"creation_date":1684221361,"answer_id":76260267,"question_id":58409743,"body_markdown":"Below is the Kotlin Sample for the above\r\n\r\n    val requestParams = LinkedMultiValueMap&lt;String, String&gt;()\r\n    requestParams.add(&quot;A&quot;, &quot;abc&quot;)      \r\n    requestParams.add(&quot;B&quot;, &quot;def&quot;)       \r\n    requestParams.add(&quot;C&quot;, &quot;ghi&quot;)\r\n     \r\n    val uri = UriComponentsBuilder.fromPath(&quot;/v3/callback&quot;).queryParams(requestParams).build().toUri()   \r\n\r\n    webTestClient.get().uri{uri}.exchange().expectStatus().isOk","title":"Spring webflux WebTestClient with query parameter","body":"<p>Below is the Kotlin Sample for the above</p>\n<pre><code>val requestParams = LinkedMultiValueMap&lt;String, String&gt;()\nrequestParams.add(&quot;A&quot;, &quot;abc&quot;)      \nrequestParams.add(&quot;B&quot;, &quot;def&quot;)       \nrequestParams.add(&quot;C&quot;, &quot;ghi&quot;)\n \nval uri = UriComponentsBuilder.fromPath(&quot;/v3/callback&quot;).queryParams(requestParams).build().toUri()   \n\nwebTestClient.get().uri{uri}.exchange().expectStatus().isOk\n</code></pre>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11668,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":58411130,"answer_count":3,"score":16,"last_activity_date":1684221361,"creation_date":1571217046,"question_id":58409743,"body_markdown":"In my webflux application, i have this `GET` endpoint \r\n\r\n    v3/callback?state=cGF5bWVudGlkPTRiMmZlMG\r\n\r\nI am trying to write  an integration test using `WebTestClient` \r\n\r\n    @Test\r\n    public void happyScenario() {\r\n        webTestClient.get().uri(&quot;/v3/callback?state=cGF5bWVudGlkPTRiMmZlMG&quot;)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk();\r\n    }\r\nThis test case return `404 notFound`, if i removed the query parameter it will be called but the `state` parameter it will be missing\r\n\r\n\r\nI tried to use `attribute` \r\n\r\n \r\n\r\n      webTestClient.get().uri(&quot;/v3/callback&quot;)\r\n                .attribute(&quot;state&quot;,&quot;cGF5bWVudGlkPTRiMmZlMG&quot;)\r\n                .exchange()\r\n                .expectStatus()\r\n                .isOk();\r\n\r\nbut still the `state` parameter is missing, How can i include a query parameter with request when using `webTestClient` ?\r\n","title":"Spring webflux WebTestClient with query parameter","body":"<p>In my webflux application, i have this <code>GET</code> endpoint </p>\n\n<pre><code>v3/callback?state=cGF5bWVudGlkPTRiMmZlMG\n</code></pre>\n\n<p>I am trying to write  an integration test using <code>WebTestClient</code> </p>\n\n<pre><code>@Test\npublic void happyScenario() {\n    webTestClient.get().uri(\"/v3/callback?state=cGF5bWVudGlkPTRiMmZlMG\")\n            .exchange()\n            .expectStatus()\n            .isOk();\n}\n</code></pre>\n\n<p>This test case return <code>404 notFound</code>, if i removed the query parameter it will be called but the <code>state</code> parameter it will be missing</p>\n\n<p>I tried to use <code>attribute</code> </p>\n\n<pre><code>  webTestClient.get().uri(\"/v3/callback\")\n            .attribute(\"state\",\"cGF5bWVudGlkPTRiMmZlMG\")\n            .exchange()\n            .expectStatus()\n            .isOk();\n</code></pre>\n\n<p>but still the <code>state</code> parameter is missing, How can i include a query parameter with request when using <code>webTestClient</code> ?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1684220420,"post_id":76260134,"comment_id":134481542,"body_markdown":"&quot;_...as soon as I close scanner object..._&quot; - Don&#39;t close a `Scanner` wrapping `System.in`, as it will [close the underlying stream aswell](https://stackoverflow.com/questions/14142853/close-a-scanner-linked-to-system-in).","body":"&quot;<i>...as soon as I close scanner object...</i>&quot; - Don&#39;t close a <code>Scanner</code> wrapping <code>System.in</code>, as it will <a href=\"https://stackoverflow.com/questions/14142853/close-a-scanner-linked-to-system-in\">close the underlying stream aswell</a>."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1684220511,"post_id":76260134,"comment_id":134481564,"body_markdown":"Does this answer your question? [Close a Scanner linked to System.in](https://stackoverflow.com/questions/14142853/close-a-scanner-linked-to-system-in)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14142853/close-a-scanner-linked-to-system-in\">Close a Scanner linked to System.in</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684221428,"post_id":76260134,"comment_id":134481748,"body_markdown":"This code sample seems irrelevant to your Question. You are not closing your Scanner anywhere in that code.","body":"This code sample seems irrelevant to your Question. You are not closing your Scanner anywhere in that code."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684221300,"creation_date":1684220613,"answer_id":76260172,"question_id":76260134,"body_markdown":"# Closing the `Scanner` closes its underlying `System.in`\r\n\r\nTo quote the Javadoc for [`Scanner#close`][1]:\r\n\r\n&gt;If this scanner has not yet been closed then if its underlying readable also implements the [`Closeable`][2] interface then the readable&#39;s close method will be invoked.\r\n\r\nThe [`System.in`][3] object is an [`InputStream`][4]. And `InputStream` does indeed implement [`Closeable`][2]. So that transitive closing does apply. \r\n\r\nSo… Closing a `Scanner` object based on the `System.in` object closes both. \r\n\r\n# `System.in` cannot be reopened\r\n\r\nDo not do that, do not close `System.in`. You cannot reopen `System.in`.\r\n\r\nGenerally, you *should* close resource such as `Scanner`. The `Scanner` class is even [`AutoCloseable`][5] to make such closing easy with try-with-resources syntax. \r\n\r\nBut if your scanner is based on `System.in`, then we have an exception to the *always-close-your-resources* rule. \r\n\r\nFor more info, see:\r\n\r\n - [*Close a Scanner linked to System.in*](https://stackoverflow.com/q/14142853/642706)\r\n - [*In Java is it possible to re-open System.in after closing it*](https://stackoverflow.com/q/27286690/642706)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#close()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [6]: https://stackoverflow.com/q/14142853/642706","title":"Scanner object causing an eternal loop iteration","body":"<h1>Closing the <code>Scanner</code> closes its underlying <code>System.in</code></h1>\n<p>To quote the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#close()\" rel=\"nofollow noreferrer\"><code>Scanner#close</code></a>:</p>\n<blockquote>\n<p>If this scanner has not yet been closed then if its underlying readable also implements the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a> interface then the readable's close method will be invoked.</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in\" rel=\"nofollow noreferrer\"><code>System.in</code></a> object is an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a>. And <code>InputStream</code> does indeed implement <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a>. So that transitive closing does apply.</p>\n<p>So… Closing a <code>Scanner</code> object based on the <code>System.in</code> object closes both.</p>\n<h1><code>System.in</code> cannot be reopened</h1>\n<p>Do not do that, do not close <code>System.in</code>. You cannot reopen <code>System.in</code>.</p>\n<p>Generally, you <em>should</em> close resource such as <code>Scanner</code>. The <code>Scanner</code> class is even <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> to make such closing easy with try-with-resources syntax.</p>\n<p>But if your scanner is based on <code>System.in</code>, then we have an exception to the <em>always-close-your-resources</em> rule.</p>\n<p>For more info, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/14142853/642706\"><em>Close a Scanner linked to System.in</em></a></li>\n<li><a href=\"https://stackoverflow.com/q/27286690/642706\"><em>In Java is it possible to re-open System.in after closing it</em></a></li>\n</ul>\n"}],"owner":{"account_id":26501835,"reputation":3,"user_id":20138656,"display_name":"rainbow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684221300,"creation_date":1684220205,"question_id":76260134,"body_markdown":"I have a problem with Scanner in a while loop.\r\n\r\nWhenever I have a while (true) loop reading from scanner, as soon as I close scanner object, the while loop starts to iterate eternally thinking I closed stream. But I open and close stream in a separate method, that as I imagine should be opening and closing it each time the method is called, but it doesn’t.\r\nWhat currently helps is creating Scanner object outside the loop and sending it as a parameter to the method, plus adding scannerObject.next() method.\r\n\r\nI don’t want to change loop conditions. Are there normal ways to avoid this error?\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//testing how to have a while loop that only stops if q is entered\r\n    \t\tScanner userInput = new Scanner(System.in);\r\n    \t\t\r\n    \t\twhile(true) {    \t\t\t\r\n    \t\t\tint number = input(userInput);\r\n    \t\t\t\r\n    \t\t\tswitch(number) {\r\n    \t\t\t\t\r\n    \t\t\tcase 0: // returns 0 for Invalid input\r\n    \t\t\t\tSystem.out.println(&quot;Invalid input. Enter an integer or q to Quit&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tcase -1: // returns 1 to quit the program\r\n    \t\t\t\t//\r\n    \t\t\t\tSystem.out.println(&quot;You chose to quit. Good-bye&quot;);\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\tdefault: // default is done when the input returns an integer, so valid input\r\n    \t\t\t\tSystem.out.println(&quot;You entered &quot; + number);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\t    \t\t\t\r\n    \t\t\t//System.out.println(&quot;I am now after the while loop&quot;);\r\n    \t\t}// end of while(true) loop for userinput\r\n    \t\t\r\n    \t}\r\n\r\n    \tprivate static int input(Scanner userInput) {\r\n    \t\tSystem.out.println(&quot;Enter an integer or q to Quit the program: &quot;);    \t\t\t\t\r\n    \t\tint result = 0;    \t\t\r\n    \t\tif(userInput.hasNextInt()) {\r\n    \t\t\tresult = userInput.nextInt();    \t\t\t\r\n    \t\t}    \t\t\r\n    \t\telse {    \t\t\t\r\n    \t\t\tif(userInput.hasNext(&quot;q&quot;)) {    \t\t\t\t\r\n    \t\t\t\tresult = -1;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\t\r\n    \t\t\t\tuserInput.next();\r\n    //\t\t\t\tresult = 0;\r\n    \t\t\t}\r\n    \t\t}    \t\t\r\n    \t\treturn result;    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Scanner object causing an eternal loop iteration","body":"<p>I have a problem with Scanner in a while loop.</p>\n<p>Whenever I have a while (true) loop reading from scanner, as soon as I close scanner object, the while loop starts to iterate eternally thinking I closed stream. But I open and close stream in a separate method, that as I imagine should be opening and closing it each time the method is called, but it doesn’t.\nWhat currently helps is creating Scanner object outside the loop and sending it as a parameter to the method, plus adding scannerObject.next() method.</p>\n<p>I don’t want to change loop conditions. Are there normal ways to avoid this error?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        //testing how to have a while loop that only stops if q is entered\n        Scanner userInput = new Scanner(System.in);\n        \n        while(true) {               \n            int number = input(userInput);\n            \n            switch(number) {\n                \n            case 0: // returns 0 for Invalid input\n                System.out.println(\"Invalid input. Enter an integer or q to Quit\");\n                break;\n                \n            case -1: // returns 1 to quit the program\n                //\n                System.out.println(\"You chose to quit. Good-bye\");\n                System.exit(0);\n                break;\n                \n            default: // default is done when the input returns an integer, so valid input\n                System.out.println(\"You entered \" + number);\n                break;\n            }                   \n            //System.out.println(\"I am now after the while loop\");\n        }// end of while(true) loop for userinput\n        \n    }\n\n    private static int input(Scanner userInput) {\n        System.out.println(\"Enter an integer or q to Quit the program: \");                  \n        int result = 0;         \n        if(userInput.hasNextInt()) {\n            result = userInput.nextInt();               \n        }           \n        else {              \n            if(userInput.hasNext(\"q\")) {                    \n                result = -1;\n            }\n            else {\n                \n                userInput.next();\n//              result = 0;\n            }\n        }           \n        return result;          \n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","security","ssl","signature","tls1.3"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684221156,"post_id":76259901,"comment_id":134481682,"body_markdown":"You can set the enabled cipher suites explicitly on each `SSLSocket`.","body":"You can set the enabled cipher suites explicitly on each <code>SSLSocket</code>."},{"owner":{"account_id":28000495,"reputation":29,"user_id":21384903,"display_name":"Discovery"},"score":0,"creation_date":1684221297,"post_id":76259901,"comment_id":134481722,"body_markdown":"Thanks @user207421 . Actually, I am not trying to set the cipher suites. I want to restrict the signature algorithms for TLS 1.3.","body":"Thanks @user207421 . Actually, I am not trying to set the cipher suites. I want to restrict the signature algorithms for TLS 1.3."}],"owner":{"account_id":28000495,"reputation":29,"user_id":21384903,"display_name":"Discovery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684221156,"creation_date":1684218055,"question_id":76259901,"body_markdown":"By default for `TLS 1.3`, the offered signature algorithms prefer ECDSA followed by RSA.\r\nHowever, for my java code, I want my client to offer only RSA signature algorithms as part of client hello. How can that be achieved ?\r\n\r\nI tried using `jdk.tls.client.SignatureSchemes=&quot;RSAWITHSHA256,RSAWITHSHA384,RSAWITHSHA512&quot;`, but the client still presents the following algorithms as part of client hello\r\n\r\n     ECDSA+SHA256:ECDSA+SHA384:ECDSA+SHA512:RSA-PSS+SHA256:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA-PSS+SHA256:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA1:RSA+SHA1.\r\n\r\nHow can we achieve restricting ECDSA signature algorithms explicitly in Java client code ?\r\n\r\nTried setting `jdk.tls.client.SignatureSchemes=&quot;RSAWITHSHA256,RSAWITHSHA384,RSAWITHSHA512&quot;` as system property and at runtime, it didnt work for me.","title":"Can we restrict the signature algorithms explicitly from client code while establishing TLS 1.3 in java?","body":"<p>By default for <code>TLS 1.3</code>, the offered signature algorithms prefer ECDSA followed by RSA.\nHowever, for my java code, I want my client to offer only RSA signature algorithms as part of client hello. How can that be achieved ?</p>\n<p>I tried using <code>jdk.tls.client.SignatureSchemes=&quot;RSAWITHSHA256,RSAWITHSHA384,RSAWITHSHA512&quot;</code>, but the client still presents the following algorithms as part of client hello</p>\n<pre><code> ECDSA+SHA256:ECDSA+SHA384:ECDSA+SHA512:RSA-PSS+SHA256:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA-PSS+SHA256:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA1:RSA+SHA1.\n</code></pre>\n<p>How can we achieve restricting ECDSA signature algorithms explicitly in Java client code ?</p>\n<p>Tried setting <code>jdk.tls.client.SignatureSchemes=&quot;RSAWITHSHA256,RSAWITHSHA384,RSAWITHSHA512&quot;</code> as system property and at runtime, it didnt work for me.</p>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"score":0,"creation_date":1684200460,"post_id":76254069,"comment_id":134479355,"body_markdown":"More stack trace please? There might be another one above if that class failed to initialize repeatedly.","body":"More stack trace please? There might be another one above if that class failed to initialize repeatedly."}],"answers":[{"tags":[],"owner":{"account_id":13759326,"reputation":41,"user_id":9929440,"display_name":"WajahatAlvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684221144,"creation_date":1684221144,"answer_id":76260245,"question_id":76254069,"body_markdown":"The issue was resolved by using an older version of OKHTTP3 when it was implemented using java not kotlin.","title":"Okhttp3 creating Request Body Could not initialize class okhttp3.internal.Util","body":"<p>The issue was resolved by using an older version of OKHTTP3 when it was implemented using java not kotlin.</p>\n"}],"owner":{"account_id":13759326,"reputation":41,"user_id":9929440,"display_name":"WajahatAlvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684221144,"creation_date":1684153665,"question_id":76254069,"body_markdown":"```\r\nRequestBody body = new FormBody.Builder().add(&quot;LicenseType&quot;, &quot;&quot;).add(&quot;Password&quot;, password).add(&quot;RedirectToMyselfInCaseOfError&quot;, redirectToMyselfInCaseOfError ? &quot;true&quot; : &quot;false&quot;).add(&quot;RememberMe&quot;, rememberMe ? &quot;true&quot; : &quot;false&quot;).add(&quot;UserName&quot;, userName).build();\r\n```\r\n\r\n```\r\nException\r\njava.lang.NoClassDefFoundError: Could not initialize class okhttp3.internal.Util\r\n\tat okhttp3.FormBody.&lt;init&gt;(FormBody.kt:32)\r\n\tat okhttp3.FormBody$Builder.build(FormBody.kt:120)\r\n```\r\n\r\nApplication deployed on Glassfish 5.1  \r\nJDK 8\r\n\r\nIt is working when using Test Client in java.","title":"Okhttp3 creating Request Body Could not initialize class okhttp3.internal.Util","body":"<pre><code>RequestBody body = new FormBody.Builder().add(&quot;LicenseType&quot;, &quot;&quot;).add(&quot;Password&quot;, password).add(&quot;RedirectToMyselfInCaseOfError&quot;, redirectToMyselfInCaseOfError ? &quot;true&quot; : &quot;false&quot;).add(&quot;RememberMe&quot;, rememberMe ? &quot;true&quot; : &quot;false&quot;).add(&quot;UserName&quot;, userName).build();\n</code></pre>\n<pre><code>Exception\njava.lang.NoClassDefFoundError: Could not initialize class okhttp3.internal.Util\n    at okhttp3.FormBody.&lt;init&gt;(FormBody.kt:32)\n    at okhttp3.FormBody$Builder.build(FormBody.kt:120)\n</code></pre>\n<p>Application deployed on Glassfish 5.1<br />\nJDK 8</p>\n<p>It is working when using Test Client in java.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":2,"creation_date":1684143127,"post_id":76252647,"comment_id":134468290,"body_markdown":"If those statements are must, why not take them out of switch case","body":"If those statements are must, why not take them out of switch case"},{"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"score":0,"creation_date":1684143165,"post_id":76252647,"comment_id":134468304,"body_markdown":"good point... not supposed to refactor that much though.","body":"good point... not supposed to refactor that much though."},{"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"score":0,"creation_date":1684143434,"post_id":76252647,"comment_id":134468379,"body_markdown":"@ChetanAhirrao also, not all the peculiar cases need those &quot;default&quot; lines","body":"@ChetanAhirrao also, not all the peculiar cases need those &quot;default&quot; lines"},{"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"score":0,"creation_date":1684143539,"post_id":76252647,"comment_id":134468403,"body_markdown":"@knittl yeah just extract a method and call it from the default case. seems right thanks","body":"@knittl yeah just extract a method and call it from the default case. seems right thanks"},{"owner":{"account_id":10216901,"reputation":59,"user_id":7542299,"display_name":"Ashfaq Afzal"},"score":0,"creation_date":1684143628,"post_id":76252647,"comment_id":134468426,"body_markdown":"It wouldn&#39;t be good refactoring at all if something like this is achieved. Default is only supposed to run if none of other cases occur.","body":"It wouldn&#39;t be good refactoring at all if something like this is achieved. Default is only supposed to run if none of other cases occur."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684143460,"creation_date":1684143460,"answer_id":76252752,"question_id":76252647,"body_markdown":"If things must be executed unconditionally, they should be moved out of the condition:\r\n\r\n    switch(someVar) {\r\n        case &quot;a&quot;:\r\n            ....\r\n            //do something peculiar for a \r\n            break;\r\n        case &quot;b&quot;:\r\n            ...\r\n            //do something peculiar for b\r\n            break;\r\n    }\r\n\r\n    //common things that all cases should do\r\n\r\nAlternatively, extract a method:\r\n\r\n    switch(someVar) {\r\n        case &quot;a&quot;:\r\n            ....\r\n            //do something peculiar for a \r\n            doCommonThings();\r\n            break;\r\n        case &quot;b&quot;:\r\n            ...\r\n            //do something peculiar for b\r\n            doCommonThings();\r\n            break;\r\n    }","title":"Force passage from default switch statement","body":"<p>If things must be executed unconditionally, they should be moved out of the condition:</p>\n<pre><code>switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        //do something peculiar for a \n        break;\n    case &quot;b&quot;:\n        ...\n        //do something peculiar for b\n        break;\n}\n\n//common things that all cases should do\n</code></pre>\n<p>Alternatively, extract a method:</p>\n<pre><code>switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        //do something peculiar for a \n        doCommonThings();\n        break;\n    case &quot;b&quot;:\n        ...\n        //do something peculiar for b\n        doCommonThings();\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684143630,"creation_date":1684143630,"answer_id":76252776,"question_id":76252647,"body_markdown":"If a thing is common for all cases it should ring a warning that it is not supposed to be in a switch-case at all, but be moved outside.\r\n\r\n    switch(someVar) {\r\n        case &quot;a&quot;:\r\n            ....\r\n            //do something peculiar for a \r\n            break;\r\n        case &quot;b&quot;:\r\n            ...\r\n            //do something peculiar for b\r\n            break;\r\n    }\r\n\r\n    //common things that all cases should do\r\n\r\nSimilar to as if you would do for an if else \r\n\r\n    if(isSpecial) {\r\n        do X\r\n    }\r\n    else {\r\n        do Y\r\n    }\r\n    do for both\r\n\r\nNot\r\n\r\n    if(isSpecial) {\r\n        do X\r\n        do for both\r\n    }\r\n    else {\r\n        do Y\r\n        do for both\r\n    }\r\n","title":"Force passage from default switch statement","body":"<p>If a thing is common for all cases it should ring a warning that it is not supposed to be in a switch-case at all, but be moved outside.</p>\n<pre><code>switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        //do something peculiar for a \n        break;\n    case &quot;b&quot;:\n        ...\n        //do something peculiar for b\n        break;\n}\n\n//common things that all cases should do\n</code></pre>\n<p>Similar to as if you would do for an if else</p>\n<pre><code>if(isSpecial) {\n    do X\n}\nelse {\n    do Y\n}\ndo for both\n</code></pre>\n<p>Not</p>\n<pre><code>if(isSpecial) {\n    do X\n    do for both\n}\nelse {\n    do Y\n    do for both\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25302955,"reputation":1,"user_id":19126942,"display_name":"Suman Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684220098,"creation_date":1684220069,"answer_id":76260113,"question_id":76252647,"body_markdown":"If something you want should be executed at all conditions, the best choice would be to put that just outside the switch case.\r\n\r\n       switch(someVar) {\r\n        case &quot;a&quot;:\r\n            ....\r\n            break;\r\n        case &quot;b&quot;:\r\n            ...\r\n            break;\r\n        default: \r\n            ...\r\n        }\r\n    {commmon things to be executed}\r\n\r\n\r\nIdeally, **default** statement is to just execute when none of your cases match.","title":"Force passage from default switch statement","body":"<p>If something you want should be executed at all conditions, the best choice would be to put that just outside the switch case.</p>\n<pre><code>   switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        break;\n    case &quot;b&quot;:\n        ...\n        break;\n    default: \n        ...\n    }\n{commmon things to be executed}\n</code></pre>\n<p>Ideally, <strong>default</strong> statement is to just execute when none of your cases match.</p>\n"}],"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76252752,"answer_count":3,"score":-1,"last_activity_date":1684220098,"creation_date":1684142816,"question_id":76252647,"body_markdown":"I have a switch where for particular cases I need to do some peculiar things but I still want them to pass through the default case of the switch statement because in there I have functionality that is common to all cases. How can I force the passage to the default case after I&#39;ve handled the peculiar one?\r\n\r\nExample:\r\n\r\n\t\tswitch(someVar) {\r\n\t\t\tcase &quot;a&quot;:\r\n\t\t\t\t....\r\n\t\t\t\t//do something peculiar for a \r\n\t\t\t\tbreak;\r\n\t\t\tcase &quot;b&quot;:\r\n\t\t\t\t...\r\n\t\t\t\t//do something peculiar for b\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: \r\n\t\t\t\t...\r\n\t\t\t\t//common things that all cases should do\r\n\t\t}\r\n\r\nAt the moment I&#39;ve just copy-pasted the lines inside the default at the bottom of each peculiar case but that&#39;s ugly.","title":"Force passage from default switch statement","body":"<p>I have a switch where for particular cases I need to do some peculiar things but I still want them to pass through the default case of the switch statement because in there I have functionality that is common to all cases. How can I force the passage to the default case after I've handled the peculiar one?</p>\n<p>Example:</p>\n<pre><code>    switch(someVar) {\n        case &quot;a&quot;:\n            ....\n            //do something peculiar for a \n            break;\n        case &quot;b&quot;:\n            ...\n            //do something peculiar for b\n            break;\n        default: \n            ...\n            //common things that all cases should do\n    }\n</code></pre>\n<p>At the moment I've just copy-pasted the lines inside the default at the bottom of each peculiar case but that's ugly.</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"score":2,"creation_date":1384594980,"post_id":20016932,"comment_id":29806487,"body_markdown":"I am sure you know how to write a java program , but you might have missed to note somehow that you are trying to nest another function in main()","body":"I am sure you know how to write a java program , but you might have missed to note somehow that you are trying to nest another function in main()"}],"answers":[{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384594974,"creation_date":1384594974,"answer_id":20016959,"question_id":20016932,"body_markdown":"Im not sure what you want, something like this?\r\n\r\n\r\n    package swords;\r\n    \r\n    public class Sword {\r\n    \r\n        public static int numberOfSwords = 0;\r\n    \r\n        public static void main(String[] args) {\r\n            newSword(&quot;Overpowered Sword&quot;, 1000000);\r\n        }\r\n    \r\n        public static void newSword(String nameSword, int damageSword) {\r\n            numberOfSwords++;\r\n        }\r\n    \r\n    }","title":"Java errors with creating function","body":"<p>Im not sure what you want, something like this?</p>\n\n<pre><code>package swords;\n\npublic class Sword {\n\n    public static int numberOfSwords = 0;\n\n    public static void main(String[] args) {\n        newSword(\"Overpowered Sword\", 1000000);\n    }\n\n    public static void newSword(String nameSword, int damageSword) {\n        numberOfSwords++;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2672373"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384597284,"creation_date":1384595367,"answer_id":20017013,"question_id":20016932,"body_markdown":"Perhaps this would help.\r\n\r\n    package swords;\r\n\r\n    class Sword {\r\n        private static int numberOfSwords = 0;\r\n\r\n        public static void main(String[] args) {\r\n            newSword(&quot;Overpowered Sword&quot;, 100);\r\n        }\r\n\r\n        public static void newSword(String nameSword, int damageSword) {\r\n            numberOfSwords++;\r\n        }\r\n    }\r\n\r\n**Note:**\r\n\r\nIt is a good practice to keep variables private and functions public. So that the public functions are the only possible way to access the variables, ensuring security.\r\n\r\nEnsure that you save the code as Sword.java in a folder swords","title":"Java errors with creating function","body":"<p>Perhaps this would help.</p>\n\n<pre><code>package swords;\n\nclass Sword {\n    private static int numberOfSwords = 0;\n\n    public static void main(String[] args) {\n        newSword(\"Overpowered Sword\", 100);\n    }\n\n    public static void newSword(String nameSword, int damageSword) {\n        numberOfSwords++;\n    }\n}\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>It is a good practice to keep variables private and functions public. So that the public functions are the only possible way to access the variables, ensuring security.</p>\n\n<p>Ensure that you save the code as Sword.java in a folder swords</p>\n"},{"tags":[],"owner":{"account_id":2589419,"reputation":1275,"user_id":2244438,"accept_rate":67,"display_name":"Choudhury Saadmaan Mahmid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419246075,"creation_date":1384596442,"answer_id":20017158,"question_id":20016932,"body_markdown":"There are mainly 2 problems with your code:\r\n\r\nFirstly, you are trying to pass a long value to an integer parameter of your function. \r\n\r\nNext, numberOfSwords is declared and initialized in main() method, so it&#39;s a local variable. You need to make it global in order to access it from your newSword() method.\r\n\r\nThe following code snippet works perfectly in my NetBeans IDE 7.3. I think this is going to work for you.\r\n\r\nHappy coding!!! :) :)\r\n\r\n \r\n    /*\r\n    * To change this template, choose Tools | Templates\r\n    * and open the template in the editor.\r\n    */\r\n    package sword;\r\n\r\n    /**\r\n    *\r\n    * @author Jack Sparrow\r\n    */\r\n    public class Sword {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     * \r\n     */\r\n    \r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n         newSword(&quot;Overpowered Sword&quot;,1000000); \r\n\r\n    }\r\n    \r\n    public static void newSword(String nameSword, long damageSword)\r\n        {\r\n            int numberOfSwords = 0;\r\n            if ((nameSword == (&quot;Overpowered Sword&quot;)) &amp;&amp; (damageSword == 1000000))\r\n            {\r\n                numberOfSwords++;\r\n                System.out.println(numberOfSwords);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Error!&quot;);\r\n            }\r\n        }\r\n    }","title":"Java errors with creating function","body":"<p>There are mainly 2 problems with your code:</p>\n\n<p>Firstly, you are trying to pass a long value to an integer parameter of your function. </p>\n\n<p>Next, numberOfSwords is declared and initialized in main() method, so it's a local variable. You need to make it global in order to access it from your newSword() method.</p>\n\n<p>The following code snippet works perfectly in my NetBeans IDE 7.3. I think this is going to work for you.</p>\n\n<p>Happy coding!!! :) :)</p>\n\n<pre><code>/*\n* To change this template, choose Tools | Templates\n* and open the template in the editor.\n*/\npackage sword;\n\n/**\n*\n* @author Jack Sparrow\n*/\npublic class Sword {\n\n/**\n * @param args the command line arguments\n * \n */\n\npublic static void main(String[] args) {\n    // TODO code application logic here\n     newSword(\"Overpowered Sword\",1000000); \n\n}\n\npublic static void newSword(String nameSword, long damageSword)\n    {\n        int numberOfSwords = 0;\n        if ((nameSword == (\"Overpowered Sword\")) &amp;&amp; (damageSword == 1000000))\n        {\n            numberOfSwords++;\n            System.out.println(numberOfSwords);\n        }\n        else\n        {\n            System.out.println(\"Error!\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2161903,"reputation":30360,"user_id":1915893,"display_name":"Aluan Haddad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684219997,"creation_date":1384598537,"answer_id":20017453,"question_id":20016932,"body_markdown":"Try this\r\n\r\nin Sword.Java\r\n\r\n    public class Sword{\r\n        public Sword(string name, int damage){\r\n            this.name = name;\r\n            this.damage = damage;\r\n            ++swordsCreated;\r\n        }\r\n        public string getName(){ return name; }\r\n        public int getDamage(){ return damage; }\r\n        \r\n        private string name;\r\n        private int damage;\r\n        \r\n        public static int getCountOfSwordsCreated(){ return countOfSwordsCreated; }\r\n        private static int countOfSwordsCreated;\r\n    }\r\n\r\n\r\nin Game.java\r\n\r\n    public class Game{\r\n        public static void main(string [] args)\r\n        {\r\n            Sword mySword = new Sword(&quot;Overpowered Sword&quot;, 1000000);\r\n\r\n            System.out.println(mySword.getName());\r\n        }\r\n    }\r\n\r\n\r\n    ","title":"Java errors with creating function","body":"<p>Try this</p>\n<p>in Sword.Java</p>\n<pre><code>public class Sword{\n    public Sword(string name, int damage){\n        this.name = name;\n        this.damage = damage;\n        ++swordsCreated;\n    }\n    public string getName(){ return name; }\n    public int getDamage(){ return damage; }\n    \n    private string name;\n    private int damage;\n    \n    public static int getCountOfSwordsCreated(){ return countOfSwordsCreated; }\n    private static int countOfSwordsCreated;\n}\n</code></pre>\n<p>in Game.java</p>\n<pre><code>public class Game{\n    public static void main(string [] args)\n    {\n        Sword mySword = new Sword(&quot;Overpowered Sword&quot;, 1000000);\n\n        System.out.println(mySword.getName());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2892880,"reputation":309,"user_id":2481237,"display_name":"user2481237"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384941884,"creation_date":1384941884,"answer_id":20092812,"question_id":20016932,"body_markdown":"Make sure your JAVA_HOME/JDK refers to valid path. When valid java not found than it gives java.lang related errors.","title":"Java errors with creating function","body":"<p>Make sure your JAVA_HOME/JDK refers to valid path. When valid java not found than it gives java.lang related errors.</p>\n"}],"owner":{"account_id":3593581,"reputation":363,"user_id":2998976,"accept_rate":80,"display_name":"ikhebgeenaccount"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1684219997,"creation_date":1384594757,"question_id":20016932,"body_markdown":"I have created a class which should create Swords, but I just get a bunch of errors...\r\n\r\n    package swords;\r\n\r\n    public class Sword {\r\n\t\r\n\tpublic static void main(String [ ] args){\r\n\t\t\r\n\t\tpublic int numberOfSwords=0;\r\n\t\t\r\n\t\tpublic static void newSword(String nameSword, int damageSword){\r\n\t\t\tnumberOfSwords++;\r\n\t\t\t\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\nI want to, when I type `newSword(Overpowered Sword, 1000000)`, increase the int `numberOfSwords` by one, the actual creation of the sword will come later :D\r\n\r\nBut I get a lot of errors:\r\n\r\nAt `package swords;`   - The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files.\r\n\r\nAt `public class Sword {`   - Implicit super constructor Object() is undefined for default constructor. Must define an explicit constructor\r\n\r\nAt `public static void main(String [ ] args){`   - String cannot be resolved to a type\r\n\r\nAt `public int numberOfSwords=0;`   - Illegal modifier for parameter numberOfSwords; only final is permitted\r\n\r\nAnd the final error at `public static void newSword(String nameSword, int damageSword){`   - Multiple markers at this line\r\n\t- Syntax error on token &quot;,&quot;, ; expected\r\n\t- Syntax error on token &quot;(&quot;, ; expected\r\n\t- void is an invalid type for the variable newSword\r\n\t- String cannot be resolved to a type\r\n\t- Syntax error on token &quot;)&quot;, ; expected\r\n\r\nI hope you can help me!\r\n\r\nEDIT: I&#39;m running Linux Mint, so I dont know if it could be something with my system, since I tried the given code, but get the same errors! I&#39;m investigating now ^ ^\r\n\r\nEDIT 2: I just ran a command which told me I didn&#39;t have a JDK installed, I think I found the problem :P I&#39;ll pay more attention to requirements in the future, sorry...\r\n\r\nEDIT 3: Apparently I do have a JDK installed, so I dont know anymore what the problem is... Suggestions are highly appreciated!","title":"Java errors with creating function","body":"<p>I have created a class which should create Swords, but I just get a bunch of errors...</p>\n\n<pre><code>package swords;\n\npublic class Sword {\n\npublic static void main(String [ ] args){\n\n    public int numberOfSwords=0;\n\n    public static void newSword(String nameSword, int damageSword){\n        numberOfSwords++;\n\n    }\n  }\n}\n</code></pre>\n\n<p>I want to, when I type <code>newSword(Overpowered Sword, 1000000)</code>, increase the int <code>numberOfSwords</code> by one, the actual creation of the sword will come later :D</p>\n\n<p>But I get a lot of errors:</p>\n\n<p>At <code>package swords;</code>   - The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files.</p>\n\n<p>At <code>public class Sword {</code>   - Implicit super constructor Object() is undefined for default constructor. Must define an explicit constructor</p>\n\n<p>At <code>public static void main(String [ ] args){</code>   - String cannot be resolved to a type</p>\n\n<p>At <code>public int numberOfSwords=0;</code>   - Illegal modifier for parameter numberOfSwords; only final is permitted</p>\n\n<p>And the final error at <code>public static void newSword(String nameSword, int damageSword){</code>   - Multiple markers at this line\n    - Syntax error on token \",\", ; expected\n    - Syntax error on token \"(\", ; expected\n    - void is an invalid type for the variable newSword\n    - String cannot be resolved to a type\n    - Syntax error on token \")\", ; expected</p>\n\n<p>I hope you can help me!</p>\n\n<p>EDIT: I'm running Linux Mint, so I dont know if it could be something with my system, since I tried the given code, but get the same errors! I'm investigating now ^ ^</p>\n\n<p>EDIT 2: I just ran a command which told me I didn't have a JDK installed, I think I found the problem :P I'll pay more attention to requirements in the future, sorry...</p>\n\n<p>EDIT 3: Apparently I do have a JDK installed, so I dont know anymore what the problem is... Suggestions are highly appreciated!</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":250937,"reputation":23604,"user_id":527968,"display_name":"Liviu T."},"score":0,"creation_date":1291823704,"post_id":4389232,"comment_id":4782846,"body_markdown":"can you give an example when you need to execute this code and in what context?","body":"can you give an example when you need to execute this code and in what context?"},{"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":0,"creation_date":1291823822,"post_id":4389232,"comment_id":4782877,"body_markdown":"possible duplicate of [Convert String to code in Java](http://stackoverflow.com/questions/935175/convert-string-to-code-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/935175/convert-string-to-code-in-java\">Convert String to code in Java</a>"},{"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":0,"creation_date":1291824591,"post_id":4389232,"comment_id":4783081,"body_markdown":"Ok, here is my complete method that is executed from main method of the java class -","body":"Ok, here is my complete method that is executed from main method of the java class -"},{"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":0,"creation_date":1291824672,"post_id":4389232,"comment_id":4783101,"body_markdown":"private void getResolution(int polishScreenHeight, int polishScreenWidth){\n\n\t\tif(polishScreenHeight &gt;= 200 &amp;&amp; polishScreenHeight &lt;= 235 &amp;&amp; polishScreenWidth &gt;= 220) {   System.out.println(&quot;&lt;root dir=resources/base/design/220w200h&quot;); }\n\t\telse {\n\t\t\tSystem.out.println(&quot;ROOT dir not found&quot;);\n\t\t}\n\t}","body":"private void getResolution(int polishScreenHeight, int polishScreenWidth){  \t\tif(polishScreenHeight &gt;= 200 &amp;&amp; polishScreenHeight &lt;= 235 &amp;&amp; polishScreenWidth &gt;= 220) {   System.out.println(&quot;&lt;root dir=resources/base/design/220w200h&quot;); } \t\telse { \t\t\tSystem.out.println(&quot;ROOT dir not found&quot;); \t\t} \t}"},{"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"score":0,"creation_date":1291824711,"post_id":4389232,"comment_id":4783109,"body_markdown":"Hope this helps, can I still use Beanshell?","body":"Hope this helps, can I still use Beanshell?"},{"owner":{"account_id":250937,"reputation":23604,"user_id":527968,"display_name":"Liviu T."},"score":0,"creation_date":1291826079,"post_id":4389232,"comment_id":4783453,"body_markdown":"Put the code in the body of the question please and can you post what you want the stringCode to actually do.","body":"Put the code in the body of the question please and can you post what you want the stringCode to actually do."}],"answers":[{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291822592,"creation_date":1291822592,"answer_id":4389262,"question_id":4389232,"body_markdown":"As far as I know there is no simple way to do this. \r\n\r\nHowever, in Java 6 onwards, you _can_ compile source code for complete classes using javax.tools.Compiler. The compiled classes can then be loaded and executed. But I don&#39;t think this will achieve what you want.\r\n","title":"Run piece of code contained in a String","body":"<p>As far as I know there is no simple way to do this. </p>\n\n<p>However, in Java 6 onwards, you <em>can</em> compile source code for complete classes using javax.tools.Compiler. The compiled classes can then be loaded and executed. But I don't think this will achieve what you want.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1291822691,"creation_date":1291822691,"answer_id":4389279,"question_id":4389232,"body_markdown":"Use BeanShell. There&#39;s a page on [how to use it from Java][1].\r\n\r\n\r\n  [1]: http://www.beanshell.org/manual/quickstart.html#Calling_BeanShell_From_Your_Application","title":"Run piece of code contained in a String","body":"<p>Use BeanShell. There's a page on <a href=\"http://www.beanshell.org/manual/quickstart.html#Calling_BeanShell_From_Your_Application\" rel=\"noreferrer\">how to use it from Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1538058957,"creation_date":1291822792,"answer_id":4389290,"question_id":4389232,"body_markdown":"As has already been suggested you can compile, save and run code on the fly using the [Compiler API][1].\r\n\r\nAnother neat alternative would be to use [beanshell][2]. Beanshell is no longer actively developed, but I can vouch for it&#39;s reliability, I&#39;ve used it successfully in multiple production projects.\r\n\r\n\r\n  [1]: https://javabeat.net/the-java-6-0-compiler-api/\r\n  [2]: http://www.beanshell.org/","title":"Run piece of code contained in a String","body":"<p>As has already been suggested you can compile, save and run code on the fly using the <a href=\"https://javabeat.net/the-java-6-0-compiler-api/\" rel=\"noreferrer\">Compiler API</a>.</p>\n\n<p>Another neat alternative would be to use <a href=\"http://www.beanshell.org/\" rel=\"noreferrer\">beanshell</a>. Beanshell is no longer actively developed, but I can vouch for it's reliability, I've used it successfully in multiple production projects.</p>\n"},{"tags":[],"owner":{"account_id":163632,"reputation":19367,"user_id":385897,"accept_rate":92,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291822918,"creation_date":1291822918,"answer_id":4389316,"question_id":4389232,"body_markdown":"Try the [JavaCompiler][1] API.\r\n\r\nSomeone else answered this way better than I could, though:\r\nhttps://stackoverflow.com/questions/935175/convert-string-to-code-in-java\r\n\r\nBe careful before actually using something like this...\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/tools/JavaCompiler.html","title":"Run piece of code contained in a String","body":"<p>Try the <a href=\"http://java.sun.com/javase/6/docs/api/javax/tools/JavaCompiler.html\" rel=\"nofollow noreferrer\">JavaCompiler</a> API.</p>\n\n<p>Someone else answered this way better than I could, though:\n<a href=\"https://stackoverflow.com/questions/935175/convert-string-to-code-in-java\">Convert String to Code</a></p>\n\n<p>Be careful before actually using something like this...</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291823089,"creation_date":1291823089,"answer_id":4389344,"question_id":4389232,"body_markdown":"Beanshell (as Boris suggested) is a way to &quot;execute&quot; java source code. But it looks like, you want to &quot;execute&quot; fragments that can interact with the compiled classes. Your example contains variabe names.\r\n\r\nReflection will definitly not help, because reflection targets classes (&quot;classfiles&quot;).\r\n\r\nYou *could* try to define a complete class (&quot;valid java source file&quot;), compile it and load it (url classloader). Then you should be able to use the methods from that &quot;live generated class&quot;. But once a class is loaded, you can&#39;t get rid of it (unload), so this will work only once (AFAIK).","title":"Run piece of code contained in a String","body":"<p>Beanshell (as Boris suggested) is a way to \"execute\" java source code. But it looks like, you want to \"execute\" fragments that can interact with the compiled classes. Your example contains variabe names.</p>\n\n<p>Reflection will definitly not help, because reflection targets classes (\"classfiles\").</p>\n\n<p>You <em>could</em> try to define a complete class (\"valid java source file\"), compile it and load it (url classloader). Then you should be able to use the methods from that \"live generated class\". But once a class is loaded, you can't get rid of it (unload), so this will work only once (AFAIK).</p>\n"},{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291825080,"creation_date":1291825080,"answer_id":4389688,"question_id":4389232,"body_markdown":"Another way would be to execute your code as Groovy code, see [this][1] for an example.\r\n\r\n\r\n  [1]: http://groovy.codehaus.org/Embedding+Groovy","title":"Run piece of code contained in a String","body":"<p>Another way would be to execute your code as Groovy code, see <a href=\"http://groovy.codehaus.org/Embedding+Groovy\" rel=\"nofollow\">this</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":5590175,"reputation":535,"user_id":4429637,"display_name":"Lasitha Lakmal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1538389995,"creation_date":1420649258,"answer_id":27824333,"question_id":4389232,"body_markdown":"you can use this code to run method from using this code\r\n``new Statement(Object target, String methodName, Object[] arguments).execute();``\r\n\r\n    import java.beans.Statement;\r\n\r\n    public class HelloWorld {\r\n\r\n      public void method_name(String name) {\r\n          System.out.println(name);\r\n      }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n          HelloWorld h = new HelloWorld();\r\n          new Statement(h, &quot;method_name&quot;, new Object[]{&quot;Hello world&quot;}).execute();\r\n      }\r\n     }","title":"Run piece of code contained in a String","body":"<p>you can use this code to run method from using this code\n<code>new Statement(Object target, String methodName, Object[] arguments).execute();</code></p>\n\n<pre><code>import java.beans.Statement;\n\npublic class HelloWorld {\n\n  public void method_name(String name) {\n      System.out.println(name);\n  }\n\n  public static void main(String[] args) throws Exception {\n      HelloWorld h = new HelloWorld();\n      new Statement(h, \"method_name\", new Object[]{\"Hello world\"}).execute();\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535438587,"creation_date":1535438587,"answer_id":52051622,"question_id":4389232,"body_markdown":"It is not Java, but as [pgras][1] has already suggested you could use GrooyScript like so :\r\n\r\n        Binding binding = new Binding();\r\n        GroovyShell shell = new GroovyShell(binding);\r\n        \r\n        String[] strings = new String[]{&quot;World&quot;, &quot;Groovy&quot;};\r\n        shell.setVariable(&quot;args&quot;, strings);\r\n        \r\n        String script = &quot;return \\&quot;Hello \\&quot; + args[1]&quot;;\r\n        String value = (String) shell.evaluate(script);\r\n        System.out.println(value); // Hello Groovy\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/12719/pgras","title":"Run piece of code contained in a String","body":"<p>It is not Java, but as <a href=\"https://stackoverflow.com/users/12719/pgras\">pgras</a> has already suggested you could use GrooyScript like so :</p>\n\n<pre><code>    Binding binding = new Binding();\n    GroovyShell shell = new GroovyShell(binding);\n\n    String[] strings = new String[]{\"World\", \"Groovy\"};\n    shell.setVariable(\"args\", strings);\n\n    String script = \"return \\\"Hello \\\" + args[1]\";\n    String value = (String) shell.evaluate(script);\n    System.out.println(value); // Hello Groovy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6329168,"reputation":1847,"user_id":4914577,"display_name":"Peru"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1586397222,"creation_date":1585360379,"answer_id":60896380,"question_id":4389232,"body_markdown":"1. Please reevaluate your design and this should be your last alternative.\r\n2. You should validate the sanity of the String which will be executed to avoid future injection attack.\r\n\r\nNow If you can have the String as **JavaScript** then below code should help,  \r\n\r\n    public class EvalScript {\r\n\t\r\n\t\t    public static void main(String[] args) throws Exception {\r\n\t\t        // create a script engine manager\r\n\t\t        ScriptEngineManager factory = new ScriptEngineManager();\r\n\t\t        // create a JavaScript engine\r\n\t\t        ScriptEngine engine = factory.getEngineByName(&quot;JavaScript&quot;);\r\n\r\n\t\t        // below JS function is executed.\r\n\t\t        /*\r\n\t\t         * student object value will be provided by the program as the JSON String.\r\n\t\t\t\tfunction checkStudentElgibility(student){\r\n\t\t\t\t  if(student.age &gt;= 10 &amp;&amp; student.currentGrade &gt;= 5){\r\n\t\t\t\t    return true;\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\t// student object value will be provided by the program as the JSON String\r\n\t\t\t\t\r\n\t\t\t\tcheckStudentElgibility(student);\r\n\t\t        */\r\n\t\t        \r\n\t\t        String studentJsonString = &quot;{\\n&quot; + \r\n\t\t        \t\t&quot;  \\&quot;age\\&quot; : 10,\\n&quot; + \r\n\t\t        \t\t&quot;  \\&quot;currentGrade\\&quot; : 5\\n&quot; + \r\n\t\t        \t\t&quot;}&quot;;\r\n\t\t        String javaScriptFunctionString = &quot;function checkStudentElgibility(student){\\n&quot; + \r\n\t\t        \t\t&quot;  if(student.age &gt;= 10 &amp;&amp; student.currentGrade &gt;= 5){\\n&quot; + \r\n\t\t        \t\t&quot;    return true;\\n&quot; + \r\n\t\t        \t\t&quot;  }\\n&quot; + \r\n\t\t        \t\t&quot;}\\n&quot; + \r\n\t\t        \t\t&quot;checkStudentElgibility(student);&quot;;\r\n\t\t        \r\n\t\t        StringBuilder javaScriptString = new StringBuilder();\r\n\t\t        javaScriptString.append(&quot;student=&quot;);\r\n\t\t\t        javaScriptString.append(studentJsonString);\r\n\t\t        javaScriptString.append(&quot;\\n&quot;);\r\n\t\t        javaScriptString.append(javaScriptFunctionString);\r\n\t\t        \r\n\t\t       Object object = engine.eval(javaScriptString.toString());\r\n\t\t  \r\n\t\t       System.out.println(object);\r\n\r\n               // You can also pass the object as follows,\r\n\r\n               // evaluate JavaScript code that defines an object with one method\r\n                engine.eval(&quot;var obj = new Object()&quot;);\r\n                engine.eval(&quot;obj.hello = function(name) { print(&#39;Hello, &#39; + name) \r\n                  }&quot;);\r\n\r\n               // expose object defined in the script to the Java application\r\n                 Object obj = engine.get(&quot;obj&quot;);\r\n\r\n             // create an Invocable object by casting the script engine object\r\n                Invocable inv = (Invocable) engine;\r\n\r\n          // invoke the method named &quot;hello&quot; on the object defined in the\r\n         // in js Object with &quot;Script Method&quot; as parameter \r\n             \r\n                   inv.invokeMethod(obj, &quot;hello&quot;, &quot;Script Method!&quot;);\r\n\r\n\r\n\r\n\r\n\r\n        // You can also use Java Objects as Java script object and you can also pass Objects as reference inside Java script function\r\n\r\n\r\n                  \t\t        String jsString = &quot;    var obj = new Object()\\n&quot; + \r\n    \t\t        \t\t&quot;    var ArrayList = Java.type(\\&quot;java.util.ArrayList\\&quot;);\\n&quot; +\r\n    \t\t        \t\t&quot;    var customSizeArrayList = new ArrayList(16);\\n&quot; + \r\n    \t\t        \t\t&quot;    obj.hello = function(name) { \\n&quot; + \r\n    \t\t        \t\t&quot;       customSizeArrayList(name);\t\\n&quot; + \r\n    \t\t        \t\t&quot;       print(&#39;Hello, &#39; + name) \\n&quot; + \r\n    \t\t        \t\t&quot;    }&quot;;\r\n    \t\t    }\r\n    \t\t    \r\n    \t    \r\n    }\r\n\r\n     \r\n\r\n\r\n\r\nReference :\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/scripting/prog_guide/javascript.html#A1147187\r\n\r\n\r\n","title":"Run piece of code contained in a String","body":"<ol>\n<li>Please reevaluate your design and this should be your last alternative.</li>\n<li>You should validate the sanity of the String which will be executed to avoid future injection attack.</li>\n</ol>\n\n<p>Now If you can have the String as <strong>JavaScript</strong> then below code should help,  </p>\n\n<pre><code>public class EvalScript {\n\n        public static void main(String[] args) throws Exception {\n            // create a script engine manager\n            ScriptEngineManager factory = new ScriptEngineManager();\n            // create a JavaScript engine\n            ScriptEngine engine = factory.getEngineByName(\"JavaScript\");\n\n            // below JS function is executed.\n            /*\n             * student object value will be provided by the program as the JSON String.\n            function checkStudentElgibility(student){\n              if(student.age &gt;= 10 &amp;&amp; student.currentGrade &gt;= 5){\n                return true;\n              }\n            }\n            // student object value will be provided by the program as the JSON String\n\n            checkStudentElgibility(student);\n            */\n\n            String studentJsonString = \"{\\n\" + \n                    \"  \\\"age\\\" : 10,\\n\" + \n                    \"  \\\"currentGrade\\\" : 5\\n\" + \n                    \"}\";\n            String javaScriptFunctionString = \"function checkStudentElgibility(student){\\n\" + \n                    \"  if(student.age &gt;= 10 &amp;&amp; student.currentGrade &gt;= 5){\\n\" + \n                    \"    return true;\\n\" + \n                    \"  }\\n\" + \n                    \"}\\n\" + \n                    \"checkStudentElgibility(student);\";\n\n            StringBuilder javaScriptString = new StringBuilder();\n            javaScriptString.append(\"student=\");\n                javaScriptString.append(studentJsonString);\n            javaScriptString.append(\"\\n\");\n            javaScriptString.append(javaScriptFunctionString);\n\n           Object object = engine.eval(javaScriptString.toString());\n\n           System.out.println(object);\n\n           // You can also pass the object as follows,\n\n           // evaluate JavaScript code that defines an object with one method\n            engine.eval(\"var obj = new Object()\");\n            engine.eval(\"obj.hello = function(name) { print('Hello, ' + name) \n              }\");\n\n           // expose object defined in the script to the Java application\n             Object obj = engine.get(\"obj\");\n\n         // create an Invocable object by casting the script engine object\n            Invocable inv = (Invocable) engine;\n\n      // invoke the method named \"hello\" on the object defined in the\n     // in js Object with \"Script Method\" as parameter \n\n               inv.invokeMethod(obj, \"hello\", \"Script Method!\");\n\n\n\n\n\n    // You can also use Java Objects as Java script object and you can also pass Objects as reference inside Java script function\n\n\n                            String jsString = \"    var obj = new Object()\\n\" + \n                        \"    var ArrayList = Java.type(\\\"java.util.ArrayList\\\");\\n\" +\n                        \"    var customSizeArrayList = new ArrayList(16);\\n\" + \n                        \"    obj.hello = function(name) { \\n\" + \n                        \"       customSizeArrayList(name);  \\n\" + \n                        \"       print('Hello, ' + name) \\n\" + \n                        \"    }\";\n            }\n\n\n}\n</code></pre>\n\n<p>Reference :\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/prog_guide/javascript.html#A1147187\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/prog_guide/javascript.html#A1147187</a></p>\n"},{"tags":[],"owner":{"account_id":7016963,"reputation":453,"user_id":5377961,"display_name":"rjahn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684219453,"creation_date":1684219453,"answer_id":76260044,"question_id":4389232,"body_markdown":"You could try ``SimpleJavaSource`` class of JVx framework. There&#39;s a test case in the project repository which contains something like this.\r\n\r\n    SimpleJavaSource js = new SimpleJavaSource();\r\n    \r\n    js.executeScript(&quot;import java.lang.String;&quot; +\r\n            &quot;strT = new String(\\&quot;true\\&quot;);&quot; +\r\n            &quot;strF = new String(\\&quot;false\\&quot;);&quot; +\r\n            &quot;System.out.println(1 == 1 ? strT : strF);&quot; +\r\n            &quot;System.out.println(1 == 2 ? strT : strF);&quot; +\r\n            &quot;if (1 == 2)&quot; +\r\n            &quot;{&quot; +\r\n            &quot;  System.out.println(\\&quot;equal\\&quot;);&quot; +\r\n            &quot;}&quot; +\r\n            &quot;else&quot; +\r\n            &quot;{&quot; +\r\n            &quot;  System.out.println(\\&quot;different\\&quot;);&quot; +\r\n            &quot;}&quot; +\r\n            &quot;if (1 == 1)&quot; +\r\n            &quot;{&quot; +\r\n            &quot;  System.out.println(\\&quot;equal\\&quot;);&quot; +\r\n            &quot;}&quot; +\r\n            &quot;else&quot; +\r\n            &quot;{&quot; +\r\n            &quot;  System.out.println(\\&quot;different\\&quot;);&quot; +\r\n            &quot;}&quot; +\r\n            &quot;i = 0;&quot; +\r\n            &quot;while (i &lt; 10)&quot; +\r\n            &quot;{&quot; +\r\n            &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\r\n            &quot;  i++;&quot; +\r\n            &quot;}&quot; +\r\n            &quot;i = 0;&quot; +\r\n            &quot;do&quot; +\r\n            &quot;{&quot; +\r\n            &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\r\n            &quot;  i++;&quot; +\r\n            &quot;}&quot; +\r\n            &quot;while (i &lt; 10);&quot; +\r\n            &quot;for (int i = 0, size = 10; i &lt; size; i++)&quot; +\r\n            &quot;{&quot; +\r\n            &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\r\n            &quot;}&quot; +\r\n            &quot;System.out.println(\\&quot;END\\&quot;);&quot;\r\n            );","title":"Run piece of code contained in a String","body":"<p>You could try <code>SimpleJavaSource</code> class of JVx framework. There's a test case in the project repository which contains something like this.</p>\n<pre><code>SimpleJavaSource js = new SimpleJavaSource();\n\njs.executeScript(&quot;import java.lang.String;&quot; +\n        &quot;strT = new String(\\&quot;true\\&quot;);&quot; +\n        &quot;strF = new String(\\&quot;false\\&quot;);&quot; +\n        &quot;System.out.println(1 == 1 ? strT : strF);&quot; +\n        &quot;System.out.println(1 == 2 ? strT : strF);&quot; +\n        &quot;if (1 == 2)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;equal\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;else&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;different\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;if (1 == 1)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;equal\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;else&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;different\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;i = 0;&quot; +\n        &quot;while (i &lt; 10)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\n        &quot;  i++;&quot; +\n        &quot;}&quot; +\n        &quot;i = 0;&quot; +\n        &quot;do&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\n        &quot;  i++;&quot; +\n        &quot;}&quot; +\n        &quot;while (i &lt; 10);&quot; +\n        &quot;for (int i = 0, size = 10; i &lt; size; i++)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\n        &quot;}&quot; +\n        &quot;System.out.println(\\&quot;END\\&quot;);&quot;\n        );\n</code></pre>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64266,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":4389290,"answer_count":10,"score":57,"last_activity_date":1684219453,"creation_date":1291822430,"question_id":4389232,"body_markdown":"I have a piece of Java code in a String. \r\n\r\n    String javaCode = &quot;if(polishScreenHeight &gt;= 200 &amp;&amp; &quot; +\r\n        &quot;polishScreenHeight &lt;= 235 &amp;&amp; polishScreenWidth &gt;= 220) { }&quot;;\r\n\r\nIs it possible to convert this Java String to a Java statement and run it?  Possibly using Java reflection?\r\n","title":"Run piece of code contained in a String","body":"<p>I have a piece of Java code in a String. </p>\n\n<pre><code>String javaCode = \"if(polishScreenHeight &gt;= 200 &amp;&amp; \" +\n    \"polishScreenHeight &lt;= 235 &amp;&amp; polishScreenWidth &gt;= 220) { }\";\n</code></pre>\n\n<p>Is it possible to convert this Java String to a Java statement and run it?  Possibly using Java reflection?</p>\n"},{"tags":["java","oracle","glassfish"],"owner":{"account_id":28609621,"reputation":1,"user_id":21904828,"display_name":"JAVA CODER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684219036,"creation_date":1684210726,"question_id":76259370,"body_markdown":"This error message is come from when running a jasper report more than around 15 minute will show.\r\nI am using :\r\n\r\n    Glassfish 5.0\r\n    JAVA 8\r\n    Oracle Database\r\n\r\n```\r\nnet.sf.jasperreports.engine.JRException: Unable to get next record from result set.\r\nCaused by: java.sql.SQLRecoverableException: IO Error: Socket read timed out\r\nCaused by: java.net.SocketTimeoutException: Socket read timed out\r\n```\r\n\r\nAnybody can to resolve either set in glassfish or change in java code.\r\nI have apllied `conn.setNetworkTimeout(executor, 3600000)` in code but not seem to work","title":"Unable to get next record from result set. IO Error: Socket read timed out","body":"<p>This error message is come from when running a jasper report more than around 15 minute will show.\nI am using :</p>\n<pre><code>Glassfish 5.0\nJAVA 8\nOracle Database\n</code></pre>\n<pre><code>net.sf.jasperreports.engine.JRException: Unable to get next record from result set.\nCaused by: java.sql.SQLRecoverableException: IO Error: Socket read timed out\nCaused by: java.net.SocketTimeoutException: Socket read timed out\n</code></pre>\n<p>Anybody can to resolve either set in glassfish or change in java code.\nI have apllied <code>conn.setNetworkTimeout(executor, 3600000)</code> in code but not seem to work</p>\n"},{"tags":["java","openid-connect","java-ee-8","pac4j"],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684217375,"creation_date":1684217375,"answer_id":76259846,"question_id":76258140,"body_markdown":"1. Yes, you can have almost as many `OidcClient`s as you want. These clients are gathered in the `Clients` component which has been designed to support a lot of clients.\r\n2. You should not create an `OidcClient` on the fly, but at the startup if this is possible. You&#39;ll get better performance.\r\n3. You should not create a `ForceLoginFilter`, but re-use the existing `SecurityFilter` and set a custom `ClientFinder` to replace the `DefaultSecurityClientFinder`: this `CustomSecurityClientFinder` would return the client based on the `X-TENANT-ID` HTTP header.\r\n","title":"Implementing multi-tenant authentication with Pac4J and OpenID Connect in JavaEE","body":"<ol>\n<li>Yes, you can have almost as many <code>OidcClient</code>s as you want. These clients are gathered in the <code>Clients</code> component which has been designed to support a lot of clients.</li>\n<li>You should not create an <code>OidcClient</code> on the fly, but at the startup if this is possible. You'll get better performance.</li>\n<li>You should not create a <code>ForceLoginFilter</code>, but re-use the existing <code>SecurityFilter</code> and set a custom <code>ClientFinder</code> to replace the <code>DefaultSecurityClientFinder</code>: this <code>CustomSecurityClientFinder</code> would return the client based on the <code>X-TENANT-ID</code> HTTP header.</li>\n</ol>\n"}],"owner":{"account_id":14997010,"reputation":13,"user_id":11356966,"display_name":"finwes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76259846,"answer_count":1,"score":0,"last_activity_date":1684217375,"creation_date":1684187548,"question_id":76258140,"body_markdown":"I am currently working on implementing a multi-tenant application in JavaEE, where I am using [Pac4J](https://www.pac4j.org/index.html) as the authentication framework and an OpenID Connect Identity provider. Each tenant in my application is identified by a unique identifier provided in the HTTP Header `X-TENANT-ID`. My goal is to authenticate users based on this tenant ID using Pac4J.\r\n\r\nAfter doing some research, I believe I have come up with a possible approach, but I would like to gather some feedback and suggestions from the community. My plan is to generate a separate [OidcClient](https://github.com/pac4j/pac4j/blob/master/pac4j-oidc/src/main/java/org/pac4j/oidc/client/OidcClient.java) for each tenant and then dynamically select the appropriate client based on the tenant ID extracted from the HTTP Header. However, this approach would result in loading around 100 to 200 clients.\r\nThe corresponding ForceLoginFilter would look like this:\r\n\r\n```java\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.FilterConfig;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.pac4j.core.client.Client;\r\nimport org.pac4j.core.context.CallContext;\r\nimport org.pac4j.core.exception.TechnicalException;\r\nimport org.pac4j.core.exception.http.HttpAction;\r\nimport org.pac4j.jee.config.AbstractConfigFilter;\r\nimport org.pac4j.jee.context.JEEContext;\r\nimport org.pac4j.jee.context.session.JEESessionStore;\r\nimport org.pac4j.jee.http.adapter.JEEHttpActionAdapter;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ForceLoginFilter extends AbstractConfigFilter {\r\n\r\n    @Override\r\n    public void init(final FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    protected void internalFilter(final HttpServletRequest request, final HttpServletResponse response,\r\n                                  final FilterChain chain) throws IOException, ServletException {\r\n\r\n        final JEEContext context = new JEEContext(request, response);\r\n        HttpAction action;\r\n        try {\r\n            final String tenantId = context.getRequestHeader(&quot;X-TENANT-ID&quot;).orElseThrow(() -&gt; new TechnicalException(&quot;No tenant provided&quot;));\r\n            final Client client = getSharedConfig().getClients().findClient(tenantId).orElseThrow(() -&gt; new TechnicalException(&quot;No client found&quot;));\r\n            action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\r\n        } catch (final HttpAction e) {\r\n            action = e;\r\n        }\r\n        JEEHttpActionAdapter.INSTANCE.adapt(action, context);\r\n    }\r\n}\r\n```\r\n\r\nAnother option would be to generate such an OidcClient on the fly. Like this:\r\n\r\n```java\r\npublic class ForceLoginFilter extends AbstractConfigFilter {\r\n\r\n    /**\r\n     * The OIDC configuration would be placed in an external file, but for the sake of simplicity, it is hardcoded here.\r\n     */\r\n    final KeycloakOidcConfiguration configuration;\r\n    public ModiefiedForceLoginFilter() {\r\n        configuration = new KeycloakOidcConfiguration();\r\n        configuration.setClientId(&quot;client&quot;);\r\n        configuration.setBaseUri(&quot;http://localhost:8080&quot;);\r\n        configuration.setSecret(&quot;secret&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void init(final FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n    @Override\r\n    protected void internalFilter(final HttpServletRequest request, final HttpServletResponse response,\r\n                                  final FilterChain chain) throws IOException, ServletException {\r\n\r\n        final JEEContext context = new JEEContext(request, response);\r\n        HttpAction action;\r\n        try {\r\n            final String tenantId = context.getRequestHeader(&quot;X-TENANT-ID&quot;).orElseThrow(() -&gt; new TechnicalException(&quot;No tenant provided&quot;));\r\n            final Client client = new OidcClient(configuration.withRealm(tenantId));\r\n            action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\r\n        } catch (final HttpAction e) {\r\n            action = e;\r\n        }\r\n        JEEHttpActionAdapter.INSTANCE.adapt(action, context);\r\n    }\r\n}\r\n```\r\n\r\nHere are my specific questions:\r\n\r\n1. Is generating a separate OpenIDConnectClient for each tenant a feasible approach in terms of performance and scalability?\r\n2. Are there any best practices or alternative solutions for implementing multi-tenant authentication with Pac4J and OpenID Connect in JavaEE?\r\n3. Is there a better way to handle the tenant identification process, such as using a different Pac4J feature or a custom implementation? I would appreciate any insights or examples related to this aspect.","title":"Implementing multi-tenant authentication with Pac4J and OpenID Connect in JavaEE","body":"<p>I am currently working on implementing a multi-tenant application in JavaEE, where I am using <a href=\"https://www.pac4j.org/index.html\" rel=\"nofollow noreferrer\">Pac4J</a> as the authentication framework and an OpenID Connect Identity provider. Each tenant in my application is identified by a unique identifier provided in the HTTP Header <code>X-TENANT-ID</code>. My goal is to authenticate users based on this tenant ID using Pac4J.</p>\n<p>After doing some research, I believe I have come up with a possible approach, but I would like to gather some feedback and suggestions from the community. My plan is to generate a separate <a href=\"https://github.com/pac4j/pac4j/blob/master/pac4j-oidc/src/main/java/org/pac4j/oidc/client/OidcClient.java\" rel=\"nofollow noreferrer\">OidcClient</a> for each tenant and then dynamically select the appropriate client based on the tenant ID extracted from the HTTP Header. However, this approach would result in loading around 100 to 200 clients.\nThe corresponding ForceLoginFilter would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.FilterChain;\nimport jakarta.servlet.FilterConfig;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.pac4j.core.client.Client;\nimport org.pac4j.core.context.CallContext;\nimport org.pac4j.core.exception.TechnicalException;\nimport org.pac4j.core.exception.http.HttpAction;\nimport org.pac4j.jee.config.AbstractConfigFilter;\nimport org.pac4j.jee.context.JEEContext;\nimport org.pac4j.jee.context.session.JEESessionStore;\nimport org.pac4j.jee.http.adapter.JEEHttpActionAdapter;\n\nimport java.io.IOException;\n\npublic class ForceLoginFilter extends AbstractConfigFilter {\n\n    @Override\n    public void init(final FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    protected void internalFilter(final HttpServletRequest request, final HttpServletResponse response,\n                                  final FilterChain chain) throws IOException, ServletException {\n\n        final JEEContext context = new JEEContext(request, response);\n        HttpAction action;\n        try {\n            final String tenantId = context.getRequestHeader(&quot;X-TENANT-ID&quot;).orElseThrow(() -&gt; new TechnicalException(&quot;No tenant provided&quot;));\n            final Client client = getSharedConfig().getClients().findClient(tenantId).orElseThrow(() -&gt; new TechnicalException(&quot;No client found&quot;));\n            action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\n        } catch (final HttpAction e) {\n            action = e;\n        }\n        JEEHttpActionAdapter.INSTANCE.adapt(action, context);\n    }\n}\n</code></pre>\n<p>Another option would be to generate such an OidcClient on the fly. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ForceLoginFilter extends AbstractConfigFilter {\n\n    /**\n     * The OIDC configuration would be placed in an external file, but for the sake of simplicity, it is hardcoded here.\n     */\n    final KeycloakOidcConfiguration configuration;\n    public ModiefiedForceLoginFilter() {\n        configuration = new KeycloakOidcConfiguration();\n        configuration.setClientId(&quot;client&quot;);\n        configuration.setBaseUri(&quot;http://localhost:8080&quot;);\n        configuration.setSecret(&quot;secret&quot;);\n    }\n\n\n    @Override\n    public void init(final FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    protected void internalFilter(final HttpServletRequest request, final HttpServletResponse response,\n                                  final FilterChain chain) throws IOException, ServletException {\n\n        final JEEContext context = new JEEContext(request, response);\n        HttpAction action;\n        try {\n            final String tenantId = context.getRequestHeader(&quot;X-TENANT-ID&quot;).orElseThrow(() -&gt; new TechnicalException(&quot;No tenant provided&quot;));\n            final Client client = new OidcClient(configuration.withRealm(tenantId));\n            action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\n        } catch (final HttpAction e) {\n            action = e;\n        }\n        JEEHttpActionAdapter.INSTANCE.adapt(action, context);\n    }\n}\n</code></pre>\n<p>Here are my specific questions:</p>\n<ol>\n<li>Is generating a separate OpenIDConnectClient for each tenant a feasible approach in terms of performance and scalability?</li>\n<li>Are there any best practices or alternative solutions for implementing multi-tenant authentication with Pac4J and OpenID Connect in JavaEE?</li>\n<li>Is there a better way to handle the tenant identification process, such as using a different Pac4J feature or a custom implementation? I would appreciate any insights or examples related to this aspect.</li>\n</ol>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":9246854,"reputation":947,"user_id":6868453,"display_name":"JayKrish"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1487165063,"creation_date":1487165063,"answer_id":42250646,"question_id":42250215,"body_markdown":"You can try this:\r\n\r\n    MongoClient client = new MongoClient(&quot;host&quot;);\r\n    MongoCollection source = client.getDatabase(&quot;db&quot;).getCollection(&quot;source&quot;);    \r\n    source.aggregate(Arrays.asList(out(&quot;&lt;OutputcollectionName&gt;&quot;)));\r\n\r\nuse the following import statement:\r\n\r\n     import static com.mongodb.client.model.Aggregates.*;\r\n\r\n","title":"How to copy a mongodb collection with the java driver (v3.4)","body":"<p>You can try this:</p>\n\n<pre><code>MongoClient client = new MongoClient(\"host\");\nMongoCollection source = client.getDatabase(\"db\").getCollection(\"source\");    \nsource.aggregate(Arrays.asList(out(\"&lt;OutputcollectionName&gt;\")));\n</code></pre>\n\n<p>use the following import statement:</p>\n\n<pre><code> import static com.mongodb.client.model.Aggregates.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18587028,"reputation":21,"user_id":13545144,"display_name":"Supreet ST"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589498048,"creation_date":1589498048,"answer_id":61809010,"question_id":42250215,"body_markdown":"Add .toCollection() .. that should work without noOps block\r\n","title":"How to copy a mongodb collection with the java driver (v3.4)","body":"<p>Add .toCollection() .. that should work without noOps block</p>\n"},{"tags":[],"owner":{"account_id":14979268,"reputation":1,"user_id":10813722,"display_name":"Xushipeng"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684217221,"creation_date":1684217184,"answer_id":76259831,"question_id":42250215,"body_markdown":"    source.aggregate(Arrays.asList(out(&quot;&lt;OutputcollectionName&gt;&quot;))).toCollection();","title":"How to copy a mongodb collection with the java driver (v3.4)","body":"<pre><code>source.aggregate(Arrays.asList(out(&quot;&lt;OutputcollectionName&gt;&quot;))).toCollection();\n</code></pre>\n"}],"owner":{"account_id":4304114,"reputation":4450,"user_id":3517025,"accept_rate":73,"display_name":"Joey Baruch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42250646,"answer_count":3,"score":1,"last_activity_date":1684217221,"creation_date":1487163865,"question_id":42250215,"body_markdown":"I&#39;m trying to copy an existing collection to a new collection within the same database, emulating the behavior of running `db.source.aggregate({&quot;$out&quot;:&quot;target&quot;});` in the shell.\r\n\r\nOn older versions of mongodb and the java driver, it was possible to do (as seen [here](https://stackoverflow.com/questions/16164413/mongodb-copy-collection-in-java-without-looping-all-items)):\r\n\r\n    // set up pipeline\r\n    List&lt;DBObject&gt; ops = new ArrayList&lt;DBObject&gt;();\r\n    ops.add(new BasicDBObject(&quot;$out&quot;, &quot;target&quot;)); // writes to collection &quot;target&quot;\r\n    \r\n    // run it\r\n    MongoClient client = new MongoClient(&quot;host&quot;);\r\n    DBCollection source = client.getDB(&quot;db&quot;).getCollection(&quot;source&quot;)\r\n    source.aggregate(ops);\r\n\r\nbut since mongo 3.0.0, [the writers are moving away from](https://stackoverflow.com/questions/29364787/mongocollection-versus-dbcollection-java) `DBCollection` and onto `MongoCollection` and others that don&#39;t have the same functionalities, specifically for `.aggregate(List&lt;DBObject&gt;)`.\r\n\r\nI&#39;ve tried the following options, none of which had any effect:\r\n\r\n    List&lt;Bson&gt; ops = new ArrayList&lt;&gt;();\r\n    ops.add(new BasicDBObject(&quot;$out&quot;, &quot;target&quot;));\r\n    //OR\r\n    ops.add(new Document(&quot;$out&quot;, &quot;target&quot;)); //not at the same time as above\r\n\r\n    MongoClient client = new MongoClient(&quot;host&quot;);\r\n    MongoCollection source = client.getDatabase(&quot;db&quot;).getCollection(&quot;source&quot;);\r\n    source.aggregate(ops);\r\n\r\nSadly, I don&#39;t understand aggregate operations well enough to figure this out.\r\n\r\nIs there any similar way to do this with the java driver and mongo 3.4?  \r\nAre there any other ways that&#39;ll cause the copy serverside?\r\n\r\nThanks","title":"How to copy a mongodb collection with the java driver (v3.4)","body":"<p>I'm trying to copy an existing collection to a new collection within the same database, emulating the behavior of running <code>db.source.aggregate({\"$out\":\"target\"});</code> in the shell.</p>\n\n<p>On older versions of mongodb and the java driver, it was possible to do (as seen <a href=\"https://stackoverflow.com/questions/16164413/mongodb-copy-collection-in-java-without-looping-all-items\">here</a>):</p>\n\n<pre><code>// set up pipeline\nList&lt;DBObject&gt; ops = new ArrayList&lt;DBObject&gt;();\nops.add(new BasicDBObject(\"$out\", \"target\")); // writes to collection \"target\"\n\n// run it\nMongoClient client = new MongoClient(\"host\");\nDBCollection source = client.getDB(\"db\").getCollection(\"source\")\nsource.aggregate(ops);\n</code></pre>\n\n<p>but since mongo 3.0.0, <a href=\"https://stackoverflow.com/questions/29364787/mongocollection-versus-dbcollection-java\">the writers are moving away from</a> <code>DBCollection</code> and onto <code>MongoCollection</code> and others that don't have the same functionalities, specifically for <code>.aggregate(List&lt;DBObject&gt;)</code>.</p>\n\n<p>I've tried the following options, none of which had any effect:</p>\n\n<pre><code>List&lt;Bson&gt; ops = new ArrayList&lt;&gt;();\nops.add(new BasicDBObject(\"$out\", \"target\"));\n//OR\nops.add(new Document(\"$out\", \"target\")); //not at the same time as above\n\nMongoClient client = new MongoClient(\"host\");\nMongoCollection source = client.getDatabase(\"db\").getCollection(\"source\");\nsource.aggregate(ops);\n</code></pre>\n\n<p>Sadly, I don't understand aggregate operations well enough to figure this out.</p>\n\n<p>Is there any similar way to do this with the java driver and mongo 3.4?<br>\nAre there any other ways that'll cause the copy serverside?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","microservices"],"comments":[{"owner":{"account_id":3528543,"reputation":1924,"user_id":2948891,"display_name":"taleodor"},"score":1,"creation_date":1683430574,"post_id":76189515,"comment_id":134364663,"body_markdown":"That&#39;s one of the hardest problems with microservices. Do some research on transactions and transaction management. Other than that - easiest you can do - capture run id for user request and have user poll for the result of this run id and return result once it&#39;s ready.","body":"That&#39;s one of the hardest problems with microservices. Do some research on transactions and transaction management. Other than that - easiest you can do - capture run id for user request and have user poll for the result of this run id and return result once it&#39;s ready."}],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684217162,"creation_date":1684217162,"answer_id":76259827,"question_id":76189515,"body_markdown":"On a high-level, let&#39;s segregate the API calls in two major types\r\n\r\n1) Synchronous\r\n2) Asynchronous\r\n\r\n**Synchronous** \r\n\r\nThis is an ideal situation implemented using `RestTemplate`, `WebClient` , `FeignClient` etc where in your Microservice A would wait for response from Microservice B. \r\n\r\nIdeal for quick operations and covers majority use case\r\n\r\n**Asynchronous**\r\n\r\nAs @taleodor mentioned, the other way would be to implement an `async` call to other Microservice, which would only return a `Run id` or `Acknowledgement id` to indicate the long running process started. To get status of that process, you may think of implementing it through a `Message queue` such as `ActiveMQ` or `Apache Kafka` which works on the concept of producer/consumer or `Publisher/subscriber (pub/sub)` where in your long running microservice will publish the event once completed, and Microservice A or B will subscribe to that event and read the response ! \r\n\r\nApart of message queues, your Microservice A can also implement a `scheduled task` to check for progress completion or resource updation based on how to implement it !","title":"spring microservices multiple tasks handle","body":"<p>On a high-level, let's segregate the API calls in two major types</p>\n<ol>\n<li>Synchronous</li>\n<li>Asynchronous</li>\n</ol>\n<p><strong>Synchronous</strong></p>\n<p>This is an ideal situation implemented using <code>RestTemplate</code>, <code>WebClient</code> , <code>FeignClient</code> etc where in your Microservice A would wait for response from Microservice B.</p>\n<p>Ideal for quick operations and covers majority use case</p>\n<p><strong>Asynchronous</strong></p>\n<p>As @taleodor mentioned, the other way would be to implement an <code>async</code> call to other Microservice, which would only return a <code>Run id</code> or <code>Acknowledgement id</code> to indicate the long running process started. To get status of that process, you may think of implementing it through a <code>Message queue</code> such as <code>ActiveMQ</code> or <code>Apache Kafka</code> which works on the concept of producer/consumer or <code>Publisher/subscriber (pub/sub)</code> where in your long running microservice will publish the event once completed, and Microservice A or B will subscribe to that event and read the response !</p>\n<p>Apart of message queues, your Microservice A can also implement a <code>scheduled task</code> to check for progress completion or resource updation based on how to implement it !</p>\n"}],"owner":{"account_id":28125260,"reputation":23,"user_id":21490801,"display_name":"testyyy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76259827,"answer_count":1,"score":1,"last_activity_date":1684217162,"creation_date":1683384538,"question_id":76189515,"body_markdown":"I&#39;ve a question related to microservices world. Let&#39;s assume I&#39;ve two microservices, microservice A does a request to microservice B. Microservice B perform some &quot;long&quot; operations and makes a request to another microservice C. In result microservice A waits for result from microservice B. How to handle such a long operation if the microservice A is &quot;connected&quot; to front end service, where user initiates the operation and waits for the result of that operation.\r\n\r\n\r\nIs there any good way to handle long-running tasks in those microservices? What would you suggest to me with that case to be the most efficient and scalable in Spring boot? Thank you in advance.","title":"spring microservices multiple tasks handle","body":"<p>I've a question related to microservices world. Let's assume I've two microservices, microservice A does a request to microservice B. Microservice B perform some &quot;long&quot; operations and makes a request to another microservice C. In result microservice A waits for result from microservice B. How to handle such a long operation if the microservice A is &quot;connected&quot; to front end service, where user initiates the operation and waits for the result of that operation.</p>\n<p>Is there any good way to handle long-running tasks in those microservices? What would you suggest to me with that case to be the most efficient and scalable in Spring boot? Thank you in advance.</p>\n"},{"tags":["java","android","calculator"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684247124,"post_id":76256416,"comment_id":134488140,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684216621,"creation_date":1684216621,"answer_id":76259785,"question_id":76256416,"body_markdown":"What you can do is to check the last character in the `displayedText` in the `onClick`, and if it is a math operator, then you remove it from the text, here is some code:\r\n\r\n```java\r\n@Override\r\npublic void onClick(View view) {\r\n\r\n    //set view to button\r\n    Button button = (Button) view;\r\n\r\n    //get buttonText\r\n    String buttonText = button.getText().toString();\r\n\r\n    //get DisplayedText\r\n    String displayedText = displayTv.getText().toString();\r\n\r\n    // check if last character in displayedText is a math operator\r\n    if (displayedText.length() &gt; 0) {\r\n        char lastChar = displayedText.charAt(displayedText.length() - 1);\r\n        if (isMathOperator(lastChar) &amp;&amp; isMathOperator(buttonText.charAt(0))) {\r\n            // remove last character\r\n            displayedText = displayedText.substring(0, displayedText.length() - 1);\r\n        }\r\n    }\r\n    //displayed text plus button text\r\n    displayedText = displayedText + buttonText;\r\n\r\n    displayTv.setText(displayedText);\r\n\r\n    String finalResult = getResult(displayedText);\r\n\r\n    switch (view.getId()) {\r\n\r\n        case R.id.clear:\r\n            displayTv.setText(&quot;&quot;);\r\n            result.setText(&quot;0&quot;);\r\n            break;\r\n\r\n        case R.id.button_equal:\r\n            if (!finalResult.equals(&quot;ERR&quot;)) {\r\n                result.setText(finalResult);\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nAnd the isMathOperator is just a method to check if the character is a one of the 4 math operators:\r\n\r\n```java\r\nprivate boolean isMathOperator(char c) {\r\n    return c == &#39;+&#39; || c == &#39;-&#39; || c == &#39;*&#39; || c == &#39;/&#39;;\r\n}\r\n```","title":"How to not repeat math operations on my calculator app","body":"<p>What you can do is to check the last character in the <code>displayedText</code> in the <code>onClick</code>, and if it is a math operator, then you remove it from the text, here is some code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onClick(View view) {\n\n    //set view to button\n    Button button = (Button) view;\n\n    //get buttonText\n    String buttonText = button.getText().toString();\n\n    //get DisplayedText\n    String displayedText = displayTv.getText().toString();\n\n    // check if last character in displayedText is a math operator\n    if (displayedText.length() &gt; 0) {\n        char lastChar = displayedText.charAt(displayedText.length() - 1);\n        if (isMathOperator(lastChar) &amp;&amp; isMathOperator(buttonText.charAt(0))) {\n            // remove last character\n            displayedText = displayedText.substring(0, displayedText.length() - 1);\n        }\n    }\n    //displayed text plus button text\n    displayedText = displayedText + buttonText;\n\n    displayTv.setText(displayedText);\n\n    String finalResult = getResult(displayedText);\n\n    switch (view.getId()) {\n\n        case R.id.clear:\n            displayTv.setText(&quot;&quot;);\n            result.setText(&quot;0&quot;);\n            break;\n\n        case R.id.button_equal:\n            if (!finalResult.equals(&quot;ERR&quot;)) {\n                result.setText(finalResult);\n            }\n    }\n}\n</code></pre>\n<p>And the isMathOperator is just a method to check if the character is a one of the 4 math operators:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isMathOperator(char c) {\n    return c == '+' || c == '-' || c == '*' || c == '/';\n}\n</code></pre>\n"}],"owner":{"account_id":28606917,"reputation":1,"user_id":21902682,"display_name":"Stephany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1684216621,"creation_date":1684170573,"question_id":76256416,"body_markdown":"I wanted to know how can I prevent the math operators from repeating.\r\n\r\nfor example this is what I get `9+++++****----////`\r\n\r\nIs there something that can be done to prevent the operations from being able to repeat?\r\nYour help is much appreciated thank you.\r\n\r\n// Here is my code:\r\n\r\n\r\n```java\r\npublic class MyActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    Button button_clear, button_addition, button_dot, button_multiply,button_divide,button_subtract,\r\n    button_one,button_two,button_three,button_four,button_five,button_six,button_seven,button_eight,\r\n            button_nine,\r\n    button_zero,button_equal;\r\n\r\n    TextView displayTv, result;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my);\r\n\r\n        displayTv=findViewById(R.id.displayTV);\r\n        result=findViewById(R.id.answerCalculated);\r\n\r\n        asignId(button_clear, R.id.clear);\r\n        asignId(button_addition, R.id.addition);\r\n        asignId(button_subtract, R.id.subtract);\r\n        asignId(button_multiply, R.id.multiplication);\r\n        asignId(button_divide, R.id.divide);\r\n        asignId(button_dot, R.id.dot);\r\n        asignId(button_one, R.id.button_one);\r\n        asignId(button_two, R.id.button_two);\r\n        asignId(button_three, R.id.button_three);\r\n        asignId(button_four, R.id.button_four);\r\n        asignId(button_five, R.id.button_five);\r\n        asignId(button_six, R.id.button_six);\r\n        asignId(button_seven, R.id.button_seven);\r\n        asignId(button_eight, R.id.button_eight);\r\n        asignId(button_nine, R.id.button_nine);\r\n        asignId(button_zero, R.id.button_zero);\r\n        asignId(button_equal,R.id.button_equal);\r\n    }\r\n\r\n    private void asignId(Button btn, int id) {\r\n        btn=findViewById(id);\r\n        btn.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n        //set view to button\r\n\r\n        Button button=(Button)view;\r\n\r\n        //get buttonText\r\n        String buttonText=button.getText().toString();\r\n\r\n        //get DisplayedText\r\n        String displayedText=displayTv.getText().toString();\r\n\r\n        //displayed text plus button text\r\n        displayedText=displayedText+buttonText;\r\n\r\n        displayTv.setText(displayedText);\r\n\r\n        String finalResult=getResult(displayedText);\r\n\r\n\r\n        switch (view.getId()){\r\n\r\n            case R.id.clear:\r\n                displayTv.setText(&quot;&quot;);\r\n                result.setText(&quot;0&quot;);\r\n                break;\r\n\r\n            case R.id.button_equal:\r\n                if(!finalResult.equals(&quot;ERR&quot;)){\r\n                    result.setText(finalResult);\r\n\r\n                }\r\n        }\r\n\r\n\r\n\r\n        //\r\n\r\n\r\n    }\r\n\r\n    private String getResult(String data) {\r\n        try{\r\n            Context context  = Context.enter();\r\n            context.setOptimizationLevel(-1);\r\n            Scriptable scriptable = context.initStandardObjects();\r\n            String finalResult =  context.evaluateString(scriptable,data,&quot;Javascript&quot;,1,null).toString();\r\n            if(finalResult.endsWith(&quot;.0&quot;)){\r\n                finalResult = finalResult.replace(&quot;.0&quot;,&quot;&quot;);\r\n            }\r\n            return finalResult;\r\n        }catch (Exception e){\r\n            return &quot;Err&quot;;\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI have found this answer thats similar to mine [](https://stackoverflow.com/questions/63997492/how-not-to-repeat-math-operations-two-times-in-calculator-app) but the difference is that they are using Kotlin and I&#39;m using java. ","title":"How to not repeat math operations on my calculator app","body":"<p>I wanted to know how can I prevent the math operators from repeating.</p>\n<p>for example this is what I get <code>9+++++****----////</code></p>\n<p>Is there something that can be done to prevent the operations from being able to repeat?\nYour help is much appreciated thank you.</p>\n<p>// Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyActivity extends AppCompatActivity implements View.OnClickListener {\n\n    Button button_clear, button_addition, button_dot, button_multiply,button_divide,button_subtract,\n    button_one,button_two,button_three,button_four,button_five,button_six,button_seven,button_eight,\n            button_nine,\n    button_zero,button_equal;\n\n    TextView displayTv, result;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_my);\n\n        displayTv=findViewById(R.id.displayTV);\n        result=findViewById(R.id.answerCalculated);\n\n        asignId(button_clear, R.id.clear);\n        asignId(button_addition, R.id.addition);\n        asignId(button_subtract, R.id.subtract);\n        asignId(button_multiply, R.id.multiplication);\n        asignId(button_divide, R.id.divide);\n        asignId(button_dot, R.id.dot);\n        asignId(button_one, R.id.button_one);\n        asignId(button_two, R.id.button_two);\n        asignId(button_three, R.id.button_three);\n        asignId(button_four, R.id.button_four);\n        asignId(button_five, R.id.button_five);\n        asignId(button_six, R.id.button_six);\n        asignId(button_seven, R.id.button_seven);\n        asignId(button_eight, R.id.button_eight);\n        asignId(button_nine, R.id.button_nine);\n        asignId(button_zero, R.id.button_zero);\n        asignId(button_equal,R.id.button_equal);\n    }\n\n    private void asignId(Button btn, int id) {\n        btn=findViewById(id);\n        btn.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n\n        //set view to button\n\n        Button button=(Button)view;\n\n        //get buttonText\n        String buttonText=button.getText().toString();\n\n        //get DisplayedText\n        String displayedText=displayTv.getText().toString();\n\n        //displayed text plus button text\n        displayedText=displayedText+buttonText;\n\n        displayTv.setText(displayedText);\n\n        String finalResult=getResult(displayedText);\n\n\n        switch (view.getId()){\n\n            case R.id.clear:\n                displayTv.setText(&quot;&quot;);\n                result.setText(&quot;0&quot;);\n                break;\n\n            case R.id.button_equal:\n                if(!finalResult.equals(&quot;ERR&quot;)){\n                    result.setText(finalResult);\n\n                }\n        }\n\n\n\n        //\n\n\n    }\n\n    private String getResult(String data) {\n        try{\n            Context context  = Context.enter();\n            context.setOptimizationLevel(-1);\n            Scriptable scriptable = context.initStandardObjects();\n            String finalResult =  context.evaluateString(scriptable,data,&quot;Javascript&quot;,1,null).toString();\n            if(finalResult.endsWith(&quot;.0&quot;)){\n                finalResult = finalResult.replace(&quot;.0&quot;,&quot;&quot;);\n            }\n            return finalResult;\n        }catch (Exception e){\n            return &quot;Err&quot;;\n        }\n\n\n    }\n}\n</code></pre>\n<p>I have found this answer thats similar to mine <a href=\"https://stackoverflow.com/questions/63997492/how-not-to-repeat-math-operations-two-times-in-calculator-app\"></a> but the difference is that they are using Kotlin and I'm using java.</p>\n"},{"tags":["java","junit","rabbitmq","spring-boot-actuator","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684216569,"creation_date":1684169890,"answer_id":76256346,"question_id":76256214,"body_markdown":"Let me break down your mock call into pieces\r\n\r\n    Mockito.when(\r\n    \trabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\r\n    \t\t.get(&quot;QUEUE_MESSAGE_COUNT&quot;)\r\n    ).thenReturn(0);\r\n\r\nIn the middle part, you have the following:\r\n\r\n    rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\r\n\r\n`rabbitAdmin` itself is a mock object, that means every method has default behaviour to return `null`. If you have not specified any behavior for `rabbitAdmin.getQueueProperties(anyString())` or `rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)`, then this call will return `null`.\r\n\r\nThen you have the next part:\r\n\r\n    rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\r\n        .get(&quot;QUEUE_MESSAGE_COUNT&quot;)\r\n\r\nIf you don&#39;t have any behaviour specified, then you are calling partically `null.get(&quot;QUEUE_MESSAGE_COUNT&quot;)` which will get you your `NullPointerException`.\r\n\r\n\r\nTo avoid this null pointer, you could do something\r\n\r\n\r\n    // creating a properties mock\r\n    // this could also be a normal constructor call\r\n    Properties properties = Mockito.mock(Properties.class);\r\n    // returning 0 when QUEUE_MESSAGE_COUNT is called\r\n    Mockito.when(properties.get(&quot;QUEUE_MESSAGE_COUNT&quot;)).thenReturn(0);\r\n    \r\n    // returning properties when responseQueueName is called\r\n    Mockito.when(rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)).thenReturn(properties);\r\n\r\n","title":"How to mock RabbitAdmin class in JUnit","body":"<p>Let me break down your mock call into pieces</p>\n<pre><code>Mockito.when(\n    rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\n        .get(&quot;QUEUE_MESSAGE_COUNT&quot;)\n).thenReturn(0);\n</code></pre>\n<p>In the middle part, you have the following:</p>\n<pre><code>rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\n</code></pre>\n<p><code>rabbitAdmin</code> itself is a mock object, that means every method has default behaviour to return <code>null</code>. If you have not specified any behavior for <code>rabbitAdmin.getQueueProperties(anyString())</code> or <code>rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)</code>, then this call will return <code>null</code>.</p>\n<p>Then you have the next part:</p>\n<pre><code>rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\n    .get(&quot;QUEUE_MESSAGE_COUNT&quot;)\n</code></pre>\n<p>If you don't have any behaviour specified, then you are calling partically <code>null.get(&quot;QUEUE_MESSAGE_COUNT&quot;)</code> which will get you your <code>NullPointerException</code>.</p>\n<p>To avoid this null pointer, you could do something</p>\n<pre><code>// creating a properties mock\n// this could also be a normal constructor call\nProperties properties = Mockito.mock(Properties.class);\n// returning 0 when QUEUE_MESSAGE_COUNT is called\nMockito.when(properties.get(&quot;QUEUE_MESSAGE_COUNT&quot;)).thenReturn(0);\n\n// returning properties when responseQueueName is called\nMockito.when(rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)).thenReturn(properties);\n</code></pre>\n"}],"owner":{"account_id":14610742,"reputation":45,"user_id":10552302,"display_name":"SrigandanS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256346,"answer_count":1,"score":0,"last_activity_date":1684216569,"creation_date":1684168810,"question_id":76256214,"body_markdown":"I&#39;m trying to create a mock object for RabbitAdmin class in JUnit.\r\n\r\n`@Mock\r\nRabbitAdmin rabbitAdmin;\r\n@InjectMocks\r\nMyOriginalClass classObj;`\r\n\r\nThe above is what I have declared.\r\n\r\n`Mockito.when(rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;).get(&quot;QUEUE_MESSAGE_COUNT&quot;)).thenReturn(0);`\r\n\r\nWhen executing the above line in my test method I&#39;m getting a NullPointerException.","title":"How to mock RabbitAdmin class in JUnit","body":"<p>I'm trying to create a mock object for RabbitAdmin class in JUnit.</p>\n<p><code>@Mock RabbitAdmin rabbitAdmin; @InjectMocks MyOriginalClass classObj;</code></p>\n<p>The above is what I have declared.</p>\n<p><code>Mockito.when(rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;).get(&quot;QUEUE_MESSAGE_COUNT&quot;)).thenReturn(0);</code></p>\n<p>When executing the above line in my test method I'm getting a NullPointerException.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684216453,"creation_date":1684216453,"answer_id":76259768,"question_id":76259467,"body_markdown":"[`Mono`](https://projectreactor.io/docs/core/release/reference/index.html#mono) is _an Asynchronous 0-1 Result_ (i.e. either a result or no result, but it cannot represent multiple results - for that you would need a [`Flux`](https://projectreactor.io/docs/core/release/reference/index.html#flux)).\r\n\r\n[`MonoSink`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-) is used to bridge between multithreaded code and reactive code (a `Mono`).\r\n\r\nA similar pattern exists for `Flux` and `FluxSink`.\r\n","title":"What is difference between Mono and MonoSink in Java?","body":"<p><a href=\"https://projectreactor.io/docs/core/release/reference/index.html#mono\" rel=\"nofollow noreferrer\"><code>Mono</code></a> is <em>an Asynchronous 0-1 Result</em> (i.e. either a result or no result, but it cannot represent multiple results - for that you would need a <a href=\"https://projectreactor.io/docs/core/release/reference/index.html#flux\" rel=\"nofollow noreferrer\"><code>Flux</code></a>).</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>MonoSink</code></a> is used to bridge between multithreaded code and reactive code (a <code>Mono</code>).</p>\n<p>A similar pattern exists for <code>Flux</code> and <code>FluxSink</code>.</p>\n"}],"owner":{"account_id":16737428,"reputation":3,"user_id":12098104,"display_name":"MrDk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76259768,"answer_count":1,"score":0,"last_activity_date":1684216453,"creation_date":1684212284,"question_id":76259467,"body_markdown":"both `Mono` and `MonoSink` comes under **reactor.core.publisher**\r\n\r\nI am new to reactive programming and I recently found  \r\n\r\n`private final MonoSink&lt;MyModel1&gt; sink;`\r\n`private final Mono&lt;MyModel2&gt; mono;`\r\n\r\nI am confused about their difference. \r\n\r\nThanks in advance","title":"What is difference between Mono and MonoSink in Java?","body":"<p>both <code>Mono</code> and <code>MonoSink</code> comes under <strong>reactor.core.publisher</strong></p>\n<p>I am new to reactive programming and I recently found</p>\n<p><code>private final MonoSink&lt;MyModel1&gt; sink;</code>\n<code>private final Mono&lt;MyModel2&gt; mono;</code></p>\n<p>I am confused about their difference.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","amazon-web-services","jmx","jconsole"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1530076655,"post_id":51054936,"comment_id":89100603,"body_markdown":"Please provide detailed information on what you mean by _&quot;Unsuccessful connection&quot;_.  Include all error messages and stack traces.  Show how you confirmed that the debug port is listening.  Did you run `sudo netstat -natp` on both servers and confirm that the port is LISTENING and owned by the expected JVM process?","body":"Please provide detailed information on what you mean by <i>&quot;Unsuccessful connection&quot;</i>.  Include all error messages and stack traces.  Show how you confirmed that the debug port is listening.  Did you run <code>sudo netstat -natp</code> on both servers and confirm that the port is LISTENING and owned by the expected JVM process?"},{"owner":{"account_id":6445528,"reputation":141,"user_id":4994144,"display_name":"Ehteshaam"},"score":0,"creation_date":1530091619,"post_id":51054936,"comment_id":89108350,"body_markdown":"Thanks @JimGarrison. I did telnet to confirm that port is open. I am not sure how to enable debug for jconsole in windows.","body":"Thanks @JimGarrison. I did telnet to confirm that port is open. I am not sure how to enable debug for jconsole in windows."}],"answers":[{"tags":[],"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684215129,"creation_date":1530077581,"answer_id":51055138,"question_id":51054936,"body_markdown":"One highly probable reason is your *dns* is not properly configured in `/etc/hosts` file.\r\n\r\nJava bug [6209663](https://bugs.java.com/bugdatabase/view_bug?bug_id=6209663) was also reported after which below article was updated to include its case.\r\n\r\nPlease see [this oracle&#39;s FAQ#5][1].\r\n\r\nFor quick reference I&#39;d quote a part of this below:\r\n\r\n&gt; Run &quot;`hostname -i`&quot; command. If it reports 127.0.0.1, JConsole would not\r\n&gt; be able to connect to the JVM running on that Linux machine. To fix\r\n&gt; this issue, edit /etc/hosts so that the hostname resolves to the host\r\n&gt; address.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/management/faq.html#linux1","title":"jconsole not connecting to java process on 1 server unlike another server","body":"<p>One highly probable reason is your <em>dns</em> is not properly configured in <code>/etc/hosts</code> file.</p>\n<p>Java bug <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6209663\" rel=\"nofollow noreferrer\">6209663</a> was also reported after which below article was updated to include its case.</p>\n<p>Please see <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/management/faq.html#linux1\" rel=\"nofollow noreferrer\">this oracle's FAQ#5</a>.</p>\n<p>For quick reference I'd quote a part of this below:</p>\n<blockquote>\n<p>Run &quot;<code>hostname -i</code>&quot; command. If it reports 127.0.0.1, JConsole would not\nbe able to connect to the JVM running on that Linux machine. To fix\nthis issue, edit /etc/hosts so that the hostname resolves to the host\naddress.</p>\n</blockquote>\n"}],"owner":{"account_id":6445528,"reputation":141,"user_id":4994144,"display_name":"Ehteshaam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684215129,"creation_date":1530076372,"question_id":51054936,"body_markdown":"There are 2 servers running same java application.\r\n\r\nSuccessful connection to server is running process with java version as below\r\n\r\n    java version &quot;1.8.0_161&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_161-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)\r\n    \r\n    -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=xxxxx -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\r\n\r\n\r\nUnsuccessful connection to server is running process with java version as below\r\n\r\n    java version &quot;1.8.0_131&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n    \r\n    -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=xxxxx -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false \r\n\r\nNetwork is open for ports which i confirmed with telnet.\r\n\r\njconsole on my desktop i used to test is of below version\r\n\r\n    JConsole version: 1.8.0_121-b13\r\n    Java VM version: Java HotSpot(TM) 64-Bit Server VM, 25.121-b13\r\n\r\n\r\nErrors - \r\n\r\n    Secure Connection Failed. Retry insecurely ?\r\n\r\nAfter retry another repetitive error as below\r\n\r\n    Connection Failed. Retry?\r\n","title":"jconsole not connecting to java process on 1 server unlike another server","body":"<p>There are 2 servers running same java application.</p>\n\n<p>Successful connection to server is running process with java version as below</p>\n\n<pre><code>java version \"1.8.0_161\"\nJava(TM) SE Runtime Environment (build 1.8.0_161-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)\n\n-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=xxxxx -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\n</code></pre>\n\n<p>Unsuccessful connection to server is running process with java version as below</p>\n\n<pre><code>java version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n\n-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=xxxxx -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false \n</code></pre>\n\n<p>Network is open for ports which i confirmed with telnet.</p>\n\n<p>jconsole on my desktop i used to test is of below version</p>\n\n<pre><code>JConsole version: 1.8.0_121-b13\nJava VM version: Java HotSpot(TM) 64-Bit Server VM, 25.121-b13\n</code></pre>\n\n<p>Errors - </p>\n\n<pre><code>Secure Connection Failed. Retry insecurely ?\n</code></pre>\n\n<p>After retry another repetitive error as below</p>\n\n<pre><code>Connection Failed. Retry?\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":20618558,"reputation":228,"user_id":17930972,"display_name":"Umesh P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684214869,"creation_date":1684212032,"answer_id":76259453,"question_id":76259420,"body_markdown":"You can disable button view and click event after button click. ```button.isClickable = false``` This will disable the click event and ``` button.isEnabled = false ``` this will disable button view.\r\n\r\n```\r\noverride fun onClick(v: View) {\r\n    when (v.id) {\r\n        R.id.button_id -&gt; {\r\n            button.isClickable = false\r\n            button.isEnabled = false\r\n        }\r\n    }\r\n}\r\n```","title":"The value is not locked in android on click it is changeable","body":"<p>You can disable button view and click event after button click. <code>button.isClickable = false</code> This will disable the click event and <code>button.isEnabled = false</code> this will disable button view.</p>\n<pre><code>override fun onClick(v: View) {\n    when (v.id) {\n        R.id.button_id -&gt; {\n            button.isClickable = false\n            button.isEnabled = false\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684212446,"creation_date":1684212446,"answer_id":76259474,"question_id":76259420,"body_markdown":"You can disable that button in the onClick event of that button after you change its value. \r\n\r\n    btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // write your code for changing the value of the button\r\n                // ...\r\n                // then disable it\r\n                btn.setEnabled(false);\r\n                btn.setClickable(false);\r\n            }\r\n        });\r\n\r\n ","title":"The value is not locked in android on click it is changeable","body":"<p>You can disable that button in the onClick event of that button after you change its value.</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // write your code for changing the value of the button\n            // ...\n            // then disable it\n            btn.setEnabled(false);\n            btn.setClickable(false);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684214710,"creation_date":1684214710,"answer_id":76259606,"question_id":76259420,"body_markdown":"You can solve your problem by disabling the button when it is clicked once. To do that, you can use the following code:\r\n~~~\r\nYOUR_BUTTON.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            //Your other code\r\n\r\n            //Disable the button\r\n            btn.setClickable(false);\r\n            btn.setEnabled(false);\r\n        }\r\n    });\r\n~~~\r\n\r\nTo re-enable the button, you can set the .setClickable() and .setEnabled() functions to true.\r\n\r\nTo do it in Kotlin:\r\n~~~\r\nYOUR_BUTTON.setOnClickListener {\r\n    //Your other code\r\n \r\n    YOUR_BUTTON.isEnabled = false\r\n    YOUR_BUTTON.isClickable = false\r\n}\r\n~~~\r\n\r\nTo re-enable, you can set both parameters to true.","title":"The value is not locked in android on click it is changeable","body":"<p>You can solve your problem by disabling the button when it is clicked once. To do that, you can use the following code:</p>\n<pre><code>YOUR_BUTTON.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //Your other code\n\n            //Disable the button\n            btn.setClickable(false);\n            btn.setEnabled(false);\n        }\n    });\n</code></pre>\n<p>To re-enable the button, you can set the .setClickable() and .setEnabled() functions to true.</p>\n<p>To do it in Kotlin:</p>\n<pre><code>YOUR_BUTTON.setOnClickListener {\n    //Your other code\n \n    YOUR_BUTTON.isEnabled = false\n    YOUR_BUTTON.isClickable = false\n}\n</code></pre>\n<p>To re-enable, you can set both parameters to true.</p>\n"}],"owner":{"account_id":28609666,"reputation":1,"user_id":21904859,"display_name":"Irfan Chokshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684214869,"creation_date":1684211615,"question_id":76259420,"body_markdown":"I created a game called tic tac toe to submit in collage, the app runs successfully but the main problem is that after clicking a button the value of that button is not locked on click.\r\n\r\nIn example if i click on button1 the value in button1 is stored X but when i click second time on that button1 the value is changing,\r\n\r\nso the problem is how to lock the button value on click.\r\n\r\nThank you\r\n\r\nNothing Particularly tried but I want to solve this problem as fast as possible ","title":"The value is not locked in android on click it is changeable","body":"<p>I created a game called tic tac toe to submit in collage, the app runs successfully but the main problem is that after clicking a button the value of that button is not locked on click.</p>\n<p>In example if i click on button1 the value in button1 is stored X but when i click second time on that button1 the value is changing,</p>\n<p>so the problem is how to lock the button value on click.</p>\n<p>Thank you</p>\n<p>Nothing Particularly tried but I want to solve this problem as fast as possible</p>\n"},{"tags":["java","string","hashcode"],"comments":[{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":2,"creation_date":1240567299,"post_id":785091,"comment_id":595756,"body_markdown":"Do you actually need this functionality ? Why do you need the precise value ?","body":"Do you actually need this functionality ? Why do you need the precise value ?"},{"owner":{"account_id":23344,"reputation":49339,"user_id":58394,"accept_rate":99,"display_name":"knorv"},"score":27,"creation_date":1240567372,"post_id":785091,"comment_id":595758,"body_markdown":"@Brian: I&#39;m trying to understand the contract of String.hashCode().","body":"@Brian: I&#39;m trying to understand the contract of String.hashCode()."},{"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"score":3,"creation_date":1240567740,"post_id":785091,"comment_id":595780,"body_markdown":"@Knorv\nIts not ncessary to understand exactly how it works - its more important to understand the contract and its ulterior meaning.","body":"@Knorv Its not ncessary to understand exactly how it works - its more important to understand the contract and its ulterior meaning."},{"owner":{"account_id":23344,"reputation":49339,"user_id":58394,"accept_rate":99,"display_name":"knorv"},"score":47,"creation_date":1240569907,"post_id":785091,"comment_id":595852,"body_markdown":"@mP: Thanks for your input, but I guess that&#39;s up to me to decide.","body":"@mP: Thanks for your input, but I guess that&#39;s up to me to decide."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1384816913,"post_id":785091,"comment_id":29880321,"body_markdown":"why did they give the first character the largest power? when you want to optimize it for speed in order to preserve extra calculations, you would store the power of the previous one, yet the previous one would be from the last character to the first one. this mean there would also be cache misses. isn&#39;t it more efficient to have an algorithm of: s[0] + s[1]*31 + s[2]*31^2 + ... + s[n-1]*31^[n-1] ?","body":"why did they give the first character the largest power? when you want to optimize it for speed in order to preserve extra calculations, you would store the power of the previous one, yet the previous one would be from the last character to the first one. this mean there would also be cache misses. isn&#39;t it more efficient to have an algorithm of: s[0] + s[1]*31 + s[2]*31^2 + ... + s[n-1]*31^[n-1] ?"}],"answers":[{"tags":[],"owner":{"account_id":9799,"reputation":3583,"user_id":18233,"accept_rate":75,"display_name":"Martin OConnor"},"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1240571434,"creation_date":1240564572,"answer_id":785114,"question_id":785091,"body_markdown":"You should not rely on a hash code being equal to a specific value. Just that it will return consistent results within the same execution. \r\nThe API docs say the following :\r\n\r\n&gt;The general contract of hashCode is:\r\n&gt;\r\n&gt;    * Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.\r\n\r\n**EDIT**\r\nSince the javadoc for String.hashCode() specifies how a String&#39;s hash code is computed, any violation of this would violate the public API specification.","title":"Consistency of hashCode() on a Java string","body":"<p>You should not rely on a hash code being equal to a specific value. Just that it will return consistent results within the same execution. \nThe API docs say the following :</p>\n\n<blockquote>\n  <p>The general contract of hashCode is:</p>\n  \n  <ul>\n  <li>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.</li>\n  </ul>\n</blockquote>\n\n<p><strong>EDIT</strong>\nSince the javadoc for String.hashCode() specifies how a String's hash code is computed, any violation of this would violate the public API specification.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240565074,"creation_date":1240564578,"answer_id":785115,"question_id":785091,"body_markdown":"Another (!) issue to worry about is the possible change of implementation between early/late versions of Java. I don&#39;t believe the implementation details are set in stone, and so potentially an upgrade to a *future* Java version could cause problems.\r\n\r\nBottom line is, I wouldn&#39;t rely on the implementation of `hashCode()`.\r\n\r\nPerhaps you can highlight what problem you&#39;re actually trying to solve by using this mechanism, and that will highlight a more suitable approach.","title":"Consistency of hashCode() on a Java string","body":"<p>Another (!) issue to worry about is the possible change of implementation between early/late versions of Java. I don't believe the implementation details are set in stone, and so potentially an upgrade to a <em>future</em> Java version could cause problems.</p>\n\n<p>Bottom line is, I wouldn't rely on the implementation of <code>hashCode()</code>.</p>\n\n<p>Perhaps you can highlight what problem you're actually trying to solve by using this mechanism, and that will highlight a more suitable approach.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684214411,"creation_date":1240565011,"answer_id":785142,"question_id":785091,"body_markdown":"As said above, in general you should not rely on the hash code of a class remaining the same. Note that even subsequent runs of the *same application* on the *same VM* may produce different hash values. AFAIK the Sun JVM&#39;s hash function calculates the same hash on every run, but that&#39;s not guaranteed.\r\n\r\nNote that this is not theoretical. The hash function for `java.lang.String` [was changed][1] in JDK1.2 (the old hash had problems with hierarchical strings like URLs or file names, as it tended to produce the same hash for strings which only differed at the end).\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4045622\r\n\r\n`java.lang.String` is a special case, as the algorithm of its `hashCode()` is (now) documented, so you can probably rely on that. I&#39;d still consider it bad practice. If you need a hash algorithm with special, documented properties, just write one :-).","title":"Consistency of hashCode() on a Java string","body":"<p>As said above, in general you should not rely on the hash code of a class remaining the same. Note that even subsequent runs of the <em>same application</em> on the <em>same VM</em> may produce different hash values. AFAIK the Sun JVM's hash function calculates the same hash on every run, but that's not guaranteed.</p>\n<p>Note that this is not theoretical. The hash function for <code>java.lang.String</code> <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4045622\" rel=\"nofollow noreferrer\">was changed</a> in JDK1.2 (the old hash had problems with hierarchical strings like URLs or file names, as it tended to produce the same hash for strings which only differed at the end).</p>\n<p><code>java.lang.String</code> is a special case, as the algorithm of its <code>hashCode()</code> is (now) documented, so you can probably rely on that. I'd still consider it bad practice. If you need a hash algorithm with special, documented properties, just write one :-).</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":108,"is_accepted":true,"score":107,"last_activity_date":1371555053,"creation_date":1240565104,"answer_id":785150,"question_id":785091,"body_markdown":"I can see that documentation as far back as Java 1.2.\r\n\r\nWhile it&#39;s true that *in general* you shouldn&#39;t rely on a hash code implementation remaining the same, it&#39;s now documented behaviour for `java.lang.String`, so changing it would count as breaking existing contracts.\r\n\r\nWherever possible, you shouldn&#39;t rely on hash codes staying the same across versions etc - but in my mind `java.lang.String` is a special case simply because the algorithm *has* been specified... so long as you&#39;re willing to abandon compatibility with releases before the algorithm was specified, of course.","title":"Consistency of hashCode() on a Java string","body":"<p>I can see that documentation as far back as Java 1.2.</p>\n\n<p>While it's true that <em>in general</em> you shouldn't rely on a hash code implementation remaining the same, it's now documented behaviour for <code>java.lang.String</code>, so changing it would count as breaking existing contracts.</p>\n\n<p>Wherever possible, you shouldn't rely on hash codes staying the same across versions etc - but in my mind <code>java.lang.String</code> is a special case simply because the algorithm <em>has</em> been specified... so long as you're willing to abandon compatibility with releases before the algorithm was specified, of course.</p>\n"},{"tags":[],"owner":{"account_id":15634,"reputation":3535,"user_id":33229,"accept_rate":60,"display_name":"ReneS"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1425175699,"creation_date":1240572102,"answer_id":785447,"question_id":785091,"body_markdown":"Just to answer your question and not to continue any discussions. The Apache Harmony JDK implementation seems to use a different algorithm, at least it looks totally different:\r\n\r\n**Sun JDK**\r\n\r\n    public int hashCode() {\r\n    \tint h = hash;\r\n    \tif (h == 0) {\r\n    \t    int off = offset;\r\n    \t    char val[] = value;\r\n    \t    int len = count;\r\n    \r\n            for (int i = 0; i &lt; len; i++) {\r\n                h = 31*h + val[off++];\r\n            }\r\n            hash = h;\r\n        }\r\n        return h;\r\n    }\r\n\r\n**Apache Harmony**\r\n\r\n    public int hashCode() {\r\n        if (hashCode == 0) {\r\n            int hash = 0, multiplier = 1;\r\n            for (int i = offset + count - 1; i &gt;= offset; i--) {\r\n                hash += value[i] * multiplier;\r\n                int shifted = multiplier &lt;&lt; 5;\r\n                multiplier = shifted - multiplier;\r\n            }\r\n            hashCode = hash;\r\n        }\r\n        return hashCode;\r\n    }\r\n\r\nFeel free to check it yourself...","title":"Consistency of hashCode() on a Java string","body":"<p>Just to answer your question and not to continue any discussions. The Apache Harmony JDK implementation seems to use a different algorithm, at least it looks totally different:</p>\n\n<p><strong>Sun JDK</strong></p>\n\n<pre><code>public int hashCode() {\n    int h = hash;\n    if (h == 0) {\n        int off = offset;\n        char val[] = value;\n        int len = count;\n\n        for (int i = 0; i &lt; len; i++) {\n            h = 31*h + val[off++];\n        }\n        hash = h;\n    }\n    return h;\n}\n</code></pre>\n\n<p><strong>Apache Harmony</strong></p>\n\n<pre><code>public int hashCode() {\n    if (hashCode == 0) {\n        int hash = 0, multiplier = 1;\n        for (int i = offset + count - 1; i &gt;= offset; i--) {\n            hash += value[i] * multiplier;\n            int shifted = multiplier &lt;&lt; 5;\n            multiplier = shifted - multiplier;\n        }\n        hashCode = hash;\n    }\n    return hashCode;\n}\n</code></pre>\n\n<p>Feel free to check it yourself...</p>\n"},{"tags":[],"owner":{"account_id":15634,"reputation":3535,"user_id":33229,"accept_rate":60,"display_name":"ReneS"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1240575455,"creation_date":1240575455,"answer_id":785609,"question_id":785091,"body_markdown":"I found something about JDK 1.0 and 1.1 and &gt;= 1.2:\r\n&gt; In JDK 1.0.x and 1.1.x the hashCode\r\n&gt; function for long Strings worked by\r\n&gt; sampling every nth character. This\r\n&gt; pretty well guaranteed you would have\r\n&gt; many Strings hashing to the same\r\n&gt; value, thus slowing down Hashtable\r\n&gt; lookup. In JDK 1.2 the function has\r\n&gt; been improved to multiply the result\r\n&gt; so far by 31 then add the next\r\n&gt; character in sequence. This is a\r\n&gt; little slower, but is much better at\r\n&gt; avoiding collisions.\r\nSource: http://mindprod.com/jgloss/hashcode.html\r\n\r\nSomething different, because you seem to need a number: How about using CRC32 or MD5 instead of hashcode and you are good to go - no discussions and no worries at all...","title":"Consistency of hashCode() on a Java string","body":"<p>I found something about JDK 1.0 and 1.1 and >= 1.2:</p>\n\n<blockquote>\n  <p>In JDK 1.0.x and 1.1.x the hashCode\n  function for long Strings worked by\n  sampling every nth character. This\n  pretty well guaranteed you would have\n  many Strings hashing to the same\n  value, thus slowing down Hashtable\n  lookup. In JDK 1.2 the function has\n  been improved to multiply the result\n  so far by 31 then add the next\n  character in sequence. This is a\n  little slower, but is much better at\n  avoiding collisions.\n  Source: <a href=\"http://mindprod.com/jgloss/hashcode.html\" rel=\"noreferrer\">http://mindprod.com/jgloss/hashcode.html</a></p>\n</blockquote>\n\n<p>Something different, because you seem to need a number: How about using CRC32 or MD5 instead of hashcode and you are good to go - no discussions and no worries at all...</p>\n"},{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1240586856,"creation_date":1240586856,"answer_id":786345,"question_id":785091,"body_markdown":"If you&#39;re worried about changes and possibly incompatibly VMs, just copy the existing hashcode implementation into your own utility class, and use that to generate your hashcodes .","title":"Consistency of hashCode() on a Java string","body":"<p>If you're worried about changes and possibly incompatibly VMs, just copy the existing hashcode implementation into your own utility class, and use that to generate your hashcodes .</p>\n"},{"tags":[],"owner":{"account_id":16247586,"reputation":11,"user_id":11732298,"display_name":"Lourdes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562134355,"creation_date":1562133919,"answer_id":56863857,"question_id":785091,"body_markdown":"The hashcode will be calculated based on the ASCII values of the characters in the String.\r\n\r\nThis is the implementation in the String Class is as follows\r\n```\r\npublic int hashCode() {\r\n    int h = hash;\r\n    if (h == 0 &amp;&amp; value.length &gt; 0) {\r\n        hash = h = isLatin1() ? StringLatin1.hashCode(value)\r\n                              : StringUTF16.hashCode(value);\r\n    }\r\n    return h;\r\n}\r\n```\r\n\r\nCollisions in hashcode are unavoidable. For example, the strings &quot;Ea&quot; and &quot;FB&quot; give the same hashcode as 2236","title":"Consistency of hashCode() on a Java string","body":"<p>The hashcode will be calculated based on the ASCII values of the characters in the String.</p>\n\n<p>This is the implementation in the String Class is as follows</p>\n\n<pre><code>public int hashCode() {\n    int h = hash;\n    if (h == 0 &amp;&amp; value.length &gt; 0) {\n        hash = h = isLatin1() ? StringLatin1.hashCode(value)\n                              : StringUTF16.hashCode(value);\n    }\n    return h;\n}\n</code></pre>\n\n<p>Collisions in hashcode are unavoidable. For example, the strings \"Ea\" and \"FB\" give the same hashcode as 2236</p>\n"}],"owner":{"account_id":23344,"reputation":49339,"user_id":58394,"accept_rate":99,"display_name":"knorv"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124856,"favorite_count":0,"down_vote_count":3,"up_vote_count":149,"accepted_answer_id":785150,"answer_count":8,"score":146,"last_activity_date":1684214411,"creation_date":1240564264,"question_id":785091,"body_markdown":"The hashCode value of a Java String is computed as (&lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()&quot;&gt;String.hashCode()&lt;/a&gt;):\r\n\r\n    s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n\r\nAre there any circumstances (say JVM version, vendor, etc.) under which the following expression will evaluate to false?\r\n\r\n    boolean expression = &quot;This is a Java string&quot;.hashCode() == 586653468\r\n\r\n&lt;b&gt;Update #1:&lt;/b&gt; If you claim that the answer is &quot;yes, there are such circumstances&quot; - then please give a concrete example of when &quot;This is a Java string&quot;.hashCode() != 586653468. Try to be as specific/concrete as possible.\r\n\r\n&lt;b&gt;Update #2:&lt;/b&gt; We all know that relying on the implementation details of hashCode() is bad in general. However, I&#39;m talking specifically about String.hashCode() - so please keep the answer focused to String.hashCode(). Object.hashCode() is totally irrelevant in the context of this question.\r\n","title":"Consistency of hashCode() on a Java string","body":"<p>The hashCode value of a Java String is computed as (<a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()\" rel=\"noreferrer\">String.hashCode()</a>):</p>\n\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n\n<p>Are there any circumstances (say JVM version, vendor, etc.) under which the following expression will evaluate to false?</p>\n\n<pre><code>boolean expression = \"This is a Java string\".hashCode() == 586653468\n</code></pre>\n\n<p><b>Update #1:</b> If you claim that the answer is \"yes, there are such circumstances\" - then please give a concrete example of when \"This is a Java string\".hashCode() != 586653468. Try to be as specific/concrete as possible.</p>\n\n<p><b>Update #2:</b> We all know that relying on the implementation details of hashCode() is bad in general. However, I'm talking specifically about String.hashCode() - so please keep the answer focused to String.hashCode(). Object.hashCode() is totally irrelevant in the context of this question.</p>\n"},{"tags":["java","spring","aspect"],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684213534,"creation_date":1684158676,"question_id":76254809,"body_markdown":"\r\n\r\nMy interface code;\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.TYPE, ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n    @Documented\r\n    @Inherited\r\n    public @interface JwtTokenRequired {\r\n    }\r\n\r\n \r\nMy aspect code\r\n\r\n    @Pointcut(&quot;execution(* com.compamy..*(..))&quot;)\r\n    public void controllerMethods() {}\r\n\r\n       @Around(&quot;@annotation(com.company.aspect.JwtTokenRequired)&quot;)\r\n        public Object validateJwtToken(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            HttpServletRequest request = getRequest(joinPoint.getArgs());\r\n    \r\n    }\r\n\r\n\r\n\r\nMy controller class, if I set \r\n@JwtTokenRequired - on the method create, its going inside Around validate  token\r\nbut if I add it to the class level it wont, what could be the issue ?\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/content&quot;)\r\n    @JwtTokenRequired\r\n    public class Content extends AbstractController{\r\n    \r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n        public boolean create() {\r\n            return true;\r\n        }\r\n\r\n","title":"Java Aspect oriented - interface Around not working as expected when applied on a class","body":"<p>My interface code;</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Documented\n@Inherited\npublic @interface JwtTokenRequired {\n}\n</code></pre>\n<p>My aspect code</p>\n<pre><code>@Pointcut(&quot;execution(* com.compamy..*(..))&quot;)\npublic void controllerMethods() {}\n\n   @Around(&quot;@annotation(com.company.aspect.JwtTokenRequired)&quot;)\n    public Object validateJwtToken(ProceedingJoinPoint joinPoint) throws Throwable {\n        HttpServletRequest request = getRequest(joinPoint.getArgs());\n\n}\n</code></pre>\n<p>My controller class, if I set\n@JwtTokenRequired - on the method create, its going inside Around validate  token\nbut if I add it to the class level it wont, what could be the issue ?</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/content&quot;)\n@JwtTokenRequired\npublic class Content extends AbstractController{\n\n\n    @PostMapping(&quot;/create&quot;)\n    public boolean create() {\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","android","networking","wifi"],"answers":[{"tags":[],"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684213440,"creation_date":1684213440,"answer_id":76259534,"question_id":76258363,"body_markdown":"Handle network state changes When the network state changes, such as when the Wi-Fi network changes, your app should react accordingly. If the network is available, you can continue fetching data or updating the RecyclerView. If the network is unavailable, you can display cached data or show a message indicating that the app is offline.\r\n\r\n - You can try like this \r\n\r\n       // Register the network change receiver\r\n        private void registerNetworkChangeReceiver(Activity activity) {\r\n            networkChangeReceiver = new NetworkChangeReceiver();\r\n            activity.registerReceiver(networkChangeReceiver, new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\r\n        }\r\n    \r\n        // Unregister the network change receiver\r\n        private void unregisterNetworkChangeReceiver(Activity activity) {\r\n            if (networkChangeReceiver != null) {\r\n                try {\r\n                    activity.unregisterReceiver(networkChangeReceiver);\r\n                } catch (IllegalArgumentException e) {\r\n                    Log.e(&quot;MesaAdapter&quot;, &quot;Exception while unregistering NetworkChangeReceiver: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Network state change receiver\r\n        private class NetworkChangeReceiver extends BroadcastReceiver {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                if (intent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION)) {\r\n                    ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n                    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n                    boolean isNetworkConnected = activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\r\n    \r\n                    if (isNetworkConnected &amp;&amp; !isNetworkAvailable) {\r\n                        // Network connection is restored\r\n                        isNetworkAvailable = true;\r\n                        // Handle data refresh or retrieval here\r\n                        // ...\r\n                    } else if (!isNetworkConnected &amp;&amp; isNetworkAvailable) {\r\n                        // Network connection is lost\r\n                        isNetworkAvailable = false;\r\n                        // Display offline data or show a message indicating no network\r\n                        // ...\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        // Clean up resources\r\n        public void onDestroy(Activity activity) {\r\n            unregisterNetworkChangeReceiver(activity);\r\n        }\r\n        }\r\n\r\nI just hope it&#39;s work for you ","title":"RecyclerView lost data if wifi network change","body":"<p>Handle network state changes When the network state changes, such as when the Wi-Fi network changes, your app should react accordingly. If the network is available, you can continue fetching data or updating the RecyclerView. If the network is unavailable, you can display cached data or show a message indicating that the app is offline.</p>\n<ul>\n<li><p>You can try like this</p>\n<pre><code>// Register the network change receiver\n private void registerNetworkChangeReceiver(Activity activity) {\n     networkChangeReceiver = new NetworkChangeReceiver();\n     activity.registerReceiver(networkChangeReceiver, new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\n }\n\n // Unregister the network change receiver\n private void unregisterNetworkChangeReceiver(Activity activity) {\n     if (networkChangeReceiver != null) {\n         try {\n             activity.unregisterReceiver(networkChangeReceiver);\n         } catch (IllegalArgumentException e) {\n             Log.e(&quot;MesaAdapter&quot;, &quot;Exception while unregistering NetworkChangeReceiver: &quot; + e.getMessage());\n         }\n     }\n }\n\n // Network state change receiver\n private class NetworkChangeReceiver extends BroadcastReceiver {\n     @Override\n     public void onReceive(Context context, Intent intent) {\n         if (intent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION)) {\n             ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n             NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n             boolean isNetworkConnected = activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\n\n             if (isNetworkConnected &amp;&amp; !isNetworkAvailable) {\n                 // Network connection is restored\n                 isNetworkAvailable = true;\n                 // Handle data refresh or retrieval here\n                 // ...\n             } else if (!isNetworkConnected &amp;&amp; isNetworkAvailable) {\n                 // Network connection is lost\n                 isNetworkAvailable = false;\n                 // Display offline data or show a message indicating no network\n                 // ...\n             }\n         }\n     }\n }\n\n // Clean up resources\n public void onDestroy(Activity activity) {\n     unregisterNetworkChangeReceiver(activity);\n }\n }\n</code></pre>\n</li>\n</ul>\n<p>I just hope it's work for you</p>\n"}],"owner":{"account_id":12428812,"reputation":13,"user_id":11064800,"display_name":"anthony jos&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76259534,"answer_count":1,"score":0,"last_activity_date":1684213440,"creation_date":1684190838,"question_id":76258363,"body_markdown":"When the device change network the list data retrieved fro sql server disappears, if I close application and login again the data appear.\r\n```\r\npublic class MesaAdapter extends Adapter&lt;MesaViewHolder&gt; implements OnClickListener, OnLongClickListener {\r\n    //region Vari&#225;veis\r\n    private int posicaoSelecionada = -1;\r\n    private WeakReference&lt;Activity&gt; activityWeakReference;\r\n    private WeakReference&lt;OnSelectedMesaListener&gt; listenerWeakReference;\r\n    private List&lt;Mesa&gt; mesas;\r\n    //endregion\r\n\r\n    //region Construtor\r\n    public MesaAdapter(List&lt;Mesa&gt; mesas, Activity activity, OnSelectedMesaListener listener) {\r\n        this.mesas = mesas;\r\n        this.activityWeakReference = new WeakReference&lt;&gt;(activity);\r\n        this.listenerWeakReference = new WeakReference&lt;&gt;(listener);\r\n    }\r\n    //endregion\r\n\r\n    //region Adapter\r\n    @NonNull\r\n    @Override\r\n    public MesaViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        Context context = parent.getContext();\r\n        View itemView = LayoutInflater.from(context).inflate(R.layout.item_mesa, parent, false);\r\n        itemView.setOnClickListener(this);\r\n        itemView.setOnLongClickListener(this);\r\n        Activity activity = activityWeakReference.get();\r\n        if (activity != null) {\r\n            activity.registerForContextMenu(itemView);\r\n        }\r\n        return new MesaViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MesaViewHolder holder, int position) {\r\n        holder.itemView.setTag(position);\r\n        Mesa mesa = mesas.get(position);\r\n        holder.configurarMesa(mesa);\r\n    }\r\n```","title":"RecyclerView lost data if wifi network change","body":"<p>When the device change network the list data retrieved fro sql server disappears, if I close application and login again the data appear.</p>\n<pre><code>public class MesaAdapter extends Adapter&lt;MesaViewHolder&gt; implements OnClickListener, OnLongClickListener {\n    //region Variáveis\n    private int posicaoSelecionada = -1;\n    private WeakReference&lt;Activity&gt; activityWeakReference;\n    private WeakReference&lt;OnSelectedMesaListener&gt; listenerWeakReference;\n    private List&lt;Mesa&gt; mesas;\n    //endregion\n\n    //region Construtor\n    public MesaAdapter(List&lt;Mesa&gt; mesas, Activity activity, OnSelectedMesaListener listener) {\n        this.mesas = mesas;\n        this.activityWeakReference = new WeakReference&lt;&gt;(activity);\n        this.listenerWeakReference = new WeakReference&lt;&gt;(listener);\n    }\n    //endregion\n\n    //region Adapter\n    @NonNull\n    @Override\n    public MesaViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        Context context = parent.getContext();\n        View itemView = LayoutInflater.from(context).inflate(R.layout.item_mesa, parent, false);\n        itemView.setOnClickListener(this);\n        itemView.setOnLongClickListener(this);\n        Activity activity = activityWeakReference.get();\n        if (activity != null) {\n            activity.registerForContextMenu(itemView);\n        }\n        return new MesaViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MesaViewHolder holder, int position) {\n        holder.itemView.setTag(position);\n        Mesa mesa = mesas.get(position);\n        holder.configurarMesa(mesa);\n    }\n</code></pre>\n"},{"tags":["java","microsoft-teams","microsoft-teams-js"],"comments":[{"owner":{"account_id":23205773,"reputation":379,"user_id":17300012,"display_name":"Sayali-MSFT"},"score":0,"creation_date":1684319301,"post_id":76254990,"comment_id":134499998,"body_markdown":"You need to implement this using Graph API only.\nYou can use the activity feed notification APIs in Microsoft Graph to extend this functionality to your apps.\nRef sample-https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/graph-activity-feed/csharp","body":"You need to implement this using Graph API only. You can use the activity feed notification APIs in Microsoft Graph to extend this functionality to your apps. Ref sample-<a href=\"https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/graph-activity-feed/csharp\" rel=\"nofollow noreferrer\">github.com/OfficeDev/Microsoft-Teams-Samples/tree/mai&zwnj;&#8203;n/samples/&hellip;</a>"}],"owner":{"account_id":11015826,"reputation":1,"user_id":8091708,"display_name":"Scorpion_Beardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684213215,"creation_date":1684159962,"question_id":76254990,"body_markdown":"I am working on a MS teams notification bot. I am able to send notification, I am getting a card banner as soon as notification is received. I have used adaptive cards for content. I want to show that notification in Activity feed too, so that the user still has a reminder to which he should respond. \r\nI am not able to find any reference information on how to achieve that. \r\n\r\nI am using \r\n```\r\ncontext.sendActivity(notification); \r\n```\r\nto send notification. \r\n\r\nHow can I show the same notification in Activity feed ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have researched, but most of the articles point to microsoft Graph API. Which I am not using. I am looking for some way to implement this without using graph api\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JT9pq.png","title":"How to send notification to activity tab of Microsoft teams using Teamsjs?","body":"<p>I am working on a MS teams notification bot. I am able to send notification, I am getting a card banner as soon as notification is received. I have used adaptive cards for content. I want to show that notification in Activity feed too, so that the user still has a reminder to which he should respond.\nI am not able to find any reference information on how to achieve that.</p>\n<p>I am using</p>\n<pre><code>context.sendActivity(notification); \n</code></pre>\n<p>to send notification.</p>\n<p>How can I show the same notification in Activity feed ?</p>\n<p><a href=\"https://i.stack.imgur.com/JT9pq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JT9pq.png\" alt=\"enter image description here\" /></a></p>\n<p>I have researched, but most of the articles point to microsoft Graph API. Which I am not using. I am looking for some way to implement this without using graph api</p>\n"},{"tags":["java","spring","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":6885293,"reputation":121,"user_id":5290586,"display_name":"Steven Lewis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684212216,"creation_date":1684212216,"answer_id":76259463,"question_id":76258519,"body_markdown":"You&#39;re going to have to either implement your own copy method, or convince BeanUtils to skip the copy on one side or the other. Something like this, possibly:\r\n\r\nhttps://stackoverflow.com/questions/17417345/beanutils-copyproperties-api-to-ignore-null-and-specific-propertie\r\n\r\nEDIT: Also, without seeing the stack trace, I assume the problem is in the copy, not on the save, but I could be wrong.","title":"Spring data Jpa OneToMany relation between two entities causes circular dependency","body":"<p>You're going to have to either implement your own copy method, or convince BeanUtils to skip the copy on one side or the other. Something like this, possibly:</p>\n<p><a href=\"https://stackoverflow.com/questions/17417345/beanutils-copyproperties-api-to-ignore-null-and-specific-propertie\">BeanUtils copyProperties API to ignore null and specific propertie</a></p>\n<p>EDIT: Also, without seeing the stack trace, I assume the problem is in the copy, not on the save, but I could be wrong.</p>\n"}],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684212216,"creation_date":1684193388,"question_id":76258519,"body_markdown":"I have two entities, one is Meal and one is Category. Each category (essentially types of meals, breakfast, dinner etc).\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\n\r\nimport java.io.Serial;\r\nimport java.io.Serializable;\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDateTime;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;meal_table&quot;)\r\n@EqualsAndHashCode(exclude = {&quot;category&quot;})\r\npublic class Meal implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 888L;\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;id_sequence&quot;,\r\n            sequenceName = &quot;id_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,generator = &quot;id_sequence&quot;)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;categoryId&quot;, referencedColumnName = &quot;id&quot;)\r\n    @JsonIgnoreProperties(&quot;meals&quot;)\r\n    private Category category;\r\n\r\n    private BigDecimal price;\r\n    //item code\r\n    private String code;\r\n\r\n    private String imgUrl;\r\n    private String description;\r\n\r\n    // 0 unavailable 1 available\r\n    private Integer status;\r\n\r\n//    private LocalDateTime createTime;\r\n//    private LocalDateTime updateTime;\r\n\r\n}\r\n\r\n```\r\n```\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.ToString;\r\n\r\nimport java.io.Serial;\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Data\r\n@Entity\r\n@Table(name = &quot;category_table&quot;)\r\n@EqualsAndHashCode(exclude = &quot;meals&quot;)\r\npublic class Category implements Serializable {\r\n    @Serial\r\n    private static final long serialVersionUID = 888L;\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;id_sequence&quot;,\r\n            sequenceName = &quot;id_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,generator = &quot;id_sequence&quot;)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;category&quot;,cascade = CascadeType.ALL)\r\n    @ToString.Exclude\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;, &quot;category&quot;})\r\n    Set&lt;Meal&gt; meals = new HashSet&lt;&gt;();\r\n\r\n    public void addMeal(Meal meal){\r\n        meals.add(meal);\r\n    }\r\n}\r\n\r\n```\r\nI also have a simple DTO class\r\n```\r\n@Data\r\npublic class MealDto extends Meal {\r\n    private String categoryName;\r\n    private Integer copies;\r\n}\r\n```\r\nThis is the method I used to save the newly added meal\r\n```\r\n@PostMapping(&quot;/&quot;)\r\n    public CommonResult saveMeal(@RequestBody MealDto mealDto){\r\n        log.info(mealDto.toString());\r\n        Category c = categoryService.findByName(mealDto.getCategoryName());\r\n// it alwyas prints the desired Category instance.\r\n        log.info(c.toString());\r\n\r\n        Meal meal = new Meal();\r\n        BeanUtils.copyProperties(mealDto, meal);\r\n        log.info(meal.toString());\r\n        c.addMeal(meal);\r\n        //https://stackoverflow.com/a/44263632/13062745\r\n        meal.setCategory(c);\r\n        mealService.save(meal);\r\n        return CommonResult.success();\r\n    }\r\n```\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nHowever, when I ran the post method in debug mode, I can see that there is an infinite nested dependency of &#39;Category&#39; and &#39;Meal&#39; after calling ```meal.setCategory(c)```. I&#39;ve tried several ways but still not working.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6eE4O.png","title":"Spring data Jpa OneToMany relation between two entities causes circular dependency","body":"<p>I have two entities, one is Meal and one is Category. Each category (essentially types of meals, breakfast, dinner etc).</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\n\nimport java.io.Serial;\nimport java.io.Serializable;\nimport java.math.BigDecimal;\nimport java.time.LocalDateTime;\n\n@Data\n@Entity\n@Table(name = &quot;meal_table&quot;)\n@EqualsAndHashCode(exclude = {&quot;category&quot;})\npublic class Meal implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 888L;\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;id_sequence&quot;,\n            sequenceName = &quot;id_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,generator = &quot;id_sequence&quot;)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;categoryId&quot;, referencedColumnName = &quot;id&quot;)\n    @JsonIgnoreProperties(&quot;meals&quot;)\n    private Category category;\n\n    private BigDecimal price;\n    //item code\n    private String code;\n\n    private String imgUrl;\n    private String description;\n\n    // 0 unavailable 1 available\n    private Integer status;\n\n//    private LocalDateTime createTime;\n//    private LocalDateTime updateTime;\n\n}\n\n</code></pre>\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.ToString;\n\nimport java.io.Serial;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Data\n@Entity\n@Table(name = &quot;category_table&quot;)\n@EqualsAndHashCode(exclude = &quot;meals&quot;)\npublic class Category implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 888L;\n    @Id\n    @SequenceGenerator(\n            name = &quot;id_sequence&quot;,\n            sequenceName = &quot;id_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,generator = &quot;id_sequence&quot;)\n    private Long id;\n\n    @Column(unique = true)\n    private String name;\n\n\n    @OneToMany(mappedBy = &quot;category&quot;,cascade = CascadeType.ALL)\n    @ToString.Exclude\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;, &quot;category&quot;})\n    Set&lt;Meal&gt; meals = new HashSet&lt;&gt;();\n\n    public void addMeal(Meal meal){\n        meals.add(meal);\n    }\n}\n\n</code></pre>\n<p>I also have a simple DTO class</p>\n<pre><code>@Data\npublic class MealDto extends Meal {\n    private String categoryName;\n    private Integer copies;\n}\n</code></pre>\n<p>This is the method I used to save the newly added meal</p>\n<pre><code>@PostMapping(&quot;/&quot;)\n    public CommonResult saveMeal(@RequestBody MealDto mealDto){\n        log.info(mealDto.toString());\n        Category c = categoryService.findByName(mealDto.getCategoryName());\n// it alwyas prints the desired Category instance.\n        log.info(c.toString());\n\n        Meal meal = new Meal();\n        BeanUtils.copyProperties(mealDto, meal);\n        log.info(meal.toString());\n        c.addMeal(meal);\n        //https://stackoverflow.com/a/44263632/13062745\n        meal.setCategory(c);\n        mealService.save(meal);\n        return CommonResult.success();\n    }\n</code></pre>\n<br>\n<br>\nHowever, when I ran the post method in debug mode, I can see that there is an infinite nested dependency of 'Category' and 'Meal' after calling ```meal.setCategory(c)```. I've tried several ways but still not working.\n<p><a href=\"https://i.stack.imgur.com/6eE4O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eE4O.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684227555,"post_id":76259375,"comment_id":134483170,"body_markdown":"What makes you think that the problem is to do with the pie chart? Your stack trace is arising from a button click. In fact it is ultimately undesirable to use gui builders as they produce unmaintainable black box code which is also fragile. Better to learn to use layout managers","body":"What makes you think that the problem is to do with the pie chart? Your stack trace is arising from a button click. In fact it is ultimately undesirable to use gui builders as they produce unmaintainable black box code which is also fragile. Better to learn to use layout managers"},{"owner":{"account_id":6776404,"reputation":13,"user_id":5218040,"display_name":"Adrian Totolici"},"score":0,"creation_date":1684233987,"post_id":76259375,"comment_id":134484673,"body_markdown":"I am not sure if this is related with button click. What I know is that after I added the chart panel  ( chartPanel) to a panel (pieChartPanel) created in GUI got this error. I am sure I am missing some configuration  before adding it, but I don&#39;t know what.","body":"I am not sure if this is related with button click. What I know is that after I added the chart panel  ( chartPanel) to a panel (pieChartPanel) created in GUI got this error. I am sure I am missing some configuration  before adding it, but I don&#39;t know what."},{"owner":{"account_id":6776404,"reputation":13,"user_id":5218040,"display_name":"Adrian Totolici"},"score":0,"creation_date":1684295874,"post_id":76259375,"comment_id":134495836,"body_markdown":"Issue solved by using and adding maven dependency: \n```\n    &lt;dependency&gt;             \n        &lt;groupId&gt;com.intellij&lt;/groupId&gt;             \n        &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;             \n        &lt;version&gt;7.0.3&lt;/version&gt;         \n    &lt;/dependency&gt; \n```\nAnd changing this code line: \n\n`pieChartPanel.add(chartPanel,new GridConstraints());`","body":"Issue solved by using and adding maven dependency:  ```     &lt;dependency&gt;                      &lt;groupId&gt;com.intellij&lt;/groupId&gt;                      &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;                      &lt;version&gt;7.0.3&lt;/version&gt;              &lt;/dependency&gt;  ``` And changing this code line:   <code>pieChartPanel.add(chartPanel,new GridConstraints());</code>"}],"owner":{"account_id":6776404,"reputation":13,"user_id":5218040,"display_name":"Adrian Totolici"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684211761,"creation_date":1684210814,"question_id":76259375,"body_markdown":"I have created frame with panels in IntelliJ IDEA UI designer, but when I wanted to add a Pie chart it returned an error.\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;com.intellij.uiDesigner.core.GridConstraints.getRow()&quot; because &quot;c&quot; is null\r\n\tat com.intellij.uiDesigner.core.GridLayoutManager.addLayoutComponent(GridLayoutManager.java:134)\r\n\tat java.desktop/java.awt.Container.addImpl(Container.java:1156)\r\n\tat java.desktop/java.awt.Container.add(Container.java:493)\r\n\tat org.homemade.stockmanager.GuiStockLogic.initGeneralShareInfo(GuiStockLogic.java:447)\r\n\tat org.homemade.stockmanager.GuiStockLogic.updateStockTable(GuiStockLogic.java:257)\r\n\tat org.homemade.stockmanager.GuiStockLogic.showStockTable(GuiStockLogic.java:166)\r\n\tat org.homemade.stockmanager.GuiStockLogic.init(GuiStockLogic.java:264)\r\n\tat org.homemade.main.MainGuiLogic.lambda$init$1(MainGuiLogic.java:50)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n```\r\n\r\n\r\nHere is my implementation:\r\n```\r\n    DefaultPieDataset dataset = new DefaultPieDataset();\r\n    dataset.setValue(&quot;Category 1&quot;, 20);\r\n    dataset.setValue(&quot;Category 2&quot;, 30);\r\n    dataset.setValue(&quot;Category 3&quot;, 50);\r\n    JFreeChart chart = ChartFactory.createPieChart(&quot;Pie Chart&quot;, dataset, true, true, false);\r\n    ChartPanel chartPanel = new ChartPanel(chart);\r\n    chartPanel.setPreferredSize(new java.awt.Dimension(400, 300));\r\n    pieChartPanel.add(chartPanel,0);\r\n```","title":"Adding a piechart element to a panel created in build com.intellij.uiDesigner","body":"<p>I have created frame with panels in IntelliJ IDEA UI designer, but when I wanted to add a Pie chart it returned an error.</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;com.intellij.uiDesigner.core.GridConstraints.getRow()&quot; because &quot;c&quot; is null\n    at com.intellij.uiDesigner.core.GridLayoutManager.addLayoutComponent(GridLayoutManager.java:134)\n    at java.desktop/java.awt.Container.addImpl(Container.java:1156)\n    at java.desktop/java.awt.Container.add(Container.java:493)\n    at org.homemade.stockmanager.GuiStockLogic.initGeneralShareInfo(GuiStockLogic.java:447)\n    at org.homemade.stockmanager.GuiStockLogic.updateStockTable(GuiStockLogic.java:257)\n    at org.homemade.stockmanager.GuiStockLogic.showStockTable(GuiStockLogic.java:166)\n    at org.homemade.stockmanager.GuiStockLogic.init(GuiStockLogic.java:264)\n    at org.homemade.main.MainGuiLogic.lambda$init$1(MainGuiLogic.java:50)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n</code></pre>\n<p>Here is my implementation:</p>\n<pre><code>    DefaultPieDataset dataset = new DefaultPieDataset();\n    dataset.setValue(&quot;Category 1&quot;, 20);\n    dataset.setValue(&quot;Category 2&quot;, 30);\n    dataset.setValue(&quot;Category 3&quot;, 50);\n    JFreeChart chart = ChartFactory.createPieChart(&quot;Pie Chart&quot;, dataset, true, true, false);\n    ChartPanel chartPanel = new ChartPanel(chart);\n    chartPanel.setPreferredSize(new java.awt.Dimension(400, 300));\n    pieChartPanel.add(chartPanel,0);\n</code></pre>\n"},{"tags":["java","big-o"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1684211997,"post_id":76258979,"comment_id":134480375,"body_markdown":"Why do you need to &quot;find all positions&quot;? I recommend keeping track of where each element ends up.","body":"Why do you need to &quot;find all positions&quot;? I recommend keeping track of where each element ends up."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1684273524,"post_id":76258979,"comment_id":134493811,"body_markdown":"Note that you could simplify your &#39;multimap&#39; code to remove the if statement with `results.computeIfAbsent(sortedInput.get(i), v-&gt; new ArrayList&lt;&gt;()).add(i)`","body":"Note that you could simplify your &#39;multimap&#39; code to remove the if statement with <code>results.computeIfAbsent(sortedInput.get(i), v-&gt; new ArrayList&lt;&gt;()).add(i)</code>"}],"answers":[{"tags":[],"owner":{"account_id":17650669,"reputation":1,"user_id":12811192,"display_name":"ulac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684207009,"creation_date":1684207009,"answer_id":76259175,"question_id":76258979,"body_markdown":"Modify according to your code\r\n\r\n```\r\n  public static List&lt;Integer&gt; findAllPositions(List&lt;Integer&gt; input) {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\r\n    List&lt;Integer&gt; sortedInput = new ArrayList&lt;&gt;(input);\r\n\r\n    Collections.sort(sortedInput);\r\n\r\n    for (int i = 0; i &lt; sortedInput.size(); i++) {\r\n      int num = sortedInput.get(i);\r\n      if (!result.containsKey(num)) {\r\n        result.put(num, new ArrayList&lt;&gt;());\r\n      }\r\n      result.get(num).add(i);\r\n    }\r\n\r\n    List&lt;Integer&gt; result2 = new ArrayList&lt;&gt;();\r\n    for (int j = 0; j &lt; input.size(); j++) {\r\n      List&lt;Integer&gt; tmp =result.get(input.get(j));\r\n      if (tmp != null &amp;&amp; tmp.size() &gt; 0) {\r\n        result2.add(tmp.get(0));\r\n        tmp.remove(0);\r\n      }\r\n    }\r\n    return result2;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    List&lt;Integer&gt; input = Arrays.asList(33, 44, 33, 11, 22);\r\n    System.out.println(findAllPositions(input));\r\n  }\r\n```","title":"Map every element to its position in the array as if it was sorted","body":"<p>Modify according to your code</p>\n<pre><code>  public static List&lt;Integer&gt; findAllPositions(List&lt;Integer&gt; input) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\n    List&lt;Integer&gt; sortedInput = new ArrayList&lt;&gt;(input);\n\n    Collections.sort(sortedInput);\n\n    for (int i = 0; i &lt; sortedInput.size(); i++) {\n      int num = sortedInput.get(i);\n      if (!result.containsKey(num)) {\n        result.put(num, new ArrayList&lt;&gt;());\n      }\n      result.get(num).add(i);\n    }\n\n    List&lt;Integer&gt; result2 = new ArrayList&lt;&gt;();\n    for (int j = 0; j &lt; input.size(); j++) {\n      List&lt;Integer&gt; tmp =result.get(input.get(j));\n      if (tmp != null &amp;&amp; tmp.size() &gt; 0) {\n        result2.add(tmp.get(0));\n        tmp.remove(0);\n      }\n    }\n    return result2;\n  }\n\n  public static void main(String[] args) {\n    List&lt;Integer&gt; input = Arrays.asList(33, 44, 33, 11, 22);\n    System.out.println(findAllPositions(input));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684211286,"creation_date":1684211286,"answer_id":76259400,"question_id":76258979,"body_markdown":"Instead of using a map you could create index, value records and sort those. The results could then be used to generate the result:\r\n\r\n    record Pair(int index, int value) {}\r\n\r\n    List&lt;Integer&gt; sorted = IntStream.range(0, input.length)\r\n        .mapToObj(i -&gt; new Pair(i, input[i]))\r\n        .sorted(Comparator.comparingInt(Pair::value))\r\n        .map(Pair::index).toList();\r\n    int[] output = IntStream.range(0, input.length)\r\n        .map(sorted::indexOf).toArray();","title":"Map every element to its position in the array as if it was sorted","body":"<p>Instead of using a map you could create index, value records and sort those. The results could then be used to generate the result:</p>\n<pre><code>record Pair(int index, int value) {}\n\nList&lt;Integer&gt; sorted = IntStream.range(0, input.length)\n    .mapToObj(i -&gt; new Pair(i, input[i]))\n    .sorted(Comparator.comparingInt(Pair::value))\n    .map(Pair::index).toList();\nint[] output = IntStream.range(0, input.length)\n    .map(sorted::indexOf).toArray();\n</code></pre>\n"}],"owner":{"account_id":22373685,"reputation":11,"user_id":16588335,"display_name":"Giovanny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684211286,"creation_date":1684203637,"question_id":76258979,"body_markdown":"I&#39;m currently preping for coding interviews and I want to know what other have for this question. \r\n\r\nMap every element to its position in the array as\r\nif it was sorted. Now we need to return a new array where every element is mapped to its\r\nposition in the sorted array.\r\n\r\n* Input: `[33, 44, 33, 11, 22]`\r\n* Output: `[2, 4, 3, 0, 1]`\r\n\r\n`[11, 22, 33, 33, 44]` (how it would look like if it was sorted)\r\n\r\nWhat would be your approach and solution to the time and space complexities?\r\n\r\nThe farthest I got was:\r\n\r\n``` java\r\npublic static Map&lt;Integer, List&lt;Integer&gt;&gt; findAllPositions(List&lt;Integer&gt; input) {\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\r\n    List&lt;Integer&gt; sortedInput = new ArrayList&lt;&gt;(input);\r\n    Collections.sort(sortedInput);\r\n\r\n    for (int i = 0; i &lt; sortedInput.size(); i++) {\r\n        int num = sortedInput.get(i);\r\n        if (!result.containsKey(num)) {\r\n            result.put(num, new ArrayList&lt;&gt;());\r\n        }\r\n        result.get(num).add(i);\r\n    }\r\n    return result;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    List&lt;Integer&gt; input = Arrays.asList(33, 44, 33, 11, 22);\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; positions = findAllPositions(input);\r\n    System.out.println(positions); // {1=[0, 1], 2=[2], 3=[3], 4=[4]}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Map every element to its position in the array as if it was sorted","body":"<p>I'm currently preping for coding interviews and I want to know what other have for this question.</p>\n<p>Map every element to its position in the array as\nif it was sorted. Now we need to return a new array where every element is mapped to its\nposition in the sorted array.</p>\n<ul>\n<li>Input: <code>[33, 44, 33, 11, 22]</code></li>\n<li>Output: <code>[2, 4, 3, 0, 1]</code></li>\n</ul>\n<p><code>[11, 22, 33, 33, 44]</code> (how it would look like if it was sorted)</p>\n<p>What would be your approach and solution to the time and space complexities?</p>\n<p>The farthest I got was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;Integer, List&lt;Integer&gt;&gt; findAllPositions(List&lt;Integer&gt; input) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\n    List&lt;Integer&gt; sortedInput = new ArrayList&lt;&gt;(input);\n    Collections.sort(sortedInput);\n\n    for (int i = 0; i &lt; sortedInput.size(); i++) {\n        int num = sortedInput.get(i);\n        if (!result.containsKey(num)) {\n            result.put(num, new ArrayList&lt;&gt;());\n        }\n        result.get(num).add(i);\n    }\n    return result;\n}\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; input = Arrays.asList(33, 44, 33, 11, 22);\n    Map&lt;Integer, List&lt;Integer&gt;&gt; positions = findAllPositions(input);\n    System.out.println(positions); // {1=[0, 1], 2=[2], 3=[3], 4=[4]}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1684197759,"post_id":76258616,"comment_id":134479105,"body_markdown":"You can it without Spring with the Java Date and Files API.","body":"You can it without Spring with the Java Date and Files API."},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1684219056,"post_id":76258616,"comment_id":134481274,"body_markdown":"If your target is to store log files you could also utilize slf4j/logback","body":"If your target is to store log files you could also utilize slf4j/logback"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684211277,"creation_date":1684211277,"answer_id":76259398,"question_id":76258616,"body_markdown":"Task like this is not in the focus of Spring Boot framework, so the direct answer to your question is: No, there is nothing particular in spring boot that can help you.\r\nHaving said that, Java has enough APIs to achieve this task:\r\n\r\n* Use java time API to get the current day, month, year\r\n* Use File API to create files, folders, etc.","title":"Spring Boot - Is there a way to create folders with date parameter names?","body":"<p>Task like this is not in the focus of Spring Boot framework, so the direct answer to your question is: No, there is nothing particular in spring boot that can help you.\nHaving said that, Java has enough APIs to achieve this task:</p>\n<ul>\n<li>Use java time API to get the current day, month, year</li>\n<li>Use File API to create files, folders, etc.</li>\n</ul>\n"}],"owner":{"account_id":21477997,"reputation":51,"user_id":15825902,"display_name":"Djorkaeff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76259398,"answer_count":1,"score":0,"last_activity_date":1684211277,"creation_date":1684195502,"question_id":76258616,"body_markdown":"I would like to know if there is any method or function in Spring Boot that allows you to create folders with names of year, month and day, and that they are subsequently created with the current system date?\r\n\r\n**Like this example:**\r\n\r\n    Year: 2023 --\r\n    |           |\r\n    |           Month: 05 --\r\n    |           |          |\r\n    |           |          Day: 15\r\n    |           |               16\r\n    |           |               17\r\n    |           Month: 06 --\r\n    |                      |\r\n    |                      Day: 01\r\n    |                           02\r\n    |                           03\r\n    Year: 2024 --\r\n                |\r\n                Month: 01 --\r\n                |          |\r\n                |          Day: 03\r\n                |               04\r\n                |               05\r\n                Month: 02 --\r\n                           |\r\n                           Day: 01\r\n                                02\r\n                                03\r\n\r\nI would appreciate any comments and support that gives me the solution.","title":"Spring Boot - Is there a way to create folders with date parameter names?","body":"<p>I would like to know if there is any method or function in Spring Boot that allows you to create folders with names of year, month and day, and that they are subsequently created with the current system date?</p>\n<p><strong>Like this example:</strong></p>\n<pre><code>Year: 2023 --\n|           |\n|           Month: 05 --\n|           |          |\n|           |          Day: 15\n|           |               16\n|           |               17\n|           Month: 06 --\n|                      |\n|                      Day: 01\n|                           02\n|                           03\nYear: 2024 --\n            |\n            Month: 01 --\n            |          |\n            |          Day: 03\n            |               04\n            |               05\n            Month: 02 --\n                       |\n                       Day: 01\n                            02\n                            03\n</code></pre>\n<p>I would appreciate any comments and support that gives me the solution.</p>\n"},{"tags":["java","timeout","urlconnection"],"comments":[{"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"score":0,"creation_date":1278053344,"post_id":3163693,"comment_id":3254003,"body_markdown":"Does it hang? What happens? Are you reading from the stream?","body":"Does it hang? What happens? Are you reading from the stream?"},{"owner":{"account_id":607385,"reputation":3797,"user_id":321927,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1278053695,"post_id":3163693,"comment_id":3254029,"body_markdown":"No it doesn&#39;t hang and no exceptions. After parsing my variables are simply empty.","body":"No it doesn&#39;t hang and no exceptions. After parsing my variables are simply empty."},{"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"score":3,"creation_date":1278054485,"post_id":3163693,"comment_id":3254098,"body_markdown":"Let&#39;s see more code then, please.","body":"Let&#39;s see more code then, please."},{"owner":{"account_id":72512,"reputation":1061,"user_id":209334,"accept_rate":86,"display_name":"Andreas Mattisson"},"score":0,"creation_date":1302856515,"post_id":3163693,"comment_id":6476992,"body_markdown":"Have you solved the question? I experience the same problem..","body":"Have you solved the question? I experience the same problem.."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1549019981,"post_id":3163693,"comment_id":95763714,"body_markdown":"That&#39;s not how it works. A read timeout affects individual reads, not the total read time. Where&#39;s the rest of your code?","body":"That&#39;s not how it works. A read timeout affects individual reads, not the total read time. Where&#39;s the rest of your code?"}],"answers":[{"tags":[],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1294453447,"creation_date":1294453447,"answer_id":4632014,"question_id":3163693,"body_markdown":"Try this:\r\n\r\n           import java.net.HttpURLConnection;\r\n \r\n           URL url = new URL(&quot;http://www.myurl.com/sample.xml&quot;);\r\n\r\n           HttpURLConnection huc = (HttpURLConnection) url.openConnection();\r\n           HttpURLConnection.setFollowRedirects(false);\r\n           huc.setConnectTimeout(15 * 1000);\r\n           huc.setRequestMethod(&quot;GET&quot;);\r\n           huc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729)&quot;);\r\n           huc.connect();\r\n           InputStream input = huc.getInputStream();\r\n\r\n##OR           \r\n\r\n           import org.jsoup.nodes.Document;\r\n           \r\n           Document doc = null;\r\n           try {\r\n               doc = Jsoup.connect(&quot;http://www.myurl.com/sample.xml&quot;).get();\r\n           } catch (Exception e) {\r\n               //log error\r\n           }\r\nAnd take look on how to use Jsoup: http://jsoup.org/cookbook/input/load-document-from-url","title":"Java URLConnection Timeout","body":"<p>Try this:</p>\n\n<pre><code>       import java.net.HttpURLConnection;\n\n       URL url = new URL(\"http://www.myurl.com/sample.xml\");\n\n       HttpURLConnection huc = (HttpURLConnection) url.openConnection();\n       HttpURLConnection.setFollowRedirects(false);\n       huc.setConnectTimeout(15 * 1000);\n       huc.setRequestMethod(\"GET\");\n       huc.setRequestProperty(\"User-Agent\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729)\");\n       huc.connect();\n       InputStream input = huc.getInputStream();\n</code></pre>\n\n<h2>OR</h2>\n\n<pre><code>       import org.jsoup.nodes.Document;\n\n       Document doc = null;\n       try {\n           doc = Jsoup.connect(\"http://www.myurl.com/sample.xml\").get();\n       } catch (Exception e) {\n           //log error\n       }\n</code></pre>\n\n<p>And take look on how to use Jsoup: <a href=\"http://jsoup.org/cookbook/input/load-document-from-url\" rel=\"noreferrer\">http://jsoup.org/cookbook/input/load-document-from-url</a></p>\n"},{"tags":[],"owner":{"account_id":191847,"reputation":1401,"user_id":432665,"display_name":"dino.keco"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1317390229,"creation_date":1317390229,"answer_id":7611294,"question_id":3163693,"body_markdown":"I have used similar code for downloading logs from servers. I debug my code and discovered that implementation of URLConnection which is returned is sun.net.www.protocol.http.HttpURLConnection. \r\n\r\nAbstract class java.net.URLConnection have two attributes connectTimeout and readTimeout and setters are in abstract class. Believe or not implementation sun.net.www.protocol.http.HttpURLConnection have same attributes connectTimeout and readTimeout without setters and attributes from implementation class are used in getInputStream method. So there is no use of setting connectTimeout and readTimeout because they are never used in getInputStream method. In my opinion this is bug in sun.net.www.protocol.http.HttpURLConnection implementation. \r\n\r\nMy solution for this was to use HttpClient and Get request.\r\n\r\n","title":"Java URLConnection Timeout","body":"<p>I have used similar code for downloading logs from servers. I debug my code and discovered that implementation of URLConnection which is returned is sun.net.www.protocol.http.HttpURLConnection. </p>\n\n<p>Abstract class java.net.URLConnection have two attributes connectTimeout and readTimeout and setters are in abstract class. Believe or not implementation sun.net.www.protocol.http.HttpURLConnection have same attributes connectTimeout and readTimeout without setters and attributes from implementation class are used in getInputStream method. So there is no use of setting connectTimeout and readTimeout because they are never used in getInputStream method. In my opinion this is bug in sun.net.www.protocol.http.HttpURLConnection implementation. </p>\n\n<p>My solution for this was to use HttpClient and Get request.</p>\n"},{"tags":[],"owner":{"account_id":55041,"reputation":11192,"user_id":164802,"display_name":"xpmatteo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1322041616,"creation_date":1322041616,"answer_id":8240069,"question_id":3163693,"body_markdown":"Are you on Windows? The underlying socket implementation on Windows seems not to support the SO_TIMEOUT option very well.  See also this answer: https://stackoverflow.com/questions/1306119/setsotimeout-on-a-client-socket-doesnt-affect-the-socket","title":"Java URLConnection Timeout","body":"<p>Are you on Windows? The underlying socket implementation on Windows seems not to support the SO_TIMEOUT option very well.  See also this answer: <a href=\"https://stackoverflow.com/questions/1306119/setsotimeout-on-a-client-socket-doesnt-affect-the-socket\">setSoTimeout on a client socket doesn&#39;t affect the socket</a></p>\n"},{"tags":[],"owner":{"account_id":381503,"reputation":3141,"user_id":736196,"accept_rate":96,"display_name":"kinghomer"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1380891687,"creation_date":1380891687,"answer_id":19181874,"question_id":3163693,"body_markdown":"You can manually force disconnection by a Thread sleep. This is an example:\r\n\r\n    URLConnection con = url.openConnection();\r\n    con.setConnectTimeout(5000);\r\n    con.setReadTimeout(5000);\r\n    new Thread(new InterruptThread(con)).start();\r\n\r\nthen\r\n\r\n    public class InterruptThread implements Runnable {\r\n\r\n        HttpURLConnection con;\r\n        public InterruptThread(HttpURLConnection con) {\r\n            this.con = con;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                Thread.sleep(5000); // or Thread.sleep(con.getConnectTimeout())\r\n            } catch (InterruptedException e) {\r\n    \r\n            }\r\n            con.disconnect();\r\n            System.out.println(&quot;Timer thread forcing to quit connection&quot;);\r\n        }\r\n    }","title":"Java URLConnection Timeout","body":"<p>You can manually force disconnection by a Thread sleep. This is an example:</p>\n\n<pre><code>URLConnection con = url.openConnection();\ncon.setConnectTimeout(5000);\ncon.setReadTimeout(5000);\nnew Thread(new InterruptThread(con)).start();\n</code></pre>\n\n<p>then</p>\n\n<pre><code>public class InterruptThread implements Runnable {\n\n    HttpURLConnection con;\n    public InterruptThread(HttpURLConnection con) {\n        this.con = con;\n    }\n\n    public void run() {\n        try {\n            Thread.sleep(5000); // or Thread.sleep(con.getConnectTimeout())\n        } catch (InterruptedException e) {\n\n        }\n        con.disconnect();\n        System.out.println(\"Timer thread forcing to quit connection\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1160493,"reputation":209,"user_id":1140084,"display_name":"Arjen Rodenhuis"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1430257574,"creation_date":1430257574,"answer_id":29930515,"question_id":3163693,"body_markdown":"You can set timeouts for all connections made from the jvm by changing the following System-properties:\r\n\r\n    System.setProperty(&quot;sun.net.client.defaultConnectTimeout&quot;, &quot;10000&quot;);\r\n    System.setProperty(&quot;sun.net.client.defaultReadTimeout&quot;, &quot;10000&quot;);\r\n\r\nEvery connection will time out after 10 seconds. \r\n\r\nSetting &#39;defaultReadTimeout&#39; is not needed, but shown as an example if you need to control reading.","title":"Java URLConnection Timeout","body":"<p>You can set timeouts for all connections made from the jvm by changing the following System-properties:</p>\n\n<pre><code>System.setProperty(\"sun.net.client.defaultConnectTimeout\", \"10000\");\nSystem.setProperty(\"sun.net.client.defaultReadTimeout\", \"10000\");\n</code></pre>\n\n<p>Every connection will time out after 10 seconds. </p>\n\n<p>Setting 'defaultReadTimeout' is not needed, but shown as an example if you need to control reading.</p>\n"}],"owner":{"account_id":607385,"reputation":3797,"user_id":321927,"accept_rate":81,"display_name":"Chris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140911,"favorite_count":0,"down_vote_count":1,"up_vote_count":67,"answer_count":5,"score":66,"last_activity_date":1684208770,"creation_date":1278052537,"question_id":3163693,"body_markdown":"I am trying to parse an XML file from an HTTP URL. I want to configure a timeout of 15 seconds if the XML fetch takes longer than that, I want to report a timeout. For some reason, the setConnectTimeout and setReadTimeout do not work. Here&#39;s the code:\r\n\r\n              URL url = new URL(&quot;http://www.myurl.com/sample.xml&quot;);\r\n              URLConnection urlConn = url.openConnection();\r\n              urlConn.setConnectTimeout(15000);\r\n              urlConn.setReadTimeout(15000);\r\n              urlConn.setAllowUserInteraction(false);         \r\n              urlConn.setDoOutput(true);\r\n \r\n              InputStream inStream = urlConn.getInputStream();\r\n              InputSource input = new InputSource(inStream);\r\n\r\n\r\nAnd I am catching the SocketTimeoutException.\r\n\r\nThanks\r\nChris","title":"Java URLConnection Timeout","body":"<p>I am trying to parse an XML file from an HTTP URL. I want to configure a timeout of 15 seconds if the XML fetch takes longer than that, I want to report a timeout. For some reason, the setConnectTimeout and setReadTimeout do not work. Here's the code:</p>\n\n<pre><code>          URL url = new URL(\"http://www.myurl.com/sample.xml\");\n          URLConnection urlConn = url.openConnection();\n          urlConn.setConnectTimeout(15000);\n          urlConn.setReadTimeout(15000);\n          urlConn.setAllowUserInteraction(false);         \n          urlConn.setDoOutput(true);\n\n          InputStream inStream = urlConn.getInputStream();\n          InputSource input = new InputSource(inStream);\n</code></pre>\n\n<p>And I am catching the SocketTimeoutException.</p>\n\n<p>Thanks\nChris</p>\n"},{"tags":["java","kotlin","gradle","spring-webflux","testcontainers"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683924876,"post_id":76239764,"comment_id":134446814,"body_markdown":"How is that type used in your project? Add the gradle configuration to your post.","body":"How is that type used in your project? Add the gradle configuration to your post."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1683925070,"post_id":76239764,"comment_id":134446843,"body_markdown":"I am building using the code that I listed via the repository link under the `bootiful` sub-project (see above). Can you try doing a `git clone` and building using `gradle build`?","body":"I am building using the code that I listed via the repository link under the <code>bootiful</code> sub-project (see above). Can you try doing a <code>git clone</code> and building using <code>gradle build</code>?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683925246,"post_id":76239764,"comment_id":134446881,"body_markdown":"That&#39;s not a minimal reproducible example appropriate for SO, as explained in the help center page: http://stackoverflow.com/help/minimal-reproducible-example. Also the warning is not an error. Does it fail without `--warning-mode=all`?","body":"That&#39;s not a minimal reproducible example appropriate for SO, as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. Also the warning is not an error. Does it fail without <code>--warning-mode=all</code>?"},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1683926302,"post_id":76239764,"comment_id":134447045,"body_markdown":"Yes, it does fail without `--warning-mode=all` but the cause was ambiguous... This is why I used the warning mode, to begin with. Just edited my post to reflect this (see above).","body":"Yes, it does fail without <code>--warning-mode=all</code> but the cause was ambiguous... This is why I used the warning mode, to begin with. Just edited my post to reflect this (see above)."},{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":1,"creation_date":1683931544,"post_id":76239764,"comment_id":134447642,"body_markdown":"It looks like maybe a problem with Docker.  Is that the full stacktrace?","body":"It looks like maybe a problem with Docker.  Is that the full stacktrace?"},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1683931887,"post_id":76239764,"comment_id":134447677,"body_markdown":"@JamesWard - yes, but I don&#39;t have Docker daemon running, just cloned the repo and `cd&#39;d` into `bootiful` dir and did a `gradle build`...","body":"@JamesWard - yes, but I don&#39;t have Docker daemon running, just cloned the repo and <code>cd&#39;d</code> into <code>bootiful</code> dir and did a <code>gradle build</code>..."},{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":0,"creation_date":1683932286,"post_id":76239764,"comment_id":134447710,"body_markdown":"Testcontainers uses the docker daemon directly.  So you definitely need a working docker daemon for that part to work.","body":"Testcontainers uses the docker daemon directly.  So you definitely need a working docker daemon for that part to work."},{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":1,"creation_date":1683932956,"post_id":76239764,"comment_id":134447768,"body_markdown":"`./gradlew build` runs the tests and that uses Testcontainers.","body":"<code>.&#47;gradlew build</code> runs the tests and that uses Testcontainers."},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1683933568,"post_id":76239764,"comment_id":134447842,"body_markdown":"`./gradlew build` didn&#39;t work, I already tried that as well and reported that in my post. Does the database or any other prerequisites need to be setup first?","body":"<code>.&#47;gradlew build</code> didn&#39;t work, I already tried that as well and reported that in my post. Does the database or any other prerequisites need to be setup first?"},{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":0,"creation_date":1683947499,"post_id":76239764,"comment_id":134448730,"body_markdown":"`./gradlew build` will not work without a docker daemon as it sets up a postgres db via docker using Testcontainers.","body":"<code>.&#47;gradlew build</code> will not work without a docker daemon as it sets up a postgres db via docker using Testcontainers."},{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":1,"creation_date":1684152583,"post_id":76239764,"comment_id":134470373,"body_markdown":"Can you run `./gradlew build --info` ?","body":"Can you run <code>.&#47;gradlew build --info</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684161306,"creation_date":1684161306,"answer_id":76255159,"question_id":76239764,"body_markdown":"According to your stacktrace, the issue you are experiencing is related to Docker:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\r\n```\r\n\r\nThe line 256 in `DockerClientProviderStrategy` has the following code:\r\n\r\n```java\r\nlog.error(\r\n    &quot;Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\\n&quot; +\r\n        configurationFailures.stream().map(it -&gt; &quot;\\t&quot; + it).collect(Collectors.joining(&quot;\\n&quot;)) +\r\n        &quot;As no valid configuration was found, execution cannot continue.\\n&quot; +\r\n        &quot;See https://www.testcontainers.org/on_failure.html for more details.&quot;\r\n);\r\n\r\nFAIL_FAST_ALWAYS.set(true);\r\nreturn new IllegalStateException(\r\n    &quot;Could not find a valid Docker environment. Please see logs and check configuration&quot;\r\n);\r\n```\r\n\r\nDid you have the opportunity to try the instructions provided here? https://www.testcontainers.org/on_failure.html \r\nhttps://www.testcontainers.org/supported_docker_environment/\r\n\r\nMy suggestion would be to try updating or reinstalling Docker. This could potentially solve the issue.","title":"gradle build error: The org.gradle.util.GFileUtils type has been deprecated when building Kotlin Spring WebFlux code","body":"<p>According to your stacktrace, the issue you are experiencing is related to Docker:</p>\n<pre><code>Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\n</code></pre>\n<p>The line 256 in <code>DockerClientProviderStrategy</code> has the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.error(\n    &quot;Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\\n&quot; +\n        configurationFailures.stream().map(it -&gt; &quot;\\t&quot; + it).collect(Collectors.joining(&quot;\\n&quot;)) +\n        &quot;As no valid configuration was found, execution cannot continue.\\n&quot; +\n        &quot;See https://www.testcontainers.org/on_failure.html for more details.&quot;\n);\n\nFAIL_FAST_ALWAYS.set(true);\nreturn new IllegalStateException(\n    &quot;Could not find a valid Docker environment. Please see logs and check configuration&quot;\n);\n</code></pre>\n<p>Did you have the opportunity to try the instructions provided here? <a href=\"https://www.testcontainers.org/on_failure.html\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/on_failure.html</a>\n<a href=\"https://www.testcontainers.org/supported_docker_environment/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/supported_docker_environment/</a></p>\n<p>My suggestion would be to try updating or reinstalling Docker. This could potentially solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684206849,"creation_date":1684206849,"answer_id":76259166,"question_id":76239764,"body_markdown":"After running `./gradlew build --info`, the output was something similar to:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$3(DockerClientProviderStrategy.java:158)\r\nat java.util.Optional.orElseThrow(Optional.java:290)\r\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:150)\r\nat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:111)\r\n```\r\n\r\nFixed this by running this from the command line:\r\n\r\n`sudo ln -s $HOME/.docker/run/docker.sock /var/run/docker.sock`\r\n\r\nCourtesy of a comment someone answered to this SO post: \r\n\r\nhttps://stackoverflow.com/questions/61108655/test-container-test-cases-are-failing-due-to-could-not-find-a-valid-docker-envi\r\n\r\nNow, when I run `./gradlew build`:\r\n\r\n```\r\n2023-05-15T20:07:54.290-07:00  INFO 7818 --- [tainers-r2dbc-0] &#128051; [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4\r\n    2023-05-15T20:07:55.675-07:00  INFO 7818 --- [tainers-r2dbc-0] &#128051; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: bc9d6884bf1fe1cc80d8df0754814059953607456dff07dcde380f128fcf00bd\r\n    2023-05-15T20:07:57.176-07:00  INFO 7818 --- [tainers-r2dbc-0] &#128051; [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT3.00059S\r\n    2023-05-15T20:07:57.202-07:00  INFO 7818 --- [tainers-r2dbc-0] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\r\n    2023-05-15T20:07:57.203-07:00  INFO 7818 --- [tainers-r2dbc-0] org.testcontainers.DockerClientFactory   : Checking the system...\r\n    2023-05-15T20:07:57.205-07:00  INFO 7818 --- [tainers-r2dbc-0] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\r\n    2023-05-15T20:07:57.207-07:00  INFO 7818 --- [tainers-r2dbc-0] &#128051; [postgres:13.3]                       : Creating container for image: postgres:13.3\r\n    2023-05-15T20:07:57.389-07:00  INFO 7818 --- [tainers-r2dbc-0] &#128051; [postgres:13.3]                       : Container postgres:13.3 is starting: a7af084644cc8f800f51b23ea0e3fab8ea83168f7697c009593262eff34f915c\r\n    2023-05-15T20:08:02.544-07:00  INFO 7818 --- [tainers-r2dbc-0] &#128051; [postgres:13.3]                       : Container postgres:13.3 started in PT5.337754S\r\n    2023-05-15T20:08:03.664-07:00  INFO 7818 --- [    Test worker] bootiful.kotlin.KotlinApplicationTests   : Started KotlinApplicationTests in 18.086 seconds (process running for 22.064)\r\n    Customer(id=1, name=James)\r\n    Customer(id=2, name=Josh)\r\n```","title":"gradle build error: The org.gradle.util.GFileUtils type has been deprecated when building Kotlin Spring WebFlux code","body":"<p>After running <code>./gradlew build --info</code>, the output was something similar to:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$3(DockerClientProviderStrategy.java:158)\nat java.util.Optional.orElseThrow(Optional.java:290)\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:150)\nat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:111)\n</code></pre>\n<p>Fixed this by running this from the command line:</p>\n<p><code>sudo ln -s $HOME/.docker/run/docker.sock /var/run/docker.sock</code></p>\n<p>Courtesy of a comment someone answered to this SO post:</p>\n<p><a href=\"https://stackoverflow.com/questions/61108655/test-container-test-cases-are-failing-due-to-could-not-find-a-valid-docker-envi\">Test Container test cases are failing due to &quot;Could not find a valid Docker environment&quot;</a></p>\n<p>Now, when I run <code>./gradlew build</code>:</p>\n<pre><code>2023-05-15T20:07:54.290-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4\n    2023-05-15T20:07:55.675-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: bc9d6884bf1fe1cc80d8df0754814059953607456dff07dcde380f128fcf00bd\n    2023-05-15T20:07:57.176-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT3.00059S\n    2023-05-15T20:07:57.202-07:00  INFO 7818 --- [tainers-r2dbc-0] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\n    2023-05-15T20:07:57.203-07:00  INFO 7818 --- [tainers-r2dbc-0] org.testcontainers.DockerClientFactory   : Checking the system...\n    2023-05-15T20:07:57.205-07:00  INFO 7818 --- [tainers-r2dbc-0] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\n    2023-05-15T20:07:57.207-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [postgres:13.3]                       : Creating container for image: postgres:13.3\n    2023-05-15T20:07:57.389-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [postgres:13.3]                       : Container postgres:13.3 is starting: a7af084644cc8f800f51b23ea0e3fab8ea83168f7697c009593262eff34f915c\n    2023-05-15T20:08:02.544-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [postgres:13.3]                       : Container postgres:13.3 started in PT5.337754S\n    2023-05-15T20:08:03.664-07:00  INFO 7818 --- [    Test worker] bootiful.kotlin.KotlinApplicationTests   : Started KotlinApplicationTests in 18.086 seconds (process running for 22.064)\n    Customer(id=1, name=James)\n    Customer(id=2, name=Josh)\n</code></pre>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76259166,"answer_count":2,"score":3,"last_activity_date":1684206849,"creation_date":1683923498,"question_id":76239764,"body_markdown":"Was following along with [Spring + Kotlin = Modern + Reactive + Productive][1] presentation on YouTube! by creating a Kotlin-based Spring Web Flux Reactive app using https://start.spring.io/...\r\n\r\nGenerated the project using these dependencies (please note the Spring Boot and Java versions, as well):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis generated the `build.gradle.kts` file:\r\n\r\n```\r\nplugins {\r\n        java\r\n        id(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\r\n        id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n        id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\r\n}\r\n\r\ngroup = &quot;bootiful&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\nrepositories {\r\n        mavenCentral()\r\n}\r\n\r\nextra[&quot;testcontainersVersion&quot;] = &quot;1.18.1&quot;\r\n\r\ndependencies {\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\n        runtimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n        runtimeOnly(&quot;org.postgresql:r2dbc-postgresql&quot;)\r\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n        testImplementation(&quot;io.projectreactor:reactor-test&quot;)\r\n        testImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\r\n        testImplementation(&quot;org.testcontainers:postgresql&quot;)\r\n        testImplementation(&quot;org.testcontainers:r2dbc&quot;)\r\n}\r\n\r\ndependencyManagement {\r\n        imports {\r\n                mavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\r\n        }\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n        useJUnitPlatform()\r\n}\r\n```\r\n\r\nWas getting an error when I tried to build it initially (after downloading &amp; extracting the zip file) using `gradle build` &amp; `./gradlew build` on macOS (both using IntelliJ &amp; command line).\r\n\r\nWhen I cloned the GitHub [project][3] that this presentation was based on, I got the same exact error:\r\n\r\nUsing `gradle build` (also fails when using the wrapper e.g. `./gradlew build`):\r\n\r\n```\r\nKotlinApplicationTests &gt; contextLoads() FAILED\r\n    org.junit.jupiter.api.extension.ParameterResolutionException at ParameterResolutionUtils.java:159\r\n        Caused by: java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\r\n            Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770\r\n                Caused by: org.springframework.r2dbc.connection.init.UncategorizedScriptException at DatabasePopulator.java:65\r\n                    Caused by: org.springframework.dao.DataAccessResourceFailureException at ConnectionFactoryUtils.java:90\r\n                        Caused by: java.util.concurrent.CompletionException at CompletableFuture.java:315\r\n                            Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\r\n```\r\n\r\nUsing `gradle build --warning-mode=all`:\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-05-12T13:12:54.326-07:00  INFO 50318 --- [           main] bootiful.kotlin.KotlinApplicationTests   : Starting KotlinApplicationTests using Java 20.0.1 with PID 50318 (/Users/pnwlover/nks/bootiful/build/classes/kotlin/test started by pnwlover/ in /Users/pnwlover/nks/bootiful)\r\n2023-05-12T13:12:54.328-07:00  INFO 50318 --- [           main] bootiful.kotlin.KotlinApplicationTests   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-12T13:12:55.184-07:00  INFO 50318 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n2023-05-12T13:12:55.378-07:00  INFO 50318 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 1 R2DBC repository interfaces.\r\n\r\n&gt; Task :compileAotTestJava\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n&gt; Task :test\r\nThe org.gradle.util.GFileUtils type has been deprecated. This is scheduled to be removed in Gradle 9.0. Consult the upgrading guide for further information: https://docs.gradle.org/8.1.1/userguide/upgrading_version_7.html#org_gradle_util_reports_deprecations\r\n\r\nKotlinApplicationTests &gt; contextLoads() FAILED\r\n    org.junit.jupiter.api.extension.ParameterResolutionException at ParameterResolutionUtils.java:159\r\n        Caused by: java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\r\n            Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770\r\n                Caused by: org.springframework.r2dbc.connection.init.UncategorizedScriptException at DatabasePopulator.java:65\r\n                    Caused by: org.springframework.dao.DataAccessResourceFailureException at ConnectionFactoryUtils.java:90\r\n                        Caused by: java.util.concurrent.CompletionException at CompletableFuture.java:315\r\n                            Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\r\n\r\n```\r\n\r\nGradle, Java &amp; Kotlin versions set in my local system:\r\n\r\n```\r\n gradle -v\r\n\r\n------------------------------------------------------------\r\nGradle 8.1.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-04-21 12:31:26 UTC\r\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.15\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9-29)\r\nOS:           Mac OS X 12.6.5 x86_64\r\n```\r\n\r\n```\r\njava -version\r\njava version &quot;17.0.6&quot; 2023-01-17 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\r\n```\r\n\r\n```\r\n❯ kotlinc -version\r\ninfo: kotlinc-jvm 1.8.21 (JRE 20.0.1+9-29)\r\n```\r\n\r\nWhy can&#39;t I build this when I do a fresh `git clone` from the repository?\r\n\r\nThis is the project I am trying to build:\r\n\r\nhttps://github.com/jamesward/nks/tree/main/bootiful\r\n\r\ndocker daemon was running, I ran the following command (before I tried building with `gradle build` and/or `./gradlew build`) \r\n\r\n`docker ps`:\r\n\r\noutput:\r\n\r\n```\r\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\r\n```\r\n\r\nLike, I said this also happened when I created a new project from within http://start.spring.io. Is this due to TestContainers? Is there any steps/prerequisites required for TestContainers or any other config to be set?\r\n\r\nAfter running the Unix shell script located here:\r\n\r\nhttps://github.com/jamesward/nks/blob/main/postgres.sh\r\n\r\nAnd then checking the docker daemon:\r\n\r\n```\r\nCONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS          PORTS                    NAMES\r\nd12e7449a853   postgres:13.3   &quot;docker-entrypoint.s…&quot;   36 seconds ago   Up 33 seconds   0.0.0.0:5432-&gt;5432/tcp   my-postgres\r\n```\r\n\r\nThe Unix shell script&#39;s tail end:\r\n\r\n```\r\nPostgreSQL init process complete; ready for start up.\r\n\r\n2023-05-15 07:45:20.258 UTC [1] LOG:  starting PostgreSQL 13.3 (Debian 13.3-1.pgdg100+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 8.3.0-6) 8.3.0, 64-bit\r\n2023-05-15 07:45:20.258 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432\r\n2023-05-15 07:45:20.259 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432\r\n2023-05-15 07:45:20.264 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;\r\n2023-05-15 07:45:20.272 UTC [66] LOG:  database system was shut down at 2023-05-15 07:45:20 UTC\r\n2023-05-15 07:45:20.285 UTC [1] LOG:  database system is ready to accept connections\r\n^C2023-05-15 08:00:13.887 UTC [1] LOG:  received fast shutdown request\r\n2023-05-15 08:00:13.890 UTC [1] LOG:  aborting any active transactions\r\n2023-05-15 08:00:13.894 UTC [1] LOG:  background worker &quot;logical replication launcher&quot; (PID 72) exited with exit code 1\r\n2023-05-15 08:00:13.894 UTC [67] LOG:  shutting down\r\n2023-05-15 08:00:13.919 UTC [1] LOG:  database system is shut down\r\n```\r\n\r\nWhen I look inside: `../build/reports/tests/test/index.html`:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;r2dbcScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/R2dbcInitializationConfiguration.class]: Failed to execute database script\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n\tat app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n```\r\n\r\nWould appreciate it if someone else could try to replicate this issue... \r\n\r\nRemember, this doesn&#39;t work when I created a project via http://start.spring.io using the same dependencies (see screenshot above) that the presenters in the YouTube presentation video used nor did the author&#39;s [code][4] work when I did a fresh `git clone`... \r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=pXtTp4Uxuhk\r\n  [2]: https://i.stack.imgur.com/YEPAR.png\r\n  [3]: https://github.com/jamesward/nks\r\n  [4]: https://github.com/jamesward/nks/tree/main/bootiful","title":"gradle build error: The org.gradle.util.GFileUtils type has been deprecated when building Kotlin Spring WebFlux code","body":"<p>Was following along with <a href=\"https://www.youtube.com/watch?v=pXtTp4Uxuhk\" rel=\"nofollow noreferrer\">Spring + Kotlin = Modern + Reactive + Productive</a> presentation on YouTube! by creating a Kotlin-based Spring Web Flux Reactive app using <a href=\"https://start.spring.io/..\" rel=\"nofollow noreferrer\">https://start.spring.io/..</a>.</p>\n<p>Generated the project using these dependencies (please note the Spring Boot and Java versions, as well):</p>\n<p><a href=\"https://i.stack.imgur.com/YEPAR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YEPAR.png\" alt=\"enter image description here\" /></a></p>\n<p>This generated the <code>build.gradle.kts</code> file:</p>\n<pre><code>plugins {\n        java\n        id(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\n        id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n        id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\n}\n\ngroup = &quot;bootiful&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nrepositories {\n        mavenCentral()\n}\n\nextra[&quot;testcontainersVersion&quot;] = &quot;1.18.1&quot;\n\ndependencies {\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\n        implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\n        runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n        runtimeOnly(&quot;org.postgresql:r2dbc-postgresql&quot;)\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n        testImplementation(&quot;io.projectreactor:reactor-test&quot;)\n        testImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\n        testImplementation(&quot;org.testcontainers:postgresql&quot;)\n        testImplementation(&quot;org.testcontainers:r2dbc&quot;)\n}\n\ndependencyManagement {\n        imports {\n                mavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\n        }\n}\n\ntasks.withType&lt;Test&gt; {\n        useJUnitPlatform()\n}\n</code></pre>\n<p>Was getting an error when I tried to build it initially (after downloading &amp; extracting the zip file) using <code>gradle build</code> &amp; <code>./gradlew build</code> on macOS (both using IntelliJ &amp; command line).</p>\n<p>When I cloned the GitHub <a href=\"https://github.com/jamesward/nks\" rel=\"nofollow noreferrer\">project</a> that this presentation was based on, I got the same exact error:</p>\n<p>Using <code>gradle build</code> (also fails when using the wrapper e.g. <code>./gradlew build</code>):</p>\n<pre><code>KotlinApplicationTests &gt; contextLoads() FAILED\n    org.junit.jupiter.api.extension.ParameterResolutionException at ParameterResolutionUtils.java:159\n        Caused by: java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\n            Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770\n                Caused by: org.springframework.r2dbc.connection.init.UncategorizedScriptException at DatabasePopulator.java:65\n                    Caused by: org.springframework.dao.DataAccessResourceFailureException at ConnectionFactoryUtils.java:90\n                        Caused by: java.util.concurrent.CompletionException at CompletableFuture.java:315\n                            Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\n</code></pre>\n<p>Using <code>gradle build --warning-mode=all</code>:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-05-12T13:12:54.326-07:00  INFO 50318 --- [           main] bootiful.kotlin.KotlinApplicationTests   : Starting KotlinApplicationTests using Java 20.0.1 with PID 50318 (/Users/pnwlover/nks/bootiful/build/classes/kotlin/test started by pnwlover/ in /Users/pnwlover/nks/bootiful)\n2023-05-12T13:12:54.328-07:00  INFO 50318 --- [           main] bootiful.kotlin.KotlinApplicationTests   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-12T13:12:55.184-07:00  INFO 50318 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-05-12T13:12:55.378-07:00  INFO 50318 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 1 R2DBC repository interfaces.\n\n&gt; Task :compileAotTestJava\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n&gt; Task :test\nThe org.gradle.util.GFileUtils type has been deprecated. This is scheduled to be removed in Gradle 9.0. Consult the upgrading guide for further information: https://docs.gradle.org/8.1.1/userguide/upgrading_version_7.html#org_gradle_util_reports_deprecations\n\nKotlinApplicationTests &gt; contextLoads() FAILED\n    org.junit.jupiter.api.extension.ParameterResolutionException at ParameterResolutionUtils.java:159\n        Caused by: java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\n            Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770\n                Caused by: org.springframework.r2dbc.connection.init.UncategorizedScriptException at DatabasePopulator.java:65\n                    Caused by: org.springframework.dao.DataAccessResourceFailureException at ConnectionFactoryUtils.java:90\n                        Caused by: java.util.concurrent.CompletionException at CompletableFuture.java:315\n                            Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\n\n</code></pre>\n<p>Gradle, Java &amp; Kotlin versions set in my local system:</p>\n<pre><code> gradle -v\n\n------------------------------------------------------------\nGradle 8.1.1\n------------------------------------------------------------\n\nBuild time:   2023-04-21 12:31:26 UTC\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\n\nKotlin:       1.8.10\nGroovy:       3.0.15\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9-29)\nOS:           Mac OS X 12.6.5 x86_64\n</code></pre>\n<pre><code>java -version\njava version &quot;17.0.6&quot; 2023-01-17 LTS\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\n</code></pre>\n<pre><code>❯ kotlinc -version\ninfo: kotlinc-jvm 1.8.21 (JRE 20.0.1+9-29)\n</code></pre>\n<p>Why can't I build this when I do a fresh <code>git clone</code> from the repository?</p>\n<p>This is the project I am trying to build:</p>\n<p><a href=\"https://github.com/jamesward/nks/tree/main/bootiful\" rel=\"nofollow noreferrer\">https://github.com/jamesward/nks/tree/main/bootiful</a></p>\n<p>docker daemon was running, I ran the following command (before I tried building with <code>gradle build</code> and/or <code>./gradlew build</code>)</p>\n<p><code>docker ps</code>:</p>\n<p>output:</p>\n<pre><code>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n</code></pre>\n<p>Like, I said this also happened when I created a new project from within <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">http://start.spring.io</a>. Is this due to TestContainers? Is there any steps/prerequisites required for TestContainers or any other config to be set?</p>\n<p>After running the Unix shell script located here:</p>\n<p><a href=\"https://github.com/jamesward/nks/blob/main/postgres.sh\" rel=\"nofollow noreferrer\">https://github.com/jamesward/nks/blob/main/postgres.sh</a></p>\n<p>And then checking the docker daemon:</p>\n<pre><code>CONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS          PORTS                    NAMES\nd12e7449a853   postgres:13.3   &quot;docker-entrypoint.s…&quot;   36 seconds ago   Up 33 seconds   0.0.0.0:5432-&gt;5432/tcp   my-postgres\n</code></pre>\n<p>The Unix shell script's tail end:</p>\n<pre><code>PostgreSQL init process complete; ready for start up.\n\n2023-05-15 07:45:20.258 UTC [1] LOG:  starting PostgreSQL 13.3 (Debian 13.3-1.pgdg100+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 8.3.0-6) 8.3.0, 64-bit\n2023-05-15 07:45:20.258 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432\n2023-05-15 07:45:20.259 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432\n2023-05-15 07:45:20.264 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;\n2023-05-15 07:45:20.272 UTC [66] LOG:  database system was shut down at 2023-05-15 07:45:20 UTC\n2023-05-15 07:45:20.285 UTC [1] LOG:  database system is ready to accept connections\n^C2023-05-15 08:00:13.887 UTC [1] LOG:  received fast shutdown request\n2023-05-15 08:00:13.890 UTC [1] LOG:  aborting any active transactions\n2023-05-15 08:00:13.894 UTC [1] LOG:  background worker &quot;logical replication launcher&quot; (PID 72) exited with exit code 1\n2023-05-15 08:00:13.894 UTC [67] LOG:  shutting down\n2023-05-15 08:00:13.919 UTC [1] LOG:  database system is shut down\n</code></pre>\n<p>When I look inside: <code>../build/reports/tests/test/index.html</code>:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'r2dbcScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/R2dbcInitializationConfiguration.class]: Failed to execute database script\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n</code></pre>\n<p>Would appreciate it if someone else could try to replicate this issue...</p>\n<p>Remember, this doesn't work when I created a project via <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">http://start.spring.io</a> using the same dependencies (see screenshot above) that the presenters in the YouTube presentation video used nor did the author's <a href=\"https://github.com/jamesward/nks/tree/main/bootiful\" rel=\"nofollow noreferrer\">code</a> work when I did a fresh <code>git clone</code>...</p>\n"},{"tags":["java","data-lake","iceberg","apache-iceberg"],"comments":[{"owner":{"account_id":152304,"reputation":2085,"user_id":366738,"accept_rate":67,"display_name":"Fokko Driesprong"},"score":0,"creation_date":1683899672,"post_id":76225484,"comment_id":134441740,"body_markdown":"Can you share the implementation of CustomCatalog? It looks like something is off there.","body":"Can you share the implementation of CustomCatalog? It looks like something is off there."},{"owner":{"account_id":10463895,"reputation":747,"user_id":7713802,"display_name":"Harshith Bolar"},"score":0,"creation_date":1701742187,"post_id":76225484,"comment_id":136810832,"body_markdown":"Were you able to figure this out? Facing the same issue.","body":"Were you able to figure this out? Facing the same issue."}],"owner":{"account_id":8445681,"reputation":344,"user_id":6336443,"accept_rate":29,"display_name":"Somesh Dhal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684206604,"creation_date":1683793007,"question_id":76225484,"body_markdown":"I am doing a POC on Apache Iceberg. While writing I am writing twice using 2 datafiles that create 2 snapshots. In my example, each file contains 4 rows. The last file is marked as current snapshot which is right. While reading the data, I want to read the data of the latest snapshot only. However, the reader prints the data of all the snapshots (8 rows) even though I set the snapshot of TableScan as current snapshot.\r\n\r\nBelow is the sample code\r\n\r\n    package org.example2;\r\n    \r\n    import com.google.common.collect.ImmutableList;\r\n    import com.google.common.collect.ImmutableMap;\r\n    import org.apache.iceberg.DataFile;\r\n    import org.apache.iceberg.PartitionSpec;\r\n    import org.apache.iceberg.Schema;\r\n    import org.apache.iceberg.Table;\r\n    import org.apache.iceberg.catalog.Namespace;\r\n    import org.apache.iceberg.catalog.TableIdentifier;\r\n    import org.apache.iceberg.data.GenericRecord;\r\n    import org.apache.iceberg.data.IcebergGenerics;\r\n    import org.apache.iceberg.data.Record;\r\n    import org.apache.iceberg.data.parquet.GenericParquetWriter;\r\n    import org.apache.iceberg.io.CloseableIterable;\r\n    import org.apache.iceberg.io.DataWriter;\r\n    import org.apache.iceberg.io.OutputFile;\r\n    import org.apache.iceberg.parquet.Parquet;\r\n    import org.apache.iceberg.types.Types;\r\n    import org.customCatalog.CustomCatalog;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    public class Example2 {\r\n    \r\n        public static String dataPath = &quot;C:\\\\data\\\\iceberg&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            CustomCatalog catalog = new CustomCatalog(dataPath);\r\n            Schema schema = new Schema(\r\n                    Types.NestedField.optional(1, &quot;event_id&quot;, Types.StringType.get()),\r\n                    Types.NestedField.optional(2, &quot;username&quot;, Types.StringType.get()),\r\n                    Types.NestedField.optional(3, &quot;userid&quot;, Types.IntegerType.get()),\r\n                    Types.NestedField.optional(4, &quot;api_version&quot;, Types.StringType.get()),\r\n                    Types.NestedField.optional(5, &quot;command&quot;, Types.StringType.get())\r\n            );\r\n    \r\n            Namespace webapp = Namespace.of(&quot;webapp&quot;);\r\n            TableIdentifier name = TableIdentifier.of(webapp, &quot;user_events&quot;);\r\n            System.out.println(catalog.tableExists(name));\r\n            Table table;\r\n            if (!catalog.tableExists(name)) {\r\n                table = catalog.createTable(name, schema, PartitionSpec.unpartitioned());\r\n            } else {\r\n                table = catalog.loadTable(name);\r\n            }\r\n    \r\n            for (int i = 0; i &lt; 2; i++) {\r\n                GenericRecord record = GenericRecord.create(schema);\r\n                ImmutableList.Builder&lt;GenericRecord&gt; builder = ImmutableList.builder();\r\n                builder.add(record.copy(ImmutableMap\r\n                        .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Bruce&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\r\n                                &quot;command&quot;, &quot;grapple&quot;)));\r\n                builder.add(record.copy(ImmutableMap\r\n                        .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Wayne&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\r\n                                &quot;command&quot;, &quot;glide&quot;)));\r\n                builder.add(record.copy(ImmutableMap\r\n                        .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Clark&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;2.0&quot;,\r\n                                &quot;command&quot;, &quot;fly&quot;)));\r\n                builder.add(record.copy(ImmutableMap\r\n                        .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Kent&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\r\n                                &quot;command&quot;, &quot;land&quot;)));\r\n                ImmutableList&lt;GenericRecord&gt; records = builder.build();\r\n    \r\n                String filepath = table.location() + &quot;/&quot; + UUID.randomUUID().toString();\r\n                OutputFile file = table.io().newOutputFile(filepath);\r\n                DataWriter&lt;GenericRecord&gt; dataWriter =\r\n                        Parquet.writeData(file)\r\n                                .schema(schema)\r\n                                .createWriterFunc(GenericParquetWriter::buildWriter)\r\n                                .overwrite()\r\n                                .withSpec(PartitionSpec.unpartitioned())\r\n                                .build();\r\n                try {\r\n                    for (GenericRecord record1 : records) {\r\n                        dataWriter.write(record1);\r\n                    }\r\n                } finally {\r\n                    dataWriter.close();\r\n                }\r\n    \r\n                DataFile dataFile = dataWriter.toDataFile();\r\n                System.out.println(&quot;Writing file &quot; + dataFile.toString());\r\n                table.newAppend().appendFile(dataFile).commit();\r\n                System.out.println(&quot;Records written &quot; + records.size());\r\n    \r\n            }\r\n    \r\n    \r\n            table = catalog.loadTable(name);\r\n            System.out.println(&quot;Snapshots &quot; + table.snapshots());\r\n            System.out.println(&quot;current snapshot &quot; + table.currentSnapshot().snapshotId());\r\n    \r\n    \r\n            CloseableIterable&lt;Record&gt; result = IcebergGenerics.read(table).useSnapshot(table.currentSnapshot().snapshotId()).build(); // the useSnapshot method should force to use only the current snapshot??\r\n            for (Record r : result) {\r\n                System.out.println(r);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAdding the custom catalog implementation as asked. \r\n\r\n    package org.customCatalog;\r\n    \r\n    import org.apache.iceberg.BaseMetastoreCatalog;\r\n    import org.apache.iceberg.TableOperations;\r\n    import org.apache.iceberg.catalog.Namespace;\r\n    import org.apache.iceberg.catalog.TableIdentifier;\r\n    import org.apache.parquet.Preconditions;\r\n    \r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * Extend BaseMetastoreCatalog to provide default warehouse locations and instantiate CustomTableOperations\r\n     */\r\n    public class CustomCatalog extends BaseMetastoreCatalog {\r\n    \r\n    \tprivate String warehousePath = &quot;C:\\\\data\\\\iceberg&quot;;\r\n    \tprivate String name;\r\n    \tpublic CustomCatalog() {\r\n    \t\tinitialize(&quot;custom&quot;, new HashMap&lt;&gt;());\r\n    \t}\r\n    \r\n    \tpublic CustomCatalog(String warehousePath) {\r\n    \t\tthis.warehousePath = warehousePath;\r\n    \t\tinitialize(&quot;custom&quot;, new HashMap&lt;&gt;());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected TableOperations newTableOps(TableIdentifier tableIdentifier) {\r\n    \t\tString dbName = tableIdentifier.namespace().level(0);\r\n    \t\tString tableName = tableIdentifier.name();\r\n    \t\t// instantiate the CustomTableOperations\r\n    \t\treturn new CustomTableOperations(warehousePath, dbName, tableName);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String defaultWarehouseLocation(TableIdentifier tableIdentifier) {\r\n    \r\n    \t\t// Can choose to use any other configuration name\r\n    \t\tString tableLocation = warehousePath;\r\n    \r\n    \t\t// Can be an s3 or hdfs path\r\n    //\t\tif (tableLocation == null) {\r\n    //\t\t\tthrow new RuntimeException(&quot;custom.iceberg.warehouse.location configuration not set!&quot;);\r\n    //\t\t}\r\n    \r\n    \t\treturn String.format(\r\n    \t\t\t\t&quot;%s/%s/%s&quot;, tableLocation,\r\n    \t\t\t\ttableIdentifier.namespace().levels()[0],\r\n    \t\t\t\ttableIdentifier.name());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;TableIdentifier&gt; listTables(Namespace namespace) {\r\n    \t\tList&lt;TableIdentifier&gt; tableIdentifiers = new ArrayList&lt;&gt;();\r\n    \t\tFile f = new File(warehousePath + &#39;/&#39; +namespace);\r\n    \t\tif(f.exists()) {\r\n    \t\t\tfor(String s : f.list()) {\r\n    \t\t\t\tFile f2 = new File(warehousePath + &#39;/&#39; + namespace.levels()[0] +&#39;/&#39;+ s);\r\n    \t\t\t\tif(f2.exists() &amp;&amp; f2.isDirectory()) {\r\n    \t\t\t\t\ttableIdentifiers.add(TableIdentifier.of(namespace, s));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Namespace `&quot;+namespace.levels()[0]+&quot;` doesn&#39;t exist.&quot;);\r\n    \t\t}\r\n    \t\treturn tableIdentifiers;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean dropTable(TableIdentifier identifier, boolean purge) {\r\n    \t\t// will implement later\r\n    \t\tString namespace = identifier.namespace().level(0);\r\n    \t\tString tableName = identifier.name();\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void renameTable(TableIdentifier from, TableIdentifier to) {\r\n    \t\t// will implement later\r\n    \t\treturn;\r\n    \t}\r\n    \r\n    \t// implement this method to read catalog name and properties during initialization\r\n    \tpublic void initialize(String name, Map&lt;String, String&gt; properties) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Override public String name() {\r\n    \t\treturn name;\r\n    \t}\r\n    }\r\n\r\n","title":"How to read data of a particular snapshot in Apache Iceberg?","body":"<p>I am doing a POC on Apache Iceberg. While writing I am writing twice using 2 datafiles that create 2 snapshots. In my example, each file contains 4 rows. The last file is marked as current snapshot which is right. While reading the data, I want to read the data of the latest snapshot only. However, the reader prints the data of all the snapshots (8 rows) even though I set the snapshot of TableScan as current snapshot.</p>\n<p>Below is the sample code</p>\n<pre><code>package org.example2;\n\nimport com.google.common.collect.ImmutableList;\nimport com.google.common.collect.ImmutableMap;\nimport org.apache.iceberg.DataFile;\nimport org.apache.iceberg.PartitionSpec;\nimport org.apache.iceberg.Schema;\nimport org.apache.iceberg.Table;\nimport org.apache.iceberg.catalog.Namespace;\nimport org.apache.iceberg.catalog.TableIdentifier;\nimport org.apache.iceberg.data.GenericRecord;\nimport org.apache.iceberg.data.IcebergGenerics;\nimport org.apache.iceberg.data.Record;\nimport org.apache.iceberg.data.parquet.GenericParquetWriter;\nimport org.apache.iceberg.io.CloseableIterable;\nimport org.apache.iceberg.io.DataWriter;\nimport org.apache.iceberg.io.OutputFile;\nimport org.apache.iceberg.parquet.Parquet;\nimport org.apache.iceberg.types.Types;\nimport org.customCatalog.CustomCatalog;\n\nimport java.util.UUID;\n\npublic class Example2 {\n\n    public static String dataPath = &quot;C:\\\\data\\\\iceberg&quot;;\n\n    public static void main(String[] args) throws Exception {\n        CustomCatalog catalog = new CustomCatalog(dataPath);\n        Schema schema = new Schema(\n                Types.NestedField.optional(1, &quot;event_id&quot;, Types.StringType.get()),\n                Types.NestedField.optional(2, &quot;username&quot;, Types.StringType.get()),\n                Types.NestedField.optional(3, &quot;userid&quot;, Types.IntegerType.get()),\n                Types.NestedField.optional(4, &quot;api_version&quot;, Types.StringType.get()),\n                Types.NestedField.optional(5, &quot;command&quot;, Types.StringType.get())\n        );\n\n        Namespace webapp = Namespace.of(&quot;webapp&quot;);\n        TableIdentifier name = TableIdentifier.of(webapp, &quot;user_events&quot;);\n        System.out.println(catalog.tableExists(name));\n        Table table;\n        if (!catalog.tableExists(name)) {\n            table = catalog.createTable(name, schema, PartitionSpec.unpartitioned());\n        } else {\n            table = catalog.loadTable(name);\n        }\n\n        for (int i = 0; i &lt; 2; i++) {\n            GenericRecord record = GenericRecord.create(schema);\n            ImmutableList.Builder&lt;GenericRecord&gt; builder = ImmutableList.builder();\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Bruce&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\n                            &quot;command&quot;, &quot;grapple&quot;)));\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Wayne&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\n                            &quot;command&quot;, &quot;glide&quot;)));\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Clark&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;2.0&quot;,\n                            &quot;command&quot;, &quot;fly&quot;)));\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Kent&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\n                            &quot;command&quot;, &quot;land&quot;)));\n            ImmutableList&lt;GenericRecord&gt; records = builder.build();\n\n            String filepath = table.location() + &quot;/&quot; + UUID.randomUUID().toString();\n            OutputFile file = table.io().newOutputFile(filepath);\n            DataWriter&lt;GenericRecord&gt; dataWriter =\n                    Parquet.writeData(file)\n                            .schema(schema)\n                            .createWriterFunc(GenericParquetWriter::buildWriter)\n                            .overwrite()\n                            .withSpec(PartitionSpec.unpartitioned())\n                            .build();\n            try {\n                for (GenericRecord record1 : records) {\n                    dataWriter.write(record1);\n                }\n            } finally {\n                dataWriter.close();\n            }\n\n            DataFile dataFile = dataWriter.toDataFile();\n            System.out.println(&quot;Writing file &quot; + dataFile.toString());\n            table.newAppend().appendFile(dataFile).commit();\n            System.out.println(&quot;Records written &quot; + records.size());\n\n        }\n\n\n        table = catalog.loadTable(name);\n        System.out.println(&quot;Snapshots &quot; + table.snapshots());\n        System.out.println(&quot;current snapshot &quot; + table.currentSnapshot().snapshotId());\n\n\n        CloseableIterable&lt;Record&gt; result = IcebergGenerics.read(table).useSnapshot(table.currentSnapshot().snapshotId()).build(); // the useSnapshot method should force to use only the current snapshot??\n        for (Record r : result) {\n            System.out.println(r);\n        }\n    }\n}\n</code></pre>\n<p>Adding the custom catalog implementation as asked.</p>\n<pre><code>package org.customCatalog;\n\nimport org.apache.iceberg.BaseMetastoreCatalog;\nimport org.apache.iceberg.TableOperations;\nimport org.apache.iceberg.catalog.Namespace;\nimport org.apache.iceberg.catalog.TableIdentifier;\nimport org.apache.parquet.Preconditions;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * Extend BaseMetastoreCatalog to provide default warehouse locations and instantiate CustomTableOperations\n */\npublic class CustomCatalog extends BaseMetastoreCatalog {\n\n    private String warehousePath = &quot;C:\\\\data\\\\iceberg&quot;;\n    private String name;\n    public CustomCatalog() {\n        initialize(&quot;custom&quot;, new HashMap&lt;&gt;());\n    }\n\n    public CustomCatalog(String warehousePath) {\n        this.warehousePath = warehousePath;\n        initialize(&quot;custom&quot;, new HashMap&lt;&gt;());\n    }\n\n    @Override\n    protected TableOperations newTableOps(TableIdentifier tableIdentifier) {\n        String dbName = tableIdentifier.namespace().level(0);\n        String tableName = tableIdentifier.name();\n        // instantiate the CustomTableOperations\n        return new CustomTableOperations(warehousePath, dbName, tableName);\n    }\n\n    @Override\n    protected String defaultWarehouseLocation(TableIdentifier tableIdentifier) {\n\n        // Can choose to use any other configuration name\n        String tableLocation = warehousePath;\n\n        // Can be an s3 or hdfs path\n//      if (tableLocation == null) {\n//          throw new RuntimeException(&quot;custom.iceberg.warehouse.location configuration not set!&quot;);\n//      }\n\n        return String.format(\n                &quot;%s/%s/%s&quot;, tableLocation,\n                tableIdentifier.namespace().levels()[0],\n                tableIdentifier.name());\n    }\n\n    @Override\n    public List&lt;TableIdentifier&gt; listTables(Namespace namespace) {\n        List&lt;TableIdentifier&gt; tableIdentifiers = new ArrayList&lt;&gt;();\n        File f = new File(warehousePath + '/' +namespace);\n        if(f.exists()) {\n            for(String s : f.list()) {\n                File f2 = new File(warehousePath + '/' + namespace.levels()[0] +'/'+ s);\n                if(f2.exists() &amp;&amp; f2.isDirectory()) {\n                    tableIdentifiers.add(TableIdentifier.of(namespace, s));\n                }\n            }\n        } else {\n            System.out.println(&quot;Namespace `&quot;+namespace.levels()[0]+&quot;` doesn't exist.&quot;);\n        }\n        return tableIdentifiers;\n    }\n\n    @Override\n    public boolean dropTable(TableIdentifier identifier, boolean purge) {\n        // will implement later\n        String namespace = identifier.namespace().level(0);\n        String tableName = identifier.name();\n\n        return true;\n    }\n\n    @Override\n    public void renameTable(TableIdentifier from, TableIdentifier to) {\n        // will implement later\n        return;\n    }\n\n    // implement this method to read catalog name and properties during initialization\n    public void initialize(String name, Map&lt;String, String&gt; properties) {\n        this.name = name;\n    }\n\n    @Override public String name() {\n        return name;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":28594907,"reputation":1,"user_id":21893303,"display_name":"Innovative Technology"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684206112,"creation_date":1683990543,"question_id":76243424,"body_markdown":"I want to announce during a call that can be heard on both sides caller and attending person as well in Android Kotlin/Java.\r\n\r\n    // Playing from assets\r\n    val assetsFile = &quot;record2.mp3&quot;\r\n    val descriptor: AssetFileDescriptor = context.assets.openFd(assetsFile)\r\n\r\n    if (playFromAssets) {\r\n        mediaPlayer.setDataSource(\r\n            descriptor.fileDescriptor,\r\n            descriptor.startOffset,\r\n            descriptor.length\r\n        )\r\n    } else {\r\n        mediaPlayer.setDataSource(filePath)\r\n    }\r\n\r\n    descriptor.close()\r\n\r\n    mediaPlayer.prepare()\r\n    mediaPlayer.setVolume(1.0f, 1.0f)\r\n    mediaPlayer.start()\r\n\r\nI tried this but when telephonemanager state is hookOff but issue is that it just hear on caller side not attender side.\r\n","title":"How to play announcement during call and can be heard on both sides caller and callee in Android Kotlin/Java?","body":"<p>I want to announce during a call that can be heard on both sides caller and attending person as well in Android Kotlin/Java.</p>\n<pre><code>// Playing from assets\nval assetsFile = &quot;record2.mp3&quot;\nval descriptor: AssetFileDescriptor = context.assets.openFd(assetsFile)\n\nif (playFromAssets) {\n    mediaPlayer.setDataSource(\n        descriptor.fileDescriptor,\n        descriptor.startOffset,\n        descriptor.length\n    )\n} else {\n    mediaPlayer.setDataSource(filePath)\n}\n\ndescriptor.close()\n\nmediaPlayer.prepare()\nmediaPlayer.setVolume(1.0f, 1.0f)\nmediaPlayer.start()\n</code></pre>\n<p>I tried this but when telephonemanager state is hookOff but issue is that it just hear on caller side not attender side.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1684207356,"post_id":76259104,"comment_id":134480024,"body_markdown":"Which part of the code above does not work for you? Do you get any errors? Does it yield unexpected results?","body":"Which part of the code above does not work for you? Do you get any errors? Does it yield unexpected results?"},{"owner":{"account_id":28366390,"reputation":1,"user_id":21695640,"display_name":"hld942614"},"score":0,"creation_date":1684395761,"post_id":76259104,"comment_id":134512610,"body_markdown":"I got this error:&quot;FULL_GEO cannot be resolved or is not a field&quot;,I also want some document about how to use GeoShapeQuery.","body":"I got this error:&quot;FULL_GEO cannot be resolved or is not a field&quot;,I also want some document about how to use GeoShapeQuery."}],"owner":{"account_id":28366390,"reputation":1,"user_id":21695640,"display_name":"hld942614"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684206088,"creation_date":1684205907,"question_id":76259104,"body_markdown":"Can someone give me some guide about how to use GeoShapeQuery in java?\r\n\r\nI want some code like this:\r\n\r\n    Query geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\r\n\t\t\t                .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\r\n\tQuery bool = BoolQuery.of(b-&gt;b\r\n\t\t\t                .filter(geoShape)\r\n\t\t\t                .should(rankFeature)\r\n\t\t\t                )._toQuery();\r\n\r\n\r\nthe above code is from [here](https://stackoverflow.com/questions/74703974/elasticsearch-8-x-java-migrating-from-querybuilders-geoshapequery-to-geoshapeque)\r\n\r\nbut I want to know how to use it.\r\n\r\nI am using ElasticSearch 8.7 vesion, and I have google for couple of hours,and still can&#39;t get the tutorial about using  GeoShapeQuery in java \r\n\r\nI am tying the use GeoShapeQuery to find out whether a spot is in the area or not","title":"ElasticSearch [8.7] GeoShapeQuery in Java","body":"<p>Can someone give me some guide about how to use GeoShapeQuery in java?</p>\n<p>I want some code like this:</p>\n<pre><code>Query geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n                        .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\nQuery bool = BoolQuery.of(b-&gt;b\n                        .filter(geoShape)\n                        .should(rankFeature)\n                        )._toQuery();\n</code></pre>\n<p>the above code is from <a href=\"https://stackoverflow.com/questions/74703974/elasticsearch-8-x-java-migrating-from-querybuilders-geoshapequery-to-geoshapeque\">here</a></p>\n<p>but I want to know how to use it.</p>\n<p>I am using ElasticSearch 8.7 vesion, and I have google for couple of hours,and still can't get the tutorial about using  GeoShapeQuery in java</p>\n<p>I am tying the use GeoShapeQuery to find out whether a spot is in the area or not</p>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1684205866,"post_id":76259023,"comment_id":134479880,"body_markdown":"could you show how you are rendering that jsp page? based on the message, sounds like `deviceType` is not set","body":"could you show how you are rendering that jsp page? based on the message, sounds like <code>deviceType</code> is not set"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684205833,"creation_date":1684205833,"answer_id":76259095,"question_id":76259023,"body_markdown":"You can get the variable from the `pageContext`.\r\n\r\n```\r\nLocalDateTime stopTime = ((DeviceType) pageContext.getAttribute(&quot;deviceType&quot;)).getStopTime();\r\n// replace DeviceType with the type of the variable deviceType\r\n```","title":"Format time in Localdatetime pass from servlet to jsp","body":"<p>You can get the variable from the <code>pageContext</code>.</p>\n<pre><code>LocalDateTime stopTime = ((DeviceType) pageContext.getAttribute(&quot;deviceType&quot;)).getStopTime();\n// replace DeviceType with the type of the variable deviceType\n</code></pre>\n"}],"owner":{"account_id":5931100,"reputation":1,"user_id":4665497,"display_name":"Do Duy Linh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1684232444,"answer_count":1,"score":-1,"last_activity_date":1684205833,"creation_date":1684204508,"question_id":76259023,"body_markdown":"i have a problem to format time in Localdatetime pass from servlet to jsp.\r\nHere its my code:\r\n\r\n\r\n```\r\n&lt;c:forEach items=&quot;${listDeviceType}&quot; var=&quot;deviceType&quot;&gt; \r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;${deviceType.ID}&lt;/td&gt;\r\n            &lt;td&gt;${deviceType.name}&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;%\r\n                LocalDateTime stopTime = deviceType.getStopTime();\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n                String formattedStopTime = stopTime.format(formatter);\r\n                %&gt;\r\n            &lt;/td&gt;\r\n            &lt;td&gt;${deviceType.startTime}&lt;/td&gt;\r\n            &lt;td&gt;${deviceType.resetTime}&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;a href=&quot;admin-devicetypeedit?dTID=${deviceType.ID}&quot; class=&quot;badge rounded-pill bg-primary&quot;&gt;\r\n                    &lt;i class=&quot;fa fa-edit&quot;&gt;&lt;/i&gt;\r\n                    Edit\r\n                &lt;/a&gt;\r\n                &lt;form action=&quot;admin-devicetypedelete&quot; method=&quot;POST&quot; onsubmit=&quot;return confirm(&#39;Are you sure you want to delete this item?&#39;);&quot;&gt;\r\n                    &lt;input type=&quot;hidden&quot; name=&quot;dTID&quot; value=&quot;${deviceType.ID}&quot;&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;badge rounded-pill bg-danger&quot;&gt;\r\n                        &lt;i class=&quot;fa fa-trash-o&quot;&gt;Delete&lt;/i&gt;\r\n                    &lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/c:forEach&gt;\r\n\r\n```\r\n\r\nBut i show &quot;deviceType cannot be resolved&quot;\r\n\r\n\r\nCan you help me/Thanks for all","title":"Format time in Localdatetime pass from servlet to jsp","body":"<p>i have a problem to format time in Localdatetime pass from servlet to jsp.\nHere its my code:</p>\n<pre><code>&lt;c:forEach items=&quot;${listDeviceType}&quot; var=&quot;deviceType&quot;&gt; \n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${deviceType.ID}&lt;/td&gt;\n            &lt;td&gt;${deviceType.name}&lt;/td&gt;\n            &lt;td&gt;\n                &lt;%\n                LocalDateTime stopTime = deviceType.getStopTime();\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\n                String formattedStopTime = stopTime.format(formatter);\n                %&gt;\n            &lt;/td&gt;\n            &lt;td&gt;${deviceType.startTime}&lt;/td&gt;\n            &lt;td&gt;${deviceType.resetTime}&lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=&quot;admin-devicetypeedit?dTID=${deviceType.ID}&quot; class=&quot;badge rounded-pill bg-primary&quot;&gt;\n                    &lt;i class=&quot;fa fa-edit&quot;&gt;&lt;/i&gt;\n                    Edit\n                &lt;/a&gt;\n                &lt;form action=&quot;admin-devicetypedelete&quot; method=&quot;POST&quot; onsubmit=&quot;return confirm('Are you sure you want to delete this item?');&quot;&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;dTID&quot; value=&quot;${deviceType.ID}&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;badge rounded-pill bg-danger&quot;&gt;\n                        &lt;i class=&quot;fa fa-trash-o&quot;&gt;Delete&lt;/i&gt;\n                    &lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/c:forEach&gt;\n\n</code></pre>\n<p>But i show &quot;deviceType cannot be resolved&quot;</p>\n<p>Can you help me/Thanks for all</p>\n"},{"tags":["java","generics","reflection","type-erasure"],"comments":[{"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"score":0,"creation_date":1344009659,"post_id":11798951,"comment_id":15677682,"body_markdown":"what are you exactly want to accomplish with s? can you show me a short example (pseudo code doesn&#39;t matter)","body":"what are you exactly want to accomplish with s? can you show me a short example (pseudo code doesn&#39;t matter)"},{"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"score":0,"creation_date":1344009776,"post_id":11798951,"comment_id":15677726,"body_markdown":"With generics you could do something like public void foo&lt;T extends Object&gt; T&gt; (List&lt;T&gt; s), if that&#39;s what you want","body":"With generics you could do something like public void foo&lt;T extends Object&gt; T&gt; (List&lt;T&gt; s), if that&#39;s what you want"}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1344008866,"creation_date":1344008555,"answer_id":11798979,"question_id":11798951,"body_markdown":"**No**. Due to Java&#39;s [Type Erasure][1], all generics are stripped during the compile process. \r\n\r\nYou can however use `instanceOf` or `getClass` on elements in the list to see if they match a specific type.\r\n\r\n\r\n[1]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Generic type of local variable at runtime","body":"<p><strong>No</strong>. Due to Java's <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow\">Type Erasure</a>, all generics are stripped during the compile process. </p>\n\n<p>You can however use <code>instanceOf</code> or <code>getClass</code> on elements in the list to see if they match a specific type.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1344009454,"creation_date":1344009122,"answer_id":11799141,"question_id":11798951,"body_markdown":"[Here](http://tutorials.jenkov.com/java-reflection/generics.html) is nice tutorial that shows how and when you can read generic types using reflection. For example to get String from your firs `foo` method \r\n\r\n    public void foo(List&lt;String&gt; s) {\r\n        // ..\r\n    }\r\n\r\nyou can use this code\r\n\r\n\tclass MyClass {\r\n\t\r\n\t\tpublic static void foo(List&lt;String&gt; s) {\r\n\t\t\t// ..\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tMethod method = MyClass.class.getMethod(&quot;foo&quot;, List.class);\r\n\t\r\n\t\t\tType[] genericParameterTypes = method.getGenericParameterTypes();\r\n\t\r\n\t\t\tfor (Type genericParameterType : genericParameterTypes) {\r\n\t\t\t\tif (genericParameterType instanceof ParameterizedType) {\r\n\t\t\t\t\tParameterizedType aType = (ParameterizedType) genericParameterType;\r\n\t\t\t\t\tType[] parameterArgTypes = aType.getActualTypeArguments();\r\n\t\t\t\t\tfor (Type parameterArgType : parameterArgTypes) {\r\n\t\t\t\t\t\tClass parameterArgClass = (Class) parameterArgType;\r\n\t\t\t\t\t\tSystem.out.println(&quot;parameterArgClass = &quot;\r\n\t\t\t\t\t\t\t\t+ parameterArgClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\nOutput: **parameterArgClass = class java.lang.String**\r\n\r\n\r\nIt was possible because your explicitly declared in source code that List can contains only Strings. However in case \r\n\r\n\tpublic &lt;T&gt; void foo2(List&lt;T&gt; s){\r\n\t\t  //reflect s somehow to get T\r\n\t}\r\nT can be anything so because of type erasure it is impossible to retrieve info about precise T class.","title":"Generic type of local variable at runtime","body":"<p><a href=\"http://tutorials.jenkov.com/java-reflection/generics.html\" rel=\"nofollow\">Here</a> is nice tutorial that shows how and when you can read generic types using reflection. For example to get String from your firs <code>foo</code> method </p>\n\n<pre><code>public void foo(List&lt;String&gt; s) {\n    // ..\n}\n</code></pre>\n\n<p>you can use this code</p>\n\n<pre><code>class MyClass {\n\n    public static void foo(List&lt;String&gt; s) {\n        // ..\n    }\n\n    public static void main(String[] args) throws Exception {\n        Method method = MyClass.class.getMethod(\"foo\", List.class);\n\n        Type[] genericParameterTypes = method.getGenericParameterTypes();\n\n        for (Type genericParameterType : genericParameterTypes) {\n            if (genericParameterType instanceof ParameterizedType) {\n                ParameterizedType aType = (ParameterizedType) genericParameterType;\n                Type[] parameterArgTypes = aType.getActualTypeArguments();\n                for (Type parameterArgType : parameterArgTypes) {\n                    Class parameterArgClass = (Class) parameterArgType;\n                    System.out.println(\"parameterArgClass = \"\n                            + parameterArgClass);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output: <strong>parameterArgClass = class java.lang.String</strong></p>\n\n<p>It was possible because your explicitly declared in source code that List can contains only Strings. However in case </p>\n\n<pre><code>public &lt;T&gt; void foo2(List&lt;T&gt; s){\n      //reflect s somehow to get T\n}\n</code></pre>\n\n<p>T can be anything so because of type erasure it is impossible to retrieve info about precise T class.</p>\n"}],"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11799141,"answer_count":2,"score":2,"last_activity_date":1684205619,"creation_date":1344008450,"question_id":11798951,"body_markdown":"Is there a way in Java to reflect a generic type of a local variable? I know you can do that with a field - https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list. Any idea how to solve, for instance:\r\n\r\n    public void foo(List&lt;String&gt; s){\r\n      //reflect s somehow to get String\r\n    }\r\n\r\n Or even more general:\r\n    \r\n    public void foo&lt;T&gt;(List&lt;T&gt; s){\r\n      //reflect s somehow to get T\r\n    }","title":"Generic type of local variable at runtime","body":"<p>Is there a way in Java to reflect a generic type of a local variable? I know you can do that with a field - <a href=\"https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list\">Get generic type of java.util.List</a>. Any idea how to solve, for instance:</p>\n<pre><code>public void foo(List&lt;String&gt; s){\n  //reflect s somehow to get String\n}\n</code></pre>\n<p>Or even more general:</p>\n<pre><code>public void foo&lt;T&gt;(List&lt;T&gt; s){\n  //reflect s somehow to get T\n}\n</code></pre>\n"},{"tags":["java","servlets","jax-rs","server-sent-events"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1684113942,"post_id":76250349,"comment_id":134464513,"body_markdown":"What version of Wildfly are you using?","body":"What version of Wildfly are you using?"},{"owner":{"account_id":18236718,"reputation":21,"user_id":13274560,"display_name":"strasso"},"score":0,"creation_date":1684153874,"post_id":76250349,"comment_id":134470706,"body_markdown":"I&#39;m using Wildfly 21","body":"I&#39;m using Wildfly 21"}],"owner":{"account_id":18236718,"reputation":21,"user_id":13274560,"display_name":"strasso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684204695,"creation_date":1684113700,"question_id":76250349,"body_markdown":"I&#39;m trying to create a SSE using JAX-RS with the following code:\r\n\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.Context;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.sse.OutboundSseEvent;\r\nimport javax.ws.rs.sse.Sse;\r\nimport javax.ws.rs.sse.SseEventSink;\r\n\r\n@Path(&quot;events&quot;)\r\npublic class EventsHandler {\r\n\r\n\t\r\n    Executor executorService = Executors.newSingleThreadExecutor();\r\n    @GET\r\n    @Produces(MediaType.SERVER_SENT_EVENTS)\r\n    public void sendEvents(@Context SseEventSink sseEventSink, @Context Sse sse) {\r\n        Random rnd = new Random();\r\n        IntStream rndStream = IntStream.generate(() -&gt; rnd.nextInt(90));\r\n        List&lt;Integer&gt; lottery = rndStream.limit(5).boxed().collect(Collectors.toList());\r\n        executorService.execute(() -&gt; {\r\n            lottery.forEach(value -&gt; {\r\n                try {\r\n                    TimeUnit.SECONDS.sleep(5);\r\n                    System.out.println(&quot;Sending the following value: &quot; + value);\r\n                    final OutboundSseEvent outboundSseEvent = sse.newEventBuilder().name(&quot;lottery&quot;)\r\n                            .data(Integer.class, value).build();\r\n                    sseEventSink.send(outboundSseEvent);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            });\r\n            sseEventSink.close();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nHowever, every attempt to run it on my Wildfly Server throws the message `Failed to set servlet request into asynchronous mode, server sent events may not work` with no further details.\r\n\r\nI tried to change the asyncSupport in the servlet config to true, but it had no effect. \r\n\r\n**EDIT 05/15/2023** &lt;br&gt;\r\nThe problem was the others filters used in the web.xml, all involved filters on the servlet must enable the async support.","title":"JAX-RS SSE connection closing abruptly","body":"<p>I'm trying to create a SSE using JAX-RS with the following code:</p>\n<pre><code>import java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.sse.OutboundSseEvent;\nimport javax.ws.rs.sse.Sse;\nimport javax.ws.rs.sse.SseEventSink;\n\n@Path(&quot;events&quot;)\npublic class EventsHandler {\n\n    \n    Executor executorService = Executors.newSingleThreadExecutor();\n    @GET\n    @Produces(MediaType.SERVER_SENT_EVENTS)\n    public void sendEvents(@Context SseEventSink sseEventSink, @Context Sse sse) {\n        Random rnd = new Random();\n        IntStream rndStream = IntStream.generate(() -&gt; rnd.nextInt(90));\n        List&lt;Integer&gt; lottery = rndStream.limit(5).boxed().collect(Collectors.toList());\n        executorService.execute(() -&gt; {\n            lottery.forEach(value -&gt; {\n                try {\n                    TimeUnit.SECONDS.sleep(5);\n                    System.out.println(&quot;Sending the following value: &quot; + value);\n                    final OutboundSseEvent outboundSseEvent = sse.newEventBuilder().name(&quot;lottery&quot;)\n                            .data(Integer.class, value).build();\n                    sseEventSink.send(outboundSseEvent);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            });\n            sseEventSink.close();\n        });\n    }\n}\n</code></pre>\n<p>However, every attempt to run it on my Wildfly Server throws the message <code>Failed to set servlet request into asynchronous mode, server sent events may not work</code> with no further details.</p>\n<p>I tried to change the asyncSupport in the servlet config to true, but it had no effect.</p>\n<p><strong>EDIT 05/15/2023</strong> <br>\nThe problem was the others filters used in the web.xml, all involved filters on the servlet must enable the async support.</p>\n"},{"tags":["java","variables","jobs"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683083532,"post_id":76160156,"comment_id":134310699,"body_markdown":"The question is missing some code that’s needed to answer. What calls `firstProgram`, `setStartTime`, and `sendStatusMail`?","body":"The question is missing some code that’s needed to answer. What calls <code>firstProgram</code>, <code>setStartTime</code>, and <code>sendStatusMail</code>?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1683257912,"post_id":76160156,"comment_id":134342530,"body_markdown":"Since you haven&#39;t responded with details, I voted to close. Here are a few misconceptions to clear up: Variables and methods don&#39;t belong directly to packages, they belong to classes, and classes belong to packages. The fact that these classes are in different packages has no bearing on this specific problem. One of these must be true: 1) `setStartTime` was never called on the instance of `EndClass` that `sendStatusMail` was called on, or 2) it was called with an instance of `StartClass` that has not had its `firstProgram` method called, or 3) missing code sets one of the variables to null.","body":"Since you haven&#39;t responded with details, I voted to close. Here are a few misconceptions to clear up: Variables and methods don&#39;t belong directly to packages, they belong to classes, and classes belong to packages. The fact that these classes are in different packages has no bearing on this specific problem. One of these must be true: 1) <code>setStartTime</code> was never called on the instance of <code>EndClass</code> that <code>sendStatusMail</code> was called on, or 2) it was called with an instance of <code>StartClass</code> that has not had its <code>firstProgram</code> method called, or 3) missing code sets one of the variables to null."},{"owner":{"account_id":15876857,"reputation":31,"user_id":11455815,"display_name":"Lokesh Parihar"},"score":0,"creation_date":1683346703,"post_id":76160156,"comment_id":134356721,"body_markdown":"Hi @TimMoore This code link Please read in Readme.md \n https://github.com/lokeshparihar100/VariablePass","body":"Hi @TimMoore This code link Please read in Readme.md   <a href=\"https://github.com/lokeshparihar100/VariablePass\" rel=\"nofollow noreferrer\">github.com/lokeshparihar100/VariablePass</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683348338,"post_id":76160156,"comment_id":134356809,"body_markdown":"It does not call startTime on p1 here https://github.com/lokeshparihar100/VariablePass/blob/fe5eab32ae926eb516c0b6e15fb14973ad0f5729/VariablePass/src/com/package3/ClassP3.java#L22","body":"It does not call startTime on p1 here <a href=\"https://github.com/lokeshparihar100/VariablePass/blob/fe5eab32ae926eb516c0b6e15fb14973ad0f5729/VariablePass/src/com/package3/ClassP3.java#L22\" rel=\"nofollow noreferrer\">github.com/lokeshparihar100/VariablePass/blob/&hellip;</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683348421,"post_id":76160156,"comment_id":134356814,"body_markdown":"Your program is creating two different instances of `ClassComP1` and only calls startTime on one of them.","body":"Your program is creating two different instances of <code>ClassComP1</code> and only calls startTime on one of them."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683875556,"post_id":76160156,"comment_id":134436325,"body_markdown":"In method `program`, of class `ClassP3`, you create a new `ClassP1` instance. This instance has nothing to do with the instance that you created in method `main` of class `MainPackage`. Hence variable `startTime`, of `ClassP1` instance that you created in method `program`, is null. There are several ways to solve the problem. One way is to call method `startTime` on the `ClassP1` instance that you create in method `program`.","body":"In method <code>program</code>, of class <code>ClassP3</code>, you create a new <code>ClassP1</code> instance. This instance has nothing to do with the instance that you created in method <code>main</code> of class <code>MainPackage</code>. Hence variable <code>startTime</code>, of <code>ClassP1</code> instance that you created in method <code>program</code>, is null. There are several ways to solve the problem. One way is to call method <code>startTime</code> on the <code>ClassP1</code> instance that you create in method <code>program</code>."}],"answers":[{"tags":[],"owner":{"account_id":15876857,"reputation":31,"user_id":11455815,"display_name":"Lokesh Parihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684203500,"creation_date":1684203500,"answer_id":76258968,"question_id":76160156,"body_markdown":"**Static** keyword has resolved my issue.\r\nIn package1 (P1.java) change as below:\r\n```\r\nprivate static startTime;\r\n```\r\n\r\nStatic keyword will store the value in 1st call and save it for next use.","title":"How to get the original value(when package1 called first time) of a variable from package1 to another package3","body":"<p><strong>Static</strong> keyword has resolved my issue.\nIn package1 (P1.java) change as below:</p>\n<pre><code>private static startTime;\n</code></pre>\n<p>Static keyword will store the value in 1st call and save it for next use.</p>\n"}],"owner":{"account_id":15876857,"reputation":31,"user_id":11455815,"display_name":"Lokesh Parihar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76258968,"answer_count":1,"score":-1,"last_activity_date":1684203500,"creation_date":1683082743,"question_id":76160156,"body_markdown":"I have created a `package1` with a variable `startTime` and some other code. I have directly called a method (`firstProgram`) of this package from `JobScheduler` at the beginning of Project execution. Now I want this same value to `package3` at the end of Project, but I&#39;m getting null value.\r\n\r\nP1.java\r\n```java\r\npackage com.package1;\r\n\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class ClassP1 {\r\n    private String startTime;\r\n\r\n    public String getStartTime() {\r\n        return startTime;\r\n    }\r\n\r\n    public void setStartTime(String startTime) {\r\n        this.startTime = startTime;\r\n    }\r\n\r\n    public void startTime() {\r\n        DateFormat dF = new SimpleDateFormat(&quot;dd-MM-yyy HH:mm:ss&quot;);\r\n        setStartTime(dF.format(new Date()));\r\n        System.out.println(&quot;Desired Start Time: &quot; + getStartTime());\r\n    }\r\n}\r\n```\r\nThere are many other packages called in between.\r\n\r\nP3.java\r\n```java\r\npackage com.package3;\r\n\r\nimport java.text.DateFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport com.package1.ClassP1;\r\n\r\npublic class ClassP3 {\r\n    private String endTime;\r\n\r\n    public String getEndTime() {\r\n        return endTime;\r\n    }\r\n\r\n    public void setEndTime(String endTime) {\r\n        this.endTime = endTime;\r\n    }\r\n\r\n    public void program() {\r\n        ClassP1 p1 = new ClassP1();\r\n        System.out.println(&quot;Start Time: &quot; + p1.getStartTime()); // I want this Start Time when exact job start\r\n        DateFormat dF = new SimpleDateFormat(&quot;dd-MM-yyy HH:mm:ss&quot;);\r\n        setEndTime(dF.format(new Date()));\r\n        System.out.println(&quot;End Time: &quot; + getEndTime());\r\n    }\r\n}\r\n```\r\nMainPackage.java\r\n```java\r\npackage mainpackage;\r\n\r\nimport com.package3.*;\r\nimport com.package1.*;\r\n\r\npublic class MainPackage {\r\n\r\n    public static void main(String[] args) {\r\n        ClassP1 p1 = new ClassP1();\r\n        p1.startTime();\r\n\r\n        ClassP3 p3 = new ClassP3();\r\n        p3.program();\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\nDesired Start Time: 11-05-2023 00:14:00\r\nStart Time: null\r\nEnd Time: 11-05-2023 00:14:01\r\n```\r\nBasically I want Job start time and Job End Time but I&#39;m getting:\r\n```\r\nJob Start Time as **null** \r\n```\r\nHow to get Job start time from call of very first method?\r\n","title":"How to get the original value(when package1 called first time) of a variable from package1 to another package3","body":"<p>I have created a <code>package1</code> with a variable <code>startTime</code> and some other code. I have directly called a method (<code>firstProgram</code>) of this package from <code>JobScheduler</code> at the beginning of Project execution. Now I want this same value to <code>package3</code> at the end of Project, but I'm getting null value.</p>\n<p>P1.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.package1;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class ClassP1 {\n    private String startTime;\n\n    public String getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(String startTime) {\n        this.startTime = startTime;\n    }\n\n    public void startTime() {\n        DateFormat dF = new SimpleDateFormat(&quot;dd-MM-yyy HH:mm:ss&quot;);\n        setStartTime(dF.format(new Date()));\n        System.out.println(&quot;Desired Start Time: &quot; + getStartTime());\n    }\n}\n</code></pre>\n<p>There are many other packages called in between.</p>\n<p>P3.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.package3;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport com.package1.ClassP1;\n\npublic class ClassP3 {\n    private String endTime;\n\n    public String getEndTime() {\n        return endTime;\n    }\n\n    public void setEndTime(String endTime) {\n        this.endTime = endTime;\n    }\n\n    public void program() {\n        ClassP1 p1 = new ClassP1();\n        System.out.println(&quot;Start Time: &quot; + p1.getStartTime()); // I want this Start Time when exact job start\n        DateFormat dF = new SimpleDateFormat(&quot;dd-MM-yyy HH:mm:ss&quot;);\n        setEndTime(dF.format(new Date()));\n        System.out.println(&quot;End Time: &quot; + getEndTime());\n    }\n}\n</code></pre>\n<p>MainPackage.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mainpackage;\n\nimport com.package3.*;\nimport com.package1.*;\n\npublic class MainPackage {\n\n    public static void main(String[] args) {\n        ClassP1 p1 = new ClassP1();\n        p1.startTime();\n\n        ClassP3 p3 = new ClassP3();\n        p3.program();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Desired Start Time: 11-05-2023 00:14:00\nStart Time: null\nEnd Time: 11-05-2023 00:14:01\n</code></pre>\n<p>Basically I want Job start time and Job End Time but I'm getting:</p>\n<pre><code>Job Start Time as **null** \n</code></pre>\n<p>How to get Job start time from call of very first method?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":22568551,"reputation":381,"user_id":16755117,"display_name":"han"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684202303,"creation_date":1683809461,"question_id":76227840,"body_markdown":"I&#39;m using springboot version 2.7.11\r\n## IndexController.java\r\n```java\r\npackage com.system.controller;\r\n\r\nimport cn.hutool.core.map.MapUtil;\r\nimport com.google.code.kaptcha.Producer;\r\nimport com.system.common.Result;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport sun.misc.BASE64Encoder;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class IndexController {\r\n    @Autowired\r\n    private Producer producer;\r\n\r\n    @GetMapping(&quot;/captcha&quot;)\r\n    public Result captcha() throws IOException {\r\n        //generate captcha characters\r\n        String code = producer.createText();\r\n        //generate a uuid (a string of random characters) as the key, b7af2ad9-4be8-49dc-b0fa9b4707ddd7b3.\r\n        //generate a captcha, store it in the redis database, uuid as the storage key, and the captcha is the value corresponding to the storage key\r\n        String key = UUID.randomUUID().toString();\r\n        //convert the generated captcha to an image, image is an image object in memory\r\n        BufferedImage image = producer.createImage(code);\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        ImageIO.write(image, &quot;jpg&quot;, out);\r\n        //Base64 encoding\r\n        BASE64Encoder encoder = new BASE64Encoder();\r\n        String str = &quot;data:image/jpeg;base64,&quot;;\r\n        String base64Image = str + encoder.encode(out.toByteArray());\r\n        //Output the log on the server side, what is the captcha and the random code of the storage redis key\r\n        log.info(&quot;captcha--{}--{}&quot;, key, code);\r\n        //The location where the exception was thrown, which is the correct code:\r\n        //MapUtil.builder().put(&quot;key&quot;, key).put(&quot;captchaImg&quot;, base64Image).build());\r\n        // The builder() method is missing &#128071;&#128071;                       \r\n        return Result.success(\r\n                MapUtil.builder().put(&quot;key&quot;, key).put(&quot;captchaImg&quot;, base64Image));\r\n        //return Result.success(MakeMistake());\r\n    }\r\n\r\n    private String MakeMistake() {\r\n        throw new NullPointerException(&quot;Array null&quot;);\r\n       //return &quot;mistake&quot;;\r\n    }\r\n}\r\n```\r\n## KaptchConfig.java\r\n```java\r\npackage com.system.config;\r\n\r\nimport com.google.code.kaptcha.Constants;\r\nimport com.google.code.kaptcha.impl.DefaultKaptcha;\r\nimport com.google.code.kaptcha.util.Config;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.Properties;\r\n@Configuration\r\npublic class KaptchConfig {\r\n    @Bean\r\n    public DefaultKaptcha producer() {\r\n        Properties properties = new Properties();\r\n        //If there is a border, the default is true,  can set yes, no\r\n        properties.setProperty(Constants.KAPTCHA_BORDER, &quot;no&quot;);\r\n        // The default Color for CAPTCHA text characters is color.black\r\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_FONT_COLOR,\r\n                &quot;blue&quot;);\r\n        // The default spacing for CAPTCHA text characters is 2\r\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_CHAR_SPACE,\r\n                &quot;4&quot;);\r\n        // By default, the height of the CAPTCHA image is 50\r\n        properties.setProperty(Constants.KAPTCHA_IMAGE_HEIGHT, &quot;40&quot;);\r\n        // By default, the CAPTCHA image width is 200\r\n        properties.setProperty(Constants.KAPTCHA_IMAGE_WIDTH, &quot;120&quot;);\r\n        // The default CAPTCHA text character size is 40\r\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_FONT_SIZE,\r\n                &quot;30&quot;);\r\n        Config config = new Config(properties);\r\n        DefaultKaptcha defaultKaptcha = new DefaultKaptcha();\r\n        defaultKaptcha.setConfig(config);\r\n        return defaultKaptcha;\r\n    }\r\n}\r\n```\r\n\r\n## GlobalException.java\r\n```java\r\npackage com.system.common.exception;\r\n\r\nimport com.system.common.Result;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.security.access.AccessDeniedException;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\r\n\r\n@Slf4j\r\n@RestControllerAdvice\r\npublic class GlobalException {\r\n//    AccessDeniedException accessDeniedException;\r\n    @ExceptionHandler(value = AccessDeniedException.class)\r\n    public Result handler(AccessDeniedException e){\r\n        log.info(&quot;spring security permission denied---{}&quot;,e.getMessage());\r\n        return Result.fail(&quot;permission denied&quot;);\r\n    }\r\n    @ExceptionHandler(value = IllegalArgumentException.class)\r\n    public Result handler(IllegalArgumentException e){\r\n        log.info(&quot;spring security Argument error---{}&quot;,e.getMessage());\r\n        return Result.fail(&quot;Argument error&quot;);\r\n    }\r\n\r\n    @ExceptionHandler(value = RuntimeException.class)\r\n    public Result handler(RuntimeException e){\r\n        log.info(&quot;RuntimeException---{}&quot;,e.getMessage());\r\n        return Result.fail(&quot;RuntimeException&quot;+e.getMessage());\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I remove the.build() method from the IndexController.java file, I write it directly into the parameters and then return two json data. What is the cause of this problem and how can I avoid it? demoted to 2.3.12.RELEASE and the error disappears.\r\n[![enter image description here][1]][1]\r\nHelp is greatly appreciated\r\n\r\nThis is the code where the problem occurs：\r\n[why-i-get-double-json][2]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZOAy.png\r\n  [2]: https://github.com/HanHan666666/why-i-get-double-json","title":"springboot 2.7.x ExceptionHandler returns double JSON data","body":"<p>I'm using springboot version 2.7.11</p>\n<h2>IndexController.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.system.controller;\n\nimport cn.hutool.core.map.MapUtil;\nimport com.google.code.kaptcha.Producer;\nimport com.system.common.Result;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport sun.misc.BASE64Encoder;\n\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.UUID;\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class IndexController {\n    @Autowired\n    private Producer producer;\n\n    @GetMapping(&quot;/captcha&quot;)\n    public Result captcha() throws IOException {\n        //generate captcha characters\n        String code = producer.createText();\n        //generate a uuid (a string of random characters) as the key, b7af2ad9-4be8-49dc-b0fa9b4707ddd7b3.\n        //generate a captcha, store it in the redis database, uuid as the storage key, and the captcha is the value corresponding to the storage key\n        String key = UUID.randomUUID().toString();\n        //convert the generated captcha to an image, image is an image object in memory\n        BufferedImage image = producer.createImage(code);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;jpg&quot;, out);\n        //Base64 encoding\n        BASE64Encoder encoder = new BASE64Encoder();\n        String str = &quot;data:image/jpeg;base64,&quot;;\n        String base64Image = str + encoder.encode(out.toByteArray());\n        //Output the log on the server side, what is the captcha and the random code of the storage redis key\n        log.info(&quot;captcha--{}--{}&quot;, key, code);\n        //The location where the exception was thrown, which is the correct code:\n        //MapUtil.builder().put(&quot;key&quot;, key).put(&quot;captchaImg&quot;, base64Image).build());\n        // The builder() method is missing 👇👇                       \n        return Result.success(\n                MapUtil.builder().put(&quot;key&quot;, key).put(&quot;captchaImg&quot;, base64Image));\n        //return Result.success(MakeMistake());\n    }\n\n    private String MakeMistake() {\n        throw new NullPointerException(&quot;Array null&quot;);\n       //return &quot;mistake&quot;;\n    }\n}\n</code></pre>\n<h2>KaptchConfig.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.system.config;\n\nimport com.google.code.kaptcha.Constants;\nimport com.google.code.kaptcha.impl.DefaultKaptcha;\nimport com.google.code.kaptcha.util.Config;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.Properties;\n@Configuration\npublic class KaptchConfig {\n    @Bean\n    public DefaultKaptcha producer() {\n        Properties properties = new Properties();\n        //If there is a border, the default is true,  can set yes, no\n        properties.setProperty(Constants.KAPTCHA_BORDER, &quot;no&quot;);\n        // The default Color for CAPTCHA text characters is color.black\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_FONT_COLOR,\n                &quot;blue&quot;);\n        // The default spacing for CAPTCHA text characters is 2\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_CHAR_SPACE,\n                &quot;4&quot;);\n        // By default, the height of the CAPTCHA image is 50\n        properties.setProperty(Constants.KAPTCHA_IMAGE_HEIGHT, &quot;40&quot;);\n        // By default, the CAPTCHA image width is 200\n        properties.setProperty(Constants.KAPTCHA_IMAGE_WIDTH, &quot;120&quot;);\n        // The default CAPTCHA text character size is 40\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_FONT_SIZE,\n                &quot;30&quot;);\n        Config config = new Config(properties);\n        DefaultKaptcha defaultKaptcha = new DefaultKaptcha();\n        defaultKaptcha.setConfig(config);\n        return defaultKaptcha;\n    }\n}\n</code></pre>\n<h2>GlobalException.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.system.common.exception;\n\nimport com.system.common.Result;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.access.AccessDeniedException;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@Slf4j\n@RestControllerAdvice\npublic class GlobalException {\n//    AccessDeniedException accessDeniedException;\n    @ExceptionHandler(value = AccessDeniedException.class)\n    public Result handler(AccessDeniedException e){\n        log.info(&quot;spring security permission denied---{}&quot;,e.getMessage());\n        return Result.fail(&quot;permission denied&quot;);\n    }\n    @ExceptionHandler(value = IllegalArgumentException.class)\n    public Result handler(IllegalArgumentException e){\n        log.info(&quot;spring security Argument error---{}&quot;,e.getMessage());\n        return Result.fail(&quot;Argument error&quot;);\n    }\n\n    @ExceptionHandler(value = RuntimeException.class)\n    public Result handler(RuntimeException e){\n        log.info(&quot;RuntimeException---{}&quot;,e.getMessage());\n        return Result.fail(&quot;RuntimeException&quot;+e.getMessage());\n    }\n}\n\n</code></pre>\n<p>When I remove the.build() method from the IndexController.java file, I write it directly into the parameters and then return two json data. What is the cause of this problem and how can I avoid it? demoted to 2.3.12.RELEASE and the error disappears.\n<a href=\"https://i.stack.imgur.com/MZOAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZOAy.png\" alt=\"enter image description here\" /></a>\nHelp is greatly appreciated</p>\n<p>This is the code where the problem occurs：\n<a href=\"https://github.com/HanHan666666/why-i-get-double-json\" rel=\"nofollow noreferrer\">why-i-get-double-json</a></p>\n"},{"tags":["java","jframe","jpanel","paint","paintcomponent"],"comments":[{"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"score":0,"creation_date":1315160482,"post_id":7301205,"comment_id":8797356,"body_markdown":"You could use an observer pattern so it&#39;s only repainted when something has changed.","body":"You could use an observer pattern so it&#39;s only repainted when something has changed."}],"answers":[{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1315160706,"creation_date":1315160706,"answer_id":7301256,"question_id":7301205,"body_markdown":"What you need to do is to inform the swing component whenever you know that part of the image on your panel changed. The normal way to do this is to, as you said, call `repaint()` and if you know the rectangle that was &#39;invalidated&#39; you can also indicated that.\r\n\r\nDepending on the events that cause the contents of the `JPanel`, you need to change your application design so that the presentation part of your application &#39;listens&#39; to changes in the data underneath and repaints when these changes occur.\r\n\r\nThere is another method called `paintImmediately()` which might do for certain situations, but you have to describe a little more your scenario and in which cases are you needing to repaint continuously.","title":"How would I go about making my paint for my JFrame automatically update?","body":"<p>What you need to do is to inform the swing component whenever you know that part of the image on your panel changed. The normal way to do this is to, as you said, call <code>repaint()</code> and if you know the rectangle that was 'invalidated' you can also indicated that.</p>\n\n<p>Depending on the events that cause the contents of the <code>JPanel</code>, you need to change your application design so that the presentation part of your application 'listens' to changes in the data underneath and repaints when these changes occur.</p>\n\n<p>There is another method called <code>paintImmediately()</code> which might do for certain situations, but you have to describe a little more your scenario and in which cases are you needing to repaint continuously.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684201213,"creation_date":1315165742,"answer_id":7301731,"question_id":7301205,"body_markdown":"&gt;  I have implemented a fully functional internet relay chat system which involves paint to see what you and other people are saying\r\n\r\nIt sounds like you are trying to &quot;pull&quot; updates from the server, then you can use a SwingWorker to query the server for updates and then pulish the updates to the GUI. You would want the SwingWorker to sleep so it doesn&#39;t continuously poll the server.\r\n\r\nRead the section from the Swing tutorial on [Worker Threads and SwingWorker][1] for more information.\r\n\r\n\r\nMaybe a better design is for the server should &quot;push&quot; updates to the client and the client should listen for changes and then repaint itself. Maybe the [All About Sockets][2] section will help you out.\r\n\r\nEdit:\r\n\r\nHere is some old code I havent looked at in over 5 years. The &quot;client&quot; is a simple text pane which sends each character typed to the &quot;server&quot;. The server then sends each character to any other client that is connected to the server. The idea it that the server has the most up to date Document. As one client sends a change all other clients are notified of the change. This way all clients always contain the same data. Your code should be simpler since you will only send complete messages to the server. To run the code open a dos window and type:\r\n\r\n&gt; java DocumentServer 1234\r\n\r\nThis will start a server that listens to port 1234\r\n\r\nThen open another window and type\r\n\r\n&gt; java DocumentClient 1234 3\r\n\r\nThis will create 3 client frames that connect to the server. Typing in either of the frames will update the server.\r\n\r\nYou can get the zip file here:\r\n\r\nhttps://www.camick.com/java/source/echo.zip\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\r\n  [2]: http://download.oracle.com/javase/tutorial/networking/TOC.html","title":"How would I go about making my paint for my JFrame automatically update?","body":"<blockquote>\n<p>I have implemented a fully functional internet relay chat system which involves paint to see what you and other people are saying</p>\n</blockquote>\n<p>It sounds like you are trying to &quot;pull&quot; updates from the server, then you can use a SwingWorker to query the server for updates and then pulish the updates to the GUI. You would want the SwingWorker to sleep so it doesn't continuously poll the server.</p>\n<p>Read the section from the Swing tutorial on <a href=\"http://download.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a> for more information.</p>\n<p>Maybe a better design is for the server should &quot;push&quot; updates to the client and the client should listen for changes and then repaint itself. Maybe the <a href=\"http://download.oracle.com/javase/tutorial/networking/TOC.html\" rel=\"nofollow noreferrer\">All About Sockets</a> section will help you out.</p>\n<p>Edit:</p>\n<p>Here is some old code I havent looked at in over 5 years. The &quot;client&quot; is a simple text pane which sends each character typed to the &quot;server&quot;. The server then sends each character to any other client that is connected to the server. The idea it that the server has the most up to date Document. As one client sends a change all other clients are notified of the change. This way all clients always contain the same data. Your code should be simpler since you will only send complete messages to the server. To run the code open a dos window and type:</p>\n<blockquote>\n<p>java DocumentServer 1234</p>\n</blockquote>\n<p>This will start a server that listens to port 1234</p>\n<p>Then open another window and type</p>\n<blockquote>\n<p>java DocumentClient 1234 3</p>\n</blockquote>\n<p>This will create 3 client frames that connect to the server. Typing in either of the frames will update the server.</p>\n<p>You can get the zip file here:</p>\n<p><a href=\"https://www.camick.com/java/source/echo.zip\" rel=\"nofollow noreferrer\">https://www.camick.com/java/source/echo.zip</a></p>\n"}],"owner":{"account_id":532207,"reputation":6976,"user_id":903291,"accept_rate":99,"display_name":"Dylan Wheeler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7301256,"answer_count":2,"score":0,"last_activity_date":1684201213,"creation_date":1315160159,"question_id":7301205,"body_markdown":"Currently, I have a `JFrame` that contains a `JPanel`. The `JPanel` is the paint for my program. Paint meaning all of my `Graphics g`.drawString things.\r\nRight now, it only updates the display whenever the user interacts with the `JFrame`, but I want it to continuously update (`repaint()`) itself WITHOUT using a while loop (too much CPU usage).\r\n\r\nAnyone know how I could do this?","title":"How would I go about making my paint for my JFrame automatically update?","body":"<p>Currently, I have a <code>JFrame</code> that contains a <code>JPanel</code>. The <code>JPanel</code> is the paint for my program. Paint meaning all of my <code>Graphics g</code>.drawString things.\nRight now, it only updates the display whenever the user interacts with the <code>JFrame</code>, but I want it to continuously update (<code>repaint()</code>) itself WITHOUT using a while loop (too much CPU usage).</p>\n\n<p>Anyone know how I could do this?</p>\n"},{"tags":["java","accessor","lombok"],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1460439681,"creation_date":1460439681,"answer_id":36564462,"question_id":36564153,"body_markdown":"I&#39;m afraid you can&#39;t.\r\n\r\nFrom the [doc][1] (emphasis is mine):\r\n\r\n&gt; The `@Accessors` annotation is used **to configure** how lombok generates and looks for getters and setters.\r\n\r\nSo `@Accessors` doesn&#39;t generate anything, it&#39;s just a way to configure `@Getter` and `@Setter`.\r\n\r\n----------\r\n\r\nIf you really want fluent **and** regular getter/setter, you can add (manually) the regular one and make them delegate to the fluent ones.\r\n\r\n  [1]: https://projectlombok.org/features/experimental/Accessors.html","title":"How can I generate both standard accessors and fluent accessors with lombok?","body":"<p>I'm afraid you can't.</p>\n\n<p>From the <a href=\"https://projectlombok.org/features/experimental/Accessors.html\" rel=\"noreferrer\">doc</a> (emphasis is mine):</p>\n\n<blockquote>\n  <p>The <code>@Accessors</code> annotation is used <strong>to configure</strong> how lombok generates and looks for getters and setters.</p>\n</blockquote>\n\n<p>So <code>@Accessors</code> doesn't generate anything, it's just a way to configure <code>@Getter</code> and <code>@Setter</code>.</p>\n\n<hr>\n\n<p>If you really want fluent <strong>and</strong> regular getter/setter, you can add (manually) the regular one and make them delegate to the fluent ones.</p>\n"},{"tags":[],"owner":{"account_id":6969257,"reputation":761,"user_id":5346171,"display_name":"Arek Kubiak"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1574258256,"creation_date":1460453996,"answer_id":36569389,"question_id":36564153,"body_markdown":"Unfortunately this is impossible. You need to implement own getters and setters, and add @Getter @Setter and @Accessors(fluent = true) annotaions to achieve this. \r\n\r\n    @Getter\r\n    @Setter\r\n    @Accessors(fluent = true)\r\n    public class SampleClass {\r\n        private int id;\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nIn result you will have class like:\r\n\r\n    public class SampleClass {\r\n        private int id;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public int id(){\r\n            return id;\r\n        }\r\n    \r\n        public SampleClass id(int id){\r\n            this.id=id;\r\n            return this;\r\n        }\r\n    }","title":"How can I generate both standard accessors and fluent accessors with lombok?","body":"<p>Unfortunately this is impossible. You need to implement own getters and setters, and add @Getter @Setter and @Accessors(fluent = true) annotaions to achieve this. </p>\n\n<pre><code>@Getter\n@Setter\n@Accessors(fluent = true)\npublic class SampleClass {\n    private int id;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n</code></pre>\n\n<p>In result you will have class like:</p>\n\n<pre><code>public class SampleClass {\n    private int id;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int id(){\n        return id;\n    }\n\n    public SampleClass id(int id){\n        this.id=id;\n        return this;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1468119,"reputation":15037,"user_id":1380406,"accept_rate":38,"display_name":"cosbor11"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1597451862,"creation_date":1597451862,"answer_id":63421550,"question_id":36564153,"body_markdown":"    @Accessors(chain = true)\r\n    @Setter @Getter\r\n    public class Person {\r\n        private String firstName;\r\n        private String lastName;\r\n        private int height;\r\n    }\r\n    \r\n    ....\r\n    \r\n    @Test\r\n    public void testAccessors() {\r\n        Person person = new Person();\r\n    \r\n        person.setFirstName(&quot;Jack&quot;)\r\n            .setLastName(&quot;Bauer&quot;)\r\n            .setHeight(100);\r\n    \r\n        assertEquals(&quot;Jack&quot;, person.getFirstName());\r\n        assertEquals(&quot;Bauer&quot;, person.getLastName());\r\n        assertEquals(100, person.getHeight());\r\n    }","title":"How can I generate both standard accessors and fluent accessors with lombok?","body":"<pre><code>@Accessors(chain = true)\n@Setter @Getter\npublic class Person {\n    private String firstName;\n    private String lastName;\n    private int height;\n}\n\n....\n\n@Test\npublic void testAccessors() {\n    Person person = new Person();\n\n    person.setFirstName(&quot;Jack&quot;)\n        .setLastName(&quot;Bauer&quot;)\n        .setHeight(100);\n\n    assertEquals(&quot;Jack&quot;, person.getFirstName());\n    assertEquals(&quot;Bauer&quot;, person.getLastName());\n    assertEquals(100, person.getHeight());\n}\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21253,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":36569389,"answer_count":3,"score":33,"last_activity_date":1684201155,"creation_date":1460438251,"question_id":36564153,"body_markdown":"I tried this.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @lombok.Getter\r\n    @lombok.Setter\r\n    @lombok.Accessors(chain = true, fluent = true)\r\n    private String prop;\r\n\r\nAnd `@Accessor` took precedence and `getProp` and `setProp` are not generated.\r\n\r\nHow can I make it generate this?\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public String getProp() {\r\n        return prop;\r\n    }\r\n\r\n    public String prop() {\r\n        //return prop;\r\n        return getProp(); // wow factor\r\n    }\r\n\r\n    public void setProp(String prop) {\r\n        this.prop = prop;\r\n    }\r\n\r\n    public Some prop(String prop) {\r\n        //this.prop = prop;\r\n        setProp(prop); // wow factor, again\r\n        return this;\r\n    }\r\n\r\n    ","title":"How can I generate both standard accessors and fluent accessors with lombok?","body":"<p>I tried this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Getter\n@lombok.Setter\n@lombok.Accessors(chain = true, fluent = true)\nprivate String prop;\n</code></pre>\n<p>And <code>@Accessor</code> took precedence and <code>getProp</code> and <code>setProp</code> are not generated.</p>\n<p>How can I make it generate this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getProp() {\n    return prop;\n}\n\npublic String prop() {\n    //return prop;\n    return getProp(); // wow factor\n}\n\npublic void setProp(String prop) {\n    this.prop = prop;\n}\n\npublic Some prop(String prop) {\n    //this.prop = prop;\n    setProp(prop); // wow factor, again\n    return this;\n}\n</code></pre>\n"},{"tags":["java","oop","inheritance","java-8"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684202188,"post_id":76249027,"comment_id":134479546,"body_markdown":"Receiver type must be the subclass, in this case `Cat`. `Cat` can&#39;t call `.eat()` on a `Dog`.","body":"Receiver type must be the subclass, in this case <code>Cat</code>. <code>Cat</code> can&#39;t call <code>.eat()</code> on a <code>Dog</code>."}],"owner":{"account_id":19890276,"reputation":1,"user_id":14572504,"display_name":"Rahul Saxena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684198263,"creation_date":1684088209,"question_id":76249027,"body_markdown":"Let&#39;s say I have a class `Animal` which have a protected function `eat()`. I want to access `eat()` function in `Cat` class that extends Animal class in different package.\r\nThere are 4 ways out of which 2 are working and 2 are not, I am looking for some explanation of this behaviour.\r\n\r\n\r\n```\r\npackage package1;\r\n\r\npublic class Animal {\r\n    protected void eat(){\r\n        System.out.println(&quot;Animal is eating&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npackage package2;\r\n\r\nimport package1.Animal;\r\n\r\npublic class Cat extends Animal {\r\n    public void provideFood(){\r\n        Animal cat = new Animal();\r\n        System.out.println(&quot;food provided&quot;);\r\n        cat.eat(); //---&gt; it doesn&#39;t compile\r\n\r\n        Animal cat1 = new Cat();\r\n        System.out.println(&quot;food provided&quot;);\r\n        cat1.eat(); //--&gt; it doesn&#39;t compile\r\n\r\n        Cat cat2 = new Cat();\r\n        System.out.println(&quot;food provided&quot;);\r\n        cat2.eat();   //--&gt; it compiles\r\n\r\n        System.out.println(&quot;food provided&quot;);\r\n        super.eat();   //--&gt; it compiles\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried the code in local to see which one works but I am looking for explanation","title":"Accessing base class protected method from child class ref &amp; obj, parent class ref &amp; child class obj, parent class ref &amp; obj and super","body":"<p>Let's say I have a class <code>Animal</code> which have a protected function <code>eat()</code>. I want to access <code>eat()</code> function in <code>Cat</code> class that extends Animal class in different package.\nThere are 4 ways out of which 2 are working and 2 are not, I am looking for some explanation of this behaviour.</p>\n<pre><code>package package1;\n\npublic class Animal {\n    protected void eat(){\n        System.out.println(&quot;Animal is eating&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>package package2;\n\nimport package1.Animal;\n\npublic class Cat extends Animal {\n    public void provideFood(){\n        Animal cat = new Animal();\n        System.out.println(&quot;food provided&quot;);\n        cat.eat(); //---&gt; it doesn't compile\n\n        Animal cat1 = new Cat();\n        System.out.println(&quot;food provided&quot;);\n        cat1.eat(); //--&gt; it doesn't compile\n\n        Cat cat2 = new Cat();\n        System.out.println(&quot;food provided&quot;);\n        cat2.eat();   //--&gt; it compiles\n\n        System.out.println(&quot;food provided&quot;);\n        super.eat();   //--&gt; it compiles\n    }\n}\n</code></pre>\n<p>I tried the code in local to see which one works but I am looking for explanation</p>\n"},{"tags":["java","sql","sql-injection","spring-jdbc","veracode"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1598879399,"post_id":63671132,"comment_id":112591995,"body_markdown":"I assume that `checkEntityName()` throws an exception if the parameter is not all valid identifier characters? If so, then your code is safe, but Veracode doesn&#39;t know what `checkEntityName()` does, so it doesn&#39;t know you already guarded against SQL injection. --- Do a web search for [`Veracode ignore`](https://www.google.com/search?q=Veracode+ignore) to find options for suppressing the issue for that particular code.","body":"I assume that <code>checkEntityName()</code> throws an exception if the parameter is not all valid identifier characters? If so, then your code is safe, but Veracode doesn&#39;t know what <code>checkEntityName()</code> does, so it doesn&#39;t know you already guarded against SQL injection. --- Do a web search for <a href=\"https://www.google.com/search?q=Veracode+ignore\" rel=\"nofollow noreferrer\"><code>Veracode ignore</code></a> to find options for suppressing the issue for that particular code."},{"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"score":3,"creation_date":1619617706,"post_id":63671132,"comment_id":118959309,"body_markdown":"I would love to know if you made any progress on this.","body":"I would love to know if you made any progress on this."}],"answers":[{"tags":[],"owner":{"account_id":8774591,"reputation":25,"user_id":17188780,"display_name":"SmlCodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684196845,"creation_date":1684128862,"answer_id":76251115,"question_id":63671132,"body_markdown":"If it still gives an exception even using `PrepareStatement` try to sanitize the native SQL query string by using the below code.\r\n```java\r\nprivate static String sanitizeQuery(String query) {\r\n    return query\r\n        .chars()\r\n        .mapToObj(i -&gt; (char) i)\r\n        .map(String::valueOf)\r\n        .collect(Collectors.joining());\r\n}\r\n```","title":"Why does Veracode report CWE-89?","body":"<p>If it still gives an exception even using <code>PrepareStatement</code> try to sanitize the native SQL query string by using the below code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String sanitizeQuery(String query) {\n    return query\n        .chars()\n        .mapToObj(i -&gt; (char) i)\n        .map(String::valueOf)\n        .collect(Collectors.joining());\n}\n</code></pre>\n"}],"owner":{"account_id":11184340,"reputation":31,"user_id":8207300,"display_name":"Radek Chrom&#237;k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1346,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1684196845,"creation_date":1598878118,"question_id":63671132,"body_markdown":"I have this SQL query written in JDBC which contains dynamic table and fields names:\r\n\r\n```\r\n    private String checkDimension(String tenantId, String prefix, Long schemaMetaId, Long transactionalMetaId,\r\n                                  String dimension, String dimensionValue) {\r\n        DataSource tenantDataSource = tenantDataSourceProvider.getTenantDataSource(checkEntityName(tenantId));\r\n        try (Connection connection = tenantDataSource.getConnection()) {\r\n\r\n            String sql = String.format(&quot;select * from \\&quot;%s_%s\\&quot; input_file join \\&quot;DIMENSION_VALUES_%s\\&quot; dv on &quot; +\r\n                            &quot;(dv.\\&quot;DIMENSION\\&quot; = ? and dv.\\&quot;DIMENSION_VALUE\\&quot; = input_file.\\&quot;%s\\&quot;) limit 1&quot;,\r\n                    checkEntityName(prefix), checkEntityName(schemaMetaId.toString()),\r\n                    checkEntityName(transactionalMetaId.toString()), checkEntityName(dimensionValue));\r\n            try (PreparedStatement statement = connection.prepareStatement(sql)) {\r\n                statement.setString(1, dimension);\r\n                try (ResultSet resultSet = statement.executeQuery()) {\r\n                    if (resultSet.next()) {\r\n                        return &quot;OK&quot;;\r\n                    } else {\r\n                        return &quot;Values do not match&quot;;\r\n                    }\r\n                }\r\n            }\r\n        } catch (SQLException exception) {\r\n            throw new IllegalStateException(exception);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nFor mitigation flaws I am using function `checkEntityName` which should silent them (make them false positive during Veracode scan)\r\n```\r\n    @SQLQueryCleanser\r\n    static String checkEntityName(String entityName) {\r\n        if (!entityName.matches(&quot;^[-a-zA-Z0-9_]*$&quot;)) {\r\n            throw new SecurityException(String.format(&quot;Invalid name for entity: %s&quot;, entityName));\r\n        }\r\n        return entityName;\r\n    }\r\n```\r\n\r\nBut Veracode is still reporting this issue:\r\n\r\nFlaw Id: 1433\r\n\r\nDescription: This database query contains a SQL injection flaw. The call to java.sql.Statement.executeQuery() constructs a dynamic SQL query using a variable derived from untrusted input. An attacker could exploit this flaw to execute arbitrary SQL queries against the database. The first argument to executeQuery() contains tainted data from the variable format(). The tainted data originated from an earlier call to java.sql.Statement.executeQuery.\r\n\r\nRemediation: Avoid dynamically constructing SQL queries. Instead, use parameterized prepared statements to prevent the database from interpreting the contents of bind variables as part of the query. Always validate untrusted input to ensure that it conforms to the expected format, using centralized data validation routines when possible.\r\n\r\n\r\nCan you please give me advice how to solve this? Thank you :)\r\n","title":"Why does Veracode report CWE-89?","body":"<p>I have this SQL query written in JDBC which contains dynamic table and fields names:</p>\n<pre><code>    private String checkDimension(String tenantId, String prefix, Long schemaMetaId, Long transactionalMetaId,\n                                  String dimension, String dimensionValue) {\n        DataSource tenantDataSource = tenantDataSourceProvider.getTenantDataSource(checkEntityName(tenantId));\n        try (Connection connection = tenantDataSource.getConnection()) {\n\n            String sql = String.format(&quot;select * from \\&quot;%s_%s\\&quot; input_file join \\&quot;DIMENSION_VALUES_%s\\&quot; dv on &quot; +\n                            &quot;(dv.\\&quot;DIMENSION\\&quot; = ? and dv.\\&quot;DIMENSION_VALUE\\&quot; = input_file.\\&quot;%s\\&quot;) limit 1&quot;,\n                    checkEntityName(prefix), checkEntityName(schemaMetaId.toString()),\n                    checkEntityName(transactionalMetaId.toString()), checkEntityName(dimensionValue));\n            try (PreparedStatement statement = connection.prepareStatement(sql)) {\n                statement.setString(1, dimension);\n                try (ResultSet resultSet = statement.executeQuery()) {\n                    if (resultSet.next()) {\n                        return &quot;OK&quot;;\n                    } else {\n                        return &quot;Values do not match&quot;;\n                    }\n                }\n            }\n        } catch (SQLException exception) {\n            throw new IllegalStateException(exception);\n        }\n    }\n\n</code></pre>\n<p>For mitigation flaws I am using function <code>checkEntityName</code> which should silent them (make them false positive during Veracode scan)</p>\n<pre><code>    @SQLQueryCleanser\n    static String checkEntityName(String entityName) {\n        if (!entityName.matches(&quot;^[-a-zA-Z0-9_]*$&quot;)) {\n            throw new SecurityException(String.format(&quot;Invalid name for entity: %s&quot;, entityName));\n        }\n        return entityName;\n    }\n</code></pre>\n<p>But Veracode is still reporting this issue:</p>\n<p>Flaw Id: 1433</p>\n<p>Description: This database query contains a SQL injection flaw. The call to java.sql.Statement.executeQuery() constructs a dynamic SQL query using a variable derived from untrusted input. An attacker could exploit this flaw to execute arbitrary SQL queries against the database. The first argument to executeQuery() contains tainted data from the variable format(). The tainted data originated from an earlier call to java.sql.Statement.executeQuery.</p>\n<p>Remediation: Avoid dynamically constructing SQL queries. Instead, use parameterized prepared statements to prevent the database from interpreting the contents of bind variables as part of the query. Always validate untrusted input to ensure that it conforms to the expected format, using centralized data validation routines when possible.</p>\n<p>Can you please give me advice how to solve this? Thank you :)</p>\n"},{"tags":["java","android","android-studio","android-alertdialog","android-xml"],"answers":[{"tags":[],"owner":{"account_id":28523096,"reputation":41,"user_id":21831497,"display_name":"kllysmman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684196776,"creation_date":1684194389,"answer_id":76258570,"question_id":76257896,"body_markdown":"How you limited this a only xml files, you can stared with you theme. You&#39;re gonna need create a new theme that inherits the desired characteristics, let&#39;s use `Theme.MaterialComponents.DayNight.Dialog.Alert` that will serve for you.  Then override the theme defaut properts of AlertDialog. You can make this it.\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your light theme here. --&gt;\r\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;alertDialogTheme&quot;&gt;@style/Theme.CustomThemeAlertDialog&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;Theme.CustomThemeAlertDialog&quot; parent=&quot;Theme.MaterialComponents.DayNight.Dialog.Alert&quot;&gt;\r\n        &lt;!--Background color--&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;#0000ff&lt;/item&gt;\r\n\r\n        &lt;!--tittle color--&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;#000000&lt;/item&gt;\r\n\r\n        &lt;!--text color of message--&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;#ff0000&lt;/item&gt;\r\n\r\n        &lt;!--text color of buttons--&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;#FFFF00&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;style name=&quot;Theme.Test&quot; parent=&quot;Base.Theme.Test&quot; /&gt;\r\n&lt;/resources&gt;\r\n\r\nThe default result of an simple AlertDialog is this it (without your custom View)[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nf4Jt.jpg\r\n\r\nAnd to finish add the properts `android:textColor=&quot;@color/color_text_url&quot;` (for Url text color) and `android:backgroundTint=&quot;@color/color_line_input_url&quot;` (for Line color of textInput when focused) in your `AutoCompleteTextView`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;4dp&quot;&gt;\r\n\r\n    &lt;AutoCompleteTextView\r\n        android:id=&quot;@+id/input&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Text&quot;\r\n        android:imeOptions=&quot;actionDone&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:textColor=&quot;@color/color_text_url&quot;\r\n        android:backgroundTint=&quot;@color/color_line_input_url&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\nAnd is that","title":"Android change color of AlertDialog elements","body":"<p>How you limited this a only xml files, you can stared with you theme. You're gonna need create a new theme that inherits the desired characteristics, let's use <code>Theme.MaterialComponents.DayNight.Dialog.Alert</code> that will serve for you.  Then override the theme defaut properts of AlertDialog. You can make this it.</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n    &lt;!-- Customize your light theme here. --&gt;\n    &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;alertDialogTheme&quot;&gt;@style/Theme.CustomThemeAlertDialog&lt;/item&gt;\n&lt;/style&gt;\n&lt;style name=&quot;Theme.CustomThemeAlertDialog&quot; parent=&quot;Theme.MaterialComponents.DayNight.Dialog.Alert&quot;&gt;\n    &lt;!--Background color--&gt;\n    &lt;item name=&quot;android:background&quot;&gt;#0000ff&lt;/item&gt;\n\n    &lt;!--tittle color--&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;#000000&lt;/item&gt;\n\n    &lt;!--text color of message--&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;#ff0000&lt;/item&gt;\n\n    &lt;!--text color of buttons--&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;#FFFF00&lt;/item&gt;\n&lt;/style&gt;\n&lt;style name=&quot;Theme.Test&quot; parent=&quot;Base.Theme.Test&quot; /&gt;\n</code></pre>\n\n<p>The default result of an simple AlertDialog is this it (without your custom View)<a href=\"https://i.stack.imgur.com/Nf4Jt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nf4Jt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And to finish add the properts <code>android:textColor=&quot;@color/color_text_url&quot;</code> (for Url text color) and <code>android:backgroundTint=&quot;@color/color_line_input_url&quot;</code> (for Line color of textInput when focused) in your <code>AutoCompleteTextView</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:padding=&quot;4dp&quot;&gt;\n\n&lt;AutoCompleteTextView\n    android:id=&quot;@+id/input&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;Text&quot;\n    android:imeOptions=&quot;actionDone&quot;\n    android:inputType=&quot;text&quot;\n    android:textColor=&quot;@color/color_text_url&quot;\n    android:backgroundTint=&quot;@color/color_line_input_url&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>And is that</p>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76258570,"answer_count":1,"score":0,"last_activity_date":1684196776,"creation_date":1684184476,"question_id":76257896,"body_markdown":"I would like to change the colors of the AlertDialog elements using only xml.\r\n\r\nThe elements I want to change using xml are:\r\n1) Background color of the AlertDialog\r\n2) Url text color\r\n3) Line color of textInput when focused\r\n4) Color of the text on the two AlertDialog buttons\r\n\r\nI would like the size of the AlertDialog to remain unchanged.\r\n\r\nI tried using the styles: https://stackoverflow.com/questions/27965662/how-can-i-change-default-dialog-button-text-color-in-android-5\r\n\r\nBut they don&#39;t work and the size of the AlertDialog changes, it shrinks.\r\n\r\nCan you give me a hand?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TxbGA.png\r\n\r\n```java\r\npublic void AlertDialog() {\r\n        View viewInflated = LayoutInflater.from(MainActivity.this).inflate(R.layout.text_input, null);\r\n        final EditText input = (EditText) viewInflated.findViewById(R.id.input);\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\r\n        builder.setTitle(&quot;Url&quot;);\r\n        builder.setView(viewInflated);\r\n        builder.setPositiveButton(android.R.string.ok, (dialog, which) -&gt; {\r\n            dialog.dismiss();\r\n            String text = input.getText().toString();\r\n            if (!text.equals(&quot;&quot;)) pinAppWidget(text);\r\n        });\r\n        builder.setNegativeButton(android.R.string.cancel, (dialog, which) -&gt; dialog.cancel());\r\n        builder.show();\r\n    }\r\n```\r\n\r\ntext_input.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:padding=&quot;4dp&quot;&gt;\r\n\r\n    &lt;AutoCompleteTextView\r\n        android:id=&quot;@+id/input&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Text&quot;\r\n        android:imeOptions=&quot;actionDone&quot;\r\n        android:inputType=&quot;text&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nvalues/themes.xml\r\n```xml\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your light theme here. --&gt;\r\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.Test&quot; parent=&quot;Base.Theme.Test&quot; /&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n\r\nvalues-night/themes.xml\r\n```xml\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your dark theme here. --&gt;\r\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_dark_primary&lt;/item&gt; --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```","title":"Android change color of AlertDialog elements","body":"<p>I would like to change the colors of the AlertDialog elements using only xml.</p>\n<p>The elements I want to change using xml are:</p>\n<ol>\n<li>Background color of the AlertDialog</li>\n<li>Url text color</li>\n<li>Line color of textInput when focused</li>\n<li>Color of the text on the two AlertDialog buttons</li>\n</ol>\n<p>I would like the size of the AlertDialog to remain unchanged.</p>\n<p>I tried using the styles: <a href=\"https://stackoverflow.com/questions/27965662/how-can-i-change-default-dialog-button-text-color-in-android-5\">How can I change default dialog button text color in android 5</a></p>\n<p>But they don't work and the size of the AlertDialog changes, it shrinks.</p>\n<p>Can you give me a hand?</p>\n<p><a href=\"https://i.stack.imgur.com/TxbGA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TxbGA.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void AlertDialog() {\n        View viewInflated = LayoutInflater.from(MainActivity.this).inflate(R.layout.text_input, null);\n        final EditText input = (EditText) viewInflated.findViewById(R.id.input);\n        AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n        builder.setTitle(&quot;Url&quot;);\n        builder.setView(viewInflated);\n        builder.setPositiveButton(android.R.string.ok, (dialog, which) -&gt; {\n            dialog.dismiss();\n            String text = input.getText().toString();\n            if (!text.equals(&quot;&quot;)) pinAppWidget(text);\n        });\n        builder.setNegativeButton(android.R.string.cancel, (dialog, which) -&gt; dialog.cancel());\n        builder.show();\n    }\n</code></pre>\n<p>text_input.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:padding=&quot;4dp&quot;&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/input&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text&quot;\n        android:imeOptions=&quot;actionDone&quot;\n        android:inputType=&quot;text&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>values/themes.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Customize your light theme here. --&gt;\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Theme.Test&quot; parent=&quot;Base.Theme.Test&quot; /&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>values-night/themes.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Customize your dark theme here. --&gt;\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_dark_primary&lt;/item&gt; --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1684202172,"post_id":76258663,"comment_id":134479545,"body_markdown":"See: https://source.android.com/docs/devices/automotive/voice/voice_interaction_guide/app_development and https://source.android.com/docs/devices/automotive/voice/voice_interaction_guide/app_development#hotwords but the permissions for true &quot;wake word&quot; are system level so probably with a custom ROM.","body":"See: <a href=\"https://source.android.com/docs/devices/automotive/voice/voice_interaction_guide/app_development\" rel=\"nofollow noreferrer\">source.android.com/docs/devices/automotive/voice/&hellip;</a> and <a href=\"https://source.android.com/docs/devices/automotive/voice/voice_interaction_guide/app_development#hotwords\" rel=\"nofollow noreferrer\">source.android.com/docs/devices/automotive/voice/&hellip;</a> but the permissions for true &quot;wake word&quot; are system level so probably with a custom ROM."}],"owner":{"account_id":16791819,"reputation":65,"user_id":12139263,"display_name":"Gabriel Lorscheiter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684196341,"creation_date":1684196341,"question_id":76258663,"body_markdown":"Im building a personal app to use in my car, I want to control some apps from this service/app using only voice like Google does with &quot;Ok google&quot; to trigger the service. So far I was able to use the android built in speechRecognizer to start creating my app, but I still nned to use a button to start listen for a task, and then on the onResults use the &#39;if (match.toLowerCase().contains(&quot;What was said&quot;))&#39; to do something. Can I implement the &quot;Ok google&quot; to trigger my app voice recognition with a custom keyword?\r\n\r\nI tried to use pocketsphinx demo from github but I think its a little to old, had a lot of issues with version wasted hours testing to see if I could make it work but I gave up.","title":"How to implement voice keyword recognition in my android app?","body":"<p>Im building a personal app to use in my car, I want to control some apps from this service/app using only voice like Google does with &quot;Ok google&quot; to trigger the service. So far I was able to use the android built in speechRecognizer to start creating my app, but I still nned to use a button to start listen for a task, and then on the onResults use the 'if (match.toLowerCase().contains(&quot;What was said&quot;))' to do something. Can I implement the &quot;Ok google&quot; to trigger my app voice recognition with a custom keyword?</p>\n<p>I tried to use pocketsphinx demo from github but I think its a little to old, had a lot of issues with version wasted hours testing to see if I could make it work but I gave up.</p>\n"},{"tags":["java","maven","intellij-idea","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":2,"creation_date":1684189912,"post_id":76258248,"comment_id":134478349,"body_markdown":"Remove the `new` before it. And regenerate your token.","body":"Remove the <code>new</code> before it. And regenerate your token."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1684191539,"post_id":76258248,"comment_id":134478498,"body_markdown":"Duplicate of [*cannot resolve symbol &#39;createDefault&#39; in JDABuilder*](https://stackoverflow.com/q/64002664/642706)","body":"Duplicate of <a href=\"https://stackoverflow.com/q/64002664/642706\"><i>cannot resolve symbol &#39;createDefault&#39; in JDABuilder</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684195496,"creation_date":1684191751,"answer_id":76258420,"question_id":76258248,"body_markdown":"# Delete the `new`\r\n\r\nThe method `JDABuilder.createDefault` is a static [factory method][1]. Calling a method returns an object. \r\n\r\nSo eliminate `new`. Use `new` only to access [constructor][2].  \r\n\r\nChange this:\r\n\r\n    JDABuilder jdaBuilder = new JDABuilder.createDefault(Token_Api);\r\n\r\n… to this:\r\n\r\n    JDABuilder jdaBuilder = JDABuilder.createDefault(Token_Api);\r\n\r\n\r\n----------\r\n\r\n\r\nYou will find other examples of static factory methods in the *java.time* classes. For example, to capture today’s date:\r\n\r\n     LocalDate today = LocalDate.now() ;  // Capture the current date as seen in the JVM’s current default time zone.\r\n\r\nOr represent a specific date:\r\n\r\n    LocalDate localDate = LocalDate.of( 2024 , Month.JANUARY , 23 ) ;\r\n\r\n\r\n----------\r\n\r\nBy the way, `static` is *not* object-oriented. \r\n\r\nA static factory method is some code (a method) attached arbitrarily to a class itself (`static`) rather than to instances (objects) of that class. You can think of this as a hack, but a handy hack, for when we want to make available some behavior without the state and other methods contained in an object. \r\n\r\nThis distinction may not be clear when starting out learning [object-oriented programming][3]. Do not worry about it now, but revisit the idea when you have more experience.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Factory_method_pattern\r\n  [2]: https://en.wikipedia.org/wiki/Constructor_(object-oriented_programming)\r\n  [3]: https://en.wikipedia.org/wiki/Object-oriented_programming","title":"Java: cannot find symbol. JDA","body":"<h1>Delete the <code>new</code></h1>\n<p>The method <code>JDABuilder.createDefault</code> is a static <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">factory method</a>. Calling a method returns an object.</p>\n<p>So eliminate <code>new</code>. Use <code>new</code> only to access <a href=\"https://en.wikipedia.org/wiki/Constructor_(object-oriented_programming)\" rel=\"nofollow noreferrer\">constructor</a>.</p>\n<p>Change this:</p>\n<pre><code>JDABuilder jdaBuilder = new JDABuilder.createDefault(Token_Api);\n</code></pre>\n<p>… to this:</p>\n<pre><code>JDABuilder jdaBuilder = JDABuilder.createDefault(Token_Api);\n</code></pre>\n<hr />\n<p>You will find other examples of static factory methods in the <em>java.time</em> classes. For example, to capture today’s date:</p>\n<pre><code> LocalDate today = LocalDate.now() ;  // Capture the current date as seen in the JVM’s current default time zone.\n</code></pre>\n<p>Or represent a specific date:</p>\n<pre><code>LocalDate localDate = LocalDate.of( 2024 , Month.JANUARY , 23 ) ;\n</code></pre>\n<hr />\n<p>By the way, <code>static</code> is <em>not</em> object-oriented.</p>\n<p>A static factory method is some code (a method) attached arbitrarily to a class itself (<code>static</code>) rather than to instances (objects) of that class. You can think of this as a hack, but a handy hack, for when we want to make available some behavior without the state and other methods contained in an object.</p>\n<p>This distinction may not be clear when starting out learning <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented programming</a>. Do not worry about it now, but revisit the idea when you have more experience.</p>\n"}],"owner":{"account_id":26721753,"reputation":23,"user_id":20325455,"display_name":"N1ghtSoul89"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76258420,"answer_count":1,"score":1,"last_activity_date":1684195496,"creation_date":1684189264,"question_id":76258248,"body_markdown":"Working on a bot for discord in Java (JDA of course), there was a similar problem of compilation, I’m a beginner, in half a day thinking, tell me the solution, please. IDE - Intellij IDEA (Maven)\r\n\r\nmain code: \r\n\r\n```\r\npackage me.n1ghtsoul;\r\n\r\n\r\nimport net.dv8tion.jda.api.JDA;\r\nimport net.dv8tion.jda.api.JDABuilder;\r\nimport net.dv8tion.jda.api.entities.Activity;\r\n\r\npublic class Bot {\r\n    private static JDA jda;\r\n    private static final String Token_Api = &quot;MTEwNzcxMzEzNDUxMDIzMTYxNQ.G7NnYJ.Zcy_Ij80ey0oLivIKZ4pam6pP6A8MwG3pp4Ndk&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        botInit();\r\n    }\r\n\r\n    private static void botInit(){\r\n        JDABuilder jdaBuilder = new JDABuilder.createDefault(Token_Api);\r\n\r\n        jda = jdaBuilder.setActivity(Activity.listening(&quot;крутая музыка&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;me.n1ghtsoul&lt;/groupId&gt;\r\n    &lt;artifactId&gt;NullifierReworked&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0-beta.9&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;club.minnced&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;opus-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nError:\r\n\r\n```\r\n17:47\r\njava: cannot find symbol\r\n  symbol:   class createDefault\r\n  location: class net.dv8tion.jda.api.JDABuilder\r\n```\r\n\r\n\r\n\r\nLooking for answers on the forums, found a couple of tips:\r\n1. Create jar and somehow do something with the plugin that one of the conversation participants\r\n2. Reinstall IDE \r\n3. Import packages and classes incorrectly\r\n-------------------------------------------------------------------------------\r\nActually, that’s all I’ve tried so far.  It’s all in vain.","title":"Java: cannot find symbol. JDA","body":"<p>Working on a bot for discord in Java (JDA of course), there was a similar problem of compilation, I’m a beginner, in half a day thinking, tell me the solution, please. IDE - Intellij IDEA (Maven)</p>\n<p>main code:</p>\n<pre><code>package me.n1ghtsoul;\n\n\nimport net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.entities.Activity;\n\npublic class Bot {\n    private static JDA jda;\n    private static final String Token_Api = &quot;MTEwNzcxMzEzNDUxMDIzMTYxNQ.G7NnYJ.Zcy_Ij80ey0oLivIKZ4pam6pP6A8MwG3pp4Ndk&quot;;\n\n    public static void main(String[] args) {\n        botInit();\n    }\n\n    private static void botInit(){\n        JDABuilder jdaBuilder = new JDABuilder.createDefault(Token_Api);\n\n        jda = jdaBuilder.setActivity(Activity.listening(&quot;крутая музыка&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;me.n1ghtsoul&lt;/groupId&gt;\n    &lt;artifactId&gt;NullifierReworked&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-beta.9&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;club.minnced&lt;/groupId&gt;\n                    &lt;artifactId&gt;opus-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>17:47\njava: cannot find symbol\n  symbol:   class createDefault\n  location: class net.dv8tion.jda.api.JDABuilder\n</code></pre>\n<p>Looking for answers on the forums, found a couple of tips:</p>\n<ol>\n<li>Create jar and somehow do something with the plugin that one of the conversation participants</li>\n<li>Reinstall IDE</li>\n<li>Import packages and classes incorrectly</li>\n</ol>\n<hr />\n<p>Actually, that’s all I’ve tried so far.  It’s all in vain.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":14321357,"reputation":91,"user_id":10344626,"display_name":"Ariclene Chimbili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684194373,"creation_date":1684194373,"answer_id":76258569,"question_id":76258213,"body_markdown":"It&#39;s just my logic:\r\nFirst you need to try to separate the string from button.\r\nYou can do it using the split function, example:\r\n \r\n\r\n    String btnString= btn.getText();\r\n    String[] resultBtn = btnString.split(&quot;:&quot;);\r\n    String hour = &quot;10:15&quot;;\r\n    String[] resultHour = hour.split(&quot;:&quot;);\r\n\r\n\r\nWith this you have two parts, resultBtn[0] is hours and resultBtn[1] minutes.\r\nIt&#39;s the same with resultHour.\r\nNow I guess we are ready to do your logic, with some diferences:\r\n\r\n    // To make easier\r\n       int btnHour = Integer.parseInt(resultBtn[0]);\r\n       int btnMinutes = Integer.parseInt(resultBtn[1]); \r\n       int hHour = Integer.parseInt(resultHour[0]);\r\n       int hMinutes = Integer.parseInt(resultHour[1]);\r\n    \r\n       if (btnHour &lt;= hHour &amp;&amp; btnMinutes &lt;= hMinutes) { \r\n           btn.setBackgroundColor(...); \r\n        }","title":"Change button color if its value is less than X","body":"<p>It's just my logic:\nFirst you need to try to separate the string from button.\nYou can do it using the split function, example:</p>\n<pre><code>String btnString= btn.getText();\nString[] resultBtn = btnString.split(&quot;:&quot;);\nString hour = &quot;10:15&quot;;\nString[] resultHour = hour.split(&quot;:&quot;);\n</code></pre>\n<p>With this you have two parts, resultBtn[0] is hours and resultBtn[1] minutes.\nIt's the same with resultHour.\nNow I guess we are ready to do your logic, with some diferences:</p>\n<pre><code>// To make easier\n   int btnHour = Integer.parseInt(resultBtn[0]);\n   int btnMinutes = Integer.parseInt(resultBtn[1]); \n   int hHour = Integer.parseInt(resultHour[0]);\n   int hMinutes = Integer.parseInt(resultHour[1]);\n\n   if (btnHour &lt;= hHour &amp;&amp; btnMinutes &lt;= hMinutes) { \n       btn.setBackgroundColor(...); \n    }\n</code></pre>\n"}],"owner":{"account_id":28600534,"reputation":13,"user_id":21897595,"display_name":"Biel BNC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76258569,"answer_count":1,"score":0,"last_activity_date":1684194373,"creation_date":1684188637,"question_id":76258213,"body_markdown":"I want to change the color of the button if the value it contains is less than X. Example:\n\n```\nString hour = &quot;10:15&quot;;\nButton btn = new Button();\nbtn.setText(&quot;10:10&quot;); \n```\n\n10:10 is the hours:minutes value\nIf 10:10 is less than hour (10:15) = btn.setBackgroundColor(...).\n\nTheo logic:\n```\nif (btn.getText &lt;= hour) { \nbtn.setBackgroundColor(...); \n}\n```\n\nHelp me PLS, Thank you!!!\n\nI&#39;ve tried several things, something ate the logic above using several methods, but it didn&#39;t work","title":"Change button color if its value is less than X","body":"<p>I want to change the color of the button if the value it contains is less than X. Example:</p>\n<pre><code>String hour = &quot;10:15&quot;;\nButton btn = new Button();\nbtn.setText(&quot;10:10&quot;); \n</code></pre>\n<p>10:10 is the hours:minutes value\nIf 10:10 is less than hour (10:15) = btn.setBackgroundColor(...).</p>\n<p>Theo logic:</p>\n<pre><code>if (btn.getText &lt;= hour) { \nbtn.setBackgroundColor(...); \n}\n</code></pre>\n<p>Help me PLS, Thank you!!!</p>\n<p>I've tried several things, something ate the logic above using several methods, but it didn't work</p>\n"},{"tags":["java","performance","lambda"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1684179498,"post_id":76257173,"comment_id":134476713,"body_markdown":"&quot;would like to know if I am actually adversely affecting runtime or memory usage performance&quot; - did you **try using it**, and profiling the memory usage and timing results?","body":"&quot;would like to know if I am actually adversely affecting runtime or memory usage performance&quot; - did you <b>try using it</b>, and profiling the memory usage and timing results?"},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1684180081,"post_id":76257173,"comment_id":134476815,"body_markdown":"@Karl Not in an isolated environment there are a lot of other changes in the current test batch we are doing so it would take sometime to isolate and profile just the lambda changes.","body":"@Karl Not in an isolated environment there are a lot of other changes in the current test batch we are doing so it would take sometime to isolate and profile just the lambda changes."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1684194389,"post_id":76257173,"comment_id":134478792,"body_markdown":"Short answer: lambdas are just as fast to capture and execute as inner classes, sometimes faster.  Don&#39;t worry about it; write clear maintainable code.","body":"Short answer: lambdas are just as fast to capture and execute as inner classes, sometimes faster.  Don&#39;t worry about it; write clear maintainable code."},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1684202026,"post_id":76257173,"comment_id":134479532,"body_markdown":"@BrianGoetz do you think there is any chance that my lambda usage might trigger runtime compilation of the bytecode? It looks like the advantage of non lambda inline is that it&#39;s guaranteed that type bytecode is generated at compile time. Greatly appreciate your feedback.","body":"@BrianGoetz do you think there is any chance that my lambda usage might trigger runtime compilation of the bytecode? It looks like the advantage of non lambda inline is that it&#39;s guaranteed that type bytecode is generated at compile time. Greatly appreciate your feedback."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1684203882,"post_id":76257173,"comment_id":134479682,"body_markdown":"And? Generating bytecode is cheap. And only has to be done once. Otoh, if you do that during compile time, you have to read the bytes from disk, which might be slower. Related quote from Donald Knuth: &quot;We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet we should not pass up our opportunities in that critical 3%&quot;.","body":"And? Generating bytecode is cheap. And only has to be done once. Otoh, if you do that during compile time, you have to read the bytes from disk, which might be slower. Related quote from Donald Knuth: &quot;We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet we should not pass up our opportunities in that critical 3%&quot;."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684242666,"post_id":76257173,"comment_id":134486815,"body_markdown":"Letting aside [the very first lambda expression of the entire runtime](https://stackoverflow.com/q/34585444/2711488), generating bytecode will be faster than loading the precompiled bytecode from the external storage, in most cases. And that’s *today*; future versions might not need to generate bytecode to construct the binding. Since this is done by the runtime, you will get such improvements for free.","body":"Letting aside <a href=\"https://stackoverflow.com/q/34585444/2711488\">the very first lambda expression of the entire runtime</a>, generating bytecode will be faster than loading the precompiled bytecode from the external storage, in most cases. And that’s <i>today</i>; future versions might not need to generate bytecode to construct the binding. Since this is done by the runtime, you will get such improvements for free."}],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684194093,"creation_date":1684176750,"question_id":76257173,"body_markdown":"I have been using java lambdas in place of normal inline declarations in our java ui code thinking that it is just shorter and more concise syntax. But have not seen any specs indicating this and the aws lambda service seems to dominate the search results.\r\n\r\nI came across this [site][1] which shows how much underlying provision javac puts into a lambda declaration and would like to know if I am actually adversely affecting runtime or memory usage performance in anyway for using java lambda syntax over the pre-lambda approach when doing inline calls.\r\n\r\nOur implementation uses jre 8.\r\n\r\nFor example using:\r\n\r\n    final ActionListener cancelButtonListener = (final ActionEvent ae) -&gt; {\r\n        // implementation w references to static or parent class member. ae argument is not referenced.\r\n    };\r\n\r\ninstead of \r\n\r\n    final ActionListener cancelButtonListener = new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(final ActionEvent e) {\r\n            // implementation w references to static or parent class member.  ae argument is not referenced.\r\n        }\r\n    };\r\n\r\nand\r\n\r\n    SwingUtilities.invokeLater(() -&gt; {\r\n        // implementation w references to static or parent class member.\r\n    });\r\n\r\ninstead of\r\n\r\n    StringUtilities.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // implementation w references to static or parent class member.\r\n        }\r\n    });\r\n\r\n\r\nFound a related [post here][2]. Also have found indicators that some lambdas will be compiled into byte code at runtime. I feel like my inline to lambda conversion should not affect performance would like to know what this community thinks.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/javamagazine/post/behind-the-scenes-how-do-lambda-expressions-really-work-in-java\r\n  [2]: https://is-lambda-expression-in-java-8-reduce-execution-time","title":"Is there a performance penalty when using a java lambda over inline declaration?","body":"<p>I have been using java lambdas in place of normal inline declarations in our java ui code thinking that it is just shorter and more concise syntax. But have not seen any specs indicating this and the aws lambda service seems to dominate the search results.</p>\n<p>I came across this <a href=\"https://blogs.oracle.com/javamagazine/post/behind-the-scenes-how-do-lambda-expressions-really-work-in-java\" rel=\"nofollow noreferrer\">site</a> which shows how much underlying provision javac puts into a lambda declaration and would like to know if I am actually adversely affecting runtime or memory usage performance in anyway for using java lambda syntax over the pre-lambda approach when doing inline calls.</p>\n<p>Our implementation uses jre 8.</p>\n<p>For example using:</p>\n<pre><code>final ActionListener cancelButtonListener = (final ActionEvent ae) -&gt; {\n    // implementation w references to static or parent class member. ae argument is not referenced.\n};\n</code></pre>\n<p>instead of</p>\n<pre><code>final ActionListener cancelButtonListener = new ActionListener() {\n    @Override\n    public void actionPerformed(final ActionEvent e) {\n        // implementation w references to static or parent class member.  ae argument is not referenced.\n    }\n};\n</code></pre>\n<p>and</p>\n<pre><code>SwingUtilities.invokeLater(() -&gt; {\n    // implementation w references to static or parent class member.\n});\n</code></pre>\n<p>instead of</p>\n<pre><code>StringUtilities.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        // implementation w references to static or parent class member.\n    }\n});\n</code></pre>\n<p>Found a related <a href=\"https://is-lambda-expression-in-java-8-reduce-execution-time\" rel=\"nofollow noreferrer\">post here</a>. Also have found indicators that some lambdas will be compiled into byte code at runtime. I feel like my inline to lambda conversion should not affect performance would like to know what this community thinks.</p>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":2,"creation_date":1684248433,"post_id":76258544,"comment_id":134488499,"body_markdown":"[This](https://stackoverflow.com/questions/66184698/how-can-i-deserialize-a-nested-wrapped-string-in-jackson) can help.","body":"<a href=\"https://stackoverflow.com/questions/66184698/how-can-i-deserialize-a-nested-wrapped-string-in-jackson\">This</a> can help."}],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684193942,"creation_date":1684193942,"question_id":76258544,"body_markdown":"I&#39;m trying to figure out how to map a nested JSON string within a JSON string using jackson in a dynamic way as this is a library. So I have this method that handles mapping of results to objects\r\n\r\n```\r\npublic &lt;T&gt; Flux&lt;T&gt; doStuff(Query query, Class&lt;T&gt; entityClass) throws DataAccessException {\r\n    ... run query get row \r\n    Flux.just(objectMapper.readValue(row.asObject().toJsonString(), entityClass));\r\n}\r\n```\r\n\r\n\r\nUnfortunately this is the structure of one of our users data:\r\n```\r\n{&quot;abc&quot;:19220,&quot;xyz&quot;:&quot;{\\&quot;bla\\&quot;: 123456}&quot;}\r\n```\r\nThe problem here is that the value for &quot;xyz&quot; is a json string. Is there any way or existing annotation for the users entityClass model to let jackson know that it should also deserialize the specific field &quot;xyz&quot;?\r\n\r\nHere is the users model:\r\n\r\n```\r\npublic class Something {\r\n   @Id\r\n   @JsonProperty(&quot;abc&quot;)\r\n   public Abc abc;\r\n   @JsonProperty(&quot;xyz&quot;)\r\n   public Xyz xyz; // String would work here but we want to deserialize the value\r\n}\r\n```\r\n\r\nThe user does not have any way to modify the json to be correct so im wondering if there is anything we can do at the library level or anything the user can add to their entity class for jackson to work as we&#39;d like it to?","title":"Jackson Nested JSON String","body":"<p>I'm trying to figure out how to map a nested JSON string within a JSON string using jackson in a dynamic way as this is a library. So I have this method that handles mapping of results to objects</p>\n<pre><code>public &lt;T&gt; Flux&lt;T&gt; doStuff(Query query, Class&lt;T&gt; entityClass) throws DataAccessException {\n    ... run query get row \n    Flux.just(objectMapper.readValue(row.asObject().toJsonString(), entityClass));\n}\n</code></pre>\n<p>Unfortunately this is the structure of one of our users data:</p>\n<pre><code>{&quot;abc&quot;:19220,&quot;xyz&quot;:&quot;{\\&quot;bla\\&quot;: 123456}&quot;}\n</code></pre>\n<p>The problem here is that the value for &quot;xyz&quot; is a json string. Is there any way or existing annotation for the users entityClass model to let jackson know that it should also deserialize the specific field &quot;xyz&quot;?</p>\n<p>Here is the users model:</p>\n<pre><code>public class Something {\n   @Id\n   @JsonProperty(&quot;abc&quot;)\n   public Abc abc;\n   @JsonProperty(&quot;xyz&quot;)\n   public Xyz xyz; // String would work here but we want to deserialize the value\n}\n</code></pre>\n<p>The user does not have any way to modify the json to be correct so im wondering if there is anything we can do at the library level or anything the user can add to their entity class for jackson to work as we'd like it to?</p>\n"},{"tags":["java","android","react-native","react-native-native-module","react-native-native-ui-component"],"owner":{"account_id":20561909,"reputation":11,"user_id":15092231,"display_name":"yazan khateeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684193837,"creation_date":1684193837,"question_id":76258539,"body_markdown":"I&#39;m working on Android native module, and I&#39;m trying to add padding to the view from Java code, what is happening is that the child view is not pushed when I&#39;m using `setPadding` method, any idea why?\r\n\r\n\r\n    public class TestView extends ReactViewGroup {\r\n      public TestView(Context context) {\r\n        super(context);\r\n    \r\n        this.setPadding(100,100,100,100);\r\n    }\r\n    \r\n    }\r\n\r\nWhen I&#39;m passing it from JS like below, all is good, the only issue is with setting it from Java code\r\n\r\n    &lt;TestView style={{padding:100}}&gt;&lt;View style={{flex:1}}/&gt;&lt;/TestView&gt; \r\n\r\n","title":"Style React Native Android Native module using Java","body":"<p>I'm working on Android native module, and I'm trying to add padding to the view from Java code, what is happening is that the child view is not pushed when I'm using <code>setPadding</code> method, any idea why?</p>\n<pre><code>public class TestView extends ReactViewGroup {\n  public TestView(Context context) {\n    super(context);\n\n    this.setPadding(100,100,100,100);\n}\n\n}\n</code></pre>\n<p>When I'm passing it from JS like below, all is good, the only issue is with setting it from Java code</p>\n<pre><code>&lt;TestView style={{padding:100}}&gt;&lt;View style={{flex:1}}/&gt;&lt;/TestView&gt; \n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684193494,"creation_date":1684193494,"answer_id":76258521,"question_id":76258325,"body_markdown":"You cannot create `instance` of `Activity`, you could either pass the reference to the view, but the better approach would be pass a `interface` which would be called from `adapter` on click\r\n\r\n```\r\ninterface ClickDelegate {\r\n    void onClick(String text);\r\n}    \r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    List&lt;yiyecek&gt; yiyecekler;\r\n    ClickDelegate delegate;\r\n\r\n    public MyAdapter(Context context, List&lt;yiyecek&gt; yiyecekler, ClickDelegate delegate) {\r\n        this.context = context;\r\n        this.yiyecekler = yiyecekler;\r\n        this.delegate = delegate;\r\n    }\r\n\r\n    // rest of the code\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public TextView text,textkalori,textadet;\r\n        public Button ekle;\r\n\r\n        public MyViewHolder(@NonNull View itemView, ClickDelegate delegate) {\r\n            super(itemView);\r\n\r\n            textadet=itemView.findViewById(R.id.adet);\r\n            text = itemView.findViewById(R.id.textViewad);\r\n            textkalori = itemView.findViewById(R.id.textViewKalori);\r\n            ekle=itemView.findViewById(R.id.butonekle);\r\n\r\n\r\n            itemView.findViewById(R.id.butonekle).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String ilkadet=textadet.getText().toString();\r\n                    delegate.onClick(ilkadet);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//in activity\r\nrv.setAdapter(new MyAdapter(this, yiyecekList, new ClickDelegate(){ \r\n@Override\r\npublic void onClick(String text){\r\n    kalori.setText(ilkadet);\r\n}\r\n}));\r\n```","title":"How to change TextView from a button in RecyclerView?","body":"<p>You cannot create <code>instance</code> of <code>Activity</code>, you could either pass the reference to the view, but the better approach would be pass a <code>interface</code> which would be called from <code>adapter</code> on click</p>\n<pre><code>interface ClickDelegate {\n    void onClick(String text);\n}    \n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    List&lt;yiyecek&gt; yiyecekler;\n    ClickDelegate delegate;\n\n    public MyAdapter(Context context, List&lt;yiyecek&gt; yiyecekler, ClickDelegate delegate) {\n        this.context = context;\n        this.yiyecekler = yiyecekler;\n        this.delegate = delegate;\n    }\n\n    // rest of the code\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        public TextView text,textkalori,textadet;\n        public Button ekle;\n\n        public MyViewHolder(@NonNull View itemView, ClickDelegate delegate) {\n            super(itemView);\n\n            textadet=itemView.findViewById(R.id.adet);\n            text = itemView.findViewById(R.id.textViewad);\n            textkalori = itemView.findViewById(R.id.textViewKalori);\n            ekle=itemView.findViewById(R.id.butonekle);\n\n\n            itemView.findViewById(R.id.butonekle).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    String ilkadet=textadet.getText().toString();\n                    delegate.onClick(ilkadet);\n                }\n            });\n        }\n    }\n}\n\n\n//in activity\nrv.setAdapter(new MyAdapter(this, yiyecekList, new ClickDelegate(){ \n@Override\npublic void onClick(String text){\n    kalori.setText(ilkadet);\n}\n}));\n</code></pre>\n"}],"owner":{"account_id":28522415,"reputation":3,"user_id":21830914,"display_name":"seymensami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76258521,"answer_count":1,"score":0,"last_activity_date":1684193494,"creation_date":1684190236,"question_id":76258325,"body_markdown":"MainActivity\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    public TextView kalori;\r\n    RecyclerView rv;\r\n\r\n    List&lt;yiyecek&gt; yiyecekList;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        rv=findViewById(R.id.myrecycler);\r\n\r\n\r\n        kalori=findViewById(R.id.kalori);\r\n\r\n        yiyecekList= new ArrayList&lt;&gt;();\r\n\r\n        yiyecekList.add(new yiyecek(&quot;Egg&quot;,&quot;50&quot;));\r\n        yiyecekList.add(new yiyecek(&quot;Cheese&quot;,&quot;150&quot;));\r\n\r\n        rv.setLayoutManager(new LinearLayoutManager(this));\r\n        rv.setAdapter(new MyAdapter(this,yiyecekList));\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nMyAdapter\r\n\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    List&lt;yiyecek&gt; yiyecekler;\r\n\r\n    public MyAdapter(Context context, List&lt;yiyecek&gt; yiyecekler ) {\r\n        this.context = context;\r\n        this.yiyecekler = yiyecekler;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyAdapter.MyViewHolder(LayoutInflater.from(context).inflate(R.layout.yiyecekrowitem,parent,false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        \r\n\r\n        yiyecek ymk=yiyecekler.get(position);\r\n\r\n        String name=ymk.getAd();\r\n        String kalori=ymk.getKalori();\r\n\r\n        holder.text.setText(name);\r\n        holder.textkalori.setText(kalori);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return yiyecekler.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public TextView text,textkalori,textadet;\r\n        public Button ekle;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            textadet=itemView.findViewById(R.id.adet);\r\n            text = itemView.findViewById(R.id.textViewad);\r\n            textkalori = itemView.findViewById(R.id.textViewKalori);\r\n            ekle=itemView.findViewById(R.id.butonekle);\r\n\r\n\r\n            itemView.findViewById(R.id.butonekle).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String ilkadet=textadet.getText().toString();  \r\n                    MainActivity mm=new MainActivity();\r\n                    mm.kalori.setText(ilkadet);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRecyclerView xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;97dp&quot;\r\n    android:layout_margin=&quot;8dp&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewad&quot;\r\n        android:layout_width=&quot;103dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;11dp&quot;\r\n        android:layout_marginTop=&quot;11dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewKalori&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;22dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;100&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n\r\n        android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/butonekle&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;284dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:text=&quot;EKLE&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/adet&quot;\r\n        android:layout_width=&quot;70dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;191dp&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:textColor=&quot;#282828&quot;\r\n        android:text=&quot;0&quot;\r\n        android:textSize=&quot;29sp&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:gravity=&quot;center&quot;/&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nException\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.kalorirecyclerdeneme, PID: 30408\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n        at com.example.kalorirecyclerdeneme.MyAdapter$MyViewHolder$1.onClick(MyAdapter.java:91)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\nI/Process: Sending signal. PID: 30408 SIG: 9\r\n```\r\n\r\nSorry if my coding is bad. I just started. My project is about calorie calculation. I&#39;m sorting the food with RecyclerView. When I press the button on the RecyclerView, the TextView value that says number there increases by one. I&#39;m trying to print it into the TextView in the MainActivity, but it gives a null error.\r\n\r\nI am getting null error:\r\n\r\n`mm.kalori.setText(ilkadet);`\r\n\r\nI have a button in RecyclerView and ı am trying change value of TextView in MainActivity with this button.","title":"How to change TextView from a button in RecyclerView?","body":"<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n\n    public TextView kalori;\n    RecyclerView rv;\n\n    List&lt;yiyecek&gt; yiyecekList;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        rv=findViewById(R.id.myrecycler);\n\n\n        kalori=findViewById(R.id.kalori);\n\n        yiyecekList= new ArrayList&lt;&gt;();\n\n        yiyecekList.add(new yiyecek(&quot;Egg&quot;,&quot;50&quot;));\n        yiyecekList.add(new yiyecek(&quot;Cheese&quot;,&quot;150&quot;));\n\n        rv.setLayoutManager(new LinearLayoutManager(this));\n        rv.setAdapter(new MyAdapter(this,yiyecekList));\n\n\n    }\n}\n</code></pre>\n<p>MyAdapter</p>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    List&lt;yiyecek&gt; yiyecekler;\n\n    public MyAdapter(Context context, List&lt;yiyecek&gt; yiyecekler ) {\n        this.context = context;\n        this.yiyecekler = yiyecekler;\n\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyAdapter.MyViewHolder(LayoutInflater.from(context).inflate(R.layout.yiyecekrowitem,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        \n\n        yiyecek ymk=yiyecekler.get(position);\n\n        String name=ymk.getAd();\n        String kalori=ymk.getKalori();\n\n        holder.text.setText(name);\n        holder.textkalori.setText(kalori);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return yiyecekler.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        public TextView text,textkalori,textadet;\n        public Button ekle;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            textadet=itemView.findViewById(R.id.adet);\n            text = itemView.findViewById(R.id.textViewad);\n            textkalori = itemView.findViewById(R.id.textViewKalori);\n            ekle=itemView.findViewById(R.id.butonekle);\n\n\n            itemView.findViewById(R.id.butonekle).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    String ilkadet=textadet.getText().toString();  \n                    MainActivity mm=new MainActivity();\n                    mm.kalori.setText(ilkadet);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>RecyclerView xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;97dp&quot;\n    android:layout_margin=&quot;8dp&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewad&quot;\n        android:layout_width=&quot;103dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;11dp&quot;\n        android:layout_marginTop=&quot;11dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;TextView&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewKalori&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;22dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;100&quot;\n        android:textAlignment=&quot;center&quot;\n\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/butonekle&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;284dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:text=&quot;EKLE&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/adet&quot;\n        android:layout_width=&quot;70dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;191dp&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:textColor=&quot;#282828&quot;\n        android:text=&quot;0&quot;\n        android:textSize=&quot;29sp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:gravity=&quot;center&quot;/&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Exception</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.kalorirecyclerdeneme, PID: 30408\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.example.kalorirecyclerdeneme.MyAdapter$MyViewHolder$1.onClick(MyAdapter.java:91)\n        at android.view.View.performClick(View.java:7448)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nI/Process: Sending signal. PID: 30408 SIG: 9\n</code></pre>\n<p>Sorry if my coding is bad. I just started. My project is about calorie calculation. I'm sorting the food with RecyclerView. When I press the button on the RecyclerView, the TextView value that says number there increases by one. I'm trying to print it into the TextView in the MainActivity, but it gives a null error.</p>\n<p>I am getting null error:</p>\n<p><code>mm.kalori.setText(ilkadet);</code></p>\n<p>I have a button in RecyclerView and ı am trying change value of TextView in MainActivity with this button.</p>\n"},{"tags":["java","linux","apache","tomcat"],"comments":[{"owner":{"account_id":5265679,"reputation":2316,"user_id":4205751,"accept_rate":70,"display_name":"cheb1k4"},"score":1,"creation_date":1458836043,"post_id":36204889,"comment_id":60043060,"body_markdown":"The beginning of the stacktrace is more insteresting than the end.","body":"The beginning of the stacktrace is more insteresting than the end."},{"owner":{"account_id":2036522,"reputation":511,"user_id":1818761,"accept_rate":71,"display_name":"hoz"},"score":0,"creation_date":1458836847,"post_id":36204889,"comment_id":60043629,"body_markdown":"My Apologies. I have amended the title now.","body":"My Apologies. I have amended the title now."},{"owner":{"account_id":5265679,"reputation":2316,"user_id":4205751,"accept_rate":70,"display_name":"cheb1k4"},"score":0,"creation_date":1458838144,"post_id":36204889,"comment_id":60044519,"body_markdown":"You should have something before `AccessLogValve.invoke(AccessLogValve.java:950)`, the thrown exception.","body":"You should have something before <code>AccessLogValve.invoke(AccessLogValve.java:950)</code>, the thrown exception."},{"owner":{"account_id":2036522,"reputation":511,"user_id":1818761,"accept_rate":71,"display_name":"hoz"},"score":0,"creation_date":1458839752,"post_id":36204889,"comment_id":60045492,"body_markdown":"Hi, Thanks for the comment. Unfortunately, there&#39;s nothing before that. I have edited the question with the whole output now.","body":"Hi, Thanks for the comment. Unfortunately, there&#39;s nothing before that. I have edited the question with the whole output now."},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1458851532,"post_id":36204889,"comment_id":60052383,"body_markdown":"What about `journalctl -x -u tomcat` ?","body":"What about <code>journalctl -x -u tomcat</code> ?"},{"owner":{"account_id":2036522,"reputation":511,"user_id":1818761,"accept_rate":71,"display_name":"hoz"},"score":0,"creation_date":1458897710,"post_id":36204889,"comment_id":60066226,"body_markdown":"Awesome! Thank you very much. Turns out that it was a permission issue to a log file maintained by the application. I have fixed the ownership of the file and restarted Tomcat. All works fine with no errors now.","body":"Awesome! Thank you very much. Turns out that it was a permission issue to a log file maintained by the application. I have fixed the ownership of the file and restarted Tomcat. All works fine with no errors now."},{"owner":{"account_id":2036522,"reputation":511,"user_id":1818761,"accept_rate":71,"display_name":"hoz"},"score":0,"creation_date":1458897774,"post_id":36204889,"comment_id":60066253,"body_markdown":"@rkosegi, How do I mark your comment as the answer? I can&#39;t seem to find that option.","body":"@rkosegi, How do I mark your comment as the answer? I can&#39;t seem to find that option."},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1458897822,"post_id":36204889,"comment_id":60066269,"body_markdown":"@hos______ : I can post it as an answer, if it helps you.","body":"@hos______ : I can post it as an answer, if it helps you."},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1458898045,"post_id":36204889,"comment_id":60066361,"body_markdown":"@hos______ : Posted as answer","body":"@hos______ : Posted as answer"},{"owner":{"account_id":10233332,"reputation":1311,"user_id":7553204,"accept_rate":100,"display_name":"Alfran"},"score":0,"creation_date":1603991490,"post_id":36204889,"comment_id":114217753,"body_markdown":"Of which while did you changes the ownership?","body":"Of which while did you changes the ownership?"}],"answers":[{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1458898022,"creation_date":1458898022,"answer_id":36217277,"question_id":36204889,"body_markdown":"Problem with `systemctl status tomcat` is that it will show only most recent log entries from service\r\n\r\n\r\n\r\nWhere `journalctl -x -u tomcat` will show log entries from last journal rotation.\r\n\r\nMore info about [systemctl][1] and [journalctl][2]\r\n\r\n\r\n  [1]: https://www.freedesktop.org/software/systemd/man/systemctl.html\r\n  [2]: https://www.freedesktop.org/software/systemd/man/journalctl.html","title":"systemctl status tomcat returns at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)","body":"<p>Problem with <code>systemctl status tomcat</code> is that it will show only most recent log entries from service</p>\n\n<p>Where <code>journalctl -x -u tomcat</code> will show log entries from last journal rotation.</p>\n\n<p>More info about <a href=\"https://www.freedesktop.org/software/systemd/man/systemctl.html\" rel=\"nofollow\">systemctl</a> and <a href=\"https://www.freedesktop.org/software/systemd/man/journalctl.html\" rel=\"nofollow\">journalctl</a></p>\n"},{"tags":[],"owner":{"account_id":21880431,"reputation":1,"user_id":16168816,"display_name":"Abdoulaye Leye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684192985,"creation_date":1684192985,"answer_id":76258493,"question_id":36204889,"body_markdown":"Hello I fixed this problem using to file configuration try i first tomcat.service and if not work try another tomcat.service and vis versa\r\n\r\n**First tomcat.service**\r\n\r\n    [Unit]\r\n    Description=Tomcat 9 servlet container\r\n    After=network.target\r\n    \r\n    [Service]\r\n    Type=forking\r\n    \r\n    \r\n    Environment=JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64\r\n    Environment=CATALINA_PID=/opt/tomcat9/temp/tomcat.pid\r\n    Environment=CATALINA_HOME=/opt/tomcat9\r\n    Environment=CATALINA_BASE=/opt/tomcat9\r\n    Environment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&quot;\r\n    Environment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom -Djava.awt.headless=true&quot;\r\n    \r\n    ExecStart=/opt/tomcat9/bin/startup.sh\r\n    ExecStop=/opt/tomcat9/bin/shutdown.sh\r\n    \r\n    User=tomcat\r\n    Group=tomcat\r\n    UMask=0007\r\n    RestartSec=10\r\n    Restart=always\r\n    \r\n    [Install]\r\n    WantedBy=multi-user.target\r\n\r\n\r\n**Second tomcat.service**\r\n\r\n    [Unit]\r\n    Description=Tomcat\r\n    After=network.target\r\n    \r\n    [Service]\r\n    Type=forking\r\n    \r\n    User=tomcat\r\n    Group=tomcat\r\n    \r\n    Environment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64&quot;\r\n    Environment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom&quot;\r\n    Environment=&quot;CATALINA_BASE=/opt/tomcat&quot;\r\n    Environment=&quot;CATALINA_HOME=/opt/tomcat&quot;\r\n    Environment=&quot;CATALINA_PID=/opt/tomcat/temp/tomcat.pid&quot;\r\n    Environment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&quot;\r\n    \r\n    ExecStart=/opt/tomcat/bin/startup.sh\r\n    ExecStop=/opt/tomcat/bin/shutdown.sh\r\n    \r\n    RestartSec=10\r\n    Restart=always\r\n    \r\n    [Install]\r\n    WantedBy=multi-user.target\r\n\r\nIf the fist not work replace with the second and vis versa don&#39;t forgeo to use \r\nsudo systemctl reload-daemon\r\nsudo systemctl start tomcat\r\nsudo systemctl enable tomcat\r\nsudo systemctl status tomcat\r\n\r\n","title":"systemctl status tomcat returns at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)","body":"<p>Hello I fixed this problem using to file configuration try i first tomcat.service and if not work try another tomcat.service and vis versa</p>\n<p><strong>First tomcat.service</strong></p>\n<pre><code>[Unit]\nDescription=Tomcat 9 servlet container\nAfter=network.target\n\n[Service]\nType=forking\n\n\nEnvironment=JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64\nEnvironment=CATALINA_PID=/opt/tomcat9/temp/tomcat.pid\nEnvironment=CATALINA_HOME=/opt/tomcat9\nEnvironment=CATALINA_BASE=/opt/tomcat9\nEnvironment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&quot;\nEnvironment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom -Djava.awt.headless=true&quot;\n\nExecStart=/opt/tomcat9/bin/startup.sh\nExecStop=/opt/tomcat9/bin/shutdown.sh\n\nUser=tomcat\nGroup=tomcat\nUMask=0007\nRestartSec=10\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p><strong>Second tomcat.service</strong></p>\n<pre><code>[Unit]\nDescription=Tomcat\nAfter=network.target\n\n[Service]\nType=forking\n\nUser=tomcat\nGroup=tomcat\n\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64&quot;\nEnvironment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom&quot;\nEnvironment=&quot;CATALINA_BASE=/opt/tomcat&quot;\nEnvironment=&quot;CATALINA_HOME=/opt/tomcat&quot;\nEnvironment=&quot;CATALINA_PID=/opt/tomcat/temp/tomcat.pid&quot;\nEnvironment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&quot;\n\nExecStart=/opt/tomcat/bin/startup.sh\nExecStop=/opt/tomcat/bin/shutdown.sh\n\nRestartSec=10\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>If the fist not work replace with the second and vis versa don't forgeo to use\nsudo systemctl reload-daemon\nsudo systemctl start tomcat\nsudo systemctl enable tomcat\nsudo systemctl status tomcat</p>\n"}],"owner":{"account_id":2036522,"reputation":511,"user_id":1818761,"accept_rate":71,"display_name":"hoz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36217277,"answer_count":2,"score":1,"last_activity_date":1684192985,"creation_date":1458835940,"question_id":36204889,"body_markdown":"I have installed an Apache Httpd 2.4.6 and Tomcat 7.0.54 on RHEL 7.2 server with AJP connector and SSL configured and SELinux enabled.\r\nWhen I start the Tomcat Server everything starts fine and the web application works fine too. However after a while if you run `# service tomcat status` or `systemctl status tomcat` , I get the following output.\r\n\r\n    [root@ip-xxx-xxx-xxx-xxx logs]# service tomcat status\r\n    Redirecting to /bin/systemctl status  tomcat.service\r\n    ● tomcat.service - Apache Tomcat Web Application Container\r\n       Loaded: loaded (/usr/lib/systemd/system/tomcat.service; enabled; vendor preset: disabled)\r\n       Active: active (running) since Thu 2016-03-24 15:34:30 UTC; 1h 38min ago\r\n      Process: 5929 ExecStop=/usr/libexec/tomcat/server stop (code=exited, status=0/SUCCESS)\r\n     Main PID: 5973 (java)\r\n       CGroup: /system.slice/tomcat.service\r\n               └─5973 /usr/lib/jvm/jre/bin/java -Xms512m -Xmx3072m -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcata...\r\n    \r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    Mar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.lang.Thread.run(Thread.java:745)\r\n\r\nI don&#39;t see any errors on Tomcat logs. Setting SELinux to permissive doesn&#39;t solve the issue.\r\nHow can I diagnose what the issue is and fix it?","title":"systemctl status tomcat returns at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)","body":"<p>I have installed an Apache Httpd 2.4.6 and Tomcat 7.0.54 on RHEL 7.2 server with AJP connector and SSL configured and SELinux enabled.\nWhen I start the Tomcat Server everything starts fine and the web application works fine too. However after a while if you run <code># service tomcat status</code> or <code>systemctl status tomcat</code> , I get the following output.</p>\n\n<pre><code>[root@ip-xxx-xxx-xxx-xxx logs]# service tomcat status\nRedirecting to /bin/systemctl status  tomcat.service\n● tomcat.service - Apache Tomcat Web Application Container\n   Loaded: loaded (/usr/lib/systemd/system/tomcat.service; enabled; vendor preset: disabled)\n   Active: active (running) since Thu 2016-03-24 15:34:30 UTC; 1h 38min ago\n  Process: 5929 ExecStop=/usr/libexec/tomcat/server stop (code=exited, status=0/SUCCESS)\n Main PID: 5973 (java)\n   CGroup: /system.slice/tomcat.service\n           └─5973 /usr/lib/jvm/jre/bin/java -Xms512m -Xmx3072m -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcata...\n\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I don't see any errors on Tomcat logs. Setting SELinux to permissive doesn't solve the issue.\nHow can I diagnose what the issue is and fix it?</p>\n"},{"tags":["java","spring-boot","openapi"],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684192350,"creation_date":1684192350,"question_id":76258451,"body_markdown":"I have a service with Spring Boot 3, OpenAPI 3 and Spring Webflux.\r\n\r\nEverything was working untill now, but suddenly when I added a `@Pattern` annotation I started getting a NullPointerException when I try to access my OpenAPI endpoint.\r\n\r\nHere&#39;s my endpoint:\r\n\r\n\t@Operation(summary = &quot;Busca no banco de dados de filial atrav&#233;s de um identificador num&#233;rico.&quot;, description = &quot;Recebe um identificador num&#233;rico de filial e busca no banco de dados.&quot;)\r\n\t@ApiResponses(value = {\r\n\t\t\t@ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_200, description = &quot;Vendedor encontrada e dados retornados com sucesso.&quot;, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = VendedorResponseModel.class))),\r\n\t\t\t@ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_400, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_400, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\r\n\t\t\t@ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_404, description = &quot;Vendedor n&#227;o encontrada.&quot;, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\r\n\t\t\t@ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_422, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_422, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\r\n\t\t\t@ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_500, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_500, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))) })\r\n\tMono&lt;VendedorResponseModel&gt; findByID(\r\n\t\t\t@NotNull(message = &quot;N&#227;o pode passar um id nulo para esta busca.&quot;) @Pattern(regexp = &quot;^\\\\d+-(OUT|CLT|PJ)$&quot;, message = &quot;A matr&#237;cula deve seguir um padr&#227;o num&#233;rico, seguido de um h&#237;fen e terminando com as letras OUT, CLT ou PJ. Exemplo: 98767367-OUT.&quot;) @Parameter(description = &quot;O identificador num&#233;rico de uma filial.&quot;, example = &quot;98767367-OUT&quot;, name = &quot;matricula&quot;, content = @Content(mediaType = MediaType.TEXT_PLAIN_VALUE, schema = @Schema(implementation = String.class, pattern = &quot;^\\\\d+-(OUT|CLT|PJ)$&quot;))) String matricula);\r\n\r\nThe console log:\r\n\r\n\t2023-05-15T19:58:39.939-03:00\u001B[0;39m \u001B[31mERROR\u001B[0;39m \u001B[35m3616\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[ctor-http-nio-6]\u001B[0;39m \u001B[36ma.w.r.e.AbstractErrorWebExceptionHandler\u001B[0;39m \u001B[2m:\u001B[0;39m [48b429d2-9]  500 Server Error for HTTP GET &quot;/v3/api-docs&quot;\r\n\r\n\tjava.lang.NullPointerException: Cannot invoke &quot;io.swagger.v3.oas.models.media.Schema.setPattern(String)&quot; because &quot;schema&quot; is null\r\n\t\tat org.springdoc.core.service.AbstractRequestService.applyValidationsToSchema(AbstractRequestService.java:709) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n\t\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n\tError has been observed at the following site(s):\r\n\t\t*__checkpoint ⇢ org.springframework.web.filter.reactive.ServerHttpObservationFilter [DefaultWebFilterChain]\r\n\t\t*__checkpoint ⇢ HTTP GET &quot;/v3/api-docs&quot; [ExceptionHandlingWebHandler]\r\n\tOriginal Stack Trace:\r\n\t\t\tat org.springdoc.core.service.AbstractRequestService.applyValidationsToSchema(AbstractRequestService.java:709) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.core.service.AbstractRequestService.applyBeanValidatorAnnotations(AbstractRequestService.java:587) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:338) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:474) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:654) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.webflux.api.OpenApiResource.lambda$calculatePath$5(OpenApiResource.java:191) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\r\n\t\t\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\t\t\tat org.springdoc.webflux.api.OpenApiResource.calculatePath(OpenApiResource.java:173) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.webflux.api.OpenApiResource.lambda$getPaths$0(OpenApiResource.java:157) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\r\n\t\t\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\t\t\tat org.springdoc.webflux.api.OpenApiResource.getPaths(OpenApiResource.java:149) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:334) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.webflux.api.OpenApiResource.openapiJson(OpenApiResource.java:119) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\r\n\t\t\tat org.springdoc.webflux.api.OpenApiWebfluxResource.openapiJson(OpenApiWebfluxResource.java:114) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\t\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\t\t\tat org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:145) ~[spring-webflux-6.0.8.jar:6.0.8]\r\n\t\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:293) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:474) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoZip$ZipInner.onSubscribe(MonoZip.java:466) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:216) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:134) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:125) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.5.5.jar:3.5.5]\r\n\t\t\tat reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1006) ~[reactor-netty-http-1.1.6.jar:1.1.6]\r\n\t\t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.6.jar:1.1.6]\r\n\t\t\tat reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481) ~[reactor-netty-core-1.1.6.jar:1.1.6]\r\n\t\t\tat reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:633) ~[reactor-netty-http-1.1.6.jar:1.1.6]\r\n\t\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.6.jar:1.1.6]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:228) ~[reactor-netty-http-1.1.6.jar:1.1.6]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\r\n\t\t\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nI tried to set the pattern attibute of the Schema value, but still not working. When I remove the `@Pattern` annotation the OpenAPI starts, but the service does not trigger the validation.\r\n\r\nMy dependencies:\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nAnd my parent POM:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nAm I using the annotation in the incorrect place? All other validation annotations seem to work.","title":"@Pattern annotation causing NullPointerException in OpenAPI 3","body":"<p>I have a service with Spring Boot 3, OpenAPI 3 and Spring Webflux.</p>\n<p>Everything was working untill now, but suddenly when I added a <code>@Pattern</code> annotation I started getting a NullPointerException when I try to access my OpenAPI endpoint.</p>\n<p>Here's my endpoint:</p>\n<pre><code>@Operation(summary = &quot;Busca no banco de dados de filial através de um identificador numérico.&quot;, description = &quot;Recebe um identificador numérico de filial e busca no banco de dados.&quot;)\n@ApiResponses(value = {\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_200, description = &quot;Vendedor encontrada e dados retornados com sucesso.&quot;, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = VendedorResponseModel.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_400, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_400, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_404, description = &quot;Vendedor não encontrada.&quot;, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_422, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_422, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_500, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_500, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))) })\nMono&lt;VendedorResponseModel&gt; findByID(\n        @NotNull(message = &quot;Não pode passar um id nulo para esta busca.&quot;) @Pattern(regexp = &quot;^\\\\d+-(OUT|CLT|PJ)$&quot;, message = &quot;A matrícula deve seguir um padrão numérico, seguido de um hífen e terminando com as letras OUT, CLT ou PJ. Exemplo: 98767367-OUT.&quot;) @Parameter(description = &quot;O identificador numérico de uma filial.&quot;, example = &quot;98767367-OUT&quot;, name = &quot;matricula&quot;, content = @Content(mediaType = MediaType.TEXT_PLAIN_VALUE, schema = @Schema(implementation = String.class, pattern = &quot;^\\\\d+-(OUT|CLT|PJ)$&quot;))) String matricula);\n</code></pre>\n<p>The console log:</p>\n<pre><code>2023-05-15T19:58:39.939-03:00[0;39m [31mERROR[0;39m [35m3616[0;39m [2m---[0;39m [2m[ctor-http-nio-6][0;39m [36ma.w.r.e.AbstractErrorWebExceptionHandler[0;39m [2m:[0;39m [48b429d2-9]  500 Server Error for HTTP GET &quot;/v3/api-docs&quot;\n\njava.lang.NullPointerException: Cannot invoke &quot;io.swagger.v3.oas.models.media.Schema.setPattern(String)&quot; because &quot;schema&quot; is null\n    at org.springdoc.core.service.AbstractRequestService.applyValidationsToSchema(AbstractRequestService.java:709) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ org.springframework.web.filter.reactive.ServerHttpObservationFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP GET &quot;/v3/api-docs&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springdoc.core.service.AbstractRequestService.applyValidationsToSchema(AbstractRequestService.java:709) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.core.service.AbstractRequestService.applyBeanValidatorAnnotations(AbstractRequestService.java:587) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:338) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:474) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:654) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiResource.lambda$calculatePath$5(OpenApiResource.java:191) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n        at org.springdoc.webflux.api.OpenApiResource.calculatePath(OpenApiResource.java:173) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiResource.lambda$getPaths$0(OpenApiResource.java:157) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n        at org.springdoc.webflux.api.OpenApiResource.getPaths(OpenApiResource.java:149) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:334) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiResource.openapiJson(OpenApiResource.java:119) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiWebfluxResource.openapiJson(OpenApiWebfluxResource.java:114) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:145) ~[spring-webflux-6.0.8.jar:6.0.8]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:293) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:474) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipInner.onSubscribe(MonoZip.java:466) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:216) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:134) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:125) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1006) ~[reactor-netty-http-1.1.6.jar:1.1.6]\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.6.jar:1.1.6]\n        at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481) ~[reactor-netty-core-1.1.6.jar:1.1.6]\n        at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:633) ~[reactor-netty-http-1.1.6.jar:1.1.6]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.6.jar:1.1.6]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:228) ~[reactor-netty-http-1.1.6.jar:1.1.6]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I tried to set the pattern attibute of the Schema value, but still not working. When I remove the <code>@Pattern</code> annotation the OpenAPI starts, but the service does not trigger the validation.</p>\n<p>My dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And my parent POM:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Am I using the annotation in the incorrect place? All other validation annotations seem to work.</p>\n"},{"tags":["java","classpath"],"answers":[{"tags":[],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1684191880,"creation_date":1319513678,"answer_id":7884402,"question_id":7884393,"body_markdown":"Yes, you can use `URLClassLoader`.. see example [here][1]. Doesn&#39;t use reflection.\r\n\r\n-- edit --\r\n\r\nCopying example from the link as suggested.\r\n\r\n```java\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\nimport java.util.Hashtable;\r\nimport javax.naming.*;\r\n\r\npublic class ChangeLoader {\r\n  public static void main(String[] args) throws MalformedURLException {\r\n    if (args.length != 1) {\r\n      System.err.println(&quot;usage: java ChangeLoader extra_classpath_url&quot;);\r\n      System.exit(-1);\r\n    }\r\n\r\n    String url = args[0];\r\n    // Save class loader so that we can restore later\r\n    ClassLoader prevCl = Thread.currentThread().getContextClassLoader();\r\n\r\n    // Use prevCl as parent, so we extend instead of replace\r\n    ClassLoader urlCl = \r\n          URLClassLoader.newInstance(new URL[] {new URL(url)}, prevCl);\r\n\r\n    try {\r\n      Thread.currentThread().setContextClassLoader(urlCl);\r\n      Context ctx = new InitialContext();\r\n      System.out.println(ctx.lookup(&quot;tutorial/report.txt&quot;));\r\n      ctx.close();\r\n    } catch (NamingException e) {\r\n      e.printStackTrace();\r\n    } finally {\r\n      // Restore old loader\r\n      Thread.currentThread().setContextClassLoader(prevCl);\r\n    }\r\n  } // main()\r\n}\r\n```\r\n\r\n  [1]: http://download.oracle.com/javase/jndi/tutorial/beyond/misc/classloader.html","title":"Can a directory be added to the class path at runtime?","body":"<p>Yes, you can use <code>URLClassLoader</code>.. see example <a href=\"http://download.oracle.com/javase/jndi/tutorial/beyond/misc/classloader.html\" rel=\"nofollow noreferrer\">here</a>. Doesn't use reflection.</p>\n<p>-- edit --</p>\n<p>Copying example from the link as suggested.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.Hashtable;\nimport javax.naming.*;\n\npublic class ChangeLoader {\n  public static void main(String[] args) throws MalformedURLException {\n    if (args.length != 1) {\n      System.err.println(&quot;usage: java ChangeLoader extra_classpath_url&quot;);\n      System.exit(-1);\n    }\n\n    String url = args[0];\n    // Save class loader so that we can restore later\n    ClassLoader prevCl = Thread.currentThread().getContextClassLoader();\n\n    // Use prevCl as parent, so we extend instead of replace\n    ClassLoader urlCl = \n          URLClassLoader.newInstance(new URL[] {new URL(url)}, prevCl);\n\n    try {\n      Thread.currentThread().setContextClassLoader(urlCl);\n      Context ctx = new InitialContext();\n      System.out.println(ctx.lookup(&quot;tutorial/report.txt&quot;));\n      ctx.close();\n    } catch (NamingException e) {\n      e.printStackTrace();\n    } finally {\n      // Restore old loader\n      Thread.currentThread().setContextClassLoader(prevCl);\n    }\n  } // main()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":448861,"reputation":7682,"user_id":843318,"display_name":"Jonathan Spooner"},"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1434052888,"creation_date":1319513701,"answer_id":7884406,"question_id":7884393,"body_markdown":"You can use the following method:\r\n\r\n    URLClassLoader.addURL(URL url)\r\n\r\nBut you&#39;ll need to do this with reflection since the method is `protected`:\r\n\r\n    public static void addPath(String s) throws Exception {\r\n        File f = new File(s);\r\n        URL u = f.toURL();\r\n        URLClassLoader urlClassLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();\r\n        Class urlClass = URLClassLoader.class;\r\n        Method method = urlClass.getDeclaredMethod(&quot;addURL&quot;, new Class[]{URL.class});\r\n        method.setAccessible(true);\r\n        method.invoke(urlClassLoader, new Object[]{u});\r\n    }\r\n\r\nSee the Java Trail on [Reflection][1].  Especially the section *Drawbacks of Reflection*\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/reflect/","title":"Can a directory be added to the class path at runtime?","body":"<p>You can use the following method:</p>\n\n<pre><code>URLClassLoader.addURL(URL url)\n</code></pre>\n\n<p>But you'll need to do this with reflection since the method is <code>protected</code>:</p>\n\n<pre><code>public static void addPath(String s) throws Exception {\n    File f = new File(s);\n    URL u = f.toURL();\n    URLClassLoader urlClassLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();\n    Class urlClass = URLClassLoader.class;\n    Method method = urlClass.getDeclaredMethod(\"addURL\", new Class[]{URL.class});\n    method.setAccessible(true);\n    method.invoke(urlClassLoader, new Object[]{u});\n}\n</code></pre>\n\n<p>See the Java Trail on <a href=\"http://download.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">Reflection</a>.  Especially the section <em>Drawbacks of Reflection</em></p>\n"},{"tags":[],"owner":{"account_id":69659,"reputation":9188,"user_id":202553,"accept_rate":71,"display_name":"knb"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1392976851,"creation_date":1392976851,"answer_id":21931044,"question_id":7884393,"body_markdown":"Update 2014: this is the code from the accepted answer, by Jonathan Spooner from 2011, slightly rewritten to have Eclipse&#39;s validators no longer create warnings (deprecation, rawtypes)\r\n\r\n\t//need to do add path to Classpath with reflection since the URLClassLoader.addURL(URL url) method is protected:\r\n\tpublic static void addPath(String s) throws Exception {\r\n\t    File f = new File(s);\r\n\t    URI u = f.toURI();\r\n\t    URLClassLoader urlClassLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();\r\n\t    Class&lt;URLClassLoader&gt; urlClass = URLClassLoader.class;\r\n\t    Method method = urlClass.getDeclaredMethod(&quot;addURL&quot;, new Class[]{URL.class});\r\n\t    method.setAccessible(true);\r\n\t    method.invoke(urlClassLoader, new Object[]{u.toURL()});\r\n\t}","title":"Can a directory be added to the class path at runtime?","body":"<p>Update 2014: this is the code from the accepted answer, by Jonathan Spooner from 2011, slightly rewritten to have Eclipse's validators no longer create warnings (deprecation, rawtypes)</p>\n\n<pre><code>//need to do add path to Classpath with reflection since the URLClassLoader.addURL(URL url) method is protected:\npublic static void addPath(String s) throws Exception {\n    File f = new File(s);\n    URI u = f.toURI();\n    URLClassLoader urlClassLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();\n    Class&lt;URLClassLoader&gt; urlClass = URLClassLoader.class;\n    Method method = urlClass.getDeclaredMethod(\"addURL\", new Class[]{URL.class});\n    method.setAccessible(true);\n    method.invoke(urlClassLoader, new Object[]{u.toURL()});\n}\n</code></pre>\n"}],"owner":{"account_id":962952,"reputation":5975,"user_id":986890,"accept_rate":55,"display_name":"Cedric Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39206,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":7884406,"answer_count":3,"score":38,"last_activity_date":1684191880,"creation_date":1319513521,"question_id":7884393,"body_markdown":"In order to better understand how things works in Java, I&#39;d like to know if I can dynamically add, at runtime, a directory to the class path.\r\n\r\nFor example, if I launch a *.jar* using *&quot;java -jar mycp.jar&quot;* and output the *java.class.path* property, I may get:\r\n\r\n    java.class.path: &#39;.:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java&#39;\r\n\r\nNow can I modify this class path at runtime to add another directory? (for example before making the first call to a class using a *.jar* located in that directory I want to add).\r\n\r\n\r\n","title":"Can a directory be added to the class path at runtime?","body":"<p>In order to better understand how things works in Java, I'd like to know if I can dynamically add, at runtime, a directory to the class path.</p>\n\n<p>For example, if I launch a <em>.jar</em> using <em>\"java -jar mycp.jar\"</em> and output the <em>java.class.path</em> property, I may get:</p>\n\n<pre><code>java.class.path: '.:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java'\n</code></pre>\n\n<p>Now can I modify this class path at runtime to add another directory? (for example before making the first call to a class using a <em>.jar</em> located in that directory I want to add).</p>\n"},{"tags":["java","gradle","intellij-idea","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1600780149,"post_id":64002664,"comment_id":113190797,"body_markdown":"Remove the `new` its a static method not a constructor.","body":"Remove the <code>new</code> its a static method not a constructor."},{"owner":{"account_id":19566409,"reputation":33,"user_id":14318454,"display_name":"Philippe Vermeulen"},"score":1,"creation_date":1600781115,"post_id":64002664,"comment_id":113191334,"body_markdown":"Wow thanks i feel stupid now haha! I guess I got mixed up with all the older version of tutorials and all!","body":"Wow thanks i feel stupid now haha! I guess I got mixed up with all the older version of tutorials and all!"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684193276,"post_id":64002664,"comment_id":134478675,"body_markdown":"FWIW, the expression `new JDABuilder.createDefault(...)` is being interpreted as an attempt to create an instance of a nested class called `JDABuilder.createDefault`.  Which doesn&#39;t exist.","body":"FWIW, the expression <code>new JDABuilder.createDefault(...)</code> is being interpreted as an attempt to create an instance of a nested class called <code>JDABuilder.createDefault</code>.  Which doesn&#39;t exist."}],"owner":{"account_id":19566409,"reputation":33,"user_id":14318454,"display_name":"Philippe Vermeulen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1029,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1684195966,"answer_count":0,"score":0,"last_activity_date":1684191670,"creation_date":1600745164,"question_id":64002664,"body_markdown":"I am trying to set up a discord bot using intelliJ, Gradles and the JDA v4.2.0_204. I followed the instruction on: https://github.com/DV8FromTheWorld/JDA/wiki/2%29-IntelliJ-IDEA-Setup\r\n\r\nI wanna use the JDABuilder and I&#39;ve written exactly how they wrote it in the documentation to initialize the JDABuilder Object. Here is my current sample of code including the imports (I also have auto-import enabled):\r\n\r\n    import net.dv8tion.jda.api.JDA;\r\n    import net.dv8tion.jda.api.JDABuilder;\r\n\r\n\r\n    public class bot {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            JDA api = new JDABuilder.createDefault(&quot;token&quot;).build();\r\n    \r\n        }\r\n    }\r\n\r\nThe problem is that it always shows an error: Cannot resolve symbol &#39;createDefault&#39;\r\n\r\nI can&#39;t find any way around this and I don&#39;t see the problem here.\r\n\r\n","title":"cannot resolve symbol &#39;createDefault&#39; in JDABuilder","body":"<p>I am trying to set up a discord bot using intelliJ, Gradles and the JDA v4.2.0_204. I followed the instruction on: <a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/2%29-IntelliJ-IDEA-Setup\" rel=\"nofollow noreferrer\">https://github.com/DV8FromTheWorld/JDA/wiki/2%29-IntelliJ-IDEA-Setup</a></p>\n<p>I wanna use the JDABuilder and I've written exactly how they wrote it in the documentation to initialize the JDABuilder Object. Here is my current sample of code including the imports (I also have auto-import enabled):</p>\n<pre><code>import net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\n\n\npublic class bot {\n\n\n    public static void main(String[] args) {\n        JDA api = new JDABuilder.createDefault(&quot;token&quot;).build();\n\n    }\n}\n</code></pre>\n<p>The problem is that it always shows an error: Cannot resolve symbol 'createDefault'</p>\n<p>I can't find any way around this and I don't see the problem here.</p>\n"},{"tags":["java","spring","spring-mvc","spring-aop","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1420463977,"creation_date":1420462636,"answer_id":27780030,"question_id":27779797,"body_markdown":"You can call the `getStackTrace` against your exception, first entry will give you the originating class\r\n\r\n     handleException(YourException ex) {\r\n        String exceptionController = ex.getStackTrace()[0].getClassName();\r\n        ...\r\n     }","title":"@ControllerAdvice, how to get the class which called this method?","body":"<p>You can call the <code>getStackTrace</code> against your exception, first entry will give you the originating class</p>\n\n<pre><code> handleException(YourException ex) {\n    String exceptionController = ex.getStackTrace()[0].getClassName();\n    ...\n }\n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27780030,"answer_count":1,"score":1,"last_activity_date":1684191496,"creation_date":1420461841,"question_id":27779797,"body_markdown":"Is there a way to get the class from where the `@ControllerAdvice` got its control. \r\n\r\n**I.e.:** If and execution of PersonController is going on and I get some error due to which the control transferred to the `@ControllerAdvice` class&#39;s method `handleException(...)`. \r\n\r\nIs there a way to get the `PersonController` class name inside the `handleException` method with Spring 3.2.3. \r\n\r\nAny other way to achieve this? \r\n\r\nThank you for reading.","title":"@ControllerAdvice, how to get the class which called this method?","body":"<p>Is there a way to get the class from where the <code>@ControllerAdvice</code> got its control.</p>\n<p><strong>I.e.:</strong> If and execution of PersonController is going on and I get some error due to which the control transferred to the <code>@ControllerAdvice</code> class's method <code>handleException(...)</code>.</p>\n<p>Is there a way to get the <code>PersonController</code> class name inside the <code>handleException</code> method with Spring 3.2.3.</p>\n<p>Any other way to achieve this?</p>\n<p>Thank you for reading.</p>\n"},{"tags":["java","datetime","time"],"answers":[{"tags":[],"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1584977895,"creation_date":1341561337,"answer_id":11358115,"question_id":11357945,"body_markdown":"It should be like\r\n\r\n     int day = (int)TimeUnit.SECONDS.toDays(seconds);        \r\n     long hours = TimeUnit.SECONDS.toHours(seconds) - (day *24);\r\n     long minute = TimeUnit.SECONDS.toMinutes(seconds) - (TimeUnit.SECONDS.toHours(seconds)* 60);\r\n     long second = TimeUnit.SECONDS.toSeconds(seconds) - (TimeUnit.SECONDS.toMinutes(seconds) *60);\r\n\r\n**EDIT**\r\nExplanation: \r\n\r\n 1. Day calculation is correct, it does not require explanation.\r\n 2. TimeUnit.SECONDS.toHours(seconds) will give you direct conversion from seconds to hours without consideration for days you have already calculated. Minus the hours for days you already got i.e, day*24. You now got remaining hours.\r\n 3. Same for minute and second. You need to minus the already got hour and minutes respectively.\r\n\r\n","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>It should be like</p>\n\n<pre><code> int day = (int)TimeUnit.SECONDS.toDays(seconds);        \n long hours = TimeUnit.SECONDS.toHours(seconds) - (day *24);\n long minute = TimeUnit.SECONDS.toMinutes(seconds) - (TimeUnit.SECONDS.toHours(seconds)* 60);\n long second = TimeUnit.SECONDS.toSeconds(seconds) - (TimeUnit.SECONDS.toMinutes(seconds) *60);\n</code></pre>\n\n<p><strong>EDIT</strong>\nExplanation: </p>\n\n<ol>\n<li>Day calculation is correct, it does not require explanation.</li>\n<li>TimeUnit.SECONDS.toHours(seconds) will give you direct conversion from seconds to hours without consideration for days you have already calculated. Minus the hours for days you already got i.e, day*24. You now got remaining hours.</li>\n<li>Same for minute and second. You need to minus the already got hour and minutes respectively.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1631228,"reputation":1201,"user_id":1505712,"display_name":"codeDEXTER"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1341562525,"creation_date":1341562525,"answer_id":11358379,"question_id":11357945,"body_markdown":"Here is a code i created : (For 3600 seconds it shows &quot;Days:0 Hours:1 Minutes:0 Seconds:0&quot;)\r\n\r\n\r\n    public class TimeConvert \r\n    {\r\n        public static void main(String[] args) \r\n        {\r\n            int fsec,d,h,m,s,temp=0,i;\r\n            fsec=3600;\r\n            //For Days\r\n            if(fsec&gt;=86400)\r\n            {\r\n                temp=fsec/86400;\r\n                d=temp;\r\n                for(i=1;i&lt;=temp;i++)\r\n                {\r\n                    fsec-=86400;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                d=0;\r\n            }\r\n            //For Hours\r\n            if(fsec&gt;=3600)\r\n            {\r\n                temp=fsec/3600;\r\n                h=temp;\r\n                for(i=1;i&lt;=temp;i++)\r\n                {\r\n                    fsec-=3600;\r\n                }            \r\n            }\r\n            else\r\n            {\r\n                h=0;\r\n            }\r\n            //For Minutes\r\n            if(fsec&gt;=60)\r\n            {\r\n                temp=fsec/60;\r\n                m=temp;\r\n                for(i=1;i&lt;=temp;i++)\r\n                {\r\n                    fsec-=60;\r\n                }            \r\n            }\r\n            else\r\n            {\r\n                m=0;\r\n            }\r\n            //For Seconds\r\n            if(fsec&gt;=1)\r\n            {\r\n                s=fsec;            \r\n            }\r\n            else\r\n            {\r\n                s=0;\r\n            }\r\n            System.out.println(&quot;Days:&quot;+d+&quot; Hours:&quot;+h+&quot; Minutes:&quot;+m+&quot; Seconds:&quot;+s);\r\n        }\r\n    }\r\n\r\nHope it answers your question.","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>Here is a code i created : (For 3600 seconds it shows \"Days:0 Hours:1 Minutes:0 Seconds:0\")</p>\n\n<pre><code>public class TimeConvert \n{\n    public static void main(String[] args) \n    {\n        int fsec,d,h,m,s,temp=0,i;\n        fsec=3600;\n        //For Days\n        if(fsec&gt;=86400)\n        {\n            temp=fsec/86400;\n            d=temp;\n            for(i=1;i&lt;=temp;i++)\n            {\n                fsec-=86400;\n            }\n        }\n        else\n        {\n            d=0;\n        }\n        //For Hours\n        if(fsec&gt;=3600)\n        {\n            temp=fsec/3600;\n            h=temp;\n            for(i=1;i&lt;=temp;i++)\n            {\n                fsec-=3600;\n            }            \n        }\n        else\n        {\n            h=0;\n        }\n        //For Minutes\n        if(fsec&gt;=60)\n        {\n            temp=fsec/60;\n            m=temp;\n            for(i=1;i&lt;=temp;i++)\n            {\n                fsec-=60;\n            }            \n        }\n        else\n        {\n            m=0;\n        }\n        //For Seconds\n        if(fsec&gt;=1)\n        {\n            s=fsec;            \n        }\n        else\n        {\n            s=0;\n        }\n        System.out.println(\"Days:\"+d+\" Hours:\"+h+\" Minutes:\"+m+\" Seconds:\"+s);\n    }\n}\n</code></pre>\n\n<p>Hope it answers your question.</p>\n"},{"tags":[],"owner":{"account_id":145010,"reputation":4823,"user_id":354495,"accept_rate":73,"display_name":"Sudhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341562670,"creation_date":1341562670,"answer_id":11358423,"question_id":11357945,"body_markdown":"Try this \r\n\r\n\r\n\r\n\tpublic static void calculateTime(long seconds) {\r\n\t\t\r\n    int day = (int)TimeUnit.SECONDS.toDays(seconds);        \r\n    long hours = TimeUnit.SECONDS.toHours(seconds) ;\r\n    \r\n    long tempSec = seconds - (TimeUnit.HOURS.toSeconds(hours) );\r\n    System.out.println(&quot;after hours calculation &quot;+ tempSec);\r\n    \r\n    long minute = TimeUnit.SECONDS.toMinutes(tempSec); \r\n    \r\n    if(tempSec &gt; TimeUnit.MINUTES.toSeconds(minute)){\r\n    \ttempSec = tempSec - (TimeUnit.MINUTES.toSeconds(minute) );        \t\r\n    }else{\r\n    \ttempSec = TimeUnit.MINUTES.toSeconds(minute) - tempSec;\r\n    }\r\n    System.out.println(&quot;after min calculation &quot;+ tempSec);\r\n    \r\n    \r\n    long second = TimeUnit.SECONDS.toSeconds(tempSec) ;\r\n\r\n    System.out.println(&quot;Day &quot; + day + &quot; Hour &quot; + hours + &quot; Minute &quot; + minute + &quot; Seconds &quot; + second);\r\n\t}\r\n\r\n","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>Try this </p>\n\n<pre><code>public static void calculateTime(long seconds) {\n\nint day = (int)TimeUnit.SECONDS.toDays(seconds);        \nlong hours = TimeUnit.SECONDS.toHours(seconds) ;\n\nlong tempSec = seconds - (TimeUnit.HOURS.toSeconds(hours) );\nSystem.out.println(\"after hours calculation \"+ tempSec);\n\nlong minute = TimeUnit.SECONDS.toMinutes(tempSec); \n\nif(tempSec &gt; TimeUnit.MINUTES.toSeconds(minute)){\n    tempSec = tempSec - (TimeUnit.MINUTES.toSeconds(minute) );          \n}else{\n    tempSec = TimeUnit.MINUTES.toSeconds(minute) - tempSec;\n}\nSystem.out.println(\"after min calculation \"+ tempSec);\n\n\nlong second = TimeUnit.SECONDS.toSeconds(tempSec) ;\n\nSystem.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1341564848,"creation_date":1341563440,"answer_id":11358616,"question_id":11357945,"body_markdown":"You can do like this to only use `TimeUnit`:\r\n\r\n    public static void calculateTime(long seconds) {\r\n        int day = (int) TimeUnit.SECONDS.toDays(seconds);\r\n        long hours = TimeUnit.SECONDS.toHours(seconds) -\r\n                     TimeUnit.DAYS.toHours(day);\r\n        long minute = TimeUnit.SECONDS.toMinutes(seconds) - \r\n                      TimeUnit.DAYS.toMinutes(day) -\r\n                      TimeUnit.HOURS.toMinutes(hours);\r\n        long second = TimeUnit.SECONDS.toSeconds(seconds) -\r\n                      TimeUnit.DAYS.toSeconds(day) -\r\n                      TimeUnit.HOURS.toSeconds(hours) - \r\n                      TimeUnit.MINUTES.toSeconds(minute);\r\n        System.out.println(&quot;Day &quot; + day + &quot; Hour &quot; + hours + &quot; Minute &quot; + minute + &quot; Seconds &quot; + second);\r\n    }\r\nor the slightly shorter but maybe not as intuitive\r\n\r\n    public static void calculateTime(long seconds) {\r\n        int day = (int) TimeUnit.SECONDS.toDays(seconds);\r\n        long hours = TimeUnit.SECONDS.toHours(seconds) -\r\n                     TimeUnit.DAYS.toHours(day);\r\n        long minute = TimeUnit.SECONDS.toMinutes(seconds) -\r\n                      TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(seconds));\r\n        long second = TimeUnit.SECONDS.toSeconds(seconds) -\r\n                      TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(seconds));\r\n        System.out.println(&quot;Day &quot; + day + &quot; Hour &quot; + hours + &quot; Minute &quot; + minute + &quot; Seconds &quot; + second);\r\n    }","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>You can do like this to only use <code>TimeUnit</code>:</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n    int day = (int) TimeUnit.SECONDS.toDays(seconds);\n    long hours = TimeUnit.SECONDS.toHours(seconds) -\n                 TimeUnit.DAYS.toHours(day);\n    long minute = TimeUnit.SECONDS.toMinutes(seconds) - \n                  TimeUnit.DAYS.toMinutes(day) -\n                  TimeUnit.HOURS.toMinutes(hours);\n    long second = TimeUnit.SECONDS.toSeconds(seconds) -\n                  TimeUnit.DAYS.toSeconds(day) -\n                  TimeUnit.HOURS.toSeconds(hours) - \n                  TimeUnit.MINUTES.toSeconds(minute);\n    System.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n}\n</code></pre>\n\n<p>or the slightly shorter but maybe not as intuitive</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n    int day = (int) TimeUnit.SECONDS.toDays(seconds);\n    long hours = TimeUnit.SECONDS.toHours(seconds) -\n                 TimeUnit.DAYS.toHours(day);\n    long minute = TimeUnit.SECONDS.toMinutes(seconds) -\n                  TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(seconds));\n    long second = TimeUnit.SECONDS.toSeconds(seconds) -\n                  TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(seconds));\n    System.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4749639,"reputation":182,"user_id":3839979,"display_name":"Diemon"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1466070628,"creation_date":1466070628,"answer_id":37855691,"question_id":11357945,"body_markdown":"Simple method:\r\n\r\n    public static void calculateTime(long seconds) {\r\n        long sec = seconds % 60;\r\n        long minutes = seconds % 3600 / 60;\r\n        long hours = seconds % 86400 / 3600;\r\n        long days = seconds / 86400;\r\n\r\n        System.out.println(&quot;Day &quot; + days + &quot; Hour &quot; + hours + &quot; Minute &quot; + minutes + &quot; Seconds &quot; + sec);\r\n    }","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>Simple method:</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n    long sec = seconds % 60;\n    long minutes = seconds % 3600 / 60;\n    long hours = seconds % 86400 / 3600;\n    long days = seconds / 86400;\n\n    System.out.println(\"Day \" + days + \" Hour \" + hours + \" Minute \" + minutes + \" Seconds \" + sec);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5097445,"reputation":1,"user_id":4088263,"display_name":"Onome"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1504098447,"creation_date":1504098447,"answer_id":45961337,"question_id":11357945,"body_markdown":"    public static void timeCalculator(){\r\n    \t\r\n    \t\r\n    \t  Scanner input = new Scanner(System.in);\r\n          System.out.print(&quot;Enter length of time in seconds: &quot;);\r\n          int n = input.nextInt();\r\n          int nDay = n/86400;\r\n          int nHours = (n%86400)/3600;\r\n          int nMin = ((n%86400)%3600) /60;\r\n          int nSec =(((n%86400)%3600)%60);\r\n          System.out.println();\r\n          System.out.print(&quot;That is &quot;+ nDay+ &quot; day(s),&quot;+nHours+&quot;  hour(s), &quot;+nMin+&quot;  minute(s), and &quot;+nSec+&quot; second(s). &quot;);\r\n    }","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<pre><code>public static void timeCalculator(){\n\n\n      Scanner input = new Scanner(System.in);\n      System.out.print(\"Enter length of time in seconds: \");\n      int n = input.nextInt();\n      int nDay = n/86400;\n      int nHours = (n%86400)/3600;\n      int nMin = ((n%86400)%3600) /60;\n      int nSec =(((n%86400)%3600)%60);\n      System.out.println();\n      System.out.print(\"That is \"+ nDay+ \" day(s),\"+nHours+\"  hour(s), \"+nMin+\"  minute(s), and \"+nSec+\" second(s). \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540455452,"creation_date":1540455452,"answer_id":52984516,"question_id":11357945,"body_markdown":"**Late but helpful**\r\n\r\n&gt; get time in the format 00:00:00\r\n\r\n    /**\r\n         * The time in format.\r\n         *\r\n         * in The Format of 00:00:00\r\n         */\r\n\r\n    public String getTimeInFormat(long _SECONDS)\r\n    {\r\n        if(TimeUnit.SECONDS.toHours(_SECONDS)&gt;0)\r\n        {\r\n            return  String.format(&quot;%02d:%02d:%02d&quot;,\r\n                    TimeUnit.SECONDS.toHours(_SECONDS),\r\n                    TimeUnit.SECONDS.toMinutes(_SECONDS) -\r\n                            TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(_SECONDS)),\r\n                    TimeUnit.SECONDS.toSeconds(_SECONDS) -\r\n                            TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(_SECONDS)));\r\n        }\r\n        else {\r\n            return  String.format(&quot;%02d:%02d&quot;,\r\n                    TimeUnit.SECONDS.toMinutes(_SECONDS) -\r\n                            TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(_SECONDS)),\r\n                    TimeUnit.SECONDS.toSeconds(_SECONDS) -\r\n                            TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(_SECONDS)));\r\n        }\r\n    \r\n    }","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p><strong>Late but helpful</strong></p>\n\n<blockquote>\n  <p>get time in the format 00:00:00</p>\n</blockquote>\n\n<pre><code>/**\n     * The time in format.\n     *\n     * in The Format of 00:00:00\n     */\n\npublic String getTimeInFormat(long _SECONDS)\n{\n    if(TimeUnit.SECONDS.toHours(_SECONDS)&gt;0)\n    {\n        return  String.format(\"%02d:%02d:%02d\",\n                TimeUnit.SECONDS.toHours(_SECONDS),\n                TimeUnit.SECONDS.toMinutes(_SECONDS) -\n                        TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(_SECONDS)),\n                TimeUnit.SECONDS.toSeconds(_SECONDS) -\n                        TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(_SECONDS)));\n    }\n    else {\n        return  String.format(\"%02d:%02d\",\n                TimeUnit.SECONDS.toMinutes(_SECONDS) -\n                        TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(_SECONDS)),\n                TimeUnit.SECONDS.toSeconds(_SECONDS) -\n                        TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(_SECONDS)));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6114182,"reputation":271,"user_id":4769751,"display_name":"Oleksandr Potomkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553691412,"creation_date":1553628068,"answer_id":55364795,"question_id":11357945,"body_markdown":"This is my code:\r\n\r\n    public static String secondsToString(TimeUnit greatestUnit, long sourceDuration, TimeUnit sourceUnit) {\r\n\r\n\t\tint ordinal = greatestUnit.ordinal();\r\n\t\tif(ordinal&lt;=sourceUnit.ordinal())\r\n\t\t\treturn String.format(&quot;%02d&quot;, sourceDuration);\r\n\r\n\t\tfinal long greatestDuration = greatestUnit.convert(sourceDuration, sourceUnit);\r\n\t\tfinal long rest = sourceDuration - sourceUnit.convert(greatestDuration, greatestUnit);\r\n\r\n\t\treturn String.format(&quot;%02d:&quot;, greatestDuration) + secondsToString(TimeUnit.values()[--ordinal], rest, sourceUnit);\r\n\t}\r\n\r\nor by loop\r\n\r\n    \r\n\tpublic static String secondsToStringByLoop(TimeUnit greatestUnit, long sourceDuration, TimeUnit sourceUnit) {\r\n\r\n\t\tfinal StringBuffer sb = new StringBuffer();\r\n\t\tint ordinal = greatestUnit.ordinal();\r\n\r\n\t\twhile(true){\r\n\t\t\tif(ordinal&lt;=sourceUnit.ordinal()) {\r\n\t\t\t\tsb.append(String.format(&quot;%02d&quot;, sourceDuration));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tfinal long greatestDuration = greatestUnit.convert(sourceDuration, sourceUnit);\r\n    // \t\t\tif(greatestDuration&gt;0 || sb.length()&gt;0)\r\n\t\t\tsb.append(String.format(&quot;%02d:&quot;, greatestDuration));\r\n\r\n\t\t\tsourceDuration -= sourceUnit.convert(greatestDuration, greatestUnit);\r\n\t\t\tgreatestUnit = TimeUnit.values()[--ordinal];\r\n\t\t};\r\n\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nusage example:\r\n\r\n    String str = secondsToString(TimeUnit.DAYS, 1000, TimeUnit.SECONDS);\r\nfunction returns: &quot;00:00:16:40&quot; (days:hours:minutes:seconds)\r\n\r\n    str = UnitsConverter.secondsToString(TimeUnit.DAYS, 1000, TimeUnit.MINUTES);\r\n   returns: &quot;00:16:40&quot; (days:hours:minutes)\r\n\r\n\r\n    str = UnitsConverter.secondsToString(TimeUnit.MINUTES, 1000, TimeUnit.SECONDS);\r\n   returns: &quot;16:40&quot; (minutes:seconds)\r\n\r\n","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>This is my code:</p>\n\n<pre><code>public static String secondsToString(TimeUnit greatestUnit, long sourceDuration, TimeUnit sourceUnit) {\n\n    int ordinal = greatestUnit.ordinal();\n    if(ordinal&lt;=sourceUnit.ordinal())\n        return String.format(\"%02d\", sourceDuration);\n\n    final long greatestDuration = greatestUnit.convert(sourceDuration, sourceUnit);\n    final long rest = sourceDuration - sourceUnit.convert(greatestDuration, greatestUnit);\n\n    return String.format(\"%02d:\", greatestDuration) + secondsToString(TimeUnit.values()[--ordinal], rest, sourceUnit);\n}\n</code></pre>\n\n<p>or by loop</p>\n\n<pre><code>public static String secondsToStringByLoop(TimeUnit greatestUnit, long sourceDuration, TimeUnit sourceUnit) {\n\n    final StringBuffer sb = new StringBuffer();\n    int ordinal = greatestUnit.ordinal();\n\n    while(true){\n        if(ordinal&lt;=sourceUnit.ordinal()) {\n            sb.append(String.format(\"%02d\", sourceDuration));\n            break;\n        }\n\n        final long greatestDuration = greatestUnit.convert(sourceDuration, sourceUnit);\n//          if(greatestDuration&gt;0 || sb.length()&gt;0)\n        sb.append(String.format(\"%02d:\", greatestDuration));\n\n        sourceDuration -= sourceUnit.convert(greatestDuration, greatestUnit);\n        greatestUnit = TimeUnit.values()[--ordinal];\n    };\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>usage example:</p>\n\n<pre><code>String str = secondsToString(TimeUnit.DAYS, 1000, TimeUnit.SECONDS);\n</code></pre>\n\n<p>function returns: \"00:00:16:40\" (days:hours:minutes:seconds)</p>\n\n<pre><code>str = UnitsConverter.secondsToString(TimeUnit.DAYS, 1000, TimeUnit.MINUTES);\n</code></pre>\n\n<p>returns: \"00:16:40\" (days:hours:minutes)</p>\n\n<pre><code>str = UnitsConverter.secondsToString(TimeUnit.MINUTES, 1000, TimeUnit.SECONDS);\n</code></pre>\n\n<p>returns: \"16:40\" (minutes:seconds)</p>\n"},{"tags":[],"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684191386,"creation_date":1684191386,"answer_id":76258395,"question_id":11357945,"body_markdown":"Similar to [Oleksandr&#39;s answer][1] using TimeUnit without each specific toDays,toHours,etc. methods. But using the `java.time.Duration` class and not coupled to the TimeUnit Enum ordinal.\r\n\r\nMy use case only needed Days, Hours, Minutes, Seconds with format like: &quot;13d 2h 45m 10s&quot;; Using just the first char of the TimeUnit name, so if use TimeUnits smaller than Seconds, might not be desirable. And I didn&#39;t want to show units that were 0 unless total duration was 0 seconds.\r\n\r\n```\r\npublic static String toDaysHoursMinutesSeconds(Duration d) {\r\n    final var sb = new StringBuilder();\r\n    // Must be descending\r\n    for (var timeUnit : List.of(TimeUnit.DAYS, TimeUnit.HOURS, TimeUnit.MINUTES, TimeUnit.SECONDS)) {\r\n        final long v = timeUnit.convert(d);\r\n        if (v != 0 || (sb.isEmpty() &amp;&amp; timeUnit == TimeUnit.SECONDS))\r\n            sb.append(sb.isEmpty() ? &quot;&quot; : &quot; &quot;).append(v).append(Character.toLowerCase(timeUnit.name().charAt(0)));\r\n        d = d.minus(v, timeUnit.toChronoUnit());\r\n    }\r\n    return sb.toString();\r\n}\r\n```\r\n\r\nExample:\r\n```\r\nimport static java.time.Duration.*;\r\n// ...\r\nassert &quot;13d 2h 45m 10s&quot;.equals(toDaysHoursMinutesSeconds(ofDays(13).plus(ofHours(2)).plus(ofMinutes(45)).plus(ofSeconds(10))));\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/55364795/5082991","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>Similar to <a href=\"https://stackoverflow.com/a/55364795/5082991\">Oleksandr's answer</a> using TimeUnit without each specific toDays,toHours,etc. methods. But using the <code>java.time.Duration</code> class and not coupled to the TimeUnit Enum ordinal.</p>\n<p>My use case only needed Days, Hours, Minutes, Seconds with format like: &quot;13d 2h 45m 10s&quot;; Using just the first char of the TimeUnit name, so if use TimeUnits smaller than Seconds, might not be desirable. And I didn't want to show units that were 0 unless total duration was 0 seconds.</p>\n<pre><code>public static String toDaysHoursMinutesSeconds(Duration d) {\n    final var sb = new StringBuilder();\n    // Must be descending\n    for (var timeUnit : List.of(TimeUnit.DAYS, TimeUnit.HOURS, TimeUnit.MINUTES, TimeUnit.SECONDS)) {\n        final long v = timeUnit.convert(d);\n        if (v != 0 || (sb.isEmpty() &amp;&amp; timeUnit == TimeUnit.SECONDS))\n            sb.append(sb.isEmpty() ? &quot;&quot; : &quot; &quot;).append(v).append(Character.toLowerCase(timeUnit.name().charAt(0)));\n        d = d.minus(v, timeUnit.toChronoUnit());\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>import static java.time.Duration.*;\n// ...\nassert &quot;13d 2h 45m 10s&quot;.equals(toDaysHoursMinutesSeconds(ofDays(13).plus(ofHours(2)).plus(ofMinutes(45)).plus(ofSeconds(10))));\n</code></pre>\n"}],"owner":{"account_id":1121040,"reputation":2569,"user_id":1109344,"accept_rate":88,"display_name":"Android Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87159,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":11358115,"answer_count":9,"score":53,"last_activity_date":1684191386,"creation_date":1341560661,"question_id":11357945,"body_markdown":"I am using TimeStamp class to convert seconds into Day,Hours,Minutes,Seconds. I used following code\r\n\r\n    public static void calculateTime(long seconds) {\r\n    \t\tint day = (int)TimeUnit.SECONDS.toDays(seconds);\t\t\r\n    \t\tlong hours = TimeUnit.SECONDS.toHours(seconds) - TimeUnit.SECONDS.toHours(TimeUnit.SECONDS.toDays(seconds));\r\n    \t\tlong minute = TimeUnit.SECONDS.toMinutes(seconds) - TimeUnit.SECONDS.toMinutes(TimeUnit.SECONDS.toHours(seconds));\r\n    \t\tlong second = TimeUnit.SECONDS.toSeconds(seconds) - TimeUnit.SECONDS.toSeconds(TimeUnit.SECONDS.toMinutes(seconds));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Day &quot; + day + &quot; Hour &quot; + hours + &quot; Minute &quot; + minute + &quot; Seconds &quot; + second);\r\n    \t\t\r\n    \t}\r\n\r\nBut I am not getting right result. \r\nFor example when I called this method as `calculateTime(3600)` it gives me the result as `Day 0 Hour 1 Minute 60 Seconds 3540` instead of `Day 0 Hour 1 Minute 0 Seconds 0`. \r\n\r\n\r\n*What is the wrong with my logic? Please help me.* ","title":"Java: convert seconds into day, hour, minute and seconds using TimeUnit","body":"<p>I am using TimeStamp class to convert seconds into Day,Hours,Minutes,Seconds. I used following code</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n        int day = (int)TimeUnit.SECONDS.toDays(seconds);        \n        long hours = TimeUnit.SECONDS.toHours(seconds) - TimeUnit.SECONDS.toHours(TimeUnit.SECONDS.toDays(seconds));\n        long minute = TimeUnit.SECONDS.toMinutes(seconds) - TimeUnit.SECONDS.toMinutes(TimeUnit.SECONDS.toHours(seconds));\n        long second = TimeUnit.SECONDS.toSeconds(seconds) - TimeUnit.SECONDS.toSeconds(TimeUnit.SECONDS.toMinutes(seconds));\n\n        System.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n\n    }\n</code></pre>\n\n<p>But I am not getting right result. \nFor example when I called this method as <code>calculateTime(3600)</code> it gives me the result as <code>Day 0 Hour 1 Minute 60 Seconds 3540</code> instead of <code>Day 0 Hour 1 Minute 0 Seconds 0</code>. </p>\n\n<p><em>What is the wrong with my logic? Please help me.</em> </p>\n"},{"tags":["java","swing","jtable","tablecolumn"],"answers":[{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":75,"is_accepted":true,"score":75,"last_activity_date":1474673696,"creation_date":1373695741,"answer_id":17627497,"question_id":17627431,"body_markdown":"You can try the next:\r\n\r\n\tpublic void resizeColumnWidth(JTable table) {\r\n\t\tfinal TableColumnModel columnModel = table.getColumnModel();\r\n\t\tfor (int column = 0; column &lt; table.getColumnCount(); column++) {\r\n\t\t\tint width = 15; // Min width\r\n\t\t\tfor (int row = 0; row &lt; table.getRowCount(); row++) {\r\n\t\t\t\tTableCellRenderer renderer = table.getCellRenderer(row, column);\r\n\t\t\t\tComponent comp = table.prepareRenderer(renderer, row, column);\r\n\t\t\t\twidth = Math.max(comp.getPreferredSize().width +1 , width);\r\n\t\t\t}\r\n            if(width &gt; 300)\r\n                width=300;\r\n\t        columnModel.getColumn(column).setPreferredWidth(width);\r\n\t\t}\r\n\t}\r\n\r\n\r\n![JTable][2]\r\n\r\n*This needs to be executed before the resize method.*  \r\nIf you have:\r\n\r\n    table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n\r\n![JTable][1]\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7XNmQ.png\r\n  [2]: http://i.stack.imgur.com/uGOeo.png","title":"Auto resizing the JTable column widths","body":"<p>You can try the next:</p>\n\n<pre><code>public void resizeColumnWidth(JTable table) {\n    final TableColumnModel columnModel = table.getColumnModel();\n    for (int column = 0; column &lt; table.getColumnCount(); column++) {\n        int width = 15; // Min width\n        for (int row = 0; row &lt; table.getRowCount(); row++) {\n            TableCellRenderer renderer = table.getCellRenderer(row, column);\n            Component comp = table.prepareRenderer(renderer, row, column);\n            width = Math.max(comp.getPreferredSize().width +1 , width);\n        }\n        if(width &gt; 300)\n            width=300;\n        columnModel.getColumn(column).setPreferredWidth(width);\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/uGOeo.png\" alt=\"JTable\"></p>\n\n<p><em>This needs to be executed before the resize method.</em><br>\nIf you have:</p>\n\n<pre><code>table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/7XNmQ.png\" alt=\"JTable\"></p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1373730068,"creation_date":1373730068,"answer_id":17631676,"question_id":17627431,"body_markdown":"There is no option to automatically resize one column larger than the other.\r\n\r\nMaybe you can to something like:\r\n\r\n\r\n    tca = new TableColumnAdjuster( table, 0 );\r\n    tca.adjustColumns();\r\n    TableColumnModel tcm = table.getColumnModel();\t\r\n    TableColumn tc = tcm.getColumn(1);\r\n    tc.setWidth(tc.getWidth() + 25);\r\n\r\nThis would allow you to add extra space to column 1. This extra space would only be added the first time the table is displayed.\r\n\r\nAnother option is to use:\r\n\r\n    table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\r\n\r\nThis would allocate extra space proportionally to each column.\r\n\r\n\r\n","title":"Auto resizing the JTable column widths","body":"<p>There is no option to automatically resize one column larger than the other.</p>\n\n<p>Maybe you can to something like:</p>\n\n<pre><code>tca = new TableColumnAdjuster( table, 0 );\ntca.adjustColumns();\nTableColumnModel tcm = table.getColumnModel();  \nTableColumn tc = tcm.getColumn(1);\ntc.setWidth(tc.getWidth() + 25);\n</code></pre>\n\n<p>This would allow you to add extra space to column 1. This extra space would only be added the first time the table is displayed.</p>\n\n<p>Another option is to use:</p>\n\n<pre><code>table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\n</code></pre>\n\n<p>This would allocate extra space proportionally to each column.</p>\n"},{"tags":[],"owner":{"account_id":5032232,"reputation":27,"user_id":4042087,"display_name":"augus1990"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1486832254,"creation_date":1411033553,"answer_id":25909358,"question_id":17627431,"body_markdown":"You can do this:\r\n\r\n\r\n    JPanel jp = new JPanel();\r\n    jp.add(table);\r\n    \r\n    jp.setLayout(new GridLayout(1,1)); /* little trick ;) and believe me that this step is important to the automatic all columns resize! A import is also needed for using GridLayout*/\r\n    table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS); // this is obvius part\r\n\r\n","title":"Auto resizing the JTable column widths","body":"<p>You can do this:</p>\n\n<pre><code>JPanel jp = new JPanel();\njp.add(table);\n\njp.setLayout(new GridLayout(1,1)); /* little trick ;) and believe me that this step is important to the automatic all columns resize! A import is also needed for using GridLayout*/\ntable.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS); // this is obvius part\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10637495,"reputation":189,"user_id":7833746,"accept_rate":80,"display_name":"Edwin Barahona"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491691434,"creation_date":1491691434,"answer_id":43301100,"question_id":17627431,"body_markdown":"**setAutoResizeMode()** will tell your table how to resize you should give it a try will all different options available to see the differences, in My case I wanted to specifically resize two columns and let it decide how to adjust all the other ones.\r\n\r\n    jTable1.setAutoResizeMode(JTable.AUTO_RESIZE_NEXT_COLUMN);\r\n    TableColumnModel colModel=jTable1.getColumnModel();\r\n    colModel.getColumn(1).setPreferredWidth(25);    \r\n    colModel.getColumn(2).setPreferredWidth(400);\r\n              ","title":"Auto resizing the JTable column widths","body":"<p><strong>setAutoResizeMode()</strong> will tell your table how to resize you should give it a try will all different options available to see the differences, in My case I wanted to specifically resize two columns and let it decide how to adjust all the other ones.</p>\n\n<pre><code>jTable1.setAutoResizeMode(JTable.AUTO_RESIZE_NEXT_COLUMN);\nTableColumnModel colModel=jTable1.getColumnModel();\ncolModel.getColumn(1).setPreferredWidth(25);    \ncolModel.getColumn(2).setPreferredWidth(400);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663349089,"creation_date":1663349089,"answer_id":73748381,"question_id":17627431,"body_markdown":"With a slight modification to [Paul Vargas&#39;s answer][1], you can also take into account the column header size:\r\n\r\n    public static void resizeColumnWidth(JTable table) {\r\n    \tfinal TableColumnModel columnModel = table.getColumnModel();\r\n    \tfor (int column = 0; column &lt; table.getColumnCount(); column++) {\r\n            // Account for header size\r\n    \t\tdouble width = table.getTableHeader().getHeaderRect(column).getWidth();\r\n    \t\tfor (int row = 0; row &lt; table.getRowCount(); row++) {\r\n    \t\t\tTableCellRenderer renderer = table.getCellRenderer(row, column);\r\n    \t\t\tComponent comp = table.prepareRenderer(renderer, row, column);\r\n    \t\t\twidth = Math.max(comp.getPreferredSize().width + 1, width);\r\n    \t\t}\r\n    \t\tif (width &gt; 300)\r\n    \t\t\twidth = 300;\r\n    \t\tcolumnModel.getColumn(column).setPreferredWidth((int) width);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17627497/5645656","title":"Auto resizing the JTable column widths","body":"<p>With a slight modification to <a href=\"https://stackoverflow.com/a/17627497/5645656\">Paul Vargas's answer</a>, you can also take into account the column header size:</p>\n<pre><code>public static void resizeColumnWidth(JTable table) {\n    final TableColumnModel columnModel = table.getColumnModel();\n    for (int column = 0; column &lt; table.getColumnCount(); column++) {\n        // Account for header size\n        double width = table.getTableHeader().getHeaderRect(column).getWidth();\n        for (int row = 0; row &lt; table.getRowCount(); row++) {\n            TableCellRenderer renderer = table.getCellRenderer(row, column);\n            Component comp = table.prepareRenderer(renderer, row, column);\n            width = Math.max(comp.getPreferredSize().width + 1, width);\n        }\n        if (width &gt; 300)\n            width = 300;\n        columnModel.getColumn(column).setPreferredWidth((int) width);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684191237,"creation_date":1684191237,"answer_id":76258381,"question_id":17627431,"body_markdown":"With a slight modification to [Paul Vargas&#39;s answer][1], you can also take into account the column header&#39;s content:\r\n\r\n```\r\npublic static void resizeColumnWidth(JTable table)\r\n{\r\n      TableCellRenderer renderer;\r\n      TableColumn column;\r\n      Component component;\r\n      Object header;\r\n      int rowIndex, minWidth, width;\r\n\r\n      column = table.\r\n         getColumnModel().\r\n         getColumn(colIndex);\r\n\r\n      renderer = table.\r\n         getTableHeader().\r\n         getDefaultRenderer();\r\n\r\n      header    = column.getHeaderValue();\r\n      component = renderer.getTableCellRendererComponent(table, header, false, false, -1, colIndex);\r\n      width     = component.getPreferredSize().width;\r\n      minWidth  = Math.max(width, 0);\r\n\r\n      for (rowIndex = table.getRowCount(); --rowIndex &gt;= 0; )\r\n      {\r\n         renderer  = table.getCellRenderer(rowIndex, colIndex);\r\n         component = table.prepareRenderer(renderer, rowIndex, colIndex);\r\n         width     = component.getPreferredSize().width;\r\n         minWidth  = Math.max(minWidth, width);\r\n      }\r\n\r\n      column.setPreferredWidth(minWidth);\r\n    }\r\n```\r\n\r\nNote: This is different from [Cardinal System&#39;s answer][1] in that this code takes into account the header&#39;s content and Cardinal System&#39;s answer just takes into account the header&#39;s size.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73748381/294317","title":"Auto resizing the JTable column widths","body":"<p>With a slight modification to <a href=\"https://stackoverflow.com/a/73748381/294317\">Paul Vargas's answer</a>, you can also take into account the column header's content:</p>\n<pre><code>public static void resizeColumnWidth(JTable table)\n{\n      TableCellRenderer renderer;\n      TableColumn column;\n      Component component;\n      Object header;\n      int rowIndex, minWidth, width;\n\n      column = table.\n         getColumnModel().\n         getColumn(colIndex);\n\n      renderer = table.\n         getTableHeader().\n         getDefaultRenderer();\n\n      header    = column.getHeaderValue();\n      component = renderer.getTableCellRendererComponent(table, header, false, false, -1, colIndex);\n      width     = component.getPreferredSize().width;\n      minWidth  = Math.max(width, 0);\n\n      for (rowIndex = table.getRowCount(); --rowIndex &gt;= 0; )\n      {\n         renderer  = table.getCellRenderer(rowIndex, colIndex);\n         component = table.prepareRenderer(renderer, rowIndex, colIndex);\n         width     = component.getPreferredSize().width;\n         minWidth  = Math.max(minWidth, width);\n      }\n\n      column.setPreferredWidth(minWidth);\n    }\n</code></pre>\n<p>Note: This is different from <a href=\"https://stackoverflow.com/a/73748381/294317\">Cardinal System's answer</a> in that this code takes into account the header's content and Cardinal System's answer just takes into account the header's size.</p>\n"}],"owner":{"account_id":1684077,"reputation":7175,"user_id":1547699,"accept_rate":77,"display_name":"Anubis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97685,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":17627497,"answer_count":6,"score":35,"last_activity_date":1684191237,"creation_date":1373695066,"question_id":17627431,"body_markdown":"I need my JTable to automatically re-size its column widths to fit the content. I found the [`TableColumnAdjuster`][1] class very useful. But there&#39;s a small problem. Say i have 5 columns, and their content is very short. In that case, if i use the auto adjuster, it sets the first four columns widths according to their content and gives all the rest of space to the last column. Please see the example.\r\n\r\n![enter image description here][2]\r\n\r\nHere the last column, `Balance` is given all the excess space. But what if i need to give that space to one of the middle columns. In the above case, i need to assign that space to the third column, `name`. I tried modifying the `TableColumnAdjuster` class&#39;s `adjustColumns()` method. But I couldn&#39;t get it working.\r\n\r\nI tried both `column.setPreferredWidth()` and `column.setWidth()` for changing column sizes. But seems it doesn&#39;t change anything. How can I effectively change the column sizes of a `JTable`. If there&#39;s some other alternative or a direct answer to my main problem, that&#39;s better. Thanks!\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/11/10/table-column-adjuster/\r\n  [2]: http://i.stack.imgur.com/eWTz7.png","title":"Auto resizing the JTable column widths","body":"<p>I need my JTable to automatically re-size its column widths to fit the content. I found the <a href=\"http://tips4java.wordpress.com/2008/11/10/table-column-adjuster/\" rel=\"noreferrer\"><code>TableColumnAdjuster</code></a> class very useful. But there's a small problem. Say i have 5 columns, and their content is very short. In that case, if i use the auto adjuster, it sets the first four columns widths according to their content and gives all the rest of space to the last column. Please see the example.</p>\n\n<p><img src=\"https://i.stack.imgur.com/eWTz7.png\" alt=\"enter image description here\"></p>\n\n<p>Here the last column, <code>Balance</code> is given all the excess space. But what if i need to give that space to one of the middle columns. In the above case, i need to assign that space to the third column, <code>name</code>. I tried modifying the <code>TableColumnAdjuster</code> class's <code>adjustColumns()</code> method. But I couldn't get it working.</p>\n\n<p>I tried both <code>column.setPreferredWidth()</code> and <code>column.setWidth()</code> for changing column sizes. But seems it doesn't change anything. How can I effectively change the column sizes of a <code>JTable</code>. If there's some other alternative or a direct answer to my main problem, that's better. Thanks!</p>\n"},{"tags":["java","postgresql","jpa","largeobject"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1684189058,"post_id":76257779,"comment_id":134478254,"body_markdown":"Might be better asked on sister site https://dba.stackexchange.com/","body":"Might be better asked on sister site <a href=\"https://dba.stackexchange.com/\">dba.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684189704,"creation_date":1684189704,"answer_id":76258285,"question_id":76257779,"body_markdown":"I solved doing this:\r\n```\r\nalter table the_table\r\n   add content text;\r\n\r\nupdate the_table\r\n  set content = convert_from(lo_get(the_oid_column), &#39;UTF-8&#39;);\r\n\r\nselect lo_unlink(the_oid_column)\r\nfrom the_table; \r\n\r\nalter table the_table\r\n   drop the_oid_column;\r\n```","title":"Postgres migrate from large object to normal column","body":"<p>I solved doing this:</p>\n<pre><code>alter table the_table\n   add content text;\n\nupdate the_table\n  set content = convert_from(lo_get(the_oid_column), 'UTF-8');\n\nselect lo_unlink(the_oid_column)\nfrom the_table; \n\nalter table the_table\n   drop the_oid_column;\n</code></pre>\n"}],"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684189704,"creation_date":1684183096,"question_id":76257779,"body_markdown":"We have a postgres database with a table with about 20K rows.\r\n\r\nThe software is written in java/spring using jpa and developers used large object (@Lob) to store some long strings without worry to the lenght but now, especially with quite large row selects, the queries take a lot of time to execute.\r\n\r\nFirst question is why with large object queries are so slow? It it because every large object require a sort of join with postgres table for large object?\r\n\r\nSecond question is: how can we migrate await from large objects and move to standard columns? At the end we need about 2000-3000 character at maximum.\r\n\r\nI wrote a small java program to to this but the query is so slow that really take lot of time to execute.","title":"Postgres migrate from large object to normal column","body":"<p>We have a postgres database with a table with about 20K rows.</p>\n<p>The software is written in java/spring using jpa and developers used large object (@Lob) to store some long strings without worry to the lenght but now, especially with quite large row selects, the queries take a lot of time to execute.</p>\n<p>First question is why with large object queries are so slow? It it because every large object require a sort of join with postgres table for large object?</p>\n<p>Second question is: how can we migrate await from large objects and move to standard columns? At the end we need about 2000-3000 character at maximum.</p>\n<p>I wrote a small java program to to this but the query is so slow that really take lot of time to execute.</p>\n"},{"tags":["java","gwt"],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684189253,"creation_date":1684189253,"question_id":76258246,"body_markdown":"I&#39;m facing an issue with GWT-RPC which I&#39;m currently struggling to find a solution to. I have this RPC call: \r\n\r\n    public abstract class MyAppOverviewController extends MyAppBaseController {\r\n\r\n        protected void onDelete(final AppEvent event) {\r\n    \t\tClientSession.showDeleting();\r\n    \t\t\r\n    \t\tcommonWebClientServiceAsync.delete(getCommonRequestModel(event, getRequiredDefaultValues()), new AsyncCallback&lt;CommonResponseModel&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onSuccess(CommonResponseModel result) {\r\n    \t\t\t\tforwardToView(view, new AppEvent(event.getType(), result));\r\n    \t\t\t\tevent.setData(null);\r\n    \t\t\t\t\t\t\r\n    \t\t\t\tif (getReloadEvent() != null) {\r\n    \t\t\t\t\tDispatcher.forwardEvent(getReloadEvent());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onFailure(Throwable caught) {\r\n    \t\t\t\tDispatcher.forwardEvent(CommonEvents.Error, caught);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nWhen I run this code, I end up in the onFailure() method and I can see in the browser network tab, that the payload is missing entirely: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N6lm4.png\r\n\r\nThe error message int he caught Throwable is not very telling to me:\r\n\r\n    Error: com.google.gwt.user.client.rpc.StatusCodeException: 0  \r\n        at UPn_g$.A5b_g$ [as createError_0_g$] (myappWebGui-0.js:44938:10)\r\n        at UPn_g$.L5b_g$ [as initializeBackingError_0_g$] (myappWebGui-0.js:45001:44)\r\n        at UPn_g$.u5b_g$ (myappWebGui-0.js:44854:8)\r\n        at UPn_g$.a6b_g$ (myappWebGui-0.js:45119:10)\r\n        at UPn_g$.e6k_g$ (myappWebGui-0.js:287308:10)\r\n        at UPn_g$.WNn_g$ (myappWebGui-0.js:316166:10)\r\n        at new UPn_g$ (myappWebGui-0.js:316719:10)\r\n        at _ao_g$.cbo_g$ [as onResponseReceived_0_g$] (myappWebGui-0.js:323154:21)\r\n        at NSm_g$.QSm_g$ [as fireOnResponseReceived_0_g$] (myappWebGui-0.js:300875:17)\r\n        at CTm_g$.DTm_g$ [as onReadyStateChange_0_g$] (myappWebGui-0.js:301183:28)\r\n        at XMLHttpRequest.&lt;anonymous&gt; (myappWebGui-0.js:332669:18)\r\n        at Lel_g$ (myappWebGui-0.js:288705:28)\r\n        at Oel_g$ (myappWebGui-0.js:288761:16)\r\n        at XMLHttpRequest.&lt;anonymous&gt; (myappWebGui-0.js:288741:14)\r\n        at XMLHttpRequest.qe (http://localhost:8080/eWorld/logstar.js:2:11440)\r\n        at T.invokeTask (http://localhost:8080/eWorld/logstar.js:2:7159)\r\n        at I.runTask (http://localhost:8080/eWorld/logstar.js:2:2554)\r\n        at m.invokeTask [as invoke] (http://localhost:8080/eWorld/logstar.js:2:8210)\r\n        at S (http://localhost:8080/eWorld/logstar.js:2:20109)\r\n        at XMLHttpRequest.D (http://localhost:8080/eWorld/logstar.js:2:20353)\r\n\r\nI&#39;m not very proficient when it come to GWT-RPC debugging. how can I find out what goes wrong here during serialization?","title":"GWT-RPC serialization fails to generate proper payload","body":"<p>I'm facing an issue with GWT-RPC which I'm currently struggling to find a solution to. I have this RPC call:</p>\n<pre><code>public abstract class MyAppOverviewController extends MyAppBaseController {\n\n    protected void onDelete(final AppEvent event) {\n        ClientSession.showDeleting();\n        \n        commonWebClientServiceAsync.delete(getCommonRequestModel(event, getRequiredDefaultValues()), new AsyncCallback&lt;CommonResponseModel&gt;() {\n            @Override\n            public void onSuccess(CommonResponseModel result) {\n                forwardToView(view, new AppEvent(event.getType(), result));\n                event.setData(null);\n                        \n                if (getReloadEvent() != null) {\n                    Dispatcher.forwardEvent(getReloadEvent());\n                }\n            }\n\n            @Override\n            public void onFailure(Throwable caught) {\n                Dispatcher.forwardEvent(CommonEvents.Error, caught);\n            }\n        });\n    }\n}\n</code></pre>\n<p>When I run this code, I end up in the onFailure() method and I can see in the browser network tab, that the payload is missing entirely:</p>\n<p><a href=\"https://i.stack.imgur.com/N6lm4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N6lm4.png\" alt=\"enter image description here\" /></a></p>\n<p>The error message int he caught Throwable is not very telling to me:</p>\n<pre><code>Error: com.google.gwt.user.client.rpc.StatusCodeException: 0  \n    at UPn_g$.A5b_g$ [as createError_0_g$] (myappWebGui-0.js:44938:10)\n    at UPn_g$.L5b_g$ [as initializeBackingError_0_g$] (myappWebGui-0.js:45001:44)\n    at UPn_g$.u5b_g$ (myappWebGui-0.js:44854:8)\n    at UPn_g$.a6b_g$ (myappWebGui-0.js:45119:10)\n    at UPn_g$.e6k_g$ (myappWebGui-0.js:287308:10)\n    at UPn_g$.WNn_g$ (myappWebGui-0.js:316166:10)\n    at new UPn_g$ (myappWebGui-0.js:316719:10)\n    at _ao_g$.cbo_g$ [as onResponseReceived_0_g$] (myappWebGui-0.js:323154:21)\n    at NSm_g$.QSm_g$ [as fireOnResponseReceived_0_g$] (myappWebGui-0.js:300875:17)\n    at CTm_g$.DTm_g$ [as onReadyStateChange_0_g$] (myappWebGui-0.js:301183:28)\n    at XMLHttpRequest.&lt;anonymous&gt; (myappWebGui-0.js:332669:18)\n    at Lel_g$ (myappWebGui-0.js:288705:28)\n    at Oel_g$ (myappWebGui-0.js:288761:16)\n    at XMLHttpRequest.&lt;anonymous&gt; (myappWebGui-0.js:288741:14)\n    at XMLHttpRequest.qe (http://localhost:8080/eWorld/logstar.js:2:11440)\n    at T.invokeTask (http://localhost:8080/eWorld/logstar.js:2:7159)\n    at I.runTask (http://localhost:8080/eWorld/logstar.js:2:2554)\n    at m.invokeTask [as invoke] (http://localhost:8080/eWorld/logstar.js:2:8210)\n    at S (http://localhost:8080/eWorld/logstar.js:2:20109)\n    at XMLHttpRequest.D (http://localhost:8080/eWorld/logstar.js:2:20353)\n</code></pre>\n<p>I'm not very proficient when it come to GWT-RPC debugging. how can I find out what goes wrong here during serialization?</p>\n"},{"tags":["java","apache-spark","k-means","apache-spark-mllib"],"answers":[{"tags":[],"owner":{"account_id":1212221,"reputation":825,"user_id":1180556,"accept_rate":56,"display_name":"MYK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684189151,"creation_date":1684189151,"answer_id":76258242,"question_id":76251623,"body_markdown":"I think you&#39;re missing the random seed:\r\n\r\n    // Set the random seed\r\n    long seed = System.currentTimeMillis();\r\n\r\n    // Create the KMeans instance and set the random seed\r\n    KMeans kmeans = new KMeans().setK(4).setInitMode(&quot;random&quot;).setSeed(seed);\r\n    KMeansModel model = kmeans.fit(ds);\r\n    Dataset&lt;Row&gt; predictions = model.transform(ds);","title":"Spark KMeans produces deterministic results and not random","body":"<p>I think you're missing the random seed:</p>\n<pre><code>// Set the random seed\nlong seed = System.currentTimeMillis();\n\n// Create the KMeans instance and set the random seed\nKMeans kmeans = new KMeans().setK(4).setInitMode(&quot;random&quot;).setSeed(seed);\nKMeansModel model = kmeans.fit(ds);\nDataset&lt;Row&gt; predictions = model.transform(ds);\n</code></pre>\n"}],"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76258242,"answer_count":1,"score":0,"last_activity_date":1684189151,"creation_date":1684134395,"question_id":76251623,"body_markdown":"I am running Spark KMeans and I would like to have random seeds in every run for different results every time, however this is not the case. This is the code that I am using:\r\n\r\n    KMeans kmeans = new KMeans().setK(4).setInitMode(&quot;random&quot;);\r\n    KMeansModel model = kmeans.fit(ds);\r\n    Dataset&lt;Row&gt; predictions = model.transform(ds);\r\n\r\nI always get the same score and the same clusters. Am I missing something in the code? ","title":"Spark KMeans produces deterministic results and not random","body":"<p>I am running Spark KMeans and I would like to have random seeds in every run for different results every time, however this is not the case. This is the code that I am using:</p>\n<pre><code>KMeans kmeans = new KMeans().setK(4).setInitMode(&quot;random&quot;);\nKMeansModel model = kmeans.fit(ds);\nDataset&lt;Row&gt; predictions = model.transform(ds);\n</code></pre>\n<p>I always get the same score and the same clusters. Am I missing something in the code?</p>\n"},{"tags":["java","android","html","google-maps","android-studio"],"comments":[{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":3,"creation_date":1461302931,"post_id":36785542,"comment_id":61146396,"body_markdown":"I don&#39;t think is possible.","body":"I don&#39;t think is possible."},{"owner":{"account_id":964481,"reputation":10573,"user_id":988174,"accept_rate":55,"display_name":"Robert"},"score":0,"creation_date":1461304340,"post_id":36785542,"comment_id":61147003,"body_markdown":"better code format and fixed some grammatical format","body":"better code format and fixed some grammatical format"},{"owner":{"account_id":7728974,"reputation":804,"user_id":5852775,"display_name":"noe"},"score":1,"creation_date":1556111701,"post_id":36785542,"comment_id":98326507,"body_markdown":"The only way, setPadding() from the docs https://developers.google.com/maps/documentation/android-sdk/map#map_padding","body":"The only way, setPadding() from the docs <a href=\"https://developers.google.com/maps/documentation/android-sdk/map#map_padding\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/android-sdk/&hellip;</a>"},{"owner":{"account_id":15620104,"reputation":1184,"user_id":11269204,"display_name":"jabamataro"},"score":0,"creation_date":1627737354,"post_id":36785542,"comment_id":121239077,"body_markdown":"There is a feature request entry in Google Public Issue Tracker to change the properties of my location button: https://issuetracker.google.com/issues/35829640","body":"There is a feature request entry in Google Public Issue Tracker to change the properties of my location button: <a href=\"https://issuetracker.google.com/issues/35829640\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/35829640</a>"}],"answers":[{"tags":[],"owner":{"account_id":6349182,"reputation":3625,"user_id":4928801,"accept_rate":71,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513909261,"creation_date":1461304501,"answer_id":36785946,"question_id":36785542,"body_markdown":"By setting padding to GoogleMap Fragment you can change position of **myLocationButton** but only problem is that it will also change positions of other buttons like zoom .\r\n\r\n\r\n    SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n    mapFragment.getMapAsync(this);\r\n\t\r\n    @Override\r\n    public void onMapReady(GoogleMap map) {  \r\n        map.setPadding(left, top, right, bottom);\r\n    }\r\n\r\n \r\n\r\n\r\n","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>By setting padding to GoogleMap Fragment you can change position of <strong>myLocationButton</strong> but only problem is that it will also change positions of other buttons like zoom .</p>\n\n<pre><code>SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\nmapFragment.getMapAsync(this);\n\n@Override\npublic void onMapReady(GoogleMap map) {  \n    map.setPadding(left, top, right, bottom);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7907612,"reputation":444,"user_id":5972588,"display_name":"Megha Maniar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461304998,"creation_date":1461304998,"answer_id":36786054,"question_id":36785542,"body_markdown":"You can do one thing. You disable the default &quot;My Location&quot; button and make a  custom button at position of your wish and on the click of that button you move camara to current latlng.","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>You can do one thing. You disable the default \"My Location\" button and make a  custom button at position of your wish and on the click of that button you move camara to current latlng.</p>\n"},{"tags":[],"owner":{"account_id":6822646,"reputation":447,"user_id":5249314,"display_name":"Flavius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461305242,"creation_date":1461305242,"answer_id":36786118,"question_id":36785542,"body_markdown":"Unfortunately, you can only set padding, like so:\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n       googleMap.setPadding(left, top, right, bottom);\r\n       ...\r\n    }\r\n\r\nI ended up creating my own and embedding it in a frame layout using `layout_gravity` to specify where I want it, in this case bottom/end:\r\n\r\n    &lt;FrameLayout\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;300dp&quot;&gt;\r\n    \r\n       &lt;fragment\r\n           android:id=&quot;@+id/map&quot;\r\n           android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n           android:layout_width=&quot;match_parent&quot;\r\n           android:layout_height=&quot;match_parent&quot;\r\n           .../&gt;\r\n               \r\n    \r\n         &lt;ImageView\r\n           android:id=&quot;@+id/myLocationCustomButton&quot;\r\n           android:layout_width=&quot;@dimen/custom_my_location_button_size&quot;\r\n           android:layout_height=&quot;@dimen/custom_my_location_button_size&quot;\r\n           android:layout_gravity=&quot;bottom|end&quot;\r\n           android:background=&quot;@drawable/disc&quot;\r\n           android:backgroundTint=&quot;@android:color/white&quot;\r\n           android:padding=&quot;@dimen/margin_smallest&quot;\r\n           android:src=&quot;@drawable/ic_my_location&quot;\r\n           ../&gt;\r\n    &lt;/FrameLayout&gt;\r\n           \r\nThen, in the activity, I initialized and started a google api client which I can use to fetch current location when needed by the button during a click, see the button click listener below:\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        ...\r\n        if (googleApiClient == null) {\r\n            googleApiClient = new GoogleApiClient.Builder(this)\r\n                    .addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this)\r\n                    .addApi(LocationServices.API)\r\n                    .build();\r\n        }\r\n\r\n        myLocationButton = rootView.findViewById(R.id.myLocationCustomButton);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        googleApiClient.connect();\r\n        super.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        googleApiClient.disconnect();\r\n        super.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(@Nullable Bundle bundle) {\r\n        myLocationButton.performClick();\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(final GoogleMap googleMap) {\r\n        this.googleMap = googleMap;\r\n        \r\n        myLocationButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Location location = LocationServices.FusedLocationApi.getLastLocation(googleApiClient);\r\n                CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(), location.getLongitude()), 16);\r\n                MainActivity.this.googleMap.animateCamera(cameraUpdate, 250, null);\r\n            }\r\n        });\r\n\r\nMy app sub-module&#39;s `build.gradle` also has:\r\n\r\n    ext {\r\n        playServicesVersion = &quot;8.4.0&quot;\r\n    }\r\n    \r\n    dependencies {\r\n       ...     \r\n       compile &quot;com.google.android.gms:play-services-location:${playServicesVersion}&quot;\r\n       ...\r\n    }\r\n\r\nHope that helps.","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>Unfortunately, you can only set padding, like so:</p>\n\n<pre><code>@Override\npublic void onMapReady(GoogleMap googleMap) {\n   googleMap.setPadding(left, top, right, bottom);\n   ...\n}\n</code></pre>\n\n<p>I ended up creating my own and embedding it in a frame layout using <code>layout_gravity</code> to specify where I want it, in this case bottom/end:</p>\n\n<pre><code>&lt;FrameLayout\n   android:layout_width=\"match_parent\"\n   android:layout_height=\"300dp\"&gt;\n\n   &lt;fragment\n       android:id=\"@+id/map\"\n       android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n       android:layout_width=\"match_parent\"\n       android:layout_height=\"match_parent\"\n       .../&gt;\n\n\n     &lt;ImageView\n       android:id=\"@+id/myLocationCustomButton\"\n       android:layout_width=\"@dimen/custom_my_location_button_size\"\n       android:layout_height=\"@dimen/custom_my_location_button_size\"\n       android:layout_gravity=\"bottom|end\"\n       android:background=\"@drawable/disc\"\n       android:backgroundTint=\"@android:color/white\"\n       android:padding=\"@dimen/margin_smallest\"\n       android:src=\"@drawable/ic_my_location\"\n       ../&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Then, in the activity, I initialized and started a google api client which I can use to fetch current location when needed by the button during a click, see the button click listener below:</p>\n\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    ...\n    if (googleApiClient == null) {\n        googleApiClient = new GoogleApiClient.Builder(this)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .addApi(LocationServices.API)\n                .build();\n    }\n\n    myLocationButton = rootView.findViewById(R.id.myLocationCustomButton);\n}\n\n@Override\nprotected void onStart() {\n    googleApiClient.connect();\n    super.onStart();\n}\n\n@Override\nprotected void onStop() {\n    googleApiClient.disconnect();\n    super.onStop();\n}\n\n@Override\npublic void onConnected(@Nullable Bundle bundle) {\n    myLocationButton.performClick();\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n}\n\n@Override\npublic void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n}\n\n@Override\npublic void onMapReady(final GoogleMap googleMap) {\n    this.googleMap = googleMap;\n\n    myLocationButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Location location = LocationServices.FusedLocationApi.getLastLocation(googleApiClient);\n            CameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(), location.getLongitude()), 16);\n            MainActivity.this.googleMap.animateCamera(cameraUpdate, 250, null);\n        }\n    });\n</code></pre>\n\n<p>My app sub-module's <code>build.gradle</code> also has:</p>\n\n<pre><code>ext {\n    playServicesVersion = \"8.4.0\"\n}\n\ndependencies {\n   ...     \n   compile \"com.google.android.gms:play-services-location:${playServicesVersion}\"\n   ...\n}\n</code></pre>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":8160069,"reputation":396,"user_id":6144356,"display_name":"Yashwanth Masetty"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1475244501,"creation_date":1461309480,"answer_id":36787406,"question_id":36785542,"body_markdown":"you can use this\r\n\r\n    View locationButton = ((View) mMapView.findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n    RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\r\n    // position on right bottom\r\n    rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n    rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n    rlp.setMargins(0, 180, 180, 0);","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>you can use this</p>\n\n<pre><code>View locationButton = ((View) mMapView.findViewById(Integer.parseInt(\"1\")).getParent()).findViewById(Integer.parseInt(\"2\"));\nRelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\n// position on right bottom\nrlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\nrlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\nrlp.setMargins(0, 180, 180, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9066665,"reputation":1023,"user_id":6751239,"accept_rate":25,"display_name":"Priya Jagtap"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1472287363,"creation_date":1472287363,"answer_id":39179202,"question_id":36785542,"body_markdown":"I solved this problem in my map fragment by re positioning my location button to the right bottom corner of view using code below, here is my \r\nMapsActivity.java :-\r\n\r\n  \r\n    \r\n    import android.support.v4.app.FragmentActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.RelativeLayout;\r\n    \r\n    import com.google.android.gms.maps.CameraUpdateFactory;\r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    import com.google.android.gms.maps.model.MarkerOptions;\r\n    \r\n    public class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n    \r\n        private GoogleMap mMap;\r\n        View mapView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.fragment_map);\r\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map);\r\n            mapView = mapFragment.getView();\r\n            mapFragment.getMapAsync(this);\r\n                }\r\n    \r\n        /**\r\n         * Manipulates the map once available.\r\n         * This callback is triggered when the map is ready to be used.\r\n         * This is where we can add markers or lines, add listeners or move the camera. In this case,\r\n         * we just add a marker near Sydney, Australia.\r\n         * If Google Play services is not installed on the device, the user will be prompted to install\r\n         * it inside the SupportMapFragment. This method will only be triggered once the user has\r\n         * installed Google Play services and returned to the app.\r\n         */\r\n        @Override\r\n        public void onMapReady(GoogleMap googleMap) {\r\n            mMap = googleMap;\r\n            mMap.setMyLocationEnabled(true);\r\n    \r\n            // Add a marker in Sydney and move the camera\r\n            LatLng sydney = new LatLng(-34, 151);\r\n            mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\r\n    \r\n            if (mapView != null &amp;&amp;\r\n                    mapView.findViewById(Integer.parseInt(&quot;1&quot;)) != null) {\r\n                // Get the button view\r\n                View locationButton = ((View) mapView.findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n                // and next place it, on bottom right (as Google Maps app)\r\n                RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams)\r\n                        locationButton.getLayoutParams();\r\n                // position on right bottom\r\n                layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n                layoutParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                layoutParams.setMargins(0, 0, 30, 30);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd here is layout of fragment :-\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.infogird.www.location_button_reposition.MapFragment&quot;&gt;\r\n    \r\n        &lt;fragment xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:id=&quot;@+id/map&quot;\r\n            android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\nI hope, this will solve your problem. Thanks.\r\n\r\n","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>I solved this problem in my map fragment by re positioning my location button to the right bottom corner of view using code below, here is my \nMapsActivity.java :-</p>\n\n<pre><code>import android.support.v4.app.FragmentActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.RelativeLayout;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    View mapView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_map);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapView = mapFragment.getView();\n        mapFragment.getMapAsync(this);\n            }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mMap.setMyLocationEnabled(true);\n\n        // Add a marker in Sydney and move the camera\n        LatLng sydney = new LatLng(-34, 151);\n        mMap.addMarker(new MarkerOptions().position(sydney).title(\"Marker in Sydney\"));\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));\n\n        if (mapView != null &amp;&amp;\n                mapView.findViewById(Integer.parseInt(\"1\")) != null) {\n            // Get the button view\n            View locationButton = ((View) mapView.findViewById(Integer.parseInt(\"1\")).getParent()).findViewById(Integer.parseInt(\"2\"));\n            // and next place it, on bottom right (as Google Maps app)\n            RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams)\n                    locationButton.getLayoutParams();\n            // position on right bottom\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n            layoutParams.setMargins(0, 0, 30, 30);\n        }\n\n    }\n}\n</code></pre>\n\n<p>And here is layout of fragment :-</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.infogird.www.location_button_reposition.MapFragment\"&gt;\n\n    &lt;fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:map=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/map\"\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>I hope, this will solve your problem. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":9126526,"reputation":444,"user_id":6789978,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1498043530,"creation_date":1498043530,"answer_id":44674481,"question_id":36785542,"body_markdown":"You can use below code for all conditions such as:\r\n1.If you want show location button in top-right\r\n2.If you want show location button in bottom-right\r\n3.If you want show location button in bottom-left\r\n\r\n1.If you want to show location button in top-right\r\n\r\n    View locationButton = ((View) mapView.findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n                RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\r\n                // position on right bottom\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\r\n\r\n\r\n2.If you want show location button in bottom-right\r\n\r\n     View locationButton = ((View) mapView.findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n                RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\r\n                // position on right bottom\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);rlp.setMargins(0,0,30,30);\r\n\r\n\r\n\r\n\r\n3.If you want show location button in bottom-left\r\n\r\n     View locationButton = ((View) mapView.findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n                RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\r\n                // position on right bottom\r\n        \r\n\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_RIGHT, 0);\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n\r\n                 rlp.addRule(RelativeLayout.ALIGN_PARENT_END, 0);\r\n                rlp.addRule(RelativeLayout.ALIGN_END, 0);\r\n                rlp.addRule(RelativeLayout.ALIGN_PARENT_LEFT);\r\n                rlp.setMargins(30, 0, 0, 40);\r\n\r\n\r\n\r\nBest of Luck\r\n\r\n\r\n","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>You can use below code for all conditions such as:\n1.If you want show location button in top-right\n2.If you want show location button in bottom-right\n3.If you want show location button in bottom-left</p>\n\n<p>1.If you want to show location button in top-right</p>\n\n<pre><code>View locationButton = ((View) mapView.findViewById(Integer.parseInt(\"1\")).getParent()).findViewById(Integer.parseInt(\"2\"));\n            RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\n            // position on right bottom\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n</code></pre>\n\n<p>2.If you want show location button in bottom-right</p>\n\n<pre><code> View locationButton = ((View) mapView.findViewById(Integer.parseInt(\"1\")).getParent()).findViewById(Integer.parseInt(\"2\"));\n            RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\n            // position on right bottom\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);rlp.setMargins(0,0,30,30);\n</code></pre>\n\n<p>3.If you want show location button in bottom-left</p>\n\n<pre><code> View locationButton = ((View) mapView.findViewById(Integer.parseInt(\"1\")).getParent()).findViewById(Integer.parseInt(\"2\"));\n            RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\n            // position on right bottom\n\n\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_LEFT, RelativeLayout.TRUE);\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_RIGHT, 0);\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\n\n             rlp.addRule(RelativeLayout.ALIGN_PARENT_END, 0);\n            rlp.addRule(RelativeLayout.ALIGN_END, 0);\n            rlp.addRule(RelativeLayout.ALIGN_PARENT_LEFT);\n            rlp.setMargins(30, 0, 0, 40);\n</code></pre>\n\n<p>Best of Luck</p>\n"},{"tags":[],"owner":{"account_id":5449643,"reputation":658,"user_id":4334920,"display_name":"Renish Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503492681,"creation_date":1503492324,"answer_id":45840128,"question_id":36785542,"body_markdown":"Its work display My Location Button Bottom Right Corner on MapView\r\n\r\n&gt; XML\r\n\r\n    &lt;com.google.android.gms.maps.MapView\r\n        android:id=&quot;@+id/mapView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&gt; JAVA\r\n\r\n    private MapView mMapView;\r\n\r\n    mMapView = (MapView) findViewById(R.id.mapView);\r\n\r\n    mMapView.getMapAsync(new OnMapReadyCallback() {\r\n        @Override\r\n        public void onMapReady(final GoogleMap mMap) {\r\n            if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                mMap.setMyLocationEnabled(true);\r\n            }\r\n    \r\n            if (mMapView != null &amp;&amp; mMapView.findViewById(Integer.parseInt(&quot;1&quot;)) != null) {\r\n                View locationButton = ((View) mMapView.findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n                RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\r\n                layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n                layoutParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n                layoutParams.setMargins(0, 0, 20, 20);\r\n            }\r\n        }\r\n    });","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>Its work display My Location Button Bottom Right Corner on MapView</p>\n\n<blockquote>\n  <p>XML</p>\n</blockquote>\n\n<pre><code>&lt;com.google.android.gms.maps.MapView\n    android:id=\"@+id/mapView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>JAVA</p>\n</blockquote>\n\n<pre><code>private MapView mMapView;\n\nmMapView = (MapView) findViewById(R.id.mapView);\n\nmMapView.getMapAsync(new OnMapReadyCallback() {\n    @Override\n    public void onMapReady(final GoogleMap mMap) {\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            mMap.setMyLocationEnabled(true);\n        }\n\n        if (mMapView != null &amp;&amp; mMapView.findViewById(Integer.parseInt(\"1\")) != null) {\n            View locationButton = ((View) mMapView.findViewById(Integer.parseInt(\"1\")).getParent()).findViewById(Integer.parseInt(\"2\"));\n            RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n            layoutParams.setMargins(0, 0, 20, 20);\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10807795,"reputation":1449,"user_id":7949386,"display_name":"ByteSlinger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1519859119,"creation_date":1519852139,"answer_id":49038586,"question_id":36785542,"body_markdown":"I know it&#39;s been answered and accepted but these answers didn&#39;t work for me.  Perhaps there have been changes in the RelativeLayout.LayoutParams or even in GoogleMaps since it was answered.\r\n\r\nIn my attempts with the existing answers I realized that there may be more LayoutParam rules for the compass button that are overriding my attempts to move the compass button where I wanted it.  I experimented by removing several params like this:\r\n\r\n    RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams)\r\n                    locationButton.getLayoutParams();\r\n\r\n    layoutParams.removeRule(RelativeLayout.ALIGN_PARENT_TOP);\r\n    layoutParams.removeRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\r\n    layoutParams.removeRule(RelativeLayout.ALIGN_PARENT_START);\r\n    layoutParams.removeRule(RelativeLayout.ALIGN_PARENT_END);\r\n\r\nAnd then adding the new rules as they did in several of the answers.  But it still did not work as expected.  More often than not, the button stayed somewhere on the left side.\r\n\r\nI decided to just create new LayoutParams and replace the existing ones and ... it worked perfectly!\r\n\r\nI originally used the view tag for `GoogleMapCompass`, but the question pertained to the `GoogleMapMyLocationButton`. So I commented out the `GoogleMapCompass` line and put in the `GoogleMapMyLocationButton` line.\r\n\r\nHere is the code for MapFragment.java:\r\n\r\n    import android.app.Fragment;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.RelativeLayout;\r\n    \r\n    import com.google.android.gms.maps.GoogleMap;\r\n    import com.google.android.gms.maps.OnMapReadyCallback;\r\n    import com.google.android.gms.maps.SupportMapFragment;\r\n    \r\n    \r\n    public class MapFragment extends Fragment implements OnMapReadyCallback {\r\n    \tprivate static final String TAG = MapFragment.class.getSimpleName();\r\n    \r\n    \tprivate SupportMapFragment mapFragment = null;\r\n    \r\n    \tpublic MapFragment() {\r\n    \t\t// Required empty public constructor\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedState) {\r\n    \t\t// Inflate the layout for this fragment\r\n    \t\tView view = inflater.inflate(R.layout.fragment_map, container, false);\r\n    \r\n    \t\tLog.d(TAG, &quot;onCreateView()&quot;);\r\n    \r\n    \t\tmapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\r\n    \t\tmapFragment.setRetainInstance(true);\r\n    \r\n    \t\tmapFragment.getMapAsync(this);\r\n    \r\n    \t\treturn view.findViewById(R.id.map);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onMapReady(GoogleMap googleMap) {\r\n    \t\tLog.d(TAG, &quot;onMapReady()&quot;);\r\n    \r\n    \t\tView mapView = mapFragment.getView();\r\n    \r\n    \t\tmoveCompassButton(mapView);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Move the compass button to the right side, centered vertically.\r\n    \t */\r\n    \tpublic void moveCompassButton(View mapView) {\r\n    \t\ttry {\r\n    \t\t\tassert mapView != null; // skip this if the mapView has not been set yet\r\n    \r\n    \t\t\tLog.d(TAG, &quot;moveCompassButton()&quot;);\r\n    \r\n    \t\t\t// View view = mapView.findViewWithTag(&quot;GoogleMapCompass&quot;);\r\n    \t\t\tView view = mapView.findViewWithTag(&quot;GoogleMapMyLocationButton&quot;);\r\n    \r\n    \t\t\t// move the compass button to the right side, centered\r\n    \t\t\tRelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);\r\n    \r\n    \t\t\tlayoutParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT, RelativeLayout.TRUE);\r\n    \t\t\tlayoutParams.addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\r\n    \t\t\tlayoutParams.addRule(RelativeLayout.CENTER_VERTICAL);\r\n    \t\t\tlayoutParams.setMarginEnd(18);\r\n    \r\n    \t\t\tview.setLayoutParams(layoutParams);\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tLog.e(TAG, &quot;moveCompassButton() - failed: &quot; + ex.getLocalizedMessage());\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>I know it's been answered and accepted but these answers didn't work for me.  Perhaps there have been changes in the RelativeLayout.LayoutParams or even in GoogleMaps since it was answered.</p>\n\n<p>In my attempts with the existing answers I realized that there may be more LayoutParam rules for the compass button that are overriding my attempts to move the compass button where I wanted it.  I experimented by removing several params like this:</p>\n\n<pre><code>RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams)\n                locationButton.getLayoutParams();\n\nlayoutParams.removeRule(RelativeLayout.ALIGN_PARENT_TOP);\nlayoutParams.removeRule(RelativeLayout.ALIGN_PARENT_BOTTOM);\nlayoutParams.removeRule(RelativeLayout.ALIGN_PARENT_START);\nlayoutParams.removeRule(RelativeLayout.ALIGN_PARENT_END);\n</code></pre>\n\n<p>And then adding the new rules as they did in several of the answers.  But it still did not work as expected.  More often than not, the button stayed somewhere on the left side.</p>\n\n<p>I decided to just create new LayoutParams and replace the existing ones and ... it worked perfectly!</p>\n\n<p>I originally used the view tag for <code>GoogleMapCompass</code>, but the question pertained to the <code>GoogleMapMyLocationButton</code>. So I commented out the <code>GoogleMapCompass</code> line and put in the <code>GoogleMapMyLocationButton</code> line.</p>\n\n<p>Here is the code for MapFragment.java:</p>\n\n<pre><code>import android.app.Fragment;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.RelativeLayout;\n\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\n\n\npublic class MapFragment extends Fragment implements OnMapReadyCallback {\n    private static final String TAG = MapFragment.class.getSimpleName();\n\n    private SupportMapFragment mapFragment = null;\n\n    public MapFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\n\n        Log.d(TAG, \"onCreateView()\");\n\n        mapFragment = (SupportMapFragment) getChildFragmentManager().findFragmentById(R.id.map);\n        mapFragment.setRetainInstance(true);\n\n        mapFragment.getMapAsync(this);\n\n        return view.findViewById(R.id.map);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        Log.d(TAG, \"onMapReady()\");\n\n        View mapView = mapFragment.getView();\n\n        moveCompassButton(mapView);\n    }\n\n    /**\n     * Move the compass button to the right side, centered vertically.\n     */\n    public void moveCompassButton(View mapView) {\n        try {\n            assert mapView != null; // skip this if the mapView has not been set yet\n\n            Log.d(TAG, \"moveCompassButton()\");\n\n            // View view = mapView.findViewWithTag(\"GoogleMapCompass\");\n            View view = mapView.findViewWithTag(\"GoogleMapMyLocationButton\");\n\n            // move the compass button to the right side, centered\n            RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);\n\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT, RelativeLayout.TRUE);\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_END, RelativeLayout.TRUE);\n            layoutParams.addRule(RelativeLayout.CENTER_VERTICAL);\n            layoutParams.setMarginEnd(18);\n\n            view.setLayoutParams(layoutParams);\n        } catch (Exception ex) {\n            Log.e(TAG, \"moveCompassButton() - failed: \" + ex.getLocalizedMessage());\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":952685,"reputation":1291,"user_id":1063214,"display_name":"Tauri"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1520907669,"creation_date":1520907669,"answer_id":49247322,"question_id":36785542,"body_markdown":"Kotlin version of accepted answer (for bottom-right) (because autoconvert fails with this code)\r\n\r\n     val locationButton= (mapView.findViewById&lt;View&gt;(Integer.parseInt(&quot;1&quot;)).parent as View).findViewById&lt;View&gt;(Integer.parseInt(&quot;2&quot;))\r\n     val rlp=locationButton.layoutParams as (RelativeLayout.LayoutParams)\r\n     // position on right bottom\r\n     rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP,0)\r\n     rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,RelativeLayout.TRUE)\r\n     rlp.setMargins(0,0,30,30);\r\n\r\n         ","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>Kotlin version of accepted answer (for bottom-right) (because autoconvert fails with this code)</p>\n\n<pre><code> val locationButton= (mapView.findViewById&lt;View&gt;(Integer.parseInt(\"1\")).parent as View).findViewById&lt;View&gt;(Integer.parseInt(\"2\"))\n val rlp=locationButton.layoutParams as (RelativeLayout.LayoutParams)\n // position on right bottom\n rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP,0)\n rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,RelativeLayout.TRUE)\n rlp.setMargins(0,0,30,30);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12180882,"reputation":368,"user_id":8892336,"display_name":"Arafat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553178290,"creation_date":1553176813,"answer_id":55282155,"question_id":36785542,"body_markdown":"Add this code in `onCreate` method after the `mapFragment.getMapAsync(this)`. It will place your **My Location** button in bottom right.\r\n\r\n    View locationButton = ((View) mapFragment.getView().findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n    RelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\r\n    rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n    rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n    rlp.setMargins(0, 0, 30, 30);\r\n","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>Add this code in <code>onCreate</code> method after the <code>mapFragment.getMapAsync(this)</code>. It will place your <strong>My Location</strong> button in bottom right.</p>\n\n<pre><code>View locationButton = ((View) mapFragment.getView().findViewById(Integer.parseInt(\"1\")).getParent()).findViewById(Integer.parseInt(\"2\"));\nRelativeLayout.LayoutParams rlp = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\nrlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\nrlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\nrlp.setMargins(0, 0, 30, 30);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13262011,"reputation":111,"user_id":9576275,"display_name":"Yash Doshi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1566218829,"creation_date":1566218829,"answer_id":57557081,"question_id":36785542,"body_markdown":"Kotlin Version for MapFragment of Accepted Answer\r\n\r\n    val locationButton = (mapFragment.view?.findViewById&lt;View&gt;(Integer.parseInt(&quot;1&quot;))?.parent as View).findViewById&lt;View&gt;(Integer.parseInt(&quot;2&quot;))\r\n                        val rlp =  locationButton.getLayoutParams() as RelativeLayout.LayoutParams\r\n                        rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0)\r\n                        rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE)\r\n                        rlp.setMargins(0, 0, 30, 30)","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>Kotlin Version for MapFragment of Accepted Answer</p>\n\n<pre><code>val locationButton = (mapFragment.view?.findViewById&lt;View&gt;(Integer.parseInt(\"1\"))?.parent as View).findViewById&lt;View&gt;(Integer.parseInt(\"2\"))\n                    val rlp =  locationButton.getLayoutParams() as RelativeLayout.LayoutParams\n                    rlp.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0)\n                    rlp.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE)\n                    rlp.setMargins(0, 0, 30, 30)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3222742,"reputation":175,"user_id":2719757,"display_name":"Youssef Maouche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606481579,"creation_date":1606481579,"answer_id":65037713,"question_id":36785542,"body_markdown":"Kotlin\r\n\r\n`var locationButton =mMapView.findViewWithTag(&quot;GoogleMapMyLocationButton&quot;)`\r\n\r\nJava\r\n\r\n`View locationButton =mMapView.findViewWithTag(&quot;GoogleMapMyLocationButton&quot;)`\r\n","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>Kotlin</p>\n<p><code>var locationButton =mMapView.findViewWithTag(&quot;GoogleMapMyLocationButton&quot;)</code></p>\n<p>Java</p>\n<p><code>View locationButton =mMapView.findViewWithTag(&quot;GoogleMapMyLocationButton&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":4175959,"reputation":4744,"user_id":3422470,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625109964,"creation_date":1625109964,"answer_id":68203898,"question_id":36785542,"body_markdown":"In my case, I wanted to **move the location button** because I was viewing the Google Map in immersive / fullscreen mode and having the app theme&#39;s DisplayCutoutMode set to `shortEdges`: \r\n\r\n        &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\r\n\r\nAs a result, the camera display cutout of a Galaxy s10 blocked the view of the current location button since the in-display camera was in the top-right of the screen. You may also want to do this if you have the map display under the statusbar. In these cases, we need the location button to fitSystemWindow. Here&#39;s some Kotlin code I added right after I set `googleMap.isMyLocationEnabled` to `true`..\r\n\r\n1) **Get a reference** to the button:\r\n\r\n        val locationButton: View? = fragmentContainerView.findViewWithTag(&quot;GoogleMapMyLocationButton&quot;)\r\n\r\n2) **Apply any changes** you need to the button. In my case, I want the button to fit the system window:\r\n\r\n        locationButton?.fitsSystemWindows = true","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>In my case, I wanted to <strong>move the location button</strong> because I was viewing the Google Map in immersive / fullscreen mode and having the app theme's DisplayCutoutMode set to <code>shortEdges</code>:</p>\n<pre><code>    &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\n</code></pre>\n<p>As a result, the camera display cutout of a Galaxy s10 blocked the view of the current location button since the in-display camera was in the top-right of the screen. You may also want to do this if you have the map display under the statusbar. In these cases, we need the location button to fitSystemWindow. Here's some Kotlin code I added right after I set <code>googleMap.isMyLocationEnabled</code> to <code>true</code>..</p>\n<ol>\n<li><p><strong>Get a reference</strong> to the button:</p>\n<pre><code> val locationButton: View? = fragmentContainerView.findViewWithTag(&quot;GoogleMapMyLocationButton&quot;)\n</code></pre>\n</li>\n<li><p><strong>Apply any changes</strong> you need to the button. In my case, I want the button to fit the system window:</p>\n<pre><code> locationButton?.fitsSystemWindows = true\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26741923,"reputation":1,"user_id":20342581,"display_name":"Muhammad Hassan Idrees"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683914668,"creation_date":1683914668,"answer_id":76238915,"question_id":36785542,"body_markdown":"public void onMapReady(GoogleMap googleMap) {\r\n        this.googleMap = googleMap;\r\n\r\n        //        get location current location and customization of current location button\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            return;\r\n        }\r\n        googleMap.setMyLocationEnabled(true);\r\n        googleMap.getUiSettings().setMyLocationButtonEnabled(true);\r\n        googleMap.setPadding(0, 130, 18, 0);\r\n    }","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>public void onMapReady(GoogleMap googleMap) {\nthis.googleMap = googleMap;</p>\n<pre><code>    //        get location current location and customization of current location button\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n        return;\n    }\n    googleMap.setMyLocationEnabled(true);\n    googleMap.getUiSettings().setMyLocationButtonEnabled(true);\n    googleMap.setPadding(0, 130, 18, 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26741923,"reputation":1,"user_id":20342581,"display_name":"Muhammad Hassan Idrees"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684188954,"creation_date":1683916682,"answer_id":76239100,"question_id":36785542,"body_markdown":"You can use this\r\n\r\n      public void onMapReady(GoogleMap googleMap) {\r\n            this.googleMap = googleMap;\r\n    \r\n            // get location current location and customization of current location button\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                return;\r\n            }\r\n            googleMap.setMyLocationEnabled(true);\r\n            View locationButton = ((View) mapFragment.getView().findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n            RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\r\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\r\n            layoutParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\r\n            layoutParams.setMargins(0, 0, 0, 20);\r\n        }","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>You can use this</p>\n<pre><code>  public void onMapReady(GoogleMap googleMap) {\n        this.googleMap = googleMap;\n\n        // get location current location and customization of current location button\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n            return;\n        }\n        googleMap.setMyLocationEnabled(true);\n        View locationButton = ((View) mapFragment.getView().findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\n        RelativeLayout.LayoutParams layoutParams = (RelativeLayout.LayoutParams) locationButton.getLayoutParams();\n        layoutParams.addRule(RelativeLayout.ALIGN_PARENT_TOP, 0);\n        layoutParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM, RelativeLayout.TRUE);\n        layoutParams.setMargins(0, 0, 0, 20);\n    }\n</code></pre>\n"}],"owner":{"display_name":"user5710756"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67617,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":36787406,"answer_count":15,"score":37,"last_activity_date":1684188954,"creation_date":1461302905,"question_id":36785542,"body_markdown":"I am working on google maps, and I need to change position of My Location(current location button). Presently current location button is at top-right side. So please help me how to re-position the current location button on google maps screen. Thanks in advance.\r\n\r\nmy sample code:\r\n\r\n    final GoogleMap googleMap = mMapView.getMap();\r\n    googleMap.setMyLocationEnabled(true);\r\n\r\n","title":"How to change the position of My Location Button in Google Maps using android studio","body":"<p>I am working on google maps, and I need to change position of My Location(current location button). Presently current location button is at top-right side. So please help me how to re-position the current location button on google maps screen. Thanks in advance.</p>\n\n<p>my sample code:</p>\n\n<pre><code>final GoogleMap googleMap = mMapView.getMap();\ngoogleMap.setMyLocationEnabled(true);\n</code></pre>\n"},{"tags":["java","tensorflow","onnx","deeplearning4j","onnxruntime"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684188752,"creation_date":1684188365,"answer_id":76258197,"question_id":76254924,"body_markdown":"You can check our nd4j-onnxruntime module for that. We don&#39;t directly use the normal bindings though. We use javacpp&#39;s onnxruntime. The concept should be similar though:\r\n```\r\n Pointer inputTensorValuesPtr = ndArray.data().pointer();\r\n        Pointer inputTensorValues = inputTensorValuesPtr;\r\n        long sizeInBytes = ndArray.length() * ndArray.data().getElementSize();\r\n\r\n        /**\r\n         *   static Value CreateTensor(const OrtMemoryInfo* info, void* p_data, size_t p_data_byte_count, const int64_t* shape, size_t shape_len,\r\n         *                             ONNXTensorElementDataType type)\r\n         */\r\n        LongPointer dims = new LongPointer(ndArray.shape());\r\n        Value ret =  Value.CreateTensor(\r\n                memoryInfo.asOrtMemoryInfo(),\r\n                inputTensorValues,\r\n                sizeInBytes,\r\n                dims,\r\n                ndArray.rank(),\r\n                onnxTypeForDataType(ndArray.dataType()));\r\n```\r\n\r\nNote that using NIOfloat and other similar concepts creates unnecessary overhead. Please consider using our interop module if possible.\r\n\r\nYou can see above with our own interop the data should just work as is.\r\n\r\n\r\nI don&#39;t have much experience with the original onnxruntime bindings but I would check 2 points:\r\n1. How the data&#39;s being converted\r\n2. The ordering of the data. If your data is in f ordering you might have issues. If ordering of the data is the issue you can do ndarray.dup(&#39;c&#39;) and that should fix your issue. That again incurs overhead twice though. Once for reordering the data and another for converting the data to NIO.","title":"Problems converting deepLearning4j array to ONNX Tensor","body":"<p>You can check our nd4j-onnxruntime module for that. We don't directly use the normal bindings though. We use javacpp's onnxruntime. The concept should be similar though:</p>\n<pre><code> Pointer inputTensorValuesPtr = ndArray.data().pointer();\n        Pointer inputTensorValues = inputTensorValuesPtr;\n        long sizeInBytes = ndArray.length() * ndArray.data().getElementSize();\n\n        /**\n         *   static Value CreateTensor(const OrtMemoryInfo* info, void* p_data, size_t p_data_byte_count, const int64_t* shape, size_t shape_len,\n         *                             ONNXTensorElementDataType type)\n         */\n        LongPointer dims = new LongPointer(ndArray.shape());\n        Value ret =  Value.CreateTensor(\n                memoryInfo.asOrtMemoryInfo(),\n                inputTensorValues,\n                sizeInBytes,\n                dims,\n                ndArray.rank(),\n                onnxTypeForDataType(ndArray.dataType()));\n</code></pre>\n<p>Note that using NIOfloat and other similar concepts creates unnecessary overhead. Please consider using our interop module if possible.</p>\n<p>You can see above with our own interop the data should just work as is.</p>\n<p>I don't have much experience with the original onnxruntime bindings but I would check 2 points:</p>\n<ol>\n<li>How the data's being converted</li>\n<li>The ordering of the data. If your data is in f ordering you might have issues. If ordering of the data is the issue you can do ndarray.dup('c') and that should fix your issue. That again incurs overhead twice though. Once for reordering the data and another for converting the data to NIO.</li>\n</ol>\n"}],"owner":{"account_id":4191995,"reputation":67,"user_id":3434397,"accept_rate":50,"display_name":"IgnacioPL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684188752,"creation_date":1684159544,"question_id":76254924,"body_markdown":"I&#39;m currently reading an image with deepLearning4j and trying to pass it to ONNX is giving me problems.\r\n\r\n```java\r\nINDArray ndArray =  loader.asMatrix(mat3).permute(0,2,3,1);\r\n\r\nOnnxTensor tensor = OnnxTensor.createTensor(env, ndArray.data().asNioFloat(), ndArray.shape());\r\n```\r\n\r\nThe problems is that they are not the same. The INDArray is like this:\r\n```\r\n[[[[  103.0000   41.0000  155.0000] \r\n   [  103.0000   42.0000  154.0000] \r\n   [  102.0000   44.0000  153.0000] \r\n   [  101.0000   45.0000  152.0000] \r\n   [  101.0000   45.0000  152.0000] \r\n   .....\r\n```\r\n\r\nAnd the ONNX tensor is like this:\r\n```\r\n[103.0, 103.0, 102.0]\r\n[101.0, 101.0, 101.0]\r\n[101.0, 101.0, 101.0]\r\n[101.0, 101.0, 101.0]\r\n[101.0, 101.0, 101.0]\r\n```\r\n\r\nThe overall shape I think is not the problem, that is how is printed but the columns of the NDArray are rows in ONNX","title":"Problems converting deepLearning4j array to ONNX Tensor","body":"<p>I'm currently reading an image with deepLearning4j and trying to pass it to ONNX is giving me problems.</p>\n<pre class=\"lang-java prettyprint-override\"><code>INDArray ndArray =  loader.asMatrix(mat3).permute(0,2,3,1);\n\nOnnxTensor tensor = OnnxTensor.createTensor(env, ndArray.data().asNioFloat(), ndArray.shape());\n</code></pre>\n<p>The problems is that they are not the same. The INDArray is like this:</p>\n<pre><code>[[[[  103.0000   41.0000  155.0000] \n   [  103.0000   42.0000  154.0000] \n   [  102.0000   44.0000  153.0000] \n   [  101.0000   45.0000  152.0000] \n   [  101.0000   45.0000  152.0000] \n   .....\n</code></pre>\n<p>And the ONNX tensor is like this:</p>\n<pre><code>[103.0, 103.0, 102.0]\n[101.0, 101.0, 101.0]\n[101.0, 101.0, 101.0]\n[101.0, 101.0, 101.0]\n[101.0, 101.0, 101.0]\n</code></pre>\n<p>The overall shape I think is not the problem, that is how is printed but the columns of the NDArray are rows in ONNX</p>\n"},{"tags":["java","android-recyclerview"],"owner":{"account_id":28602316,"reputation":1,"user_id":21898974,"display_name":"Caio Alexandre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684187214,"creation_date":1684122799,"question_id":76250787,"body_markdown":"in the course of my CHAT project I came across the following situation, in the first view of the RecyclerView the texts appear correctly, but as soon as I use the scroll , the view is all messed up, some spaces are blank, I don&#39;t know where I can be making mistakes\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import android.content.Context;\r\n    import android.net.Uri;\r\n    \r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.bumptech.glide.Glide;\r\n    import com.skydevices.watsappclone.R;\r\n    import com.skydevices.watsappclone.helper.UsuarioFirebase;\r\n    import com.skydevices.watsappclone.model.Mensagem;\r\n    \r\n    \r\n    import java.util.List;\r\n    \r\n    public class MensagensAdapter extends RecyclerView.Adapter&lt;MensagensAdapter.MyViewHolder&gt; {\r\n    \r\n        private List&lt;Mensagem&gt; mensagens;\r\n        private Context context;\r\n        private static final int TIPO_REMETENTE     = 0;\r\n        private static final int TIPO_DESTINATARIO  = 1;\r\n    \r\n        public MensagensAdapter(List&lt;Mensagem&gt; lista, Context c) {\r\n            this.mensagens = lista;\r\n            this.context = c;\r\n        }\r\n    \r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n    \r\n            View item = null;\r\n            if ( viewType == TIPO_REMETENTE ){\r\n                item = LayoutInflater.from(parent.getContext()).inflate(R.layout.adapter_mensagem_remetente, parent, false);\r\n            }else if( viewType == TIPO_DESTINATARIO ){\r\n                item = LayoutInflater.from(parent.getContext()).inflate(R.layout.adapter_mensagem_destinatario, parent, false);\r\n            }\r\n    \r\n            return new MyViewHolder(item);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {\r\n    \r\n            Mensagem mensagem = mensagens.get( position );\r\n            String msg = mensagem.getMensagem();\r\n            String imagem = mensagem.getImagem();\r\n    \r\n            if ( imagem != null ){\r\n                Uri url = Uri.parse( imagem );\r\n                Glide.with(context).load(url).into( holder.imagem );\r\n    \r\n                //Esconder o texto\r\n                holder.mensagem.setVisibility(View.GONE);\r\n    \r\n            }else {\r\n                holder.mensagem.setText( msg );\r\n                //Esconder a imagem\r\n                holder.imagem.setVisibility(View.GONE);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return mensagens.size();\r\n        }\r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n    \r\n            Mensagem mensagem = mensagens.get( position );\r\n            String idUsuario = UsuarioFirebase.getIdentificadorUsuario();\r\n    \r\n            if ( idUsuario.equals( mensagem.getIdUsuario() ) ){\r\n                return TIPO_REMETENTE;\r\n            }\r\n    \r\n            return TIPO_DESTINATARIO;\r\n    \r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            TextView mensagem;\r\n            ImageView imagem;\r\n    \r\n            public MyViewHolder(View itemView) {\r\n                super(itemView);\r\n    \r\n                mensagem = itemView.findViewById(R.id.textoMensagemTexto);\r\n                imagem   = itemView.findViewById(R.id.imageMensagemFoto);\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nI reviewed the entire adapter and I don&#39;t know where the problem could be\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DAs7A.png","title":"RecyclerView not displaying correct shape when using scroll","body":"<p>in the course of my CHAT project I came across the following situation, in the first view of the RecyclerView the texts appear correctly, but as soon as I use the scroll , the view is all messed up, some spaces are blank, I don't know where I can be making mistakes</p>\n<p><a href=\"https://i.stack.imgur.com/DAs7A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAs7A.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import android.content.Context;\nimport android.net.Uri;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.skydevices.watsappclone.R;\nimport com.skydevices.watsappclone.helper.UsuarioFirebase;\nimport com.skydevices.watsappclone.model.Mensagem;\n\n\nimport java.util.List;\n\npublic class MensagensAdapter extends RecyclerView.Adapter&lt;MensagensAdapter.MyViewHolder&gt; {\n\n    private List&lt;Mensagem&gt; mensagens;\n    private Context context;\n    private static final int TIPO_REMETENTE     = 0;\n    private static final int TIPO_DESTINATARIO  = 1;\n\n    public MensagensAdapter(List&lt;Mensagem&gt; lista, Context c) {\n        this.mensagens = lista;\n        this.context = c;\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View item = null;\n        if ( viewType == TIPO_REMETENTE ){\n            item = LayoutInflater.from(parent.getContext()).inflate(R.layout.adapter_mensagem_remetente, parent, false);\n        }else if( viewType == TIPO_DESTINATARIO ){\n            item = LayoutInflater.from(parent.getContext()).inflate(R.layout.adapter_mensagem_destinatario, parent, false);\n        }\n\n        return new MyViewHolder(item);\n\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n\n        Mensagem mensagem = mensagens.get( position );\n        String msg = mensagem.getMensagem();\n        String imagem = mensagem.getImagem();\n\n        if ( imagem != null ){\n            Uri url = Uri.parse( imagem );\n            Glide.with(context).load(url).into( holder.imagem );\n\n            //Esconder o texto\n            holder.mensagem.setVisibility(View.GONE);\n\n        }else {\n            holder.mensagem.setText( msg );\n            //Esconder a imagem\n            holder.imagem.setVisibility(View.GONE);\n        }\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mensagens.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n\n        Mensagem mensagem = mensagens.get( position );\n        String idUsuario = UsuarioFirebase.getIdentificadorUsuario();\n\n        if ( idUsuario.equals( mensagem.getIdUsuario() ) ){\n            return TIPO_REMETENTE;\n        }\n\n        return TIPO_DESTINATARIO;\n\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView mensagem;\n        ImageView imagem;\n\n        public MyViewHolder(View itemView) {\n            super(itemView);\n\n            mensagem = itemView.findViewById(R.id.textoMensagemTexto);\n            imagem   = itemView.findViewById(R.id.imageMensagemFoto);\n\n        }\n    }\n\n}\n</code></pre>\n<p>I reviewed the entire adapter and I don't know where the problem could be</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1613784305,"post_id":66287030,"comment_id":117191642,"body_markdown":"You named your class `Connection`. Don&#39;t do that. You want a `java.sql.Connection` not a `com.claim.classes.Connection` and your code is hard to follow on that basis.","body":"You named your class <code>Connection</code>. Don&#39;t do that. You want a <code>java.sql.Connection</code> not a <code>com.claim.classes.Connection</code> and your code is hard to follow on that basis."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1613786198,"creation_date":1613786198,"answer_id":66287245,"question_id":66287030,"body_markdown":"You have _horrible_ exception handling and it is at the root of this problem.\r\n\r\nThe best way to handle an exception, is to just throw it onwards, especially if the exception is the kind of thing the method would obviously throw based not on its implementation but solely its specification (so, the name of it, and its parameter types, and its javadoc). A method named `createConnection`, in a class named `DbConnection`, obviously should be declared to `throws SQLException`. Thus, fix your createConnection method; it should be:\r\n\r\n```\r\nprivate Connection createConnection() throws SQLException {\r\n    Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\r\n    System.out.println(&quot;Connected to Database.&quot;);\r\n    return connection;\r\n}\r\n```\r\n\r\nNote how much cleaner that is.\r\n\r\nIf that is not possible (either because you are overriding a method and therefore cannot add any checked exceptions, or the exception is due to an implementation detail and should not be exposed), then the next best thing is to rethrow it as a different exception:\r\n\r\n```\r\nprivate Connection createConnection() {\r\n    try {\r\n        Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\r\n        System.out.println(&quot;Connected to Database.&quot;);\r\n        return connection;\r\n    } catch (SQLException e) {\r\n        throw new RuntimeException(&quot;Cannot connect to database&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\nTo be clear, __that is bad design__ here, this method should just be declared to throw SQLException, it&#39;s a fundamental part of interacting with DBs.\r\n\r\nWhat you&#39;re doing is much, _much_ worse:\r\n\r\nIt led to this problem, for starters. The primarily problem is twofold:\r\n\r\n1. You&#39;re tossing out a lot of useful info. That `e` object has a stack trace, a type, a message, causes, and more. By catching it and then just printing some stuff to syserr and continuing, you&#39;ve tossed all this useful info in the bin.\r\n\r\n2. By continuing the code, your app is now in a state you never expected (in this case, `Connection connection;` is null and thus null is returned. This results in two subproblems:\r\n\r\n2a. The actual problem now occurs in an irrelevant place: The problem is that your &#39;connect to the DB&#39; call is failing, but because of your exception handler, now a problem occurs on a line that has nothing to do with this (namely, the line that tries to use the null reference)\r\n\r\n2b. &#39;stack trace explosion&#39; - because code continues, but the app is in a state you did not expect, _obviously_ the app is going to throw some sort of exception real soon. If all your exception handling code is like this, that, too, will get swallowed and results in some `System.out` traffic, and the situation continues onwards. The effect is that 1 problem causes a hundred stack traces to be dumped to sysout, and they are all __completely irrelevant__, except for the first one.\r\n\r\nThat last bit happened to you. Here is the simple rule:\r\n\r\n__You must never catch an exception unless you will actually handle it OR rethrow it or some other exception from the catch block. System.err is NOT TO BE CALLED in them__.\r\n","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null (Mysql connection)","body":"<p>You have <em>horrible</em> exception handling and it is at the root of this problem.</p>\n<p>The best way to handle an exception, is to just throw it onwards, especially if the exception is the kind of thing the method would obviously throw based not on its implementation but solely its specification (so, the name of it, and its parameter types, and its javadoc). A method named <code>createConnection</code>, in a class named <code>DbConnection</code>, obviously should be declared to <code>throws SQLException</code>. Thus, fix your createConnection method; it should be:</p>\n<pre><code>private Connection createConnection() throws SQLException {\n    Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\n    System.out.println(&quot;Connected to Database.&quot;);\n    return connection;\n}\n</code></pre>\n<p>Note how much cleaner that is.</p>\n<p>If that is not possible (either because you are overriding a method and therefore cannot add any checked exceptions, or the exception is due to an implementation detail and should not be exposed), then the next best thing is to rethrow it as a different exception:</p>\n<pre><code>private Connection createConnection() {\n    try {\n        Connection connection = DriverManager.getConnection(URL, USER, PASSWORD);\n        System.out.println(&quot;Connected to Database.&quot;);\n        return connection;\n    } catch (SQLException e) {\n        throw new RuntimeException(&quot;Cannot connect to database&quot;, e);\n    }\n}\n</code></pre>\n<p>To be clear, <strong>that is bad design</strong> here, this method should just be declared to throw SQLException, it's a fundamental part of interacting with DBs.</p>\n<p>What you're doing is much, <em>much</em> worse:</p>\n<p>It led to this problem, for starters. The primarily problem is twofold:</p>\n<ol>\n<li><p>You're tossing out a lot of useful info. That <code>e</code> object has a stack trace, a type, a message, causes, and more. By catching it and then just printing some stuff to syserr and continuing, you've tossed all this useful info in the bin.</p>\n</li>\n<li><p>By continuing the code, your app is now in a state you never expected (in this case, <code>Connection connection;</code> is null and thus null is returned. This results in two subproblems:</p>\n</li>\n</ol>\n<p>2a. The actual problem now occurs in an irrelevant place: The problem is that your 'connect to the DB' call is failing, but because of your exception handler, now a problem occurs on a line that has nothing to do with this (namely, the line that tries to use the null reference)</p>\n<p>2b. 'stack trace explosion' - because code continues, but the app is in a state you did not expect, <em>obviously</em> the app is going to throw some sort of exception real soon. If all your exception handling code is like this, that, too, will get swallowed and results in some <code>System.out</code> traffic, and the situation continues onwards. The effect is that 1 problem causes a hundred stack traces to be dumped to sysout, and they are all <strong>completely irrelevant</strong>, except for the first one.</p>\n<p>That last bit happened to you. Here is the simple rule:</p>\n<p><strong>You must never catch an exception unless you will actually handle it OR rethrow it or some other exception from the catch block. System.err is NOT TO BE CALLED in them</strong>.</p>\n"},{"tags":[],"owner":{"account_id":28145216,"reputation":1,"user_id":21507631,"display_name":"Lehlohonolo Sehako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684187178,"creation_date":1679986936,"answer_id":75863234,"question_id":66287030,"body_markdown":"I had a similar issue. All I had to do was update my pom.xml file to include postgresql as a dependency - but that is if your are using maven as your project dependency management tool. See below.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nversions might differ with time.\r\n\r\nI hope that helps","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null (Mysql connection)","body":"<p>I had a similar issue. All I had to do was update my pom.xml file to include postgresql as a dependency - but that is if your are using maven as your project dependency management tool. See below.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.5.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>versions might differ with time.</p>\n<p>I hope that helps</p>\n"}],"owner":{"account_id":15783700,"reputation":19,"user_id":15039622,"display_name":"F west"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15098,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66287245,"answer_count":2,"score":0,"last_activity_date":1684187178,"creation_date":1613783942,"question_id":66287030,"body_markdown":"I&#39;m getting this error **Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null** \r\n\r\n**at com.claim.classes.Connection.selectRecordsFromTable(Connection.java:24)\r\nat com.claim.classes.Connection.main(Connection.java:12)**\r\n\r\nLooking at my code, everything looks right so I&#39;m not sure why I&#39;m getting this error. Below is the code for my Connection class and DbConnection class\r\n\r\n**Connection.java**\r\n\r\n        package com.claim.classes;\r\n    \r\n            import java.sql.PreparedStatement;\r\n            import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public class Connection {\r\n    \r\n        \r\n     public static void main(String args[])throws Exception{  \r\n     selectRecordsFromTable();\r\n     } \r\n     \r\n     private static void selectRecordsFromTable() throws SQLException {\r\n    \r\n     Connection dbConnection = null;\r\n     PreparedStatement preparedStatement = null;\r\n    \r\n     String selectSQL = &quot;SELECT * FROM USER WHERE id = ?&quot;;\r\n    \r\n     try {\r\n     dbConnection = (Connection) DbConnection.getConnection();\r\n     preparedStatement = ((java.sql.Connection) dbConnection).prepareStatement(selectSQL);\r\n     preparedStatement.setInt(1, 16);\r\n    \r\n     // execute select SQL statement\r\n     ResultSet rs = preparedStatement.executeQuery();\r\n    \r\n     while (rs.next()) {\r\n    \r\n       int id  = rs.getInt(&quot;id&quot;);          \r\n              String email = rs.getString(&quot;email&quot;);\r\n              String fname = rs.getString(&quot;first_name&quot;);\r\n              String lname = rs.getString(&quot;lanst_name&quot;);\r\n    \r\n              //Display values\r\n              System.out.print(&quot;\\nID: &quot; + id +&quot;\\nEmail: &quot; + email+ &quot;\\nfirst name: &quot; + fname+&quot;\\nlast Name: &quot; + lname);          \r\n           \r\n     }\r\n    \r\n     } catch (SQLException e) {\r\n    \r\n     System.out.println(e.getMessage());\r\n    \r\n     } finally {\r\n    \r\n     if (preparedStatement != null) {\r\n     preparedStatement.close();\r\n     }\r\n    \r\n     if (dbConnection != null) {\r\n     ((Statement) dbConnection).close();\r\n     }\r\n    \r\n     }\r\n    \r\n     }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n**DbConnection.java**\r\n\r\n\r\n    package com.claim.classes;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class DbConnection{\r\n    \r\n    // public Connection conn;\r\n    //static reference to itself\r\n        private static DbConnection instance = new DbConnection();    \r\n        public static final String URL = &quot;jdbc:mysql://localhost:3306/root&quot;;\r\n        public static final String USER = &quot;root&quot;;\r\n        public static final String PASSWORD = &quot;root&quot;;\r\n        public static final String DRIVER_CLASS = &quot;com.mysql.cj.jdbc.Driver&quot;; \r\n         \r\n        //private constructor\r\n        private DbConnection() {\r\n            try {\r\n                Class.forName(DRIVER_CLASS);\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n         \r\n        private Connection createConnection() {\r\n            Connection connection = null;\r\n            try {                  \r\n                connection = DriverManager.getConnection(URL, USER, PASSWORD);\r\n                System.out.println(&quot;Connected to Database.&quot;);\r\n            } catch (SQLException e) {\r\n                System.out.println(&quot;ERROR: Unable to Connect to Database.&quot;);\r\n            }\r\n            return connection;\r\n        }   \r\n         \r\n        public static Connection getConnection() {\r\n            return instance.createConnection();\r\n        }\r\n     \r\n    }\r\n\r\nThere was a related question on here but that person was having a different problem than me. Thanks for the help :)","title":"Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null (Mysql connection)","body":"<p>I'm getting this error <strong>Cannot invoke &quot;java.sql.Connection.prepareStatement(String)&quot; because &quot;dbConnection&quot; is null</strong></p>\n<p><strong>at com.claim.classes.Connection.selectRecordsFromTable(Connection.java:24)\nat com.claim.classes.Connection.main(Connection.java:12)</strong></p>\n<p>Looking at my code, everything looks right so I'm not sure why I'm getting this error. Below is the code for my Connection class and DbConnection class</p>\n<p><strong>Connection.java</strong></p>\n<pre><code>    package com.claim.classes;\n\n        import java.sql.PreparedStatement;\n        import java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class Connection {\n\n    \n public static void main(String args[])throws Exception{  \n selectRecordsFromTable();\n } \n \n private static void selectRecordsFromTable() throws SQLException {\n\n Connection dbConnection = null;\n PreparedStatement preparedStatement = null;\n\n String selectSQL = &quot;SELECT * FROM USER WHERE id = ?&quot;;\n\n try {\n dbConnection = (Connection) DbConnection.getConnection();\n preparedStatement = ((java.sql.Connection) dbConnection).prepareStatement(selectSQL);\n preparedStatement.setInt(1, 16);\n\n // execute select SQL statement\n ResultSet rs = preparedStatement.executeQuery();\n\n while (rs.next()) {\n\n   int id  = rs.getInt(&quot;id&quot;);          \n          String email = rs.getString(&quot;email&quot;);\n          String fname = rs.getString(&quot;first_name&quot;);\n          String lname = rs.getString(&quot;lanst_name&quot;);\n\n          //Display values\n          System.out.print(&quot;\\nID: &quot; + id +&quot;\\nEmail: &quot; + email+ &quot;\\nfirst name: &quot; + fname+&quot;\\nlast Name: &quot; + lname);          \n       \n }\n\n } catch (SQLException e) {\n\n System.out.println(e.getMessage());\n\n } finally {\n\n if (preparedStatement != null) {\n preparedStatement.close();\n }\n\n if (dbConnection != null) {\n ((Statement) dbConnection).close();\n }\n\n }\n\n }\n}\n</code></pre>\n<p><strong>DbConnection.java</strong></p>\n<pre><code>package com.claim.classes;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class DbConnection{\n\n// public Connection conn;\n//static reference to itself\n    private static DbConnection instance = new DbConnection();    \n    public static final String URL = &quot;jdbc:mysql://localhost:3306/root&quot;;\n    public static final String USER = &quot;root&quot;;\n    public static final String PASSWORD = &quot;root&quot;;\n    public static final String DRIVER_CLASS = &quot;com.mysql.cj.jdbc.Driver&quot;; \n     \n    //private constructor\n    private DbConnection() {\n        try {\n            Class.forName(DRIVER_CLASS);\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n     \n    private Connection createConnection() {\n        Connection connection = null;\n        try {                  \n            connection = DriverManager.getConnection(URL, USER, PASSWORD);\n            System.out.println(&quot;Connected to Database.&quot;);\n        } catch (SQLException e) {\n            System.out.println(&quot;ERROR: Unable to Connect to Database.&quot;);\n        }\n        return connection;\n    }   \n     \n    public static Connection getConnection() {\n        return instance.createConnection();\n    }\n \n}\n</code></pre>\n<p>There was a related question on here but that person was having a different problem than me. Thanks for the help :)</p>\n"},{"tags":["java","json","jackson","httpurlconnection"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1684099435,"post_id":76249668,"comment_id":134463414,"body_markdown":"Does `System.out.println(query);` print what you expect? Remember you can also have `System.out.println(query.asText());` if you want to see what it produces.","body":"Does <code>System.out.println(query);</code> print what you expect? Remember you can also have <code>System.out.println(query.asText());</code> if you want to see what it produces."},{"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"score":0,"creation_date":1684100399,"post_id":76249668,"comment_id":134463492,"body_markdown":"when I try `System.out.println(query);` it prints out what I expect. but when I try `System.out.println(query.asText());` I get nothing (blank output). Anyway, from the code above I got an answer from the server thats seems I am &quot;querying&quot; nothing: It seems I got all entries an not the ones who have &quot;to be or not to be&quot;. When I am using curl command it works fine.","body":"when I try <code>System.out.println(query);</code> it prints out what I expect. but when I try <code>System.out.println(query.asText());</code> I get nothing (blank output). Anyway, from the code above I got an answer from the server thats seems I am &quot;querying&quot; nothing: It seems I got all entries an not the ones who have &quot;to be or not to be&quot;. When I am using curl command it works fine."},{"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"score":0,"creation_date":1684143412,"post_id":76249668,"comment_id":134468371,"body_markdown":"When I print `query.ltoString()`I got: `{&quot;query&quot;:{&quot;match_phrase&quot;:{&quot;text_entry&quot;:&quot;to be or not to be&quot;}}}`, which seems ok. I tried:\n`try(OutputStream os = connection.getOutputStream()) {    byte[] input = uery.toString().getBytes(&quot;utf-8&quot;);      os.write(input, 0, input.length);\t}` But I got error 406 from server. Ok, I will try to figure out this error, but anyway, I was not able to send a request to server as I did with curl command.","body":"When I print <code>query.ltoString()</code>I got: <code>{&quot;query&quot;:{&quot;match_phrase&quot;:{&quot;text_entry&quot;:&quot;to be or not to be&quot;}}}</code>, which seems ok. I tried: <code>try(OutputStream os = connection.getOutputStream()) {    byte[] input = uery.toString().getBytes(&quot;utf-8&quot;);      os.write(input, 0, input.length);\t}</code> But I got error 406 from server. Ok, I will try to figure out this error, but anyway, I was not able to send a request to server as I did with curl command."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1684226554,"post_id":76249668,"comment_id":134482939,"body_markdown":"Ehm, sorry about the late reaction, but I think the problem mainly comes from that a [`GET`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET) request is normally not expected to have a body, see the &quot;Note&quot; explicitly pointing this out. With a `GET` you usually have a query string, the `?` thing at the end of the URL itself. Chances are that you should work towards a `POST` request instead (which `curl` also defaults to when providing data with `-d`, that&#39;s why you needed to use `-X`, which is always suspicious, as it&#39;s an override of the standard behaviour)","body":"Ehm, sorry about the late reaction, but I think the problem mainly comes from that a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET\" rel=\"nofollow noreferrer\"><code>GET</code></a> request is normally not expected to have a body, see the &quot;Note&quot; explicitly pointing this out. With a <code>GET</code> you usually have a query string, the <code>?</code> thing at the end of the URL itself. Chances are that you should work towards a <code>POST</code> request instead (which <code>curl</code> also defaults to when providing data with <code>-d</code>, that&#39;s why you needed to use <code>-X</code>, which is always suspicious, as it&#39;s an override of the standard behaviour)"}],"answers":[{"tags":[],"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684186253,"creation_date":1684186253,"answer_id":76258051,"question_id":76249668,"body_markdown":"Since it took me some undesirable time, I am putting the solution for future reference. I just had to set UTF-8 in Context-Type property: `connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);`, and use query.toString() when writing the String in OutputStream. Here is the entire code extract: \r\n\r\n```\r\nURL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\r\n\t\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\t\t\r\n\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n\t\t\tconnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\t\r\n\t\t\tObjectNode text = mapper.createObjectNode();\r\n\t\t\ttext.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\r\n\t\t\t\r\n\t\t\tObjectNode match = mapper.createObjectNode();\r\n\t\t\tmatch.set(&quot;match_phrase&quot;,text);\r\n\t\t\t\r\n\t\t\tObjectNode query = mapper.createObjectNode();\r\n\t\t\tquery.set(&quot;query&quot;, match);\r\n\t\t\t\r\n\t\t\tconnection.setDoOutput(true);\r\n\t\t\tOutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\r\n\t\t\twr.write(query.toString());\r\n\t\t\twr.flush();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(query.toString());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tInputStream responseStream = connection.getInputStream();\r\n\t\t\t\r\n\t\t\tString result = new BufferedReader(new InputStreamReader(responseStream))\r\n\t\t\t\t\t   .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\t\tSystem.out.println(result);\r\n```","title":"How to send json data in Java using HttpURLConnection and Jackson","body":"<p>Since it took me some undesirable time, I am putting the solution for future reference. I just had to set UTF-8 in Context-Type property: <code>connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);</code>, and use query.toString() when writing the String in OutputStream. Here is the entire code extract:</p>\n<pre><code>URL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            \n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n            connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            connection.setRequestMethod(&quot;GET&quot;);\n            \n            ObjectMapper mapper = new ObjectMapper();\n            \n            ObjectNode text = mapper.createObjectNode();\n            text.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\n            \n            ObjectNode match = mapper.createObjectNode();\n            match.set(&quot;match_phrase&quot;,text);\n            \n            ObjectNode query = mapper.createObjectNode();\n            query.set(&quot;query&quot;, match);\n            \n            connection.setDoOutput(true);\n            OutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\n            wr.write(query.toString());\n            wr.flush();\n            \n            \n            System.out.println(query.toString());\n            \n            \n            InputStream responseStream = connection.getInputStream();\n            \n            String result = new BufferedReader(new InputStreamReader(responseStream))\n                       .lines().collect(Collectors.joining(&quot;\\n&quot;));\n            System.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":9539746,"reputation":127,"user_id":7088477,"display_name":"ricksant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684186253,"creation_date":1684098266,"question_id":76249668,"body_markdown":"when I use the following command line when trying to send a json request it works perfectly:\r\n\r\n```\r\n$ curl -H &quot;Content-Type: application/json&quot; -XGET &#39;192.168.0.121:9200/shakespeare/_search?pretty&#39; -d &#39; { &quot;query&quot; : { &quot;match_phrase&quot; : { &quot;text_entry&quot; : &quot;to be or not to be&quot; } } }&#39;\r\n```\r\nSo, now, and just for fun, I am trying to do the same using Java. So I have the following code extract:\r\n\r\n```\r\nURL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\nconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\r\nObjectMapper mapper = new ObjectMapper();\r\n\t\t\t\r\nObjectNode text = mapper.createObjectNode();\r\ntext.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\r\n\t\t\t\r\nObjectNode match = mapper.createObjectNode();\r\nmatch.set(&quot;match_phrase&quot;,text);\r\n\t\t\t\r\nObjectNode query = mapper.createObjectNode();\r\nquery.set(&quot;query&quot;, match);\r\n\t\t\t\r\nconnection.setDoOutput(true);\r\nOutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\r\nwr.write(query.asText());\r\nwr.flush();\r\n\t\t\t\r\nSystem.out.println(query);\r\n\t\t\t\r\nInputStream responseStream = connection.getInputStream();\r\nString result = new BufferedReader(new InputStreamReader(responseStream))\r\n\t\t   .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\nSystem.out.println(result);\r\n```\r\n\r\nThe output from Java code is completely different from the output from the curl command. As far as I could, query.asText() used in wr.write(query.asText()) is blank. so, it seems no query is sent to the server. but I&#39;ve tried query.toString() or just query and I got nothing. Does anyone have any clue ? ","title":"How to send json data in Java using HttpURLConnection and Jackson","body":"<p>when I use the following command line when trying to send a json request it works perfectly:</p>\n<pre><code>$ curl -H &quot;Content-Type: application/json&quot; -XGET '192.168.0.121:9200/shakespeare/_search?pretty' -d ' { &quot;query&quot; : { &quot;match_phrase&quot; : { &quot;text_entry&quot; : &quot;to be or not to be&quot; } } }'\n</code></pre>\n<p>So, now, and just for fun, I am trying to do the same using Java. So I have the following code extract:</p>\n<pre><code>URL url = new URL(&quot;http://192.168.0.121:9200/shakespeare/_search?pretty&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\nconnection.setRequestMethod(&quot;GET&quot;);\n            \nObjectMapper mapper = new ObjectMapper();\n            \nObjectNode text = mapper.createObjectNode();\ntext.put(&quot;text_entry&quot;, &quot;to be or not to be&quot;);\n            \nObjectNode match = mapper.createObjectNode();\nmatch.set(&quot;match_phrase&quot;,text);\n            \nObjectNode query = mapper.createObjectNode();\nquery.set(&quot;query&quot;, match);\n            \nconnection.setDoOutput(true);\nOutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\nwr.write(query.asText());\nwr.flush();\n            \nSystem.out.println(query);\n            \nInputStream responseStream = connection.getInputStream();\nString result = new BufferedReader(new InputStreamReader(responseStream))\n           .lines().collect(Collectors.joining(&quot;\\n&quot;));\nSystem.out.println(result);\n</code></pre>\n<p>The output from Java code is completely different from the output from the curl command. As far as I could, query.asText() used in wr.write(query.asText()) is blank. so, it seems no query is sent to the server. but I've tried query.toString() or just query and I got nothing. Does anyone have any clue ?</p>\n"},{"tags":["java","eclipse","javafx","fxml"],"comments":[{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":1,"creation_date":1551035979,"post_id":54855553,"comment_id":96482674,"body_markdown":"What version of java are you using?","body":"What version of java are you using?"},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551036379,"post_id":54855553,"comment_id":96482782,"body_markdown":"javase-11 seems that the library JavaFx sdk cannot be added to my project, have no idea how to fix this. Tried removing and readding, still does not work","body":"javase-11 seems that the library JavaFx sdk cannot be added to my project, have no idea how to fix this. Tried removing and readding, still does not work"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551036435,"post_id":54855553,"comment_id":96482797,"body_markdown":"Check this out https://openjfx.io/","body":"Check this out <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx.io</a>"},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1551036675,"post_id":54855553,"comment_id":96482872,"body_markdown":"does it work if you try to `import java.util.List;`  ?","body":"does it work if you try to <code>import java.util.List;</code>  ?"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551036724,"post_id":54855553,"comment_id":96482882,"body_markdown":"You could also use an older version of java which has javafx included.","body":"You could also use an older version of java which has javafx included."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551036965,"post_id":54855553,"comment_id":96482957,"body_markdown":"@MikeNakis this import works","body":"@MikeNakis this import works"},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1551037094,"post_id":54855553,"comment_id":96482997,"body_markdown":"@Juan why, was the comment so totally off the mark?  I am asking because I have seen situations where all imports seem to fail due to an unconfigured / misconfigured JDK.  So, I thought it would be best to eliminate that simple possibility before going on a wild goose chase.","body":"@Juan why, was the comment so totally off the mark?  I am asking because I have seen situations where all imports seem to fail due to an unconfigured / misconfigured JDK.  So, I thought it would be best to eliminate that simple possibility before going on a wild goose chase."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551037237,"post_id":54855553,"comment_id":96483046,"body_markdown":"@Juan may I ask which version is it?","body":"@Juan may I ask which version is it?"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551037311,"post_id":54855553,"comment_id":96483069,"body_markdown":"@MikeNakis Honestly I really thought you had targetted the wrong question. I didn&#39;t mean any offence.","body":"@MikeNakis Honestly I really thought you had targetted the wrong question. I didn&#39;t mean any offence."},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":1,"creation_date":1551037443,"post_id":54855553,"comment_id":96483111,"body_markdown":"I use java 8 which, though java 10 should also come with javafx. It is as of java 11 that it has been separated from the distribution.","body":"I use java 8 which, though java 10 should also come with javafx. It is as of java 11 that it has been separated from the distribution."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1551037731,"post_id":54855553,"comment_id":96483194,"body_markdown":"Read the instructions in [Getting Started with JavaFX 11](https://openjfx.io/openjfx-docs/)—specifically the _JavaFX and Eclipse_ section. The JavaFX modules were separated from the JDK in Java 11 and now must be pulled in like any other dependency.","body":"Read the instructions in <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX 11</a>—specifically the <i>JavaFX and Eclipse</i> section. The JavaFX modules were separated from the JDK in Java 11 and now must be pulled in like any other dependency."},{"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1551037745,"post_id":54855553,"comment_id":96483201,"body_markdown":"@Juan no problem, I did not take any offense at all, I always accept the possibility that I may be terribly wrong on any given thing that I say.","body":"@Juan no problem, I did not take any offense at all, I always accept the possibility that I may be terribly wrong on any given thing that I say."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551037821,"post_id":54855553,"comment_id":96483228,"body_markdown":"@Juan I tried java-1.8 and java.10 both give me the same errors, I just want to start my lab as soon as possible, would using a different IDE be the quickest solution, any recommendation which IDE to use that is more user-friendly?","body":"@Juan I tried java-1.8 and java.10 both give me the same errors, I just want to start my lab as soon as possible, would using a different IDE be the quickest solution, any recommendation which IDE to use that is more user-friendly?"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551038316,"post_id":54855553,"comment_id":96483376,"body_markdown":"I use it with Eclipse where i also installed the e(fx)clipse plugin.","body":"I use it with Eclipse where i also installed the e(fx)clipse plugin."},{"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"score":0,"creation_date":1551038929,"post_id":54855553,"comment_id":96483571,"body_markdown":"@juan I just added the jfxrt.jar manually and the errors go away however when I run the main, it&#39;s still giving me &quot;Error: Could not find or load main class application.Main\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;","body":"@juan I just added the jfxrt.jar manually and the errors go away however when I run the main, it&#39;s still giving me &quot;Error: Could not find or load main class application.Main Caused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;"},{"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"score":0,"creation_date":1551039588,"post_id":54855553,"comment_id":96483778,"body_markdown":"You shouldn&#39;t add it manually.  This link has a tutorial for both netbeans and eclipse. https://www.tutorialspoint.com/javafx/javafx_environment.htm","body":"You shouldn&#39;t add it manually.  This link has a tutorial for both netbeans and eclipse. <a href=\"https://www.tutorialspoint.com/javafx/javafx_environment.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/javafx/javafx_environment.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":27985176,"reputation":9,"user_id":21372181,"display_name":"Powerscore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684185842,"creation_date":1684185842,"answer_id":76258017,"question_id":54855553,"body_markdown":"There are 4 main steps to check: (There are other ways to do this but this is one way)\r\n\r\nIn your case I think the issue is in the 4th step.\r\n\r\n1) Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.\r\n\r\n2) Download and unzip the appropriate Java SDK folder for you system from here: [https://gluonhq.com/products/javafx/][1]\r\n\r\n3) On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project\r\n\r\n4) Run your project as a normal java application (so that you don&#39;t have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it&#39;s the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/","title":"javafx import cannot be resolved in eclipse","body":"<p>There are 4 main steps to check: (There are other ways to do this but this is one way)</p>\n<p>In your case I think the issue is in the 4th step.</p>\n<ol>\n<li><p>Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.</p>\n</li>\n<li><p>Download and unzip the appropriate Java SDK folder for you system from here: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n</li>\n<li><p>On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project</p>\n</li>\n<li><p>Run your project as a normal java application (so that you don't have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it's the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7831038,"reputation":116,"user_id":5921049,"accept_rate":50,"display_name":"Andy Lin"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684185842,"creation_date":1551035760,"question_id":54855553,"body_markdown":"I am starting an assignment and just installed javafx from the Eclipse marketplace, after I installed and created a javafx project with fxml however in main the imports are showing errors saying &quot;the import javafx cannot be resolved&quot;. I am new to Java and Eclipse and have tried to search for similar questions but they all seem to be different cases.\r\n\r\nI would appreciate any help thank you.    \r\n\r\nBelow is the code, and all the imports are showing errors:\r\n\r\n    package application;\r\n    \t\r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.fxml.FXMLLoader;\r\n    \r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tBorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(&quot;Student.fxml&quot;));\r\n    \t\t\tScene scene = new Scene(root,400,400);\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\nI have figured that it is the library JavaFx SDK which is not able to be added to the project, is anyone good with Eclipse can help solve this problem? I tried configure build path and removing the JavaFx SDK and readding, still does not work.","title":"javafx import cannot be resolved in eclipse","body":"<p>I am starting an assignment and just installed javafx from the Eclipse marketplace, after I installed and created a javafx project with fxml however in main the imports are showing errors saying \"the import javafx cannot be resolved\". I am new to Java and Eclipse and have tried to search for similar questions but they all seem to be different cases.</p>\n\n<p>I would appreciate any help thank you.    </p>\n\n<p>Below is the code, and all the imports are showing errors:</p>\n\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.fxml.FXMLLoader;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            BorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(\"Student.fxml\"));\n            Scene scene = new Scene(root,400,400);\n            scene.getStylesheets().add(getClass().getResource(\"application.css\").toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\npublic static void main(String[] args) {\n    launch(args);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I have figured that it is the library JavaFx SDK which is not able to be added to the project, is anyone good with Eclipse can help solve this problem? I tried configure build path and removing the JavaFx SDK and readding, still does not work.</p>\n"},{"tags":["java","kubernetes","openshift","openshift-origin","fabric8"],"answers":[{"tags":[],"owner":{"account_id":79319,"reputation":31734,"user_id":225016,"display_name":"mdaniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504680148,"creation_date":1504680148,"answer_id":46068480,"question_id":46046871,"body_markdown":"From within a Pod, the service account token is volume-mounted as `/var/run/secrets/kubernetes.io/serviceaccount/token` [as seen here](https://github.com/fabric8io/kubernetes-client/blob/v2.6.2/kubernetes-client/src/main/java/io/fabric8/kubernetes/client/Config.java#L88). The fact that the path is hard-coded in (at least v2.6.2 of) the fabric8 `Client` leads me to believe that perhaps if one merely omits the `withOauthToken()` call that the `Client` may Just Work&amp;trade;\r\n\r\nIt&#39;s slightly unclear whether the code snippet you provided is expected to run _outside_ of the cluster, but if so then you have a small chicken-and-egg problem of providing auth to the API so you can acquire the `Secret`","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>From within a Pod, the service account token is volume-mounted as <code>/var/run/secrets/kubernetes.io/serviceaccount/token</code> <a href=\"https://github.com/fabric8io/kubernetes-client/blob/v2.6.2/kubernetes-client/src/main/java/io/fabric8/kubernetes/client/Config.java#L88\" rel=\"nofollow noreferrer\">as seen here</a>. The fact that the path is hard-coded in (at least v2.6.2 of) the fabric8 <code>Client</code> leads me to believe that perhaps if one merely omits the <code>withOauthToken()</code> call that the <code>Client</code> may Just Work&trade;</p>\n\n<p>It's slightly unclear whether the code snippet you provided is expected to run <em>outside</em> of the cluster, but if so then you have a small chicken-and-egg problem of providing auth to the API so you can acquire the <code>Secret</code></p>\n"},{"tags":[],"owner":{"account_id":1742917,"reputation":570,"user_id":1593808,"display_name":"iocanel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1505392432,"creation_date":1505392432,"answer_id":46219308,"question_id":46046871,"body_markdown":"The client already does that for you.\r\n\r\nIf you just create an empty Config object:\r\n\r\n    Config config = new ConfigBuilder().build();\r\n\r\nor create the client, like:\r\n\r\n    KubernetesClient client = new DefaultKubernetesClient();\r\n\r\n\r\n\r\nfrom within a pod, it will automatically read the token for you.\r\n\r\nIf you need to pass it elsewhere, you can just:\r\n\r\n    String token = config.getOauthToken();\r\n\r\nor \r\n\r\n    String token = client.getConfiguration().getOauthToken();\r\n","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>The client already does that for you.</p>\n\n<p>If you just create an empty Config object:</p>\n\n<pre><code>Config config = new ConfigBuilder().build();\n</code></pre>\n\n<p>or create the client, like:</p>\n\n<pre><code>KubernetesClient client = new DefaultKubernetesClient();\n</code></pre>\n\n<p>from within a pod, it will automatically read the token for you.</p>\n\n<p>If you need to pass it elsewhere, you can just:</p>\n\n<pre><code>String token = config.getOauthToken();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>String token = client.getConfiguration().getOauthToken();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11297414,"reputation":17,"user_id":8284501,"display_name":"dharmalingam lingam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664267119,"creation_date":1664267119,"answer_id":73864474,"question_id":46046871,"body_markdown":"Create a service account with below yaml definition\r\n\r\nStep 1: create api-manager.yaml with below content\r\n\r\nkind: Role\r\napiVersion: rbac.authorization.k8s.io/v1\r\nmetadata:\r\n   name: api-manager\r\n   namespace: default\r\nrules:\r\n- apiGroups: [&quot;batch&quot;, &quot;extensions&quot;]\r\n  resources: [&quot;jobs&quot;,&quot;cronjob&quot;]\r\n  verbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;]\r\n---\r\nkind: RoleBinding\r\napiVersion: rbac.authorization.k8s.io/v1\r\nmetadata:\r\n   name: udefreadonlybinding\r\n   namespace: default\r\nsubjects:\r\n - kind: ServiceAccount\r\n   name: api-manager\r\n   namespace: default\r\nroleRef:\r\n   kind: Role\r\n   name: job-creator\r\n   apiGroup: rbac.authorization.k8s.io\r\n\r\nStep 2:\r\nkubectl create -f api-manager.yaml\r\n\r\nStep 3:\r\nEdit your pod dp file and map the service account \r\nThen map this service account to the pod which internally map the service account inside the container ( path :/var/run/secrets/kubernetes.io/serviceaccount/token)\r\n\r\nStep 4:  In java code\r\nio.fabric8.kubernetes.client.DefaultKubernetesClient client = new DefaultKubernetesClient();\r\nSystem.out.println(&quot;client&quot;+client.getNamespace());\r\n\r\n","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>Create a service account with below yaml definition</p>\n<p>Step 1: create api-manager.yaml with below content</p>\n<p>kind: Role\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\nname: api-manager\nnamespace: default\nrules:</p>\n<ul>\n<li>apiGroups: [&quot;batch&quot;, &quot;extensions&quot;]\nresources: [&quot;jobs&quot;,&quot;cronjob&quot;]\nverbs: [&quot;get&quot;, &quot;list&quot;, &quot;watch&quot;, &quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;]</li>\n</ul>\n<hr />\n<p>kind: RoleBinding\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\nname: udefreadonlybinding\nnamespace: default\nsubjects:</p>\n<ul>\n<li>kind: ServiceAccount\nname: api-manager\nnamespace: default\nroleRef:\nkind: Role\nname: job-creator\napiGroup: rbac.authorization.k8s.io</li>\n</ul>\n<p>Step 2:\nkubectl create -f api-manager.yaml</p>\n<p>Step 3:\nEdit your pod dp file and map the service account\nThen map this service account to the pod which internally map the service account inside the container ( path :/var/run/secrets/kubernetes.io/serviceaccount/token)</p>\n<p>Step 4:  In java code\nio.fabric8.kubernetes.client.DefaultKubernetesClient client = new DefaultKubernetesClient();\nSystem.out.println(&quot;client&quot;+client.getNamespace());</p>\n"},{"tags":[],"owner":{"account_id":19888427,"reputation":337,"user_id":14570999,"display_name":"Piotr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684185631,"creation_date":1684167082,"answer_id":76256014,"question_id":46046871,"body_markdown":"```\r\nConfig config = new ConfigBuilder().withMasterUrl(externalTunnelUrl).withOauthToken(managementTokenProvider.getManagementToken(clusterName)).withUsername(&quot;management-token&quot;).build();\r\n```\r\nJust had the same need. OauthToken is maybe not the obvious name, but works.\r\n\r\nNote that I do not specify client cert file there.","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<pre><code>Config config = new ConfigBuilder().withMasterUrl(externalTunnelUrl).withOauthToken(managementTokenProvider.getManagementToken(clusterName)).withUsername(&quot;management-token&quot;).build();\n</code></pre>\n<p>Just had the same need. OauthToken is maybe not the obvious name, but works.</p>\n<p>Note that I do not specify client cert file there.</p>\n"}],"owner":{"account_id":3163843,"reputation":685,"user_id":2674285,"accept_rate":75,"display_name":"Chamalee De Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7111,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1684185631,"creation_date":1504584325,"question_id":46046871,"body_markdown":"I have configured minikube in my local machine and going to use kubernetes externally. I have created a Service Account in kubernetes and using it&#39;s secret I can get the access token using below command.\r\n\r\n    kubectl get secret &lt;service-account-secret&gt; -o yaml -n mynamespace\r\n\r\nMy question is how can I do this using fabric8 java client in runtime ? What I want is to obtain the access token by giving the secret of the Service account as a parameter.\r\n\r\nI am initiating the config as bellow.\r\n\r\n    Config config = new ConfigBuilder().withMasterUrl(masterURL)\r\n                    .withClientCertFile(certFile).withOauthToken(serviceAccountAccessToken).build();\r\n\r\nCan I know how to get the serviceAccountAccessToken as described above using fabric8 java client ?\r\n\r\n","title":"How to get kubernetes service account access token using fabric8 java client?","body":"<p>I have configured minikube in my local machine and going to use kubernetes externally. I have created a Service Account in kubernetes and using it's secret I can get the access token using below command.</p>\n\n<pre><code>kubectl get secret &lt;service-account-secret&gt; -o yaml -n mynamespace\n</code></pre>\n\n<p>My question is how can I do this using fabric8 java client in runtime ? What I want is to obtain the access token by giving the secret of the Service account as a parameter.</p>\n\n<p>I am initiating the config as bellow.</p>\n\n<pre><code>Config config = new ConfigBuilder().withMasterUrl(masterURL)\n                .withClientCertFile(certFile).withOauthToken(serviceAccountAccessToken).build();\n</code></pre>\n\n<p>Can I know how to get the serviceAccountAccessToken as described above using fabric8 java client ?</p>\n"},{"tags":["java","junit","enums","mockito","switch-statement"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1684162523,"post_id":76255317,"comment_id":134472856,"body_markdown":"You do not need to cover everything with a unit test. But generally returning `null` is a very idea.","body":"You do not need to cover everything with a unit test. But generally returning <code>null</code> is a very idea."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1684162815,"post_id":76255317,"comment_id":134472938,"body_markdown":"@luk2302 I assume: very bad idea :)","body":"@luk2302 I assume: very bad idea :)"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1684163015,"post_id":76255317,"comment_id":134472989,"body_markdown":"You cannot add a test that covers the default clause here. Also, you may want to consider moving logic to the individual enum instances, instead of using a switch, then your code can be `return blockType.someMethod()`, removing the need for the switch (and its default) entirely.","body":"You cannot add a test that covers the default clause here. Also, you may want to consider moving logic to the individual enum instances, instead of using a switch, then your code can be <code>return blockType.someMethod()</code>, removing the need for the switch (and its default) entirely."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684185275,"creation_date":1684162960,"answer_id":76255395,"question_id":76255317,"body_markdown":"If the default case is really unreachable (as in your case), you have two options:\r\n\r\n 1. You just drop it.\r\n 2. You throw an error instead of returning `null`:\r\n    ```Java\r\n    switch( blockType ) \r\n    {\r\n        case TEXTBLOCK:\r\n            return ...\r\n        case IMAGEBLOCK:\r\n            return ...\r\n        default: throw new AssertionError( &quot;Invalid blockType: &quot; + blockType.name() );\r\n    }\r\n    ```\r\n    In this case, you learn *really* fast that something does not work in case you add an additional `BlockType` enum value, instead of some spurious `NullPointerExceptions` occurring far away from the `switch`.\r\n\r\nBut in regard of your original question: you cannot test it without massively modifying your code. But this is not uncommon for &quot;safety nets&quot; like this default label.","title":"Covering unreachable default clause in switch case in java","body":"<p>If the default case is really unreachable (as in your case), you have two options:</p>\n<ol>\n<li>You just drop it.</li>\n<li>You throw an error instead of returning <code>null</code>:\n<pre><code>switch( blockType ) \n{\n    case TEXTBLOCK:\n        return ...\n    case IMAGEBLOCK:\n        return ...\n    default: throw new AssertionError( &quot;Invalid blockType: &quot; + blockType.name() );\n}\n</code></pre>\nIn this case, you learn <em>really</em> fast that something does not work in case you add an additional <code>BlockType</code> enum value, instead of some spurious <code>NullPointerExceptions</code> occurring far away from the <code>switch</code>.</li>\n</ol>\n<p>But in regard of your original question: you cannot test it without massively modifying your code. But this is not uncommon for &quot;safety nets&quot; like this default label.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684166575,"creation_date":1684165391,"answer_id":76255775,"question_id":76255317,"body_markdown":"There is a way to do get coverage of the `default` case in your example.  But it is nasty.\r\n\r\nFirst, we need to understand why the `default` case in your example is not marked as unreachable code.  This is a logical consequence of the rules for evolution of `enum` classes as set out in [JLS 13.4.26](https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.4.26).  These say that adding extra constants to an existing `enum` does not break binary compatibility.\r\n\r\nThus, while the `default` branch in your example is not effectively reachable *at the time that the code was compiled*, it *could* become reachable if another constant is added to the `enum` later on.  And the Java compiler *doesn&#39;t* flag the `default` branch as unreachable code ... as you can see!\r\n\r\nSo ... the *nasty* way to get 100% unit test coverage for the `default` branch in your example is to simulate the code evolution.  Write an alternate version of the `enum` class with an extra constant, and then write a unit test that feeds that constant to the code with that `switch` statement.\r\n\r\n&gt; Also, I don&#39;t want to add any dummy value in my enum just for testing purpose.\r\n\r\nThat&#39;s not what is going on.  What we are doing is simulating a (hypothetical) *future* version of the `enum`.  The *current* version doesn&#39;t have the extra constant.\r\n\r\n&lt;sup&gt;Making it work in the context of a typical unit test framework and a typical Java build tool is left as an exercise to the reader.&lt;/sup&gt;\r\n\r\nIs it a good idea to do this?  IMO no!  It is better to acknowledge that it is (typically) not worthwhile going to extremes to &quot;achieve&quot; 100% coverage.  Indeed, if you have a &quot;this should never happen&quot; case in your code, there is no value in trying to make that condition actually happen during testing.\r\n\r\n&lt;sup&gt;But ... if it is a design goal for your application to *deal* with evolution of the `enum`, then achieving coverage of the unreachable `default` case is maybe justifiable.&lt;/sup&gt;\r\n\r\n--------------------\r\n\r\nHowever ... returning `null` in this case is really bad idea; see the comments and the above answer for reasons why, and what you can do instead.","title":"Covering unreachable default clause in switch case in java","body":"<p>There is a way to do get coverage of the <code>default</code> case in your example.  But it is nasty.</p>\n<p>First, we need to understand why the <code>default</code> case in your example is not marked as unreachable code.  This is a logical consequence of the rules for evolution of <code>enum</code> classes as set out in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.4.26\" rel=\"nofollow noreferrer\">JLS 13.4.26</a>.  These say that adding extra constants to an existing <code>enum</code> does not break binary compatibility.</p>\n<p>Thus, while the <code>default</code> branch in your example is not effectively reachable <em>at the time that the code was compiled</em>, it <em>could</em> become reachable if another constant is added to the <code>enum</code> later on.  And the Java compiler <em>doesn't</em> flag the <code>default</code> branch as unreachable code ... as you can see!</p>\n<p>So ... the <em>nasty</em> way to get 100% unit test coverage for the <code>default</code> branch in your example is to simulate the code evolution.  Write an alternate version of the <code>enum</code> class with an extra constant, and then write a unit test that feeds that constant to the code with that <code>switch</code> statement.</p>\n<blockquote>\n<p>Also, I don't want to add any dummy value in my enum just for testing purpose.</p>\n</blockquote>\n<p>That's not what is going on.  What we are doing is simulating a (hypothetical) <em>future</em> version of the <code>enum</code>.  The <em>current</em> version doesn't have the extra constant.</p>\n<p><sup>Making it work in the context of a typical unit test framework and a typical Java build tool is left as an exercise to the reader.</sup></p>\n<p>Is it a good idea to do this?  IMO no!  It is better to acknowledge that it is (typically) not worthwhile going to extremes to &quot;achieve&quot; 100% coverage.  Indeed, if you have a &quot;this should never happen&quot; case in your code, there is no value in trying to make that condition actually happen during testing.</p>\n<p><sup>But ... if it is a design goal for your application to <em>deal</em> with evolution of the <code>enum</code>, then achieving coverage of the unreachable <code>default</code> case is maybe justifiable.</sup></p>\n<hr />\n<p>However ... returning <code>null</code> in this case is really bad idea; see the comments and the above answer for reasons why, and what you can do instead.</p>\n"}],"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684185275,"creation_date":1684162419,"question_id":76255317,"body_markdown":"I have below code snippet, and I&#39;m not sure how to cover the default clause with a unit test.\r\n\r\n```java\r\npublic Block solve(String str) {\r\n\r\n    try {\r\n            \r\n        final BlockType blockType = BlockType.valueOf(str);\r\n\r\n        switch (blockType) {\r\n            case TEXTBLOCK:\r\n                return ...\r\n            case IMAGEBLOCK:\r\n                return ...\r\n            default:\r\n                return null;\r\n        }\r\n    } catch (final IllegalArgumentException e) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@AllArgsConstructor\r\npublic enum BlockType {\r\n    IMAGEBLOCK(&quot;imageBlock&quot;),\r\n    TEXTBLOCK(&quot;textBlock&quot;);\r\n\r\n    private String value;\r\n}\r\n```\r\n\r\nNOTE: I have the constraint that the argument in `solve` method has to be of `String` type only. Also, I don&#39;t want to add any dummy value in my enum just for testing purpose.","title":"Covering unreachable default clause in switch case in java","body":"<p>I have below code snippet, and I'm not sure how to cover the default clause with a unit test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Block solve(String str) {\n\n    try {\n            \n        final BlockType blockType = BlockType.valueOf(str);\n\n        switch (blockType) {\n            case TEXTBLOCK:\n                return ...\n            case IMAGEBLOCK:\n                return ...\n            default:\n                return null;\n        }\n    } catch (final IllegalArgumentException e) {\n        return null;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic enum BlockType {\n    IMAGEBLOCK(&quot;imageBlock&quot;),\n    TEXTBLOCK(&quot;textBlock&quot;);\n\n    private String value;\n}\n</code></pre>\n<p>NOTE: I have the constraint that the argument in <code>solve</code> method has to be of <code>String</code> type only. Also, I don't want to add any dummy value in my enum just for testing purpose.</p>\n"},{"tags":["java","xml","soap","cxf"],"owner":{"account_id":13588641,"reputation":4677,"user_id":9802634,"display_name":"danny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684184404,"creation_date":1684161956,"question_id":76255249,"body_markdown":"I create request to SOAP service using Apache CXF. In my xml payload I have this part:\r\n      \r\n\r\n    &gt;  &lt;ds:KeyInfo Id=&quot;KI-247c2b79-9a61-42ea-822e-e5e23e9132f0&quot;&gt;\r\n    &gt;                 &lt;wsse:SecurityTokenReference\r\n    &gt;                         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n    &gt;                         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\r\n    &gt;                         wsu:Id=&quot;STR-b87ecccc-604a-4851-8331-3aef53d99661&quot;&gt;\r\n    &gt;                     &lt;wsse:KeyIdentifier\r\n    &gt;                             EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n    &gt;                             ValueType=&quot;http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#ThumbprintSHA1&quot;&gt;\r\n    &gt;                         ZrB9tQsoAOkiwFiAAMSG87/T8bg=\r\n    &gt;                     &lt;/wsse:KeyIdentifier&gt;\r\n    &gt;                 &lt;/wsse:SecurityTokenReference&gt;\r\n    &gt;             &lt;/ds:KeyInfo&gt;\r\n\r\nand I nedd to change ValueType to http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3 because my binary token needs it. How can I overwrite it?","title":"How to change default KeyInfo generated by Apache CXF 4.0.0","body":"<p>I create request to SOAP service using Apache CXF. In my xml payload I have this part:</p>\n<pre><code>&gt;  &lt;ds:KeyInfo Id=&quot;KI-247c2b79-9a61-42ea-822e-e5e23e9132f0&quot;&gt;\n&gt;                 &lt;wsse:SecurityTokenReference\n&gt;                         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\n&gt;                         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;\n&gt;                         wsu:Id=&quot;STR-b87ecccc-604a-4851-8331-3aef53d99661&quot;&gt;\n&gt;                     &lt;wsse:KeyIdentifier\n&gt;                             EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\n&gt;                             ValueType=&quot;http://docs.oasis-open.org/wss/oasis-wss-soap-message-security-1.1#ThumbprintSHA1&quot;&gt;\n&gt;                         ZrB9tQsoAOkiwFiAAMSG87/T8bg=\n&gt;                     &lt;/wsse:KeyIdentifier&gt;\n&gt;                 &lt;/wsse:SecurityTokenReference&gt;\n&gt;             &lt;/ds:KeyInfo&gt;\n</code></pre>\n<p>and I nedd to change ValueType to <a href=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\" rel=\"nofollow noreferrer\">http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3</a> because my binary token needs it. How can I overwrite it?</p>\n"},{"tags":["java","android","flutter","build","android-gradle-plugin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684197731,"post_id":76257868,"comment_id":134479104,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28606537,"reputation":11,"user_id":21902374,"display_name":"Ayoub Kessar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684184247,"creation_date":1684184247,"question_id":76257868,"body_markdown":"The supplied phased action failed with an exception.\r\nA problem occurred configuring root project &#39;android&#39;.\r\nCould not resolve all files for configuration &#39;:classpath&#39;.\r\nCould not find com.android.tools.build:gradle:7.5.\r\nSearched in the following locations:\r\n  - https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\r\n  - https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\r\nRequired by:\r\n    project :\r\n\r\nfix it from android studio \r\n","title":"The supplied phased action failed with an exception. A problem occurred configuring root project &#39;android&#39;","body":"<p>The supplied phased action failed with an exception.\nA problem occurred configuring root project 'android'.\nCould not resolve all files for configuration ':classpath'.\nCould not find com.android.tools.build:gradle:7.5.\nSearched in the following locations:</p>\n<ul>\n<li><a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom</a></li>\n<li><a href=\"https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.5/gradle-7.5.pom</a>\nRequired by:\nproject :</li>\n</ul>\n<p>fix it from android studio</p>\n"},{"tags":["java","maven","maven-assembly-plugin"],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1469024841,"creation_date":1469024841,"answer_id":38484021,"question_id":38482839,"body_markdown":"That is because you are mis-interpreting the warnings.\r\n\r\n&lt;hr&gt;\r\n\r\nLet&#39;s recap. A Maven project that is not of type `pom` will always produce, by default, what is called a main artifact. For a JAR, this artifact is the result of packaging the compiled sources into a JAR; for a WAR, it is the result of building the web-application.\r\n\r\nWhat is important to remember is that this artifact is _attached_ to the project: this terminology is useful when the project is installed (with `mvn install`), deployed (with `mvn deploy`) or released (with the `maven-release-plugin`). _Attached_ means that this artifact will be installed / deployed / released when the project is. Not all files generated during a Maven build (basically, everything under the `target` folder) are; only the files that were attached. As such, you can very well create a lot of files under `target` but have a single installed artifact.\r\n\r\nAlongside this main artifact, you may want your build to produce other artifacts to install or deploy. That&#39;s the concept of additional or secondary attached artifacts. The main examples are the Javadoc or the sources: typically when a project is released, its Javadoc and its sources also are. And that is where [the notion `classifier` kicks in](https://stackoverflow.com/questions/20909634/what-is-the-purpose-of-classifier-tag-in-maven).\r\n\r\nIn a Maven repository, each and every file has to follow the same naming convention: `artifactId-version(-classifier).type`. Every secondary artifact will have the same GAV (group id, artifact id, version) as the main artifact so if you want to put inside a Maven repo 1 main artifact and 1 attached artifact (like it would be the case for  a main JAR along with its JAR Javadoc and JAR sources), you need some way to distinguish them. Which is what the `classifier` is for: distinguish secondary artifacts from the main artifact.\r\n\r\n&lt;hr&gt;\r\n\r\nLet&#39;s go back to your example now. Your Maven project, which is of `jar` packaging, will produce by default a main JAR artifact called `my.module-5.0.0-SNAPSHOT.jar`; still by default, this main JAR is attached to the project (and ready to be installed / deployed). Now you&#39;re configuring the `maven-assembly-plugin` to create a new JAR artifact (called `helper-5.0.0-SNAPSHOT.jar` but it really doesn&#39;t matter). The Assembly Plugin, by default, [attaches to the project the artifact it produces](http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#attach). So you end up with 2 attached artifacts\r\n\r\n 1. having the same artifact id of `my.module`; the fact that the file on disk inside the `target` folder is named `helper` for one is irrelevant, only the GAV coordinates matter\r\n 2. having the same version of `5.0.0-SNAPSHOT`\r\n 3. having the same packaging of JAR\r\n\r\nand no classifier to distinguish them. This is what raises the warning: you end up attaching to the project a secondary artifact that effectively replaces the main one, simply because it has the same coordinates. So the result is:\r\n\r\n 1. Both files having different names on disk inside `target`, but that is irrelevant because\r\n 2. Both share the same coordinates so only 1 will survive.\r\n\r\nIt is the one produced by the Assembly Plugin that will win the conflict, and replace the attached main artifact.\r\n\r\nIf you want to convince yourself of all that, run `mvn clean install` on the project and check your local repo. You will notice that only the `jar-with-dependencies` artifact will be installed. The other one (the main artifact) went poof.\r\n\r\nYou can also configure a `&lt;distributionManagement&gt;`:\r\n\r\n\t&lt;distributionManagement&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;local-repo-test&lt;/id&gt;\r\n\t\t\t&lt;url&gt;file://...&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/distributionManagement&gt;\r\n\r\nand invoke `mvn clean deploy`. You can then check that the only deployed artifact will be the `jar-with-dependencies`.\r\n\r\n&lt;hr&gt;\r\n\r\nFinal note: Yes, the [`classifier`](http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#classifier) parameter of the Assembly Plugin is deprecated, because you should just use the assembly id as classifier.","title":"maven-assembly-plugin: How to use appendAssemblyId","body":"<p>That is because you are mis-interpreting the warnings.</p>\n\n<hr>\n\n<p>Let's recap. A Maven project that is not of type <code>pom</code> will always produce, by default, what is called a main artifact. For a JAR, this artifact is the result of packaging the compiled sources into a JAR; for a WAR, it is the result of building the web-application.</p>\n\n<p>What is important to remember is that this artifact is <em>attached</em> to the project: this terminology is useful when the project is installed (with <code>mvn install</code>), deployed (with <code>mvn deploy</code>) or released (with the <code>maven-release-plugin</code>). <em>Attached</em> means that this artifact will be installed / deployed / released when the project is. Not all files generated during a Maven build (basically, everything under the <code>target</code> folder) are; only the files that were attached. As such, you can very well create a lot of files under <code>target</code> but have a single installed artifact.</p>\n\n<p>Alongside this main artifact, you may want your build to produce other artifacts to install or deploy. That's the concept of additional or secondary attached artifacts. The main examples are the Javadoc or the sources: typically when a project is released, its Javadoc and its sources also are. And that is where <a href=\"https://stackoverflow.com/questions/20909634/what-is-the-purpose-of-classifier-tag-in-maven\">the notion <code>classifier</code> kicks in</a>.</p>\n\n<p>In a Maven repository, each and every file has to follow the same naming convention: <code>artifactId-version(-classifier).type</code>. Every secondary artifact will have the same GAV (group id, artifact id, version) as the main artifact so if you want to put inside a Maven repo 1 main artifact and 1 attached artifact (like it would be the case for  a main JAR along with its JAR Javadoc and JAR sources), you need some way to distinguish them. Which is what the <code>classifier</code> is for: distinguish secondary artifacts from the main artifact.</p>\n\n<hr>\n\n<p>Let's go back to your example now. Your Maven project, which is of <code>jar</code> packaging, will produce by default a main JAR artifact called <code>my.module-5.0.0-SNAPSHOT.jar</code>; still by default, this main JAR is attached to the project (and ready to be installed / deployed). Now you're configuring the <code>maven-assembly-plugin</code> to create a new JAR artifact (called <code>helper-5.0.0-SNAPSHOT.jar</code> but it really doesn't matter). The Assembly Plugin, by default, <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#attach\" rel=\"noreferrer\">attaches to the project the artifact it produces</a>. So you end up with 2 attached artifacts</p>\n\n<ol>\n<li>having the same artifact id of <code>my.module</code>; the fact that the file on disk inside the <code>target</code> folder is named <code>helper</code> for one is irrelevant, only the GAV coordinates matter</li>\n<li>having the same version of <code>5.0.0-SNAPSHOT</code></li>\n<li>having the same packaging of JAR</li>\n</ol>\n\n<p>and no classifier to distinguish them. This is what raises the warning: you end up attaching to the project a secondary artifact that effectively replaces the main one, simply because it has the same coordinates. So the result is:</p>\n\n<ol>\n<li>Both files having different names on disk inside <code>target</code>, but that is irrelevant because</li>\n<li>Both share the same coordinates so only 1 will survive.</li>\n</ol>\n\n<p>It is the one produced by the Assembly Plugin that will win the conflict, and replace the attached main artifact.</p>\n\n<p>If you want to convince yourself of all that, run <code>mvn clean install</code> on the project and check your local repo. You will notice that only the <code>jar-with-dependencies</code> artifact will be installed. The other one (the main artifact) went poof.</p>\n\n<p>You can also configure a <code>&lt;distributionManagement&gt;</code>:</p>\n\n<pre><code>&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;local-repo-test&lt;/id&gt;\n        &lt;url&gt;file://...&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n\n<p>and invoke <code>mvn clean deploy</code>. You can then check that the only deployed artifact will be the <code>jar-with-dependencies</code>.</p>\n\n<hr>\n\n<p>Final note: Yes, the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#classifier\" rel=\"noreferrer\"><code>classifier</code></a> parameter of the Assembly Plugin is deprecated, because you should just use the assembly id as classifier.</p>\n"},{"tags":[],"owner":{"account_id":26682180,"reputation":1,"user_id":20291988,"display_name":"Kyle Seaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684184011,"creation_date":1684184011,"answer_id":76257852,"question_id":38482839,"body_markdown":"If you want use the pre-defined decriptor `jar-with-dependencies` but have a classifier that is different from &quot;jar-with-dependencies&quot;, you can simply copy the &quot;jar-with-dependencies&quot; format into your own assembly file and re-name the id to whatever classifier you&#39;d like.\r\n\r\nHere is the pre-defined descriptor format (source: https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies):\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\r\n      &lt;!-- TODO: a jarjar format would be better --&gt;\r\n      &lt;id&gt;jar-with-dependencies&lt;/id&gt;\r\n      &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n      &lt;/formats&gt;\r\n      &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n      &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n          &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n          &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n          &lt;unpack&gt;true&lt;/unpack&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n      &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\n\r\nCopy this into your own assembly.xml, and rename the id:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\r\n      &lt;!-- TODO: a jarjar format would be better --&gt;\r\n      &lt;id&gt;my-classifier&lt;/id&gt;\r\n      &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n      &lt;/formats&gt;\r\n      &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n      &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n          &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n          &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n          &lt;unpack&gt;true&lt;/unpack&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n      &lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nNow, if you set `&lt;appendAssemblyId&gt;` to true, you will get the same jar as before, but with a custom classifier.","title":"maven-assembly-plugin: How to use appendAssemblyId","body":"<p>If you want use the pre-defined decriptor <code>jar-with-dependencies</code> but have a classifier that is different from &quot;jar-with-dependencies&quot;, you can simply copy the &quot;jar-with-dependencies&quot; format into your own assembly file and re-name the id to whatever classifier you'd like.</p>\n<p>Here is the pre-defined descriptor format (source: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies</a>):</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\n  &lt;!-- TODO: a jarjar format would be better --&gt;\n  &lt;id&gt;jar-with-dependencies&lt;/id&gt;\n  &lt;formats&gt;\n    &lt;format&gt;jar&lt;/format&gt;\n  &lt;/formats&gt;\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n  &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n      &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n      &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n      &lt;unpack&gt;true&lt;/unpack&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n  &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Copy this into your own assembly.xml, and rename the id:</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.2.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.2.0 https://maven.apache.org/xsd/assembly-2.2.0.xsd&quot;&gt;\n  &lt;!-- TODO: a jarjar format would be better --&gt;\n  &lt;id&gt;my-classifier&lt;/id&gt;\n  &lt;formats&gt;\n    &lt;format&gt;jar&lt;/format&gt;\n  &lt;/formats&gt;\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n  &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n      &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n      &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n      &lt;unpack&gt;true&lt;/unpack&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n  &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Now, if you set <code>&lt;appendAssemblyId&gt;</code> to true, you will get the same jar as before, but with a custom classifier.</p>\n"}],"owner":{"account_id":217966,"reputation":12429,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24824,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":38484021,"answer_count":2,"score":44,"last_activity_date":1684184011,"creation_date":1469021691,"question_id":38482839,"body_markdown":"I have a multi-module Maven project and in one module I want to create two artifacts during the build:\r\n\r\n * The main artifact which is a jar library that some of the other modules will depend on.\r\n * An executable jar file that executes some helper functions. No other modules depends on this and its only intended for the user to run it manually in certain situations.\r\n\r\nHere is the code that I use to configure the `maven-assembly-plugin` plugin:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;\r\n            maven-assembly-plugin\r\n        &lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;dist-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n\r\n            &lt;configuration&gt;\r\n              &lt;finalName&gt;bso&lt;/finalName&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n              &lt;finalName&gt;helper-${project.version}&lt;/finalName&gt;\r\n              &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;HelperMain&lt;mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nI am setting `appendAssemblyId` to `false` because otherwise `-jar-with-dependencies` will be appended to the final name and I do not see the need for it. Omitting it gives a cleaner and easier to use file name.\r\n\r\nWhen I run `mvn integration-test` then I receive the following warnings:\r\n\r\n&gt;[WARNING] Configuration options: &#39;appendAssemblyId&#39; is set to false, and &#39;classifier&#39; is missing.\r\n&gt;Instead of attaching the assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar, it will become the file for main project artifact.\r\n\r\n&gt;NOTE: If multiple descriptors or descriptor-formats are provided for this project, the value of this file will be non-deterministic!\r\n\r\n&gt;[WARNING] Replacing pre-existing project main-artifact file: [...]/target/my.module-5.0.0-SNAPSHOT.jar\r\nwith assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar\r\n\r\n\r\n\r\nThere are two things which irritate me:\r\n\r\n1. Despite the fact that the warning claims it will replace my.module-5.0.0-SNAPSHOT.jar with helper-5.0.0-SNAPSHOT.jar it does not actually do so and when the build has finished both files still have different sizes.\r\n\r\n2. Why does the warning about replacing the artifact appear at all?\r\n\r\n3. It seems that `classifier` is deprecated why does the warning ask me to use it?\r\n","title":"maven-assembly-plugin: How to use appendAssemblyId","body":"<p>I have a multi-module Maven project and in one module I want to create two artifacts during the build:</p>\n\n<ul>\n<li>The main artifact which is a jar library that some of the other modules will depend on.</li>\n<li>An executable jar file that executes some helper functions. No other modules depends on this and its only intended for the user to run it manually in certain situations.</li>\n</ul>\n\n<p>Here is the code that I use to configure the <code>maven-assembly-plugin</code> plugin:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;\n        maven-assembly-plugin\n    &lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;dist-assembly&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n\n        &lt;configuration&gt;\n          &lt;finalName&gt;bso&lt;/finalName&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;finalName&gt;helper-${project.version}&lt;/finalName&gt;\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;HelperMain&lt;mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>I am setting <code>appendAssemblyId</code> to <code>false</code> because otherwise <code>-jar-with-dependencies</code> will be appended to the final name and I do not see the need for it. Omitting it gives a cleaner and easier to use file name.</p>\n\n<p>When I run <code>mvn integration-test</code> then I receive the following warnings:</p>\n\n<blockquote>\n  <p>[WARNING] Configuration options: 'appendAssemblyId' is set to false, and 'classifier' is missing.\n  Instead of attaching the assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar, it will become the file for main project artifact.</p>\n  \n  <p>NOTE: If multiple descriptors or descriptor-formats are provided for this project, the value of this file will be non-deterministic!</p>\n  \n  <p>[WARNING] Replacing pre-existing project main-artifact file: [...]/target/my.module-5.0.0-SNAPSHOT.jar\n  with assembly file: [...]/target/helper-5.0.0-SNAPSHOT.jar</p>\n</blockquote>\n\n<p>There are two things which irritate me:</p>\n\n<ol>\n<li><p>Despite the fact that the warning claims it will replace my.module-5.0.0-SNAPSHOT.jar with helper-5.0.0-SNAPSHOT.jar it does not actually do so and when the build has finished both files still have different sizes.</p></li>\n<li><p>Why does the warning about replacing the artifact appear at all?</p></li>\n<li><p>It seems that <code>classifier</code> is deprecated why does the warning ask me to use it?</p></li>\n</ol>\n"},{"tags":["java","json","jackson","apache-camel"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684166468,"post_id":76255813,"comment_id":134473927,"body_markdown":"Assuming the parser is using streaming-json, then it would only look for the first pair of open-close brackets, and ignore the rest of the payload. But also, the double-quote should throw an error, yes","body":"Assuming the parser is using streaming-json, then it would only look for the first pair of open-close brackets, and ignore the rest of the payload. But also, the double-quote should throw an error, yes"}],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684172840,"creation_date":1684172840,"answer_id":76256703,"question_id":76255813,"body_markdown":"You can customize the config of the Jackson mapper that is used internally by Camel for the binding.\r\n\r\nHave a try with the &quot;json.in.*&quot; properties to enable/disable some Jackson settings.\r\nThere is maybe one to be more strict ?\r\n\r\n    restConfiguration().component(&quot;...&quot;) \r\n    \t\t\t.bindingMode(RestBindingMode.json)\r\n    \t\t\t.dataFormatProperty(&quot;json.in.disableFeatures&quot;, &quot;FAIL_ON_UNKNOWN_PROPERTIES,ADJUST_DATES_TO_CONTEXT_TIME_ZONE&quot;)\r\n       \t\t\t.dataFormatProperty(&quot;json.in.enableFeatures&quot;, &quot;FAIL_ON_NUMBERS_FOR_ENUMS,USE_BIG_DECIMAL_FOR_FLOATS&quot;);\r\n\t\t\t","title":"Apache Camel consumes() accepts invalid JSON","body":"<p>You can customize the config of the Jackson mapper that is used internally by Camel for the binding.</p>\n<p>Have a try with the &quot;json.in.*&quot; properties to enable/disable some Jackson settings.\nThere is maybe one to be more strict ?</p>\n<pre><code>restConfiguration().component(&quot;...&quot;) \n            .bindingMode(RestBindingMode.json)\n            .dataFormatProperty(&quot;json.in.disableFeatures&quot;, &quot;FAIL_ON_UNKNOWN_PROPERTIES,ADJUST_DATES_TO_CONTEXT_TIME_ZONE&quot;)\n            .dataFormatProperty(&quot;json.in.enableFeatures&quot;, &quot;FAIL_ON_NUMBERS_FOR_ENUMS,USE_BIG_DECIMAL_FOR_FLOATS&quot;);\n        \n</code></pre>\n"}],"owner":{"account_id":318482,"reputation":1198,"user_id":635733,"accept_rate":79,"display_name":"Rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684183373,"creation_date":1684165672,"question_id":76255813,"body_markdown":"I have a RESTful endpoint to create a user:\r\n\r\n```json\r\nPOST /users/new\r\n\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;John Doe&quot;\r\n}\r\n```\r\n\r\nCamel handles the request via `consumes()` and magically (with the help of Jackson?) transforms keys of the JSON object into message headers, which I access to store the user.\r\n\r\n```java\r\nthis.restConfiguration()\r\n    .component(&quot;netty4-http&quot;)\r\n    .bindingMode(RestBindingMode.json)\r\n    .contextPath(&quot;/&quot;).port(AbstractRestRoute.PORT)\r\n    .enableCORS(true)\r\n    .corsAllowCredentials(true)\r\n    .corsHeaderProperty(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\r\n\r\nthis.rest.(&quot;/users&quot;)\r\n    .post(&quot;/new&quot;)\r\n        .consumes(&quot;application/json&quot;)\r\n        .produces(&quot;application/json&quot;)\r\n        .to(&quot;direct:rest:newuser&quot;);\r\n```\r\n\r\nThis works as expected. However, one client managed to pass two users objects to the endpoint like this:\r\n\r\n```json\r\nPOST /users/new\r\n\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;name&quot;: &quot;John Doe&quot;\r\n}\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;Jane Doe&quot;\r\n}\r\n```\r\n\r\nI would expect Camel to throw a JSON parsing error here.\r\n\r\nBut: It turns out, the app serves the request (!) and silently ignores the second object. So the request produces the same result as the one above.\r\n\r\nCan I put Camel into strict JSON parsing mode to throw an error here?","title":"Apache Camel consumes() accepts invalid JSON","body":"<p>I have a RESTful endpoint to create a user:</p>\n<pre class=\"lang-json prettyprint-override\"><code>POST /users/new\n\n{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;John Doe&quot;\n}\n</code></pre>\n<p>Camel handles the request via <code>consumes()</code> and magically (with the help of Jackson?) transforms keys of the JSON object into message headers, which I access to store the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.restConfiguration()\n    .component(&quot;netty4-http&quot;)\n    .bindingMode(RestBindingMode.json)\n    .contextPath(&quot;/&quot;).port(AbstractRestRoute.PORT)\n    .enableCORS(true)\n    .corsAllowCredentials(true)\n    .corsHeaderProperty(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\n\nthis.rest.(&quot;/users&quot;)\n    .post(&quot;/new&quot;)\n        .consumes(&quot;application/json&quot;)\n        .produces(&quot;application/json&quot;)\n        .to(&quot;direct:rest:newuser&quot;);\n</code></pre>\n<p>This works as expected. However, one client managed to pass two users objects to the endpoint like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>POST /users/new\n\n{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;John Doe&quot;\n}\n{\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;Jane Doe&quot;\n}\n</code></pre>\n<p>I would expect Camel to throw a JSON parsing error here.</p>\n<p>But: It turns out, the app serves the request (!) and silently ignores the second object. So the request produces the same result as the one above.</p>\n<p>Can I put Camel into strict JSON parsing mode to throw an error here?</p>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api-client"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684182852,"creation_date":1684182852,"answer_id":76257753,"question_id":76254555,"body_markdown":"I tried with [Wrapper Query][1].\r\n\r\nConvert query to [Base64][2] and run the code bellow.\r\n\r\nQuery {&quot;match_all&quot;: {}} is ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==.\r\n\r\n    var wrapper = WrapperQuery.of(wq -&gt; wq.query(&quot;ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==&quot;));\r\n    \r\n    var request = SearchRequest.of(sr -&gt; sr\r\n        .index(&quot;idx_movies&quot;)\r\n        .query(Query.of(q -&gt; q.wrapper(wrapper))));\r\n    \r\n    SearchResponse&lt;Movie&gt; response = ClientUtils.getClient().search(request, Movie.class);\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wrapper-query.html\r\n  [2]: https://codebeautify.org/json-to-base64-converter#","title":"Is there a way to create an object of co.elastic.clients.elasticsearch._types.query_dsl.Query from a queryString?","body":"<p>I tried with <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wrapper-query.html\" rel=\"nofollow noreferrer\">Wrapper Query</a>.</p>\n<p>Convert query to <a href=\"https://codebeautify.org/json-to-base64-converter#\" rel=\"nofollow noreferrer\">Base64</a> and run the code bellow.</p>\n<p>Query {&quot;match_all&quot;: {}} is ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==.</p>\n<pre><code>var wrapper = WrapperQuery.of(wq -&gt; wq.query(&quot;ewogICAgIm1hdGNoX2FsbCI6IHt9CiAgfQ==&quot;));\n\nvar request = SearchRequest.of(sr -&gt; sr\n    .index(&quot;idx_movies&quot;)\n    .query(Query.of(q -&gt; q.wrapper(wrapper))));\n\nSearchResponse&lt;Movie&gt; response = ClientUtils.getClient().search(request, Movie.class);\n</code></pre>\n"}],"owner":{"account_id":8143395,"reputation":55,"user_id":6132761,"display_name":"Indrapreet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684182852,"creation_date":1684157062,"question_id":76254555,"body_markdown":"I have a complex Elasticsearch String query which I don&#39;t want to create using Java classes. \r\n\r\nIs there a way I can achieve it so as to use it something like:\r\n\r\n```\r\nQuery query = getQueryFromString(queryString);\r\n    \r\nco.elastic.clients.elasticsearch.core.SearchResponse searchResponse = null;\r\n    try {\r\n\r\n        co.elastic.clients.elasticsearch.core.SearchRequest request = new co.elastic.clients.elasticsearch.core.SearchRequest.Builder()\r\n                .index(indexName)\r\n                .size(pageSize)\r\n                .query(query\r\n                ).build();\r\n\r\n        searchResponse = esClient.withTransportOptions(getRequestOptions()).search(request, Object.class);\r\n\r\n    } catch (Exception ex) {\r\n        log.error(&quot;Some exception occurred while requesting response from elasticsearch&quot;, ex);\r\n    }\r\n\r\n```\r\n\r\nI went through the documentation but couldn&#39;t really find a way to achieve so.\r\nAny help would be really appreciated.","title":"Is there a way to create an object of co.elastic.clients.elasticsearch._types.query_dsl.Query from a queryString?","body":"<p>I have a complex Elasticsearch String query which I don't want to create using Java classes.</p>\n<p>Is there a way I can achieve it so as to use it something like:</p>\n<pre><code>Query query = getQueryFromString(queryString);\n    \nco.elastic.clients.elasticsearch.core.SearchResponse searchResponse = null;\n    try {\n\n        co.elastic.clients.elasticsearch.core.SearchRequest request = new co.elastic.clients.elasticsearch.core.SearchRequest.Builder()\n                .index(indexName)\n                .size(pageSize)\n                .query(query\n                ).build();\n\n        searchResponse = esClient.withTransportOptions(getRequestOptions()).search(request, Object.class);\n\n    } catch (Exception ex) {\n        log.error(&quot;Some exception occurred while requesting response from elasticsearch&quot;, ex);\n    }\n\n</code></pre>\n<p>I went through the documentation but couldn't really find a way to achieve so.\nAny help would be really appreciated.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":2492859,"reputation":1508,"user_id":2169998,"display_name":"Sridhar"},"score":0,"creation_date":1507815409,"post_id":46710644,"comment_id":80368471,"body_markdown":"Implement `Serializeable` Interface &amp; save it to file [refer](http://www.studytonight.com/java/serialization-and-deserialization.php)","body":"Implement <code>Serializeable</code> Interface &amp; save it to file <a href=\"http://www.studytonight.com/java/serialization-and-deserialization.php\" rel=\"nofollow noreferrer\">refer</a>"},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507815592,"post_id":46710644,"comment_id":80368581,"body_markdown":"@ClementAmarnath Sorry i didn&#39;t clarify this but this file is utilized to store large sums of data from a different class and through some of my testing in that other file i was unable to Serialize the object from that class due to errors which i will now add to my post.","body":"@ClementAmarnath Sorry i didn&#39;t clarify this but this file is utilized to store large sums of data from a different class and through some of my testing in that other file i was unable to Serialize the object from that class due to errors which i will now add to my post."},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507816203,"post_id":46710644,"comment_id":80369049,"body_markdown":"information is updated with a sample example of my issues with the recieving of data. In case it is necesary the variables are all declared as so:      rasPath is a file folder path which is where the data will be placed in the file.    FullPath is the place where the data is held for the object.","body":"information is updated with a sample example of my issues with the recieving of data. In case it is necesary the variables are all declared as so:      rasPath is a file folder path which is where the data will be placed in the file.    FullPath is the place where the data is held for the object."},{"owner":{"account_id":2671839,"reputation":5341,"user_id":2309068,"display_name":"Clement Amarnath"},"score":0,"creation_date":1507817770,"post_id":46710644,"comment_id":80370180,"body_markdown":"@AndrewLinington - I could only see `out.flush();` missing before `out.close();` , try by adding flush to your code","body":"@AndrewLinington - I could only see <code>out.flush();</code> missing before <code>out.close();</code> , try by adding flush to your code"},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1507818300,"post_id":46710644,"comment_id":80370578,"body_markdown":"@ClementAmarnath got it to work by changing the way my path name was declared but what does out.flush(); do?","body":"@ClementAmarnath got it to work by changing the way my path name was declared but what does out.flush(); do?"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":2,"creation_date":1507828588,"post_id":46710644,"comment_id":80376985,"body_markdown":"@ClementAmarnath: *&quot;...explain why you need serialization here, since there is no ... data transfer over the network?&quot;*  There are other valid uses for serialization.  Implementations of the Enterprise Java Bean specification 3.1+, for example, may use serialization/deserialization as the mechanism for passivation &amp; re-activation of stateful beans from/to application server memory.","body":"@ClementAmarnath: <i>&quot;...explain why you need serialization here, since there is no ... data transfer over the network?&quot;</i>  There are other valid uses for serialization.  Implementations of the Enterprise Java Bean specification 3.1+, for example, may use serialization/deserialization as the mechanism for passivation &amp; re-activation of stateful beans from/to application server memory."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1508146870,"post_id":46710644,"comment_id":80479711,"body_markdown":"@ClementAmarnath It is for you to explain why you think that serialization should only be used over a network. Your comment is incomprehensible.","body":"@ClementAmarnath It is for you to explain why you think that serialization should only be used over a network. Your comment is incomprehensible."},{"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"score":0,"creation_date":1508160453,"post_id":46710644,"comment_id":80488412,"body_markdown":"@scottb but in regards to the use of what i am doing I A) am not using java bean but instead eclipse and B) am only using serialization to store data to be called on that specific computer it is used on. I thank you for some of the clarification.","body":"@scottb but in regards to the use of what i am doing I A) am not using java bean but instead eclipse and B) am only using serialization to store data to be called on that specific computer it is used on. I thank you for some of the clarification."}],"answers":[{"tags":[],"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507997799,"creation_date":1507818478,"answer_id":46712197,"question_id":46710644,"body_markdown":"in regards to my issue i found out it was actually due to my path name having an extension created inaccurately thus preventing the data from being located. All is good","title":"Serializing an object containing an array and an int","body":"<p>in regards to my issue i found out it was actually due to my path name having an extension created inaccurately thus preventing the data from being located. All is good</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507828022,"creation_date":1507828022,"answer_id":46715261,"question_id":46710644,"body_markdown":"You are trying to deserialize from an empty file.","title":"Serializing an object containing an array and an int","body":"<p>You are trying to deserialize from an empty file.</p>\n"}],"owner":{"account_id":11973256,"reputation":45,"user_id":8761169,"display_name":"Andrew Linington"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46715261,"answer_count":2,"score":5,"last_activity_date":1684182796,"creation_date":1507814193,"question_id":46710644,"body_markdown":"I have been trying to implement a way to save some of my Objects in a file so that I can cut down on the need for filling a variable each run time which can take upwards of 20 minutes. I am currently in the midst of using an Object called a Raster which can be filled using a type File which is used to pull data into the fields. I am wondering how I would be able to serialize the following.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.Serializable;\r\n    \r\n    public class Raster implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 15L;\r\n    \tprivate int col,row,NODATA;\r\n    \tprivate double [] [] Ras;\r\n    \tpublic Raster (File inData) throws IOException\r\n    \t{\r\n    \t//open file as f\r\n    \tBufferedReader f = new BufferedReader(new FileReader(inData));\r\n    \tthis.col = Integer.parseInt(f.readLine().substring(5).trim());\r\n    \tthis.row = Integer.parseInt(f.readLine().substring(5).trim());\r\n    \tf.readLine();\r\n    \tf.readLine();\r\n    \tf.readLine();\r\n    \tthis.NODATA = Integer.parseInt(f.readLine().substring(12).trim());\r\n    \t//now the data will be added\r\n    \tthis.Ras = new double [row] [col];\r\n    \tfor (int r = 0 ; r &lt;row;r ++ )\r\n    \t\t{\r\n    \t\tString[] vals = f.readLine().split(&quot; &quot;);\r\n    \t\tfor (int c = 0 ; c &lt; col; c ++ )\r\n    \t\t\tthis.Ras[r][c]= Double.parseDouble(vals[c]);\r\n    \t\t}\r\n    \tf.close();\r\n    \t}\r\n    \tpublic int getRows() {\r\n    \t\treturn row;\r\n    \t}\r\n    \tpublic int getCols() {\r\n    \t\treturn col;\r\n    \t}\r\n    \tpublic double getData(int rowPos, int colPos) {\r\n    \t\treturn Ras[rowPos][colPos];\r\n    \t}\r\n    }\r\n\r\nI have looked at some other examples but they all seem to be rather specific to other types of data other than an array inside of an object and so I hope that someone might be able to explain a way I might be able to serialize this.\r\n\r\nP.S.\r\nI have edited the code to better Explain my problem as it sems it isn&#39;t clear enough. When using the serialize this class it would come up with an error like this:\r\n\r\n    Exception in thread &quot;main&quot; java.io.EOFException\r\n    \tat java.io.ObjectInputStream$PeekInputStream.readFully(Unknown Source)\r\n    \tat java.io.ObjectInputStream$BlockDataInputStream.readShort(Unknown Source)\r\n    \tat java.io.ObjectInputStream.readStreamHeader(Unknown Source)\r\n    \tat java.io.ObjectInputStream.&lt;init&gt;(Unknown Source)\r\n\r\n\r\nwhen I ran my code which looks like this \r\n\r\n    if (rasPath.exists()) {\r\n    \t\t\t\tObjectInputStream in = new ObjectInputStream(new FileInputStream(rasPath));\r\n    \t\t\t\tRaster SqrRas =  (Raster) (in).readObject();\r\n    \t\t\t\tin.close();\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tRaster SqrRas = new Raster (fullPath);\r\n    \t\t\t\tObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(rasPath));\r\n    \t\t\t\tout.writeObject(SqrRas);\r\n    \t\t\t\tout.close();\r\n    \t\t\t}\r\n\r\n","title":"Serializing an object containing an array and an int","body":"<p>I have been trying to implement a way to save some of my Objects in a file so that I can cut down on the need for filling a variable each run time which can take upwards of 20 minutes. I am currently in the midst of using an Object called a Raster which can be filled using a type File which is used to pull data into the fields. I am wondering how I would be able to serialize the following.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.Serializable;\n\npublic class Raster implements Serializable {\n    \n    private static final long serialVersionUID = 15L;\n    private int col,row,NODATA;\n    private double [] [] Ras;\n    public Raster (File inData) throws IOException\n    {\n    //open file as f\n    BufferedReader f = new BufferedReader(new FileReader(inData));\n    this.col = Integer.parseInt(f.readLine().substring(5).trim());\n    this.row = Integer.parseInt(f.readLine().substring(5).trim());\n    f.readLine();\n    f.readLine();\n    f.readLine();\n    this.NODATA = Integer.parseInt(f.readLine().substring(12).trim());\n    //now the data will be added\n    this.Ras = new double [row] [col];\n    for (int r = 0 ; r &lt;row;r ++ )\n        {\n        String[] vals = f.readLine().split(&quot; &quot;);\n        for (int c = 0 ; c &lt; col; c ++ )\n            this.Ras[r][c]= Double.parseDouble(vals[c]);\n        }\n    f.close();\n    }\n    public int getRows() {\n        return row;\n    }\n    public int getCols() {\n        return col;\n    }\n    public double getData(int rowPos, int colPos) {\n        return Ras[rowPos][colPos];\n    }\n}\n</code></pre>\n<p>I have looked at some other examples but they all seem to be rather specific to other types of data other than an array inside of an object and so I hope that someone might be able to explain a way I might be able to serialize this.</p>\n<p>P.S.\nI have edited the code to better Explain my problem as it sems it isn't clear enough. When using the serialize this class it would come up with an error like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.EOFException\n    at java.io.ObjectInputStream$PeekInputStream.readFully(Unknown Source)\n    at java.io.ObjectInputStream$BlockDataInputStream.readShort(Unknown Source)\n    at java.io.ObjectInputStream.readStreamHeader(Unknown Source)\n    at java.io.ObjectInputStream.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>when I ran my code which looks like this</p>\n<pre><code>if (rasPath.exists()) {\n                ObjectInputStream in = new ObjectInputStream(new FileInputStream(rasPath));\n                Raster SqrRas =  (Raster) (in).readObject();\n                in.close();         \n            }\n            else {\n                Raster SqrRas = new Raster (fullPath);\n                ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(rasPath));\n                out.writeObject(SqrRas);\n                out.close();\n            }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7783437,"reputation":10208,"user_id":5889131,"accept_rate":100,"display_name":"jeremysprofile"},"score":0,"creation_date":1559601645,"post_id":5681458,"comment_id":99464955,"body_markdown":"Note that this will *not* match all RICs, just a small subset of RICs that OP apparently cares about.","body":"Note that this will <i>not</i> match all RICs, just a small subset of RICs that OP apparently cares about."}],"answers":[{"tags":[],"owner":{"account_id":7949,"reputation":2766,"user_id":14019,"accept_rate":80,"display_name":"Adam Straughan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302896177,"creation_date":1302896177,"answer_id":5681504,"question_id":5681458,"body_markdown":"how about this?\r\n\r\n    [A-Z]{1,4}\\.[A-Z]{1,2}\r\n\r\nthis Java focused page may help http://www.shiffman.net/teaching/a2z/regex/","title":"Java Regular Expression for RIC code","body":"<p>how about this?</p>\n\n<pre><code>[A-Z]{1,4}\\.[A-Z]{1,2}\n</code></pre>\n\n<p>this Java focused page may help <a href=\"http://www.shiffman.net/teaching/a2z/regex/\" rel=\"nofollow\">http://www.shiffman.net/teaching/a2z/regex/</a></p>\n"},{"tags":[],"owner":{"account_id":28581,"reputation":32029,"user_id":76456,"accept_rate":78,"display_name":"Paul Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683076720,"creation_date":1302896409,"answer_id":5681538,"question_id":5681458,"body_markdown":"    /^[A-Z]{1,4}\\.[A-Z]{1,2}$/\r\n\r\nSample and tests can be found at http://refiddle.co/10o","title":"Java Regular Expression for RIC code","body":"<pre><code>/^[A-Z]{1,4}\\.[A-Z]{1,2}$/\n</code></pre>\n<p>Sample and tests can be found at <a href=\"http://refiddle.co/10o\" rel=\"nofollow noreferrer\">http://refiddle.co/10o</a></p>\n"},{"tags":[],"owner":{"account_id":91814,"reputation":893,"user_id":251930,"display_name":"Nathan Crause"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684182636,"creation_date":1684173953,"answer_id":76256857,"question_id":5681458,"body_markdown":"Your specific use-case and the above answers lack support for option symbols, which are also valid RIC codes, nor do they take into account compound &quot;exchange&quot; markers, or indices, such as &quot;.SPSUPX&quot; for S&amp;P 1500.\r\n\r\nFor example, while the other answers will identify &quot;IBM.N&quot;, it won&#39;t identify &quot;SPXWF162320000.U&quot;, which is a weekly SPX option.\r\n\r\nThe following regex will cover both cases, and will split it up into it&#39;s constituent parts. Do note that &quot;expiryMonth&quot; is a single character flag representing the month, type (whether CALL or PUT) as well as the denomination of the strike price.\r\n\r\nFor example an &quot;A&quot; means January, CALL, strike price &lt; 1000 (so strike price is represented in 10 cents. By comparison a &quot;n&quot; (explicitly lower-case) means February, PUT, strike price &gt; 1000 (so strike price is represented in cents).\r\n\r\n    Pattern.compile(&quot;^(?&lt;symbol&gt;\\\\w+?)(?:(?&lt;expiryMonth&gt;[a-xA-X])(?&lt;expiryDay&gt;\\\\d{2})(?&lt;expiryYear&gt;\\\\d{2})(?&lt;strikePrice&gt;\\\\d+))?\\\\.(?&lt;exchange&gt;.+)$&quot;);","title":"Java Regular Expression for RIC code","body":"<p>Your specific use-case and the above answers lack support for option symbols, which are also valid RIC codes, nor do they take into account compound &quot;exchange&quot; markers, or indices, such as &quot;.SPSUPX&quot; for S&amp;P 1500.</p>\n<p>For example, while the other answers will identify &quot;IBM.N&quot;, it won't identify &quot;SPXWF162320000.U&quot;, which is a weekly SPX option.</p>\n<p>The following regex will cover both cases, and will split it up into it's constituent parts. Do note that &quot;expiryMonth&quot; is a single character flag representing the month, type (whether CALL or PUT) as well as the denomination of the strike price.</p>\n<p>For example an &quot;A&quot; means January, CALL, strike price &lt; 1000 (so strike price is represented in 10 cents. By comparison a &quot;n&quot; (explicitly lower-case) means February, PUT, strike price &gt; 1000 (so strike price is represented in cents).</p>\n<pre><code>Pattern.compile(&quot;^(?&lt;symbol&gt;\\\\w+?)(?:(?&lt;expiryMonth&gt;[a-xA-X])(?&lt;expiryDay&gt;\\\\d{2})(?&lt;expiryYear&gt;\\\\d{2})(?&lt;strikePrice&gt;\\\\d+))?\\\\.(?&lt;exchange&gt;.+)$&quot;);\n</code></pre>\n"}],"owner":{"account_id":738575,"reputation":11,"user_id":710435,"display_name":"Risa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684182636,"creation_date":1302895882,"question_id":5681458,"body_markdown":"I&#39;m looking for a regular expression in Java that will determine if a string is of a valid market data format (RIC).  The acceptable instrument codes are composed of a root (one to four characters – A through Z), followed by a period sign, then a one- or two-character (A through Z) code.  ","title":"Java Regular Expression for RIC code","body":"<p>I'm looking for a regular expression in Java that will determine if a string is of a valid market data format (RIC).  The acceptable instrument codes are composed of a root (one to four characters – A through Z), followed by a period sign, then a one- or two-character (A through Z) code.  </p>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":1,"creation_date":1685471902,"post_id":76257711,"comment_id":134663954,"body_markdown":"why do you need the event queue at all? You are going down the wrong path","body":"why do you need the event queue at all? You are going down the wrong path"}],"owner":{"account_id":19817696,"reputation":49,"user_id":14514967,"display_name":"namnv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684182285,"creation_date":1684182285,"question_id":76257711,"body_markdown":"&quot;I am learning about Vert.x and trying to find a way to get the event queue in Vert.x, but I cannot find any documentation or instructions on how to do this. I am wondering if I misunderstood that Vert.x does not have an event queue or if it&#39;s located in Netty.&quot;","title":"Is there a way to get the event queue in Vert.x?","body":"<p>&quot;I am learning about Vert.x and trying to find a way to get the event queue in Vert.x, but I cannot find any documentation or instructions on how to do this. I am wondering if I misunderstood that Vert.x does not have an event queue or if it's located in Netty.&quot;</p>\n"},{"tags":["java","eclipse","batch-file"],"comments":[{"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"score":1,"creation_date":1355303051,"post_id":13836092,"comment_id":19043241,"body_markdown":"It is not clear what you want. Run an external program  from java? Or run an exernal program from eclipse? Also that program must run on a different machine?","body":"It is not clear what you want. Run an external program  from java? Or run an exernal program from eclipse? Also that program must run on a different machine?"},{"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"score":0,"creation_date":1355303611,"post_id":13836092,"comment_id":19043475,"body_markdown":"If it is the only thing you want to do, pick some different language. Bash or some other scripting lang. is much more suitable. Or just plain old bat files.","body":"If it is the only thing you want to do, pick some different language. Bash or some other scripting lang. is much more suitable. Or just plain old bat files."}],"answers":[{"tags":[],"owner":{"account_id":28344158,"reputation":1,"user_id":21676648,"display_name":"AlejoPolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684182230,"creation_date":1684175005,"answer_id":76256972,"question_id":13836092,"body_markdown":"Solution:\r\n\r\n    AWSBatch client = AWSBatchClientBuilder.standard().build();\r\n    SubmitJobRequest request = new SubmitJobRequest().withJobName(&quot;example&quot;).withJobQueue(&quot;HighPriority&quot;).withJobDefinition(&quot;sleep60&quot;);\r\n    SubmitJobResult response = client.submitJob(request);\r\n\r\nLink info: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/batch/AWSBatch.html#listJobs-com.amazonaws.services.batch.model.ListJobsRequest-\r\n","title":"Execute batch in java using eclipse","body":"<p>Solution:</p>\n<pre><code>AWSBatch client = AWSBatchClientBuilder.standard().build();\nSubmitJobRequest request = new SubmitJobRequest().withJobName(&quot;example&quot;).withJobQueue(&quot;HighPriority&quot;).withJobDefinition(&quot;sleep60&quot;);\nSubmitJobResult response = client.submitJob(request);\n</code></pre>\n<p>Link info: <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/batch/AWSBatch.html#listJobs-com.amazonaws.services.batch.model.ListJobsRequest-\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/batch/AWSBatch.html#listJobs-com.amazonaws.services.batch.model.ListJobsRequest-</a></p>\n"}],"owner":{"account_id":2137754,"reputation":21,"user_id":1897099,"display_name":"user1897099"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684182230,"creation_date":1355302649,"question_id":13836092,"body_markdown":"I have a batch that is run in putty.  How can I run it using java in eclipse. Can it be executed in a command prompt?","title":"Execute batch in java using eclipse","body":"<p>I have a batch that is run in putty.  How can I run it using java in eclipse. Can it be executed in a command prompt?</p>\n"},{"tags":["java","cobol","mainframe","ebcdic","jrecord"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1505881964,"post_id":46313332,"comment_id":79588273,"body_markdown":"Could you please add proper tags to the question, so that its open to a wider audience.","body":"Could you please add proper tags to the question, so that its open to a wider audience."},{"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"score":1,"creation_date":1505882350,"post_id":46313332,"comment_id":79588382,"body_markdown":"This is a Question I intend to Answer my-self. I want to cover the whole proccess. I will more tags later","body":"This is a Question I intend to Answer my-self. I want to cover the whole proccess. I will more tags later"}],"answers":[{"tags":[],"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1529968545,"creation_date":1505881897,"answer_id":46313341,"question_id":46313332,"body_markdown":"## File Transfer\r\n\r\nTo transfer a **Binary** file from the Mainframe to Windows / *nix box you\r\nmust do a **Binary Transfer** for a very simple reason: the Ebcdic --&gt; Ascii\r\nprogram can not distinguish between binary fields and Text fields.\r\n\r\n    Comp-3 value   hex     hex after Ascii conversion\r\n\r\n     400          x&#39;400c&#39;       x&#39;200c&#39;       x&#39;40&#39; is the ebcdic space character\r\n                                              it gets converted to the ascii\r\n                                              space character x&#39;20&#39;\r\n\r\n                                              \r\nYou need to do a **Binary** transfer from the Mainframe. This will keep the file as EBCDIC and any binary fields will be untouched. You then read the file using Ebcdic. \r\n\r\nYou will **need** to check the **RECFM** on the Mainframe. If the **RECFM** is\r\n\r\n* **FB** - no problems just transfer\r\n* **VB** - either convert to FB on the mainframe of include the **RDW (Record Descriptor Word)** option in the file transfer.\r\n* **Other** - Convert to FB/VB on the mainframe\r\n\r\n\r\n## RecordEditor CodeGen\r\n\r\nThe [RecordEditor](https://sourceforge.net/projects/record-editor/) will use\r\ndetails from a Cobol Copybook and a Sample file to generate Java~JRecord Code.\r\n\r\n### Installing the Recordeditor\r\n\r\nInstall version 0.98.4 or later. Consider the USB version, you just unzip to a normal directory and run from there. No install is needed\r\n\r\nIf you install either HSQL version, restart the computer before use\r\n\r\n\r\n### Starting the Code Generator\r\n\r\nTo start the Code-Generator, select **Generate &gt;&gt;&gt; Java~JRecord code for Cobol**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n### First Generate Screen\r\n\r\nOn this screen enter the Cobol Copybook and Sample file (if you have one).\r\nThe **RecordEditor** will try and fill in the fields for you.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou may need to fix up the control fields though. When everything is correct\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhen everything is correct *press* the **Generate Java~JRecord** button\r\n  \r\n### Second Generate Screen\r\n\r\nOn this screen you can \r\n\r\n* Select the *Template* or *Model*\r\n* How the Java names are formated\r\n* package id etc.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n### Generated code\r\n\r\nThere are several *Templates* or *Models* that can be used, including\r\n\r\n* **Standard** - generates basic JRecord code. It will generate Java classes with Cobol field names as constants. This allows you to use IDE code completion instead of typing in the &quot;Cobol-Field-Names&quot;.\r\n* **lineWrapper** - Create a Java Wrapper around the Cobol Data.\r\n* **Pojo** - Creates Readers / Writers to convert Cobol Data to/from Java Pojo&#39;s \r\n\r\npress the **Generate Code** button to generate java code.\r\n\r\n**LineWrapper:**\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Pojo:**\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f7Etb.png\r\n  [2]: https://i.stack.imgur.com/E591A.png\r\n  [3]: https://i.stack.imgur.com/ANl1l.png\r\n  [4]: https://i.stack.imgur.com/YaLYr.png\r\n  [5]: https://i.stack.imgur.com/jxVQ0.png\r\n  [6]: https://i.stack.imgur.com/Z3ipP.png","title":"How do you generate java~jrecord code for a Cobol copybook","body":"<h2>File Transfer</h2>\n\n<p>To transfer a <strong>Binary</strong> file from the Mainframe to Windows / *nix box you\nmust do a <strong>Binary Transfer</strong> for a very simple reason: the Ebcdic --> Ascii\nprogram can not distinguish between binary fields and Text fields.</p>\n\n<pre><code>Comp-3 value   hex     hex after Ascii conversion\n\n 400          x'400c'       x'200c'       x'40' is the ebcdic space character\n                                          it gets converted to the ascii\n                                          space character x'20'\n</code></pre>\n\n<p>You need to do a <strong>Binary</strong> transfer from the Mainframe. This will keep the file as EBCDIC and any binary fields will be untouched. You then read the file using Ebcdic. </p>\n\n<p>You will <strong>need</strong> to check the <strong>RECFM</strong> on the Mainframe. If the <strong>RECFM</strong> is</p>\n\n<ul>\n<li><strong>FB</strong> - no problems just transfer</li>\n<li><strong>VB</strong> - either convert to FB on the mainframe of include the <strong>RDW (Record Descriptor Word)</strong> option in the file transfer.</li>\n<li><strong>Other</strong> - Convert to FB/VB on the mainframe</li>\n</ul>\n\n<h2>RecordEditor CodeGen</h2>\n\n<p>The <a href=\"https://sourceforge.net/projects/record-editor/\" rel=\"nofollow noreferrer\">RecordEditor</a> will use\ndetails from a Cobol Copybook and a Sample file to generate Java~JRecord Code.</p>\n\n<h3>Installing the Recordeditor</h3>\n\n<p>Install version 0.98.4 or later. Consider the USB version, you just unzip to a normal directory and run from there. No install is needed</p>\n\n<p>If you install either HSQL version, restart the computer before use</p>\n\n<h3>Starting the Code Generator</h3>\n\n<p>To start the Code-Generator, select <strong>Generate >>> Java~JRecord code for Cobol</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/f7Etb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f7Etb.png\" alt=\"enter image description here\"></a></p>\n\n<h3>First Generate Screen</h3>\n\n<p>On this screen enter the Cobol Copybook and Sample file (if you have one).\nThe <strong>RecordEditor</strong> will try and fill in the fields for you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/E591A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E591A.png\" alt=\"enter image description here\"></a></p>\n\n<p>You may need to fix up the control fields though. When everything is correct</p>\n\n<p><a href=\"https://i.stack.imgur.com/ANl1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANl1l.png\" alt=\"enter image description here\"></a></p>\n\n<p>When everything is correct <em>press</em> the <strong>Generate Java~JRecord</strong> button</p>\n\n<h3>Second Generate Screen</h3>\n\n<p>On this screen you can </p>\n\n<ul>\n<li>Select the <em>Template</em> or <em>Model</em></li>\n<li>How the Java names are formated</li>\n<li>package id etc.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/YaLYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YaLYr.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Generated code</h3>\n\n<p>There are several <em>Templates</em> or <em>Models</em> that can be used, including</p>\n\n<ul>\n<li><strong>Standard</strong> - generates basic JRecord code. It will generate Java classes with Cobol field names as constants. This allows you to use IDE code completion instead of typing in the \"Cobol-Field-Names\".</li>\n<li><strong>lineWrapper</strong> - Create a Java Wrapper around the Cobol Data.</li>\n<li><strong>Pojo</strong> - Creates Readers / Writers to convert Cobol Data to/from Java Pojo's </li>\n</ul>\n\n<p>press the <strong>Generate Code</strong> button to generate java code.</p>\n\n<p><strong>LineWrapper:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/jxVQ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jxVQ0.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Pojo:</strong>\n<a href=\"https://i.stack.imgur.com/Z3ipP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3ipP.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":20022941,"reputation":70,"user_id":14677456,"display_name":"Lovelin B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684181679,"creation_date":1684181679,"answer_id":76257664,"question_id":46313332,"body_markdown":"RecordEditor portable wants to use Java 1.6. ","title":"How do you generate java~jrecord code for a Cobol copybook","body":"<p>RecordEditor portable wants to use Java 1.6.</p>\n"}],"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7686,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":46313341,"answer_count":2,"score":5,"last_activity_date":1684181679,"creation_date":1505881846,"question_id":46313332,"body_markdown":"How do you use the [RecordEditor][1] to *Generate* [Java~JRecord][2] code\r\nfrom a *Cobol Copybook* to read/write a *Binary  EBCDIC Mainframe File*.\r\n\r\nThis a **Question** and **answer** to try an prevent some poor/misleading questions being asked or the answer can be pointed to.\r\n\r\n  [1]: https://sourceforge.net/projects/record-editor/\r\n  [2]: https://sourceforge.net/projects/jrecord/","title":"How do you generate java~jrecord code for a Cobol copybook","body":"<p>How do you use the <a href=\"https://sourceforge.net/projects/record-editor/\" rel=\"noreferrer\">RecordEditor</a> to <em>Generate</em> <a href=\"https://sourceforge.net/projects/jrecord/\" rel=\"noreferrer\">Java~JRecord</a> code\nfrom a <em>Cobol Copybook</em> to read/write a <em>Binary  EBCDIC Mainframe File</em>.</p>\n\n<p>This a <strong>Question</strong> and <strong>answer</strong> to try an prevent some poor/misleading questions being asked or the answer can be pointed to.</p>\n"},{"tags":["java","http","cookies","servlet-filters"],"comments":[{"owner":{"account_id":6196004,"reputation":131,"user_id":4827241,"display_name":"Alexander Martyushov"},"score":0,"creation_date":1579853310,"post_id":50668961,"comment_id":105912672,"body_markdown":"Please find my detailed answer to this case [HERE](https://stackoverflow.com/a/59892503/4827241).","body":"Please find my detailed answer to this case <a href=\"https://stackoverflow.com/a/59892503/4827241\">HERE</a>."},{"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"score":0,"creation_date":1603862190,"post_id":50668961,"comment_id":114167537,"body_markdown":"check this one which used GenericFilterBean / temporary redirect request to solve the same kind of issue  https://stackoverflow.com/questions/63939078/how-to-set-samesite-and-secure-attribute-to-jsessionid-cookie/63939775#63939775","body":"check this one which used GenericFilterBean / temporary redirect request to solve the same kind of issue  <a href=\"https://stackoverflow.com/questions/63939078/how-to-set-samesite-and-secure-attribute-to-jsessionid-cookie/63939775#63939775\" title=\"how to set samesite and secure attribute to jsessionid cookie\">stackoverflow.com/questions/63939078/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9827160,"reputation":191,"user_id":7280032,"display_name":"mwyrzyk"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1601419805,"creation_date":1528214677,"answer_id":50704516,"question_id":50668961,"body_markdown":"It turns out that using `setHeader()` method remove all previous headers with the same name so I just create simple for loop in `doFilter()` method. It adds `SameSite=Strict` attribute to every cookie that is set.\r\n```java\r\nboolean firstHeader = true;\r\nfor (String header : cookiesHeaders) {\r\n    if (firstHeader) {\r\n        httpResponse.setHeader(&quot;Set-Cookie&quot;,\r\n                String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\r\n        firstHeader = false;\r\n        continue;\r\n    }\r\n    httpResponse.addHeader(&quot;Set-Cookie&quot;,\r\n            String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\r\n}\r\n```","title":"How to set SameSite attribute?","body":"<p>It turns out that using <code>setHeader()</code> method remove all previous headers with the same name so I just create simple for loop in <code>doFilter()</code> method. It adds <code>SameSite=Strict</code> attribute to every cookie that is set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean firstHeader = true;\nfor (String header : cookiesHeaders) {\n    if (firstHeader) {\n        httpResponse.setHeader(&quot;Set-Cookie&quot;,\n                String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\n        firstHeader = false;\n        continue;\n    }\n    httpResponse.addHeader(&quot;Set-Cookie&quot;,\n            String.format(&quot;%s; %s&quot;, header, &quot;SameSite=Strict&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3167351,"reputation":654,"user_id":2677034,"display_name":"user2677034"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571100945,"creation_date":1571100945,"answer_id":58385794,"question_id":50668961,"body_markdown":"In etc/apache2/httpd.conf\r\n\r\nHeader edit Set-Cookie ^(.*)$ $1;SameSite=Strict\r\n\r\n----------------------------\r\nworks for me.....","title":"How to set SameSite attribute?","body":"<p>In etc/apache2/httpd.conf</p>\n\n<p>Header edit Set-Cookie ^(.*)$ $1;SameSite=Strict</p>\n\n<hr>\n\n<p>works for me.....</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585193375,"creation_date":1585193375,"answer_id":60860625,"question_id":50668961,"body_markdown":"New Tomcat supports SameSite cookies via `TomcatContextCustomizer`. \r\n\r\n- for Spring Boot in could be done in `@Configuration`, see https://stackoverflow.com/a/60860531/548473 \r\n- for Tomcat application - in `context.xml`, see  https://stackoverflow.com/a/57622508/548473","title":"How to set SameSite attribute?","body":"<p>New Tomcat supports SameSite cookies via <code>TomcatContextCustomizer</code>. </p>\n\n<ul>\n<li>for Spring Boot in could be done in <code>@Configuration</code>, see <a href=\"https://stackoverflow.com/a/60860531/548473\">https://stackoverflow.com/a/60860531/548473</a> </li>\n<li>for Tomcat application - in <code>context.xml</code>, see  <a href=\"https://stackoverflow.com/a/57622508/548473\">https://stackoverflow.com/a/57622508/548473</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14676735,"reputation":139,"user_id":10599548,"display_name":"GioPoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684181398,"creation_date":1684181398,"answer_id":76257645,"question_id":50668961,"body_markdown":"If javax still has no implementation for Samesite, you can try extending the Cookie class and using a cookie library that already has a Samesite implementation. In my case it was Springframework ResponseCookie class. \r\n\r\nHere is the extended class\r\n\r\n    public class SamesiteHttpServletResponse extends HttpServletResponseWrapper\r\n    {\r\n    \r\n      public SamesiteHttpServletResponse(HttpServletResponse response)\r\n      {\r\n        super(response);\r\n      }\r\n    \r\n      @Override\r\n      public void addCookie(Cookie cookie)\r\n      {\r\n    \r\n        ResponseCookie responseCookie = ResponseCookie\r\n          .from(cookie.getName(), cookie.getValue())\r\n          .secure(true)\r\n          .httpOnly(true)\r\n          .path(cookie.getPath())\r\n          .maxAge(cookie.getMaxAge())\r\n          .sameSite(&quot;Lax&quot;)\r\n          .build();\r\n    \r\n          this.addHeader(HttpHeaders.SET_COOKIE, responseCookie.toString());\r\n      }\r\n    \r\n      }\r\n\r\nThen use this class by exposing HttpServletResponse and adding cookies to that response. For example: \r\n\r\n\r\n    public void exampleMethod(HttpServletResponse res){\r\n    \r\n    HttpServletResponse response = new SamesiteHttpServletResponse(res); \r\n    \r\n    // create or get a hold of the javax Cookie you want to add the samesite to\r\n    \r\n    response.addCookie(mycookie); \r\n    \r\n    }\r\n\r\n","title":"How to set SameSite attribute?","body":"<p>If javax still has no implementation for Samesite, you can try extending the Cookie class and using a cookie library that already has a Samesite implementation. In my case it was Springframework ResponseCookie class.</p>\n<p>Here is the extended class</p>\n<pre><code>public class SamesiteHttpServletResponse extends HttpServletResponseWrapper\n{\n\n  public SamesiteHttpServletResponse(HttpServletResponse response)\n  {\n    super(response);\n  }\n\n  @Override\n  public void addCookie(Cookie cookie)\n  {\n\n    ResponseCookie responseCookie = ResponseCookie\n      .from(cookie.getName(), cookie.getValue())\n      .secure(true)\n      .httpOnly(true)\n      .path(cookie.getPath())\n      .maxAge(cookie.getMaxAge())\n      .sameSite(&quot;Lax&quot;)\n      .build();\n\n      this.addHeader(HttpHeaders.SET_COOKIE, responseCookie.toString());\n  }\n\n  }\n</code></pre>\n<p>Then use this class by exposing HttpServletResponse and adding cookies to that response. For example:</p>\n<pre><code>public void exampleMethod(HttpServletResponse res){\n\nHttpServletResponse response = new SamesiteHttpServletResponse(res); \n\n// create or get a hold of the javax Cookie you want to add the samesite to\n\nresponse.addCookie(mycookie); \n\n}\n</code></pre>\n"}],"owner":{"account_id":9827160,"reputation":191,"user_id":7280032,"display_name":"mwyrzyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27090,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50704516,"answer_count":4,"score":7,"last_activity_date":1684181398,"creation_date":1528045899,"question_id":50668961,"body_markdown":"I have a problem with setting SameSite attribute in Cookie. I wanted to set this attribute, but neither `javax.servlet.http.Cookie` nor `java.net.HttpCookie` provide method to deal with it. Therefore, I have an idea to create a response `javax.servlet.Filter` that catch &quot;Set-Cookie&quot; header and add &quot;SameSite=Strict&quot; attribute. \r\n\r\n    response.setHeader(&quot;Set-Cookie&quot;, response.getHeader(&quot;Set-Cookie&quot;) + &quot;; SameSite=strict&quot;);\r\n\r\nIt works ok but problem appeares when I have more than one &quot;Set-Cookie&quot; header in one response. `javax.servlet.http.HttpServletResponse` does not provide method to remove or overwrite more than one heder with the same name (iterating over them and using `setHeader()` doesn&#39;t work because it always sets the last one). Do you have any idea how to set SameSite attribute to cookie or how to overwrite headers in response filter? \r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"How to set SameSite attribute?","body":"<p>I have a problem with setting SameSite attribute in Cookie. I wanted to set this attribute, but neither <code>javax.servlet.http.Cookie</code> nor <code>java.net.HttpCookie</code> provide method to deal with it. Therefore, I have an idea to create a response <code>javax.servlet.Filter</code> that catch \"Set-Cookie\" header and add \"SameSite=Strict\" attribute. </p>\n\n<pre><code>response.setHeader(\"Set-Cookie\", response.getHeader(\"Set-Cookie\") + \"; SameSite=strict\");\n</code></pre>\n\n<p>It works ok but problem appeares when I have more than one \"Set-Cookie\" header in one response. <code>javax.servlet.http.HttpServletResponse</code> does not provide method to remove or overwrite more than one heder with the same name (iterating over them and using <code>setHeader()</code> doesn't work because it always sets the last one). Do you have any idea how to set SameSite attribute to cookie or how to overwrite headers in response filter? </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","fire-sharp"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":146,"is_accepted":false,"score":146,"last_activity_date":1684181246,"creation_date":1464352270,"answer_id":37483668,"question_id":37483406,"body_markdown":"Calling `push()` will generate a key for you. \r\n\r\nIf instead you use `child()`, you can determine the key/path yourself.\r\n\r\n    ref.child(&quot;Victor&quot;).setValue(&quot;setting custom key when pushing new data to firebase database&quot;);","title":"Setting custom key when pushing new data to firebase database","body":"<p>Calling <code>push()</code> will generate a key for you.</p>\n<p>If instead you use <code>child()</code>, you can determine the key/path yourself.</p>\n<pre><code>ref.child(&quot;Victor&quot;).setValue(&quot;setting custom key when pushing new data to firebase database&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8692931,"reputation":131,"user_id":6538685,"display_name":"Rand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633122685,"creation_date":1496414038,"answer_id":44331452,"question_id":37483406,"body_markdown":"You can create a custom key using **setValue()** even if the root contains many children\r\nfor example if &#39;Users&#39; is the root and you want to add users with email as a key it will be like this\r\n\r\n    firebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_1 email&quot;).setValue(...)\r\n\r\n    firebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_2 email&quot;).setValue(...)\r\n\r\netc","title":"Setting custom key when pushing new data to firebase database","body":"<p>You can create a custom key using <strong>setValue()</strong> even if the root contains many children\nfor example if 'Users' is the root and you want to add users with email as a key it will be like this</p>\n<pre><code>firebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_1 email&quot;).setValue(...)\n\nfirebase.child(&quot;firebase url&quot;).child(&quot;Users&quot;).child(&quot;user_2 email&quot;).setValue(...)\n</code></pre>\n<p>etc</p>\n"},{"tags":[],"owner":{"account_id":3517306,"reputation":459,"user_id":2940405,"display_name":"Mohmad Iqbal Lone"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497765533,"creation_date":1497765533,"answer_id":44612182,"question_id":37483406,"body_markdown":"\r\n            String key=&quot;1234567sdfsf8&quot;;\r\n            //custom object\r\n            User user=new User();\r\n            DatabaseReference mDatabase;\r\n            mDatabase = FirebaseDatabase.getInstance().getReference();\r\n            mDatabase.child(&quot;Users&quot;).child(key).setValue(user);","title":"Setting custom key when pushing new data to firebase database","body":"<pre><code>        String key=\"1234567sdfsf8\";\n        //custom object\n        User user=new User();\n        DatabaseReference mDatabase;\n        mDatabase = FirebaseDatabase.getInstance().getReference();\n        mDatabase.child(\"Users\").child(key).setValue(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4315175,"reputation":4770,"user_id":3525279,"accept_rate":87,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515510135,"creation_date":1515510135,"answer_id":48171011,"question_id":37483406,"body_markdown":"If you are using [FirebaseUI][1] :\r\n\r\n    private static final CollectionReference usersCollection = FirebaseFirestore.getInstance().collection(&quot;users&quot;);\r\n            \r\n    User user = new User(&quot;MyUsername&quot;, &quot;MyPictureUrl&quot;);\r\n    String userKey = &quot;1234567sdfsf8&quot;;\r\n            \r\n    usersCollection.document(userKey).set(user); //MAGIC LINE\r\n\r\n  [1]: https://github.com/firebase/FirebaseUI-Android\r\n","title":"Setting custom key when pushing new data to firebase database","body":"<p>If you are using <a href=\"https://github.com/firebase/FirebaseUI-Android\" rel=\"nofollow noreferrer\">FirebaseUI</a> :</p>\n\n<pre><code>private static final CollectionReference usersCollection = FirebaseFirestore.getInstance().collection(\"users\");\n\nUser user = new User(\"MyUsername\", \"MyPictureUrl\");\nString userKey = \"1234567sdfsf8\";\n\nusersCollection.document(userKey).set(user); //MAGIC LINE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1011135,"reputation":18988,"user_id":1023687,"accept_rate":91,"display_name":"Talha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516619005,"creation_date":1516619005,"answer_id":48380096,"question_id":37483406,"body_markdown":"Just for sharing the knowledge.\r\n\r\nif you are using fire-sharp, you can create the custom key as follows\r\n\r\n                IFirebaseConfig config = new FirebaseConfig\r\n                {\r\n                    AuthSecret = &quot;SecretKey&quot;,\r\n                    BasePath = &quot;https://abc.firebaseio.com/&quot;,\r\n                    Host = &quot;abc.firebaseio.com/&quot;\r\n                };\r\n                IFirebaseClient client = new FirebaseClient(config);\r\n               \r\n                var obj = new Users\r\n                {\r\n                    FirstName = &quot;test&quot;,\r\n                    MiddleName = &quot;user&quot;,\r\n                    LastName = &quot;xyz&quot;\r\n                    \r\n                };\r\n               \r\n                SetResponse response = client.SetAsync(&quot;Profile&quot;, &quot;YourID&quot;);//you can use Set() as well\r\n                response = client.SetAsync(&quot;Profile/YourID&quot;, obj);//you can use Set() as well","title":"Setting custom key when pushing new data to firebase database","body":"<p>Just for sharing the knowledge.</p>\n\n<p>if you are using fire-sharp, you can create the custom key as follows</p>\n\n<pre><code>            IFirebaseConfig config = new FirebaseConfig\n            {\n                AuthSecret = \"SecretKey\",\n                BasePath = \"https://abc.firebaseio.com/\",\n                Host = \"abc.firebaseio.com/\"\n            };\n            IFirebaseClient client = new FirebaseClient(config);\n\n            var obj = new Users\n            {\n                FirstName = \"test\",\n                MiddleName = \"user\",\n                LastName = \"xyz\"\n\n            };\n\n            SetResponse response = client.SetAsync(\"Profile\", \"YourID\");//you can use Set() as well\n            response = client.SetAsync(\"Profile/YourID\", obj);//you can use Set() as well\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13167056,"reputation":527,"user_id":9510813,"display_name":"Tarsbir Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532855773,"creation_date":1532855773,"answer_id":51578878,"question_id":37483406,"body_markdown":"Simple and Fast\r\n\r\n     Map&lt;String,Object&gt; taskMap = new HashMap&lt;&gt;();\r\n           taskMap.put(&quot;Name&quot;, name.getText().toString());\r\n           taskMap.put(&quot;km&quot;, km.getText().toString());\r\n          // taskMap.put(&quot;age&quot;, &quot;45&quot;);\r\n           taskMap.put(&quot;Day&quot;, day.getText().toString());\r\n           mDatabaseReference.push().setValue(taskMap);","title":"Setting custom key when pushing new data to firebase database","body":"<p>Simple and Fast</p>\n\n<pre><code> Map&lt;String,Object&gt; taskMap = new HashMap&lt;&gt;();\n       taskMap.put(\"Name\", name.getText().toString());\n       taskMap.put(\"km\", km.getText().toString());\n      // taskMap.put(\"age\", \"45\");\n       taskMap.put(\"Day\", day.getText().toString());\n       mDatabaseReference.push().setValue(taskMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6702832,"reputation":396,"user_id":5168788,"display_name":"Alberto"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1550723341,"creation_date":1550723341,"answer_id":54799270,"question_id":37483406,"body_markdown":"As an update to the top answer, the [Firebase API has been changed][1] and `setValue()` does not work anymore. Now you must use the `set()` function instead:\r\n\r\n    ref.child(&quot;Victor&quot;).set(&quot;setting custom key when pushing new data to firebase database&quot;);\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/js/firebase.database.Reference","title":"Setting custom key when pushing new data to firebase database","body":"<p>As an update to the top answer, the <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.Reference\" rel=\"noreferrer\">Firebase API has been changed</a> and <code>setValue()</code> does not work anymore. Now you must use the <code>set()</code> function instead:</p>\n\n<pre><code>ref.child(\"Victor\").set(\"setting custom key when pushing new data to firebase database\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12180882,"reputation":368,"user_id":8892336,"display_name":"Arafat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553707422,"creation_date":1553707422,"answer_id":55383174,"question_id":37483406,"body_markdown":"if database reference child is fixed string, new value will not add. just it will update the previous value. for example :\r\n\r\n`DatabaseReference myRef = FirebaseDatabase.getInstance().getReference();\r\nString mText = // get data from editText or set your own custom data`\r\n\r\nnow if I insert data like this:\r\n\r\n`myRef.child(&quot;abc&quot;).child(&quot;cba&quot;).setValue(mText);`\r\n\r\nevery time I insert data it will update my previous data. It will not add new data. Because my reference is fixed here(`myRef.child(&quot;abc&quot;).child(&quot;cba&quot;)` // this one, which is always fixed). \r\n\r\nNow change the the value of child &quot;cba&quot; to a random or dynamic value which will not fix. For example:\r\n\r\n`Random rand = new Random();\r\n// Obtain a number between [0 - 49].\r\nint n = rand.nextInt(50);\r\nmyRef.child(&quot;abc&quot;).child(String.valueOf(n)).setValue(mText);`\r\n\r\nIn this case it will add a new value instead of updating. because this time reference is not fixed here. it is dynamic. push() method exactly do the same thing. it generates random key to maintain unique reference.\r\n","title":"Setting custom key when pushing new data to firebase database","body":"<p>if database reference child is fixed string, new value will not add. just it will update the previous value. for example :</p>\n\n<p><code>DatabaseReference myRef = FirebaseDatabase.getInstance().getReference();\nString mText = // get data from editText or set your own custom data</code></p>\n\n<p>now if I insert data like this:</p>\n\n<p><code>myRef.child(\"abc\").child(\"cba\").setValue(mText);</code></p>\n\n<p>every time I insert data it will update my previous data. It will not add new data. Because my reference is fixed here(<code>myRef.child(\"abc\").child(\"cba\")</code> // this one, which is always fixed). </p>\n\n<p>Now change the the value of child \"cba\" to a random or dynamic value which will not fix. For example:</p>\n\n<p><code>Random rand = new Random();\n// Obtain a number between [0 - 49].\nint n = rand.nextInt(50);\nmyRef.child(\"abc\").child(String.valueOf(n)).setValue(mText);</code></p>\n\n<p>In this case it will add a new value instead of updating. because this time reference is not fixed here. it is dynamic. push() method exactly do the same thing. it generates random key to maintain unique reference.</p>\n"},{"tags":[],"owner":{"account_id":14315490,"reputation":503,"user_id":10340381,"display_name":"pramod singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561381048,"creation_date":1561381048,"answer_id":56737105,"question_id":37483406,"body_markdown":"In POST request it will generate ID&#39;s but in PATCH, PUT request it will mention the key which will be provided by you.","title":"Setting custom key when pushing new data to firebase database","body":"<p>In POST request it will generate ID's but in PATCH, PUT request it will mention the key which will be provided by you.</p>\n"},{"tags":[],"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604886738,"creation_date":1604886738,"answer_id":64744932,"question_id":37483406,"body_markdown":"let&#39;s say your db look like\r\n\r\n\r\n     &quot;BookShelf&quot; : {\r\n        &quot;book1&quot; : {\r\n          &quot;bookName&quot; : &quot;book1_push&quot;\r\n           ...\r\n         }\r\n\r\n\r\nyour code to be (don&#39;t use push(), push() generate a random key)\r\n\r\n    DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\r\n    Book data = new Book();\r\n    mDatabase.child(&quot;BookShelf&quot;).child(&quot;book1&quot;).setValue(data);\r\n        \r\n         \r\n\r\n","title":"Setting custom key when pushing new data to firebase database","body":"<p>let's say your db look like</p>\n<pre><code> &quot;BookShelf&quot; : {\n    &quot;book1&quot; : {\n      &quot;bookName&quot; : &quot;book1_push&quot;\n       ...\n     }\n</code></pre>\n<p>your code to be (don't use push(), push() generate a random key)</p>\n<pre><code>DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference();\nBook data = new Book();\nmDatabase.child(&quot;BookShelf&quot;).child(&quot;book1&quot;).setValue(data);\n    \n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17522427,"reputation":549,"user_id":12708160,"display_name":"Awshaf Ishtiaque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619234193,"creation_date":1619234193,"answer_id":67239022,"question_id":37483406,"body_markdown":"If you are using Node.js to write to firebase Realtime Database here&#39;s a function:\r\n\r\n    function registerVibinScores( reference, childId, dataToWrite){\r\n\r\n        var ref = db.ref(reference); //vibinScores\r\n        usersRef = ref.child(childId);\r\n        usersRef.set(\r\n            dataToWrite\r\n        );\r\n\r\n    }\r\n\r\n    //Example to invoke it:\r\n    var vibinEntry = {\r\n        &quot;viberId&quot;: &quot;425904090208534528&quot;,\r\n        &quot;person&quot;: {\r\n            &quot;name&quot;: &quot;kukur&quot;,\r\n            &quot;score&quot;: 0,\r\n            &quot;id&quot;: &quot;425904090208534528&quot;\r\n        },\r\n        &quot;vibinScore&quot;: 0,\r\n        &quot;timeOfEntry&quot;: &quot;2021-04-19T16:59:23.077Z&quot;\r\n    }\r\n\r\n    registerVibinScores(&#39;vibinScores/allEntries&#39;, 112, vibinEntry);\r\n\r\n\r\n[The sample entry in your database would look like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0i2jO.png","title":"Setting custom key when pushing new data to firebase database","body":"<p>If you are using Node.js to write to firebase Realtime Database here's a function:</p>\n<pre><code>function registerVibinScores( reference, childId, dataToWrite){\n\n    var ref = db.ref(reference); //vibinScores\n    usersRef = ref.child(childId);\n    usersRef.set(\n        dataToWrite\n    );\n\n}\n\n//Example to invoke it:\nvar vibinEntry = {\n    &quot;viberId&quot;: &quot;425904090208534528&quot;,\n    &quot;person&quot;: {\n        &quot;name&quot;: &quot;kukur&quot;,\n        &quot;score&quot;: 0,\n        &quot;id&quot;: &quot;425904090208534528&quot;\n    },\n    &quot;vibinScore&quot;: 0,\n    &quot;timeOfEntry&quot;: &quot;2021-04-19T16:59:23.077Z&quot;\n}\n\nregisterVibinScores('vibinScores/allEntries', 112, vibinEntry);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0i2jO.png\" rel=\"nofollow noreferrer\">The sample entry in your database would look like this</a></p>\n"}],"owner":{"account_id":8525234,"reputation":601,"user_id":6390879,"display_name":"Victor Davis Lenz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75892,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":11,"score":60,"last_activity_date":1684181246,"creation_date":1464351533,"question_id":37483406,"body_markdown":"Well, I am new to Firebase and I want to have my own keys while pushing new data to database. \r\n\r\nProblem:\r\n\r\n    FireBase.push().setValue(mapped_values);\r\n\r\nThis gives structure like below:\r\n\r\n![ database output][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/i9VCG.png\r\n\r\nHow can I create my own custom key there?\r\nSuch as username or something.","title":"Setting custom key when pushing new data to firebase database","body":"<p>Well, I am new to Firebase and I want to have my own keys while pushing new data to database. </p>\n\n<p>Problem:</p>\n\n<pre><code>FireBase.push().setValue(mapped_values);\n</code></pre>\n\n<p>This gives structure like below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/i9VCG.png\" alt=\" database output\"></p>\n\n<p>How can I create my own custom key there?\nSuch as username or something.</p>\n"},{"tags":["java","json","spring","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684180807,"creation_date":1665671302,"answer_id":74057492,"question_id":74057242,"body_markdown":"You can do this in the controller when saving:\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;Body&gt; registerUser(@Valid @RequestBody Body saveUser) {\r\n        Body createdUser = userService.save(saveUser);\r\n        \r\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\r\n    }\r\n\r\nWhen Spring finds an argument annotated with @Valid, it automatically validates the argument and throws an exception if the validation fails.\r\n\r\nOr you can add this in the `application.properties`:\r\n\r\n    spring.jackson.deserialization.fail-on-unknown-properties=true\r\n\r\nThis helps us to make deserialization fail on unknown properties and throw an exception which we can handle using `handleHttpMessageNotReadable`.\r\n\r\nCreate controller advice to handle exceptions:\r\n\r\n    @ControllerAdvice\r\n    public class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\r\n                HttpMessageNotReadableException ex, HttpHeaders headers,\r\n                HttpStatus status, WebRequest request) {\r\n            return new ResponseEntity(&quot;Your Response Object&quot;, \r\n                    HttpStatus.INTERNAL_SERVER_ERROR);\r\n        } \r\n    }\r\n\r\n   \r\n","title":"How to not accept additional fields in incoming JSON request body","body":"<p>You can do this in the controller when saving:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic ResponseEntity&lt;Body&gt; registerUser(@Valid @RequestBody Body saveUser) {\n    Body createdUser = userService.save(saveUser);\n    \n    return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\n}\n</code></pre>\n<p>When Spring finds an argument annotated with @Valid, it automatically validates the argument and throws an exception if the validation fails.</p>\n<p>Or you can add this in the <code>application.properties</code>:</p>\n<pre><code>spring.jackson.deserialization.fail-on-unknown-properties=true\n</code></pre>\n<p>This helps us to make deserialization fail on unknown properties and throw an exception which we can handle using <code>handleHttpMessageNotReadable</code>.</p>\n<p>Create controller advice to handle exceptions:</p>\n<pre><code>@ControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\n            HttpMessageNotReadableException ex, HttpHeaders headers,\n            HttpStatus status, WebRequest request) {\n        return new ResponseEntity(&quot;Your Response Object&quot;, \n                HttpStatus.INTERNAL_SERVER_ERROR);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16296860,"reputation":579,"user_id":11768882,"display_name":"Arturo Mendes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684143953,"creation_date":1684142801,"answer_id":76252644,"question_id":74057242,"body_markdown":"TL;DR;\r\n--\r\n\r\nIf you want the controller to return an error **when the `RequestBody` does not match what you are expecting** it is enough to add this to your `application.properties`:\r\n\r\n```\r\nspring.jackson.deserialization.fail-on-unknown-properties=true\r\n```\r\n\r\nThis will return a default 400 response on malformed requests.\r\n\r\nThe `@Valid` annotation\r\n--\r\n\r\n**Adding the `@Valid` annotation to your controller performs constraint validation** and it will only fail when, for example, you mark a field as to be of a maximum value of `1` but the request tries to set it to `2`. As per the docs:\r\n\r\n&gt; Marks a property, method parameter or method return type for validation cascading. Constraints defined on the object and its properties are validated when the property, method parameter or method return type is validated.\r\n\r\nBut **since you are not using any of the tools provided by `jakarta.validation` this annotation will have no effect on your code**.","title":"How to not accept additional fields in incoming JSON request body","body":"<h2>TL;DR;</h2>\n<p>If you want the controller to return an error <strong>when the <code>RequestBody</code> does not match what you are expecting</strong> it is enough to add this to your <code>application.properties</code>:</p>\n<pre><code>spring.jackson.deserialization.fail-on-unknown-properties=true\n</code></pre>\n<p>This will return a default 400 response on malformed requests.</p>\n<h2>The <code>@Valid</code> annotation</h2>\n<p><strong>Adding the <code>@Valid</code> annotation to your controller performs constraint validation</strong> and it will only fail when, for example, you mark a field as to be of a maximum value of <code>1</code> but the request tries to set it to <code>2</code>. As per the docs:</p>\n<blockquote>\n<p>Marks a property, method parameter or method return type for validation cascading. Constraints defined on the object and its properties are validated when the property, method parameter or method return type is validated.</p>\n</blockquote>\n<p>But <strong>since you are not using any of the tools provided by <code>jakarta.validation</code> this annotation will have no effect on your code</strong>.</p>\n"}],"owner":{"account_id":16583157,"reputation":63,"user_id":11983275,"display_name":"Kyeiv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1455,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1684180807,"creation_date":1665670344,"question_id":74057242,"body_markdown":"I have a Spring Boot server that listens on endpoint. I accept `@RequestBody` as an object:\r\n\r\n```\r\nclass Body {\r\n   private String name;\r\n}\r\n```\r\n\r\nI want it to accept requests like:\r\n\r\n```\r\n{\r\n   &quot;name&quot;: &quot;some_name&quot;\r\n}\r\n```\r\n\r\nHowever, it also accepts:\r\n\r\n```\r\n{\r\n   &quot;name&quot;: &quot;some_name&quot;,\r\n   &quot;dummy key&quot;:&quot;dummy key value&quot;\r\n}\r\n```\r\n\r\nIn that case I want it to throw error. How can I achieve it?","title":"How to not accept additional fields in incoming JSON request body","body":"<p>I have a Spring Boot server that listens on endpoint. I accept <code>@RequestBody</code> as an object:</p>\n<pre><code>class Body {\n   private String name;\n}\n</code></pre>\n<p>I want it to accept requests like:</p>\n<pre><code>{\n   &quot;name&quot;: &quot;some_name&quot;\n}\n</code></pre>\n<p>However, it also accepts:</p>\n<pre><code>{\n   &quot;name&quot;: &quot;some_name&quot;,\n   &quot;dummy key&quot;:&quot;dummy key value&quot;\n}\n</code></pre>\n<p>In that case I want it to throw error. How can I achieve it?</p>\n"},{"tags":["java","spring-boot","configuration","flyway","migrate"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684180688,"creation_date":1684180688,"answer_id":76257575,"question_id":76256353,"body_markdown":"`@Autowired` is being ignored as you&#39;re creating the instance of `FlywayCallback` and Spring knows nothing about it:\r\n\r\n```\r\nconfiguration.callbacks(new FlywayCallback());\r\n```\r\n\r\nThis means that it isn&#39;t a Spring-managed bean. To make it a Spring-managed bean you could, assuming its package is covered by component scanning, annotate it with `@Component`. Alternatively, you could return an instance of it from a `@Bean` method in a `@Configuration` class.","title":"Spring Boot Autowire Service inside custom Flywayconfiguration","body":"<p><code>@Autowired</code> is being ignored as you're creating the instance of <code>FlywayCallback</code> and Spring knows nothing about it:</p>\n<pre><code>configuration.callbacks(new FlywayCallback());\n</code></pre>\n<p>This means that it isn't a Spring-managed bean. To make it a Spring-managed bean you could, assuming its package is covered by component scanning, annotate it with <code>@Component</code>. Alternatively, you could return an instance of it from a <code>@Bean</code> method in a <code>@Configuration</code> class.</p>\n"}],"owner":{"account_id":15823020,"reputation":23,"user_id":21579284,"display_name":"bentinhoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76257575,"answer_count":1,"score":0,"last_activity_date":1684180688,"creation_date":1684169991,"question_id":76256353,"body_markdown":"I use Flyway 8.5 and Springboot 2.7.\r\nI am trying to call a function from a service after the migration of flyway has been completed (i.e. at an After_Migrate event) which adjusts the database again.\r\n\r\n```\r\n@Configuration\r\npublic class FlywayConfiguration implements FlywayConfigurationCustomizer {\r\n\r\n    @Override\r\n    public void customize(FluentConfiguration configuration) {\r\n        configuration.callbacks(new FlywayCallback());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class FlywayCallback extends BaseCallback {\r\n\r\n    @Autowired\r\n    @Lazy\r\n    private ProfileService profileService;\r\n    \r\n    @Override\r\n    public void handle(Event event, Context context) {\r\n        if (event == Event.AFTER_MIGRATE) {\r\n            profileService.setMissingThumbnailsForProfiles();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever it doesn&#39;t quite work as profileService is always null.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat de.openknowledge.mipro2.Mipro2Application.main(Mipro2Application.java:11) ~[classes/:na]\r\nCaused by: org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:136) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:129) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.lambda$execute$0(DefaultCallbackExecutor.java:116) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:114) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.onMigrateOrUndoEvent(DefaultCallbackExecutor.java:70) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:114) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:172) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.Flyway$1.execute(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\t... 18 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat de.openknowledge.mipro2.infrastructure.FlywayCallback.handle(FlywayCallback.java:20) ~[classes/:na]\r\n\tat org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:134) ~[flyway-core-8.5.13.jar:na]\r\n\t... 31 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI also tried to [This](https://stackoverflow.com/questions/48214783/flyway-spring-boot-autowired-beans-with-jpa-dependency) approach which results in a cyclic bean exception.","title":"Spring Boot Autowire Service inside custom Flywayconfiguration","body":"<p>I use Flyway 8.5 and Springboot 2.7.\nI am trying to call a function from a service after the migration of flyway has been completed (i.e. at an After_Migrate event) which adjusts the database again.</p>\n<pre><code>@Configuration\npublic class FlywayConfiguration implements FlywayConfigurationCustomizer {\n\n    @Override\n    public void customize(FluentConfiguration configuration) {\n        configuration.callbacks(new FlywayCallback());\n    }\n\n}\n</code></pre>\n<pre><code>public class FlywayCallback extends BaseCallback {\n\n    @Autowired\n    @Lazy\n    private ProfileService profileService;\n    \n    @Override\n    public void handle(Event event, Context context) {\n        if (event == Event.AFTER_MIGRATE) {\n            profileService.setMissingThumbnailsForProfiles();\n        }\n    }\n\n}\n</code></pre>\n<p>However it doesn't quite work as profileService is always null.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:910) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\n    at de.openknowledge.mipro2.Mipro2Application.main(Mipro2Application.java:11) ~[classes/:na]\nCaused by: org.flywaydb.core.api.FlywayException: Error while executing afterMigrate callback: null\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:136) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:129) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.lambda$execute$0(DefaultCallbackExecutor.java:116) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.execute(DefaultCallbackExecutor.java:114) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.onMigrateOrUndoEvent(DefaultCallbackExecutor.java:70) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:114) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:172) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.Flyway$1.execute(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205) ~[flyway-core-8.5.13.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:124) ~[flyway-core-8.5.13.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\n    ... 18 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at de.openknowledge.mipro2.infrastructure.FlywayCallback.handle(FlywayCallback.java:20) ~[classes/:na]\n    at org.flywaydb.core.internal.callback.DefaultCallbackExecutor.handleEvent(DefaultCallbackExecutor.java:134) ~[flyway-core-8.5.13.jar:na]\n    ... 31 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I also tried to <a href=\"https://stackoverflow.com/questions/48214783/flyway-spring-boot-autowired-beans-with-jpa-dependency\">This</a> approach which results in a cyclic bean exception.</p>\n"},{"tags":["java","database","postgresql","rule-engine"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684158687,"post_id":76254574,"comment_id":134471841,"body_markdown":"If your model is rarely changed - as you stated &quot;one time thing&quot; - then you should keep it in memory for better performance. I can think here about cache systems like Redis, Hazelcast or Aerospike. To name only few examples.","body":"If your model is rarely changed - as you stated &quot;one time thing&quot; - then you should keep it in memory for better performance. I can think here about cache systems like Redis, Hazelcast or Aerospike. To name only few examples."},{"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"score":0,"creation_date":1684162321,"post_id":76254574,"comment_id":134472788,"body_markdown":"There are more than 20million conditions/rows, any of them can be true at any point of time. Keeping conditions cashed does not make sense for me. Can u suggest some other database?","body":"There are more than 20million conditions/rows, any of them can be true at any point of time. Keeping conditions cashed does not make sense for me. Can u suggest some other database?"},{"owner":{"account_id":4349512,"reputation":2216,"user_id":20151367,"display_name":"JohnH"},"score":0,"creation_date":1684179646,"post_id":76254574,"comment_id":134476736,"body_markdown":"Please update the post with the table&#39;s DDL including indexes.","body":"Please update the post with the table&#39;s DDL including indexes."},{"owner":{"account_id":4349512,"reputation":2216,"user_id":20151367,"display_name":"JohnH"},"score":0,"creation_date":1684193883,"post_id":76254574,"comment_id":134478751,"body_markdown":"Please post the actual probelmatic query and the results of running `EXPLAIN ANALYZE` on that query. Does the reported response time of ~1s apply to just the query, or does it include additional rule engine processing?","body":"Please post the actual probelmatic query and the results of running <code>EXPLAIN ANALYZE</code> on that query. Does the reported response time of ~1s apply to just the query, or does it include additional rule engine processing?"}],"owner":{"account_id":21762970,"reputation":39,"user_id":16067287,"display_name":"Mukund Mundhra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684180401,"creation_date":1684157201,"question_id":76254574,"body_markdown":"I have a use case where I have to save conditions in my database, this Is a one time thing. Once this is done we just provide the dto and need to get all the valid conditions. \r\nI have around 20million conditions.\r\nExample of a condition is as follows -&gt;\r\n\r\n    [\r\n      {\r\n        &quot;dataType&quot;: &quot;STRING&quot;,\r\n        &quot;operator&quot;: &quot;EQUALS&quot;,\r\n        &quot;criteria&quot;: &quot;model&quot;,\r\n        &quot;value&quot;: &quot;1000&quot;\r\n      },\r\n      {\r\n        &quot;dataType&quot;: &quot;STRING&quot;,\r\n        &quot;operator&quot;: &quot;EQUALS&quot;,\r\n        &quot;criteria&quot;: &quot;ID&quot;,\r\n        &quot;value&quot;: &quot;test2&quot;\r\n      },\r\n      {\r\n        &quot;dataType&quot;: &quot;STRING&quot;,\r\n        &quot;operator&quot;: &quot;GREATER_THAN&quot;,\r\n        &quot;criteria&quot;: &quot;DEVICE_MODEL&quot;,\r\n        &quot;value&quot;: &quot;100&quot;\r\n      }\r\n    ]\r\n\r\nAs you can see this is 1 condition. Right now I am using jsonb column in Postgres and when I get a request body I have a or condition and I just query for any matching response. \r\n\r\n    SELECT * FROM data WHERE condition_list @&gt; &#39;[{&quot;value&quot;: &quot;test2&quot;}]&#39; OR condition_list @&gt; &#39;[{&quot;value&quot;: &quot;1000&quot;}] .....&#39;;\r\n\r\nAnd In my codebase I am validating rest of the conditions. The response time for me is around 1s. I want much faster response time , to achieve this I will need a database which will give me a better response, by validating the complete conditions. \r\n\r\nRule engines seem to be slow. What should I plan on using? \r\nOr should I just stick with the jsonb column in psql ? \r\n\r\nMy service is running on spring boot. \r\n\r\nHere is the table ddl \r\n\r\n    CREATE TABLE IF NOT EXISTS public.data\r\n    (\r\n        id bigint NOT NULL DEFAULT nextval(&#39;data_id_seq&#39;::regclass),\r\n        condition_list jsonb,\r\n        return_value character varying(4000) COLLATE pg_catalog.&quot;default&quot;,\r\n        name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n        service_id character varying(255) COLLATE pg_catalog.&quot;default&quot;,\r\n        CONSTRAINT data PRIMARY KEY (id),\r\n        CONSTRAINT fk_dp FOREIGN KEY (name, service_id)\r\n            REFERENCES public.default_properties (name, service_id) MATCH SIMPLE\r\n            ON UPDATE NO ACTION\r\n            ON DELETE NO ACTION\r\n    )\r\n\r\n\r\n\r\nIndex is on jsonb column \r\n\r\n    CREATE INDEX idx_jsonb ON data USING GIN (condition_list jsonb_path_ops);\r\n\r\nReason of using a jsonb column is that there criteria are not fixed and sometimes there can be only 1 condition in the list , sometimes more than 5. So there will be so many columns that will be empty.","title":"I have a scenario where I need valid conditions existing in my database on the fly","body":"<p>I have a use case where I have to save conditions in my database, this Is a one time thing. Once this is done we just provide the dto and need to get all the valid conditions.\nI have around 20million conditions.\nExample of a condition is as follows -&gt;</p>\n<pre><code>[\n  {\n    &quot;dataType&quot;: &quot;STRING&quot;,\n    &quot;operator&quot;: &quot;EQUALS&quot;,\n    &quot;criteria&quot;: &quot;model&quot;,\n    &quot;value&quot;: &quot;1000&quot;\n  },\n  {\n    &quot;dataType&quot;: &quot;STRING&quot;,\n    &quot;operator&quot;: &quot;EQUALS&quot;,\n    &quot;criteria&quot;: &quot;ID&quot;,\n    &quot;value&quot;: &quot;test2&quot;\n  },\n  {\n    &quot;dataType&quot;: &quot;STRING&quot;,\n    &quot;operator&quot;: &quot;GREATER_THAN&quot;,\n    &quot;criteria&quot;: &quot;DEVICE_MODEL&quot;,\n    &quot;value&quot;: &quot;100&quot;\n  }\n]\n</code></pre>\n<p>As you can see this is 1 condition. Right now I am using jsonb column in Postgres and when I get a request body I have a or condition and I just query for any matching response.</p>\n<pre><code>SELECT * FROM data WHERE condition_list @&gt; '[{&quot;value&quot;: &quot;test2&quot;}]' OR condition_list @&gt; '[{&quot;value&quot;: &quot;1000&quot;}] .....';\n</code></pre>\n<p>And In my codebase I am validating rest of the conditions. The response time for me is around 1s. I want much faster response time , to achieve this I will need a database which will give me a better response, by validating the complete conditions.</p>\n<p>Rule engines seem to be slow. What should I plan on using?\nOr should I just stick with the jsonb column in psql ?</p>\n<p>My service is running on spring boot.</p>\n<p>Here is the table ddl</p>\n<pre><code>CREATE TABLE IF NOT EXISTS public.data\n(\n    id bigint NOT NULL DEFAULT nextval('data_id_seq'::regclass),\n    condition_list jsonb,\n    return_value character varying(4000) COLLATE pg_catalog.&quot;default&quot;,\n    name character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    service_id character varying(255) COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT data PRIMARY KEY (id),\n    CONSTRAINT fk_dp FOREIGN KEY (name, service_id)\n        REFERENCES public.default_properties (name, service_id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n)\n</code></pre>\n<p>Index is on jsonb column</p>\n<pre><code>CREATE INDEX idx_jsonb ON data USING GIN (condition_list jsonb_path_ops);\n</code></pre>\n<p>Reason of using a jsonb column is that there criteria are not fixed and sometimes there can be only 1 condition in the list , sometimes more than 5. So there will be so many columns that will be empty.</p>\n"},{"tags":["java","meta-inf"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1674473889,"post_id":4544899,"comment_id":132714191,"body_markdown":"Related question: https://stackoverflow.com/q/70216/2987755","body":"Related question: <a href=\"https://stackoverflow.com/q/70216/2987755\">stackoverflow.com/q/70216/2987755</a>"}],"answers":[{"tags":[],"owner":{"account_id":158014,"reputation":5676,"user_id":376340,"display_name":"kschneid"},"down_vote_count":5,"up_vote_count":23,"is_accepted":false,"score":18,"last_activity_date":1293555985,"creation_date":1293555985,"answer_id":4547796,"question_id":4544899,"body_markdown":"Take a look at the [`ServiceLoader` docs][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Java META-INF/services","body":"<p>Take a look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"noreferrer\"><code>ServiceLoader</code> docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":6988253,"reputation":401,"user_id":5358368,"display_name":"Marco Sigismondi"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1628420125,"creation_date":1539250246,"answer_id":52756718,"question_id":4544899,"body_markdown":"It&#39;s intended to store service provider configuration files. \r\n\r\nA Service provider is an implementation of a Service Provider Interface packaged as JAR.\r\n\r\nA Service loader discover and load all implementations declared in the service provider configuration file.\r\n\r\nA configuration file is a file named as the fully qualified name of the interface and its content is a list of fully qualified names of implementations.\r\n\r\nFollowing is an example of provider configuration file for  javax.servlet.ServletContainerInitializer that is used by Servlet 3.0 at webapp startup.\r\n\r\n    org.apache.jasper.servlet.JasperInitializer\r\n    org.springframework.web.SpringServletContainerInitializer\r\n\r\nIn this example\r\n\r\n - Tomcat is the Service Loader;\r\n - javax.servlet.ServletContainerInitializer is the Service Provider Interface\r\n - file named javax.servlet.ServletContainerInitializer is the Service Provider configuration file;\r\n - org.apache.jasper.servlet.JasperInitializer and org.springframework.web.SpringServletContainerInitializer are Service providers\r\n\r\nWhen tomcat startup webapp call both \r\n\r\n    onStartup(java.util.Set&lt;java.lang.Class&lt;?&gt;&gt; types, ServletContext context)\r\n\r\nmethods on JasperInitializer and SpringServletContainerInitializer classes\r\n\r\n","title":"Java META-INF/services","body":"<p>It's intended to store service provider configuration files.</p>\n<p>A Service provider is an implementation of a Service Provider Interface packaged as JAR.</p>\n<p>A Service loader discover and load all implementations declared in the service provider configuration file.</p>\n<p>A configuration file is a file named as the fully qualified name of the interface and its content is a list of fully qualified names of implementations.</p>\n<p>Following is an example of provider configuration file for  javax.servlet.ServletContainerInitializer that is used by Servlet 3.0 at webapp startup.</p>\n<pre><code>org.apache.jasper.servlet.JasperInitializer\norg.springframework.web.SpringServletContainerInitializer\n</code></pre>\n<p>In this example</p>\n<ul>\n<li>Tomcat is the Service Loader;</li>\n<li>javax.servlet.ServletContainerInitializer is the Service Provider Interface</li>\n<li>file named javax.servlet.ServletContainerInitializer is the Service Provider configuration file;</li>\n<li>org.apache.jasper.servlet.JasperInitializer and org.springframework.web.SpringServletContainerInitializer are Service providers</li>\n</ul>\n<p>When tomcat startup webapp call both</p>\n<pre><code>onStartup(java.util.Set&lt;java.lang.Class&lt;?&gt;&gt; types, ServletContext context)\n</code></pre>\n<p>methods on JasperInitializer and SpringServletContainerInitializer classes</p>\n"},{"tags":[],"owner":{"account_id":10894943,"reputation":529,"user_id":8009264,"display_name":"Yuresh Karunanayake"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628419680,"creation_date":1628419680,"answer_id":68700025,"question_id":4544899,"body_markdown":"Before Java 9, [ServiceLoader][1] find the implementations for a Service from the file in META-INF/services which has fully qualified name same as the Service interface. It contain list of fully qualified names of the implementations.\r\n\r\nFrom Java 9 It have modules and modules have module descriptors. \r\nThose &#39;module&#39; can define the services and their implementation that a ServiceLoader could load.\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html","title":"Java META-INF/services","body":"<p>Before Java 9, <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> find the implementations for a Service from the file in META-INF/services which has fully qualified name same as the Service interface. It contain list of fully qualified names of the implementations.</p>\n<p>From Java 9 It have modules and modules have module descriptors.\nThose 'module' can define the services and their implementation that a ServiceLoader could load.</p>\n"}],"owner":{"account_id":267560,"reputation":501,"user_id":555810,"display_name":"dialloc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26437,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":3,"score":50,"last_activity_date":1684180338,"creation_date":1293527375,"question_id":4544899,"body_markdown":"What is the purpose of META-INF/services in Java ?","title":"Java META-INF/services","body":"<p>What is the purpose of META-INF/services in Java ?</p>\n"},{"tags":["java","neo4j"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1480262736,"post_id":40816493,"comment_id":68879514,"body_markdown":"This seems like a tool/framework recommendation question. What you use is entirely up to your preference (assuming you even need one), and I doubt the generation of a UUID is going to have anywhere near the operation cost as a database call.","body":"This seems like a tool/framework recommendation question. What you use is entirely up to your preference (assuming you even need one), and I doubt the generation of a UUID is going to have anywhere near the operation cost as a database call."}],"answers":[{"tags":[],"owner":{"account_id":3180712,"reputation":8436,"user_id":2954199,"display_name":"William Lyon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480623753,"creation_date":1480623753,"answer_id":40919673,"question_id":40816493,"body_markdown":"It is true that you should not reference an internal id in an external system as internal ids are not stable. \r\n\r\nOne option for generating a UUID would be using the [`apoc.create.uuid`](https://neo4j-contrib.github.io/neo4j-apoc-procedures/#_creating_data) function available in the [apoc procedure library](https://github.com/neo4j-contrib/neo4j-apoc-procedures). For example:\r\n\r\n    CREATE (p:Person)\r\n    SET p.name = &quot;Bob&quot;,\r\n        p.uuid = apoc.create.uuid()\r\n\r\nSee [this blog post](https://neo4j.com/blog/intro-user-defined-procedures-apoc/) for more information on user defined procedures and functions. \r\n\r\n","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>It is true that you should not reference an internal id in an external system as internal ids are not stable. </p>\n\n<p>One option for generating a UUID would be using the <a href=\"https://neo4j-contrib.github.io/neo4j-apoc-procedures/#_creating_data\" rel=\"noreferrer\"><code>apoc.create.uuid</code></a> function available in the <a href=\"https://github.com/neo4j-contrib/neo4j-apoc-procedures\" rel=\"noreferrer\">apoc procedure library</a>. For example:</p>\n\n<pre><code>CREATE (p:Person)\nSET p.name = \"Bob\",\n    p.uuid = apoc.create.uuid()\n</code></pre>\n\n<p>See <a href=\"https://neo4j.com/blog/intro-user-defined-procedures-apoc/\" rel=\"noreferrer\">this blog post</a> for more information on user defined procedures and functions. </p>\n"},{"tags":[],"owner":{"account_id":82853,"reputation":19215,"user_id":232671,"accept_rate":67,"display_name":"Luanne"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480654950,"creation_date":1480654950,"answer_id":40925126,"question_id":40816493,"body_markdown":"Another option is to to use GraphAware UUID to assign UUIDs to nodes and optionally relationships, transparently. It will also make sure that the UUIDs are not changed or deleted.\r\n\r\nhttps://github.com/graphaware/neo4j-uuid\r\n\r\nDisclaimer: I work at GraphAware","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>Another option is to to use GraphAware UUID to assign UUIDs to nodes and optionally relationships, transparently. It will also make sure that the UUIDs are not changed or deleted.</p>\n\n<p><a href=\"https://github.com/graphaware/neo4j-uuid\" rel=\"nofollow noreferrer\">https://github.com/graphaware/neo4j-uuid</a></p>\n\n<p>Disclaimer: I work at GraphAware</p>\n"},{"tags":[],"owner":{"account_id":16292528,"reputation":71,"user_id":11765660,"display_name":"JohnSmith"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1684179965,"creation_date":1562770399,"answer_id":56973393,"question_id":40816493,"body_markdown":"Now Cypher has a `randomUUID` native function, see https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-randomuuid\r\n\r\n &gt; The function randomUUID() returns a randomly-generated Universally Unique Identifier (UUID), also known as a Globally Unique Identifier (GUID). This is a 128-bit value with strong guarantees of uniqueness.\r\n\r\nExample:\r\n\r\n```\r\nRETURN randomUUID() AS uuid\r\n```","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>Now Cypher has a <code>randomUUID</code> native function, see <a href=\"https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-randomuuid\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-randomuuid</a></p>\n<blockquote>\n<p>The function randomUUID() returns a randomly-generated Universally Unique Identifier (UUID), also known as a Globally Unique Identifier (GUID). This is a 128-bit value with strong guarantees of uniqueness.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>RETURN randomUUID() AS uuid\n</code></pre>\n"}],"owner":{"account_id":4942306,"reputation":389,"user_id":3978694,"accept_rate":45,"display_name":"Prabudda Sri Rahal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5542,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1684179965,"creation_date":1480149310,"question_id":40816493,"body_markdown":"Neo4j does not recommend to use node id to store in third party system for later referencing. \r\n\r\n 1. So what is best ways to generate uuid in java for neo4j nodes?\r\n 2. Currently I&#39;m using UUID.randomUUID(); to generate uuid. Is there any performance impact for neo4j search if I use UUID.randomUUID()?\r\n","title":"What is the best way to generatej uuid in java for neo4j nodes","body":"<p>Neo4j does not recommend to use node id to store in third party system for later referencing. </p>\n\n<ol>\n<li>So what is best ways to generate uuid in java for neo4j nodes?</li>\n<li>Currently I'm using UUID.randomUUID(); to generate uuid. Is there any performance impact for neo4j search if I use UUID.randomUUID()?</li>\n</ol>\n"},{"tags":["java","swing","jtree","treemodel"],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684178912,"creation_date":1684178912,"question_id":76257387,"body_markdown":"I&#39;m try to create a custom JTree using Checkboxes following the code from [this post](https://stackoverflow.com/questions/70818575/checkbox-jtree-with-selectable-nodes/70825861#70825861). But I&#39;m running into three issues:\r\n\r\n1) When I try to change the name of one of the CheckBoxNodes (using the `keyReleased` handler), it wont update the text even though I am calling `model.nodeChanged(node);` this seems to have no effect unless I subsequently call `tree.updateUI();` which I understand is not the proper way to do things (even though it works).\r\n\r\n2) When I try to insert a CheckBoxNode, it is always adding it to the first NameVector because something is changing the selection when I press the &#39;a&#39; key as a trigger. I&#39;ve run through the KeyMappings and tried to consume the event, but it seems to occur before `keyReleased` is called. How do I disable this behavior?\r\n\r\n3) How do I correctly update the NameVector&#39;s text to reflect the current number of selected CheckBoxNodes and total CheckboxNodes that I have in the `NamedVector.toString()` function after I add/remove/check/uncheck a CheckBoxNode?\r\n\r\nThanks in advance!\r\n\r\n```\r\npublic class CheckBoxNodeTreeSample2 \r\n{\r\n    private JTree tree;\r\n    \r\n    public static void main(String... s)\r\n    {\r\n        new CheckBoxNodeTreeSample2();\r\n    }\r\n\r\n    public CheckBoxNodeTreeSample2() \r\n    {\r\n        JFrame frame = new JFrame(&quot;CheckBox Tree&quot;);\r\n    \r\n        CheckBoxNode accessibilityOptions[] = \r\n        {\r\n            new CheckBoxNode(&quot;Move system caret with focus/selection changes&quot;, false),\r\n            new CheckBoxNode(&quot;Always expand alt text for images&quot;, true) \r\n        };\r\n        CheckBoxNode browsingOptions[] = \r\n        {\r\n            new CheckBoxNode(&quot;Notify when downloads complete&quot;, true),\r\n            new CheckBoxNode(&quot;Disable script debugging&quot;, true),\r\n            new CheckBoxNode(&quot;Use AutoComplete&quot;, true),\r\n            new CheckBoxNode(&quot;Browse in a new process&quot;, false) \r\n        };\r\n      \r\n        Vector accessVector = new NamedVector(&quot;Accessibility&quot;,accessibilityOptions);\r\n        Vector browseVector = new NamedVector(&quot;Browsing&quot;, browsingOptions);\r\n\r\n        Object rootNodes[] = { accessVector, browseVector };\r\n        Vector rootVector = new NamedVector(&quot;Root&quot;, rootNodes);\r\n        tree = new JTree(rootVector);\r\n    \r\n        CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\r\n        tree.setCellRenderer(renderer);\r\n        tree.setCellEditor(new CheckBoxNodeEditor());\r\n        tree.setEditable(true);\r\n        //tree.setRootVisible(true);\r\n           \r\n        //expand the tree on launch\r\n        for(int i=0;i&lt;tree.getRowCount();++i) { tree.expandRow(i); }\r\n        \r\n\t\t// listen for changes in the selection\r\n\t\ttree.addTreeSelectionListener(new TreeSelectionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void valueChanged(final TreeSelectionEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: selection changed&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// listen for changes in the model (including check box toggles)\r\n\t\ttree.getModel().addTreeModelListener(new TreeModelListener() \r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void treeNodesChanged(TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: nodes changed&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void treeNodesInserted(final TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: nodes inserted&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void treeNodesRemoved(final TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: nodes removed&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void treeStructureChanged(final TreeModelEvent e) {\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() + &quot;: structure changed&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n        \r\n        JScrollPane scrollPane = new JScrollPane(tree);\r\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n        frame.setSize(360, 260);\r\n        frame.setVisible(true);\r\n        \r\n        tree.addKeyListener(new KeyListener() \r\n\t    { \t\t\r\n\t    \tpublic void keyTyped(KeyEvent e) { }\r\n\t    \tpublic void keyPressed(KeyEvent e) { } \r\n\t    \tpublic void keyReleased(KeyEvent e) \r\n\t    \t{ \t\r\n\t\t\t\tTreePath treePath = tree.getSelectionPath();\t\r\n\t\t\t\tDefaultMutableTreeNode node = (DefaultMutableTreeNode)treePath.getLastPathComponent();\r\n\t\t\t\tObject userObject = node.getUserObject();\r\n\t\t\t\t\r\n\t\t\t\tif(e.getKeyChar() == &#39;a&#39;) //add\r\n\t\t\t\t{\t\t\t\t\r\n\t\t\t\t\t//only add to NamedVectors\r\n\t\t\t\t\tif(userObject instanceof NamedVector)\r\n\t\t\t\t\t{\t\t\t         \t\t\t\t\t\r\n\t\t\t\t\t\tDefaultTreeModel model = (DefaultTreeModel) tree.getModel();\t\t\t           \r\n\t\t\t            model.insertNodeInto(new DefaultMutableTreeNode(new CheckBoxNode(&quot;ADDED NODE &quot; + System.currentTimeMillis(), true)), node, node.getChildCount());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(e.getKeyChar() == &#39;e&#39;) //edit\r\n\t\t\t\t{\t\t\t\t\r\n\t\t\t\t\t//Only edit CheckBoxNodes\r\n\t\t\t\t\tif(userObject instanceof CheckBoxNode)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tCheckBoxNode checkBoxNode = (CheckBoxNode)userObject;\r\n\t\t\t\t\t\tcheckBoxNode.setText(&quot;Edited at &quot;  + System.currentTimeMillis());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tDefaultTreeModel model = (DefaultTreeModel) tree.getModel();\r\n\t\t\t\t\t\tnode.setUserObject(checkBoxNode);\r\n\t\t\t\t\t    model.nodeChanged(node);\r\n\t\t\t\t\t    //tree.updateUI(); \r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\telse if(e.getKeyChar() == &#39;r&#39;) //add\r\n\t\t\t\t{\t\t\t\t\t\t\t\r\n\t\t\t\t\t//Only remove CheckBoxNodes\r\n\t\t\t\t\tif(userObject instanceof CheckBoxNode)\r\n\t\t\t\t\t{\r\n\t\t\t       \r\n\t\t\t            DefaultMutableTreeNode currentNode = (DefaultMutableTreeNode) (treePath.getLastPathComponent());\r\n\t\t\t            MutableTreeNode parent = (MutableTreeNode)(currentNode.getParent());\r\n\t\t\t            if (parent != null) \r\n\t\t\t            {\r\n\t\t\t\t\t\t\tDefaultTreeModel model = (DefaultTreeModel) tree.getModel();\r\n\t\t\t                model.removeNodeFromParent(currentNode);\r\n\t\t\t            } \r\n\t\t\t\t    }\t\t\t\t   \t\t\t\t \r\n\t    \t\t}\t\r\n\t\t\t} \r\n\t    });\t\r\n    }\r\n}\r\n\r\nclass CheckBoxPanel extends JPanel\r\n{\r\n    public JCheckBox checkBox;\r\n    public JLabel label;\r\n\r\n    public CheckBoxPanel() \r\n    { \r\n        super();\r\n    \r\n        checkBox = new JCheckBox();\r\n        label = new JLabel();\r\n    \r\n        checkBox.setBorder(new EmptyBorder(0, 0, 0, 0));\r\n\r\n        add(checkBox);\r\n        add(label);\r\n        \r\n        //Passes KeyEvents to the tree\r\n        checkBox.addKeyListener(new KeyListener() \r\n\t    { \t\t\r\n\t    \tpublic void keyTyped(KeyEvent e) { }\r\n\t    \tpublic void keyPressed(KeyEvent e) { } \r\n\t    \tpublic void keyReleased(KeyEvent e) \r\n\t    \t{ \r\n\t    \t\tgetParent().dispatchEvent(e);\r\n\t\t\t} \r\n\t    });\r\n    }\r\n}\r\n\r\nclass CheckBoxNodeRenderer implements TreeCellRenderer \r\n{\r\n    private CheckBoxPanel leafRenderer = new CheckBoxPanel();\r\n\r\n    private DefaultTreeCellRenderer nonLeafRenderer = new DefaultTreeCellRenderer();\r\n\r\n    Color selectionBorderColor, selectionForeground, selectionBackground,\r\n                    textForeground, textBackground;\r\n\r\n    protected CheckBoxPanel getLeafRenderer() \r\n    {\r\n            return leafRenderer;\r\n    }\r\n\r\n    public CheckBoxNodeRenderer() {\r\n            Font fontValue;\r\n            fontValue = UIManager.getFont(&quot;Tree.font&quot;);\r\n            if (fontValue != null) {\r\n                    leafRenderer.checkBox.setFont(fontValue);\r\n                    leafRenderer.label.setFont(fontValue);\r\n            }\r\n            Boolean booleanValue = (Boolean) UIManager\r\n                            .get(&quot;Tree.drawsFocusBorderAroundIcon&quot;);\r\n            leafRenderer.checkBox.setFocusPainted((booleanValue != null)\r\n                            &amp;&amp; (booleanValue.booleanValue()));\r\n\r\n            selectionBorderColor = UIManager.getColor(&quot;Tree.selectionBorderColor&quot;);\r\n            selectionForeground = UIManager.getColor(&quot;Tree.selectionForeground&quot;);\r\n            selectionBackground = UIManager.getColor(&quot;Tree.selectionBackground&quot;);\r\n            textForeground = UIManager.getColor(&quot;Tree.textForeground&quot;);\r\n            textBackground = UIManager.getColor(&quot;Tree.textBackground&quot;);\r\n    }\r\n\r\n    public Component getTreeCellRendererComponent(JTree tree, Object value,\r\n                    boolean selected, boolean expanded, boolean leaf, int row,\r\n                    boolean hasFocus) {\r\n\r\n            Component returnValue;\r\n            if (leaf) {\r\n\r\n                    String stringValue = tree.convertValueToText(value, selected,\r\n                                    expanded, leaf, row, false);\r\n                    \r\n                    leafRenderer.checkBox.setSelected(false);\r\n                    leafRenderer.label.setText(stringValue);\r\n\r\n                    leafRenderer.setEnabled(tree.isEnabled());\r\n\r\n                    if (selected) {\r\n                            leafRenderer.setForeground(selectionForeground);\r\n                            leafRenderer.setBackground(selectionBackground);\r\n                    } else {\r\n                            leafRenderer.setForeground(textForeground);\r\n                            leafRenderer.setBackground(textBackground);\r\n                    }\r\n\r\n                    if ((value != null) &amp;&amp; (value instanceof DefaultMutableTreeNode)) {\r\n                            Object userObject = ((DefaultMutableTreeNode) value)\r\n                                            .getUserObject();\r\n                            if (userObject instanceof CheckBoxNode) {\r\n                                    CheckBoxNode node = (CheckBoxNode) userObject;                                        \r\n                                    leafRenderer.checkBox.setSelected(node.isSelected());\r\n                                    leafRenderer.label.setText(node.getText());\r\n                            }\r\n                    }\r\n                    returnValue = leafRenderer;\r\n            } else {\r\n                    returnValue = nonLeafRenderer.getTreeCellRendererComponent(tree,\r\n                                    value, selected, expanded, leaf, row, hasFocus);\r\n            }\r\n            return returnValue;\r\n    }\r\n}\r\n\r\nclass CheckBoxNodeEditor extends AbstractCellEditor implements TreeCellEditor {\r\n\r\n    CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\r\n\r\n    ChangeEvent changeEvent = null;\r\n\r\n    public Object getCellEditorValue() \r\n    {\r\n            CheckBoxPanel checkBoxPanel = renderer.getLeafRenderer();\r\n            CheckBoxNode checkBoxNode = new CheckBoxNode(checkBoxPanel.label.getText(), checkBoxPanel.checkBox.isSelected());\r\n            return checkBoxNode;\r\n    }\r\n\r\n    public boolean isCellEditable(EventObject event) {\r\n            boolean returnValue = false;\r\n            if (event instanceof MouseEvent) {\r\n                    MouseEvent mouseEvent = (MouseEvent) event;\r\n                    JTree tree = (JTree)event.getSource();\r\n\r\n                    TreePath path = tree.getPathForLocation(mouseEvent.getX(),\r\n                                    mouseEvent.getY());\r\n                    if (path != null) {\r\n                            Object node = path.getLastPathComponent();\r\n                            if ((node != null) &amp;&amp; (node instanceof DefaultMutableTreeNode)) {\r\n                                    DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) node;\r\n                                    Object userObject = treeNode.getUserObject();\r\n                                    returnValue = ((treeNode.isLeaf()) &amp;&amp; (userObject instanceof CheckBoxNode));   \r\n\r\n                            }\r\n                    }\r\n            }\r\n            return returnValue;\r\n    }\r\n\r\n    public Component getTreeCellEditorComponent(JTree tree, Object value,\r\n                    boolean selected, boolean expanded, boolean leaf, int row)  {\r\n\r\n            Component editor = renderer.getTreeCellRendererComponent(tree, value,\r\n                            true, expanded, leaf, row, true);\r\n\r\n            // editor always selected / focused\r\n            ItemListener itemListener = new ItemListener() {\r\n                    public void itemStateChanged(ItemEvent itemEvent) {\r\n                            if (stopCellEditing()) {\r\n                                    fireEditingStopped();\r\n                            }\r\n                    }\r\n            };\r\n            \r\n            if (editor instanceof CheckBoxPanel) \r\n            {\r\n                ((CheckBoxPanel) editor).checkBox.addItemListener(itemListener);\r\n            }\r\n\r\n            return editor;\r\n    }\r\n}\r\n\r\nclass CheckBoxNode {\r\n\t\r\n    String text;\r\n    boolean selected;\r\n\r\n    public CheckBoxNode(String text, boolean selected) {\r\n            this.text = text;\r\n            this.selected = selected;\r\n    }\r\n\r\n    public boolean isSelected() {\r\n            return selected;\r\n    }\r\n\r\n    public void setSelected(boolean newValue) {\r\n            selected = newValue;\r\n    }\r\n\r\n    public String getText() {\r\n            return text;\r\n    }\r\n\r\n    public void setText(String newValue) {\r\n            text = newValue;\r\n    }\r\n\r\n    public String toString() {\r\n            return getClass().getName() + &quot;[&quot; + text + &quot;/&quot; + selected + &quot;]&quot;;\r\n    }\r\n}\r\n\r\nclass NamedVector extends Vector \r\n{\r\n    String name;\r\n\r\n    public NamedVector(String name) {\r\n            this.name = name;\r\n    }\r\n\r\n    public NamedVector(String name, Object elements[]) {\r\n            this.name = name;\r\n            for (int i = 0, n = elements.length; i &lt; n; i++) {\r\n                    add(elements[i]);\r\n            }\r\n    }\r\n\r\n\tpublic String toString() \r\n\t{\r\n\t\tint selectedCount = 0;\r\n\t\tfor(int i = 0; i &lt; size(); i++)\r\n\t\t{\t\t\t\t\t\r\n\t\t\tif(get(i) instanceof CheckBoxNode)\r\n\t\t\t{\r\n\t\t\t\tif(((CheckBoxNode)get(i)).isSelected()) { selectedCount++; } \r\n\t\t\t}\r\n\t\t}\r\n\t\treturn name + &quot; [&quot; + selectedCount + &quot;/&quot; + size() + &quot;]&quot;;\r\n\t}\r\n}\r\n```","title":"JTree Issues Updating Nodes and with Key Handlers","body":"<p>I'm try to create a custom JTree using Checkboxes following the code from <a href=\"https://stackoverflow.com/questions/70818575/checkbox-jtree-with-selectable-nodes/70825861#70825861\">this post</a>. But I'm running into three issues:</p>\n<ol>\n<li><p>When I try to change the name of one of the CheckBoxNodes (using the <code>keyReleased</code> handler), it wont update the text even though I am calling <code>model.nodeChanged(node);</code> this seems to have no effect unless I subsequently call <code>tree.updateUI();</code> which I understand is not the proper way to do things (even though it works).</p>\n</li>\n<li><p>When I try to insert a CheckBoxNode, it is always adding it to the first NameVector because something is changing the selection when I press the 'a' key as a trigger. I've run through the KeyMappings and tried to consume the event, but it seems to occur before <code>keyReleased</code> is called. How do I disable this behavior?</p>\n</li>\n<li><p>How do I correctly update the NameVector's text to reflect the current number of selected CheckBoxNodes and total CheckboxNodes that I have in the <code>NamedVector.toString()</code> function after I add/remove/check/uncheck a CheckBoxNode?</p>\n</li>\n</ol>\n<p>Thanks in advance!</p>\n<pre><code>public class CheckBoxNodeTreeSample2 \n{\n    private JTree tree;\n    \n    public static void main(String... s)\n    {\n        new CheckBoxNodeTreeSample2();\n    }\n\n    public CheckBoxNodeTreeSample2() \n    {\n        JFrame frame = new JFrame(&quot;CheckBox Tree&quot;);\n    \n        CheckBoxNode accessibilityOptions[] = \n        {\n            new CheckBoxNode(&quot;Move system caret with focus/selection changes&quot;, false),\n            new CheckBoxNode(&quot;Always expand alt text for images&quot;, true) \n        };\n        CheckBoxNode browsingOptions[] = \n        {\n            new CheckBoxNode(&quot;Notify when downloads complete&quot;, true),\n            new CheckBoxNode(&quot;Disable script debugging&quot;, true),\n            new CheckBoxNode(&quot;Use AutoComplete&quot;, true),\n            new CheckBoxNode(&quot;Browse in a new process&quot;, false) \n        };\n      \n        Vector accessVector = new NamedVector(&quot;Accessibility&quot;,accessibilityOptions);\n        Vector browseVector = new NamedVector(&quot;Browsing&quot;, browsingOptions);\n\n        Object rootNodes[] = { accessVector, browseVector };\n        Vector rootVector = new NamedVector(&quot;Root&quot;, rootNodes);\n        tree = new JTree(rootVector);\n    \n        CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\n        tree.setCellRenderer(renderer);\n        tree.setCellEditor(new CheckBoxNodeEditor());\n        tree.setEditable(true);\n        //tree.setRootVisible(true);\n           \n        //expand the tree on launch\n        for(int i=0;i&lt;tree.getRowCount();++i) { tree.expandRow(i); }\n        \n        // listen for changes in the selection\n        tree.addTreeSelectionListener(new TreeSelectionListener() {\n            @Override\n            public void valueChanged(final TreeSelectionEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: selection changed&quot;);\n            }\n        });\n\n        // listen for changes in the model (including check box toggles)\n        tree.getModel().addTreeModelListener(new TreeModelListener() \n        {\n            @Override\n            public void treeNodesChanged(TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: nodes changed&quot;);\n            }\n\n            @Override\n            public void treeNodesInserted(final TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: nodes inserted&quot;);\n            }\n\n            @Override\n            public void treeNodesRemoved(final TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: nodes removed&quot;);\n            }\n\n            @Override\n            public void treeStructureChanged(final TreeModelEvent e) {\n                System.out.println(System.currentTimeMillis() + &quot;: structure changed&quot;);\n            }\n        });\n        \n        \n        JScrollPane scrollPane = new JScrollPane(tree);\n        frame.getContentPane().add(scrollPane, BorderLayout.CENTER);\n        frame.setSize(360, 260);\n        frame.setVisible(true);\n        \n        tree.addKeyListener(new KeyListener() \n        {       \n            public void keyTyped(KeyEvent e) { }\n            public void keyPressed(KeyEvent e) { } \n            public void keyReleased(KeyEvent e) \n            {   \n                TreePath treePath = tree.getSelectionPath();    \n                DefaultMutableTreeNode node = (DefaultMutableTreeNode)treePath.getLastPathComponent();\n                Object userObject = node.getUserObject();\n                \n                if(e.getKeyChar() == 'a') //add\n                {               \n                    //only add to NamedVectors\n                    if(userObject instanceof NamedVector)\n                    {                                       \n                        DefaultTreeModel model = (DefaultTreeModel) tree.getModel();                       \n                        model.insertNodeInto(new DefaultMutableTreeNode(new CheckBoxNode(&quot;ADDED NODE &quot; + System.currentTimeMillis(), true)), node, node.getChildCount());\n                    }\n                }\n                else if(e.getKeyChar() == 'e') //edit\n                {               \n                    //Only edit CheckBoxNodes\n                    if(userObject instanceof CheckBoxNode)\n                    {\n                        CheckBoxNode checkBoxNode = (CheckBoxNode)userObject;\n                        checkBoxNode.setText(&quot;Edited at &quot;  + System.currentTimeMillis());\n                        \n                        DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\n                        node.setUserObject(checkBoxNode);\n                        model.nodeChanged(node);\n                        //tree.updateUI(); \n                    }                   \n                }   \n                else if(e.getKeyChar() == 'r') //add\n                {                           \n                    //Only remove CheckBoxNodes\n                    if(userObject instanceof CheckBoxNode)\n                    {\n                   \n                        DefaultMutableTreeNode currentNode = (DefaultMutableTreeNode) (treePath.getLastPathComponent());\n                        MutableTreeNode parent = (MutableTreeNode)(currentNode.getParent());\n                        if (parent != null) \n                        {\n                            DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\n                            model.removeNodeFromParent(currentNode);\n                        } \n                    }                                \n                }   \n            } \n        }); \n    }\n}\n\nclass CheckBoxPanel extends JPanel\n{\n    public JCheckBox checkBox;\n    public JLabel label;\n\n    public CheckBoxPanel() \n    { \n        super();\n    \n        checkBox = new JCheckBox();\n        label = new JLabel();\n    \n        checkBox.setBorder(new EmptyBorder(0, 0, 0, 0));\n\n        add(checkBox);\n        add(label);\n        \n        //Passes KeyEvents to the tree\n        checkBox.addKeyListener(new KeyListener() \n        {       \n            public void keyTyped(KeyEvent e) { }\n            public void keyPressed(KeyEvent e) { } \n            public void keyReleased(KeyEvent e) \n            { \n                getParent().dispatchEvent(e);\n            } \n        });\n    }\n}\n\nclass CheckBoxNodeRenderer implements TreeCellRenderer \n{\n    private CheckBoxPanel leafRenderer = new CheckBoxPanel();\n\n    private DefaultTreeCellRenderer nonLeafRenderer = new DefaultTreeCellRenderer();\n\n    Color selectionBorderColor, selectionForeground, selectionBackground,\n                    textForeground, textBackground;\n\n    protected CheckBoxPanel getLeafRenderer() \n    {\n            return leafRenderer;\n    }\n\n    public CheckBoxNodeRenderer() {\n            Font fontValue;\n            fontValue = UIManager.getFont(&quot;Tree.font&quot;);\n            if (fontValue != null) {\n                    leafRenderer.checkBox.setFont(fontValue);\n                    leafRenderer.label.setFont(fontValue);\n            }\n            Boolean booleanValue = (Boolean) UIManager\n                            .get(&quot;Tree.drawsFocusBorderAroundIcon&quot;);\n            leafRenderer.checkBox.setFocusPainted((booleanValue != null)\n                            &amp;&amp; (booleanValue.booleanValue()));\n\n            selectionBorderColor = UIManager.getColor(&quot;Tree.selectionBorderColor&quot;);\n            selectionForeground = UIManager.getColor(&quot;Tree.selectionForeground&quot;);\n            selectionBackground = UIManager.getColor(&quot;Tree.selectionBackground&quot;);\n            textForeground = UIManager.getColor(&quot;Tree.textForeground&quot;);\n            textBackground = UIManager.getColor(&quot;Tree.textBackground&quot;);\n    }\n\n    public Component getTreeCellRendererComponent(JTree tree, Object value,\n                    boolean selected, boolean expanded, boolean leaf, int row,\n                    boolean hasFocus) {\n\n            Component returnValue;\n            if (leaf) {\n\n                    String stringValue = tree.convertValueToText(value, selected,\n                                    expanded, leaf, row, false);\n                    \n                    leafRenderer.checkBox.setSelected(false);\n                    leafRenderer.label.setText(stringValue);\n\n                    leafRenderer.setEnabled(tree.isEnabled());\n\n                    if (selected) {\n                            leafRenderer.setForeground(selectionForeground);\n                            leafRenderer.setBackground(selectionBackground);\n                    } else {\n                            leafRenderer.setForeground(textForeground);\n                            leafRenderer.setBackground(textBackground);\n                    }\n\n                    if ((value != null) &amp;&amp; (value instanceof DefaultMutableTreeNode)) {\n                            Object userObject = ((DefaultMutableTreeNode) value)\n                                            .getUserObject();\n                            if (userObject instanceof CheckBoxNode) {\n                                    CheckBoxNode node = (CheckBoxNode) userObject;                                        \n                                    leafRenderer.checkBox.setSelected(node.isSelected());\n                                    leafRenderer.label.setText(node.getText());\n                            }\n                    }\n                    returnValue = leafRenderer;\n            } else {\n                    returnValue = nonLeafRenderer.getTreeCellRendererComponent(tree,\n                                    value, selected, expanded, leaf, row, hasFocus);\n            }\n            return returnValue;\n    }\n}\n\nclass CheckBoxNodeEditor extends AbstractCellEditor implements TreeCellEditor {\n\n    CheckBoxNodeRenderer renderer = new CheckBoxNodeRenderer();\n\n    ChangeEvent changeEvent = null;\n\n    public Object getCellEditorValue() \n    {\n            CheckBoxPanel checkBoxPanel = renderer.getLeafRenderer();\n            CheckBoxNode checkBoxNode = new CheckBoxNode(checkBoxPanel.label.getText(), checkBoxPanel.checkBox.isSelected());\n            return checkBoxNode;\n    }\n\n    public boolean isCellEditable(EventObject event) {\n            boolean returnValue = false;\n            if (event instanceof MouseEvent) {\n                    MouseEvent mouseEvent = (MouseEvent) event;\n                    JTree tree = (JTree)event.getSource();\n\n                    TreePath path = tree.getPathForLocation(mouseEvent.getX(),\n                                    mouseEvent.getY());\n                    if (path != null) {\n                            Object node = path.getLastPathComponent();\n                            if ((node != null) &amp;&amp; (node instanceof DefaultMutableTreeNode)) {\n                                    DefaultMutableTreeNode treeNode = (DefaultMutableTreeNode) node;\n                                    Object userObject = treeNode.getUserObject();\n                                    returnValue = ((treeNode.isLeaf()) &amp;&amp; (userObject instanceof CheckBoxNode));   \n\n                            }\n                    }\n            }\n            return returnValue;\n    }\n\n    public Component getTreeCellEditorComponent(JTree tree, Object value,\n                    boolean selected, boolean expanded, boolean leaf, int row)  {\n\n            Component editor = renderer.getTreeCellRendererComponent(tree, value,\n                            true, expanded, leaf, row, true);\n\n            // editor always selected / focused\n            ItemListener itemListener = new ItemListener() {\n                    public void itemStateChanged(ItemEvent itemEvent) {\n                            if (stopCellEditing()) {\n                                    fireEditingStopped();\n                            }\n                    }\n            };\n            \n            if (editor instanceof CheckBoxPanel) \n            {\n                ((CheckBoxPanel) editor).checkBox.addItemListener(itemListener);\n            }\n\n            return editor;\n    }\n}\n\nclass CheckBoxNode {\n    \n    String text;\n    boolean selected;\n\n    public CheckBoxNode(String text, boolean selected) {\n            this.text = text;\n            this.selected = selected;\n    }\n\n    public boolean isSelected() {\n            return selected;\n    }\n\n    public void setSelected(boolean newValue) {\n            selected = newValue;\n    }\n\n    public String getText() {\n            return text;\n    }\n\n    public void setText(String newValue) {\n            text = newValue;\n    }\n\n    public String toString() {\n            return getClass().getName() + &quot;[&quot; + text + &quot;/&quot; + selected + &quot;]&quot;;\n    }\n}\n\nclass NamedVector extends Vector \n{\n    String name;\n\n    public NamedVector(String name) {\n            this.name = name;\n    }\n\n    public NamedVector(String name, Object elements[]) {\n            this.name = name;\n            for (int i = 0, n = elements.length; i &lt; n; i++) {\n                    add(elements[i]);\n            }\n    }\n\n    public String toString() \n    {\n        int selectedCount = 0;\n        for(int i = 0; i &lt; size(); i++)\n        {                   \n            if(get(i) instanceof CheckBoxNode)\n            {\n                if(((CheckBoxNode)get(i)).isSelected()) { selectedCount++; } \n            }\n        }\n        return name + &quot; [&quot; + selectedCount + &quot;/&quot; + size() + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","sorting","radix-sort"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1684156755,"post_id":76254453,"comment_id":134471375,"body_markdown":"Why not just sort the `float`s themselves? No need to convert to `int` or `String`.","body":"Why not just sort the <code>float</code>s themselves? No need to convert to <code>int</code> or <code>String</code>."},{"owner":{"account_id":10036978,"reputation":71,"user_id":17064199,"display_name":"benkyou"},"score":0,"creation_date":1684157368,"post_id":76254453,"comment_id":134471526,"body_markdown":"@Jorn How would I go about doing that? I thought they had to be `int`s because radix sort only handles integers. I converted it to `String` to find the longest decimal places.","body":"@Jorn How would I go about doing that? I thought they had to be <code>int</code>s because radix sort only handles integers. I converted it to <code>String</code> to find the longest decimal places."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684178690,"creation_date":1684157500,"answer_id":76254618,"question_id":76254453,"body_markdown":"Floating point numbers can go over a wide range (they could be very close or very far from zero) so I would not use that approach. Instead, you could sort by sign, exponent and mantissa:\r\n\r\nYou could try using the binary representation. You can convert a floating point number to its binary representation using [`Double#doubleToRawLongBits`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#doubleToRawLongBits(double)) or similar.\r\n\r\nThen, you can extract the sign part, exponent and mantissa:\r\n```java\r\ndouble yourNumber=13.37;\r\nlong longRepresentation=Double.doubleToRawLongBits(yourNumber);\r\nlong sign=longRepresentation&amp;0x8000000000000000L;\r\nlong exponent = longRepresentation&amp;0x7ff0000000000000L;\r\nlong mantissa = longRepresentation&amp;0x000fffffffffffffL;\r\n```\r\n\r\nObserve that if the `long` representation of one number is greater than the other, the same holds for the corresponding floating point numbers.\r\n\r\nThe sign is at the same position as it would be for `long` values. Also, the exponent (which is more significant than the mantissa) is in the significant position. So, you could just sort the `long` representations instead of the actual `double`s. However, you should make sure that your sorting algorithm really works for negative numbers as well.\r\n\r\nSince you probably don&#39;t want to call `Double#doubleToLongBits` over and over, you might want to first convert your data `long`s first, then sort them and finally convert them back:\r\n```java\r\npublic static void radixSort(double[] array) {\r\n    long[] longArray=new long[array.length];\r\n    for(int i=0;i&lt;array.length;i++){\r\n        longArray[i]=Double.doubleToRawLongBits(array[i]);\r\n    }\r\n    radixSort(longArray);\r\n    for(int i=0;i&lt;array.length;i++){\r\n        array[i]=Double.longBitsToDouble(longArray[i]);\r\n    }\r\n}\r\n```\r\n\r\nIt shall be noted that it is very likely not efficient to use radix sort for `long` values due to their structure. Sorting algorithms based on comparison are probably more efficient if you don&#39;t have _that_ many numbers to sort.","title":"LSD radix sort in Java for positive floating points","body":"<p>Floating point numbers can go over a wide range (they could be very close or very far from zero) so I would not use that approach. Instead, you could sort by sign, exponent and mantissa:</p>\n<p>You could try using the binary representation. You can convert a floating point number to its binary representation using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#doubleToRawLongBits(double)\" rel=\"nofollow noreferrer\"><code>Double#doubleToRawLongBits</code></a> or similar.</p>\n<p>Then, you can extract the sign part, exponent and mantissa:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double yourNumber=13.37;\nlong longRepresentation=Double.doubleToRawLongBits(yourNumber);\nlong sign=longRepresentation&amp;0x8000000000000000L;\nlong exponent = longRepresentation&amp;0x7ff0000000000000L;\nlong mantissa = longRepresentation&amp;0x000fffffffffffffL;\n</code></pre>\n<p>Observe that if the <code>long</code> representation of one number is greater than the other, the same holds for the corresponding floating point numbers.</p>\n<p>The sign is at the same position as it would be for <code>long</code> values. Also, the exponent (which is more significant than the mantissa) is in the significant position. So, you could just sort the <code>long</code> representations instead of the actual <code>double</code>s. However, you should make sure that your sorting algorithm really works for negative numbers as well.</p>\n<p>Since you probably don't want to call <code>Double#doubleToLongBits</code> over and over, you might want to first convert your data <code>long</code>s first, then sort them and finally convert them back:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void radixSort(double[] array) {\n    long[] longArray=new long[array.length];\n    for(int i=0;i&lt;array.length;i++){\n        longArray[i]=Double.doubleToRawLongBits(array[i]);\n    }\n    radixSort(longArray);\n    for(int i=0;i&lt;array.length;i++){\n        array[i]=Double.longBitsToDouble(longArray[i]);\n    }\n}\n</code></pre>\n<p>It shall be noted that it is very likely not efficient to use radix sort for <code>long</code> values due to their structure. Sorting algorithms based on comparison are probably more efficient if you don't have <em>that</em> many numbers to sort.</p>\n"}],"owner":{"account_id":10036978,"reputation":71,"user_id":17064199,"display_name":"benkyou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76254618,"answer_count":1,"score":0,"last_activity_date":1684178690,"creation_date":1684156420,"question_id":76254453,"body_markdown":"I am implementing radix sort using queues. As of now, it works for sorting integers, but I want to modify it to sort positive floating points as well.\r\n\r\n```java\r\npublic static void radixSort(int[] array) {\r\n\tint max = getMaxElement(array);\r\n\r\n\tList&lt;Queue&lt;Integer&gt;&gt; queues = new ArrayList&lt;&gt;(10);\r\n\r\n\tfor (int i = 0; i &lt; 10; i++)\r\n\t\tqueues.add(new LinkedList&lt;&gt;());\r\n\r\n\t/* insert into queues based on radix */\r\n\tfor (int exp = 1; max / exp &gt; 1; exp *= 10) {\r\n\t\tfor (int value: array) {\r\n\t\t\tint digit = value / exp % 10;\r\n\t\t\tqueues.get(digit).add(value);\r\n\t\t}\r\n\t} \r\n\r\n\t/* dequeue into original array */\r\n\tint index = 0;\r\n\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\twhile (!queue.get(i).isEmpty())\r\n\t\t\tarray[index++] = queues.get(i).remove();\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried by finding the longest decimal places then multiplying each element in the array by 10 raised to the power of it so that the floating points can be sorted as integers. However, the method I used would require converting them to strings to find the `.` longest decimal places. Is there a more elegant way for sorting floating points?","title":"LSD radix sort in Java for positive floating points","body":"<p>I am implementing radix sort using queues. As of now, it works for sorting integers, but I want to modify it to sort positive floating points as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void radixSort(int[] array) {\n    int max = getMaxElement(array);\n\n    List&lt;Queue&lt;Integer&gt;&gt; queues = new ArrayList&lt;&gt;(10);\n\n    for (int i = 0; i &lt; 10; i++)\n        queues.add(new LinkedList&lt;&gt;());\n\n    /* insert into queues based on radix */\n    for (int exp = 1; max / exp &gt; 1; exp *= 10) {\n        for (int value: array) {\n            int digit = value / exp % 10;\n            queues.get(digit).add(value);\n        }\n    } \n\n    /* dequeue into original array */\n    int index = 0;\n    for (int i = 0; i &lt; 10; i++) {\n        while (!queue.get(i).isEmpty())\n            array[index++] = queues.get(i).remove();\n    }\n}\n\n</code></pre>\n<p>I tried by finding the longest decimal places then multiplying each element in the array by 10 raised to the power of it so that the floating points can be sorted as integers. However, the method I used would require converting them to strings to find the <code>.</code> longest decimal places. Is there a more elegant way for sorting floating points?</p>\n"},{"tags":["java","backend"],"owner":{"account_id":28607581,"reputation":1,"user_id":21903202,"display_name":"Rangesh Surendran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684178344,"creation_date":1684178344,"question_id":76257339,"body_markdown":"This is the sample CSV File, it was separated by header and footer\r\nso here I need to skip the last two lines from the input. I need only the two lines starting from 2234.... I want to skip those two lines starting from AccountNo....\r\n\r\n`223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93\r\n223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93\r\nAccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance\r\nAccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance` \r\n\r\nHere is the Header code, \r\n```\r\n                .when(PredicateBuilder.and(header(Constants.EXCLUDE_HEADER).isEqualTo(Constants.HEADER),\r\n                        header(Exchange.SPLIT_INDEX).isLessThan(serviceMetaData.getSkipLines()))) // Skip configurable number of records\r\n                        .to(Constants.DUMMY_URI)\r\n                        .endChoice()\r\n```\r\nThe footer code as below,\r\n\r\n```\r\n //remove footer\r\n                .when(PredicateBuilder.and(header(Constants.EXCLUDE_FOOTER).isEqualTo(Constants.FOOTER),\r\n                        header(Exchange.SPLIT_COMPLETE).isLessThan(serviceMetaData.getSkipLines())))\r\n                .to(Constants.DUMMY_URI)\r\n                .endChoice()\r\n```\r\nI need to modify the footer code \r\nto skip the lines from the last as per given Skip line count using java.\r\n\r\n\r\n\r\n\r\n\r\nThanks for your support\r\n\r\nI need to modify the footer code \r\nto skip the lines from the last as per given Skip line count using java.","title":"Skip Footer lines from the CSV Input file starting from the last by given skip lines count in Java","body":"<p>This is the sample CSV File, it was separated by header and footer\nso here I need to skip the last two lines from the input. I need only the two lines starting from 2234.... I want to skip those two lines starting from AccountNo....</p>\n<p><code>223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93 223435434,CDF,0.00,-591.93,591.93,0.00,0.00,0.00,591.93 AccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance AccountNo,Currency,EQ_SettledCashBalance,EQ_OutstandingCash,EQ_TotalCashBalance,ETO_SettledCashBalance,ETO_OutstandingCash,ETO_TotalCashBalance,TotalCashBalance</code></p>\n<p>Here is the Header code,</p>\n<pre><code>                .when(PredicateBuilder.and(header(Constants.EXCLUDE_HEADER).isEqualTo(Constants.HEADER),\n                        header(Exchange.SPLIT_INDEX).isLessThan(serviceMetaData.getSkipLines()))) // Skip configurable number of records\n                        .to(Constants.DUMMY_URI)\n                        .endChoice()\n</code></pre>\n<p>The footer code as below,</p>\n<pre><code> //remove footer\n                .when(PredicateBuilder.and(header(Constants.EXCLUDE_FOOTER).isEqualTo(Constants.FOOTER),\n                        header(Exchange.SPLIT_COMPLETE).isLessThan(serviceMetaData.getSkipLines())))\n                .to(Constants.DUMMY_URI)\n                .endChoice()\n</code></pre>\n<p>I need to modify the footer code\nto skip the lines from the last as per given Skip line count using java.</p>\n<p>Thanks for your support</p>\n<p>I need to modify the footer code\nto skip the lines from the last as per given Skip line count using java.</p>\n"},{"tags":["javascript","java","swagger","jersey"],"comments":[{"owner":{"account_id":10182380,"reputation":141,"user_id":7518651,"display_name":"Balaji"},"score":0,"creation_date":1684250899,"post_id":76257338,"comment_id":134489235,"body_markdown":"You have to skip the `swagger.json` path in the Interceptor to get the proper response.","body":"You have to skip the <code>swagger.json</code> path in the Interceptor to get the proper response."},{"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"score":0,"creation_date":1684341549,"post_id":76257338,"comment_id":134505429,"body_markdown":"Yes, made it same way you suggested","body":"Yes, made it same way you suggested"}],"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684178328,"creation_date":1684178328,"question_id":76257338,"body_markdown":"I am trying to implement swagger in my project. it works fine in recent days I implemented a token to authenticate the API. After implementing the authorization when the swagger URL is loaded http://localhost:8080/bms2-api/swagger/ it loads UI and gives the message on the screen as **401: {&quot;msg&quot;: &quot;token not found&quot;, &quot;msgs&quot;:{&quot;*&quot;: &quot;token not found&quot;}, &quot;unauthorized&quot;: false} http://localhost:8080/bms2-api/api/swagger.json** I don&#39;t know how to pass the token in the header for swagger.json URL. Screen capture are given below\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TCfpC.png","title":"Swagger Documentation in jersey related framework swagger.json url needs authentication 401","body":"<p>I am trying to implement swagger in my project. it works fine in recent days I implemented a token to authenticate the API. After implementing the authorization when the swagger URL is loaded http://localhost:8080/bms2-api/swagger/ it loads UI and gives the message on the screen as <strong>401: {&quot;msg&quot;: &quot;token not found&quot;, &quot;msgs&quot;:{&quot;*&quot;: &quot;token not found&quot;}, &quot;unauthorized&quot;: false} http://localhost:8080/bms2-api/api/swagger.json</strong> I don't know how to pass the token in the header for swagger.json URL. Screen capture are given below\n<a href=\"https://i.stack.imgur.com/TCfpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCfpC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684178036,"creation_date":1684178036,"answer_id":76257307,"question_id":76251064,"body_markdown":"I was able to get it running by auto wiring annotation context instead of using new operator. ","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path","body":"<p>I was able to get it running by auto wiring annotation context instead of using new operator.</p>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684178036,"creation_date":1684128161,"question_id":76251064,"body_markdown":"I am trying to run a simple spring boot application but it&#39;s giving me below error which I am unable to resolve. I am able to connect to database using the same connection string as in `application.properties` file. Please advice\r\n\r\n    C:\\Users\\shiva\\.jdks\\jbr-17.0.6\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\lib\\idea_rt.jar=51074:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.0.6\\spring-boot-starter-data-jpa-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.0.6\\spring-boot-starter-aop-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.8\\spring-aop-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.19\\aspectjweaver-1.9.19.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.0.6\\spring-boot-starter-jdbc-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.8\\spring-jdbc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.1.7.Final\\hibernate-core-6.1.7.Final.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.0.Final\\jboss-logging-3.5.0.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\shiva\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.23\\byte-buddy-1.12.23.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.2\\jaxb-runtime-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.2\\jaxb-core-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.0\\angus-activation-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.2\\txw2-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.1\\istack-commons-runtime-4.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.0\\jakarta.inject-api-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.0.5\\spring-data-jpa-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.0.5\\spring-data-commons-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.8\\spring-orm-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-context\\6.0.8\\spring-context-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.8\\spring-tx-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.8\\spring-aspects-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.0.6\\spring-boot-starter-web-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.0.6\\spring-boot-starter-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.0.6\\spring-boot-starter-logging-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.7\\logback-classic-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.7\\logback-core-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.19.0\\log4j-to-slf4j-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.19.0\\log4j-api-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.0.6\\spring-boot-starter-json-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.14.2\\jackson-databind-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.14.2\\jackson-annotations-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.14.2\\jackson-core-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.14.2\\jackson-datatype-jdk8-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.14.2\\jackson-datatype-jsr310-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.14.2\\jackson-module-parameter-names-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.0.6\\spring-boot-starter-tomcat-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.8\\tomcat-embed-core-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.8\\tomcat-embed-el-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.8\\tomcat-embed-websocket-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-web\\6.0.8\\spring-web-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.10.6\\micrometer-observation-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.10.6\\micrometer-commons-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.8\\spring-webmvc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.8\\spring-expression-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-devtools\\3.0.6\\spring-boot-devtools-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.0.6\\spring-boot-autoconfigure-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.1\\jakarta.activation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-core\\6.0.8\\spring-core-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.8\\spring-jcl-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar com.shivam.learn.LearnApplication debug\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.6)\r\n    \r\n    2023-05-15T10:43:26.370+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Starting LearnApplication using Java 17.0.6 with PID 14460 (C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes started by shiva in C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn)\r\n    2023-05-15T10:43:26.374+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-05-15T10:43:26.454+05:30  INFO 14460 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar referenced one or more files that do not exist: file:/C:/Users/shiva/.m2/repository/com/oracle/database/jdbc/ojdbc8/21.7.0.0/oraclepki.jar\r\n    2023-05-15T10:43:26.456+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2023-05-15T10:43:26.457+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2023-05-15T10:43:27.540+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-05-15T10:43:27.569+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\r\n    2023-05-15T10:43:28.533+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n    2023-05-15T10:43:28.644+05:30  INFO 14460 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-05-15T10:43:28.647+05:30  INFO 14460 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2186 ms\r\n    2023-05-15T10:43:29.061+05:30  INFO 14460 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-05-15T10:43:29.154+05:30  INFO 14460 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n    2023-05-15T10:43:29.585+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-05-15T10:43:29.591+05:30  WARN 14460 --- [  restartedMain] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.\r\n    2023-05-15T10:43:30.038+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@2dfdda19\r\n    2023-05-15T10:43:30.041+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-05-15T10:43:30.125+05:30  INFO 14460 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.OracleDialect\r\n    2023-05-15T10:43:30.841+05:30  INFO 14460 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-05-15T10:43:30.856+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-05-15T10:43:30.946+05:30  WARN 14460 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-05-15T10:43:31.607+05:30  INFO 14460 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2023-05-15T10:43:31.659+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-05-15T10:43:31.678+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Started LearnApplication in 5.718 seconds (process running for 7.515)\r\n    2023-05-15T10:43:31.870+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-05-15T10:43:31.872+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 JPA repository interfaces.\r\n    2023-05-15T10:43:31.907+05:30  WARN 14460 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-05-15T10:43:31.910+05:30  INFO 14460 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-05-15T10:43:31.929+05:30 ERROR 14460 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n    \r\n    2023-05-15T10:43:31.953+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-05-15T10:43:31.958+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-05-15T10:43:31.979+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    \r\n    Process finished with exit code 0\r\n\r\nBelow is my `application.properties` file. I changed my computer name few weeks ago due to which I had to update the listener.ora and tnsnames.ora files. After update I am able to connect to database successfully from sql developer and I am using those same connection details in my properties files which resolved the earlier issues related to connecting to database but this new issue I am unable to resolve and did not find much help on google.\r\n\r\n    spring.datasource.username=system\r\n    spring.datasource.password=system\r\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1521:XE\r\n\r\n\r\nEDIT: When I remove `implements CommandLineRunne`r it starts fine, could you please help me start it with CommandLineRunner so I can learn things by printing on console.\r\n","title":"Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path","body":"<p>I am trying to run a simple spring boot application but it's giving me below error which I am unable to resolve. I am able to connect to database using the same connection string as in <code>application.properties</code> file. Please advice</p>\n<pre><code>C:\\Users\\shiva\\.jdks\\jbr-17.0.6\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\lib\\idea_rt.jar=51074:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-data-jpa\\3.0.6\\spring-boot-starter-data-jpa-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-aop\\3.0.6\\spring-boot-starter-aop-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aop\\6.0.8\\spring-aop-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\aspectj\\aspectjweaver\\1.9.19\\aspectjweaver-1.9.19.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-jdbc\\3.0.6\\spring-boot-starter-jdbc-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\zaxxer\\HikariCP\\5.0.1\\HikariCP-5.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jdbc\\6.0.8\\spring-jdbc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\orm\\hibernate-core\\6.1.7.Final\\hibernate-core-6.1.7.Final.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\persistence\\jakarta.persistence-api\\3.1.0\\jakarta.persistence-api-3.1.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\transaction\\jakarta.transaction-api\\2.0.1\\jakarta.transaction-api-2.0.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.5.0.Final\\jboss-logging-3.5.0.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\6.0.6.Final\\hibernate-commons-annotations-6.0.6.Final.jar;C:\\Users\\shiva\\.m2\\repository\\org\\jboss\\jandex\\2.4.2.Final\\jandex-2.4.2.Final.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\shiva\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.12.23\\byte-buddy-1.12.23.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\4.0.2\\jaxb-runtime-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-core\\4.0.2\\jaxb-core-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\eclipse\\angus\\angus-activation\\2.0.0\\angus-activation-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\4.0.2\\txw2-4.0.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\4.1.1\\istack-commons-runtime-4.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\inject\\jakarta.inject-api\\2.0.0\\jakarta.inject-api-2.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\antlr\\antlr4-runtime\\4.10.1\\antlr4-runtime-4.10.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-jpa\\3.0.5\\spring-data-jpa-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\data\\spring-data-commons\\3.0.5\\spring-data-commons-3.0.5.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-orm\\6.0.8\\spring-orm-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-context\\6.0.8\\spring-context-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-tx\\6.0.8\\spring-tx-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-beans\\6.0.8\\spring-beans-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\2.1.1\\jakarta.annotation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\slf4j-api\\2.0.7\\slf4j-api-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-aspects\\6.0.8\\spring-aspects-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\3.0.6\\spring-boot-starter-web-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\3.0.6\\spring-boot-starter-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\3.0.6\\spring-boot-starter-logging-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.4.7\\logback-classic-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.4.7\\logback-core-1.4.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.19.0\\log4j-to-slf4j-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.19.0\\log4j-api-2.19.0.jar;C:\\Users\\shiva\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\2.0.7\\jul-to-slf4j-2.0.7.jar;C:\\Users\\shiva\\.m2\\repository\\org\\yaml\\snakeyaml\\1.33\\snakeyaml-1.33.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\3.0.6\\spring-boot-starter-json-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.14.2\\jackson-databind-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.14.2\\jackson-annotations-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.14.2\\jackson-core-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.14.2\\jackson-datatype-jdk8-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.14.2\\jackson-datatype-jsr310-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.14.2\\jackson-module-parameter-names-2.14.2.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\3.0.6\\spring-boot-starter-tomcat-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\10.1.8\\tomcat-embed-core-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\10.1.8\\tomcat-embed-el-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\10.1.8\\tomcat-embed-websocket-10.1.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-web\\6.0.8\\spring-web-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-observation\\1.10.6\\micrometer-observation-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\io\\micrometer\\micrometer-commons\\1.10.6\\micrometer-commons-1.10.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-webmvc\\6.0.8\\spring-webmvc-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-expression\\6.0.8\\spring-expression-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-devtools\\3.0.6\\spring-boot-devtools-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\3.0.6\\spring-boot-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\3.0.6\\spring-boot-autoconfigure-3.0.6.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\xml\\bind\\jakarta.xml.bind-api\\4.0.0\\jakarta.xml.bind-api-4.0.0.jar;C:\\Users\\shiva\\.m2\\repository\\jakarta\\activation\\jakarta.activation-api\\2.1.1\\jakarta.activation-api-2.1.1.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-core\\6.0.8\\spring-core-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\org\\springframework\\spring-jcl\\6.0.8\\spring-jcl-6.0.8.jar;C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar com.shivam.learn.LearnApplication debug\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-05-15T10:43:26.370+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Starting LearnApplication using Java 17.0.6 with PID 14460 (C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn\\target\\classes started by shiva in C:\\Users\\shiva\\Documents\\spring-projects\\learn\\learn)\n2023-05-15T10:43:26.374+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-15T10:43:26.454+05:30  INFO 14460 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\shiva\\.m2\\repository\\com\\oracle\\database\\jdbc\\ojdbc8\\21.7.0.0\\ojdbc8-21.7.0.0.jar referenced one or more files that do not exist: file:/C:/Users/shiva/.m2/repository/com/oracle/database/jdbc/ojdbc8/21.7.0.0/oraclepki.jar\n2023-05-15T10:43:26.456+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-05-15T10:43:26.457+05:30  INFO 14460 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-05-15T10:43:27.540+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-15T10:43:27.569+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\n2023-05-15T10:43:28.533+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-15T10:43:28.552+05:30  INFO 14460 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-05-15T10:43:28.644+05:30  INFO 14460 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-15T10:43:28.647+05:30  INFO 14460 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2186 ms\n2023-05-15T10:43:29.061+05:30  INFO 14460 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-15T10:43:29.154+05:30  INFO 14460 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-05-15T10:43:29.585+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-15T10:43:29.591+05:30  WARN 14460 --- [  restartedMain] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.\n2023-05-15T10:43:30.038+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection oracle.jdbc.driver.T4CConnection@2dfdda19\n2023-05-15T10:43:30.041+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-15T10:43:30.125+05:30  INFO 14460 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.OracleDialect\n2023-05-15T10:43:30.841+05:30  INFO 14460 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-15T10:43:30.856+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-15T10:43:30.946+05:30  WARN 14460 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-05-15T10:43:31.607+05:30  INFO 14460 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-05-15T10:43:31.659+05:30  INFO 14460 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-15T10:43:31.678+05:30  INFO 14460 --- [  restartedMain] com.shivam.learn.LearnApplication        : Started LearnApplication in 5.718 seconds (process running for 7.515)\n2023-05-15T10:43:31.870+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-15T10:43:31.872+05:30  INFO 14460 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 JPA repository interfaces.\n2023-05-15T10:43:31.907+05:30  WARN 14460 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-05-15T10:43:31.910+05:30  INFO 14460 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-05-15T10:43:31.929+05:30 ERROR 14460 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n\n2023-05-15T10:43:31.953+05:30  INFO 14460 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-05-15T10:43:31.958+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-05-15T10:43:31.979+05:30  INFO 14460 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 0\n</code></pre>\n<p>Below is my <code>application.properties</code> file. I changed my computer name few weeks ago due to which I had to update the listener.ora and tnsnames.ora files. After update I am able to connect to database successfully from sql developer and I am using those same connection details in my properties files which resolved the earlier issues related to connecting to database but this new issue I am unable to resolve and did not find much help on google.</p>\n<pre><code>spring.datasource.username=system\nspring.datasource.password=system\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:XE\n</code></pre>\n<p>EDIT: When I remove <code>implements CommandLineRunne</code>r it starts fine, could you please help me start it with CommandLineRunner so I can learn things by printing on console.</p>\n"},{"tags":["java","hibernate","postgresql","blob"],"comments":[{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":1,"creation_date":1551801115,"post_id":4645007,"comment_id":96768567,"body_markdown":"A caveat for large objects - as all chunks share the same system table, the limit on how much you can store in total is lower than for `bytea`.","body":"A caveat for large objects - as all chunks share the same system table, the limit on how much you can store in total is lower than for <code>bytea</code>."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1551801366,"post_id":4645007,"comment_id":96768709,"body_markdown":"Depending on what they are, `lo_compat_privileges` may solve the compatibility issues.","body":"Depending on what they are, <code>lo_compat_privileges</code> may solve the compatibility issues."}],"answers":[{"tags":[],"owner":{"account_id":101001,"reputation":119798,"user_id":271959,"display_name":"Frank Heikens"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1294650453,"creation_date":1294650453,"answer_id":4645132,"question_id":4645007,"body_markdown":"&gt; But I am concerned that bytea fields\r\n&gt; are encoded in Hex\r\n\r\nbytea input can be in hex or escape format, that&#39;s your choice. Storage will be the same. As of version 9.0, the output default is hex, but you can change this by editting the parameter [bytea_output][1].\r\n\r\nI haven&#39;t seen any benchmarks.\r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/current/interactive/runtime-config-client.html#GUC-BYTEA-OUTPUT","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<blockquote>\n  <p>But I am concerned that bytea fields\n  are encoded in Hex</p>\n</blockquote>\n\n<p>bytea input can be in hex or escape format, that's your choice. Storage will be the same. As of version 9.0, the output default is hex, but you can change this by editting the parameter <a href=\"http://www.postgresql.org/docs/current/interactive/runtime-config-client.html#GUC-BYTEA-OUTPUT\" rel=\"noreferrer\">bytea_output</a>.</p>\n\n<p>I haven't seen any benchmarks.</p>\n"},{"tags":[],"owner":{"account_id":34837,"reputation":35501,"user_id":98530,"accept_rate":40,"display_name":"Peter Eisentraut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294667767,"creation_date":1294667767,"answer_id":4647517,"question_id":4645007,"body_markdown":"I don&#39;t have a comparison of large objects and bytea handy, but note that the switch to the hex output format in 9.0 was made also because it is faster than the previous custom encoding.  As far as text encoding of binary data goes, you probably won&#39;t get much faster than what there currently is.\r\n\r\nIf that is not good enough for you, you can consider using the binary protocol between PostgreSQL client and server.  Then you basically get the stuff straight from disk, much like large objects.  I don&#39;t know if the PostgreSQL JDBC supports that yet, but a quick search suggests no.","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<p>I don't have a comparison of large objects and bytea handy, but note that the switch to the hex output format in 9.0 was made also because it is faster than the previous custom encoding.  As far as text encoding of binary data goes, you probably won't get much faster than what there currently is.</p>\n\n<p>If that is not good enough for you, you can consider using the binary protocol between PostgreSQL client and server.  Then you basically get the stuff straight from disk, much like large objects.  I don't know if the PostgreSQL JDBC supports that yet, but a quick search suggests no.</p>\n"},{"tags":[],"owner":{"account_id":1750416,"reputation":25628,"user_id":1599619,"accept_rate":100,"display_name":"Chris Travers"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1346836679,"creation_date":1346836679,"answer_id":12278174,"question_id":4645007,"body_markdown":"Basically there are cases where each makes sense.  bytea is simpler and generally preferred.  The client libs give you the decoding so that&#39;s not an issue.\r\n\r\nHowever LOBs have some neat features, such as an ability to seek within them and treat the LOB as a byte stream instead of a byte array.\r\n\r\n&quot;Big&quot; means &quot;Big enough you don&#39;t want to send it to the client all at once.&quot;  Technically bytea is limited to 1GB compressed and a lob is limited to 2GB compressed, but really you hit the other limit first anyway.  If it&#39;s big enough you don&#39;t want it directly in your result set and you don&#39;;t want to send it to the client all at once, use a LOB.","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<p>Basically there are cases where each makes sense.  bytea is simpler and generally preferred.  The client libs give you the decoding so that's not an issue.</p>\n\n<p>However LOBs have some neat features, such as an ability to seek within them and treat the LOB as a byte stream instead of a byte array.</p>\n\n<p>\"Big\" means \"Big enough you don't want to send it to the client all at once.\"  Technically bytea is limited to 1GB compressed and a lob is limited to 2GB compressed, but really you hit the other limit first anyway.  If it's big enough you don't want it directly in your result set and you don';t want to send it to the client all at once, use a LOB.</p>\n"},{"tags":[],"owner":{"account_id":1252466,"reputation":79539,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684177317,"creation_date":1609894683,"answer_id":65588738,"question_id":4645007,"body_markdown":"# tl;dr Use bytea\r\n\r\n...unless you need streaming or &gt;1GB values\r\n\r\n---\r\n\r\n**Bytea:** A byte sequence that works like any other TOAST-able value. Limited to 1GB per value, 32TB per table.\r\n\r\n**Large object:** Binary data split up into multiple rows. Supports seek, read, and write like an OS file, so operations don&#39;t require loading it all into memory at once. Limited to 4TB per value, 32TB per database.\r\n\r\n---\r\n\r\nLarge objects have the following downsides:\r\n\r\n1. The is only large object table per database.\r\n\r\n2. Large objects aren&#39;t automatically removed when the &quot;owning&quot; record is deleted. See the `lo_manage` function in the `lo` module.\r\n\r\n3. Since there is only one table, large object permissions have to be handled record by record.\r\n\r\n4. Streaming is difficult, and has less support by client drivers than simple `bytea`.\r\n\r\n5. It&#39;s part of the system schema, so you have limited to no control over options like partitioning and tablespaces.\r\n\r\n---\r\n\r\nI venture that 93% of real-world uses of large objects would be better served by `bytea`.","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<h1>tl;dr Use bytea</h1>\n<p>...unless you need streaming or &gt;1GB values</p>\n<hr />\n<p><strong>Bytea:</strong> A byte sequence that works like any other TOAST-able value. Limited to 1GB per value, 32TB per table.</p>\n<p><strong>Large object:</strong> Binary data split up into multiple rows. Supports seek, read, and write like an OS file, so operations don't require loading it all into memory at once. Limited to 4TB per value, 32TB per database.</p>\n<hr />\n<p>Large objects have the following downsides:</p>\n<ol>\n<li><p>The is only large object table per database.</p>\n</li>\n<li><p>Large objects aren't automatically removed when the &quot;owning&quot; record is deleted. See the <code>lo_manage</code> function in the <code>lo</code> module.</p>\n</li>\n<li><p>Since there is only one table, large object permissions have to be handled record by record.</p>\n</li>\n<li><p>Streaming is difficult, and has less support by client drivers than simple <code>bytea</code>.</p>\n</li>\n<li><p>It's part of the system schema, so you have limited to no control over options like partitioning and tablespaces.</p>\n</li>\n</ol>\n<hr />\n<p>I venture that 93% of real-world uses of large objects would be better served by <code>bytea</code>.</p>\n"}],"owner":{"account_id":61169,"reputation":1527,"user_id":182462,"accept_rate":58,"display_name":"malaverdiere"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10842,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":12278174,"answer_count":4,"score":13,"last_activity_date":1684177317,"creation_date":1294649431,"question_id":4645007,"body_markdown":"I started an application with Hibernate 3.2 and PostgreSQL 8.4. I have some `byte[]` fields that were mapped as `@Basic` (= PG bytea) and others that got mapped as `@Lob` (=PG Large Object). Why the inconsistency? Because I was a Hibernate noob.\r\n\r\nNow, those fields are max 4 Kb (but average is 2-3 kb). The PostgreSQL documentation mentioned that the LOs are good when the fields are big, but I didn&#39;t see what &#39;big&#39; meant.\r\n\r\nI have upgraded to PostgreSQL 9.0 with Hibernate 3.6 and I was stuck to change the annotation to `@Type(type=&quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot;)`. This bug has brought forward a potential compatibility issue, and I eventually found out that Large Objects are a pain to deal with, compared to a normal field.\r\n\r\nSo I am thinking of changing all of it to `bytea`. But I am concerned that `bytea` fields are encoded in Hex, so there is some overhead in encoding and decoding, and this would hurt the performance.\r\n\r\nAre there good benchmarks about the performance of both of these?\r\nAnybody has made the switch and saw a difference?","title":"PostgreSQL: BYTEA vs OID+Large Object?","body":"<p>I started an application with Hibernate 3.2 and PostgreSQL 8.4. I have some <code>byte[]</code> fields that were mapped as <code>@Basic</code> (= PG bytea) and others that got mapped as <code>@Lob</code> (=PG Large Object). Why the inconsistency? Because I was a Hibernate noob.</p>\n\n<p>Now, those fields are max 4 Kb (but average is 2-3 kb). The PostgreSQL documentation mentioned that the LOs are good when the fields are big, but I didn't see what 'big' meant.</p>\n\n<p>I have upgraded to PostgreSQL 9.0 with Hibernate 3.6 and I was stuck to change the annotation to <code>@Type(type=\"org.hibernate.type.PrimitiveByteArrayBlobType\")</code>. This bug has brought forward a potential compatibility issue, and I eventually found out that Large Objects are a pain to deal with, compared to a normal field.</p>\n\n<p>So I am thinking of changing all of it to <code>bytea</code>. But I am concerned that <code>bytea</code> fields are encoded in Hex, so there is some overhead in encoding and decoding, and this would hurt the performance.</p>\n\n<p>Are there good benchmarks about the performance of both of these?\nAnybody has made the switch and saw a difference?</p>\n"},{"tags":["java","graphics","physics","game-development"],"comments":[{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544020946,"post_id":53616918,"comment_id":94129053,"body_markdown":"I don&#39;t know how to rewrite the code to do so... I have tried adding the gravity separately from the velocity calculation and flipping the sign of the velocity to the appropriate direction before adding gravity but that breaks my collision detecion","body":"I don&#39;t know how to rewrite the code to do so... I have tried adding the gravity separately from the velocity calculation and flipping the sign of the velocity to the appropriate direction before adding gravity but that breaks my collision detecion"},{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544024365,"post_id":53616918,"comment_id":94131294,"body_markdown":"When I tried to rewrite my code using the model in the bouncing ball example my ball just moves extremely fast and It doesn&#39;t work","body":"When I tried to rewrite my code using the model in the bouncing ball example my ball just moves extremely fast and It doesn&#39;t work"},{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544027274,"post_id":53616918,"comment_id":94133042,"body_markdown":"No matter what I do this won&#39;t work I have tried tweaking everything","body":"No matter what I do this won&#39;t work I have tried tweaking everything"},{"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"score":0,"creation_date":1544028731,"post_id":53616918,"comment_id":94133900,"body_markdown":"I just figured it out, the issue was double collisions not math.I just needed to displace the ball up by the distance of the ball after a collision to avoid this.  Thank you for the help, sorry to bother","body":"I just figured it out, the issue was double collisions not math.I just needed to displace the ball up by the distance of the ball after a collision to avoid this.  Thank you for the help, sorry to bother"},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1544030785,"post_id":53616918,"comment_id":94135033,"body_markdown":"I moved the comments into answer along small C++ example with friction","body":"I moved the comments into answer along small C++ example with friction"}],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669873911,"creation_date":1544030321,"answer_id":53637567,"question_id":53616918,"body_markdown":"you are not really doing reflection ... to reflect by major axis you should negate the appropriate coordinate of the speed vector (and correct the position) I do not see such behavior in your code. Instead your y velocity has no sign regardless of the direction up/down hence you just add gravity acc to it ... to remedy either rewrite the code or add the `yreflection` to your gravity related code too... also you got theta? I would expect angle only in the first shooting\r\n\r\nsee\r\n\r\n- [Bouncing Ball Making it slow down at peak of height](https://stackoverflow.com/a/20017455/2521214)\r\n- [My Algorithm to Calculate Position of Smartphone - GPS and Sensors](https://stackoverflow.com/a/19764828/2521214)\r\n- [pendulum simulation](https://stackoverflow.com/a/74628552/2521214)\r\n\r\n  You just use/add forces you want to use. **But in your collision once you detect you are inside wall you need to correct the position along with the reflection of speed too** otherwise you risk **double collisions** ...\r\n\r\nHere small C++ example with air friction:\r\n\r\n&lt;!-- language: cpp --&gt;\r\n\r\n    //---------------------------------------------------------------------------\r\n    double pos[2],vel[2],acc[2],r;  // ball\r\n    double x0,y0,x1,y1;             // walls\r\n    //---------------------------------------------------------------------------\r\n    void ball_update(double dt)\r\n        {\r\n        int i;\r\n        double v,k=0.0001,g=9.81;\r\n        dt*=10.0;                                   // time multiplier for simulation speed ...\r\n        // compute driving force/acceleration\r\n        v=sqrt((vel[0]*vel[0])+(vel[1]*vel[1]));    // |vel|\r\n        acc[0]=  -(k*vel[0]*v);                     // gravity + air friction (k*vel^2)\r\n        acc[1]=+g-(k*vel[1]*v);\r\n        // Newton/D&#39;Alembert simulation\r\n        for (i=0;i&lt;2;i++) vel[i]+=acc[i]*dt;\r\n        for (i=0;i&lt;2;i++) pos[i]+=vel[i]*dt;\r\n        // colision/reflect\r\n        if (pos[0]&lt;x0+r){ pos[0]=x0+r; vel[0]=-vel[0]; }\r\n        if (pos[0]&gt;x1-r){ pos[0]=x1-r; vel[0]=-vel[0]; }\r\n        if (pos[1]&lt;y0+r){ pos[1]=y0+r; vel[1]=-vel[1]; }\r\n        if (pos[1]&gt;y1-r){ pos[1]=y1-r; vel[1]=-vel[1]; }\r\n        }\r\n    //---------------------------------------------------------------------------\r\n    void ball_init()\r\n        {\r\n        Randomize();\r\n        pos[0]=0.5*(x0+x1);\r\n        pos[1]=0.5*(y0+y1);\r\n        double a=2.0*M_PI*Random(),v=50.0;\r\n        vel[0]=v*cos(a);\r\n        vel[1]=v*sin(a);\r\n        r=20.0;\r\n        }\r\n    //---------------------------------------------------------------------------\r\n\r\n\r\nMy coordinate system is (0,0) is top left and x point right and y points down ...\r\nTo use this just init the walls `x0,y0,x1,y1` call the `ball_init()` and then in some timer call `ball_update(dt)` and render ball at `pos` and radius `r` ...\r\n\r\nThis is how it look like:\r\n\r\n [![preview][1]][1]\r\n\r\n**PS.** You need to tweak the parameters like delta time `dt`, accelerations or add pixel scale to match your needs... You need to have all units compatible ... I recommend using **SI** (m,m/s,m/s^2,s,N,.. ) so you also need to decide how big is pixel (in meters) \r\n\r\n  [1]: https://i.stack.imgur.com/sP7ba.gif","title":"Can&#39;t flip direction of ball without messing up gravity","body":"<p>you are not really doing reflection ... to reflect by major axis you should negate the appropriate coordinate of the speed vector (and correct the position) I do not see such behavior in your code. Instead your y velocity has no sign regardless of the direction up/down hence you just add gravity acc to it ... to remedy either rewrite the code or add the <code>yreflection</code> to your gravity related code too... also you got theta? I would expect angle only in the first shooting</p>\n<p>see</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/a/20017455/2521214\">Bouncing Ball Making it slow down at peak of height</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/19764828/2521214\">My Algorithm to Calculate Position of Smartphone - GPS and Sensors</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/74628552/2521214\">pendulum simulation</a></p>\n<p>You just use/add forces you want to use. <strong>But in your collision once you detect you are inside wall you need to correct the position along with the reflection of speed too</strong> otherwise you risk <strong>double collisions</strong> ...</p>\n</li>\n</ul>\n<p>Here small C++ example with air friction:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>//---------------------------------------------------------------------------\ndouble pos[2],vel[2],acc[2],r;  // ball\ndouble x0,y0,x1,y1;             // walls\n//---------------------------------------------------------------------------\nvoid ball_update(double dt)\n    {\n    int i;\n    double v,k=0.0001,g=9.81;\n    dt*=10.0;                                   // time multiplier for simulation speed ...\n    // compute driving force/acceleration\n    v=sqrt((vel[0]*vel[0])+(vel[1]*vel[1]));    // |vel|\n    acc[0]=  -(k*vel[0]*v);                     // gravity + air friction (k*vel^2)\n    acc[1]=+g-(k*vel[1]*v);\n    // Newton/D'Alembert simulation\n    for (i=0;i&lt;2;i++) vel[i]+=acc[i]*dt;\n    for (i=0;i&lt;2;i++) pos[i]+=vel[i]*dt;\n    // colision/reflect\n    if (pos[0]&lt;x0+r){ pos[0]=x0+r; vel[0]=-vel[0]; }\n    if (pos[0]&gt;x1-r){ pos[0]=x1-r; vel[0]=-vel[0]; }\n    if (pos[1]&lt;y0+r){ pos[1]=y0+r; vel[1]=-vel[1]; }\n    if (pos[1]&gt;y1-r){ pos[1]=y1-r; vel[1]=-vel[1]; }\n    }\n//---------------------------------------------------------------------------\nvoid ball_init()\n    {\n    Randomize();\n    pos[0]=0.5*(x0+x1);\n    pos[1]=0.5*(y0+y1);\n    double a=2.0*M_PI*Random(),v=50.0;\n    vel[0]=v*cos(a);\n    vel[1]=v*sin(a);\n    r=20.0;\n    }\n//---------------------------------------------------------------------------\n</code></pre>\n<p>My coordinate system is (0,0) is top left and x point right and y points down ...\nTo use this just init the walls <code>x0,y0,x1,y1</code> call the <code>ball_init()</code> and then in some timer call <code>ball_update(dt)</code> and render ball at <code>pos</code> and radius <code>r</code> ...</p>\n<p>This is how it look like:</p>\n<p><a href=\"https://i.stack.imgur.com/sP7ba.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sP7ba.gif\" alt=\"preview\" /></a></p>\n<p><strong>PS.</strong> You need to tweak the parameters like delta time <code>dt</code>, accelerations or add pixel scale to match your needs... You need to have all units compatible ... I recommend using <strong>SI</strong> (m,m/s,m/s^2,s,N,.. ) so you also need to decide how big is pixel (in meters)</p>\n"}],"owner":{"account_id":14542561,"reputation":185,"user_id":10503795,"display_name":"CRT TV"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1684177299,"creation_date":1543939376,"question_id":53616918,"body_markdown":"I am making a game like pong except that there is only one paddle and the ball moves in projectile motion. The goal is to keep the ball bouncing on your paddle for as long as possible.\r\n\r\nWhen the ball is hit by the paddle, the `y` component of its velocity has it&#39;s sign flipped. The issue with this is that gravity also acts upon the ball, so when a ball is hit upwards it to speeds up due to the reversed effect of gravity.\r\n\r\nThis is the code for the ball class, including the `tick` method which is called 60 times a second:\r\n\r\n    public Ball(double x, double y, Game game) {\r\n\t\tsuper(x,y);\r\n\t\tthis.game=game;\r\n\t}\r\n\tpublic void tick() {\r\n\t\ttime+=1.0/60.0;\r\n\t\tif(x&lt;=0)\r\n\t\t\txreflection=1.0;\r\n\t\telse if(x&gt;=Game.Width-15)\r\n\t\t\txreflection=-1.0;\r\n\t\tif(y&lt;=0)\r\n\t\t\tyreflection=1.0;\r\n\t\telse if(y&gt;=Game.Height-15)\r\n\t\t\tgameover=1;//different variable here as I use this to end the game if the ball hits the bottom of the screen\r\n\t\tx+=traj.xvel()*xreflection;\r\n\t\ty-=traj.yvel(time)*yreflection;\r\n\t\t\r\n\t\tif(Physics.Collision(this, game.getP())) {\r\n\t\ttime=2;\r\n\t\t\tSystem.out.println(&quot;Collision&quot;);\r\n\t\t\tyreflection=-1;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThis is the ball Trajectory class which handles all the math:\r\n\r\n    public double xvel() {\r\n\t\tdouble xvelo=initvel*Math.cos(Math.toRadians(theta));\r\n\t\treturn xvelo;\r\n\t}\r\n\t\r\n\tpublic double yvel(double time) {\r\n\t\tdouble yvelo;\r\n\t\t\tyvelo=initvel*Math.sin(Math.toRadians(theta))-(9.8*time);\r\n\t\treturn yvelo;\r\n\t}\r\n\r\nI have tried to use an `if` statement with `y` reflection to make 9.8 negative when y-reflection is 1 and positive when it is -1.","title":"Can&#39;t flip direction of ball without messing up gravity","body":"<p>I am making a game like pong except that there is only one paddle and the ball moves in projectile motion. The goal is to keep the ball bouncing on your paddle for as long as possible.</p>\n<p>When the ball is hit by the paddle, the <code>y</code> component of its velocity has it's sign flipped. The issue with this is that gravity also acts upon the ball, so when a ball is hit upwards it to speeds up due to the reversed effect of gravity.</p>\n<p>This is the code for the ball class, including the <code>tick</code> method which is called 60 times a second:</p>\n<pre><code>public Ball(double x, double y, Game game) {\n    super(x,y);\n    this.game=game;\n}\npublic void tick() {\n    time+=1.0/60.0;\n    if(x&lt;=0)\n        xreflection=1.0;\n    else if(x&gt;=Game.Width-15)\n        xreflection=-1.0;\n    if(y&lt;=0)\n        yreflection=1.0;\n    else if(y&gt;=Game.Height-15)\n        gameover=1;//different variable here as I use this to end the game if the ball hits the bottom of the screen\n    x+=traj.xvel()*xreflection;\n    y-=traj.yvel(time)*yreflection;\n    \n    if(Physics.Collision(this, game.getP())) {\n    time=2;\n        System.out.println(&quot;Collision&quot;);\n        yreflection=-1;\n        \n    }\n    \n}\n</code></pre>\n<p>This is the ball Trajectory class which handles all the math:</p>\n<pre><code>public double xvel() {\n    double xvelo=initvel*Math.cos(Math.toRadians(theta));\n    return xvelo;\n}\n\npublic double yvel(double time) {\n    double yvelo;\n        yvelo=initvel*Math.sin(Math.toRadians(theta))-(9.8*time);\n    return yvelo;\n}\n</code></pre>\n<p>I have tried to use an <code>if</code> statement with <code>y</code> reflection to make 9.8 negative when y-reflection is 1 and positive when it is -1.</p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684176588,"creation_date":1684176588,"answer_id":76257152,"question_id":76257068,"body_markdown":"You are not passing actual values. You need to collect the stream objects and then pass the list to `Argument.of()`\r\n\r\n    private static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\r\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;(myMap.keySet());\r\n        List&lt;String&gt; values = new ArrayList&lt;&gt;(myMap.values());\r\n        return IntStream.range(0, myMap.size())\r\n                .mapToObj(i -&gt; Arguments.of(keys.get(i), values.get(i)));\r\n    }\r\n\r\nWhen you run a parameterized test with the provideNamespaceGroupIdMapping() method as the source, each key value pair from the map should be passed as separate arguments to the my_test() method.","title":"How to pass map key and value as separate parameters to Junit test","body":"<p>You are not passing actual values. You need to collect the stream objects and then pass the list to <code>Argument.of()</code></p>\n<pre><code>private static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;(myMap.keySet());\n    List&lt;String&gt; values = new ArrayList&lt;&gt;(myMap.values());\n    return IntStream.range(0, myMap.size())\n            .mapToObj(i -&gt; Arguments.of(keys.get(i), values.get(i)));\n}\n</code></pre>\n<p>When you run a parameterized test with the provideNamespaceGroupIdMapping() method as the source, each key value pair from the map should be passed as separate arguments to the my_test() method.</p>\n"}],"owner":{"account_id":28480154,"reputation":13,"user_id":21794238,"display_name":"Shazzer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76257152,"answer_count":1,"score":1,"last_activity_date":1684176588,"creation_date":1684175858,"question_id":76257068,"body_markdown":"first of all, I&#39;m a java beginner and new to stacktrace, so please have mercy ;).\r\n\r\nI have a static map and my goal is to pass the key / value pairings as separate parameters into my test.\r\n\r\nThat&#39;s my simple map:\r\n```java\r\nMap&lt;String, String&gt; myMap=Map.ofEntries(\r\n          entry(&quot;foo1&quot;, &quot;bar1&quot;),\r\n          entry(&quot;foo2&quot;, &quot;bar2&quot;));\r\n```\r\n\r\n\r\nI thought of something like this:\r\n\r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;provideNamespaceGroupIdMapping&quot;)\r\nvoid my_test(String key, String value) {\r\n\r\nprepareFile(key);\r\nprepareOtherStuff(value);\r\n...\r\n}\r\n```\r\n\r\nwith a method that provides every entry as separate arguments. So probably something like this:\r\n\r\n```java\r\nprivate static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\r\n  return Stream.of(\r\n    Arguments.of(\r\n      myMap.keySet().stream().toString(), \r\n      myMap.values().stream().toString()));\r\n  }\r\n```\r\n\r\nThis results in a IndexOutOfBoundsException\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n```\r\n\r\nAs I said, I&#39;m a beginner. I tried some other ideas I had but without any success :(.\r\n\r\nIs there even a solution for what I want to achive?","title":"How to pass map key and value as separate parameters to Junit test","body":"<p>first of all, I'm a java beginner and new to stacktrace, so please have mercy ;).</p>\n<p>I have a static map and my goal is to pass the key / value pairings as separate parameters into my test.</p>\n<p>That's my simple map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; myMap=Map.ofEntries(\n          entry(&quot;foo1&quot;, &quot;bar1&quot;),\n          entry(&quot;foo2&quot;, &quot;bar2&quot;));\n</code></pre>\n<p>I thought of something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;provideNamespaceGroupIdMapping&quot;)\nvoid my_test(String key, String value) {\n\nprepareFile(key);\nprepareOtherStuff(value);\n...\n}\n</code></pre>\n<p>with a method that provides every entry as separate arguments. So probably something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Arguments&gt; provideNamespaceGroupIdMapping() {\n  return Stream.of(\n    Arguments.of(\n      myMap.keySet().stream().toString(), \n      myMap.values().stream().toString()));\n  }\n</code></pre>\n<p>This results in a IndexOutOfBoundsException</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n</code></pre>\n<p>As I said, I'm a beginner. I tried some other ideas I had but without any success :(.</p>\n<p>Is there even a solution for what I want to achive?</p>\n"},{"tags":["java","android","webview","incognito-mode"],"comments":[{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1684176339,"post_id":76253243,"comment_id":134476089,"body_markdown":"To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview.","body":"To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview."}],"answers":[{"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684176557,"creation_date":1684176557,"answer_id":76257149,"question_id":76253243,"body_markdown":"To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview. \r\n\r\n            // init webview\r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n    \r\n            // Enable private browsing mode\r\n            webSettings.setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n            webSettings.setAppCacheEnabled(false);\r\n            webSettings.setDomStorageEnabled(false);\r\n            webSettings.setDatabaseEnabled(false);\r\n    \r\n            // Load a URL in the WebView\r\n            webView.loadUrl(&quot;https://google.com&quot;);\r\n\r\nand in onDestroy clear all stored cache and data by the webview.\r\n\r\n    @Override\r\n        protected void onDestroy() {\r\n            // Destroy WebView to free resources\r\n            if (webView != null) {\r\n                webView.clearHistory();\r\n                webView.clearCache(true);\r\n                webView.loadUrl(&quot;about:blank&quot;);\r\n                webView.onPause();\r\n                webView.removeAllViews();\r\n                webView.destroyDrawingCache();\r\n                webView.destroy();\r\n            }\r\n            super.onDestroy();\r\n        }\r\n\r\nor It is better to use Chrome Custom Tabs for opening URLs inside your app. Follow this link for more details https://developer.chrome.com/docs/android/custom-tabs/guide-get-started/","title":"How to use android webview for incognito tab?","body":"<p>To launch a WebView in private mode in Android you have to clear all the history and cache stored by the webview.</p>\n<pre><code>        // init webview\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n\n        // Enable private browsing mode\n        webSettings.setCacheMode(WebSettings.LOAD_NO_CACHE);\n        webSettings.setAppCacheEnabled(false);\n        webSettings.setDomStorageEnabled(false);\n        webSettings.setDatabaseEnabled(false);\n\n        // Load a URL in the WebView\n        webView.loadUrl(&quot;https://google.com&quot;);\n</code></pre>\n<p>and in onDestroy clear all stored cache and data by the webview.</p>\n<pre><code>@Override\n    protected void onDestroy() {\n        // Destroy WebView to free resources\n        if (webView != null) {\n            webView.clearHistory();\n            webView.clearCache(true);\n            webView.loadUrl(&quot;about:blank&quot;);\n            webView.onPause();\n            webView.removeAllViews();\n            webView.destroyDrawingCache();\n            webView.destroy();\n        }\n        super.onDestroy();\n    }\n</code></pre>\n<p>or It is better to use Chrome Custom Tabs for opening URLs inside your app. Follow this link for more details <a href=\"https://developer.chrome.com/docs/android/custom-tabs/guide-get-started/\" rel=\"nofollow noreferrer\">https://developer.chrome.com/docs/android/custom-tabs/guide-get-started/</a></p>\n"}],"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684176557,"creation_date":1684147178,"question_id":76253243,"body_markdown":"I&#39;m writing a light browser for my website and have to create incognito tab like chrome. I have used android `webview`. My problem is that when I use `webview` I can&#39;t save the cookies in a temporary location and delete the cookies file after the incognito tab is closed.  \r\nthis is my code:  \r\n\r\n        CookieManager cookieManager = CookieManager.getInstance();\r\n        if (this.isIncognito) {\r\n            cookieManager.setAcceptCookie(false);\r\n            webView.getSettings().setSaveFormData(false);\r\n        } else {\r\n            cookieManager.setAcceptCookie(true);\r\n        }\r\n\r\nhow should I save cookies and delete it after closing tab?","title":"How to use android webview for incognito tab?","body":"<p>I'm writing a light browser for my website and have to create incognito tab like chrome. I have used android <code>webview</code>. My problem is that when I use <code>webview</code> I can't save the cookies in a temporary location and delete the cookies file after the incognito tab is closed.<br />\nthis is my code:</p>\n<pre><code>    CookieManager cookieManager = CookieManager.getInstance();\n    if (this.isIncognito) {\n        cookieManager.setAcceptCookie(false);\n        webView.getSettings().setSaveFormData(false);\n    } else {\n        cookieManager.setAcceptCookie(true);\n    }\n</code></pre>\n<p>how should I save cookies and delete it after closing tab?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1653764723,"post_id":72418357,"comment_id":127932711,"body_markdown":"Show the command you&#39;re using, for [example](https://github.com/openjfx/samples/tree/master/HelloFX/CLI), and any errors; a similar example is cited [here](https://stackoverflow.com/a/71288497/230513).","body":"Show the command you&#39;re using, for <a href=\"https://github.com/openjfx/samples/tree/master/HelloFX/CLI\" rel=\"nofollow noreferrer\">example</a>, and any errors; a similar example is cited <a href=\"https://stackoverflow.com/a/71288497/230513\">here</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1653768948,"post_id":72418357,"comment_id":127933501,"body_markdown":"Try using a version of the JDK which includes JavaFX, for example Bellsoft Liberica JDK, ensure it is the “full jdk” version.  Then it will be much easier to use the command line tools as you won’t need to supply additional module information and paths.","body":"Try using a version of the JDK which includes JavaFX, for example Bellsoft Liberica JDK, ensure it is the “full jdk” version.  Then it will be much easier to use the command line tools as you won’t need to supply additional module information and paths."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653764164,"creation_date":1653764164,"answer_id":72418467,"question_id":72418357,"body_markdown":"Even if IntelliJ does not work for you, you could still use either Maven or Gradle to build your project which would already simplify things a lot. You should also have a look at the official documentation.\r\nhttps://openjfx.io/openjfx-docs/","title":"problem installing and compling in JavaFX","body":"<p>Even if IntelliJ does not work for you, you could still use either Maven or Gradle to build your project which would already simplify things a lot. You should also have a look at the official documentation.\n<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a></p>\n"},{"tags":[],"owner":{"account_id":27985176,"reputation":9,"user_id":21372181,"display_name":"Powerscore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684176455,"creation_date":1684176455,"answer_id":76257131,"question_id":72418357,"body_markdown":"There are 4 main steps to check: (There are other ways to do this but this is one way)\r\n\r\n1) Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.\r\n\r\n2) Download and unzip the appropriate Java SDK folder for you system from here: [https://gluonhq.com/products/javafx/][1]\r\n\r\n3) On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project\r\n\r\n4) Run your project as a normal java application (so that you don&#39;t have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it&#39;s the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/","title":"problem installing and compling in JavaFX","body":"<p>There are 4 main steps to check: (There are other ways to do this but this is one way)</p>\n<ol>\n<li><p>Make sure you installed javafx from the marketplace, in case of eclipse it is eclipse marketplace.</p>\n</li>\n<li><p>Download and unzip the appropriate Java SDK folder for you system from here: <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n</li>\n<li><p>On your project, configure build path, add a user library, new , then add external JARs, then choose all the .jar files on your Java SDK folder then add that library to your project</p>\n</li>\n<li><p>Run your project as a normal java application (so that you don't have to search for it later in the configurations) then choose run as, configure the run and you will find an arguments tab, add this to your VM arguments but replace what is inside the double quotations with the file path of your Java SDK lib folder- make sure it's the lib folder, inside the Java SDK. Here is what you will paste: --module-path &quot;\\path\\to\\javafx-sdk-11\\lib&quot; --add-modules javafx.controls,javafx.fxml</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18082943,"reputation":11,"user_id":19221903,"display_name":"Carlos Yeddiel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684176455,"creation_date":1653763174,"question_id":72418357,"body_markdown":"I am trying to install JavaFX and in particular just run [this application](https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java). I&#39;ve been using Java for a while and I have to compile from console since IntelliJ just won&#39;t load in my laptop. Whenever I try compiling with &quot;javac HelloFX.java&quot; I get a lot of errors and in particular **error: package javafx.application does not exist**. This is what my java folder looks like\r\n\r\n[Java Folder][1]\r\n\r\nI also already set up a path C:\\Program Files\\Java\\javafx-sdk-18.0.1\\lib\r\n\r\nI really have no clue as to what I am doing wrong, and the solutions I&#39;ve been able to find seem rather complex, or use IntelliJ tools. Thank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7PnRo.png","title":"problem installing and compling in JavaFX","body":"<p>I am trying to install JavaFX and in particular just run <a href=\"https://github.com/openjfx/samples/blob/master/HelloFX/CLI/hellofx/HelloFX.java\" rel=\"nofollow noreferrer\">this application</a>. I've been using Java for a while and I have to compile from console since IntelliJ just won't load in my laptop. Whenever I try compiling with &quot;javac HelloFX.java&quot; I get a lot of errors and in particular <strong>error: package javafx.application does not exist</strong>. This is what my java folder looks like</p>\n<p><a href=\"https://i.stack.imgur.com/7PnRo.png\" rel=\"nofollow noreferrer\">Java Folder</a></p>\n<p>I also already set up a path C:\\Program Files\\Java\\javafx-sdk-18.0.1\\lib</p>\n<p>I really have no clue as to what I am doing wrong, and the solutions I've been able to find seem rather complex, or use IntelliJ tools. Thank you in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683882263,"post_id":76234142,"comment_id":134437665,"body_markdown":"Please add the **full stacktrace** instead of some arbitrary snippet. I do think however tha tyou cannot include the response in the list of parameters (and what good would it be to a feign client anyway?).","body":"Please add the <b>full stacktrace</b> instead of some arbitrary snippet. I do think however tha tyou cannot include the response in the list of parameters (and what good would it be to a feign client anyway?)."}],"answers":[{"tags":[],"owner":{"account_id":2981248,"reputation":1121,"user_id":2531159,"display_name":"swist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684176445,"creation_date":1684176445,"answer_id":76257127,"question_id":76234142,"body_markdown":"Remove `HttpServletResponse response` parameter - it is your another body. It make sense for server method to have `HttpServletResponse` as a parameter, but Feign cannot do much with it. Return value is your response.","title":"SpringBoot - Feign Client java.lang.IllegalStateException: Method has too many Body parameters:","body":"<p>Remove <code>HttpServletResponse response</code> parameter - it is your another body. It make sense for server method to have <code>HttpServletResponse</code> as a parameter, but Feign cannot do much with it. Return value is your response.</p>\n"}],"owner":{"account_id":8774591,"reputation":25,"user_id":17188780,"display_name":"SmlCodes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684176445,"creation_date":1683877261,"question_id":76234142,"body_markdown":"I trying call another service to Print my data to excel. im uisng Feign clinet to call thet Service.\r\n\r\nIm getting below error while running the application\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: Method has too many Body\r\n&gt; parameters: public abstract org.springframework.http.ResponseEntity\r\n&gt; com.client.ReportClient.generateReport(java.lang.String,javax.servlet.http.HttpServletResponse,com.dto.ReportRequestDto)\r\n\r\nBelow is Feign clinet code.\r\n\r\n```java\r\n\r\n    @PostMapping(value = &quot;/report&quot;, produces = {\r\n            MediaType.APPLICATION_PDF_VALUE,\r\n            &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,\r\n            &quot;application/msword&quot;}, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n     ResponseEntity&lt;ByteArrayResource&gt; generateReport(\r\n            @RequestHeader(&quot;Accept&quot;) String contentType,\r\n            HttpServletResponse response,\r\n            @RequestBody ReportRequestDto body) ;\r\n```\r\n\r\nReportRequestDto\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ReportRequestDto {\r\n    List&lt;Object[]&gt; data;\r\n    List&lt;ReportColumnHeaderDto&gt; columnHeaders;\r\n    Map&lt;String, Object&gt; params;\r\n    Integer columnCount;\r\n    String fileName;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nReportColumnHeaderDto\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class ReportColumnHeaderDto {\r\n    private String columnHeader;\r\n    private String columnWidth;\r\n\r\n    public ReportColumnHeaderDto(String columnHeader) {\r\n        this.columnHeader = columnHeader;\r\n    }\r\n}\r\n```\r\n\r\nCan you guys Please help me what&#39;s wrong with this code\r\n\r\n","title":"SpringBoot - Feign Client java.lang.IllegalStateException: Method has too many Body parameters:","body":"<p>I trying call another service to Print my data to excel. im uisng Feign clinet to call thet Service.</p>\n<p>Im getting below error while running the application</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: Method has too many Body\nparameters: public abstract org.springframework.http.ResponseEntity\ncom.client.ReportClient.generateReport(java.lang.String,javax.servlet.http.HttpServletResponse,com.dto.ReportRequestDto)</p>\n</blockquote>\n<p>Below is Feign clinet code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @PostMapping(value = &quot;/report&quot;, produces = {\n            MediaType.APPLICATION_PDF_VALUE,\n            &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;,\n            &quot;application/msword&quot;}, consumes = {MediaType.APPLICATION_JSON_VALUE})\n     ResponseEntity&lt;ByteArrayResource&gt; generateReport(\n            @RequestHeader(&quot;Accept&quot;) String contentType,\n            HttpServletResponse response,\n            @RequestBody ReportRequestDto body) ;\n</code></pre>\n<p>ReportRequestDto</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ReportRequestDto {\n    List&lt;Object[]&gt; data;\n    List&lt;ReportColumnHeaderDto&gt; columnHeaders;\n    Map&lt;String, Object&gt; params;\n    Integer columnCount;\n    String fileName;\n}\n\n</code></pre>\n<p>ReportColumnHeaderDto</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class ReportColumnHeaderDto {\n    private String columnHeader;\n    private String columnWidth;\n\n    public ReportColumnHeaderDto(String columnHeader) {\n        this.columnHeader = columnHeader;\n    }\n}\n</code></pre>\n<p>Can you guys Please help me what's wrong with this code</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1684178646,"post_id":76257119,"comment_id":134476542,"body_markdown":"A NoClassDefFoundError with the message &quot;Could not initialize class XYZ&quot; tells you that the JVM has already tried and failed to load this class and so refuses to load it again.  If you restart your app and go back through the logs, is there a different exception first time, probably an `ExceptionInInitializerError`? If so, that&#39;s the next thing to look at.","body":"A NoClassDefFoundError with the message &quot;Could not initialize class XYZ&quot; tells you that the JVM has already tried and failed to load this class and so refuses to load it again.  If you restart your app and go back through the logs, is there a different exception first time, probably an <code>ExceptionInInitializerError</code>? If so, that&#39;s the next thing to look at."}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684176369,"creation_date":1684176369,"question_id":76257119,"body_markdown":"I encountered this exception when I try to call an endpoint from my spring boot application. What causes this exception?  \r\n\r\n```Handler dispatch failed; nested exception is java.lang.noclassdeffounderror: could not initialize class com.amazonaws.auth.internal.aws4signerutils```\r\n\r\nContext: my controller calls a external service class to store a file in the S3 bucket.","title":"Could not initialize class com.amazonaws.auth.internal.aws4signerutils","body":"<p>I encountered this exception when I try to call an endpoint from my spring boot application. What causes this exception?</p>\n<p><code>Handler dispatch failed; nested exception is java.lang.noclassdeffounderror: could not initialize class com.amazonaws.auth.internal.aws4signerutils</code></p>\n<p>Context: my controller calls a external service class to store a file in the S3 bucket.</p>\n"},{"tags":["java","elasticsearch","opensearch"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1683616701,"post_id":76172055,"comment_id":134389727,"body_markdown":"Why do you need to send raw JSON?","body":"Why do you need to send raw JSON?"},{"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"score":0,"creation_date":1683734405,"post_id":76172055,"comment_id":134413247,"body_markdown":"Can you use a normal http rest client instead?","body":"Can you use a normal http rest client instead?"}],"answers":[{"tags":[],"owner":{"account_id":28581853,"reputation":26,"user_id":21882695,"display_name":"mkr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683881661,"creation_date":1683881661,"answer_id":76234662,"question_id":76172055,"body_markdown":"I don&#39;t think there is a supported way to do this. The JSON Deserializers seem to only be meant for the JSON body of the respective request (i.e. the &quot;aliases&quot;, &quot;mappings&quot; and &quot;settings&quot; in your CreateIndexRequest) so any non-nullable field that is not part of the expected JSON body would need to be passed in separately. The currently exposed methods don&#39;t really allow for this. One hacky way is to setup your own deserializer using the protected (!) setup methods of the API using Reflection.\r\n\r\nExample:\r\n\r\n    private static ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; getDeserializerWithPreconfiguredBuilder(\r\n                Supplier&lt;CreateIndexRequest.Builder&gt; builderSupplier) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n      Class&lt;CreateIndexRequest&gt; clazz = CreateIndexRequest.class;\r\n      Method method = clazz.getDeclaredMethod(&quot;setupCreateIndexRequestDeserializer&quot;, ObjectDeserializer.class);\r\n      method.setAccessible(true);\r\n    \r\n      ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = new ObjectDeserializer&lt;&gt;(builderSupplier);\r\n      method.invoke(null, deserializer);\r\n      return deserializer;\r\n    }\r\n\r\nand then\r\n\r\n    JsonParser jsonParser = JsonProvider.provider().createParser(new StringReader(&quot;{}&quot;)); // &lt;-- your JSON request body\r\n    Supplier&lt;CreateIndexRequest.Builder&gt; builderSupplier = () -&gt; new CreateIndexRequest.Builder().index(&quot;my-index&quot;);\r\n    ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = getDeserializerWithPreconfiguredBuilder(builderSupplier);\r\n    CreateIndexRequest req = deserializer.deserialize(jsonParser, new JsonbJsonpMapper()).build();\r\n\r\nBtw: Elasticsearch [has added][1] raw JSON support to the API. OpenSearch could draw some inspiration there.\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch-java/pull/200","title":"Is there a way to do Raw JSON Requests using the Opensearch Java Client?","body":"<p>I don't think there is a supported way to do this. The JSON Deserializers seem to only be meant for the JSON body of the respective request (i.e. the &quot;aliases&quot;, &quot;mappings&quot; and &quot;settings&quot; in your CreateIndexRequest) so any non-nullable field that is not part of the expected JSON body would need to be passed in separately. The currently exposed methods don't really allow for this. One hacky way is to setup your own deserializer using the protected (!) setup methods of the API using Reflection.</p>\n<p>Example:</p>\n<pre><code>private static ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; getDeserializerWithPreconfiguredBuilder(\n            Supplier&lt;CreateIndexRequest.Builder&gt; builderSupplier) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n  Class&lt;CreateIndexRequest&gt; clazz = CreateIndexRequest.class;\n  Method method = clazz.getDeclaredMethod(&quot;setupCreateIndexRequestDeserializer&quot;, ObjectDeserializer.class);\n  method.setAccessible(true);\n\n  ObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = new ObjectDeserializer&lt;&gt;(builderSupplier);\n  method.invoke(null, deserializer);\n  return deserializer;\n}\n</code></pre>\n<p>and then</p>\n<pre><code>JsonParser jsonParser = JsonProvider.provider().createParser(new StringReader(&quot;{}&quot;)); // &lt;-- your JSON request body\nSupplier&lt;CreateIndexRequest.Builder&gt; builderSupplier = () -&gt; new CreateIndexRequest.Builder().index(&quot;my-index&quot;);\nObjectDeserializer&lt;CreateIndexRequest.Builder&gt; deserializer = getDeserializerWithPreconfiguredBuilder(builderSupplier);\nCreateIndexRequest req = deserializer.deserialize(jsonParser, new JsonbJsonpMapper()).build();\n</code></pre>\n<p>Btw: Elasticsearch <a href=\"https://github.com/elastic/elasticsearch-java/pull/200\" rel=\"nofollow noreferrer\">has added</a> raw JSON support to the API. OpenSearch could draw some inspiration there.</p>\n"}],"owner":{"account_id":14370116,"reputation":403,"user_id":10380101,"display_name":"Bakar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76234662,"answer_count":1,"score":1,"last_activity_date":1684176321,"creation_date":1683195275,"question_id":76172055,"body_markdown":"The [Opensearch Java Client](https://opensearch.org/docs/latest/clients/java/) does not have methods which take it in raw JSON requests. \r\n\r\nAll of the methods require some Java POJO/Class to exist before doing a request such creating an index or even adding a document to an index. \r\n\r\nI have tried to use the [JSON Deserializers](https://github.com/opensearch-project/opensearch-java/blob/e422eb0263847bd1ca867c8c109bbb15463fae5b/java-client/src/main/java/org/opensearch/client/opensearch/indices/CreateIndexRequest.java#L437) and also using the Jackson ObjectMapper to convert the JSON to the Opensearch Request types but it doesn&#39;t have a native mapping for it. \r\n\r\n","title":"Is there a way to do Raw JSON Requests using the Opensearch Java Client?","body":"<p>The <a href=\"https://opensearch.org/docs/latest/clients/java/\" rel=\"nofollow noreferrer\">Opensearch Java Client</a> does not have methods which take it in raw JSON requests.</p>\n<p>All of the methods require some Java POJO/Class to exist before doing a request such creating an index or even adding a document to an index.</p>\n<p>I have tried to use the <a href=\"https://github.com/opensearch-project/opensearch-java/blob/e422eb0263847bd1ca867c8c109bbb15463fae5b/java-client/src/main/java/org/opensearch/client/opensearch/indices/CreateIndexRequest.java#L437\" rel=\"nofollow noreferrer\">JSON Deserializers</a> and also using the Jackson ObjectMapper to convert the JSON to the Opensearch Request types but it doesn't have a native mapping for it.</p>\n"},{"tags":["java","swing","lambda","netbeans"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1684176310,"post_id":76256884,"comment_id":134476080,"body_markdown":"*I have to submit the project tommorow* - not relevant to the question. My advice is to NOT use the IDE to generate code because you spend time learning the IDE and not Java/Swing. Write the code yourself and just use the IDE to help compile, debug etc.","body":"<i>I have to submit the project tommorow</i> - not relevant to the question. My advice is to NOT use the IDE to generate code because you spend time learning the IDE and not Java/Swing. Write the code yourself and just use the IDE to help compile, debug etc."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1684178579,"post_id":76256884,"comment_id":134476534,"body_markdown":"Code completion offers both and lets you switch; see Help &gt; Keyboard Shortcuts.","body":"Code completion offers both and lets you switch; see Help &gt; Keyboard Shortcuts."}],"owner":{"account_id":27971545,"reputation":11,"user_id":21361160,"display_name":"TrignoLord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684176149,"creation_date":1684174052,"question_id":76256884,"body_markdown":"For some reason, it is not letting me use lambda expressions instead of \r\n\r\n    private void btn_addActionPerformed(java.awt.event.ActionEvent evt) {\r\n    }        \r\n\r\nHow do I implement lambda expressions in netbeans on buttons which were dragged and dropped on the GUI. I want the lambda expression to act as a MouseClick event handler\r\n\r\nI tried right clicking on button on the gui and selecting actionPerformed and then try deleting actionPerformed in the code but it doesnt let me delete the method. MY plan was to do this and then replace it with \r\n\r\n    btn_Add.addActionListener((event) -&gt; {\r\n        \r\n    });\r\n\r\nBut it doesnt let me delete. Even if I go to events sections in properties and remove the event. It still doesnt work adn shows an error when I type the lambda expression. This is a swing project.I have to submit the project tommorow. Any help regarding this would mean a lot.\r\n\r\n","title":"Why isnt netbeans letting me use lambda expressions on dragged and dropped buttons in GUI","body":"<p>For some reason, it is not letting me use lambda expressions instead of</p>\n<pre><code>private void btn_addActionPerformed(java.awt.event.ActionEvent evt) {\n}        \n</code></pre>\n<p>How do I implement lambda expressions in netbeans on buttons which were dragged and dropped on the GUI. I want the lambda expression to act as a MouseClick event handler</p>\n<p>I tried right clicking on button on the gui and selecting actionPerformed and then try deleting actionPerformed in the code but it doesnt let me delete the method. MY plan was to do this and then replace it with</p>\n<pre><code>btn_Add.addActionListener((event) -&gt; {\n    \n});\n</code></pre>\n<p>But it doesnt let me delete. Even if I go to events sections in properties and remove the event. It still doesnt work adn shows an error when I type the lambda expression. This is a swing project.I have to submit the project tommorow. Any help regarding this would mean a lot.</p>\n"},{"tags":["java","encoding","base64","bufferedinputstream"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1471878921,"post_id":39082816,"comment_id":65514092,"body_markdown":"What do you mean &quot;with a buffer&quot;. What is going to be the input, and what do you expect the output to be? A stream? A channel? A string?","body":"What do you mean &quot;with a buffer&quot;. What is going to be the input, and what do you expect the output to be? A stream? A channel? A string?"},{"owner":{"account_id":1267713,"reputation":130,"user_id":1224655,"display_name":"fforbeck"},"score":0,"creation_date":1471880985,"post_id":39082816,"comment_id":65515501,"body_markdown":"The input is an InputStream, the output is a base64 string content. The buffer would be the BufferedReader.","body":"The input is an InputStream, the output is a base64 string content. The buffer would be the BufferedReader."}],"answers":[{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1471949261,"creation_date":1471949261,"answer_id":39099064,"question_id":39082816,"body_markdown":"Fun fact about Base64: It takes three bytes, and converts them into four letters. This means that if you read binary data in chunks that are divisible by three, you can feed the chunks to *any* Base64 encoder, and it will encode it in the same way as if you fed it the entire file.\r\n\r\nNow, if you want your output stream to just be one long line of Base64 data - which is perfectly legal - then all you need to do is something along the lines of: \r\n\r\n    private static final int BUFFER_SIZE = 3 * 1024;\r\n\r\n    try ( BufferedInputStream in = new BufferedInputStream(input, BUFFER_SIZE); ) {\r\n        Base64.Encoder encoder = Base64.getEncoder();\r\n        StringBuilder result = new StringBuilder();\r\n        byte[] chunk = new byte[BUFFER_SIZE];\r\n        int len = 0;\r\n        while ( (len = in.read(chunk)) == BUFFER_SIZE ) {\r\n             result.append( encoder.encodeToString(chunk) );\r\n        }\r\n        if ( len &gt; 0 ) {\r\n             chunk = Arrays.copyOf(chunk,len);\r\n             result.append( encoder.encodeToString(chunk) );\r\n        }\r\n    }\r\n\r\nThis means that only the last chunk may have a length that is not divisible by three and will therefore contain the padding characters.\r\n\r\nThe above example is with Java 8 Base64, but you can really use any encoder that takes a byte array of an arbitrary length and returns the base64 string of that byte array.\r\n\r\nThis means that you can play around with the buffer size as you wish.\r\n\r\nIf you want your output to be MIME compatible, however, you need to have the output separated into lines. In this case, I would set the chunk size in the above example to something that, when multiplied by 4/3, gives you a round number of lines. For example, if you want to have 64 characters per line, each line encodes 64 / 4 * 3, which is 48 bytes. If you encode 48 bytes, you&#39;ll get one line. If you encode 480 bytes, you&#39;ll get 10 full lines.\r\n\r\nSo modify the above BUFFER_SIZE to something like 4800. Instead of `Base64.getEncoder()` use `Base64.getMimeEncoder(64,new byte[] { 13, 10})`. And then, when it encodes, you&#39;ll get 100 full-sized lines from each chunk except the last. You may need to add a `result.append(&quot;\\r\\n&quot;)` to the while loop.","title":"Java buffered base64 encoder for streams","body":"<p>Fun fact about Base64: It takes three bytes, and converts them into four letters. This means that if you read binary data in chunks that are divisible by three, you can feed the chunks to <em>any</em> Base64 encoder, and it will encode it in the same way as if you fed it the entire file.</p>\n\n<p>Now, if you want your output stream to just be one long line of Base64 data - which is perfectly legal - then all you need to do is something along the lines of: </p>\n\n<pre><code>private static final int BUFFER_SIZE = 3 * 1024;\n\ntry ( BufferedInputStream in = new BufferedInputStream(input, BUFFER_SIZE); ) {\n    Base64.Encoder encoder = Base64.getEncoder();\n    StringBuilder result = new StringBuilder();\n    byte[] chunk = new byte[BUFFER_SIZE];\n    int len = 0;\n    while ( (len = in.read(chunk)) == BUFFER_SIZE ) {\n         result.append( encoder.encodeToString(chunk) );\n    }\n    if ( len &gt; 0 ) {\n         chunk = Arrays.copyOf(chunk,len);\n         result.append( encoder.encodeToString(chunk) );\n    }\n}\n</code></pre>\n\n<p>This means that only the last chunk may have a length that is not divisible by three and will therefore contain the padding characters.</p>\n\n<p>The above example is with Java 8 Base64, but you can really use any encoder that takes a byte array of an arbitrary length and returns the base64 string of that byte array.</p>\n\n<p>This means that you can play around with the buffer size as you wish.</p>\n\n<p>If you want your output to be MIME compatible, however, you need to have the output separated into lines. In this case, I would set the chunk size in the above example to something that, when multiplied by 4/3, gives you a round number of lines. For example, if you want to have 64 characters per line, each line encodes 64 / 4 * 3, which is 48 bytes. If you encode 48 bytes, you'll get one line. If you encode 480 bytes, you'll get 10 full lines.</p>\n\n<p>So modify the above BUFFER_SIZE to something like 4800. Instead of <code>Base64.getEncoder()</code> use <code>Base64.getMimeEncoder(64,new byte[] { 13, 10})</code>. And then, when it encodes, you'll get 100 full-sized lines from each chunk except the last. You may need to add a <code>result.append(\"\\r\\n\")</code> to the while loop.</p>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684175780,"creation_date":1684175374,"answer_id":76257016,"question_id":39082816,"body_markdown":"If your goal is to read many files and convert them all to base64, there is a much shorter way of doing this.\r\n\r\nLeave the burden of opening the files for reading, creating the file for writing and copying the data from one to the other to `Files.copy`. \r\n\r\nAnd concentrate on encoding the bytes to base64 by wrapping the outputSteam through the `java.util.Base64` encoder function : `Base64.getEncoder().wrap(yourFileOutputStream)`.\r\n\r\nSo the whole process of converting the files inside `/yourSubdirectory` to base64 could be performed like this :\r\n\r\n```java\r\nFiles.walk(Paths.get(&quot;/yourSubdirectory&quot;))\r\n    .filter(Files::isRegularFile)\r\n    .forEach(path -&gt; {\r\n        try {\r\n            // Add &quot;.b64&quot; to the new base64 output file\r\n            File base64file = Paths.get(path.toString() + &quot;.b64&quot;).toFile();\r\n            // Read the input file, convert to base 64 and write output file\r\n            Files.copy(path, Base64.getEncoder().wrap(new FileOutuptStream(base64file)));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    });\r\n\r\n```","title":"Java buffered base64 encoder for streams","body":"<p>If your goal is to read many files and convert them all to base64, there is a much shorter way of doing this.</p>\n<p>Leave the burden of opening the files for reading, creating the file for writing and copying the data from one to the other to <code>Files.copy</code>.</p>\n<p>And concentrate on encoding the bytes to base64 by wrapping the outputSteam through the <code>java.util.Base64</code> encoder function : <code>Base64.getEncoder().wrap(yourFileOutputStream)</code>.</p>\n<p>So the whole process of converting the files inside <code>/yourSubdirectory</code> to base64 could be performed like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.walk(Paths.get(&quot;/yourSubdirectory&quot;))\n    .filter(Files::isRegularFile)\n    .forEach(path -&gt; {\n        try {\n            // Add &quot;.b64&quot; to the new base64 output file\n            File base64file = Paths.get(path.toString() + &quot;.b64&quot;).toFile();\n            // Read the input file, convert to base 64 and write output file\n            Files.copy(path, Base64.getEncoder().wrap(new FileOutuptStream(base64file)));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    });\n\n</code></pre>\n"}],"owner":{"account_id":1267713,"reputation":130,"user_id":1224655,"display_name":"fforbeck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15408,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39099064,"answer_count":2,"score":5,"last_activity_date":1684175780,"creation_date":1471877960,"question_id":39082816,"body_markdown":"I have lots of PDF files that I need to get its content encoded using base64. I have an Akka app which fetch the files as stream and distributes to many workers to encode these files and returns the string base64 for each file. I got a basic solution for encoding:\r\n\r\n        org.apache.commons.codec.binary.Base64InputStream;\r\n        ...\r\n        Base64InputStream b64IStream = null;\r\n        InputStreamReader reader = null;\r\n        BufferedReader br = null;\r\n        StringBuilder sb = new StringBuilder();\r\n        try {\r\n            b64IStream = new Base64InputStream(input, true);\r\n            reader = new InputStreamReader(b64IStream);\r\n            br = new BufferedReader(reader);\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                sb.append(line);\r\n            }\r\n        } finally {\r\n            if (b64IStream != null) {\r\n                b64IStream.close();\r\n            }\r\n            if (reader != null) {\r\n                reader.close();\r\n            }\r\n            if (br != null) {\r\n                br.close();\r\n            }\r\n        }\r\n\r\nIt works, but I would like to know what would be the best way that I can encode the files using a buffer and if there is a faster alternative for this. \r\n\r\nI tested some other approaches such as:\r\n\r\n - Base64.getEncoder\r\n - sun.misc.BASE64Encoder\r\n - Base64.encodeBase64\r\n - javax.xml.bind.DatatypeConverter.printBase64\r\n - com.google.guava.BaseEncoding.base64\r\n\r\nThey are faster but they need the entire file, correct? Also, I do not want to block other threads while encoding 1 PDF file.\r\n\r\nAny input is really helpful. Thank you!\r\n ","title":"Java buffered base64 encoder for streams","body":"<p>I have lots of PDF files that I need to get its content encoded using base64. I have an Akka app which fetch the files as stream and distributes to many workers to encode these files and returns the string base64 for each file. I got a basic solution for encoding:</p>\n\n<pre><code>    org.apache.commons.codec.binary.Base64InputStream;\n    ...\n    Base64InputStream b64IStream = null;\n    InputStreamReader reader = null;\n    BufferedReader br = null;\n    StringBuilder sb = new StringBuilder();\n    try {\n        b64IStream = new Base64InputStream(input, true);\n        reader = new InputStreamReader(b64IStream);\n        br = new BufferedReader(reader);\n        String line;\n        while ((line = br.readLine()) != null) {\n            sb.append(line);\n        }\n    } finally {\n        if (b64IStream != null) {\n            b64IStream.close();\n        }\n        if (reader != null) {\n            reader.close();\n        }\n        if (br != null) {\n            br.close();\n        }\n    }\n</code></pre>\n\n<p>It works, but I would like to know what would be the best way that I can encode the files using a buffer and if there is a faster alternative for this. </p>\n\n<p>I tested some other approaches such as:</p>\n\n<ul>\n<li>Base64.getEncoder</li>\n<li>sun.misc.BASE64Encoder</li>\n<li>Base64.encodeBase64</li>\n<li>javax.xml.bind.DatatypeConverter.printBase64</li>\n<li>com.google.guava.BaseEncoding.base64</li>\n</ul>\n\n<p>They are faster but they need the entire file, correct? Also, I do not want to block other threads while encoding 1 PDF file.</p>\n\n<p>Any input is really helpful. Thank you!</p>\n"},{"tags":["java","maven","thymeleaf"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1684173652,"post_id":76256715,"comment_id":134475555,"body_markdown":"keep empty body `&lt;body&gt;&lt;/body&gt;` and check if there is any issue.","body":"keep empty body <code>&lt;body&gt;&lt;&#47;body&gt;</code> and check if there is any issue."},{"owner":{"account_id":28607158,"reputation":11,"user_id":21902876,"display_name":"kledek"},"score":0,"creation_date":1684174308,"post_id":76256715,"comment_id":134475678,"body_markdown":"@ChetanAhirrao didn&#39;t work. still got the same error","body":"@ChetanAhirrao didn&#39;t work. still got the same error"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684175430,"creation_date":1684175430,"answer_id":76257021,"question_id":76256715,"body_markdown":"I would use the newest versions of the frameworks:\r\n\r\n- jakarta.servlet-api 6.0.0 (instead of outdated javax.servlet-api from 2018)\r\n- thymeleaf 3.1.1.RELEASE\r\n- ogn 3.3.4","title":"problem running webpage with thymeleaf without springboot","body":"<p>I would use the newest versions of the frameworks:</p>\n<ul>\n<li>jakarta.servlet-api 6.0.0 (instead of outdated javax.servlet-api from 2018)</li>\n<li>thymeleaf 3.1.1.RELEASE</li>\n<li>ogn 3.3.4</li>\n</ul>\n"}],"owner":{"account_id":28607158,"reputation":11,"user_id":21902876,"display_name":"kledek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684175430,"creation_date":1684172928,"question_id":76256715,"body_markdown":"I am building a webshop for a class assignment using maven. Currently I am trying to create a &quot;genreOverview&quot; page that displays books based on the genre picked by the user using thymeleaf WITHOUT SPRING. But when i start the server and try to run the page, i get the error:\r\n\r\n\r\n```\r\n[/WebShop23Maven_war_exploded] threw exception [Servlet execution threw an exception] with root cause\r\n\tjava.lang.NoClassDefFoundError: Could not initialize class org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator\r\n\t\tat org.thymeleaf.standard.StandardDialect.getVariableExpressionEvaluator(StandardDialect.java:179)\r\n\t\tat org.thymeleaf.standard.StandardDialect.getExecutionAttributes(StandardDialect.java:393)\r\n\t\tat org.thymeleaf.DialectSetConfiguration.build(DialectSetConfiguration.java:263)\r\n\t\tat org.thymeleaf.EngineConfiguration.&lt;init&gt;(EngineConfiguration.java:123)\r\n\t\tat org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:336)\r\n\t\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\r\n\t\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1067)\r\n\t\tat org.chaotec.servlets.GenreOverview.doGet(GenreOverview.java:34)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nthis is the thymeleafConfig:\r\n\r\n\r\n```\r\npackage org.chaotec.thymeleaf;\r\n\r\nimport org.thymeleaf.TemplateEngine;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletContextEvent;\r\nimport javax.servlet.ServletContextListener;\r\nimport javax.servlet.annotation.WebListener;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport org.thymeleaf.templateresolver.ITemplateResolver;\r\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\r\n\r\nimport java.util.logging.Logger;\r\n\r\n@WebListener\r\npublic class ThymeleafConfig implements ServletContextListener {\r\n    private static final Logger log = Logger.getLogger(ThymeleafConfig.class.getName());\r\n    private static TemplateEngine engine;\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        /* This method is called when the servlet context is initialized(when the Web application is deployed). */\r\n        log.info(&quot;Anwendung gestartet.&quot;);\r\n        log.info(sce.getServletContext().getServerInfo());\r\n        engine = templateEngine(sce.getServletContext());\r\n    }\r\n\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent sce) {\r\n        /* This method is called when the servlet Context is undeployed or Application Server shuts down. */\r\n    }\r\n    public static TemplateEngine getTemplateEngine() {\r\n        return engine;\r\n    }\r\n\r\n    \r\n    private TemplateEngine templateEngine(ServletContext servletContext) {\r\n        TemplateEngine engine = new TemplateEngine();\r\n        engine.setTemplateResolver(templateResolver(servletContext));\r\n        return engine;\r\n    }\r\n    \r\n    private ITemplateResolver templateResolver(ServletContext servletContext) {\r\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\r\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        return resolver;\r\n    }\r\n}\r\n\r\n```\r\nthis is my servlet (the code is not what the genreOverview should be, but an example that i use when i first learned about thymeleaf):\r\n\r\n\r\n```\r\npackage org.chaotec.servlets;\r\n\r\nimport org.chaotec.backend.Book;\r\nimport org.chaotec.database.Database;\r\nimport org.chaotec.thymeleaf.ThymeleafConfig;\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.WebContext;\r\n\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = &quot;GenreOverview&quot;, value = &quot;/genreOverview&quot;)\r\npublic class GenreOverview extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        TemplateEngine engine = ThymeleafConfig.getTemplateEngine();\r\n        WebContext context = new WebContext(request, response, request.getServletContext());\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\r\n\r\n        context.setVariable(&quot;recipient&quot;, &quot;World&quot;);\r\n        List&lt;String&gt; staedte = new ArrayList&lt;&gt;();\r\n        staedte.add(&quot;Emden&quot;); staedte.add(&quot;Leer&quot;); staedte.add(&quot;Aurich&quot;);\r\n        context.setVariable(&quot;staedte&quot;, staedte);\r\n        context.setVariable(&quot;modul&quot;,\r\n                request.getServletContext().getInitParameter(&quot;modul&quot;));\r\n        engine.process(&quot;genreOverview.html&quot;, context, response.getWriter());\r\n    }\r\n}\r\n```\r\n\r\nand this is the genreOverview.html (also not the actual genreOverview page, just the example):\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Hello &lt;span th:text=&quot;${recipient}&quot;&gt;Peter&lt;/span&gt;!!!&lt;/h1&gt;\r\n    &lt;h2&gt;Modul &lt;span th:text=&quot;${modul}&quot;&gt;Java&lt;/span&gt;&lt;/h2&gt;\r\n    &lt;ul&gt;\r\n        &lt;li th:each=&quot;stadt : ${staedte}&quot; th:text=&quot;${stadt}&quot;&gt;Berlin&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nthis is my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.chaotec&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WebShop23Maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nthe original error i got was actually &quot;java.lang.NoClassDefFoundError: ognl/PropertyAccessor&quot; but then i added the ognl dependancy i am currently stuck with this error. I&#39;ve tried rerunning a clean build to even making a 1-to-1 copy of a new project but still nothing works. I only want to solve this error so i can see what my output looks like and start working on the actual page display","title":"problem running webpage with thymeleaf without springboot","body":"<p>I am building a webshop for a class assignment using maven. Currently I am trying to create a &quot;genreOverview&quot; page that displays books based on the genre picked by the user using thymeleaf WITHOUT SPRING. But when i start the server and try to run the page, i get the error:</p>\n<pre><code>[/WebShop23Maven_war_exploded] threw exception [Servlet execution threw an exception] with root cause\n    java.lang.NoClassDefFoundError: Could not initialize class org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator\n        at org.thymeleaf.standard.StandardDialect.getVariableExpressionEvaluator(StandardDialect.java:179)\n        at org.thymeleaf.standard.StandardDialect.getExecutionAttributes(StandardDialect.java:393)\n        at org.thymeleaf.DialectSetConfiguration.build(DialectSetConfiguration.java:263)\n        at org.thymeleaf.EngineConfiguration.&lt;init&gt;(EngineConfiguration.java:123)\n        at org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:336)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1067)\n        at org.chaotec.servlets.GenreOverview.doGet(GenreOverview.java:34)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>this is the thymeleafConfig:</p>\n<pre><code>package org.chaotec.thymeleaf;\n\nimport org.thymeleaf.TemplateEngine;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.annotation.WebListener;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ITemplateResolver;\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\n\nimport java.util.logging.Logger;\n\n@WebListener\npublic class ThymeleafConfig implements ServletContextListener {\n    private static final Logger log = Logger.getLogger(ThymeleafConfig.class.getName());\n    private static TemplateEngine engine;\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        /* This method is called when the servlet context is initialized(when the Web application is deployed). */\n        log.info(&quot;Anwendung gestartet.&quot;);\n        log.info(sce.getServletContext().getServerInfo());\n        engine = templateEngine(sce.getServletContext());\n    }\n\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        /* This method is called when the servlet Context is undeployed or Application Server shuts down. */\n    }\n    public static TemplateEngine getTemplateEngine() {\n        return engine;\n    }\n\n    \n    private TemplateEngine templateEngine(ServletContext servletContext) {\n        TemplateEngine engine = new TemplateEngine();\n        engine.setTemplateResolver(templateResolver(servletContext));\n        return engine;\n    }\n    \n    private ITemplateResolver templateResolver(ServletContext servletContext) {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n}\n\n</code></pre>\n<p>this is my servlet (the code is not what the genreOverview should be, but an example that i use when i first learned about thymeleaf):</p>\n<pre><code>package org.chaotec.servlets;\n\nimport org.chaotec.backend.Book;\nimport org.chaotec.database.Database;\nimport org.chaotec.thymeleaf.ThymeleafConfig;\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.WebContext;\n\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@WebServlet(name = &quot;GenreOverview&quot;, value = &quot;/genreOverview&quot;)\npublic class GenreOverview extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        TemplateEngine engine = ThymeleafConfig.getTemplateEngine();\n        WebContext context = new WebContext(request, response, request.getServletContext());\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n\n\n        context.setVariable(&quot;recipient&quot;, &quot;World&quot;);\n        List&lt;String&gt; staedte = new ArrayList&lt;&gt;();\n        staedte.add(&quot;Emden&quot;); staedte.add(&quot;Leer&quot;); staedte.add(&quot;Aurich&quot;);\n        context.setVariable(&quot;staedte&quot;, staedte);\n        context.setVariable(&quot;modul&quot;,\n                request.getServletContext().getInitParameter(&quot;modul&quot;));\n        engine.process(&quot;genreOverview.html&quot;, context, response.getWriter());\n    }\n}\n</code></pre>\n<p>and this is the genreOverview.html (also not the actual genreOverview page, just the example):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Hello &lt;span th:text=&quot;${recipient}&quot;&gt;Peter&lt;/span&gt;!!!&lt;/h1&gt;\n    &lt;h2&gt;Modul &lt;span th:text=&quot;${modul}&quot;&gt;Java&lt;/span&gt;&lt;/h2&gt;\n    &lt;ul&gt;\n        &lt;li th:each=&quot;stadt : ${staedte}&quot; th:text=&quot;${stadt}&quot;&gt;Berlin&lt;/li&gt;\n    &lt;/ul&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.chaotec&lt;/groupId&gt;\n    &lt;artifactId&gt;WebShop23Maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;12.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.1.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>the original error i got was actually &quot;java.lang.NoClassDefFoundError: ognl/PropertyAccessor&quot; but then i added the ognl dependancy i am currently stuck with this error. I've tried rerunning a clean build to even making a 1-to-1 copy of a new project but still nothing works. I only want to solve this error so i can see what my output looks like and start working on the actual page display</p>\n"},{"tags":["java","json","spring","postgresql","jdb"],"comments":[{"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"score":0,"creation_date":1684175260,"post_id":76256832,"comment_id":134475863,"body_markdown":"Could you elaborate on why exactly you need a string representation of students?","body":"Could you elaborate on why exactly you need a string representation of students?"},{"owner":{"account_id":28607229,"reputation":1,"user_id":21902930,"display_name":"Obai Mohammad"},"score":0,"creation_date":1684269477,"post_id":76256832,"comment_id":134493129,"body_markdown":"The idea is to send it back to the front end. What do you suggest","body":"The idea is to send it back to the front end. What do you suggest"}],"answers":[{"tags":[],"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684175229,"creation_date":1684175229,"answer_id":76257000,"question_id":76256832,"body_markdown":" 1. I would try to create Entity aka. DBO for student instead of Returning JSONObject. \r\n 2. Use ObjectMapper that returns a string JSON representation.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();   String studentsJSON\r\n    = objectMapper.writeValueAsString(students);\r\n\r\n","title":"spring native query call a function that returns a json","body":"<ol>\n<li><p>I would try to create Entity aka. DBO for student instead of Returning JSONObject.</p>\n</li>\n<li><p>Use ObjectMapper that returns a string JSON representation.</p>\n<p>ObjectMapper objectMapper = new ObjectMapper();   String studentsJSON\n= objectMapper.writeValueAsString(students);</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28607229,"reputation":1,"user_id":21902930,"display_name":"Obai Mohammad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684175229,"creation_date":1684173733,"question_id":76256832,"body_markdown":"I am new to java and I am trying to call a function that returns a json object, However the java method returns a String. \r\n\r\nIs there a way  in postrgres to convert Json to VARCHAR, or in java to vonvert JSONObject to a json String\r\n```\r\n@Repository\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\r\n    @Query(value = &quot;select* from get_enrolled_courses(:id);&quot;, nativeQuery = true)\r\n    JSONObject getStudents(@Param(&quot;id&quot;) int courseId);\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n`    \r\n@Service\r\npublic class CourseServices {\r\npublic JSONObject getEnrolledStudentsLight(int id){\r\n\r\n        return repository.getStudents(id);\r\n    }`\r\n}\r\n```\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v2/courses&quot;)\r\npublic class CourseController {\r\n    @GetMapping (&quot;/{courseId}/students/light&quot;)\r\n    public String getEnrolledStudentsLight (@PathVariable int courseId ){\r\n        return service.getEnrolledStudentsLight(courseId).toJSONString();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried toJSONString() but the out put is key:value String and I only want the values as string just like the out put from the database\r\n\r\n\r\n```\r\ncreate or replace  FUNCTION get_enrolled_courses (student_id int)\r\n    RETURNS  varchar\r\n    LANGUAGE plpgsql\r\nAs $$\r\nDECLARE s_id INTEGER;\r\nbegin\r\n    select student_id into s_id;\r\n    return (select COALESCE(array_to_json(array_agg(row_to_json(t)) ),&#39;[]&#39;::json)\r\n            from (\r\n                     select c.id,c.title,c.credits,c.updated_at,c.created_at\r\n                     from course_student cs join courses c on c.id = cs.course_id\r\n                     where cs.student_id = s_id\r\n                 ) t);\r\nend;\r\n$$;\r\n\r\n```\r\n\r\nthe output of the DB is : [\r\n  {\r\n    &quot;id&quot;: 14,\r\n    &quot;title&quot;: &quot;Intoduction to computer scince&quot;,\r\n    &quot;credits&quot;: 9,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 18,\r\n    &quot;title&quot;: &quot;Data Base 2&quot;,\r\n    &quot;credits&quot;: 12,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 19,\r\n    &quot;title&quot;: &quot;Signal and Systems&quot;,\r\n    &quot;credits&quot;: 9,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;\r\n  }\r\n]\r\n\r\nany suggestions?\r\n","title":"spring native query call a function that returns a json","body":"<p>I am new to java and I am trying to call a function that returns a json object, However the java method returns a String.</p>\n<p>Is there a way  in postrgres to convert Json to VARCHAR, or in java to vonvert JSONObject to a json String</p>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\n    @Query(value = &quot;select* from get_enrolled_courses(:id);&quot;, nativeQuery = true)\n    JSONObject getStudents(@Param(&quot;id&quot;) int courseId);\n\n\n}\n</code></pre>\n<pre><code>`    \n@Service\npublic class CourseServices {\npublic JSONObject getEnrolledStudentsLight(int id){\n\n        return repository.getStudents(id);\n    }`\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v2/courses&quot;)\npublic class CourseController {\n    @GetMapping (&quot;/{courseId}/students/light&quot;)\n    public String getEnrolledStudentsLight (@PathVariable int courseId ){\n        return service.getEnrolledStudentsLight(courseId).toJSONString();\n    }\n\n}\n\n</code></pre>\n<p>I tried toJSONString() but the out put is key:value String and I only want the values as string just like the out put from the database</p>\n<pre><code>create or replace  FUNCTION get_enrolled_courses (student_id int)\n    RETURNS  varchar\n    LANGUAGE plpgsql\nAs $$\nDECLARE s_id INTEGER;\nbegin\n    select student_id into s_id;\n    return (select COALESCE(array_to_json(array_agg(row_to_json(t)) ),'[]'::json)\n            from (\n                     select c.id,c.title,c.credits,c.updated_at,c.created_at\n                     from course_student cs join courses c on c.id = cs.course_id\n                     where cs.student_id = s_id\n                 ) t);\nend;\n$$;\n\n</code></pre>\n<p>the output of the DB is : [\n{\n&quot;id&quot;: 14,\n&quot;title&quot;: &quot;Intoduction to computer scince&quot;,\n&quot;credits&quot;: 9,\n&quot;updated_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;\n},\n{\n&quot;id&quot;: 18,\n&quot;title&quot;: &quot;Data Base 2&quot;,\n&quot;credits&quot;: 12,\n&quot;updated_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;\n},\n{\n&quot;id&quot;: 19,\n&quot;title&quot;: &quot;Signal and Systems&quot;,\n&quot;credits&quot;: 9,\n&quot;updated_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;\n}\n]</p>\n<p>any suggestions?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9560,"page":432,"page_size":100}
