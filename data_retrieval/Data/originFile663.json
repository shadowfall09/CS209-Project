{"items":[{"tags":["java","android-room"],"comments":[{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1675858802,"post_id":75385670,"comment_id":133017486,"body_markdown":"maybe you could an activity (which is a context) instead of having the static java main","body":"maybe you could an activity (which is a context) instead of having the static java main"},{"owner":{"account_id":23350949,"reputation":1,"user_id":17424519,"display_name":"Hưng"},"score":0,"creation_date":1675859598,"post_id":75385670,"comment_id":133017704,"body_markdown":"@Blackbelt \nBut what if I just want to check the structure of the database but don&#39;t want to use the activity? Or i must to use at least 1 activity ?","body":"@Blackbelt  But what if I just want to check the structure of the database but don&#39;t want to use the activity? Or i must to use at least 1 activity ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675868590,"post_id":75385670,"comment_id":133020856,"body_markdown":"You must.  Your `main` method won&#39;t be called if this is an Android app; see https://developer.android.com/guide/components/activities/intro-activities.  First paragraph.","body":"You must.  Your <code>main</code> method won&#39;t be called if this is an Android app; see <a href=\"https://developer.android.com/guide/components/activities/intro-activities\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>.  First paragraph."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675893377,"creation_date":1675893377,"answer_id":75392138,"question_id":75385670,"body_markdown":"You MUST have a Context somewhere as an App will not run without an Activity and thus a Context. In which case you could have:-\r\n\r\n    class Main {\r\n       static void main(String[] args, Context context) {\r\n          AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\r\n          UserDAO userDAO = db.userDao();\r\n          List&lt;User&gt; users = userDAO.findAllUser();\r\n       }\r\n    }\r\n\r\n\r\n- i.e. the Context is passed to the `main` Method of the `Main` class.\r\n\r\nAn example use, from an Activity (MainActivity in this example) :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        AppDatabase db;\r\n        UserDAO userDAO;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Main.main(new String[]{}, this);\r\n        }\r\n    }\r\n\r\nHowever, you have further issues. \r\n\r\nThe first is the use of the `@Fts4` annotation, without consideration of what FTS is and how to use it, will result in results that you will not expect.\r\n\r\n- For testing the @Fts4 annotation was commented out\r\n\r\nThe next issue is that Room, by default, will not allow access to the database on the main thread. As such the attempt to use the `findAllUser` method would fail\r\n\r\n    java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.\r\n\r\nSo `.allowMainThreadQueries` was added so the `main` method becomes:-\r\n\r\n    class Main {\r\n       static void main(String[] args, Context context) {\r\n          AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;)\r\n                  .allowMainThreadQueries() // ADDED to allow running on the main thread\r\n                  .build(); // I got error in this line\r\n          UserDAO userDAO = db.userDao();\r\n          List&lt;User&gt; users = userDAO.findAllUser();\r\n       }\r\n    }\r\n\r\n- Note that the last line if the `@Fts4` annotation is included will not compile.\r\n\r\nIt will then be seen that a database version number of 0 cannot be used, this was changed to 1.\r\n\r\nNow the App.\r\n\r\n**However**\r\n\r\nIt is suggested that you instead consider using a Singleton. That is a single databasebuild is undertaken when subsequent requests for an AppDatabase return the existing/built AppDatabase.\r\n\r\ne.g. using:-\r\n\r\n    @Database(entities = {User.class}, version = /* CANNOT BE 0*/ 1)\r\n    abstract class AppDatabase extends RoomDatabase {\r\n       public abstract UserDAO userDao();\r\n    \r\n       private static volatile AppDatabase instance;\r\n       static AppDatabase getInstance(Context context) {\r\n          if (instance==null) {\r\n             instance = Room.databaseBuilder(context,AppDatabase.class,&quot;other&quot;)\r\n                     .allowMainThreadQueries()\r\n                     .build();\r\n          }\r\n          return instance;\r\n       }\r\n       static AppDatabase  getInstance() throws Exception {\r\n          if (instance!=null) return instance;\r\n          throw new Exception(&quot;AppDatabase - Attempt to get an instance without a Context when the instance has not been instantiated&quot;);\r\n       }\r\n    }\r\n\r\n- Note that the second, parameterless version of getInstance, is an example of how you could get the AppDatabase instance where you cannot/will not have the Context. As can be seen `instance` **MUST** have been previously instantiated. \r\n- Obviously handling the case when `instance` has not been instantiated could be altered to suit.\r\n- Note that the database name has been changed and thus both the original and the suggested can be used together.\r\n\r\nWith the above and changing `MainActivity` to be:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        AppDatabase db;\r\n        UserDAO userDAO;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            try {\r\n                db = AppDatabase.getInstance();\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            Main.main(new String[]{}, this);\r\n    \r\n            db = AppDatabase.getInstance(this);\r\n            userDAO = db.userDao();\r\n            userDAO.findAllUser();\r\n        }\r\n    }\r\n\r\nThe the it all runs OK (Note that the `@Fts4` annotation is still commmented out).\r\n\r\nUsing App Inspection then the following is displayed:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs can be seen the database accessed via the `main` method, isn&#39;t available as App Inspection believe it to be closed.\r\n\r\nThe `other` database is available and includes the table according to the `User` class, with the three columns as per the Room annotations and there is no issue with the @Dao annotated methods.\r\n\r\n\r\nIf `@Fts4` is un-commented. Then compiling fails with\r\n\r\n    The columns returned by the query does not have the fields [id] in a.a.so75385670.User even though they are annotated as non-null or primitive. Columns returned by the query: [name,age]\r\n\r\n- for both `findAllUser` and `findUserById`\r\n\r\nSo Commenting out both of these and the use corrects the compile. However the database will not then be accessed. So to force access to the database instead of invoking the finAllUser method the use of `db.getOpenHelper().getWritableDatabase();` is used and the App run. Now AppInspection (at least for the `other` database) shows a remarkable difference:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf you intend to use FTS then you need to ascertain how to use it and certainly correct.\r\n\r\nIn regard to your `findAllUser` and `findUserById` you can change them to\r\nbe:-\r\n\r\n    @Query(&quot;SELECT *, rowid FROM users&quot;)\r\n    List&lt;User&gt; findAllUser();\r\n\r\n    @Query(&quot;SELECT *,rowid FROM users WHERE rowid = :rId&quot;)\r\n    User findUserById(int rId);\r\n\r\n- i.e. getting the normally hidden (and thus not extracted by *) rowid column\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GGp80.png\r\n  [2]: https://i.stack.imgur.com/0xFlA.png","title":"Non-static method &#39;getApplicationContext()&#39; cannot be referenced from a static context","body":"<p>You MUST have a Context somewhere as an App will not run without an Activity and thus a Context. In which case you could have:-</p>\n<pre><code>class Main {\n   static void main(String[] args, Context context) {\n      AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\n      UserDAO userDAO = db.userDao();\n      List&lt;User&gt; users = userDAO.findAllUser();\n   }\n}\n</code></pre>\n<ul>\n<li>i.e. the Context is passed to the <code>main</code> Method of the <code>Main</code> class.</li>\n</ul>\n<p>An example use, from an Activity (MainActivity in this example) :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    AppDatabase db;\n    UserDAO userDAO;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Main.main(new String[]{}, this);\n    }\n}\n</code></pre>\n<p>However, you have further issues.</p>\n<p>The first is the use of the <code>@Fts4</code> annotation, without consideration of what FTS is and how to use it, will result in results that you will not expect.</p>\n<ul>\n<li>For testing the @Fts4 annotation was commented out</li>\n</ul>\n<p>The next issue is that Room, by default, will not allow access to the database on the main thread. As such the attempt to use the <code>findAllUser</code> method would fail</p>\n<pre><code>java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.\n</code></pre>\n<p>So <code>.allowMainThreadQueries</code> was added so the <code>main</code> method becomes:-</p>\n<pre><code>class Main {\n   static void main(String[] args, Context context) {\n      AppDatabase db = Room.databaseBuilder(context, AppDatabase.class, &quot;main&quot;)\n              .allowMainThreadQueries() // ADDED to allow running on the main thread\n              .build(); // I got error in this line\n      UserDAO userDAO = db.userDao();\n      List&lt;User&gt; users = userDAO.findAllUser();\n   }\n}\n</code></pre>\n<ul>\n<li>Note that the last line if the <code>@Fts4</code> annotation is included will not compile.</li>\n</ul>\n<p>It will then be seen that a database version number of 0 cannot be used, this was changed to 1.</p>\n<p>Now the App.</p>\n<p><strong>However</strong></p>\n<p>It is suggested that you instead consider using a Singleton. That is a single databasebuild is undertaken when subsequent requests for an AppDatabase return the existing/built AppDatabase.</p>\n<p>e.g. using:-</p>\n<pre><code>@Database(entities = {User.class}, version = /* CANNOT BE 0*/ 1)\nabstract class AppDatabase extends RoomDatabase {\n   public abstract UserDAO userDao();\n\n   private static volatile AppDatabase instance;\n   static AppDatabase getInstance(Context context) {\n      if (instance==null) {\n         instance = Room.databaseBuilder(context,AppDatabase.class,&quot;other&quot;)\n                 .allowMainThreadQueries()\n                 .build();\n      }\n      return instance;\n   }\n   static AppDatabase  getInstance() throws Exception {\n      if (instance!=null) return instance;\n      throw new Exception(&quot;AppDatabase - Attempt to get an instance without a Context when the instance has not been instantiated&quot;);\n   }\n}\n</code></pre>\n<ul>\n<li>Note that the second, parameterless version of getInstance, is an example of how you could get the AppDatabase instance where you cannot/will not have the Context. As can be seen <code>instance</code> <strong>MUST</strong> have been previously instantiated.</li>\n<li>Obviously handling the case when <code>instance</code> has not been instantiated could be altered to suit.</li>\n<li>Note that the database name has been changed and thus both the original and the suggested can be used together.</li>\n</ul>\n<p>With the above and changing <code>MainActivity</code> to be:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    AppDatabase db;\n    UserDAO userDAO;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        try {\n            db = AppDatabase.getInstance();\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        Main.main(new String[]{}, this);\n\n        db = AppDatabase.getInstance(this);\n        userDAO = db.userDao();\n        userDAO.findAllUser();\n    }\n}\n</code></pre>\n<p>The the it all runs OK (Note that the <code>@Fts4</code> annotation is still commmented out).</p>\n<p>Using App Inspection then the following is displayed:-</p>\n<p><a href=\"https://i.stack.imgur.com/GGp80.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GGp80.png\" alt=\"enter image description here\" /></a></p>\n<p>As can be seen the database accessed via the <code>main</code> method, isn't available as App Inspection believe it to be closed.</p>\n<p>The <code>other</code> database is available and includes the table according to the <code>User</code> class, with the three columns as per the Room annotations and there is no issue with the @Dao annotated methods.</p>\n<p>If <code>@Fts4</code> is un-commented. Then compiling fails with</p>\n<pre><code>The columns returned by the query does not have the fields [id] in a.a.so75385670.User even though they are annotated as non-null or primitive. Columns returned by the query: [name,age]\n</code></pre>\n<ul>\n<li>for both <code>findAllUser</code> and <code>findUserById</code></li>\n</ul>\n<p>So Commenting out both of these and the use corrects the compile. However the database will not then be accessed. So to force access to the database instead of invoking the finAllUser method the use of <code>db.getOpenHelper().getWritableDatabase();</code> is used and the App run. Now AppInspection (at least for the <code>other</code> database) shows a remarkable difference:-</p>\n<p><a href=\"https://i.stack.imgur.com/0xFlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0xFlA.png\" alt=\"enter image description here\" /></a></p>\n<p>If you intend to use FTS then you need to ascertain how to use it and certainly correct.</p>\n<p>In regard to your <code>findAllUser</code> and <code>findUserById</code> you can change them to\nbe:-</p>\n<pre><code>@Query(&quot;SELECT *, rowid FROM users&quot;)\nList&lt;User&gt; findAllUser();\n\n@Query(&quot;SELECT *,rowid FROM users WHERE rowid = :rId&quot;)\nUser findUserById(int rId);\n</code></pre>\n<ul>\n<li>i.e. getting the normally hidden (and thus not extracted by *) rowid column</li>\n</ul>\n"}],"owner":{"account_id":23350949,"reputation":1,"user_id":17424519,"display_name":"Hưng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675893377,"creation_date":1675858625,"question_id":75385670,"body_markdown":"I followed instructions in [Android Developer](https://developer.android.com/training/data-storage/room#java) to setup and create Room database, DAO and Data Entity.&lt;br&gt;\r\nEverything is fine until i got an error when trying to create an instance of the database:&lt;br&gt;\r\n``Non-static method &#39;getApplicationContext()&#39; cannot be referenced from a static context``\r\n\r\nHere is my code:\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\n\r\nimport androidx.room.ColumnInfo;\r\nimport androidx.room.Dao;\r\nimport androidx.room.Database;\r\nimport androidx.room.Delete;\r\nimport androidx.room.Entity;\r\nimport androidx.room.Fts4;\r\nimport androidx.room.Insert;\r\nimport androidx.room.OnConflictStrategy;\r\nimport androidx.room.PrimaryKey;\r\nimport androidx.room.Query;\r\nimport androidx.room.Room;\r\nimport androidx.room.RoomDatabase;\r\nimport androidx.room.Update;\r\n\r\nimport java.util.List;\r\n\r\n@Database(entities = {User.class}, version = 0)\r\nabstract class AppDatabase extends RoomDatabase {\r\n    public abstract UserDAO userDao();\r\n}\r\n\r\n@Fts4\r\n@Entity(tableName = &quot;users&quot;)\r\nclass User {\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;rowid&quot;)\r\n    public int id;\r\n\r\n    @ColumnInfo(name = &quot;name&quot;)\r\n    public String name;\r\n\r\n    @ColumnInfo(name = &quot;age&quot;)\r\n    public int age;\r\n}\r\n\r\n@Dao\r\ninterface UserDAO {\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insertUser(User... user);\r\n\r\n    @Query(&quot;SELECT * FROM users&quot;)\r\n    List&lt;User&gt; findAllUser();\r\n\r\n    @Query(&quot;SELECT * FROM users WHERE rowid = :rId&quot;)\r\n    User findUserById(int rId);\r\n\r\n    @Update(onConflict = OnConflictStrategy.IGNORE)\r\n    void updateUser(User user);\r\n\r\n    @Delete\r\n    void deleteUser(User user);\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        AppDatabase db = Room.databaseBuilder(Context.getApplicationContext(), AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\r\n        UserDAO userDAO = db.userDao();\r\n        List&lt;User&gt; users = userDAO.findAllUser();\r\n    }\r\n}\r\n```\r\nDoes anyone have any ideas? Or someone who has had this error since the first time using this Room library can give me a solution? Or simply just create an instance for Context ?","title":"Non-static method &#39;getApplicationContext()&#39; cannot be referenced from a static context","body":"<p>I followed instructions in <a href=\"https://developer.android.com/training/data-storage/room#java\" rel=\"nofollow noreferrer\">Android Developer</a> to setup and create Room database, DAO and Data Entity.<br>\nEverything is fine until i got an error when trying to create an instance of the database:<br>\n<code>Non-static method 'getApplicationContext()' cannot be referenced from a static context</code></p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport android.content.Context;\n\nimport androidx.room.ColumnInfo;\nimport androidx.room.Dao;\nimport androidx.room.Database;\nimport androidx.room.Delete;\nimport androidx.room.Entity;\nimport androidx.room.Fts4;\nimport androidx.room.Insert;\nimport androidx.room.OnConflictStrategy;\nimport androidx.room.PrimaryKey;\nimport androidx.room.Query;\nimport androidx.room.Room;\nimport androidx.room.RoomDatabase;\nimport androidx.room.Update;\n\nimport java.util.List;\n\n@Database(entities = {User.class}, version = 0)\nabstract class AppDatabase extends RoomDatabase {\n    public abstract UserDAO userDao();\n}\n\n@Fts4\n@Entity(tableName = &quot;users&quot;)\nclass User {\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = &quot;rowid&quot;)\n    public int id;\n\n    @ColumnInfo(name = &quot;name&quot;)\n    public String name;\n\n    @ColumnInfo(name = &quot;age&quot;)\n    public int age;\n}\n\n@Dao\ninterface UserDAO {\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    void insertUser(User... user);\n\n    @Query(&quot;SELECT * FROM users&quot;)\n    List&lt;User&gt; findAllUser();\n\n    @Query(&quot;SELECT * FROM users WHERE rowid = :rId&quot;)\n    User findUserById(int rId);\n\n    @Update(onConflict = OnConflictStrategy.IGNORE)\n    void updateUser(User user);\n\n    @Delete\n    void deleteUser(User user);\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        AppDatabase db = Room.databaseBuilder(Context.getApplicationContext(), AppDatabase.class, &quot;main&quot;).build(); // I got error in this line\n        UserDAO userDAO = db.userDao();\n        List&lt;User&gt; users = userDAO.findAllUser();\n    }\n}\n</code></pre>\n<p>Does anyone have any ideas? Or someone who has had this error since the first time using this Room library can give me a solution? Or simply just create an instance for Context ?</p>\n"},{"tags":["java","scala","constructor","multiple-constructors"],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279719394,"creation_date":1279719394,"answer_id":3299792,"question_id":3299776,"body_markdown":"I would pick the most generic one (in this case, String) and do the internal conversion yourself if it meets the other criteria.\r\n\r\nAlthough I admit this is not the best solution and something strikes me as wrong about it. :-(","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>I would pick the most generic one (in this case, String) and do the internal conversion yourself if it meets the other criteria.</p>\n\n<p>Although I admit this is not the best solution and something strikes me as wrong about it. :-(</p>\n"},{"tags":[],"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1675893092,"creation_date":1279719602,"answer_id":3299832,"question_id":3299776,"body_markdown":"It&#39;s easy to forget that a trait may extend a class. If you use a trait, you can postpone the decision of which constructor to call, like this:\r\n\r\n    trait Extended extends Base {\r\n      ...\r\n    }\r\n\r\n    object Extended {\r\n      def apply(arg1: Int) = new Base(arg1) with Extended\r\n      def apply(arg2: String) = new Base(arg2) with Extended\r\n      def apply(arg3: Double) = new Base(arg3) with Extended\r\n    }\r\n\r\nScala 2 traits may not themselves have constructor parameters, but you can work around that by using abstract members instead.\r\n\r\n(Scala 3 lets traits have constructor parameters.)","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>It's easy to forget that a trait may extend a class. If you use a trait, you can postpone the decision of which constructor to call, like this:</p>\n<pre><code>trait Extended extends Base {\n  ...\n}\n\nobject Extended {\n  def apply(arg1: Int) = new Base(arg1) with Extended\n  def apply(arg2: String) = new Base(arg2) with Extended\n  def apply(arg3: Double) = new Base(arg3) with Extended\n}\n</code></pre>\n<p>Scala 2 traits may not themselves have constructor parameters, but you can work around that by using abstract members instead.</p>\n<p>(Scala 3 lets traits have constructor parameters.)</p>\n"},{"tags":[],"owner":{"account_id":46902,"reputation":20861,"user_id":138772,"accept_rate":100,"display_name":"JAB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279720755,"creation_date":1279720755,"answer_id":3300034,"question_id":3299776,"body_markdown":"This is a silly answer that would probably work somewhat but might be too much effort if the Java class has way too many constructors, but:\r\n\r\nWrite a subclass in Java that implements a constructor that takes all the inputs the various other constructors would and calls the proper constructor of its superclass based on the presence or absence of inputs (via usage of &quot;null&quot; or some sort of sentinel values), then subclass that Java class in Scala and assign the sentinel values as default parameters.","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>This is a silly answer that would probably work somewhat but might be too much effort if the Java class has way too many constructors, but:</p>\n\n<p>Write a subclass in Java that implements a constructor that takes all the inputs the various other constructors would and calls the proper constructor of its superclass based on the presence or absence of inputs (via usage of \"null\" or some sort of sentinel values), then subclass that Java class in Scala and assign the sentinel values as default parameters.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1279721765,"creation_date":1279720827,"answer_id":3300046,"question_id":3299776,"body_markdown":"**EDIT** - *this is from a question on the scala mailing list which I thought was duplicated here. My answer relates to providing three different constructors (i.e. replicating the Java design), and not extending the class*\r\n\r\nAssuming that each of your constructors ultimately create the *state* `S` of the object, create a companion object with &quot;static&quot; methods to create this state\r\n\r\n    object Base {\r\n      private def stateFrom(d : Double) : S = error(&quot;TODO&quot;)\r\n      private def stateFrom(s : Str) : S = error(&quot;TODO&quot;)\r\n      private def stateFrom(i : Int) : S = error(&quot;TODO&quot;)\r\n    } \r\n\r\nThen create a private constructor taking the state and (public) overloaded constructors which defer to the primary constructor\r\n\r\n    import Base._\r\n    class Base private(s : S) { //private constructor takes the state\r\n      def this(d : Double) = this(stateFrom(d)) \r\n      def this(str : String) = this(stateFrom(str))\r\n      def this(i : Int) = this(stateFrom(i))\r\n      //etc\r\n    }","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p><strong>EDIT</strong> - <em>this is from a question on the scala mailing list which I thought was duplicated here. My answer relates to providing three different constructors (i.e. replicating the Java design), and not extending the class</em></p>\n\n<p>Assuming that each of your constructors ultimately create the <em>state</em> <code>S</code> of the object, create a companion object with \"static\" methods to create this state</p>\n\n<pre><code>object Base {\n  private def stateFrom(d : Double) : S = error(\"TODO\")\n  private def stateFrom(s : Str) : S = error(\"TODO\")\n  private def stateFrom(i : Int) : S = error(\"TODO\")\n} \n</code></pre>\n\n<p>Then create a private constructor taking the state and (public) overloaded constructors which defer to the primary constructor</p>\n\n<pre><code>import Base._\nclass Base private(s : S) { //private constructor takes the state\n  def this(d : Double) = this(stateFrom(d)) \n  def this(str : String) = this(stateFrom(str))\n  def this(i : Int) = this(stateFrom(i))\n  //etc\n}\n</code></pre>\n"}],"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11047,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":3299832,"answer_count":4,"score":60,"last_activity_date":1675893092,"creation_date":1279719312,"question_id":3299776,"body_markdown":"Suppose I have a Java class with multiple constructors:\r\n\r\n    class Base {\r\n        Base(int arg1) {...};\r\n        Base(String arg2) {...};\r\n        Base(double arg3) {...};\r\n    }\r\n\r\nHow can I extend it in Scala and still provide access to all three of Base&#39;s constructors? In Scala, a subclass can only call one of it&#39;s superclass&#39;s constructors. How can I work around this rule?\r\n\r\nAssume the Java class is legacy code that I can&#39;t change.","title":"In Scala, how can I subclass a Java class with multiple constructors?","body":"<p>Suppose I have a Java class with multiple constructors:</p>\n\n<pre><code>class Base {\n    Base(int arg1) {...};\n    Base(String arg2) {...};\n    Base(double arg3) {...};\n}\n</code></pre>\n\n<p>How can I extend it in Scala and still provide access to all three of Base's constructors? In Scala, a subclass can only call one of it's superclass's constructors. How can I work around this rule?</p>\n\n<p>Assume the Java class is legacy code that I can't change.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675893043,"creation_date":1675893043,"question_id":75392094,"body_markdown":"I have two classes, Workstation and WorkstationReservation. They are in a one to many relationship, a workstation can have several reservations and a workstation reservation is associated to only one workstation. \r\nWith the configuration I have provided I am able to insert a workstation without specifying a workstation reservation (this is the behaviour I want, a workstation initially does not have any workstation reservations on it) but whenever I try to insert a workstation reservation it asks me to provide a workstation, I just want to provide the workstation_name, like this:\r\n```\r\n{\r\n    &quot;workstation_name&quot;:&quot;AORUS&quot;,\r\n    &quot;t_start&quot;: &quot;2023-02-08T22:14:00&quot;,\r\n    &quot;t_end&quot;: &quot;2023-02-08T23:30:00&quot;,\r\n    &quot;t_res&quot;: &quot;2023-02-08T22:14:00&quot;,\r\n    &quot;owner_email&quot;: &quot;email@gmail.com&quot;,\r\n    &quot;cpu_reserved&quot;: 20,\r\n    &quot;cpu_id&quot;: 2,\r\n    &quot;ram_reserved&quot;:200,\r\n    &quot;ram_id&quot;:2,\r\n    &quot;disk_id&quot;:3,\r\n    &quot;disk_reserved&quot;:300,\r\n    &quot;net_reserved&quot;:100,\r\n    &quot;net_id&quot;:1\r\n}\r\n```\r\n\r\nHere are the two java classes:\r\n\r\nWorkstation.java\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Getter\r\n\r\n@Entity\r\npublic class Workstation {\r\n\r\n    @Id\r\n    private String name;\r\n    private String ipv4;\r\n    private String operating_system;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;WorkstationReservation&gt; workstation_reservations;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;Disk&gt; disks;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;Network&gt; networks;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Ram ram;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Cpu cpu;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;workstation_name&quot;)\r\n    private List&lt;Program&gt; programs;\r\n    private int max_reservable_hours;\r\n    private int min_reservable_hours;\r\n    private String location;\r\n    private String description;\r\n    private String group_name;\r\n\r\n}\r\n```\r\n\r\nWorkstationReservation.java\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Getter\r\n\r\n@Entity\r\npublic class WorkstationReservation {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;workstation_reservation_id_gen&quot;,\r\n            sequenceName = &quot;workstation_reservation_id_seq&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;workstation_reservation_id_gen&quot;\r\n    )\r\n    private long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;workstation_name&quot;, insertable = false, updatable = false)\r\n    private Workstation workstation;\r\n\r\n    private Timestamp t_start;\r\n    private Timestamp t_end;\r\n    private Timestamp t_res;\r\n    private String owner_email;\r\n    private int cpu_reserved;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Cpu cpu;\r\n    private int ram_reserved;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Ram ram;\r\n\r\n    private int disk_reserved;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;disk_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Disk disk;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;network_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Network network;\r\n    private int net_reserved;\r\n}\r\n```","title":"One to many mapping Spring Jpa","body":"<p>I have two classes, Workstation and WorkstationReservation. They are in a one to many relationship, a workstation can have several reservations and a workstation reservation is associated to only one workstation.\nWith the configuration I have provided I am able to insert a workstation without specifying a workstation reservation (this is the behaviour I want, a workstation initially does not have any workstation reservations on it) but whenever I try to insert a workstation reservation it asks me to provide a workstation, I just want to provide the workstation_name, like this:</p>\n<pre><code>{\n    &quot;workstation_name&quot;:&quot;AORUS&quot;,\n    &quot;t_start&quot;: &quot;2023-02-08T22:14:00&quot;,\n    &quot;t_end&quot;: &quot;2023-02-08T23:30:00&quot;,\n    &quot;t_res&quot;: &quot;2023-02-08T22:14:00&quot;,\n    &quot;owner_email&quot;: &quot;email@gmail.com&quot;,\n    &quot;cpu_reserved&quot;: 20,\n    &quot;cpu_id&quot;: 2,\n    &quot;ram_reserved&quot;:200,\n    &quot;ram_id&quot;:2,\n    &quot;disk_id&quot;:3,\n    &quot;disk_reserved&quot;:300,\n    &quot;net_reserved&quot;:100,\n    &quot;net_id&quot;:1\n}\n</code></pre>\n<p>Here are the two java classes:</p>\n<p>Workstation.java</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Getter\n\n@Entity\npublic class Workstation {\n\n    @Id\n    private String name;\n    private String ipv4;\n    private String operating_system;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;WorkstationReservation&gt; workstation_reservations;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;Disk&gt; disks;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;Network&gt; networks;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Ram ram;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Cpu cpu;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;workstation_name&quot;)\n    private List&lt;Program&gt; programs;\n    private int max_reservable_hours;\n    private int min_reservable_hours;\n    private String location;\n    private String description;\n    private String group_name;\n\n}\n</code></pre>\n<p>WorkstationReservation.java</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Getter\n\n@Entity\npublic class WorkstationReservation {\n\n    @Id\n    @SequenceGenerator(name = &quot;workstation_reservation_id_gen&quot;,\n            sequenceName = &quot;workstation_reservation_id_seq&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;workstation_reservation_id_gen&quot;\n    )\n    private long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;workstation_name&quot;, insertable = false, updatable = false)\n    private Workstation workstation;\n\n    private Timestamp t_start;\n    private Timestamp t_end;\n    private Timestamp t_res;\n    private String owner_email;\n    private int cpu_reserved;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;cpu_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Cpu cpu;\n    private int ram_reserved;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;ram_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Ram ram;\n\n    private int disk_reserved;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;disk_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Disk disk;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;network_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Network network;\n    private int net_reserved;\n}\n</code></pre>\n"},{"tags":["java","selenium","junit","jmeter"],"comments":[{"owner":{"account_id":4922689,"reputation":624,"user_id":3964849,"display_name":"Harish Barma"},"score":0,"creation_date":1675780374,"post_id":75374677,"comment_id":132999435,"body_markdown":"if you use the easy way in the link provided, your test jar will be automatically generated when you execute maven build (mvn install). you don&#39;t have to explicitly generate jar","body":"if you use the easy way in the link provided, your test jar will be automatically generated when you execute maven build (mvn install). you don&#39;t have to explicitly generate jar"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675785518,"creation_date":1675785518,"answer_id":75375944,"question_id":75374677,"body_markdown":" 1. You don&#39;t need to choose a main class because you&#39;re not creating an [executable jar][1], you&#39;re creating a .jar with tests\r\n 2. You need to tick &quot;include tests&quot; box\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n\r\nI believe it would be easier to go for Maven Jar Plugin (from your own link) in combination with [Maven Assembly Plugin to add all transitive dependencies][3]. \r\n\r\n\r\n----------\r\nAnd the **easiest** would be just switching to [WebDriver Sampler][4] which can be installed using [JMeter Plugins Manager][5] and put your code there, it will be much easier to debug and amend it, moreover you won&#39;t have to take care about running it with &gt; 1 threads  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5258159/how-to-make-an-executable-jar-file\r\n  [2]: https://i.stack.imgur.com/VimrC.png\r\n  [3]: https://stackoverflow.com/questions/7000812/how-can-i-make-the-test-jar-include-dependencies-in-maven\r\n  [4]: https://jmeter-plugins.org/wiki/WebDriverSampler/\r\n  [5]: https://www.blazemeter.com/blog/jmeter-plugins-manager","title":"Creating .jar from JUnit Class in IntelliJ","body":"<ol>\n<li><p>You don't need to choose a main class because you're not creating an <a href=\"https://stackoverflow.com/questions/5258159/how-to-make-an-executable-jar-file\">executable jar</a>, you're creating a .jar with tests</p>\n</li>\n<li><p>You need to tick &quot;include tests&quot; box</p>\n<p><a href=\"https://i.stack.imgur.com/VimrC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VimrC.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>I believe it would be easier to go for Maven Jar Plugin (from your own link) in combination with <a href=\"https://stackoverflow.com/questions/7000812/how-can-i-make-the-test-jar-include-dependencies-in-maven\">Maven Assembly Plugin to add all transitive dependencies</a>.</p>\n<hr />\n<p>And the <strong>easiest</strong> would be just switching to <a href=\"https://jmeter-plugins.org/wiki/WebDriverSampler/\" rel=\"nofollow noreferrer\">WebDriver Sampler</a> which can be installed using <a href=\"https://www.blazemeter.com/blog/jmeter-plugins-manager\" rel=\"nofollow noreferrer\">JMeter Plugins Manager</a> and put your code there, it will be much easier to debug and amend it, moreover you won't have to take care about running it with &gt; 1 threads</p>\n"}],"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675892172,"creation_date":1675779817,"question_id":75374677,"body_markdown":"I need to run my Selenium scripts in Jmeter. I would like to use Junit request. To reach this I need to make a .jar file from my test file. But I dont know how.\r\nThis is my class with the test:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I try to make a .jar using: File -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; Jar from modules with dependencies -&gt; here I am trying to choose class:\r\n[![enter image description here][2]][2]\r\nbut it is not possible because my Login class is &quot;Unit test class&quot;.\r\n\r\nIs it possible to make .jar file from Unit test class somehow? And will the depedendecies in my pom.xml be preserved?\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI tried to make it under Main class, but there is a problem with a JUnit annotations.\r\n[![enter image description here][4]][4]\r\n\r\nI wasnt able to achieve this with these tips unfortunatelly :( https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mSgij.png\r\n  [2]: https://i.stack.imgur.com/Z09eJ.png\r\n  [3]: https://i.stack.imgur.com/IIWUA.png\r\n  [4]: https://i.stack.imgur.com/dGNzU.png","title":"Creating .jar from JUnit Class in IntelliJ","body":"<p>I need to run my Selenium scripts in Jmeter. I would like to use Junit request. To reach this I need to make a .jar file from my test file. But I dont know how.\nThis is my class with the test:\n<a href=\"https://i.stack.imgur.com/mSgij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSgij.png\" alt=\"enter image description here\" /></a></p>\n<p>When I try to make a .jar using: File -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; Jar from modules with dependencies -&gt; here I am trying to choose class:\n<a href=\"https://i.stack.imgur.com/Z09eJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z09eJ.png\" alt=\"enter image description here\" /></a>\nbut it is not possible because my Login class is &quot;Unit test class&quot;.</p>\n<p>Is it possible to make .jar file from Unit test class somehow? And will the depedendecies in my pom.xml be preserved?</p>\n<p><a href=\"https://i.stack.imgur.com/IIWUA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IIWUA.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to make it under Main class, but there is a problem with a JUnit annotations.\n<a href=\"https://i.stack.imgur.com/dGNzU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGNzU.png\" alt=\"enter image description here\" /></a></p>\n<p>I wasnt able to achieve this with these tips unfortunatelly :( <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html</a></p>\n"},{"tags":["java","gradle","groovy","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1675883580,"post_id":75389963,"comment_id":133025991,"body_markdown":"This &quot;understanding gradle&quot; playlist imho is the best, most up to date resource from a guy who worked on gradle https://youtube.com/@jjohannes it covers everything you are asking in easy steps","body":"This &quot;understanding gradle&quot; playlist imho is the best, most up to date resource from a guy who worked on gradle <a href=\"https://youtube.com/@jjohannes\" rel=\"nofollow noreferrer\">youtube.com/@jjohannes</a> it covers everything you are asking in easy steps"}],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675891955,"creation_date":1675891543,"answer_id":75391918,"question_id":75389963,"body_markdown":"You can do this in a couple of ways.  And this comes down to if your project is composed of multiple sub-projects or if they are stand alone projects.  For stand alone projects you can do the following in your settings.gradle file:\r\n\r\n    includeBuild(&quot;../common-project/build.gradle&quot;)\r\n\r\nThe common project would just house the common `build.gradle` file, and you&#39;d declare all of the items you want to share in there.  It would look like a normal build.gradle file.\r\n\r\nThat would require that each project share the common configuration from another project, but wouldn&#39;t require any additional projects be checked out.  Just the common project and the project itself.  For more details see:\r\n\r\nhttps://docs.gradle.org/current/userguide/composite_builds.html\r\n\r\nIf you have more of a multi-project build like say many micro-services or subprojects that make up a larger project then using multi-project setup and declare the common pieces in the `allprojects` closure in the root build.gradle:\r\n\r\n    allprojects {\r\n        plugin: java\r\n        plugin: web\r\n    \r\n        repositories {\r\n          ....\r\n        }\r\n\r\n        dependencies {\r\n           ....\r\n        }\r\n    }\r\n\r\nIn the multi-project case you&#39;d have to check out the top level project and all subprojects.  Your folder layout might look like this:\r\n\r\n    - my-project\r\n      - service-1\r\n          src\r\n          build.gradle\r\n      - service-2\r\n          src\r\n          build.gradle\r\n      - service-3\r\n          src\r\n          build.gradle\r\n        build.gradle\r\n        settings.gradle\r\n\r\nIn the multi-project setup service1, service2, and service3 would be declared in the `settings.gradle` file using `include` like so:\r\n\r\n    rootProject.name = &#39;my-project&#39;\r\n    include `service1`\r\n    include `service2`\r\n    include `service3`\r\n\r\nIn a multi-project setup you&#39;d typically house that in a single source repository as oppose to using `includeBuild` where each project would belong to a separate source code repo.  The former way  forces you to checkout the appropriate number of projects in the multi-project case.  But, in the `includeBuild` case the developer would have to know to check out minimum of 2 projects.","title":"How to write Gradle plugin to cut down build.gradle file","body":"<p>You can do this in a couple of ways.  And this comes down to if your project is composed of multiple sub-projects or if they are stand alone projects.  For stand alone projects you can do the following in your settings.gradle file:</p>\n<pre><code>includeBuild(&quot;../common-project/build.gradle&quot;)\n</code></pre>\n<p>The common project would just house the common <code>build.gradle</code> file, and you'd declare all of the items you want to share in there.  It would look like a normal build.gradle file.</p>\n<p>That would require that each project share the common configuration from another project, but wouldn't require any additional projects be checked out.  Just the common project and the project itself.  For more details see:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/composite_builds.html</a></p>\n<p>If you have more of a multi-project build like say many micro-services or subprojects that make up a larger project then using multi-project setup and declare the common pieces in the <code>allprojects</code> closure in the root build.gradle:</p>\n<pre><code>allprojects {\n    plugin: java\n    plugin: web\n\n    repositories {\n      ....\n    }\n\n    dependencies {\n       ....\n    }\n}\n</code></pre>\n<p>In the multi-project case you'd have to check out the top level project and all subprojects.  Your folder layout might look like this:</p>\n<pre><code>- my-project\n  - service-1\n      src\n      build.gradle\n  - service-2\n      src\n      build.gradle\n  - service-3\n      src\n      build.gradle\n    build.gradle\n    settings.gradle\n</code></pre>\n<p>In the multi-project setup service1, service2, and service3 would be declared in the <code>settings.gradle</code> file using <code>include</code> like so:</p>\n<pre><code>rootProject.name = 'my-project'\ninclude `service1`\ninclude `service2`\ninclude `service3`\n</code></pre>\n<p>In a multi-project setup you'd typically house that in a single source repository as oppose to using <code>includeBuild</code> where each project would belong to a separate source code repo.  The former way  forces you to checkout the appropriate number of projects in the multi-project case.  But, in the <code>includeBuild</code> case the developer would have to know to check out minimum of 2 projects.</p>\n"}],"owner":{"account_id":20224439,"reputation":5,"user_id":14832809,"display_name":"NoelUzunbeycan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75391918,"answer_count":1,"score":0,"last_activity_date":1675891955,"creation_date":1675879472,"question_id":75389963,"body_markdown":"A bit of Context first:\r\nI am working on migrating my companies projects to be built by Gradle.\r\nOne thing, that this results in, is having redundancy in my build.gradle files,\r\nas I am configuring the same Skeleton over and over again.\r\nThis includes:\r\n\r\n- Setting the java-,maven-publish- and org.sonarcube-plugin\r\n- Configuring the repositories to be mavenCentral and our private Artifactory Repo\r\n- Configuring the publishing block, that is all the same, except for the artifactId\r\n- Building a Manifest inside the Jar block (using helper Methods, to correctly build the Manifests   classpath)\r\n- Helper Methods\r\n- two Tasks\r\n- two dependsOn statements\r\n\r\nbuild.gradle file as of now:\r\n\r\n```\r\nplugins {\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n\tid &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\r\n\tid &#39;maven-publish&#39;\r\n\tid &#39;java&#39; \r\n}\r\n\r\ngroup = &#39;group&#39;\r\nversion = &#39;version&#39;\r\nsourceCompatibility = &#39;11&#39;\r\next.artifactName = &#39;ProjectName&#39;\r\n\r\n// Where to look for dependencies:\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven{\r\n\t\tcredentials{\r\n\t\t\tusername = &quot;${artifactory_user}&quot;\r\n\t\t\tpassword = &quot;${artifactory_password}&quot;\r\n\t\t}\r\n\t\turl &quot;${artifactory_contextUrl}&quot;\r\n\t\tallowInsecureProtocol = true\r\n\t}\r\n}\r\n// Where to publish what Artifacts to:\r\npublishing {\r\n\tpublications {\r\n        maven(MavenPublication) {\r\n            groupId = &#39;group&#39;\r\n            artifactId = &#39;ProjectName&#39;\r\n\t\t\tString buildEnvVar = System.env.BUILDENVIRONMENT\r\n\t\t\tif(buildEnvVar == null){\r\n\t\t\t\tversion = &#39;LOCAL BUILD&#39;\r\n\t\t\t}else{\r\n\t\t\t\tversion = &#39;version&#39;\r\n\t\t\t}\r\n            from components.java\r\n        }\r\n    }\r\n    repositories {\r\n        maven {\r\n            // change to point to your repo, e.g. http://my.org/repo\r\n            name = &quot;gradle-dev&quot;\r\n            url = &quot;${artifactory_contextUrl}&quot;\r\n            allowInsecureProtocol = true\r\n            credentials{\r\n            \tusername = &quot;${artifactory_user}&quot;\r\n            \tpassword = &quot;${artifactory_password}&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {...}\r\n\r\njar { \r\n\t// configuration of variables\r\n\tString dateString = new Date().format(&quot;yyyy-MM-dd HH:mm:ss &quot;)\r\n\tString localBuild = &quot;LOCAL BUILD by &quot; + System.getProperty(&quot;user.name&quot;) + &quot; on &quot; + dateString\r\n\tString buildEnvVar = System.env.BUILDENVIRONMENT\r\n\tString buildEnvironment\r\n\tString classpath = createCP()\r\n\tif(buildEnvVar == null){\r\n\t\tbuildEnvironment = localBuild \r\n\t\tarchiveName = &quot;ProjectName&quot;\r\n\t}else{\r\n\t\tbuildEnvironment = buildEnvVar\r\n\t\tarchiveFileName= &quot;ProjectName_&quot; + version + &quot;.jar&quot;\r\n\t\t\r\n\t\tdelete fileTree(&quot;build/libs&quot;) {\r\n\t\t\tinclude(&#39;*&#39;)\r\n\t\t}\r\n\t}\r\n\tmanifest {\r\n\t\tattributes (\r\n\t\t\t&quot;Main-Class&quot;: &quot;org.example.foo&quot;,\r\n\t\t\t&quot;Specification-Title&quot; : &quot;ProjectName&quot;,\r\n\t\t\t&quot;Specification-Vendor&quot; : &quot;blab&quot;,\r\n\t\t\t&quot;Specification-Version&quot; : &quot;Spec-version&quot;, \r\n\t\t\t&quot;Implementation-Title&quot; : &quot;$System.env.JOB_NAME&quot;,\r\n\t\t\t&quot;Implementation-Version&quot; : &quot;Impl-version&quot;,\r\n\t\t\t&quot;Implementation-Vendor&quot; : &quot;blub&quot;,\r\n\t\t\t&quot;Implementation-Vendor-Id&quot; : &quot;blob&quot;,\r\n\t\t\t&quot;Implementation-Url&quot; : &quot;bleb&quot;,\r\n\t\t\t&quot;Build-By&quot; : buildEnvironment,\r\n\t\t\t&#39;Class-Path&#39;: classpath\r\n\t\t)\r\n\t}\r\n}\r\n\r\nString createCP () {\r\n\t// super secret can&#39;t share\r\n}\r\n\r\n// will suffix the jars with release or debug, depending on it being compiled with or without debug-information\r\nproject.gradle.taskGraph.whenReady{\r\n\tboolean isDebug = project.gradle.taskGraph.getAllTasks().join(&#39; &#39;).contains(&#39;debugJar&#39;)\r\n\tcompileJava.options.debug = isDebug\r\n\tString suffix = isDebug? &quot;debug&quot; : &quot;release&quot;\r\n\tString fullJarName = &quot;$artifactName-$suffix&quot; + &quot;.jar&quot;\r\n\t\r\n\tjar.setProperty(&#39;archiveName&#39;, fullJarName)\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\ntask debugJar() {}\r\ndebugJar.dependsOn(jar)\r\n\r\n//Downloads all Jars the project depends on, and saves them in buildDirectory/output/libs if the gradle build command is executed.\r\n\r\n task copyToLib(type: Copy) {\r\n    into &quot;${buildDir}/output/libs&quot;\r\n    from configurations.runtimeClasspath\r\n}\r\n\r\nbuild.dependsOn(copyToLib)\r\n```\r\n\r\nwhat I want to achive:\r\n\r\n```\r\nplugins {\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n    id &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\r\n    id &#39;maven-publish&#39;\r\n    id &#39;java&#39;\r\n    id &#39;mySuperPlugin&#39;\r\n}\r\n\r\n// Configure mySuperPlugin\r\nmySuperPlugin {\r\n    artifactId = &#39;xyz&#39;\r\n    mainClass = &#39;org.example.foo&#39;\r\n    version = &#39;version&#39;\r\n    stuffFromOtherTasks = ...\r\n}\r\n\r\n// Where to look for dependencies:\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven{\r\n\t\tcredentials{\r\n\t\t\tusername = &quot;${artifactory_user}&quot;\r\n\t\t\tpassword = &quot;${artifactory_password}&quot;\r\n\t\t}\r\n\t\turl &quot;${artifactory_contextUrl}&quot;\r\n\t\tallowInsecureProtocol = true\r\n\t}\r\n}\r\n\r\ndependencies {...}\r\n```\r\n\r\nMost of the values are the same.\r\nThe ones that aren&#39;t are passed in via Environment-Variables (Jenkins-JobName,...),\r\nor get determined through helper Methods.\r\nI reckon, that i will most likely not end up with a buildfile like the one above,\r\nbut atleast some of the buildfile must be outsourceable.\r\n\r\nI know as of now, that i can create seperate Tasks in a plugin, like comparing two files, that have been passed. What I didn&#39;t find a solution to yet:\r\n\r\n- Can I modify the Jar Task of the project applying the plugin, inside the plugin?\r\n- How do I pass Outputs from other Tasks into my plugins tasks?\r\n- How do I access the applying projects data (i.e. the runtimeClasspath)\r\n- Is a plugin even what i want to do, or is there another way of cutting down the build.gradle file?\r\n\r\nI am relatively unexperienced with gradle. I have read through quite a bit of the docs and other postings, but chances are i just overlooked some best-practice way of doing certain things.\r\nTherefore, feel free to criticize my buildfile aswell as my approach!","title":"How to write Gradle plugin to cut down build.gradle file","body":"<p>A bit of Context first:\nI am working on migrating my companies projects to be built by Gradle.\nOne thing, that this results in, is having redundancy in my build.gradle files,\nas I am configuring the same Skeleton over and over again.\nThis includes:</p>\n<ul>\n<li>Setting the java-,maven-publish- and org.sonarcube-plugin</li>\n<li>Configuring the repositories to be mavenCentral and our private Artifactory Repo</li>\n<li>Configuring the publishing block, that is all the same, except for the artifactId</li>\n<li>Building a Manifest inside the Jar block (using helper Methods, to correctly build the Manifests   classpath)</li>\n<li>Helper Methods</li>\n<li>two Tasks</li>\n<li>two dependsOn statements</li>\n</ul>\n<p>build.gradle file as of now:</p>\n<pre><code>plugins {\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\n    id 'maven-publish'\n    id 'java' \n}\n\ngroup = 'group'\nversion = 'version'\nsourceCompatibility = '11'\next.artifactName = 'ProjectName'\n\n// Where to look for dependencies:\nrepositories {\n    mavenCentral()\n    maven{\n        credentials{\n            username = &quot;${artifactory_user}&quot;\n            password = &quot;${artifactory_password}&quot;\n        }\n        url &quot;${artifactory_contextUrl}&quot;\n        allowInsecureProtocol = true\n    }\n}\n// Where to publish what Artifacts to:\npublishing {\n    publications {\n        maven(MavenPublication) {\n            groupId = 'group'\n            artifactId = 'ProjectName'\n            String buildEnvVar = System.env.BUILDENVIRONMENT\n            if(buildEnvVar == null){\n                version = 'LOCAL BUILD'\n            }else{\n                version = 'version'\n            }\n            from components.java\n        }\n    }\n    repositories {\n        maven {\n            // change to point to your repo, e.g. http://my.org/repo\n            name = &quot;gradle-dev&quot;\n            url = &quot;${artifactory_contextUrl}&quot;\n            allowInsecureProtocol = true\n            credentials{\n                username = &quot;${artifactory_user}&quot;\n                password = &quot;${artifactory_password}&quot;\n            }\n        }\n    }\n}\n\ndependencies {...}\n\njar { \n    // configuration of variables\n    String dateString = new Date().format(&quot;yyyy-MM-dd HH:mm:ss &quot;)\n    String localBuild = &quot;LOCAL BUILD by &quot; + System.getProperty(&quot;user.name&quot;) + &quot; on &quot; + dateString\n    String buildEnvVar = System.env.BUILDENVIRONMENT\n    String buildEnvironment\n    String classpath = createCP()\n    if(buildEnvVar == null){\n        buildEnvironment = localBuild \n        archiveName = &quot;ProjectName&quot;\n    }else{\n        buildEnvironment = buildEnvVar\n        archiveFileName= &quot;ProjectName_&quot; + version + &quot;.jar&quot;\n        \n        delete fileTree(&quot;build/libs&quot;) {\n            include('*')\n        }\n    }\n    manifest {\n        attributes (\n            &quot;Main-Class&quot;: &quot;org.example.foo&quot;,\n            &quot;Specification-Title&quot; : &quot;ProjectName&quot;,\n            &quot;Specification-Vendor&quot; : &quot;blab&quot;,\n            &quot;Specification-Version&quot; : &quot;Spec-version&quot;, \n            &quot;Implementation-Title&quot; : &quot;$System.env.JOB_NAME&quot;,\n            &quot;Implementation-Version&quot; : &quot;Impl-version&quot;,\n            &quot;Implementation-Vendor&quot; : &quot;blub&quot;,\n            &quot;Implementation-Vendor-Id&quot; : &quot;blob&quot;,\n            &quot;Implementation-Url&quot; : &quot;bleb&quot;,\n            &quot;Build-By&quot; : buildEnvironment,\n            'Class-Path': classpath\n        )\n    }\n}\n\nString createCP () {\n    // super secret can't share\n}\n\n// will suffix the jars with release or debug, depending on it being compiled with or without debug-information\nproject.gradle.taskGraph.whenReady{\n    boolean isDebug = project.gradle.taskGraph.getAllTasks().join(' ').contains('debugJar')\n    compileJava.options.debug = isDebug\n    String suffix = isDebug? &quot;debug&quot; : &quot;release&quot;\n    String fullJarName = &quot;$artifactName-$suffix&quot; + &quot;.jar&quot;\n    \n    jar.setProperty('archiveName', fullJarName)\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ntask debugJar() {}\ndebugJar.dependsOn(jar)\n\n//Downloads all Jars the project depends on, and saves them in buildDirectory/output/libs if the gradle build command is executed.\n\n task copyToLib(type: Copy) {\n    into &quot;${buildDir}/output/libs&quot;\n    from configurations.runtimeClasspath\n}\n\nbuild.dependsOn(copyToLib)\n</code></pre>\n<p>what I want to achive:</p>\n<pre><code>plugins {\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id &quot;org.sonarqube&quot; version &quot;3.2.0&quot;\n    id 'maven-publish'\n    id 'java'\n    id 'mySuperPlugin'\n}\n\n// Configure mySuperPlugin\nmySuperPlugin {\n    artifactId = 'xyz'\n    mainClass = 'org.example.foo'\n    version = 'version'\n    stuffFromOtherTasks = ...\n}\n\n// Where to look for dependencies:\nrepositories {\n    mavenCentral()\n    maven{\n        credentials{\n            username = &quot;${artifactory_user}&quot;\n            password = &quot;${artifactory_password}&quot;\n        }\n        url &quot;${artifactory_contextUrl}&quot;\n        allowInsecureProtocol = true\n    }\n}\n\ndependencies {...}\n</code></pre>\n<p>Most of the values are the same.\nThe ones that aren't are passed in via Environment-Variables (Jenkins-JobName,...),\nor get determined through helper Methods.\nI reckon, that i will most likely not end up with a buildfile like the one above,\nbut atleast some of the buildfile must be outsourceable.</p>\n<p>I know as of now, that i can create seperate Tasks in a plugin, like comparing two files, that have been passed. What I didn't find a solution to yet:</p>\n<ul>\n<li>Can I modify the Jar Task of the project applying the plugin, inside the plugin?</li>\n<li>How do I pass Outputs from other Tasks into my plugins tasks?</li>\n<li>How do I access the applying projects data (i.e. the runtimeClasspath)</li>\n<li>Is a plugin even what i want to do, or is there another way of cutting down the build.gradle file?</li>\n</ul>\n<p>I am relatively unexperienced with gradle. I have read through quite a bit of the docs and other postings, but chances are i just overlooked some best-practice way of doing certain things.\nTherefore, feel free to criticize my buildfile aswell as my approach!</p>\n"},{"tags":["java","pine-script"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676033249,"post_id":75391961,"comment_id":133060693,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":18341070,"reputation":1,"user_id":13357316,"display_name":"BItGuy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675891904,"creation_date":1675891904,"question_id":75391961,"body_markdown":"I&#39;ve written a simple strategy in PineScript. It goes long when the higherLevelEMA is greater than the lowerLevelEMA and goes short when the higherLevelEMA is lesser than the lowerLevelEMA. This appears to be a working strategy on timeframes like the 15 minute chart. However, while the lowerLevelEMA is pretty straight forward. I am lost as to how the higherLevelEMA is actually being calculated to result in such positive results. I would like to figure out the specifics so I can recreate it in Java. Here is the short PineScript code:\r\n\r\n/@version=2\r\nstrategy(&quot;EMA Crossover&quot;, overlay=true)\r\n\r\nhigherLevelClose = security(tickerid, &quot;300&quot;, close)\r\n\r\nhigherLevelEMA = ema(higherLevelClose, 16)\r\n\r\nlowerLevelEMA = ema(close, 21)\r\n\r\nlongCondition = crossover(higherLevelEMA, lowerLevelEMA)\r\nif (longCondition)\r\n    strategy.entry(&quot;My Long Entry Id&quot;, strategy.long)\r\nshortcondition = crossunder(higherLevelEMA, lowerLevelEMA)\r\nif (shortcondition)\r\n    strategy.entry(&quot;My Short Entry Id&quot;, strategy.short)\r\n\r\nplot(higherLevelEMA)\r\nplot(lowerLevelEMA) \r\n\r\nI tried to show the strategy I am working on and explained how I am having difficulty with understanding the calculation of a variable.","title":"How is the higherLevelEMA variable calculated?","body":"<p>I've written a simple strategy in PineScript. It goes long when the higherLevelEMA is greater than the lowerLevelEMA and goes short when the higherLevelEMA is lesser than the lowerLevelEMA. This appears to be a working strategy on timeframes like the 15 minute chart. However, while the lowerLevelEMA is pretty straight forward. I am lost as to how the higherLevelEMA is actually being calculated to result in such positive results. I would like to figure out the specifics so I can recreate it in Java. Here is the short PineScript code:</p>\n<p>/@version=2\nstrategy(&quot;EMA Crossover&quot;, overlay=true)</p>\n<p>higherLevelClose = security(tickerid, &quot;300&quot;, close)</p>\n<p>higherLevelEMA = ema(higherLevelClose, 16)</p>\n<p>lowerLevelEMA = ema(close, 21)</p>\n<p>longCondition = crossover(higherLevelEMA, lowerLevelEMA)\nif (longCondition)\nstrategy.entry(&quot;My Long Entry Id&quot;, strategy.long)\nshortcondition = crossunder(higherLevelEMA, lowerLevelEMA)\nif (shortcondition)\nstrategy.entry(&quot;My Short Entry Id&quot;, strategy.short)</p>\n<p>plot(higherLevelEMA)\nplot(lowerLevelEMA)</p>\n<p>I tried to show the strategy I am working on and explained how I am having difficulty with understanding the calculation of a variable.</p>\n"},{"tags":["java","executorservice"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1675892022,"post_id":75391904,"comment_id":133028237,"body_markdown":"Probably the easiest solution is to have your `Runnable` use a try-catch around the actual work, and then simply call `executorService.shutdown()` (or `shutdownNow()`) if an exception is caught. Make sure to rethrow the exception so that the `Future` is still marked as failed.","body":"Probably the easiest solution is to have your <code>Runnable</code> use a try-catch around the actual work, and then simply call <code>executorService.shutdown()</code> (or <code>shutdownNow()</code>) if an exception is caught. Make sure to rethrow the exception so that the <code>Future</code> is still marked as failed."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675899004,"post_id":75391904,"comment_id":133029621,"body_markdown":"Alternatively, pass the executor to a `CompletableFuture`, and check for it completing exceptionally. Something like `compFuture.exceptionally(ex -&gt; executorService.shutdownNow())`","body":"Alternatively, pass the executor to a <code>CompletableFuture</code>, and check for it completing exceptionally. Something like <code>compFuture.exceptionally(ex -&gt; executorService.shutdownNow())</code>"}],"owner":{"account_id":2560275,"reputation":339,"user_id":2326697,"accept_rate":78,"display_name":"Zygmuntix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675891455,"creation_date":1675891455,"question_id":75391904,"body_markdown":"I would like to implement shutting down ExecutorService when at least one Future fails. If this is not possible to be done with ExecutorService please tell me if there is some class that supports this (or maybe I should implement this on my own?). Code:\r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    public void runCommand(String command) {\r\n        \t/* This is done in reaction for an event, so we do not know when the new Runnable will be\r\n        \tsubmitted... sometimes we can have 10 tasks on the ExecutorService &#39;queue&#39;, sometimes 100 etc. */\r\n        \tRunnable runnable = () -&gt; {\r\n        \tlogger.info(&quot;do something&quot;);\r\n        \t};\r\n        \tFuture&lt;?&gt; runnableFuture = executorService.submit(runnable );\r\n        \r\n        \t// Somehow &#39;attach&#39; to ExecutorService and when at least Future&lt;?&gt; from its internal queue is finished and fails -&gt; then shutdown the whole ExecutorService.\r\n        }","title":"Shutdown ExecutorService when at least one Future fails","body":"<p>I would like to implement shutting down ExecutorService when at least one Future fails. If this is not possible to be done with ExecutorService please tell me if there is some class that supports this (or maybe I should implement this on my own?). Code:</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\npublic void runCommand(String command) {\n        /* This is done in reaction for an event, so we do not know when the new Runnable will be\n        submitted... sometimes we can have 10 tasks on the ExecutorService 'queue', sometimes 100 etc. */\n        Runnable runnable = () -&gt; {\n        logger.info(&quot;do something&quot;);\n        };\n        Future&lt;?&gt; runnableFuture = executorService.submit(runnable );\n    \n        // Somehow 'attach' to ExecutorService and when at least Future&lt;?&gt; from its internal queue is finished and fails -&gt; then shutdown the whole ExecutorService.\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amazon-rds","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675891203,"creation_date":1675891203,"answer_id":75391862,"question_id":75391705,"body_markdown":"This is not the kind of thing I would ordinarily rely upon Spring for. \r\n\r\nAmazon-rds should have some kind of failover feature. And, depending on how your SpringBoot is deployed, you should be able to set it up to die gracefully during any interruption.\r\n\r\nLacking explicit features in Amazon-rds, you should also be able to set up a load balancer in AWS that will give you continuity of address, if not continuity of connection.","title":"Can a single spring data source take multiple urls?","body":"<p>This is not the kind of thing I would ordinarily rely upon Spring for.</p>\n<p>Amazon-rds should have some kind of failover feature. And, depending on how your SpringBoot is deployed, you should be able to set it up to die gracefully during any interruption.</p>\n<p>Lacking explicit features in Amazon-rds, you should also be able to set up a load balancer in AWS that will give you continuity of address, if not continuity of connection.</p>\n"}],"owner":{"account_id":5079558,"reputation":383,"user_id":4076057,"accept_rate":100,"display_name":"Enigma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675891203,"creation_date":1675890137,"question_id":75391705,"body_markdown":"Regarding the potential failover of an AWS RDS db from east region -&gt; west region, I need to be able to failover graciously. It&#39;s simpler if it were the same region multi-AZ since only one DNS needs to be maintained, but I can&#39;t think of a good solution in this case.\r\n\r\nCan a spring datasource take multiple URL&#39;s? \r\n\r\nExample:\r\n\r\n    spring.datasource.url: jdbc:postgresql://url1.com/db1, jdbc:postgresql://url2.com/db1\r\n\r\nI have not seen any information really on whether or not this is possible, local testing seems to say that this is not possible. ","title":"Can a single spring data source take multiple urls?","body":"<p>Regarding the potential failover of an AWS RDS db from east region -&gt; west region, I need to be able to failover graciously. It's simpler if it were the same region multi-AZ since only one DNS needs to be maintained, but I can't think of a good solution in this case.</p>\n<p>Can a spring datasource take multiple URL's?</p>\n<p>Example:</p>\n<pre><code>spring.datasource.url: jdbc:postgresql://url1.com/db1, jdbc:postgresql://url2.com/db1\n</code></pre>\n<p>I have not seen any information really on whether or not this is possible, local testing seems to say that this is not possible.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675891810,"post_id":75391853,"comment_id":133028182,"body_markdown":"This is just for local dev presumably? When I want to be sure I&#39;m only picking up stuff that&#39;s local, I just install with a name for the version that will never make it to a real repo, e.g. &quot;michael-1.2.3&quot;, and use that in the dependent project. In fact, all our projects use `${revision}` for their version, which is initialized in `&lt;properties&gt;` to a default value = `localdev-SNAPSHOT`; CI overrides it to a real version like `1.2.3`. Achieves the same as what I described, but you never have to touch it.","body":"This is just for local dev presumably? When I want to be sure I&#39;m only picking up stuff that&#39;s local, I just install with a name for the version that will never make it to a real repo, e.g. &quot;michael-1.2.3&quot;, and use that in the dependent project. In fact, all our projects use <code>${revision}</code> for their version, which is initialized in <code>&lt;properties&gt;</code> to a default value = <code>localdev-SNAPSHOT</code>; CI overrides it to a real version like <code>1.2.3</code>. Achieves the same as what I described, but you never have to touch it."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675900936,"post_id":75391853,"comment_id":133029950,"body_markdown":"Is this a multi module build??","body":"Is this a multi module build??"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675919112,"post_id":75391853,"comment_id":133032359,"body_markdown":"Does this answer your question? [How do I force Maven to use my local repository rather than going out to remote repos to retrieve artifacts?](https://stackoverflow.com/questions/33548395/how-do-i-force-maven-to-use-my-local-repository-rather-than-going-out-to-remote)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33548395/how-do-i-force-maven-to-use-my-local-repository-rather-than-going-out-to-remote\">How do I force Maven to use my local repository rather than going out to remote repos to retrieve artifacts?</a>"},{"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"score":0,"creation_date":1675963201,"post_id":75391853,"comment_id":133045494,"body_markdown":"@Micheal, yes it is for local dev only, and yes I could go down that route of a different value for version such as `localdev-SNAPSHOT`.\n@khmarbaise, yes, multi module but also multi project. I don&#39;t have the option of changing that setup unfortunately.\n@life888888, I tried changing the `updatePolicy` as referenced in that answer, but it seems like it never took effect. My `common-module` that was locally built never got picked up even though it was the newest package (built seconds earlier)","body":"@Micheal, yes it is for local dev only, and yes I could go down that route of a different value for version such as <code>localdev-SNAPSHOT</code>. @khmarbaise, yes, multi module but also multi project. I don&#39;t have the option of changing that setup unfortunately. @life888888, I tried changing the <code>updatePolicy</code> as referenced in that answer, but it seems like it never took effect. My <code>common-module</code> that was locally built never got picked up even though it was the newest package (built seconds earlier)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676046917,"post_id":75391853,"comment_id":133065152,"body_markdown":"If you have a multi module build that has to work otherwise your setup is wrong... That something is tried to get from cache or alike implies something is wrong... Best is to test a multi module setup via the following steps: Try to build on plain command line (outside of IDE): `mvn clean verify -Dmaven.repo.local=$(pwd)/.repo` that should work withou any issue which I doubt... furthermore if you are using `${revision}` in your project version or parents you have to use `flatten-maven-plugin` ...(https://maven.apache.org/maven-ci-friendly.html)","body":"If you have a multi module build that has to work otherwise your setup is wrong... That something is tried to get from cache or alike implies something is wrong... Best is to test a multi module setup via the following steps: Try to build on plain command line (outside of IDE): <code>mvn clean verify -Dmaven.repo.local=$(pwd)&#47;.repo</code> that should work withou any issue which I doubt... furthermore if you are using <code>${revision}</code> in your project version or parents you have to use <code>flatten-maven-plugin</code> ...(<a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a>)"}],"owner":{"account_id":4807593,"reputation":89,"user_id":3882098,"display_name":"motopascyyy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675891155,"creation_date":1675891155,"question_id":75391853,"body_markdown":"I have 2 maven projects where one depends on another. Let&#39;s call them `common` and `service`. \r\n\r\n`service` specifically depends on a module within `common` we&#39;ll call `common-module`.\r\n\r\nIf I make an update to `common-module` and run `mvn clean install`, it gets properly installed to my **local** repository.\r\n\r\n### Problem\r\nIn `service`, when I do a `mvn clean package/install` or `mvn -U clean package/install` will pick up the version that&#39;s in the **remote** repository even though the one I just built is newer. I cannot get it to pick up that latest version even though I see it in my `.m2/repository`.\r\n\r\nHow can I get it to pick my locally built jar?\r\n\r\n### Setup\r\n\r\n`pom.xml` for `common` (simplified, a lot is excluded)\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;  \r\n    &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \r\n    &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \r\n    &lt;name&gt;Common Parent&lt;/name&gt;  \r\n    &lt;modules&gt;  \r\n        &lt;module&gt;common-module&lt;/module&gt;  \r\n    &lt;/modules&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n`pom.xml` for `common-module` (simplified, a lot is excluded)\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \r\n    &lt;artifactId&gt;common-module&lt;/artifactId&gt;  \r\n    &lt;name&gt;common-module&lt;/name&gt;  \r\n    &lt;description&gt;common-module&lt;/description&gt;  \r\n    &lt;parent&gt;  \r\n        &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \r\n        &lt;groupId&gt;com.company.group&lt;/groupId&gt;  \r\n        &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \r\n    &lt;/parent&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n`pom.xml` for `service` (simplified, a lot is excluded)\r\n\r\n```xml\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n\txmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \r\n\t&lt;artifactId&gt;service&lt;/artifactId&gt;  \r\n\t&lt;name&gt;service&lt;/name&gt;  \r\n\t&lt;version&gt;1.2.3-SNAPSHOT&lt;/version&gt;\r\n  \t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;  \r\n\t\t\t&lt;artifactId&gt;common-module&lt;/artifactId&gt;  \r\n\t\t\t&lt;groupId&gt;com.company.group&lt;/groupId&gt;  \r\n\t\t\t&lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**Note 1**: I have a workaround where I can adjust the library settings within IntelliJ and force it to use the correct jar file, but this feels very hacky and unsustainable to me.\r\n\r\n**Note 2**: I&#39;ve tried changing the `&lt;updatePolicy&gt;` value in my `settings.xml` to `never` and other values, but it seems to have had no effect. This was suggested in other posts I&#39;ve read before asking here.\r\n\r\n```xml\r\n\t\t\t&lt;repository&gt;\r\n\t\t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n\t\t\t\t&lt;name&gt;Archiva Managed Snapshot Repository&lt;/name&gt;\r\n\t\t\t\t&lt;url&gt;http://internal.url/repository/snapshots&lt;/url&gt;\r\n\t\t\t\t&lt;releases&gt;\r\n\t\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t\t&lt;/releases&gt;\r\n\t\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n\t\t\t\t&lt;/snapshots&gt;\r\n\t\t\t&lt;/repository&gt;\r\n```","title":"Maven (IntelliJ) always using remote repository for artifacts","body":"<p>I have 2 maven projects where one depends on another. Let's call them <code>common</code> and <code>service</code>.</p>\n<p><code>service</code> specifically depends on a module within <code>common</code> we'll call <code>common-module</code>.</p>\n<p>If I make an update to <code>common-module</code> and run <code>mvn clean install</code>, it gets properly installed to my <strong>local</strong> repository.</p>\n<h3>Problem</h3>\n<p>In <code>service</code>, when I do a <code>mvn clean package/install</code> or <code>mvn -U clean package/install</code> will pick up the version that's in the <strong>remote</strong> repository even though the one I just built is newer. I cannot get it to pick up that latest version even though I see it in my <code>.m2/repository</code>.</p>\n<p>How can I get it to pick my locally built jar?</p>\n<h3>Setup</h3>\n<p><code>pom.xml</code> for <code>common</code> (simplified, a lot is excluded)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;  \n    &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \n    &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \n    &lt;name&gt;Common Parent&lt;/name&gt;  \n    &lt;modules&gt;  \n        &lt;module&gt;common-module&lt;/module&gt;  \n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>pom.xml</code> for <code>common-module</code> (simplified, a lot is excluded)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \n    &lt;artifactId&gt;common-module&lt;/artifactId&gt;  \n    &lt;name&gt;common-module&lt;/name&gt;  \n    &lt;description&gt;common-module&lt;/description&gt;  \n    &lt;parent&gt;  \n        &lt;artifactId&gt;common-parent&lt;/artifactId&gt;  \n        &lt;groupId&gt;com.company.group&lt;/groupId&gt;  \n        &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \n    &lt;/parent&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>pom.xml</code> for <code>service</code> (simplified, a lot is excluded)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;  \n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;  \n    &lt;artifactId&gt;service&lt;/artifactId&gt;  \n    &lt;name&gt;service&lt;/name&gt;  \n    &lt;version&gt;1.2.3-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;  \n            &lt;artifactId&gt;common-module&lt;/artifactId&gt;  \n            &lt;groupId&gt;com.company.group&lt;/groupId&gt;  \n            &lt;version&gt;2.4.5-SNAPSHOT&lt;/version&gt;  \n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Note 1</strong>: I have a workaround where I can adjust the library settings within IntelliJ and force it to use the correct jar file, but this feels very hacky and unsustainable to me.</p>\n<p><strong>Note 2</strong>: I've tried changing the <code>&lt;updatePolicy&gt;</code> value in my <code>settings.xml</code> to <code>never</code> and other values, but it seems to have had no effect. This was suggested in other posts I've read before asking here.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;repository&gt;\n                &lt;id&gt;snapshots&lt;/id&gt;\n                &lt;name&gt;Archiva Managed Snapshot Repository&lt;/name&gt;\n                &lt;url&gt;http://internal.url/repository/snapshots&lt;/url&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/releases&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n</code></pre>\n"},{"tags":["java","maven","jenkins-pipeline","jenkins-plugins","jenkins-groovy"],"answers":[{"tags":[],"owner":{"account_id":26967292,"reputation":200,"user_id":20533909,"display_name":"grzegorzgrzegorz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675891086,"creation_date":1675891086,"answer_id":75391841,"question_id":75374119,"body_markdown":"It may be a blind shot here, but I would check [Nodes and Processes plugin][1]\r\nconfiguration in Jenkins (is plugin enabled? is plugin installed?). Also I would check if other steps which are part of this plugin like *sh* are working as expected.\r\n\r\n  [1]: https://www.jenkins.io/doc/pipeline/steps/workflow-durable-task-step/#node-allocate-node","title":"Jenkins error &quot;java.lang.NoSuchMethodError: No such DSL method &#39;node&#39; found among steps ....&quot;","body":"<p>It may be a blind shot here, but I would check <a href=\"https://www.jenkins.io/doc/pipeline/steps/workflow-durable-task-step/#node-allocate-node\" rel=\"nofollow noreferrer\">Nodes and Processes plugin</a>\nconfiguration in Jenkins (is plugin enabled? is plugin installed?). Also I would check if other steps which are part of this plugin like <em>sh</em> are working as expected.</p>\n"}],"owner":{"account_id":21105956,"reputation":11,"user_id":15514942,"display_name":"Alex Dunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675891086,"creation_date":1675776932,"question_id":75374119,"body_markdown":"the groovy script starts with \r\n```\r\nnode {\r\n    stage(&quot;Checkout&quot;){\r\n        echo &quot;git checkout&quot;\r\n        checkout changelog: false, poll: false, scm: [\r\n```\r\nThis `groovy` script should checkout a `java` project and run some `maven` commands on it. \r\n\r\nError:\r\n```\r\njava.lang.NoSuchMethodError: No such DSL method &#39;node&#39; found among steps...\r\n```\r\n\r\nThis used to work before some changes, but I couldn&#39;t say what what altered. \r\nCurrent version is `2.147`\r\nI found it might be a `Jenkins` plugin issue but nothing more","title":"Jenkins error &quot;java.lang.NoSuchMethodError: No such DSL method &#39;node&#39; found among steps ....&quot;","body":"<p>the groovy script starts with</p>\n<pre><code>node {\n    stage(&quot;Checkout&quot;){\n        echo &quot;git checkout&quot;\n        checkout changelog: false, poll: false, scm: [\n</code></pre>\n<p>This <code>groovy</code> script should checkout a <code>java</code> project and run some <code>maven</code> commands on it.</p>\n<p>Error:</p>\n<pre><code>java.lang.NoSuchMethodError: No such DSL method 'node' found among steps...\n</code></pre>\n<p>This used to work before some changes, but I couldn't say what what altered.\nCurrent version is <code>2.147</code>\nI found it might be a <code>Jenkins</code> plugin issue but nothing more</p>\n"},{"tags":["java","selenium","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675879238,"creation_date":1675879238,"answer_id":75389934,"question_id":75387124,"body_markdown":"You&#39;re just violating [JMeter Best Practices][1], using [Beanshell is not recommended since JMeter 3.1][2]\r\n\r\nThe reason is that [WebElement.sendKeys()][3] function expects a [CharSequence][4] and you&#39;re trying to pass a [String][5] there and Beanshell interpreter doesn&#39;t like it. \r\n\r\nSwitch the language to `groovy` and the issue will go away. See [Apache Groovy: What Is Groovy Used For?][6] article for more information on Groovy scripting in JMeter \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/best-practices.html\r\n  [2]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [3]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#sendKeys(java.lang.CharSequence...)\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\r\n  [6]: https://www.blazemeter.com/blog/apache-groovy","title":".sendKeys method problems in WebDriver Sampler JMeter","body":"<p>You're just violating <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a>, using <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">Beanshell is not recommended since JMeter 3.1</a></p>\n<p>The reason is that <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#sendKeys(java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">WebElement.sendKeys()</a> function expects a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\">CharSequence</a> and you're trying to pass a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> there and Beanshell interpreter doesn't like it.</p>\n<p>Switch the language to <code>groovy</code> and the issue will go away. See <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a> article for more information on Groovy scripting in JMeter</p>\n"}],"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75389934,"answer_count":1,"score":0,"last_activity_date":1675890967,"creation_date":1675866060,"question_id":75387124,"body_markdown":"I&#39;m making WebDriver Selenium scripts and trying to run them with JMeter.\r\nI have an issue I don&#39;t understand. My code will crash at line 17 with this error in JMeter:\r\n\r\n````\r\nERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: \r\nimport org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . &#39;&#39; : Error in method invocation: Method sendKeys( java.lang.String ) not found in class&#39;org.openqa.selenium.remote.RemoteWebElement&#39; : at Line: 17 : in file: inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . &#39;&#39; : .sendKeys ( &quot;value&quot; ) \r\n in inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . &#39;&#39; at line number 17\r\n````\r\n\r\nThis is my code in WebDriver Sampler in JMeter:\r\n\r\n[code with .sendKeys method](https://i.stack.imgur.com/33afY.png)\r\n\r\nWhat is the problem? Am I just blind?\r\n\r\nI tried to import `org.openqa.selenium.remote.RemoteWebElement` directly to the script and I also tried to change syntax because I learned it was necessary to put an Array instead of a String behind .sendKeys method, but it didn&#39;t work for me.\r\n\r\nI am using apache-jmeter-5.5 and Script Language in WebDriver Sampler is set to java.","title":".sendKeys method problems in WebDriver Sampler JMeter","body":"<p>I'm making WebDriver Selenium scripts and trying to run them with JMeter.\nI have an issue I don't understand. My code will crash at line 17 with this error in JMeter:</p>\n<pre><code>ERROR c.g.j.p.w.s.WebDriverSampler: Sourced file: inline evaluation of: \nimport org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . '' : Error in method invocation: Method sendKeys( java.lang.String ) not found in class'org.openqa.selenium.remote.RemoteWebElement' : at Line: 17 : in file: inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . '' : .sendKeys ( &quot;value&quot; ) \n in inline evaluation of: ``import org.openqa.selenium.*; import java.time.Duration;   WDS.sampleResult.samp . . . '' at line number 17\n</code></pre>\n<p>This is my code in WebDriver Sampler in JMeter:</p>\n<p><a href=\"https://i.stack.imgur.com/33afY.png\" rel=\"nofollow noreferrer\">code with .sendKeys method</a></p>\n<p>What is the problem? Am I just blind?</p>\n<p>I tried to import <code>org.openqa.selenium.remote.RemoteWebElement</code> directly to the script and I also tried to change syntax because I learned it was necessary to put an Array instead of a String behind .sendKeys method, but it didn't work for me.</p>\n<p>I am using apache-jmeter-5.5 and Script Language in WebDriver Sampler is set to java.</p>\n"},{"tags":["java","generics","interface","parameterized"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1675890937,"post_id":75391648,"comment_id":133027934,"body_markdown":"Despite the map, which should logically prevent you from passing the incorrect fruit to a fruit handler, the compiler only sees an `AbstractFruitHandler&lt;?&gt;` and a `Fruit`. What if the type of `f` was `Banana` and the type of `handler` was `AppleHandler`? To the compiler, that&#39;s a possible scenario, thus the types don&#39;t match.","body":"Despite the map, which should logically prevent you from passing the incorrect fruit to a fruit handler, the compiler only sees an <code>AbstractFruitHandler&lt;?&gt;</code> and a <code>Fruit</code>. What if the type of <code>f</code> was <code>Banana</code> and the type of <code>handler</code> was <code>AppleHandler</code>? To the compiler, that&#39;s a possible scenario, thus the types don&#39;t match."},{"owner":{"account_id":16394206,"reputation":79,"user_id":11842231,"display_name":"langio"},"score":0,"creation_date":1675907850,"post_id":75391648,"comment_id":133030902,"body_markdown":"That makes sense! So what I have should be refactored then? I&#39;m thinking I may need to update `AbstractFruitHandler` to instead have method `handle(Fruit fruit)`. And then in each implementation of `AbstractFruitHandler`,  explicitly cast the Fruit to the concrete type. Was trying to avoid having to do this.","body":"That makes sense! So what I have should be refactored then? I&#39;m thinking I may need to update <code>AbstractFruitHandler</code> to instead have method <code>handle(Fruit fruit)</code>. And then in each implementation of <code>AbstractFruitHandler</code>,  explicitly cast the Fruit to the concrete type. Was trying to avoid having to do this."}],"owner":{"account_id":16394206,"reputation":79,"user_id":11842231,"display_name":"langio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675889737,"creation_date":1675889737,"question_id":75391648,"body_markdown":"I have defined the class:\r\n\r\n    public abstract class AbstractFruitHandler&lt;T extends Fruit&gt; {\r\n       public abstract void handle(T fruit);\r\n       ...\r\n    }\r\n\r\nWhere `Fruit` is an interface.\r\n\r\nExample of a class that extends this abstract class:\r\n\r\n    public class AppleHandler extends AbstractFruitHandler&lt;Apple&gt; {\r\n        @Override\r\n        public void handle(Apple a) {\r\n                 ...\r\n             }\r\n        }\r\n    }\r\nWhere `Apple` is a class that implements `Fruit`.\r\n\r\nI have defined a map of these fruit handlers as such:\r\n\r\n    Map&lt;FruitType, AbtractFruitHandler&lt;? extends Fruit&gt; handlers = Map.of(\r\n         FruitType.APPLE, new AppleHandler(),\r\n         FruitType.BANANA, new BananaHandler()\r\n    );\r\n\r\nNow here is where I begin to see issues. Consider the code below:\r\n\r\n    for (Fruit f : fruits) {\r\n        AbstractFruitHandler handler = handlers.get(f.getType());\r\n        handler.handle(f);\r\n    }\r\nThis code works fine! The only issue is that the IDE warns about `Raw use of parameterized class &#39;AbstractFruitHandler&#39;`.\r\n\r\n\r\nTo suppress this warning, I tried to update this code to:\r\n\r\n    for (Fruit f : fruits) {\r\n        AbstractFruitHandler&lt;? extends Fruit&gt; handler = handlers.get(f.getType());\r\n        handler.handle(f);\r\n    }\r\n\r\nBut then I get a compilation error saying that the required type of the `handle` method is `capture of ? extends Fruit`, and not the provided type `Fruit`.\r\n\r\nI should also note that I get the same error when I try to explicitly pass in a concrete implementation of `Fruit`.\r\n\r\nIf possible, I&#39;d like to know why I see this compilation error even though I am passing in objects that are a subtype of `Fruit`.\r\n\r\nI&#39;m also wondering what other possible solutions there are.","title":"Compilation error with Java Generics: Required type &#39;capture of ? extends MyInterface&#39; when passing object implementing MyInterface","body":"<p>I have defined the class:</p>\n<pre><code>public abstract class AbstractFruitHandler&lt;T extends Fruit&gt; {\n   public abstract void handle(T fruit);\n   ...\n}\n</code></pre>\n<p>Where <code>Fruit</code> is an interface.</p>\n<p>Example of a class that extends this abstract class:</p>\n<pre><code>public class AppleHandler extends AbstractFruitHandler&lt;Apple&gt; {\n    @Override\n    public void handle(Apple a) {\n             ...\n         }\n    }\n}\n</code></pre>\n<p>Where <code>Apple</code> is a class that implements <code>Fruit</code>.</p>\n<p>I have defined a map of these fruit handlers as such:</p>\n<pre><code>Map&lt;FruitType, AbtractFruitHandler&lt;? extends Fruit&gt; handlers = Map.of(\n     FruitType.APPLE, new AppleHandler(),\n     FruitType.BANANA, new BananaHandler()\n);\n</code></pre>\n<p>Now here is where I begin to see issues. Consider the code below:</p>\n<pre><code>for (Fruit f : fruits) {\n    AbstractFruitHandler handler = handlers.get(f.getType());\n    handler.handle(f);\n}\n</code></pre>\n<p>This code works fine! The only issue is that the IDE warns about <code>Raw use of parameterized class 'AbstractFruitHandler'</code>.</p>\n<p>To suppress this warning, I tried to update this code to:</p>\n<pre><code>for (Fruit f : fruits) {\n    AbstractFruitHandler&lt;? extends Fruit&gt; handler = handlers.get(f.getType());\n    handler.handle(f);\n}\n</code></pre>\n<p>But then I get a compilation error saying that the required type of the <code>handle</code> method is <code>capture of ? extends Fruit</code>, and not the provided type <code>Fruit</code>.</p>\n<p>I should also note that I get the same error when I try to explicitly pass in a concrete implementation of <code>Fruit</code>.</p>\n<p>If possible, I'd like to know why I see this compilation error even though I am passing in objects that are a subtype of <code>Fruit</code>.</p>\n<p>I'm also wondering what other possible solutions there are.</p>\n"},{"tags":["java","sonarqube"],"owner":{"account_id":318580,"reputation":3208,"user_id":635885,"accept_rate":88,"display_name":"Joly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675889645,"creation_date":1675889645,"question_id":75391633,"body_markdown":"I&#39;m trying to configure sonar to connect to postgers over ssl. That Postgres server is using DigiCert Root CA.\r\n\r\nWhen I configure it like that by explicitly pointing at the CA file it works just fine:\r\n\r\n    sonar.jdbc.url=jdbc:postgresql://myserver/sonarqube?ssl=true&amp;sslmode=verify-ca&amp;sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt\r\n\r\nHowever when remove `sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt` assuming sonar will use the java keystore it bootstraps with it fails to authenticate as it fails to verify that Root certificate.\r\n\r\n**I have verified that the java CA trust store sonar uses has that CA in it and that the details match the one it works with by explicitly pointing at from the jdbc connection settings.**\r\n\r\nWhat am I missing as I&#39;d like sonar to use the java keystore rather than explicitly pointing at a CA file ?\r\n","title":"SonarQube SSL with Postgres doesn&#39;t work when using its java keystore","body":"<p>I'm trying to configure sonar to connect to postgers over ssl. That Postgres server is using DigiCert Root CA.</p>\n<p>When I configure it like that by explicitly pointing at the CA file it works just fine:</p>\n<pre><code>sonar.jdbc.url=jdbc:postgresql://myserver/sonarqube?ssl=true&amp;sslmode=verify-ca&amp;sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt\n</code></pre>\n<p>However when remove <code>sslrootcert=/etc/pki/tls/certs/DigiCertGlobalRootG2.crt</code> assuming sonar will use the java keystore it bootstraps with it fails to authenticate as it fails to verify that Root certificate.</p>\n<p><strong>I have verified that the java CA trust store sonar uses has that CA in it and that the details match the one it works with by explicitly pointing at from the jdbc connection settings.</strong></p>\n<p>What am I missing as I'd like sonar to use the java keystore rather than explicitly pointing at a CA file ?</p>\n"},{"tags":["java","https","proxy","java-web-start","tunneling"],"comments":[{"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"score":0,"creation_date":1485175484,"post_id":41806422,"comment_id":70800947,"body_markdown":"Were you able to verify, that property is generall working? This SO answer may help: http://stackoverflow.com/a/4036534/867816","body":"Were you able to verify, that property is generall working? This SO answer may help: <a href=\"http://stackoverflow.com/a/4036534/867816\">stackoverflow.com/a/4036534/867816</a>"},{"owner":{"account_id":2204760,"reputation":1887,"user_id":1948252,"accept_rate":83,"display_name":"Marcus"},"score":0,"creation_date":1485176457,"post_id":41806422,"comment_id":70801599,"body_markdown":"No, it&#39;s the first time I am trying to use a property tag. However java-vm-args does not seem to apply here, as there are only a few arguments supported this was. Here is a list: http://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html\nHowever, now I see there is also such a list for the property tag. Hm. So there is no possible way to enable basic auth proxy tunneling in Java Web Start?","body":"No, it&#39;s the first time I am trying to use a property tag. However java-vm-args does not seem to apply here, as there are only a few arguments supported this was. Here is a list: <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/javaws/&hellip;</a> However, now I see there is also such a list for the property tag. Hm. So there is no possible way to enable basic auth proxy tunneling in Java Web Start?"}],"answers":[{"tags":[],"owner":{"account_id":2204760,"reputation":1887,"user_id":1948252,"accept_rate":83,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1518775994,"creation_date":1486110588,"answer_id":42019858,"question_id":41806422,"body_markdown":"I found out that there is one way, but not in the hands of the developer: The user can add \r\n\r\n    -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\r\nfor Java 8 in Java Control Panel → Java → View... → Runtime Parameters\r\n\r\nfor Java 9 in Java Control Panel → Desktop Settings → Runtime Parameters","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>I found out that there is one way, but not in the hands of the developer: The user can add </p>\n\n<pre><code>-Djdk.http.auth.tunneling.disabledSchemes=\"\"\n</code></pre>\n\n<p>for Java 8 in Java Control Panel → Java → View... → Runtime Parameters</p>\n\n<p>for Java 9 in Java Control Panel → Desktop Settings → Runtime Parameters</p>\n"},{"tags":[],"owner":{"account_id":1217553,"reputation":2750,"user_id":1184842,"accept_rate":92,"display_name":"jan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1519294060,"creation_date":1492785905,"answer_id":43545638,"question_id":41806422,"body_markdown":"Beside the answer of mbee one can also configure this in the `net.properties` file of the jre:\r\n\r\n`C:\\Program Files (x86)\\Java\\jre1.8.0_131\\lib\\net.properties`\r\n\r\nCurrently last line 100 need to be commented out:\r\n\r\nBefore:\r\n\r\n     #jdk.http.auth.proxying.disabledSchemes=\r\n     jdk.http.auth.tunneling.disabledSchemes=Basic\r\n\r\n\r\nAfter:\r\n\r\n     #jdk.http.auth.proxying.disabledSchemes=\r\n     #jdk.http.auth.tunneling.disabledSchemes=Basic\r\n\r\nNote that both answers need to be repeated after a Java Update, although the Java Auto Update is deactivated with Basic Internet Proxy Authentication.\r\n","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>Beside the answer of mbee one can also configure this in the <code>net.properties</code> file of the jre:</p>\n\n<p><code>C:\\Program Files (x86)\\Java\\jre1.8.0_131\\lib\\net.properties</code></p>\n\n<p>Currently last line 100 need to be commented out:</p>\n\n<p>Before:</p>\n\n<pre><code> #jdk.http.auth.proxying.disabledSchemes=\n jdk.http.auth.tunneling.disabledSchemes=Basic\n</code></pre>\n\n<p>After:</p>\n\n<pre><code> #jdk.http.auth.proxying.disabledSchemes=\n #jdk.http.auth.tunneling.disabledSchemes=Basic\n</code></pre>\n\n<p>Note that both answers need to be repeated after a Java Update, although the Java Auto Update is deactivated with Basic Internet Proxy Authentication.</p>\n"},{"tags":[],"owner":{"account_id":10744229,"reputation":91,"user_id":7906175,"display_name":"bj03rnv0ss"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1494353867,"creation_date":1494353867,"answer_id":43877148,"question_id":41806422,"body_markdown":"If you require to do this at runtime you can set the value of the *jdk.http.auth.proxying.disabledSchemes* property by adding\r\n\r\n    System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n\r\nto the main method of your application.","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>If you require to do this at runtime you can set the value of the <em>jdk.http.auth.proxying.disabledSchemes</em> property by adding</p>\n\n<pre><code>System.setProperty(\"jdk.http.auth.tunneling.disabledSchemes\", \"\");\n</code></pre>\n\n<p>to the main method of your application.</p>\n"},{"tags":[],"owner":{"account_id":8121981,"reputation":11,"user_id":6118398,"display_name":"David Elsener"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530203473,"creation_date":1530203473,"answer_id":51087692,"question_id":41806422,"body_markdown":"I had this issue too while trying to access an external SOAP Webservice trough a Proxy-Server using BASIC-Authentification for an application running on Apache Tomcat. \r\n\r\nSetting the property programmatically (*System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);*) during application initialization **did not work**. It had to be set as VM-Argument or (not very nice way of course :)) in [JRE_HOME]\\lib\\net.properties.","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>I had this issue too while trying to access an external SOAP Webservice trough a Proxy-Server using BASIC-Authentification for an application running on Apache Tomcat. </p>\n\n<p>Setting the property programmatically (<em>System.setProperty(\"jdk.http.auth.tunneling.disabledSchemes\", \"\");</em>) during application initialization <strong>did not work</strong>. It had to be set as VM-Argument or (not very nice way of course :)) in [JRE_HOME]\\lib\\net.properties.</p>\n"},{"tags":[],"owner":{"account_id":2783084,"reputation":341,"user_id":2395187,"display_name":"TechSingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675889628,"creation_date":1675889628,"answer_id":75391630,"question_id":41806422,"body_markdown":"I enabled the below feature in net.properties and it worked without any other changes:\r\n\r\njava.net.useSystemProxies=true (this was false earlier)","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>I enabled the below feature in net.properties and it worked without any other changes:</p>\n<p>java.net.useSystemProxies=true (this was false earlier)</p>\n"}],"owner":{"account_id":2204760,"reputation":1887,"user_id":1948252,"accept_rate":83,"display_name":"Marcus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39863,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":42019858,"answer_count":5,"score":21,"last_activity_date":1675889628,"creation_date":1485174563,"question_id":41806422,"body_markdown":"Some of our customers cannot run our Java Web Start client anymore since Java 8 Update 111. They get:\r\n\r\n&gt; java.io.IOException: Unable to tunnel through proxy. Proxy returns\r\n&gt; &quot;HTTP/1.1 407 Proxy Authentication Required\r\n\r\nLooks like it has to do with this [change][1]:\r\n\r\n&gt; Now, proxies requiring Basic authentication when setting up a tunnel\r\n&gt; for HTTPS will no longer succeed by default. If required, this\r\n&gt; authentication scheme can be reactivated by removing Basic from the\r\n&gt; jdk.http.auth.tunneling.disabledSchemes networking property, or by\r\n&gt; setting a system property of the same name to &quot;&quot; ( empty ) on the\r\n&gt; command line.\r\n\r\nIs there any way if customers are not willing to change their proxy authentication method? \r\n\r\n**Note:** Adding `&lt;property name=&quot;jdk.http.auth.tunneling.disabledSchemes&quot; value=&quot;&quot;/&gt;` to `&lt;resources&gt;` of the JNLP has no effect. This is because only a few properties are supported this way (there is a list near the bottom of [this page][2]). &quot;jdk.http.auth.tunneling.disabledSchemes&quot; is not among them.\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/8u111-relnotes-3124969.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html","title":"Java Web Start: Unable to tunnel through proxy since Java 8 Update 111","body":"<p>Some of our customers cannot run our Java Web Start client anymore since Java 8 Update 111. They get:</p>\n\n<blockquote>\n  <p>java.io.IOException: Unable to tunnel through proxy. Proxy returns\n  \"HTTP/1.1 407 Proxy Authentication Required</p>\n</blockquote>\n\n<p>Looks like it has to do with this <a href=\"https://www.oracle.com/technetwork/java/javase/8u111-relnotes-3124969.html\" rel=\"noreferrer\">change</a>:</p>\n\n<blockquote>\n  <p>Now, proxies requiring Basic authentication when setting up a tunnel\n  for HTTPS will no longer succeed by default. If required, this\n  authentication scheme can be reactivated by removing Basic from the\n  jdk.http.auth.tunneling.disabledSchemes networking property, or by\n  setting a system property of the same name to \"\" ( empty ) on the\n  command line.</p>\n</blockquote>\n\n<p>Is there any way if customers are not willing to change their proxy authentication method? </p>\n\n<p><strong>Note:</strong> Adding <code>&lt;property name=\"jdk.http.auth.tunneling.disabledSchemes\" value=\"\"/&gt;</code> to <code>&lt;resources&gt;</code> of the JNLP has no effect. This is because only a few properties are supported this way (there is a list near the bottom of <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/javaws/developersguide/syntax.html\" rel=\"noreferrer\">this page</a>). \"jdk.http.auth.tunneling.disabledSchemes\" is not among them.</p>\n"},{"tags":["java","sql","spring","jpa","graphql"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1674758002,"post_id":75249437,"comment_id":132787152,"body_markdown":"`UTC` -- Why does the parameter have a time offset (Universal Time Clock in this case)? LocalDateTime cannot accept time offsets or time zones. It seems the parameter value you are passing is a timestamp **WITH TIME ZONE** or similar. Get rid of the time zone.","body":"<code>UTC</code> -- Why does the parameter have a time offset (Universal Time Clock in this case)? LocalDateTime cannot accept time offsets or time zones. It seems the parameter value you are passing is a timestamp <b>WITH TIME ZONE</b> or similar. Get rid of the time zone."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674759413,"post_id":75249437,"comment_id":132787533,"body_markdown":"Looks like a toString was called on a java.util.Date object, which prints off the date in the default local/timezone/format. It doesn&#39;t mean there is a UTC timezone specified, only that the value represents midnight Jan 18th in UTC. This is a java exception, so the problem is with what you are passing in to the query - your parameter isn&#39;t a LocalDateTime, so check your method signatures and values, as you may need to convert it, as I don&#39;t think this is specifications changing anything to a Date object. How and where are you getting this exception from exactly? (ie show the stack trace)","body":"Looks like a toString was called on a java.util.Date object, which prints off the date in the default local/timezone/format. It doesn&#39;t mean there is a UTC timezone specified, only that the value represents midnight Jan 18th in UTC. This is a java exception, so the problem is with what you are passing in to the query - your parameter isn&#39;t a LocalDateTime, so check your method signatures and values, as you may need to convert it, as I don&#39;t think this is specifications changing anything to a Date object. How and where are you getting this exception from exactly? (ie show the stack trace)"},{"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"score":0,"creation_date":1674767081,"post_id":75249437,"comment_id":132789422,"body_markdown":"I&#39;m passing the value through a graphql playground, and it only accepts certain inputs or it hangs indefinitely","body":"I&#39;m passing the value through a graphql playground, and it only accepts certain inputs or it hangs indefinitely"},{"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"score":0,"creation_date":1674767144,"post_id":75249437,"comment_id":132789438,"body_markdown":"The input I pass in is `2023-01-18T00:00` and it appears to parse to a LocalDateTime correctly. I&#39;ll add the full stack trace to the post","body":"The input I pass in is <code>2023-01-18T00:00</code> and it appears to parse to a LocalDateTime correctly. I&#39;ll add the full stack trace to the post"},{"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"score":0,"creation_date":1674767700,"post_id":75249437,"comment_id":132789593,"body_markdown":"When I translate to a LocalDateTime, I can also use a dateFormatter but that doesn&#39;t really change anything because I&#39;m always able to translate to a LocalDateTime object. The issue comes when trying to execute in JPA","body":"When I translate to a LocalDateTime, I can also use a dateFormatter but that doesn&#39;t really change anything because I&#39;m always able to translate to a LocalDateTime object. The issue comes when trying to execute in JPA"},{"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"score":0,"creation_date":1675874204,"post_id":75249437,"comment_id":133022998,"body_markdown":"Maybe you could create+share a test case which recreates the problem? Or some more of your code allowing others to recreate the problem? This would allow potential fixes to be checked :)","body":"Maybe you could create+share a test case which recreates the problem? Or some more of your code allowing others to recreate the problem? This would allow potential fixes to be checked :)"}],"answers":[{"tags":[],"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675889374,"creation_date":1675889374,"answer_id":75391588,"question_id":75249437,"body_markdown":"The issue ended up being this part of the filter library. I had to fork the repo, remove the block of code, and then publish my own version of the library: https://github.com/intuit/graphql-filter-java/issues/29\r\n\r\nHopefully it can be fixed more formally for others in the future :)","title":"Spring Boot -- Can&#39;t use LocalDateTime with GraphQL filter library","body":"<p>The issue ended up being this part of the filter library. I had to fork the repo, remove the block of code, and then publish my own version of the library: <a href=\"https://github.com/intuit/graphql-filter-java/issues/29\" rel=\"nofollow noreferrer\">https://github.com/intuit/graphql-filter-java/issues/29</a></p>\n<p>Hopefully it can be fixed more formally for others in the future :)</p>\n"}],"owner":{"account_id":17033056,"reputation":93,"user_id":12322788,"display_name":"SamPinheiro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75391588,"answer_count":1,"score":-1,"last_activity_date":1675889374,"creation_date":1674752728,"question_id":75249437,"body_markdown":"Long story short, I have a custom filter object that I use to convert into JPA queries. \r\n\r\n```\r\n// env is a DataFetchingEnvironment\r\nFilterExpression filterExpression = builder.args(env.getArguments()).build();\r\nSpecification&lt;BaseModel&gt; specification = filterExpression.getExpression(ExpressionFormat.JPA);\r\n```\r\n\r\nThe stack trace is from JPA, but it&#39;s because the filter library is converting the date into a strange format\r\n\r\n```\r\nParameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\r\n```\r\n\r\nIt seems like the filter expression coerces the argument to a `Date` type but the SQL column is a `DateTime`. \r\n\r\nWhen I look online there are some solutions to this using native queries which would NOT work here because of the custom filter object I&#39;m using (I can query on multiple fields by building a JPA expression, and the only filter that isn&#39;t working is `LocalDateTime`).\r\n\r\nEdit: More detail\r\n\r\nIn SQL the column type is `DateTime` and there&#39;s nothing special specified for the column definition on hibernate. \r\n\r\nFull stack trace\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\r\n\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:122) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler$1$1.bind(CriteriaCompiler.java:140) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:364) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.18.jar:5.3.18]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy207.createQuery(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:801) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:779) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:517) ~[spring-data-jpa-2.6.4.jar:2.6.4]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.4.jar:2.6.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.18.jar:5.3.18]\r\n\t... 53 common frames omitted\r\n```\r\n\r\nEdit2: \r\n\r\nThe problem is with how my graphql library is building the datetime filter from `FilterExpression.newFilterExpressionBuilder().args(env.getArguments()).build()`. I was able to somewhat bypass things by omitting the DateTime filter and adding the specification myself afterwards but ideally I could get things to work with the filter expression builder.","title":"Spring Boot -- Can&#39;t use LocalDateTime with GraphQL filter library","body":"<p>Long story short, I have a custom filter object that I use to convert into JPA queries.</p>\n<pre><code>// env is a DataFetchingEnvironment\nFilterExpression filterExpression = builder.args(env.getArguments()).build();\nSpecification&lt;BaseModel&gt; specification = filterExpression.getExpression(ExpressionFormat.JPA);\n</code></pre>\n<p>The stack trace is from JPA, but it's because the filter library is converting the date into a strange format</p>\n<pre><code>Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\n</code></pre>\n<p>It seems like the filter expression coerces the argument to a <code>Date</code> type but the SQL column is a <code>DateTime</code>.</p>\n<p>When I look online there are some solutions to this using native queries which would NOT work here because of the custom filter object I'm using (I can query on multiple fields by building a JPA expression, and the only filter that isn't working is <code>LocalDateTime</code>).</p>\n<p>Edit: More detail</p>\n<p>In SQL the column type is <code>DateTime</code> and there's nothing special specified for the column definition on hibernate.</p>\n<p>Full stack trace</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter value [Wed Jan 18 00:00:00 UTC 2023] did not match expected type [java.time.LocalDateTime (n/a)]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:122) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler$1$1.bind(CriteriaCompiler.java:140) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:364) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.18.jar:5.3.18]\n    at jdk.proxy2/jdk.proxy2.$Proxy207.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:801) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:779) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:517) ~[spring-data-jpa-2.6.4.jar:2.6.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.4.jar:2.6.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.18.jar:5.3.18]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.18.jar:5.3.18]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.18.jar:5.3.18]\n    ... 53 common frames omitted\n</code></pre>\n<p>Edit2:</p>\n<p>The problem is with how my graphql library is building the datetime filter from <code>FilterExpression.newFilterExpressionBuilder().args(env.getArguments()).build()</code>. I was able to somewhat bypass things by omitting the DateTime filter and adding the specification myself afterwards but ideally I could get things to work with the filter expression builder.</p>\n"},{"tags":["java","android","network-interface"],"answers":[{"tags":[],"owner":{"account_id":2619444,"reputation":2641,"user_id":2267817,"accept_rate":75,"display_name":"Always Learning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663098624,"creation_date":1663098624,"answer_id":73708542,"question_id":73705789,"body_markdown":"Treat the network as an ethernet interface.\r\n\r\nYou can either use the default name of &quot;ethx&quot; for you interface. In your case, rename `pif0` to `eth0`. This will cause it to match as an ethernet interface which will cause it to be tracked by the android stack. This should almost assuredly work for your use case.\r\n\r\nThe other option would be to update the android resource overlay `config_ethernet_iface_regex` to match your naming scheme of `pifx`.","title":"How to add and manage a new network interface into android stack","body":"<p>Treat the network as an ethernet interface.</p>\n<p>You can either use the default name of &quot;ethx&quot; for you interface. In your case, rename <code>pif0</code> to <code>eth0</code>. This will cause it to match as an ethernet interface which will cause it to be tracked by the android stack. This should almost assuredly work for your use case.</p>\n<p>The other option would be to update the android resource overlay <code>config_ethernet_iface_regex</code> to match your naming scheme of <code>pifx</code>.</p>\n"},{"tags":[],"owner":{"account_id":252402,"reputation":4873,"user_id":530424,"accept_rate":17,"display_name":"elhadi dp ıpɐɥןǝ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675888491,"creation_date":1675888491,"answer_id":75391463,"question_id":73705789,"body_markdown":"The response is dependent to each vendor, but in general, when the RIL makes setup data call, it enables the NIC interface, then it sends the data connection information to the java RIL part, then the information is sent to the connectivityService which creates a network agent to manage the NIC interface, then the netd sets the routing table and necessary firewall rules.\r\n\r\nThis may vary from vendor to an other","title":"How to add and manage a new network interface into android stack","body":"<p>The response is dependent to each vendor, but in general, when the RIL makes setup data call, it enables the NIC interface, then it sends the data connection information to the java RIL part, then the information is sent to the connectivityService which creates a network agent to manage the NIC interface, then the netd sets the routing table and necessary firewall rules.</p>\n<p>This may vary from vendor to an other</p>\n"}],"owner":{"account_id":252402,"reputation":4873,"user_id":530424,"accept_rate":17,"display_name":"elhadi dp ıpɐɥןǝ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675888491,"creation_date":1663083611,"question_id":73705789,"body_markdown":"I have developed a network driver for the mobile linux kernel.\r\nMy network device (pif0) run well with\r\n\r\n    ifconfig pif0 10.22.2.15\r\n    ping -I pif0 8.8.8.8\r\n\r\nNow i want that android stack be able to track this device and to set it as the default gateway to internet.\r\n\r\n\r\nI think that i should develop a number of java classes to track my new interface and manage it, but i don&#39;t know how to make them in the good order.\r\n\r\nany one who have made this exercise can advice please?\r\n","title":"How to add and manage a new network interface into android stack","body":"<p>I have developed a network driver for the mobile linux kernel.\nMy network device (pif0) run well with</p>\n<pre><code>ifconfig pif0 10.22.2.15\nping -I pif0 8.8.8.8\n</code></pre>\n<p>Now i want that android stack be able to track this device and to set it as the default gateway to internet.</p>\n<p>I think that i should develop a number of java classes to track my new interface and manage it, but i don't know how to make them in the good order.</p>\n<p>any one who have made this exercise can advice please?</p>\n"},{"tags":["java","kotlin","opencv"],"owner":{"account_id":232352,"reputation":16522,"user_id":497132,"accept_rate":75,"display_name":"artem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887791,"creation_date":1675887791,"question_id":75391346,"body_markdown":"I have around 2000 ABGR Mats, around 20x20 px each.\r\n\r\nAt least half of them are solid-colored, the colors can be different for each Mat, and it can be any color.\r\n\r\nCurrently I&#39;m iterating over these Mats like this:\r\n\r\n    private inline fun Mat.isSingleColor(): Boolean {\r\n        get(0, 0, singleColorReferencePixelData)\r\n\r\n        for (row in 0 until rows()) {\r\n            for (column in 0 until cols())  {\r\n                get(row, column, singleColorCurrentPixelData)\r\n\r\n                if (!singleColorReferencePixelData.contentEquals(singleColorCurrentPixelData)) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n\r\n        return true\r\n    }\r\n\r\nIt works, but it&#39;s slow for my task, it takes around 100ms to check all 2000 images.\r\n\r\nIs there a way to speed it up?","title":"How to do fast check if Java OpenCV Mat is solid?","body":"<p>I have around 2000 ABGR Mats, around 20x20 px each.</p>\n<p>At least half of them are solid-colored, the colors can be different for each Mat, and it can be any color.</p>\n<p>Currently I'm iterating over these Mats like this:</p>\n<pre><code>private inline fun Mat.isSingleColor(): Boolean {\n    get(0, 0, singleColorReferencePixelData)\n\n    for (row in 0 until rows()) {\n        for (column in 0 until cols())  {\n            get(row, column, singleColorCurrentPixelData)\n\n            if (!singleColorReferencePixelData.contentEquals(singleColorCurrentPixelData)) {\n                return false\n            }\n        }\n    }\n\n    return true\n}\n</code></pre>\n<p>It works, but it's slow for my task, it takes around 100ms to check all 2000 images.</p>\n<p>Is there a way to speed it up?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":2,"creation_date":1591220247,"post_id":62183042,"comment_id":109977431,"body_markdown":"Explain your input what does each line mean?","body":"Explain your input what does each line mean?"},{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":0,"creation_date":1591220285,"post_id":62183042,"comment_id":109977455,"body_markdown":"When you say your code isn&#39;t giving the proper solution, could you tell us what solution it *is* giving?","body":"When you say your code isn&#39;t giving the proper solution, could you tell us what solution it <i>is</i> giving?"},{"owner":{"account_id":18727545,"reputation":96,"user_id":13653796,"display_name":"Simon He"},"score":0,"creation_date":1591220611,"post_id":62183042,"comment_id":109977589,"body_markdown":"Your question is somewhat unclear, can you explain your inputs and why you got that output","body":"Your question is somewhat unclear, can you explain your inputs and why you got that output"},{"owner":{"account_id":18576023,"reputation":23,"user_id":13536686,"display_name":"Shreyansh"},"score":0,"creation_date":1591220704,"post_id":62183042,"comment_id":109977624,"body_markdown":"Yeah! I&#39;m sorry for being unclear. My output is coming 1 rather than 3 for the example mentioned.","body":"Yeah! I&#39;m sorry for being unclear. My output is coming 1 rather than 3 for the example mentioned."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1634024864,"post_id":62183042,"comment_id":122908810,"body_markdown":"It seems that your input arrays are sorted in ascending order, so I dont get your first `for` loop: shouldn&#39;t it be ``for (int i=a.get(0);i&lt;=b.get(n-1);i++) {` ?","body":"It seems that your input arrays are sorted in ascending order, so I dont get your first <code>for</code> loop: shouldn&#39;t it be ``for (int i=a.get(0);i&lt;=b.get(n-1);i++) {` ?"}],"answers":[{"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591221823,"creation_date":1591221411,"answer_id":62183382,"question_id":62183042,"body_markdown":"    private static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n        int total = 0, x = 0, y = 0;\r\n        for (int i = a.get(n - 1); i &lt;= b.get(0); i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (i % a.get(j) == 0) {\r\n                    y++;\r\n                }\r\n            }\r\n            if (y == n) {\r\n                for (int k = 0; k &lt; m; k++) {\r\n                    if (b.get(k) % i == 0) {\r\n                        x++;\r\n                    }\r\n                }\r\n                if (x == m) {\r\n                    total++;\r\n                }\r\n            }\r\n            // changes here\r\n            y = 0;\r\n            x = 0;\r\n        }\r\n        return total;\r\n    }\r\n\r\nGreat progress. You were very close. Algorithm is on point and efficient.\r\n\r\nOnly one mistake: you were resetting the variables `x` and `y` inside the `if` conditions. \r\n\r\nWhat if the condition is not true? Then the variables are never reset and all the future computations are done on those wrong values in `x` and `y`.\r\n\r\n\r\n----------\r\n\r\nLike Java8? Here is a one-liner:\r\n\r\n    return (int) IntStream.rangeClosed(a.get(n - 1), b.get(0))\r\n            .filter(i -&gt; a.stream().filter(value -&gt; i % value == 0).count() == a.size())\r\n            .filter(i -&gt; b.stream().filter(value -&gt; value % i == 0).count() == b.size())\r\n            .count();","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<pre><code>private static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    int total = 0, x = 0, y = 0;\n    for (int i = a.get(n - 1); i &lt;= b.get(0); i++) {\n        for (int j = 0; j &lt; n; j++) {\n            if (i % a.get(j) == 0) {\n                y++;\n            }\n        }\n        if (y == n) {\n            for (int k = 0; k &lt; m; k++) {\n                if (b.get(k) % i == 0) {\n                    x++;\n                }\n            }\n            if (x == m) {\n                total++;\n            }\n        }\n        // changes here\n        y = 0;\n        x = 0;\n    }\n    return total;\n}\n</code></pre>\n\n<p>Great progress. You were very close. Algorithm is on point and efficient.</p>\n\n<p>Only one mistake: you were resetting the variables <code>x</code> and <code>y</code> inside the <code>if</code> conditions. </p>\n\n<p>What if the condition is not true? Then the variables are never reset and all the future computations are done on those wrong values in <code>x</code> and <code>y</code>.</p>\n\n<hr>\n\n<p>Like Java8? Here is a one-liner:</p>\n\n<pre><code>return (int) IntStream.rangeClosed(a.get(n - 1), b.get(0))\n        .filter(i -&gt; a.stream().filter(value -&gt; i % value == 0).count() == a.size())\n        .filter(i -&gt; b.stream().filter(value -&gt; value % i == 0).count() == b.size())\n        .count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17475006,"reputation":11,"user_id":12670067,"display_name":"Muhammad Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642278533,"creation_date":1642278533,"answer_id":70725176,"question_id":62183042,"body_markdown":"My solution in Python\r\n\r\n    def getTotal(a,b):\r\n      consider_ineger=[]\r\n      for i in range(a[len(a)-1],b[0]+1):\r\n        is_factor=False\r\n    \r\n        for n in a:\r\n            if i%n==0:\r\n                is_factor=True\r\n            else:\r\n                is_factor=False\r\n                break\r\n        if is_factor:\r\n            consider_ineger.append(i)\r\n    \r\n     print(consider_ineger)\r\n     final=[]\r\n    \r\n     for i in consider_ineger:\r\n        is_factor=False\r\n        for n in b:\r\n            if n%i==0:\r\n                is_factor=True\r\n            else:\r\n                is_factor=False\r\n                break\r\n        if is_factor:\r\n            final.append(i)\r\n    return len(final)","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<p>My solution in Python</p>\n<pre><code>def getTotal(a,b):\n  consider_ineger=[]\n  for i in range(a[len(a)-1],b[0]+1):\n    is_factor=False\n\n    for n in a:\n        if i%n==0:\n            is_factor=True\n        else:\n            is_factor=False\n            break\n    if is_factor:\n        consider_ineger.append(i)\n\n print(consider_ineger)\n final=[]\n\n for i in consider_ineger:\n    is_factor=False\n    for n in b:\n        if n%i==0:\n            is_factor=True\n        else:\n            is_factor=False\n            break\n    if is_factor:\n        final.append(i)\nreturn len(final)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27721826,"reputation":1,"user_id":21162188,"display_name":"Jinan Lakan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675887689,"creation_date":1675887689,"answer_id":75391329,"question_id":62183042,"body_markdown":"    \r\n    function getTotalX(a, b) {\r\n    // Write your code here\r\n    var factors=[]\r\n    var smallest=b[0];\r\n    var isFactor = true;\r\n    var count = 0;\r\n    for (var i=0; i&lt;b.length; i++){\r\n        if (b[i]&lt;smallest){\r\n            smallest=b[i];\r\n        }\r\n    }\r\n    for (var j=1; j&lt;=smallest; j++){\r\n        isFactor = true;\r\n        for (var k=0; k&lt;b.length; k++){\r\n            if (b[k]%j!=0){\r\n                isFactor = false;\r\n                break;\r\n            }\r\n            \r\n        }\r\n        if(isFactor){\r\n            factors.push(j);\r\n            }\r\n        \r\n    }\r\n    for (var x=0; x&lt;factors.length; x++){\r\n        isFactor = true;\r\n        for (var y=0; y&lt;a.length; y++){\r\n           if(factors[x]%a[y]!=0){\r\n                isFactor = false;\r\n                break;\r\n      \r\n           }\r\n        }\r\n        if(isFactor){\r\n            count++;\r\n        }\r\n    }\r\n    return count;\r\n    }","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<pre><code>function getTotalX(a, b) {\n// Write your code here\nvar factors=[]\nvar smallest=b[0];\nvar isFactor = true;\nvar count = 0;\nfor (var i=0; i&lt;b.length; i++){\n    if (b[i]&lt;smallest){\n        smallest=b[i];\n    }\n}\nfor (var j=1; j&lt;=smallest; j++){\n    isFactor = true;\n    for (var k=0; k&lt;b.length; k++){\n        if (b[k]%j!=0){\n            isFactor = false;\n            break;\n        }\n        \n    }\n    if(isFactor){\n        factors.push(j);\n        }\n    \n}\nfor (var x=0; x&lt;factors.length; x++){\n    isFactor = true;\n    for (var y=0; y&lt;a.length; y++){\n       if(factors[x]%a[y]!=0){\n            isFactor = false;\n            break;\n  \n       }\n    }\n    if(isFactor){\n        count++;\n    }\n}\nreturn count;\n}\n</code></pre>\n"}],"owner":{"account_id":18576023,"reputation":23,"user_id":13536686,"display_name":"Shreyansh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4713,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62183382,"answer_count":3,"score":2,"last_activity_date":1675887689,"creation_date":1591219858,"question_id":62183042,"body_markdown":"Problem:You will be given two arrays of integers and asked to determine all integers that satisfy the following two conditions:\r\n\r\nThe elements of the first array are all factors of the integer being considered\r\nThe integer being considered is a factor of all elements of the second array\r\nThese numbers are referred to as being between the two arrays. You must determine how many such numbers exist.\r\n\r\nfor example  :Sample Input\r\n\r\n    2 3\r\n    2 4\r\n    16 32 96\r\n\r\nSample Output\r\n\r\n    3\r\n\r\nMy code:\r\n\r\n    public static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\r\n        int total=0,x=0,y=0;\r\n        for(int i=a.get(n-1);i&lt;=b.get(0);i++)\r\n        {\r\n            for(int j=0;j&lt;n;j++)\r\n            {   \r\n                //to check if the elements in list &#39;a&#39; can divide the integer.\r\n                if(i%a.get(j)==0)\r\n                {\r\n                y++;\r\n                }\r\n            }\r\n            //if every element in list a can divide the integer go forward\r\n            if(y==n)\r\n                {   \r\n                    for(int k=0;k&lt;m;k++)\r\n                    {\r\n                        //to check if the elements of list &#39;b&#39; is divisible by integer\r\n                        if(b.get(k)%i==0)\r\n                        {\r\n                        x++;\r\n                        }\r\n                    }  \r\n                    y=0;\r\n                   //if every element of &#39;b&#39; is divisible by integer, count how many                        such integers are there\r\n                    if(x==m)\r\n                    {    \r\n                        total++;\r\n                        x=0;      \r\n                    }\r\n                }\r\n        }\r\n        return total;\r\n\r\n    }\r\n\r\nMy code is not giving proper solution and I cant understand why.","title":"Problem in &quot;between two set&quot; hackerrank problem","body":"<p>Problem:You will be given two arrays of integers and asked to determine all integers that satisfy the following two conditions:</p>\n\n<p>The elements of the first array are all factors of the integer being considered\nThe integer being considered is a factor of all elements of the second array\nThese numbers are referred to as being between the two arrays. You must determine how many such numbers exist.</p>\n\n<p>for example  :Sample Input</p>\n\n<pre><code>2 3\n2 4\n16 32 96\n</code></pre>\n\n<p>Sample Output</p>\n\n<pre><code>3\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>public static int getTotalX(int n, int m, List&lt;Integer&gt; a, List&lt;Integer&gt; b) {\n    int total=0,x=0,y=0;\n    for(int i=a.get(n-1);i&lt;=b.get(0);i++)\n    {\n        for(int j=0;j&lt;n;j++)\n        {   \n            //to check if the elements in list 'a' can divide the integer.\n            if(i%a.get(j)==0)\n            {\n            y++;\n            }\n        }\n        //if every element in list a can divide the integer go forward\n        if(y==n)\n            {   \n                for(int k=0;k&lt;m;k++)\n                {\n                    //to check if the elements of list 'b' is divisible by integer\n                    if(b.get(k)%i==0)\n                    {\n                    x++;\n                    }\n                }  \n                y=0;\n               //if every element of 'b' is divisible by integer, count how many                        such integers are there\n                if(x==m)\n                {    \n                    total++;\n                    x=0;      \n                }\n            }\n    }\n    return total;\n\n}\n</code></pre>\n\n<p>My code is not giving proper solution and I cant understand why.</p>\n"},{"tags":["java","ssl","encryption","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675887382,"creation_date":1651261865,"answer_id":72063072,"question_id":72060766,"body_markdown":"The `BouncyCastleProvider` adds cryptographic algorithms such as the AES in the CCM mode of operation to the available algorithms of `Cipher` and other classes. As CCM is not included by default in Java, you will need to register this provider through code (i.e. `Security.addProvider(new BouncyCastleProvider)`) or adding it into the `java.security` file (as demonstrated in the question). You will probably want to add it to the end of the provider list as the algorithms of the Oracle provider are generally better tested and may be sped up using hardware acceleration.\r\n\r\nHowever, the `BouncyCastleProvider` does *not* contain an implementation of the TLS protocol. You&#39;d need to register the `BouncyCastleJsseProvider` for that instead. This is required as the Java TLS implementation won&#39;t magically know how to use the CCM implementation within Bouncy Castle. JSSE is an acronym of the Java Secure Socket Extension.\r\n\r\nYou can add that provider at the start of the providers so you know for sure that this provider is used for implementing TLS: \r\n\r\n    Security.insertProviderAt(new rg.bouncycastle.jsse.provider.BouncyCastleJsseProvider(), 1);\r\n\r\nAnd you can also directly register it in the `java.security` file.\r\n\r\nNote that the JSSE provider doesn&#39;t provide implementations such as RSA or AES for `Cipher` or `Signature` so it should not be in the way.\r\n\r\n\r\n\r\n","title":"Bouncy Castle Configuration for TLS","body":"<p>The <code>BouncyCastleProvider</code> adds cryptographic algorithms such as the AES in the CCM mode of operation to the available algorithms of <code>Cipher</code> and other classes. As CCM is not included by default in Java, you will need to register this provider through code (i.e. <code>Security.addProvider(new BouncyCastleProvider)</code>) or adding it into the <code>java.security</code> file (as demonstrated in the question). You will probably want to add it to the end of the provider list as the algorithms of the Oracle provider are generally better tested and may be sped up using hardware acceleration.</p>\n<p>However, the <code>BouncyCastleProvider</code> does <em>not</em> contain an implementation of the TLS protocol. You'd need to register the <code>BouncyCastleJsseProvider</code> for that instead. This is required as the Java TLS implementation won't magically know how to use the CCM implementation within Bouncy Castle. JSSE is an acronym of the Java Secure Socket Extension.</p>\n<p>You can add that provider at the start of the providers so you know for sure that this provider is used for implementing TLS:</p>\n<pre><code>Security.insertProviderAt(new rg.bouncycastle.jsse.provider.BouncyCastleJsseProvider(), 1);\n</code></pre>\n<p>And you can also directly register it in the <code>java.security</code> file.</p>\n<p>Note that the JSSE provider doesn't provide implementations such as RSA or AES for <code>Cipher</code> or <code>Signature</code> so it should not be in the way.</p>\n"}],"owner":{"account_id":18545853,"reputation":43,"user_id":13513255,"display_name":"Amal Jesudas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72063072,"answer_count":1,"score":2,"last_activity_date":1675887382,"creation_date":1651248300,"question_id":72060766,"body_markdown":"I am using a test app that used java for TLS communication. Standard Oracle java is installed in my system.\r\n\r\nI need to use the `TLS_DHE_RSA_WITH_AES_128_CCM` cipher suite, which is not supported by standard Java, so many suggested using Bouncy Castle. I downloaded and copied the `bcprov-ext-jdk18on-171.jar` to  `$JAVA_HOME/lib` folder.\r\nAlso, updated `java.security` file to include Bouncy Castle in the provider list as below:\r\n   \r\n```None\r\nsecurity.provider.4=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n```\r\n\r\nI still cannot get `TLS_DHE_RSA_WITH_AES_128_CCM` to work though.\r\n\r\nAre the steps I did sufficient and correct? Can someone suggest the steps to install and configure Bouncy Castle?\r\n","title":"Bouncy Castle Configuration for TLS","body":"<p>I am using a test app that used java for TLS communication. Standard Oracle java is installed in my system.</p>\n<p>I need to use the <code>TLS_DHE_RSA_WITH_AES_128_CCM</code> cipher suite, which is not supported by standard Java, so many suggested using Bouncy Castle. I downloaded and copied the <code>bcprov-ext-jdk18on-171.jar</code> to  <code>$JAVA_HOME/lib</code> folder.\nAlso, updated <code>java.security</code> file to include Bouncy Castle in the provider list as below:</p>\n<pre><code>security.provider.4=org.bouncycastle.jce.provider.BouncyCastleProvider\n</code></pre>\n<p>I still cannot get <code>TLS_DHE_RSA_WITH_AES_128_CCM</code> to work though.</p>\n<p>Are the steps I did sufficient and correct? Can someone suggest the steps to install and configure Bouncy Castle?</p>\n"},{"tags":["java","angular","spring-boot"],"owner":{"account_id":27735461,"reputation":13,"user_id":21173148,"display_name":"lys_18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887342,"creation_date":1675887145,"question_id":75391251,"body_markdown":"I&#39;m a beginner in the area of ​​programming and I&#39;m developing a project where I&#39;m trying to send data from my student registration form, which contains a file input for the student&#39;s profile picture, but every time I submit the data it&#39;s not registered and I get the same message:\r\n\r\n&gt; error: &quot;Internal Server Error&quot;\r\n&gt; \r\n&gt; message: &quot;Invalid file: java.io.FileNotFoundException:\r\n&gt; C:\\\\fakepath\\\\Perfil.jpg (System could not find specific path)&quot;\r\n&gt; \r\n&gt; \r\n&gt; status: 500\r\n&gt; \r\n&gt; \r\n&gt; trace: &quot;java.lang.IllegalArgumentException: Invalid file:\r\n&gt; java.io.FileNotFoundException\r\n\r\n**Error description:**\r\n\r\n```\r\njava.io.FileNotFoundException: C:\\fakepath\\Perfil.jpg (System could not find specific path)\r\n        at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\r\n        at com.example.demo.controller.StudentController.saveStudent(studentController.java:63) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n```\r\n\r\n**Function With Error in** **Student** **Controller:**\r\n\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.nio.file.Files;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.management.relation.RelationTypeNotFoundException;\r\n\r\nimport org.apache.commons.fileupload.FileItem;\r\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.commons.CommonsMultipartFile;\r\n\r\nimport com.example.demo.model.Student;\r\nimport com.example.demo.repository.StudentRepository;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/registry/student&quot;)\r\n@AllArgsConstructor\r\npublic class StudentController {\r\n\r\n    private final StudentRepository studentRepos;\r\n    private final ImageModelController imgCot;\r\n\r\n    @PostMapping\r\n    public Student saveStudent(@RequestBody Student record) throws IOException{\r\n        File arqFile = record.getPicByte();\r\n        \r\n        FileItem fileItem = new DiskFileItemFactory().createItem(&quot;file&quot;,\r\n        Files.probeContentType(arqFile.toPath()), false, arqFile.getName());\r\n\r\n// BELOW LINE WITH ERROR\r\n\r\n        try (InputStream in = new FileInputStream(record.getPicByte()); OutputStream out = fileItem.getOutputStream()) {\r\n\r\n// ABOVE LINE WITH ERROR\r\n\r\n            in.transferTo(out);\r\n        } catch (Exception e) {\r\n            throw new IllegalArgumentException(&quot;Invalid file: &quot; + e, e);\r\n        }\r\n\r\n        CommonsMultipartFile multipartFile = new CommonsMultipartFile( fileItem);\r\n         \r\n        imgCot.uploadFile(multipartFile);\r\n        \r\n        return studentRepos.save(record);\r\n    }\r\n}\r\n```\r\n\r\n**Student** **Repository:**\r\n\r\n```\r\npackage com.example.demo.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.example.demo.model.Student;\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n    \r\n}\r\n```\r\n\r\n**Class Student****:**\r\n\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport java.io.File;\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Entity\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;serial&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long idStudent;\r\n\r\n    @Column(length = 50, nullable = false)\r\n    private String studentName;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date startDate;\r\n    \r\n    @Column(nullable = false)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date endDate;\r\n    \r\n    @Column(nullable = false)\r\n    private File picByte;\r\n\r\n}\r\n```","title":"How to resolve error &quot;System could not find specific path&quot; - Java Spring Boot","body":"<p>I'm a beginner in the area of ​​programming and I'm developing a project where I'm trying to send data from my student registration form, which contains a file input for the student's profile picture, but every time I submit the data it's not registered and I get the same message:</p>\n<blockquote>\n<p>error: &quot;Internal Server Error&quot;</p>\n<p>message: &quot;Invalid file: java.io.FileNotFoundException:\nC:\\fakepath\\Perfil.jpg (System could not find specific path)&quot;</p>\n<p>status: 500</p>\n<p>trace: &quot;java.lang.IllegalArgumentException: Invalid file:\njava.io.FileNotFoundException</p>\n</blockquote>\n<p><strong>Error description:</strong></p>\n<pre><code>java.io.FileNotFoundException: C:\\fakepath\\Perfil.jpg (System could not find specific path)\n        at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216) ~[na:na]\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\n        at com.example.demo.controller.StudentController.saveStudent(studentController.java:63) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n</code></pre>\n<p><strong>Function With Error in</strong> <strong>Student</strong> <strong>Controller:</strong></p>\n<pre><code>package com.example.demo.controller;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.management.relation.RelationTypeNotFoundException;\n\nimport org.apache.commons.fileupload.FileItem;\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.commons.CommonsMultipartFile;\n\nimport com.example.demo.model.Student;\nimport com.example.demo.repository.StudentRepository;\n\nimport lombok.AllArgsConstructor;\n\n@RestController\n@RequestMapping(&quot;/registry/student&quot;)\n@AllArgsConstructor\npublic class StudentController {\n\n    private final StudentRepository studentRepos;\n    private final ImageModelController imgCot;\n\n    @PostMapping\n    public Student saveStudent(@RequestBody Student record) throws IOException{\n        File arqFile = record.getPicByte();\n        \n        FileItem fileItem = new DiskFileItemFactory().createItem(&quot;file&quot;,\n        Files.probeContentType(arqFile.toPath()), false, arqFile.getName());\n\n// BELOW LINE WITH ERROR\n\n        try (InputStream in = new FileInputStream(record.getPicByte()); OutputStream out = fileItem.getOutputStream()) {\n\n// ABOVE LINE WITH ERROR\n\n            in.transferTo(out);\n        } catch (Exception e) {\n            throw new IllegalArgumentException(&quot;Invalid file: &quot; + e, e);\n        }\n\n        CommonsMultipartFile multipartFile = new CommonsMultipartFile( fileItem);\n         \n        imgCot.uploadFile(multipartFile);\n        \n        return studentRepos.save(record);\n    }\n}\n</code></pre>\n<p><strong>Student</strong> <strong>Repository:</strong></p>\n<pre><code>package com.example.demo.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.example.demo.model.Student;\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n    \n}\n</code></pre>\n<p><strong>Class Student</strong>**:**</p>\n<pre><code>package com.example.demo.model;\n\nimport java.io.File;\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport lombok.Data;\n\n@Data\n@Entity\npublic class Student {\n\n    @Id\n    @Column(columnDefinition = &quot;serial&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long idStudent;\n\n    @Column(length = 50, nullable = false)\n    private String studentName;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date startDate;\n    \n    @Column(nullable = false)\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n    private Date endDate;\n    \n    @Column(nullable = false)\n    private File picByte;\n\n}\n</code></pre>\n"},{"tags":["java","json","enums","jsonschema"],"owner":{"account_id":20190310,"reputation":23,"user_id":14808685,"display_name":"Geo A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887143,"creation_date":1675887002,"question_id":75391225,"body_markdown":"Having the following java class:\r\n``` \r\npublic enum MyEnum {\r\n    FIRST_VALUE(&quot;ab&quot;, &quot;cd&quot;, &quot;fg&quot;),\r\n    SECOND_VALUE(&quot;ab&quot;, &quot;cd&quot;),\r\n    THIRD_VALUE;\r\n    private List&lt;String&gt; values;\r\n    MyEnum(String... values) {\r\n        this.values = Arrays.asList(values);\r\n    }\r\n    public List&lt;String&gt; getValues() {\r\n        return values;\r\n    }    \r\n}\r\n```\r\nIs there any way to generate this type of class based on json-schema? how should the json-schema look like? \r\n\r\nThanks","title":"How to add multiple values for an enum constructor using json schema?","body":"<p>Having the following java class:</p>\n<pre><code>public enum MyEnum {\n    FIRST_VALUE(&quot;ab&quot;, &quot;cd&quot;, &quot;fg&quot;),\n    SECOND_VALUE(&quot;ab&quot;, &quot;cd&quot;),\n    THIRD_VALUE;\n    private List&lt;String&gt; values;\n    MyEnum(String... values) {\n        this.values = Arrays.asList(values);\n    }\n    public List&lt;String&gt; getValues() {\n        return values;\n    }    \n}\n</code></pre>\n<p>Is there any way to generate this type of class based on json-schema? how should the json-schema look like?</p>\n<p>Thanks</p>\n"},{"tags":["java","excel","ubuntu","apache-poi","xssf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1675886714,"post_id":75390860,"comment_id":133026879,"body_markdown":"Make sure the file you create has a file extension of `.xlsx`. Excel files (modern ones, at least) basically _are_ zip files containing what you are seeing (a collection of XML documents). Without the Excel related file extension, the file may be mistaken for just a plain zip file (container).","body":"Make sure the file you create has a file extension of <code>.xlsx</code>. Excel files (modern ones, at least) basically <i>are</i> zip files containing what you are seeing (a collection of XML documents). Without the Excel related file extension, the file may be mistaken for just a plain zip file (container)."}],"owner":{"account_id":17078329,"reputation":3,"user_id":20418191,"display_name":"skylight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675887039,"creation_date":1675884778,"question_id":75390860,"body_markdown":"I am trying to write an excel file using java. I&#39;m looking for just simply a column with one username per row right now, and then will build upon this later once I understand what is going a bit better. I get a zip file instead of the expected excel file, and it contains docProps, _rels, xl, and [Content_Types].xml. I don&#39;t understand how to open this zip file as though it is an excel file. I have not had luck finding the answer as all the tutorials I see show it to be a straight forward excel file, not a zip file. Is it a configuration I&#39;m missing or is it to do with linux?\r\n\r\nHere&#39;s my code, and what I end up with:\r\n```\r\n    private void createExcelSheet(Assignment assignment) throws FileNotFoundException {\r\n\r\n        String excelFilePath = Configuration.DIRECTORY_ROOT+&quot;/tests/&quot;+assignment.getAssn_number()+&quot;/gradebook-&quot;+assignment.getAssn_number();\r\n\r\n        int rowNum = 0;\r\n        int col = 0;\r\n        XSSFWorkbook workbook = new XSSFWorkbook();\r\n        XSSFSheet spreadsheet = workbook.createSheet(assignment.getAssn_number()+&quot; Grades &quot;);\r\n        XSSFRow row = spreadsheet.createRow(rowNum);\r\n\r\n        Cell cell;\r\n\r\n\r\n            for (User user : userService.getUsers() ) {\r\n\r\n                row = spreadsheet.createRow(rowNum);\r\n                cell = row.createCell(rowNum);\r\n                cell.setCellValue(user.getStudent_id());\r\n\r\n\r\n                rowNum++;\r\n            }\r\n\r\n        try (FileOutputStream fos = new FileOutputStream(excelFilePath)) {\r\n                workbook.write(fos);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x3bIY.png","title":"zip file instead of an excel file when using XSSFWorkbook in java how do I open this","body":"<p>I am trying to write an excel file using java. I'm looking for just simply a column with one username per row right now, and then will build upon this later once I understand what is going a bit better. I get a zip file instead of the expected excel file, and it contains docProps, _rels, xl, and [Content_Types].xml. I don't understand how to open this zip file as though it is an excel file. I have not had luck finding the answer as all the tutorials I see show it to be a straight forward excel file, not a zip file. Is it a configuration I'm missing or is it to do with linux?</p>\n<p>Here's my code, and what I end up with:</p>\n<pre><code>    private void createExcelSheet(Assignment assignment) throws FileNotFoundException {\n\n        String excelFilePath = Configuration.DIRECTORY_ROOT+&quot;/tests/&quot;+assignment.getAssn_number()+&quot;/gradebook-&quot;+assignment.getAssn_number();\n\n        int rowNum = 0;\n        int col = 0;\n        XSSFWorkbook workbook = new XSSFWorkbook();\n        XSSFSheet spreadsheet = workbook.createSheet(assignment.getAssn_number()+&quot; Grades &quot;);\n        XSSFRow row = spreadsheet.createRow(rowNum);\n\n        Cell cell;\n\n\n            for (User user : userService.getUsers() ) {\n\n                row = spreadsheet.createRow(rowNum);\n                cell = row.createCell(rowNum);\n                cell.setCellValue(user.getStudent_id());\n\n\n                rowNum++;\n            }\n\n        try (FileOutputStream fos = new FileOutputStream(excelFilePath)) {\n                workbook.write(fos);\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x3bIY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3bIY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","maven","testng","maven-surefire-plugin"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1613295341,"post_id":66193950,"comment_id":117026946,"body_markdown":"In which console? Why you cannot see them currently? Can you add more context?","body":"In which console? Why you cannot see them currently? Can you add more context?"},{"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"score":0,"creation_date":1613298503,"post_id":66193950,"comment_id":117027604,"body_markdown":"@AlexeyR. On IDE console. The exceptions are displayed on the TestNG&#39;s tab under the test failure label.","body":"@AlexeyR. On IDE console. The exceptions are displayed on the TestNG&#39;s tab under the test failure label."},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613308155,"post_id":66193950,"comment_id":117029836,"body_markdown":"This is a straight forward question ! why to close","body":"This is a straight forward question ! why to close"},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613308181,"post_id":66193950,"comment_id":117029843,"body_markdown":"Testng won&#39;t print the exception to stdout you have to handle it in a special way]","body":"Testng won&#39;t print the exception to stdout you have to handle it in a special way]"},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613308216,"post_id":66193950,"comment_id":117029854,"body_markdown":"@AlexeyR. Please vote to reopen","body":"@AlexeyR. Please vote to reopen"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1613312177,"post_id":66193950,"comment_id":117030889,"body_markdown":"Alright, voted. But I believe the proper answer has been already given. Unless there is some configuration feature that allows to override default behavior.","body":"Alright, voted. But I believe the proper answer has been already given. Unless there is some configuration feature that allows to override default behavior."},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613312466,"post_id":66193950,"comment_id":117030985,"body_markdown":"@AlexeyR. Thank you  the answer which is provided is wrong , should use VerboseReporter","body":"@AlexeyR. Thank you  the answer which is provided is wrong , should use VerboseReporter"},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1613312499,"post_id":66193950,"comment_id":117031003,"body_markdown":"Please do vote to reopen so that i can add the answer","body":"Please do vote to reopen so that i can add the answer"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1613313584,"post_id":66193950,"comment_id":117031316,"body_markdown":"@shriv ☝️set your vote as well. I spent mine.","body":"@shriv ☝️set your vote as well. I spent mine."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":2,"creation_date":1613341876,"post_id":66193950,"comment_id":117039380,"body_markdown":"@PDHide ReOpened the question to accept additional answers.","body":"@PDHide ReOpened the question to accept additional answers."},{"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":2,"creation_date":1613342341,"post_id":66193950,"comment_id":117039495,"body_markdown":"@DebanjanB Added the answer thank you","body":"@DebanjanB Added the answer thank you"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675886230,"creation_date":1613298743,"answer_id":66194483,"question_id":66193950,"body_markdown":"If you use any kind of logging framework you should probably stick with that.\r\nOtherwise you can always print Exceptions using https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#printStackTrace() (and siblings) such as\r\n\r\n    ...\r\n    } catch (Exception e) {\r\n        e.printStackTrace(System.out);\r\n        e.printStackTrace(System.err);\r\n    }\r\n    ...\r\n","title":"How to print exceptions on console? I am using TestNG and Maven","body":"<p>If you use any kind of logging framework you should probably stick with that.\nOtherwise you can always print Exceptions using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#printStackTrace()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html#printStackTrace()</a> (and siblings) such as</p>\n<pre><code>...\n} catch (Exception e) {\n    e.printStackTrace(System.out);\n    e.printStackTrace(System.err);\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9132670,"reputation":18589,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1613342159,"creation_date":1613342159,"answer_id":66200792,"question_id":66193950,"body_markdown":"https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/reporters/VerboseReporter.html\r\n\r\nyou should use above reporter , but the constructor expects a string so you cannot initialize it using testng.xml **( if any one knows how to pass string argument to listener in testng.xml please do add it here )**\r\n\r\nSo the work around is to add  the listener through script and initiate testng through a java entry file.\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \r\n            TestNG testng = new TestNG();\r\n    \r\n    \t\t// Create a list of String\r\n    \t\tList&lt;String&gt; suitefiles = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t// Add xml file which you have to execute\r\n    \t\tsuitefiles.add(prop.getProperty(&quot;path_to_your_existing_testngxml\\testng.xml&quot;));\r\n    \r\n    \t\t// now set xml file for execution\r\n    \t\ttestng.setTestSuites(suitefiles);\r\n    \t\t\r\n    \t\ttestng.addListener(new VerboseReporter(&quot;[TestNG] &quot;));\r\n    \r\n    \t\t// finally execute the runner using run method\r\n    \t\ttestng.run();\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Note**\r\n\r\nAs this reporter constructor expects a string you should not provide it in your testng.xml you will get initialization error\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TZ3BZ.png","title":"How to print exceptions on console? I am using TestNG and Maven","body":"<p><a href=\"https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/reporters/VerboseReporter.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/reporters/VerboseReporter.html</a></p>\n<p>you should use above reporter , but the constructor expects a string so you cannot initialize it using testng.xml <strong>( if any one knows how to pass string argument to listener in testng.xml please do add it here )</strong></p>\n<p>So the work around is to add  the listener through script and initiate testng through a java entry file.</p>\n<pre><code>public static void main(String[] args) {\n\n\n        TestNG testng = new TestNG();\n\n        // Create a list of String\n        List&lt;String&gt; suitefiles = new ArrayList&lt;String&gt;();\n\n        // Add xml file which you have to execute\n        suitefiles.add(prop.getProperty(&quot;path_to_your_existing_testngxml\\testng.xml&quot;));\n\n        // now set xml file for execution\n        testng.setTestSuites(suitefiles);\n        \n        testng.addListener(new VerboseReporter(&quot;[TestNG] &quot;));\n\n        // finally execute the runner using run method\n        testng.run();\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/TZ3BZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TZ3BZ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note</strong></p>\n<p>As this reporter constructor expects a string you should not provide it in your testng.xml you will get initialization error</p>\n"}],"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66200792,"answer_count":2,"score":1,"last_activity_date":1675886230,"creation_date":1613294241,"question_id":66193950,"body_markdown":"I want to see the exceptions on console. I am using TestNG with Maven as a build tool. I have defined my testng.xml in the Maven surefire plugin.","title":"How to print exceptions on console? I am using TestNG and Maven","body":"<p>I want to see the exceptions on console. I am using TestNG with Maven as a build tool. I have defined my testng.xml in the Maven surefire plugin.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675242829,"creation_date":1675242829,"answer_id":75307864,"question_id":75300096,"body_markdown":"&gt; Using FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.\r\n\r\nThat is the very reason I always recommend the job-per-file approach over the single-job-for-all-files-with-MultiResourceItemReader approach, like [here](https://stackoverflow.com/a/75282266/5019386) or [here](https://stackoverflow.com/a/60719833/5019386).\r\n\r\n&gt; Is there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?\r\n\r\nNo, because the listener is not aware of the resource the item was read from. This is a limitation of the approach itself, not in Spring Batch. What you can do though is make your items aware of the resource they were read from, by implementing [ResourceAware](https://docs.spring.io/spring-batch/docs/5.0.0/api/org/springframework/batch/item/ResourceAware.html).","title":"Spring batch reading files with MultiResourceItemReader and using ItemReadListener","body":"<blockquote>\n<p>Using FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.</p>\n</blockquote>\n<p>That is the very reason I always recommend the job-per-file approach over the single-job-for-all-files-with-MultiResourceItemReader approach, like <a href=\"https://stackoverflow.com/a/75282266/5019386\">here</a> or <a href=\"https://stackoverflow.com/a/60719833/5019386\">here</a>.</p>\n<blockquote>\n<p>Is there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?</p>\n</blockquote>\n<p>No, because the listener is not aware of the resource the item was read from. This is a limitation of the approach itself, not in Spring Batch. What you can do though is make your items aware of the resource they were read from, by implementing <a href=\"https://docs.spring.io/spring-batch/docs/5.0.0/api/org/springframework/batch/item/ResourceAware.html\" rel=\"nofollow noreferrer\">ResourceAware</a>.</p>\n"}],"owner":{"account_id":12330817,"reputation":31,"user_id":8996898,"display_name":"zsp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675885989,"creation_date":1675182201,"question_id":75300096,"body_markdown":"Here&#39;s the scenario: I have a Spring Batch that reads multiple input files, processes them, and finally generates more output files. \r\n\r\nUsing FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.\r\n\r\nPS: I use ItemReadListener to add some properties of the object being read within a jobExecutionContext, which will be used later to validate (and generate, or not, the output file).\r\n\r\nHowever, if I use MultiResourceItemReader to read all the input files without completely restarting the whole context (and the resources), the ItemReadListener overwrites the properties of each object (input file) in the jobExecutionContext, so that we only have data from the last one object present in the array of input files.\r\n\r\nIs there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?\r\n\r\nExample Reader:\r\n```\r\n@Bean\r\n    public MultiResourceItemReader&lt;CustomObject&gt; multiResourceItemReader() {\r\n      MultiResourceItemReader&lt;CustomObject&gt; resourceItemReader = new MultiResourceItemReader&lt;CustomObject&gt;();\r\n      resourceItemReader.setResources(resources);\r\n      resourceItemReader.setDelegate(reader());\r\n      return resourceItemReader;\r\n    }\r\n\r\n@Bean\r\n    public FlatFileItemReader&lt;CustomObject&gt; reader() {\r\n      FlatFileItemReader&lt;CustomObject&gt; reader = new FlatFileItemReader&lt;CustomObject&gt;();\r\n\t  reader.setLineMapper(customObjectLineMapper());\t    \r\n\t  return reader;\r\n    }\r\n\r\n```\r\nExample Step:\r\n\r\n```\r\n@Bean\r\n    public Step loadInputFiles() {\r\n      return stepBuilderFactory.get(&quot;loadInputFiles&quot;).&lt;CustomObject, CustomObject&gt;chunk(10)\r\n          .reader(multiResourceItemReader())\r\n          .writer(new NoOpItemWriter())\r\n          .listener(customObjectListener())\r\n          .build();\r\n    }\r\n```\r\n\r\nExample Listener:\r\n\r\n```\r\npublic class CustomObjectListener implements ItemReadListener&lt;CustomObject&gt; {\r\n\r\n\t@Value(&quot;#{jobExecution.executionContext}&quot;)\r\n    private ExecutionContext executionContext;\r\n\t\r\n\t@Override\r\n\tpublic void beforeRead() {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterRead(CustomObject item) {\r\n\t\texecutionContext.put(&quot;customProperty&quot;, item.getCustomProperty());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onReadError(Exception ex) {\r\n\t}\r\n}\r\n```\r\nScheduler:\r\n```\r\npublic class Scheduler {\r\n\r\n\t@Autowired\r\n\tJobLauncher jobLauncher;\r\n\t\r\n\t@Autowired\r\n\tJob job;\r\n\t\r\n\tSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\r\n\t@Scheduled(fixedDelay = 5000, initialDelay = 5000)\r\n\tpublic void scheduleByFixedRate() throws Exception {\r\n\t\tJobParameters params = new JobParametersBuilder().addString(&quot;time&quot;, format.format(Calendar.getInstance().getTime()))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t .toJobParameters();\r\n\t\t\r\n\t\tjobLauncher.run(job, params);\r\n}\r\n```","title":"Spring batch reading files with MultiResourceItemReader and using ItemReadListener","body":"<p>Here's the scenario: I have a Spring Batch that reads multiple input files, processes them, and finally generates more output files.</p>\n<p>Using FlatFileItemReader and restarting the entire Batch with a cron, I can process the files 1 by 1, however it is not feasible to restart the batch every X seconds just to process the files individually.</p>\n<p>PS: I use ItemReadListener to add some properties of the object being read within a jobExecutionContext, which will be used later to validate (and generate, or not, the output file).</p>\n<p>However, if I use MultiResourceItemReader to read all the input files without completely restarting the whole context (and the resources), the ItemReadListener overwrites the properties of each object (input file) in the jobExecutionContext, so that we only have data from the last one object present in the array of input files.</p>\n<p>Is there any way to use the ItemReadListener for each Resource read inside a MultiResourceItemReader?</p>\n<p>Example Reader:</p>\n<pre><code>@Bean\n    public MultiResourceItemReader&lt;CustomObject&gt; multiResourceItemReader() {\n      MultiResourceItemReader&lt;CustomObject&gt; resourceItemReader = new MultiResourceItemReader&lt;CustomObject&gt;();\n      resourceItemReader.setResources(resources);\n      resourceItemReader.setDelegate(reader());\n      return resourceItemReader;\n    }\n\n@Bean\n    public FlatFileItemReader&lt;CustomObject&gt; reader() {\n      FlatFileItemReader&lt;CustomObject&gt; reader = new FlatFileItemReader&lt;CustomObject&gt;();\n      reader.setLineMapper(customObjectLineMapper());       \n      return reader;\n    }\n\n</code></pre>\n<p>Example Step:</p>\n<pre><code>@Bean\n    public Step loadInputFiles() {\n      return stepBuilderFactory.get(&quot;loadInputFiles&quot;).&lt;CustomObject, CustomObject&gt;chunk(10)\n          .reader(multiResourceItemReader())\n          .writer(new NoOpItemWriter())\n          .listener(customObjectListener())\n          .build();\n    }\n</code></pre>\n<p>Example Listener:</p>\n<pre><code>public class CustomObjectListener implements ItemReadListener&lt;CustomObject&gt; {\n\n    @Value(&quot;#{jobExecution.executionContext}&quot;)\n    private ExecutionContext executionContext;\n    \n    @Override\n    public void beforeRead() {\n    }\n\n    @Override\n    public void afterRead(CustomObject item) {\n        executionContext.put(&quot;customProperty&quot;, item.getCustomProperty());\n    }\n\n    @Override\n    public void onReadError(Exception ex) {\n    }\n}\n</code></pre>\n<p>Scheduler:</p>\n<pre><code>public class Scheduler {\n\n    @Autowired\n    JobLauncher jobLauncher;\n    \n    @Autowired\n    Job job;\n    \n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    \n    @Scheduled(fixedDelay = 5000, initialDelay = 5000)\n    public void scheduleByFixedRate() throws Exception {\n        JobParameters params = new JobParametersBuilder().addString(&quot;time&quot;, format.format(Calendar.getInstance().getTime()))\n                                                         .toJobParameters();\n        \n        jobLauncher.run(job, params);\n}\n</code></pre>\n"},{"tags":["java","spring-integration","spring-integration-dsl","spring-integration-sftp","spring-integration-ftp"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675866787,"post_id":75380905,"comment_id":133020191,"body_markdown":"Consider to configure a DEBUG logging level for `org.springframework.integration` category to observer some events when your `Ftp.inboundAdapter` is in action. There may be a log like `Cannot rename`.","body":"Consider to configure a DEBUG logging level for <code>org.springframework.integration</code> category to observer some events when your <code>Ftp.inboundAdapter</code> is in action. There may be a log like <code>Cannot rename</code>."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675868256,"post_id":75380905,"comment_id":133020730,"body_markdown":"Hi @ArtemBilan, thanks for replying. I did what you suggested and the only log that I see with DEBUG level are the next: `Connected to server [xxx.xxx.xxx.xxx:xx]`, `0 files transferred from &#39;/H2H/Salida/&#39;`, and `Received no Message during the poll, returning &#39;false&#39;`.","body":"Hi @ArtemBilan, thanks for replying. I did what you suggested and the only log that I see with DEBUG level are the next: <code>Connected to server [xxx.xxx.xxx.xxx:xx]</code>, <code>0 files transferred from &#39;&#47;H2H&#47;Salida&#47;&#39;</code>, and <code>Received no Message during the poll, returning &#39;false&#39;</code>."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675869270,"post_id":75380905,"comment_id":133021101,"body_markdown":"OK. At least we see now that no files are transferred. Can you debug your solution and place a break point in the `AbstractInboundFileSynchronizer.transferFilesFromRemoteToLocal` to see what `session.list(remoteDirectory)` returns for you?","body":"OK. At least we see now that no files are transferred. Can you debug your solution and place a break point in the <code>AbstractInboundFileSynchronizer.transferFilesFromRemoteToLoc&zwnj;&#8203;al</code> to see what <code>session.list(remoteDirectory)</code> returns for you?"},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675871080,"post_id":75380905,"comment_id":133021796,"body_markdown":"`session.list(remoteDirectory)` returns an empty array, so the `AbstractInboundFileSynchronizer.transferFilesFromRemoteToLocal` function returns 0.","body":"<code>session.list(remoteDirectory)</code> returns an empty array, so the <code>AbstractInboundFileSynchronizer.transferFilesFromRemoteToLoc&zwnj;&#8203;al</code> function returns 0."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675872182,"post_id":75380905,"comment_id":133022232,"body_markdown":"Then there is nothing what we can do from our side: turns out your FTP client cannot see entries in that `/H2H/Salida/` remote dir.","body":"Then there is nothing what we can do from our side: turns out your FTP client cannot see entries in that <code>&#47;H2H&#47;Salida&#47;</code> remote dir."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675875733,"post_id":75380905,"comment_id":133023523,"body_markdown":"I see. Do you think there is some kind of specific configuration that should be set on the FTP server to Spring Integration be able to retrieve the directory&#39;s entries? When I use Apache Mina locally, it works perfecty, but I use the default configuration, so I don&#39;t know if there&#39;s something configured differently on the AS400.","body":"I see. Do you think there is some kind of specific configuration that should be set on the FTP server to Spring Integration be able to retrieve the directory&#39;s entries? When I use Apache Mina locally, it works perfecty, but I use the default configuration, so I don&#39;t know if there&#39;s something configured differently on the AS400."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675875904,"post_id":75380905,"comment_id":133023580,"body_markdown":"Neither do I: never worked with AS400. Since we got an answer from `FtpSession.list()`, then connection happens properly. Therefore something else is needed to be done on the server side to make the files in that dir to be visible for FTP client.","body":"Neither do I: never worked with AS400. Since we got an answer from <code>FtpSession.list()</code>, then connection happens properly. Therefore something else is needed to be done on the server side to make the files in that dir to be visible for FTP client."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":0,"creation_date":1675876243,"post_id":75380905,"comment_id":133023702,"body_markdown":"I see. Then I&#39;ll talk to the AS400 team to check the FTP server configuration and maybe find something. Thanks again for trying to help.","body":"I see. Then I&#39;ll talk to the AS400 team to check the FTP server configuration and maybe find something. Thanks again for trying to help."},{"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"score":1,"creation_date":1675885839,"post_id":75380905,"comment_id":133026625,"body_markdown":"Hi @ArtemBilan, I found the solution. It wasn&#39;t something bad in the FTP Server, but a dependency in `spring-integration-ftp`. My project is using `spring-integration-ftp 5.5.16` that has `commons-net 3.8.0` as a dependency. For some reason, that version of `commons-net` was retrieving the empty array, so I exclude that dependecy from `spring-integration-ftp` and included version 3.9.0 in my project and it works now. I don&#39;t know if it&#39;s some kind of bug in version 3.8.0 inside `spring-integration-ftp`, but version 3.9.0 solved my problem.","body":"Hi @ArtemBilan, I found the solution. It wasn&#39;t something bad in the FTP Server, but a dependency in <code>spring-integration-ftp</code>. My project is using <code>spring-integration-ftp 5.5.16</code> that has <code>commons-net 3.8.0</code> as a dependency. For some reason, that version of <code>commons-net</code> was retrieving the empty array, so I exclude that dependecy from <code>spring-integration-ftp</code> and included version 3.9.0 in my project and it works now. I don&#39;t know if it&#39;s some kind of bug in version 3.8.0 inside <code>spring-integration-ftp</code>, but version 3.9.0 solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675885972,"creation_date":1675885972,"answer_id":75391073,"question_id":75380905,"body_markdown":"I found the solution of my problem. I&#39;m posting this in case something similar happens to someone else. \r\n\r\nMy project is using `spring-integration-ftp 5.5.16` that has `commons-net 3.8.0` as a dependency. For some reason, that version of `commons-net` wasn&#39;t retrieving the files inside the directory of the AS400, so I excluded that dependency from `spring-integration-ftp` and added `commons-net 3.9.0` in my project. Now everything works fine.","title":"Spring Integration is not detecting files on FTP Folder","body":"<p>I found the solution of my problem. I'm posting this in case something similar happens to someone else.</p>\n<p>My project is using <code>spring-integration-ftp 5.5.16</code> that has <code>commons-net 3.8.0</code> as a dependency. For some reason, that version of <code>commons-net</code> wasn't retrieving the files inside the directory of the AS400, so I excluded that dependency from <code>spring-integration-ftp</code> and added <code>commons-net 3.9.0</code> in my project. Now everything works fine.</p>\n"}],"owner":{"account_id":21947475,"reputation":71,"user_id":16227098,"display_name":"jmartinez"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75391073,"answer_count":1,"score":1,"last_activity_date":1675885972,"creation_date":1675823942,"question_id":75380905,"body_markdown":"Currently I&#39;m facing a problem where I don&#39;t know what to do to resolve it. I&#39;m developing a simple application that transfer files through different FTP and SFTP servers to be processed. Well, at the beginnig those servers weren&#39;t ready, so I used Apache Mina and RebexTinySftpServer to set a FTP server and a SFTP server on my computer to test my development. \r\n\r\nWith those applications I completed and tested my application locally, so it was time to test it using the servers that will be used in production, but something is wrong with the FTP server and Spring Integration is not detecting the files that are put in the folder to be transferred to the SFTP server.\r\n\r\nI have two folders on each server: one for Input files and the another one for Output files. So when Spring Integration detects that there&#39;s a new file in the Input folder on the SFTP Server, it transfers the file to the Input folder on FTP Server to be processed for another service. That part works fine.\r\n\r\nAfter that service processes the file, it generates an output file and stores it in the Output folder on the FTP Server to be transferred to the Output folder on the SFTP server, but for some reason Spring Integration is not detecting those files and doesn&#39;t transfer none of them. This part is what I don&#39;t know how to solve because none Exception is being thrown, so I don&#39;t know what part of my code I have to modify.\r\n\r\nHere is my code where I define the DefaultFtpSessionFactory:\r\n\r\n```\r\npublic DefaultFtpSessionFactory ftpSessionFactory() {\r\n\tDefaultFtpSessionFactory session = new DefaultFtpSessionFactory();\r\n\tsession.setUsername(username);\r\n\tsession.setPassword(password);\r\n\tsession.setPort(port);\r\n\tsession.setHost(host);\r\n\tsession.setFileType(FTP.ASCII_FILE_TYPE);\r\n\tsession.setClientMode(FTPClient.PASSIVE_LOCAL_DATA_CONNECTION_MODE);\r\n\treturn session;\r\n}\r\n```\r\n\r\nAnd here is the code where I define the FTP Inbound Adapter:\r\n\r\n```\r\n@Bean\r\nFtpInboundChannelAdapterSpec salidaAS400InboundAdapter() {\r\n\treturn Ftp.inboundAdapter(as400Session.ftpSessionFactory())\r\n\t\t\t.preserveTimestamp(true)\r\n\t\t\t.remoteDirectory(as400Session.getPathSalida())\r\n\t\t\t.deleteRemoteFiles(true)\r\n\t\t\t.localDirectory(new File(&quot;tmp/as400/salida&quot;))\r\n\t\t\t.temporaryFileSuffix(&quot;.tmp&quot;);\r\n}\r\n```\r\n\r\nI should mention that the FTP Server is running on an AS/400 system, so maybe that has something to do with the situation I&#39;m facing.","title":"Spring Integration is not detecting files on FTP Folder","body":"<p>Currently I'm facing a problem where I don't know what to do to resolve it. I'm developing a simple application that transfer files through different FTP and SFTP servers to be processed. Well, at the beginnig those servers weren't ready, so I used Apache Mina and RebexTinySftpServer to set a FTP server and a SFTP server on my computer to test my development.</p>\n<p>With those applications I completed and tested my application locally, so it was time to test it using the servers that will be used in production, but something is wrong with the FTP server and Spring Integration is not detecting the files that are put in the folder to be transferred to the SFTP server.</p>\n<p>I have two folders on each server: one for Input files and the another one for Output files. So when Spring Integration detects that there's a new file in the Input folder on the SFTP Server, it transfers the file to the Input folder on FTP Server to be processed for another service. That part works fine.</p>\n<p>After that service processes the file, it generates an output file and stores it in the Output folder on the FTP Server to be transferred to the Output folder on the SFTP server, but for some reason Spring Integration is not detecting those files and doesn't transfer none of them. This part is what I don't know how to solve because none Exception is being thrown, so I don't know what part of my code I have to modify.</p>\n<p>Here is my code where I define the DefaultFtpSessionFactory:</p>\n<pre><code>public DefaultFtpSessionFactory ftpSessionFactory() {\n    DefaultFtpSessionFactory session = new DefaultFtpSessionFactory();\n    session.setUsername(username);\n    session.setPassword(password);\n    session.setPort(port);\n    session.setHost(host);\n    session.setFileType(FTP.ASCII_FILE_TYPE);\n    session.setClientMode(FTPClient.PASSIVE_LOCAL_DATA_CONNECTION_MODE);\n    return session;\n}\n</code></pre>\n<p>And here is the code where I define the FTP Inbound Adapter:</p>\n<pre><code>@Bean\nFtpInboundChannelAdapterSpec salidaAS400InboundAdapter() {\n    return Ftp.inboundAdapter(as400Session.ftpSessionFactory())\n            .preserveTimestamp(true)\n            .remoteDirectory(as400Session.getPathSalida())\n            .deleteRemoteFiles(true)\n            .localDirectory(new File(&quot;tmp/as400/salida&quot;))\n            .temporaryFileSuffix(&quot;.tmp&quot;);\n}\n</code></pre>\n<p>I should mention that the FTP Server is running on an AS/400 system, so maybe that has something to do with the situation I'm facing.</p>\n"},{"tags":["java","swing","jpanel","jlabel"],"answers":[{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1322737927,"creation_date":1322735452,"answer_id":8339853,"question_id":8339790,"body_markdown":"You need to repaint()/validate() your panle after adding new components in it dynamically. So after this:\r\n\r\n    magnet.add(codeLabel);\r\n\r\nadd this:\r\n\r\n    magnet.validate();\r\n\r\nor\r\n\r\n    magnet.repaint();\r\n\r\n----------\r\nAlso one thing you are using null layout for magnet panel. So must have to setBounds() of jLable before adding it to magnet panel. So it becomes\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        codeLabel=new JLabel(area4Label.getText());\r\n        codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n        codeLabel.setBounds(50, 20, 100, 100);\r\n        magnet.add(codeLabel);\r\n        magnet.repaint();\r\n        area4Label.setText(&quot;&quot;);\r\n    }\r\n\r\nIt is not recommended to use `null` as layout, you should use proper layout like BorderLayout or GridLayout or even simpler FlowLayout based on your requirement.\r\n\r\n\r\n----------\r\nAs said by @Andrew use something like:\r\n\r\n    codeLabel.setSize(codeLabel.getPreferredSize());\r\n    codeLabel.setLocation(50, 20);\r\n\r\ninstead of \r\n\r\n    codeLabel.setBounds(50, 20, 100, 100);\r\n\r\nThis will solve the size issue of jLabel.","title":"JLabel not visible on Jpanel","body":"<p>You need to repaint()/validate() your panle after adding new components in it dynamically. So after this:</p>\n\n<pre><code>magnet.add(codeLabel);\n</code></pre>\n\n<p>add this:</p>\n\n<pre><code>magnet.validate();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>magnet.repaint();\n</code></pre>\n\n<hr>\n\n<p>Also one thing you are using null layout for magnet panel. So must have to setBounds() of jLable before adding it to magnet panel. So it becomes</p>\n\n<pre><code>public void actionPerformed(ActionEvent e) {\n    codeLabel=new JLabel(area4Label.getText());\n    codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\n    codeLabel.setBounds(50, 20, 100, 100);\n    magnet.add(codeLabel);\n    magnet.repaint();\n    area4Label.setText(\"\");\n}\n</code></pre>\n\n<p>It is not recommended to use <code>null</code> as layout, you should use proper layout like BorderLayout or GridLayout or even simpler FlowLayout based on your requirement.</p>\n\n<hr>\n\n<p>As said by @Andrew use something like:</p>\n\n<pre><code>codeLabel.setSize(codeLabel.getPreferredSize());\ncodeLabel.setLocation(50, 20);\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>codeLabel.setBounds(50, 20, 100, 100);\n</code></pre>\n\n<p>This will solve the size issue of jLabel.</p>\n"},{"tags":[],"owner":{"account_id":26323028,"reputation":1,"user_id":19984772,"display_name":"Habibfufu "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675885790,"creation_date":1663064687,"answer_id":73701359,"question_id":8339790,"body_markdown":"    public void actionPerformed(ActionEvent e) {\r\n    codeLabel=new JLabel(area4Label.getText());\r\n    codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n    codeLabel.setBounds(50, 20, 100, 100);\r\n    codeLabel.setOpaque(True);\r\n    magnet.add(codeLabel);\r\n    magnet.repaint();\r\n    area4Label.setText(&quot;&quot;);\r\n\r\n}","title":"JLabel not visible on Jpanel","body":"<pre><code>public void actionPerformed(ActionEvent e) {\ncodeLabel=new JLabel(area4Label.getText());\ncodeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\ncodeLabel.setBounds(50, 20, 100, 100);\ncodeLabel.setOpaque(True);\nmagnet.add(codeLabel);\nmagnet.repaint();\narea4Label.setText(&quot;&quot;);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21473,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8339853,"answer_count":2,"score":4,"last_activity_date":1675885790,"creation_date":1322735155,"question_id":8339790,"body_markdown":"I&#39;m working on a program in which I&#39;d used a `JTextArea`, `JButton`, `JLabel` and `JPanel`.  \r\nThe logic I&#39;d to implement is: user types a text in the given `textArea` and then click on the `button`. On button click I&#39;d to retrieve the text from the `textArea` and create a `label` with the written text(as in `textArea`) and show it on the `panel`.  \r\nEverything I&#39;d done previously is correct but the problem is with the `label` and `panel`. The `label` is not visible on the `panel`.\r\n\r\nThe code snippets is:  \r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.HeadlessException;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.ScrollPaneConstants;\r\n    import javax.swing.border.BevelBorder;\r\n\r\n    /**\r\n     *\r\n     * @author mohammadfaisal\r\n     * http://ermohammadfaisal.blogspot.com\r\n     * http://facebook.com/m.faisal6621\r\n     * \r\n     */\r\n    public class CodeMagnets extends JFrame{\r\n        private JTextArea area4Label;\r\n        private JLabel codeLabel;\r\n        private JButton createButton;\r\n        private JPanel magnet;\r\n\r\n        public CodeMagnets(String title) throws HeadlessException {\r\n            super(title);\r\n            magnet=new JPanel(null);\r\n            JScrollPane magnetScroller=new JScrollPane(magnet);\r\n                  magnetScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n            magnetScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n            add(BorderLayout.CENTER, magnetScroller);\r\n            JPanel inputPanel=new JPanel();\r\n            area4Label=new JTextArea(5, 30);\r\n            area4Label.setTabSize(4);\r\n            JScrollPane textScroller=new JScrollPane(area4Label);\r\n            inputPanel.add(textScroller);\r\n            createButton=new JButton(&quot;Create code magnet&quot;);\r\n            createButton.addActionListener(new ActionListener() {\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    //codeLabel=new JLabel(area4Label.getText());\r\n                    codeLabel=new MyLabel(area4Label.getText());//this is for my new question\r\n                    codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\r\n                    codeLabel.setLocation(50, 20);\r\n                    codeLabel.setVisible(true);\r\n                    magnet.add(codeLabel);\r\n                    area4Label.setText(&quot;&quot;);\r\n                    //pack();\r\n                }\r\n            });\r\n            inputPanel.add(createButton);\r\n            add(BorderLayout.SOUTH, inputPanel);\r\n            //pack();\r\n            setSize(640, 480);\r\n            setVisible(true);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            new CodeMagnets(&quot;Code Magnets&quot;);\r\n        }\r\n    }\r\n\r\n","title":"JLabel not visible on Jpanel","body":"<p>I'm working on a program in which I'd used a <code>JTextArea</code>, <code>JButton</code>, <code>JLabel</code> and <code>JPanel</code>.<br>\nThe logic I'd to implement is: user types a text in the given <code>textArea</code> and then click on the <code>button</code>. On button click I'd to retrieve the text from the <code>textArea</code> and create a <code>label</code> with the written text(as in <code>textArea</code>) and show it on the <code>panel</code>.<br>\nEverything I'd done previously is correct but the problem is with the <code>label</code> and <code>panel</code>. The <code>label</code> is not visible on the <code>panel</code>.</p>\n\n<p>The code snippets is:  </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.HeadlessException;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.ScrollPaneConstants;\nimport javax.swing.border.BevelBorder;\n\n/**\n *\n * @author mohammadfaisal\n * http://ermohammadfaisal.blogspot.com\n * http://facebook.com/m.faisal6621\n * \n */\npublic class CodeMagnets extends JFrame{\n    private JTextArea area4Label;\n    private JLabel codeLabel;\n    private JButton createButton;\n    private JPanel magnet;\n\n    public CodeMagnets(String title) throws HeadlessException {\n        super(title);\n        magnet=new JPanel(null);\n        JScrollPane magnetScroller=new JScrollPane(magnet);\n              magnetScroller.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        magnetScroller.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        add(BorderLayout.CENTER, magnetScroller);\n        JPanel inputPanel=new JPanel();\n        area4Label=new JTextArea(5, 30);\n        area4Label.setTabSize(4);\n        JScrollPane textScroller=new JScrollPane(area4Label);\n        inputPanel.add(textScroller);\n        createButton=new JButton(\"Create code magnet\");\n        createButton.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                //codeLabel=new JLabel(area4Label.getText());\n                codeLabel=new MyLabel(area4Label.getText());//this is for my new question\n                codeLabel.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));\n                codeLabel.setLocation(50, 20);\n                codeLabel.setVisible(true);\n                magnet.add(codeLabel);\n                area4Label.setText(\"\");\n                //pack();\n            }\n        });\n        inputPanel.add(createButton);\n        add(BorderLayout.SOUTH, inputPanel);\n        //pack();\n        setSize(640, 480);\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        new CodeMagnets(\"Code Magnets\");\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","jscrollpane","jlayeredpane"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675737200,"post_id":75368027,"comment_id":132988977,"body_markdown":"`LP.setLayout(new BorderLayout());` isn&#39;t going to work for you, as it will only allow a single component (the last one you added) to be managed at each available position.  I tried using a `GridBagLayout` and while it &quot;initially&quot; worked, if your scroll the scroll pane, the button disappears - not sure, but the scroll pane wants to be on top","body":"<code>LP.setLayout(new BorderLayout());</code> isn&#39;t going to work for you, as it will only allow a single component (the last one you added) to be managed at each available position.  I tried using a <code>GridBagLayout</code> and while it &quot;initially&quot; worked, if your scroll the scroll pane, the button disappears - not sure, but the scroll pane wants to be on top"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675737227,"post_id":75368027,"comment_id":132988980,"body_markdown":"1) Swing doesn&#39;t handle background with transparency. See: [Backgrounds With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/) for more information. However, in your case there is no need to set the background because you are using full transparency, so you just need setOpaque(false). 2) I see you are attempting to build on you last solution from your last question. I really have no idea why you are attempting to do this. I would be frustrated with a button on top of my text area. Swing does not handle stacking of component in this manner very well.","body":"1) Swing doesn&#39;t handle background with transparency. See: <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a> for more information. However, in your case there is no need to set the background because you are using full transparency, so you just need setOpaque(false). 2) I see you are attempting to build on you last solution from your last question. I really have no idea why you are attempting to do this. I would be frustrated with a button on top of my text area. Swing does not handle stacking of component in this manner very well."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1675737246,"post_id":75368027,"comment_id":132988985,"body_markdown":"Maybe you could use a [Glass Pane](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html).","body":"Maybe you could use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">Glass Pane</a>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675737348,"post_id":75368027,"comment_id":132988994,"body_markdown":"Without knowing more, I might encourage you to make use of the &quot;corner component&quot; support of `JScrollPane` - [How to Use Scroll Panes: Providing Custom Decorations](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations)","body":"Without knowing more, I might encourage you to make use of the &quot;corner component&quot; support of <code>JScrollPane</code> - <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\" rel=\"nofollow noreferrer\">How to Use Scroll Panes: Providing Custom Decorations</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675737427,"post_id":75368027,"comment_id":132989003,"body_markdown":"Further on, I &quot;think&quot; it has to do with how the `JScrollPane` optimisations work when you scroll, but I&#39;m not going to spend a lot of time trying to figure it out","body":"Further on, I &quot;think&quot; it has to do with how the <code>JScrollPane</code> optimisations work when you scroll, but I&#39;m not going to spend a lot of time trying to figure it out"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675885487,"creation_date":1675739633,"answer_id":75368622,"question_id":75368027,"body_markdown":"Swing is designed/optimized  to display/paint components in 2 dimensions. The vast majority of layout managers will make sure that the components don&#39;t overlap. \r\n\r\nThis means that you can&#39;t use a layout manager on your layered pane (if you want the components to overlap). Instead, you must manually set the size/location of components on each layer.\r\n\r\nWhen you use a JLayeredPane the painting of components on each layer is managed so that the higher layer is painted last.\r\n\r\nSo your code might be changed to something like:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tJFrame window = new JFrame();\r\n            window.setSize(600, 400);\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            //Making the LayeredPane\r\n            JLayeredPane LP = new JLayeredPane();\r\n    \r\n            //Making the ScrollPane and JTextArea\r\n            JTextArea textArea = new JTextArea(20,40);\r\n            textArea.setText(&quot;Test Text&quot;);\r\n            textArea.setSize( textArea.getPreferredSize() );\r\n            JScrollPane back = new JScrollPane( textArea);\r\n            back.setSize( textArea.getSize() );\r\n    \r\n            JButton button = new JButton(&quot;test&quot;);\r\n            button.setBounds(200,200,50,20);\r\n    \r\n            LP.add(back, new Integer(0));\r\n            LP.add(button, new Integer(1));\r\n    \r\n            window.add(LP);\r\n            window.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n\r\nThere is one layout manager in the JDK, the `OverlayLayout`, which is designed to stack components on top of one another. However, even this layout manager does not paint components properly when the components overlap. The trick when using this layout manager is to override the  `isOptimizedDrawing()` method of the panel using the layout manager to make sure all components are repainted all the time. In this case, make sure the bottom panel is always painted before the top panel.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class Main2\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tJFrame window = new JFrame();\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tJPanel contentPane = new JPanel()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean isOptimizedDrawingEnabled()\r\n    \t\t\t{\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tcontentPane.setLayout( new OverlayLayout(contentPane) );\r\n    \r\n    \t\tJPanel top = new JPanel( new GridBagLayout() );\r\n    \t\ttop.setBorder( new EmptyBorder(0, 0, 16, 16) );\r\n    \t\ttop.setOpaque(false);\r\n            top.setAlignmentX(1.0f);\r\n            top.setAlignmentY(1.0f);\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.weightx = 1.0;\r\n    \t\tgbc.weighty = 1.0;\r\n    \t\tgbc.anchor = GridBagConstraints.LAST_LINE_END;\r\n    \r\n            JButton button = new JButton(&quot;test&quot;);\r\n    \t\ttop.add(button, gbc);\r\n            contentPane.add(top);\r\n    \r\n            //Making the ScrollPane and JTextArea\r\n            JTextArea textArea = new JTextArea(10,25);\r\n            textArea.setText(&quot;Test Text&quot;);\r\n            JScrollPane back = new JScrollPane( textArea);\r\n            back.setAlignmentX(1.0f);\r\n            back.setAlignmentY(1.0f);\r\n            contentPane.add(back);\r\n    \r\n            window.add(contentPane);\r\n            window.pack();\r\n            window.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nThe benefit of this approach is that the button will move as the frame is resized.\r\n\r\nHowever, as a user I would still get annoyed with a button appearing over top of the text in my text area.\r\n\r\nEdit:\r\n\r\nIf you really need components to overlap then I would suggest you could:\r\n\r\n1. look at MadProgrammers solution to use a GridBagLayout. This approach gives far more control over the alignment of the components\r\n2. check out the [Overlap Layout](https://tips4java.wordpress.com/2009/07/26/overlap-layout/) which also provides more flexibility when aligning overlapping components\r\n\r\nIt should be noted that both above approaches may still require you to override the `isOptimizedDrawEnabled(...)` method to make sure components are painted properly. I am not aware of any layout manager the allows you to overlap components and works without this override. ","title":"Java Swing trying to add a stationary JButton over a JScrollPane","body":"<p>Swing is designed/optimized  to display/paint components in 2 dimensions. The vast majority of layout managers will make sure that the components don't overlap.</p>\n<p>This means that you can't use a layout manager on your layered pane (if you want the components to overlap). Instead, you must manually set the size/location of components on each layer.</p>\n<p>When you use a JLayeredPane the painting of components on each layer is managed so that the higher layer is painted last.</p>\n<p>So your code might be changed to something like:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        JFrame window = new JFrame();\n        window.setSize(600, 400);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        //Making the LayeredPane\n        JLayeredPane LP = new JLayeredPane();\n\n        //Making the ScrollPane and JTextArea\n        JTextArea textArea = new JTextArea(20,40);\n        textArea.setText(&quot;Test Text&quot;);\n        textArea.setSize( textArea.getPreferredSize() );\n        JScrollPane back = new JScrollPane( textArea);\n        back.setSize( textArea.getSize() );\n\n        JButton button = new JButton(&quot;test&quot;);\n        button.setBounds(200,200,50,20);\n\n        LP.add(back, new Integer(0));\n        LP.add(button, new Integer(1));\n\n        window.add(LP);\n        window.setVisible(true);\n    }\n}\n</code></pre>\n<p>There is one layout manager in the JDK, the <code>OverlayLayout</code>, which is designed to stack components on top of one another. However, even this layout manager does not paint components properly when the components overlap. The trick when using this layout manager is to override the  <code>isOptimizedDrawing()</code> method of the panel using the layout manager to make sure all components are repainted all the time. In this case, make sure the bottom panel is always painted before the top panel.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class Main2\n{\n    public static void main(String[] args)\n    {\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel contentPane = new JPanel()\n        {\n            @Override\n            public boolean isOptimizedDrawingEnabled()\n            {\n                return false;\n            }\n        };\n        contentPane.setLayout( new OverlayLayout(contentPane) );\n\n        JPanel top = new JPanel( new GridBagLayout() );\n        top.setBorder( new EmptyBorder(0, 0, 16, 16) );\n        top.setOpaque(false);\n        top.setAlignmentX(1.0f);\n        top.setAlignmentY(1.0f);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1.0;\n        gbc.weighty = 1.0;\n        gbc.anchor = GridBagConstraints.LAST_LINE_END;\n\n        JButton button = new JButton(&quot;test&quot;);\n        top.add(button, gbc);\n        contentPane.add(top);\n\n        //Making the ScrollPane and JTextArea\n        JTextArea textArea = new JTextArea(10,25);\n        textArea.setText(&quot;Test Text&quot;);\n        JScrollPane back = new JScrollPane( textArea);\n        back.setAlignmentX(1.0f);\n        back.setAlignmentY(1.0f);\n        contentPane.add(back);\n\n        window.add(contentPane);\n        window.pack();\n        window.setVisible(true);\n    }\n}\n</code></pre>\n<p>The benefit of this approach is that the button will move as the frame is resized.</p>\n<p>However, as a user I would still get annoyed with a button appearing over top of the text in my text area.</p>\n<p>Edit:</p>\n<p>If you really need components to overlap then I would suggest you could:</p>\n<ol>\n<li>look at MadProgrammers solution to use a GridBagLayout. This approach gives far more control over the alignment of the components</li>\n<li>check out the <a href=\"https://tips4java.wordpress.com/2009/07/26/overlap-layout/\" rel=\"nofollow noreferrer\">Overlap Layout</a> which also provides more flexibility when aligning overlapping components</li>\n</ol>\n<p>It should be noted that both above approaches may still require you to override the <code>isOptimizedDrawEnabled(...)</code> method to make sure components are painted properly. I am not aware of any layout manager the allows you to overlap components and works without this override.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675801956,"creation_date":1675801956,"answer_id":75378703,"question_id":75368027,"body_markdown":"# Caveat\r\n\r\nI&#39;m not a fan of this is idea.  It&#39;s not a &quot;common&quot; UX concept that many desktop users would be presented with and there are a number of, arguably, better solutions which leverage the pre-existing experience of users.\r\n\r\nThis requires some &quot;hacking&quot; to get to work, so, there&#39;s no guarantee that it will work on all platforms or continue to work into the future.\r\n\r\n# Why doesn&#39;t it work?\r\n\r\nThis is a rather technical question which delves deep into the core of how Swing, and in particular, the `JScrollPane` work.  Let&#39;s just say, I don&#39;t have the time or desire to dig into, but I know the `JScrollPane` is heavy optimised, which may be affecting the way in which anything which overlays it gets updated - or it could just be the way that the painting system works.\r\n\r\n# Runnable example...\r\n\r\nThis takes the idea by camickr (all credit to him), but instead of using a `OverlayLayout`, makes use of a `GridBagLayout` to position the button.  Why?  Because the `GridBagLayout` gives me more control over the position of the button - it&#39;s a personal thing.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.*;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.Reader;\r\n    import javax.swing.*;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                JTextArea textArea = new JTextArea(40, 40);\r\n                try (Reader reader = new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/StarWarsNewHope.txt&quot;))) {\r\n                    textArea.read(reader, &quot;A long list&quot;);\r\n                } catch (IOException exp) {\r\n                    exp.printStackTrace();\r\n                }\r\n                JButton button = new JButton(&quot;Am I in your way yet&quot;);\r\n\r\n                JPanel contentPane = new JPanel() {\r\n                    @Override\r\n                    public boolean isOptimizedDrawingEnabled() {\r\n                        return false;\r\n                    }\r\n                };\r\n                contentPane.setLayout(new GridBagLayout());\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1.0;\r\n                gbc.weighty = 1.0;\r\n                // Change this to reposition the button some where else\r\n                gbc.anchor = GridBagConstraints.FIRST_LINE_END;\r\n                gbc.insets = new Insets(32, 32, 32, 32);\r\n                gbc.ipadx = 16;\r\n                gbc.ipady = 16;\r\n                contentPane.add(button, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1.0;\r\n                gbc.weighty = 1.0;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n\r\n                JScrollPane scrollPane = new JScrollPane(textArea);\r\n                contentPane.add(scrollPane, gbc);\r\n\r\n                add(contentPane);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KdJRW.gif\r\n\r\nYou should probably also look at [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) and the section on [Providing Custom Decorations](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations) for some alternatives","title":"Java Swing trying to add a stationary JButton over a JScrollPane","body":"<h1>Caveat</h1>\n<p>I'm not a fan of this is idea.  It's not a &quot;common&quot; UX concept that many desktop users would be presented with and there are a number of, arguably, better solutions which leverage the pre-existing experience of users.</p>\n<p>This requires some &quot;hacking&quot; to get to work, so, there's no guarantee that it will work on all platforms or continue to work into the future.</p>\n<h1>Why doesn't it work?</h1>\n<p>This is a rather technical question which delves deep into the core of how Swing, and in particular, the <code>JScrollPane</code> work.  Let's just say, I don't have the time or desire to dig into, but I know the <code>JScrollPane</code> is heavy optimised, which may be affecting the way in which anything which overlays it gets updated - or it could just be the way that the painting system works.</p>\n<h1>Runnable example...</h1>\n<p>This takes the idea by camickr (all credit to him), but instead of using a <code>OverlayLayout</code>, makes use of a <code>GridBagLayout</code> to position the button.  Why?  Because the <code>GridBagLayout</code> gives me more control over the position of the button - it's a personal thing.</p>\n<p><a href=\"https://i.stack.imgur.com/KdJRW.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KdJRW.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport javax.swing.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n\n            JTextArea textArea = new JTextArea(40, 40);\n            try (Reader reader = new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/StarWarsNewHope.txt&quot;))) {\n                textArea.read(reader, &quot;A long list&quot;);\n            } catch (IOException exp) {\n                exp.printStackTrace();\n            }\n            JButton button = new JButton(&quot;Am I in your way yet&quot;);\n\n            JPanel contentPane = new JPanel() {\n                @Override\n                public boolean isOptimizedDrawingEnabled() {\n                    return false;\n                }\n            };\n            contentPane.setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1.0;\n            gbc.weighty = 1.0;\n            // Change this to reposition the button some where else\n            gbc.anchor = GridBagConstraints.FIRST_LINE_END;\n            gbc.insets = new Insets(32, 32, 32, 32);\n            gbc.ipadx = 16;\n            gbc.ipady = 16;\n            contentPane.add(button, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1.0;\n            gbc.weighty = 1.0;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            JScrollPane scrollPane = new JScrollPane(textArea);\n            contentPane.add(scrollPane, gbc);\n\n            add(contentPane);\n        }\n\n    }\n}\n</code></pre>\n<p>You should probably also look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a> and the section on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#decorations\" rel=\"nofollow noreferrer\">Providing Custom Decorations</a> for some alternatives</p>\n"}],"owner":{"account_id":14032529,"reputation":33,"user_id":20027927,"display_name":"Different"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675885487,"creation_date":1675731779,"question_id":75368027,"body_markdown":"I am trying to make a text editor with a button that appears at the bottom right of the editor regardless if you scroll up or down and appears over the text area\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Problem{\r\n\r\n    public static void main(String[] args){\r\n        //Setting up the frame\r\n        JFrame window = new JFrame();\r\n        window.setSize(600, 400);\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        //Making the LayeredPane\r\n        JLayeredPane LP = new JLayeredPane();\r\n        LP.setLayout(new BorderLayout());\r\n\r\n        //Making the ScrollPane and JTextArea\r\n        JTextArea textArea = new JTextArea(100,50);\r\n        textArea.setText(&quot;Test Text&quot;);\r\n        JScrollPane back = new JScrollPane();\r\n        back.setViewportView(textArea);\r\n\r\n        //Making the panel that appears in the front of the text\r\n        JPanel front = new JPanel();\r\n        front.setLayout(null);\r\n        front.setBackground(new Color(0,0,0,0));\r\n        front.setOpaque(false);\r\n        JButton button = new JButton(&quot;test&quot;);\r\n        button.setBounds(200,200,50,20);\r\n        front.add(button);\r\n\r\n        LP.add(back,BorderLayout.CENTER);\r\n        LP.setLayer(back,0,0);\r\n\r\n        LP.add(front,BorderLayout.CENTER);\r\n        LP.setLayer(front,1,0);\r\n\r\n        window.add(LP);\r\n        window.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nI am seeing just the JButton with a white background, if I don&#39;t add the second layer &quot;front&quot; I see my back JScrollPane with the JTextArea","title":"Java Swing trying to add a stationary JButton over a JScrollPane","body":"<p>I am trying to make a text editor with a button that appears at the bottom right of the editor regardless if you scroll up or down and appears over the text area</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Problem{\n\n    public static void main(String[] args){\n        //Setting up the frame\n        JFrame window = new JFrame();\n        window.setSize(600, 400);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        //Making the LayeredPane\n        JLayeredPane LP = new JLayeredPane();\n        LP.setLayout(new BorderLayout());\n\n        //Making the ScrollPane and JTextArea\n        JTextArea textArea = new JTextArea(100,50);\n        textArea.setText(&quot;Test Text&quot;);\n        JScrollPane back = new JScrollPane();\n        back.setViewportView(textArea);\n\n        //Making the panel that appears in the front of the text\n        JPanel front = new JPanel();\n        front.setLayout(null);\n        front.setBackground(new Color(0,0,0,0));\n        front.setOpaque(false);\n        JButton button = new JButton(&quot;test&quot;);\n        button.setBounds(200,200,50,20);\n        front.add(button);\n\n        LP.add(back,BorderLayout.CENTER);\n        LP.setLayer(back,0,0);\n\n        LP.add(front,BorderLayout.CENTER);\n        LP.setLayer(front,1,0);\n\n        window.add(LP);\n        window.setVisible(true);\n    }\n}\n</code></pre>\n<p>I am seeing just the JButton with a white background, if I don't add the second layer &quot;front&quot; I see my back JScrollPane with the JTextArea</p>\n"},{"tags":["java","spring","spring-boot","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675885456,"creation_date":1675885456,"answer_id":75390993,"question_id":75381552,"body_markdown":"The general format to configure a Log4j2 component via properties is:\r\n\r\n```\r\n&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.type = ComponentType\r\n&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.property1 = value1\r\n...\r\n```\r\n\r\nSo in your case you need:\r\n\r\n```\r\nappender.$0.type = Rewrite\r\nappender.$0.name = Rewrite\r\n\r\nappender.$0.$1.type = LogInterceptor\r\n\r\nappender.$0.$2.type = AppenderRef\r\nappender.$0.$2.ref = fileLogger\r\n```","title":"How to convert Log4j.xml to Log4j2.properties (Rewrite Polici)","body":"<p>The general format to configure a Log4j2 component via properties is:</p>\n<pre><code>&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.type = ComponentType\n&lt;parent_component_prefix&gt;.&lt;arbitrary_id&gt;.property1 = value1\n...\n</code></pre>\n<p>So in your case you need:</p>\n<pre><code>appender.$0.type = Rewrite\nappender.$0.name = Rewrite\n\nappender.$0.$1.type = LogInterceptor\n\nappender.$0.$2.type = AppenderRef\nappender.$0.$2.ref = fileLogger\n</code></pre>\n"}],"owner":{"account_id":16532718,"reputation":23,"user_id":11945517,"display_name":"Fernando Alexsandro Siregar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75390993,"answer_count":1,"score":0,"last_activity_date":1675885456,"creation_date":1675832651,"question_id":75381552,"body_markdown":"i want to use `Rewrite Policy` for some condition in logging like masking, and then I found the solution but in `log4j2.xml`, however we use `log4j2.properties` for base config, I already try to config but the rewrite still not working. \r\n\r\nhere other config compare to my config\r\n\r\nOther Config :\r\n```\r\n&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\r\n  &lt;Properties&gt;\r\n    &lt;Property name=&quot;LOG_DIR&quot;&gt;/logs&lt;/Property&gt;\r\n  &lt;/Properties&gt;\r\n\r\n  &lt;Appenders&gt;\r\n    &lt;RollingFile\r\n      name=&quot;rollingFile&quot;\r\n      fileName=&quot;D:/logs/omnichannel/application.log&quot;\r\n      filePattern=&quot;D:/logs/omnichannel/application.%i.log.gz&quot;\r\n      ignoreExceptions=&quot;false&quot;&gt;\r\n      &lt;PatternLayout&gt;\r\n          &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\r\n      &lt;/PatternLayout&gt;\r\n      &lt;Policies&gt;\r\n          &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\r\n      &lt;/Policies&gt;\r\n      &lt;DefaultRolloverStrategy max=&quot;5&quot;&gt;\r\n        &lt;Delete basePath=&quot;D:/logs/&quot; maxDepth=&quot;2&quot;&gt;\r\n          &lt;IfFileName glob=&quot;*/app-*.log.gz&quot; /&gt;\r\n          &lt;IfLastModified age=&quot;P30D&quot; /&gt;\r\n        &lt;/Delete&gt;\r\n      &lt;/DefaultRolloverStrategy&gt;\r\n    &lt;/RollingFile&gt;\r\n     &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot; ignoreExceptions=&quot;false&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n    &lt;Rewrite name=&quot;Rewrite&quot;&gt;\r\n      &lt;LogInterceptor /&gt;\r\n      &lt;AppenderRef ref=&quot;rollingFile&quot;/&gt;\r\n    &lt;/Rewrite&gt;\r\n  &lt;/Appenders&gt;\r\n\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;info&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;Rewrite&quot;/&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAnd my config here :\r\n```\r\nstatus = warn\r\nname= PropertiesConfig\r\n\r\n# Give directory path where log files should get stored\r\nproperty.basePath = D://logs//\r\n\r\nappenders = rolling, console, Rewrite \r\n\r\nappender.Rewrite.type = Rewrite\r\nappender.Rewrite.name = Rewrite\r\nappender.Rewrite.layout.type = LogInterceptor\r\nappender.Rewrite.layout.RewriteAppender = fileLogger\r\n\r\n# ConsoleAppender will print logs on console\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.target = SYSTEM_OUT\r\nappender.console.layout.type = PatternLayout\r\n# Specify the pattern of the logs\r\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %highlight{[%-5level]}{TRACE=magenta} %mask %logger{36}.%M(%L) : %msg%n%throwable\r\nappender.console.layout.disableAnsi=false\r\n\r\n# RollingFileAppender will print logs in file which can be rotated based on time or size\r\nappender.rolling.type = RollingFile\r\nappender.rolling.name = fileLogger\r\nappender.rolling.fileName = ${basePath}${hostName}.log\r\nappender.rolling.filePattern = ${basePath}${hostName}_%d{yyyy-MM-dd}-%i.log.gz\r\nappender.rolling.layout.type = PatternLayout\r\nappender.rolling.layout.pattern =  %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%-5level] %logger{36}.%M(%L) : %msg%n%throwable\r\nappender.rolling.policies.type = Policies\r\n\r\n# Rotate log file each day and keep 30 days worth\r\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\nappender.rolling.policies.time.interval = 1\r\nappender.rolling.strategy.type = DefaultRolloverStrategy\r\nappender.rolling.strategy.action.type = Delete\r\nappender.rolling.strategy.action.basePath = ${basePath}\r\nappender.rolling.strategy.action.maxDepth = 1\r\nappender.rolling.strategy.action.ifLastModified.type = IfLastModified\r\nappender.rolling.strategy.fileIndex = nomax\r\n\r\n# For hibernate tracing query parameter, make this default not opened\r\n#loggers = application, hibernate\r\nloggers = application, httpclient, Client\r\n\r\n\r\n# Mention package name here. Classes in this package or sub packages will use ConsoleAppender and RollingFileAppender for logging         \r\nlogger.application.name = com.project\r\nlogger.application.level = info\r\nlogger.application.appenderRefs = rolling\r\nlogger.application.appenderRef.rolling.ref = fileLogger\r\n\r\nlogger.httpclient.name = org.apache.http\r\nlogger.httpclient.level = info\r\nlogger.httpclient.appenderRefs = rolling\r\nlogger.httpclient.appenderRef.rolling.ref = fileLogger\r\n\r\nlogger.Client.name = com.sun.jersey.api\r\nlogger.Client.level = info\r\nlogger.Client.appenderRefs = rolling\r\nlogger.Client.appenderRef.rolling.ref = fileLogger\r\n\r\n# For hibernate tracing query parameter, make this default not opened\r\n#logger.hibernate.name = org.hibernate.type\r\n#logger.hibernate.level = trace\r\n#Logger.hibernate.Additivity = false\r\n\r\n# Configure root logger for logging error logs in classes which are in package other than above specified package\r\nrootLogger.level = info\r\nrootLogger.appenderRefs = Rewrite\r\nrootLogger.appenderRef.Rewrite.ref = Rewrite\r\n```\r\nmy function rewrite : \r\n```\r\n@Plugin(name = &quot;LogInterceptor&quot;, category = &quot;Core&quot;, elementType = &quot;rewritePolicy&quot;, printObject = true)\r\npublic class LoggingMaskingConverter implements RewritePolicy {\r\n\t\r\n\tprotected static final Logger log = LogManager.getLogger(LoggingMaskingConverter.class);\r\n\r\n\tprivate static final List&lt;String&gt; loggingSetting = Arrays.asList(&quot;pin,password&quot;.split(&quot;,&quot;));\r\n\t\r\n\tprivate static final String loggingMasking = &quot;1&quot;;\r\n\t\r\n\tprivate static final List&lt;String&gt; excludePath = Collections.emptyList();\r\n\t\r\n\tprivate static final String STR_BODY = &quot;body=[&quot;;\r\n\t\r\n\tProperties prop = new Properties();\r\n\t\r\n\t @PluginFactory\r\n\t public static LoggingMaskingConverter createPolicy() {\r\n\t\t return new LoggingMaskingConverter();\r\n\t }\r\n\t \r\n\t @Override\r\n\t public LogEvent rewrite(LogEvent event) {\r\n\t\t if (event.getLoggerName().contains(&quot;com.project&quot;)) {\r\n\t\t\t \r\n\t\t\t Message outputMessage = logInfoMasking(event.getMessage());\r\n\r\n\t\t     return new Log4jLogEvent.Builder(event).setMessage(outputMessage).build();\r\n\t\t } else {\r\n\t\t\t return new Log4jLogEvent.Builder(event).build();\r\n\t\t }\r\n\t\t\r\n\t }\r\n\t \r\n\t public Message logInfoMasking(Message message) {\r\n\t\t StringBuilder stringBuilder = new StringBuilder();\r\n\t\t try {\r\n\t\t\t String body = message.getFormattedMessage();\r\n\t\t\t ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\t\t\t if (StringUtils.isNotBlank(loggingMasking) &amp;&amp; loggingMasking.equalsIgnoreCase(&quot;1&quot;)) {\r\n\t\t\t\t if (body != null) {\r\n\t\t\t\t\t Collection&lt;String&gt; whitelist = loggingSetting;\r\n\t\t\t\t\t Collection&lt;String&gt; excludeKeys = excludePath;\r\n\t\t\t\t\t JsonMasker masker = new JsonMasker(whitelist, excludeKeys);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t JsonNode jsonNode = new ObjectMapper().readTree(body);\r\n\t\t\t\t\t JsonNode masked =  masker.mask(jsonNode);\r\n\t\t\t\t\t stringBuilder.append(STR_BODY + masked.toString() + &quot;]&quot;);\r\n\t\t\t\t }\r\n\t\t\t } else {\r\n\t\t\t\t String json = ow.writeValueAsString(body);\r\n\t\t\t\t stringBuilder.append(STR_BODY + json + &quot;]&quot;);\r\n\t\t\t }\r\n\t\t\t\t\r\n\t\t } catch (JsonProcessingException e) {\r\n\t\t\t log.error(e, e);\r\n\t\t }\r\n\t\t return new ObjectMessage(stringBuilder.toString());\r\n\t}\r\n}\r\n```\r\n\r\n\r\ni spend my time around one day to solve this. until this day. the rewrite still not working in logs file but in my function rewrite going well \r\n","title":"How to convert Log4j.xml to Log4j2.properties (Rewrite Polici)","body":"<p>i want to use <code>Rewrite Policy</code> for some condition in logging like masking, and then I found the solution but in <code>log4j2.xml</code>, however we use <code>log4j2.properties</code> for base config, I already try to config but the rewrite still not working.</p>\n<p>here other config compare to my config</p>\n<p>Other Config :</p>\n<pre><code>&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\n  &lt;Properties&gt;\n    &lt;Property name=&quot;LOG_DIR&quot;&gt;/logs&lt;/Property&gt;\n  &lt;/Properties&gt;\n\n  &lt;Appenders&gt;\n    &lt;RollingFile\n      name=&quot;rollingFile&quot;\n      fileName=&quot;D:/logs/omnichannel/application.log&quot;\n      filePattern=&quot;D:/logs/omnichannel/application.%i.log.gz&quot;\n      ignoreExceptions=&quot;false&quot;&gt;\n      &lt;PatternLayout&gt;\n          &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %-5p %m%n&lt;/Pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n          &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot; /&gt;\n      &lt;/Policies&gt;\n      &lt;DefaultRolloverStrategy max=&quot;5&quot;&gt;\n        &lt;Delete basePath=&quot;D:/logs/&quot; maxDepth=&quot;2&quot;&gt;\n          &lt;IfFileName glob=&quot;*/app-*.log.gz&quot; /&gt;\n          &lt;IfLastModified age=&quot;P30D&quot; /&gt;\n        &lt;/Delete&gt;\n      &lt;/DefaultRolloverStrategy&gt;\n    &lt;/RollingFile&gt;\n     &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot; ignoreExceptions=&quot;false&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%m%n&quot;/&gt;\n    &lt;/Console&gt;\n    &lt;Rewrite name=&quot;Rewrite&quot;&gt;\n      &lt;LogInterceptor /&gt;\n      &lt;AppenderRef ref=&quot;rollingFile&quot;/&gt;\n    &lt;/Rewrite&gt;\n  &lt;/Appenders&gt;\n\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;Rewrite&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>And my config here :</p>\n<pre><code>status = warn\nname= PropertiesConfig\n\n# Give directory path where log files should get stored\nproperty.basePath = D://logs//\n\nappenders = rolling, console, Rewrite \n\nappender.Rewrite.type = Rewrite\nappender.Rewrite.name = Rewrite\nappender.Rewrite.layout.type = LogInterceptor\nappender.Rewrite.layout.RewriteAppender = fileLogger\n\n# ConsoleAppender will print logs on console\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.target = SYSTEM_OUT\nappender.console.layout.type = PatternLayout\n# Specify the pattern of the logs\nappender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %highlight{[%-5level]}{TRACE=magenta} %mask %logger{36}.%M(%L) : %msg%n%throwable\nappender.console.layout.disableAnsi=false\n\n# RollingFileAppender will print logs in file which can be rotated based on time or size\nappender.rolling.type = RollingFile\nappender.rolling.name = fileLogger\nappender.rolling.fileName = ${basePath}${hostName}.log\nappender.rolling.filePattern = ${basePath}${hostName}_%d{yyyy-MM-dd}-%i.log.gz\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern =  %d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] [%-5level] %logger{36}.%M(%L) : %msg%n%throwable\nappender.rolling.policies.type = Policies\n\n# Rotate log file each day and keep 30 days worth\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\nappender.rolling.policies.time.interval = 1\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.action.type = Delete\nappender.rolling.strategy.action.basePath = ${basePath}\nappender.rolling.strategy.action.maxDepth = 1\nappender.rolling.strategy.action.ifLastModified.type = IfLastModified\nappender.rolling.strategy.fileIndex = nomax\n\n# For hibernate tracing query parameter, make this default not opened\n#loggers = application, hibernate\nloggers = application, httpclient, Client\n\n\n# Mention package name here. Classes in this package or sub packages will use ConsoleAppender and RollingFileAppender for logging         \nlogger.application.name = com.project\nlogger.application.level = info\nlogger.application.appenderRefs = rolling\nlogger.application.appenderRef.rolling.ref = fileLogger\n\nlogger.httpclient.name = org.apache.http\nlogger.httpclient.level = info\nlogger.httpclient.appenderRefs = rolling\nlogger.httpclient.appenderRef.rolling.ref = fileLogger\n\nlogger.Client.name = com.sun.jersey.api\nlogger.Client.level = info\nlogger.Client.appenderRefs = rolling\nlogger.Client.appenderRef.rolling.ref = fileLogger\n\n# For hibernate tracing query parameter, make this default not opened\n#logger.hibernate.name = org.hibernate.type\n#logger.hibernate.level = trace\n#Logger.hibernate.Additivity = false\n\n# Configure root logger for logging error logs in classes which are in package other than above specified package\nrootLogger.level = info\nrootLogger.appenderRefs = Rewrite\nrootLogger.appenderRef.Rewrite.ref = Rewrite\n</code></pre>\n<p>my function rewrite :</p>\n<pre><code>@Plugin(name = &quot;LogInterceptor&quot;, category = &quot;Core&quot;, elementType = &quot;rewritePolicy&quot;, printObject = true)\npublic class LoggingMaskingConverter implements RewritePolicy {\n    \n    protected static final Logger log = LogManager.getLogger(LoggingMaskingConverter.class);\n\n    private static final List&lt;String&gt; loggingSetting = Arrays.asList(&quot;pin,password&quot;.split(&quot;,&quot;));\n    \n    private static final String loggingMasking = &quot;1&quot;;\n    \n    private static final List&lt;String&gt; excludePath = Collections.emptyList();\n    \n    private static final String STR_BODY = &quot;body=[&quot;;\n    \n    Properties prop = new Properties();\n    \n     @PluginFactory\n     public static LoggingMaskingConverter createPolicy() {\n         return new LoggingMaskingConverter();\n     }\n     \n     @Override\n     public LogEvent rewrite(LogEvent event) {\n         if (event.getLoggerName().contains(&quot;com.project&quot;)) {\n             \n             Message outputMessage = logInfoMasking(event.getMessage());\n\n             return new Log4jLogEvent.Builder(event).setMessage(outputMessage).build();\n         } else {\n             return new Log4jLogEvent.Builder(event).build();\n         }\n        \n     }\n     \n     public Message logInfoMasking(Message message) {\n         StringBuilder stringBuilder = new StringBuilder();\n         try {\n             String body = message.getFormattedMessage();\n             ObjectWriter ow = new ObjectMapper().writer().withDefaultPrettyPrinter();\n             if (StringUtils.isNotBlank(loggingMasking) &amp;&amp; loggingMasking.equalsIgnoreCase(&quot;1&quot;)) {\n                 if (body != null) {\n                     Collection&lt;String&gt; whitelist = loggingSetting;\n                     Collection&lt;String&gt; excludeKeys = excludePath;\n                     JsonMasker masker = new JsonMasker(whitelist, excludeKeys);\n                        \n                     JsonNode jsonNode = new ObjectMapper().readTree(body);\n                     JsonNode masked =  masker.mask(jsonNode);\n                     stringBuilder.append(STR_BODY + masked.toString() + &quot;]&quot;);\n                 }\n             } else {\n                 String json = ow.writeValueAsString(body);\n                 stringBuilder.append(STR_BODY + json + &quot;]&quot;);\n             }\n                \n         } catch (JsonProcessingException e) {\n             log.error(e, e);\n         }\n         return new ObjectMessage(stringBuilder.toString());\n    }\n}\n</code></pre>\n<p>i spend my time around one day to solve this. until this day. the rewrite still not working in logs file but in my function rewrite going well</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1675884286,"post_id":75390750,"comment_id":133026171,"body_markdown":"Hint: does &quot;q&quot; contain a comma? How do you expect to get to your final &quot;else if&quot; when `userInput` is &quot;q&quot;?","body":"Hint: does &quot;q&quot; contain a comma? How do you expect to get to your final &quot;else if&quot; when <code>userInput</code> is &quot;q&quot;?"},{"owner":{"account_id":27738096,"reputation":1,"user_id":21175183,"display_name":"Ashley"},"score":0,"creation_date":1675884741,"post_id":75390750,"comment_id":133026294,"body_markdown":"Thank you! I&#39;ve put the quit at the top. Still not sure how to fix the odd whitespace.","body":"Thank you! I&#39;ve put the quit at the top. Still not sure how to fix the odd whitespace."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675884823,"post_id":75390750,"comment_id":133026323,"body_markdown":"It&#39;s not clear to me what&#39;s wrong.  What&#39;s weird about the whitespace?","body":"It&#39;s not clear to me what&#39;s wrong.  What&#39;s weird about the whitespace?"},{"owner":{"account_id":27738096,"reputation":1,"user_id":21175183,"display_name":"Ashley"},"score":0,"creation_date":1675884947,"post_id":75390750,"comment_id":133026355,"body_markdown":"The program I&#39;m submitting to keeps telling me I have an extra space after the first word and before the second word.","body":"The program I&#39;m submitting to keeps telling me I have an extra space after the first word and before the second word."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1675885533,"post_id":75390750,"comment_id":133026535,"body_markdown":"There&#39;s an extra space because that is what you typed after `Golden`. Look here: `Golden , Monkey`","body":"There&#39;s an extra space because that is what you typed after <code>Golden</code>. Look here: <code>Golden , Monkey</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675892202,"post_id":75390750,"comment_id":133028286,"body_markdown":"If you need to remove the whitespace when you split, you can try `userInput.split(&quot;\\\\s*,\\\\s*&quot;)`.  The `&quot;\\\\s*&quot;` part is an expression that means &quot;any amount of white space&quot;.","body":"If you need to remove the whitespace when you split, you can try <code>userInput.split(&quot;\\\\s*,\\\\s*&quot;)</code>.  The <code>&quot;\\\\s*&quot;</code> part is an expression that means &quot;any amount of white space&quot;."}],"answers":[{"tags":[],"owner":{"account_id":27678740,"reputation":26,"user_id":21127984,"display_name":"Terkeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675884951,"creation_date":1675884818,"answer_id":75390869,"question_id":75390750,"body_markdown":"Your code never actually goes to the last &quot;else if&quot;, because &quot;q&quot; doesn&#39;t contain a comma, so only the second &quot;else if&quot; is accessed. Also, you aren&#39;t removing the spaces in your string, you still keep them after spliting the words.","title":"Parsing Strings (JAVA)","body":"<p>Your code never actually goes to the last &quot;else if&quot;, because &quot;q&quot; doesn't contain a comma, so only the second &quot;else if&quot; is accessed. Also, you aren't removing the spaces in your string, you still keep them after spliting the words.</p>\n"}],"owner":{"account_id":27738096,"reputation":1,"user_id":21175183,"display_name":"Ashley"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676319485,"accepted_answer_id":75390869,"answer_count":1,"score":-1,"last_activity_date":1675885248,"creation_date":1675884074,"question_id":75390750,"body_markdown":"I&#39;m trying to complete this assignment, but I&#39;m stuck on how to proceed. \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        while (true)\r\n        {\r\n            System.out.println(&quot;Enter input string: &quot;);\r\n            String userInput = scan.nextLine();\r\n\r\n            if (userInput.contains(&quot;,&quot;))\r\n            {\r\n                System.out.println(&quot;First word:  &quot; + userInput.split(&quot;,&quot;)[0]);\r\n                System.out.println(&quot;Second word:&quot; + userInput.split(&quot;,&quot;)[1]);\r\n                System.out.println(&quot;\\n&quot;);\r\n            }\r\n            else if (!userInput.contains(&quot;,&quot;))\r\n            {\r\n                System.out.println(&quot;Error: No comma in string&quot;);\r\n\r\n            }\r\n            else if (userInput.equalsIgnoreCase(&quot;q&quot;))\r\n            {\r\n                break;\r\n            }\r\n        }\r\n        return;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n** I&#39;ve fixed the issue with the quit, still need help with the weird whitespace.\r\n\r\n  [1]: https://i.stack.imgur.com/FEQKJ.png","title":"Parsing Strings (JAVA)","body":"<p>I'm trying to complete this assignment, but I'm stuck on how to proceed.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n\n        while (true)\n        {\n            System.out.println(&quot;Enter input string: &quot;);\n            String userInput = scan.nextLine();\n\n            if (userInput.contains(&quot;,&quot;))\n            {\n                System.out.println(&quot;First word:  &quot; + userInput.split(&quot;,&quot;)[0]);\n                System.out.println(&quot;Second word:&quot; + userInput.split(&quot;,&quot;)[1]);\n                System.out.println(&quot;\\n&quot;);\n            }\n            else if (!userInput.contains(&quot;,&quot;))\n            {\n                System.out.println(&quot;Error: No comma in string&quot;);\n\n            }\n            else if (userInput.equalsIgnoreCase(&quot;q&quot;))\n            {\n                break;\n            }\n        }\n        return;\n    }\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FEQKJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEQKJ.png\" alt=\"enter image description here\" /></a></p>\n<p>** I've fixed the issue with the quit, still need help with the weird whitespace.</p>\n"},{"tags":["java","android","android-studio","chaquopy"],"comments":[{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1625549646,"post_id":68265019,"comment_id":120648174,"body_markdown":"Do you target Android 11?  Android no longer permit access to external storage, unless you&#39;re developing a file manager. If it&#39;s for educational purposes, you can declare All Files Access permission (be a file manager)","body":"Do you target Android 11?  Android no longer permit access to external storage, unless you&#39;re developing a file manager. If it&#39;s for educational purposes, you can declare All Files Access permission (be a file manager)"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1625550069,"post_id":68265019,"comment_id":120648284,"body_markdown":"and this permission is already declared (`MANAGE_EXTERNAL_STORAGE`), but is it granted? @op check in system settings of your app","body":"and this permission is already declared (<code>MANAGE_EXTERNAL_STORAGE</code>), but is it granted? @op check in system settings of your app"},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1625557572,"post_id":68265019,"comment_id":120650770,"body_markdown":"Declaring permissions in manifest was the old way. Those permissions might also need to be asked at runtime as [runtime permissions](https://developer.android.com/training/permissions/requesting) in modern Android versions.","body":"Declaring permissions in manifest was the old way. Those permissions might also need to be asked at runtime as <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">runtime permissions</a> in modern Android versions."}],"answers":[{"tags":[],"owner":{"account_id":19759736,"reputation":86,"user_id":14469197,"display_name":"SamanSepahvand"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625552986,"creation_date":1625552986,"answer_id":68265582,"question_id":68265019,"body_markdown":"In addition to obtaining these permissions (READ_EXTERNAL_STORAGE, \r\n WRITE_EXTERNAL_STORAGE)during the initial run of the program, you must add the following code to the AndroidManifest.xml file in &lt;application&gt; tag.\r\n\r\n\r\n      android: requestLegacyExternalStorage = &quot;true&quot;","title":"Permission denied while accessing file Android 11","body":"<p>In addition to obtaining these permissions (READ_EXTERNAL_STORAGE,\nWRITE_EXTERNAL_STORAGE)during the initial run of the program, you must add the following code to the AndroidManifest.xml file in  tag.</p>\n<pre><code>  android: requestLegacyExternalStorage = &quot;true&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77317,"reputation":7311,"user_id":220765,"display_name":"mhsmith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625580465,"creation_date":1625580465,"answer_id":68272100,"question_id":68265019,"body_markdown":"From the [Chaquopy FAQ](https://chaquo.com/chaquopy/doc/current/faq.html#read-files-from-external-storage-sdcard):\r\n\r\nSince API level 29, Android has a [scoped storage policy](https://developer.android.com/training/data-storage#scoped-storage) which prevents direct access to external storage, even if your app has the READ_EXTERNAL_STORAGE permission. Instead, you can use the [system file picker](https://developer.android.com/training/data-storage/use-cases#open-document), and pass the file to Python as a byte array:\r\n\r\n```kotlin\r\nval REQUEST_OPEN = 0\r\n\r\nfun myMethod() {\r\n    startActivityForResult(\r\n        Intent(if (Build.VERSION.SDK_INT &gt;= 19) Intent.ACTION_OPEN_DOCUMENT\r\n               else Intent.ACTION_GET_CONTENT).apply {\r\n            addCategory(Intent.CATEGORY_OPENABLE)\r\n            setType(&quot;*/*&quot;)\r\n        }, REQUEST_OPEN)\r\n}\r\n\r\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n    if (requestCode == REQUEST_OPEN &amp;&amp; resultCode == RESULT_OK) {\r\n        val uri = data!!.data!!\r\n        // For Java, see https://stackoverflow.com/a/10297073\r\n        val content = contentResolver.openInputStream(uri)!!.use { it.readBytes() }\r\n        myPythonModule.callAttr(&quot;process&quot;, content)\r\n    }\r\n}\r\n```\r\n\r\nThe Python function can then access the file content however you like:\r\n\r\n```python\r\ndef process(content):\r\n    # `content` is already a bytes-like object, but if you need a standard bytes object:\r\n    content = bytes(content)\r\n\r\n    # If you need a file-like object:\r\n    import io\r\n    content_file = io.BytesIO(content)\r\n\r\n    # If you need a filename (less efficient):\r\n    import tempfile\r\n    with tempfile.NamedTemporaryFile() as temp_file:\r\n        temp_file.write(content)\r\n        filename = temp_file.name  # Valid only inside the `with` block.\r\n```","title":"Permission denied while accessing file Android 11","body":"<p>From the <a href=\"https://chaquo.com/chaquopy/doc/current/faq.html#read-files-from-external-storage-sdcard\" rel=\"nofollow noreferrer\">Chaquopy FAQ</a>:</p>\n<p>Since API level 29, Android has a <a href=\"https://developer.android.com/training/data-storage#scoped-storage\" rel=\"nofollow noreferrer\">scoped storage policy</a> which prevents direct access to external storage, even if your app has the READ_EXTERNAL_STORAGE permission. Instead, you can use the <a href=\"https://developer.android.com/training/data-storage/use-cases#open-document\" rel=\"nofollow noreferrer\">system file picker</a>, and pass the file to Python as a byte array:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val REQUEST_OPEN = 0\n\nfun myMethod() {\n    startActivityForResult(\n        Intent(if (Build.VERSION.SDK_INT &gt;= 19) Intent.ACTION_OPEN_DOCUMENT\n               else Intent.ACTION_GET_CONTENT).apply {\n            addCategory(Intent.CATEGORY_OPENABLE)\n            setType(&quot;*/*&quot;)\n        }, REQUEST_OPEN)\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    if (requestCode == REQUEST_OPEN &amp;&amp; resultCode == RESULT_OK) {\n        val uri = data!!.data!!\n        // For Java, see https://stackoverflow.com/a/10297073\n        val content = contentResolver.openInputStream(uri)!!.use { it.readBytes() }\n        myPythonModule.callAttr(&quot;process&quot;, content)\n    }\n}\n</code></pre>\n<p>The Python function can then access the file content however you like:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def process(content):\n    # `content` is already a bytes-like object, but if you need a standard bytes object:\n    content = bytes(content)\n\n    # If you need a file-like object:\n    import io\n    content_file = io.BytesIO(content)\n\n    # If you need a filename (less efficient):\n    import tempfile\n    with tempfile.NamedTemporaryFile() as temp_file:\n        temp_file.write(content)\n        filename = temp_file.name  # Valid only inside the `with` block.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14963506,"reputation":513,"user_id":10802531,"display_name":"Mosayeb Masoumi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675884816,"creation_date":1675884816,"answer_id":75390867,"question_id":68265019,"body_markdown":"it&#39;s better to use below permissions if just want to access videos and images :\r\n\r\n  &quot;android.permission.READ_MEDIA_IMAGES&quot;  \r\n  &quot;android.permission.READ_MEDIA_VIDEO&quot;\r\n\r\ninstead of using MANAGE_EXTERNAL_STORAGE","title":"Permission denied while accessing file Android 11","body":"<p>it's better to use below permissions if just want to access videos and images :</p>\n<p>&quot;android.permission.READ_MEDIA_IMAGES&quot;<br />\n&quot;android.permission.READ_MEDIA_VIDEO&quot;</p>\n<p>instead of using MANAGE_EXTERNAL_STORAGE</p>\n"}],"owner":{"account_id":19642340,"reputation":53,"user_id":14378117,"display_name":"Noman Omer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675884816,"creation_date":1625549350,"question_id":68265019,"body_markdown":"I am accessing text file in android but the permission denied errno13 showed up and i have already given all permission of storage\r\n\r\n\r\nThis is the logcat error which showing\r\n[![This is the logcat error which showing][1]][1]\r\n\r\n\r\nApplication permission code\r\n[![Application permission code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fvjpc.png\r\n  [2]: https://i.stack.imgur.com/EDrWP.png","title":"Permission denied while accessing file Android 11","body":"<p>I am accessing text file in android but the permission denied errno13 showed up and i have already given all permission of storage</p>\n<p>This is the logcat error which showing\n<a href=\"https://i.stack.imgur.com/Fvjpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fvjpc.png\" alt=\"This is the logcat error which showing\" /></a></p>\n<p>Application permission code\n<a href=\"https://i.stack.imgur.com/EDrWP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDrWP.png\" alt=\"Application permission code\" /></a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":14020306,"reputation":85,"user_id":10126669,"display_name":"RipperJugo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540367530,"creation_date":1540367530,"answer_id":52963586,"question_id":52881225,"body_markdown":"I had this problem and solved it by replacing:\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO) \r\n\r\nwith:\r\n  \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\nHope it works for you too!","title":"Hibernate exception: The internal connection pool has reached its maximum size","body":"<p>I had this problem and solved it by replacing:</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO) \n</code></pre>\n\n<p>with:</p>\n\n<pre><code>@GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>Hope it works for you too!</p>\n"},{"tags":[],"owner":{"account_id":8254927,"reputation":71,"user_id":6208394,"display_name":"Kees Kuip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547213893,"creation_date":1547213893,"answer_id":54147652,"question_id":52881225,"body_markdown":"I think it uses a connection to determine the &#39;id&#39;.\r\nMaybe setting the number of connections to 2 instead of 1 solves the problem.","title":"Hibernate exception: The internal connection pool has reached its maximum size","body":"<p>I think it uses a connection to determine the 'id'.\nMaybe setting the number of connections to 2 instead of 1 solves the problem.</p>\n"}],"owner":{"account_id":7719619,"reputation":33,"user_id":5846244,"display_name":"Rajnandini Ranbhare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675884609,"creation_date":1539891018,"question_id":52881225,"body_markdown":"I am facing above issue, whenever I&#39;m adding &#39;@GeneratedValue&#39; annotation to Id field.\r\nSee below code snippet which I have used for saving entity using hibernate. \r\n\r\n\r\n    public class HibernateTest {\r\n\tpublic static void main(String[] args) {\r\n\t    Employee emp1 = new Employee();\r\n\t\temp1.setName(&quot;User1&quot;);\r\n\t\r\n\t\ttry (SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory(); Session session = sessionFactory.openSession()){\r\n\t\tsession.beginTransaction();\r\n\t\tsession.save(emp1);\r\n\t\tsession.getTransaction().commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nBelow is my Entity class\r\n\r\n    @Entity\r\n    @Table (name = &quot;Employee_Details&quot;)\r\n    public class Employee {\r\n\t    @Id  @GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate int id;\r\n\t    private String name;\r\n    \tpublic int getId() { return id; }\r\n\t    public void setId(int id) { this.id = id; } \r\n    \tpublic String getName() {\r\n\t    \treturn name;\r\n    \t}\r\n\t    public void setName(String name) { this.name = name; }\r\n\t}\r\n\r\nAnd in hibernate.cfg.xml, connection pool size is set to 1\r\n\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\nI am closing the session as well as sessionFactory instance each time. Still facing below exception in logs\r\n\r\n    org.hibernate.HibernateException: The internal connection pool has reached its maximum size and no connection is currently available!\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.poll(DriverManagerConnectionProviderImpl.java:322)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:189)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)\r\n\tat org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125)\r\n\tat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\r\n\r\nIf I remove &#39;GeneratedValue&#39; annotation from Id field, this works fine. Can anyone tell me, why is this failing? And how to I resolve it?","title":"Hibernate exception: The internal connection pool has reached its maximum size","body":"<p>I am facing above issue, whenever I'm adding '@GeneratedValue' annotation to Id field.\nSee below code snippet which I have used for saving entity using hibernate. </p>\n\n<pre><code>public class HibernateTest {\npublic static void main(String[] args) {\n    Employee emp1 = new Employee();\n    emp1.setName(\"User1\");\n\n    try (SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory(); Session session = sessionFactory.openSession()){\n    session.beginTransaction();\n    session.save(emp1);\n    session.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Below is my Entity class</p>\n\n<pre><code>@Entity\n@Table (name = \"Employee_Details\")\npublic class Employee {\n    @Id  @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n    private String name;\n    public int getId() { return id; }\n    public void setId(int id) { this.id = id; } \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) { this.name = name; }\n}\n</code></pre>\n\n<p>And in hibernate.cfg.xml, connection pool size is set to 1</p>\n\n<pre><code>&lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n</code></pre>\n\n<p>I am closing the session as well as sessionFactory instance each time. Still facing below exception in logs</p>\n\n<pre><code>org.hibernate.HibernateException: The internal connection pool has reached its maximum size and no connection is currently available!\nat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.poll(DriverManagerConnectionProviderImpl.java:322)\nat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:189)\nat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:35)\nat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)\nat org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125)\nat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40)\n</code></pre>\n\n<p>If I remove 'GeneratedValue' annotation from Id field, this works fine. Can anyone tell me, why is this failing? And how to I resolve it?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1675881747,"post_id":75390304,"comment_id":133025486,"body_markdown":"@JonSkeet Maybe a `Map&lt;String, String[]&gt;`, this being Java.","body":"@JonSkeet Maybe a <code>Map&lt;String, String[]&gt;</code>, this being Java."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1675881950,"post_id":75390304,"comment_id":133025545,"body_markdown":"Thinking about it more, I suspect you should *probably* actually embrace object orientation more - you probably want a `Map&lt;String, Person&gt;` where the `Person` class would have hair colour, gender etc. Keeping everything in a string array can be a quick way to get started - but gets messy *really* quickly.","body":"Thinking about it more, I suspect you should <i>probably</i> actually embrace object orientation more - you probably want a <code>Map&lt;String, Person&gt;</code> where the <code>Person</code> class would have hair colour, gender etc. Keeping everything in a string array can be a quick way to get started - but gets messy <i>really</i> quickly."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1675882892,"post_id":75390304,"comment_id":133025790,"body_markdown":"`I have about 150 different arrays` like literally someone typed 150 arrays into your source code?  Clarifying would do wonders here.  What you need to do is to make this into a data file of some sort (&quot;Laura,Female,Blond&quot;) then read the whole thing in a loop.  Use Jon&#39;s suggestion to create a model object `Person` to hold this data.","body":"<code>I have about 150 different arrays</code> like literally someone typed 150 arrays into your source code?  Clarifying would do wonders here.  What you need to do is to make this into a data file of some sort (&quot;Laura,Female,Blond&quot;) then read the whole thing in a loop.  Use Jon&#39;s suggestion to create a model object <code>Person</code> to hold this data."},{"owner":{"account_id":24278208,"reputation":1,"user_id":18225186,"display_name":"Lasse Linow"},"score":0,"creation_date":1675885515,"post_id":75390304,"comment_id":133026530,"body_markdown":"@markspace Yes that someone being me. I broke my code down to make it easier, but seems that made helping me harder! I am writing a &quot;cheat&quot; for Loldle.com, so I have all the 150 Champions in the game and their Traits (gender, melee/ranged, ressource type etc) I am a noob so I figured an array is fine. I&#39;ll look into Maps and check it out!","body":"@markspace Yes that someone being me. I broke my code down to make it easier, but seems that made helping me harder! I am writing a &quot;cheat&quot; for Loldle.com, so I have all the 150 Champions in the game and their Traits (gender, melee/ranged, ressource type etc) I am a noob so I figured an array is fine. I&#39;ll look into Maps and check it out!"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1675889916,"post_id":75390304,"comment_id":133027679,"body_markdown":"What you want to use is called associative array.  Associative arrays or maps are built into the languages such as Python, JavaScript, PHP but not Java.  You can use Map to get do something similar.  It&#39;s more cumbersome and annoying but you could achieve the same thing.  You can&#39;t use [ ] operator.","body":"What you want to use is called associative array.  Associative arrays or maps are built into the languages such as Python, JavaScript, PHP but not Java.  You can use Map to get do something similar.  It&#39;s more cumbersome and annoying but you could achieve the same thing.  You can&#39;t use [ ] operator."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675884328,"creation_date":1675884328,"answer_id":75390797,"question_id":75390304,"body_markdown":"Variable names do not survive compilation, at least, not in a usable way. Thus, to directly answer your question: __impossible__.\r\n\r\nGiven that it is, java programmers tend not to do what you&#39;re doing. Instead, they&#39;d make a `Map` that maps strings (such as `Laura`) onto values (such as new String[] {&quot;Female&quot;, &quot;Blond&quot;}`).\r\n\r\nActually, while we&#39;re at it, a java programmer would never store such data in a string array, they&#39;d make types, such as:\r\n\r\n```\r\nenum HairColor {\r\n  BROWN, BLONDE, OTHER;\r\n}\r\n\r\nenum Gender {\r\n  MALE, FEMALE, OTHER;\r\n}\r\n\r\nrecord Person(Gender gender, HairColor hairColor) {}\r\n```\r\n\r\nThen you&#39;d have a `Map&lt;String, Person&gt;` that maps the name of a person (`&quot;Laura&quot;`) to an instance of `Person` representing her.\r\n\r\nThen you can do your `person[1] =&quot;Laura&quot;[1]` as:\r\n\r\n```\r\nPerson p = persons.get(&quot;Laura&quot;);\r\n```\r\n\r\nand go from there. To make this map, you replace:\r\n\r\n```\r\nString[] laura = {&quot;Female&quot;, &quot;Blonde&quot;};\r\n\r\n// with\r\nMap&lt;String, Person&gt; persons = new HashMap&lt;&gt;();\r\npersons.put(&quot;Laura&quot;, new Person(Gender.FEMALE, HairColor.BLONDE));\r\n```\r\n","title":"How to get a array by variable? (Java)","body":"<p>Variable names do not survive compilation, at least, not in a usable way. Thus, to directly answer your question: <strong>impossible</strong>.</p>\n<p>Given that it is, java programmers tend not to do what you're doing. Instead, they'd make a <code>Map</code> that maps strings (such as <code>Laura</code>) onto values (such as new String[] {&quot;Female&quot;, &quot;Blond&quot;}`).</p>\n<p>Actually, while we're at it, a java programmer would never store such data in a string array, they'd make types, such as:</p>\n<pre><code>enum HairColor {\n  BROWN, BLONDE, OTHER;\n}\n\nenum Gender {\n  MALE, FEMALE, OTHER;\n}\n\nrecord Person(Gender gender, HairColor hairColor) {}\n</code></pre>\n<p>Then you'd have a <code>Map&lt;String, Person&gt;</code> that maps the name of a person (<code>&quot;Laura&quot;</code>) to an instance of <code>Person</code> representing her.</p>\n<p>Then you can do your <code>person[1] =&quot;Laura&quot;[1]</code> as:</p>\n<pre><code>Person p = persons.get(&quot;Laura&quot;);\n</code></pre>\n<p>and go from there. To make this map, you replace:</p>\n<pre><code>String[] laura = {&quot;Female&quot;, &quot;Blonde&quot;};\n\n// with\nMap&lt;String, Person&gt; persons = new HashMap&lt;&gt;();\npersons.put(&quot;Laura&quot;, new Person(Gender.FEMALE, HairColor.BLONDE));\n</code></pre>\n"}],"owner":{"account_id":24278208,"reputation":1,"user_id":18225186,"display_name":"Lasse Linow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1675884328,"creation_date":1675881363,"question_id":75390304,"body_markdown":"I have a bunch of Arrays \r\n\r\n\r\n\r\n    \r\n    static String[] Laura= {&quot;Female&quot;, &quot;Blond&quot;};\r\n    \r\n    static String[] Phil= {&quot;Male&quot;, &quot;Brunette&quot;};\r\n    \r\n    static String[] Mark= {&quot;Male&quot;, &quot;brown&quot;};\r\n\r\n\r\n    static String[] Person= {&quot;Gender&quot;, &quot;Haircolor&quot;};\r\n\r\nand I want to replace the placeholder person with content from the arrays 2-4, depending on user input. \r\nIn short: \r\n\r\nI want to acces an array by giving the name as a String that the user inputs and replace my person array.\r\n\r\nso something like this: \r\n\r\n`person[1] =&quot;Laura&quot;[1]`\r\n\r\nI have about 150 different arrays, and having 150 code snippets just for this seems unreasonable to me, there has to be a way. (Its probably really simple I just cant think of it at the moment)\r\n\r\nI tried just putting my variable in the place where the Array&#39;s name would usually be, but its a Syntax error. \r\n\r\n\r\nI tried: \r\n\r\n\r\n`person[1] = variable[1]`","title":"How to get a array by variable? (Java)","body":"<p>I have a bunch of Arrays</p>\n<pre><code>static String[] Laura= {&quot;Female&quot;, &quot;Blond&quot;};\n\nstatic String[] Phil= {&quot;Male&quot;, &quot;Brunette&quot;};\n\nstatic String[] Mark= {&quot;Male&quot;, &quot;brown&quot;};\n\n\nstatic String[] Person= {&quot;Gender&quot;, &quot;Haircolor&quot;};\n</code></pre>\n<p>and I want to replace the placeholder person with content from the arrays 2-4, depending on user input.\nIn short:</p>\n<p>I want to acces an array by giving the name as a String that the user inputs and replace my person array.</p>\n<p>so something like this:</p>\n<p><code>person[1] =&quot;Laura&quot;[1]</code></p>\n<p>I have about 150 different arrays, and having 150 code snippets just for this seems unreasonable to me, there has to be a way. (Its probably really simple I just cant think of it at the moment)</p>\n<p>I tried just putting my variable in the place where the Array's name would usually be, but its a Syntax error.</p>\n<p>I tried:</p>\n<p><code>person[1] = variable[1]</code></p>\n"},{"tags":["java","spring-boot","azure","azure-active-directory"],"comments":[{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1649661215,"post_id":70035497,"comment_id":126923082,"body_markdown":"did you find a solution?","body":"did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":21681461,"reputation":8709,"user_id":15997509,"display_name":"kavyaS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637396096,"creation_date":1637396096,"answer_id":70044267,"question_id":70035497,"body_markdown":"Please check the below work arounds\r\n\r\n1.\tPlease Check dependencies:\r\n azure-active-directory-spring-boot-starter  and spring-boot-starter-oauth2-client.\r\n\r\n2.\tIn security configuration try this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                  .authorizeRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .oauth2Login()\r\n                    .userInfoEndpoint()\r\n                    .oidcUserService(oidcUserService);\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n3.\tAlso check if it is indentation issue in your application.yml file or application.properties . security property must be beneath the spring property and so on\r\n\r\n   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     azure:\r\n          activedirectory:\r\n            tenant-id: &lt;tenant-id&gt;\r\n        //other\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          client:\r\n           //other\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nPlease refer this [Spring Boot Starter for Azure Active Directory developer&#39;s guide | Microsoft Docs][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide","title":"Azure active directory with spring boot Oaut2UserService Problem","body":"<p>Please check the below work arounds</p>\n<ol>\n<li><p>Please Check dependencies:\nazure-active-directory-spring-boot-starter  and spring-boot-starter-oauth2-client.</p>\n</li>\n<li><p>In security configuration try this</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n              .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login()\n                .userInfoEndpoint()\n                .oidcUserService(oidcUserService);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"3\">\n<li>Also check if it is indentation issue in your application.yml file or application.properties . security property must be beneath the spring property and so on</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> azure:\n      activedirectory:\n        tenant-id: &lt;tenant-id&gt;\n    //other</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n       //other</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Please refer this <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide\" rel=\"nofollow noreferrer\">Spring Boot Starter for Azure Active Directory developer's guide | Microsoft Docs</a></p>\n"},{"tags":[],"owner":{"account_id":21747186,"reputation":21,"user_id":16053675,"display_name":"Tevin Banton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675884230,"creation_date":1675884230,"answer_id":75390781,"question_id":70035497,"body_markdown":"I had the same issue and fixed it by adding the following to my application.properties file\r\n\r\n```\r\nazure.activedirectory.tenant-id=YOUR_TENANT_ID\r\nazure.activedirectory.client-id=YOUR_APPLICATION_ID\r\nazure.activedirectory.client-secret=YOUR_CLIENT_SECRET\r\nazure.activedirectory.post-logout-redirect-uri=REDIRECT_URI\r\nazure.activedirectory.autorization-clients.graph.scopes=APP_SCOPES\r\n```\r\n","title":"Azure active directory with spring boot Oaut2UserService Problem","body":"<p>I had the same issue and fixed it by adding the following to my application.properties file</p>\n<pre><code>azure.activedirectory.tenant-id=YOUR_TENANT_ID\nazure.activedirectory.client-id=YOUR_APPLICATION_ID\nazure.activedirectory.client-secret=YOUR_CLIENT_SECRET\nazure.activedirectory.post-logout-redirect-uri=REDIRECT_URI\nazure.activedirectory.autorization-clients.graph.scopes=APP_SCOPES\n</code></pre>\n"}],"owner":{"account_id":23392475,"reputation":11,"user_id":17456964,"display_name":"noba86"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675884230,"creation_date":1637328011,"question_id":70035497,"body_markdown":"Description:\r\n\r\nField oidcUserService in com.azure.spring.aad.webapp.AADWebSecurityConfigurerAdapter required a bean of type &#39;org.springframework.security.oauth2.client.userinfo.OAuth2UserService&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nAction:\r\nConsider defining a bean of type &#39;org.springframework.security.oauth2.client.userinfo.OAuth2UserService&#39; in your configuration.\r\n\r\nSecurityConfig.java\r\n\r\n     \r\n    \r\n       @EnableWebSecurity\r\n        @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n        @Profile(&quot;azure&quot;)\r\n        public class SecurityConfig extends AADWebSecurityConfigurerAdapter {\r\n            @Value( &quot;${app.protect.authenticated}&quot;)\r\n            private String[] protectedRoutes;\r\n    \r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http.authorizeRequests()\r\n            .anyRequest().authenticated();\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nIf I compare my SecurtiyConfig.java with couple of other tutorials its very similar. Or at least they have no OAuth2UserService Bean in the SecurityConfig. Thats what I don&#39;t understand.\r\nAnybody able to help?\r\nhttps://code-premium.exaas.bosch.com/ps.go/msal-search-users/-/tree/main/1-Authentication/sign-in\r\n\r\n","title":"Azure active directory with spring boot Oaut2UserService Problem","body":"<p>Description:</p>\n<p>Field oidcUserService in com.azure.spring.aad.webapp.AADWebSecurityConfigurerAdapter required a bean of type 'org.springframework.security.oauth2.client.userinfo.OAuth2UserService' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:\nConsider defining a bean of type 'org.springframework.security.oauth2.client.userinfo.OAuth2UserService' in your configuration.</p>\n<p>SecurityConfig.java</p>\n<pre><code>   @EnableWebSecurity\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\n    @Profile(&quot;azure&quot;)\n    public class SecurityConfig extends AADWebSecurityConfigurerAdapter {\n        @Value( &quot;${app.protect.authenticated}&quot;)\n        private String[] protectedRoutes;\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n    super.configure(http);\n    http.authorizeRequests()\n        .anyRequest().authenticated();\n\n}\n\n}\n</code></pre>\n<p>If I compare my SecurtiyConfig.java with couple of other tutorials its very similar. Or at least they have no OAuth2UserService Bean in the SecurityConfig. Thats what I don't understand.\nAnybody able to help?\n<a href=\"https://code-premium.exaas.bosch.com/ps.go/msal-search-users/-/tree/main/1-Authentication/sign-in\" rel=\"nofollow noreferrer\">https://code-premium.exaas.bosch.com/ps.go/msal-search-users/-/tree/main/1-Authentication/sign-in</a></p>\n"},{"tags":["java","android","sharedpreferences"],"owner":{"account_id":22641761,"reputation":51,"user_id":16817752,"display_name":"DJ Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675883772,"creation_date":1675883772,"question_id":75390695,"body_markdown":"In my Android app, I have a settings activity, using the `PreferenceScreen` base, and it seems to work fine. On my main screen, I have an options menu with a `Settings` option. To handle this, I have this code:\r\n```   \r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        if (item.getItemId() == R.id.settings_item) {\r\n\r\n            Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\r\n            startActivity(intent);\r\n\r\n        }\r\n        \r\n        return true;\r\n    }\r\n```\r\n\r\nThat opens the `Settings` menu perfectly fine, and I go into it. This is my `root_preferences.xml` file:\r\n```\r\n&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;PreferenceCategory app:title=&quot;General&quot;&gt;\r\n\r\n        &lt;SwitchPreference\r\n            app:key=&quot;advanced_mode&quot;\r\n            app:title=&quot;Advanced Mode&quot;\r\n            app:summary=&quot;Display all details, for advanced users ONLY.&quot;\r\n            app:icon=&quot;@drawable/baseline_developer_board_24&quot; /&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n\r\n&lt;/PreferenceScreen&gt;\r\n```\r\n\r\nHere is my `SettingsActivity.java` file:\r\n```\r\npackage com.slimyfrog123.smokercontrol;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.preference.PreferenceFragmentCompat;\r\n\r\npublic class SettingsActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.settings_activity);\r\n        if (savedInstanceState == null) {\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .replace(R.id.settings, new SettingsFragment())\r\n                    .commit();\r\n        }\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n\r\n            actionBar.setTitle(&quot;Settings&quot;);\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        if (item.getItemId() == 16908332) onBackPressed();\r\n\r\n        return true;\r\n\r\n    }\r\n\r\n    public static class SettingsFragment extends PreferenceFragmentCompat {\r\n\r\n        @Override\r\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo, this works just fine whenever I open it the first time, and the toast pops up saying that I changed it, as defined here:\r\n```\r\n\r\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        SharedPreferences.OnSharedPreferenceChangeListener listener =\r\n                new SharedPreferences.OnSharedPreferenceChangeListener() {\r\n\r\n            @Override\r\n            public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\r\n\r\n                runOnUiThread(() -&gt; {\r\n\r\n                    Toast.makeText(getApplicationContext(), &quot;`&quot;  + key + &quot;` changed.&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n\r\n                });\r\n\r\n                if (key.equals(&quot;advanced_mode&quot;)) {\r\n\r\n                    advancedMode = sharedPreferences.getBoolean(&quot;advanced_mode&quot;, false);\r\n\r\n                    runOnUiThread(() -&gt; {\r\n\r\n                        Toast.makeText(getApplicationContext(), (advancedMode) ? &quot;Advanced Mode &quot; +\r\n                                &quot;Enabled.&quot; : &quot;Advanced Mode Disabled.&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                        updateUi();\r\n\r\n                    });\r\n\r\n                }\r\n\r\n            }\r\n\r\n        };\r\n        advancedMode = preferences.getBoolean(&quot;advanced_mode&quot;, false);\r\n        preferences.registerOnSharedPreferenceChangeListener(listener);\r\n```\r\nonce I close and re-open the menu, though, or even when I switch the `SwitchPreference` twice, it doesn&#39;t work anymore, and I have no idea why.\r\n\r\n\r\nI tried multiple different things, including telling the activity to finish on the back button pressed (the back button in the header) and then it did not work at all.\r\n\r\nMy expectation was that this would work in the first place, and that this would be simple and straightforward.","title":"Android: Preferences will not change on the second time that the screen is opened","body":"<p>In my Android app, I have a settings activity, using the <code>PreferenceScreen</code> base, and it seems to work fine. On my main screen, I have an options menu with a <code>Settings</code> option. To handle this, I have this code:</p>\n<pre><code>    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        if (item.getItemId() == R.id.settings_item) {\n\n            Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\n            startActivity(intent);\n\n        }\n        \n        return true;\n    }\n</code></pre>\n<p>That opens the <code>Settings</code> menu perfectly fine, and I go into it. This is my <code>root_preferences.xml</code> file:</p>\n<pre><code>&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;PreferenceCategory app:title=&quot;General&quot;&gt;\n\n        &lt;SwitchPreference\n            app:key=&quot;advanced_mode&quot;\n            app:title=&quot;Advanced Mode&quot;\n            app:summary=&quot;Display all details, for advanced users ONLY.&quot;\n            app:icon=&quot;@drawable/baseline_developer_board_24&quot; /&gt;\n\n    &lt;/PreferenceCategory&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p>Here is my <code>SettingsActivity.java</code> file:</p>\n<pre><code>package com.slimyfrog123.smokercontrol;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class SettingsActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.settings_activity);\n        if (savedInstanceState == null) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.settings, new SettingsFragment())\n                    .commit();\n        }\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n\n            actionBar.setTitle(&quot;Settings&quot;);\n            actionBar.setDisplayHomeAsUpEnabled(true);\n\n        }\n\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        if (item.getItemId() == 16908332) onBackPressed();\n\n        return true;\n\n    }\n\n    public static class SettingsFragment extends PreferenceFragmentCompat {\n\n        @Override\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\n        }\n\n    }\n\n}\n</code></pre>\n<p>So, this works just fine whenever I open it the first time, and the toast pops up saying that I changed it, as defined here:</p>\n<pre><code>\n        SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);\n        SharedPreferences.OnSharedPreferenceChangeListener listener =\n                new SharedPreferences.OnSharedPreferenceChangeListener() {\n\n            @Override\n            public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {\n\n                runOnUiThread(() -&gt; {\n\n                    Toast.makeText(getApplicationContext(), &quot;`&quot;  + key + &quot;` changed.&quot;,\n                            Toast.LENGTH_SHORT).show();\n\n                });\n\n                if (key.equals(&quot;advanced_mode&quot;)) {\n\n                    advancedMode = sharedPreferences.getBoolean(&quot;advanced_mode&quot;, false);\n\n                    runOnUiThread(() -&gt; {\n\n                        Toast.makeText(getApplicationContext(), (advancedMode) ? &quot;Advanced Mode &quot; +\n                                &quot;Enabled.&quot; : &quot;Advanced Mode Disabled.&quot;, Toast.LENGTH_SHORT).show();\n\n                        updateUi();\n\n                    });\n\n                }\n\n            }\n\n        };\n        advancedMode = preferences.getBoolean(&quot;advanced_mode&quot;, false);\n        preferences.registerOnSharedPreferenceChangeListener(listener);\n</code></pre>\n<p>once I close and re-open the menu, though, or even when I switch the <code>SwitchPreference</code> twice, it doesn't work anymore, and I have no idea why.</p>\n<p>I tried multiple different things, including telling the activity to finish on the back button pressed (the back button in the header) and then it did not work at all.</p>\n<p>My expectation was that this would work in the first place, and that this would be simple and straightforward.</p>\n"},{"tags":["java","spring","spring-boot","dockerfile"],"comments":[{"owner":{"account_id":4271910,"reputation":233,"user_id":3493538,"display_name":"Naveen Kulkarni"},"score":0,"creation_date":1576258165,"post_id":59299794,"comment_id":104853799,"body_markdown":"Follow my github repository and use the docker file. it should fix your problem.\n\nhttps://github.com/naveenkulkarni029/products-api","body":"Follow my github repository and use the docker file. it should fix your problem.  <a href=\"https://github.com/naveenkulkarni029/products-api\" rel=\"nofollow noreferrer\">github.com/naveenkulkarni029/products-api</a>"}],"answers":[{"tags":[],"owner":{"account_id":12836302,"reputation":2160,"user_id":9285802,"display_name":"Sukhpal Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576137534,"creation_date":1576137534,"answer_id":59300008,"question_id":59299794,"body_markdown":"Seems like you aren&#39;t building Fat Jar. You can utilize `spring-boot-maven-plugin` for that. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThen change your `Dockerfile` like:\r\n\r\n    FROM java:8\r\n    VOLUME /tmp\r\n\tENV tom=dev\r\n\tCOPY build/libs/demo-0.0.1-SNAPSHOT.jar /app/app.jar\r\n\tWORKDIR /app\r\n\tENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-Dprofile=${tom}&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]","title":"Docker cannot find Resource on classpath","body":"<p>Seems like you aren't building Fat Jar. You can utilize <code>spring-boot-maven-plugin</code> for that. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Then change your <code>Dockerfile</code> like:</p>\n\n<pre><code>FROM java:8\nVOLUME /tmp\nENV tom=dev\nCOPY build/libs/demo-0.0.1-SNAPSHOT.jar /app/app.jar\nWORKDIR /app\nENTRYPOINT [\"java\",\"-Djava.security.egd=file:/dev/./urandom\",\"-Dprofile=${tom}\",\"-jar\",\"app.jar\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1576257805,"creation_date":1576257389,"answer_id":59327134,"question_id":59299794,"body_markdown":"It has nothing to do with the docker. Have you tried building the jar file and running it by `java -jar`.\r\n\r\n```\r\nADD build/resources/main/application.properties /app/application.properties\r\n\r\nADD build/resources/main/application-dev.properties /app/application-dev.properties\r\n```\r\n\r\nThese are unnecessary too. When you create your artifact as fat/uber/Shadow jar, you will have your properties packaged in jar.\r\n\r\nHow to build fat/uber/Shadow Jar (Spring boot Gradle)\r\n---\r\nhttps://plugins.gradle.org/plugin/org.springframework.boot (https://stackoverflow.com/questions/33578495/gradle-build-fat-jar-with-spring-boot-dependencies)\r\n\r\n**Alternative**\r\n\r\nhttps://imperceptiblethoughts.com/shadow/ (https://github.com/johnrengelman/shadow )","title":"Docker cannot find Resource on classpath","body":"<p>It has nothing to do with the docker. Have you tried building the jar file and running it by <code>java -jar</code>.</p>\n\n<pre><code>ADD build/resources/main/application.properties /app/application.properties\n\nADD build/resources/main/application-dev.properties /app/application-dev.properties\n</code></pre>\n\n<p>These are unnecessary too. When you create your artifact as fat/uber/Shadow jar, you will have your properties packaged in jar.</p>\n\n<h2>How to build fat/uber/Shadow Jar (Spring boot Gradle)</h2>\n\n<p><a href=\"https://plugins.gradle.org/plugin/org.springframework.boot\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/org.springframework.boot</a> (<a href=\"https://stackoverflow.com/questions/33578495/gradle-build-fat-jar-with-spring-boot-dependencies\">Gradle: Build &#39;fat jar&#39; with Spring Boot Dependencies</a>)</p>\n\n<p><strong>Alternative</strong></p>\n\n<p><a href=\"https://imperceptiblethoughts.com/shadow/\" rel=\"nofollow noreferrer\">https://imperceptiblethoughts.com/shadow/</a> (<a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">https://github.com/johnrengelman/shadow</a> )</p>\n"}],"owner":{"account_id":4503384,"reputation":523,"user_id":3661407,"accept_rate":0,"display_name":"user3661407"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9476,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":59327134,"answer_count":2,"score":7,"last_activity_date":1675882986,"creation_date":1576136451,"question_id":59299794,"body_markdown":"I have a simple Gradle Spring Boot Java application, where I am trying to get some properties value from  &quot;application.properties&quot; and &quot;application-dev.properties&quot; using spring boot profiling. It is working fine and Spring Boot profile is loading when I try to run application on the local machine, but when when I try to run same application on the Docker, suddenly an error pops up which says that application is not able to find resources on the classpath.\r\n\r\nBelow is the project structure:\r\n\r\n[![Project structure of the application][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/4bm3I.png\r\n\r\nIn the App.Config class I have the following code. As you can see I am trying to get property value from application.properties file.\r\n\r\n    @Component\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class AppConfig {\r\n\r\n    @Value(&quot;${host}&quot;)\r\n    private String host;\r\n    @Value(&quot;${map}&quot;)\r\n    private String map;\r\n\r\n    public String getHost() {\r\n        return host;\r\n    }\r\n\r\n    public void setHost(String host) {\r\n        this.host = host;\r\n    }\r\n\r\n    public String getMap() {\r\n        return map;\r\n    }\r\n\r\n    public void setMap(String map) {\r\n        this.map = map;\r\n    }\r\n    }\r\n\r\napplication.properties contains following code:\r\n\r\n    map = Main-Map\r\n\r\n    spring.profiles.active=${profile}\r\n\r\napplication-dev.properties contains following code:\r\n\r\n    host = Development-host\r\n\r\nAs you can see I am setting profile value in application.properties from outside. That&#39;s what I am trying to inject through docker\r\n\r\nDockerfile contain following code:\r\n\r\n    FROM java:8\r\n\r\n    VOLUME /tmp\r\n\r\n    ENV tom=dev\r\n\r\n    ADD build/libs/demo-0.0.1-SNAPSHOT.jar /app/app.jar\r\n\r\n    ADD build/resources/main/application.properties /app/application.properties\r\n\r\n    ADD build/resources/main/application-dev.properties /app/application-dev.properties\r\n\r\n    WORKDIR /app\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;- \r\n    Dprofile=${tom}&quot;,&quot;-jar&quot;,&quot;app.jar&quot;, &quot;- \r\n    -spring.config.location=/app/application.properties, /app/application- \r\n    dev.properties&quot;]\r\n\r\nI build Docker image using following command:\r\n\r\n    docker build -t demo:latest .\r\n\r\nI run Docker using following command:\r\n\r\n    docker run -p 8083:8080 demo:latest\r\n\r\nWhen I run `docker run` command, so comes below exception:\r\n\r\n    2019-12-12 07:09:50.405  INFO 1 --- [           main] com.example.demo.DemoApplication         : \r\n    Starting DemoApplication on ed7cb11b8a34 with PID 1 (/app/app.jar started by root in /app)\r\n    2019-12-12 07:09:50.407  INFO 1 --- [           main] com.example.demo.DemoApplication         : The \r\n    following profiles are active: dev\r\n    2019-12-12 07:09:50.603  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : \r\n    Exception encountered during context initialization - cancelling refresh attempt: \r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class \r\n    [com.example.demo.DemoApplication]; nested exception is java.io.FileNotFoundException: class path \r\n    resource [application.properties] cannot be opened because it does not exist\r\n    2019-12-12 07:09:50.712 ERROR 1 --- [           main] o.s.boot.SpringApplication               : \r\n    Application run failed\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [   com.example.demo.DemoApplication]; nested exception is java.io.FileNotFoundException: class path \r\n    resource [ application.properties] cannot be opened because it does not exist\r\n        at \r\n \r\nWhat can I try to resolve this?\r\n","title":"Docker cannot find Resource on classpath","body":"<p>I have a simple Gradle Spring Boot Java application, where I am trying to get some properties value from  &quot;application.properties&quot; and &quot;application-dev.properties&quot; using spring boot profiling. It is working fine and Spring Boot profile is loading when I try to run application on the local machine, but when when I try to run same application on the Docker, suddenly an error pops up which says that application is not able to find resources on the classpath.</p>\n<p>Below is the project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/4bm3I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4bm3I.png\" alt=\"Project structure of the application\" /></a></p>\n<p>In the App.Config class I have the following code. As you can see I am trying to get property value from application.properties file.</p>\n<pre><code>@Component\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class AppConfig {\n\n@Value(&quot;${host}&quot;)\nprivate String host;\n@Value(&quot;${map}&quot;)\nprivate String map;\n\npublic String getHost() {\n    return host;\n}\n\npublic void setHost(String host) {\n    this.host = host;\n}\n\npublic String getMap() {\n    return map;\n}\n\npublic void setMap(String map) {\n    this.map = map;\n}\n}\n</code></pre>\n<p>application.properties contains following code:</p>\n<pre><code>map = Main-Map\n\nspring.profiles.active=${profile}\n</code></pre>\n<p>application-dev.properties contains following code:</p>\n<pre><code>host = Development-host\n</code></pre>\n<p>As you can see I am setting profile value in application.properties from outside. That's what I am trying to inject through docker</p>\n<p>Dockerfile contain following code:</p>\n<pre><code>FROM java:8\n\nVOLUME /tmp\n\nENV tom=dev\n\nADD build/libs/demo-0.0.1-SNAPSHOT.jar /app/app.jar\n\nADD build/resources/main/application.properties /app/application.properties\n\nADD build/resources/main/application-dev.properties /app/application-dev.properties\n\nWORKDIR /app\n\nENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;- \nDprofile=${tom}&quot;,&quot;-jar&quot;,&quot;app.jar&quot;, &quot;- \n-spring.config.location=/app/application.properties, /app/application- \ndev.properties&quot;]\n</code></pre>\n<p>I build Docker image using following command:</p>\n<pre><code>docker build -t demo:latest .\n</code></pre>\n<p>I run Docker using following command:</p>\n<pre><code>docker run -p 8083:8080 demo:latest\n</code></pre>\n<p>When I run <code>docker run</code> command, so comes below exception:</p>\n<pre><code>2019-12-12 07:09:50.405  INFO 1 --- [           main] com.example.demo.DemoApplication         : \nStarting DemoApplication on ed7cb11b8a34 with PID 1 (/app/app.jar started by root in /app)\n2019-12-12 07:09:50.407  INFO 1 --- [           main] com.example.demo.DemoApplication         : The \nfollowing profiles are active: dev\n2019-12-12 07:09:50.603  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : \nException encountered during context initialization - cancelling refresh attempt: \norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class \n[com.example.demo.DemoApplication]; nested exception is java.io.FileNotFoundException: class path \nresource [application.properties] cannot be opened because it does not exist\n2019-12-12 07:09:50.712 ERROR 1 --- [           main] o.s.boot.SpringApplication               : \nApplication run failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [   com.example.demo.DemoApplication]; nested exception is java.io.FileNotFoundException: class path \nresource [ application.properties] cannot be opened because it does not exist\n    at \n</code></pre>\n<p>What can I try to resolve this?</p>\n"},{"tags":["java","intellij-idea","docx4j"],"comments":[{"owner":{"account_id":12434369,"reputation":71,"user_id":9055315,"display_name":"Yuuuucef"},"score":0,"creation_date":1524999806,"post_id":50085784,"comment_id":87187306,"body_markdown":"isn&#39;t that what moxy library is for ?","body":"isn&#39;t that what moxy library is for ?"},{"owner":{"account_id":12434369,"reputation":71,"user_id":9055315,"display_name":"Yuuuucef"},"score":0,"creation_date":1525002505,"post_id":50085784,"comment_id":87188043,"body_markdown":"@JasonPlutext its still not working :/","body":"@JasonPlutext its still not working :/"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1525037465,"post_id":50085784,"comment_id":87199221,"body_markdown":"See https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j","body":"See <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\" title=\"how to resolve java lang noclassdeffounderror javax xml bind jaxbexception in j\">stackoverflow.com/questions/43574426/&hellip;</a>"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1525037491,"post_id":50085784,"comment_id":87199232,"body_markdown":"Possible duplicate of [How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9](https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a>"},{"owner":{"account_id":12434369,"reputation":71,"user_id":9055315,"display_name":"Yuuuucef"},"score":0,"creation_date":1525042385,"post_id":50085784,"comment_id":87200262,"body_markdown":"i did saw that but i didn&#39;t try it i thought that docx4j integrated moxy as a solution for this apparently i thought wrong now i ll try to resolve the jxab with others methode thank you","body":"i did saw that but i didn&#39;t try it i thought that docx4j integrated moxy as a solution for this apparently i thought wrong now i ll try to resolve the jxab with others methode thank you"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1525042624,"post_id":50085784,"comment_id":87200314,"body_markdown":"Try https://stackoverflow.com/a/48136912/1031689","body":"Try <a href=\"https://stackoverflow.com/a/48136912/1031689\">stackoverflow.com/a/48136912/1031689</a>"},{"owner":{"account_id":12434369,"reputation":71,"user_id":9055315,"display_name":"Yuuuucef"},"score":0,"creation_date":1525043307,"post_id":50085784,"comment_id":87200450,"body_markdown":"using java se so don&#39;t think that will work","body":"using java se so don&#39;t think that will work"}],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525578590,"creation_date":1525048222,"answer_id":50092620,"question_id":50085784,"body_markdown":"I expect there is more work to do, but https://github.com/plutext/docx4j/tree/Java9 works in Eclipse Oxygen.3a 4.7.3a with Open JDK 9, at least.\r\n\r\n**UPDATE 6 May 2018**\r\n\r\nDeleted the Java 9 branch, since you can use master following https://github.com/plutext/docx4j/commit/0def93434bc9a3efcbbf214247572dc5b9e96616\r\n\r\nFix is in https://www.docx4java.org/docx4j/docx4j-nightly-20180506.jar and will be in v3.3.8 on its release.","title":"JAXBException while trying to execute docx4j","body":"<p>I expect there is more work to do, but <a href=\"https://github.com/plutext/docx4j/tree/Java9\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/tree/Java9</a> works in Eclipse Oxygen.3a 4.7.3a with Open JDK 9, at least.</p>\n\n<p><strong>UPDATE 6 May 2018</strong></p>\n\n<p>Deleted the Java 9 branch, since you can use master following <a href=\"https://github.com/plutext/docx4j/commit/0def93434bc9a3efcbbf214247572dc5b9e96616\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commit/0def93434bc9a3efcbbf214247572dc5b9e96616</a></p>\n\n<p>Fix is in <a href=\"https://www.docx4java.org/docx4j/docx4j-nightly-20180506.jar\" rel=\"nofollow noreferrer\">https://www.docx4java.org/docx4j/docx4j-nightly-20180506.jar</a> and will be in v3.3.8 on its release.</p>\n"},{"tags":[],"owner":{"account_id":12434369,"reputation":71,"user_id":9055315,"display_name":"Yuuuucef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525088510,"creation_date":1525088510,"answer_id":50099812,"question_id":50085784,"body_markdown":"i did add jxab library jars and its working fine now hope it will not crash [jxab jars][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j/48136912#48136912/%22jxab%20jars%22","title":"JAXBException while trying to execute docx4j","body":"<p>i did add jxab library jars and its working fine now hope it will not crash <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j/48136912#48136912/%22jxab%20jars%22\">jxab jars</a></p>\n"}],"owner":{"account_id":12434369,"reputation":71,"user_id":9055315,"display_name":"Yuuuucef"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675882933,"creation_date":1524999372,"question_id":50085784,"body_markdown":"I have a code to generate word files in Java with IntelliJ idea using docx4j library which it work great in java 8 but when I did migrate to java 9 or 10 I get  \r\n&gt;  Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\r\nthat I can&#39;t get rid off I tried adding Moxy to library, class path but still the same exception. \r\nI looked in this similar problem but didn&#39;t work for me [docx4j JXABException][1]\r\n\r\n\r\n  [1]: https://www.docx4java.org/forums/tomcat-f23/problems-with-tomcat-and-docx4j-t1806.html","title":"JAXBException while trying to execute docx4j","body":"<p>I have a code to generate word files in Java with IntelliJ idea using docx4j library which it work great in java 8 but when I did migrate to java 9 or 10 I get</p>\n<blockquote>\n<p>Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</p>\n</blockquote>\n<p>that I can't get rid off I tried adding Moxy to library, class path but still the same exception.\nI looked in this similar problem but didn't work for me <a href=\"https://www.docx4java.org/forums/tomcat-f23/problems-with-tomcat-and-docx4j-t1806.html\" rel=\"nofollow noreferrer\">docx4j JXABException</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1675918935,"post_id":75390213,"comment_id":133032330,"body_markdown":"Mention annotations `@produces` and `@Consumes` with your MediaType such as `application/json` , also while hitting from Postman, ensure, you are setting following headers , `accept: application/json`","body":"Mention annotations <code>@produces</code> and <code>@Consumes</code> with your MediaType such as <code>application&#47;json</code> , also while hitting from Postman, ensure, you are setting following headers , <code>accept: application&#47;json</code>"}],"owner":{"account_id":21600073,"reputation":29,"user_id":15928379,"display_name":"Ankit Vashishta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675881697,"answer_count":0,"score":1,"last_activity_date":1675882604,"creation_date":1675880845,"question_id":75390213,"body_markdown":"Getting `400` Error\r\n\r\n    2023-02-08T23:47:15.451+05:30  WARN 41316 --- [nio-8083-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity com.metafy.metafy.controller.UserController.deleteme(java.lang.String,java.lang.String,java.lang.String)]\r\n\r\nBelow is the `Controller` Code\r\n\r\n    @PostMapping(&quot;/deleteRoute&quot;)\r\n        public ResponseEntity deleteme(@RequestBody String id, @RequestBody String route, @RequestBody String password) {\r\n            return UserService.deleteRoute(id, route, password);\r\n        }\r\n\r\nBelow is the `Service` Code\r\n\r\n    public ResponseEntity deleteRoute(String id, String route, String password) {\r\n            ExamRoute getCurrentRoute = dynamoDBMapper.load(ExamRoute.class, id);\r\n            String result = &quot;Invalid Credentials&quot;;\r\n            if(getCurrentRoute.getRoute().equals(route) &amp;&amp; getCurrentRoute.getPassword().equals(password)) {\r\n                // delete an item from the Routes table with id 32432\r\n                result = getCurrentRoute.getId() + &quot; is Deleted&quot;;\r\n                dynamoDBMapper.delete(ExamRoute.builder().id(getCurrentRoute.getId()).build());\r\n            }\r\n            return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n        }\r\n\r\nBelow is the Example Question\r\n\r\n    {\r\n      &quot;id&quot;: &quot;user123&quot;,\r\n      &quot;route&quot;: &quot;/example&quot;,\r\n      &quot;password&quot;: &quot;securePassword&quot;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wslns.png","title":"My code in Spring Boot is giving 400. HttpMessageNotReadableException: Required request body is missing:","body":"<p>Getting <code>400</code> Error</p>\n<pre><code>2023-02-08T23:47:15.451+05:30  WARN 41316 --- [nio-8083-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity com.metafy.metafy.controller.UserController.deleteme(java.lang.String,java.lang.String,java.lang.String)]\n</code></pre>\n<p>Below is the <code>Controller</code> Code</p>\n<pre><code>@PostMapping(&quot;/deleteRoute&quot;)\n    public ResponseEntity deleteme(@RequestBody String id, @RequestBody String route, @RequestBody String password) {\n        return UserService.deleteRoute(id, route, password);\n    }\n</code></pre>\n<p>Below is the <code>Service</code> Code</p>\n<pre><code>public ResponseEntity deleteRoute(String id, String route, String password) {\n        ExamRoute getCurrentRoute = dynamoDBMapper.load(ExamRoute.class, id);\n        String result = &quot;Invalid Credentials&quot;;\n        if(getCurrentRoute.getRoute().equals(route) &amp;&amp; getCurrentRoute.getPassword().equals(password)) {\n            // delete an item from the Routes table with id 32432\n            result = getCurrentRoute.getId() + &quot; is Deleted&quot;;\n            dynamoDBMapper.delete(ExamRoute.builder().id(getCurrentRoute.getId()).build());\n        }\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n</code></pre>\n<p>Below is the Example Question</p>\n<pre><code>{\n  &quot;id&quot;: &quot;user123&quot;,\n  &quot;route&quot;: &quot;/example&quot;,\n  &quot;password&quot;: &quot;securePassword&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wslns.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wslns.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","image","swing","colors"],"comments":[{"owner":{"account_id":61247,"reputation":8712,"user_id":182654,"accept_rate":78,"display_name":"Matt Mills"},"score":0,"creation_date":1320609721,"post_id":8029903,"comment_id":9829996,"body_markdown":"Are you restricting the colors the user can choose?  What parts of the image do you want to be the new color?","body":"Are you restricting the colors the user can choose?  What parts of the image do you want to be the new color?"},{"owner":{"account_id":987466,"reputation":399,"user_id":1005631,"display_name":"foowtf"},"score":1,"creation_date":1320611082,"post_id":8029903,"comment_id":9830202,"body_markdown":"I think he wants the grayscale image colors as some kind of brightness for the chosen color.","body":"I think he wants the grayscale image colors as some kind of brightness for the chosen color."},{"owner":{"account_id":135410,"reputation":198,"user_id":338259,"display_name":"Jon"},"score":0,"creation_date":1320619116,"post_id":8029903,"comment_id":9831517,"body_markdown":"Yes, the image is grayscale and has between 2 and 6 shades of gray in it.  I want to adjust all of those shades to reflect the chosen color.","body":"Yes, the image is grayscale and has between 2 and 6 shades of gray in it.  I want to adjust all of those shades to reflect the chosen color."},{"owner":{"account_id":987466,"reputation":399,"user_id":1005631,"display_name":"foowtf"},"score":0,"creation_date":1320624037,"post_id":8029903,"comment_id":9832206,"body_markdown":"Well, doesn&#39;t my answer help you, any questions?","body":"Well, doesn&#39;t my answer help you, any questions?"}],"answers":[{"tags":[],"owner":{"account_id":987466,"reputation":399,"user_id":1005631,"display_name":"foowtf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1320855011,"creation_date":1320610056,"answer_id":8030013,"question_id":8029903,"body_markdown":"Perhaps there is a more elegant and efficient version but if you have a BufferedImage you could try something like:\r\n\r\n    BufferedImage image;\r\n    for(int y = 0; y &lt; image.getHeight(); y++)\r\n        for(int x = 0; x &lt; image.getWidth(); x++)\r\n        {\r\n            Color imageColor = new Color(image.getRGB(x, y));\r\n            //mix imageColor and desired color \r\n            image.setRGB(x, y, imageColor.getRGB());\r\n        }\r\n\r\nMaybe this is the real problem: Mixing the two colors can be done by multiplying them...\r\n\r\nEdit:\r\n\r\n    private Color multiply(Color color1, Color color2)\r\n    {\r\n        float[] color1Components = color1.getRGBComponents(null);   \r\n        float[] color2Components = color2.getRGBColorComponents(null);\r\n        float[] newComponents = new float[3]; \r\n        \r\n        for(int i = 0; i &lt; 3; i++)\r\n            newComponents[i] = color1Components[i] * color2Components[i];\r\n\r\n        return new Color(newComponents[0], newComponents[1], newComponents[2],\r\n            color1Components[3]);\r\n    }","title":"How to change the color of an icon based on user action?","body":"<p>Perhaps there is a more elegant and efficient version but if you have a BufferedImage you could try something like:</p>\n\n<pre><code>BufferedImage image;\nfor(int y = 0; y &lt; image.getHeight(); y++)\n    for(int x = 0; x &lt; image.getWidth(); x++)\n    {\n        Color imageColor = new Color(image.getRGB(x, y));\n        //mix imageColor and desired color \n        image.setRGB(x, y, imageColor.getRGB());\n    }\n</code></pre>\n\n<p>Maybe this is the real problem: Mixing the two colors can be done by multiplying them...</p>\n\n<p>Edit:</p>\n\n<pre><code>private Color multiply(Color color1, Color color2)\n{\n    float[] color1Components = color1.getRGBComponents(null);   \n    float[] color2Components = color2.getRGBColorComponents(null);\n    float[] newComponents = new float[3]; \n\n    for(int i = 0; i &lt; 3; i++)\n        newComponents[i] = color1Components[i] * color2Components[i];\n\n    return new Color(newComponents[0], newComponents[1], newComponents[2],\n        color1Components[3]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675881936,"creation_date":1320637766,"answer_id":8032538,"question_id":8029903,"body_markdown":"If you know the colors you want in advance, you can use a [`LookupOp`][1] with a `LookupTable`. Examples may be found in [*Using the Java 2D LookupOp Filter Class to Process Images*][2] and [*Image processing with Java 2D*][3].\r\n\r\nIf not, [`darker()`][4] or [`getHSBColor()`][5] may helpful, as shown [here][6] in the context of `BufferedImage`.\r\n\r\n\r\n  [1]:http://download-llnw.oracle.com/javase/7/docs/api/java/awt/image/LookupOp.html\r\n  [2]:http://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\r\n  [3]:https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\r\n  [4]: http://download.oracle.com/javase/7/docs/api/java/awt/Color.html#darker%28%29\r\n  [5]: http://download.oracle.com/javase/7/docs/api/java/awt/Color.html#getHSBColor%28float,%20float,%20float%29\r\n  [6]: https://stackoverflow.com/questions/7297950/swing-method-akin-to-html5s-canvas-putimagedataarrayofpixels-0-0/7298492#7298492","title":"How to change the color of an icon based on user action?","body":"<p>If you know the colors you want in advance, you can use a <a href=\"http://download-llnw.oracle.com/javase/7/docs/api/java/awt/image/LookupOp.html\" rel=\"nofollow noreferrer\"><code>LookupOp</code></a> with a <code>LookupTable</code>. Examples may be found in <a href=\"http://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\" rel=\"nofollow noreferrer\"><em>Using the Java 2D LookupOp Filter Class to Process Images</em></a> and <a href=\"https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\" rel=\"nofollow noreferrer\"><em>Image processing with Java 2D</em></a>.</p>\n<p>If not, <a href=\"http://download.oracle.com/javase/7/docs/api/java/awt/Color.html#darker%28%29\" rel=\"nofollow noreferrer\"><code>darker()</code></a> or <a href=\"http://download.oracle.com/javase/7/docs/api/java/awt/Color.html#getHSBColor%28float,%20float,%20float%29\" rel=\"nofollow noreferrer\"><code>getHSBColor()</code></a> may helpful, as shown <a href=\"https://stackoverflow.com/questions/7297950/swing-method-akin-to-html5s-canvas-putimagedataarrayofpixels-0-0/7298492#7298492\">here</a> in the context of <code>BufferedImage</code>.</p>\n"}],"owner":{"account_id":135410,"reputation":198,"user_id":338259,"display_name":"Jon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10612,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8030013,"answer_count":2,"score":3,"last_activity_date":1675881936,"creation_date":1320608966,"question_id":8029903,"body_markdown":"I am writing an application where the user can change the color of the image on screen by choosing a new color.  I have a simple image - only 40x40 - like this:\r\n![Character Head][1]\r\n\r\nI have tried many things: pixel replacement, ColorModel, RGBFilter, etc.  I can&#39;t figure this image stuff out.  In the process of trying, I have learned about BufferedImage and I can get the .png&#39;s into that format and displayed on screen.  I can turn the shape into a solid blob of color using pixel replacement, but the results are horrible.\r\n\r\nFrom what I&#39;ve gleaned, I want to use a ColorModel or Filter, but I am stumped.  Here is a simple app that demonstrates where I am.\r\n\r\n        \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JColorChooser;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    \r\n    \r\n    public class ChangeImageColor {\r\n      public static void main(String[] args) {\r\n        final ChangeColor cc = new ChangeColor();\r\n        java.awt.EventQueue.invokeLater( new Runnable() { @Override\r\n          public void run() { cc.setVisible( true ); }}\r\n        ); // invokeLater\r\n      } // main\r\n    } // ChangeImageColor\r\n    \r\n      class ChangeColor extends JFrame {\r\n        String  CHAR_HEAD    = &quot;res/images/char/Head.png&quot;;\r\n        JLabel  imageHead    = new JLabel( new ImageIcon( CHAR_HEAD ) );\r\n        JButton buttonChoose = new JButton( &quot;Choose Color&quot; );\r\n    \r\n        public ChangeColor() {\r\n          this.setSize( 200, 200 );\r\n          this.setLayout( new BorderLayout() );\r\n    \r\n          buttonChoose.addActionListener( listenerButton );\r\n    \r\n          this.add( imageHead, BorderLayout.CENTER );\r\n          this.add( buttonChoose, BorderLayout.SOUTH );\r\n        } // constructor\r\n        \r\n        ActionListener listenerButton = new ActionListener() {\r\n          @Override public void actionPerformed( ActionEvent event ) {\r\n            Color newColor = JColorChooser.showDialog( null, &quot;Choose Color&quot;, Color.RED );\r\n            ImageIcon icon = new ImageIcon( CHAR_HEAD );\r\n    \r\n            System.out.println( &quot;~&quot; + newColor );\r\n\r\n            // *****************\r\n            // insert code to change color of Head.png to shades of chosen color\r\n            // *****************\r\n    \r\n            imageHead.setIcon( icon );\r\n          } // actionPerformed\r\n        };\r\n        \r\n      } // class\r\n\r\n\r\n(I&#39;ve never worked with dynamic colors and images, so I&#39;m way over my head.  Thanks in advance for your help.)\r\n\r\nEdit: Here is a &quot;before&quot; and &quot;after&quot; image of what I would like after a darker color is chosen:\r\n\r\n![enter image description here][2]\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vIzxt.png\r\n  [2]: http://i.stack.imgur.com/lUvsM.png\r\n  [3]: http://i.stack.imgur.com/oZBLv.png","title":"How to change the color of an icon based on user action?","body":"<p>I am writing an application where the user can change the color of the image on screen by choosing a new color.  I have a simple image - only 40x40 - like this:\n<img src=\"https://i.stack.imgur.com/vIzxt.png\" alt=\"Character Head\"></p>\n\n<p>I have tried many things: pixel replacement, ColorModel, RGBFilter, etc.  I can't figure this image stuff out.  In the process of trying, I have learned about BufferedImage and I can get the .png's into that format and displayed on screen.  I can turn the shape into a solid blob of color using pixel replacement, but the results are horrible.</p>\n\n<p>From what I've gleaned, I want to use a ColorModel or Filter, but I am stumped.  Here is a simple app that demonstrates where I am.</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JColorChooser;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\n\npublic class ChangeImageColor {\n  public static void main(String[] args) {\n    final ChangeColor cc = new ChangeColor();\n    java.awt.EventQueue.invokeLater( new Runnable() { @Override\n      public void run() { cc.setVisible( true ); }}\n    ); // invokeLater\n  } // main\n} // ChangeImageColor\n\n  class ChangeColor extends JFrame {\n    String  CHAR_HEAD    = \"res/images/char/Head.png\";\n    JLabel  imageHead    = new JLabel( new ImageIcon( CHAR_HEAD ) );\n    JButton buttonChoose = new JButton( \"Choose Color\" );\n\n    public ChangeColor() {\n      this.setSize( 200, 200 );\n      this.setLayout( new BorderLayout() );\n\n      buttonChoose.addActionListener( listenerButton );\n\n      this.add( imageHead, BorderLayout.CENTER );\n      this.add( buttonChoose, BorderLayout.SOUTH );\n    } // constructor\n\n    ActionListener listenerButton = new ActionListener() {\n      @Override public void actionPerformed( ActionEvent event ) {\n        Color newColor = JColorChooser.showDialog( null, \"Choose Color\", Color.RED );\n        ImageIcon icon = new ImageIcon( CHAR_HEAD );\n\n        System.out.println( \"~\" + newColor );\n\n        // *****************\n        // insert code to change color of Head.png to shades of chosen color\n        // *****************\n\n        imageHead.setIcon( icon );\n      } // actionPerformed\n    };\n\n  } // class\n</code></pre>\n\n<p>(I've never worked with dynamic colors and images, so I'm way over my head.  Thanks in advance for your help.)</p>\n\n<p>Edit: Here is a \"before\" and \"after\" image of what I would like after a darker color is chosen:</p>\n\n<p><img src=\"https://i.stack.imgur.com/lUvsM.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/oZBLv.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","image","transparency"],"answers":[{"tags":[],"owner":{"account_id":229412,"reputation":45082,"user_id":492364,"accept_rate":82,"display_name":"thejh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291776467,"creation_date":1291750188,"answer_id":4380766,"question_id":4380728,"body_markdown":"Use [`ImageIO.read`][1] for reading a file and [`ImageIO.write`][2] for writing. Use the `getRGB` and `setRGB` methods of [`BufferedImage`][3] to change the colours.\r\n\r\n[1]:http://download.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#read%28java.io.File%29\r\n[2]:http://download.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#write%28java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File%29\r\n[3]:http://download.oracle.com/javase/6/docs/api/java/awt/image/BufferedImage.html","title":"Making every pixel of an image having a specific color transparent","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#read%28java.io.File%29\" rel=\"nofollow\"><code>ImageIO.read</code></a> for reading a file and <a href=\"http://download.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#write%28java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File%29\" rel=\"nofollow\"><code>ImageIO.write</code></a> for writing. Use the <code>getRGB</code> and <code>setRGB</code> methods of <a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/image/BufferedImage.html\" rel=\"nofollow\"><code>BufferedImage</code></a> to change the colours.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1291750371,"creation_date":1291750371,"answer_id":4380790,"question_id":4380728,"body_markdown":"    import java.awt.*;\r\n    import java.awt.image.*;\r\n    \r\n    public class Transparency {\r\n      public static Image makeColorTransparent\r\n        (Image im, final Color color) {\r\n        ImageFilter filter = new RGBImageFilter() {\r\n          // the color we are looking for... Alpha bits are set to opaque\r\n          public int markerRGB = color.getRGB() | 0xFF000000;\r\n    \r\n          public final int filterRGB(int x, int y, int rgb) {\r\n            if ( ( rgb | 0xFF000000 ) == markerRGB ) {\r\n              // Mark the alpha bits as zero - transparent\r\n              return 0x00FFFFFF &amp; rgb;\r\n              }\r\n            else {\r\n              // nothing to do\r\n              return rgb;\r\n              }\r\n            }\r\n          }; \r\n    \r\n        ImageProducer ip = new FilteredImageSource(im.getSource(), filter);\r\n        return Toolkit.getDefaultToolkit().createImage(ip);\r\n        }\r\n    }\r\n\r\nModified the code to make each pixel transparent\r\n  \r\nSource :http://www.rgagnon.com/javadetails/java-0265.html\r\n\r\n","title":"Making every pixel of an image having a specific color transparent","body":"<pre><code>import java.awt.*;\nimport java.awt.image.*;\n\npublic class Transparency {\n  public static Image makeColorTransparent\n    (Image im, final Color color) {\n    ImageFilter filter = new RGBImageFilter() {\n      // the color we are looking for... Alpha bits are set to opaque\n      public int markerRGB = color.getRGB() | 0xFF000000;\n\n      public final int filterRGB(int x, int y, int rgb) {\n        if ( ( rgb | 0xFF000000 ) == markerRGB ) {\n          // Mark the alpha bits as zero - transparent\n          return 0x00FFFFFF &amp; rgb;\n          }\n        else {\n          // nothing to do\n          return rgb;\n          }\n        }\n      }; \n\n    ImageProducer ip = new FilteredImageSource(im.getSource(), filter);\n    return Toolkit.getDefaultToolkit().createImage(ip);\n    }\n}\n</code></pre>\n\n<p>Modified the code to make each pixel transparent</p>\n\n<p>Source :http://www.rgagnon.com/javadetails/java-0265.html</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675881882,"creation_date":1291777188,"answer_id":4383798,"question_id":4380728,"body_markdown":"You can use a [`LookupOp`][1] with a four-component `LookupTable` that sets the alpha component to zero for colors that match the background. Examples may be found in [*Using the Java 2D LookupOp Filter Class to Process Images*][2] and [*Image processing with Java 2D*][3].\r\n\r\n[1]:http://docs.oracle.com/javase/6/docs/api/java/awt/image/LookupOp.html\r\n[2]:http://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\r\n[3]:https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\r\n[4]:http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html","title":"Making every pixel of an image having a specific color transparent","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/image/LookupOp.html\" rel=\"nofollow noreferrer\"><code>LookupOp</code></a> with a four-component <code>LookupTable</code> that sets the alpha component to zero for colors that match the background. Examples may be found in <a href=\"http://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\" rel=\"nofollow noreferrer\"><em>Using the Java 2D LookupOp Filter Class to Process Images</em></a> and <a href=\"https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\" rel=\"nofollow noreferrer\"><em>Image processing with Java 2D</em></a>.</p>\n"}],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1698,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4380790,"answer_count":3,"score":3,"last_activity_date":1675881882,"creation_date":1291749923,"question_id":4380728,"body_markdown":"This question is a duplicate of this question: \r\nhttps://stackoverflow.com/questions/162007/making-every-pixel-of-an-image-having-a-specific-color-transparent\r\n\r\nBut I need a Java equivalent. And I need a image-type (like `PNG`, `BMP`, ...) which can hold this color with full transparency (alpha = 0). And of course a way to save it as a file.","title":"Making every pixel of an image having a specific color transparent","body":"<p>This question is a duplicate of this question: \n<a href=\"https://stackoverflow.com/questions/162007/making-every-pixel-of-an-image-having-a-specific-color-transparent\">Making every pixel of an image having a specific color transparent</a></p>\n\n<p>But I need a Java equivalent. And I need a image-type (like <code>PNG</code>, <code>BMP</code>, ...) which can hold this color with full transparency (alpha = 0). And of course a way to save it as a file.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675881834,"creation_date":1320650373,"answer_id":8033705,"question_id":8033668,"body_markdown":"The article [*Image processing with Java 2D*][1] offers an accessible introduction to several common techniques, including [convolution][2], [lookup tables][3] and [thresholding][4].\r\n\r\n\r\n  [1]: https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\r\n  [2]: http://en.wikipedia.org/wiki/Convolution\r\n  [3]: http://en.wikipedia.org/wiki/Lookup_table\r\n  [4]: http://en.wikipedia.org/wiki/Thresholding_%28image_processing%29","title":"how can we differentiate the image filter effects?","body":"<p>The article <a href=\"https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\" rel=\"nofollow noreferrer\"><em>Image processing with Java 2D</em></a> offers an accessible introduction to several common techniques, including <a href=\"http://en.wikipedia.org/wiki/Convolution\" rel=\"nofollow noreferrer\">convolution</a>, <a href=\"http://en.wikipedia.org/wiki/Lookup_table\" rel=\"nofollow noreferrer\">lookup tables</a> and <a href=\"http://en.wikipedia.org/wiki/Thresholding_%28image_processing%29\" rel=\"nofollow noreferrer\">thresholding</a>.</p>\n"},{"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1320677991,"creation_date":1320677991,"answer_id":8038257,"question_id":8033668,"body_markdown":"If you mean literal categorization of image filters, I find out this web link gives some good categories:\r\n\r\n[http://www.jhlabs.com/ip/filters/index.html](http://www.jhlabs.com/ip/filters/index.html)","title":"how can we differentiate the image filter effects?","body":"<p>If you mean literal categorization of image filters, I find out this web link gives some good categories:</p>\n\n<p><a href=\"http://www.jhlabs.com/ip/filters/index.html\" rel=\"nofollow\">http://www.jhlabs.com/ip/filters/index.html</a></p>\n"}],"owner":{"account_id":305915,"reputation":743,"user_id":616342,"accept_rate":33,"display_name":"raj"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1320687850,"answer_count":2,"score":2,"last_activity_date":1675881834,"creation_date":1320650056,"question_id":8033668,"body_markdown":"How can we differentiate the image filter effects? on what basis we can check the image filters like based on color matrix or pixels?Actually iam developing the image filter library in java so i want to know the difference between each image filters. ex vintage effect, Polaroid effect,sepia effect..etc.\r\n\r\nTry to help me.\r\nThaks in advance","title":"how can we differentiate the image filter effects?","body":"<p>How can we differentiate the image filter effects? on what basis we can check the image filters like based on color matrix or pixels?Actually iam developing the image filter library in java so i want to know the difference between each image filters. ex vintage effect, Polaroid effect,sepia effect..etc.</p>\n\n<p>Try to help me.\nThaks in advance</p>\n"},{"tags":["java","image"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675881755,"creation_date":1282278429,"answer_id":3528196,"question_id":3527811,"body_markdown":"From this [answer][1], if your image has a &quot;distinct background color, use a [`LookupOp`][2] with a four-component LookupTable that sets the alpha component to zero for colors that match the background.&quot;\r\n\r\nAddendum: See also [*Using the Java 2D LookupOp Filter Class to Process Images*][3] and [*Image processing with Java 2D*][4].\r\n\r\n[1]:https://stackoverflow.com/questions/3224808\r\n[2]:https://docs.oracle.com/javase/8/docs/api/java/awt/image/LookupOp.html\r\n[3]:https://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\r\n[4]:https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\r\n[5]:https://www.infoworld.com/article/2076764/image-processing-with-java-2d.html","title":"Java: Crop out an area with specific color from an image","body":"<p>From this <a href=\"https://stackoverflow.com/questions/3224808\">answer</a>, if your image has a &quot;distinct background color, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/LookupOp.html\" rel=\"nofollow noreferrer\"><code>LookupOp</code></a> with a four-component LookupTable that sets the alpha component to zero for colors that match the background.&quot;</p>\n<p>Addendum: See also <a href=\"https://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\" rel=\"nofollow noreferrer\"><em>Using the Java 2D LookupOp Filter Class to Process Images</em></a> and <a href=\"https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\" rel=\"nofollow noreferrer\"><em>Image processing with Java 2D</em></a>.</p>\n"}],"owner":{"account_id":154143,"reputation":1,"user_id":369871,"display_name":"zoran.nikolovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675881755,"creation_date":1282272070,"question_id":3527811,"body_markdown":"I was wondering if there is a way to crop out an area of an image with a specified color?\r\n\r\nI have an image which is a canvas area with an actual image on it and I want to remove the &quot;canvas&quot; area and be left only with the actual image.\r\n\r\nCheers","title":"Java: Crop out an area with specific color from an image","body":"<p>I was wondering if there is a way to crop out an area of an image with a specified color?</p>\n\n<p>I have an image which is a canvas area with an actual image on it and I want to remove the \"canvas\" area and be left only with the actual image.</p>\n\n<p>Cheers</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":48378,"reputation":5253,"user_id":143732,"accept_rate":100,"display_name":"Rui Vieira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306320214,"creation_date":1306320214,"answer_id":6123190,"question_id":6122964,"body_markdown":"See the the &quot;pinkish&quot; explanation [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3432388/imageio-not-able-to-write-a-jpeg-file/3432532#3432532 &quot;here&quot;\r\n\r\nBasically the image is saved as a ARGB and most viewers interpret it as a CMYK. Alpha is preserved when opening it back in Java, though.","title":"BufferedImage colour change","body":"<p>See the the \"pinkish\" explanation <a href=\"https://stackoverflow.com/questions/3432388/imageio-not-able-to-write-a-jpeg-file/3432532#3432532\" title=\"here\">here</a></p>\n\n<p>Basically the image is saved as a ARGB and most viewers interpret it as a CMYK. Alpha is preserved when opening it back in Java, though.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675881660,"creation_date":1306321126,"answer_id":6123376,"question_id":6122964,"body_markdown":"Use [`BufferedImage.TYPE_INT_ARGB`][1] or [`BufferedImage.TYPE_INT_RGB`][2], as shown in this [example][3]. If you need to change the colors, you can use a [`LookupOp`][4] with a four-component LookupTable that adjusts the alpha component as required for [`BufferedImage.TYPE_3BYTE_BGR`][5]: &quot;When data with non-opaque alpha is stored in an image of this type, the color data must be adjusted to a non-premultiplied form and the alpha discarded.&quot; Examples may be found in [*Using the Java 2D `LookupOp` Filter Class to Process Images*][6] and [*Image processing with Java 2D*][7].\r\n\r\n\r\n  [1]:http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#TYPE_INT_ARGB\r\n  [2]:http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#TYPE_INT_ARGB\r\n  [3]:https://stackoverflow.com/questions/3742731/java-how-to-draw-constantly-changing-graphics/3742841#3742841\r\n  [4]:http://docs.oracle.com/javase/7/docs/api/java/awt/image/LookupOp.html\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#TYPE_INT_ARGB\r\n  [6]:http://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\r\n\r\n  [7]: https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\r\n\r\n  [8]:http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html","title":"BufferedImage colour change","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#TYPE_INT_ARGB\" rel=\"nofollow noreferrer\"><code>BufferedImage.TYPE_INT_ARGB</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#TYPE_INT_ARGB\" rel=\"nofollow noreferrer\"><code>BufferedImage.TYPE_INT_RGB</code></a>, as shown in this <a href=\"https://stackoverflow.com/questions/3742731/java-how-to-draw-constantly-changing-graphics/3742841#3742841\">example</a>. If you need to change the colors, you can use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/LookupOp.html\" rel=\"nofollow noreferrer\"><code>LookupOp</code></a> with a four-component LookupTable that adjusts the alpha component as required for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#TYPE_INT_ARGB\" rel=\"nofollow noreferrer\"><code>BufferedImage.TYPE_3BYTE_BGR</code></a>: &quot;When data with non-opaque alpha is stored in an image of this type, the color data must be adjusted to a non-premultiplied form and the alpha discarded.&quot; Examples may be found in <a href=\"http://www.developer.com/java/other/article.php/3654171/Using-the-Java-2D-LookupOp-Filter-Class-to-Process-Images.htm\" rel=\"nofollow noreferrer\"><em>Using the Java 2D <code>LookupOp</code> Filter Class to Process Images</em></a> and <a href=\"https://web.archive.org/web/20100126030254/http://www.javaworld.com/javaworld/jw-09-1998/jw-09-media.html\" rel=\"nofollow noreferrer\"><em>Image processing with Java 2D</em></a>.</p>\n"}],"owner":{"account_id":98618,"reputation":13889,"user_id":266827,"accept_rate":78,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6123376,"answer_count":2,"score":1,"last_activity_date":1675881660,"creation_date":1306319172,"question_id":6122964,"body_markdown":"I have working on an application which captures screen shots and create video from captured images. But the problem is that when video is generated, colours in generated video is very pinkish. I think this is because I am manipulating captured images to show cursor using BufferedImage.TYPE_3BYTE_BGR type. Could someone tell me how to resolve this issue, I want to have the colour of video same as actual colour of screen.\r\n\r\nFor capturing screen image I am doing as follows:\r\n\r\n    Robot robot = new Robot();\r\n    Rectangle captureSize = new Rectangle(screenBounds);\r\n    return robot.createScreenCapture(captureSize);\r\n\r\nFor manipulating images I am doing as follows:\r\n\r\n    image = new BufferedImage(sourceImage.getWidth(), sourceImage.getHeight(), BufferedImage.TYPE_3BYTE_BGR);\r\n\t\t\t\r\n\tif (true) {\r\n\t \tint x = MouseInfo.getPointerInfo().getLocation().x - 25;\r\n\t\t\t\tint y = MouseInfo.getPointerInfo().getLocation().y - 37;\r\n\r\n\t\t\t\tGraphics2D graphics2D = sourceImage.createGraphics();`enter code here`\r\n\t\t\t\tgraphics2D.drawImage(SimpleWebBrowserExample.m_MouseIcon, x, y, 48, 48, null);\r\n\t\t\t}\r\n\t\t\timage.getGraphics().drawImage(sourceImage, 0, 0, null);\r\n    return image;\r\n\r\n\r\nplease tell me how to get the images with colour same as actual colour on screen.\r\n\r\nThanks.\r\n","title":"BufferedImage colour change","body":"<p>I have working on an application which captures screen shots and create video from captured images. But the problem is that when video is generated, colours in generated video is very pinkish. I think this is because I am manipulating captured images to show cursor using BufferedImage.TYPE_3BYTE_BGR type. Could someone tell me how to resolve this issue, I want to have the colour of video same as actual colour of screen.</p>\n\n<p>For capturing screen image I am doing as follows:</p>\n\n<pre><code>Robot robot = new Robot();\nRectangle captureSize = new Rectangle(screenBounds);\nreturn robot.createScreenCapture(captureSize);\n</code></pre>\n\n<p>For manipulating images I am doing as follows:</p>\n\n<pre><code>image = new BufferedImage(sourceImage.getWidth(), sourceImage.getHeight(), BufferedImage.TYPE_3BYTE_BGR);\n\nif (true) {\n    int x = MouseInfo.getPointerInfo().getLocation().x - 25;\n            int y = MouseInfo.getPointerInfo().getLocation().y - 37;\n\n            Graphics2D graphics2D = sourceImage.createGraphics();`enter code here`\n            graphics2D.drawImage(SimpleWebBrowserExample.m_MouseIcon, x, y, 48, 48, null);\n        }\n        image.getGraphics().drawImage(sourceImage, 0, 0, null);\nreturn image;\n</code></pre>\n\n<p>please tell me how to get the images with colour same as actual colour on screen.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven","gdal"],"owner":{"account_id":10023108,"reputation":127,"user_id":7412119,"display_name":"Enzo Nakamura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675881560,"creation_date":1675881560,"question_id":75390336,"body_markdown":"I&#39;m trying to get the layers of a file geodatabase (.gdb), but I&#39;m having problems with permissions. My Java code is like this:\r\n\r\n    import org.gdal.gdal.gdal;\r\n\r\n    public static void main(String[] args) {\r\n        gdal.AllRegister();\r\n        gdal.Open(&quot;C:\\\\Users\\\\myUser\\\\Downloads\\\\NLD_Multilayer_demo_sample&quot; +\r\n                &quot;\\\\NLD_Multilayer_demo_sample.gdb&quot;);\r\n    }\r\n\r\nWhen I execute the code, the output is:\r\n\r\n    ERROR 4: C:\\Users\\myUser\\Downloads\\NLD_Multilayer_demo_sample\\NLD_Multilayer_demo_sample.gdb: Permission denied\r\n\r\nI&#39;m using Maven and the pom.xml has the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.gdal&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gdal&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I go to the terminal and do\r\n\r\n    $ ogrinfo -al &quot;C:\\Users\\myUser\\Downloads\\NLD_Multilayer_demo_sample\\NLD_Multilayer_demo_sample.gdb&quot;\r\n\r\nI do get the data. So what is wrong with the Java code?\r\n\r\nI&#39;m on Windows and I have the following env vars:\r\n\r\n    GDAL_DATA  C:\\gdal\\bin\\gdal-data\r\n    PATH       C:\\gdal\\bin\r\n    PATH       C:\\gdal\\bin\\gdal\\apps\r\n    PATH       C:\\gdal\\bin\\gdal\\java\r\n    PATH       C:\\gdal\\bin\\gdal\\plugins\r\n\r\n","title":"Java GDAL: Permission denied when trying to open an file geodatabase (gdb)","body":"<p>I'm trying to get the layers of a file geodatabase (.gdb), but I'm having problems with permissions. My Java code is like this:</p>\n<pre><code>import org.gdal.gdal.gdal;\n\npublic static void main(String[] args) {\n    gdal.AllRegister();\n    gdal.Open(&quot;C:\\\\Users\\\\myUser\\\\Downloads\\\\NLD_Multilayer_demo_sample&quot; +\n            &quot;\\\\NLD_Multilayer_demo_sample.gdb&quot;);\n}\n</code></pre>\n<p>When I execute the code, the output is:</p>\n<pre><code>ERROR 4: C:\\Users\\myUser\\Downloads\\NLD_Multilayer_demo_sample\\NLD_Multilayer_demo_sample.gdb: Permission denied\n</code></pre>\n<p>I'm using Maven and the pom.xml has the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.gdal&lt;/groupId&gt;\n    &lt;artifactId&gt;gdal&lt;/artifactId&gt;\n    &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I go to the terminal and do</p>\n<pre><code>$ ogrinfo -al &quot;C:\\Users\\myUser\\Downloads\\NLD_Multilayer_demo_sample\\NLD_Multilayer_demo_sample.gdb&quot;\n</code></pre>\n<p>I do get the data. So what is wrong with the Java code?</p>\n<p>I'm on Windows and I have the following env vars:</p>\n<pre><code>GDAL_DATA  C:\\gdal\\bin\\gdal-data\nPATH       C:\\gdal\\bin\nPATH       C:\\gdal\\bin\\gdal\\apps\nPATH       C:\\gdal\\bin\\gdal\\java\nPATH       C:\\gdal\\bin\\gdal\\plugins\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1675882254,"post_id":75390317,"comment_id":133025613,"body_markdown":"https://docs.spring.io/spring-framework/docs/6.0.4/reference/html/web-reactive.html#webflux-fn-handler-filter-function","body":"<a href=\"https://docs.spring.io/spring-framework/docs/6.0.4/reference/html/web-reactive.html#webflux-fn-handler-filter-function\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/6.0.4/reference/html/&hellip;</a>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":2,"creation_date":1675882836,"post_id":75390317,"comment_id":133025777,"body_markdown":"Make sure you applied your handler to the corresponding route. If you need global handler - look at `WebFilter` instead","body":"Make sure you applied your handler to the corresponding route. If you need global handler - look at <code>WebFilter</code> instead"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":1,"creation_date":1675883686,"post_id":75390317,"comment_id":133026020,"body_markdown":"You need to subscribe (or block or similar) to it to actually execute doOnNext","body":"You need to subscribe (or block or similar) to it to actually execute doOnNext"},{"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"score":0,"creation_date":1675883725,"post_id":75390317,"comment_id":133026026,"body_markdown":"@Alex Yes , It is correctly applied. But unfortunately .doOnNext is still ignored","body":"@Alex Yes , It is correctly applied. But unfortunately .doOnNext is still ignored"},{"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"score":0,"creation_date":1675883876,"post_id":75390317,"comment_id":133026072,"body_markdown":"@grekier but this chain is subscribed  and triggered when request to my endpoint is performed. Or I&#39;m wrong ?","body":"@grekier but this chain is subscribed  and triggered when request to my endpoint is performed. Or I&#39;m wrong ?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1675891317,"post_id":75390317,"comment_id":133028055,"body_markdown":"just created a small example and filter is correctly applied. `route(GET(&quot;/test&quot;), request -&gt; ok().build()).filter(addMetrics());` probably double check your configuration","body":"just created a small example and filter is correctly applied. <code>route(GET(&quot;&#47;test&quot;), request -&gt; ok().build()).filter(addMetrics());</code> probably double check your configuration"}],"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675881442,"creation_date":1675881442,"question_id":75390317,"body_markdown":"I want to perform some logic after RouterFunction is complete, and use ServerResponse here.\r\nHow to implement it in appropriate way?\r\nFor example:\r\n\r\n I tried to solve it with HandlerFilterFunction  in that way -\r\n  \r\n\r\n      public HandlerFilterFunction&lt;ServerResponse, ServerResponse&gt; addMetrics() {\r\n        return (request, next) -&gt; next.handle(request)\r\n                .doOnNext(response -&gt; meterService.addMetric(response));\r\n    }\r\nBut this does not work. .doOnNext method is not executed","title":"Handle ServerResponse WebFlux","body":"<p>I want to perform some logic after RouterFunction is complete, and use ServerResponse here.\nHow to implement it in appropriate way?\nFor example:</p>\n<p>I tried to solve it with HandlerFilterFunction  in that way -</p>\n<pre><code>  public HandlerFilterFunction&lt;ServerResponse, ServerResponse&gt; addMetrics() {\n    return (request, next) -&gt; next.handle(request)\n            .doOnNext(response -&gt; meterService.addMetric(response));\n}\n</code></pre>\n<p>But this does not work. .doOnNext method is not executed</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675526744,"creation_date":1675526744,"answer_id":75346394,"question_id":75342442,"body_markdown":"Kafka defaults to update topic metadata only after 5 minutes, so will not detect partition changes immediately, as you&#39;ve noticed. The deployment method of your app shouldn&#39;t matter, as long as network requests are properly reaching the broker. \r\n\r\nPlus, check your partition assignment strategy to see if it&#39;s using sticky assignment. This will depend on what version of the client you&#39;re using, as the defaults changed around 2.7, I think\r\n\r\n&gt; No messages are flowing through Kafka\r\n\r\nIf there&#39;s no data on the new partitions, there&#39;s no real need to rebalance to consume from them ","title":"Kafka consumer group not rebalancing when increasing partitions","body":"<p>Kafka defaults to update topic metadata only after 5 minutes, so will not detect partition changes immediately, as you've noticed. The deployment method of your app shouldn't matter, as long as network requests are properly reaching the broker.</p>\n<p>Plus, check your partition assignment strategy to see if it's using sticky assignment. This will depend on what version of the client you're using, as the defaults changed around 2.7, I think</p>\n<blockquote>\n<p>No messages are flowing through Kafka</p>\n</blockquote>\n<p>If there's no data on the new partitions, there's no real need to rebalance to consume from them</p>\n"}],"owner":{"account_id":2761546,"reputation":3,"user_id":2378347,"display_name":"jknocek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675880977,"creation_date":1675474827,"question_id":75342442,"body_markdown":"I have a situation where in my dev environment, my Kafka consumer groups will rebalance and distribute partitions to consumer instances just fine after increasing the partition count of a subscribed topic.\r\n\r\nHowever, when we deploy our product into its kubernetes environment, we aren&#39;t seeing the consumer groups rebalance after increasing the partition count of the topic. Kafka recognized the increase which can be seen from the server logs or describing the topic from the command line. However, the consumer groups won&#39;t rebalance and recognize the new partitions. From my local testing, kafka respects metadata.max.age.ms (default 5 mins). But in kubernetes the group never rebalances.\r\n\r\nI don&#39;t know if it affects anything but we&#39;re using static membership.\r\n\r\nThe consumers are written in Java and use the standard Kafka Java library. No messages are flowing through Kafka, and adding messages doesn&#39;t help. I don&#39;t see anything special in the server or consumer configurations that differs from my dev environment. Is anyone aware of any configurations that may affect this behavior?\r\n\r\n** Update **\r\n\r\nThe issue was only occurring for a new topic. At first, the consumer application was starting before the producer application (which is intended to create the topic). So the consumer was auto creating the topic. In this scenario, the topic defaulted to 1 partition. When the producer application started it, updated the partition count per configuration. After that update, we never saw a rebalance.\r\n\r\nNext we tried disabling consumer auto topic creation to address this. This prevented the consumer application from auto creating the topic on subscription. Yet still after the topic was created by the producer app, the consumer group was never rebalanced, so the consumer application would sit idle.\r\n\r\nAccording to the documentation I&#39;ve found, and testing in my dev environment, both of these situations *should* trigger a rebalance. For whatever reason we don&#39;t see that happen in our deployments. My temporary workaround was just to ensure that the topic is already created prior to allowing my consumer&#39;s to subscribe. I don&#39;t like it, but it works for now. I suspect that the different behavior I&#39;m seeing is due to my dev environment running a single kafka broker vs the kubernetes deployments with a cluster, but that&#39;s just a guess.","title":"Kafka consumer group not rebalancing when increasing partitions","body":"<p>I have a situation where in my dev environment, my Kafka consumer groups will rebalance and distribute partitions to consumer instances just fine after increasing the partition count of a subscribed topic.</p>\n<p>However, when we deploy our product into its kubernetes environment, we aren't seeing the consumer groups rebalance after increasing the partition count of the topic. Kafka recognized the increase which can be seen from the server logs or describing the topic from the command line. However, the consumer groups won't rebalance and recognize the new partitions. From my local testing, kafka respects metadata.max.age.ms (default 5 mins). But in kubernetes the group never rebalances.</p>\n<p>I don't know if it affects anything but we're using static membership.</p>\n<p>The consumers are written in Java and use the standard Kafka Java library. No messages are flowing through Kafka, and adding messages doesn't help. I don't see anything special in the server or consumer configurations that differs from my dev environment. Is anyone aware of any configurations that may affect this behavior?</p>\n<p>** Update **</p>\n<p>The issue was only occurring for a new topic. At first, the consumer application was starting before the producer application (which is intended to create the topic). So the consumer was auto creating the topic. In this scenario, the topic defaulted to 1 partition. When the producer application started it, updated the partition count per configuration. After that update, we never saw a rebalance.</p>\n<p>Next we tried disabling consumer auto topic creation to address this. This prevented the consumer application from auto creating the topic on subscription. Yet still after the topic was created by the producer app, the consumer group was never rebalanced, so the consumer application would sit idle.</p>\n<p>According to the documentation I've found, and testing in my dev environment, both of these situations <em>should</em> trigger a rebalance. For whatever reason we don't see that happen in our deployments. My temporary workaround was just to ensure that the topic is already created prior to allowing my consumer's to subscribe. I don't like it, but it works for now. I suspect that the different behavior I'm seeing is due to my dev environment running a single kafka broker vs the kubernetes deployments with a cluster, but that's just a guess.</p>\n"},{"tags":["java","random","biginteger"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1675813258,"post_id":75378517,"comment_id":133008648,"body_markdown":"There&#39;s no reason to avoid `Random`.","body":"There&#39;s no reason to avoid <code>Random</code>."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1675814378,"post_id":75378517,"comment_id":133008872,"body_markdown":"@PresidentJamesK.Polk `Random` implements one particular, not so brilliant randomization scheme (listed in the class definition, using only 48 bit seed), so I guess there may be some use cases for using `RandomGenerator.of(&quot;supportedAlgorithm&quot;)`.","body":"@PresidentJamesK.Polk <code>Random</code> implements one particular, not so brilliant randomization scheme (listed in the class definition, using only 48 bit seed), so I guess there may be some use cases for using <code>RandomGenerator.of(&quot;supportedAlgorithm&quot;)</code>."},{"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"score":0,"creation_date":1675867358,"post_id":75378517,"comment_id":133020413,"body_markdown":"I plan to change the distribution interface in the math library that implements certain probability distributions and generates random variates for them: https://github.com/datahaki/tensor/tree/master/src/main/java/ch/alpine/tensor/pdf/c","body":"I plan to change the distribution interface in the math library that implements certain probability distributions and generates random variates for them: <a href=\"https://github.com/datahaki/tensor/tree/master/src/main/java/ch/alpine/tensor/pdf/c\" rel=\"nofollow noreferrer\">github.com/datahaki/tensor/tree/master/src/main/java/ch/alpi&zwnj;&#8203;ne/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675880854,"creation_date":1675812813,"answer_id":75380046,"question_id":75378517,"body_markdown":"**Just using `Random` &amp; `SecureRandom`**\r\n\r\nWhy do you need this? Because the `new Random()` gets you a relatively fast non-secure random number generator and `new SecureRandom()` provides a CSPRNG (Cryptographically Secure Pseudo Random Number Generator). *Both those instances are instances of the `RandomGenerator` interface.* So the only time you&#39;d need this is if you want a specific Random generator [defined in the random package](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/package-summary.html#algorithms).\r\n\r\nIf you don&#39;t need speed and you haven&#39;t any specific needs regarding the distribution - you&#39;d probably know if you&#39;d have any - then please just use `new BigInteger(n, new SecureRandom())`.\r\n\r\n**Implementing `Random`**\r\n\r\nTL;DR: don&#39;t\r\n\r\nAs [`RandomGenerator` is an **interface**](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html). The `Random` class has been refactored into a class that implements the interface. That means you can use the old `Random` wherever an interface specifies `RandomGenerator`. However, that doesn&#39;t work the other way around.\r\n\r\n`Random` itself is not a `final` class, so it can be inherited from. So you could, **in principle**, create an adapter class by simply implementing all methods in `Random` and calling the similarly named methods of a wrapped `RandomGenerator`. This is however very dangerous practice as future extensions of `Random` may break everything. In the worst case it will show inconsistent behavior by mixing the state of the parent `Random` object and the wrapped `RandomGenerator`.\r\n\r\n**Move to Java 19**\r\n\r\nIn Java 19 (build b21) there is an [adapter method provided for `RandomGenerator` named `Random#from(RandomGenerator)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Random.html#from(java.util.random.RandomGenerator)). You can see the feature request [here](https://bugs.openjdk.org/browse/JDK-8279598). Note that this is an intermediate step; preferably the `BigInteger` method should be retrofitted to use `RandomGenerator` (as stated in the feature request).\r\n\r\nBeware that you should *never* use this wrapper class if you suspect that `setSeed` can ever be called, e.g. when generating a large prime in the `BigInteger` class. If it is called it will generate an `UnsupportedOperationException`.\r\n\r\nThese kind of classes go through all kinds of testing so the Java provided method can be trusted. However, the fact that a method can be retrofitted to use `setSeed` could be a problem regarding forward compatibility - you have been warned.\r\n\r\n**The special case of `[0, n^2)`**\r\n\r\nHowever, you&#39;ve got one out: the range `0..2^n-1` or `[0, 2^n-1)` is a number consisting of a set of bits. So what you can do is use your `RandomGenerator`, fill an array of bytes, remove the most significant bits from the first byte (as Java is big endian), and then convert the array into a signed integer:\r\n\r\n\t/**\r\n\t * Mimics the {@link BigInteger#BigInteger(int, Random)} function using a\r\n\t * {@link RandomGenerator} instance.\r\n\t * \r\n\t * @param numBits maximum bitLength of the new BigInteger.\r\n\t * @param rnd     source of randomness to be used in computing the new\r\n\t *                BigInteger.\r\n\t * @throws IllegalArgumentException {@code numBits} is negative.\r\n\t * @see #bitLength()\r\n\t */\r\n\tpublic static BigInteger generateRandomBigInteger(int numBits, RandomGenerator rng) {\r\n\t\tif (numBits &lt; 0) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;numBits must be non-negative&quot;);\r\n\t\t}\r\n\r\n\t\tif (numBits == 0) {\r\n\t\t\treturn BigInteger.ZERO;\r\n\t\t}\r\n\r\n\t\tint bytes = (numBits + Byte.SIZE - 1) / Byte.SIZE;\r\n\t\t// mask bits that we need the value of to 1, the others - if any -- will be set\r\n\t\t// to zero\r\n\t\tbyte bitMask = (byte) ((1 &lt;&lt; ((numBits - 1) % Byte.SIZE + 1)) - 1);\r\n\t\tbyte[] randomBytes = new byte[bytes];\r\n\t\trng.nextBytes(randomBytes);\r\n\t\trandomBytes[0] &amp;= bitMask;\r\n\t\treturn new BigInteger(1, randomBytes);\r\n\t}\r\n\r\n`numBits` is of course the same as your `n` variable.\r\n\r\n**The case for [0, max)**\r\n\r\nActually, you can combine the comparison function and the random bit generator in such a way that you can create large random values in the range 0..max with max having *any value*, with a minimum amount of random bits and no nasty `BigInteger` operations (such as division) at all.\r\n\r\nYou can find my implementation of that [here](https://github.com/owlstead/RNG-BC) but you may get weirded out. Sorry in advance, and yes, this is a shameless plug of my RNGBC algorithm :)\r\n\r\n","title":"Create random BigInteger using RandomGenerator (introduced in Java 17)","body":"<p><strong>Just using <code>Random</code> &amp; <code>SecureRandom</code></strong></p>\n<p>Why do you need this? Because the <code>new Random()</code> gets you a relatively fast non-secure random number generator and <code>new SecureRandom()</code> provides a CSPRNG (Cryptographically Secure Pseudo Random Number Generator). <em>Both those instances are instances of the <code>RandomGenerator</code> interface.</em> So the only time you'd need this is if you want a specific Random generator <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/package-summary.html#algorithms\" rel=\"nofollow noreferrer\">defined in the random package</a>.</p>\n<p>If you don't need speed and you haven't any specific needs regarding the distribution - you'd probably know if you'd have any - then please just use <code>new BigInteger(n, new SecureRandom())</code>.</p>\n<p><strong>Implementing <code>Random</code></strong></p>\n<p>TL;DR: don't</p>\n<p>As <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html\" rel=\"nofollow noreferrer\"><code>RandomGenerator</code> is an <strong>interface</strong></a>. The <code>Random</code> class has been refactored into a class that implements the interface. That means you can use the old <code>Random</code> wherever an interface specifies <code>RandomGenerator</code>. However, that doesn't work the other way around.</p>\n<p><code>Random</code> itself is not a <code>final</code> class, so it can be inherited from. So you could, <strong>in principle</strong>, create an adapter class by simply implementing all methods in <code>Random</code> and calling the similarly named methods of a wrapped <code>RandomGenerator</code>. This is however very dangerous practice as future extensions of <code>Random</code> may break everything. In the worst case it will show inconsistent behavior by mixing the state of the parent <code>Random</code> object and the wrapped <code>RandomGenerator</code>.</p>\n<p><strong>Move to Java 19</strong></p>\n<p>In Java 19 (build b21) there is an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Random.html#from(java.util.random.RandomGenerator)\" rel=\"nofollow noreferrer\">adapter method provided for <code>RandomGenerator</code> named <code>Random#from(RandomGenerator)</code></a>. You can see the feature request <a href=\"https://bugs.openjdk.org/browse/JDK-8279598\" rel=\"nofollow noreferrer\">here</a>. Note that this is an intermediate step; preferably the <code>BigInteger</code> method should be retrofitted to use <code>RandomGenerator</code> (as stated in the feature request).</p>\n<p>Beware that you should <em>never</em> use this wrapper class if you suspect that <code>setSeed</code> can ever be called, e.g. when generating a large prime in the <code>BigInteger</code> class. If it is called it will generate an <code>UnsupportedOperationException</code>.</p>\n<p>These kind of classes go through all kinds of testing so the Java provided method can be trusted. However, the fact that a method can be retrofitted to use <code>setSeed</code> could be a problem regarding forward compatibility - you have been warned.</p>\n<p><strong>The special case of <code>[0, n^2)</code></strong></p>\n<p>However, you've got one out: the range <code>0..2^n-1</code> or <code>[0, 2^n-1)</code> is a number consisting of a set of bits. So what you can do is use your <code>RandomGenerator</code>, fill an array of bytes, remove the most significant bits from the first byte (as Java is big endian), and then convert the array into a signed integer:</p>\n<pre><code>/**\n * Mimics the {@link BigInteger#BigInteger(int, Random)} function using a\n * {@link RandomGenerator} instance.\n * \n * @param numBits maximum bitLength of the new BigInteger.\n * @param rnd     source of randomness to be used in computing the new\n *                BigInteger.\n * @throws IllegalArgumentException {@code numBits} is negative.\n * @see #bitLength()\n */\npublic static BigInteger generateRandomBigInteger(int numBits, RandomGenerator rng) {\n    if (numBits &lt; 0) {\n        throw new IllegalArgumentException(&quot;numBits must be non-negative&quot;);\n    }\n\n    if (numBits == 0) {\n        return BigInteger.ZERO;\n    }\n\n    int bytes = (numBits + Byte.SIZE - 1) / Byte.SIZE;\n    // mask bits that we need the value of to 1, the others - if any -- will be set\n    // to zero\n    byte bitMask = (byte) ((1 &lt;&lt; ((numBits - 1) % Byte.SIZE + 1)) - 1);\n    byte[] randomBytes = new byte[bytes];\n    rng.nextBytes(randomBytes);\n    randomBytes[0] &amp;= bitMask;\n    return new BigInteger(1, randomBytes);\n}\n</code></pre>\n<p><code>numBits</code> is of course the same as your <code>n</code> variable.</p>\n<p><strong>The case for [0, max)</strong></p>\n<p>Actually, you can combine the comparison function and the random bit generator in such a way that you can create large random values in the range 0..max with max having <em>any value</em>, with a minimum amount of random bits and no nasty <code>BigInteger</code> operations (such as division) at all.</p>\n<p>You can find my implementation of that <a href=\"https://github.com/owlstead/RNG-BC\" rel=\"nofollow noreferrer\">here</a> but you may get weirded out. Sorry in advance, and yes, this is a shameless plug of my RNGBC algorithm :)</p>\n"}],"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75380046,"answer_count":1,"score":2,"last_activity_date":1675880854,"creation_date":1675800815,"question_id":75378517,"body_markdown":"The class BigInteger provides the constructor\r\n\r\n    public BigInteger(int numBits, Random rnd)\r\n\r\nSince Java 17 the use of `RandomGenerator` is encouraged. How can I generate a random BigInteger in the range 0...(2^n)-1 using only an instance of `RandomGenerator`.","title":"Create random BigInteger using RandomGenerator (introduced in Java 17)","body":"<p>The class BigInteger provides the constructor</p>\n<pre><code>public BigInteger(int numBits, Random rnd)\n</code></pre>\n<p>Since Java 17 the use of <code>RandomGenerator</code> is encouraged. How can I generate a random BigInteger in the range 0...(2^n)-1 using only an instance of <code>RandomGenerator</code>.</p>\n"},{"tags":["java","xml","spring","spring-mvc"],"owner":{"account_id":3688369,"reputation":537,"user_id":3071626,"accept_rate":83,"display_name":"Tom Deng Long"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675879676,"creation_date":1675877299,"question_id":75389570,"body_markdown":"i want to have something like a plugin system for Spring which are accessible through an REST endpoint.\r\n\r\nSo I was thinking I could simply implement a controller module as @RestController bean and add it to my beans definition. \r\n\r\nUnfortunately I cannot figure out how to configure a @RestController and @RequestMapping using XML.\r\n\r\nSo far I think I have configured the a \r\n\r\nThis is my main class:\r\n\r\n```lang-java\r\n   \r\npackage me.example.app;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.context.annotation.*;\r\nimport java.lang.System;\r\nimport java.util.Properties;\r\n\r\n@SpringBootApplication\r\n@RestController\r\n@ImportResource({&quot;classpath:applicationContext.xml&quot;})\r\n\r\npublic class GettingstartedApplication {\r\n\r\n\tpublic GettingstartedApplication() {\r\n\t\tSystem.out.println(&quot;INIT Application&quot;);\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tString home() {\r\n\t\treturn &quot;Hello World!&quot;;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tApplicationContext applicationContext = SpringApplication.run(GettingstartedApplication.class, args);\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nThis is my `resources/applicationContext.xml`:\r\n\r\n```lang-xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\r\n\r\n    &lt;bean id=&quot;xmlStringBean1&quot; class=&quot;java.lang.String&quot;&gt;\r\n\t\t&lt;constructor-arg value=&quot;stringBean1&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n    &lt;bean id=&quot;xmlController&quot; class=&quot;me.tom.app.XMLController&quot;&gt;\r\n        &lt;constructor-arg value=&quot;xmlControllerArg&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;testSimpleUrlHandlerMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\r\n        &lt;property name=&quot;mappings&quot;&gt;\r\n            &lt;util:map id=&quot;emails&quot; map-class=&quot;java.util.HashMap&quot;&gt;\r\n                &lt;entry key=&quot;/xml&quot; value=&quot;xmlController&quot;/&gt;\r\n            &lt;/util:map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nThis is my `XMLController.java`\r\n\r\n```lang-java\r\n\r\npackage me.example.app;\r\n\r\npublic class XMLController{\r\n\r\n    public XMLController(String arg) {\r\n        System.out.println(&quot;INIT XMLController&quot;);\r\n    }\r\n\r\n    String home() {\r\n        return &quot;XMLController&quot;;\r\n    }\r\n}\r\n\r\n```","title":"Java Spring - Configure Rest Endpoints with XML Configuration","body":"<p>i want to have something like a plugin system for Spring which are accessible through an REST endpoint.</p>\n<p>So I was thinking I could simply implement a controller module as @RestController bean and add it to my beans definition.</p>\n<p>Unfortunately I cannot figure out how to configure a @RestController and @RequestMapping using XML.</p>\n<p>So far I think I have configured the a</p>\n<p>This is my main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   \npackage me.example.app;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.context.annotation.*;\nimport java.lang.System;\nimport java.util.Properties;\n\n@SpringBootApplication\n@RestController\n@ImportResource({&quot;classpath:applicationContext.xml&quot;})\n\npublic class GettingstartedApplication {\n\n    public GettingstartedApplication() {\n        System.out.println(&quot;INIT Application&quot;);\n    }\n\n    @RequestMapping(&quot;/&quot;)\n    String home() {\n        return &quot;Hello World!&quot;;\n    }\n\n    public static void main(String[] args) {\n\n        ApplicationContext applicationContext = SpringApplication.run(GettingstartedApplication.class, args);\n\n    }\n\n}\n\n\n</code></pre>\n<p>This is my <code>resources/applicationContext.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt;\n\n    &lt;bean id=&quot;xmlStringBean1&quot; class=&quot;java.lang.String&quot;&gt;\n        &lt;constructor-arg value=&quot;stringBean1&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;xmlController&quot; class=&quot;me.tom.app.XMLController&quot;&gt;\n        &lt;constructor-arg value=&quot;xmlControllerArg&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;testSimpleUrlHandlerMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;util:map id=&quot;emails&quot; map-class=&quot;java.util.HashMap&quot;&gt;\n                &lt;entry key=&quot;/xml&quot; value=&quot;xmlController&quot;/&gt;\n            &lt;/util:map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>This is my <code>XMLController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage me.example.app;\n\npublic class XMLController{\n\n    public XMLController(String arg) {\n        System.out.println(&quot;INIT XMLController&quot;);\n    }\n\n    String home() {\n        return &quot;XMLController&quot;;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","replace","jtextpane","caret","abbreviation"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1675812913,"post_id":75379932,"comment_id":133008600,"body_markdown":"I would start by looking at [Using Text Components](https://docs.oracle.com/javase/tutorial/uiswing/components/text.html) and its sub categories, in particular [Concepts: About Documents](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#document) and [Implementing a Document Filter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter)","body":"I would start by looking at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\" rel=\"nofollow noreferrer\">Using Text Components</a> and its sub categories, in particular <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#document\" rel=\"nofollow noreferrer\">Concepts: About Documents</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a Document Filter</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675813307,"post_id":75379932,"comment_id":133008656,"body_markdown":"To handle the &quot;expansion&quot; workflow, you&#39;ll need to start with [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)","body":"To handle the &quot;expansion&quot; workflow, you&#39;ll need to start with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675814256,"post_id":75379932,"comment_id":133008849,"body_markdown":"And something like [this](https://stackoverflow.com/questions/31661877/java-using-keylistener-to-check-if-parenthesis-is-pressed/31665872#31665872) might help","body":"And something like <a href=\"https://stackoverflow.com/questions/31661877/java-using-keylistener-to-check-if-parenthesis-is-pressed/31665872#31665872\">this</a> might help"},{"owner":{"account_id":16924214,"reputation":94,"user_id":12240258,"display_name":"Corey"},"score":0,"creation_date":1675819468,"post_id":75379932,"comment_id":133009507,"body_markdown":"@MadProgrammer thank you, I figured it out and made it working. Also, I wrote the working solution as an addendum to my question. Thank you.","body":"@MadProgrammer thank you, I figured it out and made it working. Also, I wrote the working solution as an addendum to my question. Thank you."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675819825,"post_id":75379932,"comment_id":133009567,"body_markdown":"Check out https://stackoverflow.com/questions/31661877/java-using-keylistener-to-check-if-parenthesis-is-pressed/31665872#31665872 which deals with something simular","body":"Check out <a href=\"https://stackoverflow.com/questions/31661877/java-using-keylistener-to-check-if-parenthesis-is-pressed/31665872#31665872\" title=\"java using keylistener to check if parenthesis is pressed\">stackoverflow.com/questions/31661877/&hellip;</a> which deals with something simular"}],"owner":{"account_id":16924214,"reputation":94,"user_id":12240258,"display_name":"Corey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675878870,"creation_date":1675811794,"question_id":75379932,"body_markdown":"So basically, the idea is as follows:\r\n\r\n0) The program must extend JTextPane\r\n1) The program must detect when user typed an abbreviation in the extended JTextPane. \r\n2) If the user keeps his caret at the last position of the abbreviation, and presses CTRL + ENTER, the program must replace that abbreviation with a definition.\r\n\r\nMy question is, how would that be done, would somebody be able to make a demo to demonstrate that?\r\nI am aware that keyListener is not the best approach here. \r\n\r\n**Update A few hours later:**\r\nI managed to get it working finally.\r\nI will write down my working demo down below, I hope it will save you the headache that I had to go through while working on it.\r\n\r\nGIF Demonstration:\r\n[![enter image description here][1]][1]\r\n\r\n```\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.ArrayList;\r\n\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.ActionMap;\r\nimport javax.swing.InputMap;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextPane;\r\nimport javax.swing.KeyStroke;\r\nimport javax.swing.WindowConstants;\r\nimport javax.swing.text.BadLocationException;\r\nimport javax.swing.text.Document;\r\n\r\n/**\r\n * JTextPane with capability to:\r\n * -To keep the correct amount of tabs on new line when user types Enter\r\n * -Dynamically add abbreviations\r\n * -To replace abbreviation with its definition when user keeps caret at last letter of the abbreviation and taps CTRL + ENTER\r\n * -To set position of the caret for each abbreviation after it is replaced by its definition\r\n */\r\npublic class AbbreviationJTextPane extends JTextPane {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame frame = new JFrame();\r\n\t\t\r\n\t\t// Create abbreviation JTextPane\r\n\t\tAbbreviationJTextPane abbreviationPane = new AbbreviationJTextPane();\r\n\t\t\r\n\t\t// Add abbreviations\r\n\t\tabbreviationPane.addAbbreviation(&quot;sysout&quot;, &quot;System.out.println();&quot;, 19); // 19 sets caret between parenthesis ( )\r\n\t\tabbreviationPane.addAbbreviation(&quot;/**&quot;, &quot;/*\\n * \\n * \\n * /&quot;, 6); // 6 sets caret on second line after *\r\n\t\tabbreviationPane.addAbbreviation(&quot;sob&quot;, &quot;short of breath&quot;, 15);\r\n\t\t\r\n\t\t// Add abbreviation JTextPane to JFrame\r\n\t\tframe.add(abbreviationPane);\r\n\t\t \r\n\t\tframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tframe.pack();\r\n\t\tframe.setTitle(&quot;Demo on abbreviation with CTRL + ENTER capability for JTextPane&quot;);\r\n\t\tframe.setSize(720, 250);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\r\n\t}\r\n\t\r\n\tprivate AbbreviationList abbreviations = new AbbreviationList();\r\n\r\n\tpublic void addAbbreviation(String abbreviation, String definition, int setCaretPositionBack) {\r\n\t\tabbreviations.add(new AbbreviationParameter(setCaretPositionBack, abbreviation, definition));\r\n\t}\r\n\r\n\tpublic AbbreviationJTextPane() {\r\n\t\t// Add key detection functional\r\n\t\tInputMap im = getInputMap();\r\n\t\tActionMap am = getActionMap();\r\n\t\t\r\n\t\t// Add ENTER Listener - Replaces the way ENTER key works - new line will keep the same amount of tabs as on previous line\r\n\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0), &quot;onEnter&quot;);\r\n\t\tam.put(&quot;onEnter&quot;, new AbstractAction() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tonEnter();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Add CTRL + ENTER Listener\r\n\t\tim.put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, InputEvent.CTRL_DOWN_MASK), &quot;onCTRL_ENTER&quot;);\r\n\t\tam.put(&quot;onCTRL_ENTER&quot;, new AbstractAction() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tonCtrlEnter();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t// ====================== LISTENERS\r\n\t\r\n\t/**\r\n\t * Overrides the way tapping Enter key functions.\r\n\t * New line &quot;\\n&quot; will keep the same amount of tabs &quot;\\t&quot; as on previous line\r\n\t */\r\n\tprivate void onEnter() {\r\n\t\tnewLineWithTabs();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Overrides the way tapping CTRL + ENTER functions\r\n\t */\r\n\tprivate void onCtrlEnter() {\r\n\t\t// The method below must be called like this to avoid bugs where expanding does\r\n\t\t// not work on new line\r\n\t\texpandAbbreviation(&quot; &quot;);\r\n\t\texpandAbbreviation(&quot;\\n&quot;);\r\n\t\texpandAbbreviation(&quot;\\t&quot;);\r\n\t}\r\n\t\r\n\t// ====================== FUNCTIONAL\r\n\t\r\n\t/**\r\n\t * Inserts a new line.\r\n\t * New line &quot;\\n&quot; will keep the same amount of tabs &quot;\\t&quot; as on previous line\r\n\t */\r\n\tprivate void newLineWithTabs() {\r\n\t\ttry {\r\n\t\t\t// Get the entire text in the document\r\n\t\t\tString text = getDocument().getText(0, getCaretPosition());\r\n\t\t\t\r\n\t\t\t// Get the end index of the text\r\n\t\t\tint end = text.length();\r\n\t\t\t\r\n\t\t\t// Insert relevant amount of tabs on each new line:\r\n\t\t\tString tabs = getTabsFromLine(text, end);\r\n\t\t\t\r\n\t\t\t// Replace all new lines in definition with relevant amount of tabs\r\n\t\t\tString definition = &quot;\\n&quot;.replace(&quot;\\n&quot;, &quot;\\n&quot;+tabs);\r\n\t\t\t\r\n\t\t\t// Insert the definition into the document at the start index\r\n\t\t\tgetDocument().insertString(end, definition, null);\r\n\t\t} catch (BadLocationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * This method is used to expand an abbreviation in the document based on the\r\n\t * given word.\r\n\t * \r\n\t * @param lastIndexOf - a String representing the word that the abbreviation is\r\n\t *                    being searched from\r\n\t */\r\n\tprivate void expandAbbreviation(String lastIndexOf) {\r\n\t\ttry {\r\n\t\t\t// Get the caret position in the document\r\n\t\t\tint caretPosition = getCaretPosition();\r\n\t\t\tDocument doc = getDocument();\r\n\r\n\t\t\t// Get the entire text in the document\r\n\t\t\tString text = doc.getText(0, caretPosition);\r\n\r\n\t\t\t// Get the start index of the word that is being searched\r\n\t\t\tint start = text.lastIndexOf(lastIndexOf) + 1;\r\n\r\n\t\t\t// Get the end index of the text\r\n\t\t\tint end = text.length();\r\n\r\n\t\t\t// Get the word that is being searched\r\n\t\t\tString word = text.substring(start, end);\r\n\r\n\t\t\t// Check if the abbreviations list contains the word and the caret position is\r\n\t\t\t// at the end of the document\r\n\t\t\tif (abbreviations.containsAbbreviation(word) &amp;&amp; caretPosition == end) {\r\n\t\t\t\t// Get the definition of the word from the abbreviations list\r\n\t\t\t\tAbbreviationParameter inputParameter = abbreviations.getObjectForAbbreviation(word);\r\n\r\n\t\t\t\t// If input parameter is null, this means that no such abbreviation exists in\r\n\t\t\t\t// the list\r\n\t\t\t\tif (inputParameter == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get definition from inputParameter\r\n\t\t\t\tString definition = inputParameter.definition;\r\n\t\t\t\t\r\n\t\t\t\t// Insert relevant amount of tabs on each new line:\r\n\t\t\t\tString tabs = getTabsFromLine(text, end);\r\n\t\t\t\t\r\n\t\t\t\t// Replace all new lines in definition with relevant amount of tabs\r\n\t\t\t\tdefinition = definition.replace(&quot;\\n&quot;, &quot;\\n&quot;+tabs);\r\n\r\n\t\t\t\t// Remove the word from the document\r\n\t\t\t\tdoc.remove(start, end - start);\r\n\r\n\t\t\t\t// Insert the definition into the document at the start index\r\n\t\t\t\tdoc.insertString(start, definition, null);\r\n\r\n\t\t\t\t// Set caret onto the appropriate index\r\n\t\t\t\tsetCaretPosition(start + inputParameter.caretPosition);\r\n\t\t\t}\r\n\t\t} catch (BadLocationException e) {\r\n\t\t\t// No need to print anything as BadLocationException error will keep happening\r\n\t\t\t// e.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// ====================== UTILITY METHODS\r\n\t\r\n\t/**\r\n\t * Gets the tabs from line.\r\n\t *\r\n\t * @param text - the entire text in the document\r\n\t * @param end -  the end index of the text\r\n\t * @return the tabs from line, string will be &quot;&quot; if there are no tabs at all\r\n\t */\r\n\tprivate String getTabsFromLine(String text, int end) {\r\n\t\t// Count all tabs in the line where caret is at present\r\n\t\tint tabsCount = countCharacter(getLineAtIndex(text, end), &#39;\\t&#39;);\r\n\t\t\r\n\t\t// Create String containing the amount of tabs necessary\r\n\t\tStringBuilder tabs = new StringBuilder();\r\n\t\tfor(int iTab = 0; iTab &lt; tabsCount; iTab++) {\r\n\t\t\ttabs.append(&quot;\\t&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn tabs.toString();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Returns the full line of a given index in a string.\r\n\t *\r\n\t * @param input the input string\r\n\t * @param index the index in the input string\r\n\t * @return the full line of the given index\r\n\t */\r\n\tpublic static String getLineAtIndex(String input, int index) {\r\n\t    // Find the start index of the line\r\n\t    int start = input.lastIndexOf(&quot;\\n&quot;, index) + 1;\r\n\t    \r\n\t    // Find the end index of the line\r\n\t    int end = input.indexOf(&quot;\\n&quot;, index);\r\n\t    if (end == -1) {\r\n\t        end = input.length();\r\n\t    }\r\n\t    \r\n\t    // Return the substring from the start to the end of the line\r\n\t    return input.substring(start, end);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Count the number of a specified character in a string.\r\n\t *\r\n\t * @param s the input string\r\n\t * @param c the character to count\r\n\t * @return the number of occurrences of the character in the string\r\n\t */\r\n\tpublic static int countCharacter(String s, char c) {\r\n\t    int count = 0;\r\n\t    for (int i = 0; i &lt; s.length(); i++) {\r\n\t        if (s.charAt(i) == c) {\r\n\t            count++;\r\n\t        }\r\n\t    }\r\n\t    return count;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Count the number of occurrences of a specified string in another string.\r\n\t *\r\n\t * @param input the input string\r\n\t * @param target the string to count\r\n\t * @return the number of occurrences of the target string in the input string\r\n\t */\r\n\tpublic static int countString(String input, String target) {\r\n\t    int count = 0;\r\n\t    int index = 0;\r\n\t    while ((index = input.indexOf(target, index)) != -1) {\r\n\t        count++;\r\n\t        index += target.length();\r\n\t    }\r\n\t    return count;\r\n\t}\r\n}\r\n\r\n/**\r\n * Constructor class for abbreviations, their definition, and expected caret\r\n * location after use\r\n * \r\n */\r\nclass AbbreviationParameter {\r\n\t/**\r\n\t * This value is meant to indicate how many chars forward the caret should be\r\n\t * placed onto after definition is placed.\r\n\t */\r\n\tfinal int caretPosition;\r\n\r\n\tfinal String abbreviation;\r\n\tfinal String definition;\r\n\r\n\tpublic AbbreviationParameter(int caretPosition, String abbreviation, String definition) {\r\n\t\tthis.caretPosition = caretPosition;\r\n\t\tthis.abbreviation = abbreviation;\r\n\t\tthis.definition = definition;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the definition.\r\n\t *\r\n\t * @return the definition\r\n\t */\r\n\tpublic String getDefinition() {\r\n\t\treturn definition;\r\n\t}\r\n}\r\n\r\n/**\r\n * List with all abbreviations and their values\r\n */\r\nclass AbbreviationList extends ArrayList&lt;AbbreviationParameter&gt; {\r\n\tprivate static final long serialVersionUID = -7332763119043404932L;\r\n\r\n\t/**\r\n\t * Checks if list contains given abbreviation.\r\n\t *\r\n\t * @param abbreviation - the abbreviation\r\n\t * @return true, if successful\r\n\t */\r\n\tpublic boolean containsAbbreviation(String abbreviation) {\r\n\t\tArrayList&lt;AbbreviationParameter&gt; list = this;\r\n\r\n\t\tfor (AbbreviationParameter stringInputParameter : list) {\r\n\t\t\tif (stringInputParameter.abbreviation.equals(abbreviation)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t\r\n\t/**\r\n\t * Gets the object for abbreviation.\r\n\t *\r\n\t * @param abbreviation - the abbreviation\r\n\t * @return the {@link #AbbreviationList} object for abbreviation given if match is found, will return null if no such abbreviation is found\r\n\t */\r\n\tpublic AbbreviationParameter getObjectForAbbreviation(String abbreviation) {\r\n\t\tArrayList&lt;AbbreviationParameter&gt; list = this;\r\n\r\n\t\tfor (AbbreviationParameter stringInputParameter : list) {\r\n\t\t\tif (stringInputParameter.abbreviation.equals(abbreviation)) {\r\n\t\t\t\treturn stringInputParameter;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ac8p.gif","title":"JTextPane abbreviation listener - how to create it? how to make it work when user presses ctrl + enter?","body":"<p>So basically, the idea is as follows:</p>\n<ol start=\"0\">\n<li>The program must extend JTextPane</li>\n<li>The program must detect when user typed an abbreviation in the extended JTextPane.</li>\n<li>If the user keeps his caret at the last position of the abbreviation, and presses CTRL + ENTER, the program must replace that abbreviation with a definition.</li>\n</ol>\n<p>My question is, how would that be done, would somebody be able to make a demo to demonstrate that?\nI am aware that keyListener is not the best approach here.</p>\n<p><strong>Update A few hours later:</strong>\nI managed to get it working finally.\nI will write down my working demo down below, I hope it will save you the headache that I had to go through while working on it.</p>\n<p>GIF Demonstration:\n<a href=\"https://i.stack.imgur.com/5ac8p.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ac8p.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>\nimport java.awt.event.ActionEvent;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JTextPane;\nimport javax.swing.KeyStroke;\nimport javax.swing.WindowConstants;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Document;\n\n/**\n * JTextPane with capability to:\n * -To keep the correct amount of tabs on new line when user types Enter\n * -Dynamically add abbreviations\n * -To replace abbreviation with its definition when user keeps caret at last letter of the abbreviation and taps CTRL + ENTER\n * -To set position of the caret for each abbreviation after it is replaced by its definition\n */\npublic class AbbreviationJTextPane extends JTextPane {\n    \n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        \n        // Create abbreviation JTextPane\n        AbbreviationJTextPane abbreviationPane = new AbbreviationJTextPane();\n        \n        // Add abbreviations\n        abbreviationPane.addAbbreviation(&quot;sysout&quot;, &quot;System.out.println();&quot;, 19); // 19 sets caret between parenthesis ( )\n        abbreviationPane.addAbbreviation(&quot;/**&quot;, &quot;/*\\n * \\n * \\n * /&quot;, 6); // 6 sets caret on second line after *\n        abbreviationPane.addAbbreviation(&quot;sob&quot;, &quot;short of breath&quot;, 15);\n        \n        // Add abbreviation JTextPane to JFrame\n        frame.add(abbreviationPane);\n         \n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setTitle(&quot;Demo on abbreviation with CTRL + ENTER capability for JTextPane&quot;);\n        frame.setSize(720, 250);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n    }\n    \n    private AbbreviationList abbreviations = new AbbreviationList();\n\n    public void addAbbreviation(String abbreviation, String definition, int setCaretPositionBack) {\n        abbreviations.add(new AbbreviationParameter(setCaretPositionBack, abbreviation, definition));\n    }\n\n    public AbbreviationJTextPane() {\n        // Add key detection functional\n        InputMap im = getInputMap();\n        ActionMap am = getActionMap();\n        \n        // Add ENTER Listener - Replaces the way ENTER key works - new line will keep the same amount of tabs as on previous line\n        im.put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, 0), &quot;onEnter&quot;);\n        am.put(&quot;onEnter&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                onEnter();\n            }\n        });\n\n        // Add CTRL + ENTER Listener\n        im.put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, InputEvent.CTRL_DOWN_MASK), &quot;onCTRL_ENTER&quot;);\n        am.put(&quot;onCTRL_ENTER&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                onCtrlEnter();\n            }\n        });\n    }\n    \n    // ====================== LISTENERS\n    \n    /**\n     * Overrides the way tapping Enter key functions.\n     * New line &quot;\\n&quot; will keep the same amount of tabs &quot;\\t&quot; as on previous line\n     */\n    private void onEnter() {\n        newLineWithTabs();\n    }\n    \n    /**\n     * Overrides the way tapping CTRL + ENTER functions\n     */\n    private void onCtrlEnter() {\n        // The method below must be called like this to avoid bugs where expanding does\n        // not work on new line\n        expandAbbreviation(&quot; &quot;);\n        expandAbbreviation(&quot;\\n&quot;);\n        expandAbbreviation(&quot;\\t&quot;);\n    }\n    \n    // ====================== FUNCTIONAL\n    \n    /**\n     * Inserts a new line.\n     * New line &quot;\\n&quot; will keep the same amount of tabs &quot;\\t&quot; as on previous line\n     */\n    private void newLineWithTabs() {\n        try {\n            // Get the entire text in the document\n            String text = getDocument().getText(0, getCaretPosition());\n            \n            // Get the end index of the text\n            int end = text.length();\n            \n            // Insert relevant amount of tabs on each new line:\n            String tabs = getTabsFromLine(text, end);\n            \n            // Replace all new lines in definition with relevant amount of tabs\n            String definition = &quot;\\n&quot;.replace(&quot;\\n&quot;, &quot;\\n&quot;+tabs);\n            \n            // Insert the definition into the document at the start index\n            getDocument().insertString(end, definition, null);\n        } catch (BadLocationException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    /**\n     * This method is used to expand an abbreviation in the document based on the\n     * given word.\n     * \n     * @param lastIndexOf - a String representing the word that the abbreviation is\n     *                    being searched from\n     */\n    private void expandAbbreviation(String lastIndexOf) {\n        try {\n            // Get the caret position in the document\n            int caretPosition = getCaretPosition();\n            Document doc = getDocument();\n\n            // Get the entire text in the document\n            String text = doc.getText(0, caretPosition);\n\n            // Get the start index of the word that is being searched\n            int start = text.lastIndexOf(lastIndexOf) + 1;\n\n            // Get the end index of the text\n            int end = text.length();\n\n            // Get the word that is being searched\n            String word = text.substring(start, end);\n\n            // Check if the abbreviations list contains the word and the caret position is\n            // at the end of the document\n            if (abbreviations.containsAbbreviation(word) &amp;&amp; caretPosition == end) {\n                // Get the definition of the word from the abbreviations list\n                AbbreviationParameter inputParameter = abbreviations.getObjectForAbbreviation(word);\n\n                // If input parameter is null, this means that no such abbreviation exists in\n                // the list\n                if (inputParameter == null) {\n                    return;\n                }\n\n                // Get definition from inputParameter\n                String definition = inputParameter.definition;\n                \n                // Insert relevant amount of tabs on each new line:\n                String tabs = getTabsFromLine(text, end);\n                \n                // Replace all new lines in definition with relevant amount of tabs\n                definition = definition.replace(&quot;\\n&quot;, &quot;\\n&quot;+tabs);\n\n                // Remove the word from the document\n                doc.remove(start, end - start);\n\n                // Insert the definition into the document at the start index\n                doc.insertString(start, definition, null);\n\n                // Set caret onto the appropriate index\n                setCaretPosition(start + inputParameter.caretPosition);\n            }\n        } catch (BadLocationException e) {\n            // No need to print anything as BadLocationException error will keep happening\n            // e.printStackTrace();\n        }\n    }\n    \n    // ====================== UTILITY METHODS\n    \n    /**\n     * Gets the tabs from line.\n     *\n     * @param text - the entire text in the document\n     * @param end -  the end index of the text\n     * @return the tabs from line, string will be &quot;&quot; if there are no tabs at all\n     */\n    private String getTabsFromLine(String text, int end) {\n        // Count all tabs in the line where caret is at present\n        int tabsCount = countCharacter(getLineAtIndex(text, end), '\\t');\n        \n        // Create String containing the amount of tabs necessary\n        StringBuilder tabs = new StringBuilder();\n        for(int iTab = 0; iTab &lt; tabsCount; iTab++) {\n            tabs.append(&quot;\\t&quot;);\n        }\n        \n        return tabs.toString();\n    }\n    \n    /**\n     * Returns the full line of a given index in a string.\n     *\n     * @param input the input string\n     * @param index the index in the input string\n     * @return the full line of the given index\n     */\n    public static String getLineAtIndex(String input, int index) {\n        // Find the start index of the line\n        int start = input.lastIndexOf(&quot;\\n&quot;, index) + 1;\n        \n        // Find the end index of the line\n        int end = input.indexOf(&quot;\\n&quot;, index);\n        if (end == -1) {\n            end = input.length();\n        }\n        \n        // Return the substring from the start to the end of the line\n        return input.substring(start, end);\n    }\n    \n    /**\n     * Count the number of a specified character in a string.\n     *\n     * @param s the input string\n     * @param c the character to count\n     * @return the number of occurrences of the character in the string\n     */\n    public static int countCharacter(String s, char c) {\n        int count = 0;\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (s.charAt(i) == c) {\n                count++;\n            }\n        }\n        return count;\n    }\n    \n    /**\n     * Count the number of occurrences of a specified string in another string.\n     *\n     * @param input the input string\n     * @param target the string to count\n     * @return the number of occurrences of the target string in the input string\n     */\n    public static int countString(String input, String target) {\n        int count = 0;\n        int index = 0;\n        while ((index = input.indexOf(target, index)) != -1) {\n            count++;\n            index += target.length();\n        }\n        return count;\n    }\n}\n\n/**\n * Constructor class for abbreviations, their definition, and expected caret\n * location after use\n * \n */\nclass AbbreviationParameter {\n    /**\n     * This value is meant to indicate how many chars forward the caret should be\n     * placed onto after definition is placed.\n     */\n    final int caretPosition;\n\n    final String abbreviation;\n    final String definition;\n\n    public AbbreviationParameter(int caretPosition, String abbreviation, String definition) {\n        this.caretPosition = caretPosition;\n        this.abbreviation = abbreviation;\n        this.definition = definition;\n    }\n\n    /**\n     * Gets the definition.\n     *\n     * @return the definition\n     */\n    public String getDefinition() {\n        return definition;\n    }\n}\n\n/**\n * List with all abbreviations and their values\n */\nclass AbbreviationList extends ArrayList&lt;AbbreviationParameter&gt; {\n    private static final long serialVersionUID = -7332763119043404932L;\n\n    /**\n     * Checks if list contains given abbreviation.\n     *\n     * @param abbreviation - the abbreviation\n     * @return true, if successful\n     */\n    public boolean containsAbbreviation(String abbreviation) {\n        ArrayList&lt;AbbreviationParameter&gt; list = this;\n\n        for (AbbreviationParameter stringInputParameter : list) {\n            if (stringInputParameter.abbreviation.equals(abbreviation)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    \n    /**\n     * Gets the object for abbreviation.\n     *\n     * @param abbreviation - the abbreviation\n     * @return the {@link #AbbreviationList} object for abbreviation given if match is found, will return null if no such abbreviation is found\n     */\n    public AbbreviationParameter getObjectForAbbreviation(String abbreviation) {\n        ArrayList&lt;AbbreviationParameter&gt; list = this;\n\n        for (AbbreviationParameter stringInputParameter : list) {\n            if (stringInputParameter.abbreviation.equals(abbreviation)) {\n                return stringInputParameter;\n            }\n        }\n\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","mediastore"],"owner":{"account_id":24420387,"reputation":31,"user_id":18346716,"display_name":"Michelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675878616,"creation_date":1675876040,"question_id":75389281,"body_markdown":"I want to build Music Player app for Android 10 device, I want to list all audio in the MediaStore to the Listview, but unfortunate MediaStore return only one song out of many songs I had on my device, I think all the remaining songs are not present in the MediaStore.\r\n\r\nHave tried all my possible best, but still the same.\r\n\r\nI think there is no audio file in my device MediaStore except one.\r\n\r\n\r\nPlease!!!!\r\n\r\nHere the main activity\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n\r\n        ListView mAudioListView = (ListView) findViewById(R.id.audioListView);\r\n\r\n        ArrayList&lt;String&gt; mAudioList = new ArrayList&lt;&gt;();\r\n\r\n        //detail of each audio\r\n        String[] mAudioDetailArray = { MediaStore.Audio.Media._ID, MediaStore.Audio.Media.DISPLAY_NAME};\r\n\r\n        //INTERNAL_CONTENT_URI to display audio from internal storage\r\n        //EXTERNAL_CONTENT_URI to display audio from external storage\r\n        Cursor mAudioCursor = getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, mAudioDetailArray, null, null, null);\r\n\r\n        if(mAudioCursor != null){\r\n            if(mAudioCursor.moveToFirst()){\r\n                do{\r\n                    int audioIndex = mAudioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME);\r\n\r\n                    mAudioList.add(mAudioCursor.getString(audioIndex));\r\n                }while(mAudioCursor.moveToNext());\r\n            }\r\n        }\r\n        mAudioCursor.close();\r\n\r\n        ArrayAdapter&lt;String&gt; mAdapter = new ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1, mAudioList);\r\n        mAudioListView.setAdapter(mAdapter);\r\n\r\n    }\r\n}\r\n\r\n[![Here is the output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYlbf.png","title":"How to add files to MediaStore in Android","body":"<p>I want to build Music Player app for Android 10 device, I want to list all audio in the MediaStore to the Listview, but unfortunate MediaStore return only one song out of many songs I had on my device, I think all the remaining songs are not present in the MediaStore.</p>\n<p>Have tried all my possible best, but still the same.</p>\n<p>I think there is no audio file in my device MediaStore except one.</p>\n<p>Please!!!!</p>\n<p>Here the main activity</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    ListView mAudioListView = (ListView) findViewById(R.id.audioListView);\n\n    ArrayList&lt;String&gt; mAudioList = new ArrayList&lt;&gt;();\n\n    //detail of each audio\n    String[] mAudioDetailArray = { MediaStore.Audio.Media._ID, MediaStore.Audio.Media.DISPLAY_NAME};\n\n    //INTERNAL_CONTENT_URI to display audio from internal storage\n    //EXTERNAL_CONTENT_URI to display audio from external storage\n    Cursor mAudioCursor = getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI, mAudioDetailArray, null, null, null);\n\n    if(mAudioCursor != null){\n        if(mAudioCursor.moveToFirst()){\n            do{\n                int audioIndex = mAudioCursor.getColumnIndexOrThrow(MediaStore.Audio.Media.DISPLAY_NAME);\n\n                mAudioList.add(mAudioCursor.getString(audioIndex));\n            }while(mAudioCursor.moveToNext());\n        }\n    }\n    mAudioCursor.close();\n\n    ArrayAdapter&lt;String&gt; mAdapter = new ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1, mAudioList);\n    mAudioListView.setAdapter(mAdapter);\n\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/tYlbf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYlbf.png\" alt=\"Here is the output\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","request"],"comments":[{"owner":{"account_id":964649,"reputation":458,"user_id":988304,"display_name":"stevestorey"},"score":0,"creation_date":1675953425,"post_id":75389744,"comment_id":133041826,"body_markdown":"Probably helpful to show the declaration (including any annotations) of the MessageHandler.getAllMessages method.","body":"Probably helpful to show the declaration (including any annotations) of the MessageHandler.getAllMessages method."}],"owner":{"account_id":11945090,"reputation":5,"user_id":8740579,"display_name":"sambhav jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675878121,"creation_date":1675878121,"question_id":75389744,"body_markdown":"I am trying to write a JAR, in which I have written some request mappings and add it via RequestMappingHandlerMappings.\r\n\r\nWhenever I am using this JAR in any service, I am able to get the api in swagger, but when I am executing the same API using swagger, the API executes completely but in the end throws me 404. Can someone please help me out here?\r\nHere is my code snippet:- \r\n\r\n      public void setHandlerMapping(RequestMappingHandlerMapping mapping, MessageHandler handler)\r\n      throws NoSuchMethodException {\r\n\r\n    RequestMappingInfo info =\r\n        RequestMappingInfo.paths(&quot;/v1/getMessages&quot;).methods(RequestMethod.GET).build();\r\n\r\n    Method method = MessageHandler.class.getMethod(&quot;getAllMessages&quot;);\r\n\r\n    mapping.registerMapping(info, handler, method);}\r\n\r\nUsing this I was able to register this in spring handler, but getting 404 on hitting the swagger api. Although the handler inside is getting hit and executed everytime I am trying to execute this API","title":"Spring Java:- Getting 404 on response even after method execution has been done","body":"<p>I am trying to write a JAR, in which I have written some request mappings and add it via RequestMappingHandlerMappings.</p>\n<p>Whenever I am using this JAR in any service, I am able to get the api in swagger, but when I am executing the same API using swagger, the API executes completely but in the end throws me 404. Can someone please help me out here?\nHere is my code snippet:-</p>\n<pre><code>  public void setHandlerMapping(RequestMappingHandlerMapping mapping, MessageHandler handler)\n  throws NoSuchMethodException {\n\nRequestMappingInfo info =\n    RequestMappingInfo.paths(&quot;/v1/getMessages&quot;).methods(RequestMethod.GET).build();\n\nMethod method = MessageHandler.class.getMethod(&quot;getAllMessages&quot;);\n\nmapping.registerMapping(info, handler, method);}\n</code></pre>\n<p>Using this I was able to register this in spring handler, but getting 404 on hitting the swagger api. Although the handler inside is getting hit and executed everytime I am trying to execute this API</p>\n"},{"tags":["java","spring","spring-3"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1676513944,"post_id":75389734,"comment_id":133153861,"body_markdown":"you can see this article [@RestContollerAdvice not throwing custom exception](https://stackoverflow.com/questions/75430351/restcontolleradvice-not-throwing-custom-exception/75431515#75431515)","body":"you can see this article <a href=\"https://stackoverflow.com/questions/75430351/restcontolleradvice-not-throwing-custom-exception/75431515#75431515\">@RestContollerAdvice not throwing custom exception</a>"}],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675878064,"creation_date":1675878064,"question_id":75389734,"body_markdown":"I&#39;m throwing response status exceptions in my codebase that look like this: \r\n```java\r\nthrow new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Resource not found!&quot;);\r\nthrow new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bad request!&quot;);\r\n```\r\n\r\nBut, it generates this default spring json error: \r\n```json\r\n{\r\n\t&quot;type&quot;: &quot;about:blank&quot;,\r\n\t&quot;title&quot;: &quot;Not Found&quot;,\r\n\t&quot;status&quot;: 404,\r\n\t&quot;detail&quot;: &quot;Resource not found&quot;,\r\n\t&quot;instance&quot;: &quot;/api/graphql&quot;,\r\n\t&quot;properties&quot;: null\r\n}\r\n```\r\n\r\nI&#39;d like to create my own exception handler because I don&#39;t want to show the fields: type, instance &amp; properties.\r\n\r\nI&#39;ve tried creating my own exception handler for the `ResponseStatusException.class` here: \r\n```java\r\n@ControllerAdvice\r\npublic class ResponseStatusHandler extends ResponseStatusExceptionHandler {\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @ExceptionHandler({ResponseStatusException.class})\r\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\r\n        ObjectNode node = objectMapper.createObjectNode()\r\n                .put(&quot;code&quot;, e.getStatusCode().value())\r\n                .put(&quot;message&quot;, e.getMessage());\r\n\r\n        return ResponseEntity.status(e.getStatusCode())\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(node);\r\n    }\r\n}\r\n```\r\n\r\nBut, it never seems to get invoked and only the default spring response is returned. Is it possible to add a custom exception handler for ResponseStatusException? \r\n\r\n\r\n\r\n\r\n","title":"Can I create a custom exception handler for ResponseStatusException?","body":"<p>I'm throwing response status exceptions in my codebase that look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Resource not found!&quot;);\nthrow new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bad request!&quot;);\n</code></pre>\n<p>But, it generates this default spring json error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Not Found&quot;,\n    &quot;status&quot;: 404,\n    &quot;detail&quot;: &quot;Resource not found&quot;,\n    &quot;instance&quot;: &quot;/api/graphql&quot;,\n    &quot;properties&quot;: null\n}\n</code></pre>\n<p>I'd like to create my own exception handler because I don't want to show the fields: type, instance &amp; properties.</p>\n<p>I've tried creating my own exception handler for the <code>ResponseStatusException.class</code> here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ResponseStatusHandler extends ResponseStatusExceptionHandler {\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @ExceptionHandler({ResponseStatusException.class})\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\n        ObjectNode node = objectMapper.createObjectNode()\n                .put(&quot;code&quot;, e.getStatusCode().value())\n                .put(&quot;message&quot;, e.getMessage());\n\n        return ResponseEntity.status(e.getStatusCode())\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(node);\n    }\n}\n</code></pre>\n<p>But, it never seems to get invoked and only the default spring response is returned. Is it possible to add a custom exception handler for ResponseStatusException?</p>\n"},{"tags":["java","spring","spring-boot","jpa","h2"],"comments":[{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1675882798,"post_id":75389118,"comment_id":133025761,"body_markdown":"Try to change your id field type from primitive int to Integer and add Lomboks @NoArgsConstructor at the class level. Also you could try delete the H2 file and re-create it","body":"Try to change your id field type from primitive int to Integer and add Lomboks @NoArgsConstructor at the class level. Also you could try delete the H2 file and re-create it"},{"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"score":0,"creation_date":1675934411,"post_id":75389118,"comment_id":133035642,"body_markdown":"Changing to Integer seems to have done the trick, though I have no idea why. The logs still show that the resulting SQL is trying to set the &quot;id&quot; column to NULL, but now it doesn&#39;t throw an error. This is not a change due to deleting the h2 file because I&#39;ve been doing that every time I&#39;ve been making a change just to make sure it wasn&#39;t some old schema hanging around causing a problem.","body":"Changing to Integer seems to have done the trick, though I have no idea why. The logs still show that the resulting SQL is trying to set the &quot;id&quot; column to NULL, but now it doesn&#39;t throw an error. This is not a change due to deleting the h2 file because I&#39;ve been doing that every time I&#39;ve been making a change just to make sure it wasn&#39;t some old schema hanging around causing a problem."},{"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"score":0,"creation_date":1675934649,"post_id":75389118,"comment_id":133035718,"body_markdown":"@meridbt if you put your comment as an answer I will accept it","body":"@meridbt if you put your comment as an answer I will accept it"}],"owner":{"account_id":3806515,"reputation":365,"user_id":3158790,"accept_rate":50,"display_name":"jpappe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675877589,"creation_date":1675875176,"question_id":75389118,"body_markdown":"I&#39;m trying to follow an example project in _Spring Security in Action_ but use H2 rather than MySQL and I&#39;m struggling to find the right combination of configurations to allow things to work properly.\r\n\r\nMy simple entity, which is just a simple object with a primary key. I the &quot;id&quot; column to behave like an auto-incremented primary key in that the DB should generate it rather than the application.\r\n``` lang-java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Workout {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    private String user;\r\n    private LocalDateTime start;\r\n    private LocalDateTime end;\r\n    private int difficulty;\r\n}\r\n```\r\n\r\nMy repository (nothing special):\r\n``` lang-java\r\n@Repository\r\npublic interface WorkoutRepository extends JpaRepository&lt;Workout, Integer&gt; {\r\n}\r\n```\r\n\r\nRelevant parts of the controller, which just receives a Workout object with no id specified and saves it to the DB:\r\n``` lang-java\r\n@RestController\r\n@RequestMapping(&quot;/workout&quot;)\r\npublic class WorkoutController {\r\n    \r\n    private final WorkoutRepository workoutRepository;\r\n\r\n    public WorkoutController(WorkoutRepository  workoutRepository) {\r\n        this.workoutRepository= workoutRepository;\r\n    }\r\n    \r\n    @PostMapping(&quot;/&quot;)\r\n    public Workout add(@RequestBody Workout workout) {\r\n        return workoutRepository.save(workout);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAnd my `application.properties`:\r\n```\r\nspring.datasource.url=jdbc:h2:file:~/fitnessapp;AUTO_SERVER=TRUE;\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n# using this because I have a column called &quot;user&quot; which is a reserved word\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nWhen I run this, the application starts up and I can check the H2 console and see that the table was created correctly. But when I submit a request to save a new entity I get an internal server error.\r\n\r\nLogs show that the resulting SQL tries to set the &quot;id&quot; column to NULL, which causes an SQL error:\r\n```\r\nHibernate: insert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?)\r\n2023-02-08 16:04:48.427  WARN 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502\r\n2023-02-08 16:04:48.427 ERROR 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column &quot;id&quot;; SQL statement:\r\ninsert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?) [23502-200]\r\n```\r\n\r\nSo even though JPA is defining the schema for the entity, it doesn&#39;t seem to know how to insert rows into the table.\r\n\r\nI&#39;ve tried many different combinations of `GenerationType` strategy, creating the table schema myself with a `schema.sql` file (though I&#39;d rather not resort to this as JPA should be able to do it for me), and various hibernate properties. Nothing seems to work.\r\n\r\nVersions:\r\n   * Spring Boot parent: 2.3.0.RELEASE\r\n   * Spring Data JPA: 2.3.0.RELEASE\r\n   * H2: 1.4.200","title":"Spring Boot with JPA and H2 with auto increment id column: NULL not allowed for column","body":"<p>I'm trying to follow an example project in <em>Spring Security in Action</em> but use H2 rather than MySQL and I'm struggling to find the right combination of configurations to allow things to work properly.</p>\n<p>My simple entity, which is just a simple object with a primary key. I the &quot;id&quot; column to behave like an auto-incremented primary key in that the DB should generate it rather than the application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class Workout {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String user;\n    private LocalDateTime start;\n    private LocalDateTime end;\n    private int difficulty;\n}\n</code></pre>\n<p>My repository (nothing special):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface WorkoutRepository extends JpaRepository&lt;Workout, Integer&gt; {\n}\n</code></pre>\n<p>Relevant parts of the controller, which just receives a Workout object with no id specified and saves it to the DB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/workout&quot;)\npublic class WorkoutController {\n    \n    private final WorkoutRepository workoutRepository;\n\n    public WorkoutController(WorkoutRepository  workoutRepository) {\n        this.workoutRepository= workoutRepository;\n    }\n    \n    @PostMapping(&quot;/&quot;)\n    public Workout add(@RequestBody Workout workout) {\n        return workoutRepository.save(workout);\n    }\n    \n}\n</code></pre>\n<p>And my <code>application.properties</code>:</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:~/fitnessapp;AUTO_SERVER=TRUE;\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n# using this because I have a column called &quot;user&quot; which is a reserved word\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>When I run this, the application starts up and I can check the H2 console and see that the table was created correctly. But when I submit a request to save a new entity I get an internal server error.</p>\n<p>Logs show that the resulting SQL tries to set the &quot;id&quot; column to NULL, which causes an SQL error:</p>\n<pre><code>Hibernate: insert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?)\n2023-02-08 16:04:48.427  WARN 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23502, SQLState: 23502\n2023-02-08 16:04:48.427 ERROR 22656 --- [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL not allowed for column &quot;id&quot;; SQL statement:\ninsert into &quot;workout&quot; (&quot;id&quot;, &quot;difficulty&quot;, &quot;end&quot;, &quot;start&quot;, &quot;user&quot;) values (null, ?, ?, ?, ?) [23502-200]\n</code></pre>\n<p>So even though JPA is defining the schema for the entity, it doesn't seem to know how to insert rows into the table.</p>\n<p>I've tried many different combinations of <code>GenerationType</code> strategy, creating the table schema myself with a <code>schema.sql</code> file (though I'd rather not resort to this as JPA should be able to do it for me), and various hibernate properties. Nothing seems to work.</p>\n<p>Versions:</p>\n<ul>\n<li>Spring Boot parent: 2.3.0.RELEASE</li>\n<li>Spring Data JPA: 2.3.0.RELEASE</li>\n<li>H2: 1.4.200</li>\n</ul>\n"},{"tags":["java","arrays","list","arraylist","indexing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1675874673,"post_id":75388979,"comment_id":133023173,"body_markdown":"Shouldn&#39;t `System.out.println(src + &quot; is at index &quot; + ind);` only happen *if* (hint hint) you find the number? That is only *if* `src == num`? (hint hint)","body":"Shouldn&#39;t <code>System.out.println(src + &quot; is at index &quot; + ind);</code> only happen <i>if</i> (hint hint) you find the number? That is only <i>if</i> <code>src == num</code>? (hint hint)"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1675874866,"post_id":75388979,"comment_id":133023232,"body_markdown":"You also really don&#39;t need to declare an extra `int ind = 0;` variable for the index in the loop. You are using a simple for loop that already uses a counter variable that represents the current index you are checking `int i =0`.","body":"You also really don&#39;t need to declare an extra <code>int ind = 0;</code> variable for the index in the loop. You are using a simple for loop that already uses a counter variable that represents the current index you are checking <code>int i =0</code>."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675875167,"post_id":75388979,"comment_id":133023338,"body_markdown":"@FedericoklezCulloca you are right, it must happen. But I want to output all indexes which exist in the list (let&#39;s say in the list there are 2 same numbers).","body":"@FedericoklezCulloca you are right, it must happen. But I want to output all indexes which exist in the list (let&#39;s say in the list there are 2 same numbers)."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675875268,"post_id":75388979,"comment_id":133023378,"body_markdown":"Reading your code superficially it seems to make sense. Can you provide an input where the output will be wrong and explain what should have happened instead?","body":"Reading your code superficially it seems to make sense. Can you provide an input where the output will be wrong and explain what should have happened instead?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1675875337,"post_id":75388979,"comment_id":133023404,"body_markdown":"@AminMousavi yes, and you should print it only when you find it, not at every iteration. That&#39;s what I mean.","body":"@AminMousavi yes, and you should print it only when you find it, not at every iteration. That&#39;s what I mean."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675875868,"post_id":75388979,"comment_id":133023567,"body_markdown":"@LajosArpad sure.\n\nInput:\n1\n2\n3\n3\n4\n-1\nSearch for? \n3\n\n\n\nOutput:\n3 is at index 0\n3 is at index 0 \n3 is at index 2 \n3 is at index 2 \n3 is at index 2\n\n///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index.","body":"@LajosArpad sure.  Input: 1 2 3 3 4 -1 Search for?  3    Output: 3 is at index 0 3 is at index 0  3 is at index 2  3 is at index 2  3 is at index 2  ///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675877325,"post_id":75388979,"comment_id":133024089,"body_markdown":"`System.out.println` is after your `if`, causing false positives for all elements of your collection. You need to move it inside the `if`.","body":"<code>System.out.println</code> is after your <code>if</code>, causing false positives for all elements of your collection. You need to move it inside the <code>if</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1675877391,"post_id":75388979,"comment_id":133024117,"body_markdown":"@LajosArpad also `ind = list.indexOf(src);` besides being wrong (because `indexOf` will always return the index of the first instance) you don&#39;t need this. Just print `i`.","body":"@LajosArpad also <code>ind = list.indexOf(src);</code> besides being wrong (because <code>indexOf</code> will always return the index of the first instance) you don&#39;t need this. Just print <code>i</code>."},{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1675878205,"post_id":75388979,"comment_id":133024439,"body_markdown":"@FedericoklezCulloca it has worked. I did changed it, appreciated.","body":"@FedericoklezCulloca it has worked. I did changed it, appreciated."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675877474,"creation_date":1675875666,"answer_id":75389201,"question_id":75388979,"body_markdown":"I can see a single problem in your code, that is, you print everything, not only the matches. To solve that you need to put your `System.out.println` into the `if`, like this:\r\n\r\n```\r\n        for(int i=0; i&lt;list.size(); i++){\r\n            int num = list.get(i);\r\n            if(src == num){\r\n                ind = i;\r\n                System.out.println(src + &quot; is at index &quot; + ind);\r\n            }\r\n        }\r\n```\r\n\r\nLet me know if anything else was wrong.","title":"Index of number(s) in list in JAVA","body":"<p>I can see a single problem in your code, that is, you print everything, not only the matches. To solve that you need to put your <code>System.out.println</code> into the <code>if</code>, like this:</p>\n<pre><code>        for(int i=0; i&lt;list.size(); i++){\n            int num = list.get(i);\n            if(src == num){\n                ind = i;\n                System.out.println(src + &quot; is at index &quot; + ind);\n            }\n        }\n</code></pre>\n<p>Let me know if anything else was wrong.</p>\n"}],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75389201,"answer_count":1,"score":0,"last_activity_date":1675877474,"creation_date":1675874558,"question_id":75388979,"body_markdown":"I need to have a program that asks the user for a number, and reports that number&#39;s index in the list. If the number is not found, the program should not print anything.\r\n\r\n**Example:**\r\n\r\n    Sample Output:\r\n    1\r\n    2\r\n    3\r\n    3\r\n    4\r\n    Search for? 3\r\n    3 is at index 2\r\n    3 is at index 3\r\n\r\nThis is what I have written but the put is looping multiple times. Can you suggest fixing it?\r\n\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class IndexOf {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        while (true) {\r\n            int input = Integer.valueOf(scanner.nextLine());\r\n            if (input == -1) {\r\n                break;\r\n            }\r\n\r\n            list.add(input);\r\n        }\r\n\r\n        System.out.println(&quot;Search for? &quot;);\r\n        int src = scanner.nextInt();\r\n        int ind = 0;\r\n\r\n        for(int i=0; i&lt;list.size(); i++){\r\n            int num = list.get(i);\r\n            if(src == num){\r\n                ind = list.indexOf(src);\r\n            }\r\n            System.out.println(src + &quot; is at index &quot; + ind);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nEDIT\r\n\r\n &gt; Input: 1 2 3 3 4 -1 \r\n &gt;\r\n &gt; Search for? 3 Output: 3 is at index 0 3 is at index 0 3 is at index 2 3 is at index 2 3 is at index 2 ///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index.","title":"Index of number(s) in list in JAVA","body":"<p>I need to have a program that asks the user for a number, and reports that number's index in the list. If the number is not found, the program should not print anything.</p>\n<p><strong>Example:</strong></p>\n<pre><code>Sample Output:\n1\n2\n3\n3\n4\nSearch for? 3\n3 is at index 2\n3 is at index 3\n</code></pre>\n<p>This is what I have written but the put is looping multiple times. Can you suggest fixing it?</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class IndexOf {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        while (true) {\n            int input = Integer.valueOf(scanner.nextLine());\n            if (input == -1) {\n                break;\n            }\n\n            list.add(input);\n        }\n\n        System.out.println(&quot;Search for? &quot;);\n        int src = scanner.nextInt();\n        int ind = 0;\n\n        for(int i=0; i&lt;list.size(); i++){\n            int num = list.get(i);\n            if(src == num){\n                ind = list.indexOf(src);\n            }\n            System.out.println(src + &quot; is at index &quot; + ind);\n        }\n\n    }\n}\n\n</code></pre>\n<p>EDIT</p>\n<blockquote>\n<p>Input: 1 2 3 3 4 -1</p>\n<p>Search for? 3 Output: 3 is at index 0 3 is at index 0 3 is at index 2 3 is at index 2 3 is at index 2 ///So it must be only one sentence for each index. Even if I put after &quot;for&quot; loop, it only output the first if index.</p>\n</blockquote>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1675876444,"post_id":75388355,"comment_id":133023773,"body_markdown":"What relevant extensions do you have enabled?","body":"What relevant extensions do you have enabled?"}],"answers":[{"tags":[],"owner":{"account_id":10844586,"reputation":876,"user_id":7974603,"accept_rate":80,"display_name":"Amer Bearat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675876687,"creation_date":1675875289,"answer_id":75389138,"question_id":75388355,"body_markdown":"Salesforce Documenter VScode extension was causing the comments.\r\nhttps://marketplace.visualstudio.com/items?itemName=HugoOM.sfdx-autoheader\r\n\r\nfixed by disabling SFDoc.EnableForApex extension settings","title":"how to stop auto generate class comments vscode","body":"<p>Salesforce Documenter VScode extension was causing the comments.\n<a href=\"https://marketplace.visualstudio.com/items?itemName=HugoOM.sfdx-autoheader\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=HugoOM.sfdx-autoheader</a></p>\n<p>fixed by disabling SFDoc.EnableForApex extension settings</p>\n"}],"owner":{"account_id":10844586,"reputation":876,"user_id":7974603,"accept_rate":80,"display_name":"Amer Bearat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75389138,"answer_count":1,"score":-1,"last_activity_date":1675876687,"creation_date":1675871562,"question_id":75388355,"body_markdown":"I remember there was a setting in VScode to stop these comments from generating.\r\n```\r\n/**\r\n * @description       : \r\n * @author            : username\r\n * @group             : \r\n * @last modified on  : 02-08-2023\r\n * @last modified by  : username\r\n**/\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nI tired to diable Current Line Blame but it did not work for me.\r\n\r\n  [1]: https://i.stack.imgur.com/1tzEg.png","title":"how to stop auto generate class comments vscode","body":"<p>I remember there was a setting in VScode to stop these comments from generating.</p>\n<pre><code>/**\n * @description       : \n * @author            : username\n * @group             : \n * @last modified on  : 02-08-2023\n * @last modified by  : username\n**/\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1tzEg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1tzEg.png\" alt=\"enter image description here\" /></a></p>\n<p>I tired to diable Current Line Blame but it did not work for me.</p>\n"},{"tags":["java","unicode","unicode-normalization"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675784764,"post_id":75375202,"comment_id":133001134,"body_markdown":"So you want the character ``? Your Question is not clear; I suggest editing for clarity.","body":"So you want the character <code></code>? Your Question is not clear; I suggest editing for clarity."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1675785123,"post_id":75375202,"comment_id":133001289,"body_markdown":"JavaFX seems irrelevant here. If so, delete mentions and tag.  If not, explain.","body":"JavaFX seems irrelevant here. If so, delete mentions and tag.  If not, explain."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675790194,"post_id":75375202,"comment_id":133002993,"body_markdown":"Please see the answers to question [Creating Unicode character from its number](https://stackoverflow.com/q/5585919/2985643). Do none of the answers there offer a solution to your problem?","body":"Please see the answers to question <a href=\"https://stackoverflow.com/q/5585919/2985643\">Creating Unicode character from its number</a>. Do none of the answers there offer a solution to your problem?"},{"owner":{"account_id":27726521,"reputation":1,"user_id":21165947,"display_name":"Marco Defina"},"score":0,"creation_date":1675876773,"post_id":75375202,"comment_id":133023884,"body_markdown":"Thank you @skomisa. I didn’t find that answer!","body":"Thank you @skomisa. I didn’t find that answer!"}],"answers":[{"tags":[],"owner":{"account_id":27726521,"reputation":1,"user_id":21165947,"display_name":"Marco Defina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675784304,"creation_date":1675782723,"answer_id":75375309,"question_id":75375202,"body_markdown":"I posted the question after a lot of trying and searching.\r\nShortly after posting I found a more trivial solution than I expected:\r\n\r\nThe converted string is:\r\n\r\n    String converted = String.valueOf((char) Integer.parseInt(unicodeString,16));\r\n\r\nwhere &quot;unicodeString&quot; is the string I read from the file.","title":"JavaFX string to unicode entity conversion","body":"<p>I posted the question after a lot of trying and searching.\nShortly after posting I found a more trivial solution than I expected:</p>\n<p>The converted string is:</p>\n<pre><code>String converted = String.valueOf((char) Integer.parseInt(unicodeString,16));\n</code></pre>\n<p>where &quot;unicodeString&quot; is the string I read from the file.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675784255,"creation_date":1675783198,"answer_id":75375418,"question_id":75375202,"body_markdown":"# tl;dr\r\n\r\n    Character.toString( Integer.parseInt( &quot;e13a&quot; , 16 ) ) \r\n\r\nSee this code run [at Ideone.com][1]. \r\n\r\n&gt;\r\n\r\n# Code point\r\n\r\nParse your input string as a [hexadecimal][2] number, base 16. Convert to a decimal number, base 10. \r\n\r\nThat number represents a [code point][3], the number permanently assigned to each of the over 144,000 characters defined in Unicode. Code points range from zero to just over one million, with most of that range unassigned. \r\n\r\n    String input = &quot;e13a&quot; ; \r\n    int codePoint = Integer.parseInt( input , 16 ) ;\r\n\r\nInstantiate a `String` object whose content is the character identified by that code point. \r\n\r\n    String output = Character.toString( codePoint ) ;\r\n\r\n&gt; \r\n\r\n# Avoid `char`\r\n\r\nThe `char` type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, `char` is physically incapable of representing most characters. \r\n\r\nTo work with individual characters, use code point integers as seen above. \r\n\r\n\r\n  [1]: https://ideone.com/Fu7Jfl\r\n  [2]: https://en.m.wikipedia.org/wiki/Hexadecimal\r\n  [3]: https://en.m.wikipedia.org/wiki/Code_point","title":"JavaFX string to unicode entity conversion","body":"<h1>tl;dr</h1>\n<pre><code>Character.toString( Integer.parseInt( &quot;e13a&quot; , 16 ) ) \n</code></pre>\n<p>See this code run <a href=\"https://ideone.com/Fu7Jfl\" rel=\"nofollow noreferrer\">at Ideone.com</a>.</p>\n<blockquote>\n<p></p>\n</blockquote>\n<h1>Code point</h1>\n<p>Parse your input string as a <a href=\"https://en.m.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">hexadecimal</a> number, base 16. Convert to a decimal number, base 10.</p>\n<p>That number represents a <a href=\"https://en.m.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a>, the number permanently assigned to each of the over 144,000 characters defined in Unicode. Code points range from zero to just over one million, with most of that range unassigned.</p>\n<pre><code>String input = &quot;e13a&quot; ; \nint codePoint = Integer.parseInt( input , 16 ) ;\n</code></pre>\n<p>Instantiate a <code>String</code> object whose content is the character identified by that code point.</p>\n<pre><code>String output = Character.toString( codePoint ) ;\n</code></pre>\n<blockquote>\n<p></p>\n</blockquote>\n<h1>Avoid <code>char</code></h1>\n<p>The <code>char</code> type has been essentially broken since Java 2, and legacy since Java 5. As a 16-bit value, <code>char</code> is physically incapable of representing most characters.</p>\n<p>To work with individual characters, use code point integers as seen above.</p>\n"}],"owner":{"account_id":27726521,"reputation":1,"user_id":21165947,"display_name":"Marco Defina"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675794062,"answer_count":2,"score":0,"last_activity_date":1675876576,"creation_date":1675782214,"question_id":75375202,"body_markdown":"I have to read a string from a file and display the corresponding unicode representation in a Text field on my application.\r\n\r\nFor example I read the string &quot;e13a&quot; from the file and i&#39;d like to display the corresponding &quot;\\ue13a&quot; character in the Text field.\r\n\r\nIs there a way to obtain the desired behaviour?\r\n\r\nI already tried escaping the string directly in the file but I always obtain the raw string instead of the unicode representation","title":"JavaFX string to unicode entity conversion","body":"<p>I have to read a string from a file and display the corresponding unicode representation in a Text field on my application.</p>\n<p>For example I read the string &quot;e13a&quot; from the file and i'd like to display the corresponding &quot;\\ue13a&quot; character in the Text field.</p>\n<p>Is there a way to obtain the desired behaviour?</p>\n<p>I already tried escaping the string directly in the file but I always obtain the raw string instead of the unicode representation</p>\n"},{"tags":["java","maven","antlr","antlr4"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675872163,"creation_date":1675872163,"answer_id":75388503,"question_id":75386589,"body_markdown":"&gt; Is there any way that can set the path separately?\r\n\r\nNo.\r\n\r\nBut you can remove the `.tokens` file: it is not needed at runtime for your generated parser classes.","title":"How to specify separately the path of the java file and the tokens file generated by Antlr?","body":"<blockquote>\n<p>Is there any way that can set the path separately?</p>\n</blockquote>\n<p>No.</p>\n<p>But you can remove the <code>.tokens</code> file: it is not needed at runtime for your generated parser classes.</p>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675876404,"creation_date":1675876404,"answer_id":75389371,"question_id":75386589,"body_markdown":"A configuration for antlr4 is usually very simple like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;antlr4&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;visitor&gt;true&lt;/visitor&gt;\r\n              &lt;listener&gt;false&lt;/listener&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nThis assumes you have your grammar file in `src/main/antlr4/&lt;package&gt;/test.g4` (default location). There is no need to configure such things etc. because by conventions the generated class will be available in `target/generated-sources/antlr4/`. Exactly in this directory you will find the `*.tokens` files. The imports directory is defined by default as `src/main/antl4/imports`. The default configuration for the [antlr4-maven-plugin][1] defines some very useful defaults and it is strongly recommended to follow those conventions.\r\n\r\nI strongly recommmend **NOT** to configure the `&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;` because that will generate code in your `src/` directory tree which can cause issues with your versions control system.\r\n\r\nBTW: Binding the code generation to the phase `compile` is very bad because the code generation should be done before the compile phase. The `generate-sources` phase is exactly intended for such cases. This phase is used by default by the antlr4-maven-plugin. \r\n\r\n  [1]: https://www.antlr.org/api/maven-plugin/latest/antlr4-mojo.html","title":"How to specify separately the path of the java file and the tokens file generated by Antlr?","body":"<p>A configuration for antlr4 is usually very simple like this:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n    &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;antlr4&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;visitor&gt;true&lt;/visitor&gt;\n          &lt;listener&gt;false&lt;/listener&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>This assumes you have your grammar file in <code>src/main/antlr4/&lt;package&gt;/test.g4</code> (default location). There is no need to configure such things etc. because by conventions the generated class will be available in <code>target/generated-sources/antlr4/</code>. Exactly in this directory you will find the <code>*.tokens</code> files. The imports directory is defined by default as <code>src/main/antl4/imports</code>. The default configuration for the <a href=\"https://www.antlr.org/api/maven-plugin/latest/antlr4-mojo.html\" rel=\"nofollow noreferrer\">antlr4-maven-plugin</a> defines some very useful defaults and it is strongly recommended to follow those conventions.</p>\n<p>I strongly recommmend <strong>NOT</strong> to configure the <code>&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;</code> because that will generate code in your <code>src/</code> directory tree which can cause issues with your versions control system.</p>\n<p>BTW: Binding the code generation to the phase <code>compile</code> is very bad because the code generation should be done before the compile phase. The <code>generate-sources</code> phase is exactly intended for such cases. This phase is used by default by the antlr4-maven-plugin.</p>\n"}],"owner":{"account_id":23326337,"reputation":5,"user_id":17403463,"display_name":"Trance233"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75389371,"answer_count":2,"score":0,"last_activity_date":1675876404,"creation_date":1675863390,"question_id":75386589,"body_markdown":"I\\`m attempting to use antlr4 in my project to parse files in custom format. But when I use antlr4 maven plugin, I cannot find a parameter to set separately the path of tokens file and java file, as it can only set a common path.\r\n\r\nHere\\`s the configuration of antlr4 maven plugin:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.11.1&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;antlr&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;antlr4&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;libDirectory&gt;src/main/antlr4/imports&lt;/libDirectory&gt;\r\n\t\t&lt;sourceDirectory&gt;src/main/antlr4&lt;/sourceDirectory&gt;\r\n\t\t&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n\t\t&lt;listener&gt;true&lt;/listener&gt;\r\n\t\t&lt;visitor&gt;true&lt;/visitor&gt;\r\n\t\t&lt;treatWarningsAsErrors&gt;true&lt;/treatWarningsAsErrors&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe grammar file `test.g4` is in \\&lt;sourceDirectory\\&gt;/relativePath(`src/main/antlr4/org/trance233/antlr/`).\r\n\r\nThe `.tokens` file is in \\&lt;outputDirectory\\&gt;(`src/main/java/`), the `.java` file is in \\&lt;sourceDirectory\\&gt;/relativePath(`src/main/java/org/trance233/antlr/`).\r\n\r\nIs there any way that can set the path separately? Such as the `.tokens` file above is put in `src/main/resources`, and the `.java` file is put in `src/main/java/org/trance233/antlr/`.","title":"How to specify separately the path of the java file and the tokens file generated by Antlr?","body":"<p>I`m attempting to use antlr4 in my project to parse files in custom format. But when I use antlr4 maven plugin, I cannot find a parameter to set separately the path of tokens file and java file, as it can only set a common path.</p>\n<p>Here`s the configuration of antlr4 maven plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n    &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.11.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;antlr&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;antlr4&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n\n    &lt;configuration&gt;\n        &lt;libDirectory&gt;src/main/antlr4/imports&lt;/libDirectory&gt;\n        &lt;sourceDirectory&gt;src/main/antlr4&lt;/sourceDirectory&gt;\n        &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n        &lt;listener&gt;true&lt;/listener&gt;\n        &lt;visitor&gt;true&lt;/visitor&gt;\n        &lt;treatWarningsAsErrors&gt;true&lt;/treatWarningsAsErrors&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The grammar file <code>test.g4</code> is in &lt;sourceDirectory&gt;/relativePath(<code>src/main/antlr4/org/trance233/antlr/</code>).</p>\n<p>The <code>.tokens</code> file is in &lt;outputDirectory&gt;(<code>src/main/java/</code>), the <code>.java</code> file is in &lt;sourceDirectory&gt;/relativePath(<code>src/main/java/org/trance233/antlr/</code>).</p>\n<p>Is there any way that can set the path separately? Such as the <code>.tokens</code> file above is put in <code>src/main/resources</code>, and the <code>.java</code> file is put in <code>src/main/java/org/trance233/antlr/</code>.</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":14979873,"reputation":77,"user_id":10814129,"display_name":"Siddeshwar Raghavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675875922,"creation_date":1675875922,"question_id":75389257,"body_markdown":"I am very new to developing apps, and I have an android application with zxing-android-embedded 4.3.0 and implemented a QR code scanner. I wish to add a back button in the scanning layout and if I add elements, it disappears when executing the code. \r\n\r\nPart of the QR code scanner (as IntentIntegrator is deprecated now)\r\n```\r\nscanQRCodeButton.setOnClickListener(view -&gt; {\r\n            if (requestNecessaryPermissions()) {\r\n                enableEditTexts(editTexts);\r\n                ScanOptions options = new ScanOptions();\r\n                options.setDesiredBarcodeFormats(ScanOptions.QR_CODE);\r\n                options.setPrompt(&quot;Scan ID&quot;);\r\n                options.setTimeout(10000);\r\n                options.setCameraId(0);  // Use a specific camera of the device\r\n                options.setBeepEnabled(false);\r\n                options.setBarcodeImageEnabled(true);\r\n                options.setOrientationLocked(true);\r\n                barcodeLauncher.launch(options);\r\n            }\r\n        });\r\n```\r\npart of the XML file\r\n```\r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/scan_qr_code_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:src=&quot;@drawable/ic_baseline_qr_code_scanner_24&quot; /&gt;\r\n```\r\nOnce this QR/scan button is hit, the zxing scanner is opened to scan the code. How do I add a floating button in the scanning page to get back to the main window? ","title":"back/ cancel button in ZXing QR code scanner","body":"<p>I am very new to developing apps, and I have an android application with zxing-android-embedded 4.3.0 and implemented a QR code scanner. I wish to add a back button in the scanning layout and if I add elements, it disappears when executing the code.</p>\n<p>Part of the QR code scanner (as IntentIntegrator is deprecated now)</p>\n<pre><code>scanQRCodeButton.setOnClickListener(view -&gt; {\n            if (requestNecessaryPermissions()) {\n                enableEditTexts(editTexts);\n                ScanOptions options = new ScanOptions();\n                options.setDesiredBarcodeFormats(ScanOptions.QR_CODE);\n                options.setPrompt(&quot;Scan ID&quot;);\n                options.setTimeout(10000);\n                options.setCameraId(0);  // Use a specific camera of the device\n                options.setBeepEnabled(false);\n                options.setBarcodeImageEnabled(true);\n                options.setOrientationLocked(true);\n                barcodeLauncher.launch(options);\n            }\n        });\n</code></pre>\n<p>part of the XML file</p>\n<pre><code>        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/scan_qr_code_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:src=&quot;@drawable/ic_baseline_qr_code_scanner_24&quot; /&gt;\n</code></pre>\n<p>Once this QR/scan button is hit, the zxing scanner is opened to scan the code. How do I add a floating button in the scanning page to get back to the main window?</p>\n"},{"tags":["java","binary-search-tree"],"owner":{"account_id":9298479,"reputation":11,"user_id":6904730,"display_name":"kasparov123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675875902,"creation_date":1475239608,"question_id":39791875,"body_markdown":"So I have written an implementation of a BST in Java. My goal is to make it balanced aswell, more precisly an AVL tree. I am having some problem though, I don&#39;t know how to implement the trinodeRestructering method(ie the method that balances the tree) I have tried various things but these pointers are sometimes difficult to deal with and I am not sure how to do this recursivly. Down below is my code for adding a new element and the method to check if we are more than 2 steps difference in the tree.\r\n\r\nadd and balancing method:\r\n\r\n   \tprivate TreeNode insert(TreeNode currN, TreeNode newN) {\r\n\t\tif (currN == null) {\r\n\t\t\treturn newN;\r\n\t\t}\r\n\r\n\t\tif (currN.getData() == newN.getData()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Value already exists.&quot;);\r\n\t\t}\r\n\r\n\t\tif (newN.getData() &lt; currN.getData()) {\r\n\t\t\tif (currN.getLeft() == null) {\r\n\t\t\t\tcurrN.setLeft(newN);\r\n\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tinsert(currN.getLeft(), newN);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (currN.getRight() == null) {\r\n\t\t\t\tcurrN.setRight(newN);\r\n\t\r\n\t\t\t} else {\r\n\t\t\t\tinsert(currN.getRight(), newN);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t  if (needBalancing()) {\r\n\t\t\t  trinodeRestructering(currN);\r\n          }           \r\n\t\r\n\t\treturn currN;\r\n\t}\r\n\r\n\tprivate TreeNode trinodeRestructering(TreeNode currN) {\r\n\t//Not sure what to do here.\r\n\t\treturn currN;\r\n\t}\r\n\r\nheight checking method.\r\n\r\n    \tpublic boolean needBalancing(){\r\n\t\tif(height(root) == -1){ // true if we need to balance\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate int height(TreeNode node){\r\n\t\tif (node == null)\r\n\t\t\treturn 0;\r\n\t\tint left = height(node.getLeft());\r\n\t\tint right = height(node.getRight());\r\n \r\n\t\tif (left == -1 || right == -1)\r\n\t\t\treturn -1;\r\n \r\n\t\tif (Math.abs(left - right) &gt; 1) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n \r\n\t\treturn Math.max(left, right) + 1;\r\n\t}\r\n\t\r\nI might add that I got an working inOrder method, perhaps I could use it to balance my tree?","title":"How do I write my method for balancing my BST?","body":"<p>So I have written an implementation of a BST in Java. My goal is to make it balanced aswell, more precisly an AVL tree. I am having some problem though, I don't know how to implement the trinodeRestructering method(ie the method that balances the tree) I have tried various things but these pointers are sometimes difficult to deal with and I am not sure how to do this recursivly. Down below is my code for adding a new element and the method to check if we are more than 2 steps difference in the tree.</p>\n\n<p>add and balancing method:</p>\n\n<pre><code>private TreeNode insert(TreeNode currN, TreeNode newN) {\n    if (currN == null) {\n        return newN;\n    }\n\n    if (currN.getData() == newN.getData()) {\n        throw new IllegalArgumentException(\"Value already exists.\");\n    }\n\n    if (newN.getData() &lt; currN.getData()) {\n        if (currN.getLeft() == null) {\n            currN.setLeft(newN);\n\n        } else {\n            insert(currN.getLeft(), newN);\n        }\n    } else {\n        if (currN.getRight() == null) {\n            currN.setRight(newN);\n\n        } else {\n            insert(currN.getRight(), newN);\n        }\n    }\n\n      if (needBalancing()) {\n          trinodeRestructering(currN);\n      }           \n\n    return currN;\n}\n\nprivate TreeNode trinodeRestructering(TreeNode currN) {\n//Not sure what to do here.\n    return currN;\n}\n</code></pre>\n\n<p>height checking method.</p>\n\n<pre><code>    public boolean needBalancing(){\n    if(height(root) == -1){ // true if we need to balance\n        return true;\n    }else{\n        return false;\n    }\n}\n\nprivate int height(TreeNode node){\n    if (node == null)\n        return 0;\n    int left = height(node.getLeft());\n    int right = height(node.getRight());\n\n    if (left == -1 || right == -1)\n        return -1;\n\n    if (Math.abs(left - right) &gt; 1) {\n        return -1;\n    }\n\n    return Math.max(left, right) + 1;\n}\n</code></pre>\n\n<p>I might add that I got an working inOrder method, perhaps I could use it to balance my tree?</p>\n"},{"tags":["java","android","firebase-analytics"],"comments":[{"owner":{"account_id":4976707,"reputation":1202,"user_id":4002813,"display_name":"Namrata Bagerwal"},"score":0,"creation_date":1690283403,"post_id":75389251,"comment_id":135328672,"body_markdown":"Hi, were you able to resolve this?","body":"Hi, were you able to resolve this?"},{"owner":{"account_id":7797491,"reputation":33,"user_id":5898084,"display_name":"Marius Mazeill&#233;"},"score":0,"creation_date":1690374645,"post_id":75389251,"comment_id":135344155,"body_markdown":"@NamrataBagerwal Hi, unfortunately no, I ran out of ideas to try to debug this ...","body":"@NamrataBagerwal Hi, unfortunately no, I ran out of ideas to try to debug this ..."}],"owner":{"account_id":7797491,"reputation":33,"user_id":5898084,"display_name":"Marius Mazeill&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675875893,"creation_date":1675875893,"question_id":75389251,"body_markdown":"I&#39;ve setup a fonction to log screen envents from my android app.\r\n\r\n```\r\nFirebaseAnalytics mFirebaseAnalytics = FirebaseAnalytics.getInstance(activity);\r\n\r\nBundle bundle = new Bundle();\r\n\r\nif (screenName.length() &gt; 36) {\r\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName.substring(0, 36));\r\n} else {\r\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\r\n}\r\n\r\nbundle.putString(FirebaseAnalytics.Param.SCREEN_CLASS, activity.getClass().getSimpleName());\r\nmFirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SCREEN_VIEW, bundle);\r\n```\r\n\r\nHowever, depending on the class loging the event, the screen name is not event part of the event sent to Google.\r\n\r\nHere&#39;s the event loged when working :\r\n`Logging event: origin=app,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=app, engagement_time_msec(_et)=15735, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182561, ga_screen_class(_sc)=SlideMenu, ga_screen_id(_si)=1601424672890182562, ga_screen(_sn)=Recommandations}]\r\n`\r\n\r\nAnd when not working :\r\n`Logging event: origin=auto,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=auto, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182562, ga_previous_screen(_pn)=Recommandations, ga_screen_class(_sc)=AffichageContent, ga_screen_id(_si)=1601424672890182563}]\r\n`\r\n\r\nAs you can see in the 2d line, the `ga_screen(_sn)` field is missing.\r\n\r\nFrom what I&#39;ve seen, it seems that the only class not loging the screen name is `AffichageContent` but I don&#39;t know if it&#39;s from the class itself or because this activity is started by a previous one.\r\n\r\nI&#39;ve loged the `bundle.getString(FirebaseAnalytics.Param.SCREEN_NAME)` and it&#39;s value before loging the event is the right one.\r\n\r\nThank&#39;s !","title":"Firebase Analytics screen view event not loging screen name every time","body":"<p>I've setup a fonction to log screen envents from my android app.</p>\n<pre><code>FirebaseAnalytics mFirebaseAnalytics = FirebaseAnalytics.getInstance(activity);\n\nBundle bundle = new Bundle();\n\nif (screenName.length() &gt; 36) {\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName.substring(0, 36));\n} else {\n   bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\n}\n\nbundle.putString(FirebaseAnalytics.Param.SCREEN_CLASS, activity.getClass().getSimpleName());\nmFirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SCREEN_VIEW, bundle);\n</code></pre>\n<p>However, depending on the class loging the event, the screen name is not event part of the event sent to Google.</p>\n<p>Here's the event loged when working :\n<code>Logging event: origin=app,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=app, engagement_time_msec(_et)=15735, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182561, ga_screen_class(_sc)=SlideMenu, ga_screen_id(_si)=1601424672890182562, ga_screen(_sn)=Recommandations}] </code></p>\n<p>And when not working :\n<code>Logging event: origin=auto,name=screen_view(_vs),params=Bundle[{ga_event_origin(_o)=auto, ga_previous_class(_pc)=SlideMenu, ga_previous_id(_pi)=1601424672890182562, ga_previous_screen(_pn)=Recommandations, ga_screen_class(_sc)=AffichageContent, ga_screen_id(_si)=1601424672890182563}] </code></p>\n<p>As you can see in the 2d line, the <code>ga_screen(_sn)</code> field is missing.</p>\n<p>From what I've seen, it seems that the only class not loging the screen name is <code>AffichageContent</code> but I don't know if it's from the class itself or because this activity is started by a previous one.</p>\n<p>I've loged the <code>bundle.getString(FirebaseAnalytics.Param.SCREEN_NAME)</code> and it's value before loging the event is the right one.</p>\n<p>Thank's !</p>\n"},{"tags":["java","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":8372434,"reputation":466,"user_id":6287102,"accept_rate":90,"display_name":"Paul Hashmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675875805,"creation_date":1675875805,"answer_id":75389229,"question_id":75388986,"body_markdown":"I figured out what was wrong. I was using the character to bold the default text on a custom font. removed the character and all is good. \r\n\r\nThe character in question is &quot;&#167;l&quot;. Hope this helps someone at some point.\r\n\r\nRevised Code: \r\n\r\n    @Override\r\n    public void onHudRender(MatrixStack matrixStack, float tickDelta) {\r\n\r\n\r\n        RenderSystem.setShaderColor(1.0f, 1.0f, 1.0f, 1.0f);\r\n\r\n        matrixStack.push();\r\n        matrixStack.scale(5.0f, 5.0f, 5.0f);\r\n\r\n        assert CLIENT.player != null;\r\n        TextRenderer textRenderer = generateTextRenderer();\r\n        \r\n        //Revised this line to remove special character.\r\n        textRenderer.draw(matrixStack, Text.literal(CLIENT.player.getName().getString()).asOrderedText(), 32,12,0xffffff);\r\n        if(CLIENT.player.isDead()){\r\n            \r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xff0000);\r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0x770000);\r\n\r\n            RenderSystem.setShaderTexture(0, DIED);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\r\n\r\n        } else {\r\n\r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xffffff);\r\n            //Revised this line to remove special character.\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0xffff00);\r\n\r\n            RenderSystem.setShaderTexture(0, ALIVE);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\r\n\r\n        }\r\n\r\n        matrixStack.pop();\r\n    }\r\n\r\n","title":"FabricMC - Ghosting occuring when trying to render text to screen","body":"<p>I figured out what was wrong. I was using the character to bold the default text on a custom font. removed the character and all is good.</p>\n<p>The character in question is &quot;§l&quot;. Hope this helps someone at some point.</p>\n<p>Revised Code:</p>\n<pre><code>@Override\npublic void onHudRender(MatrixStack matrixStack, float tickDelta) {\n\n\n    RenderSystem.setShaderColor(1.0f, 1.0f, 1.0f, 1.0f);\n\n    matrixStack.push();\n    matrixStack.scale(5.0f, 5.0f, 5.0f);\n\n    assert CLIENT.player != null;\n    TextRenderer textRenderer = generateTextRenderer();\n    \n    //Revised this line to remove special character.\n    textRenderer.draw(matrixStack, Text.literal(CLIENT.player.getName().getString()).asOrderedText(), 32,12,0xffffff);\n    if(CLIENT.player.isDead()){\n        \n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xff0000);\n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0x770000);\n\n        RenderSystem.setShaderTexture(0, DIED);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\n\n    } else {\n\n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;Day: &quot;), 32,22,0xffffff);\n        //Revised this line to remove special character.\n        textRenderer.draw(matrixStack, Text.literal(&quot;&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58,22,0xffff00);\n\n        RenderSystem.setShaderTexture(0, ALIVE);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20 ,20);\n\n    }\n\n    matrixStack.pop();\n}\n</code></pre>\n"}],"owner":{"account_id":8372434,"reputation":466,"user_id":6287102,"accept_rate":90,"display_name":"Paul Hashmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875805,"creation_date":1675874596,"question_id":75388986,"body_markdown":"pretty new to fabric, im having some trouble with ghost lettering when I am rendering text the the screen.\r\n\r\nIt works with the default text renderer fine. However I would like to use a custom font, it renders but seems to ghost the lettering\r\n\r\nHere is where I am: (Sorry for the lack of comments)\r\n\r\n    package turdz.daycounter.client;\r\n \r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonObject;\r\n    import com.mojang.blaze3d.systems.RenderSystem;\r\n    import net.fabricmc.fabric.api.client.rendering.v1.HudRenderCallback;\r\n    import net.minecraft.client.MinecraftClient;\r\n    import net.minecraft.client.font.Font;\r\n    import net.minecraft.client.font.FontStorage;\r\n    import net.minecraft.client.font.FontType;\r\n    import net.minecraft.client.font.TextRenderer;\r\n    import net.minecraft.client.gui.DrawableHelper;\r\n    import net.minecraft.client.util.math.MatrixStack;\r\n    import net.minecraft.text.Text;\r\n    import net.minecraft.util.Identifier;\r\n \r\n \r\n    import net.minecraft.util.JsonHelper;\r\n    import turdz.daycounter.DayCounter;\r\n \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n \r\n \r\n    public class DayOverlay implements HudRenderCallback {\r\n \r\n    private static final Identifier DIED = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/dead.png&quot;);\r\n    private static final Identifier ALIVE = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/alive.png&quot;);\r\n    private static final MinecraftClient CLIENT = MinecraftClient.getInstance();\r\n \r\n \r\n    @Override\r\n    public void onHudRender(MatrixStack matrixStack, float tickDelta) {\r\n \r\n        RenderSystem.setShaderColor(1.0 f, 1.0 f, 1.0 f, 1.0 f);\r\n \r\n        matrixStack.push();\r\n        matrixStack.scale(5.0 f, 5.0 f, 5.0 f);\r\n \r\n        assert CLIENT.player != null;\r\n        TextRenderer textRenderer = generateTextRenderer();\r\n \r\n        textRenderer.draw(matrixStack, Text.literal(&quot;&#167;l&quot; + CLIENT.player.getName().getString()).asOrderedText(), 32, 12, 0xffffff);\r\n \r\n        if (CLIENT.player.isDead()) {\r\n \r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;lDay: &quot;), 32, 22, 0xff0000);\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0x770000);\r\n \r\n            RenderSystem.setShaderTexture(0, DIED);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\r\n \r\n        } else {\r\n \r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;lDay: &quot;), 32, 22, 0xffffff);\r\n            textRenderer.draw(matrixStack, Text.literal(&quot;&#167;l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0xffff00);\r\n \r\n            RenderSystem.setShaderTexture(0, ALIVE);\r\n            DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\r\n \r\n        }\r\n \r\n        matrixStack.pop();\r\n    }\r\n    private static TextRenderer generateTextRenderer() {\r\n \r\n        List &lt; Font &gt; list = new ArrayList &lt; &gt; ();\r\n        String json = &quot;{\\&quot;providers\\&quot;:[{\\&quot;type\\&quot;:\\&quot;ttf\\&quot;,\\&quot;file\\&quot;:\\&quot;daycounter:arial.ttf\\&quot;,\\&quot;shift\\&quot;:[0,0],\\&quot;oversample\\&quot;:5}]}&quot;;\r\n        JsonArray jsonArray = JsonHelper.getArray(JsonHelper.deserialize(new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create(), json, JsonObject.class), &quot;providers&quot;);\r\n \r\n        for (int i = jsonArray.size() - 1; i &gt;= 0; --i) {\r\n            JsonObject jsonObject = JsonHelper.asObject(jsonArray.get(i), &quot;providers[&quot; + i + &quot;]&quot;);\r\n            try {\r\n                String stringType = JsonHelper.getString(jsonObject, &quot;type&quot;);\r\n                FontType fontType = FontType.byId(stringType);\r\n                Font font = fontType.createLoader(jsonObject).load(CLIENT.getResourceManager());\r\n                if (font != null)\r\n                    list.add(font);\r\n            } catch (RuntimeException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        FontStorage storage = new FontStorage(CLIENT.getTextureManager(), new Identifier(&quot;storageidentifier&quot;));\r\n        storage.setFonts(list);\r\n        return new TextRenderer(identifier - &gt; storage, true);\r\n    }\r\n}\r\n\r\nHere is an image of what going on. I scaled it up so it can be seen easier.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V3c57.png","title":"FabricMC - Ghosting occuring when trying to render text to screen","body":"<p>pretty new to fabric, im having some trouble with ghost lettering when I am rendering text the the screen.</p>\n<p>It works with the default text renderer fine. However I would like to use a custom font, it renders but seems to ghost the lettering</p>\n<p>Here is where I am: (Sorry for the lack of comments)</p>\n<pre><code>package turdz.daycounter.client;\n\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport com.mojang.blaze3d.systems.RenderSystem;\nimport net.fabricmc.fabric.api.client.rendering.v1.HudRenderCallback;\nimport net.minecraft.client.MinecraftClient;\nimport net.minecraft.client.font.Font;\nimport net.minecraft.client.font.FontStorage;\nimport net.minecraft.client.font.FontType;\nimport net.minecraft.client.font.TextRenderer;\nimport net.minecraft.client.gui.DrawableHelper;\nimport net.minecraft.client.util.math.MatrixStack;\nimport net.minecraft.text.Text;\nimport net.minecraft.util.Identifier;\n\n\nimport net.minecraft.util.JsonHelper;\nimport turdz.daycounter.DayCounter;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class DayOverlay implements HudRenderCallback {\n\nprivate static final Identifier DIED = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/dead.png&quot;);\nprivate static final Identifier ALIVE = new Identifier(DayCounter.MOD_ID, &quot;textures/aliveicon/alive.png&quot;);\nprivate static final MinecraftClient CLIENT = MinecraftClient.getInstance();\n\n\n@Override\npublic void onHudRender(MatrixStack matrixStack, float tickDelta) {\n\n    RenderSystem.setShaderColor(1.0 f, 1.0 f, 1.0 f, 1.0 f);\n\n    matrixStack.push();\n    matrixStack.scale(5.0 f, 5.0 f, 5.0 f);\n\n    assert CLIENT.player != null;\n    TextRenderer textRenderer = generateTextRenderer();\n\n    textRenderer.draw(matrixStack, Text.literal(&quot;§l&quot; + CLIENT.player.getName().getString()).asOrderedText(), 32, 12, 0xffffff);\n\n    if (CLIENT.player.isDead()) {\n\n        textRenderer.draw(matrixStack, Text.literal(&quot;§lDay: &quot;), 32, 22, 0xff0000);\n        textRenderer.draw(matrixStack, Text.literal(&quot;§l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0x770000);\n\n        RenderSystem.setShaderTexture(0, DIED);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\n\n    } else {\n\n        textRenderer.draw(matrixStack, Text.literal(&quot;§lDay: &quot;), 32, 22, 0xffffff);\n        textRenderer.draw(matrixStack, Text.literal(&quot;§l&quot; + CLIENT.player.getWorld().getTimeOfDay() / 24000), 58, 22, 0xffff00);\n\n        RenderSystem.setShaderTexture(0, ALIVE);\n        DrawableHelper.drawTexture(matrixStack, 10, 10, 0, 0, 20, 20, 20, 20);\n\n    }\n\n    matrixStack.pop();\n}\nprivate static TextRenderer generateTextRenderer() {\n\n    List &lt; Font &gt; list = new ArrayList &lt; &gt; ();\n    String json = &quot;{\\&quot;providers\\&quot;:[{\\&quot;type\\&quot;:\\&quot;ttf\\&quot;,\\&quot;file\\&quot;:\\&quot;daycounter:arial.ttf\\&quot;,\\&quot;shift\\&quot;:[0,0],\\&quot;oversample\\&quot;:5}]}&quot;;\n    JsonArray jsonArray = JsonHelper.getArray(JsonHelper.deserialize(new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create(), json, JsonObject.class), &quot;providers&quot;);\n\n    for (int i = jsonArray.size() - 1; i &gt;= 0; --i) {\n        JsonObject jsonObject = JsonHelper.asObject(jsonArray.get(i), &quot;providers[&quot; + i + &quot;]&quot;);\n        try {\n            String stringType = JsonHelper.getString(jsonObject, &quot;type&quot;);\n            FontType fontType = FontType.byId(stringType);\n            Font font = fontType.createLoader(jsonObject).load(CLIENT.getResourceManager());\n            if (font != null)\n                list.add(font);\n        } catch (RuntimeException e) {\n            e.printStackTrace();\n        }\n    }\n    FontStorage storage = new FontStorage(CLIENT.getTextureManager(), new Identifier(&quot;storageidentifier&quot;));\n    storage.setFonts(list);\n    return new TextRenderer(identifier - &gt; storage, true);\n}\n</code></pre>\n<p>}</p>\n<p>Here is an image of what going on. I scaled it up so it can be seen easier.</p>\n<p><a href=\"https://i.stack.imgur.com/V3c57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V3c57.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","bitwise-operators"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675873236,"post_id":75388680,"comment_id":133022647,"body_markdown":"Why wouldn&#39;t you bitwise-and?","body":"Why wouldn&#39;t you bitwise-and?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1675873877,"post_id":75388680,"comment_id":133022888,"body_markdown":"Should be easy enough to code up as a small example program. What happened when you tried it?","body":"Should be easy enough to code up as a small example program. What happened when you tried it?"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675875448,"creation_date":1675875448,"answer_id":75389163,"question_id":75388680,"body_markdown":"I think the only thing that you&#39;re missing from your suggestion is that the right shift should use the _unsigned_ right shift operator, `&gt;&gt;&gt;`:\r\n\r\n    int result = (input &lt;&lt; n) &gt;&gt;&gt; n;\r\n","title":"Drop bits by shifting left and right in Java","body":"<p>I think the only thing that you're missing from your suggestion is that the right shift should use the <em>unsigned</em> right shift operator, <code>&gt;&gt;&gt;</code>:</p>\n<pre><code>int result = (input &lt;&lt; n) &gt;&gt;&gt; n;\n</code></pre>\n"}],"owner":{"account_id":27300862,"reputation":9,"user_id":20817673,"display_name":"Pytho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875448,"creation_date":1675873024,"question_id":75388680,"body_markdown":"Is it possible to &quot;drop&quot; a couple of most significant bits of a byte number by executing shifting operations in Java?\r\n\r\nThe idea looks like this:\r\n\r\n    1010 1111 -&gt; (&lt;&lt;2) -&gt; 1011 1100 -&gt; (&gt;&gt;2) -&gt; 0010 1111 =&gt; 2 bits were dropped.","title":"Drop bits by shifting left and right in Java","body":"<p>Is it possible to &quot;drop&quot; a couple of most significant bits of a byte number by executing shifting operations in Java?</p>\n<p>The idea looks like this:</p>\n<pre><code>1010 1111 -&gt; (&lt;&lt;2) -&gt; 1011 1100 -&gt; (&gt;&gt;2) -&gt; 0010 1111 =&gt; 2 bits were dropped.\n</code></pre>\n"},{"tags":["java","exception","byteman"],"answers":[{"tags":[],"owner":{"account_id":17799112,"reputation":131,"user_id":12926342,"display_name":"Byteman Project"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675875150,"creation_date":1675875150,"answer_id":75389113,"question_id":73303763,"body_markdown":"Firstly, your rule is malformed. Try this:\r\n\r\n  RULE trace main entry\r\n  CLASS StringCheck\r\n  METHOD main\r\n  AT ENTRY\r\n  IF true\r\n  DO traceln(&quot;Byteman detected you are entering main&quot;);\r\n     throw new NullPointerException(&quot;test&quot;)\r\n  ENDRULE\r\n\r\nSecondly, when you are developing some new rules try enabling verbose output from the Byteman agents so that you are notified when rules fail to parse or inject. You can do that by adding the following setting to the java command line\r\n\r\n  -Dorg.jboss.byteman.verbose\r\n\r\nThirdly, before running your program with the Byteman agent you should really check your rules using the the bmcheck script provided in the bin subdirectory of your Byteman download.\r\n","title":"How to throw exception using Byteman Script , in a method?","body":"<p>Firstly, your rule is malformed. Try this:</p>\n<p>RULE trace main entry\nCLASS StringCheck\nMETHOD main\nAT ENTRY\nIF true\nDO traceln(&quot;Byteman detected you are entering main&quot;);\nthrow new NullPointerException(&quot;test&quot;)\nENDRULE</p>\n<p>Secondly, when you are developing some new rules try enabling verbose output from the Byteman agents so that you are notified when rules fail to parse or inject. You can do that by adding the following setting to the java command line</p>\n<p>-Dorg.jboss.byteman.verbose</p>\n<p>Thirdly, before running your program with the Byteman agent you should really check your rules using the the bmcheck script provided in the bin subdirectory of your Byteman download.</p>\n"}],"owner":{"account_id":192966,"reputation":5703,"user_id":434408,"accept_rate":51,"display_name":"a3.14_Infinity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875150,"creation_date":1660123311,"question_id":73303763,"body_markdown":"I have tried following script , but I do not see NullPointerException in the logs.\r\n\r\n    RULE trace main entry\r\n    CLASS StringCheck\r\n    METHOD main\r\n    AT ENTRY\r\n    IF true\r\n    DO traceln(&quot;Byteman detected you are entering main&quot;)\r\n    DO throw new NullPointerException(&quot;test&quot;)\r\n    ENDRULE","title":"How to throw exception using Byteman Script , in a method?","body":"<p>I have tried following script , but I do not see NullPointerException in the logs.</p>\n<pre><code>RULE trace main entry\nCLASS StringCheck\nMETHOD main\nAT ENTRY\nIF true\nDO traceln(&quot;Byteman detected you are entering main&quot;)\nDO throw new NullPointerException(&quot;test&quot;)\nENDRULE\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3983106,"reputation":313,"user_id":3284549,"accept_rate":100,"display_name":"user3284549"},"score":0,"creation_date":1453054351,"post_id":34841708,"comment_id":57424336,"body_markdown":"Why do you need to loop it for the years? Why not calculate it right away using Math.pow? Do you need to show the balance for every single year up to and including the value of years ?","body":"Why do you need to loop it for the years? Why not calculate it right away using Math.pow? Do you need to show the balance for every single year up to and including the value of years ?"},{"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"score":0,"creation_date":1453054659,"post_id":34841708,"comment_id":57424445,"body_markdown":"umm that&#39;s what I was told to do and nope, not every single year has to be shown, just the balance for the entered year. How would you do it with Math.pow?","body":"umm that&#39;s what I was told to do and nope, not every single year has to be shown, just the balance for the entered year. How would you do it with Math.pow?"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1453054699,"post_id":34841708,"comment_id":57424462,"body_markdown":"This sort of sounds like a beginning Java class, so I assume they want you to use `while` instead of `for` loop. Create a `counter=1` variable and a `while` loop that increments the counter each iteration and stops when `counter==years`. Then of course add `rate * balance` to `balance` each time","body":"This sort of sounds like a beginning Java class, so I assume they want you to use <code>while</code> instead of <code>for</code> loop. Create a <code>counter=1</code> variable and a <code>while</code> loop that increments the counter each iteration and stops when <code>counter==years</code>. Then of course add <code>rate * balance</code> to <code>balance</code> each time"},{"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"score":0,"creation_date":1453054786,"post_id":34841708,"comment_id":57424495,"body_markdown":"yeah I just started doing Java and how would that look on the code? Structure wise? Thank you for that :).","body":"yeah I just started doing Java and how would that look on the code? Structure wise? Thank you for that :)."}],"answers":[{"tags":[],"owner":{"account_id":3983106,"reputation":313,"user_id":3284549,"accept_rate":100,"display_name":"user3284549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453055951,"creation_date":1453055678,"answer_id":34842070,"question_id":34841708,"body_markdown":"There&#39;s no good reason to use a loop in this case, but I guess it&#39;s for learning purposes.\r\nYou can make a loop that calculates the new balance a year at a time like this:\r\n\r\n    for(int i = years; i &gt; 0; i--)\r\n        balance = balance * y;\r\n\r\nAlternatively use Math.pow(this follows the formula startvalue * rate of change^time = result):\r\n\r\n    balance = balance * Math.pow(y, years);","title":"Calculating Interest (Java), the program should print the projected account balance after an arbitrary numbers of years","body":"<p>There's no good reason to use a loop in this case, but I guess it's for learning purposes.\nYou can make a loop that calculates the new balance a year at a time like this:</p>\n\n<pre><code>for(int i = years; i &gt; 0; i--)\n    balance = balance * y;\n</code></pre>\n\n<p>Alternatively use Math.pow(this follows the formula startvalue * rate of change^time = result):</p>\n\n<pre><code>balance = balance * Math.pow(y, years);\n</code></pre>\n"}],"owner":{"account_id":5760647,"reputation":19,"user_id":5802180,"accept_rate":0,"display_name":"Leonardo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675875114,"creation_date":1453053749,"question_id":34841708,"body_markdown":"Please help me. Basically the program should Ask the user to input a number representing the initial balance of a savings account. Assign this number to a double variable called balance.\r\nAsk for a number representing the yearly rate of interest (in percent) on the account. Divide this number by 100.0 and assign it to a double variable called rate. I have to use a loop to update the balance as it changes year by year. I am stuck on that part. Here is the code I have so far : \r\n\r\n  \r\n\r\n       public static void calcInterest(){\r\n    System.out.println(&quot;Please enter the account balance : &quot;);\r\n    \t System.out.println(&quot;Please enter the annual interest rate : &quot;);\r\n    \t System.out.println(&quot;Please enter the number of years : &quot;);\r\n    \t Scanner input = new Scanner (System.in);\r\n    \t double balance = input.nextDouble();\r\n    \t double y = input.nextDouble();\r\n    \t double rate = (y/100);\r\n    \t int years = input.nextInt();\r\n    \t \r\n    \t\t \r\n    \t }","title":"Calculating Interest (Java), the program should print the projected account balance after an arbitrary numbers of years","body":"<p>Please help me. Basically the program should Ask the user to input a number representing the initial balance of a savings account. Assign this number to a double variable called balance.\nAsk for a number representing the yearly rate of interest (in percent) on the account. Divide this number by 100.0 and assign it to a double variable called rate. I have to use a loop to update the balance as it changes year by year. I am stuck on that part. Here is the code I have so far : </p>\n\n<pre><code>   public static void calcInterest(){\nSystem.out.println(\"Please enter the account balance : \");\n     System.out.println(\"Please enter the annual interest rate : \");\n     System.out.println(\"Please enter the number of years : \");\n     Scanner input = new Scanner (System.in);\n     double balance = input.nextDouble();\n     double y = input.nextDouble();\n     double rate = (y/100);\n     int years = input.nextInt();\n\n\n     }\n</code></pre>\n"},{"tags":["java","spring-boot","quarkus","mapstruct"],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675874927,"creation_date":1675874927,"question_id":75389063,"body_markdown":"I have a class of type DTO response and another class of type domain and I convert them but I don&#39;t know how to convert the generic class into another class, see:\r\n\r\n    class ResponseData&lt;T&gt; {\r\n    \r\n        @JsonProperty(&quot;data_response&quot;)\r\n        private List&lt;T&gt; dataResponse;\r\n    }\r\n\r\nThis is the application class that will be converted:\r\n\r\n    class QueryConsulting {\r\n    \r\n        @JsonProperty(&quot;cod_prod&quot;)\r\n        private String codProduct;\r\n    \r\n        @JsonProperty(&quot;cod_cli&quot;)\r\n        private String idClient;\r\n\r\nI make this call to assemble the payload:\r\n\r\n    ResponseData responseData = ResponseData.builder().data(Collections.singletonList(response)).build();\r\n\r\n\r\nHow to convert using MapStruct?","title":"How to convert generic type objects with MapStruct?","body":"<p>I have a class of type DTO response and another class of type domain and I convert them but I don't know how to convert the generic class into another class, see:</p>\n<pre><code>class ResponseData&lt;T&gt; {\n\n    @JsonProperty(&quot;data_response&quot;)\n    private List&lt;T&gt; dataResponse;\n}\n</code></pre>\n<p>This is the application class that will be converted:</p>\n<pre><code>class QueryConsulting {\n\n    @JsonProperty(&quot;cod_prod&quot;)\n    private String codProduct;\n\n    @JsonProperty(&quot;cod_cli&quot;)\n    private String idClient;\n</code></pre>\n<p>I make this call to assemble the payload:</p>\n<pre><code>ResponseData responseData = ResponseData.builder().data(Collections.singletonList(response)).build();\n</code></pre>\n<p>How to convert using MapStruct?</p>\n"},{"tags":["java","class","object","inheritance","methods"],"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675875897,"answer_count":0,"score":0,"last_activity_date":1675874667,"creation_date":1675874667,"question_id":75389009,"body_markdown":"What I mean to ask is easier to see in the code, so there&#39;s the precise exam task I&#39;m working on.\r\nThe task asks what the output of the console would look like. A is superclass of B, B is superclass of C.\r\n\r\nIn subclass C, the method `print()` includes `super.print()`.\r\n\r\n**In such cases and inheritance in general, how can I know whether a method refers to an attribute of the superclass or the subclass?**\r\n\r\n**Is there a general rule of thumb? Something like &quot;Inherited methods use the subclass attributes, except when it says &quot;super&quot;, then it&#39;s the superclasses attributes&quot;, or something like that?**\r\n\r\nFurthermore, does it play any role here that the static type of oneB is A? Could you name me an example of when it might play an important role or make a big difference?\r\n\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tA oneA = new A();\r\n\t\tSystem.out.println(&quot;A: &quot; + oneA.x);\r\n\t\toneA.print();\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tA oneB = new B();\r\n\t\tSystem.out.println(&quot;B: &quot; + oneB.x);\r\n\t\toneB.print();\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tC oneC = new C();\r\n\t\toneC.print();\r\n\t\tSystem.out.println(&quot;C: &quot; + oneC.x);\r\n\t}\r\n}\r\n\r\n\r\npublic class A {\r\n\tpublic static int z;\r\n\tpublic int x = 10;\r\n\r\n\tpublic A() {\r\n\t\tx++;\r\n\t\tz++;\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;A: &quot; + ++x);\r\n\t\tSystem.out.println(&quot;A: &quot; + ++z);\r\n\t}\r\n}\r\n\r\n\r\npublic class B extends A {\r\n\tpublic int x = 100;\r\n\r\n\tpublic B() {\r\n\t\tx++;\r\n\t\tz++;\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;B: &quot; + x);\r\n\t\tSystem.out.println(&quot;B: &quot; + ++z);\r\n\t}\r\n}\r\n\r\n\r\npublic class C extends B {\r\n\tpublic int x = 1000;\r\n\r\n\tpublic void print() {\r\n\t\tsuper.print(); // &lt;------------------------ This line.\r\n                // It&#39;s executed inside oneC, but it includes a supermethod and both of them refer to x\r\n                // Hence, how can I know when a method uses the attributes or superclass or subclass?\r\n\t\tSystem.out.println(&quot;C: &quot; + x);\r\n\t\tSystem.out.println(&quot;C: &quot; + ++z);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nMy solution looked like this:\r\nA: 11\r\nA: 12\r\nA: 2\r\nB: 101\r\nB: 101\r\nB: 5\r\nB: 1000 &lt;----- THIS is the line I&#39;m unsure about.\r\nB: 8\r\nC: 1000\r\nC: 9\r\nC: 1000\r\n\r\nIDE says that it&#39;s &quot;B: 101&quot; instead of &quot;B: 1000&quot; and I can see why...\r\nBut how can I know when and how to tell, for sure? Is there a rule of thumb?","title":"Java - When I access a super.method inside an overwritten method of a subclass, does it use the attribute of the superclass or the subclass?","body":"<p>What I mean to ask is easier to see in the code, so there's the precise exam task I'm working on.\nThe task asks what the output of the console would look like. A is superclass of B, B is superclass of C.</p>\n<p>In subclass C, the method <code>print()</code> includes <code>super.print()</code>.</p>\n<p><strong>In such cases and inheritance in general, how can I know whether a method refers to an attribute of the superclass or the subclass?</strong></p>\n<p><strong>Is there a general rule of thumb? Something like &quot;Inherited methods use the subclass attributes, except when it says &quot;super&quot;, then it's the superclasses attributes&quot;, or something like that?</strong></p>\n<p>Furthermore, does it play any role here that the static type of oneB is A? Could you name me an example of when it might play an important role or make a big difference?</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        A oneA = new A();\n        System.out.println(&quot;A: &quot; + oneA.x);\n        oneA.print();\n        \n        System.out.println();\n        \n        A oneB = new B();\n        System.out.println(&quot;B: &quot; + oneB.x);\n        oneB.print();\n        \n        System.out.println();\n        \n        C oneC = new C();\n        oneC.print();\n        System.out.println(&quot;C: &quot; + oneC.x);\n    }\n}\n\n\npublic class A {\n    public static int z;\n    public int x = 10;\n\n    public A() {\n        x++;\n        z++;\n    }\n\n    public void print() {\n        System.out.println(&quot;A: &quot; + ++x);\n        System.out.println(&quot;A: &quot; + ++z);\n    }\n}\n\n\npublic class B extends A {\n    public int x = 100;\n\n    public B() {\n        x++;\n        z++;\n    }\n\n    public void print() {\n        System.out.println(&quot;B: &quot; + x);\n        System.out.println(&quot;B: &quot; + ++z);\n    }\n}\n\n\npublic class C extends B {\n    public int x = 1000;\n\n    public void print() {\n        super.print(); // &lt;------------------------ This line.\n                // It's executed inside oneC, but it includes a supermethod and both of them refer to x\n                // Hence, how can I know when a method uses the attributes or superclass or subclass?\n        System.out.println(&quot;C: &quot; + x);\n        System.out.println(&quot;C: &quot; + ++z);\n    }\n}\n</code></pre>\n<p>My solution looked like this:\nA: 11\nA: 12\nA: 2\nB: 101\nB: 101\nB: 5\nB: 1000 &lt;----- THIS is the line I'm unsure about.\nB: 8\nC: 1000\nC: 9\nC: 1000</p>\n<p>IDE says that it's &quot;B: 101&quot; instead of &quot;B: 1000&quot; and I can see why...\nBut how can I know when and how to tell, for sure? Is there a rule of thumb?</p>\n"},{"tags":["java","command-line","apache-commons-exec"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":1,"creation_date":1416925950,"post_id":27129347,"comment_id":42757821,"body_markdown":"It should work are you sure the file is there?","body":"It should work are you sure the file is there?"},{"owner":{"account_id":1487317,"reputation":143,"user_id":1395264,"accept_rate":8,"display_name":"user1395264"},"score":0,"creation_date":1416927150,"post_id":27129347,"comment_id":42758630,"body_markdown":"yes.. I have tried .. and its not working.. I am trying to run the batch through command prompt from Java..","body":"yes.. I have tried .. and its not working.. I am trying to run the batch through command prompt from Java.."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1416927493,"post_id":27129347,"comment_id":42758880,"body_markdown":"Try my answer I think it will work for you...","body":"Try my answer I think it will work for you..."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1416927781,"post_id":27129347,"comment_id":42759071,"body_markdown":"I just posted another way to launch less code check out my answer...","body":"I just posted another way to launch less code check out my answer..."},{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1416928498,"post_id":27129347,"comment_id":42759585,"body_markdown":"Hey man I just edited my answer it should work now.","body":"Hey man I just edited my answer it should work now."},{"owner":{"account_id":4796924,"reputation":328,"user_id":3874595,"display_name":"Yetti99"},"score":0,"creation_date":1416928723,"post_id":27129347,"comment_id":42759708,"body_markdown":"Windows accepts forward slashes.  Then you don&#39;t need the double backslashes.  This is a joke http://secretgeek.net/ex_ms an interview with the person who invented &quot;Program Files&quot; :)","body":"Windows accepts forward slashes.  Then you don&#39;t need the double backslashes.  This is a joke <a href=\"http://secretgeek.net/ex_ms\" rel=\"nofollow noreferrer\">secretgeek.net/ex_ms</a> an interview with the person who invented &quot;Program Files&quot; :)"}],"answers":[{"tags":[],"owner":{"account_id":4864939,"reputation":1044,"user_id":3923525,"accept_rate":80,"display_name":"jmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416926111,"creation_date":1416926111,"answer_id":27129434,"question_id":27129347,"body_markdown":"Have you tried with single quotes? According to [this][1], it should work.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-exec/commandline.html","title":"How to access file path with spaces from command prompt in Java","body":"<p>Have you tried with single quotes? According to <a href=\"http://commons.apache.org/proper/commons-exec/commandline.html\" rel=\"nofollow\">this</a>, it should work.</p>\n"},{"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416928434,"creation_date":1416927473,"answer_id":27129933,"question_id":27129347,"body_markdown":"This is an alternative way:\r\n\r\n         Runtime rt = Runtime.getRuntime();\r\n\t\t rt.exec(&quot;cmd.exe /c start \\&quot;\\&quot; \\&quot;C:\\\\Program Files\\\\abc.bat\\&quot;&quot;);","title":"How to access file path with spaces from command prompt in Java","body":"<p>This is an alternative way:</p>\n\n<pre><code>     Runtime rt = Runtime.getRuntime();\n     rt.exec(\"cmd.exe /c start \\\"\\\" \\\"C:\\\\Program Files\\\\abc.bat\\\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2937310,"reputation":1678,"user_id":2515942,"accept_rate":94,"display_name":"Murat Aykanat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483002054,"creation_date":1483000169,"answer_id":41375821,"question_id":27129347,"body_markdown":"I had the same filenames with spaces issue while using ImageMagick. Here is the code to solve the issue:\r\n\r\n    String imageOutput = null;\r\n    ByteArrayOutputStream identifyStdout = new ByteArrayOutputStream();\r\n    ByteArrayOutputStream identifyStderr = new ByteArrayOutputStream();\r\n    \r\n    try\r\n    {\r\n    \tDefaultExecutor identifyExecutor = new DefaultExecutor();\r\n    \t// End the process if it exceeds 60 seconds\r\n    \tExecuteWatchdog identifyWatchdog = new ExecuteWatchdog(60000);\r\n    \tidentifyExecutor.setWatchdog(identifyWatchdog);\r\n    \r\n    \r\n    \tPumpStreamHandler identifyPsh = new PumpStreamHandler(identifyStdout, identifyStderr);\r\n    \tidentifyExecutor.setStreamHandler(identifyPsh);\r\n    \tidentifyExecutor.setExitValue(0); //0 is success\r\n    \r\n    \tCommandLine identifyCommandline = new CommandLine(&quot;identify&quot;);\r\n    \tidentifyCommandline.addArgument(destFile.getAbsolutePath(), false);\r\n    \r\n    \tDefaultExecuteResultHandler identifyResultHandler = new DefaultExecuteResultHandler();\r\n    \r\n    \tidentifyExecutor.execute(identifyCommandline, identifyResultHandler);\r\n    \tidentifyResultHandler.waitFor();\r\n    \r\n    \tif (identifyResultHandler.getExitValue() != 0)\r\n    \t{\r\n    \t\tString output = identifyStdout.toString();\r\n    \t\t_logger.debug(&quot;Standard Out = &quot; + output);\r\n    \t\t_logger.debug(&quot;Standard Err = &quot; + identifyStderr.toString());\r\n    \r\n    \t\tString msg = &quot;ImageMagick overlay encountered an error. ImageMagick returned a value of &quot; + identifyResultHandler.getExitValue();\r\n    \t\tthrow new Exception(msg);\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\timageOutput = identifyStdout.toString();\r\n    \t\t_logger.debug(&quot;Standard Out = &quot; + imageOutput);\r\n    \t\tidentifyStdout.close();\r\n    \t\tidentifyStderr.close();\r\n    \t}\r\n    }\r\n    catch(Exception e)\r\n    {\r\n    \t_logger.debug(&quot;Error: &quot; + e.getLocalizedMessage(), e);\r\n    }\r\n    finally\r\n    {\r\n    \tidentifyStdout.close();\r\n    \tidentifyStderr.close();\r\n    }\r\n\r\nThe important part here is:\r\n\r\n    identifyCommandline.addArgument(destFile.getAbsolutePath(), false);\r\n\r\nThis line allows a filepath with spaces to process correctly.","title":"How to access file path with spaces from command prompt in Java","body":"<p>I had the same filenames with spaces issue while using ImageMagick. Here is the code to solve the issue:</p>\n\n<pre><code>String imageOutput = null;\nByteArrayOutputStream identifyStdout = new ByteArrayOutputStream();\nByteArrayOutputStream identifyStderr = new ByteArrayOutputStream();\n\ntry\n{\n    DefaultExecutor identifyExecutor = new DefaultExecutor();\n    // End the process if it exceeds 60 seconds\n    ExecuteWatchdog identifyWatchdog = new ExecuteWatchdog(60000);\n    identifyExecutor.setWatchdog(identifyWatchdog);\n\n\n    PumpStreamHandler identifyPsh = new PumpStreamHandler(identifyStdout, identifyStderr);\n    identifyExecutor.setStreamHandler(identifyPsh);\n    identifyExecutor.setExitValue(0); //0 is success\n\n    CommandLine identifyCommandline = new CommandLine(\"identify\");\n    identifyCommandline.addArgument(destFile.getAbsolutePath(), false);\n\n    DefaultExecuteResultHandler identifyResultHandler = new DefaultExecuteResultHandler();\n\n    identifyExecutor.execute(identifyCommandline, identifyResultHandler);\n    identifyResultHandler.waitFor();\n\n    if (identifyResultHandler.getExitValue() != 0)\n    {\n        String output = identifyStdout.toString();\n        _logger.debug(\"Standard Out = \" + output);\n        _logger.debug(\"Standard Err = \" + identifyStderr.toString());\n\n        String msg = \"ImageMagick overlay encountered an error. ImageMagick returned a value of \" + identifyResultHandler.getExitValue();\n        throw new Exception(msg);\n    }\n    else\n    {\n        imageOutput = identifyStdout.toString();\n        _logger.debug(\"Standard Out = \" + imageOutput);\n        identifyStdout.close();\n        identifyStderr.close();\n    }\n}\ncatch(Exception e)\n{\n    _logger.debug(\"Error: \" + e.getLocalizedMessage(), e);\n}\nfinally\n{\n    identifyStdout.close();\n    identifyStderr.close();\n}\n</code></pre>\n\n<p>The important part here is:</p>\n\n<pre><code>identifyCommandline.addArgument(destFile.getAbsolutePath(), false);\n</code></pre>\n\n<p>This line allows a filepath with spaces to process correctly.</p>\n"},{"tags":[],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675874019,"creation_date":1675874019,"answer_id":75388884,"question_id":27129347,"body_markdown":"When using the CommandLine class `addArgument` method without defining the boolean `handleQuoting`, it will set `handleQuoting` to true for you, basically adding quotes to the argument. This is the method invoking:\r\n\r\n```\r\n    public CommandLine addArgument(String argument) {\r\n        return this.addArgument(argument, true);\r\n    }\r\n\r\n    public CommandLine addArgument(String argument, boolean handleQuoting) {\r\n        if (argument == null) {\r\n            return this;\r\n        } else {\r\n            if (handleQuoting) {\r\n                StringUtils.quoteArgument(argument);\r\n            }\r\n\r\n            this.arguments.add(new Argument(argument, handleQuoting));\r\n            return this;\r\n        }\r\n    }\r\n```\r\n\r\nChanging my method from:\r\n\r\n```\r\n\t\tCommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\r\n\t\tcmd.addArgument(&quot;-box&quot;);\r\n\t\tcmd.addArgument(pdfFile.getAbsolutePath());\r\n```\r\n\r\nTo:\r\n\r\n```\r\n\t\tCommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\r\n\t\tcmd.addArgument(&quot;-box&quot;);\r\n\t\tcmd.addArgument(pdfFile.getAbsolutePath(), false); &lt;-- change here\r\n```\r\n\r\nSolved the issue for me. No quotes were added and the CommandLine was able to find the file.\r\n","title":"How to access file path with spaces from command prompt in Java","body":"<p>When using the CommandLine class <code>addArgument</code> method without defining the boolean <code>handleQuoting</code>, it will set <code>handleQuoting</code> to true for you, basically adding quotes to the argument. This is the method invoking:</p>\n<pre><code>    public CommandLine addArgument(String argument) {\n        return this.addArgument(argument, true);\n    }\n\n    public CommandLine addArgument(String argument, boolean handleQuoting) {\n        if (argument == null) {\n            return this;\n        } else {\n            if (handleQuoting) {\n                StringUtils.quoteArgument(argument);\n            }\n\n            this.arguments.add(new Argument(argument, handleQuoting));\n            return this;\n        }\n    }\n</code></pre>\n<p>Changing my method from:</p>\n<pre><code>        CommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\n        cmd.addArgument(&quot;-box&quot;);\n        cmd.addArgument(pdfFile.getAbsolutePath());\n</code></pre>\n<p>To:</p>\n<pre><code>        CommandLine cmd = new CommandLine(&quot;pdfinfo&quot;);\n        cmd.addArgument(&quot;-box&quot;);\n        cmd.addArgument(pdfFile.getAbsolutePath(), false); &lt;-- change here\n</code></pre>\n<p>Solved the issue for me. No quotes were added and the CommandLine was able to find the file.</p>\n"}],"owner":{"account_id":1487317,"reputation":143,"user_id":1395264,"accept_rate":8,"display_name":"user1395264"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1675874019,"creation_date":1416925847,"question_id":27129347,"body_markdown":"I am trying to run a batch file from a Java program. \r\nFor instance: I have a batch &quot;abc.bat&quot; in a folder in &quot;Program Files&quot;.\r\n\r\nI want to execute this batch from my Java Program. I am using CommandLine class, Commons-exec jar.\r\n\r\n    CommandLine cmdLine = CommandLine.parse(&quot;cmd&quot;);\r\n    cmdLine.addArgument(&quot;/c start \\&quot;\\&quot; \\&quot;C:\\\\Program Files\\\\abc.bat\\&quot;&quot;);\r\n\r\n    DefaultExecutor exec = new DefaultExecutor();\r\n    Process p = Runtime.getRuntime().exec(cmdLine.toString());\r\n    exec.execute(cmdLine);\r\n\r\nThe above code throws an error saying &quot;Windows cant find the file. Make sure you typed the name correctly, and try again&quot;. And, that is because of the spaces in the path.\r\n\r\nSo, I tried the answer provided here by @brso05 and that works. But I want it to be in a Future Class. Please find my code below and help me fix it.\r\n\r\n    final CommandLine cmdLine = CommandLine.parse(&quot;cmd.exe&quot;);\r\n\tcmdLine.addArgument(&quot;/c&quot;);\r\n\tcmdLine.addArgument(&quot;start&quot;);\r\n\tcmdLine.addArgument(&quot;\\&quot;&quot;+ batchFileExecute.getParent().toString() + &quot;\\&quot;&quot;);\r\n\t\r\n\tExecutorService es = Executors.newFixedThreadPool(1);\r\n\tFuture&lt;?&gt; future = es.submit(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\t\tDefaultExecutor exec = new DefaultExecutor();\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tProcess p = Runtime.getRuntime().exec(cmdLine.toString());\r\n\t\t\t\t\t\t\t\texec.execute(cmdLine);\r\n\t\t\t\t\t\t\t\tSystem.out.println(p.waitFor());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch (IOException e) \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch (InterruptedException e)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tString thread_status = null;\r\n\t\t\t\t\t\t\t\ttry \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthread_status = future.get().toString(); \r\n\t\t\t\t\t\t\t\t\tSystem.out.println(thread_status+&quot; completed the execution&quot;);\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\tcatch (NullPointerException e) \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;The execution of the received project is     complete.&quot;);\t\t\t\t\t\r\n    // In here I want to do some processing again.\r\n    }\r\n\r\nThe code I mentioned works but it doesnt work if my batch file has a spaces in the path. Can you help me fix this?\r\n\r\nBecuase the snippet you&#39;ve given works but then I cant put it into Future. It doesnt work in the desired manner.\r\n\r\nThanks in advance!\r\n\r\n\r\n","title":"How to access file path with spaces from command prompt in Java","body":"<p>I am trying to run a batch file from a Java program. \nFor instance: I have a batch \"abc.bat\" in a folder in \"Program Files\".</p>\n\n<p>I want to execute this batch from my Java Program. I am using CommandLine class, Commons-exec jar.</p>\n\n<pre><code>CommandLine cmdLine = CommandLine.parse(\"cmd\");\ncmdLine.addArgument(\"/c start \\\"\\\" \\\"C:\\\\Program Files\\\\abc.bat\\\"\");\n\nDefaultExecutor exec = new DefaultExecutor();\nProcess p = Runtime.getRuntime().exec(cmdLine.toString());\nexec.execute(cmdLine);\n</code></pre>\n\n<p>The above code throws an error saying \"Windows cant find the file. Make sure you typed the name correctly, and try again\". And, that is because of the spaces in the path.</p>\n\n<p>So, I tried the answer provided here by @brso05 and that works. But I want it to be in a Future Class. Please find my code below and help me fix it.</p>\n\n<pre><code>final CommandLine cmdLine = CommandLine.parse(\"cmd.exe\");\ncmdLine.addArgument(\"/c\");\ncmdLine.addArgument(\"start\");\ncmdLine.addArgument(\"\\\"\"+ batchFileExecute.getParent().toString() + \"\\\"\");\n\nExecutorService es = Executors.newFixedThreadPool(1);\nFuture&lt;?&gt; future = es.submit(new Runnable() {\n        public void run() {\n                DefaultExecutor exec = new DefaultExecutor();\n                        try {\n                            Process p = Runtime.getRuntime().exec(cmdLine.toString());\n                            exec.execute(cmdLine);\n                            System.out.println(p.waitFor());\n                            }\n                        catch (IOException e) \n                            {\n                                e.printStackTrace();\n                            }\n                        catch (InterruptedException e)\n                            {\n                                e.printStackTrace();\n                            }\n                        }\n                        });\n                            String thread_status = null;\n                            try \n                            {\n                                thread_status = future.get().toString(); \n                                System.out.println(thread_status+\" completed the execution\");\n                            } \n                            catch (NullPointerException e) \n                            {\n                            System.out.println(\"The execution of the received project is     complete.\");                   \n// In here I want to do some processing again.\n}\n</code></pre>\n\n<p>The code I mentioned works but it doesnt work if my batch file has a spaces in the path. Can you help me fix this?</p>\n\n<p>Becuase the snippet you've given works but then I cant put it into Future. It doesnt work in the desired manner.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","cryptography","rsa","public-key-encryption"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1675875179,"post_id":75388851,"comment_id":133023343,"body_markdown":"To use `Base64.getDecoder()` you must remove the BEGIN and END lines AND THE LINEBREAKS (may be either LF or CRLF). Character a in hex (aka \\x0A or U+000A) is LF. Alternatively use `getMimeDecoder()` which does handle linebreaks, see the javadoc.","body":"To use <code>Base64.getDecoder()</code> you must remove the BEGIN and END lines AND THE LINEBREAKS (may be either LF or CRLF). Character a in hex (aka \\x0A or U+000A) is LF. Alternatively use <code>getMimeDecoder()</code> which does handle linebreaks, see the javadoc."}],"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675873817,"creation_date":1675873817,"question_id":75388851,"body_markdown":"I have the below RSA key.How do i convert the below public key to an object of\r\n \r\n\r\n*java.security.PublicKey*\r\n\r\nI used below code but got the error\r\n\r\n    byte[] publicBytes = Base64.getDecoder().decode(publicKey);\r\n        \t\t X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicBytes);\r\n        \t\t KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        \t\t PublicKey pubKey = keyFactory.generatePublic(keySpec);\r\n\r\n\r\nError i got is \r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal base64 character a\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal\r\n&gt; base64 character a\r\n\r\n\r\nI had removed the BEGIN and END from the key.For security purpose i have put same line in the below public key\r\n\r\n    -----BEGIN PUBLIC KEY-----\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\r\n    TQIDAQAB\r\n    -----END PUBLIC KEY-----","title":"PublicKey object from public key string","body":"<p>I have the below RSA key.How do i convert the below public key to an object of</p>\n<p><em>java.security.PublicKey</em></p>\n<p>I used below code but got the error</p>\n<pre><code>byte[] publicBytes = Base64.getDecoder().decode(publicKey);\n             X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicBytes);\n             KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n             PublicKey pubKey = keyFactory.generatePublic(keySpec);\n</code></pre>\n<p>Error i got is\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal base64 character a</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Illegal\nbase64 character a</p>\n</blockquote>\n<p>I had removed the BEGIN and END from the key.For security purpose i have put same line in the below public key</p>\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArFO+fbOXXZwJfD8242Iq\nTQIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"score":0,"creation_date":1619677556,"post_id":67310161,"comment_id":118978079,"body_markdown":"Please add the code for the `Country` class. Tip: it&#39;s a better practice to use `List` in the definition of a property because you are not committing to a specific implementation. Usee `ArrayList` in the implementation.\nNote in the exception message:(java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible:","body":"Please add the code for the <code>Country</code> class. Tip: it&#39;s a better practice to use <code>List</code> in the definition of a property because you are not committing to a specific implementation. Usee <code>ArrayList</code> in the implementation. Note in the exception message:(java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible:"},{"owner":{"account_id":552536,"reputation":141,"user_id":917689,"display_name":"Ursego"},"score":0,"creation_date":1619685490,"post_id":67310161,"comment_id":118981284,"body_markdown":"Toda! I believe, getCampaignId() is in the message just because it was encountered first. Country is an enum (I tried to provide its code, but it&#39;s impossible to mark it as &quot;code&quot; in the comment so it was one line, but it&#39;s just a straightforward enum).","body":"Toda! I believe, getCampaignId() is in the message just because it was encountered first. Country is an enum (I tried to provide its code, but it&#39;s impossible to mark it as &quot;code&quot; in the comment so it was one line, but it&#39;s just a straightforward enum)."},{"owner":{"account_id":7532544,"reputation":914,"user_id":5720118,"accept_rate":92,"display_name":"Binyamin Regev"},"score":0,"creation_date":1619690340,"post_id":67310161,"comment_id":118983495,"body_markdown":"You don&#39;t need to use *super()* in the public Campaign(int, Country, String, ArrayList&lt;BannerSize&gt;) constructor because you don&#39;t extend any class and in the Object class, there&#39;s no such constructor. Jackson is doing its databind with PUBLIC properties or properties which has PUBLIC *getters* and *setters*.","body":"You don&#39;t need to use <i>super()</i> in the public Campaign(int, Country, String, ArrayList&lt;BannerSize&gt;) constructor because you don&#39;t extend any class and in the Object class, there&#39;s no such constructor. Jackson is doing its databind with PUBLIC properties or properties which has PUBLIC <i>getters</i> and <i>setters</i>."},{"owner":{"account_id":552536,"reputation":141,"user_id":917689,"display_name":"Ursego"},"score":0,"creation_date":1619697826,"post_id":67310161,"comment_id":118986887,"body_markdown":"super() was added automatically when Eclipse created the constructor. &quot;there&#39;s no such constructor&quot; - you are wrong, such a constructor exists in the ancestor (Object). Calling an non-existing constructor gives an error. All the getter and setters in all the classes are public (it&#39;s their meaning to be public to access private data).","body":"super() was added automatically when Eclipse created the constructor. &quot;there&#39;s no such constructor&quot; - you are wrong, such a constructor exists in the ancestor (Object). Calling an non-existing constructor gives an error. All the getter and setters in all the classes are public (it&#39;s their meaning to be public to access private data)."}],"answers":[{"tags":[],"owner":{"account_id":26514687,"reputation":11,"user_id":20149405,"display_name":"Zerog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675873662,"creation_date":1675873662,"answer_id":75388823,"question_id":67310161,"body_markdown":"I had the same error and what helped for me is exporting my packets to module-info.java\r\n\r\nMy module-info was:\r\n\r\n    module com.me.testjson {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.fasterxml.jackson.databind;\r\n\r\n\r\n    opens com.me.forsite to javafx.fxml;\r\n    exports com.me.forsite;\r\n    }\r\n\r\nAnd I exported folders that Jackson required:\r\n\r\n    module com.me.testjson {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires com.fasterxml.jackson.databind;\r\n\r\n\r\n    opens com.me.forsite to javafx.fxml;\r\n    exports com.me.forsite;\r\n    exports com.me.forsite.enums;\r\n    }\r\nAnd all worked. Maybe you should export **ca.intfast.code** like i exported **com.me.forsite.enums**\r\n","title":"Java Jackson failed to construct BeanSerializer","body":"<p>I had the same error and what helped for me is exporting my packets to module-info.java</p>\n<p>My module-info was:</p>\n<pre><code>module com.me.testjson {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires com.fasterxml.jackson.databind;\n\n\nopens com.me.forsite to javafx.fxml;\nexports com.me.forsite;\n}\n</code></pre>\n<p>And I exported folders that Jackson required:</p>\n<pre><code>module com.me.testjson {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires com.fasterxml.jackson.databind;\n\n\nopens com.me.forsite to javafx.fxml;\nexports com.me.forsite;\nexports com.me.forsite.enums;\n}\n</code></pre>\n<p>And all worked. Maybe you should export <strong>ca.intfast.code</strong> like i exported <strong>com.me.forsite.enums</strong></p>\n"}],"owner":{"account_id":552536,"reputation":141,"user_id":917689,"display_name":"Ursego"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675873662,"creation_date":1619662474,"question_id":67310161,"body_markdown":"Question from a Java beginner.\r\nI have this class:\r\n\r\n    package ca.intfast.code;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Campaign implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate int campaignId;\r\n    \tprivate Country targetedCountry;\r\n    \tprivate String targetedDomain;\r\n    \tprivate ArrayList&lt;BannerSize&gt; availableBannerSizeList;\r\n    \t\r\n    \t// Constructors:\r\n    \r\n    \tpublic Campaign() { // needed for serialization\r\n    \t\tsuper();\r\n    \t};\r\n    \r\n    \tpublic Campaign(int campaignId, Country targetedCountry, String targetedDomain, ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\r\n    \t\tsuper();\r\n    \t\tthis.setCampaignId(campaignId);\r\n    \t\tthis.setTargetedDomain(targetedDomain);\r\n    \t\tthis.setTargetedCountry(targetedCountry);\r\n    \t\tthis.setTargetedDomain(targetedDomain);\r\n    \t\tthis.setAvailableBannerSizeList(availableBannerSizeList);\r\n    \t}\r\n    \t\r\n    \t// Methods:\r\n    \t\r\n    \tpublic String getDomainOfTargetedDomain() {\r\n    \t\treturn Util.extractDomainName(getTargetedDomain()); // &quot;https://toronto.com/&quot; &gt;&gt;&gt; &quot;toronto.com&quot;\r\n    \t}\r\n    \t\r\n    \t// Getters/setters:\r\n    \t\r\n    \tpublic int getCampaignId() {\r\n    \t\treturn campaignId;\r\n    \t}\r\n    \tpublic void setCampaignId(int campaignId) {\r\n    \t\tif (campaignId &lt; 1) throw new IllegalArgumentException(campaignId + &quot; must be positive.&quot;);\r\n    \t\tthis.campaignId = campaignId;\r\n    \t}\r\n    \t\r\n    \tpublic Country getTargetedCountry() {\r\n    \t\treturn targetedCountry;\r\n    \t}\r\n    \tpublic void setTargetedCountry(Country targetedCountry) {\r\n    \t\tif (targetedCountry == null) throw new IllegalArgumentException(targetedCountry + &quot; cannot be null.&quot;);\r\n    \t\tthis.targetedCountry = targetedCountry;\r\n    \t}\r\n    \t\r\n    \tpublic String getTargetedDomain() {\r\n    \t\treturn targetedDomain;\r\n    \t}\r\n    \tpublic void setTargetedDomain(String targetedDomain) {\r\n    \t\tif (targetedDomain == null) throw new IllegalArgumentException(targetedDomain + &quot; cannot be null.&quot;);\r\n    \t\tif (!Util.isValidURL(targetedDomain)) throw new IllegalArgumentException(targetedDomain + &quot; is not a valid URL.&quot;);\r\n    \t\tthis.targetedDomain = targetedDomain;\r\n    \t}\r\n    \t\r\n    \tpublic ArrayList&lt;BannerSize&gt; getAvailableBannerSizeList() {\r\n    \t\treturn availableBannerSizeList;\r\n    \t}\r\n    \tpublic void setAvailableBannerSizeList(ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\r\n    \t\tif (availableBannerSizeList == null) throw new IllegalArgumentException(availableBannerSizeList + &quot; cannot be null.&quot;);\r\n    \t\tthis.availableBannerSizeList = availableBannerSizeList;\r\n    \t}\r\n    }\r\n\r\nI am trying to write a test object of the Campaign class to a JSON file:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n    Campaign testCampaign = new Campaign(1, Country.FRANCE, &quot;https://paris.com/&quot;, new ArrayList&lt;BannerSize&gt;(List.of(BannerSize.x300y250, BannerSize.x600y200)));\r\n    try {\r\n    \tobjectMapper.writeValue(new File(&quot;D:/bids.json&quot;), testCampaign); // this line gives the error\r\n    } catch (JsonGenerationException e) {\r\n    \te.printStackTrace();\r\n    } catch (JsonMappingException e) {\r\n    \te.printStackTrace();\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nThe error is:\r\n\r\n**com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `ca.intfast.code.Campaign`: Failed to construct BeanSerializer for [simple type, class ca.intfast.code.Campaign]: (java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible: module code does not &quot;exports ca.intfast.code&quot; to module com.fasterxml.jackson.databind**\r\n\r\nMy googling possibilities are exhausted. Does anybody have an idea?\r\n\r\nThanks!!!","title":"Java Jackson failed to construct BeanSerializer","body":"<p>Question from a Java beginner.\nI have this class:</p>\n<pre><code>package ca.intfast.code;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\n\npublic class Campaign implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private int campaignId;\n    private Country targetedCountry;\n    private String targetedDomain;\n    private ArrayList&lt;BannerSize&gt; availableBannerSizeList;\n    \n    // Constructors:\n\n    public Campaign() { // needed for serialization\n        super();\n    };\n\n    public Campaign(int campaignId, Country targetedCountry, String targetedDomain, ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\n        super();\n        this.setCampaignId(campaignId);\n        this.setTargetedDomain(targetedDomain);\n        this.setTargetedCountry(targetedCountry);\n        this.setTargetedDomain(targetedDomain);\n        this.setAvailableBannerSizeList(availableBannerSizeList);\n    }\n    \n    // Methods:\n    \n    public String getDomainOfTargetedDomain() {\n        return Util.extractDomainName(getTargetedDomain()); // &quot;https://toronto.com/&quot; &gt;&gt;&gt; &quot;toronto.com&quot;\n    }\n    \n    // Getters/setters:\n    \n    public int getCampaignId() {\n        return campaignId;\n    }\n    public void setCampaignId(int campaignId) {\n        if (campaignId &lt; 1) throw new IllegalArgumentException(campaignId + &quot; must be positive.&quot;);\n        this.campaignId = campaignId;\n    }\n    \n    public Country getTargetedCountry() {\n        return targetedCountry;\n    }\n    public void setTargetedCountry(Country targetedCountry) {\n        if (targetedCountry == null) throw new IllegalArgumentException(targetedCountry + &quot; cannot be null.&quot;);\n        this.targetedCountry = targetedCountry;\n    }\n    \n    public String getTargetedDomain() {\n        return targetedDomain;\n    }\n    public void setTargetedDomain(String targetedDomain) {\n        if (targetedDomain == null) throw new IllegalArgumentException(targetedDomain + &quot; cannot be null.&quot;);\n        if (!Util.isValidURL(targetedDomain)) throw new IllegalArgumentException(targetedDomain + &quot; is not a valid URL.&quot;);\n        this.targetedDomain = targetedDomain;\n    }\n    \n    public ArrayList&lt;BannerSize&gt; getAvailableBannerSizeList() {\n        return availableBannerSizeList;\n    }\n    public void setAvailableBannerSizeList(ArrayList&lt;BannerSize&gt; availableBannerSizeList) {\n        if (availableBannerSizeList == null) throw new IllegalArgumentException(availableBannerSizeList + &quot; cannot be null.&quot;);\n        this.availableBannerSizeList = availableBannerSizeList;\n    }\n}\n</code></pre>\n<p>I am trying to write a test object of the Campaign class to a JSON file:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\nCampaign testCampaign = new Campaign(1, Country.FRANCE, &quot;https://paris.com/&quot;, new ArrayList&lt;BannerSize&gt;(List.of(BannerSize.x300y250, BannerSize.x600y200)));\ntry {\n    objectMapper.writeValue(new File(&quot;D:/bids.json&quot;), testCampaign); // this line gives the error\n} catch (JsonGenerationException e) {\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The error is:</p>\n<p><strong>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type <code>ca.intfast.code.Campaign</code>: Failed to construct BeanSerializer for [simple type, class ca.intfast.code.Campaign]: (java.lang.reflect.InaccessibleObjectException) Unable to make public int ca.intfast.code.Campaign.getCampaignId() accessible: module code does not &quot;exports ca.intfast.code&quot; to module com.fasterxml.jackson.databind</strong></p>\n<p>My googling possibilities are exhausted. Does anybody have an idea?</p>\n<p>Thanks!!!</p>\n"},{"tags":["java","intellij-idea","wildfly","pom.xml","maven-plugin"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675855464,"post_id":75384984,"comment_id":133016502,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead [edit] yoru question to include the full error message as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead <a href=\"https://stackoverflow.com/posts/75384984/edit\">edit</a> yoru question to include the full error message as properly formatted text."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1675870286,"post_id":75384984,"comment_id":133021466,"body_markdown":"There should be some log messages in the server logs.","body":"There should be some log messages in the server logs."},{"owner":{"account_id":24451368,"reputation":1,"user_id":20713936,"display_name":"Santiago Fern&#225;ndez S&#225;nchez"},"score":0,"creation_date":1675873701,"post_id":75384984,"comment_id":133022818,"body_markdown":"Thanks, i change the image for code format like you say","body":"Thanks, i change the image for code format like you say"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1675933739,"post_id":75384984,"comment_id":133035443,"body_markdown":"Did you find anything in your server logs? There should be more details there.","body":"Did you find anything in your server logs? There should be more details there."}],"owner":{"account_id":24451368,"reputation":1,"user_id":20713936,"display_name":"Santiago Fern&#225;ndez S&#225;nchez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675873495,"creation_date":1675854993,"question_id":75384984,"body_markdown":"Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha41-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n\r\nProblem here\r\n\r\n```\r\n[ERROR] Failed to execute goal org.wildfly.plugins:wildfly-maven-plugin:1.2.1.Final:deploy (default) on project lts-ear: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n[ERROR]     Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\r\n[ERROR]     Caused by: javax.ejb.EJBTransactionRolledbackException\r\n[ERROR]     Caused by: java.lang.NullPointerException&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService]&quot;]}}}\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :lts-ear\r\n\r\n```\r\n\r\n\r\nThe pom is here\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lts-ng&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-Alpha41-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;lts-ear&lt;/artifactId&gt;\r\n    &lt;packaging&gt;ear&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- LTS --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lts-war&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;war&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lts-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;ejb&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n\r\n        &lt;!-- Hack to replace placeholders in non-build resources. --&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${project.basedir}/..&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;sonar-project.properties&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1.Final&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;port&gt;9990&lt;/port&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;undeploy&lt;/id&gt;\r\n                        &lt;phase&gt;${cleanup.phase}&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;undeploy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;ignoreMissingDeployment&gt;true&lt;/ignoreMissingDeployment&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;${deployment.phase}&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;deploy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\ni expect this working","title":"Why when I try to compile it tells me that some plugin is missing when they are all there?","body":"<p>Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.&quot;lts-ear-1.0.0-Alpha41-SNAPSHOT.ear&quot;.&quot;lts-core.jar&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance</p>\n<p>Problem here</p>\n<pre><code>[ERROR] Failed to execute goal org.wildfly.plugins:wildfly-maven-plugin:1.2.1.Final:deploy (default) on project lts-ear: Failed to execute goal deploy: {&quot;WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.component.CabinLayoutManagerImpl.START&quot; =&gt; &quot;java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\n[ERROR]     Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance\n[ERROR]     Caused by: javax.ejb.EJBTransactionRolledbackException\n[ERROR]     Caused by: java.lang.NullPointerException&quot;},&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService&quot;],&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.deployment.unit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.deploymentCompleteService is missing [jboss.deployment.subunit.\\&quot;lts-ear-1.0.0-Alpha35-SNAPSHOT.ear\\&quot;.\\&quot;lts-core.jar\\&quot;.deploymentCompleteService]&quot;]}}}\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :lts-ear\n\n</code></pre>\n<p>The pom is here</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\n        &lt;artifactId&gt;lts-ng&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-Alpha41-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;lts-ear&lt;/artifactId&gt;\n    &lt;packaging&gt;ear&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- LTS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\n            &lt;artifactId&gt;lts-war&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;aero.navblue.nperformance.lts&lt;/groupId&gt;\n            &lt;artifactId&gt;lts-core&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;!-- Hack to replace placeholders in non-build resources. --&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}/..&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;sonar-project.properties&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-ear-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1.Final&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;port&gt;9990&lt;/port&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;undeploy&lt;/id&gt;\n                        &lt;phase&gt;${cleanup.phase}&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;undeploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;ignoreMissingDeployment&gt;true&lt;/ignoreMissingDeployment&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;${deployment.phase}&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;deploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>i expect this working</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675873292,"creation_date":1675873292,"answer_id":75388737,"question_id":75388143,"body_markdown":"The error message is pretty clear. `No property &#39;usernamePassword&#39; found for type &#39;Employee&#39;`\r\n\r\nIt expect `usernamePassword` field inside `Employee`, but in your `Employee.java` you have email and password?\r\n\r\nYou might want to change `findByUsernamePassword(String username, String password);` to:\r\n\r\n```java\r\npublic  Employee findOneByEmailAndPassword(String email, String password);\r\n```\r\n\r\n\r\n### Or \r\n\r\nCreate a `String username` field in `Employee.java` with its getters and setters. Then change the repository method to\r\n\r\n```java\r\npublic  Employee findOneByUsernameAndPassword(String username, String password);\r\n```\r\n\r\n\r\nRead this for more details https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation","title":"Error creating bean with name Spring Boot","body":"<p>The error message is pretty clear. <code>No property 'usernamePassword' found for type 'Employee'</code></p>\n<p>It expect <code>usernamePassword</code> field inside <code>Employee</code>, but in your <code>Employee.java</code> you have email and password?</p>\n<p>You might want to change <code>findByUsernamePassword(String username, String password);</code> to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  Employee findOneByEmailAndPassword(String email, String password);\n</code></pre>\n<h3>Or</h3>\n<p>Create a <code>String username</code> field in <code>Employee.java</code> with its getters and setters. Then change the repository method to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  Employee findOneByUsernameAndPassword(String username, String password);\n</code></pre>\n<p>Read this for more details <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation</a></p>\n"}],"owner":{"account_id":27270469,"reputation":135,"user_id":20791861,"display_name":"abi jega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75388737,"answer_count":1,"score":1,"last_activity_date":1675873292,"creation_date":1675870605,"question_id":75388143,"body_markdown":"I am new to using Spring Boot. I have already got the user registration form and API working fine and successfully added the records into the database. After completing the login API I ran into the problem with the attached error below. I have attached what I have tried below.\r\nI want to display if the login was successful. Displayed as a JSON format it looks like this, I need help, please help me to correct the code below\r\n\r\n    {\r\n      status = &quot;true&quot;&#39;\r\n      message = &quot;login success&quot;\r\n    }\r\n\r\n\r\nFull Error\r\n\r\n    ework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeController&#39;: Unsatisfied dependency expressed through field &#39;employeeService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeIMPL&#39;: Unsatisfied dependency expressed through field &#39;employeeRepo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepo&#39; defined in com.example.Registation.Repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property &#39;usernamePassword&#39; found for type &#39;Employee&#39;; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property &#39;usernamePassword&#39; found for type &#39;Employee&#39;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListabl\r\n\r\n**LoginController**\r\n\r\n\r\n      @PostMapping(path = &quot;/login&quot;)\r\n        public String saveEmployee(@RequestBody LoginDTO loginDTO)\r\n        {\r\n            String name = employeeService.loginEmployee(loginDTO);\r\n           return &quot;success&quot;;\r\n        }\r\n\r\nLoginDTO.java\r\n\r\n    public class LoginDTO {\r\n        private String email;\r\n        private String password;\r\n    \r\n        public LoginDTO() {\r\n        }\r\n    \r\n        public LoginDTO(String email, String password) {\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;LoginDTO{&quot; +\r\n                    &quot;email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nEmployee.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;employee&quot;)\r\n    public class Employee {\r\n    \r\n        @Id\r\n        @Column(name=&quot;employee_id&quot;, length = 45)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int employeeid;\r\n    \r\n        @Column(name=&quot;employee_name&quot;, length = 255)\r\n        private String employeename;\r\n    \r\n        @Column(name=&quot;email&quot;, length = 255)\r\n        private String email;\r\n    \r\n        @Column(name=&quot;password&quot;, length = 255)\r\n        private String password;\r\n    \r\n    \r\n        public Employee() {\r\n        }\r\n    \r\n        public Employee(int employeeid, String employeename, String email, String password) {\r\n            this.employeeid = employeeid;\r\n            this.employeename = employeename;\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n    \r\n        public int getEmployeeid() {\r\n            return employeeid;\r\n        }\r\n    \r\n        public void setEmployeeid(int employeeid) {\r\n            this.employeeid = employeeid;\r\n        }\r\n    \r\n        public String getEmployeename() {\r\n            return employeename;\r\n        }\r\n    \r\n        public void setEmployeename(String employeename) {\r\n            this.employeename = employeename;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Employee{&quot; +\r\n                    &quot;employeeid=&quot; + employeeid +\r\n                    &quot;, employeename=&#39;&quot; + employeename + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nRepo\r\n\r\n    @EnableJpaRepositories\r\n    @Repository\r\n    public interface EmployeeRepo extends JpaRepository&lt;Employee,Integer&gt; {\r\n    \r\n    \r\n          public  Employee findByUsernamePassword(String username, String password);\r\n    \r\n    \r\n    }\r\n\r\nEmployeeService.java\r\n\r\n    public interface EmployeeService {\r\n        String addEmployee(EmployeeDTO employeeDTO);\r\n    \r\n        String loginEmployee(LoginDTO loginDTO);\r\n    }\r\n\r\n\r\nEmployeeIMPL.java\r\n\r\n    public String loginEmployee(LoginDTO loginDTO) {\r\n      Employee employee = employeeRepo.findByUsernamePassword(loginDTO.getEmail(),loginDTO.getPassword());\r\n    \r\n      if(employee == null)\r\n      {\r\n          return &quot;Employee ID Not Found&quot;;\r\n      }\r\n      else\r\n      {\r\n          return &quot;Logged In&quot;;\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Error creating bean with name Spring Boot","body":"<p>I am new to using Spring Boot. I have already got the user registration form and API working fine and successfully added the records into the database. After completing the login API I ran into the problem with the attached error below. I have attached what I have tried below.\nI want to display if the login was successful. Displayed as a JSON format it looks like this, I need help, please help me to correct the code below</p>\n<pre><code>{\n  status = &quot;true&quot;'\n  message = &quot;login success&quot;\n}\n</code></pre>\n<p>Full Error</p>\n<pre><code>ework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeController': Unsatisfied dependency expressed through field 'employeeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeIMPL': Unsatisfied dependency expressed through field 'employeeRepo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepo' defined in com.example.Registation.Repo.EmployeeRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property 'usernamePassword' found for type 'Employee'; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.Registation.Entity.Employee com.example.Registation.Repo.EmployeeRepo.findByUsernamePassword(java.lang.String,java.lang.String)! No property 'usernamePassword' found for type 'Employee'\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListabl\n</code></pre>\n<p><strong>LoginController</strong></p>\n<pre><code>  @PostMapping(path = &quot;/login&quot;)\n    public String saveEmployee(@RequestBody LoginDTO loginDTO)\n    {\n        String name = employeeService.loginEmployee(loginDTO);\n       return &quot;success&quot;;\n    }\n</code></pre>\n<p>LoginDTO.java</p>\n<pre><code>public class LoginDTO {\n    private String email;\n    private String password;\n\n    public LoginDTO() {\n    }\n\n    public LoginDTO(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;LoginDTO{&quot; +\n                &quot;email='&quot; + email + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Employee.java</p>\n<pre><code>@Entity\n@Table(name=&quot;employee&quot;)\npublic class Employee {\n\n    @Id\n    @Column(name=&quot;employee_id&quot;, length = 45)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int employeeid;\n\n    @Column(name=&quot;employee_name&quot;, length = 255)\n    private String employeename;\n\n    @Column(name=&quot;email&quot;, length = 255)\n    private String email;\n\n    @Column(name=&quot;password&quot;, length = 255)\n    private String password;\n\n\n    public Employee() {\n    }\n\n    public Employee(int employeeid, String employeename, String email, String password) {\n        this.employeeid = employeeid;\n        this.employeename = employeename;\n        this.email = email;\n        this.password = password;\n    }\n\n\n    public int getEmployeeid() {\n        return employeeid;\n    }\n\n    public void setEmployeeid(int employeeid) {\n        this.employeeid = employeeid;\n    }\n\n    public String getEmployeename() {\n        return employeename;\n    }\n\n    public void setEmployeename(String employeename) {\n        this.employeename = employeename;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee{&quot; +\n                &quot;employeeid=&quot; + employeeid +\n                &quot;, employeename='&quot; + employeename + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Repo</p>\n<pre><code>@EnableJpaRepositories\n@Repository\npublic interface EmployeeRepo extends JpaRepository&lt;Employee,Integer&gt; {\n\n\n      public  Employee findByUsernamePassword(String username, String password);\n\n\n}\n</code></pre>\n<p>EmployeeService.java</p>\n<pre><code>public interface EmployeeService {\n    String addEmployee(EmployeeDTO employeeDTO);\n\n    String loginEmployee(LoginDTO loginDTO);\n}\n</code></pre>\n<p>EmployeeIMPL.java</p>\n<pre><code>public String loginEmployee(LoginDTO loginDTO) {\n  Employee employee = employeeRepo.findByUsernamePassword(loginDTO.getEmail(),loginDTO.getPassword());\n\n  if(employee == null)\n  {\n      return &quot;Employee ID Not Found&quot;;\n  }\n  else\n  {\n      return &quot;Logged In&quot;;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cors"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675643621,"post_id":75355878,"comment_id":132967715,"body_markdown":"CORS is the MOST asked question when it comes to the spring security tag, it gets asked 5 times a week. there are 100s of questions that handles this also there is an entire chapter in the spring security documentation about CORS https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html#page-title https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application downvoted becuase bad research you have posted no debug logs, have you verified that your bean is loaded, and have you debugged your application?","body":"CORS is the MOST asked question when it comes to the spring security tag, it gets asked 5 times a week. there are 100s of questions that handles this also there is an entire chapter in the spring security documentation about CORS <a href=\"https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html#page-title\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/reactive/integratio&zwnj;&#8203;ns/&hellip;</a> <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\" title=\"how to configure cors in a spring boot spring security application\">stackoverflow.com/questions/36968963/&hellip;</a> downvoted becuase bad research you have posted no debug logs, have you verified that your bean is loaded, and have you debugged your application?"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1675671900,"post_id":75355878,"comment_id":132971661,"body_markdown":"@Toerktumlare Although everything you&#39;ve written is true, users facing a CORS issue often don&#39;t know where to begin and are let down by sub-par tools (exhibit A: why doesn&#39;t Spring validate user-specified origins?). Better nudge them in the right direction than admonish them.","body":"@Toerktumlare Although everything you&#39;ve written is true, users facing a CORS issue often don&#39;t know where to begin and are let down by sub-par tools (exhibit A: why doesn&#39;t Spring validate user-specified origins?). Better nudge them in the right direction than admonish them."}],"answers":[{"tags":[],"owner":{"account_id":11278303,"reputation":1,"user_id":8271722,"display_name":"Sebastian Perez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675698011,"creation_date":1675694793,"answer_id":75362828,"question_id":75355878,"body_markdown":"I solved it by separating my @Bean into another class like this:\r\n\r\n//remember to add &quot;.cors().and()&quot; to you SecurityFilterChain\r\n\r\n    @Configuration\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(&quot;http://localhost:3000/&quot;)\r\n                    .allowedHeaders(&quot;*&quot;)\r\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n        }\r\n        \r\n    }\r\n\r\nAlso had to add this line to be able to manipulate my Authorization token\r\n\r\n       .exposedHeaders(&quot;Authorization&quot;);","title":"How can I configure Cross-Origin Resource Sharing (CORS) in a Spring Boot application using SecurityFilterChain?","body":"<p>I solved it by separating my @Bean into another class like this:</p>\n<p>//remember to add &quot;.cors().and()&quot; to you SecurityFilterChain</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;http://localhost:3000/&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\n    }\n    \n}\n</code></pre>\n<p>Also had to add this line to be able to manipulate my Authorization token</p>\n<pre><code>   .exposedHeaders(&quot;Authorization&quot;);\n</code></pre>\n"}],"owner":{"account_id":11278303,"reputation":1,"user_id":8271722,"display_name":"Sebastian Perez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675843736,"answer_count":1,"score":-1,"last_activity_date":1675873219,"creation_date":1675635148,"question_id":75355878,"body_markdown":"I&#39;m using a `SecurityFilterChain` to manage my Security:\r\n\r\nFirst, added .cors().and() filter to my SecurityChain\r\n\r\n        JWTAuthenticationFilter jwtAuthenticationFilter = new JWTAuthenticationFilter();\r\n        jwtAuthenticationFilter.setAuthenticationManager(authManager);\r\n        jwtAuthenticationFilter.setFilterProcessesUrl(&quot;/login&quot;);\r\n    \r\n        return http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(jwtAuthenticationFilter)\r\n                .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n\r\nThen, created a corsConfiguration bean but still doesn&#39;t work as expected\r\n\r\n        @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(&quot;http://localhost:3000/&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;OPTIONS&quot;, &quot;POST&quot;)\r\n                        .allowedHeaders(&quot;Authorization&quot;)\r\n                        .allowCredentials(true);;\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n","title":"How can I configure Cross-Origin Resource Sharing (CORS) in a Spring Boot application using SecurityFilterChain?","body":"<p>I'm using a <code>SecurityFilterChain</code> to manage my Security:</p>\n<p>First, added .cors().and() filter to my SecurityChain</p>\n<pre><code>    JWTAuthenticationFilter jwtAuthenticationFilter = new JWTAuthenticationFilter();\n    jwtAuthenticationFilter.setAuthenticationManager(authManager);\n    jwtAuthenticationFilter.setFilterProcessesUrl(&quot;/login&quot;);\n\n    return http\n            .cors().and()\n            .csrf().disable()\n            .authorizeHttpRequests()\n            .anyRequest().authenticated()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilter(jwtAuthenticationFilter)\n            .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class)\n            .build();\n</code></pre>\n<p>Then, created a corsConfiguration bean but still doesn't work as expected</p>\n<pre><code>    @Bean\npublic WebMvcConfigurer corsConfigurer() {\n    return new WebMvcConfigurer() {\n        @Override\n        public void addCorsMappings(CorsRegistry registry) {\n            registry.addMapping(&quot;/**&quot;)\n                    .allowedOrigins(&quot;http://localhost:3000/&quot;)\n                    .allowedMethods(&quot;GET&quot;, &quot;OPTIONS&quot;, &quot;POST&quot;)\n                    .allowedHeaders(&quot;Authorization&quot;)\n                    .allowCredentials(true);;\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","android","webrtc","agora.io","sleep-mode"],"answers":[{"tags":[],"owner":{"account_id":11220533,"reputation":469,"user_id":8231841,"accept_rate":62,"display_name":"Saify"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1610781464,"creation_date":1610781464,"answer_id":65747316,"question_id":65715869,"body_markdown":"I resolved the issue by using **foreground service**. Now the systems prevents app from going into the sleep mode and voice issue is also resolved.","title":"Agora voice call stops audio after 1 minute of lock screen","body":"<p>I resolved the issue by using <strong>foreground service</strong>. Now the systems prevents app from going into the sleep mode and voice issue is also resolved.</p>\n"}],"owner":{"account_id":11220533,"reputation":469,"user_id":8231841,"accept_rate":62,"display_name":"Saify"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65747316,"answer_count":1,"score":2,"last_activity_date":1675873196,"creation_date":1610614082,"question_id":65715869,"body_markdown":"I have implemented agora voice call in my application. Its working fine on older devices and tabs but on new devices after locking the screen for 1 minute the receiver cannot hear audio. I guess android system puts the app in sleep mode.\r\n\r\nI have tried to use WAKE_LOCK to keep the app alive but no success. Can anyone help me in this? What i need to do?\r\n\r\nThanks.","title":"Agora voice call stops audio after 1 minute of lock screen","body":"<p>I have implemented agora voice call in my application. Its working fine on older devices and tabs but on new devices after locking the screen for 1 minute the receiver cannot hear audio. I guess android system puts the app in sleep mode.</p>\n<p>I have tried to use WAKE_LOCK to keep the app alive but no success. Can anyone help me in this? What i need to do?</p>\n<p>Thanks.</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1675873182,"post_id":75388666,"comment_id":133022624,"body_markdown":"If you wanted to run the Java program at the command line, what command would you type in? Figure that out, and then see the linked duplicate.","body":"If you wanted to run the Java program at the command line, what command would you type in? Figure that out, and then see the linked duplicate."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1675873323,"post_id":75388666,"comment_id":133022686,"body_markdown":"&quot;I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j.&quot; Really? Because when I try [copying and pasting your question title into a search engine (not even Google)](https://duckduckgo.com/?q=How+do+I+run+a+python+script+that+runs+a+java+program%3F), I see relevant results that are exactly what you want right off the top.","body":"&quot;I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j.&quot; Really? Because when I try <a href=\"https://duckduckgo.com/?q=How+do+I+run+a+python+script+that+runs+a+java+program%3F\" rel=\"nofollow noreferrer\">copying and pasting your question title into a search engine (not even Google)</a>, I see relevant results that are exactly what you want right off the top."},{"owner":{"account_id":21465788,"reputation":33,"user_id":15815734,"display_name":"ratsrule23"},"score":0,"creation_date":1675874928,"post_id":75388666,"comment_id":133023250,"body_markdown":"@KarlKnechtel thats weird. The search results from Duckduckgo are indeed helpful. However, if you type in the same question in Google, at least for me, the search results are about how to run python scripts from java, or the jython/py4j things I mentioned.","body":"@KarlKnechtel thats weird. The search results from Duckduckgo are indeed helpful. However, if you type in the same question in Google, at least for me, the search results are about how to run python scripts from java, or the jython/py4j things I mentioned."}],"owner":{"account_id":21465788,"reputation":33,"user_id":15815734,"display_name":"ratsrule23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675873198,"answer_count":0,"score":0,"last_activity_date":1675873053,"creation_date":1675872928,"question_id":75388666,"body_markdown":"I have these interdependent .java files. One of them contains the main statement that starts running a program and calling on all these other files. The results are some output files in .txt format. Until now, I ran the main statement in IntelliJ and then opened a jupyter notebook where I loaded the resulting .txt file after the process was finished.\r\nI want to write a python script in jupyter notebook that tells the machine to run the main statement from **this** .java file in **this** path and then do something with the resulting .txt output files on its own.\r\n\r\nI am new to programming, and I have a hard time understanding what this process is called. I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j. From what I understand, this is not what I need, because I don&#39;t need all the java scripts to run within python, I just need python to kickstart the process and then wait for the output to be produced.","title":"How do I run a python script that runs a java program?","body":"<p>I have these interdependent .java files. One of them contains the main statement that starts running a program and calling on all these other files. The results are some output files in .txt format. Until now, I ran the main statement in IntelliJ and then opened a jupyter notebook where I loaded the resulting .txt file after the process was finished.\nI want to write a python script in jupyter notebook that tells the machine to run the main statement from <strong>this</strong> .java file in <strong>this</strong> path and then do something with the resulting .txt output files on its own.</p>\n<p>I am new to programming, and I have a hard time understanding what this process is called. I have been googling for the past two days and mostly found examples of how to run java code in python or vice versa, e.g. with jython or py4j. From what I understand, this is not what I need, because I don't need all the java scripts to run within python, I just need python to kickstart the process and then wait for the output to be produced.</p>\n"},{"tags":["java","arraylist","java-stream","comparable"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675872445,"creation_date":1675771292,"answer_id":75373068,"question_id":75372537,"body_markdown":"Assuming you have all the necessary getters and have overriden the equals and hashCode methods, for example like this:\r\n\r\n    class Position {\r\n        String account;\r\n        String Date;\r\n        String Cycle;\r\n        String Status;\r\n\r\n        @Override\r\n        public boolean equals(final Object o) {\r\n            if (this == o) {\r\n                return true;\r\n            }\r\n            if (o == null || getClass() != o.getClass()) {\r\n                return false;\r\n            }\r\n            final Position position = (Position) o;\r\n            return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\r\n                   &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(account, Date, Cycle, Status);\r\n        }\r\n    }\r\n\r\nYou could stream over both lists, order them in an identical way and group them by `account` and use the resulting maps to filter accounts having the same list of Position objects. Example code:\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    public class Example2 {\r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\r\n    \r\n            List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),    \r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\r\n    \r\n            Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\r\n                                                        .thenComparing(Position::getDate)\r\n                                                        .thenComparing(Position::getCycle)\r\n                                                        .thenComparing(Position::getStatus);\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n    \r\n            List&lt;String&gt; result = mapA.keySet()\r\n                                      .stream()\r\n                                      .filter(key -&gt; mapA.get(key).equals(mapB.get(key)))\r\n                                      .toList();\r\n    \r\n            System.out.println(result);\r\n    \r\n        }\r\n    \r\n        @AllArgsConstructor\r\n        @Getter\r\n        @ToString\r\n        static class Position {\r\n            String account;\r\n            String Date;\r\n            String Cycle;\r\n            String Status;\r\n    \r\n            @Override\r\n            public boolean equals(final Object o) {\r\n                if (this == o) {\r\n                    return true;\r\n                }\r\n                if (o == null || getClass() != o.getClass()) {\r\n                    return false;\r\n                }\r\n                final Position position = (Position) o;\r\n                return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\r\n                       &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(account, Date, Cycle, Status);\r\n            }\r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\n&gt; ..been told not to override equal and hascode method in PositionEntity... is there any other way to compare the equality of the 2 list of objects without using equals method?\r\n\r\n\r\nyou can do the field by field comparison manually. I have added an example using BiPredicates. May be there are some eleganter ways to do this with some 3rd party libraries. But without changing the first approach too much the below should give you the same result without the need to override equals and hashCode.\r\n\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.BiPredicate;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.IntStream;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    public class Example2 {\r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\r\n    \r\n            List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\r\n                                           new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\r\n                                           new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\r\n    \r\n            Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\r\n                                                        .thenComparing(Position::getDate)\r\n                                                        .thenComparing(Position::getCycle)\r\n                                                        .thenComparing(Position::getStatus);\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n            Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\r\n    \r\n            //Since you cannot modify equals and hashCode you can do the field by field comparison manually\r\n            //there are maybe some 3rd party libraries which might do this elegantly,\r\n            // but something like below should work fine\r\n            BiPredicate&lt;Position,Position&gt; positionsEqual = (position1, position2) -&gt;\r\n                    position1.getAccount().equals(position2.getAccount()) &amp;&amp;\r\n                    position1.getDate().equals(position2.getDate()) &amp;&amp;\r\n                    position1.getCycle().equals(position2.getCycle()) &amp;&amp;\r\n                    position1.getStatus().equals(position2.getStatus());\r\n    \r\n            //Same approach to test the equality of two lists index by index using above predicate\r\n            BiPredicate&lt;List&lt;Position&gt;,List&lt;Position&gt;&gt; listsEqual = (list1, list2) -&gt; {\r\n                if (list1.size() != list2.size()){\r\n                    return false;\r\n                }\r\n                return IntStream.range(0, list1.size()).allMatch(i -&gt; positionsEqual.test(list1.get(i), list2.get(i)));\r\n            };\r\n    \r\n            //using the predicate to filter\r\n            List&lt;String&gt; result = mapA.keySet()\r\n                                      .stream()\r\n                                      .filter(key -&gt; listsEqual.test(mapA.get(key),(mapB.get(key))))\r\n                                      .toList();\r\n    \r\n            System.out.println(result);\r\n    \r\n        }\r\n    \r\n        @AllArgsConstructor\r\n        @Getter\r\n        @ToString\r\n        static class Position {\r\n            String account;\r\n            String Date;\r\n            String Cycle;\r\n            String Status;\r\n    \r\n            //Constructor, getter, toString..\r\n        }\r\n    }","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>Assuming you have all the necessary getters and have overriden the equals and hashCode methods, for example like this:</p>\n<pre><code>class Position {\n    String account;\n    String Date;\n    String Cycle;\n    String Status;\n\n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        final Position position = (Position) o;\n        return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\n               &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(account, Date, Cycle, Status);\n    }\n}\n</code></pre>\n<p>You could stream over both lists, order them in an identical way and group them by <code>account</code> and use the resulting maps to filter accounts having the same list of Position objects. Example code:</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.ToString;\n\npublic class Example2 {\n    public static void main(String[] args) {\n\n        List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\n\n        List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),    \n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\n\n        Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\n                                                    .thenComparing(Position::getDate)\n                                                    .thenComparing(Position::getCycle)\n                                                    .thenComparing(Position::getStatus);\n        Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n        Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n\n        List&lt;String&gt; result = mapA.keySet()\n                                  .stream()\n                                  .filter(key -&gt; mapA.get(key).equals(mapB.get(key)))\n                                  .toList();\n\n        System.out.println(result);\n\n    }\n\n    @AllArgsConstructor\n    @Getter\n    @ToString\n    static class Position {\n        String account;\n        String Date;\n        String Cycle;\n        String Status;\n\n        @Override\n        public boolean equals(final Object o) {\n            if (this == o) {\n                return true;\n            }\n            if (o == null || getClass() != o.getClass()) {\n                return false;\n            }\n            final Position position = (Position) o;\n            return Objects.equals(account, position.account) &amp;&amp; Objects.equals(Date, position.Date)\n                   &amp;&amp; Objects.equals(Cycle, position.Cycle) &amp;&amp; Objects.equals(Status, position.Status);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(account, Date, Cycle, Status);\n        }\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<blockquote>\n<p>..been told not to override equal and hascode method in PositionEntity... is there any other way to compare the equality of the 2 list of objects without using equals method?</p>\n</blockquote>\n<p>you can do the field by field comparison manually. I have added an example using BiPredicates. May be there are some eleganter ways to do this with some 3rd party libraries. But without changing the first approach too much the below should give you the same result without the need to override equals and hashCode.</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.BiPredicate;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.ToString;\n\npublic class Example2 {\n    public static void main(String[] args) {\n\n        List&lt;Position&gt; listA = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;));\n\n        List&lt;Position&gt; listB = List.of(new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC1&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closing&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;),\n                                       new Position(&quot;ACC2&quot;, &quot;20-Jan-23&quot;, &quot;2&quot;, &quot;closed&quot;),\n                                       new Position(&quot;ACC3&quot;, &quot;20-Jan-23&quot;, &quot;1&quot;, &quot;open&quot;));\n\n        Comparator&lt;Position&gt; comparator = Comparator.comparing(Position::getAccount)\n                                                    .thenComparing(Position::getDate)\n                                                    .thenComparing(Position::getCycle)\n                                                    .thenComparing(Position::getStatus);\n        Map&lt;String, List&lt;Position&gt;&gt; mapA = listA.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n        Map&lt;String, List&lt;Position&gt;&gt; mapB = listB.stream().sorted(comparator).collect(Collectors.groupingBy(Position::getAccount));\n\n        //Since you cannot modify equals and hashCode you can do the field by field comparison manually\n        //there are maybe some 3rd party libraries which might do this elegantly,\n        // but something like below should work fine\n        BiPredicate&lt;Position,Position&gt; positionsEqual = (position1, position2) -&gt;\n                position1.getAccount().equals(position2.getAccount()) &amp;&amp;\n                position1.getDate().equals(position2.getDate()) &amp;&amp;\n                position1.getCycle().equals(position2.getCycle()) &amp;&amp;\n                position1.getStatus().equals(position2.getStatus());\n\n        //Same approach to test the equality of two lists index by index using above predicate\n        BiPredicate&lt;List&lt;Position&gt;,List&lt;Position&gt;&gt; listsEqual = (list1, list2) -&gt; {\n            if (list1.size() != list2.size()){\n                return false;\n            }\n            return IntStream.range(0, list1.size()).allMatch(i -&gt; positionsEqual.test(list1.get(i), list2.get(i)));\n        };\n\n        //using the predicate to filter\n        List&lt;String&gt; result = mapA.keySet()\n                                  .stream()\n                                  .filter(key -&gt; listsEqual.test(mapA.get(key),(mapB.get(key))))\n                                  .toList();\n\n        System.out.println(result);\n\n    }\n\n    @AllArgsConstructor\n    @Getter\n    @ToString\n    static class Position {\n        String account;\n        String Date;\n        String Cycle;\n        String Status;\n\n        //Constructor, getter, toString..\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675774102,"creation_date":1675774102,"answer_id":75373594,"question_id":75372537,"body_markdown":"As Eritrean stated above, you need to implement hashCode() and equals() methods. Instead of streams you could use HashSet:\r\n\r\n        Set&lt;Position&gt; positionSet = new HashSet&lt;&gt;();\r\n        listA.stream().forEach(position -&gt; positionSet.add(position));\r\n        Set&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        for(Position position : listB){\r\n            if(positionSet.contains(position)){\r\n                result.add(position.getAccount());\r\n            }\r\n        }\r\n\r\nSo you find all Positions that are in both lists and then just add their accounts to the result set.","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>As Eritrean stated above, you need to implement hashCode() and equals() methods. Instead of streams you could use HashSet:</p>\n<pre><code>    Set&lt;Position&gt; positionSet = new HashSet&lt;&gt;();\n    listA.stream().forEach(position -&gt; positionSet.add(position));\n    Set&lt;String&gt; result = new ArrayList&lt;&gt;();\n    for(Position position : listB){\n        if(positionSet.contains(position)){\n            result.add(position.getAccount());\n        }\n    }\n</code></pre>\n<p>So you find all Positions that are in both lists and then just add their accounts to the result set.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675797314,"creation_date":1675793774,"answer_id":75377401,"question_id":75372537,"body_markdown":"This solution presumes you have overridden `equals` and `hashCode` which is a requirement. This is required for the `map`, and `set` data structures.  I also made use of getters.\r\n\r\nPutting the objects in `sets` would also make the lookups faster.\r\n\r\n- This puts the objects in `Map&lt;Boolean, Set&lt;Position&gt;&gt;`. I used two loops to avoid accessing external state in a stream.  I also didn&#39;t feel it was warranted to combine the lists to use a single loop.\r\n```\r\nMap&lt;Boolean, Set&lt;Position&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (Position p : setA) {   \r\n    map.computeIfAbsent(setA.contains(p) &amp;&amp; setB.contains(p),\r\n            v -&gt; new HashSet&lt;&gt;()).add(p);\r\n}\r\nfor (Position p : setB) {   \r\n    map.computeIfAbsent(listA.contains(p) &amp;&amp; setB.contains(p),\r\n            v -&gt; new HashSet&lt;&gt;()).add(p);\r\n}\r\n```\r\n\r\n- Once the values are separated into two sets, those accounts that were not in both sets are retrieved from the map.  This is done by filtering on the `boolean` in the streamed entrySet.\r\n```\r\n\r\nSet&lt;Position&gt; partial = map.entrySet().stream().filter(Entry::getKey)\r\n        .flatMap(e -&gt; e.getValue().stream())\r\n        .collect(Collectors.toCollection(HashSet::new));\r\n```\r\n- Now that a partial list of possible successes has been retrieved, the Accounts that were not in both lists must be removed from the `partial` list.\r\n```\r\nfor(Position p : map.get(false)) {\r\n     partial.removeIf(pos -&gt; pos.getAccount().equals(p.getAccount()));\r\n}\r\n\r\nresults.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nPosition [ACC1, 20-Jan-23, 1, open]\r\nPosition [ACC1, 20-Jan-23, 2, closing]\r\n","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>This solution presumes you have overridden <code>equals</code> and <code>hashCode</code> which is a requirement. This is required for the <code>map</code>, and <code>set</code> data structures.  I also made use of getters.</p>\n<p>Putting the objects in <code>sets</code> would also make the lookups faster.</p>\n<ul>\n<li>This puts the objects in <code>Map&lt;Boolean, Set&lt;Position&gt;&gt;</code>. I used two loops to avoid accessing external state in a stream.  I also didn't feel it was warranted to combine the lists to use a single loop.</li>\n</ul>\n<pre><code>Map&lt;Boolean, Set&lt;Position&gt;&gt; map = new HashMap&lt;&gt;();\n\nfor (Position p : setA) {   \n    map.computeIfAbsent(setA.contains(p) &amp;&amp; setB.contains(p),\n            v -&gt; new HashSet&lt;&gt;()).add(p);\n}\nfor (Position p : setB) {   \n    map.computeIfAbsent(listA.contains(p) &amp;&amp; setB.contains(p),\n            v -&gt; new HashSet&lt;&gt;()).add(p);\n}\n</code></pre>\n<ul>\n<li>Once the values are separated into two sets, those accounts that were not in both sets are retrieved from the map.  This is done by filtering on the <code>boolean</code> in the streamed entrySet.</li>\n</ul>\n<pre><code>\nSet&lt;Position&gt; partial = map.entrySet().stream().filter(Entry::getKey)\n        .flatMap(e -&gt; e.getValue().stream())\n        .collect(Collectors.toCollection(HashSet::new));\n</code></pre>\n<ul>\n<li>Now that a partial list of possible successes has been retrieved, the Accounts that were not in both lists must be removed from the <code>partial</code> list.</li>\n</ul>\n<pre><code>for(Position p : map.get(false)) {\n     partial.removeIf(pos -&gt; pos.getAccount().equals(p.getAccount()));\n}\n\nresults.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Position [ACC1, 20-Jan-23, 1, open]\nPosition [ACC1, 20-Jan-23, 2, closing]\n</code></pre>\n"}],"owner":{"account_id":4757128,"reputation":65,"user_id":3845608,"display_name":"Enthu Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75373068,"answer_count":3,"score":1,"last_activity_date":1675872445,"creation_date":1675768285,"question_id":75372537,"body_markdown":"I have two list **ListA&lt;Position&gt; listA = new ArrayList&lt;Position&gt;()** and ListB&lt;Position&gt; listB = new ArrayList&lt;Position&gt;() both contain object of type Position object and Position contain these variables.\r\n\r\n    Position {\r\n        String account;\r\n        String Date;\r\n        String Cycle;\r\n        String Status;\r\n    } \r\n\r\nand if for example my lists has values like this \r\n\r\n    ListA = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\r\n            [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;]\r\n    \r\n    ListB = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\r\n            [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closed&quot;],\r\n            [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;]\r\n\r\nnow my requirement is from the above both lists, I need to find out and extract all accounts that exactly matches in the other list but uniquely, meaning\r\n\r\n&quot;ACC1&quot; having two objects in listA and same exists in ListB so this the right candidate that i needed to extract\r\n\r\n&quot;ACC2&quot; having two objects in both lists  but only one matching exactly same with listB, but other record doesnt match because the status values differs (&#39;closing&#39; and &#39;closed&#39;) so i need to exclude ACC2\r\n\r\n&quot;ACC3&quot; having two objects in listA but not in list B, so i need to exclude this ACC3 as well\r\n\r\nso ACC1 is what i&#39;m interested in \r\n\r\nIs there any way we can achieve this efficiently using java streams or usual standard way\r\n\r\nThanks\r\n","title":"find the matching objects from two array lists? list can contain same multiple objects","body":"<p>I have two list <strong>ListA listA = new ArrayList()</strong> and ListB listB = new ArrayList() both contain object of type Position object and Position contain these variables.</p>\n<pre><code>Position {\n    String account;\n    String Date;\n    String Cycle;\n    String Status;\n} \n</code></pre>\n<p>and if for example my lists has values like this</p>\n<pre><code>ListA = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\n        [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;]\n\nListB = [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC1&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closing&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;],\n        [&quot;ACC2&quot;,&quot;20-Jan-23&quot;,&quot;2&quot;,&quot;closed&quot;],\n        [&quot;ACC3&quot;,&quot;20-Jan-23&quot;,&quot;1&quot;,&quot;open&quot;]\n</code></pre>\n<p>now my requirement is from the above both lists, I need to find out and extract all accounts that exactly matches in the other list but uniquely, meaning</p>\n<p>&quot;ACC1&quot; having two objects in listA and same exists in ListB so this the right candidate that i needed to extract</p>\n<p>&quot;ACC2&quot; having two objects in both lists  but only one matching exactly same with listB, but other record doesnt match because the status values differs ('closing' and 'closed') so i need to exclude ACC2</p>\n<p>&quot;ACC3&quot; having two objects in listA but not in list B, so i need to exclude this ACC3 as well</p>\n<p>so ACC1 is what i'm interested in</p>\n<p>Is there any way we can achieve this efficiently using java streams or usual standard way</p>\n<p>Thanks</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675872409,"creation_date":1675872409,"answer_id":75388559,"question_id":75388276,"body_markdown":"Your jsonObject before update only contains the &quot;IDNew&quot; node.\r\n\r\nThe best way to do this is using xPath from [Jayway][1]\r\n\r\n    private static final Configuration configuration = Configuration.builder()\r\n        .jsonProvider(new JacksonJsonNodeJsonProvider())\r\n        .mappingProvider(new JacksonMappingProvider())\r\n        .build();\r\n\r\n\r\n\r\n\t    String originalJson = &quot;{\\r\\n&quot;\r\n\t    \t\t+ &quot;  \\&quot;Added\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;type\\&quot;: \\&quot;K\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;newmem\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;IDNew\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;        \\&quot;id\\&quot;: \\&quot;777709\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;        \\&quot;type\\&quot;: \\&quot;LOP\\&quot;\\r\\n&quot;\r\n\t    \t\t+ &quot;      },\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;birthDate\\&quot;: \\&quot;2000-12-09\\&quot;\\r\\n&quot;\r\n\t    \t\t+ &quot;    },\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;code\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;    \\&quot;newest\\&quot;: {\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;curlNew\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\r\n\t    \t\t+ &quot;      \\&quot;addedForNew\\&quot;: \\&quot;\\&quot;\\r\\n&quot;\r\n\t    \t\t+ &quot;    }\\r\\n&quot;\r\n\t    \t\t+ &quot;  }\\r\\n&quot;\r\n\t    \t\t+ &quot;}&quot;;\r\n\r\n    JsonNode updatedJson = JsonPath.using(configuration).parse(originalJson).set(&quot;$.Added.IDNew.id&quot;, 12345).json();\r\n\r\n    System.out.println(updatedJson.toString());\r\n    }\r\n\r\n  [1]: https://github.com/json-path/JsonPath\r\n\r\n","title":"How to rewrite full updated json instead of only the nested part","body":"<p>Your jsonObject before update only contains the &quot;IDNew&quot; node.</p>\n<p>The best way to do this is using xPath from <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">Jayway</a></p>\n<pre><code>private static final Configuration configuration = Configuration.builder()\n    .jsonProvider(new JacksonJsonNodeJsonProvider())\n    .mappingProvider(new JacksonMappingProvider())\n    .build();\n\n\n\n    String originalJson = &quot;{\\r\\n&quot;\n            + &quot;  \\&quot;Added\\&quot;: {\\r\\n&quot;\n            + &quot;    \\&quot;type\\&quot;: \\&quot;K\\&quot;,\\r\\n&quot;\n            + &quot;    \\&quot;newmem\\&quot;: {\\r\\n&quot;\n            + &quot;      \\&quot;IDNew\\&quot;: {\\r\\n&quot;\n            + &quot;        \\&quot;id\\&quot;: \\&quot;777709\\&quot;,\\r\\n&quot;\n            + &quot;        \\&quot;type\\&quot;: \\&quot;LOP\\&quot;\\r\\n&quot;\n            + &quot;      },\\r\\n&quot;\n            + &quot;      \\&quot;birthDate\\&quot;: \\&quot;2000-12-09\\&quot;\\r\\n&quot;\n            + &quot;    },\\r\\n&quot;\n            + &quot;    \\&quot;code\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\n            + &quot;    \\&quot;newest\\&quot;: {\\r\\n&quot;\n            + &quot;      \\&quot;curlNew\\&quot;: \\&quot;\\&quot;,\\r\\n&quot;\n            + &quot;      \\&quot;addedForNew\\&quot;: \\&quot;\\&quot;\\r\\n&quot;\n            + &quot;    }\\r\\n&quot;\n            + &quot;  }\\r\\n&quot;\n            + &quot;}&quot;;\n\nJsonNode updatedJson = JsonPath.using(configuration).parse(originalJson).set(&quot;$.Added.IDNew.id&quot;, 12345).json();\n\nSystem.out.println(updatedJson.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":13461167,"reputation":59,"user_id":9713134,"display_name":"DevOps QA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75388559,"answer_count":1,"score":0,"last_activity_date":1675872409,"creation_date":1675871199,"question_id":75388276,"body_markdown":"I have a json file called test.json that looks like:\r\n\r\n    {\r\n      &quot;Added&quot;: {\r\n        &quot;type&quot;: &quot;K&quot;,\r\n        &quot;newmem&quot;: {\r\n          &quot;IDNew&quot;: {\r\n            &quot;id&quot;: &quot;777709&quot;,\r\n            &quot;type&quot;: &quot;LOP&quot;\r\n          },\r\n          &quot;birthDate&quot;: &quot;2000-12-09&quot;\r\n        },\r\n        &quot;code&quot;: &quot;&quot;,\r\n        &quot;newest&quot;: {\r\n          &quot;curlNew&quot;: &quot;&quot;,\r\n          &quot;addedForNew&quot;: &quot;&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nI am able to update the id in the json and write back to the file using the following code:\r\n\r\n    FileReader reader = new FileReader(filePath); //where file path = D://.../test.json\r\n    String keyToUpdate = &quot;Added.newmem.IDNew.id&quot;\r\n    String[] keyArr = jsonKey.split(&quot;\\\\.&quot; );\r\n    String keyToUpdate = keyArr [keyArr.length-1]\r\n    keyArr.removeElement(keyArr, keyToUpdate)\r\n    for (String key: keyArr){ \r\n       jsonObject = (JSONObject) jsonObject.get(key);\r\n    }\r\n\r\n    jsonObject.put(&quot;id&quot;,12345);\r\n    FileOutputStream outputStream = new FileOutputStream(filePath);\r\n    byte[] strToBytes = jsonObject.toString().getBytes();\r\n    outputStream.write(strToBytes);\r\n\r\nHowever, instead of re-writing the entire json with the updated value, it&#39;s only writing:\r\n\r\n      {\r\n        &quot;id&quot;: &quot;777709&quot;,\r\n        &quot;type&quot;: &quot;LOP&quot;\r\n      }\r\nWhat can I do to re-write the entire json instead of only the nested part of it?","title":"How to rewrite full updated json instead of only the nested part","body":"<p>I have a json file called test.json that looks like:</p>\n<pre><code>{\n  &quot;Added&quot;: {\n    &quot;type&quot;: &quot;K&quot;,\n    &quot;newmem&quot;: {\n      &quot;IDNew&quot;: {\n        &quot;id&quot;: &quot;777709&quot;,\n        &quot;type&quot;: &quot;LOP&quot;\n      },\n      &quot;birthDate&quot;: &quot;2000-12-09&quot;\n    },\n    &quot;code&quot;: &quot;&quot;,\n    &quot;newest&quot;: {\n      &quot;curlNew&quot;: &quot;&quot;,\n      &quot;addedForNew&quot;: &quot;&quot;\n    }\n  }\n}\n</code></pre>\n<p>I am able to update the id in the json and write back to the file using the following code:</p>\n<pre><code>FileReader reader = new FileReader(filePath); //where file path = D://.../test.json\nString keyToUpdate = &quot;Added.newmem.IDNew.id&quot;\nString[] keyArr = jsonKey.split(&quot;\\\\.&quot; );\nString keyToUpdate = keyArr [keyArr.length-1]\nkeyArr.removeElement(keyArr, keyToUpdate)\nfor (String key: keyArr){ \n   jsonObject = (JSONObject) jsonObject.get(key);\n}\n\njsonObject.put(&quot;id&quot;,12345);\nFileOutputStream outputStream = new FileOutputStream(filePath);\nbyte[] strToBytes = jsonObject.toString().getBytes();\noutputStream.write(strToBytes);\n</code></pre>\n<p>However, instead of re-writing the entire json with the updated value, it's only writing:</p>\n<pre><code>  {\n    &quot;id&quot;: &quot;777709&quot;,\n    &quot;type&quot;: &quot;LOP&quot;\n  }\n</code></pre>\n<p>What can I do to re-write the entire json instead of only the nested part of it?</p>\n"},{"tags":["java","multithreading","cdi","quarkus","vertx-eventbus"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1675872832,"post_id":75388461,"comment_id":133022485,"body_markdown":"I&#39;d suggest to copy the necessary data from the request-scoped bean into your own object and pass that to the async task. Request-scoped beans are generally not required to be thread-safe, so accessing them from multiple threads may be risky.","body":"I&#39;d suggest to copy the necessary data from the request-scoped bean into your own object and pass that to the async task. Request-scoped beans are generally not required to be thread-safe, so accessing them from multiple threads may be risky."},{"owner":{"account_id":8161782,"reputation":103,"user_id":6148340,"display_name":"Bentz"},"score":0,"creation_date":1675874672,"post_id":75388461,"comment_id":133023172,"body_markdown":"@Ladicek\nI can pass a copy of the data but then i have to pass down the data across multiple methods, currently inside of the methods we are pulling the data from that RequestScoped bean.\nI want to avoid passing down the data across the methods.\n\nI&#39;m looking for a way to inject the data into a new &quot;context&quot; (a new instance of that RequestScoped bean).","body":"@Ladicek I can pass a copy of the data but then i have to pass down the data across multiple methods, currently inside of the methods we are pulling the data from that RequestScoped bean. I want to avoid passing down the data across the methods.  I&#39;m looking for a way to inject the data into a new &quot;context&quot; (a new instance of that RequestScoped bean)."},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1675886582,"post_id":75388461,"comment_id":133026839,"body_markdown":"You can disable context propagation, manually activate the request context in the async task using `@ActivateRequestContext` or `RequestContextController`, lookup the bean and set its content.","body":"You can disable context propagation, manually activate the request context in the async task using <code>@ActivateRequestContext</code> or <code>RequestContextController</code>, lookup the bean and set its content."}],"owner":{"account_id":8161782,"reputation":103,"user_id":6148340,"display_name":"Bentz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675871989,"creation_date":1675871989,"question_id":75388461,"body_markdown":"I have a Quarkus app with REST API and multiple services that are `@ApplicationScoped`, and one bean that is `@RequestScoped` (it has data related to JWT, cookies etc).\r\n  \r\nWhen the REST API is invoked, I want to do some work synchronously and then return an answer to the client but to keep doing async work with the same RequestScoped bean (context data).\r\n\r\nI tried to propagate the RequestScoped bean to the thread that will handle the async task, but once the HTTP request is finished, the RequestScoped bean is getting deleted.\r\n\r\nWhat is the correct way of doing this?  \r\nBasically I want to share some context across a flow that involves sync and async tasks","title":"share request context between threads","body":"<p>I have a Quarkus app with REST API and multiple services that are <code>@ApplicationScoped</code>, and one bean that is <code>@RequestScoped</code> (it has data related to JWT, cookies etc).</p>\n<p>When the REST API is invoked, I want to do some work synchronously and then return an answer to the client but to keep doing async work with the same RequestScoped bean (context data).</p>\n<p>I tried to propagate the RequestScoped bean to the thread that will handle the async task, but once the HTTP request is finished, the RequestScoped bean is getting deleted.</p>\n<p>What is the correct way of doing this?<br />\nBasically I want to share some context across a flow that involves sync and async tasks</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1675870474,"post_id":75388084,"comment_id":133021543,"body_markdown":"can u add complete test class ?","body":"can u add complete test class ?"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675871942,"creation_date":1675871942,"answer_id":75388449,"question_id":75388084,"body_markdown":"As soon as you use Spring then in `application-test.properties` you could add\r\n```yml\r\napp.correspondent=some-value\r\n```\r\nAnd in test class you use `@MockBean` as:\r\n```java\r\nclass TestClass {\r\n  @MockBean\r\n  private AccountService accountService;\r\n\r\n}\r\n```\r\nAt context start-up Spring will create `AccountController` with the value injected from `application-test.properties` and mocked `accountService`.","title":"Mock constructor value in JUnit test","body":"<p>As soon as you use Spring then in <code>application-test.properties</code> you could add</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>app.correspondent=some-value\n</code></pre>\n<p>And in test class you use <code>@MockBean</code> as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestClass {\n  @MockBean\n  private AccountService accountService;\n\n}\n</code></pre>\n<p>At context start-up Spring will create <code>AccountController</code> with the value injected from <code>application-test.properties</code> and mocked <code>accountService</code>.</p>\n"},{"tags":[],"owner":{"account_id":6018318,"reputation":131,"user_id":4726341,"display_name":"Sergey Gerasimov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675871969,"creation_date":1675871969,"answer_id":75388457,"question_id":75388084,"body_markdown":"I think the problem might be related to creating the bean itself and not the mock (probably it resolves `@Value(&quot;${app.correspondent}&quot;)` to `&quot;&quot;` in the test environment and then fails as it&#39;s not an UUID. I suggest putting something like `app.correspondent=d7aa282f-a8aa-40f9-bce6-08ce6737b6e1` in the properties and check it out. \r\n\r\nAlso, it looks like there&#39;s another problem you might face: it&#39;s `AccountService, String` method signature in the controller and `AccountService, UUID` in the mock. Pretty sure this will give another error with mock construction. Though, this is easy to fix with a simple toString. ","title":"Mock constructor value in JUnit test","body":"<p>I think the problem might be related to creating the bean itself and not the mock (probably it resolves <code>@Value(&quot;${app.correspondent}&quot;)</code> to <code>&quot;&quot;</code> in the test environment and then fails as it's not an UUID. I suggest putting something like <code>app.correspondent=d7aa282f-a8aa-40f9-bce6-08ce6737b6e1</code> in the properties and check it out.</p>\n<p>Also, it looks like there's another problem you might face: it's <code>AccountService, String</code> method signature in the controller and <code>AccountService, UUID</code> in the mock. Pretty sure this will give another error with mock construction. Though, this is easy to fix with a simple toString.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75388457,"answer_count":2,"score":0,"last_activity_date":1675871969,"creation_date":1675870302,"question_id":75388084,"body_markdown":"I have the following controller which I want to test:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/account&quot;)\r\n    public class AccountController {\r\n    \r\n        private final AccountService accountService;\r\n    \r\n        private UUID correspondentId;\r\n    \r\n    \r\n        public AccountController(AccountService accountService, @Value(&quot;${app.correspondent}&quot;) String correspondentId) {\r\n            this.accountService = accountService;\r\n            this.correspondentId = UUID.fromString(correspondentId);\r\n        }\r\n    \r\n        @GetMapping(&quot;&quot;)\r\n        @PreAuthorize(&quot;hasRole(&#39;CUSTOMER&#39;)&quot;)\r\n        Mono&lt;String&gt; index(Authentication auth) {\r\n            return.....;\r\n        }\r\n\r\nI tried to mock a test this way:\r\n\r\n    @Test\r\n    public void testMockUser() {\r\n            AccountService accountService = Mockito.mock(AccountService.class);\r\n            Mockito.mock(AccountController.class, withSettings().useConstructor(accountService, \r\n            UUID.randomUUID()));\r\n    \r\n            webTestClient\r\n                    .mutateWith(jwtMutator())\r\n                    .get().uri(&quot;/api/account/&quot;)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .exchange()\r\n                    .expectStatus().isOk();\r\n    }\r\n             \r\n\r\nBut I get error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Invalid UUID string: \r\n\r\nDo you know what is the proper way to mock the constructor value?","title":"Mock constructor value in JUnit test","body":"<p>I have the following controller which I want to test:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/account&quot;)\npublic class AccountController {\n\n    private final AccountService accountService;\n\n    private UUID correspondentId;\n\n\n    public AccountController(AccountService accountService, @Value(&quot;${app.correspondent}&quot;) String correspondentId) {\n        this.accountService = accountService;\n        this.correspondentId = UUID.fromString(correspondentId);\n    }\n\n    @GetMapping(&quot;&quot;)\n    @PreAuthorize(&quot;hasRole('CUSTOMER')&quot;)\n    Mono&lt;String&gt; index(Authentication auth) {\n        return.....;\n    }\n</code></pre>\n<p>I tried to mock a test this way:</p>\n<pre><code>@Test\npublic void testMockUser() {\n        AccountService accountService = Mockito.mock(AccountService.class);\n        Mockito.mock(AccountController.class, withSettings().useConstructor(accountService, \n        UUID.randomUUID()));\n\n        webTestClient\n                .mutateWith(jwtMutator())\n                .get().uri(&quot;/api/account/&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk();\n}\n         \n</code></pre>\n<p>But I get error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Invalid UUID string: \n</code></pre>\n<p>Do you know what is the proper way to mock the constructor value?</p>\n"},{"tags":["java","arrays","multidimensional-array","mapping"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1675602354,"post_id":75352450,"comment_id":132960572,"body_markdown":"There is no `double` datatype in JavaScript which as the tag on your question suggests is the language you are using. Is it possible you&#39;re writing Java code? Please tag the question accordingly.","body":"There is no <code>double</code> datatype in JavaScript which as the tag on your question suggests is the language you are using. Is it possible you&#39;re writing Java code? Please tag the question accordingly."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675604763,"creation_date":1675604763,"answer_id":75352716,"question_id":75352450,"body_markdown":"You can use [modulo](https://en.wikipedia.org/wiki/Modulo) to map the x index and a simple division to map the y index of the two-dimensional array two the one-dimensional index.\r\n\r\nThe solution initializes the array with zeroes first. Time and memory complexity would obviously be `Θ(xy)`.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function reshape(oneDimArray, x, y) {\r\n      if(x &lt; 0 || y &lt; 0) throw new RangeError(`x and y must not be negative`)\r\n      const twoDimArray = [...new Array(y)].map(_ =&gt; {\r\n        const array = new Array(x);\r\n        array.fill(0, 0, array.length);\r\n        return array;\r\n      });\r\n      for (let i = 0; i &lt; oneDimArray.length; i++) {\r\n        const yIndex = Math.floor(i / x);\r\n        const xIndex = i % x;\r\n        twoDimArray[yIndex][xIndex] = oneDimArray[i];\r\n      }\r\n      return twoDimArray;\r\n    }\r\n\r\n    const sample = [1, 2, 3, 4];\r\n    console.log(reshape(sample, 2, 2));\r\n    console.log(reshape(sample, 2, 4));\r\n    console.log(reshape(sample, 1, 4));\r\n    console.log(reshape(sample, 3, 4));\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    /* StackOverflow snippet: console should overlap rendered HTML area */\r\n    .as-console-wrapper { max-height: 100% !important; top: 0; }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe same algorithm implemented in Java would look like this:\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        var sample = new double[]{ 1d, 2d, 3d, 4d };\r\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 2)));\r\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 4)));\r\n        System.out.println(Arrays.deepToString(reshape(sample, 1, 4)));\r\n        System.out.println(Arrays.deepToString(reshape(sample, 3, 4)));\r\n    }\r\n\r\n    public static double[][] reshape(double[] oneDimArray, int x, int y)\r\n    {\r\n        if(x &lt; 0 || y &lt; 0) throw new IllegalArgumentException(&quot;x and y must not be negative&quot;);\r\n        var twoDimArray = new double[y][x];\r\n        for (var i = 0; i &lt; oneDimArray.length; i++) {\r\n            var yIndex = (int)(i / x);\r\n            var xIndex = i % x;\r\n            twoDimArray[yIndex][xIndex] = oneDimArray[i];\r\n        }\r\n        return twoDimArray;\r\n    }\r\n}\r\n```","title":"Converting 1-dimensional double value to 2-dimensional double value","body":"<p>You can use <a href=\"https://en.wikipedia.org/wiki/Modulo\" rel=\"nofollow noreferrer\">modulo</a> to map the x index and a simple division to map the y index of the two-dimensional array two the one-dimensional index.</p>\n<p>The solution initializes the array with zeroes first. Time and memory complexity would obviously be <code>Θ(xy)</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function reshape(oneDimArray, x, y) {\n  if(x &lt; 0 || y &lt; 0) throw new RangeError(`x and y must not be negative`)\n  const twoDimArray = [...new Array(y)].map(_ =&gt; {\n    const array = new Array(x);\n    array.fill(0, 0, array.length);\n    return array;\n  });\n  for (let i = 0; i &lt; oneDimArray.length; i++) {\n    const yIndex = Math.floor(i / x);\n    const xIndex = i % x;\n    twoDimArray[yIndex][xIndex] = oneDimArray[i];\n  }\n  return twoDimArray;\n}\n\nconst sample = [1, 2, 3, 4];\nconsole.log(reshape(sample, 2, 2));\nconsole.log(reshape(sample, 2, 4));\nconsole.log(reshape(sample, 1, 4));\nconsole.log(reshape(sample, 3, 4));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* StackOverflow snippet: console should overlap rendered HTML area */\n.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The same algorithm implemented in Java would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        var sample = new double[]{ 1d, 2d, 3d, 4d };\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 2)));\n        System.out.println(Arrays.deepToString(reshape(sample, 2, 4)));\n        System.out.println(Arrays.deepToString(reshape(sample, 1, 4)));\n        System.out.println(Arrays.deepToString(reshape(sample, 3, 4)));\n    }\n\n    public static double[][] reshape(double[] oneDimArray, int x, int y)\n    {\n        if(x &lt; 0 || y &lt; 0) throw new IllegalArgumentException(&quot;x and y must not be negative&quot;);\n        var twoDimArray = new double[y][x];\n        for (var i = 0; i &lt; oneDimArray.length; i++) {\n            var yIndex = (int)(i / x);\n            var xIndex = i % x;\n            twoDimArray[yIndex][xIndex] = oneDimArray[i];\n        }\n        return twoDimArray;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27708378,"reputation":3,"user_id":21151560,"display_name":"Alison Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75352716,"answer_count":1,"score":0,"last_activity_date":1675871904,"creation_date":1675602195,"question_id":75352450,"body_markdown":"I am trying to map the items in 1-dimensional `double[]` to 2-dimensional `double[][]`, in a way that it is arranged in a matrix. For example, `[1, 2, 3, 4]` would be converted into a 2*2 array with `[1, 2]` in the first row and then `[3, 4]` in the second row. No values are given, so I need to put the variables instead of the actual integers, though.\r\n\r\nHow do I do this?\r\n\r\nI tried pushing and slicing, but they only work for `int` not `double`.","title":"Converting 1-dimensional double value to 2-dimensional double value","body":"<p>I am trying to map the items in 1-dimensional <code>double[]</code> to 2-dimensional <code>double[][]</code>, in a way that it is arranged in a matrix. For example, <code>[1, 2, 3, 4]</code> would be converted into a 2*2 array with <code>[1, 2]</code> in the first row and then <code>[3, 4]</code> in the second row. No values are given, so I need to put the variables instead of the actual integers, though.</p>\n<p>How do I do this?</p>\n<p>I tried pushing and slicing, but they only work for <code>int</code> not <code>double</code>.</p>\n"},{"tags":["python","java","ethereum","solidity","hedera-hashgraph"],"answers":[{"tags":[],"owner":{"account_id":27543378,"reputation":113,"user_id":21019757,"display_name":"Acehilm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675871859,"creation_date":1675688842,"answer_id":75361719,"question_id":73059934,"body_markdown":"It sounds like the SDK is attempting to send your request to a node that&#39;s currently unavailable (see [hedera status page][1]), or your connectivity to the Hedera network is failing altogether.\r\n\r\nNote that calls to the Hedera API are made over port 50211 (or 50212) which are sometimes blocked by enterprise firewalls, if the same code works over a cellular/mobile connection or another wifi (home/other), this is the likely cause of the problem.\r\n\r\n\r\n  [1]: https://status.hedera.com","title":"jnius.JavaException: JVM exception occurred: exceeded maximum","body":"<p>It sounds like the SDK is attempting to send your request to a node that's currently unavailable (see <a href=\"https://status.hedera.com\" rel=\"nofollow noreferrer\">hedera status page</a>), or your connectivity to the Hedera network is failing altogether.</p>\n<p>Note that calls to the Hedera API are made over port 50211 (or 50212) which are sometimes blocked by enterprise firewalls, if the same code works over a cellular/mobile connection or another wifi (home/other), this is the likely cause of the problem.</p>\n"}],"owner":{"account_id":16617813,"reputation":157,"user_id":19346974,"display_name":"mev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75361719,"answer_count":1,"score":3,"last_activity_date":1675871859,"creation_date":1658369432,"question_id":73059934,"body_markdown":"I am creating a DApp on the Hedera Blockchain using Hedera-sdk-py, a python wrapper of Hedera SDK in Java. I keep getting *JVM exception occurred: exceeded maximum attempts for request with the last exception being com.hedera.hashgraph.sdk.MaxAttemptsExceededException* each time I try to create an account. The error occurs at: *resp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client).* Any help will be appreciated as I have tried repeatedly without success to fix it.\r\n\r\n    from hedera import (\r\n        Hbar,\r\n        PrivateKey,\r\n        AccountCreateTransaction,\r\n    )\r\n    from get_client import client\r\n\r\n    # Generate a Ed25519 private, public key pair\r\n    newKey = PrivateKey.generate()\r\n    newPublicKey = newKey.getPublicKey()\r\n\r\n    print(&quot;private key = &quot;, newKey.toString())\r\n    print(&quot;public key = &quot;, newPublicKey.toString())\r\n\r\n    tran = AccountCreateTransaction()\r\n    # need a certain number of hbars, otherwise it can not be deleted later\r\n    resp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client)\r\n    receipt = resp.getReceipt(client)\r\n    print(&quot;account = &quot;,  receipt.accountId.toString()","title":"jnius.JavaException: JVM exception occurred: exceeded maximum","body":"<p>I am creating a DApp on the Hedera Blockchain using Hedera-sdk-py, a python wrapper of Hedera SDK in Java. I keep getting <em>JVM exception occurred: exceeded maximum attempts for request with the last exception being com.hedera.hashgraph.sdk.MaxAttemptsExceededException</em> each time I try to create an account. The error occurs at: <em>resp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client).</em> Any help will be appreciated as I have tried repeatedly without success to fix it.</p>\n<pre><code>from hedera import (\n    Hbar,\n    PrivateKey,\n    AccountCreateTransaction,\n)\nfrom get_client import client\n\n# Generate a Ed25519 private, public key pair\nnewKey = PrivateKey.generate()\nnewPublicKey = newKey.getPublicKey()\n\nprint(&quot;private key = &quot;, newKey.toString())\nprint(&quot;public key = &quot;, newPublicKey.toString())\n\ntran = AccountCreateTransaction()\n# need a certain number of hbars, otherwise it can not be deleted later\nresp = tran.setKey(newPublicKey).setInitialBalance(Hbar(2)).execute(client)\nreceipt = resp.getReceipt(client)\nprint(&quot;account = &quot;,  receipt.accountId.toString()\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675871571,"creation_date":1675871571,"answer_id":75388356,"question_id":75386970,"body_markdown":"The closest analog of the `handle` is a `map` (not `flatMap`). You could think about it as a combination of the `map` &amp; `filter`. In contrast to `flatMap` both `handle` and `map` are synchronous function.\r\n\r\n**`map`** - transforms the emitted item by applying a synchronous function. It provides 1:1 mapping and **every** item should be mapped. The only way to skip item is to throw exception and then immediately handle the error signal using `onErrorResume`.\r\n\r\n\r\n**`handle`** - is more flexible and provides 0 or 1 mapping. It&#39;s possible to skip items by not emitting signal using `sink.next()`.\r\n\r\n\r\nIn your case there is no reason to wrap user into `Mono` and use `flatMap`. Use `map` because mapping is 1:1.","title":"Best way to handle data in Project Reactor","body":"<p>The closest analog of the <code>handle</code> is a <code>map</code> (not <code>flatMap</code>). You could think about it as a combination of the <code>map</code> &amp; <code>filter</code>. In contrast to <code>flatMap</code> both <code>handle</code> and <code>map</code> are synchronous function.</p>\n<p><strong><code>map</code></strong> - transforms the emitted item by applying a synchronous function. It provides 1:1 mapping and <strong>every</strong> item should be mapped. The only way to skip item is to throw exception and then immediately handle the error signal using <code>onErrorResume</code>.</p>\n<p><strong><code>handle</code></strong> - is more flexible and provides 0 or 1 mapping. It's possible to skip items by not emitting signal using <code>sink.next()</code>.</p>\n<p>In your case there is no reason to wrap user into <code>Mono</code> and use <code>flatMap</code>. Use <code>map</code> because mapping is 1:1.</p>\n"}],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675871571,"creation_date":1675865366,"question_id":75386970,"body_markdown":"What is the best way to handle data in a project reactor?\r\n\r\nusing flatMap:\r\n```\r\npublic Mono&lt;User&gt; flat() {\r\n    return this.repository.findByName(&quot;Jeff&quot;)\r\n      .flatMap(\r\n        user -&gt; {\r\n          user.setInfo(new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;));\r\n          return Mono.just(user);\r\n        }\r\n      );\r\n  }\r\n```\r\nhandle:\r\n```\r\npublic Mono&lt;User&gt; handle() {\r\n    return this.repository.findByName(&quot;Jeff&quot;)\r\n      .handle(\r\n        (user, sink) -&gt;\r\n          user.setInfo(\r\n            new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;)\r\n          )\r\n      );\r\n  }\r\n```\r\n\r\nor something else?\r\n\r\n\r\nAs far I understand, ```handle``` helps to combine 2 operations together: ```flatMap```\r\nand ```filter```.","title":"Best way to handle data in Project Reactor","body":"<p>What is the best way to handle data in a project reactor?</p>\n<p>using flatMap:</p>\n<pre><code>public Mono&lt;User&gt; flat() {\n    return this.repository.findByName(&quot;Jeff&quot;)\n      .flatMap(\n        user -&gt; {\n          user.setInfo(new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;));\n          return Mono.just(user);\n        }\n      );\n  }\n</code></pre>\n<p>handle:</p>\n<pre><code>public Mono&lt;User&gt; handle() {\n    return this.repository.findByName(&quot;Jeff&quot;)\n      .handle(\n        (user, sink) -&gt;\n          user.setInfo(\n            new UserInfo(&quot;Palo Alto/CA&quot;, &quot;Safari&quot;, &quot;h1alexbel/transformed&quot;)\n          )\n      );\n  }\n</code></pre>\n<p>or something else?</p>\n<p>As far I understand, <code>handle</code> helps to combine 2 operations together: <code>flatMap</code>\nand <code>filter</code>.</p>\n"},{"tags":["java","spring-boot","junit","transactions","deadlock"],"owner":{"account_id":5253863,"reputation":57,"user_id":4197250,"display_name":"Madson Paulo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675871544,"creation_date":1675870982,"question_id":75388226,"body_markdown":"When the JUnit Test bellow executes an INSERT or DELETE, the table gets locked and the service being tested cannot read the table. It&#39;s also not possible to read any row in the table outside Eclipse, from SSMS, for example.\r\n\r\nOne thing to know is, all test classes extend from a BaseTest class, from which I autowire the repositories, which are the same classes used in the service being tested. Not sure it is a problem.\r\n\r\n\r\n```\r\nclass AlterarComiteTest extends BaseTest {\r\n        [...]\r\n}\r\n\r\n\r\n@ActiveProfiles(&quot;des&quot;)\r\n@Slf4j\r\n@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)\r\npublic class BaseTest {\r\n\r\n        [...]\r\n        @Autowired\r\n\tprotected ComiteRepository comiteRep;\r\n        [...]\r\n}\r\n```\r\n\r\n\r\nThis is how the controller method being tested looks like:\r\n\r\n```\r\n[...]\r\n@PutMapping(&quot;/{sqComite}&quot;)\r\n@Transactional(value = TxType.REQUIRES_NEW, rollbackOn = Throwable.class)\r\npublic ResponseEntity&lt;ComiteDto&gt; atualizarComite(HttpServletRequest request, @PathVariable Long sqComite, @RequestBody @Valid ComiteForm form) throws ApplicationException {\r\n\r\n}\r\n[...]\r\n```\r\n\r\n**Try #1\r\nResult:** After cadastrarComite(true), which executes an INSERT on the same entity of the controller, the table gets locked. When the service method tries to SELECT the entity, it finds the lock and remain there, waiting.\r\n\r\nNote: excluirComite(comiteCenario) DELETEs the entity.\r\n\r\n```\r\n@Test\r\n@Transactional\r\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n\t[...]\r\n\tComite comiteCenario = cadastrarComite(true);\r\n\t[...]\r\n\t[calls the service method being tested]\r\n\t[...]\r\n\texcluirComite(comiteCenario);\r\n}\r\n```\r\n\r\n**Try #2\r\nResult:** Same as Try #1, but the lock starts in the @BeforeEach\r\n\r\n\r\n```\r\nclass AlterarComiteTest extends BaseTest {\r\n    private Comite comiteAtivo;\r\n\r\n    @BeforeEach\r\n    void setUpBeforeEach() {\r\n        [...]\r\n         if (comiteAtivo == null) {\r\n            comiteAtivo = cadastrarComite(true);\r\n        }\r\n        [...]\r\n    }\r\n   \r\n    @Test\r\n    @Transactional\r\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n        [...]\r\n        Comite comiteCenario = comiteAtivo;\r\n        [...]\r\n        [calls the service method being tested]\r\n        [...]\r\n        excluirComite(comiteCenario);\r\n    }\r\n}\r\n```\r\n\r\n**Try #3\r\nResult:** If all tests in the test class are executed, then they all execute successfully, but the @AfterAll fails, since it (for some reason) does not have any transaction related to it. It causes created entities to not be DELETED, dirtying the database.\r\n\r\n&gt; Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call\r\n\r\nBUT, if only any single @Test from the test class is executed, then it works all the way (maybe the test transaction is used in the @AfterAll, don&#39;t know why).\r\n\r\n\r\n```\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass AlterarComiteTest extends BaseTest {\r\n    private Comite comiteAtivo;\r\n\r\n    @BeforeAll\r\n    void setUpBeforeClass() {\r\n        comiteAtivo = cadastrarComite(true);\r\n    }\r\n\r\n    @AfterAll\r\n    void tearDownAfterClass() {\r\n        excluirComite(comiteAtivo);\r\n    }\r\n   \r\n    @Test\r\n    @Transactional\r\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n        [...]\r\n       \r\n        Comite comiteCenario = comiteAtivo;\r\n        [...]\r\n        [calls the service method being tested]\r\n    }\r\n}\r\n```\r\n\r\n**Try #4\r\nResult:** Removed @Transactional from all test methods. All tests got the same error.\r\n\r\n&gt; Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call\r\n\r\n\r\n```\r\n@BeforeEach\r\nvoid setUpBeforeEach() {\r\n    comiteAtivo = cadastrarComite(true);\r\n    comiteInativo = cadastrarComite(false);\r\n}\r\n\r\n@AfterEach\r\nvoid tearDownAfterEach() {\r\n    excluirComite(comiteAtivo);\r\n    excluirComite(comiteInativo);\r\n}\r\n\r\n@Test\r\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\r\n    [...]\r\n    Comite comiteCenario = comiteAtivo;\r\n    [...]\r\n    [calls the service method being tested]\r\n}\r\n```\r\n\r\nLast note: I tried inserting @Transactional on cadastrarComite and excluirComite as well. Currently they do not have it. It did not made any difference.","title":"Why is Java JUnit Test locking table?","body":"<p>When the JUnit Test bellow executes an INSERT or DELETE, the table gets locked and the service being tested cannot read the table. It's also not possible to read any row in the table outside Eclipse, from SSMS, for example.</p>\n<p>One thing to know is, all test classes extend from a BaseTest class, from which I autowire the repositories, which are the same classes used in the service being tested. Not sure it is a problem.</p>\n<pre><code>class AlterarComiteTest extends BaseTest {\n        [...]\n}\n\n\n@ActiveProfiles(&quot;des&quot;)\n@Slf4j\n@SpringBootTest(webEnvironment = WebEnvironment.DEFINED_PORT)\npublic class BaseTest {\n\n        [...]\n        @Autowired\n    protected ComiteRepository comiteRep;\n        [...]\n}\n</code></pre>\n<p>This is how the controller method being tested looks like:</p>\n<pre><code>[...]\n@PutMapping(&quot;/{sqComite}&quot;)\n@Transactional(value = TxType.REQUIRES_NEW, rollbackOn = Throwable.class)\npublic ResponseEntity&lt;ComiteDto&gt; atualizarComite(HttpServletRequest request, @PathVariable Long sqComite, @RequestBody @Valid ComiteForm form) throws ApplicationException {\n\n}\n[...]\n</code></pre>\n<p><strong>Try #1\nResult:</strong> After cadastrarComite(true), which executes an INSERT on the same entity of the controller, the table gets locked. When the service method tries to SELECT the entity, it finds the lock and remain there, waiting.</p>\n<p>Note: excluirComite(comiteCenario) DELETEs the entity.</p>\n<pre><code>@Test\n@Transactional\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n    [...]\n    Comite comiteCenario = cadastrarComite(true);\n    [...]\n    [calls the service method being tested]\n    [...]\n    excluirComite(comiteCenario);\n}\n</code></pre>\n<p><strong>Try #2\nResult:</strong> Same as Try #1, but the lock starts in the @BeforeEach</p>\n<pre><code>class AlterarComiteTest extends BaseTest {\n    private Comite comiteAtivo;\n\n    @BeforeEach\n    void setUpBeforeEach() {\n        [...]\n         if (comiteAtivo == null) {\n            comiteAtivo = cadastrarComite(true);\n        }\n        [...]\n    }\n   \n    @Test\n    @Transactional\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n        [...]\n        Comite comiteCenario = comiteAtivo;\n        [...]\n        [calls the service method being tested]\n        [...]\n        excluirComite(comiteCenario);\n    }\n}\n</code></pre>\n<p><strong>Try #3\nResult:</strong> If all tests in the test class are executed, then they all execute successfully, but the @AfterAll fails, since it (for some reason) does not have any transaction related to it. It causes created entities to not be DELETED, dirtying the database.</p>\n<blockquote>\n<p>Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call</p>\n</blockquote>\n<p>BUT, if only any single @Test from the test class is executed, then it works all the way (maybe the test transaction is used in the @AfterAll, don't know why).</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass AlterarComiteTest extends BaseTest {\n    private Comite comiteAtivo;\n\n    @BeforeAll\n    void setUpBeforeClass() {\n        comiteAtivo = cadastrarComite(true);\n    }\n\n    @AfterAll\n    void tearDownAfterClass() {\n        excluirComite(comiteAtivo);\n    }\n   \n    @Test\n    @Transactional\n    void alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n        [...]\n       \n        Comite comiteCenario = comiteAtivo;\n        [...]\n        [calls the service method being tested]\n    }\n}\n</code></pre>\n<p><strong>Try #4\nResult:</strong> Removed @Transactional from all test methods. All tests got the same error.</p>\n<blockquote>\n<p>Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call</p>\n</blockquote>\n<pre><code>@BeforeEach\nvoid setUpBeforeEach() {\n    comiteAtivo = cadastrarComite(true);\n    comiteInativo = cadastrarComite(false);\n}\n\n@AfterEach\nvoid tearDownAfterEach() {\n    excluirComite(comiteAtivo);\n    excluirComite(comiteInativo);\n}\n\n@Test\nvoid alterar_DadosInvalidos_SqPeriodicidadeReuniaoNaoExiste() {\n    [...]\n    Comite comiteCenario = comiteAtivo;\n    [...]\n    [calls the service method being tested]\n}\n</code></pre>\n<p>Last note: I tried inserting @Transactional on cadastrarComite and excluirComite as well. Currently they do not have it. It did not made any difference.</p>\n"},{"tags":["java","spring-boot","open-telemetry"],"owner":{"account_id":3347567,"reputation":397,"user_id":2812410,"accept_rate":33,"display_name":"Prajyod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675871485,"creation_date":1675844155,"question_id":75382927,"body_markdown":"I&#39;m using Open Telemetry manual instrumentation for sending Device data.\r\n\r\nI&#39;m creating a SdkMeterProvider like this\r\n\r\n    private OpenTelemetry initOpenTelemetrySDK() {\r\n    \r\n        Resource resource = Resource.getDefault()\r\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;MyResource&quot;)));\r\n    \r\n        OtlpGrpcMetricExporter otlpGrpcMetricExporter = OtlpGrpcMetricExporter.builder()\r\n                .setEndpoint(getOtelEndPoint())\r\n                .setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).build();\r\n    \r\n        SdkMeterProvider sdkMeterProvider = SdkMeterProvider.builder()\r\n                .registerMetricReader(PeriodicMetricReader.builder(otlpGrpcMetricExporter).build()).setResource(resource)\r\n                //.registerView(InstrumentSelector.builder().setType(InstrumentType.OBSERVABLE_UP_DOWN_COUNTER).build(),\r\n                //      View.builder().setAggregation(Aggregation.defaultAggregation()).build())\r\n                .build();\r\n    \r\n        OpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk.builder().setMeterProvider(sdkMeterProvider)\r\n                .buildAndRegisterGlobal();\r\n    \r\n        return openTelemetrySdk;\r\n    }\r\n\r\nand while sending the metrics using below line and built the attributes.\r\n\r\n    Meter meter = openTelemetrySdk.meterBuilder(&quot;DeviceData&quot;).build();\r\n    LongCounter counter = meter.counterBuilder(123).build();\r\n    counter.add((Long) record.getValue(), attributes);\r\n\r\nThe issue I&#39;m facing here is even after switching off the device I can see the meter is keep sending the data for this device which is switched off.\r\nIf I restart my server again then I dont see the switched off device again.\r\n\r\nCan you please provide any pointers here.","title":"Stale data is streaming even when device is switched off in open telemetry sdk","body":"<p>I'm using Open Telemetry manual instrumentation for sending Device data.</p>\n<p>I'm creating a SdkMeterProvider like this</p>\n<pre><code>private OpenTelemetry initOpenTelemetrySDK() {\n\n    Resource resource = Resource.getDefault()\n            .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;MyResource&quot;)));\n\n    OtlpGrpcMetricExporter otlpGrpcMetricExporter = OtlpGrpcMetricExporter.builder()\n            .setEndpoint(getOtelEndPoint())\n            .setAggregationTemporalitySelector(AggregationTemporalitySelector.deltaPreferred()).build();\n\n    SdkMeterProvider sdkMeterProvider = SdkMeterProvider.builder()\n            .registerMetricReader(PeriodicMetricReader.builder(otlpGrpcMetricExporter).build()).setResource(resource)\n            //.registerView(InstrumentSelector.builder().setType(InstrumentType.OBSERVABLE_UP_DOWN_COUNTER).build(),\n            //      View.builder().setAggregation(Aggregation.defaultAggregation()).build())\n            .build();\n\n    OpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk.builder().setMeterProvider(sdkMeterProvider)\n            .buildAndRegisterGlobal();\n\n    return openTelemetrySdk;\n}\n</code></pre>\n<p>and while sending the metrics using below line and built the attributes.</p>\n<pre><code>Meter meter = openTelemetrySdk.meterBuilder(&quot;DeviceData&quot;).build();\nLongCounter counter = meter.counterBuilder(123).build();\ncounter.add((Long) record.getValue(), attributes);\n</code></pre>\n<p>The issue I'm facing here is even after switching off the device I can see the meter is keep sending the data for this device which is switched off.\nIf I restart my server again then I dont see the switched off device again.</p>\n<p>Can you please provide any pointers here.</p>\n"},{"tags":["java","ant"],"owner":{"account_id":27582058,"reputation":31,"user_id":21051054,"display_name":"Roger Spall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675870849,"creation_date":1675870849,"question_id":75388198,"body_markdown":"Using ANT Ivy library to manage dependencies for a java application...\r\n\r\nIs there any ANT task, or any code suggestions for generating a vulnerability audit / report for our dependent libraries during our autobuilds?\r\n\r\nHere is an example (most dependencies removed for brevity) out our dependencies.xml\r\n\r\n    &lt;ivy-module version=&quot;2.0&quot;&gt;\r\n\t&lt;info organisation=&quot;com.yamaha&quot; module=&quot;YDS&quot; /&gt;\r\n\t\r\n\t&lt;configurations defaultconfmapping=&quot;compile-&gt;default;sources;javadoc&quot;&gt;\r\n        &lt;conf name=&quot;compile&quot; description=&quot;Required to compile application&quot;/&gt;\r\n        &lt;conf name=&quot;sources&quot; description=&quot;Source jars&quot;/&gt;\r\n        &lt;conf name=&quot;javadoc&quot; description=&quot;Javadoc jars&quot;/&gt;\r\n        &lt;conf name=&quot;runtime&quot; description=&quot;Additional run-time dependencies&quot; extends=&quot;compile&quot;/&gt;\r\n        &lt;conf name=&quot;test&quot;    description=&quot;Required for test only&quot; extends=&quot;runtime&quot;/&gt;\r\n    &lt;/configurations&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency org=&quot;commons-collections&quot; name=&quot;commons-collections&quot; rev=&quot;[3.2,3.2.+]&quot;/&gt;\r\n\t\t&lt;dependency org=&quot;commons-beanutils&quot; name=&quot;commons-beanutils&quot; rev=&quot;1.9.+&quot;/&gt;      \r\n\t&lt;/dependencies&gt;\r\n\t\r\n&lt;/ivy-module&gt;\r\n\r\nHere is our ant code for retreiving dependencies:\r\n\r\n&lt;ivy:retrieve file=&quot;dependencyFile.xml&quot; type=&quot;bundle, jar&quot; sync=&quot;true&quot;/&gt;\r\n\r\nWe would simply like to add some ANT code that will list any vulnerabilities in the dependency.xml file?","title":"ANT Ivy generating a vulnerability report for dependent libraries","body":"<p>Using ANT Ivy library to manage dependencies for a java application...</p>\n<p>Is there any ANT task, or any code suggestions for generating a vulnerability audit / report for our dependent libraries during our autobuilds?</p>\n<p>Here is an example (most dependencies removed for brevity) out our dependencies.xml</p>\n<pre><code>&lt;ivy-module version=&quot;2.0&quot;&gt;\n&lt;info organisation=&quot;com.yamaha&quot; module=&quot;YDS&quot; /&gt;\n\n&lt;configurations defaultconfmapping=&quot;compile-&gt;default;sources;javadoc&quot;&gt;\n    &lt;conf name=&quot;compile&quot; description=&quot;Required to compile application&quot;/&gt;\n    &lt;conf name=&quot;sources&quot; description=&quot;Source jars&quot;/&gt;\n    &lt;conf name=&quot;javadoc&quot; description=&quot;Javadoc jars&quot;/&gt;\n    &lt;conf name=&quot;runtime&quot; description=&quot;Additional run-time dependencies&quot; extends=&quot;compile&quot;/&gt;\n    &lt;conf name=&quot;test&quot;    description=&quot;Required for test only&quot; extends=&quot;runtime&quot;/&gt;\n&lt;/configurations&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency org=&quot;commons-collections&quot; name=&quot;commons-collections&quot; rev=&quot;[3.2,3.2.+]&quot;/&gt;\n    &lt;dependency org=&quot;commons-beanutils&quot; name=&quot;commons-beanutils&quot; rev=&quot;1.9.+&quot;/&gt;      \n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Here is our ant code for retreiving dependencies:</p>\n<p>&lt;ivy:retrieve file=&quot;dependencyFile.xml&quot; type=&quot;bundle, jar&quot; sync=&quot;true&quot;/&gt;</p>\n<p>We would simply like to add some ANT code that will list any vulnerabilities in the dependency.xml file?</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":59933,"reputation":6258,"user_id":179189,"accept_rate":100,"display_name":"Murali VP"},"score":0,"creation_date":1391650944,"post_id":21592224,"comment_id":32620460,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/21118698/retrieve-resultset-using-callablestatement-after-executebatch","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21118698/retrieve-resultset-using-callablestatement-after-executebatch\" title=\"retrieve resultset using callablestatement after executebatch\">stackoverflow.com/questions/21118698/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17795,"reputation":24571,"user_id":40214,"accept_rate":79,"display_name":"Dennis C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391651338,"creation_date":1391651338,"answer_id":21592458,"question_id":21592224,"body_markdown":"In short, you should not. Plain multiple execute() should be used.\r\n\r\nAs as according to the [javadoc of `executeBatch()`][1], it should not support getResultSet()/getMoreResults() API.\r\n\r\nAlso, in [JDBC™ 4.0 Specification][2] #14.1.2\r\n\r\n&gt; Only DDL and DML commands that return a simple update count may be\r\n&gt; executed as part of a batch. The method executeBatch throws a\r\n&gt; BatchUpdateException if any of the commands in the batch fail to\r\n&gt; execute properly or if a command attempts to return a result set.\r\n\r\nBut some JDBC drivers might do support, try at your own risk.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeBatch%28%29\r\n  [2]: http://download.oracle.com/otndocs/jcp/jdbc-4.0-fr-eval-oth-JSpec/","title":"How to get ResultSet from executeBatch?","body":"<p>In short, you should not. Plain multiple execute() should be used.</p>\n\n<p>As as according to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeBatch%28%29\" rel=\"noreferrer\">javadoc of <code>executeBatch()</code></a>, it should not support getResultSet()/getMoreResults() API.</p>\n\n<p>Also, in <a href=\"http://download.oracle.com/otndocs/jcp/jdbc-4.0-fr-eval-oth-JSpec/\" rel=\"noreferrer\">JDBC™ 4.0 Specification</a> #14.1.2</p>\n\n<blockquote>\n  <p>Only DDL and DML commands that return a simple update count may be\n  executed as part of a batch. The method executeBatch throws a\n  BatchUpdateException if any of the commands in the batch fail to\n  execute properly or if a command attempts to return a result set.</p>\n</blockquote>\n\n<p>But some JDBC drivers might do support, try at your own risk.</p>\n"},{"tags":[],"owner":{"account_id":13577648,"reputation":1,"user_id":9794575,"display_name":"user9794575"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526392031,"creation_date":1526392031,"answer_id":50351924,"question_id":21592224,"body_markdown":"I can think of 2 options from the top of my head.\r\n\r\n1) As the other guy said...\r\n&quot;Plain multiple execute() should be used&quot;\r\nthis way you can get the result set.\r\n\r\n2) you can query after you execute your batch and get its info from the db.","title":"How to get ResultSet from executeBatch?","body":"<p>I can think of 2 options from the top of my head.</p>\n\n<p>1) As the other guy said...\n\"Plain multiple execute() should be used\"\nthis way you can get the result set.</p>\n\n<p>2) you can query after you execute your batch and get its info from the db.</p>\n"},{"tags":[],"owner":{"account_id":27736430,"reputation":1,"user_id":21173920,"display_name":"sisi_the_se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675870798,"creation_date":1675870798,"answer_id":75388178,"question_id":21592224,"body_markdown":"According to the Java 7 API, the &#39;executeBatch&quot; function doesn&#39;t return an object of ResultSet, but an array of integers. You can process the values based on the API to see which commands in the batch were successful. ","title":"How to get ResultSet from executeBatch?","body":"<p>According to the Java 7 API, the 'executeBatch&quot; function doesn't return an object of ResultSet, but an array of integers. You can process the values based on the API to see which commands in the batch were successful.</p>\n"}],"owner":{"account_id":2504516,"reputation":1643,"user_id":2178635,"accept_rate":86,"display_name":"CHEBURASHKA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8316,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1675870798,"creation_date":1391649894,"question_id":21592224,"body_markdown":"I need to get the result set from an executed batch : \r\n\r\n  \r\n\r\n        String [] queries = {&quot;create volatile table testTable as (select * from orders) with data;&quot;, \r\n                             &quot;select top 10 * from testTable;&quot; , \r\n                             &quot;drop table testTable&quot; };\r\n         for (String query : queries) {\r\n            statement.addBatch(query);\r\n        }\r\n        statement.executeBatch();\r\n\r\nOnes i execute batch how can i get the result set from the select query ?\r\n\r\n  [1]: http://viralpatel.net/blogs/batch-insert-in-java-jdbc/\r\n","title":"How to get ResultSet from executeBatch?","body":"<p>I need to get the result set from an executed batch : </p>\n\n<pre><code>    String [] queries = {\"create volatile table testTable as (select * from orders) with data;\", \n                         \"select top 10 * from testTable;\" , \n                         \"drop table testTable\" };\n     for (String query : queries) {\n        statement.addBatch(query);\n    }\n    statement.executeBatch();\n</code></pre>\n\n<p>Ones i execute batch how can i get the result set from the select query ?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1675870818,"post_id":75388154,"comment_id":133021706,"body_markdown":"`if (value &gt; 0)`?","body":"<code>if (value &gt; 0)</code>?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1675871366,"post_id":75388154,"comment_id":133021909,"body_markdown":"Have you tried Frank&#39;s suggestion? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Have you tried Frank&#39;s suggestion? Besides that, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"score":0,"creation_date":1675878574,"post_id":75388154,"comment_id":133024580,"body_markdown":"Thanks guys will try this later n get back to you.  If it doesn&#39;t work I&#39;ll edit my question to add JSON :)","body":"Thanks guys will try this later n get back to you.  If it doesn&#39;t work I&#39;ll edit my question to add JSON :)"},{"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"score":0,"creation_date":1675935259,"post_id":75388154,"comment_id":133035927,"body_markdown":"just thought id let you know that works brilliantly thanks :)","body":"just thought id let you know that works brilliantly thanks :)"}],"owner":{"account_id":8037993,"reputation":202,"user_id":6060543,"accept_rate":73,"display_name":"Mark Harrop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675870688,"creation_date":1675870688,"question_id":75388154,"body_markdown":"ive been using this counting method in firebase that counts up likes.\r\n\r\n      ref.child(&quot;downloads&quot;).runTransaction(new Transaction.Handler() {\r\n            @Override\r\n            public Transaction.Result doTransaction(MutableData mutableData) {\r\n                if (mutableData.getValue() != null) {\r\n                    int value = mutableData.getValue(Integer.class);\r\n                    if (increment) {\r\n                        value++;\r\n                    } else {\r\n                        value--;\r\n                    }\r\n                    mutableData.setValue(value);\r\n                }\r\n                return Transaction.success(mutableData);\r\n            } \r\n\r\ni have a variable in my database called downloads which is automatically set to 0 when user signs up. then when a user clicks a button they get rewarded 5 downloads for watching a short reward advert.. how can i edit this code to instead of counting up it counts down from 5 - 0 then stops?","title":"how to stop a firebase counter at 0","body":"<p>ive been using this counting method in firebase that counts up likes.</p>\n<pre><code>  ref.child(&quot;downloads&quot;).runTransaction(new Transaction.Handler() {\n        @Override\n        public Transaction.Result doTransaction(MutableData mutableData) {\n            if (mutableData.getValue() != null) {\n                int value = mutableData.getValue(Integer.class);\n                if (increment) {\n                    value++;\n                } else {\n                    value--;\n                }\n                mutableData.setValue(value);\n            }\n            return Transaction.success(mutableData);\n        } \n</code></pre>\n<p>i have a variable in my database called downloads which is automatically set to 0 when user signs up. then when a user clicks a button they get rewarded 5 downloads for watching a short reward advert.. how can i edit this code to instead of counting up it counts down from 5 - 0 then stops?</p>\n"},{"tags":["java","docker","logback","concurrentmodification","spring-logback"],"owner":{"account_id":52758,"reputation":2704,"user_id":157704,"accept_rate":62,"display_name":"Amol Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675870443,"creation_date":1675868292,"question_id":75387603,"body_markdown":"My application is throwing ConcurrentModificationException when it is trying to exit the program.It is using a standard Logback configuration. This works fine when running as a standalone java application but throws the exception when trying to run inside a docker container. The stack trace is as below:\r\n\r\n    Exception in thread &quot;Logback shutdown hook [default]&quot; java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\r\n    \tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\r\n    \tat ch.qos.logback.classic.LoggerContext.fireOnReset(LoggerContext.java:323)\r\n    \tat ch.qos.logback.classic.LoggerContext.reset(LoggerContext.java:226)\r\n    \tat ch.qos.logback.classic.LoggerContext.stop(LoggerContext.java:348)\r\n    \tat ch.qos.logback.core.hook.ShutdownHookBase.stop(ShutdownHookBase.java:39)\r\n    \tat ch.qos.logback.core.hook.DelayingShutdownHook.run(DelayingShutdownHook.java:57)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI am using a standard Logback configuration file through logback-spring.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;configuration&gt;\r\n        &lt;!--See https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html --&gt;\r\n        &lt;shutdownHook\r\n                class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n        &lt;appender name=&quot;CONSOLE_JSON&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n                &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                    &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                        &lt;!-- &lt;prettyPrint&gt;true&lt;/prettyPrint&gt; --&gt;\r\n                    &lt;/jsonFormatter&gt;\r\n                    &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&lt;/timestampFormat&gt;\r\n                    &lt;includeContextName&gt;false&lt;/includeContextName&gt;\r\n                    &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n                &lt;/layout&gt;\r\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;ASYNCSTDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;queueSize&gt;5000&lt;/queueSize&gt; &lt;!-- Default is 256 --&gt;\r\n            &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- Instruction to drop events\r\n                once the buffer reaches the max capacity. Default value is 20%.\r\n                20 means drop lower event when has 20% capacity remaining --&gt;\r\n            &lt;neverBlock&gt;true&lt;/neverBlock&gt;&lt;!-- default false. Setting it to true to\r\n    \t\t\tcause the Appender not block the application and just drop the messages --&gt;\r\n            &lt;maxFlushTime&gt;5000&lt;/maxFlushTime&gt; &lt;!-- The default maximum queue flush time allowed during appender stop. If\r\n    \t\t\tthe worker takes longer than this time it will exit, discarding any remaining\r\n    \t\t\tcartItems in the queue --&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE_JSON&quot;/&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNCSTDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nThe artifacts I am using in my pom are as below:\r\n \r\n\r\n     &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.8&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n          \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n         \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.14&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           \r\n        \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n                &lt;version&gt;6.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n        &lt;/dependencies&gt;","title":"Logback throwing ConcurrentModificationException on exiting program inside docker container","body":"<p>My application is throwing ConcurrentModificationException when it is trying to exit the program.It is using a standard Logback configuration. This works fine when running as a standalone java application but throws the exception when trying to run inside a docker container. The stack trace is as below:</p>\n<pre><code>Exception in thread &quot;Logback shutdown hook [default]&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\n    at ch.qos.logback.classic.LoggerContext.fireOnReset(LoggerContext.java:323)\n    at ch.qos.logback.classic.LoggerContext.reset(LoggerContext.java:226)\n    at ch.qos.logback.classic.LoggerContext.stop(LoggerContext.java:348)\n    at ch.qos.logback.core.hook.ShutdownHookBase.stop(ShutdownHookBase.java:39)\n    at ch.qos.logback.core.hook.DelayingShutdownHook.run(DelayingShutdownHook.java:57)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I am using a standard Logback configuration file through logback-spring.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;configuration&gt;\n    &lt;!--See https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html --&gt;\n    &lt;shutdownHook\n            class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;appender name=&quot;CONSOLE_JSON&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                    &lt;!-- &lt;prettyPrint&gt;true&lt;/prettyPrint&gt; --&gt;\n                &lt;/jsonFormatter&gt;\n                &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&lt;/timestampFormat&gt;\n                &lt;includeContextName&gt;false&lt;/includeContextName&gt;\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n            &lt;/layout&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;ASYNCSTDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;queueSize&gt;5000&lt;/queueSize&gt; &lt;!-- Default is 256 --&gt;\n        &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- Instruction to drop events\n            once the buffer reaches the max capacity. Default value is 20%.\n            20 means drop lower event when has 20% capacity remaining --&gt;\n        &lt;neverBlock&gt;true&lt;/neverBlock&gt;&lt;!-- default false. Setting it to true to\n            cause the Appender not block the application and just drop the messages --&gt;\n        &lt;maxFlushTime&gt;5000&lt;/maxFlushTime&gt; &lt;!-- The default maximum queue flush time allowed during appender stop. If\n            the worker takes longer than this time it will exit, discarding any remaining\n            cartItems in the queue --&gt;\n        &lt;appender-ref ref=&quot;CONSOLE_JSON&quot;/&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;ASYNCSTDOUT&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>The artifacts I am using in my pom are as below:</p>\n<pre><code> &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n\n    &lt;dependencies&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.5.8&lt;/version&gt;\n        &lt;/dependency&gt;\n     \n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.14&lt;/version&gt;\n        &lt;/dependency&gt;\n       \n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1444463753,"post_id":33051654,"comment_id":53923854,"body_markdown":"Have a look at this question, it is basically the same thing: http://stackoverflow.com/questions/421280/how-do-i-find-the-caller-of-a-method-using-stacktrace-or-reflection. I was also thinking about Aspect oriented programming, but I do not believe it can be done that way.","body":"Have a look at this question, it is basically the same thing: <a href=\"http://stackoverflow.com/questions/421280/how-do-i-find-the-caller-of-a-method-using-stacktrace-or-reflection\" title=\"how do i find the caller of a method using stacktrace or reflection\">stackoverflow.com/questions/421280/&hellip;</a>. I was also thinking about Aspect oriented programming, but I do not believe it can be done that way."},{"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"score":0,"creation_date":1444464354,"post_id":33051654,"comment_id":53924033,"body_markdown":"I&#39;m afraid it&#39;s not..that&#39;s just the case in which the JVM implementation is not required to provide you the stack trace so that way is not reliable. My question is: what about inside exceptions?In this case I would expect to always have a stack trace so what I&#39;m asking is if in this case my way of getting the caller is reliable.","body":"I&#39;m afraid it&#39;s not..that&#39;s just the case in which the JVM implementation is not required to provide you the stack trace so that way is not reliable. My question is: what about inside exceptions?In this case I would expect to always have a stack trace so what I&#39;m asking is if in this case my way of getting the caller is reliable."},{"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"score":0,"creation_date":1444464482,"post_id":33051654,"comment_id":53924055,"body_markdown":"Also, in my case, the caller&#39;s method name is in the FIRST element of the stack trace, not the last.","body":"Also, in my case, the caller&#39;s method name is in the FIRST element of the stack trace, not the last."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1444467645,"post_id":33051654,"comment_id":53924824,"body_markdown":"Every Java logging framework I have ever used in 18 years already logs the calling method name. What exactly is the question here?","body":"Every Java logging framework I have ever used in 18 years already logs the calling method name. What exactly is the question here?"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1444468797,"post_id":33051654,"comment_id":53925107,"body_markdown":"To go slightly off topic; why are you logging like that? Throwing away all of the stack trace but the final method is going to shoot you in the foot very quickly","body":"To go slightly off topic; why are you logging like that? Throwing away all of the stack trace but the final method is going to shoot you in the foot very quickly"}],"answers":[{"tags":[],"owner":{"account_id":13512904,"reputation":98,"user_id":9748566,"display_name":"PhilKes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675870289,"creation_date":1675870289,"answer_id":75388080,"question_id":33051654,"body_markdown":"For anyone coming upon this post just now, I developed a maven plugin to address this issue:\r\n\r\n[PhilKes/slf4j-caller-info-maven-plugin][1]\r\n\r\n\r\n  [1]: https://github.com/PhilKes/slf4j-caller-info-maven-plugin\r\n\r\nIf you use SLF4J as your `log` and add the plugin as described in the README with the `injection=%method` you can simply write:\r\n```java\r\nlog.error(&quot;failed!&quot;);\r\n```\r\nand it will output:\r\n```\r\n[...] myMethod failed!\r\n```\r\n","title":"Is an Exception&#39;s stack trace reliable to get calling method name?","body":"<p>For anyone coming upon this post just now, I developed a maven plugin to address this issue:</p>\n<p><a href=\"https://github.com/PhilKes/slf4j-caller-info-maven-plugin\" rel=\"nofollow noreferrer\">PhilKes/slf4j-caller-info-maven-plugin</a></p>\n<p>If you use SLF4J as your <code>log</code> and add the plugin as described in the README with the <code>injection=%method</code> you can simply write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.error(&quot;failed!&quot;);\n</code></pre>\n<p>and it will output:</p>\n<pre><code>[...] myMethod failed!\n</code></pre>\n"}],"owner":{"account_id":1820811,"reputation":6166,"user_id":1654930,"accept_rate":71,"display_name":"Phate"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675870289,"creation_date":1444463432,"question_id":33051654,"body_markdown":"I know that stacktraces can be used to retrieve current executing method with something like this:\r\n\r\n    Thread.currentThread().getStackTrace()[what you want]\r\n\r\nHowever not every JVM provides this stack trace so this way of getting a method&#39;s name is pretty much unreliable.\r\nAnyway...what about exceptions? My need is to log the caller method name and, in order to provide some code maintenance, I&#39;d like to avoid to just write that name down like this:\r\n\r\n    public void myMethod(){\r\n      ...\r\n    \r\n    }catch(anException ex){\r\n          log.error(&quot;myMethod failed!&quot;);\r\n    }\r\n\r\nBut rather something like:\r\n\r\n    }catch(anException ex){\r\n          log.error(&quot;{} failed!&quot;, ex.getStackTrace()[0].getMethodName()); //0 should be my method, the caller\r\n    }\r\n\r\n Is this reliable? I think that, at least for exceptions, JVM should be expected to provide said stack trace...","title":"Is an Exception&#39;s stack trace reliable to get calling method name?","body":"<p>I know that stacktraces can be used to retrieve current executing method with something like this:</p>\n\n<pre><code>Thread.currentThread().getStackTrace()[what you want]\n</code></pre>\n\n<p>However not every JVM provides this stack trace so this way of getting a method's name is pretty much unreliable.\nAnyway...what about exceptions? My need is to log the caller method name and, in order to provide some code maintenance, I'd like to avoid to just write that name down like this:</p>\n\n<pre><code>public void myMethod(){\n  ...\n\n}catch(anException ex){\n      log.error(\"myMethod failed!\");\n}\n</code></pre>\n\n<p>But rather something like:</p>\n\n<pre><code>}catch(anException ex){\n      log.error(\"{} failed!\", ex.getStackTrace()[0].getMethodName()); //0 should be my method, the caller\n}\n</code></pre>\n\n<p>Is this reliable? I think that, at least for exceptions, JVM should be expected to provide said stack trace...</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675870074,"creation_date":1675870074,"answer_id":75388028,"question_id":75386907,"body_markdown":"&gt; Is that expected behavior?\r\n\r\nIt will vary by home screen implementation and user settings (e.g., font scale), among possibly other criteria.\r\n\r\n&gt; If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???\r\n\r\nIt is merely a guideline.","title":"Android App long Shortcut label Character start ellipsis after 15 or 16 characters?","body":"<blockquote>\n<p>Is that expected behavior?</p>\n</blockquote>\n<p>It will vary by home screen implementation and user settings (e.g., font scale), among possibly other criteria.</p>\n<blockquote>\n<p>If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???</p>\n</blockquote>\n<p>It is merely a guideline.</p>\n"}],"owner":{"account_id":3140769,"reputation":14861,"user_id":2656275,"accept_rate":87,"display_name":"Hussain Shabbir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75388028,"answer_count":1,"score":1,"last_activity_date":1675870074,"creation_date":1675865012,"question_id":75386907,"body_markdown":"As per [the Google documentation][1] related to App shortcut:\r\n\r\n&gt; Space is limited within the menu that shows your app&#39;s shortcuts in the launcher. When possible, limit the length of the &quot;short description&quot; of a shortcut to 10 characters, and limit the length of the &quot;long description&quot; to 25 characters.\r\n\r\nSo If I set long Label text as **Wi-Fi Signal Strength** in Google Pixel 5a device, App shortcut label start ellipses after 15 characters, Is that expected behavior? If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???\r\n\r\nOr \r\n\r\nIs there any way to display complete long label ie. **Wi-Fi Signal Strength** without any ellipses??\r\n\r\nfor eg:-\r\n\r\n        ShortcutInfo shortcut = new ShortcutInfo.Builder(this, value)\r\n                                .setShortLabel(shortLabel)\r\n    //limit of longLabel is 20 characters which is lesser than 25 then also it start ellipses after 15 characters.\r\n                                .setLongLabel(longLabel) \r\n                                .setIcon(shortIcon)\r\n                                .setIntent(intentShortcut)\r\n                                .build();\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/launch/shortcuts/best-practices","title":"Android App long Shortcut label Character start ellipsis after 15 or 16 characters?","body":"<p>As per <a href=\"https://developer.android.com/develop/ui/views/launch/shortcuts/best-practices\" rel=\"nofollow noreferrer\">the Google documentation</a> related to App shortcut:</p>\n<blockquote>\n<p>Space is limited within the menu that shows your app's shortcuts in the launcher. When possible, limit the length of the &quot;short description&quot; of a shortcut to 10 characters, and limit the length of the &quot;long description&quot; to 25 characters.</p>\n</blockquote>\n<p>So If I set long Label text as <strong>Wi-Fi Signal Strength</strong> in Google Pixel 5a device, App shortcut label start ellipses after 15 characters, Is that expected behavior? If so, then why does documentation says limit of &quot;long description&quot; to 25 characters.???</p>\n<p>Or</p>\n<p>Is there any way to display complete long label ie. <strong>Wi-Fi Signal Strength</strong> without any ellipses??</p>\n<p>for eg:-</p>\n<pre><code>    ShortcutInfo shortcut = new ShortcutInfo.Builder(this, value)\n                            .setShortLabel(shortLabel)\n//limit of longLabel is 20 characters which is lesser than 25 then also it start ellipses after 15 characters.\n                            .setLongLabel(longLabel) \n                            .setIcon(shortIcon)\n                            .setIntent(intentShortcut)\n                            .build();\n</code></pre>\n"},{"tags":["java","inner-classes","scoping"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":1,"creation_date":1675850407,"post_id":75383985,"comment_id":133014966,"body_markdown":"does this answer your question? https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members","body":"does this answer your question? <a href=\"https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members\" title=\"why can outer java classes access inner class private members\">stackoverflow.com/questions/1801718/&hellip;</a>"},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":1,"creation_date":1675850438,"post_id":75383985,"comment_id":133014979,"body_markdown":"This possibly helps: https://stackoverflow.com/a/33171163/426463","body":"This possibly helps: <a href=\"https://stackoverflow.com/a/33171163/426463\">stackoverflow.com/a/33171163/426463</a>"},{"owner":{"account_id":9293440,"reputation":1727,"user_id":6901184,"display_name":"Mart&#237;n Zaragoza"},"score":0,"creation_date":1675850470,"post_id":75383985,"comment_id":133014988,"body_markdown":"The InnerClass you declared is effectively an inner class (without static qualifier) ; check this: https://stackoverflow.com/questions/1353309/java-static-vs-inner-class","body":"The InnerClass you declared is effectively an inner class (without static qualifier) ; check this: <a href=\"https://stackoverflow.com/questions/1353309/java-static-vs-inner-class\" title=\"java static vs inner class\">stackoverflow.com/questions/1353309/java-static-vs-inner-cla&zwnj;&#8203;ss</a>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1675850470,"post_id":75383985,"comment_id":133014989,"body_markdown":"&quot;..but am just lost in what scoping I should be using in my Inner classes&quot; &lt;- I don&#39;t know anything about your code or project at all, but I would recommend rethinking whether inner classes are needed at all. Maybe it&#39;s just the field I&#39;m working in but I can count the number of times on one hand when I really needed to use inner classes that are neither anonymous nor static.  Like in the example above you have given I don&#39;t see a really good reason why InnerClass should be an actual inner class.","body":"&quot;..but am just lost in what scoping I should be using in my Inner classes&quot; &lt;- I don&#39;t know anything about your code or project at all, but I would recommend rethinking whether inner classes are needed at all. Maybe it&#39;s just the field I&#39;m working in but I can count the number of times on one hand when I really needed to use inner classes that are neither anonymous nor static.  Like in the example above you have given I don&#39;t see a really good reason why InnerClass should be an actual inner class."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1675850736,"post_id":75383985,"comment_id":133015081,"body_markdown":"I also don&#39;t particularly understand what the purpose of your expected functionality is. Realistically, limiting variable and method scope is to prevent outside access to things that you don&#39;t want to be messed with. I can&#39;t imagine a use case where that would be necessary for an inner class. So the scope being &quot;public&quot; within the outer class makes sense in my head.","body":"I also don&#39;t particularly understand what the purpose of your expected functionality is. Realistically, limiting variable and method scope is to prevent outside access to things that you don&#39;t want to be messed with. I can&#39;t imagine a use case where that would be necessary for an inner class. So the scope being &quot;public&quot; within the outer class makes sense in my head."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1675930191,"post_id":75383985,"comment_id":133034412,"body_markdown":"@OHGODSPIDERS my initial post only included a snipped for demonstration, of course in only that, it didn&#39;t make sense to use an Inner class! My question was regarding scoping behavior. Not &quot;should I be using an inner class&quot; .... Anyhow, I&#39;ve updated the post to include a more detailed use case.","body":"@OHGODSPIDERS my initial post only included a snipped for demonstration, of course in only that, it didn&#39;t make sense to use an Inner class! My question was regarding scoping behavior. Not &quot;should I be using an inner class&quot; .... Anyhow, I&#39;ve updated the post to include a more detailed use case."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":1,"creation_date":1675930639,"post_id":75383985,"comment_id":133034541,"body_markdown":"@MissSkooter From the other&#39;s shared link and some other readings, I understand now that any members / functions within an inner class will be accessible from anywhere within _the body part_ of the outer class...\n\nhttps://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members\n\nhttps://stackoverflow.com/questions/19747812/why-can-the-private-member-of-an-nested-class-be-accessed-by-the-methods-of-the?lq=1\n\nThx all for your comments.","body":"@MissSkooter From the other&#39;s shared link and some other readings, I understand now that any members / functions within an inner class will be accessible from anywhere within <i>the body part</i> of the outer class...  <a href=\"https://stackoverflow.com/questions/1801718/why-can-outer-java-classes-access-inner-class-private-members\" title=\"why can outer java classes access inner class private members\">stackoverflow.com/questions/1801718/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/19747812/why-can-the-private-member-of-an-nested-class-be-accessed-by-the-methods-of-the?lq=1\" title=\"why can the private member of an nested class be accessed by the methods of the\">stackoverflow.com/questions/19747812/&hellip;</a>  Thx all for your comments."}],"answers":[{"tags":[],"owner":{"account_id":27733068,"reputation":1,"user_id":21171200,"display_name":"Maxwell"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675850738,"creation_date":1675850738,"answer_id":75384159,"question_id":75383985,"body_markdown":"You must understand that the InnerClass and object properties are the same for the OuterClass","title":"Java inner class scoping","body":"<p>You must understand that the InnerClass and object properties are the same for the OuterClass</p>\n"}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1675850482,"answer_count":1,"score":2,"last_activity_date":1675870004,"creation_date":1675849968,"question_id":75383985,"body_markdown":"I&#39;ve been trying to understand scoping in Java, more precisely, when it comes to having inner classes.\r\n\r\nI have the following snipped of code:\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class OuterClass {\r\n\r\n\t// Constructor\r\n\tpublic OuterClass() {\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tOuterClass app = new OuterClass();\r\n\t\tapp.doStuff();\r\n\t}\r\n\r\n\tprivate void doStuff(){\r\n\t\tSystem.out.print(&quot;\\033[H\\033[2J&quot;); // DEBUG clear out output\r\n\r\n\t\tInnerClass newNote = new InnerClass(&quot;images/01-SOL.png&quot;);\r\n\r\n\t\t// QUESTION: why are the following working and accessible??\r\n\t\tImageIcon myIcon = newNote.getIcon();\r\n\t\tSystem.out.println(myIcon.getImage());\r\n\t\tSystem.out.println(newNote.iconPath);\r\n\t}\r\n\r\n\t// define private inner class\r\n\tprivate class InnerClass {\r\n\t\tprivate String iconPath;\r\n\r\n\t\tprivate InnerClass(String iconPath){\r\n\t\t\tthis.iconPath = iconPath;\r\n\t\t}\r\n\t\tprivate ImageIcon getIcon(){\r\n\t\t\treturn new ImageIcon(this.iconPath);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI have an Outer class, and within it, an Inner class. As per my question in code, I do not understand WHY the private members of InnerClass (whether properties, or functions) are accessible from OUTSIDE the inner class, meaning in my example, in my outer class.\r\n\r\nI&#39;m writing another small swing app, almost done, but am just lost in what scoping I should be using in my Inner classes...\r\n\r\nI was expecting to have to\r\n\r\n1) set the inner class itself to private (thus only accessible to the outer class).\r\n2) set the inner class members to private (thus only the inner class itself could access them)\r\n3) set the inner class getter/setter functions to public, so that the outer class could access them ...\r\n\r\nDoesn&#39;t seem to work at all this. I&#39;m puzzled...\r\n\r\nCould anyone shed a light on this from my example?\r\n\r\nMuch much thanks!\r\n\r\n\r\n==========\r\n\r\nUPDATE:\r\n\r\nAnd so we&#39;re clear why an inner class... My project is a swing app that shows random music notes. Each note &quot;Note&quot; has a few properties (index, image file, icon, finally, it has an ArrayList of object of type from another inner class &quot;PositionCombi&quot;).\r\n\r\nThe NotePosition class has a positionNum, fingerNum, and stringNum..\r\n\r\nHere&#39;s the bulk of it:\r\n\r\n```java\r\npublic class OuterClass {\r\n\r\n   private String[] allNoteNames = [&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;A&quot;,&quot;B&quot;];\r\n   private Note noteImages[];\r\n\r\n   public OuterClass {\r\n      initNotes();\r\n      doStuff();\r\n   }\r\n\r\n   private void initNotes(){\r\n      this.noteImages = new Note[19];\r\n\r\n      noteImages[0] = new Note(4, &quot;images/01-SOL.png&quot;);\r\n      noteImages[0].addPositionCombi(1, 0, 4);\r\n      noteImages[0].addPositionCombi(2, 3, 4);\r\n      noteImages[0].addPositionCombi(3, 2, 4);\r\n\r\n      //...etc.\r\n   }\r\n\r\n   private Note getShuffledNote(){\r\n      //... return a random note object from this.noteImages\r\n   }\r\n\r\n   private void doStuff() {\r\n      // get a suffled note:\r\n      Note workingNote = getShuffledNote();\r\n\r\n      lblNoteName.setText( this.allNoteNames[ workingNote.getIndex ] );\r\n      lblImage.setIcon( workingNote.getIcon() );\r\n      ArrayList&lt;Note.PositionCombi&gt; notePositions =  workingNote.getPositions()\r\n\r\n      //print positions for given note:\r\n      for (Note.PositionCombi notePosCombi : notePosCombinations) {\r\n         System.out.println( &quot;Position: &quot; + notePosCombi.getPositionNum() );\r\n         System.out.println( &quot;Finger: &quot; + notePosCombi.getFingerNum() );\r\n         System.out.println( &quot;String: &quot; + notePosCombi.getStringNum() );\r\n      }\r\n   }\r\n\r\n\r\n   /*** INNER CLASS DEFS ***********/\r\n   private class Note {  // inner Note class\r\n      private int noteIndex;\r\n      private String iconPath;\r\n      private ArrayList&lt;PositionCombi&gt; PositionCombis;\r\n\r\n      private Note(int noteIndex, String iconPath){\r\n         this.noteIndex = noteIndex;\r\n         this.iconPath = iconPath;\r\n         this.PositionCombis = new ArrayList&lt;PositionCombi&gt;();\r\n      }\r\n\r\n      private int getNoteIndex(){\r\n         return this.noteIndex;\r\n      }\r\n      private ImageIcon getIcon(){\r\n         return new ImageIcon(this.iconPath);\r\n      }\r\n\r\n      private ArrayList&lt;PositionCombi&gt; getPositionCombis(){\r\n         return this.PositionCombis;\r\n      }\r\n\r\n      private void addPositionCombi(int positionNum, int fingerNum, int stringNum){\r\n         this.PositionCombis.add(new PositionCombi(positionNum, fingerNum, stringNum));\r\n      }\r\n\r\n      private class PositionCombi { // inner-INNER PositionCombination class\r\n         private int positionNum;\r\n         private int fingerNum;\r\n         private int stringNum;\r\n\r\n         private PositionCombi(int positionNum, int fingerNum, int stringNum){\r\n            this.positionNum = positionNum;\r\n            this.fingerNum = fingerNum;\r\n            this.stringNum = stringNum;\r\n         }\r\n         private int getPositionNum(){\r\n            return this.positionNum;\r\n         }\r\n         private int getFingerNum(){\r\n            return this.fingerNum;\r\n         }\r\n         private int getStringNum(){\r\n            return this.stringNum;\r\n         }\r\n      }\r\n   }\r\n\r\n}\r\n```","title":"Java inner class scoping","body":"<p>I've been trying to understand scoping in Java, more precisely, when it comes to having inner classes.</p>\n<p>I have the following snipped of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class OuterClass {\n\n    // Constructor\n    public OuterClass() {\n    }\n\n    public static void main(String[] args) {\n        OuterClass app = new OuterClass();\n        app.doStuff();\n    }\n\n    private void doStuff(){\n        System.out.print(&quot;\\033[H\\033[2J&quot;); // DEBUG clear out output\n\n        InnerClass newNote = new InnerClass(&quot;images/01-SOL.png&quot;);\n\n        // QUESTION: why are the following working and accessible??\n        ImageIcon myIcon = newNote.getIcon();\n        System.out.println(myIcon.getImage());\n        System.out.println(newNote.iconPath);\n    }\n\n    // define private inner class\n    private class InnerClass {\n        private String iconPath;\n\n        private InnerClass(String iconPath){\n            this.iconPath = iconPath;\n        }\n        private ImageIcon getIcon(){\n            return new ImageIcon(this.iconPath);\n        }\n    }\n}\n</code></pre>\n<p>I have an Outer class, and within it, an Inner class. As per my question in code, I do not understand WHY the private members of InnerClass (whether properties, or functions) are accessible from OUTSIDE the inner class, meaning in my example, in my outer class.</p>\n<p>I'm writing another small swing app, almost done, but am just lost in what scoping I should be using in my Inner classes...</p>\n<p>I was expecting to have to</p>\n<ol>\n<li>set the inner class itself to private (thus only accessible to the outer class).</li>\n<li>set the inner class members to private (thus only the inner class itself could access them)</li>\n<li>set the inner class getter/setter functions to public, so that the outer class could access them ...</li>\n</ol>\n<p>Doesn't seem to work at all this. I'm puzzled...</p>\n<p>Could anyone shed a light on this from my example?</p>\n<p>Much much thanks!</p>\n<p>==========</p>\n<p>UPDATE:</p>\n<p>And so we're clear why an inner class... My project is a swing app that shows random music notes. Each note &quot;Note&quot; has a few properties (index, image file, icon, finally, it has an ArrayList of object of type from another inner class &quot;PositionCombi&quot;).</p>\n<p>The NotePosition class has a positionNum, fingerNum, and stringNum..</p>\n<p>Here's the bulk of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OuterClass {\n\n   private String[] allNoteNames = [&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;A&quot;,&quot;B&quot;];\n   private Note noteImages[];\n\n   public OuterClass {\n      initNotes();\n      doStuff();\n   }\n\n   private void initNotes(){\n      this.noteImages = new Note[19];\n\n      noteImages[0] = new Note(4, &quot;images/01-SOL.png&quot;);\n      noteImages[0].addPositionCombi(1, 0, 4);\n      noteImages[0].addPositionCombi(2, 3, 4);\n      noteImages[0].addPositionCombi(3, 2, 4);\n\n      //...etc.\n   }\n\n   private Note getShuffledNote(){\n      //... return a random note object from this.noteImages\n   }\n\n   private void doStuff() {\n      // get a suffled note:\n      Note workingNote = getShuffledNote();\n\n      lblNoteName.setText( this.allNoteNames[ workingNote.getIndex ] );\n      lblImage.setIcon( workingNote.getIcon() );\n      ArrayList&lt;Note.PositionCombi&gt; notePositions =  workingNote.getPositions()\n\n      //print positions for given note:\n      for (Note.PositionCombi notePosCombi : notePosCombinations) {\n         System.out.println( &quot;Position: &quot; + notePosCombi.getPositionNum() );\n         System.out.println( &quot;Finger: &quot; + notePosCombi.getFingerNum() );\n         System.out.println( &quot;String: &quot; + notePosCombi.getStringNum() );\n      }\n   }\n\n\n   /*** INNER CLASS DEFS ***********/\n   private class Note {  // inner Note class\n      private int noteIndex;\n      private String iconPath;\n      private ArrayList&lt;PositionCombi&gt; PositionCombis;\n\n      private Note(int noteIndex, String iconPath){\n         this.noteIndex = noteIndex;\n         this.iconPath = iconPath;\n         this.PositionCombis = new ArrayList&lt;PositionCombi&gt;();\n      }\n\n      private int getNoteIndex(){\n         return this.noteIndex;\n      }\n      private ImageIcon getIcon(){\n         return new ImageIcon(this.iconPath);\n      }\n\n      private ArrayList&lt;PositionCombi&gt; getPositionCombis(){\n         return this.PositionCombis;\n      }\n\n      private void addPositionCombi(int positionNum, int fingerNum, int stringNum){\n         this.PositionCombis.add(new PositionCombi(positionNum, fingerNum, stringNum));\n      }\n\n      private class PositionCombi { // inner-INNER PositionCombination class\n         private int positionNum;\n         private int fingerNum;\n         private int stringNum;\n\n         private PositionCombi(int positionNum, int fingerNum, int stringNum){\n            this.positionNum = positionNum;\n            this.fingerNum = fingerNum;\n            this.stringNum = stringNum;\n         }\n         private int getPositionNum(){\n            return this.positionNum;\n         }\n         private int getFingerNum(){\n            return this.fingerNum;\n         }\n         private int getStringNum(){\n            return this.stringNum;\n         }\n      }\n   }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1423648828,"creation_date":1423648828,"answer_id":28451394,"question_id":28450946,"body_markdown":"Open Eclipse&#39;s preferences and then go to &quot;Java &gt; Editor &gt; Save Actions&quot;. There, enable &quot;Organize Imports&quot;.\r\n\r\nNow, whenever you save your file (yes, in Eclipse you still need to save the file, not as in IntelliJ where this happens automatically), Eclipse will try to figure out if it needs to add imports to compile the code. It will do so whenever the class name is unique. If it is not (e.g. List in `java.util` and in `java.awt`), it will not import it.\r\n\r\nYou can configure the &quot;organise imports&quot; action even more to ignore certain packages (e.g. `java.awt` if you never to gui-stuff), so you have fewer name-conflicts and more auto-imports. Look at question https://stackoverflow.com/questions/10019698/exclude-packages-from-eclipses-organize-imports for infos how to do that.","title":"Automatic imports in Eclipse","body":"<p>Open Eclipse's preferences and then go to \"Java > Editor > Save Actions\". There, enable \"Organize Imports\".</p>\n\n<p>Now, whenever you save your file (yes, in Eclipse you still need to save the file, not as in IntelliJ where this happens automatically), Eclipse will try to figure out if it needs to add imports to compile the code. It will do so whenever the class name is unique. If it is not (e.g. List in <code>java.util</code> and in <code>java.awt</code>), it will not import it.</p>\n\n<p>You can configure the \"organise imports\" action even more to ignore certain packages (e.g. <code>java.awt</code> if you never to gui-stuff), so you have fewer name-conflicts and more auto-imports. Look at question <a href=\"https://stackoverflow.com/questions/10019698/exclude-packages-from-eclipses-organize-imports\">Exclude packages from Eclipse&#39;s organize imports</a> for infos how to do that.</p>\n"},{"tags":[],"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675869980,"creation_date":1675869980,"answer_id":75388003,"question_id":28450946,"body_markdown":"So I noticed that Eclipse had started to seemingly do all the necessary imports completely automatically.\r\nAnd I started to look for how Eclipse can automatically add imports.\r\n\r\nBut all I could find was to use the Ctrl+Shift+O shortcut to Organize imports.\r\nAnd that could probably be quite efficient if you want to do many at a time.\r\n\r\nHowever there are at least two (or maybe three) other methods to invoke this.\r\n\r\n 1. Window, preferences, Java, Editor, Save actions. You will need to check: &quot;Perform the selected actions on save&quot; and &quot;Organize imports&quot;.\r\n 2. Window, preferences, Java, Editor, Typing: Under &quot;When pasting&quot; you can select &quot;Update imports&quot;.\r\n 3. I am not sure if this is a way of it&#39;s own or if it is a variant of what happens when pasting. But if you use ctrl + space to help with auto completing what you are writing it will also Organize imports.\r\nSo for example if I have no imports in a class and I start typing: JP and then I press ctrl + space to help me complete and I choose JPanel it will apparently automatically add: import javax.swing.JPanel; for me. \r\n\r\n ","title":"Automatic imports in Eclipse","body":"<p>So I noticed that Eclipse had started to seemingly do all the necessary imports completely automatically.\nAnd I started to look for how Eclipse can automatically add imports.</p>\n<p>But all I could find was to use the Ctrl+Shift+O shortcut to Organize imports.\nAnd that could probably be quite efficient if you want to do many at a time.</p>\n<p>However there are at least two (or maybe three) other methods to invoke this.</p>\n<ol>\n<li>Window, preferences, Java, Editor, Save actions. You will need to check: &quot;Perform the selected actions on save&quot; and &quot;Organize imports&quot;.</li>\n<li>Window, preferences, Java, Editor, Typing: Under &quot;When pasting&quot; you can select &quot;Update imports&quot;.</li>\n<li>I am not sure if this is a way of it's own or if it is a variant of what happens when pasting. But if you use ctrl + space to help with auto completing what you are writing it will also Organize imports.\nSo for example if I have no imports in a class and I start typing: JP and then I press ctrl + space to help me complete and I choose JPanel it will apparently automatically add: import javax.swing.JPanel; for me.</li>\n</ol>\n"}],"owner":{"account_id":2173532,"reputation":2636,"user_id":1924825,"accept_rate":55,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28451394,"answer_count":2,"score":2,"last_activity_date":1675869980,"creation_date":1423647548,"question_id":28450946,"body_markdown":"In Eclipse, I have to press ctrl+space each time I refer to the type of an unimported class. Having to go back and press ctrl+space feels rather unnecessary. Is there a way to make Eclipse behave like IntelliJ in this case? It should not really be hard to know it should import the UserFactory and User class when I say:\r\n\r\n    User user = UserFactory.makeUser();\r\nI&#39;ve seen that you can press Ctrl+1 (quick fix) or Ctrl+Shift+O (Organize imports) to solve this problem, but I would like this to go automatically as it does in IntelliJ. Does anyone know a plugin or a setting that enables this type of behavior?\r\n","title":"Automatic imports in Eclipse","body":"<p>In Eclipse, I have to press ctrl+space each time I refer to the type of an unimported class. Having to go back and press ctrl+space feels rather unnecessary. Is there a way to make Eclipse behave like IntelliJ in this case? It should not really be hard to know it should import the UserFactory and User class when I say:</p>\n\n<pre><code>User user = UserFactory.makeUser();\n</code></pre>\n\n<p>I've seen that you can press Ctrl+1 (quick fix) or Ctrl+Shift+O (Organize imports) to solve this problem, but I would like this to go automatically as it does in IntelliJ. Does anyone know a plugin or a setting that enables this type of behavior?</p>\n"},{"tags":["java","class","inheritance","polymorphism","visibility"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675869428,"post_id":75387820,"comment_id":133021158,"body_markdown":"When you call a polymorphic method (i.e. not static, not private, not final), then it will always call the appropriate overload depending on the actual object you call it on. That does **not** depend on whether or not the code that calls that method is *inside* one of the classes involved or in an unrelated third class.","body":"When you call a polymorphic method (i.e. not static, not private, not final), then it will always call the appropriate overload depending on the actual object you call it on. That does <b>not</b> depend on whether or not the code that calls that method is <i>inside</i> one of the classes involved or in an unrelated third class."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675946053,"post_id":75387820,"comment_id":133039231,"body_markdown":"A method can never directly access a field from a subclass (it can call an overridden method that returns the value of a subclass field, but that is an indirect access.) Method `methodOne()` **always** works with the field `A.m`. This doesn&#39;t depend on how you call `methodOne()`","body":"A method can never directly access a field from a subclass (it can call an overridden method that returns the value of a subclass field, but that is an indirect access.) Method <code>methodOne()</code> <b>always</b> works with the field <code>A.m</code>. This doesn&#39;t depend on how you call <code>methodOne()</code>"}],"answers":[{"tags":[],"owner":{"account_id":23296732,"reputation":61,"user_id":19302646,"display_name":"Vidar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675869380,"creation_date":1675869380,"answer_id":75387867,"question_id":75387820,"body_markdown":"Yes, this is correct. When a method is inherited from a superclass, the subclass can override it to change the behavior, but if not overridden, it will use the implementation in the superclass. In this case, calling b.methodOne(6) will use the m and increase from the B class, since b is an object of type B.\r\n\r\nThe static type refers to the type of a reference variable (in this case A b) whereas the dynamic type refers to the actual type of the object referred to by the reference variable (in this case B). When you call b.methodOne(6), the static type is A but the dynamic type is B. This means that the method methodOne is resolved based on the type of the object b refers to (dynamic type B) rather than the type of the reference variable b (static type A).\r\n\r\nInherited methods use the visibility of the superclass unless they are overridden in the subclass. In this case, b.visibilityTest() would work, because it is a method in the superclass A and visibility is not changed by inheritance.","title":"Do inherited methods use the visibility, methods and attributes of the superclass or subclass?","body":"<p>Yes, this is correct. When a method is inherited from a superclass, the subclass can override it to change the behavior, but if not overridden, it will use the implementation in the superclass. In this case, calling b.methodOne(6) will use the m and increase from the B class, since b is an object of type B.</p>\n<p>The static type refers to the type of a reference variable (in this case A b) whereas the dynamic type refers to the actual type of the object referred to by the reference variable (in this case B). When you call b.methodOne(6), the static type is A but the dynamic type is B. This means that the method methodOne is resolved based on the type of the object b refers to (dynamic type B) rather than the type of the reference variable b (static type A).</p>\n<p>Inherited methods use the visibility of the superclass unless they are overridden in the subclass. In this case, b.visibilityTest() would work, because it is a method in the superclass A and visibility is not changed by inheritance.</p>\n"}],"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675869873,"creation_date":1675869201,"question_id":75387820,"body_markdown":"What I assume is that an inherited method will, by standard, use the methods and attributes of the class whose object is used to execute that method.\r\n\r\nHere&#39;s an example for my question, it&#39;s from a task from an older exam:\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tA a = new A(3);\r\n\t\tA b = new B(1, 4);\r\n\t\tb.methodOne(6);       // &lt;----- This. I think that this uses &quot;b.m&quot; and &quot;b.increase&quot;\r\n\t}\r\n}\r\n\r\npublic class A {\r\n\tprivate int m;\r\n\tprivate int n;\r\n\r\n\tpublic A(int n) {\r\n\t\tm = n;\r\n\t}\r\n\r\n\tpublic void methodOne(int i) {\r\n\t\tm -= i;\r\n\t\tincrease(i);\r\n\t}\r\n\r\n\tpublic void increase(int i) {\r\n\t\tm += 2 * i;\r\n\t}\r\n\r\n        public void visilibityTest() {\r\n                n++;                   // &lt;----- I think that b.visibilityTest() would work\r\n                                       // Because it uses the visibility &quot;rights&quot; of A.\r\n        }\r\n}\r\n\r\npublic class B extends A {\r\n\tprivate int m;\r\n\r\n\tpublic B(int m, int n) {\r\n\t\tsuper(n);\r\n\t\tthis.m = m + 1;\r\n\t}\r\n\r\n\tpublic void increase(int i) {\r\n\t\tm += i;\r\n\t}\r\n}\r\n```\r\n\r\nAs I said in the comments, I think that by executing `b.methodOne`, the attribute &quot;b.m&quot; and the method &quot;b.increase&quot; are used, even though `methodOne` is inherited from class A. (I mean this.m of b, not super.m)\r\n\r\n**1. Is this true? Do inherited methods normally use the methods and attributes of the subclass?**\r\n\r\n**2. What role do the static/dynamic type play in this task? (&quot;A b = new B&quot;)**\r\n\r\nAnd what about visibility? In another task I found out that if you use inherited methods to access private attributes of the superclass (that should not be visible to a subclass), you can access those attributes, as if you were accessing superclass&#39;s visibility rights. I added an example method called `visibilityTest()` to show that example on this task. Would that work?\r\n\r\n**3. Do inherited methods use the visibility of the superclass?**\r\n\r\nI apologize for any unclear wording. I&#39;m both still trying to understand most of this, and also have to find out what many terms are called like in English, for the purpose of translation.\r\nAny pointing out of unclear wording will be appreciated.","title":"Do inherited methods use the visibility, methods and attributes of the superclass or subclass?","body":"<p>What I assume is that an inherited method will, by standard, use the methods and attributes of the class whose object is used to execute that method.</p>\n<p>Here's an example for my question, it's from a task from an older exam:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        A a = new A(3);\n        A b = new B(1, 4);\n        b.methodOne(6);       // &lt;----- This. I think that this uses &quot;b.m&quot; and &quot;b.increase&quot;\n    }\n}\n\npublic class A {\n    private int m;\n    private int n;\n\n    public A(int n) {\n        m = n;\n    }\n\n    public void methodOne(int i) {\n        m -= i;\n        increase(i);\n    }\n\n    public void increase(int i) {\n        m += 2 * i;\n    }\n\n        public void visilibityTest() {\n                n++;                   // &lt;----- I think that b.visibilityTest() would work\n                                       // Because it uses the visibility &quot;rights&quot; of A.\n        }\n}\n\npublic class B extends A {\n    private int m;\n\n    public B(int m, int n) {\n        super(n);\n        this.m = m + 1;\n    }\n\n    public void increase(int i) {\n        m += i;\n    }\n}\n</code></pre>\n<p>As I said in the comments, I think that by executing <code>b.methodOne</code>, the attribute &quot;b.m&quot; and the method &quot;b.increase&quot; are used, even though <code>methodOne</code> is inherited from class A. (I mean this.m of b, not super.m)</p>\n<p><strong>1. Is this true? Do inherited methods normally use the methods and attributes of the subclass?</strong></p>\n<p><strong>2. What role do the static/dynamic type play in this task? (&quot;A b = new B&quot;)</strong></p>\n<p>And what about visibility? In another task I found out that if you use inherited methods to access private attributes of the superclass (that should not be visible to a subclass), you can access those attributes, as if you were accessing superclass's visibility rights. I added an example method called <code>visibilityTest()</code> to show that example on this task. Would that work?</p>\n<p><strong>3. Do inherited methods use the visibility of the superclass?</strong></p>\n<p>I apologize for any unclear wording. I'm both still trying to understand most of this, and also have to find out what many terms are called like in English, for the purpose of translation.\nAny pointing out of unclear wording will be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633622372,"post_id":69482328,"comment_id":122814739,"body_markdown":"How did you register your Converter?","body":"How did you register your Converter?"},{"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"score":0,"creation_date":1633694645,"post_id":69482328,"comment_id":122834517,"body_markdown":"I just annotated it with @Component this should tell Spring that it should \nbe used.","body":"I just annotated it with @Component this should tell Spring that it should  be used."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633889730,"creation_date":1633695082,"answer_id":69495648,"question_id":69482328,"body_markdown":"Try registering your `Converter` as follows:\r\n```java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.removeConvertible(String.class, Boolean.class);\r\n        registry.addConverter(new StringToBooleanConverter());\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\nIf this does not work, which I suspect. Try creating your own `CustomBooleanEditor` as follows:\r\n```java\r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    public CustomBooleanEditor getCustomBooleanEditor() {\r\n        return new CustomBooleanEditor(&quot;true&quot;, &quot;false&quot;, false);\r\n    }\r\n}\r\n```","title":"Disable 1/yes/on and 0/no/off and allow only true/false to be passed via query-param or path-param","body":"<p>Try registering your <code>Converter</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.removeConvertible(String.class, Boolean.class);\n        registry.addConverter(new StringToBooleanConverter());\n    }\n}\n</code></pre>\n<hr />\n<p>If this does not work, which I suspect. Try creating your own <code>CustomBooleanEditor</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n    @Bean\n    public CustomBooleanEditor getCustomBooleanEditor() {\n        return new CustomBooleanEditor(&quot;true&quot;, &quot;false&quot;, false);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675869440,"creation_date":1675869440,"answer_id":75387878,"question_id":69482328,"body_markdown":"Configuring `ObjectMapper` disabling the following feature helped to solve the problem:\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n        return JsonMapper.builder()\r\n                         .disable(MapperFeature.ALLOW_COERCION_OF_SCALARS)\r\n                         .build();\r\n    }","title":"Disable 1/yes/on and 0/no/off and allow only true/false to be passed via query-param or path-param","body":"<p>Configuring <code>ObjectMapper</code> disabling the following feature helped to solve the problem:</p>\n<pre><code>@Bean\n@Primary\npublic ObjectMapper objectMapper() {\n    return JsonMapper.builder()\n                     .disable(MapperFeature.ALLOW_COERCION_OF_SCALARS)\n                     .build();\n}\n</code></pre>\n"}],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675869440,"creation_date":1633614282,"question_id":69482328,"body_markdown":"I want to disable Spring built-in deserialization of integer 0/1 and the strings \r\nno/off yes/on that are mapped to false/true respectively when they are \r\npassed via query-parameter or path-variable.\r\nWhen any value that is not true/false is passed I want to throw IllegalArgumentException.\r\n\r\nFirst I&#39;ve implemented my own StringToBooleanConverter:\r\n```\r\nimport org.springframework.core.convert.converter.Converter;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class StringToBooleanConverter implements Converter&lt;String, Boolean&gt; {\r\n\r\n    @Override\r\n    public Boolean convert(String source) {\r\n        String value = source.trim().toLowerCase();\r\n\r\n        if (&quot;true&quot;.equals(value)) {\r\n            return Boolean.TRUE;\r\n        } else if (&quot;false&quot;.equals(value)) {\r\n            return Boolean.FALSE;\r\n        }\r\n\r\n        throw new IllegalArgumentException(&quot;Invalid boolean value &#39;&quot; + source + &quot;&#39;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd since I&#39;ve provided an implementation of similar class spring will use my StringToBooleanConverter and not the one from ```org.springframework.core.convert.support```\r\n\r\nBut here is where my problem arise. When I send e.g. 0 code is reaching to the ```IllegalArgumentException``` and then execution passed to ```CustomBooleanEditor``` in the\r\n```org.springframework.beans.propertyeditors``` and the method ```public void setAsText(@Nullable String text) throws IllegalArgumentException {}``` is invoked and does almost the same logic\r\nas ```StringToBooleanConverter```.\r\n\r\nHow can I disable Spring from calling this method and use only the ```StringToBooleanConverter```? \r\n","title":"Disable 1/yes/on and 0/no/off and allow only true/false to be passed via query-param or path-param","body":"<p>I want to disable Spring built-in deserialization of integer 0/1 and the strings\nno/off yes/on that are mapped to false/true respectively when they are\npassed via query-parameter or path-variable.\nWhen any value that is not true/false is passed I want to throw IllegalArgumentException.</p>\n<p>First I've implemented my own StringToBooleanConverter:</p>\n<pre><code>import org.springframework.core.convert.converter.Converter;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class StringToBooleanConverter implements Converter&lt;String, Boolean&gt; {\n\n    @Override\n    public Boolean convert(String source) {\n        String value = source.trim().toLowerCase();\n\n        if (&quot;true&quot;.equals(value)) {\n            return Boolean.TRUE;\n        } else if (&quot;false&quot;.equals(value)) {\n            return Boolean.FALSE;\n        }\n\n        throw new IllegalArgumentException(&quot;Invalid boolean value '&quot; + source + &quot;'&quot;);\n    }\n}\n</code></pre>\n<p>And since I've provided an implementation of similar class spring will use my StringToBooleanConverter and not the one from <code>org.springframework.core.convert.support</code></p>\n<p>But here is where my problem arise. When I send e.g. 0 code is reaching to the <code>IllegalArgumentException</code> and then execution passed to <code>CustomBooleanEditor</code> in the\n<code>org.springframework.beans.propertyeditors</code> and the method <code>public void setAsText(@Nullable String text) throws IllegalArgumentException {}</code> is invoked and does almost the same logic\nas <code>StringToBooleanConverter</code>.</p>\n<p>How can I disable Spring from calling this method and use only the <code>StringToBooleanConverter</code>?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1673564318,"post_id":75103156,"comment_id":132534145,"body_markdown":"constraint should come from table schema declaration not from code","body":"constraint should come from table schema declaration not from code"}],"owner":{"account_id":23968144,"reputation":1,"user_id":17957297,"display_name":"Alex Oderdenge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675869353,"creation_date":1673564103,"question_id":75103156,"body_markdown":"I&#39;m making my first Spring Boot project, and it&#39;s working well. It uses a H2 database. The problem is that it returns 5xx HTTP responses, instead of 4xx with exceptions in cases of sql errors.\r\nFor example, I have this constraint:\r\n\r\nPet.java\r\n``` java\r\n@Table(uniqueConstraints={\r\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\r\n})\r\n```\r\nI made this constraint because you shouldn&#39;t be able to save 2 pets with the same name, for the same owner (customer).\r\n\r\nBut when I try to POST a pet with the same name, for the same owner, it returns me an 5xx error, and SQL error appear in the log.\r\n\r\n\r\nPet.java\r\n``` java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Entity(name = &quot;pet&quot;)\r\n@Table(uniqueConstraints={\r\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\r\n})\r\npublic class Pet implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Getter\r\n    @Setter\r\n    @Column(nullable = false, insertable = false, updatable = false)\r\n    private Long id;\r\n    @Column (name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n    @Column (name = &quot;birthdate&quot;)\r\n    private LocalDate birthdate;\r\n    @Column (name = &quot;weight_KG&quot;)\r\n    private Double weight_KG;\r\n    @Column\r\n    private String color;\r\n    @Column\r\n    String breed;\r\n    @Getter\r\n    @Setter\r\n    @ManyToOne (cascade =  CascadeType.ALL)\r\n    @JoinColumn (name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n    private Customer customer;\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;pet&quot;)\r\n    List&lt;Vaccination&gt; vaccination;\r\n\r\n}\r\n\r\n```\r\nCustomer.java\r\n``` java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@Entity (name = &quot;customer&quot;)\r\npublic class Customer implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Getter\r\n    @Setter\r\n    @Column(nullable = false, insertable = false, updatable = false)\r\n    private Long id;\r\n    @Column (name = &quot;name&quot;, nullable = false, unique = true)\r\n    private String name;\r\n    @Column (name = &quot;surname&quot;)\r\n    private String surname;\r\n    @Column (name = &quot;birthdate&quot;)\r\n    private LocalDate birthdate;\r\n    @OneToMany(mappedBy = &quot;customer&quot;,cascade={CascadeType.ALL})\r\n    @JsonIgnore\r\n    private List&lt;Pet&gt; pets;\r\n}\r\n```\r\nCustomerController.java\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/customer&quot;)\r\npublic class CustomerController {\r\n    @Autowired\r\n    private CustomerService customerService;\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Customer save(@RequestBody Customer customer) {\r\n        if (customerRepository.findByName(customer.getName()).isPresent()){\r\n            throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\r\n        }\r\n        //customerRepository.findByName(customer.getName()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n        return customerService.save(customer);\r\n    }\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Customer&gt; findAllCustomers(){\r\n        return customerService.findAll();\r\n    }\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public Customer findCustomerById(@PathVariable(&quot;id&quot;) Long id) {\r\n        return customerService.findById(id)\r\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n    }\r\n    @GetMapping(&quot;/name/{name}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Customer&gt; findCustomerByName(@PathVariable(&quot;name&quot;) String name) {\r\n        List&lt;Customer&gt; customer = customerRepository.findByNameStartsWithIgnoreCase(name);\r\n        return customer;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void deleteCustomer(@PathVariable(&quot;id&quot;) Long id){\r\n        customerService.findById(id)\r\n                .map(customer -&gt; {\r\n                    customerService.deleteById(customer.getId());\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n    }\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void updateCustomer (@PathVariable(&quot;id&quot;) Long id, @RequestBody Customer customer) {\r\n        customerService.findById(id)\r\n                .map(customerBase -&gt; {\r\n                    modelMapper.map(customer,customerBase);\r\n                    customerService.save(customerBase);\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\r\n    }\r\n\r\n}\r\n```\r\nPetController.java\r\n``` java\r\n@RestController\r\n@RequestMapping(&quot;/pet&quot;)\r\npublic class PetController {\r\n    @Autowired\r\n    private PetService petService;\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n    @Autowired\r\n    private PetRepository petRepository;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Pet save(@RequestBody Pet pet){\r\n        customerRepository.findById(pet.getCustomer().getId()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer does not exists.&quot;));\r\n        Customer customer = customerRepository.findById(pet.getCustomer().getId()).get();\r\n        pet.setCustomer(customer);\r\n        //petRepository.findByCustomer(customer);\r\n        return petService.save(pet);\r\n    }\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Pet&gt; findAllPets(){\r\n        return petService.findAll();\r\n    }\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public Pet findPetById(@PathVariable(&quot;id&quot;) Long id){\r\n        return petService.findById(id)\r\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\r\n    }\r\n    @GetMapping(&quot;/name/{name}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public List&lt;Pet&gt; findPetByName(@PathVariable(&quot;name&quot;) String name){\r\n        List&lt;Pet&gt; pet = petRepository.findByNameStartsWithIgnoreCase(name);\r\n        return pet;\r\n    }\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void deletePet(@PathVariable(&quot;id&quot;) Long id){\r\n        petService.findById(id)\r\n                .map(pet -&gt; {\r\n                    petService.deleteById(pet.getId());\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\r\n    }\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void updatePet (@PathVariable(&quot;id&quot;) Long id, @RequestBody Pet pet) {\r\n        petService.findById(id)\r\n                .map(petBase -&gt; {\r\n                    modelMapper.map(pet,petBase);\r\n                    petService.save(petBase);\r\n                    return Void.TYPE;\r\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nI had the same problem when saving two customers with the same name, but I solved the problem by adding these lines of code to the controller:\r\n\r\nCustomerController.java\r\n``` java\r\nif (customerRepository.findByName(customer.getName()).isPresent()){\r\n   throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\r\n}\r\n```\r\nBut the pet&#39;s constraint is more complex, and I couldn&#39;t find a solution the same way I did above. I tried to create a petRepository.findbyCustomer, send the customer that was gonna  be saved. Then I would have a list of pets that have the same customer, and somehow try to findByName these pets, searching for the name of the pet that is going to be saved. \r\n\r\nBut I stopped with these crazy idea, because there could be a cleaner way to to this. I tried to search for it, but couldn&#39;t find a solution.\r\n\r\nWhat I want is a exception throw in the case I try to save two pets with the same name for the same owner. I don&#39;t want SQL errors, and I don&#39;t want 5xx returns.","title":"Spring Boot - SQL error instead of thrown exception","body":"<p>I'm making my first Spring Boot project, and it's working well. It uses a H2 database. The problem is that it returns 5xx HTTP responses, instead of 4xx with exceptions in cases of sql errors.\nFor example, I have this constraint:</p>\n<p>Pet.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(uniqueConstraints={\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\n})\n</code></pre>\n<p>I made this constraint because you shouldn't be able to save 2 pets with the same name, for the same owner (customer).</p>\n<p>But when I try to POST a pet with the same name, for the same owner, it returns me an 5xx error, and SQL error appear in the log.</p>\n<p>Pet.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity(name = &quot;pet&quot;)\n@Table(uniqueConstraints={\n        @UniqueConstraint(columnNames = {&quot;name&quot;,&quot;customer_id&quot;})\n})\npublic class Pet implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Getter\n    @Setter\n    @Column(nullable = false, insertable = false, updatable = false)\n    private Long id;\n    @Column (name = &quot;name&quot;, nullable = false)\n    private String name;\n    @Column (name = &quot;birthdate&quot;)\n    private LocalDate birthdate;\n    @Column (name = &quot;weight_KG&quot;)\n    private Double weight_KG;\n    @Column\n    private String color;\n    @Column\n    String breed;\n    @Getter\n    @Setter\n    @ManyToOne (cascade =  CascadeType.ALL)\n    @JoinColumn (name = &quot;customer_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Customer customer;\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;pet&quot;)\n    List&lt;Vaccination&gt; vaccination;\n\n}\n\n</code></pre>\n<p>Customer.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity (name = &quot;customer&quot;)\npublic class Customer implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Getter\n    @Setter\n    @Column(nullable = false, insertable = false, updatable = false)\n    private Long id;\n    @Column (name = &quot;name&quot;, nullable = false, unique = true)\n    private String name;\n    @Column (name = &quot;surname&quot;)\n    private String surname;\n    @Column (name = &quot;birthdate&quot;)\n    private LocalDate birthdate;\n    @OneToMany(mappedBy = &quot;customer&quot;,cascade={CascadeType.ALL})\n    @JsonIgnore\n    private List&lt;Pet&gt; pets;\n}\n</code></pre>\n<p>CustomerController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/customer&quot;)\npublic class CustomerController {\n    @Autowired\n    private CustomerService customerService;\n\n    @Autowired\n    private ModelMapper modelMapper;\n    @Autowired\n    private CustomerRepository customerRepository;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public Customer save(@RequestBody Customer customer) {\n        if (customerRepository.findByName(customer.getName()).isPresent()){\n            throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\n        }\n        //customerRepository.findByName(customer.getName()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n        return customerService.save(customer);\n    }\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Customer&gt; findAllCustomers(){\n        return customerService.findAll();\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Customer findCustomerById(@PathVariable(&quot;id&quot;) Long id) {\n        return customerService.findById(id)\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n    }\n    @GetMapping(&quot;/name/{name}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Customer&gt; findCustomerByName(@PathVariable(&quot;name&quot;) String name) {\n        List&lt;Customer&gt; customer = customerRepository.findByNameStartsWithIgnoreCase(name);\n        return customer;\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void deleteCustomer(@PathVariable(&quot;id&quot;) Long id){\n        customerService.findById(id)\n                .map(customer -&gt; {\n                    customerService.deleteById(customer.getId());\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n    }\n    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void updateCustomer (@PathVariable(&quot;id&quot;) Long id, @RequestBody Customer customer) {\n        customerService.findById(id)\n                .map(customerBase -&gt; {\n                    modelMapper.map(customer,customerBase);\n                    customerService.save(customerBase);\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer not found&quot;));\n    }\n\n}\n</code></pre>\n<p>PetController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/pet&quot;)\npublic class PetController {\n    @Autowired\n    private PetService petService;\n\n    @Autowired\n    private ModelMapper modelMapper;\n    @Autowired\n    private CustomerRepository customerRepository;\n    @Autowired\n    private PetRepository petRepository;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public Pet save(@RequestBody Pet pet){\n        customerRepository.findById(pet.getCustomer().getId()).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Customer does not exists.&quot;));\n        Customer customer = customerRepository.findById(pet.getCustomer().getId()).get();\n        pet.setCustomer(customer);\n        //petRepository.findByCustomer(customer);\n        return petService.save(pet);\n    }\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Pet&gt; findAllPets(){\n        return petService.findAll();\n    }\n    @GetMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Pet findPetById(@PathVariable(&quot;id&quot;) Long id){\n        return petService.findById(id)\n                .orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\n    }\n    @GetMapping(&quot;/name/{name}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Pet&gt; findPetByName(@PathVariable(&quot;name&quot;) String name){\n        List&lt;Pet&gt; pet = petRepository.findByNameStartsWithIgnoreCase(name);\n        return pet;\n    }\n    @DeleteMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void deletePet(@PathVariable(&quot;id&quot;) Long id){\n        petService.findById(id)\n                .map(pet -&gt; {\n                    petService.deleteById(pet.getId());\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\n    }\n    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    public void updatePet (@PathVariable(&quot;id&quot;) Long id, @RequestBody Pet pet) {\n        petService.findById(id)\n                .map(petBase -&gt; {\n                    modelMapper.map(pet,petBase);\n                    petService.save(petBase);\n                    return Void.TYPE;\n                }).orElseThrow(() -&gt; new ResponseStatusException(HttpStatus.NOT_FOUND, &quot;Pet not found&quot;));\n    }\n\n}\n</code></pre>\n<p>I had the same problem when saving two customers with the same name, but I solved the problem by adding these lines of code to the controller:</p>\n<p>CustomerController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (customerRepository.findByName(customer.getName()).isPresent()){\n   throw new ResponseStatusException(HttpStatus.CONFLICT, &quot;Customer with the inserted name already exists.&quot;);\n}\n</code></pre>\n<p>But the pet's constraint is more complex, and I couldn't find a solution the same way I did above. I tried to create a petRepository.findbyCustomer, send the customer that was gonna  be saved. Then I would have a list of pets that have the same customer, and somehow try to findByName these pets, searching for the name of the pet that is going to be saved.</p>\n<p>But I stopped with these crazy idea, because there could be a cleaner way to to this. I tried to search for it, but couldn't find a solution.</p>\n<p>What I want is a exception throw in the case I try to save two pets with the same name for the same owner. I don't want SQL errors, and I don't want 5xx returns.</p>\n"},{"tags":["java","maven","checksum","data-integrity"],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1574414545,"creation_date":1529578549,"answer_id":50966803,"question_id":50966372,"body_markdown":"Pass the command-line option `--strict-checksums`.\n\nhttps://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-deps-option\n\n&gt; -C, --strict-checksums \n&gt;\n&gt; Fail the build if checksums don’t match","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>Pass the command-line option <code>--strict-checksums</code>.</p>\n<p><a href=\"https://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-deps-option\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-deps-option</a></p>\n<blockquote>\n<p>-C, --strict-checksums</p>\n<p>Fail the build if checksums don’t match</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1082613,"reputation":4508,"user_id":1079174,"display_name":"Daniel K&#228;fer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675844124,"creation_date":1675844124,"answer_id":75382921,"question_id":50966372,"body_markdown":"In Maven `4.0.0-alpha-2`, if a downloaded file fails the checksum check, the build will fail. This used to be a warning.\r\n\r\nJira-Issue: https://issues.apache.org/jira/browse/MNG-5728","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>In Maven <code>4.0.0-alpha-2</code>, if a downloaded file fails the checksum check, the build will fail. This used to be a warning.</p>\n<p>Jira-Issue: <a href=\"https://issues.apache.org/jira/browse/MNG-5728\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MNG-5728</a></p>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675869224,"creation_date":1675869224,"answer_id":75387827,"question_id":50966372,"body_markdown":"If you work with an IDE like IntelliJ, there is an option as well:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iy51p.png","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>If you work with an IDE like IntelliJ, there is an option as well:</p>\n<p><a href=\"https://i.stack.imgur.com/iy51p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iy51p.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5549,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":50966803,"answer_count":3,"score":4,"last_activity_date":1675869224,"creation_date":1529577262,"question_id":50966372,"body_markdown":"In some situations (like not having money on balance), my internet provider redirects any HTTP request to a simple html stub.\r\nRecently maven cache on my dev machive was flooded by jar files with content consisting of an html stub from my internet provider. These jar files were not noticed during the build and ended up being deployed to Tomcat as a part of my project artifacts. I noticed problem thanks to warnings about corrupted jar files at Tomcat log. Obviously, I want to avoid this situation in future.\r\n\r\nI see that at a maven cache, there are `*.sha1` files that are expected to contain integrity checksums for jar files. In my case, these `*.sha1` had also wrong content (consisting of an html stub).\r\n\r\nHow can I configure maven to fail during artifact download or during build process if jar file content does not match the integrity checksum? \r\n\r\nThe Maven version I use is `3.3.9`.","title":"Configuring maven to check integrity checksums when downloading artifacts from repository and/or building a project?","body":"<p>In some situations (like not having money on balance), my internet provider redirects any HTTP request to a simple html stub.\nRecently maven cache on my dev machive was flooded by jar files with content consisting of an html stub from my internet provider. These jar files were not noticed during the build and ended up being deployed to Tomcat as a part of my project artifacts. I noticed problem thanks to warnings about corrupted jar files at Tomcat log. Obviously, I want to avoid this situation in future.</p>\n\n<p>I see that at a maven cache, there are <code>*.sha1</code> files that are expected to contain integrity checksums for jar files. In my case, these <code>*.sha1</code> had also wrong content (consisting of an html stub).</p>\n\n<p>How can I configure maven to fail during artifact download or during build process if jar file content does not match the integrity checksum? </p>\n\n<p>The Maven version I use is <code>3.3.9</code>.</p>\n"},{"tags":["javascript","java","aes-gcm"],"comments":[{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":1,"creation_date":1675864030,"post_id":75386394,"comment_id":133019128,"body_markdown":"can you be more precise that &quot;not working&quot;? What does it do? Is there any error? (please include the details in the question itself using the &quot;Edit&quot; link). Note that IMO `throw new Error(error);` in the catch is quite pointless, the point of `try..catch` is to handle the error yourself, by throwing, you just change the place the error is emitted from","body":"can you be more precise that &quot;not working&quot;? What does it do? Is there any error? (please include the details in the question itself using the &quot;Edit&quot; link). Note that IMO <code>throw new Error(error);</code> in the catch is quite pointless, the point of <code>try..catch</code> is to handle the error yourself, by throwing, you just change the place the error is emitted from"},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675867532,"post_id":75386394,"comment_id":133020476,"body_markdown":"@Kaddath That&#39;s totally depends on the requirement whether I want to handle myself or emitted it to some other. Will check further on this. I have added the error that I am getting in console.","body":"@Kaddath That&#39;s totally depends on the requirement whether I want to handle myself or emitted it to some other. Will check further on this. I have added the error that I am getting in console."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675868289,"post_id":75386394,"comment_id":133020741,"body_markdown":"Help us out here. The code could be failing at any of the await style calls - crypto.subtle.digest, crypto.subtle.importKey or crypto.subtle.decrypt . Can you add some console logging before and after the three calls that logs the arguments to the calls.","body":"Help us out here. The code could be failing at any of the await style calls - crypto.subtle.digest, crypto.subtle.importKey or crypto.subtle.decrypt . Can you add some console logging before and after the three calls that logs the arguments to the calls."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1675868969,"post_id":75386394,"comment_id":133020979,"body_markdown":"You should have a line number in you error, can you tell us which line causes this error? (not just the number, we don&#39;t have the full code so it won&#39;t help as line numbers won&#39;t correspond). @JohnWilliams I think it&#39;s not from `crypto.subtle.decrypt` because of the &quot;Uncaught&quot;","body":"You should have a line number in you error, can you tell us which line causes this error? (not just the number, we don&#39;t have the full code so it won&#39;t help as line numbers won&#39;t correspond). @JohnWilliams I think it&#39;s not from <code>crypto.subtle.decrypt</code> because of the &quot;Uncaught&quot;"},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675869225,"post_id":75386394,"comment_id":133021077,"body_markdown":"@Kaddath I have added console logs. Those will help and error is coming while await crypto.subtle.decrypt(alg, key, ctUint8).","body":"@Kaddath I have added console logs. Those will help and error is coming while await crypto.subtle.decrypt(alg, key, ctUint8)."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675870793,"post_id":75386394,"comment_id":133021693,"body_markdown":"What is console.log(&quot;in catch&quot;,e); writing?","body":"What is console.log(&quot;in catch&quot;,e); writing?"},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675871276,"post_id":75386394,"comment_id":133021869,"body_markdown":"@JohnWilliams in catch Error","body":"@JohnWilliams in catch Error"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1675874381,"post_id":75386394,"comment_id":133023072,"body_markdown":"In the WebCrypto code, the key derivation via PBKDF2 is missing. Also, there seems to be an issue with Base64 decoding. By the way, the reuse of key/IV pairs for GCM is a serious vulnerability.","body":"In the WebCrypto code, the key derivation via PBKDF2 is missing. Also, there seems to be an issue with Base64 decoding. By the way, the reuse of key/IV pairs for GCM is a serious vulnerability."},{"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"score":0,"creation_date":1675875162,"post_id":75386394,"comment_id":133023336,"body_markdown":"@Topaco Can you please share working code equivalent to java","body":"@Topaco Can you please share working code equivalent to java"}],"owner":{"account_id":27735036,"reputation":1,"user_id":21172805,"display_name":"Navsher"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675869122,"creation_date":1675862336,"question_id":75386394,"body_markdown":"I am trying to decrypt encoded string in javascript using cryto.subtle. I have encoded this string in java using aes gcm. Please let me know the javascript code(using cryto.subtle) equivalent to below java code. Decryption works in java and just for learning I am using same string as key and initialization vector. Javascript code in giving error while decrypting. I am not using nodejs.\r\n\r\n**JAVA code**\r\n\r\n```\r\npackage com.hm.fcs.controller;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.KeySpec;\r\nimport java.util.Base64;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.GCMParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class AesGcmExample\r\n{\r\n    static String plainText = &quot;pathname=editOffer&amp;offerId=8ab076727fdbba68017ff98c196b0000&amp;mode=sea&quot;;\r\n    public static final int GCM_TAG_LENGTH = 16;\r\n\r\n    // Password derived AES 256 bits secret key\r\n    public static SecretKey getAESKeyFromPassword(char[] password, byte[] salt)\r\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n        // iterationCount = 65536\r\n        // keyLength = 256\r\n        KeySpec spec = new PBEKeySpec(password, salt, 65536, 256);\r\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n        return secret;\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        char[] secretKey = &quot;ZXE-ERW-QDD-EGXL&quot;.toCharArray();\r\n        byte[] IV = &quot;ZXE-ERW-QDD-EGXL&quot;.getBytes();\r\n\r\n//        SecureRandom random = new SecureRandom();\r\n//        random.nextBytes(IV);\r\n        System.out.println(&quot;original text : &quot;+plainText);\r\n        SecretKey key = getAESKeyFromPassword(secretKey,IV);\r\n        byte[] cipherText = encrypt(plainText.getBytes(), key, IV);\r\n        System.out.println(&quot;Encrypted Text : &quot; + Base64.getEncoder().encodeToString(cipherText));\r\n\r\n        String decryptedText = decrypt(cipherText, key, IV);\r\n        System.out.println(&quot;DeCrypted Text : &quot; + decryptedText);\r\n    }\r\n\r\n    public static byte[] encrypt(byte[] plaintext, SecretKey key, byte[] IV) throws Exception\r\n    {\r\n        // Get Cipher Instance\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\r\n        // Create GCMParameterSpec\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\r\n\r\n        // Initialize Cipher for ENCRYPT_MODE\r\n\r\n        cipher.init(Cipher.ENCRYPT_MODE, key, gcmParameterSpec);\r\n\r\n        // Perform Encryption\r\n        byte[] cipherText = cipher.doFinal(plaintext);\r\n\r\n        return cipherText;\r\n    }\r\n\r\n    public static String decrypt(byte[] cipherText, SecretKey key, byte[] IV) throws Exception\r\n    {\r\n        // Get Cipher Instance\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\r\n        // Create GCMParameterSpec\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\r\n\r\n        // Initialize Cipher for DECRYPT_MODE\r\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\r\n\r\n        // Perform Decryption\r\n        byte[] decryptedText = cipher.doFinal(cipherText);\r\n\r\n        return new String(decryptedText);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Java script code that I am trying**\r\n\r\n\r\n```\r\nconst pwUtf8 = new TextEncoder().encode(&quot;ZXE-ERW-QDD-EGXL&quot;);\r\n        console.log(&quot;before pwHash&quot;);\r\n        const pwHash = await crypto.subtle.digest(&#39;SHA-256&#39;, pwUtf8);\r\n        console.log(&quot;after pwHash&quot;);\r\n        const ivStr = &quot;ZXE-ERW-QDD-EGXL&quot;;\r\n        // iv as Uint8Array\r\n        const iv = new Uint8Array(Array.from(ivStr).map(ch =&gt; ch.charCodeAt(0)));\r\n\r\n        const alg = { name: &#39;AES-GCM&#39;,\r\n            iv: iv };\r\n        // generate key from pw\r\n        console.log(&quot;before key&quot;);\r\n        const key = await crypto.subtle.importKey(&#39;raw&#39;, pwHash, alg, false, [&#39;decrypt&#39;]);\r\n        console.log(&quot;after key&quot;);\r\n        const ctStr = &quot;lZSyv0+aBh6x2rSdNwo683Oz0TtJDDzSjsIe7muCm3jHgUoSOacsYP3Qiaocr2oms1uIAA7jOHKFhG1ntcuyqnEe/0Z/6xNj5lyDSvcDpYPNAEeD&quot;;\r\n        // ciphertext as Uint8Array\r\n\r\n\r\n        const ctUint8 = new Uint8Array(Array.from(ctStr).map(ch =&gt; ch.charCodeAt(0)));\r\n\r\n\r\n        try {\r\n            // decrypt ciphertext using key\r\n            console.log(&quot;before decrypt&quot;);\r\n            const plainBuffer = await crypto.subtle.decrypt(alg, key, ctUint8);\r\n            console.log(&quot;after decrypt&quot;);\r\n            // return plaintext from ArrayBuffer\r\n            return new TextDecoder().decode(plainBuffer);\r\n        } catch (e) {\r\n\r\n            console.log(&quot;in catch&quot;,e);\r\n        }\r\n```\r\n\r\nPlease help me in resolving this issue.\r\n\r\nTrying the above javascript code to decrypt but not working. Need equivalent code to java in javascript using crypto.subtle. I am not using nodejs. \r\nGetting this in console\r\n       Uncaught (in promise) Error: OperationError\r\n  ","title":"How to decrypt encoded string created via java code(AES GCM) using javascript crypto.subtle?","body":"<p>I am trying to decrypt encoded string in javascript using cryto.subtle. I have encoded this string in java using aes gcm. Please let me know the javascript code(using cryto.subtle) equivalent to below java code. Decryption works in java and just for learning I am using same string as key and initialization vector. Javascript code in giving error while decrypting. I am not using nodejs.</p>\n<p><strong>JAVA code</strong></p>\n<pre><code>package com.hm.fcs.controller;\n\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AesGcmExample\n{\n    static String plainText = &quot;pathname=editOffer&amp;offerId=8ab076727fdbba68017ff98c196b0000&amp;mode=sea&quot;;\n    public static final int GCM_TAG_LENGTH = 16;\n\n    // Password derived AES 256 bits secret key\n    public static SecretKey getAESKeyFromPassword(char[] password, byte[] salt)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        // iterationCount = 65536\n        // keyLength = 256\n        KeySpec spec = new PBEKeySpec(password, salt, 65536, 256);\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n        return secret;\n\n    }\n\n    public static void main(String[] args) throws Exception\n    {\n        char[] secretKey = &quot;ZXE-ERW-QDD-EGXL&quot;.toCharArray();\n        byte[] IV = &quot;ZXE-ERW-QDD-EGXL&quot;.getBytes();\n\n//        SecureRandom random = new SecureRandom();\n//        random.nextBytes(IV);\n        System.out.println(&quot;original text : &quot;+plainText);\n        SecretKey key = getAESKeyFromPassword(secretKey,IV);\n        byte[] cipherText = encrypt(plainText.getBytes(), key, IV);\n        System.out.println(&quot;Encrypted Text : &quot; + Base64.getEncoder().encodeToString(cipherText));\n\n        String decryptedText = decrypt(cipherText, key, IV);\n        System.out.println(&quot;DeCrypted Text : &quot; + decryptedText);\n    }\n\n    public static byte[] encrypt(byte[] plaintext, SecretKey key, byte[] IV) throws Exception\n    {\n        // Get Cipher Instance\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n\n        // Create GCMParameterSpec\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\n\n        // Initialize Cipher for ENCRYPT_MODE\n\n        cipher.init(Cipher.ENCRYPT_MODE, key, gcmParameterSpec);\n\n        // Perform Encryption\n        byte[] cipherText = cipher.doFinal(plaintext);\n\n        return cipherText;\n    }\n\n    public static String decrypt(byte[] cipherText, SecretKey key, byte[] IV) throws Exception\n    {\n        // Get Cipher Instance\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n\n        // Create GCMParameterSpec\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\n\n        // Initialize Cipher for DECRYPT_MODE\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\n\n        // Perform Decryption\n        byte[] decryptedText = cipher.doFinal(cipherText);\n\n        return new String(decryptedText);\n    }\n}\n\n</code></pre>\n<p><strong>Java script code that I am trying</strong></p>\n<pre><code>const pwUtf8 = new TextEncoder().encode(&quot;ZXE-ERW-QDD-EGXL&quot;);\n        console.log(&quot;before pwHash&quot;);\n        const pwHash = await crypto.subtle.digest('SHA-256', pwUtf8);\n        console.log(&quot;after pwHash&quot;);\n        const ivStr = &quot;ZXE-ERW-QDD-EGXL&quot;;\n        // iv as Uint8Array\n        const iv = new Uint8Array(Array.from(ivStr).map(ch =&gt; ch.charCodeAt(0)));\n\n        const alg = { name: 'AES-GCM',\n            iv: iv };\n        // generate key from pw\n        console.log(&quot;before key&quot;);\n        const key = await crypto.subtle.importKey('raw', pwHash, alg, false, ['decrypt']);\n        console.log(&quot;after key&quot;);\n        const ctStr = &quot;lZSyv0+aBh6x2rSdNwo683Oz0TtJDDzSjsIe7muCm3jHgUoSOacsYP3Qiaocr2oms1uIAA7jOHKFhG1ntcuyqnEe/0Z/6xNj5lyDSvcDpYPNAEeD&quot;;\n        // ciphertext as Uint8Array\n\n\n        const ctUint8 = new Uint8Array(Array.from(ctStr).map(ch =&gt; ch.charCodeAt(0)));\n\n\n        try {\n            // decrypt ciphertext using key\n            console.log(&quot;before decrypt&quot;);\n            const plainBuffer = await crypto.subtle.decrypt(alg, key, ctUint8);\n            console.log(&quot;after decrypt&quot;);\n            // return plaintext from ArrayBuffer\n            return new TextDecoder().decode(plainBuffer);\n        } catch (e) {\n\n            console.log(&quot;in catch&quot;,e);\n        }\n</code></pre>\n<p>Please help me in resolving this issue.</p>\n<p>Trying the above javascript code to decrypt but not working. Need equivalent code to java in javascript using crypto.subtle. I am not using nodejs.\nGetting this in console\nUncaught (in promise) Error: OperationError</p>\n"},{"tags":["java","mysql","mysql-connector"],"comments":[{"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"score":0,"creation_date":1675868862,"post_id":75387663,"comment_id":133020955,"body_markdown":"Hi. Probable the problem is that jar file doesnt have the Connector/J inside. Can you open the jar and check if you have that library?","body":"Hi. Probable the problem is that jar file doesnt have the Connector/J inside. Can you open the jar and check if you have that library?"}],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675868956,"creation_date":1675868956,"answer_id":75387759,"question_id":75387663,"body_markdown":"If you doesnt have the connector/J library into your jar file, just add this dependency in your pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.28&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"No suitable driver found for jdbc:mysql://localhost - Connector/J 8.0.32","body":"<p>If you doesnt have the connector/J library into your jar file, just add this dependency in your pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.28&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27735866,"reputation":11,"user_id":21173475,"display_name":"I_know_that_I_know_nothing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675868956,"creation_date":1675868539,"question_id":75387663,"body_markdown":"Good day,\r\n\r\nWhat I have in mind:\r\nI have rented a server (Ubuntu 22.04) and installed a mysql server there (8.0.32-0ubuntu0.22.04.2). I now wanted to run a jar file on the server (Java: OpenJDK Runtime Environment build 18.0.2-ea+9-Ubuntu-222.04) which automatically writes data to my database.\r\n\r\nProblem:\r\nWhen I ran the mysql server on the home computer with the jar program on the PC it worked without any problems.\r\nWhen I accessed the Mysql server on the server from my home computer, I was also able to write data automatically.\r\nWhen I now tried to execute the jar file on the server in order to access the Mysql server on the server, I always received the error message:\r\n&quot;No suitable driver found for jdbc:mysql://localhost&quot;.\r\n\r\nWhat I have done so far:\r\n-I enabled port 3306 in the firewall.\r\n-I tried to specify the IP address of my server instead of jdbc:mysql://localhost (jdbc:mysql://XXXXXXX).\r\n-I have inserted the jar file for the Connector/J 8.0.32 (Platform Independent) into my IntelliJ project.\r\n-My user for the mysql server has admin rights and the password is also correct.\r\n\r\nNow I don&#39;t know what to do. From my PC, I can use the jar file to automatically write data to the mysql server on the server, so the connector/j should work, but it doesn&#39;t work with the jar file on the server.\r\n","title":"No suitable driver found for jdbc:mysql://localhost - Connector/J 8.0.32","body":"<p>Good day,</p>\n<p>What I have in mind:\nI have rented a server (Ubuntu 22.04) and installed a mysql server there (8.0.32-0ubuntu0.22.04.2). I now wanted to run a jar file on the server (Java: OpenJDK Runtime Environment build 18.0.2-ea+9-Ubuntu-222.04) which automatically writes data to my database.</p>\n<p>Problem:\nWhen I ran the mysql server on the home computer with the jar program on the PC it worked without any problems.\nWhen I accessed the Mysql server on the server from my home computer, I was also able to write data automatically.\nWhen I now tried to execute the jar file on the server in order to access the Mysql server on the server, I always received the error message:\n&quot;No suitable driver found for jdbc:mysql://localhost&quot;.</p>\n<p>What I have done so far:\n-I enabled port 3306 in the firewall.\n-I tried to specify the IP address of my server instead of jdbc:mysql://localhost (jdbc:mysql://XXXXXXX).\n-I have inserted the jar file for the Connector/J 8.0.32 (Platform Independent) into my IntelliJ project.\n-My user for the mysql server has admin rights and the password is also correct.</p>\n<p>Now I don't know what to do. From my PC, I can use the jar file to automatically write data to the mysql server on the server, so the connector/j should work, but it doesn't work with the jar file on the server.</p>\n"},{"tags":["java","hashicorp-vault"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675868993,"post_id":75387719,"comment_id":133020990,"body_markdown":"Is the goal to stop the client from reading the secrets? The secrets that are encoded in the Vault configuration/image/whatnot that you are sending them? The secrets that your application needs access to that you also send them in binary form? If so, any attempts to do this are bound to fail: you&#39;re sending them the secrets for them to use. You can&#39;t make it impossible for them to also read the secrets.","body":"Is the goal to stop the client from reading the secrets? The secrets that are encoded in the Vault configuration/image/whatnot that you are sending them? The secrets that your application needs access to that you also send them in binary form? If so, any attempts to do this are bound to fail: you&#39;re sending them the secrets for them to use. You can&#39;t make it impossible for them to also read the secrets."},{"owner":{"account_id":1376376,"reputation":101,"user_id":1310305,"accept_rate":80,"display_name":"user1310305"},"score":0,"creation_date":1675869436,"post_id":75387719,"comment_id":133021160,"body_markdown":"I want only the java application to read those secrets. But they need to be stored locally because the java application is not connected to internet","body":"I want only the java application to read those secrets. But they need to be stored locally because the java application is not connected to internet"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675869503,"post_id":75387719,"comment_id":133021185,"body_markdown":"You probably can set up such an image. But there&#39;s no reliable way to stop a dedicated customer from reading the secrets from that image, if your Java application can read them. The simplest first approach is to just debug the Java application and step through when it reads the secrets.","body":"You probably can set up such an image. But there&#39;s no reliable way to stop a dedicated customer from reading the secrets from that image, if your Java application can read them. The simplest first approach is to just debug the Java application and step through when it reads the secrets."},{"owner":{"account_id":289850,"reputation":9684,"user_id":591064,"accept_rate":67,"display_name":"ixe013"},"score":0,"creation_date":1676055369,"post_id":75387719,"comment_id":133067499,"body_markdown":"In other words, your solution would be as insecure as storing the secrets in an encrypted file with the key or password in plain text next to it. Instead of taking 2 minutes to crack, it might take 5, but your solution is not worth the effort. +If your application cannot connect to anything, what does it need secrets for?","body":"In other words, your solution would be as insecure as storing the secrets in an encrypted file with the key or password in plain text next to it. Instead of taking 2 minutes to crack, it might take 5, but your solution is not worth the effort. +If your application cannot connect to anything, what does it need secrets for?"}],"owner":{"account_id":1376376,"reputation":101,"user_id":1310305,"accept_rate":80,"display_name":"user1310305"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675868811,"creation_date":1675868811,"question_id":75387719,"body_markdown":"this is my use case. I have a lecagy java application and this application needs some secrets to performs some tasks. This java application is shipped to the client as an executable jar and can&#39;t not connect over internet.\r\n\r\nI am wondering it could be possible de deploy also a HashiCorp Vault already configured (initialised...)with those secrets. That&#39;s means configure the vault, add secrets, generate ssl certificates and then ship this to the client aside this java application so that secrets will not be visible.","title":"Is it possible de deploy an HashiCorp Vault already configured on the client side?","body":"<p>this is my use case. I have a lecagy java application and this application needs some secrets to performs some tasks. This java application is shipped to the client as an executable jar and can't not connect over internet.</p>\n<p>I am wondering it could be possible de deploy also a HashiCorp Vault already configured (initialised...)with those secrets. That's means configure the vault, add secrets, generate ssl certificates and then ship this to the client aside this java application so that secrets will not be visible.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1675868406,"post_id":75387610,"comment_id":133020778,"body_markdown":"What *specific* exception do you get?","body":"What <i>specific</i> exception do you get?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675868426,"creation_date":1675868426,"answer_id":75387637,"question_id":75387610,"body_markdown":"Collect the stream to a `List` first. An `IntStream` is not a `Collection`.\r\n\r\n```java\r\ncolumnNum.addAll(IntStream.range(0, row.size())\r\n    .filter(i-&gt; StringUtils.isNotEmpty(row.get(i)))\r\n\t.boxed().collect(Collectors.toList())); // or .toList() with Java 16+\r\n```","title":"Get all indexes of an array with a certain condition in java","body":"<p>Collect the stream to a <code>List</code> first. An <code>IntStream</code> is not a <code>Collection</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>columnNum.addAll(IntStream.range(0, row.size())\n    .filter(i-&gt; StringUtils.isNotEmpty(row.get(i)))\n    .boxed().collect(Collectors.toList())); // or .toList() with Java 16+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382395,"reputation":1169,"user_id":737591,"accept_rate":60,"display_name":"csviri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675868779,"creation_date":1675868779,"answer_id":75387715,"question_id":75387610,"body_markdown":"You have to use boxed:\r\n\r\n    var list = List.of(&quot;&quot;,&quot;a&quot;,&quot;&quot;,&quot;b&quot;);\r\n\r\n    var set = IntStream.range(0, list.size())\r\n            .filter(i -&gt; \r\n       !list.get(i).isEmpty()).boxed().collect(Collectors.toSet());\r\n\r\n","title":"Get all indexes of an array with a certain condition in java","body":"<p>You have to use boxed:</p>\n<pre><code>var list = List.of(&quot;&quot;,&quot;a&quot;,&quot;&quot;,&quot;b&quot;);\n\nvar set = IntStream.range(0, list.size())\n        .filter(i -&gt; \n   !list.get(i).isEmpty()).boxed().collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":14277005,"reputation":1,"user_id":10312755,"display_name":"shani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675870147,"answer_count":2,"score":-1,"last_activity_date":1675868779,"creation_date":1675868306,"question_id":75387610,"body_markdown":"I have a list of strings and I want to add to a set all indexes from array where the string is not empty, \r\n\r\nI tried doing this:\r\n\r\n    columnNum.addAll((Collection&lt;? extends Integer&gt;) IntStream.range(0, row.size()).filter(i-&gt; StringUtils.isNotEmpty(row.get(i))));\r\n\r\nbut I get an exception","title":"Get all indexes of an array with a certain condition in java","body":"<p>I have a list of strings and I want to add to a set all indexes from array where the string is not empty,</p>\n<p>I tried doing this:</p>\n<pre><code>columnNum.addAll((Collection&lt;? extends Integer&gt;) IntStream.range(0, row.size()).filter(i-&gt; StringUtils.isNotEmpty(row.get(i))));\n</code></pre>\n<p>but I get an exception</p>\n"},{"tags":["java","android","androidx"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675863213,"post_id":75386135,"comment_id":133018822,"body_markdown":"It looks to me that *something* has started a thread/process with a weird non-UTF-8 encoded name and then *something else* in the Android code chokes on that. I don&#39;t see a way that the `DefaultTaskExecutor` could accidentally do this, so it&#39;s likely to be a different code (probably some predecessor with similar goals?) You say you get this on a few devices, can you reproduce it locally or do you only have statistics of this problem?","body":"It looks to me that <i>something</i> has started a thread/process with a weird non-UTF-8 encoded name and then <i>something else</i> in the Android code chokes on that. I don&#39;t see a way that the <code>DefaultTaskExecutor</code> could accidentally do this, so it&#39;s likely to be a different code (probably some predecessor with similar goals?) You say you get this on a few devices, can you reproduce it locally or do you only have statistics of this problem?"},{"owner":{"account_id":10024624,"reputation":1279,"user_id":7413137,"display_name":"Shaifali Rajput"},"score":0,"creation_date":1676032868,"post_id":75386135,"comment_id":133060584,"body_markdown":"@JoachimSauer for a few devices it&#39;s reproducible. and it&#39;s happening only when I open the app after killing the app. when I change the language and use the app without killing from recents its working fine the moment I kill the app forcefully and open it again it causes the above crash.","body":"@JoachimSauer for a few devices it&#39;s reproducible. and it&#39;s happening only when I open the app after killing the app. when I change the language and use the app without killing from recents its working fine the moment I kill the app forcefully and open it again it causes the above crash."}],"owner":{"account_id":10024624,"reputation":1279,"user_id":7413137,"display_name":"Shaifali Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675868577,"creation_date":1675861012,"question_id":75386135,"body_markdown":"```none\r\n     java_vm_ext.cc:594] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0xa\r\n     java_vm_ext.cc:594]     string: &#39;arch_disk_io_�\r\n     java_vm_ext.cc:594] &#39;\r\n     java_vm_ext.cc:594]     input: &#39;0x61 0x72 0x63 0x68 0x5f 0x64 0x69 0x73 0x6b 0x5f 0x69 0x6f 0x5f 0xe0 0xa7 &lt;0x0a&gt;&#39;\r\n     java_vm_ext.cc:594]     in call to NewStringUTF\r\n     java_vm_ext.cc:594]     from boolean android.os.Process.readProcFile(java.lang.String, int[], java.lang.String[], long[], float[]) 2023-02-07 18:26:40.796 13309-13331/om.friendimobile.vm D/VRI[SplashActivity]: dispatchAppVisibility visible:false\r\n```\r\n\r\nThis is what I am getting in my logcat after this application closes.\r\nI know **arch_disk_io_�** this string is causing issue but this string is used in `DefaultTaskExecutor` class in androidx dependency so I don&#39;t know how can I solve this.\r\n\r\nAlso I am getting this issue in few devices.","title":"JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0xa","body":"<pre class=\"lang-none prettyprint-override\"><code>     java_vm_ext.cc:594] JNI DETECTED ERROR IN APPLICATION: input is not valid Modified UTF-8: illegal continuation byte 0xa\n     java_vm_ext.cc:594]     string: 'arch_disk_io_�\n     java_vm_ext.cc:594] '\n     java_vm_ext.cc:594]     input: '0x61 0x72 0x63 0x68 0x5f 0x64 0x69 0x73 0x6b 0x5f 0x69 0x6f 0x5f 0xe0 0xa7 &lt;0x0a&gt;'\n     java_vm_ext.cc:594]     in call to NewStringUTF\n     java_vm_ext.cc:594]     from boolean android.os.Process.readProcFile(java.lang.String, int[], java.lang.String[], long[], float[]) 2023-02-07 18:26:40.796 13309-13331/om.friendimobile.vm D/VRI[SplashActivity]: dispatchAppVisibility visible:false\n</code></pre>\n<p>This is what I am getting in my logcat after this application closes.\nI know <strong>arch_disk_io_�</strong> this string is causing issue but this string is used in <code>DefaultTaskExecutor</code> class in androidx dependency so I don't know how can I solve this.</p>\n<p>Also I am getting this issue in few devices.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":10247655,"reputation":89,"user_id":7562955,"display_name":"zzpzaf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675855624,"creation_date":1675767643,"answer_id":75372424,"question_id":75289494,"body_markdown":"The SecurityContext is not saved by default after successful authentication. Moreover, the UsernamePasswordAuthenticationFilter is a form-login-based mechanism, so the Authentication object cannot be detected by the SessionManagementFilter, as the filter is not invoked during the authenticating request. So, you query the wrong Authentication object which in your case defaults to an Anonymous user. \r\n\r\nSo, first, after a successful authentication you have to save the authenticated Authentication object(returned from the attemptAuthentication() method) in the Security Context. You can do that by overriding the successfulAuthentication() method of your filter.\r\n\r\n    @Override\r\n    protected void successfulAuthentication(jakarta.servlet.http.HttpServletRequest request, jakarta.servlet.http.HttpServletResponse response,  jakarta.servlet.FilterChain chain, Authentication authResult) throws IOException, jakarta.servlet.ServletException {\r\n    \r\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n            context.setAuthentication(authResult);\r\n            //SecurityContextHolder.setContext(context);\r\n            HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\r\n            secRepo.saveContext(context, request, response);\r\n    \r\n            super.successfulAuthentication(request, response, chain, authResult);\r\n    }\r\n\r\n\r\nYou have to save it, in a persistent way, i.e. it has to be preserved during the whole session. A way to do so is via using an instance of the HttpSessionSecurityContextRepository class and using its saveContext() method to save it.\r\n\r\n\r\nAfter that, in your handler method for the default “/” home(), you can obtain the saved SecurityContextHolder, again by using an instance of the HttpSessionSecurityContextRepository class and via its loadDeferredContext() method. \r\n\r\nNote, that for this purpose, first, it is necessary to bring the request object (returned from your filter) in your handler home() method.  (For completeness you can do the same for the response object as well). \r\n\r\nAfter that, you can obtain the authenticated user from the extracted security context.\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home(jakarta.servlet.http.HttpServletRequest request,\r\n                       jakarta.servlet.http.HttpServletResponse response) {\r\n       \r\n        //Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n    \r\n        HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\r\n        Authentication auth = secRepo.loadDeferredContext(request).get().getAuthentication();  \r\n    \r\n        if (auth == null) return &quot;null&quot;;\r\n    \r\n        return (String) auth.getPrincipal();\r\n    \r\n    }\r\n\r\nOne more thing that should be mentioned, is that if you want you can invalidate the session in your handler. This is a &quot;must&quot; for security reasons, especially if you use a STATELESS application e.g.a REST API application.\r\n \r\nHope this helped you!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting anonymous user after authentication with custom filter","body":"<p>The SecurityContext is not saved by default after successful authentication. Moreover, the UsernamePasswordAuthenticationFilter is a form-login-based mechanism, so the Authentication object cannot be detected by the SessionManagementFilter, as the filter is not invoked during the authenticating request. So, you query the wrong Authentication object which in your case defaults to an Anonymous user.</p>\n<p>So, first, after a successful authentication you have to save the authenticated Authentication object(returned from the attemptAuthentication() method) in the Security Context. You can do that by overriding the successfulAuthentication() method of your filter.</p>\n<pre><code>@Override\nprotected void successfulAuthentication(jakarta.servlet.http.HttpServletRequest request, jakarta.servlet.http.HttpServletResponse response,  jakarta.servlet.FilterChain chain, Authentication authResult) throws IOException, jakarta.servlet.ServletException {\n\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(authResult);\n        //SecurityContextHolder.setContext(context);\n        HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\n        secRepo.saveContext(context, request, response);\n\n        super.successfulAuthentication(request, response, chain, authResult);\n}\n</code></pre>\n<p>You have to save it, in a persistent way, i.e. it has to be preserved during the whole session. A way to do so is via using an instance of the HttpSessionSecurityContextRepository class and using its saveContext() method to save it.</p>\n<p>After that, in your handler method for the default “/” home(), you can obtain the saved SecurityContextHolder, again by using an instance of the HttpSessionSecurityContextRepository class and via its loadDeferredContext() method.</p>\n<p>Note, that for this purpose, first, it is necessary to bring the request object (returned from your filter) in your handler home() method.  (For completeness you can do the same for the response object as well).</p>\n<p>After that, you can obtain the authenticated user from the extracted security context.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String home(jakarta.servlet.http.HttpServletRequest request,\n                   jakarta.servlet.http.HttpServletResponse response) {\n   \n    //Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    HttpSessionSecurityContextRepository secRepo = new HttpSessionSecurityContextRepository();\n    Authentication auth = secRepo.loadDeferredContext(request).get().getAuthentication();  \n\n    if (auth == null) return &quot;null&quot;;\n\n    return (String) auth.getPrincipal();\n\n}\n</code></pre>\n<p>One more thing that should be mentioned, is that if you want you can invalidate the session in your handler. This is a &quot;must&quot; for security reasons, especially if you use a STATELESS application e.g.a REST API application.</p>\n<p>Hope this helped you!</p>\n"},{"tags":[],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675868562,"creation_date":1675868562,"answer_id":75387671,"question_id":75289494,"body_markdown":"I got the solution for my problem from Marcus when I posted an issue on the spring security repository on github because I thought it was a bug. If you want to check the answer yourself you can go [here](https://github.com/spring-projects/spring-security/issues/12636#issuecomment-1422569183)\r\n\r\nThe issue was that the my custom filter was using `RequestAttributeSecurityContextRepository` but the default was `DelegatingSecurityContextRepository`, hence made the authentication not getting saved between requests. \r\n\r\nSetting the `SecurityContextRepository` in `jsonUsernamePasswordAuthenticationFilter` to `DelegatingSecurityContextRepository` will solve the issue.\r\n```\r\njsonUsernamePasswordAuthenticationFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\r\n                new RequestAttributeSecurityContextRepository(),\r\n                new HttpSessionSecurityContextRepository()\r\n        ));\r\n\r\n```","title":"Getting anonymous user after authentication with custom filter","body":"<p>I got the solution for my problem from Marcus when I posted an issue on the spring security repository on github because I thought it was a bug. If you want to check the answer yourself you can go <a href=\"https://github.com/spring-projects/spring-security/issues/12636#issuecomment-1422569183\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The issue was that the my custom filter was using <code>RequestAttributeSecurityContextRepository</code> but the default was <code>DelegatingSecurityContextRepository</code>, hence made the authentication not getting saved between requests.</p>\n<p>Setting the <code>SecurityContextRepository</code> in <code>jsonUsernamePasswordAuthenticationFilter</code> to <code>DelegatingSecurityContextRepository</code> will solve the issue.</p>\n<pre><code>jsonUsernamePasswordAuthenticationFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\n                new RequestAttributeSecurityContextRepository(),\n                new HttpSessionSecurityContextRepository()\n        ));\n\n</code></pre>\n"}],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75387671,"answer_count":2,"score":0,"last_activity_date":1675868562,"creation_date":1675108544,"question_id":75289494,"body_markdown":"I have post this question but with different format and got no answer and I think I didn&#39;t provide enough info.\r\n\r\nWhat I am trying to do is parse a login request payload that contain a JSON with username and password. So, I had to extend `UsernamePasswordAuthenticationFilter` and replace the `UsernamePasswordAuthenticationFilter` in filter chain with my custom filter.\r\n\r\nI&#39;ve done that and registered my custom filter as you can see in the log from `DefaultSecurityFilterChain`: \r\n\r\n    2023-01-30T22:33:13.993+03:00  INFO 20436 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ec09a68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7da9b32c, org.springframework.security.web.context.SecurityContextHolderFilter@2b6ff016, org.springframework.security.web.header.HeaderWriterFilter@118c1faa, org.springframework.security.web.authentication.logout.LogoutFilter@4f5df012, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7e5c8c80, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a491a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46df794e, org.springframework.security.web.access.ExceptionTranslationFilter@470866d1, org.springframework.security.web.access.intercept.AuthorizationFilter@1d0fc0bc]\r\n\r\nUntil now everything works fine. \r\n\r\nHere is the code:\r\n\r\n***SecurityConfig.java***\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig\r\n{\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception {\r\n        JsonUsernamePasswordAuthenticationFilter jsonUsernamePasswordAuthenticationFilter = new JsonUsernamePasswordAuthenticationFilter();\r\n        jsonUsernamePasswordAuthenticationFilter.setAuthenticationManager(authenticationManager);\r\n\r\n        http\r\n            .csrf().disable()\r\n            .formLogin().disable()\r\n            .addFilterAfter(jsonUsernamePasswordAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n            .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/**&quot;).authenticated()\r\n                .anyRequest().permitAll();\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n***JsonUsernamePasswordAuthenticationFilter.java***\r\n\r\n```java\r\npublic class JsonUsernamePasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    Logger logger = LoggerFactory.getLogger(JsonUsernamePasswordAuthenticationFilter.class);\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        UsernamePasswordDto usernamePasswordDto;\r\n\r\n        try {\r\n            usernamePasswordDto = new ObjectMapper().readValue(request.getInputStream(), UsernamePasswordDto.class);\r\n            logger.info(usernamePasswordDto.toString());\r\n        } catch (IOException ioe) {\r\n            throw new AuthenticationServiceException(ioe.getMessage(), ioe);\r\n        }\r\n\r\n        UsernamePasswordAuthenticationToken authToken =\r\n                UsernamePasswordAuthenticationToken.unauthenticated(usernamePasswordDto.getUsername(), usernamePasswordDto.getPassword());\r\n\r\n        Authentication result = this.getAuthenticationManager().authenticate(authToken);\r\n\r\n        for (GrantedAuthority a : result.getAuthorities()) {\r\n            logger.info(a.getAuthority());\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n***TestController.java***\r\n``` lang-java\r\n@RestController\r\npublic class TestController\r\n{\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home() {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (auth == null)\r\n            return &quot;null&quot;;\r\n\r\n        return auth.getName();\r\n    }\r\n}\r\n```\r\n\r\nI send a request to `/login` and I get `anonymousUser` response. I thought I missed something in the custom filter so I printed the authorities the user has and got `ROLE_USER`. \r\n\r\nHere is the full output\r\n\r\n```\r\n2023-01-30T22:48:30.329+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-30T22:48:30.851+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-01-30T22:48:30.903+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\r\n2023-01-30T22:48:31.355+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-01-30T22:48:31.431+03:00  INFO 20900 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-01-30T22:48:31.432+03:00  INFO 20900 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1064 ms\r\n2023-01-30T22:48:31.559+03:00  INFO 20900 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-01-30T22:48:31.591+03:00  INFO 20900 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n2023-01-30T22:48:31.696+03:00  WARN 20900 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2023-01-30T22:48:31.781+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-01-30T22:48:31.983+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77ea806f\r\n2023-01-30T22:48:31.984+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-01-30T22:48:32.032+03:00  INFO 20900 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n2023-01-30T22:48:32.847+03:00  INFO 20900 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-01-30T22:48:32.853+03:00  INFO 20900 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-01-30T22:48:33.070+03:00  WARN 20900 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-01-30T22:48:33.220+03:00  INFO 20900 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\r\n2023-01-30T22:48:33.519+03:00  INFO 20900 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cd6a827, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd65042, org.springframework.security.web.context.SecurityContextHolderFilter@5c30decf, org.springframework.security.web.header.HeaderWriterFilter@5aefdb9e, org.springframework.security.web.authentication.logout.LogoutFilter@50d6af87, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7674f9d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a0f4282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b5ceb5d, org.springframework.security.web.access.ExceptionTranslationFilter@99f75e4, org.springframework.security.web.access.intercept.AuthorizationFilter@7da9b32c]\r\n2023-01-30T22:48:33.688+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-01-30T22:48:33.689+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...\r\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d3a238]]\r\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.\r\n2023-01-30T22:48:33.696+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : Started ChattyApplication in 3.673 seconds (process running for 3.952)\r\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n2023-01-30T22:48:52.250+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : UsernamePasswordDto(username=user01, password=password)\r\n2023-01-30T22:48:52.421+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : ROLE_USER\r\n```\r\n\r\nWhat I think is after finishing the authentication process and sending a redirect to homepage the context is deleted somehow or cleared, but I&#39;m not Spring Security expert.\r\n\r\nI&#39;ve done this in older versions with `WebSecurityConfigurerAdapter` without any problem but using this way of configuration didn&#39;t work.\r\n\r\nI really tried everything I could and I would appreciate any help.","title":"Getting anonymous user after authentication with custom filter","body":"<p>I have post this question but with different format and got no answer and I think I didn't provide enough info.</p>\n<p>What I am trying to do is parse a login request payload that contain a JSON with username and password. So, I had to extend <code>UsernamePasswordAuthenticationFilter</code> and replace the <code>UsernamePasswordAuthenticationFilter</code> in filter chain with my custom filter.</p>\n<p>I've done that and registered my custom filter as you can see in the log from <code>DefaultSecurityFilterChain</code>:</p>\n<pre><code>2023-01-30T22:33:13.993+03:00  INFO 20436 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ec09a68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7da9b32c, org.springframework.security.web.context.SecurityContextHolderFilter@2b6ff016, org.springframework.security.web.header.HeaderWriterFilter@118c1faa, org.springframework.security.web.authentication.logout.LogoutFilter@4f5df012, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7e5c8c80, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a491a60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a0f4282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46df794e, org.springframework.security.web.access.ExceptionTranslationFilter@470866d1, org.springframework.security.web.access.intercept.AuthorizationFilter@1d0fc0bc]\n</code></pre>\n<p>Until now everything works fine.</p>\n<p>Here is the code:</p>\n<p><em><strong>SecurityConfig.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig\n{\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception {\n        JsonUsernamePasswordAuthenticationFilter jsonUsernamePasswordAuthenticationFilter = new JsonUsernamePasswordAuthenticationFilter();\n        jsonUsernamePasswordAuthenticationFilter.setAuthenticationManager(authenticationManager);\n\n        http\n            .csrf().disable()\n            .formLogin().disable()\n            .addFilterAfter(jsonUsernamePasswordAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n            .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/**&quot;).authenticated()\n                .anyRequest().permitAll();\n\n        return http.build();\n    }\n}\n</code></pre>\n<p><em><strong>JsonUsernamePasswordAuthenticationFilter.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonUsernamePasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n    Logger logger = LoggerFactory.getLogger(JsonUsernamePasswordAuthenticationFilter.class);\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        UsernamePasswordDto usernamePasswordDto;\n\n        try {\n            usernamePasswordDto = new ObjectMapper().readValue(request.getInputStream(), UsernamePasswordDto.class);\n            logger.info(usernamePasswordDto.toString());\n        } catch (IOException ioe) {\n            throw new AuthenticationServiceException(ioe.getMessage(), ioe);\n        }\n\n        UsernamePasswordAuthenticationToken authToken =\n                UsernamePasswordAuthenticationToken.unauthenticated(usernamePasswordDto.getUsername(), usernamePasswordDto.getPassword());\n\n        Authentication result = this.getAuthenticationManager().authenticate(authToken);\n\n        for (GrantedAuthority a : result.getAuthorities()) {\n            logger.info(a.getAuthority());\n        }\n\n        return result;\n    }\n}\n\n</code></pre>\n<p><em><strong>TestController.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController\n{\n    @GetMapping(&quot;/&quot;)\n    public String home() {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n        if (auth == null)\n            return &quot;null&quot;;\n\n        return auth.getName();\n    }\n}\n</code></pre>\n<p>I send a request to <code>/login</code> and I get <code>anonymousUser</code> response. I thought I missed something in the custom filter so I printed the authorities the user has and got <code>ROLE_USER</code>.</p>\n<p>Here is the full output</p>\n<pre><code>2023-01-30T22:48:30.329+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-30T22:48:30.851+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-30T22:48:30.903+03:00  INFO 20900 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 1 JPA repository interfaces.\n2023-01-30T22:48:31.355+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-30T22:48:31.361+03:00  INFO 20900 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-01-30T22:48:31.431+03:00  INFO 20900 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-30T22:48:31.432+03:00  INFO 20900 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1064 ms\n2023-01-30T22:48:31.559+03:00  INFO 20900 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-01-30T22:48:31.591+03:00  INFO 20900 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\n2023-01-30T22:48:31.696+03:00  WARN 20900 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2023-01-30T22:48:31.781+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-01-30T22:48:31.983+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77ea806f\n2023-01-30T22:48:31.984+03:00  INFO 20900 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-01-30T22:48:32.032+03:00  INFO 20900 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2023-01-30T22:48:32.847+03:00  INFO 20900 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-01-30T22:48:32.853+03:00  INFO 20900 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-01-30T22:48:33.070+03:00  WARN 20900 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-01-30T22:48:33.220+03:00  INFO 20900 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]\n2023-01-30T22:48:33.519+03:00  INFO 20900 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cd6a827, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd65042, org.springframework.security.web.context.SecurityContextHolderFilter@5c30decf, org.springframework.security.web.header.HeaderWriterFilter@5aefdb9e, org.springframework.security.web.authentication.logout.LogoutFilter@50d6af87, ali.yousef.chatty.config.security.JsonUsernamePasswordAuthenticationFilter@7674f9d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a0f4282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@356ab368, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b5ceb5d, org.springframework.security.web.access.ExceptionTranslationFilter@99f75e4, org.springframework.security.web.access.intercept.AuthorizationFilter@7da9b32c]\n2023-01-30T22:48:33.688+03:00  INFO 20900 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-01-30T22:48:33.689+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5d3a238]]\n2023-01-30T22:48:33.690+03:00  INFO 20900 --- [           main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.\n2023-01-30T22:48:33.696+03:00  INFO 20900 --- [           main] ali.yousef.chatty.ChattyApplication      : Started ChattyApplication in 3.673 seconds (process running for 3.952)\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-01-30T22:48:52.209+03:00  INFO 20900 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n2023-01-30T22:48:52.250+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : UsernamePasswordDto(username=user01, password=password)\n2023-01-30T22:48:52.421+03:00  INFO 20900 --- [nio-8080-exec-3] JsonUsernamePasswordAuthenticationFilter : ROLE_USER\n</code></pre>\n<p>What I think is after finishing the authentication process and sending a redirect to homepage the context is deleted somehow or cleared, but I'm not Spring Security expert.</p>\n<p>I've done this in older versions with <code>WebSecurityConfigurerAdapter</code> without any problem but using this way of configuration didn't work.</p>\n<p>I really tried everything I could and I would appreciate any help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9329,"page":663,"page_size":100}
