{"items":[{"tags":["java","android","kotlin","android-camera2","video-encoding"],"owner":{"account_id":8833812,"reputation":63,"user_id":6598939,"accept_rate":100,"display_name":"Prince Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675942016,"creation_date":1675942016,"question_id":75397928,"body_markdown":"I am trying to make an mp4 video recoding, its **not working** on all android devices and I am getting grayscale recordings on S21 Android OS 12, S22 Green bars\r\n\r\nNot sure where I went wrong, Following is all the possible code that could impact \r\n\r\nWhat I am expecting is that it should work on all devices producing colored 1080p mp4 video and no green bars\r\n\r\n**ImageAnalysis Initilization**\r\n\r\n```\r\n        val imageAnalysis = ImageAnalysis.Builder()\r\n            // enable the following line if RGBA output is needed.\r\n            // .setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888)\r\n            .setOutputImageRotationEnabled(true)\r\n            //.setTargetAspectRatio(quality.getAspectRatio(quality))\r\n            .setTargetResolution(fhdResolution)\r\n            .setBackpressureStrategy(ImageAnalysis.STRATEGY_BLOCK_PRODUCER)\r\n            .build()\r\n```\r\n\r\n```\r\n        imageAnalysis.setAnalyzer(executorService, ImageAnalysis.Analyzer { imageProxy -&gt;\r\n\r\n            // convert image to bytearray before closing\r\n            val bytearray = ImageUtil.imageToNv21ByteArray(imageProxy)\r\n\r\n            imageProxy.close()\r\n            frameMetadata?.let {\r\n                val metadata = it\r\n                bytearray?.let {\r\n                    trySend(\r\n                        FrameWrapper(\r\n                            it,\r\n                            imageProxy.imageInfo,\r\n                            imageProxy.width,\r\n                            imageProxy.height,\r\n                            state,\r\n                            metadata\r\n                        )\r\n                    )\r\n                }\r\n            }\r\n        })\r\n```\r\n\r\n**imageToNv21ByteArray**\r\n\r\n```\r\n    fun imageToNv21ByteArray(image: ImageProxy): ByteArray? {\r\n        var data: ByteArray? = null\r\n        if (image.format == ImageFormat.YUV_420_888) {\r\n\r\n            data = yuv_420_888toNv21(image) // &lt;=== this seems to be the best one\r\n\r\n        } else {\r\n            Timber.e(&quot;Unrecognized image format: %s&quot;, image.format)\r\n        }\r\n        return data\r\n    }\r\n```\r\n\r\n**yuv_420_888toNv21**\r\n\r\n```\r\nprivate fun yuv_420_888toNv21(image: ImageProxy): ByteArray? {\r\n        val yPlane = image.planes[0]\r\n        val uPlane = image.planes[1]\r\n        val vPlane = image.planes[2]\r\n        val yBuffer = yPlane.buffer\r\n        val uBuffer = uPlane.buffer\r\n        val vBuffer = vPlane.buffer\r\n        yBuffer.rewind()\r\n        uBuffer.rewind()\r\n        vBuffer.rewind()\r\n        val ySize = yBuffer.remaining()\r\n        var position = 0\r\n        // TODO(b/115743986): Pull these bytes from a pool instead of allocating for every image.\r\n        val nv21 = ByteArray(ySize + image.width * image.height / 2)\r\n\r\n        // Add the full y buffer to the array. If rowStride &gt; 1, some padding may be skipped.\r\n        for (row in 0 until image.height) {\r\n            yBuffer[nv21, position, image.width]\r\n            position += image.width\r\n            yBuffer.position(\r\n                Math.min(ySize, yBuffer.position() - image.width + yPlane.rowStride)\r\n            )\r\n        }\r\n        val chromaHeight = image.height / 2\r\n        val chromaWidth = image.width / 2\r\n        val vRowStride = vPlane.rowStride\r\n        val uRowStride = uPlane.rowStride\r\n        val vPixelStride = vPlane.pixelStride\r\n        val uPixelStride = uPlane.pixelStride\r\n\r\n        // Interleave the u and v frames, filling up the rest of the buffer. Use two line buffers to\r\n        // perform faster bulk gets from the byte buffers.\r\n        val vLineBuffer = ByteArray(vRowStride)\r\n        val uLineBuffer = ByteArray(uRowStride)\r\n        for (row in 0 until chromaHeight) {\r\n            vBuffer[vLineBuffer, 0, Math.min(vRowStride, vBuffer.remaining())]\r\n            uBuffer[uLineBuffer, 0, Math.min(uRowStride, uBuffer.remaining())]\r\n            var vLineBufferPosition = 0\r\n            var uLineBufferPosition = 0\r\n            for (col in 0 until chromaWidth) {\r\n                nv21[position++] = vLineBuffer[vLineBufferPosition]\r\n                nv21[position++] = uLineBuffer[uLineBufferPosition]\r\n                vLineBufferPosition += vPixelStride\r\n                uLineBufferPosition += uPixelStride\r\n            }\r\n        }\r\n        return nv21\r\n    }\r\n```\r\n**Mp4EncoderFrameFlowConsumer**\r\n```\r\nclass Mp4EncoderFrameFlowConsumer(var context: Context, callback: (videoStartTime: Long) -&gt; Unit) : OpsisModule {\r\n    var recording = false\r\n    var pendingStart = false\r\n    var encoder: VideoEncoder? = null\r\n    var job: Job? = null\r\n    var videoStartTime: Long? = null\r\n    var callback:((videoStartTime: Long) -&gt; Unit) = callback\r\n\r\n    override fun start() {\r\n        thread(start = true) {\r\n            val frameFlow: FrameFlow = FlowManager.getFlow(FlowManager.FlowType.frame) as FrameFlow\r\n            runBlocking {\r\n                job = CoroutineScope(Job()).launch {\r\n                    frameFlow.frameFlow().collect {\r\n                        if (pendingStart) {\r\n                            val wrapper = it\r\n                            pendingStart = false\r\n                            encoder?.let {\r\n                                it.startEncoding(wrapper.width, wrapper.height)\r\n                            }\r\n                        }\r\n\r\n                        if (recording) {\r\n                            if (videoStartTime == null) {\r\n                                videoStartTime = it.frameMetadata.timestamp\r\n                                callback(videoStartTime!!)\r\n                            }\r\n                            addFrame(it)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Timber.d(&quot;Done encoder consumer&quot;)\r\n    }\r\n\r\n    override fun startRecording() {\r\n        recording = true;\r\n        Timber.d(&quot;Start Recording&quot;)\r\n\r\n        encoder = VideoEncoder()\r\n        pendingStart = true\r\n\r\n    }\r\n\r\n    override fun stopRecording(startFrame:Long, dir:File, callback: (result: File) -&gt; Unit) {\r\n        if (recording) {\r\n            recording = false\r\n            encoder?.let {\r\n                try {\r\n                    it.stopEncoding() { file -&gt;\r\n                        // copy file to directory\r\n                        val newfile = File(dir.absolutePath + &quot;/breeze_video.mp4&quot;)\r\n                        if (file.exists()) {\r\n                            file.copyTo(newfile)\r\n                            file.delete()\r\n                        }\r\n                        callback(newfile)\r\n                    }\r\n                } catch (e: Exception) {\r\n                    e.printStackTrace()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun stop() {\r\n        Timber.d(&quot;STOPPING ENCODER CONSUMER&quot;)\r\n        job?.let {\r\n            it.cancel()\r\n        }\r\n    }\r\n\r\n    suspend fun addFrame(wrapper: FrameWrapper) {\r\n        //   Timber.d(&quot;RECORD META ${wrapper.frameMetadata.timestamp} FRAME ${wrapper.info.timestamp}&quot;)\r\n        encoder?.let {\r\n            it.addFrame(wrapper.image)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**VideoEncoder**\r\n```\r\nclass VideoEncoder() {\r\n    var mOutputFile: File? = null\r\n    private var mediaCodec: MediaCodec? = null\r\n    private var mediaMuxer: MediaMuxer? = null\r\n    private var mGenerateIndex = 0\r\n    private var mTrackIndex = 0\r\n    private var mNoMoreFrames = false\r\n    private var mAbort = false\r\n    private val _encodingFlow = MutableSharedFlow&lt;ByteArray&gt;(\r\n        extraBufferCapacity = 20,\r\n        onBufferOverflow = BufferOverflow.DROP_OLDEST\r\n    )\r\n\r\n    init {\r\n        mOutputFile = File(Util.getFilePath(&quot;opsis_video&quot;, &quot;.mp4&quot;))\r\n\r\n        thread(start = true) {\r\n            runBlocking {\r\n                CoroutineScope(Job()).launch {\r\n                    _encodingFlow.collect {\r\n                        mediaCodec?.let { codec -&gt;\r\n                            mediaMuxer?.let { muxer -&gt;\r\n                                try {\r\n                                    val TIMEOUT_USEC: Long = 500000\r\n                                    val inputBufIndex = codec.dequeueInputBuffer(TIMEOUT_USEC)\r\n                                    val ptsUsec =\r\n                                        computePresentationTime(mGenerateIndex.toLong(), FRAME_RATE)\r\n                                    if (inputBufIndex &gt;= 0) {\r\n                                        val inputBuffer: ByteBuffer? =\r\n                                            codec.getInputBuffer(inputBufIndex)\r\n                                        inputBuffer?.let { buffer -&gt;\r\n                                            buffer.clear()\r\n                                            buffer.put(it)\r\n                                            try {\r\n                                                codec.queueInputBuffer(inputBufIndex, 0, it.size, ptsUsec, 0)\r\n                                            } catch (e: Exception) {\r\n                                                e.printStackTrace()\r\n                                            }\r\n                                            mGenerateIndex++\r\n                                        }\r\n                                    }\r\n                                    val mBufferInfo = MediaCodec.BufferInfo()\r\n                                    val encoderStatus =\r\n                                        codec.dequeueOutputBuffer(mBufferInfo, TIMEOUT_USEC)\r\n                                    if (encoderStatus == MediaCodec.INFO_TRY_AGAIN_LATER) {\r\n                                        // no output available yet\r\n                                        Timber.e(&quot;No output from encoder available&quot;)\r\n                                    } else if (encoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) {\r\n                                        // not expected for an encoder\r\n                                        val newFormat = codec.outputFormat\r\n                                        mTrackIndex = muxer.addTrack(newFormat)\r\n                                        muxer.start()\r\n                                    } else if (encoderStatus &lt; 0) {\r\n                                        Timber.e(&quot;unexpected result from encoder.dequeueOutputBuffer: $encoderStatus&quot;)\r\n                                    } else if (mBufferInfo.size != 0) {\r\n                                        val encodedData: ByteBuffer? =\r\n                                            codec.getOutputBuffer(encoderStatus)\r\n                                        if (encodedData == null) {\r\n                                            Timber.e(&quot;encoderOutputBuffer $encoderStatus was null&quot;)\r\n                                        } else {\r\n                                            encodedData.position(mBufferInfo.offset)\r\n                                            encodedData.limit(mBufferInfo.offset + mBufferInfo.size)\r\n                                            muxer.writeSampleData(\r\n                                                mTrackIndex,\r\n                                                encodedData,\r\n                                                mBufferInfo\r\n                                            )\r\n                                            codec.releaseOutputBuffer(encoderStatus, false)\r\n                                        }\r\n                                    }\r\n                                } catch (e: Exception) {\r\n                                    e.printStackTrace()\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    fun encodingFlow(): Flow&lt;ByteArray&gt; {\r\n        return _encodingFlow\r\n    }\r\n\r\n    val isEncodingStarted: Boolean\r\n        get() = mediaCodec != null &amp;&amp; mediaMuxer != null &amp;&amp; !mNoMoreFrames &amp;&amp; !mAbort\r\n\r\n    fun startEncoding(width: Int, height: Int) {\r\n        mWidth = width\r\n        mHeight = height\r\n        val outputFile = mOutputFile!!\r\n        val outputFileString: String\r\n        outputFileString = try {\r\n            outputFile.getCanonicalPath()\r\n        } catch (e: IOException) {\r\n            Timber.e(&quot;Unable to get path for $outputFile&quot;)\r\n            return\r\n        }\r\n        val codecInfo = selectCodec(MIME_TYPE)\r\n        if (codecInfo == null) {\r\n            Timber.e(&quot;Unable to find an appropriate codec for &quot; + MIME_TYPE)\r\n            return\r\n        }\r\n        Timber.d(&quot;found codec: &quot; + codecInfo.name)\r\n\r\n        mediaCodec = try {\r\n            MediaCodec.createByCodecName(codecInfo.name)\r\n        } catch (e: IOException) {\r\n            Timber.e(&quot;Unable to create MediaCodec &quot; + e.message)\r\n            return\r\n        }\r\n        val mediaFormat = MediaFormat.createVideoFormat(MIME_TYPE, mWidth, mHeight)\r\n        mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, BIT_RATE)\r\n        mediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, FRAME_RATE)\r\n        mediaFormat.setInteger(\r\n            MediaFormat.KEY_COLOR_FORMAT,\r\n            CodecCapabilities.COLOR_FormatYUV420Flexible\r\n        )\r\n        mediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, I_FRAME_INTERVAL)\r\n        mediaCodec?.let { codec -&gt;\r\n            codec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE)\r\n            codec.start()\r\n            mediaMuxer = try {\r\n                MediaMuxer(outputFileString, MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4)\r\n            } catch (e: IOException) {\r\n                Timber.e(&quot;MediaMuxer creation failed. &quot; + e.message)\r\n                return\r\n            }\r\n            Timber.d(&quot;Initialization complete. Starting encoder...&quot;)\r\n        }\r\n    }\r\n\r\n    suspend fun addFrame(frame: ByteArray) {\r\n        _encodingFlow.emit(frame)\r\n    }\r\n\r\n    fun stopEncoding(callback: (result: File) -&gt; Unit) {\r\n        release()\r\n        callback(mOutputFile!!)\r\n    }\r\n\r\n    private fun release() {\r\n        mediaCodec?.let {\r\n            try {\r\n                it.stop()\r\n                it.release()\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n            mediaCodec = null\r\n        }\r\n        mediaMuxer?.let {\r\n            try {\r\n                it.stop()\r\n                it.release()\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n            }\r\n            mediaMuxer = null\r\n        }\r\n    }\r\n\r\n    // from google:\r\n    // https://android.googlesource.com/platform/cts/+/jb-mr2-release/tests/tests/media/src/android/media/cts/EncodeDecodeTest.java#1128\r\n    private fun computePresentationTime(frameIndex: Long, framerate: Int): Long {\r\n        return 132 + frameIndex * 1000000 / framerate\r\n    }\r\n\r\n    companion object {\r\n        private const val MIME_TYPE = &quot;video/avc&quot; // H.264 Advanced Video Coding\r\n        private var mWidth = 0\r\n        private var mHeight = 0\r\n        private const val BIT_RATE = 16000000\r\n        private const val FRAME_RATE = 30 // Frames per second\r\n        private const val I_FRAME_INTERVAL = 1\r\n        private fun selectCodec(mimeType: String): MediaCodecInfo? {\r\n            val numCodecs = MediaCodecList.getCodecCount()\r\n            for (i in 0 until numCodecs) {\r\n                val codecInfo = MediaCodecList.getCodecInfoAt(i)\r\n                if (!codecInfo.isEncoder) {\r\n                    continue\r\n                }\r\n                val types = codecInfo.supportedTypes\r\n                for (j in types.indices) {\r\n                    if (types[j].equals(mimeType, ignoreCase = true)) {\r\n                        return codecInfo\r\n                    }\r\n                }\r\n            }\r\n            return null\r\n        }\r\n    }\r\n}\r\n```","title":"Android yuv_420_888 mp4 1080p output is graysale on some devices like S21 and green bars on S22","body":"<p>I am trying to make an mp4 video recoding, its <strong>not working</strong> on all android devices and I am getting grayscale recordings on S21 Android OS 12, S22 Green bars</p>\n<p>Not sure where I went wrong, Following is all the possible code that could impact</p>\n<p>What I am expecting is that it should work on all devices producing colored 1080p mp4 video and no green bars</p>\n<p><strong>ImageAnalysis Initilization</strong></p>\n<pre><code>        val imageAnalysis = ImageAnalysis.Builder()\n            // enable the following line if RGBA output is needed.\n            // .setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888)\n            .setOutputImageRotationEnabled(true)\n            //.setTargetAspectRatio(quality.getAspectRatio(quality))\n            .setTargetResolution(fhdResolution)\n            .setBackpressureStrategy(ImageAnalysis.STRATEGY_BLOCK_PRODUCER)\n            .build()\n</code></pre>\n<pre><code>        imageAnalysis.setAnalyzer(executorService, ImageAnalysis.Analyzer { imageProxy -&gt;\n\n            // convert image to bytearray before closing\n            val bytearray = ImageUtil.imageToNv21ByteArray(imageProxy)\n\n            imageProxy.close()\n            frameMetadata?.let {\n                val metadata = it\n                bytearray?.let {\n                    trySend(\n                        FrameWrapper(\n                            it,\n                            imageProxy.imageInfo,\n                            imageProxy.width,\n                            imageProxy.height,\n                            state,\n                            metadata\n                        )\n                    )\n                }\n            }\n        })\n</code></pre>\n<p><strong>imageToNv21ByteArray</strong></p>\n<pre><code>    fun imageToNv21ByteArray(image: ImageProxy): ByteArray? {\n        var data: ByteArray? = null\n        if (image.format == ImageFormat.YUV_420_888) {\n\n            data = yuv_420_888toNv21(image) // &lt;=== this seems to be the best one\n\n        } else {\n            Timber.e(&quot;Unrecognized image format: %s&quot;, image.format)\n        }\n        return data\n    }\n</code></pre>\n<p><strong>yuv_420_888toNv21</strong></p>\n<pre><code>private fun yuv_420_888toNv21(image: ImageProxy): ByteArray? {\n        val yPlane = image.planes[0]\n        val uPlane = image.planes[1]\n        val vPlane = image.planes[2]\n        val yBuffer = yPlane.buffer\n        val uBuffer = uPlane.buffer\n        val vBuffer = vPlane.buffer\n        yBuffer.rewind()\n        uBuffer.rewind()\n        vBuffer.rewind()\n        val ySize = yBuffer.remaining()\n        var position = 0\n        // TODO(b/115743986): Pull these bytes from a pool instead of allocating for every image.\n        val nv21 = ByteArray(ySize + image.width * image.height / 2)\n\n        // Add the full y buffer to the array. If rowStride &gt; 1, some padding may be skipped.\n        for (row in 0 until image.height) {\n            yBuffer[nv21, position, image.width]\n            position += image.width\n            yBuffer.position(\n                Math.min(ySize, yBuffer.position() - image.width + yPlane.rowStride)\n            )\n        }\n        val chromaHeight = image.height / 2\n        val chromaWidth = image.width / 2\n        val vRowStride = vPlane.rowStride\n        val uRowStride = uPlane.rowStride\n        val vPixelStride = vPlane.pixelStride\n        val uPixelStride = uPlane.pixelStride\n\n        // Interleave the u and v frames, filling up the rest of the buffer. Use two line buffers to\n        // perform faster bulk gets from the byte buffers.\n        val vLineBuffer = ByteArray(vRowStride)\n        val uLineBuffer = ByteArray(uRowStride)\n        for (row in 0 until chromaHeight) {\n            vBuffer[vLineBuffer, 0, Math.min(vRowStride, vBuffer.remaining())]\n            uBuffer[uLineBuffer, 0, Math.min(uRowStride, uBuffer.remaining())]\n            var vLineBufferPosition = 0\n            var uLineBufferPosition = 0\n            for (col in 0 until chromaWidth) {\n                nv21[position++] = vLineBuffer[vLineBufferPosition]\n                nv21[position++] = uLineBuffer[uLineBufferPosition]\n                vLineBufferPosition += vPixelStride\n                uLineBufferPosition += uPixelStride\n            }\n        }\n        return nv21\n    }\n</code></pre>\n<p><strong>Mp4EncoderFrameFlowConsumer</strong></p>\n<pre><code>class Mp4EncoderFrameFlowConsumer(var context: Context, callback: (videoStartTime: Long) -&gt; Unit) : OpsisModule {\n    var recording = false\n    var pendingStart = false\n    var encoder: VideoEncoder? = null\n    var job: Job? = null\n    var videoStartTime: Long? = null\n    var callback:((videoStartTime: Long) -&gt; Unit) = callback\n\n    override fun start() {\n        thread(start = true) {\n            val frameFlow: FrameFlow = FlowManager.getFlow(FlowManager.FlowType.frame) as FrameFlow\n            runBlocking {\n                job = CoroutineScope(Job()).launch {\n                    frameFlow.frameFlow().collect {\n                        if (pendingStart) {\n                            val wrapper = it\n                            pendingStart = false\n                            encoder?.let {\n                                it.startEncoding(wrapper.width, wrapper.height)\n                            }\n                        }\n\n                        if (recording) {\n                            if (videoStartTime == null) {\n                                videoStartTime = it.frameMetadata.timestamp\n                                callback(videoStartTime!!)\n                            }\n                            addFrame(it)\n                        }\n                    }\n                }\n            }\n        }\n        Timber.d(&quot;Done encoder consumer&quot;)\n    }\n\n    override fun startRecording() {\n        recording = true;\n        Timber.d(&quot;Start Recording&quot;)\n\n        encoder = VideoEncoder()\n        pendingStart = true\n\n    }\n\n    override fun stopRecording(startFrame:Long, dir:File, callback: (result: File) -&gt; Unit) {\n        if (recording) {\n            recording = false\n            encoder?.let {\n                try {\n                    it.stopEncoding() { file -&gt;\n                        // copy file to directory\n                        val newfile = File(dir.absolutePath + &quot;/breeze_video.mp4&quot;)\n                        if (file.exists()) {\n                            file.copyTo(newfile)\n                            file.delete()\n                        }\n                        callback(newfile)\n                    }\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                }\n            }\n        }\n    }\n\n    override fun stop() {\n        Timber.d(&quot;STOPPING ENCODER CONSUMER&quot;)\n        job?.let {\n            it.cancel()\n        }\n    }\n\n    suspend fun addFrame(wrapper: FrameWrapper) {\n        //   Timber.d(&quot;RECORD META ${wrapper.frameMetadata.timestamp} FRAME ${wrapper.info.timestamp}&quot;)\n        encoder?.let {\n            it.addFrame(wrapper.image)\n        }\n    }\n}\n</code></pre>\n<p><strong>VideoEncoder</strong></p>\n<pre><code>class VideoEncoder() {\n    var mOutputFile: File? = null\n    private var mediaCodec: MediaCodec? = null\n    private var mediaMuxer: MediaMuxer? = null\n    private var mGenerateIndex = 0\n    private var mTrackIndex = 0\n    private var mNoMoreFrames = false\n    private var mAbort = false\n    private val _encodingFlow = MutableSharedFlow&lt;ByteArray&gt;(\n        extraBufferCapacity = 20,\n        onBufferOverflow = BufferOverflow.DROP_OLDEST\n    )\n\n    init {\n        mOutputFile = File(Util.getFilePath(&quot;opsis_video&quot;, &quot;.mp4&quot;))\n\n        thread(start = true) {\n            runBlocking {\n                CoroutineScope(Job()).launch {\n                    _encodingFlow.collect {\n                        mediaCodec?.let { codec -&gt;\n                            mediaMuxer?.let { muxer -&gt;\n                                try {\n                                    val TIMEOUT_USEC: Long = 500000\n                                    val inputBufIndex = codec.dequeueInputBuffer(TIMEOUT_USEC)\n                                    val ptsUsec =\n                                        computePresentationTime(mGenerateIndex.toLong(), FRAME_RATE)\n                                    if (inputBufIndex &gt;= 0) {\n                                        val inputBuffer: ByteBuffer? =\n                                            codec.getInputBuffer(inputBufIndex)\n                                        inputBuffer?.let { buffer -&gt;\n                                            buffer.clear()\n                                            buffer.put(it)\n                                            try {\n                                                codec.queueInputBuffer(inputBufIndex, 0, it.size, ptsUsec, 0)\n                                            } catch (e: Exception) {\n                                                e.printStackTrace()\n                                            }\n                                            mGenerateIndex++\n                                        }\n                                    }\n                                    val mBufferInfo = MediaCodec.BufferInfo()\n                                    val encoderStatus =\n                                        codec.dequeueOutputBuffer(mBufferInfo, TIMEOUT_USEC)\n                                    if (encoderStatus == MediaCodec.INFO_TRY_AGAIN_LATER) {\n                                        // no output available yet\n                                        Timber.e(&quot;No output from encoder available&quot;)\n                                    } else if (encoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) {\n                                        // not expected for an encoder\n                                        val newFormat = codec.outputFormat\n                                        mTrackIndex = muxer.addTrack(newFormat)\n                                        muxer.start()\n                                    } else if (encoderStatus &lt; 0) {\n                                        Timber.e(&quot;unexpected result from encoder.dequeueOutputBuffer: $encoderStatus&quot;)\n                                    } else if (mBufferInfo.size != 0) {\n                                        val encodedData: ByteBuffer? =\n                                            codec.getOutputBuffer(encoderStatus)\n                                        if (encodedData == null) {\n                                            Timber.e(&quot;encoderOutputBuffer $encoderStatus was null&quot;)\n                                        } else {\n                                            encodedData.position(mBufferInfo.offset)\n                                            encodedData.limit(mBufferInfo.offset + mBufferInfo.size)\n                                            muxer.writeSampleData(\n                                                mTrackIndex,\n                                                encodedData,\n                                                mBufferInfo\n                                            )\n                                            codec.releaseOutputBuffer(encoderStatus, false)\n                                        }\n                                    }\n                                } catch (e: Exception) {\n                                    e.printStackTrace()\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    fun encodingFlow(): Flow&lt;ByteArray&gt; {\n        return _encodingFlow\n    }\n\n    val isEncodingStarted: Boolean\n        get() = mediaCodec != null &amp;&amp; mediaMuxer != null &amp;&amp; !mNoMoreFrames &amp;&amp; !mAbort\n\n    fun startEncoding(width: Int, height: Int) {\n        mWidth = width\n        mHeight = height\n        val outputFile = mOutputFile!!\n        val outputFileString: String\n        outputFileString = try {\n            outputFile.getCanonicalPath()\n        } catch (e: IOException) {\n            Timber.e(&quot;Unable to get path for $outputFile&quot;)\n            return\n        }\n        val codecInfo = selectCodec(MIME_TYPE)\n        if (codecInfo == null) {\n            Timber.e(&quot;Unable to find an appropriate codec for &quot; + MIME_TYPE)\n            return\n        }\n        Timber.d(&quot;found codec: &quot; + codecInfo.name)\n\n        mediaCodec = try {\n            MediaCodec.createByCodecName(codecInfo.name)\n        } catch (e: IOException) {\n            Timber.e(&quot;Unable to create MediaCodec &quot; + e.message)\n            return\n        }\n        val mediaFormat = MediaFormat.createVideoFormat(MIME_TYPE, mWidth, mHeight)\n        mediaFormat.setInteger(MediaFormat.KEY_BIT_RATE, BIT_RATE)\n        mediaFormat.setInteger(MediaFormat.KEY_FRAME_RATE, FRAME_RATE)\n        mediaFormat.setInteger(\n            MediaFormat.KEY_COLOR_FORMAT,\n            CodecCapabilities.COLOR_FormatYUV420Flexible\n        )\n        mediaFormat.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, I_FRAME_INTERVAL)\n        mediaCodec?.let { codec -&gt;\n            codec.configure(mediaFormat, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE)\n            codec.start()\n            mediaMuxer = try {\n                MediaMuxer(outputFileString, MediaMuxer.OutputFormat.MUXER_OUTPUT_MPEG_4)\n            } catch (e: IOException) {\n                Timber.e(&quot;MediaMuxer creation failed. &quot; + e.message)\n                return\n            }\n            Timber.d(&quot;Initialization complete. Starting encoder...&quot;)\n        }\n    }\n\n    suspend fun addFrame(frame: ByteArray) {\n        _encodingFlow.emit(frame)\n    }\n\n    fun stopEncoding(callback: (result: File) -&gt; Unit) {\n        release()\n        callback(mOutputFile!!)\n    }\n\n    private fun release() {\n        mediaCodec?.let {\n            try {\n                it.stop()\n                it.release()\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n            mediaCodec = null\n        }\n        mediaMuxer?.let {\n            try {\n                it.stop()\n                it.release()\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n            mediaMuxer = null\n        }\n    }\n\n    // from google:\n    // https://android.googlesource.com/platform/cts/+/jb-mr2-release/tests/tests/media/src/android/media/cts/EncodeDecodeTest.java#1128\n    private fun computePresentationTime(frameIndex: Long, framerate: Int): Long {\n        return 132 + frameIndex * 1000000 / framerate\n    }\n\n    companion object {\n        private const val MIME_TYPE = &quot;video/avc&quot; // H.264 Advanced Video Coding\n        private var mWidth = 0\n        private var mHeight = 0\n        private const val BIT_RATE = 16000000\n        private const val FRAME_RATE = 30 // Frames per second\n        private const val I_FRAME_INTERVAL = 1\n        private fun selectCodec(mimeType: String): MediaCodecInfo? {\n            val numCodecs = MediaCodecList.getCodecCount()\n            for (i in 0 until numCodecs) {\n                val codecInfo = MediaCodecList.getCodecInfoAt(i)\n                if (!codecInfo.isEncoder) {\n                    continue\n                }\n                val types = codecInfo.supportedTypes\n                for (j in types.indices) {\n                    if (types[j].equals(mimeType, ignoreCase = true)) {\n                        return codecInfo\n                    }\n                }\n            }\n            return null\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing"],"owner":{"account_id":11699793,"reputation":431,"user_id":8565308,"display_name":"ruwan liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675941940,"creation_date":1675941940,"question_id":75397914,"body_markdown":"I need to write a unit test to a java class. I&#39;m using testNG for it. I&#39;m currently blocked due to not being able to mock the, parent class method. I need to mock that or call the actual method. I used the spy method but that also not fixed this problem.\r\n\r\n    abstract class ClassA{\r\n      protected Query createQuery(final String query){\r\n        return this.getSession().createQuery(query);\r\n      }\r\n    }\r\n    \r\n    class ClassB extend ClassA{\r\n      public void methodNeedToTest(){\r\n        //some code lines\r\n        this.createQuery(&quot;sample input&quot;);\r\n        //some code lines\r\n      }\r\n    }\r\n\r\nI need to wrtite unit test to `ClassB.methodNeedToTest()` method.  ","title":"Need to mock the parent class method in TestNG","body":"<p>I need to write a unit test to a java class. I'm using testNG for it. I'm currently blocked due to not being able to mock the, parent class method. I need to mock that or call the actual method. I used the spy method but that also not fixed this problem.</p>\n<pre><code>abstract class ClassA{\n  protected Query createQuery(final String query){\n    return this.getSession().createQuery(query);\n  }\n}\n\nclass ClassB extend ClassA{\n  public void methodNeedToTest(){\n    //some code lines\n    this.createQuery(&quot;sample input&quot;);\n    //some code lines\n  }\n}\n</code></pre>\n<p>I need to wrtite unit test to <code>ClassB.methodNeedToTest()</code> method.</p>\n"},{"tags":["java","c++","jvm","java-native-interface","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":27613,"reputation":14605,"user_id":73019,"accept_rate":80,"display_name":"Jared Oberhaus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1240962073,"creation_date":1240962073,"answer_id":800295,"question_id":798876,"body_markdown":"When I wrote this code I would also get the error via stdout/stderr.\r\n\r\nThe best way to redirect stdout/stderr in your process is by using [freopen][1]. Here is a [StackOverflow question][2] specifically about that subject.\r\n\r\n\r\nHowever, once that call is passed, you will then have a `JNIEnv`, and all further error checking can and should be done by calling `JNIEnv::ExceptionOccurred()`, which will may return a `Throwable` object that you can then interrogate with your JNI code.\r\n\r\n\r\n  [1]: http://www.opengroup.org/onlinepubs/000095399/functions/freopen.html\r\n  [2]: https://stackoverflow.com/questions/584868/rerouting-stdin-and-stdout-from-c","title":"How do I get an error message when failing to load a JVM via JNI?","body":"<p>When I wrote this code I would also get the error via stdout/stderr.</p>\n\n<p>The best way to redirect stdout/stderr in your process is by using <a href=\"http://www.opengroup.org/onlinepubs/000095399/functions/freopen.html\" rel=\"nofollow noreferrer\">freopen</a>. Here is a <a href=\"https://stackoverflow.com/questions/584868/rerouting-stdin-and-stdout-from-c\">StackOverflow question</a> specifically about that subject.</p>\n\n<p>However, once that call is passed, you will then have a <code>JNIEnv</code>, and all further error checking can and should be done by calling <code>JNIEnv::ExceptionOccurred()</code>, which will may return a <code>Throwable</code> object that you can then interrogate with your JNI code.</p>\n"},{"tags":[],"owner":{"account_id":1864,"reputation":6035,"user_id":2574,"display_name":"Adam Mitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675941881,"creation_date":1240962919,"answer_id":800334,"question_id":798876,"body_markdown":"After getting a hold of stdout and stderr, which you&#39;ll need anyway, add [-Xcheck:jni][1] to your jvm command line to get extra jni-related warnings from the jvm.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts002.html","title":"How do I get an error message when failing to load a JVM via JNI?","body":"<p>After getting a hold of stdout and stderr, which you'll need anyway, add <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts002.html\" rel=\"nofollow noreferrer\">-Xcheck:jni</a> to your jvm command line to get extra jni-related warnings from the jvm.</p>\n"},{"comments":[{"owner":{"account_id":1235990,"reputation":4144,"user_id":1199564,"accept_rate":71,"display_name":"mgd"},"score":0,"creation_date":1357745080,"post_id":803982,"comment_id":19755274,"body_markdown":"The link to sun.java.com no longer works and the function `setError()` is not declared in the snippet. Any hints about where to find it?","body":"The link to sun.java.com no longer works and the function <code>setError()</code> is not declared in the snippet. Any hints about where to find it?"},{"owner":{"account_id":14494,"reputation":386,"user_id":29855,"accept_rate":60,"display_name":"randy909"},"score":0,"creation_date":1357919146,"post_id":803982,"comment_id":19829845,"body_markdown":"This looks to be the same link although it&#39;s been a long time: [old-faq](http://192.9.162.55/products/jdk/faq/jnifaq-old.html). The setError method was just a helper method we defined. The jniErrors string will include the error message at that point.","body":"This looks to be the same link although it&#39;s been a long time: <a href=\"http://192.9.162.55/products/jdk/faq/jnifaq-old.html\" rel=\"nofollow noreferrer\">old-faq</a>. The setError method was just a helper method we defined. The jniErrors string will include the error message at that point."},{"owner":{"account_id":1235990,"reputation":4144,"user_id":1199564,"accept_rate":71,"display_name":"mgd"},"score":0,"creation_date":1357925669,"post_id":803982,"comment_id":19833463,"body_markdown":"Thanks for the pointer. Should I update the link in the answer?","body":"Thanks for the pointer. Should I update the link in the answer?"}],"tags":[],"owner":{"account_id":14494,"reputation":386,"user_id":29855,"accept_rate":60,"display_name":"randy909"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1628862811,"creation_date":1241034670,"answer_id":803982,"question_id":798876,"body_markdown":"I was able to get what I needed by using the &quot;vfprintf&quot; option described here:\r\n\r\n[https://web.archive.org/web/20111229234347/http://java.sun.com/products/jdk/faq/jnifaq-old.html][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20111229234347/http://java.sun.com/products/jdk/faq/jnifaq-old.html\r\n\r\nalthough I used the jdk1.2 options. This code snippet summarizes my solution:\r\n\r\n    static string jniErrors;\r\n\r\n    static jint JNICALL my_vfprintf(FILE *fp, const char *format, va_list args)\r\n    {\r\n        char buf[1024];\r\n        vsnprintf(buf, sizeof(buf), format, args);\r\n        jniErrors += buf;\r\n        return 0;\r\n    }\r\n\r\n    ...\r\n\r\n    JavaVMOption options[1];\r\n    options[0].optionString = &quot;vfprintf&quot;;\r\n    options[0].extraInfo = my_vfprintf;\r\n\r\n    JavaVMInitArgs vm_args;\r\n    memset(&amp;vm_args, 0, sizeof(vm_args));\r\n    vm_args.nOptions = 1;\r\n    vm_args.options = options;\r\n    vm_args.version = JNI_VERSION_1_4;\r\n    vm_args.ignoreUnrecognized = JNI_FALSE;\r\n\r\n    JNIEnv env;\r\n    JavaVM jvm;\r\n\r\n    jint res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\r\n\r\n    if (res != JNI_OK)\r\n        setError(jniErrors);\r\n\r\n    jniErrors.clear();\r\n\r\n\r\nAlso interesting was that I could not for the life of me capture stdout or stderr correctly with any of the freopen or dup2 tricks. I could load my *own* dll and redirect correctly but not the jvm. Anyway, it&#39;s better this way because I wanted the errors in memory rather than in a file.","title":"How do I get an error message when failing to load a JVM via JNI?","body":"<p>I was able to get what I needed by using the &quot;vfprintf&quot; option described here:</p>\n<p><a href=\"https://web.archive.org/web/20111229234347/http://java.sun.com/products/jdk/faq/jnifaq-old.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20111229234347/http://java.sun.com/products/jdk/faq/jnifaq-old.html</a></p>\n<p>although I used the jdk1.2 options. This code snippet summarizes my solution:</p>\n<pre><code>static string jniErrors;\n\nstatic jint JNICALL my_vfprintf(FILE *fp, const char *format, va_list args)\n{\n    char buf[1024];\n    vsnprintf(buf, sizeof(buf), format, args);\n    jniErrors += buf;\n    return 0;\n}\n\n...\n\nJavaVMOption options[1];\noptions[0].optionString = &quot;vfprintf&quot;;\noptions[0].extraInfo = my_vfprintf;\n\nJavaVMInitArgs vm_args;\nmemset(&amp;vm_args, 0, sizeof(vm_args));\nvm_args.nOptions = 1;\nvm_args.options = options;\nvm_args.version = JNI_VERSION_1_4;\nvm_args.ignoreUnrecognized = JNI_FALSE;\n\nJNIEnv env;\nJavaVM jvm;\n\njint res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n\nif (res != JNI_OK)\n    setError(jniErrors);\n\njniErrors.clear();\n</code></pre>\n<p>Also interesting was that I could not for the life of me capture stdout or stderr correctly with any of the freopen or dup2 tricks. I could load my <em>own</em> dll and redirect correctly but not the jvm. Anyway, it's better this way because I wanted the errors in memory rather than in a file.</p>\n"}],"owner":{"account_id":14494,"reputation":386,"user_id":29855,"accept_rate":60,"display_name":"randy909"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3516,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":803982,"answer_count":3,"score":3,"last_activity_date":1675941881,"creation_date":1240937408,"question_id":798876,"body_markdown":"I would like to retrieve an error message that explains why the jvm failed to load. From the examples provided here:\r\n\r\n[http://java.sun.com/docs/books/jni/html/invoke.html][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jni/html/invoke.html\r\n\r\nI extracted this example:\r\n\r\n     /* Create the Java VM */\r\n     res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\r\n\r\n     if (res &lt; 0) {\r\n         // retrieve verbose error here?\r\n         fprintf(stderr, &quot;Can&#39;t create Java VM\\n&quot;);\r\n         exit(1);\r\n     }\r\n\r\nIn my specific case I&#39;m providing invalid arguments in the vm_args and would expect to see  what I get on the command line: &quot;Unrecognized option: -foo=bar&quot;\r\n\r\nOn further testing it looks like the jvm is putting the message I want to stdout or stderr. I believe I would need to capture stdout and stderr to get the error I&#39;m looking for (unless of course there is a simpler way). I&#39;m coding in C++ so if someone can show a way to capture the error into a stringstream that would be ideal.\r\n\r\nThanks,\r\nRandy\r\n","title":"How do I get an error message when failing to load a JVM via JNI?","body":"<p>I would like to retrieve an error message that explains why the jvm failed to load. From the examples provided here:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jni/html/invoke.html\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/jni/html/invoke.html</a></p>\n\n<p>I extracted this example:</p>\n\n<pre><code> /* Create the Java VM */\n res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n\n if (res &lt; 0) {\n     // retrieve verbose error here?\n     fprintf(stderr, \"Can't create Java VM\\n\");\n     exit(1);\n }\n</code></pre>\n\n<p>In my specific case I'm providing invalid arguments in the vm_args and would expect to see  what I get on the command line: \"Unrecognized option: -foo=bar\"</p>\n\n<p>On further testing it looks like the jvm is putting the message I want to stdout or stderr. I believe I would need to capture stdout and stderr to get the error I'm looking for (unless of course there is a simpler way). I'm coding in C++ so if someone can show a way to capture the error into a stringstream that would be ideal.</p>\n\n<p>Thanks,\nRandy</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675875552,"post_id":75388982,"comment_id":133023470,"body_markdown":"Can you specify what exactly would you like to move into `UserService`?","body":"Can you specify what exactly would you like to move into <code>UserService</code>?"},{"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"score":0,"creation_date":1675877215,"post_id":75388982,"comment_id":133024051,"body_markdown":"I didn’t put it correctly, I want to move the implementation of working with the database to UserService, I hope it’s clearer, I’m sorry, I don’t know English well","body":"I didn’t put it correctly, I want to move the implementation of working with the database to UserService, I hope it’s clearer, I’m sorry, I don’t know English well"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675877444,"post_id":75388982,"comment_id":133024141,"body_markdown":"Do you mean the calls for `findAll` and `save`?","body":"Do you mean the calls for <code>findAll</code> and <code>save</code>?"},{"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"score":0,"creation_date":1675879525,"post_id":75388982,"comment_id":133024876,"body_markdown":"Yes, I mean it.","body":"Yes, I mean it."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675974650,"post_id":75388982,"comment_id":133048856,"body_markdown":"I see and I understand your intent. Basically you want to separate business logic affecting the database from your controller, which is a good approach to coding. However, I want to add, it is perfectly normal to trigger business logic from your controller. Calling `save` and `findAll` by itself does not violate this principle of separation, because you will need somehow to trigger them. Yet, if you really really want to move these function calls into the business layer, you can implement a `getAll` method that will call `findAll` and return its result. The benefit of such a change would be","body":"I see and I understand your intent. Basically you want to separate business logic affecting the database from your controller, which is a good approach to coding. However, I want to add, it is perfectly normal to trigger business logic from your controller. Calling <code>save</code> and <code>findAll</code> by itself does not violate this principle of separation, because you will need somehow to trigger them. Yet, if you really really want to move these function calls into the business layer, you can implement a <code>getAll</code> method that will call <code>findAll</code> and return its result. The benefit of such a change would be"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675974757,"post_id":75388982,"comment_id":133048884,"body_markdown":"that if, over time your `findAll` becomes nontrivial, then it will evolve into a more complicated code inside the business layer rather than at the controller. Similarly, you could implement a `store` inside the business layer that will call the `save`. Yet, I would not do it right now if I were you, because, when the code becomes nontrivial, you will have a better understanding of how it changed and you may have a better response at that point than if you do it now preemptively.","body":"that if, over time your <code>findAll</code> becomes nontrivial, then it will evolve into a more complicated code inside the business layer rather than at the controller. Similarly, you could implement a <code>store</code> inside the business layer that will call the <code>save</code>. Yet, I would not do it right now if I were you, because, when the code becomes nontrivial, you will have a better understanding of how it changed and you may have a better response at that point than if you do it now preemptively."}],"answers":[{"tags":[],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675941683,"creation_date":1675941683,"answer_id":75397873,"question_id":75388982,"body_markdown":"I couldn&#39;t do what I wanted to do, but I did better and I&#39;m quite happy with it.\r\n\r\nI remade the UserService into an interface and created a UserServiceImpl created the following methods, here is the code:\r\n\r\nUserService.interface:\r\n\r\n    package authentication.service;\r\n\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    import authentication.entity.User;\r\n\r\n    public interface UserService {\r\n\t\r\n\tUser addUser(User user);\r\n\t\r\n    }\r\n\r\nUserServiceImpl.class:\r\n\t\r\n\tpackage authentication.service;\r\n\r\n\timport java.util.List;\r\n\timport java.util.Optional;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.stereotype.Service;\r\n\r\n\timport authentication.entity.User;\r\n\timport authentication.repository.UserRepository;\r\n\r\n\t@Service\r\n\tpublic class UserServiceImpl implements UserService {\r\n\t\r\n\tprivate final UserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic UserServiceImpl(UserRepository userRepository) {\r\n\tthis.userRepository = userRepository;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic User addUser(User user) {\r\n\tUser saveUser = userRepository.saveAndFlush(user);\r\n\t\t\r\n\treturn saveUser;\r\n\t}\r\n\t\r\n\t}\r\n\r\nMainController.class:\r\n\r\n\tpackage authentication.controller;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.ui.Model;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.ModelAttribute;\r\n\timport org.springframework.web.bind.annotation.PostMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n\timport authentication.entity.User;\r\n\timport authentication.service.UserService;\r\n\r\n\t@Controller\r\n\t@RequestMapping\r\n\tpublic class MainController {\r\n\t\r\n\tprivate final UserService userService;\r\n\t\r\n\t@Autowired\r\n\tpublic MainController(UserService userService) {\r\n\tthis.userService = userService;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/users&quot;)\r\n\tpublic String usersPage(Model model) {\r\n\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\treturn &quot;user&quot;;\r\n\t\t\r\n\t}\r\n\t\r\n\t@PostMapping(path = &quot;/users&quot;)\r\n\tpublic String usersShow(@ModelAttribute(&quot;user&quot;) User user) {\r\n\tuserService.addUser(user);\r\n\tSystem.out.println(userService.findAll());\r\n\treturn &quot;redirect:/user&quot;;\r\n\t}\r\n\t\r\n\t}","title":"Passing an entity from one method to another method located in different classes","body":"<p>I couldn't do what I wanted to do, but I did better and I'm quite happy with it.</p>\n<p>I remade the UserService into an interface and created a UserServiceImpl created the following methods, here is the code:</p>\n<p>UserService.interface:</p>\n<pre><code>package authentication.service;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport authentication.entity.User;\n\npublic interface UserService {\n\nUser addUser(User user);\n\n}\n</code></pre>\n<p>UserServiceImpl.class:</p>\n<pre><code>package authentication.service;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport authentication.entity.User;\nimport authentication.repository.UserRepository;\n\n@Service\npublic class UserServiceImpl implements UserService {\n\nprivate final UserRepository userRepository;\n\n@Autowired\npublic UserServiceImpl(UserRepository userRepository) {\nthis.userRepository = userRepository;\n}\n\n@Override\npublic User addUser(User user) {\nUser saveUser = userRepository.saveAndFlush(user);\n    \nreturn saveUser;\n}\n\n}\n</code></pre>\n<p>MainController.class:</p>\n<pre><code>package authentication.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport authentication.entity.User;\nimport authentication.service.UserService;\n\n@Controller\n@RequestMapping\npublic class MainController {\n\nprivate final UserService userService;\n\n@Autowired\npublic MainController(UserService userService) {\nthis.userService = userService;\n}\n\n@GetMapping(path = &quot;/users&quot;)\npublic String usersPage(Model model) {\nmodel.addAttribute(&quot;user&quot;, new User());\nreturn &quot;user&quot;;\n    \n}\n\n@PostMapping(path = &quot;/users&quot;)\npublic String usersShow(@ModelAttribute(&quot;user&quot;) User user) {\nuserService.addUser(user);\nSystem.out.println(userService.findAll());\nreturn &quot;redirect:/user&quot;;\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75397873,"answer_count":1,"score":0,"last_activity_date":1675941683,"creation_date":1675874569,"question_id":75388982,"body_markdown":"I have an object, there are two values ​​in the object, username and email, and I have a controller class, the controller shows user.html, which has two inputs and one button, when the button is clicked, the data in the inputs is written to the data, the program works, but how can i move data writing function to UserService?\r\n\r\nI tried to do this, but the method that I implement in UserService to implement database operation requires User data type, but the method in usersShow in UserController has String data type.\r\n\r\nExample: \r\n\r\n    public User usersShow(User user) {\r\n    //Implementation of the database\r\n    }\r\n\r\n\r\nThe following is an example of existing code that is currently in my program.\r\n\r\nMainController.class:\r\n\r\n\t@Controller\r\n\t@RequestMapping\r\n\tpublic class MainController {\r\n\t\r\n\tprivate final UserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic MainController(UserRepository userRepository) {\r\n\tthis.userRepository = userRepository;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/users&quot;)\r\n\tpublic String usersPage(Model model) {\r\n\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\treturn &quot;user&quot;;\r\n\t\t\r\n\t}\r\n\t\r\n\t@PostMapping(path = &quot;/users&quot;)\r\n\tpublic String usersShow(@ModelAttribute(&quot;user&quot;) User user) {\r\n\tSystem.out.println(userRepository.findAll());\r\n\tuserRepository.save(user);\r\n\treturn &quot;redirect:/user&quot;;\r\n\t}\r\n\t\r\n\t@Controller\r\n\t@RequestMapping\r\n\tpublic class MainController {\r\n\t\r\n\tprivate final UserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic MainController(UserRepository userRepository) {\r\n\tthis.userRepository = userRepository;\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/users&quot;)\r\n\tpublic String usersPage(Model model) {\r\n\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\treturn &quot;user&quot;;\r\n\t\t\r\n\t}\r\n\t\r\n\t@PostMapping(path = &quot;/users&quot;)\r\n\tpublic String usersShow(@ModelAttribute(&quot;user&quot;) User user) {\r\n\tSystem.out.println(userRepository.findAll());\r\n\tuserRepository.save(user);\r\n\treturn &quot;redirect:/user&quot;;\r\n\t}\r\n\t\r\n\t}\r\n\r\nUserService.class (Here I want to transfer work with the database, but I don’t know how):\r\n\r\n    @Service\r\n    public class UserService {\r\n\t\r\n\tprivate final UserRepository userRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic UserService(UserRepository userRepository) {\r\n\tthis.userRepository = userRepository;\r\n\t}","title":"Passing an entity from one method to another method located in different classes","body":"<p>I have an object, there are two values ​​in the object, username and email, and I have a controller class, the controller shows user.html, which has two inputs and one button, when the button is clicked, the data in the inputs is written to the data, the program works, but how can i move data writing function to UserService?</p>\n<p>I tried to do this, but the method that I implement in UserService to implement database operation requires User data type, but the method in usersShow in UserController has String data type.</p>\n<p>Example:</p>\n<pre><code>public User usersShow(User user) {\n//Implementation of the database\n}\n</code></pre>\n<p>The following is an example of existing code that is currently in my program.</p>\n<p>MainController.class:</p>\n<pre><code>@Controller\n@RequestMapping\npublic class MainController {\n\nprivate final UserRepository userRepository;\n\n@Autowired\npublic MainController(UserRepository userRepository) {\nthis.userRepository = userRepository;\n}\n\n@GetMapping(path = &quot;/users&quot;)\npublic String usersPage(Model model) {\nmodel.addAttribute(&quot;user&quot;, new User());\nreturn &quot;user&quot;;\n    \n}\n\n@PostMapping(path = &quot;/users&quot;)\npublic String usersShow(@ModelAttribute(&quot;user&quot;) User user) {\nSystem.out.println(userRepository.findAll());\nuserRepository.save(user);\nreturn &quot;redirect:/user&quot;;\n}\n\n@Controller\n@RequestMapping\npublic class MainController {\n\nprivate final UserRepository userRepository;\n\n@Autowired\npublic MainController(UserRepository userRepository) {\nthis.userRepository = userRepository;\n}\n\n@GetMapping(path = &quot;/users&quot;)\npublic String usersPage(Model model) {\nmodel.addAttribute(&quot;user&quot;, new User());\nreturn &quot;user&quot;;\n    \n}\n\n@PostMapping(path = &quot;/users&quot;)\npublic String usersShow(@ModelAttribute(&quot;user&quot;) User user) {\nSystem.out.println(userRepository.findAll());\nuserRepository.save(user);\nreturn &quot;redirect:/user&quot;;\n}\n\n}\n</code></pre>\n<p>UserService.class (Here I want to transfer work with the database, but I don’t know how):</p>\n<pre><code>@Service\npublic class UserService {\n\nprivate final UserRepository userRepository;\n\n@Autowired\npublic UserService(UserRepository userRepository) {\nthis.userRepository = userRepository;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1459981396,"post_id":36463310,"comment_id":60538644,"body_markdown":"This is a duplicate of a question you asked just a few minutes ago: http://stackoverflow.com/questions/36462933/how-to-read-s3-file-from-aws-lambda-function-written-in-java You received the answer in that question, but now you posted a bunch of code that isn&#39;t using the solution you were provided.","body":"This is a duplicate of a question you asked just a few minutes ago: <a href=\"http://stackoverflow.com/questions/36462933/how-to-read-s3-file-from-aws-lambda-function-written-in-java\" title=\"how to read s3 file from aws lambda function written in java\">stackoverflow.com/questions/36462933/&hellip;</a> You received the answer in that question, but now you posted a bunch of code that isn&#39;t using the solution you were provided."},{"owner":{"account_id":340899,"reputation":5071,"user_id":671170,"accept_rate":26,"display_name":"Sumit Arora"},"score":2,"creation_date":1459981478,"post_id":36463310,"comment_id":60538675,"body_markdown":"@Mark, This is a different question, previous one was related to reading a file from S3 , this question related to reading file within the JAR Package.","body":"@Mark, This is a different question, previous one was related to reading a file from S3 , this question related to reading file within the JAR Package."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1459981627,"post_id":36463310,"comment_id":60538723,"body_markdown":"Sorry, you are trying to read the same filename so I thought you were asking the same question.","body":"Sorry, you are trying to read the same filename so I thought you were asking the same question."}],"answers":[{"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":1,"creation_date":1493185542,"post_id":36471760,"comment_id":74300534,"body_markdown":"Use getaresourceAsStream() instead. You don&#39;t need to convert it to a file which might not work in all cases.","body":"Use getaresourceAsStream() instead. You don&#39;t need to convert it to a file which might not work in all cases."}],"tags":[],"owner":{"account_id":340899,"reputation":5071,"user_id":671170,"accept_rate":26,"display_name":"Sumit Arora"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1460020748,"creation_date":1460020748,"answer_id":36471760,"question_id":36463310,"body_markdown":"I have made following changes in my code and now its works perfect :\r\n\r\nMajorly changed following two lines :\r\n\r\n  **ClassLoader classLoader = getClass().getClassLoader();**\r\n\r\n  **File cityFile = new File(classLoader.getResource(&quot;City.db&quot;).getFile());**\r\n\r\n    package com.lambda;\r\n    \r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    import com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n    import java.io.*;\r\n    \r\n    public class TestDetailsHandler implements RequestStreamHandler {\r\n    \r\n    \r\n        public void  handleRequest(InputStream input,OutputStream output,Context context){\r\n    \r\n            // Get Lambda Logger\r\n            LambdaLogger logger = context.getLogger();\r\n    \r\n            // Receive the input from Inputstream throw exception if any\r\n    \r\n            ClassLoader classLoader = getClass().getClassLoader();\r\n    \r\n            File cityFile = new File(classLoader.getResource(&quot;City.db&quot;).getFile());\r\n            FileInputStream fis = null;\r\n    \r\n            try {\r\n                fis = new FileInputStream(cityFile);\r\n    \r\n                System.out.println(&quot;Total file size to read (in bytes) : &quot;\r\n                        + fis.available());\r\n    \r\n                int content;\r\n                while ((content = fis.read()) != -1) {\r\n                    // convert to char and display it\r\n                    System.out.print((char) content);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (fis != null)\r\n                        fis.close();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n    \r\n\r\n[![enter image description here][1]][1]        \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FnyCq.png","title":"How to read a file in AWS Lambda Function written in Java ?","body":"<p>I have made following changes in my code and now its works perfect :</p>\n\n<p>Majorly changed following two lines :</p>\n\n<p><strong>ClassLoader classLoader = getClass().getClassLoader();</strong></p>\n\n<p><strong>File cityFile = new File(classLoader.getResource(\"City.db\").getFile());</strong></p>\n\n<pre><code>package com.lambda;\n\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\nimport java.io.*;\n\npublic class TestDetailsHandler implements RequestStreamHandler {\n\n\n    public void  handleRequest(InputStream input,OutputStream output,Context context){\n\n        // Get Lambda Logger\n        LambdaLogger logger = context.getLogger();\n\n        // Receive the input from Inputstream throw exception if any\n\n        ClassLoader classLoader = getClass().getClassLoader();\n\n        File cityFile = new File(classLoader.getResource(\"City.db\").getFile());\n        FileInputStream fis = null;\n\n        try {\n            fis = new FileInputStream(cityFile);\n\n            System.out.println(\"Total file size to read (in bytes) : \"\n                    + fis.available());\n\n            int content;\n            while ((content = fis.read()) != -1) {\n                // convert to char and display it\n                System.out.print((char) content);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (fis != null)\n                    fis.close();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/FnyCq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FnyCq.png\" alt=\"enter image description here\"></a>        </p>\n"},{"tags":[],"owner":{"account_id":7788750,"reputation":3132,"user_id":5892553,"accept_rate":54,"display_name":"Rito"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489474399,"creation_date":1489386256,"answer_id":42757653,"question_id":36463310,"body_markdown":"This is how I did it, let&#39;s say this is how your project structure looks like - &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd you want to read the file &lt;b&gt;config.properties&lt;/b&gt; which is inside the project-dir/resources directory.\r\n\r\nThe code for reading the content of the file would be -\r\n\r\n    InputStream input = null;\r\n    try {\r\n    \tPath path = Paths.get(PropertyUtility.class.getResource(&quot;/&quot;).toURI());\r\n    \t\t\t\r\n    \t// The path for config file in Lambda Instance -\r\n    \tString resourceLoc = path + &quot;/resources/config.properties&quot;;\r\n    \t\t\t\t\t\t\r\n    \tinput = new FileInputStream(resourceLoc);\r\n    } catch(Exception e) {\r\n        // Do whatever\r\n    }\r\n\r\n\r\nIf you are following this project structure and using this code, then it will work in AWS Lambda.\r\n\r\n&lt;b&gt;PropertyUtility&lt;/b&gt; is just a utility class that I have created to read the contents of the config file. The PropertyUtility class looks like this -\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs you can see in the above code, the path of the config file is different in the local system and in Lambda Instance.\r\n\r\nIn your local machine, **PropertyUtility.class.getResource(&quot;/&quot;)** points to **bin**, that is why you have to do **path.getParent()**, to point it to the project-directory which is **HelloLambda** in this example.\r\n\r\nFor the Lambda Instance, **PropertyUtility.class.getResource(&quot;/&quot;)** points directly to the project-directory.\r\n\r\n  [1]: https://i.stack.imgur.com/jQHpb.png\r\n  [2]: https://i.stack.imgur.com/p9X9T.png","title":"How to read a file in AWS Lambda Function written in Java ?","body":"<p>This is how I did it, let's say this is how your project structure looks like - <br></p>\n\n<p><a href=\"https://i.stack.imgur.com/jQHpb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jQHpb.png\" alt=\"enter image description here\"></a></p>\n\n<p>And you want to read the file <b>config.properties</b> which is inside the project-dir/resources directory.</p>\n\n<p>The code for reading the content of the file would be -</p>\n\n<pre><code>InputStream input = null;\ntry {\n    Path path = Paths.get(PropertyUtility.class.getResource(\"/\").toURI());\n\n    // The path for config file in Lambda Instance -\n    String resourceLoc = path + \"/resources/config.properties\";\n\n    input = new FileInputStream(resourceLoc);\n} catch(Exception e) {\n    // Do whatever\n}\n</code></pre>\n\n<p>If you are following this project structure and using this code, then it will work in AWS Lambda.</p>\n\n<p><b>PropertyUtility</b> is just a utility class that I have created to read the contents of the config file. The PropertyUtility class looks like this -</p>\n\n<p><a href=\"https://i.stack.imgur.com/p9X9T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p9X9T.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see in the above code, the path of the config file is different in the local system and in Lambda Instance.</p>\n\n<p>In your local machine, <strong>PropertyUtility.class.getResource(\"/\")</strong> points to <strong>bin</strong>, that is why you have to do <strong>path.getParent()</strong>, to point it to the project-directory which is <strong>HelloLambda</strong> in this example.</p>\n\n<p>For the Lambda Instance, <strong>PropertyUtility.class.getResource(\"/\")</strong> points directly to the project-directory.</p>\n"},{"tags":[],"owner":{"account_id":2714004,"reputation":1472,"user_id":2341765,"accept_rate":20,"display_name":"Shafiul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493185178,"creation_date":1493185178,"answer_id":43625884,"question_id":36463310,"body_markdown":"If the file in located under resources directory, then the following solution should work:\r\n\r\n\r\n    String fileName = &quot;resources/config.json&quot;;\r\n    \r\n    Path path = Paths.get(this.getClass().getResource(&quot;/&quot;).toURI());\r\n    Path resourceLocation = path.resolve(fileName);\r\n    \r\n    try(InputStream configStream = Files.newInputStream(resourceLocation)) {\r\n                //use your file stream as you need.\r\n    }\r\n\r\nHere the most important part is **&quot;resources/config.json&quot;, it must not be &quot;/resources/config.json&quot;**, because the file location is /var/task/resources/config.json in lambda, I checked.\r\n\r\nHope this helps who still face problem in reading file in aws lambda.","title":"How to read a file in AWS Lambda Function written in Java ?","body":"<p>If the file in located under resources directory, then the following solution should work:</p>\n\n<pre><code>String fileName = \"resources/config.json\";\n\nPath path = Paths.get(this.getClass().getResource(\"/\").toURI());\nPath resourceLocation = path.resolve(fileName);\n\ntry(InputStream configStream = Files.newInputStream(resourceLocation)) {\n            //use your file stream as you need.\n}\n</code></pre>\n\n<p>Here the most important part is <strong>\"resources/config.json\", it must not be \"/resources/config.json\"</strong>, because the file location is /var/task/resources/config.json in lambda, I checked.</p>\n\n<p>Hope this helps who still face problem in reading file in aws lambda.</p>\n"},{"tags":[],"owner":{"account_id":5537529,"reputation":101,"user_id":4395285,"display_name":"Shivani Pahuja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541176508,"creation_date":1541176508,"answer_id":53122546,"question_id":36463310,"body_markdown":"If the file is located under resources folder, you can use it directly in lambda by using something like the following code:\r\n\r\n    final BufferedReader br = new BufferedReader(new FileReader(&quot;/flows/cancellation/MessageArray.json&quot;));\r\n\r\nI wanted to read a json file, you can have different use case, but the code works.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lm9vD.png","title":"How to read a file in AWS Lambda Function written in Java ?","body":"<p>If the file is located under resources folder, you can use it directly in lambda by using something like the following code:</p>\n\n<pre><code>final BufferedReader br = new BufferedReader(new FileReader(\"/flows/cancellation/MessageArray.json\"));\n</code></pre>\n\n<p>I wanted to read a json file, you can have different use case, but the code works.\n<a href=\"https://i.stack.imgur.com/lm9vD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lm9vD.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":27107553,"reputation":9,"user_id":20653181,"display_name":"jswordfish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675941627,"creation_date":1675941627,"answer_id":75397864,"question_id":36463310,"body_markdown":"Ideally, one should read read from S3 as much as possible to have dynamic reads. Plus the reads are pretty fast.\r\n\r\nHowever, as if your Java code is Maven based, your root classpath location starts from src/main/resources location.\r\n\r\nSo you can read, as you read in any web/core app, from the classpath as given below - \r\n\r\n        ClassLoader classLoader = YourClass.class.getClassLoader();\r\n        File cityFile = new \r\n        File(classLoader.getResource(&quot;yourFile&quot;).getFile());\r\n\r\nThis has worked for me pretty well!","title":"How to read a file in AWS Lambda Function written in Java ?","body":"<p>Ideally, one should read read from S3 as much as possible to have dynamic reads. Plus the reads are pretty fast.</p>\n<p>However, as if your Java code is Maven based, your root classpath location starts from src/main/resources location.</p>\n<p>So you can read, as you read in any web/core app, from the classpath as given below -</p>\n<pre><code>    ClassLoader classLoader = YourClass.class.getClassLoader();\n    File cityFile = new \n    File(classLoader.getResource(&quot;yourFile&quot;).getFile());\n</code></pre>\n<p>This has worked for me pretty well!</p>\n"}],"owner":{"account_id":340899,"reputation":5071,"user_id":671170,"accept_rate":26,"display_name":"Sumit Arora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27134,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1675941627,"creation_date":1459980997,"question_id":36463310,"body_markdown":"I have written an AWS Lambda Handler as below : \r\n\r\n    package com.lambda;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    import com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n    import java.io.*;\r\n    \r\n    public class TestDetailsHandler implements RequestStreamHandler {\r\n    \r\n    \r\n        public void  handleRequest(InputStream input,OutputStream output,Context context){\r\n    \r\n            // Get Lambda Logger\r\n            LambdaLogger logger = context.getLogger();\r\n    \r\n            // Receive the input from Inputstream throw exception if any\r\n    \r\n            File starting = new File(System.getProperty(&quot;user.dir&quot;));\r\n                System.out.println(&quot;Source Location&quot; + starting);\r\n    \r\n               File cityFile = new File(starting + &quot;City.db&quot;);\r\n            FileInputStream fis = null;\r\n    \r\n            try {\r\n                fis = new FileInputStream(cityFile);\r\n    \r\n                System.out.println(&quot;Total file size to read (in bytes) : &quot;\r\n                        + fis.available());\r\n    \r\n                int content;\r\n                while ((content = fis.read()) != -1) {\r\n                    // convert to char and display it\r\n                    System.out.print((char) content);\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (fis != null)\r\n                        fis.close();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nIts read a file : City.db , available in resources folder, even I kept to everywhere see below :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut it showing following message on execution of this lambda function :\r\n\r\n    START RequestId: 5216ea47-fc43-11e5-96d5-83c1dcdad75d Version: $LATEST\r\n    Source Location/\r\n    java.io.FileNotFoundException: /city.db (No such file or directory)\r\n    \tat java.io.FileInputStream.open0(Native Method)\r\n    \tat java.io.FileInputStream.open(FileInputStream.java:195)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n    \tat com.lambda.TestDetailsHandler.handleRequest(TestDetailsHandler.java:26)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat lambdainternal.EventHandlerLoader$StreamMethodRequestHandler.handleRequest(EventHandlerLoader.java:511)\r\n    \tat lambdainternal.EventHandlerLoader$2.call(EventHandlerLoader.java:972)\r\n    \tat lambdainternal.AWSLambda.startRuntime(AWSLambda.java:231)\r\n    \tat lambdainternal.AWSLambda.&lt;clinit&gt;(AWSLambda.java:59)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:348)\r\n    \tat lambdainternal.LambdaRTEntry.main(LambdaRTEntry.java:93)\r\n    END RequestId: 5216ea47-fc43-11e5-96d5-83c1dcdad75d\r\n    REPORT RequestId: 5216ea47-fc43-11e5-96d5-83c1dcdad75d\tDuration: 58.02 ms\tBilled Duration: 100 ms \tMemory Size: 1024 MB\tMax Memory Used: 50 MB\t\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nContents of the Pom.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.lambda&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testdetails&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;name&gt;test-handler&lt;/name&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n     \r\n         \r\n            &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI have used various ways to keep file here and there , but at the end its not working. May you please let me know what is wrong here ?\r\n\r\nHowever in my another project where I have kept xyz.properties file in resources folder and reading from a PropertyManager file, its working fine. When I tested it on my system its working fine, but on AWS Lambda function it doesn&#39;t work. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nPYgS.png\r\n  [2]: http://i.stack.imgur.com/vjyDR.png\r\n\r\n","title":"How to read a file in AWS Lambda Function written in Java ?","body":"<p>I have written an AWS Lambda Handler as below : </p>\n\n<pre><code>package com.lambda;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\nimport java.io.*;\n\npublic class TestDetailsHandler implements RequestStreamHandler {\n\n\n    public void  handleRequest(InputStream input,OutputStream output,Context context){\n\n        // Get Lambda Logger\n        LambdaLogger logger = context.getLogger();\n\n        // Receive the input from Inputstream throw exception if any\n\n        File starting = new File(System.getProperty(\"user.dir\"));\n            System.out.println(\"Source Location\" + starting);\n\n           File cityFile = new File(starting + \"City.db\");\n        FileInputStream fis = null;\n\n        try {\n            fis = new FileInputStream(cityFile);\n\n            System.out.println(\"Total file size to read (in bytes) : \"\n                    + fis.available());\n\n            int content;\n            while ((content = fis.read()) != -1) {\n                // convert to char and display it\n                System.out.print((char) content);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (fis != null)\n                    fis.close();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Its read a file : City.db , available in resources folder, even I kept to everywhere see below :</p>\n\n<p><a href=\"https://i.stack.imgur.com/nPYgS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nPYgS.png\" alt=\"enter image description here\"></a></p>\n\n<p>But it showing following message on execution of this lambda function :</p>\n\n<pre><code>START RequestId: 5216ea47-fc43-11e5-96d5-83c1dcdad75d Version: $LATEST\nSource Location/\njava.io.FileNotFoundException: /city.db (No such file or directory)\n    at java.io.FileInputStream.open0(Native Method)\n    at java.io.FileInputStream.open(FileInputStream.java:195)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at com.lambda.TestDetailsHandler.handleRequest(TestDetailsHandler.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at lambdainternal.EventHandlerLoader$StreamMethodRequestHandler.handleRequest(EventHandlerLoader.java:511)\n    at lambdainternal.EventHandlerLoader$2.call(EventHandlerLoader.java:972)\n    at lambdainternal.AWSLambda.startRuntime(AWSLambda.java:231)\n    at lambdainternal.AWSLambda.&lt;clinit&gt;(AWSLambda.java:59)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at lambdainternal.LambdaRTEntry.main(LambdaRTEntry.java:93)\nEND RequestId: 5216ea47-fc43-11e5-96d5-83c1dcdad75d\nREPORT RequestId: 5216ea47-fc43-11e5-96d5-83c1dcdad75d  Duration: 58.02 ms  Billed Duration: 100 ms     Memory Size: 1024 MB    Max Memory Used: 50 MB  \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vjyDR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vjyDR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Contents of the Pom.xml file :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.lambda&lt;/groupId&gt;\n    &lt;artifactId&gt;testdetails&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;test-handler&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I have used various ways to keep file here and there , but at the end its not working. May you please let me know what is wrong here ?</p>\n\n<p>However in my another project where I have kept xyz.properties file in resources folder and reading from a PropertyManager file, its working fine. When I tested it on my system its working fine, but on AWS Lambda function it doesn't work. </p>\n"},{"tags":["java","mongodb","spring-boot","spring-mvc","spring-data-mongodb"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675891375,"post_id":75391752,"comment_id":133028078,"body_markdown":"take a look at QueryDSL with Spring Data: https://www.baeldung.com/queries-in-spring-data-mongodb","body":"take a look at QueryDSL with Spring Data: <a href=\"https://www.baeldung.com/queries-in-spring-data-mongodb\" rel=\"nofollow noreferrer\">baeldung.com/queries-in-spring-data-mongodb</a>"},{"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1675914565,"post_id":75391752,"comment_id":133031753,"body_markdown":"You might be able to build the query based on the inputs, similar to https://stackoverflow.com/questions/29831164/how-to-filter-in-mongodb-dynamically","body":"You might be able to build the query based on the inputs, similar to <a href=\"https://stackoverflow.com/questions/29831164/how-to-filter-in-mongodb-dynamically\" title=\"how to filter in mongodb dynamically\">stackoverflow.com/questions/29831164/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11862987,"reputation":56,"user_id":8681167,"display_name":" Robert_927354"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675941237,"creation_date":1675941237,"answer_id":75397801,"question_id":75391752,"body_markdown":"I managed to find a very simple solution by using MongoDB Template.\r\n\r\n``` lang-java\r\nQuery q = new Query();\r\n\r\nif (param1 != null) {\r\n  Criteria param1Criteria = Criteria.where(&quot;param1Key&quot;).is(param1);\r\n  q.addCriteria(param1Criteria);\r\n}\r\n\r\nif (param2 != null) {\r\n  ...\r\n}\r\n\r\n...  //others parameters checks\r\n\r\nreturn mongoTemplate.find(q, EntityClass.class, &quot;collectionName&quot;);\r\n```","title":"Finding all documents by optional filters","body":"<p>I managed to find a very simple solution by using MongoDB Template.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query q = new Query();\n\nif (param1 != null) {\n  Criteria param1Criteria = Criteria.where(&quot;param1Key&quot;).is(param1);\n  q.addCriteria(param1Criteria);\n}\n\nif (param2 != null) {\n  ...\n}\n\n...  //others parameters checks\n\nreturn mongoTemplate.find(q, EntityClass.class, &quot;collectionName&quot;);\n</code></pre>\n"}],"owner":{"account_id":11862987,"reputation":56,"user_id":8681167,"display_name":" Robert_927354"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75397801,"answer_count":1,"score":0,"last_activity_date":1675941237,"creation_date":1675890505,"question_id":75391752,"body_markdown":"I&#39;m using Spring Data MongoDB framework.\r\n\r\nI have to retrieve a list of documents from a MongoDB Collection by filtering them by some parameters that can be NULL as well.\r\n\r\n\r\n``` lang-java\r\npublic interface myRepo extends MongoRepository&lt;User, String&gt; {\r\n  List&lt;MyDoc&gt; getAllByParam1AndByParam2AndByParam3(String param1, String param2, String param3);\r\n}\r\n```\r\n\r\n\r\n\r\nIs there a way to directly implement the method getAllByParam1AndByParam2AndByParam3(...)   keeping in mind that the parameters given as input can be null ?\r\n\r\nIf I simply pass null it does not work as expected.  \r\nFor example with:\r\n`getAllByParam1AndByParam2AndByParam3(&quot;abc&quot;, &quot;def&quot;, null)`  MongoDB will return a document with\r\n&gt; Param1 = &quot;abc&quot;  \r\n&gt; Param2 = &quot;def&quot;  \r\n&gt; Param3 = null\r\n\r\nI want it to simply ignore the third parameter in the search.\r\n\r\nThank you.","title":"Finding all documents by optional filters","body":"<p>I'm using Spring Data MongoDB framework.</p>\n<p>I have to retrieve a list of documents from a MongoDB Collection by filtering them by some parameters that can be NULL as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface myRepo extends MongoRepository&lt;User, String&gt; {\n  List&lt;MyDoc&gt; getAllByParam1AndByParam2AndByParam3(String param1, String param2, String param3);\n}\n</code></pre>\n<p>Is there a way to directly implement the method getAllByParam1AndByParam2AndByParam3(...)   keeping in mind that the parameters given as input can be null ?</p>\n<p>If I simply pass null it does not work as expected.<br />\nFor example with:\n<code>getAllByParam1AndByParam2AndByParam3(&quot;abc&quot;, &quot;def&quot;, null)</code>  MongoDB will return a document with</p>\n<blockquote>\n<p>Param1 = &quot;abc&quot;<br />\nParam2 = &quot;def&quot;<br />\nParam3 = null</p>\n</blockquote>\n<p>I want it to simply ignore the third parameter in the search.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","random","apache-commons"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1675937187,"post_id":75396989,"comment_id":133036551,"body_markdown":"Does Mockito support mocking static methods? Note that even though you&#39;re calling the method &quot;via&quot; a reference (`randomStringUtils.random`), that will actually resolve to just a static method call as if you&#39;d written `RandomStringUtils.random`.","body":"Does Mockito support mocking static methods? Note that even though you&#39;re calling the method &quot;via&quot; a reference (<code>randomStringUtils.random</code>), that will actually resolve to just a static method call as if you&#39;d written <code>RandomStringUtils.random</code>."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1675937286,"post_id":75396989,"comment_id":133036579,"body_markdown":"Mocking static methods is possible, but requires a different configuration. See https://www.baeldung.com/mockito-mock-static-methods","body":"Mocking static methods is possible, but requires a different configuration. See <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">baeldung.com/mockito-mock-static-methods</a>"},{"owner":{"account_id":2160876,"reputation":615,"user_id":1915051,"accept_rate":75,"display_name":"gkbstar"},"score":0,"creation_date":1675937835,"post_id":75396989,"comment_id":133036750,"body_markdown":"Remove `@Mock` and just put `@Autowired` as below:\n\n    `@Autowired\n    RandomStringutils randomStringutils;`","body":"Remove <code>@Mock</code> and just put <code>@Autowired</code> as below:      <code>@Autowired     RandomStringutils randomStringutils;</code>"},{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1675938382,"post_id":75396989,"comment_id":133036939,"body_markdown":"Tried putting @Autowired but it gives null pointer since it is unit test class not component or service class","body":"Tried putting @Autowired but it gives null pointer since it is unit test class not component or service class"}],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675941094,"creation_date":1675941094,"answer_id":75397773,"question_id":75396989,"body_markdown":"It is usually somewhat of a code smell whenever you need to mock a static method. However, there are ways of doing it within the Mockito library.\r\n\r\nFirst, add a file to your test resources directory in a new folder `mockito-extensions`. The file name should be `org.mockito.plugins.MockMaker`. The file needs to have the single line: mock-maker-inline\r\n\r\nThen you are ready to add a static mock through Mockito.mockStatic like this:\r\n\r\n```\r\n        try (MockedStatic&lt;RandomStringUtils&gt; utils = Mockito.mockStatic(RandomStringUtils.class)) {\r\n            utils.when(() -&gt; RandomStringUtils.random(Mockito.anyInt(), Mockito.anyString())).thenReturn(&quot;asdf&quot;);\r\n\r\n            Assertions.assertEquals(&quot;asdf&quot;, example.generatePassword());\r\n        }\r\n\r\n```","title":"Cannot Mock RandomStringUtils Class method random","body":"<p>It is usually somewhat of a code smell whenever you need to mock a static method. However, there are ways of doing it within the Mockito library.</p>\n<p>First, add a file to your test resources directory in a new folder <code>mockito-extensions</code>. The file name should be <code>org.mockito.plugins.MockMaker</code>. The file needs to have the single line: mock-maker-inline</p>\n<p>Then you are ready to add a static mock through Mockito.mockStatic like this:</p>\n<pre><code>        try (MockedStatic&lt;RandomStringUtils&gt; utils = Mockito.mockStatic(RandomStringUtils.class)) {\n            utils.when(() -&gt; RandomStringUtils.random(Mockito.anyInt(), Mockito.anyString())).thenReturn(&quot;asdf&quot;);\n\n            Assertions.assertEquals(&quot;asdf&quot;, example.generatePassword());\n        }\n\n</code></pre>\n"}],"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675941094,"creation_date":1675937023,"question_id":75396989,"body_markdown":"I am using RandomStringUtils class from apache commons lang3 library. I am facing issue while mocking the random method of it.\r\n\r\nbelow is my example class with simple method generatePassword.\r\n```\r\npublic class Example() {\r\n\r\n    public String generatePassword() {\r\n       \r\n     final String randomDevicePass = RandomStringUtils.random(10, &quot;abcdefghijklmnopqrstuvwxyz&quot;);\r\n     \r\n     System.out.println(randomDevicePass)\r\n    \r\n     return randomDevicePass;\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nbelow is my Test Class, by which I am running the test case.\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ExampleTest() {\r\n\r\n    @InjectMocks\r\n    private Example Example;\r\n    \r\n    @Mock\r\n    RandomStringutils randomStringutils;\r\n\r\n    @Test\r\n    public void givenCharacters_returnStringPassword() {\r\n\r\n           Mockito.when(randomStringUtils.random(Mockito.anyInt(),Mockito.anyString())).thenReturn(&quot;asdf&quot;);\r\n\r\n    Assertions.assertEquals(&quot;asdf&quot;, example.generatePassword());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nIt gives below error:\r\n\r\n```\r\nMisplaced or misused argument matcher detected here:\r\nYou cannot use argument matchers outside of verification or stubbing.\r\nExamples of correct usage of argument matchers:\r\n    when(mock.get(anyInt())).thenReturn(null);\r\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\n    verify(mock).someMethod(contains(&quot;foo&quot;))\r\n\r\nThis message may appear after an NullPointerException if the last matcher is returning an object \r\nlike any() but the stubbed method signature expect a primitive argument, in this case,\r\nuse primitive alternatives.\r\n    when(mock.get(any())); // bad use, will raise NPE\r\n    when(mock.get(anyInt())); // correct usage use\r\n\r\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\r\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\r\nMocking methods declared on non-public parent classes is not supported.\r\n\r\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\nMisplaced or misused argument matcher detected here:\r\n```\r\n\r\nI am not sure how to mock the Java inbuilt apache commons library class. not sure can we use spy? or something ...can anyone helps me on this ?\r\n\r\n\r\nThanks in advance","title":"Cannot Mock RandomStringUtils Class method random","body":"<p>I am using RandomStringUtils class from apache commons lang3 library. I am facing issue while mocking the random method of it.</p>\n<p>below is my example class with simple method generatePassword.</p>\n<pre><code>public class Example() {\n\n    public String generatePassword() {\n       \n     final String randomDevicePass = RandomStringUtils.random(10, &quot;abcdefghijklmnopqrstuvwxyz&quot;);\n     \n     System.out.println(randomDevicePass)\n    \n     return randomDevicePass;\n        \n    }\n\n}\n</code></pre>\n<p>below is my Test Class, by which I am running the test case.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ExampleTest() {\n\n    @InjectMocks\n    private Example Example;\n    \n    @Mock\n    RandomStringutils randomStringutils;\n\n    @Test\n    public void givenCharacters_returnStringPassword() {\n\n           Mockito.when(randomStringUtils.random(Mockito.anyInt(),Mockito.anyString())).thenReturn(&quot;asdf&quot;);\n\n    Assertions.assertEquals(&quot;asdf&quot;, example.generatePassword());\n    }\n\n}\n</code></pre>\n<p>It gives below error:</p>\n<pre><code>Misplaced or misused argument matcher detected here:\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\n\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\n\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\n\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nMisplaced or misused argument matcher detected here:\n</code></pre>\n<p>I am not sure how to mock the Java inbuilt apache commons library class. not sure can we use spy? or something ...can anyone helps me on this ?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-mvc","jndi"],"answers":[{"comments":[{"owner":{"account_id":5052800,"reputation":83,"user_id":4056833,"display_name":"Kudpudeen"},"score":0,"creation_date":1411277327,"post_id":25926284,"comment_id":40637485,"body_markdown":"Thanks Mr. Miguel, Finally i got JNDI mail Lookup using java config. I post it here .","body":"Thanks Mr. Miguel, Finally i got JNDI mail Lookup using java config. I post it here ."}],"tags":[],"owner":{"account_id":4824221,"reputation":339,"user_id":4027775,"display_name":"Miguel Resendiz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1411100203,"creation_date":1411100203,"answer_id":25926284,"question_id":25926200,"body_markdown":"You can use spring mail to configure you mail sender    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n        \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        \txmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\r\n        \txmlns:int-mail=&quot;http://www.springframework.org/schema/integration/mail&quot;\r\n        \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                   http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n                   http://www.springframework.org/schema/context\r\n                   http://www.springframework.org/schema/context/spring-context-3.2.xsd\r\n                   http://www.springframework.org/schema/integration\r\n                   http://www.springframework.org/schema/integration/spring-integration.xsd\r\n                   http://www.springframework.org/schema/util\r\n                   http://www.springframework.org/schema/util/spring-util-3.2.xsd\r\n                   http://www.springframework.org/schema/integration/mail\r\n                   http://www.springframework.org/schema/integration/mail/spring-integration-mail.xsd&quot;&gt;\r\n        \r\n        \t&lt;util:properties id=&quot;mailProperties&quot;\r\n        \t\tlocation=&quot;file:${mf_home}/conf/alertas/mail.properties&quot; /&gt;\r\n        \r\n        \t&lt;!-- Configuracion para velocity template para mensajes --&gt;\r\n        \r\n        \t&lt;bean id=&quot;velocityEngine&quot;\r\n        \t\tclass=&quot;org.springframework.ui.velocity.VelocityEngineFactoryBean&quot;&gt;\r\n        \t\t&lt;property name=&quot;velocityProperties&quot;&gt;\r\n        \t\t\t&lt;props&gt;\r\n        \t\t\t\t&lt;prop key=&quot;resource.loader&quot;&gt;file&lt;/prop&gt;\r\n        \t\t\t\t&lt;prop key=&quot;file.resource.loader.class&quot;&gt;\r\n        \t\t\t\t\torg.apache.velocity.runtime.resource.loader.FileResourceLoader\r\n        \t\t\t\t&lt;/prop&gt;\r\n        \t\t\t\t&lt;prop key=&quot;file.resource.loader.path&quot;&gt;#{systemProperties[&#39;mf_home&#39;]}/conf/alertas/templates\r\n        \t\t\t\t&lt;/prop&gt;\r\n        \t\t\t\t&lt;prop key=&quot;file.resource.loader.cache&quot;&gt;true&lt;/prop&gt;\r\n        \t\t\t&lt;/props&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t&lt;/bean&gt;\r\n        \r\n        \t&lt;!-- Configuracion envio de correos --&gt;\r\n        \t&lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n        \r\n        \t\t&lt;property name=&quot;host&quot; value=&quot;#{mailProperties[&#39;mail.smtp.host&#39;]}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;username&quot; value=&quot;#{mailProperties[&#39;mail.smtp.user&#39;]}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;password&quot; value=&quot;#{mailProperties[&#39;mail.smtp.password&#39;]}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;port&quot; value=&quot;#{mailProperties[&#39;mail.smtp.port&#39;]}&quot; /&gt;\r\n        \r\n        \t\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n        \t\t\t&lt;props&gt;\r\n        \t\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;#{mailProperties[&#39;mail.smtp.auth&#39;]}&lt;/prop&gt;\r\n        \t\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;#{mailProperties[&#39;mail.smtp.starttls.enable&#39;]}&lt;/prop&gt;\r\n        \t\t\t&lt;/props&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t&lt;/bean&gt;\r\n        \r\n        \t&lt;bean id=&quot;mailTransformerBean&quot; class=&quot;com.praxis.desvucem.alarms.transformer.MailTransformer&quot; /&gt;\r\n        \r\n        &lt;/beans&gt;\r\n\r\nAnd you only need import this config context to your main aplication context.\r\n\r\nYou will also need example code for use it:\r\n\r\n    package com.praxis.desvucem.alarms.transformer;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.mail.MessagingException;\r\n    import javax.mail.internet.MimeMessage;\r\n    import javax.inject.Inject;\r\n    import org.apache.velocity.app.VelocityEngine;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.integration.Message;\r\n    import org.springframework.integration.MessageHeaders;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.MimeMessageHelper;\r\n    import org.springframework.ui.velocity.VelocityEngineUtils;\r\n    \r\n    import com.praxis.desvucem.alarms.mensajes.Mensaje;\r\n    import com.praxis.desvucem.alarms.domain.MfCContactoAlarma;\r\n    \r\n        public class MailTransformer {\r\n        \r\n            private static Logger log = LoggerFactory.getLogger(MailTransformer.class);\r\n        \r\n            private String templateSufijo = &quot;Email.vm&quot;;\r\n        \r\n            /**\r\n             * Inyecta propiedades a from.\r\n             */\r\n            public @Value(&quot;#{mailProperties[&#39;mail.smtp.from&#39;]}&quot;)\r\n            String from;\r\n        \r\n            /**\r\n             * Inyecta propiedades a sendToUser.\r\n             */\r\n            public @Value(&quot;#{mailProperties[&#39;mail.send.user.default&#39;]}&quot;)\r\n            String sendToUser;\r\n        \r\n            @Inject\r\n            private VelocityEngine velocityEngine;\r\n        \r\n            @Inject\r\n            private JavaMailSender mailSender;\r\n        \r\n            /**\r\n             * Convierte mensajes de tipo Mensaje a MimeMessage y este pueda ser enviado\r\n             * por el adaptador de mail.\r\n             * @param msj {@link Mensaje} Mensaje Recive el mensaje\r\n             * @return MimeMessage {@link MimeMessage} Regresa el mensaje convertido en\r\n             * MimeMessage\r\n             * @throws Exception al generar MimeMessage en MailTransformer\r\n             */\r\n            public MimeMessage mensajeToMimeMessage(Message&lt;?&gt; mensaje) {\r\n                MfCContactoAlarma contactoAlarma = (MfCContactoAlarma) mensaje.getPayload();\r\n                MessageHeaders header = mensaje.getHeaders();\r\n                String mensajeReal = header.get(&quot;mensaje&quot;).toString();\r\n        \r\n                Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\r\n        \r\n                model.put(&quot;texto&quot;, mensajeReal);\r\n        \r\n                MimeMessage mimeMessage = null;\r\n        \r\n                String destinatarios = contactoAlarma.getConNombre();\r\n        \r\n                if (destinatarios == null) {\r\n        \r\n                    log.info(&quot;Enviando mensaje  por correo al destinatario por defaul {}&quot;, sendToUser);\r\n                    // Se envia al usuario por default\r\n                    destinatarios = &quot;sendToUser&quot;;\r\n                }\r\n        \r\n                try {\r\n                    mimeMessage = armaMensajeConTextoDeTemplate(destinatarios, &quot;Notificaci&#243;n autom&#225;tica VUCEM-MF&quot;, model,\r\n                            &quot;notificacion&quot;);\r\n                }\r\n                catch (Exception e) {\r\n                    log.error(&quot;Error al generar MimeMessage en MailTransformer &quot;, e);\r\n                }\r\n        \r\n                return mimeMessage;\r\n            }\r\n        \r\n            private MimeMessage armaMensajeConTextoDeTemplate(String emails, String motivo, Map&lt;String, Object&gt; model,\r\n                    String template) throws MessagingException {\r\n        \r\n                String texto = VelocityEngineUtils.mergeTemplateIntoString(velocityEngine, template + templateSufijo, &quot;utf-8&quot;,\r\n                        model);\r\n                if (log.isDebugEnabled()) {\r\n                    log.debug(&quot;Texto del e-mail &#39;&quot; + texto + &quot;&#39;&quot;);\r\n                }\r\n        \r\n                return armaMensaje(emails, motivo, texto);\r\n            }\r\n        \r\n            private MimeMessage armaMensaje(final String emails, final String motivo, final String texto)\r\n                    throws MessagingException {\r\n        \r\n                MimeMessage mensaje = mailSender.createMimeMessage();\r\n        \r\n                MimeMessageHelper helper = new MimeMessageHelper(mensaje);\r\n                helper.addTo(emails);\r\n                helper.setFrom(from);\r\n                helper.setSubject(motivo);\r\n                boolean isHTML = true;\r\n                helper.setText(texto, isHTML);\r\n        \r\n                log.debug(&quot;Armando mensaje de correo, Para:[{}], De:[{}], Motivo:[{}] Mensaje:[{}]&quot;, emails, from, motivo,\r\n                        texto);\r\n                return mensaje;\r\n            }\r\n        }\r\n\r\nHere I&#39;m using velocity to format message with HTML, this will give you a great look and feel.\r\n\r\n","title":"how to migrate spring mail session jndi xml configuration to java config","body":"<p>You can use spring mail to configure you mail sender    </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:util=\"http://www.springframework.org/schema/util\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:int=\"http://www.springframework.org/schema/integration\"\n        xmlns:int-mail=\"http://www.springframework.org/schema/integration/mail\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n               http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n               http://www.springframework.org/schema/context\n               http://www.springframework.org/schema/context/spring-context-3.2.xsd\n               http://www.springframework.org/schema/integration\n               http://www.springframework.org/schema/integration/spring-integration.xsd\n               http://www.springframework.org/schema/util\n               http://www.springframework.org/schema/util/spring-util-3.2.xsd\n               http://www.springframework.org/schema/integration/mail\n               http://www.springframework.org/schema/integration/mail/spring-integration-mail.xsd\"&gt;\n\n        &lt;util:properties id=\"mailProperties\"\n            location=\"file:${mf_home}/conf/alertas/mail.properties\" /&gt;\n\n        &lt;!-- Configuracion para velocity template para mensajes --&gt;\n\n        &lt;bean id=\"velocityEngine\"\n            class=\"org.springframework.ui.velocity.VelocityEngineFactoryBean\"&gt;\n            &lt;property name=\"velocityProperties\"&gt;\n                &lt;props&gt;\n                    &lt;prop key=\"resource.loader\"&gt;file&lt;/prop&gt;\n                    &lt;prop key=\"file.resource.loader.class\"&gt;\n                        org.apache.velocity.runtime.resource.loader.FileResourceLoader\n                    &lt;/prop&gt;\n                    &lt;prop key=\"file.resource.loader.path\"&gt;#{systemProperties['mf_home']}/conf/alertas/templates\n                    &lt;/prop&gt;\n                    &lt;prop key=\"file.resource.loader.cache\"&gt;true&lt;/prop&gt;\n                &lt;/props&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n\n        &lt;!-- Configuracion envio de correos --&gt;\n        &lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n\n            &lt;property name=\"host\" value=\"#{mailProperties['mail.smtp.host']}\" /&gt;\n            &lt;property name=\"username\" value=\"#{mailProperties['mail.smtp.user']}\" /&gt;\n            &lt;property name=\"password\" value=\"#{mailProperties['mail.smtp.password']}\" /&gt;\n            &lt;property name=\"port\" value=\"#{mailProperties['mail.smtp.port']}\" /&gt;\n\n            &lt;property name=\"javaMailProperties\"&gt;\n                &lt;props&gt;\n                    &lt;prop key=\"mail.smtp.auth\"&gt;#{mailProperties['mail.smtp.auth']}&lt;/prop&gt;\n                    &lt;prop key=\"mail.smtp.starttls.enable\"&gt;#{mailProperties['mail.smtp.starttls.enable']}&lt;/prop&gt;\n                &lt;/props&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"mailTransformerBean\" class=\"com.praxis.desvucem.alarms.transformer.MailTransformer\" /&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<p>And you only need import this config context to your main aplication context.</p>\n\n<p>You will also need example code for use it:</p>\n\n<pre><code>package com.praxis.desvucem.alarms.transformer;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport javax.inject.Inject;\nimport org.apache.velocity.app.VelocityEngine;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.integration.Message;\nimport org.springframework.integration.MessageHeaders;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.ui.velocity.VelocityEngineUtils;\n\nimport com.praxis.desvucem.alarms.mensajes.Mensaje;\nimport com.praxis.desvucem.alarms.domain.MfCContactoAlarma;\n\n    public class MailTransformer {\n\n        private static Logger log = LoggerFactory.getLogger(MailTransformer.class);\n\n        private String templateSufijo = \"Email.vm\";\n\n        /**\n         * Inyecta propiedades a from.\n         */\n        public @Value(\"#{mailProperties['mail.smtp.from']}\")\n        String from;\n\n        /**\n         * Inyecta propiedades a sendToUser.\n         */\n        public @Value(\"#{mailProperties['mail.send.user.default']}\")\n        String sendToUser;\n\n        @Inject\n        private VelocityEngine velocityEngine;\n\n        @Inject\n        private JavaMailSender mailSender;\n\n        /**\n         * Convierte mensajes de tipo Mensaje a MimeMessage y este pueda ser enviado\n         * por el adaptador de mail.\n         * @param msj {@link Mensaje} Mensaje Recive el mensaje\n         * @return MimeMessage {@link MimeMessage} Regresa el mensaje convertido en\n         * MimeMessage\n         * @throws Exception al generar MimeMessage en MailTransformer\n         */\n        public MimeMessage mensajeToMimeMessage(Message&lt;?&gt; mensaje) {\n            MfCContactoAlarma contactoAlarma = (MfCContactoAlarma) mensaje.getPayload();\n            MessageHeaders header = mensaje.getHeaders();\n            String mensajeReal = header.get(\"mensaje\").toString();\n\n            Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;();\n\n            model.put(\"texto\", mensajeReal);\n\n            MimeMessage mimeMessage = null;\n\n            String destinatarios = contactoAlarma.getConNombre();\n\n            if (destinatarios == null) {\n\n                log.info(\"Enviando mensaje  por correo al destinatario por defaul {}\", sendToUser);\n                // Se envia al usuario por default\n                destinatarios = \"sendToUser\";\n            }\n\n            try {\n                mimeMessage = armaMensajeConTextoDeTemplate(destinatarios, \"Notificación automática VUCEM-MF\", model,\n                        \"notificacion\");\n            }\n            catch (Exception e) {\n                log.error(\"Error al generar MimeMessage en MailTransformer \", e);\n            }\n\n            return mimeMessage;\n        }\n\n        private MimeMessage armaMensajeConTextoDeTemplate(String emails, String motivo, Map&lt;String, Object&gt; model,\n                String template) throws MessagingException {\n\n            String texto = VelocityEngineUtils.mergeTemplateIntoString(velocityEngine, template + templateSufijo, \"utf-8\",\n                    model);\n            if (log.isDebugEnabled()) {\n                log.debug(\"Texto del e-mail '\" + texto + \"'\");\n            }\n\n            return armaMensaje(emails, motivo, texto);\n        }\n\n        private MimeMessage armaMensaje(final String emails, final String motivo, final String texto)\n                throws MessagingException {\n\n            MimeMessage mensaje = mailSender.createMimeMessage();\n\n            MimeMessageHelper helper = new MimeMessageHelper(mensaje);\n            helper.addTo(emails);\n            helper.setFrom(from);\n            helper.setSubject(motivo);\n            boolean isHTML = true;\n            helper.setText(texto, isHTML);\n\n            log.debug(\"Armando mensaje de correo, Para:[{}], De:[{}], Motivo:[{}] Mensaje:[{}]\", emails, from, motivo,\n                    texto);\n            return mensaje;\n        }\n    }\n</code></pre>\n\n<p>Here I'm using velocity to format message with HTML, this will give you a great look and feel.</p>\n"},{"tags":[],"owner":{"account_id":5052800,"reputation":83,"user_id":4056833,"display_name":"Kudpudeen"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411277161,"creation_date":1411277161,"answer_id":25956105,"question_id":25926200,"body_markdown":"Finally I got it JNDI Lookup using java configuration.\r\n\r\n    @Bean\r\n    public JavaMailSenderImpl javaMailSenderImpl() {\r\n        JavaMailSenderImpl mailSenderImpl = new JavaMailSenderImpl();\r\n        mailSenderImpl.setSession(session());\r\n        return mailSenderImpl;\r\n    }\r\n    \r\n    public Session session(){\r\n    \tJndiTemplate template = new JndiTemplate();\r\n    \tSession session = null;\r\n    \ttry {\r\n\t\t\t session = (Session) template.lookup(&quot;java:jboss/mail/Email&quot;);\r\n\t\t} catch (NamingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \treturn session;\r\n    }\r\n\r\nThis above code snippet is equivalent to JNDI Lookup mail xml configuration.\r\n\r\n    &lt;jee:jndi-lookup id=&quot;myMailSession&quot;\r\n             jndi-name=&quot;java:jboss/mail/Email&quot;\r\n             expected-type=&quot;javax.mail.Session&quot; /&gt; ","title":"how to migrate spring mail session jndi xml configuration to java config","body":"<p>Finally I got it JNDI Lookup using java configuration.</p>\n\n<pre><code>@Bean\npublic JavaMailSenderImpl javaMailSenderImpl() {\n    JavaMailSenderImpl mailSenderImpl = new JavaMailSenderImpl();\n    mailSenderImpl.setSession(session());\n    return mailSenderImpl;\n}\n\npublic Session session(){\n    JndiTemplate template = new JndiTemplate();\n    Session session = null;\n    try {\n         session = (Session) template.lookup(\"java:jboss/mail/Email\");\n    } catch (NamingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return session;\n}\n</code></pre>\n\n<p>This above code snippet is equivalent to JNDI Lookup mail xml configuration.</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"myMailSession\"\n         jndi-name=\"java:jboss/mail/Email\"\n         expected-type=\"javax.mail.Session\" /&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20563170,"reputation":1,"user_id":15093208,"display_name":"Alfredo Bianchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675941052,"creation_date":1675941052,"answer_id":75397766,"question_id":25926200,"body_markdown":"You can define a @Configuration class and create a bean like this.\r\n\r\n\t@Bean\r\n\tpublic JndiObjectFactoryBean myMailSession() {\r\n\t\tJndiObjectFactoryBean bean = new JndiObjectFactoryBean();\r\n\t\tbean.setJndiName(&quot;java:jboss/mail/Email&quot;);\r\n\t\t\r\n\t\treturn bean;\r\n\t}\r\n\r\nand in the @Bean where you use the jndi object you have to cast it:\r\n\r\n    Session mailSession = (Session) myMailSession().getObject();","title":"how to migrate spring mail session jndi xml configuration to java config","body":"<p>You can define a @Configuration class and create a bean like this.</p>\n<pre><code>@Bean\npublic JndiObjectFactoryBean myMailSession() {\n    JndiObjectFactoryBean bean = new JndiObjectFactoryBean();\n    bean.setJndiName(&quot;java:jboss/mail/Email&quot;);\n    \n    return bean;\n}\n</code></pre>\n<p>and in the @Bean where you use the jndi object you have to cast it:</p>\n<pre><code>Session mailSession = (Session) myMailSession().getObject();\n</code></pre>\n"}],"owner":{"account_id":5052800,"reputation":83,"user_id":4056833,"display_name":"Kudpudeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25926284,"answer_count":3,"score":1,"last_activity_date":1675941052,"creation_date":1411099585,"question_id":25926200,"body_markdown":"I&#39;m new to Spring MVC. I&#39;ve configured a mail session on Wildfly 8.0 Application server. I am using Spring 3.2. I am using a lookup like this:\r\n\r\n    &lt;jee:jndi-lookup id=&quot;myMailSession&quot;\r\n                 jndi-name=&quot;java:jboss/mail/Email&quot;\r\n                 expected-type=&quot;javax.mail.Session&quot; /&gt;\r\n\r\nHowever, I am very much stuck trying to figure out how to do this in Java Config .\r\nHow to migrate this xml based  JNDI lookup to java configuration? ","title":"how to migrate spring mail session jndi xml configuration to java config","body":"<p>I'm new to Spring MVC. I've configured a mail session on Wildfly 8.0 Application server. I am using Spring 3.2. I am using a lookup like this:</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"myMailSession\"\n             jndi-name=\"java:jboss/mail/Email\"\n             expected-type=\"javax.mail.Session\" /&gt;\n</code></pre>\n\n<p>However, I am very much stuck trying to figure out how to do this in Java Config .\nHow to migrate this xml based  JNDI lookup to java configuration? </p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1625948802,"post_id":68331002,"comment_id":120764966,"body_markdown":"Sounds np-complete to me. So, try all combinations …. Sort the list first.","body":"Sounds np-complete to me. So, try all combinations …. Sort the list first."},{"owner":{"account_id":40277,"reputation":5675,"user_id":116712,"accept_rate":40,"display_name":"pablochan"},"score":2,"creation_date":1625949080,"post_id":68331002,"comment_id":120765013,"body_markdown":"This should help - https://en.wikipedia.org/wiki/Subset_sum_problem","body":"This should help - <a href=\"https://en.wikipedia.org/wiki/Subset_sum_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Subset_sum_problem</a>"},{"owner":{"account_id":11523250,"reputation":1153,"user_id":8444441,"display_name":"risingStark"},"score":1,"creation_date":1626063093,"post_id":68331002,"comment_id":120783192,"body_markdown":"Does this answer your question? [Subset Sum algorithm](https://stackoverflow.com/questions/4355955/subset-sum-algorithm)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4355955/subset-sum-algorithm\">Subset Sum algorithm</a>"},{"owner":{"account_id":16743183,"reputation":166,"user_id":12102246,"display_name":"Doreapp"},"score":0,"creation_date":1626285008,"post_id":68331002,"comment_id":120854548,"body_markdown":"It looks like [knapsack problem](https://en.wikipedia.org/wiki/Knapsack_problem) to me. To solve it in a O(n) way you need to use more memory (an array that store in its `i`-th cell if the sum until `i` is reachable or not). Let me know if the knapsnak problem does fit your problem, I can make a bigger answer.","body":"It looks like <a href=\"https://en.wikipedia.org/wiki/Knapsack_problem\" rel=\"nofollow noreferrer\">knapsack problem</a> to me. To solve it in a O(n) way you need to use more memory (an array that store in its <code>i</code>-th cell if the sum until <code>i</code> is reachable or not). Let me know if the knapsnak problem does fit your problem, I can make a bigger answer."}],"answers":[{"tags":[],"owner":{"account_id":15427899,"reputation":122,"user_id":11130128,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675940866,"creation_date":1675940866,"answer_id":75397730,"question_id":68331002,"body_markdown":"This is an example of Subset Sum Problem. An example of a solution to it is provided at [Geeksforgeeks](https://www.geeksforgeeks.org/subset-sum-problem-dp-25/).","title":"Algorithm to find numbers from the list that sum up to a given sum","body":"<p>This is an example of Subset Sum Problem. An example of a solution to it is provided at <a href=\"https://www.geeksforgeeks.org/subset-sum-problem-dp-25/\" rel=\"nofollow noreferrer\">Geeksforgeeks</a>.</p>\n"}],"owner":{"account_id":15427899,"reputation":122,"user_id":11130128,"display_name":"Sam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75397730,"answer_count":1,"score":0,"last_activity_date":1675940866,"creation_date":1625946019,"question_id":68331002,"body_markdown":"I have a list of numbers and a target sum. The sum can be made from some of these numbers and sometimes cannot be made. Is there a way in Java or any other language to optimally/quickly find a subset of these numbers that could some up to a given target sum or if it&#39;s not possible to find the subset that gives the closest sum to the target sum?\r\n\r\nFor example, my current list of numbers has about 1000 numbers of 3-5 digits. And I have multiple target sums. For instance, 2&#39;167&#39;789 or 49&#39;450. The target sum is usually 5-7 digits.\r\n\r\nRight now, I have a basic recursive algorithm that goes through all of the possible combinations without doing any &quot;smart&quot; things. And thus, I usually either run out of memory or just wait hours to realise that something went wrong at the end.\r\n\r\nIf I can&#39;t make a sum from the numbers given, I need to pick numbers that will give me the closest sum to the target one.\r\n\r\nThis is the code I have:\r\n\r\n    public static void findAllPossibleLists(int goal, int currentSum, ArrayList&lt;Integer&gt; included, ArrayList&lt;Integer&gt; notIncluded, int startIndex) {\r\n      for (int i = startIndex; i &lt; notIncluded.size(); i++) {\r\n        int currentNumber = notIncluded.get(i);\r\n\r\n        // if equal to goal or it&#39;s the last item in the list (technically not precisely right thing to compare to...)\r\n        if (currentSum + currentNumber == goal) {\r\n          // save this result\r\n          ArrayList&lt;Integer&gt; newResult = new ArrayList&lt;&gt;(included);\r\n          newResult.add(currentNumber);\r\n          allResults.add(newResult);\r\n        } else if (currentSum + currentNumber &lt; goal) {\r\n          // continue\r\n          ArrayList&lt;Integer&gt; newIncluded = new ArrayList&lt;&gt;(included);\r\n          newIncluded.add(currentNumber);\r\n\r\n          ArrayList&lt;Integer&gt; newNotIncluded = new ArrayList&lt;&gt;(notIncluded);\r\n          newNotIncluded.remove(i);\r\n\r\n          findAllPossibleLists(goal, currentSum + currentNumber, newIncluded, newNotIncluded, startIndex++);\r\n        } else if (currentSum + currentNumber &gt; goal) {\r\n          // save the result without the last item found\r\n          allResults.add(new ArrayList&lt;&gt;(included));\r\n        }\r\n      }\r\n    }\r\n\r\nI run this using this initial call: \r\n\r\n    findAllPossibleLists(goal, 0, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(numbers), 0);\r\n\r\nwhere `numbers` is an array of given numbers.\r\n","title":"Algorithm to find numbers from the list that sum up to a given sum","body":"<p>I have a list of numbers and a target sum. The sum can be made from some of these numbers and sometimes cannot be made. Is there a way in Java or any other language to optimally/quickly find a subset of these numbers that could some up to a given target sum or if it's not possible to find the subset that gives the closest sum to the target sum?</p>\n<p>For example, my current list of numbers has about 1000 numbers of 3-5 digits. And I have multiple target sums. For instance, 2'167'789 or 49'450. The target sum is usually 5-7 digits.</p>\n<p>Right now, I have a basic recursive algorithm that goes through all of the possible combinations without doing any &quot;smart&quot; things. And thus, I usually either run out of memory or just wait hours to realise that something went wrong at the end.</p>\n<p>If I can't make a sum from the numbers given, I need to pick numbers that will give me the closest sum to the target one.</p>\n<p>This is the code I have:</p>\n<pre><code>public static void findAllPossibleLists(int goal, int currentSum, ArrayList&lt;Integer&gt; included, ArrayList&lt;Integer&gt; notIncluded, int startIndex) {\n  for (int i = startIndex; i &lt; notIncluded.size(); i++) {\n    int currentNumber = notIncluded.get(i);\n\n    // if equal to goal or it's the last item in the list (technically not precisely right thing to compare to...)\n    if (currentSum + currentNumber == goal) {\n      // save this result\n      ArrayList&lt;Integer&gt; newResult = new ArrayList&lt;&gt;(included);\n      newResult.add(currentNumber);\n      allResults.add(newResult);\n    } else if (currentSum + currentNumber &lt; goal) {\n      // continue\n      ArrayList&lt;Integer&gt; newIncluded = new ArrayList&lt;&gt;(included);\n      newIncluded.add(currentNumber);\n\n      ArrayList&lt;Integer&gt; newNotIncluded = new ArrayList&lt;&gt;(notIncluded);\n      newNotIncluded.remove(i);\n\n      findAllPossibleLists(goal, currentSum + currentNumber, newIncluded, newNotIncluded, startIndex++);\n    } else if (currentSum + currentNumber &gt; goal) {\n      // save the result without the last item found\n      allResults.add(new ArrayList&lt;&gt;(included));\n    }\n  }\n}\n</code></pre>\n<p>I run this using this initial call:</p>\n<pre><code>findAllPossibleLists(goal, 0, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(numbers), 0);\n</code></pre>\n<p>where <code>numbers</code> is an array of given numbers.</p>\n"},{"tags":["java","eclipse","selenium","testng"],"comments":[{"owner":{"account_id":1970066,"reputation":7766,"user_id":1769273,"accept_rate":74,"display_name":"Nathan Merrill"},"score":0,"creation_date":1383066983,"post_id":19664855,"comment_id":29202959,"body_markdown":"Are you getting any errors?  What browser are you using?  Can I see the HTML of the `officialNameTB` element?","body":"Are you getting any errors?  What browser are you using?  Can I see the HTML of the <code>officialNameTB</code> element?"},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383067432,"post_id":19664855,"comment_id":29203200,"body_markdown":"@MrTi The `officialNameTB` element has nothing to do with the document upload. That part is working. I am using Firefox, and the error I am getting is a null pointer exception on the `file = new File(Documents_UploadDocuments.class.getClassLoader().getResource(&quot;/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;).toURI());` line.","body":"@MrTi The <code>officialNameTB</code> element has nothing to do with the document upload. That part is working. I am using Firefox, and the error I am getting is a null pointer exception on the <code>file = new File(Documents_UploadDocuments.class.getClassLoader().getRes&zwnj;&#8203;ource(&quot;&#47;Users&#47;vhaisl&zwnj;&#8203;salisc&#47;Documents&#47;VIN&zwnj;&#8203;CI_Test_documents&#47;Te&zwnj;&#8203;st_ResReqMemo.pdf&quot;).&zwnj;&#8203;toURI());</code> line."},{"owner":{"account_id":1970066,"reputation":7766,"user_id":1769273,"accept_rate":74,"display_name":"Nathan Merrill"},"score":0,"creation_date":1383068144,"post_id":19664855,"comment_id":29203618,"body_markdown":"Ah.  I saw sendKeys and I thought that was where you uploaded it.    This has nothing to do with Selenium then.  I believe your problem lies with the fact that the path is wrong.  I&#39;m not sure why, but its definitely not Selenium that&#39;s causing that error.","body":"Ah.  I saw sendKeys and I thought that was where you uploaded it.    This has nothing to do with Selenium then.  I believe your problem lies with the fact that the path is wrong.  I&#39;m not sure why, but its definitely not Selenium that&#39;s causing that error."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383068712,"post_id":19664855,"comment_id":29203940,"body_markdown":"The file path is correct, not really sure where to go to get this to work.","body":"The file path is correct, not really sure where to go to get this to work."},{"owner":{"account_id":1970066,"reputation":7766,"user_id":1769273,"accept_rate":74,"display_name":"Nathan Merrill"},"score":0,"creation_date":1383068916,"post_id":19664855,"comment_id":29204042,"body_markdown":"Well, can you run this test: `if (Documents_UploadDocuments.class.getClassLoader().getResource(&quot;/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;)==null) System.out.println(&quot;Null check&quot;);`","body":"Well, can you run this test: <code>if (Documents_UploadDocuments.class.getClassLoader().getResourc&zwnj;&#8203;e(&quot;&#47;Users&#47;vhaislsali&zwnj;&#8203;sc&#47;Documents&#47;VINCI_T&zwnj;&#8203;est_documents&#47;Test_R&zwnj;&#8203;esReqMemo.pdf&quot;)==nul&zwnj;&#8203;l) System.out.println(&quot;Null check&quot;);</code>"},{"owner":{"account_id":1970066,"reputation":7766,"user_id":1769273,"accept_rate":74,"display_name":"Nathan Merrill"},"score":0,"creation_date":1383068989,"post_id":19664855,"comment_id":29204091,"body_markdown":"I&#39;m also not sure if you need to start it with the Drive name.  Put a `C:/` in front?","body":"I&#39;m also not sure if you need to start it with the Drive name.  Put a <code>C:&#47;</code> in front?"},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383069784,"post_id":19664855,"comment_id":29204550,"body_markdown":"I am running this on a mac, so that is the correct path.","body":"I am running this on a mac, so that is the correct path."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383070387,"post_id":19664855,"comment_id":29204860,"body_markdown":"The null check you suggested passes.","body":"The null check you suggested passes."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1383077632,"post_id":19664855,"comment_id":29208943,"body_markdown":"The `sendKeys()` should work. Is the `&lt;input type=&quot;file&quot; multiple&gt;` input with the `multiple` attribute by any chance? WebDriver doesn&#39;t support it. Can you show us your html code around the input? If everything fails, try the `Robot` class. http://stackoverflow.com/a/14628195/1273080","body":"The <code>sendKeys()</code> should work. Is the <code>&lt;input type=&quot;file&quot; multiple&gt;</code> input with the <code>multiple</code> attribute by any chance? WebDriver doesn&#39;t support it. Can you show us your html code around the input? If everything fails, try the <code>Robot</code> class. <a href=\"http://stackoverflow.com/a/14628195/1273080\">stackoverflow.com/a/14628195/1273080</a>"},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383084905,"post_id":19664855,"comment_id":29212644,"body_markdown":"@Slanec I am unsure what `&lt;input type=&quot;file&quot; multiple&gt;` means, does that mean that it can accept different types of formats? For instance .doc, .docx, and .pdf. If that is the case, then yes it does support multiple formats. Will the `Robot` class work in that case?","body":"@Slanec I am unsure what <code>&lt;input type=&quot;file&quot; multiple&gt;</code> means, does that mean that it can accept different types of formats? For instance .doc, .docx, and .pdf. If that is the case, then yes it does support multiple formats. Will the <code>Robot</code> class work in that case?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1383086961,"post_id":19664855,"comment_id":29213428,"body_markdown":"@DarthOpto Just show us the HTML code. And no, it means that it can simultaneously accept multiple files. It&#39;s a new HTML5 feature. And yes, the Robot solution should work, even though it&#39;s a little hacky.","body":"@DarthOpto Just show us the HTML code. And no, it means that it can simultaneously accept multiple files. It&#39;s a new HTML5 feature. And yes, the Robot solution should work, even though it&#39;s a little hacky."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383240709,"post_id":19664855,"comment_id":29284861,"body_markdown":"@Slanec `&lt;input type=&quot;file&quot; accept=&quot;application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot; name=&quot;files[]&quot; id=&quot;fileField&quot;&gt;` Trying Robot.","body":"@Slanec <code>&lt;input type=&quot;file&quot; accept=&quot;application&#47;pdf,application&#47;msword,application&#47;vnd.o&zwnj;&#8203;penxmlformats-office&zwnj;&#8203;document.wordprocess&zwnj;&#8203;ingml.document&quot; name=&quot;files[]&quot; id=&quot;fileField&quot;&gt;</code> Trying Robot."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383318441,"post_id":19664855,"comment_id":29312176,"body_markdown":"`Robot` class is not working either. It never actually goes to the file.","body":"<code>Robot</code> class is not working either. It never actually goes to the file."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1383323043,"post_id":19664855,"comment_id":29314873,"body_markdown":"Can you also add to the question what is your WebDriver implementation (Login.driver).","body":"Can you also add to the question what is your WebDriver implementation (Login.driver)."},{"owner":{"account_id":3064268,"reputation":3881,"user_id":2596334,"accept_rate":97,"display_name":"Scott Solmer"},"score":0,"creation_date":1383323658,"post_id":19664855,"comment_id":29315198,"body_markdown":"Does Mac not let you navigate and select files with finder using the keyboard? Can&#39;t you just automate keys?","body":"Does Mac not let you navigate and select files with finder using the keyboard? Can&#39;t you just automate keys?"},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383323885,"post_id":19664855,"comment_id":29315292,"body_markdown":"@eis added the `Login.driver` implementation","body":"@eis added the <code>Login.driver</code> implementation"},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383323903,"post_id":19664855,"comment_id":29315301,"body_markdown":"@Okuma.Scott it does not seem to be working.","body":"@Okuma.Scott it does not seem to be working."},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1383899333,"post_id":19664855,"comment_id":29528468,"body_markdown":"Depending if you want to test the various Browsers or only the backend functionality, you could switch to HtmlUnit and populate the form directly instead of trying to handle the file open dialog.","body":"Depending if you want to test the various Browsers or only the backend functionality, you could switch to HtmlUnit and populate the form directly instead of trying to handle the file open dialog."}],"answers":[{"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1383322422,"post_id":19730707,"comment_id":29314532,"body_markdown":"Funnily enough, [there is an `id()` function in XPath](http://www.w3.org/TR/xpath/#function-id), so the code is okay. Anyway, searching `By.id()` should be preferred.","body":"Funnily enough, <a href=\"http://www.w3.org/TR/xpath/#function-id\" rel=\"nofollow noreferrer\">there is an <code>id()</code> function in XPath</a>, so the code is okay. Anyway, searching <code>By.id()</code> should be preferred."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1383322890,"post_id":19730707,"comment_id":29314788,"body_markdown":"Hm. So it seems. However, as that&#39;s only thing I can think of that would be wrong, I&#39;d still confirm it or test it with just By.id(). There are [differences and limitations in WebDriver xpath support](http://code.google.com/p/selenium/wiki/XpathInWebDriver), and this might be one of them.","body":"Hm. So it seems. However, as that&#39;s only thing I can think of that would be wrong, I&#39;d still confirm it or test it with just By.id(). There are <a href=\"http://code.google.com/p/selenium/wiki/XpathInWebDriver\" rel=\"nofollow noreferrer\">differences and limitations in WebDriver xpath support</a>, and this might be one of them."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383323279,"post_id":19730707,"comment_id":29315000,"body_markdown":"@eis when I try your suggestion I am still getting a `null pointer exception` at `file = new File(Documents_UploadDocuments.class.getClassLoader().getResource(&quot;/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;).toURI());`","body":"@eis when I try your suggestion I am still getting a <code>null pointer exception</code> at <code>file = new File(Documents_UploadDocuments.class.getClassLoader().getRes&zwnj;&#8203;ource(&quot;&#47;Users&#47;vhaisl&zwnj;&#8203;salisc&#47;Documents&#47;VIN&zwnj;&#8203;CI_Test_documents&#47;Te&zwnj;&#8203;st_ResReqMemo.pdf&quot;).&zwnj;&#8203;toURI());</code>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1383323382,"post_id":19730707,"comment_id":29315059,"body_markdown":"@DarthOpto that&#39;s a different problem. if you get a null pointer exception there, it means loading of your resource from that path failed. Fix that first (by correcting the path, path cases, permissions of the file/path or similar). That&#39;s not related to webdriver in any way.","body":"@DarthOpto that&#39;s a different problem. if you get a null pointer exception there, it means loading of your resource from that path failed. Fix that first (by correcting the path, path cases, permissions of the file/path or similar). That&#39;s not related to webdriver in any way."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383324570,"post_id":19730707,"comment_id":29315627,"body_markdown":"@eis I changed the permissions on the directory that the file is in, and the path is correct. I am in the process now of changing the permissions for the entire path.","body":"@eis I changed the permissions on the directory that the file is in, and the path is correct. I am in the process now of changing the permissions for the entire path."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1383325424,"post_id":19730707,"comment_id":29316074,"body_markdown":"@DarthOpto that might not be the issue. Try putting the path directly to new File(). I added an example.","body":"@DarthOpto that might not be the issue. Try putting the path directly to new File(). I added an example."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1383924916,"post_id":19730707,"comment_id":29542728,"body_markdown":"My computer crashed the other day. I will try your suggestion as soon as I get it back.","body":"My computer crashed the other day. I will try your suggestion as soon as I get it back."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1385574500,"post_id":19730707,"comment_id":30202156,"body_markdown":"I got my computer back and am working on this right now. Will let you know how this worked out.","body":"I got my computer back and am working on this right now. Will let you know how this worked out."},{"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"score":0,"creation_date":1385576417,"post_id":19730707,"comment_id":30203201,"body_markdown":"Taking out that bit worked. Thank you all so much for your help. I am sorry that it took so long to get back to this. My hard drive on my computer went tits up and needed replaced, since it is a government computer it took forever. +1 Internets for @eis","body":"Taking out that bit worked. Thank you all so much for your help. I am sorry that it took so long to get back to this. My hard drive on my computer went tits up and needed replaced, since it is a government computer it took forever. +1 Internets for @eis"}],"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383325379,"creation_date":1383322260,"answer_id":19730707,"question_id":19664855,"body_markdown":"&gt; I do not believe that browseBtn.sendKeys(file.getAbsolutePath()); is going\r\n&gt; to work in this case as I am trying to do this on a Mac and there is no cursor\r\n&gt; for the Browse button.\r\n\r\nThere isn&#39;t a cursor in any platform for file input. That shouldn&#39;t keep you from using it. However, I&#39;d suggest changing this:\r\n\r\n    WebElement browseBtn = driver.findElement(By.xpath(&quot;id(&#39;fileField&#39;)&quot;));\r\n\r\nTo this\r\n\r\n    WebElement browseBtn = driver.findElement(By.id(&quot;fileField&quot;));\r\n\r\nto see if that fixes the issue.\r\n\r\n----\r\n\r\nUpdate: You added that \r\n\r\n&gt; I am still getting a null pointer exception at file = new\r\n&gt; File(Documents_UploadDocuments.class.getClassLoader().getResource(&quot;/Users/vhaisl‌​salisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;).toURI());\r\n\r\nThis means that **next problem is with loading from path `/Users/vhaisl‌​salisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf`**. That is not related in Selenium usage at all, and you need to fix the path/file/file permissions before continuing with the troubleshooting.\r\n\r\nTry to change this\r\n\r\n    file = new File(Documents_UploadDocuments.class.getClassLoader().getResource(&quot;/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;).toURI());\r\n \r\n\r\nto this\r\n\r\n    file = new File(&quot;/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;);\r\n ","title":"File Upload Using Selenium WebDriver and Java on a Mac","body":"<blockquote>\n  <p>I do not believe that browseBtn.sendKeys(file.getAbsolutePath()); is going\n  to work in this case as I am trying to do this on a Mac and there is no cursor\n  for the Browse button.</p>\n</blockquote>\n\n<p>There isn't a cursor in any platform for file input. That shouldn't keep you from using it. However, I'd suggest changing this:</p>\n\n<pre><code>WebElement browseBtn = driver.findElement(By.xpath(\"id('fileField')\"));\n</code></pre>\n\n<p>To this</p>\n\n<pre><code>WebElement browseBtn = driver.findElement(By.id(\"fileField\"));\n</code></pre>\n\n<p>to see if that fixes the issue.</p>\n\n<hr>\n\n<p>Update: You added that </p>\n\n<blockquote>\n  <p>I am still getting a null pointer exception at file = new\n  File(Documents_UploadDocuments.class.getClassLoader().getResource(\"/Users/vhaisl‌​salisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf\").toURI());</p>\n</blockquote>\n\n<p>This means that <strong>next problem is with loading from path <code>/Users/vhaisl‌​salisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf</code></strong>. That is not related in Selenium usage at all, and you need to fix the path/file/file permissions before continuing with the troubleshooting.</p>\n\n<p>Try to change this</p>\n\n<pre><code>file = new File(Documents_UploadDocuments.class.getClassLoader().getResource(\"/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf\").toURI());\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>file = new File(\"/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4825397,"reputation":597,"user_id":3894987,"accept_rate":100,"display_name":"Huy H&#243;m Hỉnh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557723042,"creation_date":1557723042,"answer_id":56105904,"question_id":19664855,"body_markdown":"The guide [here][1] work for me. My code \r\n\r\n    public static void uploadMediaByRobot(String fileName) {\r\n        //File Need to be imported\r\n        File file = new File(&quot;src/main/resources/media/&quot; + fileName);\r\n        StringSelection stringSelection = new StringSelection(file.getAbsolutePath());\r\n        //Copy to clipboard\r\n        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n\r\n        Robot robot = null;\r\n        try {\r\n            robot = new Robot();\r\n        } catch (AWTException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Cmd + Tab is needed since it launches a Java app and the browser looses focus\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_TAB);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n        robot.keyRelease(KeyEvent.VK_TAB);\r\n        robot.delay(500);\r\n\r\n        //Open Goto window\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_SHIFT);\r\n        robot.keyPress(KeyEvent.VK_G);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n        robot.keyRelease(KeyEvent.VK_SHIFT);\r\n        robot.keyRelease(KeyEvent.VK_G);\r\n\r\n        //Paste the clipboard value\r\n        robot.keyPress(KeyEvent.VK_META);\r\n        robot.keyPress(KeyEvent.VK_V);\r\n        robot.keyRelease(KeyEvent.VK_META);\r\n        robot.keyRelease(KeyEvent.VK_V);\r\n\r\n        //Press Enter key to close the Goto window and Upload window\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n        robot.delay(500);\r\n        robot.keyPress(KeyEvent.VK_ENTER);\r\n        robot.keyRelease(KeyEvent.VK_ENTER);\r\n    }\r\n\r\nBtw, if you meet the error \r\n\r\n`ERROR : This is NOT allowed. Please call TIS/TSM in main thread!!!`\r\n\r\nYou can solve with the answer [here][2]\r\n\r\nHope this help!\r\n\r\n\r\n  [1]: http://learn-automation.com/upload-file-in-selenium-in-mac/\r\n  [2]: https://stackoverflow.com/a/54965052/3894987","title":"File Upload Using Selenium WebDriver and Java on a Mac","body":"<p>The guide <a href=\"http://learn-automation.com/upload-file-in-selenium-in-mac/\" rel=\"nofollow noreferrer\">here</a> work for me. My code </p>\n\n<pre><code>public static void uploadMediaByRobot(String fileName) {\n    //File Need to be imported\n    File file = new File(\"src/main/resources/media/\" + fileName);\n    StringSelection stringSelection = new StringSelection(file.getAbsolutePath());\n    //Copy to clipboard\n    Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n\n    Robot robot = null;\n    try {\n        robot = new Robot();\n    } catch (AWTException e) {\n        e.printStackTrace();\n    }\n\n    // Cmd + Tab is needed since it launches a Java app and the browser looses focus\n    robot.keyPress(KeyEvent.VK_META);\n    robot.keyPress(KeyEvent.VK_TAB);\n    robot.keyRelease(KeyEvent.VK_META);\n    robot.keyRelease(KeyEvent.VK_TAB);\n    robot.delay(500);\n\n    //Open Goto window\n    robot.keyPress(KeyEvent.VK_META);\n    robot.keyPress(KeyEvent.VK_SHIFT);\n    robot.keyPress(KeyEvent.VK_G);\n    robot.keyRelease(KeyEvent.VK_META);\n    robot.keyRelease(KeyEvent.VK_SHIFT);\n    robot.keyRelease(KeyEvent.VK_G);\n\n    //Paste the clipboard value\n    robot.keyPress(KeyEvent.VK_META);\n    robot.keyPress(KeyEvent.VK_V);\n    robot.keyRelease(KeyEvent.VK_META);\n    robot.keyRelease(KeyEvent.VK_V);\n\n    //Press Enter key to close the Goto window and Upload window\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n    robot.delay(500);\n    robot.keyPress(KeyEvent.VK_ENTER);\n    robot.keyRelease(KeyEvent.VK_ENTER);\n}\n</code></pre>\n\n<p>Btw, if you meet the error </p>\n\n<p><code>ERROR : This is NOT allowed. Please call TIS/TSM in main thread!!!</code></p>\n\n<p>You can solve with the answer <a href=\"https://stackoverflow.com/a/54965052/3894987\">here</a></p>\n\n<p>Hope this help!</p>\n"}],"owner":{"account_id":1599045,"reputation":1640,"user_id":1480488,"accept_rate":88,"display_name":"DarthOpto"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12384,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19730707,"answer_count":2,"score":4,"last_activity_date":1675940830,"creation_date":1383066716,"question_id":19664855,"body_markdown":"I have a web application which I am attempting to automate using Java, TestNG, and Selenium WebDriver. The application navigates through several stages and then the user needs to upload a document. \r\n\r\nI have tried the suggestions listed [here][1]\r\n\r\nand have been unable to get it to work. I do not believe that `browseBtn.sendKeys(file.getAbsolutePath());` is going to work in this case as I am trying to do this on a Mac and there is no cursor for the Browse button.  \r\n\r\nBelow is my code thus far, just wondering if anyone has been able to successfully do this and how to do it myself (Screenshots of what I am trying to do are below):\r\n\r\n\r\n    \tprivate void documents_UploadDocuments(String driverName) throws SQLException, InterruptedException\r\n\t{\r\n\t\t/*\r\n\t\t * Upload documents to a request\r\n\t\t */\r\n\t\t\t\tLogin.login_Requester(driverName);\r\n\t\t\t\tWebDriver driver = Login.driver;\r\n\t\t\t\t\r\n\t\t\t\t//Click My Requests Tab\r\n\t\t\t\tWebElement myRequestTab = driver.findElement(By.xpath(&quot;/html/body/div/ul/li[2]/a&quot;));\r\n\t\t\t\tmyRequestTab.click();\r\n\t\t\t\t\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\r\n\t\t\t\t//Click Create a New Request\r\n\t\t\t\tWebElement createRequestBtn = driver.findElement(By.id(&quot;submit&quot;));\r\n\t\t\t\tcreateRequestBtn.click();\r\n\t\t\t\t\r\n\t\t\t\tWebElement officialNameTB = driver.findElement(By.id(&quot;new-official-name&quot;));\r\n\t\t\t\tWebElement createRqtBtn = driver.findElement(By.id(&quot;continue&quot;));\r\n\t\t\t\tWebElement researchDataAccess = driver.findElement(By.xpath(&quot;/html/body/div[3]/div[2]/form/div[2]/div/select/optgroup/option&quot;));\r\n\t\t\t\t\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\r\n\t\t\t\tofficialNameTB.sendKeys(&quot;TEST_UploadDocuments&quot;);\r\n\t\t\t\tresearchDataAccess.click();\r\n\t\t\t\tcreateRqtBtn.click();\r\n\t\t\t\t\r\n\t\t\t\tThread.sleep(2500);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//Enter an IRB Number\r\n\t\t\t\tWebElement irbNumberTB = driver.findElement(By.id(&quot;irbNumber&quot;));\r\n\t\t\t\tirbNumberTB.click();\r\n\t\t\t\tirbNumberTB.sendKeys(&quot;This is an IRB #&quot;);\r\n\t\t\t\t\r\n\t\t\t\t//Enter an IRB Expiration Date\r\n\t\t\t\tWebElement irbExpCP = driver.findElement(By.id(&quot;irbExpDate&quot;));\r\n\t\t\t\tirbExpCP.click();\r\n\t\t\t\tLocalDate irbDate = LocalDate.now().plusYears(5);\r\n\t\t\t\tDateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;MM/dd/yyyy&quot;);\r\n\t\t\t\tString irbDate2 = formatter.print(irbDate);\r\n\t\t\t\tirbExpCP.sendKeys(irbDate2);\r\n\t\t\t\t\r\n\t\t\t\t//Enter a Start Date\r\n\t\t\t\tWebElement startDateCP = driver.findElement(By.id(&quot;startDate&quot;));\r\n\t\t\t\tstartDateCP.click();\r\n\t\t\t\tLocalDate startDate = LocalDate.now();\r\n\t\t\t\tString startDate2 = formatter.print(startDate);\r\n\t\t\t\tstartDateCP.sendKeys(startDate2);\r\n\t\t\t\t\r\n\t\t\t\t//Enter an End Date\r\n\t\t\t\tWebElement endDateCP = driver.findElement(By.id(&quot;endDate&quot;));\r\n\t\t\t\tendDateCP.click();\r\n\t\t\t\tLocalDate endDate = LocalDate.now().plusYears(10);\r\n\t\t\t\tString endDate2 = formatter.print(endDate);\r\n\t\t\t\tendDateCP.sendKeys(endDate2);\r\n\t\t\t\t\r\n\t\t\t\t//Click Next Button\r\n\t\t\t\tWebElement nextBtn = driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/ul[2]/li[2]/button&quot;));\r\n\t\t\t\tnextBtn.click();\r\n\t\t\t\t\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\r\n\t\t\t\t//Click Find Participant button\r\n\t\t\t\tWebElement findPartBtn = driver.findElement(By.id(&quot;findPeopleButton&quot;));\r\n\t\t\t\tfindPartBtn.click();\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\r\n\t\t\t\t//Search for a participant\r\n\t\t\t\tWebElement nameField = driver.findElement(By.id(&quot;name&quot;));\r\n\t\t\t\tnameField.click();\r\n\t\t\t\tnameField.clear();\r\n\t\t\t\tString [] namesArray = {&quot;Salisbury, Curtis J. (FVFT)&quot;, &quot;Hanson, Shannon H. (FVFT)&quot;, &quot;Dinerstein, Jared A. (FVFT)&quot;, &quot;Dinerstein, Sabra A. (FVFT)&quot;, &quot;Ford, Lee J. (FVFT)&quot;};\r\n\t\t\t\tString names = PickRand.get(namesArray);\r\n\t\t\t\tnameField.sendKeys(names);\r\n\t\t\t\t\r\n\t\t\t\t//Find Now Button\r\n\t\t\t\tWebElement findBtn = driver.findElement(By.id(&quot;findNow&quot;));\r\n\t\t\t\tfindBtn.click();\r\n\t\t\t\t\r\n\t\t\t\t//Choose the Participant\r\n\t\t\t\tWebElement fullName = driver.findElement(By.id(&quot;fullName&quot;));\r\n\t\t\t\tfullName.click();\r\n\t\t\t\t\r\n\t\t\t\t//Choose a location\r\n\t\t\t\tString location = PickRand.get(locations.getLocationArray());\r\n\t\t\t\tWebElement locationChooser = driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div[2]/div[2]/div/table/tbody/tr[2]/td[3]/div/label/div/a/div/b&quot;));\r\n\t\t\t\tlocationChooser.click();\r\n\t\t\t\tWebElement locationSrch = driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div[2]/div[2]/div/table/tbody/tr[2]/td[3]/div/label/div/div/div/input&quot;));\r\n\t\t\t\tlocationSrch.clear();\r\n\t\t\t\tlocationSrch.sendKeys(location);\r\n\t\t\t\tlocationSrch.sendKeys(Keys.RETURN);\r\n\t\t\t\tThread.sleep(500);\r\n\t\t\t\tWebElement addBtn = driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div[2]/div[2]/div/table/tbody/tr[2]/td[6]/button&quot;));\r\n\t\t\t\taddBtn.click();\r\n\t\t\t\tThread.sleep(500);\r\n\t\t\t\t\r\n\t\t\t\tnextBtn.click();\r\n\t\t\t\tThread.sleep(500);\r\n\t\t\t\t\r\n\t\t\t\t//Click RealSSN Identifier\r\n\t\t\t\tWebElement realSSNIdentifier = driver.findElement(By.id(&quot;realSSNIdentifier&quot;));\r\n\t\t\t\trealSSNIdentifier.click();\r\n\t\t\t\t\r\n\t\t\t\t//Click CDW Production Domains Data Source\r\n\t\t\t\tWebElement cdwProdDomainsCheck = driver.findElement(By.id(&quot;1022&quot;));\r\n\t\t\t\tcdwProdDomainsCheck.click();\r\n\t\t\t\t\r\n\t\t\t\t//Click the HIPAA questions\r\n\t\t\t\tWebElement hipaaConsentYesRdio = driver.findElement(By.id(&quot;HIPAAAuthorization1&quot;));\r\n\t\t\t\tWebElement hipaaWaiverYesRdio = driver.findElement(By.id(&quot;HIPAAWaiver1&quot;));\r\n\t\t\t\thipaaConsentYesRdio.click();\r\n\t\t\t\thipaaWaiverYesRdio.click();\r\n\t\t\t\t\r\n\t\t\t\t//Click Next Button\r\n\t\t\t\tnextBtn.click();\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//Upload Documents\r\n\t\t\t\tWebElement uploadDoc1 = driver.findElement(By.id(&quot;uploadDocumentLink&quot;));\r\n\t\t\t\tuploadDoc1.click();\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\tWebElement browseBtn = driver.findElement(By.xpath(&quot;id(&#39;fileField&#39;)&quot;));\r\n\t\t\t\tFile file = null;\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tfile = new File(Documents_UploadDocuments.class.getClassLoader().getResource(&quot;/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;).toURI());\r\n\t\t\t\t}\r\n\t\t\t\tcatch(URISyntaxException e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tbrowseBtn.sendKeys(file.getAbsolutePath());\r\n\t\t\t\t\r\n\t}\r\n\r\nThe upload link opens this screen: \r\n![Choose File Modal][2]\r\n\r\nWhen I click on the Browse button in that modal it opens this screen:\r\n![File Upload Screen][3]\r\n\r\nSo I attempted to use the `Robot` class as suggested and it is not actually choosing the file. I need it to choose the file, and then go back to the `Upload a Document` screen so I can click the `Upload` button to finish the process. When I run the full test, it just stays on the Mac screen for the File Upload. What am I doing wrong?\r\n\r\nBelow is what I have for using the `Robot` class:\r\n\r\n    //Upload Documents\r\n\t\t\t\tWebElement uploadDoc1 = driver.findElement(By.id(&quot;uploadDocumentLink&quot;));\r\n\t\t\t\tuploadDoc1.click();\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\tWebElement browseBtn = driver.findElement(By.xpath(&quot;id(&#39;fileField&#39;)&quot;));\r\n\t\t\t\tbrowseBtn.click();\r\n\t\t\t\tRobot r = new Robot();\r\n\t\t\t\t/*\r\n\t\t\t\t * use the Robot class to type out the path of the document\r\n\t\t\t\t * &quot;/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf&quot;\r\n\t\t\t\t */\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SLASH); \r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_U);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_U);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_R);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_R);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_V);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_V);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_H);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_H);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_A);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_A);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_I);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_I);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_L);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_L);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_A);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_A);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_L);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_L);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_I);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_I);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_C);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_C);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_D);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_D);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_O);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_O);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_C);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_C);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_U);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_U);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_M);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_M);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_N);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_N);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_T);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_T);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_V);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_V);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_I);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_I);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_N);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_N);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_C);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_C);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_I);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_I);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_UNDERSCORE);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_UNDERSCORE);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_T);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_T);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_T);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_T);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_UNDERSCORE);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_UNDERSCORE);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_D);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_D);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_O);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_O);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_C);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_C);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_U);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_U);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_M);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_M);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_N);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_N);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_T);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_T);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SLASH);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_T);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_T);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_T);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_T);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_UNDERSCORE);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_UNDERSCORE);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_R);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_R);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_S);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_S);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_R);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_R);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_Q);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_Q);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_M);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_SHIFT);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_M);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_E);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_E);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_M);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_M);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_O);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_O);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_PERIOD);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_PERIOD);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_P);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_P);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_D);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_D);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_F);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_F);\r\n\t\t\t\tr.keyPress(KeyEvent.VK_ENTER);\r\n\t\t\t\tr.keyRelease(KeyEvent.VK_ENTER);\r\n\t\t\t\t\r\n\t\t\t\tWebElement uploadBtn = driver.findElement(By.id(&quot;submit&quot;));\r\n\t\t\t\tuploadBtn.click();\r\n\r\nThe `Login.driver` implementation is below:\r\n\r\n    public class Login \r\n    {\r\n\tstatic Browser browser = new Browser();\r\n\tHighlightElement highlight = new HighlightElement();\r\n\tstatic WebDriver driver;\r\n\tstatic String user = &quot;UserName&quot;;\r\n\tstatic String pwd = &quot;password&quot;;\r\n\tstatic int userID;\r\n\t\r\n\t/*\r\n\t * Connection Strings:\r\n\t * testDB = &quot;jdbc:jtds:sqlserver:Connection String&quot;\r\n\t * devDB = &quot;jdbc:jtds:sqlserver:Connection String&quot;\r\n\t */\r\n\t\r\n\tpublic static void login_Page(String driverName)\r\n\t{\r\n\t\tdriver = browser.getDriver(driverName);\r\n\t\t\r\n\t\t//navigate to VINCI login page\r\n\t\tdriver.get(&quot;http://URL/vinci_dart_client/dart9/index.html&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t}\r\n\tpublic static void login_Requester(String driverName) throws InterruptedException, SQLException\r\n\t{\r\n\t\t//Change user role to requester\r\n\t\tConnection con = DriverManager.getConnection(&quot;jdbc:jtds:sqlserver:Connection String&quot;);\r\n\t\tPreparedStatement ps1, ps2, ps3;\r\n\t\tps1 = con.prepareStatement(&quot;select id from hib.person where name = ?&quot;);\r\n\t\tps2 = con.prepareStatement(&quot;delete from hib.personrole where personid = ?&quot;);\r\n\t\tps3 = con.prepareStatement(&quot;delete from hib.persongroup where personid = ?&quot;);\r\n\t\t\t\t\r\n\t\tps1.setString(1, user);\r\n\t\t\t\t\r\n\t\tResultSet rs = ps1.executeQuery();\r\n\t\twhile(rs.next())\r\n\t\t{\r\n\t\t\tuserID = rs.getInt(1);\r\n\t\t}\r\n\t\trs.close();\r\n\t\tps1.close();\r\n\t\t\t\t\r\n\t\tps2.setInt(1, userID);\r\n\t\tps3.setInt(1, userID);\r\n\t\t\t\t\r\n\t\tps2.execute();\r\n\t\tps3.execute();\r\n\t\t\r\n\t\tdriver = browser.getDriver(driverName);\r\n\t\t\r\n\t\t//navigate to VINCI login page\r\n\t\tdriver.get(&quot;http://URL&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\t\r\n\t\t//Enter User Name\r\n\t\tWebElement userNameField = driver.findElement(By.id(&quot;username&quot;));\r\n\t\tuserNameField.clear();\r\n\t\tuserNameField.sendKeys(user);\r\n\t\t\r\n\t\t//Enter Password\r\n\t\tWebElement pwdField = driver.findElement(By.id(&quot;pword&quot;));\r\n\t\tpwdField.clear();\r\n\t\tpwdField.sendKeys(pwd);\r\n\t\t\r\n\t\t//Click Login Button\r\n\t\tWebElement loginBtn = driver.findElement(By.xpath(&quot;/html/body/div/div/form/div[4]/div/input&quot;));\r\n\t\tloginBtn.click();\r\n\t\t\r\n\t}\r\n    }\r\n  [1]: https://stackoverflow.com/questions/5610256/file-upload-using-selenium-webdriver-and-java\r\n  [2]: http://i.stack.imgur.com/ZLoan.png\r\n  [3]: http://i.stack.imgur.com/ShqcM.png","title":"File Upload Using Selenium WebDriver and Java on a Mac","body":"<p>I have a web application which I am attempting to automate using Java, TestNG, and Selenium WebDriver. The application navigates through several stages and then the user needs to upload a document. </p>\n\n<p>I have tried the suggestions listed <a href=\"https://stackoverflow.com/questions/5610256/file-upload-using-selenium-webdriver-and-java\">here</a></p>\n\n<p>and have been unable to get it to work. I do not believe that <code>browseBtn.sendKeys(file.getAbsolutePath());</code> is going to work in this case as I am trying to do this on a Mac and there is no cursor for the Browse button.  </p>\n\n<p>Below is my code thus far, just wondering if anyone has been able to successfully do this and how to do it myself (Screenshots of what I am trying to do are below):</p>\n\n<pre><code>    private void documents_UploadDocuments(String driverName) throws SQLException, InterruptedException\n{\n    /*\n     * Upload documents to a request\n     */\n            Login.login_Requester(driverName);\n            WebDriver driver = Login.driver;\n\n            //Click My Requests Tab\n            WebElement myRequestTab = driver.findElement(By.xpath(\"/html/body/div/ul/li[2]/a\"));\n            myRequestTab.click();\n\n            Thread.sleep(1000);\n\n            //Click Create a New Request\n            WebElement createRequestBtn = driver.findElement(By.id(\"submit\"));\n            createRequestBtn.click();\n\n            WebElement officialNameTB = driver.findElement(By.id(\"new-official-name\"));\n            WebElement createRqtBtn = driver.findElement(By.id(\"continue\"));\n            WebElement researchDataAccess = driver.findElement(By.xpath(\"/html/body/div[3]/div[2]/form/div[2]/div/select/optgroup/option\"));\n\n            Thread.sleep(1000);\n\n            officialNameTB.sendKeys(\"TEST_UploadDocuments\");\n            researchDataAccess.click();\n            createRqtBtn.click();\n\n            Thread.sleep(2500);\n\n\n            //Enter an IRB Number\n            WebElement irbNumberTB = driver.findElement(By.id(\"irbNumber\"));\n            irbNumberTB.click();\n            irbNumberTB.sendKeys(\"This is an IRB #\");\n\n            //Enter an IRB Expiration Date\n            WebElement irbExpCP = driver.findElement(By.id(\"irbExpDate\"));\n            irbExpCP.click();\n            LocalDate irbDate = LocalDate.now().plusYears(5);\n            DateTimeFormatter formatter = DateTimeFormat.forPattern(\"MM/dd/yyyy\");\n            String irbDate2 = formatter.print(irbDate);\n            irbExpCP.sendKeys(irbDate2);\n\n            //Enter a Start Date\n            WebElement startDateCP = driver.findElement(By.id(\"startDate\"));\n            startDateCP.click();\n            LocalDate startDate = LocalDate.now();\n            String startDate2 = formatter.print(startDate);\n            startDateCP.sendKeys(startDate2);\n\n            //Enter an End Date\n            WebElement endDateCP = driver.findElement(By.id(\"endDate\"));\n            endDateCP.click();\n            LocalDate endDate = LocalDate.now().plusYears(10);\n            String endDate2 = formatter.print(endDate);\n            endDateCP.sendKeys(endDate2);\n\n            //Click Next Button\n            WebElement nextBtn = driver.findElement(By.xpath(\"/html/body/div/div/div[2]/ul[2]/li[2]/button\"));\n            nextBtn.click();\n\n            Thread.sleep(1000);\n\n            //Click Find Participant button\n            WebElement findPartBtn = driver.findElement(By.id(\"findPeopleButton\"));\n            findPartBtn.click();\n            Thread.sleep(1000);\n\n            //Search for a participant\n            WebElement nameField = driver.findElement(By.id(\"name\"));\n            nameField.click();\n            nameField.clear();\n            String [] namesArray = {\"Salisbury, Curtis J. (FVFT)\", \"Hanson, Shannon H. (FVFT)\", \"Dinerstein, Jared A. (FVFT)\", \"Dinerstein, Sabra A. (FVFT)\", \"Ford, Lee J. (FVFT)\"};\n            String names = PickRand.get(namesArray);\n            nameField.sendKeys(names);\n\n            //Find Now Button\n            WebElement findBtn = driver.findElement(By.id(\"findNow\"));\n            findBtn.click();\n\n            //Choose the Participant\n            WebElement fullName = driver.findElement(By.id(\"fullName\"));\n            fullName.click();\n\n            //Choose a location\n            String location = PickRand.get(locations.getLocationArray());\n            WebElement locationChooser = driver.findElement(By.xpath(\"/html/body/div/div/div[2]/div/div[2]/div[2]/div/table/tbody/tr[2]/td[3]/div/label/div/a/div/b\"));\n            locationChooser.click();\n            WebElement locationSrch = driver.findElement(By.xpath(\"/html/body/div/div/div[2]/div/div[2]/div[2]/div/table/tbody/tr[2]/td[3]/div/label/div/div/div/input\"));\n            locationSrch.clear();\n            locationSrch.sendKeys(location);\n            locationSrch.sendKeys(Keys.RETURN);\n            Thread.sleep(500);\n            WebElement addBtn = driver.findElement(By.xpath(\"/html/body/div/div/div[2]/div/div[2]/div[2]/div/table/tbody/tr[2]/td[6]/button\"));\n            addBtn.click();\n            Thread.sleep(500);\n\n            nextBtn.click();\n            Thread.sleep(500);\n\n            //Click RealSSN Identifier\n            WebElement realSSNIdentifier = driver.findElement(By.id(\"realSSNIdentifier\"));\n            realSSNIdentifier.click();\n\n            //Click CDW Production Domains Data Source\n            WebElement cdwProdDomainsCheck = driver.findElement(By.id(\"1022\"));\n            cdwProdDomainsCheck.click();\n\n            //Click the HIPAA questions\n            WebElement hipaaConsentYesRdio = driver.findElement(By.id(\"HIPAAAuthorization1\"));\n            WebElement hipaaWaiverYesRdio = driver.findElement(By.id(\"HIPAAWaiver1\"));\n            hipaaConsentYesRdio.click();\n            hipaaWaiverYesRdio.click();\n\n            //Click Next Button\n            nextBtn.click();\n            Thread.sleep(1000);\n\n\n            //Upload Documents\n            WebElement uploadDoc1 = driver.findElement(By.id(\"uploadDocumentLink\"));\n            uploadDoc1.click();\n            Thread.sleep(1000);\n            WebElement browseBtn = driver.findElement(By.xpath(\"id('fileField')\"));\n            File file = null;\n            try\n            {\n                file = new File(Documents_UploadDocuments.class.getClassLoader().getResource(\"/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf\").toURI());\n            }\n            catch(URISyntaxException e)\n            {\n                e.printStackTrace();\n            }\n            browseBtn.sendKeys(file.getAbsolutePath());\n\n}\n</code></pre>\n\n<p>The upload link opens this screen: \n<img src=\"https://i.stack.imgur.com/ZLoan.png\" alt=\"Choose File Modal\"></p>\n\n<p>When I click on the Browse button in that modal it opens this screen:\n<img src=\"https://i.stack.imgur.com/ShqcM.png\" alt=\"File Upload Screen\"></p>\n\n<p>So I attempted to use the <code>Robot</code> class as suggested and it is not actually choosing the file. I need it to choose the file, and then go back to the <code>Upload a Document</code> screen so I can click the <code>Upload</code> button to finish the process. When I run the full test, it just stays on the Mac screen for the File Upload. What am I doing wrong?</p>\n\n<p>Below is what I have for using the <code>Robot</code> class:</p>\n\n<pre><code>//Upload Documents\n            WebElement uploadDoc1 = driver.findElement(By.id(\"uploadDocumentLink\"));\n            uploadDoc1.click();\n            Thread.sleep(1000);\n            WebElement browseBtn = driver.findElement(By.xpath(\"id('fileField')\"));\n            browseBtn.click();\n            Robot r = new Robot();\n            /*\n             * use the Robot class to type out the path of the document\n             * \"/Users/vhaislsalisc/Documents/VINCI_Test_documents/Test_ResReqMemo.pdf\"\n             */\n            r.keyPress(KeyEvent.VK_SLASH); \n            r.keyRelease(KeyEvent.VK_SLASH);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_U);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyRelease(KeyEvent.VK_U);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_R);\n            r.keyRelease(KeyEvent.VK_R);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_SLASH);\n            r.keyRelease(KeyEvent.VK_SLASH);\n            r.keyPress(KeyEvent.VK_V);\n            r.keyRelease(KeyEvent.VK_V);\n            r.keyPress(KeyEvent.VK_H);\n            r.keyRelease(KeyEvent.VK_H);\n            r.keyPress(KeyEvent.VK_A);\n            r.keyRelease(KeyEvent.VK_A);\n            r.keyPress(KeyEvent.VK_I);\n            r.keyRelease(KeyEvent.VK_I);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_L);\n            r.keyRelease(KeyEvent.VK_L);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_A);\n            r.keyRelease(KeyEvent.VK_A);\n            r.keyPress(KeyEvent.VK_L);\n            r.keyRelease(KeyEvent.VK_L);\n            r.keyPress(KeyEvent.VK_I);\n            r.keyRelease(KeyEvent.VK_I);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_C);\n            r.keyRelease(KeyEvent.VK_C);\n            r.keyPress(KeyEvent.VK_SLASH);\n            r.keyRelease(KeyEvent.VK_SLASH);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_D);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyRelease(KeyEvent.VK_D);\n            r.keyPress(KeyEvent.VK_O);\n            r.keyRelease(KeyEvent.VK_O);\n            r.keyPress(KeyEvent.VK_C);\n            r.keyRelease(KeyEvent.VK_C);\n            r.keyPress(KeyEvent.VK_U);\n            r.keyRelease(KeyEvent.VK_U);\n            r.keyPress(KeyEvent.VK_M);\n            r.keyRelease(KeyEvent.VK_M);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_N);\n            r.keyRelease(KeyEvent.VK_N);\n            r.keyPress(KeyEvent.VK_T);\n            r.keyRelease(KeyEvent.VK_T);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_SLASH);\n            r.keyRelease(KeyEvent.VK_SLASH);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_V);\n            r.keyRelease(KeyEvent.VK_V);\n            r.keyPress(KeyEvent.VK_I);\n            r.keyRelease(KeyEvent.VK_I);\n            r.keyPress(KeyEvent.VK_N);\n            r.keyRelease(KeyEvent.VK_N);\n            r.keyPress(KeyEvent.VK_C);\n            r.keyRelease(KeyEvent.VK_C);\n            r.keyPress(KeyEvent.VK_I);\n            r.keyRelease(KeyEvent.VK_I);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_UNDERSCORE);\n            r.keyRelease(KeyEvent.VK_UNDERSCORE);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_T);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyRelease(KeyEvent.VK_T);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_T);\n            r.keyRelease(KeyEvent.VK_T);\n            r.keyPress(KeyEvent.VK_UNDERSCORE);\n            r.keyRelease(KeyEvent.VK_UNDERSCORE);\n            r.keyPress(KeyEvent.VK_D);\n            r.keyRelease(KeyEvent.VK_D);\n            r.keyPress(KeyEvent.VK_O);\n            r.keyRelease(KeyEvent.VK_O);\n            r.keyPress(KeyEvent.VK_C);\n            r.keyRelease(KeyEvent.VK_C);\n            r.keyPress(KeyEvent.VK_U);\n            r.keyRelease(KeyEvent.VK_U);\n            r.keyPress(KeyEvent.VK_M);\n            r.keyRelease(KeyEvent.VK_M);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_N);\n            r.keyRelease(KeyEvent.VK_N);\n            r.keyPress(KeyEvent.VK_T);\n            r.keyRelease(KeyEvent.VK_T);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_SLASH);\n            r.keyRelease(KeyEvent.VK_SLASH);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_T);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyRelease(KeyEvent.VK_T);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_T);\n            r.keyRelease(KeyEvent.VK_T);\n            r.keyPress(KeyEvent.VK_UNDERSCORE);\n            r.keyRelease(KeyEvent.VK_UNDERSCORE);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_R);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyRelease(KeyEvent.VK_R);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_S);\n            r.keyRelease(KeyEvent.VK_S);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_R);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyRelease(KeyEvent.VK_R);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_Q);\n            r.keyRelease(KeyEvent.VK_Q);\n            r.keyPress(KeyEvent.VK_SHIFT);\n            r.keyPress(KeyEvent.VK_M);\n            r.keyRelease(KeyEvent.VK_SHIFT);\n            r.keyRelease(KeyEvent.VK_M);\n            r.keyPress(KeyEvent.VK_E);\n            r.keyRelease(KeyEvent.VK_E);\n            r.keyPress(KeyEvent.VK_M);\n            r.keyRelease(KeyEvent.VK_M);\n            r.keyPress(KeyEvent.VK_O);\n            r.keyRelease(KeyEvent.VK_O);\n            r.keyPress(KeyEvent.VK_PERIOD);\n            r.keyRelease(KeyEvent.VK_PERIOD);\n            r.keyPress(KeyEvent.VK_P);\n            r.keyRelease(KeyEvent.VK_P);\n            r.keyPress(KeyEvent.VK_D);\n            r.keyRelease(KeyEvent.VK_D);\n            r.keyPress(KeyEvent.VK_F);\n            r.keyRelease(KeyEvent.VK_F);\n            r.keyPress(KeyEvent.VK_ENTER);\n            r.keyRelease(KeyEvent.VK_ENTER);\n\n            WebElement uploadBtn = driver.findElement(By.id(\"submit\"));\n            uploadBtn.click();\n</code></pre>\n\n<p>The <code>Login.driver</code> implementation is below:</p>\n\n<pre><code>public class Login \n{\nstatic Browser browser = new Browser();\nHighlightElement highlight = new HighlightElement();\nstatic WebDriver driver;\nstatic String user = \"UserName\";\nstatic String pwd = \"password\";\nstatic int userID;\n\n/*\n * Connection Strings:\n * testDB = \"jdbc:jtds:sqlserver:Connection String\"\n * devDB = \"jdbc:jtds:sqlserver:Connection String\"\n */\n\npublic static void login_Page(String driverName)\n{\n    driver = browser.getDriver(driverName);\n\n    //navigate to VINCI login page\n    driver.get(\"http://URL/vinci_dart_client/dart9/index.html\");\n    driver.manage().window().maximize();\n}\npublic static void login_Requester(String driverName) throws InterruptedException, SQLException\n{\n    //Change user role to requester\n    Connection con = DriverManager.getConnection(\"jdbc:jtds:sqlserver:Connection String\");\n    PreparedStatement ps1, ps2, ps3;\n    ps1 = con.prepareStatement(\"select id from hib.person where name = ?\");\n    ps2 = con.prepareStatement(\"delete from hib.personrole where personid = ?\");\n    ps3 = con.prepareStatement(\"delete from hib.persongroup where personid = ?\");\n\n    ps1.setString(1, user);\n\n    ResultSet rs = ps1.executeQuery();\n    while(rs.next())\n    {\n        userID = rs.getInt(1);\n    }\n    rs.close();\n    ps1.close();\n\n    ps2.setInt(1, userID);\n    ps3.setInt(1, userID);\n\n    ps2.execute();\n    ps3.execute();\n\n    driver = browser.getDriver(driverName);\n\n    //navigate to VINCI login page\n    driver.get(\"http://URL\");\n    driver.manage().window().maximize();\n\n    //Enter User Name\n    WebElement userNameField = driver.findElement(By.id(\"username\"));\n    userNameField.clear();\n    userNameField.sendKeys(user);\n\n    //Enter Password\n    WebElement pwdField = driver.findElement(By.id(\"pword\"));\n    pwdField.clear();\n    pwdField.sendKeys(pwd);\n\n    //Click Login Button\n    WebElement loginBtn = driver.findElement(By.xpath(\"/html/body/div/div/form/div[4]/div/input\"));\n    loginBtn.click();\n\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-cloud"],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675940718,"creation_date":1675940215,"question_id":75397603,"body_markdown":"I have a spring boot (2.5.12) application having spring security oauth2 and spring cloud (2020.0.3). It&#39;s working fine with none forward-headers-strategy. As this application will run behind proxy, framework forward-headers-strategy need to be added. Once it&#39;s added , it&#39;s throwing below stack trace. Framework forward-headers-strategy is interfering with spring cloud stream source binding.\r\n\r\n    \r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;functionBindingRegistrar&#39; defined in\r\n&gt; class path resource\r\n&gt; [org/springframework/cloud/stream/function/FunctionConfiguration.class]:\r\n&gt; Invocation of init method failed; nested exception is\r\n&gt; java.lang.IllegalStateException: Discovered function type does not\r\n&gt; match provided function type. Discovered: interface\r\n&gt; java.util.function.Function; Provided:\r\n&gt; java.util.function.Function&lt;PersonEvent, void&gt;\r\n\r\nThe PersonEvent is the event published downstream. application.yaml looks as below\r\n\r\n    server:\r\n      tomcat:\r\n        use-relative-redirects: true\r\n        remoteip:\r\n          protocol-header-https-value: https\r\n          remote-ip-header: x-forwarded-for\r\n          protocol-header: x-forwarded-proto\r\n          internal-proxies: .*\r\n      forward-headers-strategy: framework\r\n    \r\n    spring:\r\n      application:\r\n        name: person\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n      cloud:\r\n        config:\r\n          enabled: false\r\n        stream:\r\n          bindings:\r\n            processPersonEvent-in-0:\r\n              destination: &lt;some topic&gt;\r\n              binder: solace\r\n          source: processPersonEvent;","title":"Error creating bean with name &#39;functionBindingRegistrar&#39; after adding framework forward-headers-strategy","body":"<p>I have a spring boot (2.5.12) application having spring security oauth2 and spring cloud (2020.0.3). It's working fine with none forward-headers-strategy. As this application will run behind proxy, framework forward-headers-strategy need to be added. Once it's added , it's throwing below stack trace. Framework forward-headers-strategy is interfering with spring cloud stream source binding.</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'functionBindingRegistrar' defined in\nclass path resource\n[org/springframework/cloud/stream/function/FunctionConfiguration.class]:\nInvocation of init method failed; nested exception is\njava.lang.IllegalStateException: Discovered function type does not\nmatch provided function type. Discovered: interface\njava.util.function.Function; Provided:\njava.util.function.Function&lt;PersonEvent, void&gt;</p>\n</blockquote>\n<p>The PersonEvent is the event published downstream. application.yaml looks as below</p>\n<pre><code>server:\n  tomcat:\n    use-relative-redirects: true\n    remoteip:\n      protocol-header-https-value: https\n      remote-ip-header: x-forwarded-for\n      protocol-header: x-forwarded-proto\n      internal-proxies: .*\n  forward-headers-strategy: framework\n\nspring:\n  application:\n    name: person\n  main:\n    allow-bean-definition-overriding: true\n  cloud:\n    config:\n      enabled: false\n    stream:\n      bindings:\n        processPersonEvent-in-0:\n          destination: &lt;some topic&gt;\n          binder: solace\n      source: processPersonEvent;\n</code></pre>\n"},{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1675905414,"post_id":75393258,"comment_id":133030588,"body_markdown":"What type are these statuses represented as? Do you have an enum? Or are they just strings? Or named integer constants?","body":"What type are these statuses represented as? Do you have an enum? Or are they just strings? Or named integer constants?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675905542,"post_id":75393258,"comment_id":133030600,"body_markdown":"You’re describing a state machine; there are a ton of ways this can be implemented.","body":"You’re describing a state machine; there are a ton of ways this can be implemented."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675906929,"post_id":75393258,"comment_id":133030787,"body_markdown":"If the minimum complexity of achieving one thing is N, then no matter what method you use, it will not make its complexity less than N, just make it look more elegant, such as applying some design patterns, which may be better maintained later \n.","body":"If the minimum complexity of achieving one thing is N, then no matter what method you use, it will not make its complexity less than N, just make it look more elegant, such as applying some design patterns, which may be better maintained later  ."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675907123,"post_id":75393258,"comment_id":133030812,"body_markdown":"For example, if you want to eat in the morning, your request is that if there is milk, then you must eat bread. If there is a glass of milk on the table, then 1. You need to make a bread 2. Tell your mother that if there is milk, I will eat bread, no matter where \nIn this way, you can’t escape making bread, but you just add an object “Mom” and entrust the bread making to “Dear Mom”, so you, as the main body eating breakfast, will save you trouble","body":"For example, if you want to eat in the morning, your request is that if there is milk, then you must eat bread. If there is a glass of milk on the table, then 1. You need to make a bread 2. Tell your mother that if there is milk, I will eat bread, no matter where  In this way, you can’t escape making bread, but you just add an object “Mom” and entrust the bread making to “Dear Mom”, so you, as the main body eating breakfast, will save you trouble"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":1,"creation_date":1675907297,"post_id":75393258,"comment_id":133030829,"body_markdown":"Back to your question, you can completely extract the code for judging the state, because there may be new states in the future. At that time, if a new state is added, there is no need to change the main process, just focus on the code for managing the state \n. \nBut in this case, you still need if else to achieve this (you can&#39;t reduce its complexity).","body":"Back to your question, you can completely extract the code for judging the state, because there may be new states in the future. At that time, if a new state is added, there is no need to change the main process, just focus on the code for managing the state  .  But in this case, you still need if else to achieve this (you can&#39;t reduce its complexity)."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675907923,"post_id":75393258,"comment_id":133030911,"body_markdown":"@Dexygen I answered his question &quot;This can be done with a bunch of IF conditions but is there a better way to do it?&quot; My suggestion is to separate the state processing code from the main body, and I explained that in the end, these still have to be judged by if else. Maybe you can write some fancy algorithms, and then encapsulate them into a method, which can be judged by direct calling. \nBut in the end that algorithm may need more if else","body":"@Dexygen I answered his question &quot;This can be done with a bunch of IF conditions but is there a better way to do it?&quot; My suggestion is to separate the state processing code from the main body, and I explained that in the end, these still have to be judged by if else. Maybe you can write some fancy algorithms, and then encapsulate them into a method, which can be judged by direct calling.  But in the end that algorithm may need more if else"},{"owner":{"account_id":4860187,"reputation":333,"user_id":3920066,"accept_rate":57,"display_name":"Sauchin"},"score":0,"creation_date":1675909281,"post_id":75393258,"comment_id":133031098,"body_markdown":"A bunch of IF/ELSE is definitely an option but the number of conditions that will be needed will be too many for any readable code.","body":"A bunch of IF/ELSE is definitely an option but the number of conditions that will be needed will be too many for any readable code."}],"answers":[{"comments":[{"owner":{"account_id":4860187,"reputation":333,"user_id":3920066,"accept_rate":57,"display_name":"Sauchin"},"score":0,"creation_date":1675912863,"post_id":75393643,"comment_id":133031534,"body_markdown":"ordinal is a good way. This works really well for my use case. Thanks for your help :)","body":"ordinal is a good way. This works really well for my use case. Thanks for your help :)"}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1675910053,"creation_date":1675910053,"answer_id":75393643,"question_id":75393258,"body_markdown":"This is quite straightforward if you use [`ordinal()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html#ordinal()):\r\n\r\n```\r\npublic enum Status {\r\n    CREATED, PROCESSED, UPDATED_STAGE1, UPDATED_STAGE2, UPDATED_STAGE3, UPDATED_STAGE4;\r\n\r\n    public boolean isBefore(Status other) {\r\n        return this.ordinal() &lt; other.ordinal();\r\n    }\r\n}\r\n```","title":"A Better way to check if the new value is logically predecessor to the current value","body":"<p>This is quite straightforward if you use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html#ordinal()\" rel=\"nofollow noreferrer\"><code>ordinal()</code></a>:</p>\n<pre><code>public enum Status {\n    CREATED, PROCESSED, UPDATED_STAGE1, UPDATED_STAGE2, UPDATED_STAGE3, UPDATED_STAGE4;\n\n    public boolean isBefore(Status other) {\n        return this.ordinal() &lt; other.ordinal();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4860187,"reputation":333,"user_id":3920066,"accept_rate":57,"display_name":"Sauchin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75393643,"answer_count":1,"score":2,"last_activity_date":1675940698,"creation_date":1675905280,"question_id":75393258,"body_markdown":"I have an object that can have a bunch of statuses. A third party also sends an updated status for this object. I need to better way to check if the newly received status is allowed on the target object based on if the current status is logically ahead or not.\r\n\r\nFor example, a `customer` can have a bunch of statutes `(CREATED, PROCESSED, UPDATED_STAGE1, UPDATED_STAGE2, UPDATED_STAGE3, UPDATED_STAGE4)` etc. These statuses are all chronologically next stages for the customer.\r\n\r\nFor example, if the customer is in UPDATED_STAGE2 then it can only have new status as `UPDATED_STAGE3` or `UPDATED_STAGE4`. If the third party sends a status `UPDATED_STAGE1` then it is not allowed.\r\n\r\nHow do I check if the newly received status is chronologically next status only? The status can be any next status. For example, a customer currently in `UPDATED_STAGE2` can receive `UPDATED_STAGE4` directly and that is ok. It can not however receive any status before `UPDATED_STAGE2`.\r\n\r\nThis can be done with a bunch of if conditions but is there a better way to do it?\r\n\r\n    public void setNewCustomerStatus(newStatus) {\r\n      ... logic here that checks, the newStatus is only logically next to the current status.\r\n    }\r\n\r\n**Edit based on the comments:**\r\n1. These statuses are part of the enum\r\n2. Ideally a state machine will maintain this requirement really nicely but the cost of keeping a state machine outperforms the requirement. So trying to find a way that does not involve a state machine.","title":"A Better way to check if the new value is logically predecessor to the current value","body":"<p>I have an object that can have a bunch of statuses. A third party also sends an updated status for this object. I need to better way to check if the newly received status is allowed on the target object based on if the current status is logically ahead or not.</p>\n<p>For example, a <code>customer</code> can have a bunch of statutes <code>(CREATED, PROCESSED, UPDATED_STAGE1, UPDATED_STAGE2, UPDATED_STAGE3, UPDATED_STAGE4)</code> etc. These statuses are all chronologically next stages for the customer.</p>\n<p>For example, if the customer is in UPDATED_STAGE2 then it can only have new status as <code>UPDATED_STAGE3</code> or <code>UPDATED_STAGE4</code>. If the third party sends a status <code>UPDATED_STAGE1</code> then it is not allowed.</p>\n<p>How do I check if the newly received status is chronologically next status only? The status can be any next status. For example, a customer currently in <code>UPDATED_STAGE2</code> can receive <code>UPDATED_STAGE4</code> directly and that is ok. It can not however receive any status before <code>UPDATED_STAGE2</code>.</p>\n<p>This can be done with a bunch of if conditions but is there a better way to do it?</p>\n<pre><code>public void setNewCustomerStatus(newStatus) {\n  ... logic here that checks, the newStatus is only logically next to the current status.\n}\n</code></pre>\n<p><strong>Edit based on the comments:</strong></p>\n<ol>\n<li>These statuses are part of the enum</li>\n<li>Ideally a state machine will maintain this requirement really nicely but the cost of keeping a state machine outperforms the requirement. So trying to find a way that does not involve a state machine.</li>\n</ol>\n"},{"tags":["java","appium","appium-java"],"owner":{"account_id":19937055,"reputation":71,"user_id":14609500,"display_name":"Bhoomiputra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675940582,"creation_date":1675940582,"question_id":75397675,"body_markdown":"After upgrading to \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n          &lt;version&gt;8.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI had to update code as shown below. \r\n    \r\n    public class AppDriver extends TestListener_Error {\r\n        private static final ThreadLocal&lt;AppiumDriver&gt; driverThread = new ThreadLocal&lt;&gt;();\r\n        private static final Logger log = LogManager.getLogger();\r\n    \r\n        public static String getCurrentContext() {\r\n            log.info(&quot;Entering&quot;);\r\n            return ((SupportsContextSwitching) driverThread).getContext();\r\n        }\r\n        public static Set getAllContexts() {\r\n            log.info(&quot;Entering&quot;);\r\n            return ((SupportsContextSwitching) driverThread).getContextHandles();\r\n        }\r\n    }\r\n\r\nThe following error is generated when getCurrentContext() is called. The error occurs for iOS only. When the same code is executed on an Android device, the ClassCastException error is not thrown. What could be the reason? How do I resolve this issue?\r\n\r\n&gt; java.lang.ClassCastException: class java.lang.ThreadLocal cannot be\r\n&gt; cast to class io.appium.java_client.remote.SupportsContextSwitching\r\n&gt; (java.lang.ThreadLocal is in module java.base of loader &#39;bootstrap&#39;;\r\n&gt; io.appium.java_client.remote.SupportsContextSwitching is in unnamed\r\n&gt; module of loader &#39;app&#39;)\r\n\r\n","title":"ClassCastException Error while using SupportsContextSwitching with ThreadLoacal","body":"<p>After upgrading to</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;io.appium&lt;/groupId&gt;\n      &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n      &lt;version&gt;8.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I had to update code as shown below.</p>\n<pre><code>public class AppDriver extends TestListener_Error {\n    private static final ThreadLocal&lt;AppiumDriver&gt; driverThread = new ThreadLocal&lt;&gt;();\n    private static final Logger log = LogManager.getLogger();\n\n    public static String getCurrentContext() {\n        log.info(&quot;Entering&quot;);\n        return ((SupportsContextSwitching) driverThread).getContext();\n    }\n    public static Set getAllContexts() {\n        log.info(&quot;Entering&quot;);\n        return ((SupportsContextSwitching) driverThread).getContextHandles();\n    }\n}\n</code></pre>\n<p>The following error is generated when getCurrentContext() is called. The error occurs for iOS only. When the same code is executed on an Android device, the ClassCastException error is not thrown. What could be the reason? How do I resolve this issue?</p>\n<blockquote>\n<p>java.lang.ClassCastException: class java.lang.ThreadLocal cannot be\ncast to class io.appium.java_client.remote.SupportsContextSwitching\n(java.lang.ThreadLocal is in module java.base of loader 'bootstrap';\nio.appium.java_client.remote.SupportsContextSwitching is in unnamed\nmodule of loader 'app')</p>\n</blockquote>\n"},{"tags":["java","arrays","sorting","multidimensional-array","heap"],"answers":[{"tags":[],"owner":{"account_id":8764366,"reputation":27439,"user_id":6553328,"display_name":"Emma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610161857,"creation_date":1602463127,"answer_id":64310338,"question_id":64101949,"body_markdown":"For solving this problem we can also binary search (a bit more efficient):\r\n\r\n```java\r\npublic class Solution {\r\n    public static final int kthSmallest(final int[][] matrix, final int k) {\r\n        int lo = matrix[0][0];\r\n        int hi = matrix[matrix.length - 1][matrix[0].length - 1] + 1;\r\n\r\n        while (lo &lt; hi) {\r\n            final int mid = lo + (hi - lo) / 2;\r\n            int count = 0;\r\n            int col = matrix[0].length - 1;\r\n\r\n            for (int row = 0; row &lt; matrix.length; ++row) {\r\n                while (col &gt;= 0 &amp;&amp; matrix[row][col] &gt; mid) {\r\n                    col--;\r\n                }\r\n                count += (col + 1);\r\n            }\r\n            if (count &lt; k) {\r\n                lo = mid + 1;\r\n            } else {\r\n                hi = mid;\r\n            }\r\n        }\r\n        return lo;\r\n    }\r\n}\r\n```\r\n","title":"Kth Smallest Element in a Sorted Matrix","body":"<p>For solving this problem we can also binary search (a bit more efficient):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public static final int kthSmallest(final int[][] matrix, final int k) {\n        int lo = matrix[0][0];\n        int hi = matrix[matrix.length - 1][matrix[0].length - 1] + 1;\n\n        while (lo &lt; hi) {\n            final int mid = lo + (hi - lo) / 2;\n            int count = 0;\n            int col = matrix[0].length - 1;\n\n            for (int row = 0; row &lt; matrix.length; ++row) {\n                while (col &gt;= 0 &amp;&amp; matrix[row][col] &gt; mid) {\n                    col--;\n                }\n                count += (col + 1);\n            }\n            if (count &lt; k) {\n                lo = mid + 1;\n            } else {\n                hi = mid;\n            }\n        }\n        return lo;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user14940971"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610152016,"creation_date":1610151321,"answer_id":65638045,"question_id":64101949,"body_markdown":"You can use the [`flatMapToInt`][1] method to iterate over the rows of a 2d array in one stream:\r\n```java\r\npublic static void main(String[] args) {\r\n    int[][] matrix1 = {{1, 5, 9}, {10, 11, 13}, {12, 13, 15}};\r\n    int[][] matrix2 = {{1, 2}, {1, 3}};\r\n\r\n    System.out.println(kthSmallest(matrix1, 8)); // 13\r\n    System.out.println(kthSmallest(matrix2, 1)); // 1\r\n}\r\n```\r\n```java\r\npublic static int kthSmallest(int[][] matrix, int k) {\r\n    return Arrays.stream(matrix)\r\n            .flatMapToInt(Arrays::stream)\r\n            .skip(k - 1)\r\n            .findFirst()\r\n            .getAsInt();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#flatMapToInt(java.util.function.Function)","title":"Kth Smallest Element in a Sorted Matrix","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#flatMapToInt(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMapToInt</code></a> method to iterate over the rows of a 2d array in one stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int[][] matrix1 = {{1, 5, 9}, {10, 11, 13}, {12, 13, 15}};\n    int[][] matrix2 = {{1, 2}, {1, 3}};\n\n    System.out.println(kthSmallest(matrix1, 8)); // 13\n    System.out.println(kthSmallest(matrix2, 1)); // 1\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static int kthSmallest(int[][] matrix, int k) {\n    return Arrays.stream(matrix)\n            .flatMapToInt(Arrays::stream)\n            .skip(k - 1)\n            .findFirst()\n            .getAsInt();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21583275,"reputation":2931,"user_id":15914159,"display_name":"PCM"},"score":1,"creation_date":1635910642,"post_id":69819248,"comment_id":123416102,"body_markdown":"While this code may answer the question, providing additional context regarding *why* and/or *how* this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding <i>why</i> and/or <i>how</i> this code answers the question improves its long-term value."}],"tags":[],"owner":{"account_id":12481370,"reputation":1,"user_id":9086003,"display_name":"Erik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635909162,"creation_date":1635909162,"answer_id":69819248,"question_id":64101949,"body_markdown":"    public static int kthSmallest(int[][] matrix, int k) {\r\n        return Arrays\r\n                .stream(matrix)\r\n                .flatMapToInt(x -&gt; Arrays.stream(x))\r\n                .sorted()\r\n                .skip(k-1)\r\n                .findFirst()\r\n                .getAsInt();\r\n    }","title":"Kth Smallest Element in a Sorted Matrix","body":"<pre><code>public static int kthSmallest(int[][] matrix, int k) {\n    return Arrays\n            .stream(matrix)\n            .flatMapToInt(x -&gt; Arrays.stream(x))\n            .sorted()\n            .skip(k-1)\n            .findFirst()\n            .getAsInt();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675940566,"post_id":75370450,"comment_id":133037607,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75370450/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27723312,"reputation":1,"user_id":21163421,"display_name":"Lanke"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675940562,"creation_date":1675757232,"answer_id":75370450,"question_id":64101949,"body_markdown":"```\r\npublic static int kthSmallestNumber(int[][] matrix, int k) {\r\n\t\t\r\n\t\treturn Arrays.stream(matrix).flatMapToInt(x-&gt;Arrays.stream(x))\r\n\t\t\t\t.distinct()\r\n\t\t\t\t.sorted()\r\n\t\t\t\t.skip(k-1)\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.getAsInt();\r\n\t\t\r\n\t}\r\n```","title":"Kth Smallest Element in a Sorted Matrix","body":"<pre><code>public static int kthSmallestNumber(int[][] matrix, int k) {\n        \n        return Arrays.stream(matrix).flatMapToInt(x-&gt;Arrays.stream(x))\n                .distinct()\n                .sorted()\n                .skip(k-1)\n                .findFirst()\n                .getAsInt();\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":14428029,"reputation":37,"user_id":11178048,"display_name":"Av&#233;-Maria Nlandou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1675940562,"creation_date":1601295117,"question_id":64101949,"body_markdown":"So I am working on a Leetcode question and my code works for some cases but fails for certain cases. \r\n\r\nHere is the question:\r\n\r\n&gt; Given a `n x n` matrix where each of the rows and columns are sorted in ascending order, find the kth smallest element in the matrix.\r\n&gt; \r\n&gt; Note that it is the kth smallest element in the sorted order, not the kth distinct element.\r\n&gt; \r\n&gt; Example:\r\n&gt; ```\r\n&gt; matrix = [[1, 5, 9], [10, 11, 13], [12, 13, 15]]\r\n&gt; k = 8\r\n&gt; ```\r\n&gt; return: 13\r\n\r\nMy approach is to use a minHeap, even if it stated that the array is sorted I still needed to make sure that I have it sorted from least to greatest value. \r\n\r\nHere is my code: \r\n\r\n```java\r\nclass Solution {\r\n    public int kthSmallest(int[][] matrix, int k) {\r\n        int row = matrix.length;\r\n        int col = matrix[0].length;\r\n        int result = 0;\r\n\r\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        //populate HashMap \r\n        for (int i = 0; i &lt; row; i++) {\r\n            for (int j = 0; j &lt; col; j++) {\r\n                map.put(matrix[i][j],\r\n                        map.getOrDefault(matrix[i][j], 0) + 1);\r\n            }\r\n        }\r\n\r\n        PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq =\r\n                new PriorityQueue&lt;&gt;((n1, n2) -&gt; n1.getValue() - n2.getValue());\r\n\r\n        pq.addAll(map.entrySet());\r\n\r\n        for (int i = 0; i &lt; k &amp;&amp; !(pq.isEmpty()); i++) {\r\n            result = pq.poll().getKey();\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nHere are my inputs:\r\n```\r\nInput 1: [[1,5,9],[10,11,13],[12,13,15]] \r\nk = 8 \r\n\r\nInput 2: [[1,2],[1,3]] \r\nk = 1 \r\n```\r\nHere are the outputs:\r\n```\r\nOutput 1: 13\r\nOutput 2: 2\r\n```\r\nNotice that the code works just fine for my first input where the 8th smallest element in the 2d-array is 13, but for the second input, the code is returning 2 as my first smallest element rather than returning 1. \r\n\r\nCan someone please help me fix the code? I ask that you please not implement some fancy shorthand sorting technique e.g. Arrays.sort... it&#39;s not ideal for me as I am trying to learn how to implement heaps. Thanks a bunch :) ","title":"Kth Smallest Element in a Sorted Matrix","body":"<p>So I am working on a Leetcode question and my code works for some cases but fails for certain cases.</p>\n<p>Here is the question:</p>\n<blockquote>\n<p>Given a <code>n x n</code> matrix where each of the rows and columns are sorted in ascending order, find the kth smallest element in the matrix.</p>\n<p>Note that it is the kth smallest element in the sorted order, not the kth distinct element.</p>\n<p>Example:</p>\n<pre><code>matrix = [[1, 5, 9], [10, 11, 13], [12, 13, 15]]\nk = 8\n</code></pre>\n<p>return: 13</p>\n</blockquote>\n<p>My approach is to use a minHeap, even if it stated that the array is sorted I still needed to make sure that I have it sorted from least to greatest value.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public int kthSmallest(int[][] matrix, int k) {\n        int row = matrix.length;\n        int col = matrix[0].length;\n        int result = 0;\n\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        //populate HashMap \n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                map.put(matrix[i][j],\n                        map.getOrDefault(matrix[i][j], 0) + 1);\n            }\n        }\n\n        PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; pq =\n                new PriorityQueue&lt;&gt;((n1, n2) -&gt; n1.getValue() - n2.getValue());\n\n        pq.addAll(map.entrySet());\n\n        for (int i = 0; i &lt; k &amp;&amp; !(pq.isEmpty()); i++) {\n            result = pq.poll().getKey();\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<p>Here are my inputs:</p>\n<pre><code>Input 1: [[1,5,9],[10,11,13],[12,13,15]] \nk = 8 \n\nInput 2: [[1,2],[1,3]] \nk = 1 \n</code></pre>\n<p>Here are the outputs:</p>\n<pre><code>Output 1: 13\nOutput 2: 2\n</code></pre>\n<p>Notice that the code works just fine for my first input where the 8th smallest element in the 2d-array is 13, but for the second input, the code is returning 2 as my first smallest element rather than returning 1.</p>\n<p>Can someone please help me fix the code? I ask that you please not implement some fancy shorthand sorting technique e.g. Arrays.sort... it's not ideal for me as I am trying to learn how to implement heaps. Thanks a bunch :)</p>\n"},{"tags":["java","android","kotlin","admob","banner"],"comments":[{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1675938234,"post_id":75396897,"comment_id":133036884,"body_markdown":"https://stackoverflow.com/a/39816198/7874746","body":"<a href=\"https://stackoverflow.com/a/39816198/7874746\">stackoverflow.com/a/39816198/7874746</a>"}],"answers":[{"tags":[],"owner":{"account_id":23179513,"reputation":220,"user_id":17277520,"display_name":"Tombstone"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675940477,"creation_date":1675940477,"answer_id":75397656,"question_id":75396897,"body_markdown":"Add this to your **manifest**\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\nAnd also this\r\n\r\n    &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot; /&gt;","title":"Test Banner Ad doesn&#39;t show","body":"<p>Add this to your <strong>manifest</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>And also this</p>\n<pre><code>&lt;meta-data\n        android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n        android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":25828873,"reputation":35,"user_id":19566445,"display_name":"josephyumss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75397656,"answer_count":1,"score":0,"last_activity_date":1675940477,"creation_date":1675936503,"question_id":75396897,"body_markdown":"I&#39;m trying to load a banner Ad just for practice. But the ad doesn&#39;t show up.\r\n\r\n-xml code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;com.google.android.gms.ads.AdView\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    \r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\nI filled the ads:adUnitId with the test banner unit Id from [here][1]\r\n\r\n-MainActivity.java\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import com.google.android.gms.ads.AdRequest;\r\n    import com.google.android.gms.ads.AdView;\r\n    import com.google.android.gms.ads.MobileAds;\r\n    import com.google.android.gms.ads.RequestConfiguration;\r\n    import com.google.android.gms.ads.initialization.InitializationStatus;\r\n    import com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import static com.google.android.gms.ads.MobileAds.initialize;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private AdView mAdView;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(@NonNull @org.jetbrains.annotations.NotNull InitializationStatus initializationStatus) {\r\n    \r\n                }\r\n            });\r\n            \r\n            /*\r\n            List&lt;String&gt; testDeviceIds = Arrays.asList(&quot;&quot;)\r\n            RequestConfiguration configuration = new RequestConfiguration.Builder().setTestDeviceIds(testDeviceIds).build();\r\n            MobileAds.setRequestConfiguration(configuration);*/\r\n            \r\n            mAdView = findViewById(R.id.adView);\r\n            AdRequest adRequest = new AdRequest.Builder()\r\n                    .build();\r\n            mAdView.loadAd(adRequest);\r\n        }\r\n    }\r\n\r\nThe annotated part is one solution I found from google but I couldn&#39;t get the message like below so I couldn&#39;t fill it.\r\n\r\n    I/Ads: Use RequestConfiguration.Builder.setTestDeviceIds(Arrays.asList(&quot;33BE2250B43518CCDA7DE426D04EE231&quot;))\r\n    to get test ads on this device.&quot;\r\n\r\n-build.gradle(:app)\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.***&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    }\r\n    \r\n    dependencies {\r\n\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n    implementation &#39;org.jetbrains:annotations:15.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n-build.gradle(:project)\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:4.2.1&quot;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter() // Warning: this repository is going to shut down soon\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n-Manifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;***&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.***&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n                android:value=&quot;***&quot;/&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nI filled the android:value=&quot;***&quot; with the app id which I made at AdMob.\r\n\r\nThere is no error in running app, but the Ad doesn&#39;t show up. At logcat I get a message below\r\n\r\n    I/Ads: Ad failed to load : 0\r\n\r\nAlso I get an error below\r\n\r\n    E/DynamiteModule: Failed to load IDynamiteLoader from GmsCore: Application package com.google.android.gms not found\r\n\r\nHow should I solve this problem? Sorry for duplicated or unnecessary codes.\r\n\r\n  [1]: https://developers.google.com/admob/android/test-ads?hl=ko","title":"Test Banner Ad doesn&#39;t show","body":"<p>I'm trying to load a banner Ad just for practice. But the ad doesn't show up.</p>\n<p>-xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        android:id=&quot;@+id/adView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n        android:layout_alignParentBottom=&quot;true&quot;\n        ads:adSize=&quot;BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I filled the ads:adUnitId with the test banner unit Id from <a href=\"https://developers.google.com/admob/android/test-ads?hl=ko\" rel=\"nofollow noreferrer\">here</a></p>\n<p>-MainActivity.java</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.RequestConfiguration;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\nimport java.util.Arrays;\nimport java.util.List;\nimport static com.google.android.gms.ads.MobileAds.initialize;\n\npublic class MainActivity extends AppCompatActivity {\n    private AdView mAdView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(@NonNull @org.jetbrains.annotations.NotNull InitializationStatus initializationStatus) {\n\n            }\n        });\n        \n        /*\n        List&lt;String&gt; testDeviceIds = Arrays.asList(&quot;&quot;)\n        RequestConfiguration configuration = new RequestConfiguration.Builder().setTestDeviceIds(testDeviceIds).build();\n        MobileAds.setRequestConfiguration(configuration);*/\n        \n        mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder()\n                .build();\n        mAdView.loadAd(adRequest);\n    }\n}\n</code></pre>\n<p>The annotated part is one solution I found from google but I couldn't get the message like below so I couldn't fill it.</p>\n<pre><code>I/Ads: Use RequestConfiguration.Builder.setTestDeviceIds(Arrays.asList(&quot;33BE2250B43518CCDA7DE426D04EE231&quot;))\nto get test ads on this device.&quot;\n</code></pre>\n<p>-build.gradle(:app)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n\ndefaultConfig {\n    applicationId &quot;com.***&quot;\n    minSdkVersion 19\n    targetSdkVersion 31\n    versionCode 1\n    versionName &quot;1.0&quot;\n    multiDexEnabled true\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n\ndependencies {\n\nimplementation 'androidx.multidex:multidex:2.0.1'\nimplementation 'androidx.appcompat:appcompat:1.4.0'\nimplementation 'com.google.android.material:material:1.6.1'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'com.google.android.gms:play-services-ads:21.5.0'\nimplementation 'org.jetbrains:annotations:15.0'\ntestImplementation 'junit:junit:4.+'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>-build.gradle(:project)</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.2.1&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>-Manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;***&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.***&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;***&quot;/&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I filled the android:value=&quot;***&quot; with the app id which I made at AdMob.</p>\n<p>There is no error in running app, but the Ad doesn't show up. At logcat I get a message below</p>\n<pre><code>I/Ads: Ad failed to load : 0\n</code></pre>\n<p>Also I get an error below</p>\n<pre><code>E/DynamiteModule: Failed to load IDynamiteLoader from GmsCore: Application package com.google.android.gms not found\n</code></pre>\n<p>How should I solve this problem? Sorry for duplicated or unnecessary codes.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675924120,"post_id":75393148,"comment_id":133033139,"body_markdown":"Best is to make a full working example on github or alike...","body":"Best is to make a full working example on github or alike..."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1675961380,"post_id":75393148,"comment_id":133044862,"body_markdown":"Hmph. I&#39;m perplexed by the result from this. It&#39;s not so much the example that is perplexing. I put that together quickly, but it doesn&#39;t demonstrate the problem. What is perplexing is that I went back to my original project and generated the effective pom again, and now this is not happening. It&#39;s using the child configuration as expected. Curiously, the &quot;Effective POM&quot; display in Eclipse actually took several seconds to display this time, whereas yesterday it was appearing immediately. Hopefully I won&#39;t have odd things like this happen again.","body":"Hmph. I&#39;m perplexed by the result from this. It&#39;s not so much the example that is perplexing. I put that together quickly, but it doesn&#39;t demonstrate the problem. What is perplexing is that I went back to my original project and generated the effective pom again, and now this is not happening. It&#39;s using the child configuration as expected. Curiously, the &quot;Effective POM&quot; display in Eclipse actually took several seconds to display this time, whereas yesterday it was appearing immediately. Hopefully I won&#39;t have odd things like this happen again."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1675967036,"post_id":75393148,"comment_id":133046728,"body_markdown":"Ah, I see where I got confused.  The plugin definition appears twice, one in pluginManagement, and once in plugins. When I searched from the top, I found the one in pluginManagement.  The first one is just a copy of the same plugin from the parent, but the second one, in plugins, is where merging takes place. The second one looks as I expect.","body":"Ah, I see where I got confused.  The plugin definition appears twice, one in pluginManagement, and once in plugins. When I searched from the top, I found the one in pluginManagement.  The first one is just a copy of the same plugin from the parent, but the second one, in plugins, is where merging takes place. The second one looks as I expect."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676014847,"post_id":75393148,"comment_id":133055475,"body_markdown":"My impression on such a configuration is there is fundamentally something wrong because you are targeting the output into a different module via `&lt;outputDirectory&gt;../target..&lt;/outputDirectory&gt;` better would be to merge goal and maybe a separate module for things like that... If you can make an example project on Github I could take a deeper look and make PR&#39;s help here...","body":"My impression on such a configuration is there is fundamentally something wrong because you are targeting the output into a different module via <code>&lt;outputDirectory&gt;..&#47;target..&lt;&#47;outputDirectory&gt;</code> better would be to merge goal and maybe a separate module for things like that... If you can make an example project on Github I could take a deeper look and make PR&#39;s help here..."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1676055405,"post_id":75393148,"comment_id":133067505,"body_markdown":"I&#39;m not sure what you mean by that. Those &quot;outputDirectory&quot; values are all elided. They all begin with &quot;${project.build.directory}&quot;. They don&#39;t go to different modules.  I already determined that there was no error here. My &quot;Ah&quot; comment states this. I should delete the question, but I imagine other people might make the same mistake at some point.","body":"I&#39;m not sure what you mean by that. Those &quot;outputDirectory&quot; values are all elided. They all begin with &quot;${project.build.directory}&quot;. They don&#39;t go to different modules.  I already determined that there was no error here. My &quot;Ah&quot; comment states this. I should delete the question, but I imagine other people might make the same mistake at some point."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676193731,"post_id":75393148,"comment_id":133085067,"body_markdown":"Can you please make a full example on github oralike ... we can take a deepeer look...","body":"Can you please make a full example on github oralike ... we can take a deepeer look..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675940139,"creation_date":1675940139,"answer_id":75397593,"question_id":75393148,"body_markdown":"I cannot say what went wrong in configuration hell.\r\n\r\nWhat I can say is that you are usually better off by defining the configuration in the parent using properties (like `${some.prop}`) and then overriding the properties in the child (`&lt;properties&gt;&lt;some.prop&gt;C:\\mydir&lt;/some.prop&gt;&lt;/properties&gt;`).","title":"Maven plugin in child inherited from parent ignores configuration block in child","body":"<p>I cannot say what went wrong in configuration hell.</p>\n<p>What I can say is that you are usually better off by defining the configuration in the parent using properties (like <code>${some.prop}</code>) and then overriding the properties in the child (<code>&lt;properties&gt;&lt;some.prop&gt;C:\\mydir&lt;/some.prop&gt;&lt;/properties&gt;</code>).</p>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675940139,"creation_date":1675903721,"question_id":75393148,"body_markdown":"I maintain a large number of child Maven poms that inherit from a parent pom, but presently only define dependencies to inherit.  I&#39;m now working on implementing plugin inheritance.  In one of my services, I&#39;m just stepping through the plugins, copying the block to my parent pom and just having the child just specify the `groupId` and `artifactId`.  In the effective pom, it correctly gets the inherited plugin version.  Up to now, all the required configuration has been defined in the parent.  I&#39;m now working on one where the child defines a `configuration` block.  In this case the parent doesn&#39;t even define a `configuration` block, but it does define several `executions`, which appear to be inherited correctly.\r\n\r\nWhat I see in the effective pom is that the `configuration` block is always taken from the parent pom.  The child pom `configuration` block is ignored.  Initially, the parent pom had an empty `configuration` block, and the resulting block in the child was also empty, ignoring what was in the child pom.  I then added some dummy configuration to the parent, and that was echoed in the child, again ignoring the child pom.\r\n\r\nI thought the default was &quot;child overrides&quot;, but it doesn&#39;t seem to be working that way.\r\n\r\nI tried temporarily removing the plugin definition from the parent, and that fixes the child, using the configuration block in the child pom.\r\n\r\nI&#39;m using Maven 3.8.2.  The plugin I&#39;m working on right now is `jacoco-maven-plugin`, but I imagine that&#39;s irrelevant.\r\n\r\nThis is the `plugin` block from the parent (inside `pluginManagement`):\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;excludes&gt; &lt;exclude&gt;abc&lt;/exclude&gt; &lt;/excludes&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;pre-unit-test&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt; &lt;goal&gt;prepare-agent&lt;/goal&gt; &lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt; &lt;goal&gt;report&lt;/goal&gt; &lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;pre-integration-test&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt; &lt;goal&gt;prepare-agent&lt;/goal&gt; &lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;destFile&gt;${sonar.jacoco.itReportPath}&lt;/destFile&gt;\r\n\t\t\t\t\t&lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;post-integration-test&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt; &lt;goal&gt;report&lt;/goal&gt; &lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;dataFile&gt;${sonar.jacoco.itReportPath}/&lt;/dataFile&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${jacoco.itPath}&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThis is what is in the child pom.xml:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;{specificpath}&lt;/exclude&gt;\r\n                ...\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nNote that &quot;{specificpath}&quot; is just a placeholder. It has a valid path in the pom.xml.\r\n\r\nThis is what the effective pom ends up as (again, somewhat elided):\r\n\r\n\t&lt;plugin&gt;\r\n\t  &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.8.5&lt;/version&gt;\r\n\t  &lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;abc&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t  &lt;phase&gt;test&lt;/phase&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;outputDirectory&gt;.../target/jacoco_report&lt;/outputDirectory&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;abc&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n\t\t  &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;destFile&gt;${sonar.jacoco.itReportPath}&lt;/destFile&gt;\r\n\t\t\t&lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;abc&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;post-integration-test&lt;/id&gt;\r\n\t\t  &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;dataFile&gt;${sonar.jacoco.itReportPath}/&lt;/dataFile&gt;\r\n\t\t\t&lt;outputDirectory&gt;.../target/jacoco_itReport&lt;/outputDirectory&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;abc&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t  &lt;/executions&gt;\r\n\t  &lt;configuration&gt;\r\n\t\t&lt;excludes&gt;\r\n\t\t  &lt;exclude&gt;abc&lt;/exclude&gt;\r\n\t\t&lt;/excludes&gt;\r\n\t  &lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nYou&#39;ll notice that the overall configuration just has the `abc` exclude from the parent, not the `{specificpath}` from the child.  That `abc` exclusion is also pushed into the `configuration` blocks in each of the `execution` blocks.\r\n\r\nIt seems likely to me that this problem has something to do with the fact that I have `configuration` blocks in each `execution` block, but I don&#39;t know what to do about that.\r\n\r\nIf I temporarily remove the `plugin` definition in the parent, and restore it all to the child pom, this is what I get in the effective pom:\r\n\r\n\t&lt;plugin&gt;\r\n\t  &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.8.8&lt;/version&gt;\r\n\t  &lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;pre-unit-test&lt;/id&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\r\n\t\t\t  ...\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t  &lt;phase&gt;test&lt;/phase&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;outputDirectory&gt;.../target/jacoco_report&lt;/outputDirectory&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\r\n\t\t\t  ...\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;pre-integration-test&lt;/id&gt;\r\n\t\t  &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;destFile&gt;${sonar.jacoco.itReportPath}&lt;/destFile&gt;\r\n\t\t\t&lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\r\n\t\t\t  ...\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t  &lt;id&gt;post-integration-test&lt;/id&gt;\r\n\t\t  &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t  &lt;goals&gt;\r\n\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t  &lt;/goals&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t&lt;dataFile&gt;${sonar.jacoco.itReportPath}/&lt;/dataFile&gt;\r\n\t\t\t&lt;outputDirectory&gt;.../target/jacoco_itReport&lt;/outputDirectory&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\r\n\t\t\t  ...\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t  &lt;/executions&gt;\r\n\t  &lt;configuration&gt;\r\n\t\t&lt;excludes&gt;\r\n\t\t\t  &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\r\n\t\t\t  ...\r\n\t\t&lt;/excludes&gt;\r\n\t  &lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n","title":"Maven plugin in child inherited from parent ignores configuration block in child","body":"<p>I maintain a large number of child Maven poms that inherit from a parent pom, but presently only define dependencies to inherit.  I'm now working on implementing plugin inheritance.  In one of my services, I'm just stepping through the plugins, copying the block to my parent pom and just having the child just specify the <code>groupId</code> and <code>artifactId</code>.  In the effective pom, it correctly gets the inherited plugin version.  Up to now, all the required configuration has been defined in the parent.  I'm now working on one where the child defines a <code>configuration</code> block.  In this case the parent doesn't even define a <code>configuration</code> block, but it does define several <code>executions</code>, which appear to be inherited correctly.</p>\n<p>What I see in the effective pom is that the <code>configuration</code> block is always taken from the parent pom.  The child pom <code>configuration</code> block is ignored.  Initially, the parent pom had an empty <code>configuration</code> block, and the resulting block in the child was also empty, ignoring what was in the child pom.  I then added some dummy configuration to the parent, and that was echoed in the child, again ignoring the child pom.</p>\n<p>I thought the default was &quot;child overrides&quot;, but it doesn't seem to be working that way.</p>\n<p>I tried temporarily removing the plugin definition from the parent, and that fixes the child, using the configuration block in the child pom.</p>\n<p>I'm using Maven 3.8.2.  The plugin I'm working on right now is <code>jacoco-maven-plugin</code>, but I imagine that's irrelevant.</p>\n<p>This is the <code>plugin</code> block from the parent (inside <code>pluginManagement</code>):</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt; &lt;exclude&gt;abc&lt;/exclude&gt; &lt;/excludes&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pre-unit-test&lt;/id&gt;\n            &lt;goals&gt; &lt;goal&gt;prepare-agent&lt;/goal&gt; &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;post-unit-test&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt; &lt;goal&gt;report&lt;/goal&gt; &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt; &lt;goal&gt;prepare-agent&lt;/goal&gt; &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;destFile&gt;${sonar.jacoco.itReportPath}&lt;/destFile&gt;\n                &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;post-integration-test&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt; &lt;goal&gt;report&lt;/goal&gt; &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFile&gt;${sonar.jacoco.itReportPath}/&lt;/dataFile&gt;\n                &lt;outputDirectory&gt;${jacoco.itPath}&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This is what is in the child pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\n            ...\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Note that &quot;{specificpath}&quot; is just a placeholder. It has a valid path in the pom.xml.</p>\n<p>This is what the effective pom ends up as (again, somewhat elided):</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n  &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;0.8.5&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;pre-unit-test&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;abc&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;post-unit-test&lt;/id&gt;\n      &lt;phase&gt;test&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;outputDirectory&gt;.../target/jacoco_report&lt;/outputDirectory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;abc&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;pre-integration-test&lt;/id&gt;\n      &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;destFile&gt;${sonar.jacoco.itReportPath}&lt;/destFile&gt;\n        &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;abc&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;post-integration-test&lt;/id&gt;\n      &lt;phase&gt;post-integration-test&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;dataFile&gt;${sonar.jacoco.itReportPath}/&lt;/dataFile&gt;\n        &lt;outputDirectory&gt;.../target/jacoco_itReport&lt;/outputDirectory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;abc&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n  &lt;configuration&gt;\n    &lt;excludes&gt;\n      &lt;exclude&gt;abc&lt;/exclude&gt;\n    &lt;/excludes&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You'll notice that the overall configuration just has the <code>abc</code> exclude from the parent, not the <code>{specificpath}</code> from the child.  That <code>abc</code> exclusion is also pushed into the <code>configuration</code> blocks in each of the <code>execution</code> blocks.</p>\n<p>It seems likely to me that this problem has something to do with the fact that I have <code>configuration</code> blocks in each <code>execution</code> block, but I don't know what to do about that.</p>\n<p>If I temporarily remove the <code>plugin</code> definition in the parent, and restore it all to the child pom, this is what I get in the effective pom:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n  &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;0.8.8&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;pre-unit-test&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\n          ...\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;post-unit-test&lt;/id&gt;\n      &lt;phase&gt;test&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;outputDirectory&gt;.../target/jacoco_report&lt;/outputDirectory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\n          ...\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;pre-integration-test&lt;/id&gt;\n      &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;destFile&gt;${sonar.jacoco.itReportPath}&lt;/destFile&gt;\n        &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\n          ...\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n    &lt;execution&gt;\n      &lt;id&gt;post-integration-test&lt;/id&gt;\n      &lt;phase&gt;post-integration-test&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;dataFile&gt;${sonar.jacoco.itReportPath}/&lt;/dataFile&gt;\n        &lt;outputDirectory&gt;.../target/jacoco_itReport&lt;/outputDirectory&gt;\n        &lt;excludes&gt;\n          &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\n          ...\n        &lt;/excludes&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n  &lt;configuration&gt;\n    &lt;excludes&gt;\n          &lt;exclude&gt;{specificpath}&lt;/exclude&gt;\n          ...\n    &lt;/excludes&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","logging","log4j2","slf4j","java-11"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670594135,"post_id":74743440,"comment_id":131916035,"body_markdown":"Why do you have both `log4j-slf4j-impl` and `log4j-slf4j18-impl`? My guess is that these have a conflict the `slf4j-api` version they depend on.","body":"Why do you have both <code>log4j-slf4j-impl</code> and <code>log4j-slf4j18-impl</code>? My guess is that these have a conflict the <code>slf4j-api</code> version they depend on."},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":2,"creation_date":1670594371,"post_id":74743440,"comment_id":131916117,"body_markdown":"SLF4J 1.8.x and 2.0.x are incompatible. The abandoned module `log4j-slf4j18-impl` is a binding for SLF4J 1.8.x, the binding for SLF4J 2.0.x is called `log4j-slf4j2-impl`. BTW: if you have `log4j-api` as _compile_ dependency, why don&#39;t you use Log4j2 API directly in your code?","body":"SLF4J 1.8.x and 2.0.x are incompatible. The abandoned module <code>log4j-slf4j18-impl</code> is a binding for SLF4J 1.8.x, the binding for SLF4J 2.0.x is called <code>log4j-slf4j2-impl</code>. BTW: if you have <code>log4j-api</code> as <i>compile</i> dependency, why don&#39;t you use Log4j2 API directly in your code?"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1670594529,"post_id":74743440,"comment_id":131916186,"body_markdown":"Does this answer your question? [Exception with Slf4j with log4j2 implementation](https://stackoverflow.com/questions/70660379/exception-with-slf4j-with-log4j2-implementation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70660379/exception-with-slf4j-with-log4j2-implementation\">Exception with Slf4j with log4j2 implementation</a>"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1670681230,"post_id":74743440,"comment_id":131931865,"body_markdown":"@Ceki, of course I was talking about incompatibility of SPIs. An SLF4J 1.8.x binding such as `log4j-slf4j18-impl` will not work with SLF4J 2.0.x (and no one expects that). If someone understood my comment as stating that the APIs are incompatible, I apologize. Semantically there is no API breakage between SLF4J 1.x and 2.x.","body":"@Ceki, of course I was talking about incompatibility of SPIs. An SLF4J 1.8.x binding such as <code>log4j-slf4j18-impl</code> will not work with SLF4J 2.0.x (and no one expects that). If someone understood my comment as stating that the APIs are incompatible, I apologize. Semantically there is no API breakage between SLF4J 1.x and 2.x."},{"owner":{"account_id":8027571,"reputation":159,"user_id":6053897,"display_name":"Ras"},"score":0,"creation_date":1701244287,"post_id":74743440,"comment_id":136750156,"body_markdown":"For me, I fixed it by updating the maven to latest version.","body":"For me, I fixed it by updating the maven to latest version."}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675939868,"creation_date":1675939868,"answer_id":75397547,"question_id":74743440,"body_markdown":"Adding only one dependency for slf4j:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"&quot;SLF4J: No SLF4J providers were found&quot; after moving from JDK8 to JDK11","body":"<p>Adding only one dependency for slf4j:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.6.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2087037,"reputation":71,"user_id":1857773,"display_name":"user1857773"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675939868,"creation_date":1670590400,"question_id":74743440,"body_markdown":"After moving from JDK8 to JDK11 I get &quot;SLF4J: No SLF4J providers were found&quot; and not logging.\r\nUsing Maven and IntelliJ.\r\n\r\nOutput:\r\n\r\n    SLF4J: No SLF4J providers were found.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\n\r\n\r\nIn JDK8 I had these in the pom.xml and it all worked very well.\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\nI looking around and followed a tip and added slf4j18-impl but I still have the same problem. This is is how it looks in the pom.xml right now:\r\n\r\n```\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n```\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-slf4j18-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.18.0&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n\r\n```\r\nAnd this kind of code did work in JDK8 but not in JDK11\r\n\r\n```\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class TestOutput {\r\n  private static final Logger LOG = LoggerFactory.getLogger(TestOutput.class);\r\n\r\n  public static void tryToLog() {\r\n      LOG.info(&quot;Hello world!&quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\n```","title":"&quot;SLF4J: No SLF4J providers were found&quot; after moving from JDK8 to JDK11","body":"<p>After moving from JDK8 to JDK11 I get &quot;SLF4J: No SLF4J providers were found&quot; and not logging.\nUsing Maven and IntelliJ.</p>\n<p>Output:</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\n</code></pre>\n<p>In JDK8 I had these in the pom.xml and it all worked very well.</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I looking around and followed a tip and added slf4j18-impl but I still have the same problem. This is is how it looks in the pom.xml right now:</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.19.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j18-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.18.0&lt;/version&gt;\n   &lt;/dependency&gt;\n\n</code></pre>\n<p>And this kind of code did work in JDK8 but not in JDK11</p>\n<pre><code>\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class TestOutput {\n  private static final Logger LOG = LoggerFactory.getLogger(TestOutput.class);\n\n  public static void tryToLog() {\n      LOG.info(&quot;Hello world!&quot;);\n  }\n}\n\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","spring-security-oauth2"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1657401340,"post_id":72923367,"comment_id":128802904,"body_markdown":"Does this answer your question? [EnableAuthorizationServer is working and is not deprecated](https://stackoverflow.com/questions/65590263/enableauthorizationserver-is-working-and-is-not-deprecated)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65590263/enableauthorizationserver-is-working-and-is-not-deprecated\">EnableAuthorizationServer is working and is not deprecated</a>"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1657517824,"post_id":72923367,"comment_id":128819748,"body_markdown":"@Toerktumlare, not actually. I understand I can delegate authorization to third parties like GitHub or okta, I wanted a custom implementation. But the issue is that my compiler complained I shouldn&#39;t have these two beans ```WebSecurityConfigurerAdapter``` and ```SecurityFilterChain```, instead I should choose just one. When I removed ```SecurityFilterChain``` and allowed my ```SecurityConfig``` class extend ```WebSecurityConfigurerAdapter```, the code worked. So the issue is having both beans injected in my project and I wouldn&#39;t want to extend the deprecated ```WebSecurityFilterChain```","body":"@Toerktumlare, not actually. I understand I can delegate authorization to third parties like GitHub or okta, I wanted a custom implementation. But the issue is that my compiler complained I shouldn&#39;t have these two beans <code>WebSecurityConfigurerAdapter</code> and <code>SecurityFilterChain</code>, instead I should choose just one. When I removed <code>SecurityFilterChain</code> and allowed my <code>SecurityConfig</code> class extend <code>WebSecurityConfigurerAdapter</code>, the code worked. So the issue is having both beans injected in my project and I wouldn&#39;t want to extend the deprecated <code>WebSecurityFilterChain</code>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1657528754,"post_id":72923367,"comment_id":128822702,"body_markdown":"Eh? `WebSecurityConfigurerAdapter` is deprecated not `WebSecurityFilterChain` I suggest you post your full logs with the error.","body":"Eh? <code>WebSecurityConfigurerAdapter</code> is deprecated not <code>WebSecurityFilterChain</code> I suggest you post your full logs with the error."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1657549927,"post_id":72923367,"comment_id":128830736,"body_markdown":"Look in the logs, it just says INFO, once again, DEBUG LOGS","body":"Look in the logs, it just says INFO, once again, DEBUG LOGS"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1657557482,"post_id":72923367,"comment_id":128833770,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246353/discussion-between-chinedu-and-toerktumlare).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246353/discussion-between-chinedu-and-toerktumlare\">continue this discussion in chat</a>."},{"owner":{"account_id":387811,"reputation":197,"user_id":746388,"accept_rate":54,"display_name":"charmi"},"score":0,"creation_date":1675942199,"post_id":72923367,"comment_id":133038101,"body_markdown":"Hi @Toerktumlare, We are facing the same problem. Did you get any solution for this? It would be helpful for us. Thank you in advance","body":"Hi @Toerktumlare, We are facing the same problem. Did you get any solution for this? It would be helpful for us. Thank you in advance"}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1675939376,"creation_date":1657387197,"question_id":72923367,"body_markdown":"I discovered the `@EnableAuthorizationServer` annotation declared two imports in its declaration namely `AuthorizationServerSecurityConfiguration.class` etc, which in turn extends the deprecated `WebSecurityConfigurerAdapter`.\r\n\r\nI&#39;ve been trying to implement a custom oauth2 authorization, so I declared a class which has the bean `SecurityFilterChain` and another class annotated with `@EnableAuthorizationServer`. This made my code fail to compile for having both `WebSecurityConfigurerAdapter` and `SecurityFilterChain` beans. \r\n\r\nIs there any replacement for `@EnableAuthorizationServer`?\r\n```\r\n@Configuration\r\n@EnableAuthorizationServer //This annotation declared an import on WebSecurityConfigurerAdapter in its definition. It seems to conflict with the SecurityFilterChain bean I declared in SecurityConfig class.\r\npublic class OAuthServer extends AuthorizationServerConfigurerAdapter{\r\n//Omitted codes\r\n\r\n@Autowired\r\n\tprivate AuthenticationManager authManager; //Bean defined somewhere\r\n\t\r\n\t@Override\r\n\tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) {\r\n\t\t\r\n\t\tendpoints.authenticationManager(authManager);\r\n\t}\r\n   @Override \r\n   public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n\t   \r\n\t   clients.inMemory()\r\n\t           .withClient(&quot;client&quot;)\r\n\t           .secret(&quot;secret&quot;)\r\n\t           .authorizedGrantTypes(&quot;password&quot;, &quot;resfresh_token&quot;)\r\n\t           .scopes(&quot;read&quot;)\r\n\t          .redirectUris(&quot;http://localhost:9090/home&quot;);\t   \r\n   }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig{\r\n//Omitted codes\r\n\r\n@Bean\r\npublic SecurityFilterChain config(HttpSecurity http) throws Exception {\r\n\r\nhttp.formLogin();\r\nreturn http.build();\r\n}\r\n}\r\n```\r\n\r\nstack trace: \r\n```\r\n14:15:41.474 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3e24f044\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.1)\r\n\r\n2022-07-11 14:15:42.799  INFO 7104 --- [  restartedMain] c.e.s.Authserver.AuthServerApplication   : Starting AuthServerApplication using Java 16.0.2 on DESKTOP-164SH78 with PID 7104 (D:\\my-projects\\Auth-server2\\target\\classes started by Chinedu in D:\\my-projects\\Auth-server2)\r\n2022-07-11 14:15:42.815  INFO 7104 --- [  restartedMain] c.e.s.Authserver.AuthServerApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-07-11 14:15:43.184  INFO 7104 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\Chinedu\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-core\\2.3.0.1\\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar\r\n2022-07-11 14:15:43.184  INFO 7104 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\Chinedu\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.3.1\\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar\r\n2022-07-11 14:15:43.185  INFO 7104 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-07-11 14:15:43.186  INFO 7104 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-07-11 14:15:46.143  INFO 7104 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7555e0cb-24d8-3b77-9467-ee10a0e98a84\r\n2022-07-11 14:15:47.446  INFO 7104 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-07-11 14:15:47.474  INFO 7104 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-07-11 14:15:47.475  INFO 7104 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.64]\r\n2022-07-11 14:15:47.742  INFO 7104 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-07-11 14:15:47.743  INFO 7104 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4556 ms\r\n2022-07-11 14:15:48.951  INFO 7104 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1552573e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17433b43, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ed12b1b, org.springframework.security.web.header.HeaderWriterFilter@3a887c8a, org.springframework.security.web.csrf.CsrfFilter@4039479, org.springframework.security.web.authentication.logout.LogoutFilter@2c653d99, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b1bfdf8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@82e86c4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@57995941, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fd663bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60a16550, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64d20304, org.springframework.security.web.session.SessionManagementFilter@af9314c, org.springframework.security.web.access.ExceptionTranslationFilter@65a799cb]\r\n2022-07-11 14:15:49.702  WARN 7104 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\r\n2022-07-11 14:15:49.718  INFO 7104 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-07-11 14:15:49.760  INFO 7104 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-11 14:15:49.831 ERROR 7104 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.example13i.security.Authserver.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\t... 26 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.21.jar:5.3.21]\r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:106) ~[spring-security-config-5.7.2.jar:5.7.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\t... 27 common frames omitted\r\n```\r\n\r\npom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example13i.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Auth-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Auth-server&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n  &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nMy code works if I change the ```SecurityConfig``` class like this:\r\n```\r\n@Configuration\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\r\n\r\n@Override\r\npublic void configure (HttpSecurity http) throws Exception {\r\nhttp.formLogin();\r\n}\r\n} \r\n```\r\nBut the ```WebSecurityConfigurerAdapter``` is already deprecated, so I wouldn&#39;t want to extend it.","title":"Is there any alternative to using @EnableAuthorizationServer?","body":"<p>I discovered the <code>@EnableAuthorizationServer</code> annotation declared two imports in its declaration namely <code>AuthorizationServerSecurityConfiguration.class</code> etc, which in turn extends the deprecated <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>I've been trying to implement a custom oauth2 authorization, so I declared a class which has the bean <code>SecurityFilterChain</code> and another class annotated with <code>@EnableAuthorizationServer</code>. This made my code fail to compile for having both <code>WebSecurityConfigurerAdapter</code> and <code>SecurityFilterChain</code> beans.</p>\n<p>Is there any replacement for <code>@EnableAuthorizationServer</code>?</p>\n<pre><code>@Configuration\n@EnableAuthorizationServer //This annotation declared an import on WebSecurityConfigurerAdapter in its definition. It seems to conflict with the SecurityFilterChain bean I declared in SecurityConfig class.\npublic class OAuthServer extends AuthorizationServerConfigurerAdapter{\n//Omitted codes\n\n@Autowired\n    private AuthenticationManager authManager; //Bean defined somewhere\n    \n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n        \n        endpoints.authenticationManager(authManager);\n    }\n   @Override \n   public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n       \n       clients.inMemory()\n               .withClient(&quot;client&quot;)\n               .secret(&quot;secret&quot;)\n               .authorizedGrantTypes(&quot;password&quot;, &quot;resfresh_token&quot;)\n               .scopes(&quot;read&quot;)\n              .redirectUris(&quot;http://localhost:9090/home&quot;);     \n   }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class SecurityConfig{\n//Omitted codes\n\n@Bean\npublic SecurityFilterChain config(HttpSecurity http) throws Exception {\n\nhttp.formLogin();\nreturn http.build();\n}\n}\n</code></pre>\n<p>stack trace:</p>\n<pre><code>14:15:41.474 [Thread-0] DEBUG org.springframework.boot.devtools.restart.classloader.RestartClassLoader - Created RestartClassLoader org.springframework.boot.devtools.restart.classloader.RestartClassLoader@3e24f044\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.1)\n\n2022-07-11 14:15:42.799  INFO 7104 --- [  restartedMain] c.e.s.Authserver.AuthServerApplication   : Starting AuthServerApplication using Java 16.0.2 on DESKTOP-164SH78 with PID 7104 (D:\\my-projects\\Auth-server2\\target\\classes started by Chinedu in D:\\my-projects\\Auth-server2)\n2022-07-11 14:15:42.815  INFO 7104 --- [  restartedMain] c.e.s.Authserver.AuthServerApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-07-11 14:15:43.184  INFO 7104 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\Chinedu\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-core\\2.3.0.1\\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar\n2022-07-11 14:15:43.184  INFO 7104 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\Chinedu\\.m2\\repository\\com\\sun\\xml\\bind\\jaxb-impl\\2.3.1\\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/Chinedu/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar\n2022-07-11 14:15:43.185  INFO 7104 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-07-11 14:15:43.186  INFO 7104 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-07-11 14:15:46.143  INFO 7104 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7555e0cb-24d8-3b77-9467-ee10a0e98a84\n2022-07-11 14:15:47.446  INFO 7104 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-07-11 14:15:47.474  INFO 7104 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-07-11 14:15:47.475  INFO 7104 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.64]\n2022-07-11 14:15:47.742  INFO 7104 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-07-11 14:15:47.743  INFO 7104 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4556 ms\n2022-07-11 14:15:48.951  INFO 7104 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1552573e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17433b43, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ed12b1b, org.springframework.security.web.header.HeaderWriterFilter@3a887c8a, org.springframework.security.web.csrf.CsrfFilter@4039479, org.springframework.security.web.authentication.logout.LogoutFilter@2c653d99, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b1bfdf8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@82e86c4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@57995941, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fd663bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60a16550, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64d20304, org.springframework.security.web.session.SessionManagementFilter@af9314c, org.springframework.security.web.access.ExceptionTranslationFilter@65a799cb]\n2022-07-11 14:15:49.702  WARN 7104 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\n2022-07-11 14:15:49.718  INFO 7104 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-07-11 14:15:49.760  INFO 7104 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-11 14:15:49.831 ERROR 7104 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.example13i.security.Authserver.AuthServerApplication.main(AuthServerApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 26 common frames omitted\nCaused by: java.lang.IllegalStateException: Found WebSecurityConfigurerAdapter as well as SecurityFilterChain. Please select just one.\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:106) ~[spring-security-config-5.7.2.jar:5.7.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 27 common frames omitted\n</code></pre>\n<p>pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example13i.security&lt;/groupId&gt;\n    &lt;artifactId&gt;Auth-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Auth-server&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n  &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My code works if I change the <code>SecurityConfig</code> class like this:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\n\n@Override\npublic void configure (HttpSecurity http) throws Exception {\nhttp.formLogin();\n}\n} \n</code></pre>\n<p>But the <code>WebSecurityConfigurerAdapter</code> is already deprecated, so I wouldn't want to extend it.</p>\n"},{"tags":["java","sql","spring-boot"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1675938309,"post_id":75397172,"comment_id":133036912,"body_markdown":"Are you using MS SQL Server (or similar)? `TOP` is a product specific functionality.","body":"Are you using MS SQL Server (or similar)? <code>TOP</code> is a product specific functionality."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675938411,"post_id":75397172,"comment_id":133036952,"body_markdown":"SQL - and if I remember correctly JPQL/HQL too - uses the `LIMIT` term, i.e. `SELECT * FROM ... ORDER BY xxx LIMIT 1` to get only the first record.","body":"SQL - and if I remember correctly JPQL/HQL too - uses the <code>LIMIT</code> term, i.e. <code>SELECT * FROM ... ORDER BY xxx LIMIT 1</code> to get only the first record."},{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1675939147,"post_id":75397172,"comment_id":133037162,"body_markdown":"Or mark this query as native query like `@Query(value = &quot;SELECT top 1 * from Job where status = &#39;Success&#39; order by 1 desc&quot;, nativeQuery = true)`","body":"Or mark this query as native query like <code>@Query(value = &quot;SELECT top 1 * from Job where status = &#39;Success&#39; order by 1 desc&quot;, nativeQuery = true)</code>"}],"owner":{"account_id":22204169,"reputation":11,"user_id":16444342,"display_name":"Bhanupriya Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675939226,"creation_date":1675937998,"question_id":75397172,"body_markdown":"  \r\n  I am getting error in below query as\r\n\r\n  \r\n\r\n    @Query(value = &quot;SELECT top 1 * from Job where status = &#39;Success&#39; order by 1 desc&quot;)\r\n    public Job getLastJob();\r\n\r\n &gt;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: top near line 1,\r\n\r\n  I want to select 1st row which has success status order by id desc","title":"How to select one record in sql query in java code?","body":"<p>I am getting error in below query as</p>\n<pre><code>@Query(value = &quot;SELECT top 1 * from Job where status = 'Success' order by 1 desc&quot;)\npublic Job getLastJob();\n</code></pre>\n<blockquote>\n<p>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: top near line 1,</p>\n</blockquote>\n<p>I want to select 1st row which has success status order by id desc</p>\n"},{"tags":["java","flutter","android-studio","java-8"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1617744958,"post_id":66976717,"comment_id":118390542,"body_markdown":"Did you install a JDK, or a JRE?","body":"Did you install a JDK, or a JRE?"},{"owner":{"account_id":4492475,"reputation":1501,"user_id":8273474,"accept_rate":57,"display_name":"Jonathon"},"score":0,"creation_date":1617745027,"post_id":66976717,"comment_id":118390560,"body_markdown":"JDK. I made sure of it. sudo apt-get install openjdk-8-jdk","body":"JDK. I made sure of it. sudo apt-get install openjdk-8-jdk"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1617745230,"post_id":66976717,"comment_id":118390606,"body_markdown":"Did you add it to your path?","body":"Did you add it to your path?"},{"owner":{"account_id":4492475,"reputation":1501,"user_id":8273474,"accept_rate":57,"display_name":"Jonathon"},"score":0,"creation_date":1617745363,"post_id":66976717,"comment_id":118390640,"body_markdown":"I&#39;ll be honest, I have no idea which file I need to add it to. Which file? In the bashrc file?","body":"I&#39;ll be honest, I have no idea which file I need to add it to. Which file? In the bashrc file?"},{"owner":{"account_id":4492475,"reputation":1501,"user_id":8273474,"accept_rate":57,"display_name":"Jonathon"},"score":0,"creation_date":1617745559,"post_id":66976717,"comment_id":118390689,"body_markdown":"Sorry for double post, but i added export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64 in ~/.bashrc","body":"Sorry for double post, but i added export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64 in ~/.bashrc"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1617745740,"post_id":66976717,"comment_id":118390734,"body_markdown":"Go through something like https://medium.com/@rohancbandara/install-openjdk-and-set-java-home-path-in-ubuntu-2ce2bc3a8fb2 first.","body":"Go through something like <a href=\"https://medium.com/@rohancbandara/install-openjdk-and-set-java-home-path-in-ubuntu-2ce2bc3a8fb2\" rel=\"nofollow noreferrer\">medium.com/@rohancbandara/&hellip;</a> first."},{"owner":{"account_id":4492475,"reputation":1501,"user_id":8273474,"accept_rate":57,"display_name":"Jonathon"},"score":0,"creation_date":1617746211,"post_id":66976717,"comment_id":118390885,"body_markdown":"Yup, done that :(","body":"Yup, done that :("},{"owner":{"account_id":12638560,"reputation":956,"user_id":9186913,"display_name":"raj kavadia"},"score":0,"creation_date":1617794639,"post_id":66976717,"comment_id":118404621,"body_markdown":"Install JDK from snap or choco. They will set the environmental variable themselves.","body":"Install JDK from snap or choco. They will set the environmental variable themselves."}],"answers":[{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1617752430,"post_id":66977600,"comment_id":118392347,"body_markdown":"Just adding it to a shell startup script is insufficient, you need it on your *current* path, either by doing it manually, `source`ing the startup script, opening a new terminal, or... restarting if you have the time. Editing a file doesn’t mean you’ve edited your environment :)","body":"Just adding it to a shell startup script is insufficient, you need it on your <i>current</i> path, either by doing it manually, <code>source</code>ing the startup script, opening a new terminal, or... restarting if you have the time. Editing a file doesn’t mean you’ve edited your environment :)"},{"owner":{"account_id":4492475,"reputation":1501,"user_id":8273474,"accept_rate":57,"display_name":"Jonathon"},"score":0,"creation_date":1617826295,"post_id":66977600,"comment_id":118419319,"body_markdown":"Gotcha. I apologize, when it comes to Linux I&#39;m not too familiar with stuff like this. Thanks for your help, Dave!","body":"Gotcha. I apologize, when it comes to Linux I&#39;m not too familiar with stuff like this. Thanks for your help, Dave!"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1617827666,"post_id":66977600,"comment_id":118419799,"body_markdown":"No worries! It&#39;s a process.","body":"No worries! It&#39;s a process."}],"tags":[],"owner":{"account_id":4492475,"reputation":1501,"user_id":8273474,"accept_rate":57,"display_name":"Jonathon"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617750591,"creation_date":1617750591,"answer_id":66977600,"question_id":66976717,"body_markdown":"I kinda think I figured it out, but not entirely sure. I restarted my PC, and now it seems to work. This could be due to 2 reasons:\r\n\r\nThe .bashrc file edit doesn&#39;t work after you added your path until you restart, or:\r\nVisual Studio Code needed a restart, I couldn&#39;t say","title":"Cannot set path for JAVA (Kotlin could not find the required JDK)","body":"<p>I kinda think I figured it out, but not entirely sure. I restarted my PC, and now it seems to work. This could be due to 2 reasons:</p>\n<p>The .bashrc file edit doesn't work after you added your path until you restart, or:\nVisual Studio Code needed a restart, I couldn't say</p>\n"}],"owner":{"account_id":4492475,"reputation":1501,"user_id":8273474,"accept_rate":57,"display_name":"Jonathon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3823,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675939132,"creation_date":1617744687,"question_id":66976717,"body_markdown":"I&#39;ve literally tried everything I can think of. When running **flutter run**, I get:\r\n\r\n    Kotlin could not find the required JDK tools in the Java installation &#39;/usr/lib/jvm/java-8-openjdk-amd64/jre&#39; used by Gradle. Make sure Gradle is running on a JDK, not JRE.\r\n\r\nI&#39;ve tried setting my path in terminal:\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    \r\n**echo $JAVA_HOME** gives me this:\r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64\r\n\r\n\r\nI&#39;ve tried adding it to the end of /etc/environment. I&#39;ve tried to re-install java. Any ideas? I&#39;m banging my head against a wall.\r\n\r\nThanks","title":"Cannot set path for JAVA (Kotlin could not find the required JDK)","body":"<p>I've literally tried everything I can think of. When running <strong>flutter run</strong>, I get:</p>\n<pre><code>Kotlin could not find the required JDK tools in the Java installation '/usr/lib/jvm/java-8-openjdk-amd64/jre' used by Gradle. Make sure Gradle is running on a JDK, not JRE.\n</code></pre>\n<p>I've tried setting my path in terminal:</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n<p><strong>echo $JAVA_HOME</strong> gives me this:</p>\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n<p>I've tried adding it to the end of /etc/environment. I've tried to re-install java. Any ideas? I'm banging my head against a wall.</p>\n<p>Thanks</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"comments":[{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1578555991,"post_id":59656883,"comment_id":105478437,"body_markdown":"is your primary key is `(account, id)`, or `((account,id))`?","body":"is your primary key is <code>(account, id)</code>, or <code>((account,id))</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1574718,"reputation":2054,"user_id":1461499,"accept_rate":81,"display_name":"Alex Tbk"},"score":0,"creation_date":1578644823,"post_id":59676712,"comment_id":105513387,"body_markdown":"Why should a select by partition key do a full table scan? In my opinion it will retrieve only the partitions assigned with this key. Moreover it is additonally known from which node the cluster has to retrive the data.","body":"Why should a select by partition key do a full table scan? In my opinion it will retrieve only the partitions assigned with this key. Moreover it is additonally known from which node the cluster has to retrive the data."}],"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578638962,"creation_date":1578638962,"answer_id":59676712,"question_id":59656883,"body_markdown":"Your code doesn&#39;t appear to match with your schema which is explains why Alex Ott wants to find out what your primary key is.\r\n\r\nIf the table&#39;s primary key is `(account ,id)` then your partition key is `account` and have rows of IDs. If this is the case, your code is effectively doing a full table scan which is very expensive and inefficient. \r\n\r\nIf you post your `DELETE` statement, it will give us a better idea of the table schema. Cheers!","title":"How do I bulk delete rows in Cassandra using the Java driver using partial primary key?","body":"<p>Your code doesn't appear to match with your schema which is explains why Alex Ott wants to find out what your primary key is.</p>\n\n<p>If the table's primary key is <code>(account ,id)</code> then your partition key is <code>account</code> and have rows of IDs. If this is the case, your code is effectively doing a full table scan which is very expensive and inefficient. </p>\n\n<p>If you post your <code>DELETE</code> statement, it will give us a better idea of the table schema. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580377689,"creation_date":1580377689,"answer_id":59983127,"question_id":59656883,"body_markdown":"There are 2 answers here, depending on the structure of the primary key:\r\n\r\n1. if it&#39;s `(account, id)`, then you can delete whole partition using the CQL command `DELETE FROM table WHERE account = ...` - this is most effective way of deleting data, as you generate only one tombstone for whole partition. (Cassandra allow to delete data by primary key, range inside partition, or whole partition).\r\n2. if it&#39;s `((account,id))` (composite partition key), then you need to perform full cluster scan to find all combinations of `account` and `id`, and delete corresponding partitions. The effective performing of the full scan is tricky thing if you have a lot of data, but [you can find code example here][1].   Another possibility is to perform `SELECT DISTINCT account, id FROM table`, and perform filtering on the client side to get only rows for given `account` value.\r\n\r\n\r\n  [1]: https://github.com/alexott/dse-playground/blob/master/driver-1.x/src/main/java/com/datastax/alexott/demos/TokenRangesScan.java","title":"How do I bulk delete rows in Cassandra using the Java driver using partial primary key?","body":"<p>There are 2 answers here, depending on the structure of the primary key:</p>\n\n<ol>\n<li>if it's <code>(account, id)</code>, then you can delete whole partition using the CQL command <code>DELETE FROM table WHERE account = ...</code> - this is most effective way of deleting data, as you generate only one tombstone for whole partition. (Cassandra allow to delete data by primary key, range inside partition, or whole partition).</li>\n<li>if it's <code>((account,id))</code> (composite partition key), then you need to perform full cluster scan to find all combinations of <code>account</code> and <code>id</code>, and delete corresponding partitions. The effective performing of the full scan is tricky thing if you have a lot of data, but <a href=\"https://github.com/alexott/dse-playground/blob/master/driver-1.x/src/main/java/com/datastax/alexott/demos/TokenRangesScan.java\" rel=\"nofollow noreferrer\">you can find code example here</a>.   Another possibility is to perform <code>SELECT DISTINCT account, id FROM table</code>, and perform filtering on the client side to get only rows for given <code>account</code> value.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15608990,"reputation":632,"user_id":11260972,"display_name":"Vladimir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675939111,"creation_date":1675939111,"answer_id":75397388,"question_id":59656883,"body_markdown":"I use Datastax cassandra-java-driver 4.14.x.\r\nThere you can get a Stream of rows, with that an approach could perhaps be:\r\n\r\nDao:\r\n\r\n    @Dao\r\n    public interface ProductDao extends BaseDao&lt;Product&gt; {\r\n\r\n        @Select\r\n        Stream&lt;Product&gt; findProductStreamByAttachmentId(final UUID attachmentId);\r\n    }\r\n    \r\n\r\nService Class:\r\n\r\n    public class DeviceService {\r\n\r\n       public void delete(final Product product) {\r\n           this.productMapper.productDao().delete(product);\r\n       }\r\n\r\n       public void deleteProductByAttachementId(final UUID attachmentId) {\r\n           this.productMapper\r\n           .productDao()\r\n           .findProductStreamByAttachmentId(attachmentId)\r\n           .forEach(this::delete);\r\n       } \r\n    }","title":"How do I bulk delete rows in Cassandra using the Java driver using partial primary key?","body":"<p>I use Datastax cassandra-java-driver 4.14.x.\nThere you can get a Stream of rows, with that an approach could perhaps be:</p>\n<p>Dao:</p>\n<pre><code>@Dao\npublic interface ProductDao extends BaseDao&lt;Product&gt; {\n\n    @Select\n    Stream&lt;Product&gt; findProductStreamByAttachmentId(final UUID attachmentId);\n}\n</code></pre>\n<p>Service Class:</p>\n<pre><code>public class DeviceService {\n\n   public void delete(final Product product) {\n       this.productMapper.productDao().delete(product);\n   }\n\n   public void deleteProductByAttachementId(final UUID attachmentId) {\n       this.productMapper\n       .productDao()\n       .findProductStreamByAttachmentId(attachmentId)\n       .forEach(this::delete);\n   } \n}\n</code></pre>\n"}],"owner":{"account_id":115919,"reputation":43549,"user_id":304151,"accept_rate":81,"display_name":"Mridang Agarwalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1254,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1675939111,"creation_date":1578540849,"question_id":59656883,"body_markdown":"I have a table where the primary key is comprised of an account and an id. I need to use both as the &quot;id&quot; isn&#39;t unique across all accounts.\r\n\r\nIn certain edge cases (not a hot path), we often need to delete all rows associated with an account but in Cassandra, you need to specify all the parts of the primary key to delete rows. In order to get around this, I first read all &quot;ids&quot; for an &quot;account&quot; and then delete it. Some accounts maybe have a couple of million rows and the code I&#39;ve written - while functional - it seems horribly inefficient.\r\n\r\n    public List&lt;MyObject&gt; findAll(String account) {\r\n        final ResultSet result = session.execute(QueryBuilder.select()\r\n                .all()\r\n                .from(TABLE)\r\n                .where(eq(&quot;account&quot;, account)));\r\n    \r\n        return mapper.map(result).all();\r\n    }\r\n    \r\n    @Override\r\n    public void deleteAll(String account) {\r\n        findAll(account).forEachRemaining(object -&gt; delete(account, object.getMyId()));\r\n    }\r\n\r\nWhat would be the correct way to achieve this? My concerns are the following:\r\n\r\n1. The findAll will fetch all the records back to the application server. Is there a way I can do a `DISTINCT` operation to only fetch the &quot;ids&quot;.\r\n2. The delete operations aren&#39;t batched and therefore might not be performant.","title":"How do I bulk delete rows in Cassandra using the Java driver using partial primary key?","body":"<p>I have a table where the primary key is comprised of an account and an id. I need to use both as the \"id\" isn't unique across all accounts.</p>\n\n<p>In certain edge cases (not a hot path), we often need to delete all rows associated with an account but in Cassandra, you need to specify all the parts of the primary key to delete rows. In order to get around this, I first read all \"ids\" for an \"account\" and then delete it. Some accounts maybe have a couple of million rows and the code I've written - while functional - it seems horribly inefficient.</p>\n\n<pre><code>public List&lt;MyObject&gt; findAll(String account) {\n    final ResultSet result = session.execute(QueryBuilder.select()\n            .all()\n            .from(TABLE)\n            .where(eq(\"account\", account)));\n\n    return mapper.map(result).all();\n}\n\n@Override\npublic void deleteAll(String account) {\n    findAll(account).forEachRemaining(object -&gt; delete(account, object.getMyId()));\n}\n</code></pre>\n\n<p>What would be the correct way to achieve this? My concerns are the following:</p>\n\n<ol>\n<li>The findAll will fetch all the records back to the application server. Is there a way I can do a <code>DISTINCT</code> operation to only fetch the \"ids\".</li>\n<li>The delete operations aren't batched and therefore might not be performant.</li>\n</ol>\n"},{"tags":["java","spring-boot","maven","tomcat"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1676048863,"post_id":75397363,"comment_id":133065812,"body_markdown":"yes it is a nice archtype projet idea.","body":"yes it is a nice archtype projet idea."}],"owner":{"account_id":140830,"reputation":539,"user_id":347422,"accept_rate":73,"display_name":"yoda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675938997,"creation_date":1675938997,"question_id":75397363,"body_markdown":"I&#39;m looking to have a Spring Boot archtype where I can specify which embedded server can be attached. Among Tomcat and Undertow I want to have a property to pass the server name and accordingly it would create a structure with correct dependency.\r\n\r\nWhen undertow is passed it should come up with the following POM.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAnd for tomcat it should just have `spring-boot-starter-web` dependency. \r\n\r\nIs this a feasible ask for archtype project for maven? ","title":"Maven archtype with options to provide embedded server","body":"<p>I'm looking to have a Spring Boot archtype where I can specify which embedded server can be attached. Among Tomcat and Undertow I want to have a property to pass the server name and accordingly it would create a structure with correct dependency.</p>\n<p>When undertow is passed it should come up with the following POM.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And for tomcat it should just have <code>spring-boot-starter-web</code> dependency.</p>\n<p>Is this a feasible ask for archtype project for maven?</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675936632,"post_id":75396745,"comment_id":133036375,"body_markdown":"Remove the `hibernate.cfg.xml` and move those properties to an `application.properties` so that Spring Boot can create a datasource and entitymanager. Without those the automatic configuration won&#39;t kick in and you would need to manually create the the hibernate beans. Please **don&#39;t** move the `hibernate.current_session_context_class` as that will break proper tx management with spring.","body":"Remove the <code>hibernate.cfg.xml</code> and move those properties to an <code>application.properties</code> so that Spring Boot can create a datasource and entitymanager. Without those the automatic configuration won&#39;t kick in and you would need to manually create the the hibernate beans. Please <b>don&#39;t</b> move the <code>hibernate.current_session_context_class</code> as that will break proper tx management with spring."},{"owner":{"account_id":27742512,"reputation":1,"user_id":21178691,"display_name":"Cristi 12"},"score":0,"creation_date":1675938008,"post_id":75396745,"comment_id":133036803,"body_markdown":"so i did, but the error persists:\nParameter 0 of constructor in com.test_4.test4.NonWebService required a bean of type &#39;com.test_4.test4.RandomTableREPO&#39; that could not be found.\nThe injection point has the following annotations:\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"so i did, but the error persists: Parameter 0 of constructor in com.test_4.test4.NonWebService required a bean of type &#39;com.test_4.test4.RandomTableREPO&#39; that could not be found. The injection point has the following annotations: \t- @org.springframework.beans.factory.annotation.Autowired(requ&zwnj;&#8203;ired=true)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675939516,"post_id":75396745,"comment_id":133037272,"body_markdown":"Then you are still missing something. Probably a dependency issue (like using SPring Boot but including wrong JPA stuff).","body":"Then you are still missing something. Probably a dependency issue (like using SPring Boot but including wrong JPA stuff)."},{"owner":{"account_id":27742512,"reputation":1,"user_id":21178691,"display_name":"Cristi 12"},"score":0,"creation_date":1675942593,"post_id":75396745,"comment_id":133038220,"body_markdown":"Yes, that seems to have been the problem, now it works.\nThank you for pointing me correctly.","body":"Yes, that seems to have been the problem, now it works. Thank you for pointing me correctly."}],"owner":{"account_id":27742512,"reputation":1,"user_id":21178691,"display_name":"Cristi 12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675938892,"creation_date":1675935708,"question_id":75396745,"body_markdown":"I&#39;m new in spring-boot, and have spring-boot desktop test project with weird names, based on another example. The error given is:\r\n`***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.test_4.test4.NonWebService required a bean of type &#39;com.test_4.test4.RandomTableREPO&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.test_4.test4.RandomTableREPO&#39; in your configuration.`\r\n\r\n\r\n\r\nAnd here are my classes:\r\n`**Test4Application**`\r\n```\r\npackage com.test_4.test4;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Test4Application implements ExecuteI {\r\n\r\n    @Autowired\r\n    private NonWebService service;\r\n\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Test4Application.class, new String[]{&quot;one_arg&quot;, &quot;sec_arg&quot;});\r\n    }\r\n\r\n    @Override\r\n    public void run(String[] args) throws Exception {\r\n        service.save(new String[] {&quot;dummy_str&quot;, &quot;dummy_str&quot;});\r\n    }\r\n}\r\n```\r\n\r\n\r\n`**ExecuteI**`\r\n```\r\npackage com.test_4.test4;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\n\r\npublic interface ExecuteI extends CommandLineRunner {\r\n    void run(String... args) throws Exception;\r\n}\r\n```\r\n\r\n\r\n`**NonWebService**`\r\n```\r\npackage com.test_4.test4;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class NonWebService {\r\n\r\n    private final RandomTableREPO randomTableREPO;\r\n\r\n    @Autowired\r\n    public NonWebService(RandomTableREPO randomTableREPO) {\r\n        this.randomTableREPO = randomTableREPO;\r\n    }\r\n\r\n    public void save(String... dummyArgs) {\r\n        this.randomTableREPO.save(new RandomTableEntity());\r\n        System.out.println(&quot;\\n\\n+++++++++++++++++++++++++++++++++++++&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`**RandomTableREPO**`\r\n```\r\npackage com.test_4.test4;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface RandomTableREPO extends JpaRepository&lt;RandomTableEntity, Integer&gt; {\r\n    \r\n    }\r\n```\r\n\r\n\r\n`**application.properties**`\r\n```\r\nspring.main.web-application-type=none\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/test3\r\nspring.datasource.username=postgres\r\nspring.datasource.password=\r\nspring.jpa.show-sql=true\r\n```\r\n\r\n\r\nhave also RandomTableEntity.class, but i think for the described problem is not neccesary.\r\n\r\nI accessed several links, but I still didn&#39;t find an answer to my error.\r\n\r\nUntil i&#39;ve created and tried to use RandomTableREPO, i reached the save() method in NonWebService.class, but couldn&#39;t insert an object in database... any help from the enlightened minds in spring boot?\r\n\r\nI want to have an object saved in database, using **RandomTableREPO** interface, which extends JpaRepository","title":"Field &lt;repo_interface&gt; in com.&lt;package_name&gt;.&lt;service_class required a bean of type com.&lt;package&gt;.&lt;repository&gt;that could not be found","body":"<p>I'm new in spring-boot, and have spring-boot desktop test project with weird names, based on another example. The error given is:\n`***************************\nAPPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.test_4.test4.NonWebService required a bean of type 'com.test_4.test4.RandomTableREPO' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.test_4.test4.RandomTableREPO' in your configuration.`</p>\n<p>And here are my classes:\n<code>**Test4Application**</code></p>\n<pre><code>package com.test_4.test4;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Test4Application implements ExecuteI {\n\n    @Autowired\n    private NonWebService service;\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Test4Application.class, new String[]{&quot;one_arg&quot;, &quot;sec_arg&quot;});\n    }\n\n    @Override\n    public void run(String[] args) throws Exception {\n        service.save(new String[] {&quot;dummy_str&quot;, &quot;dummy_str&quot;});\n    }\n}\n</code></pre>\n<p><code>**ExecuteI**</code></p>\n<pre><code>package com.test_4.test4;\n\nimport org.springframework.boot.CommandLineRunner;\n\npublic interface ExecuteI extends CommandLineRunner {\n    void run(String... args) throws Exception;\n}\n</code></pre>\n<p><code>**NonWebService**</code></p>\n<pre><code>package com.test_4.test4;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class NonWebService {\n\n    private final RandomTableREPO randomTableREPO;\n\n    @Autowired\n    public NonWebService(RandomTableREPO randomTableREPO) {\n        this.randomTableREPO = randomTableREPO;\n    }\n\n    public void save(String... dummyArgs) {\n        this.randomTableREPO.save(new RandomTableEntity());\n        System.out.println(&quot;\\n\\n+++++++++++++++++++++++++++++++++++++&quot;);\n    }\n}\n</code></pre>\n<p><code>**RandomTableREPO**</code></p>\n<pre><code>package com.test_4.test4;\n\n    import org.springframework.data.jpa.repository.JpaRepository;\n    import org.springframework.stereotype.Repository;\n\n    @Repository\n    public interface RandomTableREPO extends JpaRepository&lt;RandomTableEntity, Integer&gt; {\n    \n    }\n</code></pre>\n<p><code>**application.properties**</code></p>\n<pre><code>spring.main.web-application-type=none\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/test3\nspring.datasource.username=postgres\nspring.datasource.password=\nspring.jpa.show-sql=true\n</code></pre>\n<p>have also RandomTableEntity.class, but i think for the described problem is not neccesary.</p>\n<p>I accessed several links, but I still didn't find an answer to my error.</p>\n<p>Until i've created and tried to use RandomTableREPO, i reached the save() method in NonWebService.class, but couldn't insert an object in database... any help from the enlightened minds in spring boot?</p>\n<p>I want to have an object saved in database, using <strong>RandomTableREPO</strong> interface, which extends JpaRepository</p>\n"},{"tags":["java","pdfbox","digital-signature","x509certificate","certificate-revocation"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675938908,"post_id":75396713,"comment_id":133037094,"body_markdown":"Please share an example PDF signed by your code with and without issue.","body":"Please share an example PDF signed by your code with and without issue."}],"owner":{"account_id":27742433,"reputation":11,"user_id":21178629,"display_name":"Rohit Kumar Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675938512,"creation_date":1675935577,"question_id":75396713,"body_markdown":"&gt; I am working on an application which will do digital signatures on PDF. Every thing is working fine till we are putting the **pdfRevocationInfoArchival(1.2.840.113583.1.1.8)** attribute in CMSSignedData(PKCS#7) as signed attribute. After putting the signature(PKCS#7) the document we are getting and empty signature field in the signed PDF. \r\n\r\nFor Reference: [Empty Signature filed](https://i.stack.imgur.com/UbH1z.jpg)\r\n\r\nWe are getting valid signed document if we are not adding the **pdfRevocationInfoArchival(1.2.840.113583.1.1.8)** attribute in the CMSSignedData(PKCS#7) object.\r\n\r\nFor Reference: [Valid Signature](https://i.stack.imgur.com/vG4XP.jpg)\r\n\r\n**Source code reference:**\r\n**1.** Adding CRLs in ASN1EncodableVector:\r\n\r\n```\r\nprivate static ASN1EncodableVector genPdfInfoArchival(List&lt;X509CRL&gt; crls) {\r\n\r\n\t\tASN1EncodableVector v1 = new ASN1EncodableVector();\r\n\r\n\t\ttry {\r\n\r\n\t\t\t\t\t\t\r\n\t\t\tif (!crls.isEmpty()) {\r\n\t\t\t\tASN1EncodableVector v11 = new ASN1EncodableVector();\r\n\t\t\t\tfor (Iterator&lt;X509CRL&gt; i = crls.iterator(); i.hasNext();) {\r\n\t\t\t\t\tASN1InputStream t = new ASN1InputStream(new ByteArrayInputStream(i.next().getEncoded()));\r\n\t\t\t\t\tv11.add(t.readObject());\r\n\t\t\t\t}\r\n\t\t\t\t// 0 for CRL\r\n\t\t\t\tv1.add(new DERTaggedObject(true, 0, new DERSequence(v11)));\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\r\n\t\t}\r\n\r\n\t\treturn v1;\r\n\t}\r\n```\r\n\r\n**2.** Adding CRL revocation attribute in CMSSignedData as signed attribute\r\n\r\n\r\n```\r\nCMSSignedData cmsSignedData = null;\r\nCMSSignedDataGenerator gen = new CMSSignedDataGenerator();\r\nStore certStore = new JcaCertStore(Arrays.asList(dscCert.getCertChain()));\r\n\r\nASN1EncodableVector signedAttr = new ASN1EncodableVector();\r\nASN1EncodableVector crlVector = genPdfInfoArchival(crlDetails);\r\nAttribute pdfRevocationAttr = new Attribute(new ASN1ObjectIdentifier(ID_ADBE_REVOCATION),   new DERSet (new DERSequence(crlVector)));\r\nsignedAttr.add(pdfRevocationAttr);\r\n\r\nAttribute attrHash = new Attribute(CMSAttributes.messageDigest, new DERSet(new DEROctetString(pdfHash)));\t\t\t\t\r\nsignedAttr.add(attrHash);\r\n\r\n// Adding signed atribute in the CMSSignedData\r\n\r\nContentSigner sha1Signer = new JcaContentSignerBuilder(dscCert.getSigAlgName()) .build(dscCert.getPrivateKey());\r\ngen.addSignerInfoGenerator( new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()) .setSignedAttributeGenerator( new DefaultSignedAttributeTableGenerator(new AttributeTable(signedAttr))).build(sha1Signer, dscCert.getCertificate()));\r\n\r\ngen.addCertificates(certStore);\r\n\r\n\r\ncmsSignedData = gen.generate(new CMSAbsentContent());\r\n```\r\n \r\nPlease help us in this issue.\r\n\r\nWe have tried every thing but no luck.","title":"Adding PDF revocation information as an signed attribute pdfRevocationInfoArchival OID 1.2.840.113583.1.1.8 is not working","body":"<blockquote>\n<p>I am working on an application which will do digital signatures on PDF. Every thing is working fine till we are putting the <strong>pdfRevocationInfoArchival(1.2.840.113583.1.1.8)</strong> attribute in CMSSignedData(PKCS#7) as signed attribute. After putting the signature(PKCS#7) the document we are getting and empty signature field in the signed PDF.</p>\n</blockquote>\n<p>For Reference: <a href=\"https://i.stack.imgur.com/UbH1z.jpg\" rel=\"nofollow noreferrer\">Empty Signature filed</a></p>\n<p>We are getting valid signed document if we are not adding the <strong>pdfRevocationInfoArchival(1.2.840.113583.1.1.8)</strong> attribute in the CMSSignedData(PKCS#7) object.</p>\n<p>For Reference: <a href=\"https://i.stack.imgur.com/vG4XP.jpg\" rel=\"nofollow noreferrer\">Valid Signature</a></p>\n<p><strong>Source code reference:</strong>\n<strong>1.</strong> Adding CRLs in ASN1EncodableVector:</p>\n<pre><code>private static ASN1EncodableVector genPdfInfoArchival(List&lt;X509CRL&gt; crls) {\n\n        ASN1EncodableVector v1 = new ASN1EncodableVector();\n\n        try {\n\n                        \n            if (!crls.isEmpty()) {\n                ASN1EncodableVector v11 = new ASN1EncodableVector();\n                for (Iterator&lt;X509CRL&gt; i = crls.iterator(); i.hasNext();) {\n                    ASN1InputStream t = new ASN1InputStream(new ByteArrayInputStream(i.next().getEncoded()));\n                    v11.add(t.readObject());\n                }\n                // 0 for CRL\n                v1.add(new DERTaggedObject(true, 0, new DERSequence(v11)));\n            }\n        } catch (Exception ex) {\n\n        }\n\n        return v1;\n    }\n</code></pre>\n<p><strong>2.</strong> Adding CRL revocation attribute in CMSSignedData as signed attribute</p>\n<pre><code>CMSSignedData cmsSignedData = null;\nCMSSignedDataGenerator gen = new CMSSignedDataGenerator();\nStore certStore = new JcaCertStore(Arrays.asList(dscCert.getCertChain()));\n\nASN1EncodableVector signedAttr = new ASN1EncodableVector();\nASN1EncodableVector crlVector = genPdfInfoArchival(crlDetails);\nAttribute pdfRevocationAttr = new Attribute(new ASN1ObjectIdentifier(ID_ADBE_REVOCATION),   new DERSet (new DERSequence(crlVector)));\nsignedAttr.add(pdfRevocationAttr);\n\nAttribute attrHash = new Attribute(CMSAttributes.messageDigest, new DERSet(new DEROctetString(pdfHash)));               \nsignedAttr.add(attrHash);\n\n// Adding signed atribute in the CMSSignedData\n\nContentSigner sha1Signer = new JcaContentSignerBuilder(dscCert.getSigAlgName()) .build(dscCert.getPrivateKey());\ngen.addSignerInfoGenerator( new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()) .setSignedAttributeGenerator( new DefaultSignedAttributeTableGenerator(new AttributeTable(signedAttr))).build(sha1Signer, dscCert.getCertificate()));\n\ngen.addCertificates(certStore);\n\n\ncmsSignedData = gen.generate(new CMSAbsentContent());\n</code></pre>\n<p>Please help us in this issue.</p>\n<p>We have tried every thing but no luck.</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":4497740,"reputation":895,"user_id":3657148,"accept_rate":84,"display_name":"dinhokz"},"score":0,"creation_date":1675873757,"post_id":75388792,"comment_id":133022843,"body_markdown":"Have you &quot;Checked the output console&quot; as your own error message suggests?","body":"Have you &quot;Checked the output console&quot; as your own error message suggests?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1675873813,"post_id":75388792,"comment_id":133022864,"body_markdown":"You print &quot;MySQL JDBC Driver Registered!&quot; - but you are connecting to postgres. Are you sure you got the correct JDBC Driver? Whats the error message? And you should close your connection somewhere.","body":"You print &quot;MySQL JDBC Driver Registered!&quot; - but you are connecting to postgres. Are you sure you got the correct JDBC Driver? Whats the error message? And you should close your connection somewhere."},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":1,"creation_date":1675873836,"post_id":75388792,"comment_id":133022874,"body_markdown":"@dinhokz \nNo suitable driver found for jdbc:postgresql://localhost:5432/hplus","body":"@dinhokz  No suitable driver found for jdbc:postgresql://localhost:5432/hplus"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1675873851,"post_id":75388792,"comment_id":133022878,"body_markdown":"The error tells you that `connection` is `null`. You need to debug your code to find out why.","body":"The error tells you that <code>connection</code> is <code>null</code>. You need to debug your code to find out why."},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":0,"creation_date":1675873920,"post_id":75388792,"comment_id":133022901,"body_markdown":"@TomStroemer Dont care about text since i&#39;m learning servlets and jsp now and trying to open up project on my laptop but using postgres database","body":"@TomStroemer Dont care about text since i&#39;m learning servlets and jsp now and trying to open up project on my laptop but using postgres database"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":3,"creation_date":1675873935,"post_id":75388792,"comment_id":133022910,"body_markdown":"Add the postgres jdbc driver as dependency (maven, gradle, classpath, whatever you are using ...).","body":"Add the postgres jdbc driver as dependency (maven, gradle, classpath, whatever you are using ...)."},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":0,"creation_date":1675873943,"post_id":75388792,"comment_id":133022913,"body_markdown":"@Code-Apprentice No suitable driver found for jdbc:postgresql://localhost:5432/hplus","body":"@Code-Apprentice No suitable driver found for jdbc:postgresql://localhost:5432/hplus"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1675873962,"post_id":75388792,"comment_id":133022919,"body_markdown":"So you need to install the correct driver.","body":"So you need to install the correct driver."},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":0,"creation_date":1675874031,"post_id":75388792,"comment_id":133022941,"body_markdown":"@TomStroemer Done, i added as maven dependency, but nothing changed...","body":"@TomStroemer Done, i added as maven dependency, but nothing changed..."},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1675874210,"post_id":75388792,"comment_id":133023005,"body_markdown":"&quot;System.out.println(&quot;Connection made to DB!&quot;);&quot; Did this print out to console when you ran the project ?","body":"&quot;System.out.println(&quot;Connection made to DB!&quot;);&quot; Did this print out to console when you ran the project ?"},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":0,"creation_date":1675874247,"post_id":75388792,"comment_id":133023024,"body_markdown":"@DennisLLopis No","body":"@DennisLLopis No"},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1675874313,"post_id":75388792,"comment_id":133023044,"body_markdown":"what about either try/catch printouts ?","body":"what about either try/catch printouts ?"},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":0,"creation_date":1675874607,"post_id":75388792,"comment_id":133023151,"body_markdown":"@DennisLLopis Here is the text from logs: No suitable driver found for jdbc:postgresql://localhost:5432/hplus","body":"@DennisLLopis Here is the text from logs: No suitable driver found for jdbc:postgresql://localhost:5432/hplus"},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":0,"creation_date":1675874742,"post_id":75388792,"comment_id":133023196,"body_markdown":"@DennisLLopis i tried to make a directory /WEB-INF/lib and pass posgres.jar there, but it didnt help, also tried to add maven dependency and tried to upload postgres.jar file in tomcat/lib directory, but all of this does not help","body":"@DennisLLopis i tried to make a directory /WEB-INF/lib and pass posgres.jar there, but it didnt help, also tried to add maven dependency and tried to upload postgres.jar file in tomcat/lib directory, but all of this does not help"},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1675877716,"post_id":75388792,"comment_id":133024270,"body_markdown":"Honestly your code is working fine for me, I installed postgres and added the postgresjdbc driver to build path in my project (which I believe is your issue). I created a table which the same definitions(products) and successfully ran the build. Which driver did you download?","body":"Honestly your code is working fine for me, I installed postgres and added the postgresjdbc driver to build path in my project (which I believe is your issue). I created a table which the same definitions(products) and successfully ran the build. Which driver did you download?"},{"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"score":0,"creation_date":1675878427,"post_id":75388792,"comment_id":133024524,"body_markdown":"@DennisLLopis Could you show what you have done in the answer? I downloaded postgresql-42.2.5","body":"@DennisLLopis Could you show what you have done in the answer? I downloaded postgresql-42.2.5"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675938571,"post_id":75388792,"comment_id":133036993,"body_markdown":"You shouldn&#39;t catch exceptions and then continue on as if nothing bad happened. You need to take corrective action, wrap the exception in another exception, or let the exception bubble up to a place where you can take appropriate action.","body":"You shouldn&#39;t catch exceptions and then continue on as if nothing bad happened. You need to take corrective action, wrap the exception in another exception, or let the exception bubble up to a place where you can take appropriate action."}],"answers":[{"tags":[],"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675883405,"creation_date":1675883405,"answer_id":75390628,"question_id":75388792,"body_markdown":"The problem was in incorrect driver. Everything work out after adding this lines of code in DBConnection class:\r\n```java\r\n        try {\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n// ...\r\n```","title":"Unable to connect database to server","body":"<p>The problem was in incorrect driver. Everything work out after adding this lines of code in DBConnection class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n// ...\n</code></pre>\n"}],"owner":{"account_id":26900178,"reputation":131,"user_id":20976220,"display_name":"wxist"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675938423,"answer_count":1,"score":-1,"last_activity_date":1675938473,"creation_date":1675873537,"question_id":75388792,"body_markdown":"Unable to connect Postgres database to Tomcat 10.0.27 server\r\nHere is DBConnection code:\r\n```\r\npublic class DBConnection {\r\n\r\n    public static Connection getConnectionToDatabase() {\r\n        Connection connection = null;\r\n\r\n        try {\r\n            System.out.println(&quot;MySQL JDBC Driver Registered!&quot;);\r\n\r\n            connection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/hplus&quot;, &quot;postgres&quot;, &quot;&quot;);\r\n        }\r\n\r\n        catch (SQLException e) {\r\n            System.out.println(&quot;Connection Failed! Check output console&quot;);\r\n            e.printStackTrace();\r\n\r\n        }\r\n\r\n        if (connection != null) {\r\n            System.out.println(&quot;Connection made to DB!&quot;);\r\n        }\r\n        return connection;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the code, where i try to get the connection:\r\n\r\n``` \r\npublic class ApplicationDao {\r\n\r\n    public List&lt;Product&gt; searchProducts(String searchString) {\r\n        Product product = null;\r\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n        try{\r\n            Connection connection = DBConnection.getConnectionToDatabase();\r\n\r\n            String sql = &quot;select * from products where product_name like &#39;%&quot;+searchString+&quot;%&#39;&quot;;\r\n\r\n            Statement statement = connection.createStatement();\r\n\r\n            ResultSet set = statement.executeQuery(sql);\r\n\r\n            while(set.next()){\r\n                product= new Product();\r\n                product.setProductId(set.getInt(&quot;product_id&quot;));\r\n                product.setProductImgPath(set.getString(&quot;image_path&quot;));\r\n                product.setProductName(set.getString(&quot;product_name&quot;));\r\n                products.add(product);\r\n\r\n            }\r\n\r\n        }\r\n        catch(SQLException exception){\r\n            exception.printStackTrace();\r\n        }\r\n        return products;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is what i get:\r\n```\r\nHTTP Status 500 – Internal Server Error\r\nType Exception Report\r\n\r\nMessage Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;connection&quot; is null\r\n```\r\n\r\nI tried to debug the code but got no response. I looked on different forms what the problem is, but I did not find anything","title":"Unable to connect database to server","body":"<p>Unable to connect Postgres database to Tomcat 10.0.27 server\nHere is DBConnection code:</p>\n<pre><code>public class DBConnection {\n\n    public static Connection getConnectionToDatabase() {\n        Connection connection = null;\n\n        try {\n            System.out.println(&quot;MySQL JDBC Driver Registered!&quot;);\n\n            connection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/hplus&quot;, &quot;postgres&quot;, &quot;&quot;);\n        }\n\n        catch (SQLException e) {\n            System.out.println(&quot;Connection Failed! Check output console&quot;);\n            e.printStackTrace();\n\n        }\n\n        if (connection != null) {\n            System.out.println(&quot;Connection made to DB!&quot;);\n        }\n        return connection;\n    }\n\n}\n</code></pre>\n<p>Here is the code, where i try to get the connection:</p>\n<pre><code>public class ApplicationDao {\n\n    public List&lt;Product&gt; searchProducts(String searchString) {\n        Product product = null;\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n        try{\n            Connection connection = DBConnection.getConnectionToDatabase();\n\n            String sql = &quot;select * from products where product_name like '%&quot;+searchString+&quot;%'&quot;;\n\n            Statement statement = connection.createStatement();\n\n            ResultSet set = statement.executeQuery(sql);\n\n            while(set.next()){\n                product= new Product();\n                product.setProductId(set.getInt(&quot;product_id&quot;));\n                product.setProductImgPath(set.getString(&quot;image_path&quot;));\n                product.setProductName(set.getString(&quot;product_name&quot;));\n                products.add(product);\n\n            }\n\n        }\n        catch(SQLException exception){\n            exception.printStackTrace();\n        }\n        return products;\n    }\n\n}\n</code></pre>\n<p>Here is what i get:</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage Cannot invoke &quot;java.sql.Connection.createStatement()&quot; because &quot;connection&quot; is null\n</code></pre>\n<p>I tried to debug the code but got no response. I looked on different forms what the problem is, but I did not find anything</p>\n"},{"tags":["java","spring","spring-boot","scheduled-tasks","threadpool"],"comments":[{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1675938161,"post_id":75397179,"comment_id":133036856,"body_markdown":"Please share some code","body":"Please share some code"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675938996,"post_id":75397179,"comment_id":133037119,"body_markdown":"All `@Scheduled` methods share the same executor. If you have other functions which are keeping that executor busy, you may see behaviour like you described. Stop-the-world GC events will have an impact too. Both `fixedRate` and `fixedDelay` are made on a best-effort basis. There is no guarantee.","body":"All <code>@Scheduled</code> methods share the same executor. If you have other functions which are keeping that executor busy, you may see behaviour like you described. Stop-the-world GC events will have an impact too. Both <code>fixedRate</code> and <code>fixedDelay</code> are made on a best-effort basis. There is no guarantee."}],"owner":{"account_id":14506849,"reputation":1,"user_id":10478402,"display_name":"Alon Baton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675938442,"creation_date":1675938048,"question_id":75397179,"body_markdown":"I&#39;m using a @Scheduled with fixed rate spring annotaion in my service.\r\nIn the iteration im doing some logic and send http request.\r\nI&#39;m running it every 2 seconds and most of the time it is okay.\r\nI have a log to console that tells me that a new iteration beigns.\r\nSometimes, the log is presented 4/6 times per second. \r\nI also have a log that tells me how long the iteration took, and it never exceeded more than 1 second.\r\n\r\n    @Service\r\n    @EnableScheduling\r\n    public class Handler {\r\n        @Scheduled(fixedRate = 2000)\r\n        public void handle() {\r\n            System.out.println(&quot;Start iteration&quot;);\r\n            // -- logic --\r\n        }\r\n    }\r\n\r\nI&#39;m using sprintboot version 2.1.2.RELEASE.\r\nAny ideas?\r\n\r\n\r\n\r\nrunning every 2 seconds","title":"Spring @Scheduled with fixed rate running multiple times","body":"<p>I'm using a @Scheduled with fixed rate spring annotaion in my service.\nIn the iteration im doing some logic and send http request.\nI'm running it every 2 seconds and most of the time it is okay.\nI have a log to console that tells me that a new iteration beigns.\nSometimes, the log is presented 4/6 times per second.\nI also have a log that tells me how long the iteration took, and it never exceeded more than 1 second.</p>\n<pre><code>@Service\n@EnableScheduling\npublic class Handler {\n    @Scheduled(fixedRate = 2000)\n    public void handle() {\n        System.out.println(&quot;Start iteration&quot;);\n        // -- logic --\n    }\n}\n</code></pre>\n<p>I'm using sprintboot version 2.1.2.RELEASE.\nAny ideas?</p>\n<p>running every 2 seconds</p>\n"},{"tags":["java","android","flutter","gradle","sdk"],"comments":[{"owner":{"account_id":17076036,"reputation":69,"user_id":12355649,"display_name":"Venepskeuten"},"score":0,"creation_date":1606407293,"post_id":63177661,"comment_id":114960079,"body_markdown":"maybe the jdk needs to be updated?","body":"maybe the jdk needs to be updated?"}],"answers":[{"tags":[],"owner":{"account_id":11246800,"reputation":1282,"user_id":13600868,"display_name":"Javad Dehban"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1607979286,"creation_date":1596127994,"answer_id":63177833,"question_id":63177661,"body_markdown":"## Step1:\r\n\r\nI added the following line to the gradle.properties file  \r\n\r\n`org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_261` your jdk version\r\n\r\n## Step2:\r\n add the following line to gradle-wrapper.properties file \r\n\r\nto the address =&gt; `\\flutter_app\\android\\gradle\\wrapper\\gradle-wrapper.properties`\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-all.zip\r\n\r\n\r\n\r\n","title":"Flutter error Kotlin could not find the required JDK tools","body":"<h2>Step1:</h2>\n<p>I added the following line to the gradle.properties file</p>\n<p><code>org.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk1.8.0_261</code> your jdk version</p>\n<h2>Step2:</h2>\n<p>add the following line to gradle-wrapper.properties file</p>\n<p>to the address =&gt; <code>\\flutter_app\\android\\gradle\\wrapper\\gradle-wrapper.properties</code></p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-all.zip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19138649,"reputation":371,"user_id":13979092,"display_name":"Scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625880135,"creation_date":1604514103,"answer_id":64685659,"question_id":63177661,"body_markdown":"I got this error when my JRE updated, but my JDK didn&#39;t. After I downloaded and installed the updated JDK, the error went away.\r\n\r\nHere is a link to the JDK download: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html","title":"Flutter error Kotlin could not find the required JDK tools","body":"<p>I got this error when my JRE updated, but my JDK didn't. After I downloaded and installed the updated JDK, the error went away.</p>\n<p>Here is a link to the JDK download: <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a></p>\n"},{"tags":[],"owner":{"account_id":5147577,"reputation":1,"user_id":4123096,"display_name":"Hossam"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1607979245,"creation_date":1606350169,"answer_id":65014507,"question_id":63177661,"body_markdown":"upgrade java jdk then go to\r\n```\r\nfile -&gt; project structure -&gt; project setting -&gt; project change &quot;project sdk&quot;\r\n```\r\nto the latest JDK","title":"Flutter error Kotlin could not find the required JDK tools","body":"<p>upgrade java jdk then go to</p>\n<pre><code>file -&gt; project structure -&gt; project setting -&gt; project change &quot;project sdk&quot;\n</code></pre>\n<p>to the latest JDK</p>\n"},{"tags":[],"owner":{"account_id":16641105,"reputation":23,"user_id":12026622,"display_name":"lQsdY8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629391133,"creation_date":1629374444,"answer_id":68847497,"question_id":63177661,"body_markdown":"One of these two methods should help you:\r\n\r\n1. In `gradle.properties` in the `.gradle` directory in your `HOME_DIRECTORY` set `org.gradle.java.home=/path_to_jdk_directory`\r\n\r\n**OR:**\r\n\r\n2. In your `build.gradle`\r\n```groovy\r\ncompileJava.options.fork = true\r\ncompileJava.options.forkOptions.executable = &#39;/path_to_javac&#39;\r\n```\r\n\r\n[answer taken from here][1]\r\n\r\n  [1]: https://stackoverflow.com/a/21212790/12026622\r\n\r\n","title":"Flutter error Kotlin could not find the required JDK tools","body":"<p>One of these two methods should help you:</p>\n<ol>\n<li>In <code>gradle.properties</code> in the <code>.gradle</code> directory in your <code>HOME_DIRECTORY</code> set <code>org.gradle.java.home=/path_to_jdk_directory</code></li>\n</ol>\n<p><strong>OR:</strong></p>\n<ol start=\"2\">\n<li>In your <code>build.gradle</code></li>\n</ol>\n<pre><code>compileJava.options.fork = true\ncompileJava.options.forkOptions.executable = '/path_to_javac'\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/21212790/12026622\">answer taken from here</a></p>\n"},{"tags":[],"owner":{"account_id":20596699,"reputation":1,"user_id":15118924,"display_name":"Dilip Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631044976,"creation_date":1631044976,"answer_id":69093966,"question_id":63177661,"body_markdown":"Simple solution to this what my issue resolved \r\n1) Just go to your project Android folder in flutter project\r\n2) Open gradle.properties File and add line ==&gt; \r\norg.gradle.java.home=C:\\\\Program Files\\\\Java\\\\jdk-13.0 \r\n\r\nC:\\\\Program Files\\\\Java\\\\jdk-13.0 - This is Your JDK location in your PC Please check if JDK not installed then first install JDK and provide specific JDK location . Thanks\r\n","title":"Flutter error Kotlin could not find the required JDK tools","body":"<p>Simple solution to this what my issue resolved</p>\n<ol>\n<li>Just go to your project Android folder in flutter project</li>\n<li>Open gradle.properties File and add line ==&gt;\norg.gradle.java.home=C:\\Program Files\\Java\\jdk-13.0</li>\n</ol>\n<p>C:\\Program Files\\Java\\jdk-13.0 - This is Your JDK location in your PC Please check if JDK not installed then first install JDK and provide specific JDK location . Thanks</p>\n"}],"owner":{"display_name":"user13958357"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23358,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1675938270,"creation_date":1596127267,"question_id":63177661,"body_markdown":"I first created a new flutter project.\r\n\r\nBut I got this error:\r\n\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:compileDebugKotlin&#39;.\r\n    &gt; Kotlin could not find the required JDK tools in the Java installation &#39;C:\\Program Files\\Java\\jre1.8.0_261&#39; used by Gradle. Make sure Gradle is running on a JDK, not JRE.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 33s\r\n    Exception: Gradle task assembleDebug failed with exit code 1\r\n\r\nI also tried this method, but it didn&#39;t work.\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iHvx5.png","title":"Flutter error Kotlin could not find the required JDK tools","body":"<p>I first created a new flutter project.</p>\n<p>But I got this error:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n&gt; Kotlin could not find the required JDK tools in the Java installation 'C:\\Program Files\\Java\\jre1.8.0_261' used by Gradle. Make sure Gradle is running on a JDK, not JRE.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 33s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>I also tried this method, but it didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/iHvx5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iHvx5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-gradle-plugin","gradlew"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":2,"creation_date":1546876120,"post_id":54077459,"comment_id":94988346,"body_markdown":"I&#39;ve found that Android can&#39;t build with JDK 11. It works fine with 8 though.","body":"I&#39;ve found that Android can&#39;t build with JDK 11. It works fine with 8 though."}],"answers":[{"tags":[],"owner":{"account_id":8144639,"reputation":80,"user_id":6133632,"display_name":"Alex"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1546876138,"creation_date":1546876138,"answer_id":54077535,"question_id":54077459,"body_markdown":"Its probably complaining about the fact you are trying to use a JDK 11 version when your gradle is only compatible up to a lesser JDK version.\r\n\r\nThe short answer would be - download a JDK 1.8.something version and try with that, the alternate (and probably better long term) answer would be to upgrade your gradle version to the latest (i.e. a JDK 11 compatible version).\r\n\r\nEDIT: so google says that you need a minimum of Gradle 5.0 to use JDK 11 :)","title":"Android - Can&#39;t compile on JRE - Make sure Gradle is running on a JDK, not JRE","body":"<p>Its probably complaining about the fact you are trying to use a JDK 11 version when your gradle is only compatible up to a lesser JDK version.</p>\n\n<p>The short answer would be - download a JDK 1.8.something version and try with that, the alternate (and probably better long term) answer would be to upgrade your gradle version to the latest (i.e. a JDK 11 compatible version).</p>\n\n<p>EDIT: so google says that you need a minimum of Gradle 5.0 to use JDK 11 :)</p>\n"},{"tags":[],"owner":{"account_id":15027912,"reputation":79,"user_id":10847106,"display_name":"mschae23"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1546876339,"creation_date":1546876339,"answer_id":54077590,"question_id":54077459,"body_markdown":"You have to use JDK 8, but you are using JDK 11. ","title":"Android - Can&#39;t compile on JRE - Make sure Gradle is running on a JDK, not JRE","body":"<p>You have to use JDK 8, but you are using JDK 11. </p>\n"},{"comments":[{"owner":{"account_id":5579147,"reputation":2129,"user_id":4421627,"accept_rate":89,"display_name":"Flummox - don&#39;t be evil SE"},"score":5,"creation_date":1597318833,"post_id":62900563,"comment_id":112097116,"body_markdown":"using [solved] in bold is not how stackoverflow does things. Could you update it to say this worked for you?","body":"using [solved] in bold is not how stackoverflow does things. Could you update it to say this worked for you?"}],"tags":[],"owner":{"account_id":15870549,"reputation":193,"user_id":11451336,"display_name":"Usama Sarwar"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1610696746,"creation_date":1594747065,"answer_id":62900563,"question_id":54077459,"body_markdown":"_This worked for me_\r\n1. Download **Gradle** from [gradle.org](https://gradle.org/) **OR** from [services.gradle.org](https://services.gradle.org/distributions/gradle-6.5.1-bin.zip)\r\n2. Unzip the downloaded file in `C://`\r\n3.  Update the /bin path in `System Environment Variables`\r\n*Run the program and check if the problem is fixed? Proceed next if you still got the error(s)*\r\n4. Download **Java SE Runtime Environment 8u261** [here](https://www.oracle.com/java/technologies/javase-jre8-downloads.html)\r\n5. Update the /bin path in `System Environment Variables`\r\n*This will fix the issue. Lemme know if you still got errors*","title":"Android - Can&#39;t compile on JRE - Make sure Gradle is running on a JDK, not JRE","body":"<p><em>This worked for me</em></p>\n<ol>\n<li>Download <strong>Gradle</strong> from <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle.org</a> <strong>OR</strong> from <a href=\"https://services.gradle.org/distributions/gradle-6.5.1-bin.zip\" rel=\"nofollow noreferrer\">services.gradle.org</a></li>\n<li>Unzip the downloaded file in <code>C://</code></li>\n<li>Update the /bin path in <code>System Environment Variables</code>\n<em>Run the program and check if the problem is fixed? Proceed next if you still got the error(s)</em></li>\n<li>Download <strong>Java SE Runtime Environment 8u261</strong> <a href=\"https://www.oracle.com/java/technologies/javase-jre8-downloads.html\" rel=\"nofollow noreferrer\">here</a></li>\n<li>Update the /bin path in <code>System Environment Variables</code>\n<em>This will fix the issue. Lemme know if you still got errors</em></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9053666,"reputation":1082,"user_id":6742754,"display_name":"zeroDivider"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1617294578,"creation_date":1617294254,"answer_id":66908227,"question_id":54077459,"body_markdown":"In my case, `java` and `javac` had different versions. Check out and configure with:\r\n\r\n     $ update-alternatives --config javac\r\n\r\nand\r\n\r\n     $ update-alternatives --config java\r\n\r\nThis [article][1] helped a lot. I see this article is for Windows, but somebody using Ubuntu may find this answer useful.\r\n\r\n\r\n  [1]: https://www.geofis.org/en/install/install-on-linux/install-openjdk-8-on-ubuntu-trusty/","title":"Android - Can&#39;t compile on JRE - Make sure Gradle is running on a JDK, not JRE","body":"<p>In my case, <code>java</code> and <code>javac</code> had different versions. Check out and configure with:</p>\n<pre><code> $ update-alternatives --config javac\n</code></pre>\n<p>and</p>\n<pre><code> $ update-alternatives --config java\n</code></pre>\n<p>This <a href=\"https://www.geofis.org/en/install/install-on-linux/install-openjdk-8-on-ubuntu-trusty/\" rel=\"nofollow noreferrer\">article</a> helped a lot. I see this article is for Windows, but somebody using Ubuntu may find this answer useful.</p>\n"},{"tags":[],"owner":{"account_id":1120107,"reputation":2281,"user_id":1108631,"accept_rate":74,"display_name":"loki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633729433,"creation_date":1633729433,"answer_id":69502003,"question_id":54077459,"body_markdown":"In `gradle-wrapper.properties` add the following line\r\n\r\n    org.gradle.java.home=/usr/lib/jvm/java-8-openjdk-amd64\r\n\r\nReplace with the path to your JDK\r\n\r\nI used to build integration_test for flutter","title":"Android - Can&#39;t compile on JRE - Make sure Gradle is running on a JDK, not JRE","body":"<p>In <code>gradle-wrapper.properties</code> add the following line</p>\n<pre><code>org.gradle.java.home=/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n<p>Replace with the path to your JDK</p>\n<p>I used to build integration_test for flutter</p>\n"},{"tags":[],"owner":{"account_id":14649584,"reputation":3561,"user_id":10579969,"display_name":"Navin Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675938230,"creation_date":1675938230,"answer_id":75397213,"question_id":54077459,"body_markdown":"For Mac M1 chip users, add the following line in **gradle.properties**\r\n\r\n    \r\n    org.gradle.jvmargs=-Xmx1536M\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n    org.gradle.java.home=/Applications/Android Studio.app/Contents/jbr/Contents/Home \r\n\r\n\r\nyou can find your java home path\r\n\r\n&gt; AndroidStudio -&gt; File -&gt; ProjectStructure -&gt; SDKs -&gt; Android studio\r\n&gt; java home\r\n\r\n[![Java Home Path][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gJCYO.png","title":"Android - Can&#39;t compile on JRE - Make sure Gradle is running on a JDK, not JRE","body":"<p>For Mac M1 chip users, add the following line in <strong>gradle.properties</strong></p>\n<pre><code>org.gradle.jvmargs=-Xmx1536M\nandroid.useAndroidX=true\nandroid.enableJetifier=true\norg.gradle.java.home=/Applications/Android Studio.app/Contents/jbr/Contents/Home \n</code></pre>\n<p>you can find your java home path</p>\n<blockquote>\n<p>AndroidStudio -&gt; File -&gt; ProjectStructure -&gt; SDKs -&gt; Android studio\njava home</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/gJCYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJCYO.png\" alt=\"Java Home Path\" /></a></p>\n"}],"owner":{"account_id":11299660,"reputation":1493,"user_id":8286029,"accept_rate":0,"display_name":"Mathieu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30219,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":54077535,"answer_count":6,"score":6,"last_activity_date":1675938230,"creation_date":1546875893,"question_id":54077459,"body_markdown":"I want to compile my app from command line, and not from Android Studio.\r\nMy app works perfectly when I launch it from Android Studio to my device / emulator, however when I try to do :\r\n\r\n    gradlew build\r\n\r\nI get :\r\n\r\n    &gt; Task :app:kaptGenerateStubsReleaseKotlin FAILED\r\n    Caught an exception trying to connect to Kotlin Daemon\r\n    org.gradle.api.GradleException: Kotlin could not find the required JDK tools in the Java installation &#39;C:\\Program Files (x86)\\Java\\jre1.8.0_191&#39; used by Gradle. Make sure Gradle is running on a JDK, not JRE.\r\n            at org.jetbrains.kotlin.gradle.tasks.JarSearchingUtilKt.findToolsJar(jarSearchingUtil.kt:95)\r\n            at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:23)\r\n            at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:17)\r\n            at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)\r\n            ...\r\n\r\nHere is my JAVA_HOME env var :\r\n\r\n    JAVA_HOME=C:\\Program Files (x86)\\Java\\jre1.8.0_191\r\n\r\nIt IS actually a JRE (and not a JDK), but, when I change my env var by my JDK as following :\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.1    \r\n  \r\nAnd I launch :\r\n\r\n    gradlew build\r\n\r\nThen I get :\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine java version from &#39;11.0.1&#39;.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org","title":"Android - Can&#39;t compile on JRE - Make sure Gradle is running on a JDK, not JRE","body":"<p>I want to compile my app from command line, and not from Android Studio.\nMy app works perfectly when I launch it from Android Studio to my device / emulator, however when I try to do :</p>\n\n<pre><code>gradlew build\n</code></pre>\n\n<p>I get :</p>\n\n<pre><code>&gt; Task :app:kaptGenerateStubsReleaseKotlin FAILED\nCaught an exception trying to connect to Kotlin Daemon\norg.gradle.api.GradleException: Kotlin could not find the required JDK tools in the Java installation 'C:\\Program Files (x86)\\Java\\jre1.8.0_191' used by Gradle. Make sure Gradle is running on a JDK, not JRE.\n        at org.jetbrains.kotlin.gradle.tasks.JarSearchingUtilKt.findToolsJar(jarSearchingUtil.kt:95)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:23)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:17)\n        at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)\n        ...\n</code></pre>\n\n<p>Here is my JAVA_HOME env var :</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files (x86)\\Java\\jre1.8.0_191\n</code></pre>\n\n<p>It IS actually a JRE (and not a JDK), but, when I change my env var by my JDK as following :</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.1    \n</code></pre>\n\n<p>And I launch :</p>\n\n<pre><code>gradlew build\n</code></pre>\n\n<p>Then I get :</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine java version from '11.0.1'.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n"},{"tags":["java","android","android-studio","material-design"],"answers":[{"comments":[{"owner":{"account_id":17540529,"reputation":68,"user_id":12722770,"display_name":"Farzan Siddiqui"},"score":0,"creation_date":1675949062,"post_id":75397175,"comment_id":133040112,"body_markdown":"I tried it, it works but after some time the re-rendering comes.","body":"I tried it, it works but after some time the re-rendering comes."},{"owner":{"account_id":16932347,"reputation":329,"user_id":12246264,"display_name":"Ian Andwati"},"score":0,"creation_date":1675951848,"post_id":75397175,"comment_id":133041198,"body_markdown":"Share your code and layout files","body":"Share your code and layout files"},{"owner":{"account_id":17540529,"reputation":68,"user_id":12722770,"display_name":"Farzan Siddiqui"},"score":0,"creation_date":1676291329,"post_id":75397175,"comment_id":133101352,"body_markdown":"I have attached the link. look into it.\nhttps://farzansiddiqui.github.io/My-first-page/","body":"I have attached the link. look into it. <a href=\"https://farzansiddiqui.github.io/My-first-page/\" rel=\"nofollow noreferrer\">farzansiddiqui.github.io/My-first-page</a>"}],"tags":[],"owner":{"account_id":16932347,"reputation":329,"user_id":12246264,"display_name":"Ian Andwati"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675938010,"creation_date":1675938010,"answer_id":75397175,"question_id":75391098,"body_markdown":"Invalidate the IDE caches and restart. Then rebuild the whole project","title":"Layout Preview is not displaying when Material Design is updated","body":"<p>Invalidate the IDE caches and restart. Then rebuild the whole project</p>\n"}],"owner":{"account_id":17540529,"reputation":68,"user_id":12722770,"display_name":"Farzan Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675938010,"creation_date":1675886131,"question_id":75391098,"body_markdown":"**When I have update material design *1.7.0* to *1.8.0* then layout is not displaying.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h0e3H.png","title":"Layout Preview is not displaying when Material Design is updated","body":"<p><strong>When I have update material design <em>1.7.0</em> to <em>1.8.0</em> then layout is not displaying.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/h0e3H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h0e3H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673620830,"post_id":75109366,"comment_id":132546657,"body_markdown":"Can you show the dependencies in your pom itself? Because maybe the scope of `slf4j-simple` is set to `test`, which means it will only be available for unit tests.","body":"Can you show the dependencies in your pom itself? Because maybe the scope of <code>slf4j-simple</code> is set to <code>test</code>, which means it will only be available for unit tests."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673620839,"post_id":75109366,"comment_id":132546661,"body_markdown":"Please attach pom.xml to your post","body":"Please attach pom.xml to your post"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675937822,"creation_date":1675937495,"answer_id":75397077,"question_id":75109366,"body_markdown":"use the below dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand keep the log4j.properties file in **src/main/resources**.\r\n\r\na sample file for printing the log in the console.:\r\n\r\n\r\n    log4j.rootLogger=debug,console\r\n    \r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.console.Target=System.out\r\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.console.layout.ConversionPattern=%d [%t] %-5p %L - %m%n","title":"No SLF4J providers were found","body":"<p>use the below dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.6.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and keep the log4j.properties file in <strong>src/main/resources</strong>.</p>\n<p>a sample file for printing the log in the console.:</p>\n<pre><code>log4j.rootLogger=debug,console\n\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.Target=System.out\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d [%t] %-5p %L - %m%n\n</code></pre>\n"}],"owner":{"account_id":18077646,"reputation":1,"user_id":13140458,"display_name":"Artūras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":912,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675937822,"creation_date":1673613730,"question_id":75109366,"body_markdown":"Have two dependencies added to my project\r\n[enter image description here](https://i.stack.imgur.com/OWnME.png) via Maven.\r\n\r\nHowever, I see that org.slf4j:slf4j-simple:2.0.6 is not added (at least from IntelliJ log I understand so).\r\n\r\nIntelliJ console output:\r\n\r\n/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=56496:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 \r\n-classpath /Users/arturaspaluskinas/Documents/JavaRushTasks/out/production/4.JavaCollections:/Users/arturaspaluskinas/.m2/repository/junit/junit/4.13.1/junit-4.13.1.jar:/Users/arturaspaluskinas/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.1/junit-jupiter-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.1/junit-jupiter-api-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/platform/junit-platform-commons/1.8.1/junit-platform-commons-1.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.1/junit-jupiter-params-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.1/junit-jupiter-engine-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/platform/junit-platform-engine/1.8.1/junit-platform-engine-1.8.1.jar:/Users/arturaspaluskinas/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/Users/arturaspaluskinas/.m2/repository/org/slf4j/slf4j-api/2.0.6/slf4j-api-2.0.6.jar com.javarush.task.MyLogger\r\n\r\n\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\n\r\ndocumentation https://www.slf4j.org/codes.html says that adding one of slf4j-nop.jar slf4j-simple.jar, slf4j-reload4j.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem.\r\n\r\n\r\n \r\n\r\n\r\nAny ideas why Java or IDEA cannot find slf4j ?","title":"No SLF4J providers were found","body":"<p>Have two dependencies added to my project\n<a href=\"https://i.stack.imgur.com/OWnME.png\" rel=\"nofollow noreferrer\">enter image description here</a> via Maven.</p>\n<p>However, I see that org.slf4j:slf4j-simple:2.0.6 is not added (at least from IntelliJ log I understand so).</p>\n<p>IntelliJ console output:</p>\n<p>/Library/Java/JavaVirtualMachines/jdk-17.0.5.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=56496:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8\n-classpath /Users/arturaspaluskinas/Documents/JavaRushTasks/out/production/4.JavaCollections:/Users/arturaspaluskinas/.m2/repository/junit/junit/4.13.1/junit-4.13.1.jar:/Users/arturaspaluskinas/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.1/junit-jupiter-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.1/junit-jupiter-api-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/platform/junit-platform-commons/1.8.1/junit-platform-commons-1.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.1/junit-jupiter-params-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.1/junit-jupiter-engine-5.8.1.jar:/Users/arturaspaluskinas/.m2/repository/org/junit/platform/junit-platform-engine/1.8.1/junit-platform-engine-1.8.1.jar:/Users/arturaspaluskinas/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:/Users/arturaspaluskinas/.m2/repository/org/slf4j/slf4j-api/2.0.6/slf4j-api-2.0.6.jar com.javarush.task.MyLogger</p>\n<p>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"https://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#noProviders</a> for further details.</p>\n<p>documentation <a href=\"https://www.slf4j.org/codes.html\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html</a> says that adding one of slf4j-nop.jar slf4j-simple.jar, slf4j-reload4j.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem.</p>\n<p>Any ideas why Java or IDEA cannot find slf4j ?</p>\n"},{"tags":["java","spring","websphere","jndi"],"answers":[{"comments":[{"owner":{"account_id":7844963,"reputation":131,"user_id":5930340,"display_name":"UKoehler"},"score":0,"creation_date":1462780040,"post_id":37043186,"comment_id":61762380,"body_markdown":"I have this solution also found. I thought there is something more comfortable  :-)","body":"I have this solution also found. I thought there is something more comfortable  :-)"},{"owner":{"account_id":7850960,"reputation":2951,"user_id":5934435,"display_name":"Sampada"},"score":0,"creation_date":1462780157,"post_id":37043186,"comment_id":61762429,"body_markdown":"OK. Glad to know the suggested answer does in fact work for you.","body":"OK. Glad to know the suggested answer does in fact work for you."}],"tags":[],"owner":{"account_id":7850960,"reputation":2951,"user_id":5934435,"display_name":"Sampada"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462426674,"creation_date":1462426674,"answer_id":37043186,"question_id":37031855,"body_markdown":"You can try this code to get Properties form the returned Reference :\r\n\r\n                Reference ref = jndi.lookup(&quot;ree/configuration&quot;);\r\n    \t        Enumeration e = ref.getAll();\r\n    \t        while( e.hasMoreElements() )\r\n    \t        {\r\n    \t           RefAddr ra = (RefAddr) e.nextElement();\r\n    \t           properties.put( ra.getType().toLowerCase(), ra.getContent() );\r\n    \t        }\r\n\r\nFor more examples on how to use Reference, try this link: http://www.programcreek.com/java-api-examples/javax.naming.Reference","title":"How convert &lt;jee:jndi-lookup&gt; to Spring JavaConfig in a Websphere Environment","body":"<p>You can try this code to get Properties form the returned Reference :</p>\n\n<pre><code>            Reference ref = jndi.lookup(\"ree/configuration\");\n            Enumeration e = ref.getAll();\n            while( e.hasMoreElements() )\n            {\n               RefAddr ra = (RefAddr) e.nextElement();\n               properties.put( ra.getType().toLowerCase(), ra.getContent() );\n            }\n</code></pre>\n\n<p>For more examples on how to use Reference, try this link: <a href=\"http://www.programcreek.com/java-api-examples/javax.naming.Reference\" rel=\"nofollow\">http://www.programcreek.com/java-api-examples/javax.naming.Reference</a></p>\n"},{"tags":[],"owner":{"account_id":8974840,"reputation":359,"user_id":6692088,"display_name":"Kevin Valdez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585502900,"creation_date":1585502900,"answer_id":60918113,"question_id":37031855,"body_markdown":"Related to [see][1].\r\n\r\nYou can define a `@Configuration` class and create a bean like this.\r\n\r\n    @Bean(name = &quot;dbDataSource&quot;)\r\n    public DataSource dataSource(@Value(&quot;${db.jndi}&quot; String jndiName) {\r\n        JndiDataSourceLookup lookup = new JndiDataSourceLookup();\r\n        return lookup.getDataSource(jndiName);\r\n    }\r\n\r\nYou can also inyect the `JNDI` from properties without recieving as a input parameter,\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34757609/how-to-convert-jndi-lookup-from-xml-to-java-config","title":"How convert &lt;jee:jndi-lookup&gt; to Spring JavaConfig in a Websphere Environment","body":"<p>Related to <a href=\"https://stackoverflow.com/questions/34757609/how-to-convert-jndi-lookup-from-xml-to-java-config\">see</a>.</p>\n\n<p>You can define a <code>@Configuration</code> class and create a bean like this.</p>\n\n<pre><code>@Bean(name = \"dbDataSource\")\npublic DataSource dataSource(@Value(\"${db.jndi}\" String jndiName) {\n    JndiDataSourceLookup lookup = new JndiDataSourceLookup();\n    return lookup.getDataSource(jndiName);\n}\n</code></pre>\n\n<p>You can also inyect the <code>JNDI</code> from properties without recieving as a input parameter,</p>\n"},{"tags":[],"owner":{"account_id":20563170,"reputation":1,"user_id":15093208,"display_name":"Alfredo Bianchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675937665,"creation_date":1675937665,"answer_id":75397113,"question_id":37031855,"body_markdown":"You can define a @Configuration class and create a bean like this.\r\n\r\n\t@Bean\r\n\tpublic JndiObjectFactoryBean rePropertiesConfig() {\r\n\t\tJndiObjectFactoryBean bean = new JndiObjectFactoryBean();\r\n\t\tbean.setJndiName(&quot;ree/configuration&quot;);\r\n\t\tbean.setCache(true);\r\n\t\t\r\n\t\treturn bean;\r\n\t}\r\n\r\nand in the @Bean where you use the jndi object you have to cast it:\r\n\r\n    Properties properties = (Properties) rePropertiesConfig().getObject();","title":"How convert &lt;jee:jndi-lookup&gt; to Spring JavaConfig in a Websphere Environment","body":"<p>You can define a @Configuration class and create a bean like this.</p>\n<pre><code>@Bean\npublic JndiObjectFactoryBean rePropertiesConfig() {\n    JndiObjectFactoryBean bean = new JndiObjectFactoryBean();\n    bean.setJndiName(&quot;ree/configuration&quot;);\n    bean.setCache(true);\n    \n    return bean;\n}\n</code></pre>\n<p>and in the @Bean where you use the jndi object you have to cast it:</p>\n<pre><code>Properties properties = (Properties) rePropertiesConfig().getObject();\n</code></pre>\n"}],"owner":{"account_id":7844963,"reputation":131,"user_id":5930340,"display_name":"UKoehler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675937665,"creation_date":1462375062,"question_id":37031855,"body_markdown":"I have an old Spring xml config.\r\n\r\n    &lt;jee:jndi-lookup jndi-name=&quot;ree/configuration&quot; cache=&quot;true&quot; id=&quot;re-properties-config&quot; /&gt;\r\n\r\nIn the WebSphere 8 i have a &quot;Resource Environment Providers&quot; and a &quot;Resource environment entry&quot; under the JNDI name &quot;ree/configuration&quot;. The  Referenceables class is java.util.Properties.\r\n\r\nWith xml config everything works. &quot;Resource environment entry&quot; from WebSphere mapped in a Properties Object.\r\n\r\nNow i want migrate to Spring JavaConfig.\r\nWhat is the best solution?\r\n\r\nI try this: \r\n\r\n    private static Properties jndiProperties() {\r\n        Properties properties = null;\r\n        JndiTemplate jndi = new JndiTemplate();\r\n        try {\r\n        \tproperties = (Properties)jndi.lookup(&quot;ree/configuration&quot;);\r\n            LOG.info(&quot;JNDI Properties loaded: &quot; + properties);\r\n        } catch (NamingException e) {\r\n            LOG.error(&quot;NamingException for ree/configuration&quot;, e);\r\n        }\r\n        return properties;\r\n    }\r\n\r\nbut it failed with a ClassCastException. javax.naming.Reference cannot cast to java.util.Properties    ","title":"How convert &lt;jee:jndi-lookup&gt; to Spring JavaConfig in a Websphere Environment","body":"<p>I have an old Spring xml config.</p>\n\n<pre><code>&lt;jee:jndi-lookup jndi-name=\"ree/configuration\" cache=\"true\" id=\"re-properties-config\" /&gt;\n</code></pre>\n\n<p>In the WebSphere 8 i have a \"Resource Environment Providers\" and a \"Resource environment entry\" under the JNDI name \"ree/configuration\". The  Referenceables class is java.util.Properties.</p>\n\n<p>With xml config everything works. \"Resource environment entry\" from WebSphere mapped in a Properties Object.</p>\n\n<p>Now i want migrate to Spring JavaConfig.\nWhat is the best solution?</p>\n\n<p>I try this: </p>\n\n<pre><code>private static Properties jndiProperties() {\n    Properties properties = null;\n    JndiTemplate jndi = new JndiTemplate();\n    try {\n        properties = (Properties)jndi.lookup(\"ree/configuration\");\n        LOG.info(\"JNDI Properties loaded: \" + properties);\n    } catch (NamingException e) {\n        LOG.error(\"NamingException for ree/configuration\", e);\n    }\n    return properties;\n}\n</code></pre>\n\n<p>but it failed with a ClassCastException. javax.naming.Reference cannot cast to java.util.Properties    </p>\n"},{"tags":["java","api","collibra"],"owner":{"account_id":26578582,"reputation":1,"user_id":20203562,"display_name":"silent_killer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675937654,"creation_date":1675936180,"question_id":75396837,"body_markdown":"whenever I try to run this code, I&#39;m getting below error.\r\n\r\n```\r\nERROR c.c.d.r.v.w.WorkflowInstanceResource - Error in rest api call &#39;public javax.ws.rs.core.Response com.collibra.dgc.rest.v2_0.workflow.WorkflowInstanceResource.startWorkflowInstances(com.collibra.dgc.core.api.dto.workflow.StartWorkflowInstancesRequest)&#39;. \r\ncom.collibra.common.api.exception.ApiCollibraException: com.collibra.common.exception.CollibraException: workflowNotStarted.\r\nCaused by: groovy.lang.MissingPropertyException: No such property: asset for class: Script266\r\nat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:65)\r\nat org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:51)\r\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:341)\r\nat Script266.run(Script266.groovy:13)\r\n```\r\n\r\nI&#39;m using the below `groovy script` to get attribute types of any asset that I selected.\r\n\r\n\r\n```\r\nimport com.collibra.dgc.core.api.component.assignment.AssignmentApi\r\nimport com.collibra.dgc.core.api.component.logger.LoggerApi\r\nimport com.collibra.dgc.core.api.model.assignment.AssignedAttributeType\r\nimport com.collibra.dgc.core.api.model.assignment.Assignment\r\nimport com.collibra.dgc.core.api.model.instance.Asset\r\nimport com.collibra.dgc.workflow.api.bean.WorkflowBusinessItem\r\nimport com.collibra.dgc.core.api.model.workflow.WorkflowBusinessItemType\r\n\r\nLoggerApi loggerApi;\r\nAssignmentApi assignmentApi;\r\nAsset asset;\r\n\r\nloggerApi.info(&quot;****Start Workflow*****&quot;);\r\n\r\nList&lt;Assignment&gt; assignments = assignmentApi.getAssignmentsForAssetType(asset.getId());\r\n\r\nloggerApi.info(&quot;assignments:::${assignments}&quot;);\r\n\r\nfor (Assignment assignment : assignments) {\r\n\tList&lt;AssignedAttributeType&gt; assignedAttribute = assignment.getAssignedAttributeTypes();\r\n}\r\n\r\nloggerApi.info(&quot;assignedAttribute:::${assignedAttribute}&quot;);\r\n\r\n```\r\n\r\nThe **expected result** is to get all the attribute types present in the asset that I selected(any asset can be selected during the process)","title":"Caused by: groovy.lang.MissingPropertyException: No such property: asset for class: Script266","body":"<p>whenever I try to run this code, I'm getting below error.</p>\n<pre><code>ERROR c.c.d.r.v.w.WorkflowInstanceResource - Error in rest api call 'public javax.ws.rs.core.Response com.collibra.dgc.rest.v2_0.workflow.WorkflowInstanceResource.startWorkflowInstances(com.collibra.dgc.core.api.dto.workflow.StartWorkflowInstancesRequest)'. \ncom.collibra.common.api.exception.ApiCollibraException: com.collibra.common.exception.CollibraException: workflowNotStarted.\nCaused by: groovy.lang.MissingPropertyException: No such property: asset for class: Script266\nat org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:65)\nat org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:51)\nat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:341)\nat Script266.run(Script266.groovy:13)\n</code></pre>\n<p>I'm using the below <code>groovy script</code> to get attribute types of any asset that I selected.</p>\n<pre><code>import com.collibra.dgc.core.api.component.assignment.AssignmentApi\nimport com.collibra.dgc.core.api.component.logger.LoggerApi\nimport com.collibra.dgc.core.api.model.assignment.AssignedAttributeType\nimport com.collibra.dgc.core.api.model.assignment.Assignment\nimport com.collibra.dgc.core.api.model.instance.Asset\nimport com.collibra.dgc.workflow.api.bean.WorkflowBusinessItem\nimport com.collibra.dgc.core.api.model.workflow.WorkflowBusinessItemType\n\nLoggerApi loggerApi;\nAssignmentApi assignmentApi;\nAsset asset;\n\nloggerApi.info(&quot;****Start Workflow*****&quot;);\n\nList&lt;Assignment&gt; assignments = assignmentApi.getAssignmentsForAssetType(asset.getId());\n\nloggerApi.info(&quot;assignments:::${assignments}&quot;);\n\nfor (Assignment assignment : assignments) {\n    List&lt;AssignedAttributeType&gt; assignedAttribute = assignment.getAssignedAttributeTypes();\n}\n\nloggerApi.info(&quot;assignedAttribute:::${assignedAttribute}&quot;);\n\n</code></pre>\n<p>The <strong>expected result</strong> is to get all the attribute types present in the asset that I selected(any asset can be selected during the process)</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1675888205,"post_id":75391306,"comment_id":133027254,"body_markdown":"Any error in the back end? Any stacktrace?","body":"Any error in the back end? Any stacktrace?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675888563,"post_id":75391306,"comment_id":133027354,"body_markdown":"@JorgeCampos Here is the screenshot : https://ibb.co/Xfnfm9r . There is no error in the console.","body":"@JorgeCampos Here is the screenshot : <a href=\"https://ibb.co/Xfnfm9r\" rel=\"nofollow noreferrer\">ibb.co/Xfnfm9r</a> . There is no error in the console."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1675891239,"post_id":75391306,"comment_id":133028017,"body_markdown":"Please don&#39;t use images. Stacktrace is mainly text. Copy it and add it to your question. Besides, not clicking in a link without knowing its procedence.","body":"Please don&#39;t use images. Stacktrace is mainly text. Copy it and add it to your question. Besides, not clicking in a link without knowing its procedence."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675891945,"post_id":75391306,"comment_id":133028216,"body_markdown":"@JorgeCampos Ok. I did that. Where is the problem?","body":"@JorgeCampos Ok. I did that. Where is the problem?"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1675892773,"post_id":75391306,"comment_id":133028417,"body_markdown":"The console output you show is only showing the startup of the application, does it not change after you call the page where you see the error on the browser? If not, set your application to DEBUG or TRACE mode it will likely show what went wrong. And again, if there is a Stacktrace, copy the text and past it formatted in your question. It is easier for anyone that wants to help to be able to copy the information from text and investigate.","body":"The console output you show is only showing the startup of the application, does it not change after you call the page where you see the error on the browser? If not, set your application to DEBUG or TRACE mode it will likely show what went wrong. And again, if there is a Stacktrace, copy the text and past it formatted in your question. It is easier for anyone that wants to help to be able to copy the information from text and investigate."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675894336,"post_id":75391306,"comment_id":133028773,"body_markdown":"@JorgeCampos I shared the logs. Can you look through it?","body":"@JorgeCampos I shared the logs. Can you look through it?"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1675898222,"post_id":75391306,"comment_id":133029496,"body_markdown":"The page you are trying to access does not exist in your application [404 error](https://en.wikipedia.org/wiki/HTTP_404) means page not found. That means something on your setup is not correct because the Swagger application. You probably are missing some configuration that tells the Swagger library to how to render the request to swagger-ui.html . You should follow the steps on their doc page: https://springfox.github.io/springfox/docs/current/#changes-in-swagger-ui","body":"The page you are trying to access does not exist in your application <a href=\"https://en.wikipedia.org/wiki/HTTP_404\" rel=\"nofollow noreferrer\">404 error</a> means page not found. That means something on your setup is not correct because the Swagger application. You probably are missing some configuration that tells the Swagger library to how to render the request to swagger-ui.html . You should follow the steps on their doc page: <a href=\"https://springfox.github.io/springfox/docs/current/#changes-in-swagger-ui\" rel=\"nofollow noreferrer\">springfox.github.io/springfox/docs/current/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675899787,"post_id":75391306,"comment_id":133029783,"body_markdown":"@JorgeCampos Where is the missing part in Swagger config class?","body":"@JorgeCampos Where is the missing part in Swagger config class?"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1675900518,"post_id":75391306,"comment_id":133029892,"body_markdown":"From the link I shared: &quot;swagger-ui location has moved from **http://host/context-path/swagger-ui.html** to http://host/context-path/swagger-ui/index.html OR http://host/context-path/swagger-ui/ for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed.&quot;","body":"From the link I shared: &quot;swagger-ui location has moved from <b><a href=\"http://host/context-path/swagger-ui.html\" rel=\"nofollow noreferrer\">host/context-path/swagger-ui.html</a></b> to <a href=\"http://host/context-path/swagger-ui/index.html\" rel=\"nofollow noreferrer\">host/context-path/swagger-ui/index.html</a> OR <a href=\"http://host/context-path/swagger-ui/\" rel=\"nofollow noreferrer\">host/context-path/swagger-ui</a> for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed.&quot;"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675918891,"post_id":75391306,"comment_id":133032324,"body_markdown":"@JorgeCampos I tried to use http://localhost:8080/api/v1/earthquakes/swagger-ui/index.html but I still get &quot;Whitelabel Error Page&quot;","body":"@JorgeCampos I tried to use <a href=\"http://localhost:8080/api/v1/earthquakes/swagger-ui/index.html\" rel=\"nofollow noreferrer\">localhost:8080/api/v1/earthquakes/swagger-ui/index.html</a> but I still get &quot;Whitelabel Error Page&quot;"},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1679129898,"post_id":75391306,"comment_id":133668650,"body_markdown":"Please check my answer on **[How to run Swagger 3 on Spring Boot 3](https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3)**","body":"Please check my answer on <b><a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\">How to run Swagger 3 on Spring Boot 3</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675937561,"creation_date":1675932087,"answer_id":75396107,"question_id":75391306,"body_markdown":"You need to use a different dependency for Spring Boot 3 and upgrade your Swagger logic to v3:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nExample OpenAPI config:\r\n```java\r\n@Configuration\r\npublic class OpenApiConfig {\r\n\r\n    @Bean\r\n    public OpenAPI openApi() {\r\n        return new OpenAPI()\r\n            .info(\r\n                new Info()\r\n                    .title(&quot;App Title&quot;)\r\n                    .description(&quot;App description&quot;)\r\n                    .version(&quot;App version&quot;));\r\n            .externalDocs(\r\n                new ExternalDocumentation()\r\n                    .description(&quot;Documentation name&quot;)\r\n                    .url(&quot;https://example.com&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi categoryApi() {\r\n        return GroupedOpenApi.builder()\r\n            .group(&quot;Category API&quot;)\r\n            .pathsToMatch(&quot;/categories/**&quot;)\r\n            .build();\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi expenseApi() {\r\n        return GroupedOpenApi.builder()\r\n            .group(&quot;Expense API&quot;)\r\n            .pathsToMatch(&quot;/expenses/**&quot;)\r\n            .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nExample controller annotations:\r\n```java\r\n@RequestMapping(&quot;/categories&quot;)\r\n@RestController\r\n@Validated\r\n@ApiResponse(responseCode = &quot;401&quot;, description = &quot;Unauthorized, login required&quot;)\r\n@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error, this should not happen&quot;)\r\n@Tag(name = &quot;Category Controller&quot;, description = &quot;Endpoint for retrieving and modifying categories&quot;)\r\npublic class CategoryController {\r\n\r\n    @GetMapping\r\n    @Operation(\r\n            summary = &quot;Get all categories (paginated)&quot;,\r\n            responses = @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Category page returned&quot;))\r\n    public Page&lt;CategoryDto&gt; getCategories(@PageableDefault @ParameterObject Pageable pageable) {\r\n        // Controller logic\r\n    }\r\n\r\n}\r\n```\r\n\r\nExample DTO:\r\n```java\r\n@Value\r\npublic class CategoryDto {\r\n\r\n    String id;\r\n\r\n    @NotBlank\r\n    @Size(max = 40, message = &quot;must not exceed 40 characters&quot;)\r\n    @Schema(maxLength = 40, required = true)\r\n    String name;\r\n\r\n    // Read-only attributes\r\n\r\n    @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n    LocalDateTime createdAt;\r\n\r\n    @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n    LocalDateTime lastModifiedAt;\r\n\r\n}\r\n```","title":"Cannot open swagger 2 in Spring Boot 3 App","body":"<p>You need to use a different dependency for Spring Boot 3 and upgrade your Swagger logic to v3:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Example OpenAPI config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public OpenAPI openApi() {\n        return new OpenAPI()\n            .info(\n                new Info()\n                    .title(&quot;App Title&quot;)\n                    .description(&quot;App description&quot;)\n                    .version(&quot;App version&quot;));\n            .externalDocs(\n                new ExternalDocumentation()\n                    .description(&quot;Documentation name&quot;)\n                    .url(&quot;https://example.com&quot;));\n    }\n\n    @Bean\n    public GroupedOpenApi categoryApi() {\n        return GroupedOpenApi.builder()\n            .group(&quot;Category API&quot;)\n            .pathsToMatch(&quot;/categories/**&quot;)\n            .build();\n    }\n\n    @Bean\n    public GroupedOpenApi expenseApi() {\n        return GroupedOpenApi.builder()\n            .group(&quot;Expense API&quot;)\n            .pathsToMatch(&quot;/expenses/**&quot;)\n            .build();\n    }\n\n}\n</code></pre>\n<p>Example controller annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/categories&quot;)\n@RestController\n@Validated\n@ApiResponse(responseCode = &quot;401&quot;, description = &quot;Unauthorized, login required&quot;)\n@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error, this should not happen&quot;)\n@Tag(name = &quot;Category Controller&quot;, description = &quot;Endpoint for retrieving and modifying categories&quot;)\npublic class CategoryController {\n\n    @GetMapping\n    @Operation(\n            summary = &quot;Get all categories (paginated)&quot;,\n            responses = @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Category page returned&quot;))\n    public Page&lt;CategoryDto&gt; getCategories(@PageableDefault @ParameterObject Pageable pageable) {\n        // Controller logic\n    }\n\n}\n</code></pre>\n<p>Example DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\npublic class CategoryDto {\n\n    String id;\n\n    @NotBlank\n    @Size(max = 40, message = &quot;must not exceed 40 characters&quot;)\n    @Schema(maxLength = 40, required = true)\n    String name;\n\n    // Read-only attributes\n\n    @Schema(accessMode = Schema.AccessMode.READ_ONLY)\n    LocalDateTime createdAt;\n\n    @Schema(accessMode = Schema.AccessMode.READ_ONLY)\n    LocalDateTime lastModifiedAt;\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75396107,"answer_count":1,"score":2,"last_activity_date":1675937561,"creation_date":1675887510,"question_id":75391306,"body_markdown":"I created an example of Spring Boot 3 with usage of swagger 2.\r\n\r\nAfter I ran the app, I tried to open swagger ui through this URL (`http://localhost:8080/swagger-ui.html`) but I got &quot;Whitelabel Error Page&quot; result.\r\n\r\n\r\nHere is swagger config shown below\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2).select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.deprem&quot;))\r\n                    .paths(PathSelectors.regex(&quot;/.*&quot;))\r\n                    .build().apiInfo(apiEndPointsInfo());\r\n    \r\n        }\r\n        private ApiInfo apiEndPointsInfo() {\r\n            return new ApiInfoBuilder().title(&quot;Title&quot;)\r\n                    .description(&quot;Description&quot;)\r\n                    .contact(new Contact(&quot;Name and Surname&quot;, &quot;&quot;, &quot;&quot;))\r\n                    .license(&quot;Apache 2.0&quot;)\r\n                    .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;)\r\n                    .version(&quot;1.0.0&quot;)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nHere are **dependencies** used for **swagger ui** in **pom.xml**\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n                &lt;version&gt;1.10.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n\r\nHere is the console output shown below.\r\n\r\n[![Link][1]][1]\r\n\r\nHere is the log info shown below\r\n\r\n    2023-02-09T01:08:16.232+03:00  INFO 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-02-09T01:08:16.232+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\r\n    2023-02-09T01:08:16.232+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\r\n    2023-02-09T01:08:16.232+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\r\n    2023-02-09T01:08:16.233+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@53b689a4\r\n    2023-02-09T01:08:16.233+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@609759ed\r\n    2023-02-09T01:08:16.233+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n    2023-02-09T01:08:16.233+03:00  INFO 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2023-02-09T01:08:16.239+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/swagger-ui.html&quot;, parameters={}\r\n    2023-02-09T01:08:16.245+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    2023-02-09T01:08:16.250+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2023-02-09T01:08:16.250+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2023-02-09T01:08:16.254+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2023-02-09T01:08:16.255+03:00 DEBUG 24272 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    2023-02-09T01:08:16.276+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    2023-02-09T01:08:16.281+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\nHere is my application.properties file shown below\r\n\r\n    spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n    \r\n    logging.level.org.springframework.web=DEBUG\r\n    logging.level.io.springfox=DEBUG\r\n\r\nHow can I fix the issue?\r\n\r\nHere is my repo : [Link][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0LeR8.png\r\n  [2]: https://github.com/Rapter1990/DepremApi","title":"Cannot open swagger 2 in Spring Boot 3 App","body":"<p>I created an example of Spring Boot 3 with usage of swagger 2.</p>\n<p>After I ran the app, I tried to open swagger ui through this URL (<code>http://localhost:8080/swagger-ui.html</code>) but I got &quot;Whitelabel Error Page&quot; result.</p>\n<p>Here is swagger config shown below</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.deprem&quot;))\n                .paths(PathSelectors.regex(&quot;/.*&quot;))\n                .build().apiInfo(apiEndPointsInfo());\n\n    }\n    private ApiInfo apiEndPointsInfo() {\n        return new ApiInfoBuilder().title(&quot;Title&quot;)\n                .description(&quot;Description&quot;)\n                .contact(new Contact(&quot;Name and Surname&quot;, &quot;&quot;, &quot;&quot;))\n                .license(&quot;Apache 2.0&quot;)\n                .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;)\n                .version(&quot;1.0.0&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>Here are <strong>dependencies</strong> used for <strong>swagger ui</strong> in <strong>pom.xml</strong></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Here is the console output shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/0LeR8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0LeR8.png\" alt=\"Link\" /></a></p>\n<p>Here is the log info shown below</p>\n<pre><code>2023-02-09T01:08:16.232+03:00  INFO 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-02-09T01:08:16.232+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\n2023-02-09T01:08:16.232+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\n2023-02-09T01:08:16.232+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\n2023-02-09T01:08:16.233+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@53b689a4\n2023-02-09T01:08:16.233+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@609759ed\n2023-02-09T01:08:16.233+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-02-09T01:08:16.233+03:00  INFO 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-02-09T01:08:16.239+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/swagger-ui.html&quot;, parameters={}\n2023-02-09T01:08:16.245+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-02-09T01:08:16.250+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2023-02-09T01:08:16.250+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2023-02-09T01:08:16.254+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2023-02-09T01:08:16.255+03:00 DEBUG 24272 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2023-02-09T01:08:16.276+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]\n2023-02-09T01:08:16.281+03:00 DEBUG 24272 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>Here is my application.properties file shown below</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n\nlogging.level.org.springframework.web=DEBUG\nlogging.level.io.springfox=DEBUG\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/DepremApi\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1622033,"reputation":1825,"user_id":1498378,"accept_rate":55,"display_name":"farrellmr"},"score":0,"creation_date":1434708148,"post_id":30935167,"comment_id":49905519,"body_markdown":"Have you checked the backend data prior to this? If its returning 1 then that should mean one row has been updated","body":"Have you checked the backend data prior to this? If its returning 1 then that should mean one row has been updated"},{"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"score":0,"creation_date":1434708212,"post_id":30935167,"comment_id":49905554,"body_markdown":"Yes, I have confirmed that the data is not updated.","body":"Yes, I have confirmed that the data is not updated."},{"owner":{"account_id":1622033,"reputation":1825,"user_id":1498378,"accept_rate":55,"display_name":"farrellmr"},"score":0,"creation_date":1434708473,"post_id":30935167,"comment_id":49905732,"body_markdown":"As a test - can you try a findByID prior to update to check values? It might be the database has a cascade update on this field that your not aware of","body":"As a test - can you try a findByID prior to update to check values? It might be the database has a cascade update on this field that your not aware of"},{"owner":{"account_id":161274,"reputation":6294,"user_id":381897,"accept_rate":100,"display_name":"bhdrkn"},"score":0,"creation_date":1434710185,"post_id":30935167,"comment_id":49906800,"body_markdown":"what is the result of this query if you run it directly in database not through java?","body":"what is the result of this query if you run it directly in database not through java?"},{"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"score":0,"creation_date":1434712091,"post_id":30935167,"comment_id":49907950,"body_markdown":"I can confirm that there is no update taking place in the database. Whether I query the data again via the application or back-end after the update process it shows the same old values. Unless it&#39;s a bug or I&#39;m missing something obvious I don&#39;t know why the JPA is returning 1 here.\n@farrellmr, I&#39;ve just tried the findByID prior to checking the values: it&#39;s still the same value. So there is no unexpected update.\nbhdrkn, it updates 0 record.","body":"I can confirm that there is no update taking place in the database. Whether I query the data again via the application or back-end after the update process it shows the same old values. Unless it&#39;s a bug or I&#39;m missing something obvious I don&#39;t know why the JPA is returning 1 here. @farrellmr, I&#39;ve just tried the findByID prior to checking the values: it&#39;s still the same value. So there is no unexpected update. bhdrkn, it updates 0 record."},{"owner":{"account_id":1810587,"reputation":1264,"user_id":1646741,"accept_rate":75,"display_name":"Sami Korhonen"},"score":0,"creation_date":1434715389,"post_id":30935167,"comment_id":49910074,"body_markdown":"Which persistence provider you&#39;re using? Hibernate, OpenJPA, EclipseLink? Also which database and which database driver version?","body":"Which persistence provider you&#39;re using? Hibernate, OpenJPA, EclipseLink? Also which database and which database driver version?"},{"owner":{"account_id":1622033,"reputation":1825,"user_id":1498378,"accept_rate":55,"display_name":"farrellmr"},"score":0,"creation_date":1434717006,"post_id":30935167,"comment_id":49911110,"body_markdown":"Id enable full logging on your ORM to see whats going on","body":"Id enable full logging on your ORM to see whats going on"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1434720640,"post_id":30935167,"comment_id":49913622,"body_markdown":"and the SQL is? and log entries around that are?","body":"and the SQL is? and log entries around that are?"},{"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"score":0,"creation_date":1434731958,"post_id":30935167,"comment_id":49921240,"body_markdown":"Sami, I&#39;m using EclipseLink. For the database I&#39;m using Oracle 10g with ojdbc5.jar.\nFarrelmr, that&#39;s a good suggestion! Will give it a try next Monday.\n@Neil, do you mean the Select query&#39;s SQL? For the logs are you referring to the ORM logs? I&#39;ll check it out once I&#39;m back in the office next Monday.","body":"Sami, I&#39;m using EclipseLink. For the database I&#39;m using Oracle 10g with ojdbc5.jar. Farrelmr, that&#39;s a good suggestion! Will give it a try next Monday. @Neil, do you mean the Select query&#39;s SQL? For the logs are you referring to the ORM logs? I&#39;ll check it out once I&#39;m back in the office next Monday."}],"answers":[{"tags":[],"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1434947560,"creation_date":1434947560,"answer_id":30972160,"question_id":30935167,"body_markdown":"In the end I have to look into the EclipseLink JPA source code. So the system actually executes this line \r\n\r\n    return Integer.valueOf(1);\r\nfrom the codes inside `basicExecuteCall` method of `DatabaseAccessor` class below:\r\n\r\n    if (isInBatchWritingMode(session)) {\r\n    \t// if there is nothing returned and we are not using optimistic locking then batch\r\n    \t//if it is a StoredProcedure with in/out or out parameters then do not batch\r\n    \t//logic may be weird but we must not batch if we are not using JDBC batchwriting and we have parameters\r\n    \t// we may want to refactor this some day\r\n    \tif (dbCall.isNothingReturned() &amp;&amp; (!dbCall.hasOptimisticLock() || getPlatform().canBatchWriteWithOptimisticLocking(dbCall) ) \r\n    \t\t&amp;&amp; (!dbCall.shouldBuildOutputRow()) &amp;&amp; (getPlatform().usesJDBCBatchWriting() || (!dbCall.hasParameters())) &amp;&amp; (!dbCall.isLOBLocatorNeeded())) {\r\n    \t\t// this will handle executing batched statements, or switching mechanisms if required\r\n    \t\tgetActiveBatchWritingMechanism().appendCall(session, dbCall);\r\n    \t\t//bug 4241441: passing 1 back to avoid optimistic lock exceptions since there   \r\n    \t\t// is no way to know if it succeeded on the DB at this point.\r\n    \t\treturn Integer.valueOf(1);\r\n    \t} else {\r\n    \t\tgetActiveBatchWritingMechanism().executeBatchedStatements(session);\r\n    \t}\r\n    }\r\n\r\nOne easy hack will be by not using the batch. I&#39;ve tried turning it off in persistence.xml and the update returns the expected value, which is 0.\r\n\r\n    &lt;property name=&quot;eclipselink.jdbc.batch-writing&quot; value=&quot;none&quot; /&gt;\r\nI&#39;m expecting better solution but this one will do for now in my situation.","title":"JPA executeUpdate always returns 1","body":"<p>In the end I have to look into the EclipseLink JPA source code. So the system actually executes this line </p>\n\n<pre><code>return Integer.valueOf(1);\n</code></pre>\n\n<p>from the codes inside <code>basicExecuteCall</code> method of <code>DatabaseAccessor</code> class below:</p>\n\n<pre><code>if (isInBatchWritingMode(session)) {\n    // if there is nothing returned and we are not using optimistic locking then batch\n    //if it is a StoredProcedure with in/out or out parameters then do not batch\n    //logic may be weird but we must not batch if we are not using JDBC batchwriting and we have parameters\n    // we may want to refactor this some day\n    if (dbCall.isNothingReturned() &amp;&amp; (!dbCall.hasOptimisticLock() || getPlatform().canBatchWriteWithOptimisticLocking(dbCall) ) \n        &amp;&amp; (!dbCall.shouldBuildOutputRow()) &amp;&amp; (getPlatform().usesJDBCBatchWriting() || (!dbCall.hasParameters())) &amp;&amp; (!dbCall.isLOBLocatorNeeded())) {\n        // this will handle executing batched statements, or switching mechanisms if required\n        getActiveBatchWritingMechanism().appendCall(session, dbCall);\n        //bug 4241441: passing 1 back to avoid optimistic lock exceptions since there   \n        // is no way to know if it succeeded on the DB at this point.\n        return Integer.valueOf(1);\n    } else {\n        getActiveBatchWritingMechanism().executeBatchedStatements(session);\n    }\n}\n</code></pre>\n\n<p>One easy hack will be by not using the batch. I've tried turning it off in persistence.xml and the update returns the expected value, which is 0.</p>\n\n<pre><code>&lt;property name=\"eclipselink.jdbc.batch-writing\" value=\"none\" /&gt;\n</code></pre>\n\n<p>I'm expecting better solution but this one will do for now in my situation.</p>\n"},{"tags":[],"owner":{"account_id":302748,"reputation":476,"user_id":611287,"display_name":"Cristian Badila"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675937459,"creation_date":1675873556,"answer_id":75388798,"question_id":30935167,"body_markdown":"I know that this question and answer are pretty old but since I stumbled upon this same problem recently and figured out a solution for my use-case (keep batch-writing enabled and still get the updated rows count for some queries), I figured my solution might be helpful to somebody else in the future.\r\n\r\nBasically, you can use a query hint to signal that a specific query does not support batch execution. The code to do this is something like this:\r\n```java\r\nimport org.eclipse.persistence.config.HintValues;\r\nimport org.eclipse.persistence.config.QueryHints;\r\nimport javax.persistence.Query;\r\n\r\npublic class EclipseLinkUtils {\r\n  public static void disableBatchWriting(Query query) {\r\n       query.setHint(QueryHints.BATCH_WRITING, HintValues.FALSE);\r\n  }\r\n}\r\n```","title":"JPA executeUpdate always returns 1","body":"<p>I know that this question and answer are pretty old but since I stumbled upon this same problem recently and figured out a solution for my use-case (keep batch-writing enabled and still get the updated rows count for some queries), I figured my solution might be helpful to somebody else in the future.</p>\n<p>Basically, you can use a query hint to signal that a specific query does not support batch execution. The code to do this is something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.persistence.config.HintValues;\nimport org.eclipse.persistence.config.QueryHints;\nimport javax.persistence.Query;\n\npublic class EclipseLinkUtils {\n  public static void disableBatchWriting(Query query) {\n       query.setHint(QueryHints.BATCH_WRITING, HintValues.FALSE);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3637,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30972160,"answer_count":2,"score":3,"last_activity_date":1675937459,"creation_date":1434707684,"question_id":30935167,"body_markdown":"I&#39;m having an issue here where the executeUpdate command always returns value 1 even though there&#39;s no record to be updated. \r\n\r\nFirst I retrieve several records, do a bit of calculation, and then update the status of some of the retrieved records.\r\n\r\nThe JPA update code:\r\n\r\n    private int executeUpdateStatusToSuccess(Long id, Query updateQuery) {\r\n    \tupdateQuery.setParameter(1, getSysdateFromDB());\r\n    \tupdateQuery.setParameter(2, id);\r\n    \tint cnt = updateQuery.executeUpdate();\r\n    \treturn cnt; // always return 1\r\n    }\r\n\r\nThe update query:\r\n\r\n    UPDATE PRODUCT_PARAM SET STATUS = 2, DATA_TIMESTAMP=? WHERE ID = ? AND STATUS=-1\r\n\r\nNote that **STATUS** column is practically never valued &lt; 0. I&#39;m purposely adding this condition here just to show that even though it shouldn&#39;t have updated any record, the executeUpdate() still returns the value 1.\r\n\r\nAs an additional note, there is no update process anywhere between the data retrieval and the update. It&#39;s all done within my local environment.\r\n\r\nAny advice if I&#39;m possibly missing anything here? Or if there&#39;s some configuration parameter that I need to checK?\r\n\r\nEDIT:\r\nFor the JPA I&#39;m using EclipseLink.\r\nFor the database I&#39;m using Oracle 10g with driver ojdbc5.jar.","title":"JPA executeUpdate always returns 1","body":"<p>I'm having an issue here where the executeUpdate command always returns value 1 even though there's no record to be updated. </p>\n\n<p>First I retrieve several records, do a bit of calculation, and then update the status of some of the retrieved records.</p>\n\n<p>The JPA update code:</p>\n\n<pre><code>private int executeUpdateStatusToSuccess(Long id, Query updateQuery) {\n    updateQuery.setParameter(1, getSysdateFromDB());\n    updateQuery.setParameter(2, id);\n    int cnt = updateQuery.executeUpdate();\n    return cnt; // always return 1\n}\n</code></pre>\n\n<p>The update query:</p>\n\n<pre><code>UPDATE PRODUCT_PARAM SET STATUS = 2, DATA_TIMESTAMP=? WHERE ID = ? AND STATUS=-1\n</code></pre>\n\n<p>Note that <strong>STATUS</strong> column is practically never valued &lt; 0. I'm purposely adding this condition here just to show that even though it shouldn't have updated any record, the executeUpdate() still returns the value 1.</p>\n\n<p>As an additional note, there is no update process anywhere between the data retrieval and the update. It's all done within my local environment.</p>\n\n<p>Any advice if I'm possibly missing anything here? Or if there's some configuration parameter that I need to checK?</p>\n\n<p>EDIT:\nFor the JPA I'm using EclipseLink.\nFor the database I'm using Oracle 10g with driver ojdbc5.jar.</p>\n"},{"tags":["java","hibernate","jpa","orm","spring-data-jpa"],"comments":[{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1599830952,"post_id":63847675,"comment_id":112904647,"body_markdown":"You cannot do this, if you need only active children, fetch separately using `ChildDao` using `control_id` and `is_active` and then fetch parent separately and write your logic.","body":"You cannot do this, if you need only active children, fetch separately using <code>ChildDao</code> using <code>control_id</code> and <code>is_active</code> and then fetch parent separately and write your logic."},{"owner":{"account_id":19052452,"reputation":29,"user_id":13910319,"display_name":"raj dhanani"},"score":0,"creation_date":1599853032,"post_id":63847675,"comment_id":112914155,"body_markdown":"can you suggest the approach?","body":"can you suggest the approach?"}],"answers":[{"comments":[{"owner":{"account_id":19052452,"reputation":29,"user_id":13910319,"display_name":"raj dhanani"},"score":0,"creation_date":1599834264,"post_id":63848280,"comment_id":112906366,"body_markdown":"it returns with 2020-09-11 19:52:49.851 ERROR 12876 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column &#39;p&#39; in &#39;field list&#39;","body":"it returns with 2020-09-11 19:52:49.851 ERROR 12876 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column &#39;p&#39; in &#39;field list&#39;"},{"owner":{"account_id":5447,"reputation":582,"user_id":8770,"display_name":"Alex Zuroff"},"score":1,"creation_date":1599879688,"post_id":63848280,"comment_id":112919670,"body_markdown":"Since it&#39;s a native query you&#39;d want `SELECT p.* FROM ...`","body":"Since it&#39;s a native query you&#39;d want <code>SELECT p.* FROM ...</code>"}],"tags":[],"owner":{"account_id":12657551,"reputation":26,"user_id":9199588,"display_name":"Rapha&#235;l C."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599831671,"creation_date":1599831671,"answer_id":63848280,"question_id":63847675,"body_markdown":"You need to return only the parent, not the whole join. As it is, your query returns a collection of parent and child joined together.\r\n\r\n```\r\nSELECT p FROM parent p inner join child c on p.id = c.control_id WHERE (c.is_active = 1 and p.id = :entry_id)\r\n```","title":"&quot;where&quot; condition not working correctly in join query in JPA (native query)","body":"<p>You need to return only the parent, not the whole join. As it is, your query returns a collection of parent and child joined together.</p>\n<pre><code>SELECT p FROM parent p inner join child c on p.id = c.control_id WHERE (c.is_active = 1 and p.id = :entry_id)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19052452,"reputation":29,"user_id":13910319,"display_name":"raj dhanani"},"score":0,"creation_date":1599896495,"post_id":63856385,"comment_id":112922274,"body_markdown":"So what you are saying is I should fetch child list first and then set that into parent object? if that is the case then, when we call parentDao.findById(id); it fetches all the data which makes api really slow, because there will be more than 1000 inactive childs. how do I stop this, so that it will only fetch parent Object without child list??","body":"So what you are saying is I should fetch child list first and then set that into parent object? if that is the case then, when we call parentDao.findById(id); it fetches all the data which makes api really slow, because there will be more than 1000 inactive childs. how do I stop this, so that it will only fetch parent Object without child list??"},{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1599899030,"post_id":63856385,"comment_id":112922803,"body_markdown":"In my answer, I have suggested to fetch `children` in separate call, not using `parent`, I have included parent thinking that you might need some information from parent object to include in you logic. You have not given the whole use case what you want to do, if only the active children you want to fetch then fetch them using you condition using `ChildDao` if you want in both parent and child in one query, you need custom query, it cannot be done the way you are thinking, AFAIK.","body":"In my answer, I have suggested to fetch <code>children</code> in separate call, not using <code>parent</code>, I have included parent thinking that you might need some information from parent object to include in you logic. You have not given the whole use case what you want to do, if only the active children you want to fetch then fetch them using you condition using <code>ChildDao</code> if you want in both parent and child in one query, you need custom query, it cannot be done the way you are thinking, AFAIK."}],"tags":[],"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1599879595,"creation_date":1599879256,"answer_id":63856385,"question_id":63847675,"body_markdown":"You already have child repository which you can use to fetch children \r\n\r\n```\r\n@EnableJpaRepositories\r\npublic interface ChildDao extends JpaRepository&lt;Child, Long&gt; {\r\n      // Method in this manner will be automatically converted into a query\r\n      List&lt;Child&gt; findByControl_idAndIs_active(Long control_id, Boolean is_active);\r\n}\r\n\r\n// Use it like this\r\nList&lt;Child&gt; children = childDao.findByControl_idAndIs_active(control_id, true); \r\n\r\n// Then fetch the Parent separately or can fetch before also\r\nOptional&lt;Parent&gt; parent = parentDao.findById(parent_id);\r\n```\r\nIf you are wondering from where these methods came then please [See This](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation)\r\n\r\nBut if you want to fetch parent and child both in one query as a same structure then it wouldn&#39;t be possible, one thing you can do is fetch using custom query into a List of Dto with required fields and then create parent-child like structure in your code.\r\n\r\nOne suggestion, you should name variable in camel case in java i.e controlId instead of control_id and use `@column(name=&#39;control_id&#39;)` but its your choice :)","title":"&quot;where&quot; condition not working correctly in join query in JPA (native query)","body":"<p>You already have child repository which you can use to fetch children</p>\n<pre><code>@EnableJpaRepositories\npublic interface ChildDao extends JpaRepository&lt;Child, Long&gt; {\n      // Method in this manner will be automatically converted into a query\n      List&lt;Child&gt; findByControl_idAndIs_active(Long control_id, Boolean is_active);\n}\n\n// Use it like this\nList&lt;Child&gt; children = childDao.findByControl_idAndIs_active(control_id, true); \n\n// Then fetch the Parent separately or can fetch before also\nOptional&lt;Parent&gt; parent = parentDao.findById(parent_id);\n</code></pre>\n<p>If you are wondering from where these methods came then please <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">See This</a></p>\n<p>But if you want to fetch parent and child both in one query as a same structure then it wouldn't be possible, one thing you can do is fetch using custom query into a List of Dto with required fields and then create parent-child like structure in your code.</p>\n<p>One suggestion, you should name variable in camel case in java i.e controlId instead of control_id and use <code>@column(name='control_id')</code> but its your choice :)</p>\n"},{"tags":[],"owner":{"account_id":9049597,"reputation":88,"user_id":6740371,"display_name":"Mohammed ESSABRI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675937427,"creation_date":1675359990,"answer_id":75327046,"question_id":63847675,"body_markdown":"You need to use `join fetch child` instead of `join child` in order that JPA uses only one SQL Query and returns the parent items having the good child","title":"&quot;where&quot; condition not working correctly in join query in JPA (native query)","body":"<p>You need to use <code>join fetch child</code> instead of <code>join child</code> in order that JPA uses only one SQL Query and returns the parent items having the good child</p>\n"}],"owner":{"account_id":19052452,"reputation":29,"user_id":13910319,"display_name":"raj dhanani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63856385,"answer_count":3,"score":0,"last_activity_date":1675937427,"creation_date":1599829493,"question_id":63847675,"body_markdown":"I am using Spring Boot Starter Web with MYSQL and JPA. I have created Entities as:\r\n\r\n**parent:**\r\n```\r\n@Entity\r\n@Table(name = &quot;parent&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Parent{\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n\r\n   @OneToMany(cascade = CascadeType.ALL)\r\n   @JoinColumn(name = &quot;control_id&quot;, referencedColumnName = &quot;id&quot;)\r\n   private List&lt;Child&gt; childList;\r\n\r\n}\r\n```\r\n\r\n**Child:**\r\n```\r\n@Entity\r\n@Table(name = &quot;child&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Child{\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n   private Long control_id;\r\n   private Boolean is_active;\r\n\r\n}\r\n```\r\n\r\nI have 2 DAOs for both of them as\r\n```\r\n@EnableJpaRepositories\r\npublic interface ParentDao extends JpaRepository&lt;Parent, Long&gt; {\r\n     @Query(value = &quot;SELECT * FROM parent as p inner join child as c on p.id = c.control_id WHERE (c.is_active = 1 and p.id = :entry_id)&quot;, nativeQuery = true)\r\n    Parent findActiveById(@Param(&quot;entry_id&quot;) Long aLong);\r\n}\r\n\r\n@EnableJpaRepositories\r\npublic interface ChildDao extends JpaRepository&lt;Child, Long&gt; {\r\n      \r\n}\r\n```\r\n\r\nHere what I am trying to achieve is, I want to fetch an Object of Parent with all the Child which are active. but this returns everything, is_active = 1 as well as 0.","title":"&quot;where&quot; condition not working correctly in join query in JPA (native query)","body":"<p>I am using Spring Boot Starter Web with MYSQL and JPA. I have created Entities as:</p>\n<p><strong>parent:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;parent&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Parent{\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n\n   @OneToMany(cascade = CascadeType.ALL)\n   @JoinColumn(name = &quot;control_id&quot;, referencedColumnName = &quot;id&quot;)\n   private List&lt;Child&gt; childList;\n\n}\n</code></pre>\n<p><strong>Child:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;child&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Child{\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n   private Long control_id;\n   private Boolean is_active;\n\n}\n</code></pre>\n<p>I have 2 DAOs for both of them as</p>\n<pre><code>@EnableJpaRepositories\npublic interface ParentDao extends JpaRepository&lt;Parent, Long&gt; {\n     @Query(value = &quot;SELECT * FROM parent as p inner join child as c on p.id = c.control_id WHERE (c.is_active = 1 and p.id = :entry_id)&quot;, nativeQuery = true)\n    Parent findActiveById(@Param(&quot;entry_id&quot;) Long aLong);\n}\n\n@EnableJpaRepositories\npublic interface ChildDao extends JpaRepository&lt;Child, Long&gt; {\n      \n}\n</code></pre>\n<p>Here what I am trying to achieve is, I want to fetch an Object of Parent with all the Child which are active. but this returns everything, is_active = 1 as well as 0.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675937221,"post_id":75396974,"comment_id":133036560,"body_markdown":"HTTP basic (with the browser at least) after succesful authentication doesn&#39;t re-authenticate and automatically sends the right header. YOu would need to stop your browser, close it and retry.","body":"HTTP basic (with the browser at least) after succesful authentication doesn&#39;t re-authenticate and automatically sends the right header. YOu would need to stop your browser, close it and retry."},{"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"score":0,"creation_date":1675938761,"post_id":75396974,"comment_id":133037048,"body_markdown":"Is there a way to force reauth in the GET call from controller or security config?","body":"Is there a way to force reauth in the GET call from controller or security config?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675939572,"post_id":75396974,"comment_id":133037297,"body_markdown":"Historically there was an option to set to always re-authenticate. But I&#39;m not sure that still exists, next to that you are still at he perills of your browser to include the new or the old header. So that might not even fix it.","body":"Historically there was an option to set to always re-authenticate. But I&#39;m not sure that still exists, next to that you are still at he perills of your browser to include the new or the old header. So that might not even fix it."}],"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675936893,"creation_date":1675936893,"question_id":75396974,"body_markdown":"Being new to Spring security, was trying a simple REST GET call with HTTP Basic Authentication. Scenario :\r\n For correct usr/pwd, gives http ok. Then I change only the pwd. For incorrect pwd also it gives 200 ok. And the server log says :\r\n*o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate*\r\nQuestion - how do I reauth every time and send http 401 unauthorized to the client?\r\nCode :\r\n\r\n```\r\n\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        log.info(&quot;In securityFilterChain with HttpSecurity&quot;);\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()//Customizer.withDefaults())\r\n                .authenticationEntryPoint(authEntryPoint);\r\n        return http.build();\r\n    }\r\n    \r\n    @Bean\r\n    public UserDetailsService initUser() {\r\n        UserDetails user = User.builder()\r\n                .username(&quot;basic&quot;)\r\n                .password(encoder.encode(&quot;basic123&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean \r\n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\r\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\r\n                .userDetailsService(initUser())\r\n                .and()\r\n                .build();\r\n    }\r\n```\r\n","title":"Query on Http Basic Authentication in Spring Security","body":"<p>Being new to Spring security, was trying a simple REST GET call with HTTP Basic Authentication. Scenario :\nFor correct usr/pwd, gives http ok. Then I change only the pwd. For incorrect pwd also it gives 200 ok. And the server log says :\n<em>o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate</em>\nQuestion - how do I reauth every time and send http 401 unauthorized to the client?\nCode :</p>\n<pre><code>\n@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        log.info(&quot;In securityFilterChain with HttpSecurity&quot;);\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()//Customizer.withDefaults())\n                .authenticationEntryPoint(authEntryPoint);\n        return http.build();\n    }\n    \n    @Bean\n    public UserDetailsService initUser() {\n        UserDetails user = User.builder()\n                .username(&quot;basic&quot;)\n                .password(encoder.encode(&quot;basic123&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean \n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\n                .userDetailsService(initUser())\n                .and()\n                .build();\n    }\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","fragment"],"comments":[{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1675938119,"post_id":75396960,"comment_id":133036843,"body_markdown":"Exception shows your adapter is null. It might happens when your fragment has been disposed from memory - it might happen with one of implementation of ```PagerAdapter```. Although it usually happens when you left this tab, but not when you just entered it. Double check fragments instantiation in this adapter. Also please take a look on ```DiffUtil``` usage, it a right way to submit a new data into ```RecyclerView``` https://developer.android.com/reference/androidx/paging/AsyncPagedListDiffer. Here is also a codelab for reference https://cutt.ly/e3g3FYd","body":"Exception shows your adapter is null. It might happens when your fragment has been disposed from memory - it might happen with one of implementation of <code>PagerAdapter</code>. Although it usually happens when you left this tab, but not when you just entered it. Double check fragments instantiation in this adapter. Also please take a look on <code>DiffUtil</code> usage, it a right way to submit a new data into <code>RecyclerView</code> <a href=\"https://developer.android.com/reference/androidx/paging/AsyncPagedListDiffer\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/paging/&hellip;</a>. Here is also a codelab for reference <a href=\"https://cutt.ly/e3g3FYd\" rel=\"nofollow noreferrer\">cutt.ly/e3g3FYd</a>"},{"owner":{"account_id":7411554,"reputation":304,"user_id":5638728,"accept_rate":90,"display_name":"jptl431"},"score":0,"creation_date":1675942511,"post_id":75396960,"comment_id":133038197,"body_markdown":"Thanks @Gleichmut, will look into it or try find another way to do this","body":"Thanks @Gleichmut, will look into it or try find another way to do this"}],"owner":{"account_id":7411554,"reputation":304,"user_id":5638728,"accept_rate":90,"display_name":"jptl431"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675936808,"creation_date":1675936808,"question_id":75396960,"body_markdown":"I am trying to implement a sales app with 3 stages, whereby a user first adds the items, views the cart to checkout and prints a receipt. The first stage is done and works well. I am implementing this using one Activity with a tabbed layout and 3 fragments for each of the tabs.\r\n\r\nOn the activity for viewing the cart, I am using a RecyclerView which loads well when the activity is created, but once I add an item and try to view the list, there is no update. However, when I print the item list, the item has been added. \r\n\r\nI have tried to update the RecyclerView using `notifyDataSetChanged()` but it gives me a null pointer exception. I have and tried several solutions but none has worked. Kindly assist.\r\n\r\nBelow is my code.\r\n\r\n`NewSaleActivity.java`\r\n\r\n    public class NewSaleActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n        private ActivityNewSaleBinding binding;\r\n        DrawerLayout drawerLayout;\r\n        NavigationView navigationView;\r\n        TabLayout tabLayout;\r\n        Context context;\r\n        ViewPager viewPager;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityNewSaleBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            Toolbar toolbar = findViewById(R.id.new_sale_toolbar);\r\n            toolbar.setTitle(R.string.new_sale);\r\n            setSupportActionBar(toolbar);\r\n    \r\n            drawerLayout = findViewById(R.id.new_sale_drawer);\r\n            navigationView = findViewById(R.id.new_sale_navigation);\r\n            navigationView.bringToFront();\r\n    \r\n            navigationView.setNavigationItemSelectedListener(this);\r\n            navigationView.setCheckedItem(R.id.nav_sale);\r\n    \r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawerLayout.addDrawerListener(toggle);\r\n            toggle.setDrawerIndicatorEnabled(true);\r\n            toggle.syncState();\r\n    \r\n            context = getApplicationContext();\r\n    \r\n            tabLayout = findViewById(R.id.tab_layout);\r\n    \r\n            SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(this, getSupportFragmentManager());\r\n            viewPager = binding.viewPager;\r\n            viewPager.setAdapter(sectionsPagerAdapter);\r\n            viewPager.setOffscreenPageLimit(1);\r\n            TabLayout tabs = binding.tabLayout;\r\n            tabs.setupWithViewPager(viewPager);\r\n    \r\n            viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\r\n            tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                @Override\r\n                public void onTabSelected(TabLayout.Tab tab) {\r\n                    //When cart tab is selected\r\n                    if(tab.getPosition() == 1) {\r\n                        CartFragment cartFragment = new CartFragment();\r\n                        cartFragment.loadItemsInCart();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onTabUnselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTabReselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            switch (item.getItemId()) {\r\n                case R.id.nav_home:\r\n                    Intent mainIntent = new Intent(NewSaleActivity.this, MainActivity.class);\r\n                    startActivity(mainIntent);\r\n                    finish();\r\n                    break;\r\n    \r\n                case R.id.nav_inventory:\r\n                    Intent inventoryIntent = new Intent(NewSaleActivity.this, InventoryActivity.class);\r\n                    startActivity(inventoryIntent);\r\n                    finish();\r\n                    break;\r\n    \r\n                case R.id.nav_sale:\r\n                    break;\r\n    \r\n                case R.id.nav_logout:\r\n                    UserLogout.userLogout(NewSaleActivity.this);\r\n                    break;\r\n            }\r\n    \r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n`CartFragment.java`\r\n\r\n    public class CartFragment extends Fragment {\r\n    RecyclerView cartRecyclerView;\r\n    TextInputLayout grossTotalInput, discountInput, netTotalInput;\r\n    Button checkoutButton;\r\n    CartItemAdapter cartItemAdapter;\r\n    ArrayList&lt;CartItem&gt; cartItemList;\r\n\r\n    public CartFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static CartFragment newInstance() {\r\n        CartFragment fragment = new CartFragment();\r\n        Bundle args = new Bundle();\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        cartRecyclerView = view.findViewById(R.id.cart_recycler_view);\r\n        grossTotalInput = view.findViewById(R.id.gross_total_input);\r\n        discountInput = view.findViewById(R.id.discount_input);\r\n        netTotalInput = view.findViewById(R.id.net_total_input);\r\n        checkoutButton = view.findViewById(R.id.checkout_button);\r\n\r\n        Paper.init(requireContext());\r\n\r\n        cartItemList = Paper.book().read(&quot;cartItems&quot;, new ArrayList&lt;CartItem&gt;());\r\n        cartRecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        cartItemAdapter = new CartItemAdapter(cartItemList);\r\n        cartRecyclerView.setAdapter(cartItemAdapter);\r\n\r\n        checkoutButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                checkoutOrder();\r\n            }\r\n        });\r\n\r\n        cartItemAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        return inflater.inflate(R.layout.fragment_cart, container, false);\r\n    }\r\n\r\n    public void loadItemsInCart() {\r\n        ArrayList&lt;CartItem&gt; cartList = Paper.book().read(&quot;cartItems&quot;, new ArrayList&lt;CartItem&gt;());\r\n        for(CartItem cartItem : cartList) {\r\n            Log.d(&quot;cartItem&quot;, cartItem.getItemName());\r\n        }\r\n\r\n        cartItemAdapter.updateCartList(cartList);\r\n\r\n        Log.d(&quot;loadItemsInCart&quot;, &quot;Load Items In Cart is triggered&quot;);\r\n    }\r\n\r\n\r\n\r\n`CartItemAdapter.java`\r\n\r\n    public class CartItemAdapter extends RecyclerView.Adapter&lt;CartItemAdapter.ViewHolder&gt; {\r\n    \r\n        private final ArrayList&lt;CartItem&gt; cartItems;\r\n    \r\n        public CartItemAdapter(ArrayList&lt;CartItem&gt; cartItems) {\r\n            this.cartItems = cartItems;\r\n        }\r\n    \r\n        public static class ViewHolder extends RecyclerView.ViewHolder {\r\n            public TextView itemCode, itemName, quantity, price;\r\n    \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n    \r\n                this.itemCode = itemView.findViewById(R.id.item_code);\r\n                this.itemName = itemView.findViewById(R.id.item_name);\r\n                this.quantity = itemView.findViewById(R.id.item_quantity);\r\n                this.price = itemView.findViewById(R.id.item_price);\r\n            }\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n            View cartListItem = layoutInflater.inflate(R.layout.add_to_cart_item, parent, false);\r\n            return new CartItemAdapter.ViewHolder(cartListItem);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.itemCode.setText(cartItems.get(position).getItemCode());\r\n            holder.itemName.setText(cartItems.get(position).getItemName());\r\n            holder.quantity.setText(cartItems.get(position).getQuantity().toString());\r\n            holder.price.setText(cartItems.get(position).getTotalAmount().toString());\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return cartItems.size();\r\n        }\r\n    \r\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n        public void updateCartList(ArrayList&lt;CartItem&gt; cartList) {\r\n            cartItems.clear();\r\n            this.cartItems.addAll(cartList);\r\n            notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n\r\nThe error message that I get is as below\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void app.project.jsml_sales_app.adapters.CartItemAdapter.updateCartList(java.util.ArrayList)&#39; on a null object reference\r\n        at app.project.jsml_sales_app.activities.fragments.CartFragment.loadItemsInCart(CartFragment.java:128)\r\n        at app.project.jsml_sales_app.activities.NewSaleActivity$1.onTabSelected(NewSaleActivity.java:78)\r\n        at com.google.android.material.tabs.TabLayout.dispatchTabSelected(TabLayout.java:1993)\r\n        at com.google.android.material.tabs.TabLayout.selectTab(TabLayout.java:1986)","title":"RecyclerView not updating on Fragment - Adapter shows null on notifyDataSetChanged()","body":"<p>I am trying to implement a sales app with 3 stages, whereby a user first adds the items, views the cart to checkout and prints a receipt. The first stage is done and works well. I am implementing this using one Activity with a tabbed layout and 3 fragments for each of the tabs.</p>\n<p>On the activity for viewing the cart, I am using a RecyclerView which loads well when the activity is created, but once I add an item and try to view the list, there is no update. However, when I print the item list, the item has been added.</p>\n<p>I have tried to update the RecyclerView using <code>notifyDataSetChanged()</code> but it gives me a null pointer exception. I have and tried several solutions but none has worked. Kindly assist.</p>\n<p>Below is my code.</p>\n<p><code>NewSaleActivity.java</code></p>\n<pre><code>public class NewSaleActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    private ActivityNewSaleBinding binding;\n    DrawerLayout drawerLayout;\n    NavigationView navigationView;\n    TabLayout tabLayout;\n    Context context;\n    ViewPager viewPager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityNewSaleBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        Toolbar toolbar = findViewById(R.id.new_sale_toolbar);\n        toolbar.setTitle(R.string.new_sale);\n        setSupportActionBar(toolbar);\n\n        drawerLayout = findViewById(R.id.new_sale_drawer);\n        navigationView = findViewById(R.id.new_sale_navigation);\n        navigationView.bringToFront();\n\n        navigationView.setNavigationItemSelectedListener(this);\n        navigationView.setCheckedItem(R.id.nav_sale);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawerLayout.addDrawerListener(toggle);\n        toggle.setDrawerIndicatorEnabled(true);\n        toggle.syncState();\n\n        context = getApplicationContext();\n\n        tabLayout = findViewById(R.id.tab_layout);\n\n        SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(this, getSupportFragmentManager());\n        viewPager = binding.viewPager;\n        viewPager.setAdapter(sectionsPagerAdapter);\n        viewPager.setOffscreenPageLimit(1);\n        TabLayout tabs = binding.tabLayout;\n        tabs.setupWithViewPager(viewPager);\n\n        viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                //When cart tab is selected\n                if(tab.getPosition() == 1) {\n                    CartFragment cartFragment = new CartFragment();\n                    cartFragment.loadItemsInCart();\n                }\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.nav_home:\n                Intent mainIntent = new Intent(NewSaleActivity.this, MainActivity.class);\n                startActivity(mainIntent);\n                finish();\n                break;\n\n            case R.id.nav_inventory:\n                Intent inventoryIntent = new Intent(NewSaleActivity.this, InventoryActivity.class);\n                startActivity(inventoryIntent);\n                finish();\n                break;\n\n            case R.id.nav_sale:\n                break;\n\n            case R.id.nav_logout:\n                UserLogout.userLogout(NewSaleActivity.this);\n                break;\n        }\n\n        drawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n    }\n}\n</code></pre>\n<p><code>CartFragment.java</code></p>\n<pre><code>public class CartFragment extends Fragment {\nRecyclerView cartRecyclerView;\nTextInputLayout grossTotalInput, discountInput, netTotalInput;\nButton checkoutButton;\nCartItemAdapter cartItemAdapter;\nArrayList&lt;CartItem&gt; cartItemList;\n\npublic CartFragment() {\n    // Required empty public constructor\n}\n\npublic static CartFragment newInstance() {\n    CartFragment fragment = new CartFragment();\n    Bundle args = new Bundle();\n    return fragment;\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    cartRecyclerView = view.findViewById(R.id.cart_recycler_view);\n    grossTotalInput = view.findViewById(R.id.gross_total_input);\n    discountInput = view.findViewById(R.id.discount_input);\n    netTotalInput = view.findViewById(R.id.net_total_input);\n    checkoutButton = view.findViewById(R.id.checkout_button);\n\n    Paper.init(requireContext());\n\n    cartItemList = Paper.book().read(&quot;cartItems&quot;, new ArrayList&lt;CartItem&gt;());\n    cartRecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    cartItemAdapter = new CartItemAdapter(cartItemList);\n    cartRecyclerView.setAdapter(cartItemAdapter);\n\n    checkoutButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            checkoutOrder();\n        }\n    });\n\n    cartItemAdapter.notifyDataSetChanged();\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n    return inflater.inflate(R.layout.fragment_cart, container, false);\n}\n\npublic void loadItemsInCart() {\n    ArrayList&lt;CartItem&gt; cartList = Paper.book().read(&quot;cartItems&quot;, new ArrayList&lt;CartItem&gt;());\n    for(CartItem cartItem : cartList) {\n        Log.d(&quot;cartItem&quot;, cartItem.getItemName());\n    }\n\n    cartItemAdapter.updateCartList(cartList);\n\n    Log.d(&quot;loadItemsInCart&quot;, &quot;Load Items In Cart is triggered&quot;);\n}\n</code></pre>\n<p><code>CartItemAdapter.java</code></p>\n<pre><code>public class CartItemAdapter extends RecyclerView.Adapter&lt;CartItemAdapter.ViewHolder&gt; {\n\n    private final ArrayList&lt;CartItem&gt; cartItems;\n\n    public CartItemAdapter(ArrayList&lt;CartItem&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView itemCode, itemName, quantity, price;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            this.itemCode = itemView.findViewById(R.id.item_code);\n            this.itemName = itemView.findViewById(R.id.item_name);\n            this.quantity = itemView.findViewById(R.id.item_quantity);\n            this.price = itemView.findViewById(R.id.item_price);\n        }\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View cartListItem = layoutInflater.inflate(R.layout.add_to_cart_item, parent, false);\n        return new CartItemAdapter.ViewHolder(cartListItem);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.itemCode.setText(cartItems.get(position).getItemCode());\n        holder.itemName.setText(cartItems.get(position).getItemName());\n        holder.quantity.setText(cartItems.get(position).getQuantity().toString());\n        holder.price.setText(cartItems.get(position).getTotalAmount().toString());\n    }\n\n    @Override\n    public int getItemCount() {\n        return cartItems.size();\n    }\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    public void updateCartList(ArrayList&lt;CartItem&gt; cartList) {\n        cartItems.clear();\n        this.cartItems.addAll(cartList);\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>The error message that I get is as below</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void app.project.jsml_sales_app.adapters.CartItemAdapter.updateCartList(java.util.ArrayList)' on a null object reference\n    at app.project.jsml_sales_app.activities.fragments.CartFragment.loadItemsInCart(CartFragment.java:128)\n    at app.project.jsml_sales_app.activities.NewSaleActivity$1.onTabSelected(NewSaleActivity.java:78)\n    at com.google.android.material.tabs.TabLayout.dispatchTabSelected(TabLayout.java:1993)\n    at com.google.android.material.tabs.TabLayout.selectTab(TabLayout.java:1986)\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1675934573,"post_id":75396468,"comment_id":133035694,"body_markdown":"100 Jars sounds like a lot - do you really want to do the management of the dependencies manually? Where do the JAR files come from, how are they built? Any chance for putting them into a private repo server and have their inter-dependencies managed there as well?","body":"100 Jars sounds like a lot - do you really want to do the management of the dependencies manually? Where do the JAR files come from, how are they built? Any chance for putting them into a private repo server and have their inter-dependencies managed there as well?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675937356,"post_id":75396468,"comment_id":133036607,"body_markdown":"Have a look at [maven-assembly](https://maven.apache.org/plugins/maven-assembly-plugin/). It allows to copy a complete folder into the result object","body":"Have a look at <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven-assembly</a>. It allows to copy a complete folder into the result object"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675950396,"post_id":75396468,"comment_id":133040603,"body_markdown":"Use a repository manager and upload those files there (maybe via a script using)... after wards you can use all of them as usual deps... you can create jar-with-dependencies","body":"Use a repository manager and upload those files there (maybe via a script using)... after wards you can use all of them as usual deps... you can create jar-with-dependencies"}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1675945052,"post_id":75396944,"comment_id":133038945,"body_markdown":"wouldn&#39;t it be easier in that case to not use maven for the packaging but have a custom script for that?","body":"wouldn&#39;t it be easier in that case to not use maven for the packaging but have a custom script for that?"}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675936745,"creation_date":1675936745,"answer_id":75396944,"question_id":75396468,"body_markdown":"Quick answer: No.\r\n\r\nIn the past, I have written a script for that because there is not support in Maven for this.","title":"Java Maven -&gt; quickls add folder of jars as depencency","body":"<p>Quick answer: No.</p>\n<p>In the past, I have written a script for that because there is not support in Maven for this.</p>\n"}],"owner":{"account_id":1496094,"reputation":1009,"user_id":1402000,"accept_rate":42,"display_name":"Viktor Carlson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675936745,"creation_date":1675934262,"question_id":75396468,"body_markdown":"my Java Project uses a &quot;/libs&quot; folder containing ~100 .jar files. Almost all of them are not in an official maven repository. \r\n\r\n1.) In the moment I manually added to whole folder to the classpath with my Eclipse IDE. That enables to compile and run the App using the Eclipse IDE. But if I want to maven to compile and create jar-with-dependencies, maven of course does not know about the &quot;/libs&quot; folder.\r\n\r\n2.) I know that I can add a jar file to my local maven repo with `mvn install:install-file` but this would take a very long time  because I would also have to open every jar and find the whole package name to insert as &#39;-DgroupId&#39; and the Name of the Main Class to add as &#39;-DartifactId&#39;\r\n\r\n\r\n3.) My Questions:\r\n3.1) Is there an easy way to let maven just include all jars in a folder like I did with my Eclipse IDE? I know that would break the principle of maven that every jar is identified with group and artifact id, but it would be a quick solution.\r\n\r\n3.2) If it is not possible to add a folder with jars as a dependency in maven, is there a faster way to add a jar file into a local repo. It would be easier if there is a maven command where groupId and artifactId are automatically discovered by the jar that I do not have to open every jar file and find the Main Class and its classpath \r\n","title":"Java Maven -&gt; quickls add folder of jars as depencency","body":"<p>my Java Project uses a &quot;/libs&quot; folder containing ~100 .jar files. Almost all of them are not in an official maven repository.</p>\n<p>1.) In the moment I manually added to whole folder to the classpath with my Eclipse IDE. That enables to compile and run the App using the Eclipse IDE. But if I want to maven to compile and create jar-with-dependencies, maven of course does not know about the &quot;/libs&quot; folder.</p>\n<p>2.) I know that I can add a jar file to my local maven repo with <code>mvn install:install-file</code> but this would take a very long time  because I would also have to open every jar and find the whole package name to insert as '-DgroupId' and the Name of the Main Class to add as '-DartifactId'</p>\n<p>3.) My Questions:\n3.1) Is there an easy way to let maven just include all jars in a folder like I did with my Eclipse IDE? I know that would break the principle of maven that every jar is identified with group and artifact id, but it would be a quick solution.</p>\n<p>3.2) If it is not possible to add a folder with jars as a dependency in maven, is there a faster way to add a jar file into a local repo. It would be easier if there is a maven command where groupId and artifactId are automatically discovered by the jar that I do not have to open every jar file and find the Main Class and its classpath</p>\n"},{"tags":["java","http","sockets","request","http-post"],"comments":[{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1675892300,"post_id":75391755,"comment_id":133028307,"body_markdown":"A HTTP body is not guaranteed to end with a  newline character or even include one. Using readLine is the wrong way to read the body, you have to read it as byte stream until length is reached.","body":"A HTTP body is not guaranteed to end with a  newline character or even include one. Using readLine is the wrong way to read the body, you have to read it as byte stream until length is reached."},{"owner":{"account_id":20223850,"reputation":1,"user_id":14832388,"display_name":"Ignasi Ferres"},"score":0,"creation_date":1675935982,"post_id":75391755,"comment_id":133036172,"body_markdown":"thanks for the comment i have find the error","body":"thanks for the comment i have find the error"}],"answers":[{"tags":[],"owner":{"account_id":20223850,"reputation":1,"user_id":14832388,"display_name":"Ignasi Ferres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675936384,"creation_date":1675936340,"answer_id":75396864,"question_id":75391755,"body_markdown":"So the answer to get the body it&#39;s to read the byte and the convert all the byte into chars and get the stringvaluof()\r\n\r\n     char[] bodyChar=new char[length];\t\r\n     while ((n=in.read()) != -1) {\r\n    \tbodyChar[contador]=(char)n.byteValue();\r\n    \t\t\tcontador++;\r\n    \t\t\tif(contador==length) {break;}\r\n    \t\t}\r\n    \t\t\r\n    \t\tline=String.valueOf(bodyChar);","title":"Read body only loads if i cancel the loading HTTP request Post","body":"<p>So the answer to get the body it's to read the byte and the convert all the byte into chars and get the stringvaluof()</p>\n<pre><code> char[] bodyChar=new char[length];  \n while ((n=in.read()) != -1) {\n    bodyChar[contador]=(char)n.byteValue();\n            contador++;\n            if(contador==length) {break;}\n        }\n        \n        line=String.valueOf(bodyChar);\n</code></pre>\n"}],"owner":{"account_id":20223850,"reputation":1,"user_id":14832388,"display_name":"Ignasi Ferres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675936384,"creation_date":1675890527,"question_id":75391755,"body_markdown":"So i having this problem tha when i have to read the body to get the data it only read the body once i cancelled the loading and it sends the mail\r\n\r\nfor the moment i have it works but not as i expected because i want to read the body without having to cancel the loading from the page\r\n\r\n```\r\nprivate String readBody(int length) throws Exception {\r\n\t\tdebug(&quot;COMENSANT LLEGIR BODY&quot;);\r\n\t\tString line;\r\n\t\twhile((line=readLine())!=null) {\r\n\t\t\tdebug(&quot;LINEA-&gt;&gt;&quot;+line);\r\n\t\t\tif(line.length()==length) {\r\n\t\t\t\tdebug(&quot;Sortint del while ja que line-&gt;&quot;+line);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\tdebug(&quot;ACABANT LLEGIR BODY&quot;);\r\n\t\treturn line;\r\n\t}\r\n\r\n```\r\n","title":"Read body only loads if i cancel the loading HTTP request Post","body":"<p>So i having this problem tha when i have to read the body to get the data it only read the body once i cancelled the loading and it sends the mail</p>\n<p>for the moment i have it works but not as i expected because i want to read the body without having to cancel the loading from the page</p>\n<pre><code>private String readBody(int length) throws Exception {\n        debug(&quot;COMENSANT LLEGIR BODY&quot;);\n        String line;\n        while((line=readLine())!=null) {\n            debug(&quot;LINEA-&gt;&gt;&quot;+line);\n            if(line.length()==length) {\n                debug(&quot;Sortint del while ja que line-&gt;&quot;+line);\n                break;\n            }\n        }   \n        debug(&quot;ACABANT LLEGIR BODY&quot;);\n        return line;\n    }\n\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-bigquery","gcs"],"answers":[{"comments":[{"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"score":0,"creation_date":1644757716,"post_id":71066322,"comment_id":125685682,"body_markdown":"Will there be any performance improvements when using results.getValues() over pagination and results.iterateAll().","body":"Will there be any performance improvements when using results.getValues() over pagination and results.iterateAll()."},{"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"score":1,"creation_date":1644761508,"post_id":71066322,"comment_id":125686496,"body_markdown":"There should be as `getValues` and pagination its better than `iterateAll` which bring all records. Difference should be noted on huge results. Also, I have no check if there is a way to read  results async with this.","body":"There should be as <code>getValues</code> and pagination its better than <code>iterateAll</code> which bring all records. Difference should be noted on huge results. Also, I have no check if there is a way to read  results async with this."},{"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"score":0,"creation_date":1644837251,"post_id":71066322,"comment_id":125703059,"body_markdown":"Thank You for your reply. Really Helps. one more question, Could you please share thoughts on Handling rateLimitExceeded Error. Not a Spring boot application. How best we can handle this issue ?","body":"Thank You for your reply. Really Helps. one more question, Could you please share thoughts on Handling rateLimitExceeded Error. Not a Spring boot application. How best we can handle this issue ?"},{"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"score":0,"creation_date":1644839717,"post_id":71066322,"comment_id":125703942,"body_markdown":"I think you will have to rise a new question specifying the details of the scenario that triggers such message as more details are needed to provide an accurate answer. As a guess, Could it be to something like [this](https://stackoverflow.com/questions/36350555/what-causes-403-ratelimitexceeded)? If so, you will have to check your service limits and settings maybe you can increase or manage such limits/constraints.","body":"I think you will have to rise a new question specifying the details of the scenario that triggers such message as more details are needed to provide an accurate answer. As a guess, Could it be to something like <a href=\"https://stackoverflow.com/questions/36350555/what-causes-403-ratelimitexceeded\">this</a>? If so, you will have to check your service limits and settings maybe you can increase or manage such limits/constraints."}],"tags":[],"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644501071,"creation_date":1644501071,"answer_id":71066322,"question_id":71060793,"body_markdown":"In short, you need to update `TableResults` variable with your `getNextPage()`  variable. If you don&#39;t update it you will always be looping the same results over and over. Thats why you are getting tons of records in your output. \r\n\r\nIf you check the following samples: [Bigquery Pagination](https://cloud.google.com/bigquery/docs/samples/bigquery-query-pagination) and [Using Java Client Library](https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code). There are ways that we can deal with pagination results. Although not specific for single run queries. \r\n\r\nAs show on the code below, which is partially based on pagination sample, you need to use the output of `getNextPage()` to update `results` variable and proceed to perform the next iteration inside the while up until it iterates all pages but the last. \r\n\r\n\r\n**QueryRun.Java**\r\n```\r\npackage com.projects;\r\n\r\n// [START bigquery_query]\r\nimport com.google.cloud.bigquery.BigQuery;\r\nimport com.google.cloud.bigquery.BigQueryException;\r\nimport com.google.cloud.bigquery.BigQueryOptions;\r\nimport com.google.cloud.bigquery.QueryJobConfiguration; \r\nimport com.google.cloud.bigquery.TableResult;\r\nimport com.google.cloud.bigquery.Job;\r\nimport com.google.cloud.bigquery.JobId;\r\nimport com.google.cloud.bigquery.FieldValueList;\r\nimport com.google.cloud.bigquery.JobInfo;\r\nimport com.google.cloud.bigquery.BigQuery.QueryResultsOption;\r\nimport java.util.UUID;\r\n\r\nimport sun.jvm.hotspot.debugger.Page;\r\n\r\npublic class QueryRun {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    String projectId = &quot;bigquery-public-data&quot;;\r\n    String datasetName = &quot;covid19_ecdc_eu&quot;;\r\n    String tableName = &quot;covid_19_geographic_distribution_worldwide&quot;;\r\n    String query =\r\n        &quot;SELECT * &quot;\r\n            + &quot; FROM `&quot;\r\n            + projectId\r\n            + &quot;.&quot;\r\n            + datasetName\r\n            + &quot;.&quot;\r\n            + tableName\r\n            + &quot;`&quot;\r\n            + &quot; LIMIT 100&quot;;\r\n    System.out.println(query);\r\n    query(query);\r\n  }\r\n\r\n  public static void query(String query) {\r\n    try {\r\n      BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n      QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\r\n\r\n      // Create a job ID so that we can safely retry.\r\n      JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n      Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\n\r\n      TableResult results = queryJob.getQueryResults(QueryResultsOption.pageSize(10));\r\n\r\n      int i = 0;\r\n      int j =0; \r\n\r\n      // get all paged data except last line\r\n      while(results.hasNextPage()) {\r\n        j++;   \r\n        for (FieldValueList row : results.getValues()) { \r\n            i++;\r\n        }\r\n        results = results.getNextPage();\r\n        print_msg(i,j);\r\n      }\r\n\r\n      // last line run\r\n      j++;\r\n      for (FieldValueList row : results.getValues()) {  \r\n        i++;\r\n      }\r\n      print_msg(i,j);\r\n\r\n      System.out.println(&quot;Query performed successfully.&quot;);\r\n    } catch (BigQueryException | InterruptedException e) {\r\n      System.out.println(&quot;Query not performed \\n&quot; + e.toString());\r\n    }\r\n  }\r\n\r\n  public static void print_msg(int i,int j)\r\n  {\r\n    System.out.println(&quot;page &quot; + j);\r\n    System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;); \r\n  }\r\n\r\n} \r\n// [END bigquery_query]\r\n```\r\n\r\n**output:**\r\n```\r\nSELECT *  FROM `bigquery-public-data.covid19_ecdc_eu.covid_19_geographic_distribution_worldwide` LIMIT 100\r\npage 1\r\nData Extracted::10 records\r\npage 2\r\nData Extracted::20 records\r\npage 3\r\nData Extracted::30 records\r\npage 4\r\nData Extracted::40 records\r\npage 5\r\nData Extracted::50 records\r\npage 6\r\nData Extracted::60 records\r\npage 7\r\nData Extracted::70 records\r\npage 8\r\nData Extracted::80 records\r\npage 9\r\nData Extracted::90 records\r\npage 10\r\nData Extracted::100 records\r\nQuery performed successfully.\r\n```\r\n\r\nAs a final note, there are not official sample about pagination for queries so I&#39;m not totally sure of the recommended way to handle pagination with java. Its not quite clear on the [BigQuery for Java](https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/com/google/cloud/bigquery/BigQuery.html) documentation page. If you can update your question with your approach to pagination I would appreciate. \r\n\r\nIf you have issues running the attached sample please see [Using the BigQuery Java client](https://cloud.google.com/bigquery/docs/reference/libraries#using_the_client_library) sample, its [github](https://github.com/googleapis/java-bigquery/blob/HEAD/samples/snippets/src/main/java/com/example/bigquery/Query.java) page and its `pom.xml` file inside of it and check if you are in compliance with it.","title":"How to properly iterate Bigquery TableResult in Java","body":"<p>In short, you need to update <code>TableResults</code> variable with your <code>getNextPage()</code>  variable. If you don't update it you will always be looping the same results over and over. Thats why you are getting tons of records in your output.</p>\n<p>If you check the following samples: <a href=\"https://cloud.google.com/bigquery/docs/samples/bigquery-query-pagination\" rel=\"nofollow noreferrer\">Bigquery Pagination</a> and <a href=\"https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code\" rel=\"nofollow noreferrer\">Using Java Client Library</a>. There are ways that we can deal with pagination results. Although not specific for single run queries.</p>\n<p>As show on the code below, which is partially based on pagination sample, you need to use the output of <code>getNextPage()</code> to update <code>results</code> variable and proceed to perform the next iteration inside the while up until it iterates all pages but the last.</p>\n<p><strong>QueryRun.Java</strong></p>\n<pre><code>package com.projects;\n\n// [START bigquery_query]\nimport com.google.cloud.bigquery.BigQuery;\nimport com.google.cloud.bigquery.BigQueryException;\nimport com.google.cloud.bigquery.BigQueryOptions;\nimport com.google.cloud.bigquery.QueryJobConfiguration; \nimport com.google.cloud.bigquery.TableResult;\nimport com.google.cloud.bigquery.Job;\nimport com.google.cloud.bigquery.JobId;\nimport com.google.cloud.bigquery.FieldValueList;\nimport com.google.cloud.bigquery.JobInfo;\nimport com.google.cloud.bigquery.BigQuery.QueryResultsOption;\nimport java.util.UUID;\n\nimport sun.jvm.hotspot.debugger.Page;\n\npublic class QueryRun {\n\n  public static void main(String[] args) {\n\n    String projectId = &quot;bigquery-public-data&quot;;\n    String datasetName = &quot;covid19_ecdc_eu&quot;;\n    String tableName = &quot;covid_19_geographic_distribution_worldwide&quot;;\n    String query =\n        &quot;SELECT * &quot;\n            + &quot; FROM `&quot;\n            + projectId\n            + &quot;.&quot;\n            + datasetName\n            + &quot;.&quot;\n            + tableName\n            + &quot;`&quot;\n            + &quot; LIMIT 100&quot;;\n    System.out.println(query);\n    query(query);\n  }\n\n  public static void query(String query) {\n    try {\n      BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n      QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\n\n      // Create a job ID so that we can safely retry.\n      JobId jobId = JobId.of(UUID.randomUUID().toString());\n      Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\n\n      TableResult results = queryJob.getQueryResults(QueryResultsOption.pageSize(10));\n\n      int i = 0;\n      int j =0; \n\n      // get all paged data except last line\n      while(results.hasNextPage()) {\n        j++;   \n        for (FieldValueList row : results.getValues()) { \n            i++;\n        }\n        results = results.getNextPage();\n        print_msg(i,j);\n      }\n\n      // last line run\n      j++;\n      for (FieldValueList row : results.getValues()) {  \n        i++;\n      }\n      print_msg(i,j);\n\n      System.out.println(&quot;Query performed successfully.&quot;);\n    } catch (BigQueryException | InterruptedException e) {\n      System.out.println(&quot;Query not performed \\n&quot; + e.toString());\n    }\n  }\n\n  public static void print_msg(int i,int j)\n  {\n    System.out.println(&quot;page &quot; + j);\n    System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;); \n  }\n\n} \n// [END bigquery_query]\n</code></pre>\n<p><strong>output:</strong></p>\n<pre><code>SELECT *  FROM `bigquery-public-data.covid19_ecdc_eu.covid_19_geographic_distribution_worldwide` LIMIT 100\npage 1\nData Extracted::10 records\npage 2\nData Extracted::20 records\npage 3\nData Extracted::30 records\npage 4\nData Extracted::40 records\npage 5\nData Extracted::50 records\npage 6\nData Extracted::60 records\npage 7\nData Extracted::70 records\npage 8\nData Extracted::80 records\npage 9\nData Extracted::90 records\npage 10\nData Extracted::100 records\nQuery performed successfully.\n</code></pre>\n<p>As a final note, there are not official sample about pagination for queries so I'm not totally sure of the recommended way to handle pagination with java. Its not quite clear on the <a href=\"https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/com/google/cloud/bigquery/BigQuery.html\" rel=\"nofollow noreferrer\">BigQuery for Java</a> documentation page. If you can update your question with your approach to pagination I would appreciate.</p>\n<p>If you have issues running the attached sample please see <a href=\"https://cloud.google.com/bigquery/docs/reference/libraries#using_the_client_library\" rel=\"nofollow noreferrer\">Using the BigQuery Java client</a> sample, its <a href=\"https://github.com/googleapis/java-bigquery/blob/HEAD/samples/snippets/src/main/java/com/example/bigquery/Query.java\" rel=\"nofollow noreferrer\">github</a> page and its <code>pom.xml</code> file inside of it and check if you are in compliance with it.</p>\n"},{"tags":[],"owner":{"account_id":4816003,"reputation":33,"user_id":3888078,"display_name":"casfed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675936087,"creation_date":1675936087,"answer_id":75396818,"question_id":71060793,"body_markdown":"Probably I Am late in the response.\r\nBut reading on the java client guide (https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code)\r\n\r\nit says that: \r\n\r\n&gt; Iterate over the QueryResponse to get all the rows in the results. The iterator automatically handles pagination. Each FieldList exposes the columns by numeric index or column name.\r\n\r\nSai that, it should be easier to simply use the iterateAll() method.\r\n\r\nLet me know if I Am wrong.\r\n\r\n","title":"How to properly iterate Bigquery TableResult in Java","body":"<p>Probably I Am late in the response.\nBut reading on the java client guide (<a href=\"https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code</a>)</p>\n<p>it says that:</p>\n<blockquote>\n<p>Iterate over the QueryResponse to get all the rows in the results. The iterator automatically handles pagination. Each FieldList exposes the columns by numeric index or column name.</p>\n</blockquote>\n<p>Sai that, it should be easier to simply use the iterateAll() method.</p>\n<p>Let me know if I Am wrong.</p>\n"}],"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3960,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71066322,"answer_count":2,"score":1,"last_activity_date":1675936087,"creation_date":1644475404,"question_id":71060793,"body_markdown":"I am trying to iterate the rows from TableResult using `getValues()` as below.\r\nif I use `getValues()`, it&#39;s retrieving only the first page rows. I want to iterate all the rows using `getValues()` and NOT using `iterateAll()`. \r\nIn the below code, the problem is its going infinite time. not ending. `while(results.hasNextPage())` is not ending. what is the problem in the below code?\r\n\r\n        {\r\n        query = &quot;select from aa.bb.cc&quot;;\r\n        QueryJobConfiguration queryConfig =\r\n                QueryJobConfiguration.newBuilder(query)\r\n                        .setPriority(QueryJobConfiguration.Priority.BATCH)\r\n                        .build();\r\n        TableResult results = bigquery.query(queryConfig);\r\n\r\n        int i = 0;\r\n        int j=0;\r\n        while(results.hasNextPage()) {\r\n            j++;\r\n            System.out.println(&quot;page &quot; + j);\r\n            System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\r\n            for (FieldValueList row : results.getNextPage().getValues()) {\r\n                i++;\r\n            }\r\n        }\r\n        System.out.println(&quot;Total Count::&quot; + results.getTotalRows());\r\n        System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\r\n    }\r\n\r\n\r\nI have only 200,000 records in the source table. below is the out put and I forcefully stopped the process.\r\n\r\n    page 1\r\n    Data Extracted::0 records\r\n    page 2\r\n    Data Extracted::85242 records\r\n    page 3\r\n    Data Extracted::170484 records\r\n    page 4\r\n    Data Extracted::255726 records\r\n    page 5\r\n    Data Extracted::340968 records\r\n    page 6\r\n    Data Extracted::426210 records\r\n    page 7\r\n    Data Extracted::511452 records\r\n    page 8\r\n    Data Extracted::596694 records\r\n    .......\r\n    .......\r\n    .......\r\n    .......\r\n\r\n","title":"How to properly iterate Bigquery TableResult in Java","body":"<p>I am trying to iterate the rows from TableResult using <code>getValues()</code> as below.\nif I use <code>getValues()</code>, it's retrieving only the first page rows. I want to iterate all the rows using <code>getValues()</code> and NOT using <code>iterateAll()</code>.\nIn the below code, the problem is its going infinite time. not ending. <code>while(results.hasNextPage())</code> is not ending. what is the problem in the below code?</p>\n<pre><code>    {\n    query = &quot;select from aa.bb.cc&quot;;\n    QueryJobConfiguration queryConfig =\n            QueryJobConfiguration.newBuilder(query)\n                    .setPriority(QueryJobConfiguration.Priority.BATCH)\n                    .build();\n    TableResult results = bigquery.query(queryConfig);\n\n    int i = 0;\n    int j=0;\n    while(results.hasNextPage()) {\n        j++;\n        System.out.println(&quot;page &quot; + j);\n        System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\n        for (FieldValueList row : results.getNextPage().getValues()) {\n            i++;\n        }\n    }\n    System.out.println(&quot;Total Count::&quot; + results.getTotalRows());\n    System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\n}\n</code></pre>\n<p>I have only 200,000 records in the source table. below is the out put and I forcefully stopped the process.</p>\n<pre><code>page 1\nData Extracted::0 records\npage 2\nData Extracted::85242 records\npage 3\nData Extracted::170484 records\npage 4\nData Extracted::255726 records\npage 5\nData Extracted::340968 records\npage 6\nData Extracted::426210 records\npage 7\nData Extracted::511452 records\npage 8\nData Extracted::596694 records\n.......\n.......\n.......\n.......\n</code></pre>\n"},{"tags":["java","string","file-io","java-stream","java-nio"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1647705395,"post_id":71539612,"comment_id":126440276,"body_markdown":"&quot;I want to get String array&quot; containing what? Content of that file? Please [edit] your question to clarify it. Also is `Files.list(Paths.get(&quot;path&quot;))` mandatory? `Files.readAllLines(filePath, charset)` would create List&lt;String&gt; containing all lines from specified file, or if you really want to create String[] *array* you can use something like `File.lines(filePath, charset).toArray(String[]::new)`.","body":"&quot;I want to get String array&quot; containing what? Content of that file? Please <a href=\"https://stackoverflow.com/posts/71539612/edit\">edit</a> your question to clarify it. Also is <code>Files.list(Paths.get(&quot;path&quot;))</code> mandatory? <code>Files.readAllLines(filePath, charset)</code> would create List&lt;String&gt; containing all lines from specified file, or if you really want to create String[] <i>array</i> you can use something like <code>File.lines(filePath, charset).toArray(String[]::new)</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647763802,"post_id":71539612,"comment_id":126449234,"body_markdown":"See also https://stackoverflow.com/questions/34208962","body":"See also <a href=\"https://stackoverflow.com/questions/34208962\">stackoverflow.com/questions/34208962</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647874284,"creation_date":1647706022,"answer_id":71539777,"question_id":71539612,"body_markdown":"`Files.list()` expects a *path* pointing to the *directory* as a parameter, and it&#39;ll give you a *stream* of `Path` objects (*if any*) contained in this directory. In case if the given *path* will be a *file*, you will get a `NotDirectoryException` exception. You can&#39;t access the *contents of a file* with `Files.list()`, it&#39;s simply meant for another purpose.\r\n\r\nIn order to **read** from the *text file* you can use either [`Files.lines()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path,java.nio.charset.Charset)) or [`Files.readAllLines()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path,java.nio.charset.Charset)). \r\n\r\nContrary to `Files.readAllLines()` which dumps all file content into memory, the stream produced by `Files.lines()` will be populated lazily. Hence, in a general case `Files.lines()` a preferred way to read from a file, especially when you&#39;re unaware of it&#39;s size. \r\n\r\nFor this task, even though all file&#39;s content has to be allocated in the memory (*i.e. in this case the mentioned above upper-hand of a stream&#39;s laziness isn&#39;t important*), `Files.lines()` is a better choice because the expected result needs to be an *array of strings*. It will be both more performant and more space-efficient to generate an *array* as a result of execution of the stream pipeline, rather than reading the file into a *list* (which `readAllLines()` returns) and then creating a string array based on this list.\r\n\r\nWith `Files.lines()` it could be implemented like that:\r\n\r\n    public static String[] readFromFile(Path path) {\r\n        String[] result;\r\n        try(Stream&lt;String&gt; stream = Files.lines(path)) {\r\n            result = stream.toArray(String[]::new);\r\n        } catch (IOException e) {\r\n            result = new String[0];\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\nThere are several **important issues** in your code:\r\n* You are not closing the resource. Because stream is accessing the file, it has to be closed either explicitly inside the `finally` block or by using [**try with resources**](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html), as shown above (which preferred and more concise way).\r\n* It not a good idea to store `String` in the array of `Object`s because in order to do anything with these strings apart from printing them you will have to do an unsafe type casting.\r\n* It not very nice to return `null` in case when attempt to read from the file fails. Because `null` can a cause a problem afterwards when it&#39;ll not be obvious where it came from.\r\n\r\nAnd lastly, a few **recommendations**:\r\n* Avoid placing the *return* statement inside the `try` and `catch` blocks, it reduces readability.\r\n* `List` is more convent and flexible container of data than array. In cases when you are not dealing with an existing code that expects an array, use `List` instead.","title":"How to get String array using Files.list()","body":"<p><code>Files.list()</code> expects a <em>path</em> pointing to the <em>directory</em> as a parameter, and it'll give you a <em>stream</em> of <code>Path</code> objects (<em>if any</em>) contained in this directory. In case if the given <em>path</em> will be a <em>file</em>, you will get a <code>NotDirectoryException</code> exception. You can't access the <em>contents of a file</em> with <code>Files.list()</code>, it's simply meant for another purpose.</p>\n<p>In order to <strong>read</strong> from the <em>text file</em> you can use either <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.lines()</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.readAllLines()</code></a>.</p>\n<p>Contrary to <code>Files.readAllLines()</code> which dumps all file content into memory, the stream produced by <code>Files.lines()</code> will be populated lazily. Hence, in a general case <code>Files.lines()</code> a preferred way to read from a file, especially when you're unaware of it's size.</p>\n<p>For this task, even though all file's content has to be allocated in the memory (<em>i.e. in this case the mentioned above upper-hand of a stream's laziness isn't important</em>), <code>Files.lines()</code> is a better choice because the expected result needs to be an <em>array of strings</em>. It will be both more performant and more space-efficient to generate an <em>array</em> as a result of execution of the stream pipeline, rather than reading the file into a <em>list</em> (which <code>readAllLines()</code> returns) and then creating a string array based on this list.</p>\n<p>With <code>Files.lines()</code> it could be implemented like that:</p>\n<pre><code>public static String[] readFromFile(Path path) {\n    String[] result;\n    try(Stream&lt;String&gt; stream = Files.lines(path)) {\n        result = stream.toArray(String[]::new);\n    } catch (IOException e) {\n        result = new String[0];\n    }\n    return result;\n}\n</code></pre>\n<p>There are several <strong>important issues</strong> in your code:</p>\n<ul>\n<li>You are not closing the resource. Because stream is accessing the file, it has to be closed either explicitly inside the <code>finally</code> block or by using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><strong>try with resources</strong></a>, as shown above (which preferred and more concise way).</li>\n<li>It not a good idea to store <code>String</code> in the array of <code>Object</code>s because in order to do anything with these strings apart from printing them you will have to do an unsafe type casting.</li>\n<li>It not very nice to return <code>null</code> in case when attempt to read from the file fails. Because <code>null</code> can a cause a problem afterwards when it'll not be obvious where it came from.</li>\n</ul>\n<p>And lastly, a few <strong>recommendations</strong>:</p>\n<ul>\n<li>Avoid placing the <em>return</em> statement inside the <code>try</code> and <code>catch</code> blocks, it reduces readability.</li>\n<li><code>List</code> is more convent and flexible container of data than array. In cases when you are not dealing with an existing code that expects an array, use <code>List</code> instead.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17912521,"reputation":1,"user_id":13014294,"display_name":"Riad Merz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675935796,"creation_date":1675935796,"answer_id":75396759,"question_id":71539612,"body_markdown":"You can do this very easily with functional programming. Use a StringBuffer to add the paths in the recursive loop :\r\n\r\n\t\tStringBuffer strList = new StringBuffer();\r\n\t\tFiles.list(Paths.get(&quot;.&quot;)).forEach(s -&gt; strList.append(s));\r\n\t\tSystem.out.println(strList);","title":"How to get String array using Files.list()","body":"<p>You can do this very easily with functional programming. Use a StringBuffer to add the paths in the recursive loop :</p>\n<pre><code>    StringBuffer strList = new StringBuffer();\n    Files.list(Paths.get(&quot;.&quot;)).forEach(s -&gt; strList.append(s));\n    System.out.println(strList);\n</code></pre>\n"}],"owner":{"account_id":21026693,"reputation":35,"user_id":17026320,"display_name":"miclelov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71539777,"answer_count":2,"score":0,"last_activity_date":1675935796,"creation_date":1647704764,"question_id":71539612,"body_markdown":"I have a **txt file** with strings.\r\n\r\nI want to get a `String` array containing all lines from the file via `Files.list(Paths.get(&quot;path&quot;))` method.\r\n\r\nI tried to use `toArray()` but it returns an array of *paths* to files in &quot;path&quot; directory \r\n\r\nHow can I get it using `Files.list(Paths.get(&quot;path&quot;))` (it&#39;s mandatory)?\r\n\r\nI have something like this:\r\n\r\n    public Object[] returnStrings(){\r\n        Object[] strings;\r\n        try {\r\n            strings = Files.list(Paths.get(path)).toArray();\r\n        }catch (IOException ex){\r\n            return null;\r\n        }\r\n        return strings;\r\n    }","title":"How to get String array using Files.list()","body":"<p>I have a <strong>txt file</strong> with strings.</p>\n<p>I want to get a <code>String</code> array containing all lines from the file via <code>Files.list(Paths.get(&quot;path&quot;))</code> method.</p>\n<p>I tried to use <code>toArray()</code> but it returns an array of <em>paths</em> to files in &quot;path&quot; directory</p>\n<p>How can I get it using <code>Files.list(Paths.get(&quot;path&quot;))</code> (it's mandatory)?</p>\n<p>I have something like this:</p>\n<pre><code>public Object[] returnStrings(){\n    Object[] strings;\n    try {\n        strings = Files.list(Paths.get(path)).toArray();\n    }catch (IOException ex){\n        return null;\n    }\n    return strings;\n}\n</code></pre>\n"},{"tags":["java","sql","spring","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612638327,"post_id":66071251,"comment_id":116831648,"body_markdown":"why do you say that. It is supposed to work. It is called indexed parameters in query","body":"why do you say that. It is supposed to work. It is called indexed parameters in query"},{"owner":{"account_id":20624339,"reputation":393,"user_id":15140588,"display_name":"Mar"},"score":0,"creation_date":1612640946,"post_id":66071251,"comment_id":116832373,"body_markdown":"If service class will use  `carRepository.retrieveCars(1, 2)` it will be passing int 1 and 2 and that is not what I need. I need to pass   vinNo  and  serialNo  paramenters  from service into query.  Perhaps your first solution might work.\nThis is from baeldung.com. It should be something like this: \n`TypedQuery&lt;Employee&gt; query = em.createQuery(&quot;SELECT e FROM Employee e WHERE e.empNumber = ?1&quot;, Employee.class);String empNumber = &quot;A123&quot;;Employee employee = query.setParameter(1, empNumber).getSingleResult();`","body":"If service class will use  <code>carRepository.retrieveCars(1, 2)</code> it will be passing int 1 and 2 and that is not what I need. I need to pass   vinNo  and  serialNo  paramenters  from service into query.  Perhaps your first solution might work. This is from baeldung.com. It should be something like this:  <code>TypedQuery&lt;Employee&gt; query = em.createQuery(&quot;SELECT e FROM Employee e WHERE e.empNumber = ?1&quot;, Employee.class);String empNumber = &quot;A123&quot;;Employee employee = query.setParameter(1, empNumber).getSingleResult();</code>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612641395,"post_id":66071251,"comment_id":116832476,"body_markdown":"We mean the same thing with different words. Your vinNo and serialNo are called variables and when you use them they have actual values. So during execution your vinNo could have value 1 or some other value from service. I didn&#39;t know exactly the name of your variables in the service class, therefore I made an example with actual values :D. You could use in your service carRepository.retrieveCars(vinNo, serialNo) and it would be the same .","body":"We mean the same thing with different words. Your vinNo and serialNo are called variables and when you use them they have actual values. So during execution your vinNo could have value 1 or some other value from service. I didn&#39;t know exactly the name of your variables in the service class, therefore I made an example with actual values :D. You could use in your service carRepository.retrieveCars(vinNo, serialNo) and it would be the same ."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612641629,"post_id":66071251,"comment_id":116832532,"body_markdown":"Don&#39;t change anything in those above solutions. They don&#39;t need any adaptation. Just call from your service  carRepository.retrieveCars(vinNo, serialNo) and see it by yourself working.","body":"Don&#39;t change anything in those above solutions. They don&#39;t need any adaptation. Just call from your service  carRepository.retrieveCars(vinNo, serialNo) and see it by yourself working."},{"owner":{"account_id":20624339,"reputation":393,"user_id":15140588,"display_name":"Mar"},"score":0,"creation_date":1612641679,"post_id":66071251,"comment_id":116832544,"body_markdown":"I will try 1st solution but I dont really get your 2nd solution. In solution 2  `List&lt;Car&gt; retrieveCars(vinNo, serialNo);` will receive vinNo and  serialNo  parameters. So where are the 1 and 2 in the query coming from ?","body":"I will try 1st solution but I dont really get your 2nd solution. In solution 2  <code>List&lt;Car&gt; retrieveCars(vinNo, serialNo);</code> will receive vinNo and  serialNo  parameters. So where are the 1 and 2 in the query coming from ?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1612641705,"post_id":66071251,"comment_id":116832551,"body_markdown":"At indexed parameters ?1 means that the query will put the value of the first variable where the ?1 is placed. So it would take the value of the variable carVinNo and put it in the place of ?1. The same applies to ?2. Spring Data JPA will do it for you in the background. Search for indexed parameters in JPA and you will understand","body":"At indexed parameters ?1 means that the query will put the value of the first variable where the ?1 is placed. So it would take the value of the variable carVinNo and put it in the place of ?1. The same applies to ?2. Spring Data JPA will do it for you in the background. Search for indexed parameters in JPA and you will understand"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612642165,"post_id":66071251,"comment_id":116832660,"body_markdown":"take my updated version of 1st solution. The previous will also work, but this now is what official spring proposes","body":"take my updated version of 1st solution. The previous will also work, but this now is what official spring proposes"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612647505,"post_id":66071251,"comment_id":116833954,"body_markdown":"please consider accepting answer if it has solved the problem","body":"please consider accepting answer if it has solved the problem"},{"owner":{"account_id":20624339,"reputation":393,"user_id":15140588,"display_name":"Mar"},"score":1,"creation_date":1612653092,"post_id":66071251,"comment_id":116835095,"body_markdown":"In 2nd sol. it should be  `List&lt;Car&gt; retrieveCars(Long vinNo, Long serialNo);` and its called from service  `carRepository.retrieveCars(vinNo, serialNo)`","body":"In 2nd sol. it should be  <code>List&lt;Car&gt; retrieveCars(Long vinNo, Long serialNo);</code> and its called from service  <code>carRepository.retrieveCars(vinNo, serialNo)</code>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612654210,"post_id":66071251,"comment_id":116835314,"body_markdown":"Updated the answer with the parameter types also","body":"Updated the answer with the parameter types also"},{"owner":{"account_id":20624339,"reputation":393,"user_id":15140588,"display_name":"Mar"},"score":0,"creation_date":1612718729,"post_id":66071251,"comment_id":116848522,"body_markdown":"Still doesnt work. Your solution in the documentation doesnt use `nativeQuery = true`. So perhaps its not supposed to work with native  query.","body":"Still doesnt work. Your solution in the documentation doesnt use <code>nativeQuery = true</code>. So perhaps its not supposed to work with native  query."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612723610,"post_id":66071251,"comment_id":116850071,"body_markdown":"I think that you make something wrong and therefore it does not work. Have you used @Param()? There is already another accepted answer on stackoverflow indicating that solution 2 should also work for native queries. Check it here https://stackoverflow.com/a/58013353/7237884","body":"I think that you make something wrong and therefore it does not work. Have you used @Param()? There is already another accepted answer on stackoverflow indicating that solution 2 should also work for native queries. Check it here <a href=\"https://stackoverflow.com/a/58013353/7237884\">stackoverflow.com/a/58013353/7237884</a>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1612727150,"post_id":66071251,"comment_id":116851068,"body_markdown":"above comment meant solution 1 should also work when you said it was not documented by spring","body":"above comment meant solution 1 should also work when you said it was not documented by spring"},{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":0,"creation_date":1630831623,"post_id":66071251,"comment_id":122058369,"body_markdown":"How to deal with in and out params?","body":"How to deal with in and out params?"},{"owner":{"account_id":9629394,"reputation":323,"user_id":7147914,"display_name":"W. Elbashier"},"score":0,"creation_date":1653669338,"post_id":66071251,"comment_id":127915029,"body_markdown":"what if I want to pass in an object as: \n`List&lt;Car&gt; retrieveCars(@Param(&quot;myCar&quot;) Car myCar);`\nwould that work?","body":"what if I want to pass in an object as:  <code>List&lt;Car&gt; retrieveCars(@Param(&quot;myCar&quot;) Car myCar);</code> would that work?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1653726820,"post_id":66071251,"comment_id":127924976,"body_markdown":"@W.Elbashier yes you can pass an object but considering you want to return the same type of entity you would have to make some specific comparison in the query ex `FROM CAR WHERE id=myCar.id`","body":"@W.Elbashier yes you can pass an object but considering you want to return the same type of entity you would have to make some specific comparison in the query ex <code>FROM CAR WHERE id=myCar.id</code>"},{"owner":{"account_id":11506039,"reputation":3890,"user_id":8432239,"display_name":"bh4r4th"},"score":0,"creation_date":1665992582,"post_id":66071251,"comment_id":130820474,"body_markdown":"Can we change target param type? `@Type(&quot;uuid-char&quot;) @Param(&quot;id&quot;) id:UUID` some thing like this. So, that it converts uuid to string on the fly.","body":"Can we change target param type? <code>@Type(&quot;uuid-char&quot;) @Param(&quot;id&quot;) id:UUID</code> some thing like this. So, that it converts uuid to string on the fly."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":17,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1612654039,"creation_date":1612562857,"answer_id":66071251,"question_id":66071165,"body_markdown":"There are two ways around that when you use  Spring Data JPA \r\n\r\n**1) Named Parameters**\r\n\r\n    public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\r\n            @Query(nativeQuery = true,\r\n                   value = &quot;select *&quot; +\r\n                           &quot;from car_records&quot; +\r\n                            &quot;where carVinNo = :vinNo and carSerialNo &gt;= :serialNo&quot;)\r\n         }\r\n         List&lt;Car&gt; retrieveCars(@Param(&quot;vinNo&quot;) Long vinNo,@Param(&quot;serialNo&quot;) Long serialNo); \r\n        }\r\n\r\n[spring doc for named parameters][1]\r\n\r\n**2) Indexed Parameters**\r\n\r\n    public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\r\n        @Query(nativeQuery = true,\r\n               value = &quot;select *&quot; +\r\n                       &quot;from car_records&quot; +\r\n                        &quot;where carVinNo = ?1 and carSerialNo &gt;= ?2&quot;)\r\n     }\r\n     List&lt;Car&gt; retrieveCars(Long vinNo, Long serialNo); \r\n    }\r\n\r\n[example for index parameter from spring doc][2]\r\n\r\nThen from your service class you call it\r\n\r\n    carRepository.retrieveCars(vinNo, serialNo);\r\n\r\nBoth cases will work the same for you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native","title":"How to pass parameters in a native query JPA","body":"<p>There are two ways around that when you use  Spring Data JPA</p>\n<p><strong>1) Named Parameters</strong></p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\n        @Query(nativeQuery = true,\n               value = &quot;select *&quot; +\n                       &quot;from car_records&quot; +\n                        &quot;where carVinNo = :vinNo and carSerialNo &gt;= :serialNo&quot;)\n     }\n     List&lt;Car&gt; retrieveCars(@Param(&quot;vinNo&quot;) Long vinNo,@Param(&quot;serialNo&quot;) Long serialNo); \n    }\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\" rel=\"noreferrer\">spring doc for named parameters</a></p>\n<p><strong>2) Indexed Parameters</strong></p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\n    @Query(nativeQuery = true,\n           value = &quot;select *&quot; +\n                   &quot;from car_records&quot; +\n                    &quot;where carVinNo = ?1 and carSerialNo &gt;= ?2&quot;)\n }\n List&lt;Car&gt; retrieveCars(Long vinNo, Long serialNo); \n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native\" rel=\"noreferrer\">example for index parameter from spring doc</a></p>\n<p>Then from your service class you call it</p>\n<pre><code>carRepository.retrieveCars(vinNo, serialNo);\n</code></pre>\n<p>Both cases will work the same for you.</p>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":1,"creation_date":1675935647,"post_id":75394728,"comment_id":133036057,"body_markdown":"Welcome to Stack Overflow! Please read [answer] and [edit] your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post.","body":"Welcome to Stack Overflow! Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/75394728/edit\">edit</a> your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post."}],"tags":[],"owner":{"account_id":27741258,"reputation":11,"user_id":21177673,"display_name":"vishvajeet.rajput"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675935637,"creation_date":1675922016,"answer_id":75394728,"question_id":66071165,"body_markdown":"```\r\n@Query(value = &quot;SELECT * FROM db.issuer_details where creation_date between ?1 AND ?2&quot;, nativeQuery = true)\r\n\tList&lt;MerchantData&gt; dataWithDate(String from ,String to);\r\n```","title":"How to pass parameters in a native query JPA","body":"<pre><code>@Query(value = &quot;SELECT * FROM db.issuer_details where creation_date between ?1 AND ?2&quot;, nativeQuery = true)\n    List&lt;MerchantData&gt; dataWithDate(String from ,String to);\n</code></pre>\n"}],"owner":{"account_id":20624339,"reputation":393,"user_id":15140588,"display_name":"Mar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82183,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":66071251,"answer_count":2,"score":28,"last_activity_date":1675935637,"creation_date":1612562353,"question_id":66071165,"body_markdown":"I have service class which receives list of cars by calling JPA repository with `carRepository.retrieveCars()`. Repository method is using native query to retrieves records.\r\n\r\n    public interface CarRepository extends JpaRepository&lt;Car, String&gt; {\r\n        @Query(nativeQuery = true,\r\n               value = &quot;select *&quot; +\r\n                       &quot;from car_records&quot;)\r\n     }\r\n     List&lt;Car&gt; retrieveCars(); \r\n\r\nNow I would like to pass parameters `carRepository.retrieveCars(Long vinNo, Long serialNo)` and use them in a query. I assume that I will need something as a prepared statements. However Im not sure how to implement that.\r\n\r\n    public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\r\n        @Query(nativeQuery = true,\r\n               value = &quot;select *&quot; +\r\n                       &quot;from car_records&quot; +\r\n                        &quot;where carVinNo = ?! and carSerialNo &gt;= ?1&quot;)\r\n     }\r\n     \r\n     query.setParameter(1, vinNo, 2,serialNo);   //this is certainly not correct implementation\r\n     List&lt;Car&gt; retrieveCars(vinNo, serialNo); \r\n","title":"How to pass parameters in a native query JPA","body":"<p>I have service class which receives list of cars by calling JPA repository with <code>carRepository.retrieveCars()</code>. Repository method is using native query to retrieves records.</p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;Car, String&gt; {\n    @Query(nativeQuery = true,\n           value = &quot;select *&quot; +\n                   &quot;from car_records&quot;)\n }\n List&lt;Car&gt; retrieveCars(); \n</code></pre>\n<p>Now I would like to pass parameters <code>carRepository.retrieveCars(Long vinNo, Long serialNo)</code> and use them in a query. I assume that I will need something as a prepared statements. However Im not sure how to implement that.</p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\n    @Query(nativeQuery = true,\n           value = &quot;select *&quot; +\n                   &quot;from car_records&quot; +\n                    &quot;where carVinNo = ?! and carSerialNo &gt;= ?1&quot;)\n }\n \n query.setParameter(1, vinNo, 2,serialNo);   //this is certainly not correct implementation\n List&lt;Car&gt; retrieveCars(vinNo, serialNo); \n</code></pre>\n"},{"tags":["java","xmpp","openfire","smack"],"comments":[{"owner":{"account_id":4256368,"reputation":4122,"user_id":3481973,"display_name":"Lucas Ferraz"},"score":0,"creation_date":1460575741,"post_id":36588324,"comment_id":60812427,"body_markdown":"I`m using last version of Smack and login like you, and its working fine. I have no access to my code now, in 3 hours i`ll try to help you","body":"I<code>m using last version of Smack and login like you, and its working fine. I have no access to my code now, in 3 hours i</code>ll try to help you"}],"answers":[{"tags":[],"owner":{"account_id":12091643,"reputation":812,"user_id":8837516,"accept_rate":75,"display_name":"Adil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516693271,"creation_date":1516693271,"answer_id":48396485,"question_id":36588324,"body_markdown":"*Lets start with step by step*\r\n\r\n1) add dependencies\r\n\r\n    compile &#39;org.igniterealtime.smack:smack-tcp:4.1.0&#39;\r\n    compile &#39;org.igniterealtime.smack:smack-android-extensions:4.1.0&#39;\r\n    compile &#39;org.igniterealtime.smack:smack-im:4.1.0&#39;\r\n\r\n2) async task for connect or login to server\r\n\r\n    //connect or login to server\r\n    private class MyOpenfireLoginTask extends AsyncTask&lt;String, String, String&gt; {\r\n        private Context mContext;\r\n        String username, password;\r\n        ProgressDialog dialog;\r\n\r\n\r\n        public MyOpenfireLoginTask(Context context) {\r\n            mContext = context;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            dialog = new ProgressDialog(mContext);\r\n            dialog.setMessage(&quot;Loading...&quot;);\r\n            dialog.setCanceledOnTouchOutside(false);\r\n            dialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n\r\n            username = params[0];\r\n            password = params[1];\r\n\r\n            Log.e(&quot;Login using &quot;, username + &quot; , &quot; + password);\r\n            Config.config = XMPPTCPConnectionConfiguration.builder()\r\n                    .setUsernameAndPassword(username, password)\r\n                    .setHost(&quot;your host ex- wec.com&quot;)\r\n                    .setResource(&quot;Android&quot;)\r\n                    .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\r\n                    .setServiceName(&quot;domain name(@) ex-   secureserver.net&quot;)\r\n                    .setPort(&quot;5222&quot;)\r\n                    .setDebuggerEnabled(true)\r\n                    .build();\r\n            Config.conn1 = new XMPPTCPConnection(Config.config);\r\n\r\n            Config.conn1.setPacketReplyTimeout(5000);\r\n            try {\r\n                Config.conn1.connect();\r\n                if (Config.conn1.isConnected()) {\r\n                    Log.w(&quot;app&quot;, &quot;conn done&quot;);\r\n\r\n                }\r\n                Config.conn1.login();\r\n\r\n\r\n                if (Config.conn1.isAuthenticated()) {\r\n                    Log.w(&quot;app&quot;, &quot;Auth done&quot;);\r\n\r\n                } else {\r\n                    Log.e(&quot;User Not Authenticated&quot;, &quot;Needs to Update Password&quot;);\r\n\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                Log.w(&quot;app&quot;, e.toString());\r\n            }\r\n\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n\r\n\r\n            dialog.dismiss();\r\n\r\n            if (Config.conn1.isAuthenticated()) {\r\n                 //success\r\n\r\n            } else {\r\n                Log.e(TAG, &quot;username password wrong&quot;);\r\n               \r\n            }\r\n        }\r\n    }\r\n\r\n3)execute above class\r\n\r\n      if (username.length() &gt; 0 &amp;&amp; password.length() &gt; 0) {\r\n            MyOpenfireLoginTask task = new MyOpenfireLoginTask(activity);\r\n            task.execute(username, password);\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Openfire does not respond to Smack login()","body":"<p><em>Lets start with step by step</em></p>\n\n<p>1) add dependencies</p>\n\n<pre><code>compile 'org.igniterealtime.smack:smack-tcp:4.1.0'\ncompile 'org.igniterealtime.smack:smack-android-extensions:4.1.0'\ncompile 'org.igniterealtime.smack:smack-im:4.1.0'\n</code></pre>\n\n<p>2) async task for connect or login to server</p>\n\n<pre><code>//connect or login to server\nprivate class MyOpenfireLoginTask extends AsyncTask&lt;String, String, String&gt; {\n    private Context mContext;\n    String username, password;\n    ProgressDialog dialog;\n\n\n    public MyOpenfireLoginTask(Context context) {\n        mContext = context;\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        dialog = new ProgressDialog(mContext);\n        dialog.setMessage(\"Loading...\");\n        dialog.setCanceledOnTouchOutside(false);\n        dialog.show();\n    }\n\n    @Override\n    protected String doInBackground(String... params) {\n\n        username = params[0];\n        password = params[1];\n\n        Log.e(\"Login using \", username + \" , \" + password);\n        Config.config = XMPPTCPConnectionConfiguration.builder()\n                .setUsernameAndPassword(username, password)\n                .setHost(\"your host ex- wec.com\")\n                .setResource(\"Android\")\n                .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\n                .setServiceName(\"domain name(@) ex-   secureserver.net\")\n                .setPort(\"5222\")\n                .setDebuggerEnabled(true)\n                .build();\n        Config.conn1 = new XMPPTCPConnection(Config.config);\n\n        Config.conn1.setPacketReplyTimeout(5000);\n        try {\n            Config.conn1.connect();\n            if (Config.conn1.isConnected()) {\n                Log.w(\"app\", \"conn done\");\n\n            }\n            Config.conn1.login();\n\n\n            if (Config.conn1.isAuthenticated()) {\n                Log.w(\"app\", \"Auth done\");\n\n            } else {\n                Log.e(\"User Not Authenticated\", \"Needs to Update Password\");\n\n            }\n\n        } catch (Exception e) {\n            Log.w(\"app\", e.toString());\n        }\n\n        return \"\";\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n\n\n        dialog.dismiss();\n\n        if (Config.conn1.isAuthenticated()) {\n             //success\n\n        } else {\n            Log.e(TAG, \"username password wrong\");\n\n        }\n    }\n}\n</code></pre>\n\n<p>3)execute above class</p>\n\n<pre><code>  if (username.length() &gt; 0 &amp;&amp; password.length() &gt; 0) {\n        MyOpenfireLoginTask task = new MyOpenfireLoginTask(activity);\n        task.execute(username, password);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24468215,"reputation":1,"user_id":18388293,"display_name":"Anthony Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675935277,"creation_date":1675935277,"answer_id":75396662,"question_id":36588324,"body_markdown":"I have do it and works for me. Here is my config\r\n\r\n```java\r\n\r\nconf.setCompressionEnabled(false)\r\n            .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\r\n\r\n```","title":"Openfire does not respond to Smack login()","body":"<p>I have do it and works for me. Here is my config</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nconf.setCompressionEnabled(false)\n            .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\n\n</code></pre>\n"}],"owner":{"account_id":935174,"reputation":629,"user_id":964220,"accept_rate":57,"display_name":"Jiaqi Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48396485,"answer_count":2,"score":1,"last_activity_date":1675935277,"creation_date":1460520004,"question_id":36588324,"body_markdown":"I am using Smack API trying to connect and login to the Openfire XMPP server which is setup on my laptop (localhost).\r\n\r\n        XMPPTCPConnectionConfiguration conf = XMPPTCPConnectionConfiguration.builder()\r\n                .setServiceName(&quot;win10-xps15&quot;)\r\n                .setHost(&quot;192.168.1.100&quot;)\r\n                .setPort(5222)\r\n                .setCompressionEnabled(false)\r\n                .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\r\n                .build();\r\n\r\n        XMPPTCPConnection connection = new XMPPTCPConnection(conf);\r\n\r\n        connection.connect();\r\n        connection.login(&quot;admin&quot;, &quot;password&quot;);\r\n\r\nThe connect() method is successful but the login() method fails with a NoResponse (timeout) exception.\r\n\r\n    Exception in thread &quot;main&quot; org.jivesoftware.smack.SmackException$NoResponseException: No response received within reply timeout. Timeout was 5000ms (~5s). Used filter: No filter used or filter was &#39;null&#39;.\r\n    \tat org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:106)\r\n    \tat org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:85)\r\n    \tat org.jivesoftware.smack.SASLAuthentication.authenticate(SASLAuthentication.java:250)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection.loginNonAnonymously(XMPPTCPConnection.java:374)\r\n    \tat org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:456)\r\n    \tat org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:431)\r\n    \tat MyConnector.main(MyConnector.java:23)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n    Apr 13, 2016 11:45:42 AM org.jivesoftware.smack.AbstractXMPPConnection callConnectionClosedOnErrorListener\r\n    WARNING: Connection closed with error\r\n    java.lang.NullPointerException\r\n    \tat org.jivesoftware.smack.util.stringencoder.Base64.decode(Base64.java:86)\r\n    \tat org.jivesoftware.smack.sasl.SASLMechanism.challengeReceived(SASLMechanism.java:233)\r\n    \tat org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:328)\r\n    \tat org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:313)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.parsePackets(XMPPTCPConnection.java:1051)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.access$300(XMPPTCPConnection.java:948)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader$1.run(XMPPTCPConnection.java:963)\r\n    \tat java.lang.Thread.run(Thread.java:745) \r\n\r\nI am running Openfire 3.9.3 on my Windows laptop and the local IP is 192.168.1.100. The version of the smack library is 4.1.6.\r\n\r\nSince it is the login() method that fails, I wonder if there is any Openfire server settings related to login/user that I should be aware of? \r\n\r\nIn addition, I tried to login with the [Spark IM client][1] and it could login the local server without problems.\r\n\r\nRegards.\r\n\r\n\r\n----------\r\nMore info added below.\r\n\r\nI just tried an old version (3.4.1) of smack obtained from the [Spark IM github repo][2] with the following code:\r\n\r\n        ConnectionConfiguration conf = \r\n                new ConnectionConfiguration(&quot;192.168.1.100&quot;, 5222);\r\n        XMPPConnection connection = new XMPPConnection(conf);\r\n\r\n        connection.connect();\r\n        connection.login(&quot;admin&quot;, &quot;password&quot;);\r\n\r\nNow the code works fine. Both connect() and login() are OK.\r\n\r\nBut I really want to know why the lastet version of smack does not work as I expect. Because I am considering using smack on Android while the old version does not support Android natively.\r\n\r\n  [1]: http://www.igniterealtime.org/projects/spark/\r\n  [2]: https://github.com/igniterealtime/Spark/tree/master/build/lib/dist","title":"Openfire does not respond to Smack login()","body":"<p>I am using Smack API trying to connect and login to the Openfire XMPP server which is setup on my laptop (localhost).</p>\n\n<pre><code>    XMPPTCPConnectionConfiguration conf = XMPPTCPConnectionConfiguration.builder()\n            .setServiceName(\"win10-xps15\")\n            .setHost(\"192.168.1.100\")\n            .setPort(5222)\n            .setCompressionEnabled(false)\n            .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\n            .build();\n\n    XMPPTCPConnection connection = new XMPPTCPConnection(conf);\n\n    connection.connect();\n    connection.login(\"admin\", \"password\");\n</code></pre>\n\n<p>The connect() method is successful but the login() method fails with a NoResponse (timeout) exception.</p>\n\n<pre><code>Exception in thread \"main\" org.jivesoftware.smack.SmackException$NoResponseException: No response received within reply timeout. Timeout was 5000ms (~5s). Used filter: No filter used or filter was 'null'.\n    at org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:106)\n    at org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:85)\n    at org.jivesoftware.smack.SASLAuthentication.authenticate(SASLAuthentication.java:250)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection.loginNonAnonymously(XMPPTCPConnection.java:374)\n    at org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:456)\n    at org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:431)\n    at MyConnector.main(MyConnector.java:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\nApr 13, 2016 11:45:42 AM org.jivesoftware.smack.AbstractXMPPConnection callConnectionClosedOnErrorListener\nWARNING: Connection closed with error\njava.lang.NullPointerException\n    at org.jivesoftware.smack.util.stringencoder.Base64.decode(Base64.java:86)\n    at org.jivesoftware.smack.sasl.SASLMechanism.challengeReceived(SASLMechanism.java:233)\n    at org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:328)\n    at org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:313)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.parsePackets(XMPPTCPConnection.java:1051)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.access$300(XMPPTCPConnection.java:948)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader$1.run(XMPPTCPConnection.java:963)\n    at java.lang.Thread.run(Thread.java:745) \n</code></pre>\n\n<p>I am running Openfire 3.9.3 on my Windows laptop and the local IP is 192.168.1.100. The version of the smack library is 4.1.6.</p>\n\n<p>Since it is the login() method that fails, I wonder if there is any Openfire server settings related to login/user that I should be aware of? </p>\n\n<p>In addition, I tried to login with the <a href=\"http://www.igniterealtime.org/projects/spark/\" rel=\"nofollow\">Spark IM client</a> and it could login the local server without problems.</p>\n\n<p>Regards.</p>\n\n<hr>\n\n<p>More info added below.</p>\n\n<p>I just tried an old version (3.4.1) of smack obtained from the <a href=\"https://github.com/igniterealtime/Spark/tree/master/build/lib/dist\" rel=\"nofollow\">Spark IM github repo</a> with the following code:</p>\n\n<pre><code>    ConnectionConfiguration conf = \n            new ConnectionConfiguration(\"192.168.1.100\", 5222);\n    XMPPConnection connection = new XMPPConnection(conf);\n\n    connection.connect();\n    connection.login(\"admin\", \"password\");\n</code></pre>\n\n<p>Now the code works fine. Both connect() and login() are OK.</p>\n\n<p>But I really want to know why the lastet version of smack does not work as I expect. Because I am considering using smack on Android while the old version does not support Android natively.</p>\n"},{"tags":["java","android","multithreading","performance","cold-start"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":1,"creation_date":1464179169,"post_id":37437037,"comment_id":62376789,"body_markdown":"You found the problem yourself, you are doing to many init in in the application context, blocking the loading of the activity, try to asynchronized this, letting a loading activity to show up until some thread ends.","body":"You found the problem yourself, you are doing to many init in in the application context, blocking the loading of the activity, try to asynchronized this, letting a loading activity to show up until some thread ends."},{"owner":{"account_id":4061727,"reputation":14535,"user_id":5699956,"accept_rate":70,"display_name":"Atiq"},"score":0,"creation_date":1464179305,"post_id":37437037,"comment_id":62376889,"body_markdown":"[This](http://stackoverflow.com/questions/35054872/how-to-pre-load-mainactivity-in-splashactivity-so-there-would-be-no-delay-when-l) might help","body":"<a href=\"http://stackoverflow.com/questions/35054872/how-to-pre-load-mainactivity-in-splashactivity-so-there-would-be-no-delay-when-l\">This</a> might help"},{"owner":{"account_id":2158717,"reputation":611,"user_id":1913371,"accept_rate":100,"display_name":"Beshoy Hanna"},"score":0,"creation_date":1464179666,"post_id":37437037,"comment_id":62377185,"body_markdown":"Have you looked into lazy loading? I believe you are on the right track with services not on the main thread.","body":"Have you looked into lazy loading? I believe you are on the right track with services not on the main thread."},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464179736,"post_id":37437037,"comment_id":62377235,"body_markdown":"@BeshoyHanna: please explain how we would use that here ...","body":"@BeshoyHanna: please explain how we would use that here ..."},{"owner":{"account_id":2158717,"reputation":611,"user_id":1913371,"accept_rate":100,"display_name":"Beshoy Hanna"},"score":1,"creation_date":1464179968,"post_id":37437037,"comment_id":62377452,"body_markdown":"Ideally, an application would offload processing and not use the main thread for long operations. This is a well accepted practice. If the operations need to happen before the app loads, then it should an least not share a thread with the UI.","body":"Ideally, an application would offload processing and not use the main thread for long operations. This is a well accepted practice. If the operations need to happen before the app loads, then it should an least not share a thread with the UI."},{"owner":{"account_id":473257,"reputation":7312,"user_id":882251,"accept_rate":100,"display_name":"Darwind"},"score":1,"creation_date":1464180015,"post_id":37437037,"comment_id":62377486,"body_markdown":"You might find that this is still an issue after you&#39;ve moved all initialisationcode out of the `Application` class. This is due to newer versions of Android&#39;s way of &quot;cold-starting&quot; the apps. Google actually addressed the launchtimes at Google I/O this year and it will be fixed in N from what I remember.\nIn the meantime, you should look at what Google calls a &quot;branded launchscreen&quot;. Here&#39;s an example on how to create it: http://antonioleiva.com/branded-launch-screen/ - no more white screen in the beginning ;-) And please don&#39;t use splashscreens - it&#39;s annoying to the user.","body":"You might find that this is still an issue after you&#39;ve moved all initialisationcode out of the <code>Application</code> class. This is due to newer versions of Android&#39;s way of &quot;cold-starting&quot; the apps. Google actually addressed the launchtimes at Google I/O this year and it will be fixed in N from what I remember. In the meantime, you should look at what Google calls a &quot;branded launchscreen&quot;. Here&#39;s an example on how to create it: <a href=\"http://antonioleiva.com/branded-launch-screen/\" rel=\"nofollow noreferrer\">antonioleiva.com/branded-launch-screen</a> - no more white screen in the beginning ;-) And please don&#39;t use splashscreens - it&#39;s annoying to the user."},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180468,"post_id":37437037,"comment_id":62377858,"body_markdown":"@BeshoyHanna: So I should use an `IntentService` then?","body":"@BeshoyHanna: So I should use an <code>IntentService</code> then?"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180487,"post_id":37437037,"comment_id":62377871,"body_markdown":"@Anders: interesting idea ... :)","body":"@Anders: interesting idea ... :)"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180526,"post_id":37437037,"comment_id":62377911,"body_markdown":"@AxelH: please be more specific ... what should I use exactly? A Service? A Thread?","body":"@AxelH: please be more specific ... what should I use exactly? A Service? A Thread?"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180569,"post_id":37437037,"comment_id":62377950,"body_markdown":"@Darwind: wow ... cool idea! Looks neat. You should post this as an answer ... :)","body":"@Darwind: wow ... cool idea! Looks neat. You should post this as an answer ... :)"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1464180862,"post_id":37437037,"comment_id":62378183,"body_markdown":"Wrt theme, the trick is not to set a NoActionBar theme, it&#39;s to adjust the initial activity&#39;s theme so that an empty themed screen looks like the fully initialized one.","body":"Wrt theme, the trick is not to set a NoActionBar theme, it&#39;s to adjust the initial activity&#39;s theme so that an empty themed screen looks like the fully initialized one."},{"owner":{"account_id":1576496,"reputation":16227,"user_id":1462770,"accept_rate":67,"display_name":"Amir"},"score":0,"creation_date":1464861380,"post_id":37437037,"comment_id":62662175,"body_markdown":"If you use android studio 2.0 disable instant run and this issue will fixed.","body":"If you use android studio 2.0 disable instant run and this issue will fixed."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1464861493,"post_id":37437037,"comment_id":62662268,"body_markdown":"Incidentally, are you aware that the `Application` instance may be retained even when all your activities have finished?  When that happens, `Application#onCreate()` will *not* be called again the next time your app is launched.","body":"Incidentally, are you aware that the <code>Application</code> instance may be retained even when all your activities have finished?  When that happens, <code>Application#onCreate()</code> will <i>not</i> be called again the next time your app is launched."},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464862481,"post_id":37437037,"comment_id":62662982,"body_markdown":"@KevinKrumwiede: yes, that is the case when the app is still in the background, and the app process is alive and well. If you dismiss the app, the process is killed, the `Application` instance is gone, and the white screen is back with a vengeance ... :)","body":"@KevinKrumwiede: yes, that is the case when the app is still in the background, and the app process is alive and well. If you dismiss the app, the process is killed, the <code>Application</code> instance is gone, and the white screen is back with a vengeance ... :)"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464862645,"post_id":37437037,"comment_id":62663091,"body_markdown":"@Amir: I think you may be mistaken about what I am asking. This has nothing to do with Instant Run. It is a long-running problem with Android applications. It happens irrespective of OS version and even with projects that are built with Eclipse.","body":"@Amir: I think you may be mistaken about what I am asking. This has nothing to do with Instant Run. It is a long-running problem with Android applications. It happens irrespective of OS version and even with projects that are built with Eclipse."},{"owner":{"account_id":3730535,"reputation":2265,"user_id":3103093,"display_name":"Tin Tran"},"score":0,"creation_date":1465403038,"post_id":37437037,"comment_id":62889861,"body_markdown":"What are the operations in Application#onCreate(). Is it IO?","body":"What are the operations in Application#onCreate(). Is it IO?"},{"owner":{"account_id":5887937,"reputation":1604,"user_id":4635346,"accept_rate":67,"display_name":"Vivek Pratap Singh"},"score":0,"creation_date":1472801177,"post_id":37437037,"comment_id":65907218,"body_markdown":"i have not extended Application class but i am still getting the white screen","body":"i have not extended Application class but i am still getting the white screen"},{"owner":{"account_id":5762640,"reputation":2957,"user_id":4548520,"accept_rate":80,"display_name":"user25"},"score":0,"creation_date":1551043353,"post_id":37437037,"comment_id":96484870,"body_markdown":"What is the point of using thread, service to load something later? You don&#39;t need all that stuff when user opens your app? This doesn&#39;t make sense. Just you splash screen and that&#39;s all. Even official Google apps do it.","body":"What is the point of using thread, service to load something later? You don&#39;t need all that stuff when user opens your app? This doesn&#39;t make sense. Just you splash screen and that&#39;s all. Even official Google apps do it."}],"answers":[{"tags":[],"owner":{"account_id":1963159,"reputation":3916,"user_id":1764080,"accept_rate":65,"display_name":"Shmuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1464179937,"creation_date":1464179937,"answer_id":37437432,"question_id":37437037,"body_markdown":"First of all, to remove the white screen read this - https://www.bignerdranch.com/blog/splash-screens-the-right-way/\r\n\r\nBut more importantly, optimize your initial load and defer any heavy work to when you have time to run it. Post your application class here if you want us to take a look at it.","title":"Android - Prevent white screen at startup","body":"<p>First of all, to remove the white screen read this - <a href=\"https://www.bignerdranch.com/blog/splash-screens-the-right-way/\" rel=\"noreferrer\">https://www.bignerdranch.com/blog/splash-screens-the-right-way/</a></p>\n\n<p>But more importantly, optimize your initial load and defer any heavy work to when you have time to run it. Post your application class here if you want us to take a look at it.</p>\n"},{"tags":[],"owner":{"account_id":3016236,"reputation":15507,"user_id":4969827,"display_name":"Sergey Shustikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464861958,"creation_date":1464861958,"answer_id":37588747,"question_id":37437037,"body_markdown":"Did you try to put initialization to `onActivityCreated`?\r\n\r\nInside `Application` class :\r\n\r\n\r\n     registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacks() {\r\n                @Override\r\n                public void onActivityCreated(Activity activity, Bundle savedInstanceState) {\r\n                    if(activity.getClass().equals(FirstActivity.class) {\r\n                        // try without runOnUiThread if it will not help\r\n                        activity.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                new InitializatioTask().execute();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onActivityStarted(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityResumed(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityPaused(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityStopped(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivitySaveInstanceState(Activity activity, Bundle outState) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityDestroyed(Activity activity) {\r\n    \r\n                }\r\n            });","title":"Android - Prevent white screen at startup","body":"<p>Did you try to put initialization to <code>onActivityCreated</code>?</p>\n\n<p>Inside <code>Application</code> class :</p>\n\n<pre><code> registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacks() {\n            @Override\n            public void onActivityCreated(Activity activity, Bundle savedInstanceState) {\n                if(activity.getClass().equals(FirstActivity.class) {\n                    // try without runOnUiThread if it will not help\n                    activity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            new InitializatioTask().execute();\n                        }\n                    });\n                }\n            }\n\n            @Override\n            public void onActivityStarted(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivityResumed(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivityPaused(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivityStopped(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivitySaveInstanceState(Activity activity, Bundle outState) {\n\n            }\n\n            @Override\n            public void onActivityDestroyed(Activity activity) {\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3251487,"reputation":3147,"user_id":2741598,"accept_rate":50,"display_name":"Vickyexpert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464861962,"creation_date":1464861962,"answer_id":37588748,"question_id":37437037,"body_markdown":"As you are already aware why this white screen is there, as due to background processes or application initialization or large files, so just check below idea for overcome from this.\r\n\r\n   To prevent this white screen on beginning of the app, one way is splash screen, this is just a way not final and you must have to use.\r\n\r\n   When you will show splash screen from your splash.xml file, then also this issue will be remain same,\r\n\r\n   So you have to create ont style in style.xml file for splash screen and there you have to set window background as your splash image and then apply that theme to your splash activity from manifest file. So now when you will run app, first it will set theme and by this way user will be able to see directly splash image instead of white screen.","title":"Android - Prevent white screen at startup","body":"<p>As you are already aware why this white screen is there, as due to background processes or application initialization or large files, so just check below idea for overcome from this.</p>\n\n<p>To prevent this white screen on beginning of the app, one way is splash screen, this is just a way not final and you must have to use.</p>\n\n<p>When you will show splash screen from your splash.xml file, then also this issue will be remain same,</p>\n\n<p>So you have to create ont style in style.xml file for splash screen and there you have to set window background as your splash image and then apply that theme to your splash activity from manifest file. So now when you will run app, first it will set theme and by this way user will be able to see directly splash image instead of white screen.</p>\n"},{"comments":[{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1465277621,"post_id":37594546,"comment_id":62820071,"body_markdown":"Thank you for your answer, it was very interesting. However, I believe you misunderstood my question. The problem is not caused by the initializations in the first `Activity`, but those in the global `Application` object. And I don&#39;t believe I can apply such a separation of concerns there, because unlike an `Activity` it only has an `onCreate()` method.","body":"Thank you for your answer, it was very interesting. However, I believe you misunderstood my question. The problem is not caused by the initializations in the first <code>Activity</code>, but those in the global <code>Application</code> object. And I don&#39;t believe I can apply such a separation of concerns there, because unlike an <code>Activity</code> it only has an <code>onCreate()</code> method."},{"owner":{"account_id":1129864,"reputation":6795,"user_id":1116216,"accept_rate":100,"display_name":"Michele La Ferla"},"score":0,"creation_date":1465382792,"post_id":37594546,"comment_id":62874882,"body_markdown":"Why are you extending the application class and not the activity one?","body":"Why are you extending the application class and not the activity one?"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1465383688,"post_id":37594546,"comment_id":62875407,"body_markdown":"Okay, so you mean I should abandon the `Application` object altogether and move all the initialization code to the first `Activity` ...","body":"Okay, so you mean I should abandon the <code>Application</code> object altogether and move all the initialization code to the first <code>Activity</code> ..."},{"owner":{"account_id":1129864,"reputation":6795,"user_id":1116216,"accept_rate":100,"display_name":"Michele La Ferla"},"score":0,"creation_date":1465383993,"post_id":37594546,"comment_id":62875576,"body_markdown":"That&#39;s how I&#39;ve always developed my apps, however if you don&#39;t wish to make all those changes, other answers might help you get around your issue using the application class. For your future reference, I recommend using the one activity class immediately, and then many fragments. Hope this helps :)","body":"That&#39;s how I&#39;ve always developed my apps, however if you don&#39;t wish to make all those changes, other answers might help you get around your issue using the application class. For your future reference, I recommend using the one activity class immediately, and then many fragments. Hope this helps :)"}],"tags":[],"owner":{"account_id":1129864,"reputation":6795,"user_id":1116216,"accept_rate":100,"display_name":"Michele La Ferla"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662061119,"creation_date":1464877239,"answer_id":37594546,"question_id":37437037,"body_markdown":"Within the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity. Remember that the way Android is designed, there is a lifecycle for each and every app. If you put too much load to the `onCreate()` method (which is the method used to load the layout files and initalise any controls you have in it), then the white screen will become more visible, as the layout file will take longer to load.\r\n\r\nI suggest using several different methods when starting an activity. Such are the `onStart()` (being called as the first thing once the app is loaded), `onActivityCreated()` (being called after the layout is displayed and useful if you are making any data processing upon starting the activity).\r\n\r\nTo make it easier for you, below is the official activity lifecycle diagram (from http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KozRu.png","title":"Android - Prevent white screen at startup","body":"<p>Within the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity. Remember that the way Android is designed, there is a lifecycle for each and every app. If you put too much load to the <code>onCreate()</code> method (which is the method used to load the layout files and initalise any controls you have in it), then the white screen will become more visible, as the layout file will take longer to load.</p>\n<p>I suggest using several different methods when starting an activity. Such are the <code>onStart()</code> (being called as the first thing once the app is loaded), <code>onActivityCreated()</code> (being called after the layout is displayed and useful if you are making any data processing upon starting the activity).</p>\n<p>To make it easier for you, below is the official activity lifecycle diagram (from <a href=\"http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html</a>):</p>\n<p><a href=\"https://i.stack.imgur.com/KozRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KozRu.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":8677847,"reputation":732,"user_id":6494749,"accept_rate":42,"display_name":"Mehvish Ali"},"score":5,"creation_date":1494501426,"post_id":37679026,"comment_id":74860894,"body_markdown":"it didnt help still white screen and animation at end","body":"it didnt help still white screen and animation at end"},{"owner":{"account_id":7201903,"reputation":2058,"user_id":5498855,"display_name":"Ivan Milisavljevic"},"score":0,"creation_date":1494533092,"post_id":37679026,"comment_id":74882435,"body_markdown":"This is straight forward implementation. There could be some other parts of your code that  causing the issue. Please open another question and il be there to help you:)","body":"This is straight forward implementation. There could be some other parts of your code that  causing the issue. Please open another question and il be there to help you:)"},{"owner":{"account_id":8677847,"reputation":732,"user_id":6494749,"accept_rate":42,"display_name":"Mehvish Ali"},"score":1,"creation_date":1494668971,"post_id":37679026,"comment_id":74934880,"body_markdown":"I solved this issue by animating between themes and changing the theme with no drawable but just the back color same and then on onWindowFocusChanged() mad the content visible and the animated it other wise my whited down between the transition as well. animation of themes helped alot","body":"I solved this issue by animating between themes and changing the theme with no drawable but just the back color same and then on onWindowFocusChanged() mad the content visible and the animated it other wise my whited down between the transition as well. animation of themes helped alot"},{"owner":{"account_id":13406308,"reputation":4142,"user_id":9674249,"display_name":"i30mb1"},"score":0,"creation_date":1600254943,"post_id":37679026,"comment_id":113028146,"body_markdown":"nice value `animationStarted` that you never change","body":"nice value <code>animationStarted</code> that you never change"},{"owner":{"account_id":10453530,"reputation":6345,"user_id":7706354,"display_name":"lava"},"score":0,"creation_date":1603808538,"post_id":37679026,"comment_id":114150018,"body_markdown":"nice solution .I saw a app .but it was a loading screen . i thought .how they achieve it .i look it into youtube .they also white screen with youtube icon.now i found it this it","body":"nice solution .I saw a app .but it was a loading screen . i thought .how they achieve it .i look it into youtube .they also white screen with youtube icon.now i found it this it"}],"tags":[],"owner":{"account_id":7201903,"reputation":2058,"user_id":5498855,"display_name":"Ivan Milisavljevic"},"comment_count":5,"down_vote_count":3,"up_vote_count":105,"is_accepted":true,"score":102,"last_activity_date":1490998158,"creation_date":1465301471,"answer_id":37679026,"question_id":37437037,"body_markdown":"The problem with white background is caused because of android&#39;s cold start while the app loads to memory, and it can be avoided with this:\r\n\r\n    public class OnboardingWithCenterAnimationActivity extends AppCompatActivity {\r\n    public static final int STARTUP_DELAY = 300;\r\n    public static final int ANIM_ITEM_DURATION = 1000;\r\n    public static final int ITEM_DELAY = 300;\r\n\r\n    private boolean animationStarted = false;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        setTheme(R.style.AppTheme);\r\n        getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_onboarding_center);\r\n    }\r\n\r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n\r\n        if (!hasFocus || animationStarted) {\r\n            return;\r\n        }\r\n\r\n        animate();\r\n\r\n        super.onWindowFocusChanged(hasFocus);\r\n    }\r\n\r\n    private void animate() {\r\n        ImageView logoImageView = (ImageView) findViewById(R.id.img_logo);\r\n        ViewGroup container = (ViewGroup) findViewById(R.id.container);\r\n\r\n        ViewCompat.animate(logoImageView)\r\n            .translationY(-250)\r\n            .setStartDelay(STARTUP_DELAY)\r\n            .setDuration(ANIM_ITEM_DURATION).setInterpolator(\r\n                new DecelerateInterpolator(1.2f)).start();\r\n\r\n        for (int i = 0; i &lt; container.getChildCount(); i++) {\r\n            View v = container.getChildAt(i);\r\n            ViewPropertyAnimatorCompat viewAnimator;\r\n\r\n            if (!(v instanceof Button)) {\r\n                viewAnimator = ViewCompat.animate(v)\r\n                        .translationY(50).alpha(1)\r\n                        .setStartDelay((ITEM_DELAY * i) + 500)\r\n                        .setDuration(1000);\r\n            } else {\r\n                viewAnimator = ViewCompat.animate(v)\r\n                        .scaleY(1).scaleX(1)\r\n                        .setStartDelay((ITEM_DELAY * i) + 500)\r\n                        .setDuration(500);\r\n            }\r\n\r\n            viewAnimator.setInterpolator(new DecelerateInterpolator()).start();\r\n        }\r\n    }\r\n    }\r\n\r\nlayout\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;?colorPrimary&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:paddingTop=&quot;144dp&quot;\r\n        tools:ignore=&quot;HardcodedText&quot;\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            android:text=&quot;Hello world&quot;         android:textAppearance=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title.Inverse&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            tools:alpha=&quot;1&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;This a nice text&quot;\r\n          android:textAppearance=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Subtitle.Inverse&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            tools:alpha=&quot;1&quot;\r\n            /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_choice1&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;48dp&quot;\r\n            android:scaleX=&quot;0&quot;\r\n            android:scaleY=&quot;0&quot;\r\n            android:text=&quot;A nice choice&quot;\r\n            android:theme=&quot;@style/Button&quot;\r\n            /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_choice2&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:scaleX=&quot;0&quot;\r\n            android:scaleY=&quot;0&quot;\r\n            android:text=&quot;Far better!&quot;\r\n            android:theme=&quot;@style/Button&quot;\r\n            /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img_logo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:src=&quot;@drawable/img_face&quot;\r\n        tools:visibility=&quot;gone&quot;\r\n        /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\nimg face\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:opacity=&quot;opaque&quot;&gt;\r\n\r\n    &lt;item android:drawable=&quot;?colorPrimary&quot;/&gt;\r\n    &lt;item&gt;\r\n        &lt;bitmap\r\n            android:gravity=&quot;center&quot;\r\n            android:src=&quot;@drawable/img_face&quot;/&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n\r\nAdd this theme to your splashscreen in the manifest\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;AppTheme.CenterAnimation&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/ll_face_logo&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\n&lt;/resources&gt;\r\n\r\nwhich will produce efect like this\r\n\r\n![a busy cat](https://raw.githubusercontent.com/saulmm/onboarding-examples-android/master/art/center.gif)\r\n\r\nfor more details and more solutions you can check this\r\n[BlogPost][2]\r\n\r\n  [2]: http://saulmm.github.io/avoding-android-cold-starts","title":"Android - Prevent white screen at startup","body":"<p>The problem with white background is caused because of android's cold start while the app loads to memory, and it can be avoided with this:</p>\n\n<pre><code>public class OnboardingWithCenterAnimationActivity extends AppCompatActivity {\npublic static final int STARTUP_DELAY = 300;\npublic static final int ANIM_ITEM_DURATION = 1000;\npublic static final int ITEM_DELAY = 300;\n\nprivate boolean animationStarted = false;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    setTheme(R.style.AppTheme);\n    getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_onboarding_center);\n}\n\n@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n\n    if (!hasFocus || animationStarted) {\n        return;\n    }\n\n    animate();\n\n    super.onWindowFocusChanged(hasFocus);\n}\n\nprivate void animate() {\n    ImageView logoImageView = (ImageView) findViewById(R.id.img_logo);\n    ViewGroup container = (ViewGroup) findViewById(R.id.container);\n\n    ViewCompat.animate(logoImageView)\n        .translationY(-250)\n        .setStartDelay(STARTUP_DELAY)\n        .setDuration(ANIM_ITEM_DURATION).setInterpolator(\n            new DecelerateInterpolator(1.2f)).start();\n\n    for (int i = 0; i &lt; container.getChildCount(); i++) {\n        View v = container.getChildAt(i);\n        ViewPropertyAnimatorCompat viewAnimator;\n\n        if (!(v instanceof Button)) {\n            viewAnimator = ViewCompat.animate(v)\n                    .translationY(50).alpha(1)\n                    .setStartDelay((ITEM_DELAY * i) + 500)\n                    .setDuration(1000);\n        } else {\n            viewAnimator = ViewCompat.animate(v)\n                    .scaleY(1).scaleX(1)\n                    .setStartDelay((ITEM_DELAY * i) + 500)\n                    .setDuration(500);\n        }\n\n        viewAnimator.setInterpolator(new DecelerateInterpolator()).start();\n    }\n}\n}\n</code></pre>\n\n<p>layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"?colorPrimary\"\nandroid:orientation=\"vertical\"\n&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    android:paddingTop=\"144dp\"\n    tools:ignore=\"HardcodedText\"\n    &gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal\"\n        android:layout_marginTop=\"16dp\"\n        android:alpha=\"0\"\n        android:text=\"Hello world\"         android:textAppearance=\"@style/TextAppearance.AppCompat.Widget.ActionBar.Title.Inverse\"\n        android:textColor=\"@android:color/white\"\n        android:textSize=\"22sp\"\n        tools:alpha=\"1\"\n        /&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal\"\n        android:layout_marginTop=\"8dp\"\n        android:alpha=\"0\"\n        android:gravity=\"center\"\n        android:text=\"This a nice text\"\n      android:textAppearance=\"@style/TextAppearance.AppCompat.Widget.ActionBar.Subtitle.Inverse\"\n        android:textSize=\"20sp\"\n        tools:alpha=\"1\"\n        /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_choice1\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"48dp\"\n        android:scaleX=\"0\"\n        android:scaleY=\"0\"\n        android:text=\"A nice choice\"\n        android:theme=\"@style/Button\"\n        /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_choice2\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"4dp\"\n        android:scaleX=\"0\"\n        android:scaleY=\"0\"\n        android:text=\"Far better!\"\n        android:theme=\"@style/Button\"\n        /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;ImageView\n    android:id=\"@+id/img_logo\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:src=\"@drawable/img_face\"\n    tools:visibility=\"gone\"\n    /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>img face</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:opacity=\"opaque\"&gt;\n\n&lt;item android:drawable=\"?colorPrimary\"/&gt;\n&lt;item&gt;\n    &lt;bitmap\n        android:gravity=\"center\"\n        android:src=\"@drawable/img_face\"/&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p></p>\n\n<p>Add this theme to your splashscreen in the manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"AppTheme.CenterAnimation\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/ll_face_logo&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p></p>\n\n<p>which will produce efect like this</p>\n\n<p><img src=\"https://raw.githubusercontent.com/saulmm/onboarding-examples-android/master/art/center.gif\" alt=\"a busy cat\"></p>\n\n<p>for more details and more solutions you can check this\n<a href=\"http://saulmm.github.io/avoding-android-cold-starts\" rel=\"noreferrer\">BlogPost</a></p>\n"},{"comments":[{"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"score":2,"creation_date":1624386021,"post_id":37681189,"comment_id":120343518,"body_markdown":"best answer, dont foget add to black theme, not only white)","body":"best answer, dont foget add to black theme, not only white)"}],"tags":[],"owner":{"account_id":8509289,"reputation":2918,"user_id":6379785,"display_name":"gmetal"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1465307102,"creation_date":1465307102,"answer_id":37681189,"question_id":37437037,"body_markdown":"Have you tried setting the`android:windowBackground` attribute in the theme of your launcher activity, to either a color or a drawable?\r\n\r\nFor example this: \r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/black&lt;/item&gt;\r\n\r\nwhen added to the Launcher activity theme will show a black color (rather than the white color) on startup. This is an easy trick to hide long initialisation, while showing your users something, **and it works fine** even if you subclass the Application object.\r\n\r\nAvoid using other constructs (even Threads) for doing long initialisation tasks, because you may end up not being able to control the lifecycle of such constructs. The Application object is the correct place for doing exactly this type of actions. ","title":"Android - Prevent white screen at startup","body":"<p>Have you tried setting the<code>android:windowBackground</code> attribute in the theme of your launcher activity, to either a color or a drawable?</p>\n\n<p>For example this: </p>\n\n<pre><code>&lt;item name=\"android:windowBackground\"&gt;@android:color/black&lt;/item&gt;\n</code></pre>\n\n<p>when added to the Launcher activity theme will show a black color (rather than the white color) on startup. This is an easy trick to hide long initialisation, while showing your users something, <strong>and it works fine</strong> even if you subclass the Application object.</p>\n\n<p>Avoid using other constructs (even Threads) for doing long initialisation tasks, because you may end up not being able to control the lifecycle of such constructs. The Application object is the correct place for doing exactly this type of actions. </p>\n"},{"comments":[{"owner":{"account_id":1430389,"reputation":3996,"user_id":1352919,"display_name":"Fakhar"},"score":43,"creation_date":1521288616,"post_id":37718830,"comment_id":85673078,"body_markdown":"It hang application for 2 sec and then application launch, not useful for me!","body":"It hang application for 2 sec and then application launch, not useful for me!"},{"owner":{"account_id":5910560,"reputation":4935,"user_id":4650969,"accept_rate":0,"display_name":"Midhilaj"},"score":4,"creation_date":1531757857,"post_id":37718830,"comment_id":89704563,"body_markdown":"grate now it is not showing #ffffff color but it is now showing #000000","body":"grate now it is not showing #ffffff color but it is now showing #000000"},{"owner":{"account_id":3806533,"reputation":403,"user_id":3158802,"display_name":"Rupam Das"},"score":0,"creation_date":1597069443,"post_id":37718830,"comment_id":112005701,"body_markdown":"@Faakhir So did you find any solution? I am still looking a solution, which remove this white screen and also there&#39;s no delay at launching time.","body":"@Faakhir So did you find any solution? I am still looking a solution, which remove this white screen and also there&#39;s no delay at launching time."},{"owner":{"account_id":13442905,"reputation":1666,"user_id":9699634,"display_name":"VikaS GuttE"},"score":0,"creation_date":1600614412,"post_id":37718830,"comment_id":113136923,"body_markdown":"Prefect solution working for me (`compileSdkVersion 30`). Thank you!","body":"Prefect solution working for me (<code>compileSdkVersion 30</code>). Thank you!"},{"owner":{"account_id":143382,"reputation":2912,"user_id":351688,"accept_rate":91,"display_name":"A.W."},"score":0,"creation_date":1602913733,"post_id":37718830,"comment_id":113875884,"body_markdown":"This works for me in Android Studio 4.1, tested on a real device","body":"This works for me in Android Studio 4.1, tested on a real device"},{"owner":{"account_id":8509289,"reputation":2918,"user_id":6379785,"display_name":"gmetal"},"score":1,"creation_date":1608648341,"post_id":37718830,"comment_id":115643334,"body_markdown":"Setting `android:windowDisablePreview` will remove the white screen on startup by not showing anything. Therefore, if during your app initialisation you are doing a lot of things (e.g. initialising external services) then your app will appear to hang (which it does not). The most appropriate solution is setting a custom `android:windowBackground`. In reality, the white screen at startup is just the default windowBackground that you are seeing.","body":"Setting <code>android:windowDisablePreview</code> will remove the white screen on startup by not showing anything. Therefore, if during your app initialisation you are doing a lot of things (e.g. initialising external services) then your app will appear to hang (which it does not). The most appropriate solution is setting a custom <code>android:windowBackground</code>. In reality, the white screen at startup is just the default windowBackground that you are seeing."},{"owner":{"account_id":140189,"reputation":9145,"user_id":346309,"accept_rate":92,"display_name":"JPM"},"score":1,"creation_date":1685024577,"post_id":37718830,"comment_id":134606015,"body_markdown":"White window still shows even with this.","body":"White window still shows even with this."}],"tags":[],"owner":{"account_id":2593996,"reputation":1971,"user_id":2248045,"display_name":"Hitesh Singh"},"comment_count":7,"down_vote_count":8,"up_vote_count":134,"is_accepted":false,"score":126,"last_activity_date":1575439237,"creation_date":1465455372,"answer_id":37718830,"question_id":37437037,"body_markdown":"please add this line into your app theme \r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n\r\nfor more information : [https://developer.android.com/topic/performance/vitals/launch-time#themed][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/launch-time#themed","title":"Android - Prevent white screen at startup","body":"<p>please add this line into your app theme </p>\n\n<pre><code>&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>for more information : <a href=\"https://developer.android.com/topic/performance/vitals/launch-time#themed\" rel=\"noreferrer\">https://developer.android.com/topic/performance/vitals/launch-time#themed</a></p>\n"},{"tags":[],"owner":{"account_id":6080415,"reputation":8109,"user_id":4746376,"accept_rate":73,"display_name":"Sohail Zahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471511197,"creation_date":1471511197,"answer_id":39014103,"question_id":37437037,"body_markdown":"Both properties works\r\n\r\n        &lt;style name=&quot;AppBaseThemeDark&quot; parent=&quot;@style/Theme.AppCompat&quot;&gt;\r\n                &lt;!--your other properties --&gt;\r\n                &lt;!--&lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;--&gt;\r\n                &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n                &lt;!--your other properties --&gt;\r\n        &lt;/style&gt;\r\n\r\n","title":"Android - Prevent white screen at startup","body":"<p>Both properties works</p>\n\n<pre><code>    &lt;style name=\"AppBaseThemeDark\" parent=\"@style/Theme.AppCompat\"&gt;\n            &lt;!--your other properties --&gt;\n            &lt;!--&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;--&gt;\n            &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n            &lt;!--your other properties --&gt;\n    &lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9419272,"reputation":11,"user_id":7803889,"display_name":"Javier Reinoso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491120410,"creation_date":1491118425,"answer_id":43165801,"question_id":37437037,"body_markdown":"Just write the item in values/styles.xml:\r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/black&lt;/item&gt;\r\n\r\nFor example, in the AppTheme:\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n        \r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/black&lt;/item&gt;\r\n\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n","title":"Android - Prevent white screen at startup","body":"<p>Just write the item in values/styles.xml:</p>\n\n<pre><code>&lt;item name=\"android:windowBackground\"&gt;@android:color/black&lt;/item&gt;\n</code></pre>\n\n<p>For example, in the AppTheme:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n\n    &lt;item name=\"android:windowBackground\"&gt;@android:color/black&lt;/item&gt;\n\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4928931,"reputation":2728,"user_id":3969362,"display_name":"Slion"},"score":2,"creation_date":1533239999,"post_id":44430166,"comment_id":90285977,"body_markdown":"That works great for me on a NativeActivity OpenGL application. I&#39;m not sure why this is not higher up in the answers as it is the most complete and expedient answer. No Java involved just a couple of XML file changes.","body":"That works great for me on a NativeActivity OpenGL application. I&#39;m not sure why this is not higher up in the answers as it is the most complete and expedient answer. No Java involved just a couple of XML file changes."}],"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1496909476,"creation_date":1496909476,"answer_id":44430166,"question_id":37437037,"body_markdown":"I had same issue, you have to update your style.\r\n\r\n**style.xml**\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n     &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n    \r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n    \r\n     &lt;/style&gt;\r\n\r\nYour manifest file should looks like below.\r\n\r\n    &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n         // Other stuff\r\n    &lt;/application&gt;\r\n\r\n**Outout:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78a5r.gif\r\n\r\nHope this would help you.","title":"Android - Prevent white screen at startup","body":"<p>I had same issue, you have to update your style.</p>\n\n<p><strong>style.xml</strong></p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"drawerArrowStyle\"&gt;@style/DrawerArrowStyle&lt;/item&gt;\n        &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n        &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n\n &lt;/style&gt;\n</code></pre>\n\n<p>Your manifest file should looks like below.</p>\n\n<pre><code>&lt;application\n        android:name=\".MyApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\"&gt;\n     // Other stuff\n&lt;/application&gt;\n</code></pre>\n\n<p><strong>Outout:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/78a5r.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/78a5r.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this would help you.</p>\n"},{"comments":[{"owner":{"account_id":5705147,"reputation":1019,"user_id":4508962,"display_name":"Jerem Lachkar"},"score":1,"creation_date":1604422253,"post_id":49254344,"comment_id":114340412,"body_markdown":"looks promising, but Android says at runtime &quot;Binary XML file line #7: &lt;bitmap&gt; requires a valid &#39;src&#39; attribute&quot;. Maybe the drawables are not loaded so early in the app launch process ?","body":"looks promising, but Android says at runtime &quot;Binary XML file line #7: &lt;bitmap&gt; requires a valid &#39;src&#39; attribute&quot;. Maybe the drawables are not loaded so early in the app launch process ?"},{"owner":{"account_id":7900776,"reputation":3946,"user_id":5967872,"display_name":"KYL3R"},"score":0,"creation_date":1609595487,"post_id":49254344,"comment_id":115873214,"body_markdown":"Hey @JeremLachkar - I got the same error, but solved it. &lt;bitmap&gt; cannot load xml icons / vectors (at that time?) but using PNGs worked for me!","body":"Hey @JeremLachkar - I got the same error, but solved it. &lt;bitmap&gt; cannot load xml icons / vectors (at that time?) but using PNGs worked for me!"},{"owner":{"account_id":15515017,"reputation":390,"user_id":11192811,"display_name":"Rajnish Sharma"},"score":0,"creation_date":1611765220,"post_id":49254344,"comment_id":116557330,"body_markdown":"Just remove the bitmap and use this instead : `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:drawable=&quot;@color/black&quot;/&gt;\n    &lt;item\n        android:drawable=&quot;@mipmap/ic_launcher_round&quot;\n        android:gravity=&quot;center&quot;/&gt;\n&lt;/layer-list&gt;`","body":"Just remove the bitmap and use this instead : <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;layer-list xmlns:android=&quot;http:&#47;&#47;schemas.android.com&#47;apk&#47;res&#47;android&quot;&gt;     &lt;item         android:drawable=&quot;@color&#47;black&quot;&#47;&gt;     &lt;item         android:drawable=&quot;@mipmap&#47;ic_launcher_round&quot;         android:gravity=&quot;center&quot;&#47;&gt; &lt;&#47;layer-list&gt;</code>"},{"owner":{"account_id":15744638,"reputation":1028,"user_id":11360924,"display_name":"landnbloc"},"score":0,"creation_date":1649960919,"post_id":49254344,"comment_id":127012263,"body_markdown":"This delayed any screen from opening for the app for around 4 seconds for me. Felt like the app icon was never touched. Run on cheap Samsung Galaxy A02s","body":"This delayed any screen from opening for the app for around 4 seconds for me. Felt like the app icon was never touched. Run on cheap Samsung Galaxy A02s"},{"owner":{"account_id":4675848,"reputation":607,"user_id":3786226,"accept_rate":83,"display_name":"Mc_Topaz"},"score":0,"creation_date":1675268093,"post_id":49254344,"comment_id":132892992,"body_markdown":"This worked for me.\nI created a drawable with a blue background.\nIn my theme in the /res/valyes/themes.xml i added the `&lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/my_drawable&lt;/item&gt; line.`","body":"This worked for me. I created a drawable with a blue background. In my theme in the /res/valyes/themes.xml i added the <code>&lt;item name=&quot;android:windowBackground&quot;&gt;@drawable&#47;my_drawable&lt;&#47;item&gt; line.</code>"}],"tags":[],"owner":{"account_id":3244300,"reputation":2975,"user_id":2736367,"accept_rate":75,"display_name":"Sam"},"comment_count":5,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1520938475,"creation_date":1520938475,"answer_id":49254344,"question_id":37437037,"body_markdown":"Recommended way of solving this problem is missing in the answers. So I am adding my answer here. The white-screen-at-startup problem occurs because of the initial blank screen that the system process draws when launching the app. A common way to solve this is by turning off this initial screen by adding this to your `styles.xml` file.\r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n\r\nBut according to android documentation this can result in longer startup time. Recommended way of avoiding this initial white screen according to google is to use activity&#39;s `windowBackground` theme attribute and provide a simple custom drawable for the starting activity.  \r\n\r\nLike this:\r\n\r\nDrawable Layout file, `my_drawable.xml`\r\n\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:opacity=&quot;opaque&quot;&gt;\r\n      &lt;!-- The background color, preferably the same as your normal theme --&gt;\r\n      &lt;item android:drawable=&quot;@android:color/white&quot;/&gt;\r\n      &lt;!-- Your product logo - 144dp color version of your app icon --&gt;\r\n      &lt;item&gt;\r\n        &lt;bitmap\r\n          android:src=&quot;@drawable/product_logo_144dp&quot;\r\n          android:gravity=&quot;center&quot;/&gt;\r\n      &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nCreate a new style in your `styles.xml`\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;               \r\n    &lt;/style&gt;\r\n    \r\n    &lt;!-- Starting activity theme --&gt;\r\n    &lt;style name=&quot;AppTheme.Launcher&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/my_drawable&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAdd this theme to your starting activity in the Manifest file \r\n\r\n    &lt;activity ...\r\n    android:theme=&quot;@style/AppTheme.Launcher&quot; /&gt;\r\n\r\nAnd when you want to transition back to your normal theme call `setTheme(R.style.Apptheme)` before calling `super.onCreate()` and `setContentView()` \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        // Make sure this is before calling super.onCreate\r\n        setTheme(R.style.Theme_MyApp);\r\n        super.onCreate(savedInstanceState);\r\n        // ...\r\n      }\r\n    }\r\n\r\nThis is the recommended way to solve the problem and this is from google [Material Design][1] patterns.\r\n\r\n\r\n  [1]: https://material.io/guidelines/patterns/launch-screens.html#","title":"Android - Prevent white screen at startup","body":"<p>Recommended way of solving this problem is missing in the answers. So I am adding my answer here. The white-screen-at-startup problem occurs because of the initial blank screen that the system process draws when launching the app. A common way to solve this is by turning off this initial screen by adding this to your <code>styles.xml</code> file.</p>\n\n<pre><code>&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>But according to android documentation this can result in longer startup time. Recommended way of avoiding this initial white screen according to google is to use activity's <code>windowBackground</code> theme attribute and provide a simple custom drawable for the starting activity.  </p>\n\n<p>Like this:</p>\n\n<p>Drawable Layout file, <code>my_drawable.xml</code></p>\n\n<pre><code>&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\" android:opacity=\"opaque\"&gt;\n  &lt;!-- The background color, preferably the same as your normal theme --&gt;\n  &lt;item android:drawable=\"@android:color/white\"/&gt;\n  &lt;!-- Your product logo - 144dp color version of your app icon --&gt;\n  &lt;item&gt;\n    &lt;bitmap\n      android:src=\"@drawable/product_logo_144dp\"\n      android:gravity=\"center\"/&gt;\n  &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n\n<p>Create a new style in your <code>styles.xml</code></p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\"&gt;\n    &lt;!-- Customize your theme here. --&gt;               \n&lt;/style&gt;\n\n&lt;!-- Starting activity theme --&gt;\n&lt;style name=\"AppTheme.Launcher\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/my_drawable&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Add this theme to your starting activity in the Manifest file </p>\n\n<pre><code>&lt;activity ...\nandroid:theme=\"@style/AppTheme.Launcher\" /&gt;\n</code></pre>\n\n<p>And when you want to transition back to your normal theme call <code>setTheme(R.style.Apptheme)</code> before calling <code>super.onCreate()</code> and <code>setContentView()</code> </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    // Make sure this is before calling super.onCreate\n    setTheme(R.style.Theme_MyApp);\n    super.onCreate(savedInstanceState);\n    // ...\n  }\n}\n</code></pre>\n\n<p>This is the recommended way to solve the problem and this is from google <a href=\"https://material.io/guidelines/patterns/launch-screens.html#\" rel=\"noreferrer\">Material Design</a> patterns.</p>\n"},{"tags":[],"owner":{"account_id":9240608,"reputation":399,"user_id":6864013,"display_name":"prasad reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1521183452,"creation_date":1521183452,"answer_id":49314844,"question_id":37437037,"body_markdown":"Please copy and paste these two lines in your manifest app theme i.e res/styles/AppTheme. then it will work like charm..\r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;","title":"Android - Prevent white screen at startup","body":"<p>Please copy and paste these two lines in your manifest app theme i.e res/styles/AppTheme. then it will work like charm..</p>\n\n<pre><code>&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8324600,"reputation":1566,"user_id":6255036,"display_name":"Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530860546,"creation_date":1530860546,"answer_id":51204730,"question_id":37437037,"body_markdown":"    Style :- \r\n    &lt;style name=&quot;SplashViewTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    In Manifest :- \r\n    &lt;activity android:name=&quot;.SplashActivity&quot;\r\n            android:theme=&quot;@style/SplashViewTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;","title":"Android - Prevent white screen at startup","body":"<pre><code>Style :- \n&lt;style name=\"SplashViewTheme\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/splash&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\nIn Manifest :- \n&lt;activity android:name=\".SplashActivity\"\n        android:theme=\"@style/SplashViewTheme\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8047963,"reputation":1160,"user_id":6067590,"display_name":"Akanshi Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1548662806,"creation_date":1548662806,"answer_id":54397744,"question_id":37437037,"body_markdown":"I added the following two lines in my theme\r\nunder styles.xml\r\n\r\n\r\n        &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n\r\nWorked like a charm","title":"Android - Prevent white screen at startup","body":"<p>I added the following two lines in my theme\nunder styles.xml</p>\n\n<pre><code>    &lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n</code></pre>\n\n<p>Worked like a charm</p>\n"},{"comments":[{"owner":{"account_id":4366153,"reputation":2931,"user_id":3561889,"accept_rate":59,"display_name":"Ucdemir"},"score":3,"creation_date":1609260073,"post_id":57090517,"comment_id":115793457,"body_markdown":"I test and still white screen there","body":"I test and still white screen there"}],"tags":[],"owner":{"account_id":4264857,"reputation":5594,"user_id":3488208,"accept_rate":20,"display_name":"Surendar D"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599478405,"creation_date":1563439626,"answer_id":57090517,"question_id":37437037,"body_markdown":"Please try this once.\r\n\r\n1) Create a drawable file splash_background.xml\r\n\r\n    \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item android:drawable=&quot;@color/{your color}&quot; /&gt;\r\n    \r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:layout_width=&quot;@dimen/size_250&quot;\r\n                android:layout_height=&quot;@dimen/size_100&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:src=&quot;{your image}&quot;\r\n                android:tint=&quot;@color/colorPrimary&quot; /&gt;\r\n        &lt;/item&gt;\r\n    \r\n    &lt;/layer-list&gt;\r\n2) Put this in styles.xml\r\n\r\n         &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n             &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;\r\n         &lt;/style&gt;\r\n3) In your AndroidMainfest.xml set the above theme to Launch activity.\r\n\r\n           &lt;activity\r\n                android:name=&quot;.SplashScreenActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/SplashTheme&quot;\r\n                android:windowSoftInputMode=&quot;stateVisible|adjustResize&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\n","title":"Android - Prevent white screen at startup","body":"<p>Please try this once.</p>\n<ol>\n<li>Create a drawable file splash_background.xml</li>\n</ol>\n\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item android:drawable=&quot;@color/{your color}&quot; /&gt;\n\n    &lt;item&gt;\n        &lt;bitmap\n            android:layout_width=&quot;@dimen/size_250&quot;\n            android:layout_height=&quot;@dimen/size_100&quot;\n            android:gravity=&quot;center&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:src=&quot;{your image}&quot;\n            android:tint=&quot;@color/colorPrimary&quot; /&gt;\n    &lt;/item&gt;\n\n&lt;/layer-list&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Put this in styles.xml</p>\n<pre><code>  &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n      &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;\n  &lt;/style&gt;\n</code></pre>\n</li>\n<li><p>In your AndroidMainfest.xml set the above theme to Launch activity.</p>\n<pre><code>    &lt;activity\n         android:name=&quot;.SplashScreenActivity&quot;\n         android:screenOrientation=&quot;portrait&quot;\n         android:theme=&quot;@style/SplashTheme&quot;\n         android:windowSoftInputMode=&quot;stateVisible|adjustResize&quot;&gt;\n         &lt;intent-filter&gt;\n             &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n             &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n         &lt;/intent-filter&gt;\n     &lt;/activity&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6477138,"reputation":829,"user_id":5015427,"display_name":"ranojan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624966050,"creation_date":1624966050,"answer_id":68177787,"question_id":37437037,"body_markdown":"Delete \r\n\r\n    &lt;style name=&quot;AppTheme.Launcher&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splashscreen&lt;/item&gt;\r\n    &lt;/style&gt;\r\nfrom style.xml file\r\n\r\n","title":"Android - Prevent white screen at startup","body":"<p>Delete</p>\n<pre><code>&lt;style name=&quot;AppTheme.Launcher&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splashscreen&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>from style.xml file</p>\n"},{"comments":[{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1637222866,"post_id":69655199,"comment_id":123769689,"body_markdown":"Thank you very much for your detailed and involved answer.","body":"Thank you very much for your detailed and involved answer."},{"owner":{"account_id":10898797,"reputation":1961,"user_id":8011734,"display_name":"Marwa Eltayeb"},"score":0,"creation_date":1637332712,"post_id":69655199,"comment_id":123805434,"body_markdown":"You are very welcome. I am so glad that my answer is helpful for you.","body":"You are very welcome. I am so glad that my answer is helpful for you."}],"tags":[],"owner":{"account_id":10898797,"reputation":1961,"user_id":8011734,"display_name":"Marwa Eltayeb"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634784057,"creation_date":1634784057,"answer_id":69655199,"question_id":37437037,"body_markdown":"According to **Google&#39;s recommendation** [Here][1], you *should not* prevent this white screen from launching. You can use this theme attribute to turn off the initial blank screen that the system process draws when launching the app.   \r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n\r\nHowever, **This approach is not recommended** because it can result in a longer startup time than apps that don’t suppress the preview window. Also, it forces the user to wait with no feedback while the activity launches, making them wonder if the app is functioning properly. \r\n\r\nThey recommend to use the activity&#39;s windowBackground theme attribute to provide a simple custom drawable for the starting activity instead of disabling the preview window.\r\n\r\nTherefore, here is the recommended solution:\r\n\r\nFirst, create a new drawable file for example startup_screen.xml \r\n\r\n   \r\n\r\n     &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:opacity=&quot;opaque&quot;&gt;\r\n        &lt;!-- The background color, preferably the same as normal theme --&gt;\r\n        &lt;item android:drawable=&quot;@android:color/white&quot;/&gt;\r\n        &lt;!-- Product logo - 144dp color version of App icon --&gt;\r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:src=&quot;@drawable/logo&quot;\r\n                android:gravity=&quot;center&quot;/&gt;\r\n        &lt;/item&gt;\r\n     &lt;/layer-list&gt;\r\n\r\n\r\nSecond, reference it from your style file. If you use Night mode. Add it in both themes.xml files.\r\n\r\n    &lt;!-- Start Up Screen --&gt;\r\n    &lt;style name=&quot;AppThemeLauncher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n         &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/lightGray&lt;/item&gt;\r\n         &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/startup_screen&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nIf you notice, I added statusBarColor attribute to change the color of status Bar according to my custom design.\r\n\r\nThen, Add *AppThemeLauncher* Theme in your current activity. \r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:theme=&quot;@style/AppThemeLauncher&quot;/&gt;\r\n\r\nIf you want to transition back to your normal theme, call setTheme(R.style.AppTheme) before calling super.onCreate() and setContentView():\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            // Make sure this is before calling super.onCreate\r\n            setTheme(R.style.AppTheme)\r\n            super.onCreate(savedInstanceState)\r\n            // ...\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/launch-time","title":"Android - Prevent white screen at startup","body":"<p>According to <strong>Google's recommendation</strong> <a href=\"https://developer.android.com/topic/performance/vitals/launch-time\" rel=\"nofollow noreferrer\">Here</a>, you <em>should not</em> prevent this white screen from launching. You can use this theme attribute to turn off the initial blank screen that the system process draws when launching the app.</p>\n<pre><code>&lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\n</code></pre>\n<p>However, <strong>This approach is not recommended</strong> because it can result in a longer startup time than apps that don’t suppress the preview window. Also, it forces the user to wait with no feedback while the activity launches, making them wonder if the app is functioning properly.</p>\n<p>They recommend to use the activity's windowBackground theme attribute to provide a simple custom drawable for the starting activity instead of disabling the preview window.</p>\n<p>Therefore, here is the recommended solution:</p>\n<p>First, create a new drawable file for example startup_screen.xml</p>\n<pre><code> &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:opacity=&quot;opaque&quot;&gt;\n    &lt;!-- The background color, preferably the same as normal theme --&gt;\n    &lt;item android:drawable=&quot;@android:color/white&quot;/&gt;\n    &lt;!-- Product logo - 144dp color version of App icon --&gt;\n    &lt;item&gt;\n        &lt;bitmap\n            android:src=&quot;@drawable/logo&quot;\n            android:gravity=&quot;center&quot;/&gt;\n    &lt;/item&gt;\n &lt;/layer-list&gt;\n</code></pre>\n<p>Second, reference it from your style file. If you use Night mode. Add it in both themes.xml files.</p>\n<pre><code>&lt;!-- Start Up Screen --&gt;\n&lt;style name=&quot;AppThemeLauncher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n     &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/lightGray&lt;/item&gt;\n     &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/startup_screen&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>If you notice, I added statusBarColor attribute to change the color of status Bar according to my custom design.</p>\n<p>Then, Add <em>AppThemeLauncher</em> Theme in your current activity.</p>\n<pre><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:theme=&quot;@style/AppThemeLauncher&quot;/&gt;\n</code></pre>\n<p>If you want to transition back to your normal theme, call setTheme(R.style.AppTheme) before calling super.onCreate() and setContentView():</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        // Make sure this is before calling super.onCreate\n        setTheme(R.style.AppTheme)\n        super.onCreate(savedInstanceState)\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1662506,"reputation":1874,"user_id":1530504,"accept_rate":36,"display_name":"asok Buzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645074489,"creation_date":1645074489,"answer_id":71152787,"question_id":37437037,"body_markdown":"You should have `colors.xml` on values-night (create alongside values folder if it doesn&#39;t already exist) folder for dark theme colors. \r\neg.\r\n\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;status_bar&quot;&gt;#0e0e0e&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n(`colors.xml` on regular values folder will be used for light theme)\r\n\r\nAnd on `styles.xml` which supplies your app theme you will have entry for background and statusbar which takes necessary values.\r\neg.\r\n\r\n    &lt;style name=&quot;Theme.&lt;AppName&gt;&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/red700&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/red900&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/red700&lt;/item&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/status_bar&lt;/item&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@color/status_bar&lt;/item&gt;\r\n        &lt;/style&gt;\r\nThis style is referenced on AndroidManifest.xml file\r\n\r\n    android:theme=&quot;@style/Theme.&lt;AppName&gt;&quot;&gt;","title":"Android - Prevent white screen at startup","body":"<p>You should have <code>colors.xml</code> on values-night (create alongside values folder if it doesn't already exist) folder for dark theme colors.\neg.</p>\n<pre><code>&lt;resources&gt;\n    &lt;color name=&quot;status_bar&quot;&gt;#0e0e0e&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>(<code>colors.xml</code> on regular values folder will be used for light theme)</p>\n<p>And on <code>styles.xml</code> which supplies your app theme you will have entry for background and statusbar which takes necessary values.\neg.</p>\n<pre><code>&lt;style name=&quot;Theme.&lt;AppName&gt;&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/red700&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/red900&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/red700&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/status_bar&lt;/item&gt;\n        &lt;item name=&quot;android:background&quot;&gt;@color/status_bar&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>This style is referenced on AndroidManifest.xml file</p>\n<pre><code>android:theme=&quot;@style/Theme.&lt;AppName&gt;&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120355,"favorite_count":0,"down_vote_count":0,"up_vote_count":149,"accepted_answer_id":37679026,"answer_count":18,"score":149,"last_activity_date":1675934785,"creation_date":1464179021,"question_id":37437037,"body_markdown":"As we all know, many Android apps display a white screen very briefly before their first `Activity` comes into focus. This problem is observed in the following cases:\r\n\r\n - Android apps that extend the global [`Application`](https://developer.android.com/reference/android/app/Application.html) class and\r\n   perform major initializations therein. The `Application`\r\n   object is always created before the first `Activity` (a fact that can\r\n   be observed in the debugger), so this makes sense. This is the cause of the delay in my case.\r\n   \r\n - Android apps that display the default preview window before the splash screen.\r\n\r\nSetting `android:windowDisablePreview = &quot;true&quot;` obviously does not work here. Nor can I set the parent theme of the splash screen to `Theme.Holo.NoActionBar` as described [here](http://cyrilmottier.com/2013/01/23/android-app-launching-made-gorgeous/), because [unfortunately] my splash screen makes use of an `ActionBar`.\r\n\r\nMeanwhile, apps that do not extend the `Application` class ***do not*** show the white screen at startup.\r\n\r\nThe thing is, ideally the initializations performed in the `Application` object need to occur *before* the first `Activity` is shown. So my question is, how can I perform these initializations on app startup *without* using an `Application` object? Possibly using a `Thread` or `Service`, I suppose?\r\n\r\nThis is an interesting problem to think about. I can&#39;t bypass it the usual way (by setting the `NoActionBar` theme), as tragically my Splash screen actually has an `ActionBar` due to some unrelated reasons.\r\n\r\n**Note:**\r\n\r\nI have already referred to the following questions:\r\n\r\n - [**How To fix white screen on app Start\r\n   up?**](https://stackoverflow.com/q/20546703)\r\n   \r\n - [**Android splash screen is white in the\r\n   beginning?**](https://stackoverflow.com/q/17181455)\r\n   \r\n - [**White screen before\r\n   splashscreen**](https://stackoverflow.com/q/15067615)\r\n\r\n - [**White background when Android app start up**](https://stackoverflow.com/q/19738879)\r\n\r\n - [**Why there is a white screen appears for 1sec when starting to run the apps in Android?**](https://stackoverflow.com/q/12613217)\r\n\r\n**References:**\r\n\r\n - [**Patterns – Launch screens**](https://www.google.com/design/spec/patterns/launch-screens.html).\r\n\r\n - [**Branded launch screen: the new splash for Android**](http://antonioleiva.com/branded-launch-screen/).\r\n\r\n - [**Splash Screens the Right Way**](https://www.bignerdranch.com/blog/splash-screens-the-right-way/).","title":"Android - Prevent white screen at startup","body":"<p>As we all know, many Android apps display a white screen very briefly before their first <code>Activity</code> comes into focus. This problem is observed in the following cases:</p>\n\n<ul>\n<li><p>Android apps that extend the global <a href=\"https://developer.android.com/reference/android/app/Application.html\" rel=\"noreferrer\"><code>Application</code></a> class and\nperform major initializations therein. The <code>Application</code>\nobject is always created before the first <code>Activity</code> (a fact that can\nbe observed in the debugger), so this makes sense. This is the cause of the delay in my case.</p></li>\n<li><p>Android apps that display the default preview window before the splash screen.</p></li>\n</ul>\n\n<p>Setting <code>android:windowDisablePreview = \"true\"</code> obviously does not work here. Nor can I set the parent theme of the splash screen to <code>Theme.Holo.NoActionBar</code> as described <a href=\"http://cyrilmottier.com/2013/01/23/android-app-launching-made-gorgeous/\" rel=\"noreferrer\">here</a>, because [unfortunately] my splash screen makes use of an <code>ActionBar</code>.</p>\n\n<p>Meanwhile, apps that do not extend the <code>Application</code> class <strong><em>do not</em></strong> show the white screen at startup.</p>\n\n<p>The thing is, ideally the initializations performed in the <code>Application</code> object need to occur <em>before</em> the first <code>Activity</code> is shown. So my question is, how can I perform these initializations on app startup <em>without</em> using an <code>Application</code> object? Possibly using a <code>Thread</code> or <code>Service</code>, I suppose?</p>\n\n<p>This is an interesting problem to think about. I can't bypass it the usual way (by setting the <code>NoActionBar</code> theme), as tragically my Splash screen actually has an <code>ActionBar</code> due to some unrelated reasons.</p>\n\n<p><strong>Note:</strong></p>\n\n<p>I have already referred to the following questions:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/q/20546703\"><strong>How To fix white screen on app Start\nup?</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/17181455\"><strong>Android splash screen is white in the\nbeginning?</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/15067615\"><strong>White screen before\nsplashscreen</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/19738879\"><strong>White background when Android app start up</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/12613217\"><strong>Why there is a white screen appears for 1sec when starting to run the apps in Android?</strong></a></p></li>\n</ul>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><p><a href=\"https://www.google.com/design/spec/patterns/launch-screens.html\" rel=\"noreferrer\"><strong>Patterns – Launch screens</strong></a>.</p></li>\n<li><p><a href=\"http://antonioleiva.com/branded-launch-screen/\" rel=\"noreferrer\"><strong>Branded launch screen: the new splash for Android</strong></a>.</p></li>\n<li><p><a href=\"https://www.bignerdranch.com/blog/splash-screens-the-right-way/\" rel=\"noreferrer\"><strong>Splash Screens the Right Way</strong></a>.</p></li>\n</ul>\n"},{"tags":["java","java-stream","grouping","collectors","reducing"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1563201032,"post_id":57041896,"comment_id":100611493,"body_markdown":"I think it&#39;s just common sense and `Collectors` knowledge, nothing like a pattern if you ask me.","body":"I think it&#39;s just common sense and <code>Collectors</code> knowledge, nothing like a pattern if you ask me."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":8,"creation_date":1563201156,"post_id":57041896,"comment_id":100611573,"body_markdown":"&quot;Anyone can tel me how he figured this out ?&quot; I&#39;d guess Holger would be the best person to ask!","body":"&quot;Anyone can tel me how he figured this out ?&quot; I&#39;d guess Holger would be the best person to ask!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1563202223,"post_id":57041896,"comment_id":100612175,"body_markdown":"@ElmaCherb commenting again on that answer (using `@Holger`) would notify him directly. It was several weeks ago, so he is unlikely to revisit the question unless prompted.","body":"@ElmaCherb commenting again on that answer (using <code>@Holger</code>) would notify him directly. It was several weeks ago, so he is unlikely to revisit the question unless prompted."}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1622464236,"post_id":57042622,"comment_id":119792976,"body_markdown":"Thank you. I have read this time and time again. How about detailing those &#39;more patterns&#39; in a blog or sharing links to some existing articles?","body":"Thank you. I have read this time and time again. How about detailing those &#39;more patterns&#39; in a blog or sharing links to some existing articles?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1622464662,"post_id":57042622,"comment_id":119793177,"body_markdown":"@Naman maybe I should start writing a blog…","body":"@Naman maybe I should start writing a blog…"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661855567,"post_id":57042622,"comment_id":129865445,"body_markdown":"Indeed, in some cases, it might not seem very obvious that `toMap` with a merge function is the right tool. But it really makes a difference in terms of readability. Very instructive observation.","body":"Indeed, in some cases, it might not seem very obvious that <code>toMap</code> with a merge function is the right tool. But it really makes a difference in terms of readability. Very instructive observation."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1675934662,"creation_date":1563203504,"answer_id":57042622,"question_id":57041896,"body_markdown":"This pattern became evident by experience with using both collectors. You’ll find several Q&amp;As on Stackoverflow, where a problem could be solved with either collector, but one of them seems a better fit for the particular task.\r\n\r\nThis is a variation of the difference between [Reduction] and [Mutable Reduction]. In the first case, we use `reduce` on the Stream, in the second we use `collect`. It comes naturally, that the `groupingBy` collector, which takes a second `Collector` as argument, is the right tool when we want to apply a Mutable Reduction to the groups.\r\n\r\nNot that obviously, the `toMap` collector taking a *merge* function is the right tool when we want to perform a classical Reduction, as that merge function has the same shape and purpose as a Reduction function, even if it is not called as such.\r\n\r\nIn practice, we note that the collectors which perform a Reduction, return an `Optional`, which is usually not desired when being used with `groupingBy`, which is the reason why `toMap` works more smoothly in these cases.\r\n\r\nThere are surely more patterns which become apparent while using these APIs, but collecting them in one answer is not the scope of Stackoverflow.\r\n\r\n[Reduction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Reduction\r\n[Mutable Reduction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#MutableReduction","title":"Java Streams: Replacing groupingBy and reducing by toMap","body":"<p>This pattern became evident by experience with using both collectors. You’ll find several Q&amp;As on Stackoverflow, where a problem could be solved with either collector, but one of them seems a better fit for the particular task.</p>\n<p>This is a variation of the difference between <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">Reduction</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow noreferrer\">Mutable Reduction</a>. In the first case, we use <code>reduce</code> on the Stream, in the second we use <code>collect</code>. It comes naturally, that the <code>groupingBy</code> collector, which takes a second <code>Collector</code> as argument, is the right tool when we want to apply a Mutable Reduction to the groups.</p>\n<p>Not that obviously, the <code>toMap</code> collector taking a <em>merge</em> function is the right tool when we want to perform a classical Reduction, as that merge function has the same shape and purpose as a Reduction function, even if it is not called as such.</p>\n<p>In practice, we note that the collectors which perform a Reduction, return an <code>Optional</code>, which is usually not desired when being used with <code>groupingBy</code>, which is the reason why <code>toMap</code> works more smoothly in these cases.</p>\n<p>There are surely more patterns which become apparent while using these APIs, but collecting them in one answer is not the scope of Stackoverflow.</p>\n"}],"owner":{"account_id":11356216,"reputation":2637,"user_id":8325761,"display_name":"bubbles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1282,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":57042622,"answer_count":1,"score":13,"last_activity_date":1675934662,"creation_date":1563200862,"question_id":57041896,"body_markdown":"I&#39;ve asked a question before about enhancing some code, [here][1]. [@Holger][2] gives me the right response and he said that:\r\n\r\n&gt; Whenever you find yourself using the reducing collector with\r\n&gt; groupingBy, you should check whether toMap isn’t more appropriate\r\n\r\nIt seems like a pattern ! and what he suggests me to do was just perfect.\r\n\r\nIs this a well known pattern ?  Why `toMap` is better than (in some cases) combining `groupingBy` and `reducing` ?\r\n\r\n  [1]: https://stackoverflow.com/questions/56684523/do-i-need-a-custom-spliterator-to-avoid-extra-stream-call\r\n  [2]: https://stackoverflow.com/users/2711488/holger","title":"Java Streams: Replacing groupingBy and reducing by toMap","body":"<p>I've asked a question before about enhancing some code, <a href=\"https://stackoverflow.com/questions/56684523/do-i-need-a-custom-spliterator-to-avoid-extra-stream-call\">here</a>. <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a> gives me the right response and he said that:</p>\n\n<blockquote>\n  <p>Whenever you find yourself using the reducing collector with\n  groupingBy, you should check whether toMap isn’t more appropriate</p>\n</blockquote>\n\n<p>It seems like a pattern ! and what he suggests me to do was just perfect.</p>\n\n<p>Is this a well known pattern ?  Why <code>toMap</code> is better than (in some cases) combining <code>groupingBy</code> and <code>reducing</code> ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3093133,"reputation":318,"user_id":2618886,"display_name":"Anant Goswami"},"score":0,"creation_date":1554917358,"post_id":55617909,"comment_id":97929726,"body_markdown":"Use @TransactionSynchronizationManager","body":"Use @TransactionSynchronizationManager"},{"owner":{"account_id":4939497,"reputation":456,"user_id":3976662,"display_name":"seb.wired"},"score":0,"creation_date":1554919108,"post_id":55617909,"comment_id":97930568,"body_markdown":"Which database are you using? Can you provide the configuration for the corresponding `TransactionManager`?","body":"Which database are you using? Can you provide the configuration for the corresponding <code>TransactionManager</code>?"},{"owner":{"account_id":9488737,"reputation":93,"user_id":7054317,"display_name":"Adrian Sowiński"},"score":1,"creation_date":1554919782,"post_id":55617909,"comment_id":97930874,"body_markdown":"I use mysql and don&#39;t configured TransactionManager. I use spring boot for autoconfiguration","body":"I use mysql and don&#39;t configured TransactionManager. I use spring boot for autoconfiguration"},{"owner":{"account_id":10350691,"reputation":907,"user_id":7634201,"display_name":"C. Weber"},"score":0,"creation_date":1554998342,"post_id":55617909,"comment_id":97964618,"body_markdown":"What do you mean with error? What kind of Exception has been thrown?","body":"What do you mean with error? What kind of Exception has been thrown?"},{"owner":{"account_id":2937533,"reputation":1848,"user_id":2516131,"accept_rate":25,"display_name":"Chamly Idunil"},"score":0,"creation_date":1555002997,"post_id":55617909,"comment_id":97967042,"body_markdown":"it will roll back only for RestClientException.class, IllegalStateException.class. what exception is it throw.","body":"it will roll back only for RestClientException.class, IllegalStateException.class. what exception is it throw."},{"owner":{"account_id":9488737,"reputation":93,"user_id":7054317,"display_name":"Adrian Sowiński"},"score":1,"creation_date":1555004319,"post_id":55617909,"comment_id":97967664,"body_markdown":"RestClientException.class - Error with processing data on server,\nIllegalStateException.class - When there is no registered service.\nThat&#39;s all posible.","body":"RestClientException.class - Error with processing data on server, IllegalStateException.class - When there is no registered service. That&#39;s all posible."}],"answers":[{"tags":[],"owner":{"account_id":15696710,"reputation":36,"user_id":11326015,"display_name":"Guhan Sundaresan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579855011,"creation_date":1554998005,"answer_id":55636601,"question_id":55617909,"body_markdown":"I think your problem is with the `createProfileRequest()` method visibility here. Transactional annotation works by default only with public methods.","title":"Spring transaction doesn&#39;t rollback after Exception","body":"<p>I think your problem is with the <code>createProfileRequest()</code> method visibility here. Transactional annotation works by default only with public methods.</p>\n"}],"owner":{"account_id":9488737,"reputation":93,"user_id":7054317,"display_name":"Adrian Sowiński"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55636601,"answer_count":1,"score":1,"last_activity_date":1675934580,"creation_date":1554915924,"question_id":55617909,"body_markdown":"I&#39;m creating new user and after that when I create profile for user by ```createProfileRequest()``` and service retrive me an error, user is not being rolled back\r\n\r\n```\r\n@Transactional(rollbackFor = {RestClientException.class, IllegalStateException.class})\r\n    public User createUser(UserRegistrationForm registrationForm) throws UserAlreadyExistsException {\r\n        if (userRepository.existsUserByEmailOrUsername(registrationForm.getEmail(), registrationForm.getUsername()))\r\n            throw new UserAlreadyExistsException(&quot;User with credentials &quot;  +\r\n                    registrationForm.getEmail() + &quot;/&quot; + registrationForm.getUsername() + &quot; already exists&quot;);\r\n\r\n        User user = new User(registrationForm.getUsername(), registrationForm.getEmail());\r\n        user.setPassword(passwordEncoder.encode(registrationForm.getPassword()));\r\n        user.setRoles(getDefaultRoles());\r\n\r\n        userRepository.save(user);\r\n\r\n        createProfileRequest(user);\r\n\r\n        tokenService.createToken(user.getId(), TokenType.ACTIVATION);\r\n        log.info(&quot;Created user with id: &quot; + user.getId());\r\n        return user;\r\n    }\r\n\r\n    private void createProfileRequest(User user) throws RestClientException, IllegalStateException {\r\n        ObjectNode profile = new ObjectMapper().createObjectNode();\r\n        profile.put(&quot;userId&quot;, user.getId());\r\n        profile.put(&quot;visibleName&quot;, user.getUsername());\r\n        restTemplate.postForLocation(&quot;http://profile/api&quot;, profile);\r\n    }\r\n```","title":"Spring transaction doesn&#39;t rollback after Exception","body":"<p>I'm creating new user and after that when I create profile for user by <code>createProfileRequest()</code> and service retrive me an error, user is not being rolled back</p>\n\n<pre><code>@Transactional(rollbackFor = {RestClientException.class, IllegalStateException.class})\n    public User createUser(UserRegistrationForm registrationForm) throws UserAlreadyExistsException {\n        if (userRepository.existsUserByEmailOrUsername(registrationForm.getEmail(), registrationForm.getUsername()))\n            throw new UserAlreadyExistsException(\"User with credentials \"  +\n                    registrationForm.getEmail() + \"/\" + registrationForm.getUsername() + \" already exists\");\n\n        User user = new User(registrationForm.getUsername(), registrationForm.getEmail());\n        user.setPassword(passwordEncoder.encode(registrationForm.getPassword()));\n        user.setRoles(getDefaultRoles());\n\n        userRepository.save(user);\n\n        createProfileRequest(user);\n\n        tokenService.createToken(user.getId(), TokenType.ACTIVATION);\n        log.info(\"Created user with id: \" + user.getId());\n        return user;\n    }\n\n    private void createProfileRequest(User user) throws RestClientException, IllegalStateException {\n        ObjectNode profile = new ObjectMapper().createObjectNode();\n        profile.put(\"userId\", user.getId());\n        profile.put(\"visibleName\", user.getUsername());\n        restTemplate.postForLocation(\"http://profile/api\", profile);\n    }\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":25656090,"reputation":33,"user_id":19422466,"display_name":"hi-inbeom"},"score":0,"creation_date":1675935309,"post_id":75396516,"comment_id":133035942,"body_markdown":"readValue error : The method readValue(String, Class&lt;T&gt;) in the type ObjectMapper is not applicable for the arguments (String, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){})\n\nI made CamelCaseHashMap class.... what am i wrong???","body":"readValue error : The method readValue(String, Class&lt;T&gt;) in the type ObjectMapper is not applicable for the arguments (String, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){})  I made CamelCaseHashMap class.... what am i wrong???"}],"tags":[],"owner":{"account_id":3164250,"reputation":138,"user_id":2674606,"display_name":"MadMG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675934513,"creation_date":1675934513,"answer_id":75396516,"question_id":75396282,"body_markdown":"I guess jackson is used to read the json data.\r\n\r\nRequired imports:\r\n\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    import org.codehaus.jackson.type.TypeReference;\r\n\r\n\r\nImplementation of `CamelCaseHashMap`:\r\n\r\n    private static class CamelCaseHashMap&lt;K,V&gt; extends HashMap&lt;K, V&gt; {\r\n      public V put(K key, V value) {\r\n        // add your code here...\r\n      }\r\n    }\r\n\r\n...then the following code will work as expected:\r\n        \r\n    String json = &quot;[{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000071\\&quot;},{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000072\\&quot;}]&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    List&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\r\n\r\n\r\n","title":"how to convert String Array to list HashMap in java?","body":"<p>I guess jackson is used to read the json data.</p>\n<p>Required imports:</p>\n<pre><code>import org.codehaus.jackson.map.ObjectMapper;\nimport org.codehaus.jackson.type.TypeReference;\n</code></pre>\n<p>Implementation of <code>CamelCaseHashMap</code>:</p>\n<pre><code>private static class CamelCaseHashMap&lt;K,V&gt; extends HashMap&lt;K, V&gt; {\n  public V put(K key, V value) {\n    // add your code here...\n  }\n}\n</code></pre>\n<p>...then the following code will work as expected:</p>\n<pre><code>String json = &quot;[{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000071\\&quot;},{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000072\\&quot;}]&quot;;\nObjectMapper mapper = new ObjectMapper();\nList&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\n</code></pre>\n"}],"owner":{"account_id":25656090,"reputation":33,"user_id":19422466,"display_name":"hi-inbeom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675934513,"creation_date":1675933229,"question_id":75396282,"body_markdown":"I Want to Convert JsonArray to List &lt; HashMap &gt;\r\n\r\n```\r\n[{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000071&quot;},\r\n{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000072&quot;}]\r\n```\r\n\r\n## I Try this code\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nList&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\r\n```\r\nbut try code was error\r\n## Error\r\n```\r\nThe method readValue(String, Class&lt;T&gt;) in the type ObjectMapper is not applicable for\r\nthe arguments (String, TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;)\r\n```\r\n\r\n## CamelCaseHashMap Class\r\n```\r\npublic Object put(String key, Object value) {\r\n        return super.put(JdbcUtils.convertUnderscoreNameToPropertyName(key), value);\r\n    }\r\n```","title":"how to convert String Array to list HashMap in java?","body":"<p>I Want to Convert JsonArray to List &lt; HashMap &gt;</p>\n<pre><code>[{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000071&quot;},\n{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000072&quot;}]\n</code></pre>\n<h2>I Try this code</h2>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nList&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\n</code></pre>\n<p>but try code was error</p>\n<h2>Error</h2>\n<pre><code>The method readValue(String, Class&lt;T&gt;) in the type ObjectMapper is not applicable for\nthe arguments (String, TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;)\n</code></pre>\n<h2>CamelCaseHashMap Class</h2>\n<pre><code>public Object put(String key, Object value) {\n        return super.put(JdbcUtils.convertUnderscoreNameToPropertyName(key), value);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","security","log4j2","cve-2021-44228"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1639674049,"post_id":70382613,"comment_id":124415084,"body_markdown":"Usually upgrading a dependency version is way easier than promoting a flag that might require to be configured everywhere (several configs, scripts, etc, etc, etc). Additionally, having upgraded to 2.16.0 you wouldn&#39;t even care the value of the flag. (N.B. Opt-out flags like that are awful.)","body":"Usually upgrading a dependency version is way easier than promoting a flag that might require to be configured everywhere (several configs, scripts, etc, etc, etc). Additionally, having upgraded to 2.16.0 you wouldn&#39;t even care the value of the flag. (N.B. Opt-out flags like that are awful.)"}],"answers":[{"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1639673767,"post_id":70382696,"comment_id":124414958,"body_markdown":"https://arstechnica.com/information-technology/2021/12/patch-fixing-critical-log4j-0-day-has-its-own-vulnerability-thats-under-exploit/ Further pretty severe vulnerability.  TL:DR 2.15.0 has additional potentially severe vulnerability, and reco is to patch to 2.16.0 asap.","body":"<a href=\"https://arstechnica.com/information-technology/2021/12/patch-fixing-critical-log4j-0-day-has-its-own-vulnerability-thats-under-exploit/\" rel=\"nofollow noreferrer\">arstechnica.com/information-technology/2021/12/&hellip;</a> Further pretty severe vulnerability.  TL:DR 2.15.0 has additional potentially severe vulnerability, and reco is to patch to 2.16.0 asap."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639673201,"creation_date":1639673201,"answer_id":70382696,"question_id":70382613,"body_markdown":"Look at the [Apache Log4j Security Vulnerabilities](https://logging.apache.org/log4j/2.x/security.html) page, especially the explanation under the heading &quot;Fixed in Log4j 2.12.2 and Log4j 2.16.0&quot;.\r\n\r\nIt explains that even in 2.15.0, which had the initial fix for CVE-2021-44228, there was a situation possible in which you still had a problem, which has a new ID: [CVE-2021-45046](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45046)\r\n\r\n&gt; Note that previous mitigations involving configuration such as to set the system property log4j2.formatMsgNoLookups to true do NOT mitigate this specific vulnerability.\r\n\r\nTo protect yourself against the new CVE, update to 2.16.0.\r\n","title":"Log4j2 Vulnerability in version 2.16.0","body":"<p>Look at the <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">Apache Log4j Security Vulnerabilities</a> page, especially the explanation under the heading &quot;Fixed in Log4j 2.12.2 and Log4j 2.16.0&quot;.</p>\n<p>It explains that even in 2.15.0, which had the initial fix for CVE-2021-44228, there was a situation possible in which you still had a problem, which has a new ID: <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45046\" rel=\"nofollow noreferrer\">CVE-2021-45046</a></p>\n<blockquote>\n<p>Note that previous mitigations involving configuration such as to set the system property log4j2.formatMsgNoLookups to true do NOT mitigate this specific vulnerability.</p>\n</blockquote>\n<p>To protect yourself against the new CVE, update to 2.16.0.</p>\n"}],"owner":{"account_id":2310465,"reputation":975,"user_id":2028705,"display_name":"Keaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70382696,"answer_count":1,"score":-2,"last_activity_date":1675934388,"creation_date":1639672819,"question_id":70382613,"body_markdown":"Our system is a microservices-based system. It has more than 120 services. We were advised to upgrade the log4j version in our microservices to 2.16.0 to mitigate the recent log4j vulnerability. Currently, our services use the 2.11.2 version. Can&#39;t we just use `-Dlog4j2.formatMsgNoLookups=true` to mitigate these vulnerabilities.","title":"Log4j2 Vulnerability in version 2.16.0","body":"<p>Our system is a microservices-based system. It has more than 120 services. We were advised to upgrade the log4j version in our microservices to 2.16.0 to mitigate the recent log4j vulnerability. Currently, our services use the 2.11.2 version. Can't we just use <code>-Dlog4j2.formatMsgNoLookups=true</code> to mitigate these vulnerabilities.</p>\n"},{"tags":["java","android","sqlite","security","httpconnection"],"comments":[{"owner":{"account_id":7121994,"reputation":2012,"user_id":5446285,"display_name":"Jack&#39;"},"score":0,"creation_date":1675933111,"post_id":75396167,"comment_id":133035259,"body_markdown":"Please fix the first words of the post (&quot;enter image description here&quot;)","body":"Please fix the first words of the post (&quot;enter image description here&quot;)"}],"owner":{"account_id":12907291,"reputation":1,"user_id":9334199,"display_name":"prince malav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675934103,"creation_date":1675932519,"question_id":75396167,"body_markdown":"I&#39;m facing issue while resolving DAST issue &#39;USAGE OF\r\nUNENCRYPTED HTTP PROTOCOL [SAST] [M3] [CWE-\r\n319]&#39; in this it&#39;s pointing about new URL() used but as\r\nper documentation to create url in java we mainly use\r\nURL object and then open the connection.\r\nI want to know the reason why it&#39;s showing issue\r\nregarding URL, while I&#39;m using HttpsURLconnection.\r\n\r\nBelow reference is provided in report to solve issue but it did not worked.\r\nhttps://developer.android.com/reference/java/sql/PreparedStatement\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EJ7FA.png","title":"Unencrypted HTTP protocol error when creating new URL() object in Java","body":"<p>I'm facing issue while resolving DAST issue 'USAGE OF\nUNENCRYPTED HTTP PROTOCOL [SAST] [M3] [CWE-\n319]' in this it's pointing about new URL() used but as\nper documentation to create url in java we mainly use\nURL object and then open the connection.\nI want to know the reason why it's showing issue\nregarding URL, while I'm using HttpsURLconnection.</p>\n<p>Below reference is provided in report to solve issue but it did not worked.\n<a href=\"https://developer.android.com/reference/java/sql/PreparedStatement\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/sql/PreparedStatement</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1675933907,"post_id":75396308,"comment_id":133035493,"body_markdown":"THIS IS NOT  JSP Question, This is a BASIC Java Syntax Question. `if (&quot;en_1-01-01&quot;.equals(id) || &quot;en_1-01-02&quot;.equals(id) || &quot;en_1-01-03&quot;.equals(id)){ //TODO } ...`\n`","body":"THIS IS NOT  JSP Question, This is a BASIC Java Syntax Question. <code>if (&quot;en_1-01-01&quot;.equals(id) || &quot;en_1-01-02&quot;.equals(id) || &quot;en_1-01-03&quot;.equals(id)){ &#47;&#47;TODO } ...</code> `"}],"owner":{"account_id":26376370,"reputation":31,"user_id":21108814,"display_name":"俠客行_da code learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933937,"creation_date":1675933363,"question_id":75396308,"body_markdown":"how to make .jsp if else (or) work together, I simpled the question that I want the last two in to one line     \r\n\r\n` if (id.equals(&quot;en_1-01-01&quot; or &quot;en_1-01-02&quot; or &quot;en_1-01-03&quot; )`\r\n\r\n- .jsp\r\n\r\n```\r\n&lt;%@page contentType=&quot;text/html;charset=UTF-8&quot;\t%&gt;\r\n&lt;%@include file=&quot;/include/gds_include.jsp&quot;\t\t%&gt;\r\n\r\n&lt;%\r\n\r\n      if(id.equals(&quot;en_1-01&quot;))  {\r\n%&gt;\r\n    &lt;%@include file=&quot;nordic_product_categories_detail.html&quot;%&gt;\r\n&lt;%\r\n    }   else if (id.equals(&quot;en_1-02&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;microchip_product_categories_detail.html&quot;%&gt;\r\n&lt;%\r\n\r\n    }   else if (id.equals(&quot;en_1-01-01&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\r\n&lt;%\r\n    }\r\n\r\n&lt;%\r\n\r\n    }   else if (id.equals(&quot;en_1-01-02&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\r\n&lt;%\r\n    }\r\n\r\n&lt;%\r\n\r\n    }   else if (id.equals(&quot;en_1-01-03&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\r\n&lt;%\r\n    }\r\n%&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nit might be a somple question, that I learn .jsp just for few days, but I does like it&#39;s function more than .html","title":"how to make .jsp if else + or work together","body":"<p>how to make .jsp if else (or) work together, I simpled the question that I want the last two in to one line</p>\n<p><code> if (id.equals(&quot;en_1-01-01&quot; or &quot;en_1-01-02&quot; or &quot;en_1-01-03&quot; )</code></p>\n<ul>\n<li>.jsp</li>\n</ul>\n<pre><code>&lt;%@page contentType=&quot;text/html;charset=UTF-8&quot;   %&gt;\n&lt;%@include file=&quot;/include/gds_include.jsp&quot;      %&gt;\n\n&lt;%\n\n      if(id.equals(&quot;en_1-01&quot;))  {\n%&gt;\n    &lt;%@include file=&quot;nordic_product_categories_detail.html&quot;%&gt;\n&lt;%\n    }   else if (id.equals(&quot;en_1-02&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;microchip_product_categories_detail.html&quot;%&gt;\n&lt;%\n\n    }   else if (id.equals(&quot;en_1-01-01&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\n&lt;%\n    }\n\n&lt;%\n\n    }   else if (id.equals(&quot;en_1-01-02&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\n&lt;%\n    }\n\n&lt;%\n\n    }   else if (id.equals(&quot;en_1-01-03&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\n&lt;%\n    }\n%&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>it might be a somple question, that I learn .jsp just for few days, but I does like it's function more than .html</p>\n"},{"tags":["java","c#",".net","windows","network-programming"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675869808,"post_id":75384777,"comment_id":133021292,"body_markdown":"Why is this tagged with ‘java’?","body":"Why is this tagged with ‘java’?"},{"owner":{"account_id":14128035,"reputation":163,"user_id":10206700,"display_name":"Syed Rafey Husain"},"score":0,"creation_date":1675933581,"post_id":75384777,"comment_id":133035386,"body_markdown":"@VGR because I could get helpful direction if someone worked on Java JCIFS https://www.jcifs.org","body":"@VGR because I could get helpful direction if someone worked on Java JCIFS <a href=\"https://www.jcifs.org\" rel=\"nofollow noreferrer\">jcifs.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":2348027,"reputation":1439,"user_id":3419770,"display_name":"Tal Aloni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675861216,"creation_date":1675861216,"answer_id":75386183,"question_id":75384777,"body_markdown":"1. No, System.IO does not contain an SMB 1.0 or SMB 2.0 client.\r\n2. In order to move file from one share to another, the client must read the content of the file from the source share, and then write its content to the second share. it must be copied in this manner (and then deleted from the source).","title":"Does System.IO.File encapsulates SMB1.0/SMB2.0?","body":"<ol>\n<li>No, System.IO does not contain an SMB 1.0 or SMB 2.0 client.</li>\n<li>In order to move file from one share to another, the client must read the content of the file from the source share, and then write its content to the second share. it must be copied in this manner (and then deleted from the source).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14128035,"reputation":163,"user_id":10206700,"display_name":"Syed Rafey Husain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675933747,"creation_date":1675933747,"answer_id":75396375,"question_id":75384777,"body_markdown":"I found **EzSmb** &lt;https://github.com/ume05rw/EzSmb&gt; library with which you could move files within same SMB share using the following code:\r\n\r\n```csharp\r\n// ** SMB1 NOT Supported. **\r\n\r\n//using EzSmb;\r\n//using System;\r\n//using System.Threading.Tasks;\r\n\r\n// Get Node of file.\r\nvar file = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FileName.txt&quot;, &quot;userName&quot;, &quot;password&quot;);\r\n\r\n// Move to child folder path.\r\n// ** Even if you don&#39;t change the file/folder name, write the name. **\r\nvar movedFile = await file.Move(@&quot;FolderName\\RenamedFileName.txt&quot;);\r\n\r\nConsole.WriteLine(movedFile.FullPath);\r\n// -&gt; 192.168.0.1\\ShareName\\FolderName\\RenamedFileName.txt\r\n\r\n\r\n// Get Node of folder.\r\nvar folder = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FolderName\\SubFolderName&quot;, &quot;userName&quot;, &quot;password&quot;);\r\n\r\n// Move to Parent path.\r\nvar movedFolder = await folder.Move(@&quot;..\\RenamedSubFolderName&quot;);\r\n\r\nConsole.WriteLine(movedFolder.FullPath);\r\n// -&gt; 192.168.0.1\\ShareName\\RenamedSubFolderName\r\n```","title":"Does System.IO.File encapsulates SMB1.0/SMB2.0?","body":"<p>I found <strong>EzSmb</strong> <a href=\"https://github.com/ume05rw/EzSmb\" rel=\"nofollow noreferrer\">https://github.com/ume05rw/EzSmb</a> library with which you could move files within same SMB share using the following code:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>// ** SMB1 NOT Supported. **\n\n//using EzSmb;\n//using System;\n//using System.Threading.Tasks;\n\n// Get Node of file.\nvar file = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FileName.txt&quot;, &quot;userName&quot;, &quot;password&quot;);\n\n// Move to child folder path.\n// ** Even if you don't change the file/folder name, write the name. **\nvar movedFile = await file.Move(@&quot;FolderName\\RenamedFileName.txt&quot;);\n\nConsole.WriteLine(movedFile.FullPath);\n// -&gt; 192.168.0.1\\ShareName\\FolderName\\RenamedFileName.txt\n\n\n// Get Node of folder.\nvar folder = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FolderName\\SubFolderName&quot;, &quot;userName&quot;, &quot;password&quot;);\n\n// Move to Parent path.\nvar movedFolder = await folder.Move(@&quot;..\\RenamedSubFolderName&quot;);\n\nConsole.WriteLine(movedFolder.FullPath);\n// -&gt; 192.168.0.1\\ShareName\\RenamedSubFolderName\n</code></pre>\n"}],"owner":{"account_id":14128035,"reputation":163,"user_id":10206700,"display_name":"Syed Rafey Husain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386183,"answer_count":2,"score":0,"last_activity_date":1675933747,"creation_date":1675853887,"question_id":75384777,"body_markdown":"I am new to SMB1.0/SMB2.0 and am trying to create a C# class library to encapsulate basic File/Directory operations like Copy, ReadAllText, Delete, etc., using &lt;https://github.com/TalAloni/SMBLibrary&gt;.\r\n\r\nMy questions are:\r\n\r\n1. Is System.IO.File already encapsulate SMB1.0/SMB2.0 protocol, and do I not need to use 3rd party SMBLibrary?\r\n\r\n2. I have written the following code to Move a file from one SMB share to another SMB share, but it only renames and does not Move the file from a source location to the target location. How can I do that?\r\n\r\n```chsarp\r\n  public bool Move(string sourceFilePath, string targetFilePath)\r\n        {\r\n            if (!CheckLoggedIn())\r\n            {\r\n                return false;\r\n            }\r\n\r\n            object fileHandle = null;\r\n            _status = _store.CreateFile(out fileHandle,\r\n                                       out FileStatus _,\r\n                                       sourceFilePath,\r\n                                       AccessMask.GENERIC_ALL | AccessMask.SYNCHRONIZE,\r\n                                       FileAttributes.Normal,\r\n                                       ShareAccess.Write,\r\n                                       CreateDisposition.FILE_OPEN,\r\n                                       CreateOptions.FILE_NON_DIRECTORY_FILE | CreateOptions.FILE_SYNCHRONOUS_IO_ALERT,\r\n                                       null);\r\n\r\n            if (_status == NTStatus.STATUS_SUCCESS)\r\n            {\r\n                _status = _store.SetFileInformation(fileHandle, new FileRenameInformationType2()\r\n                {\r\n                    FileName = targetFilePath\r\n                });\r\n\r\n                _status = _store.CloseFile(fileHandle);\r\n            }\r\n\r\n            return _status == NTStatus.STATUS_SUCCESS;\r\n        }\r\n```","title":"Does System.IO.File encapsulates SMB1.0/SMB2.0?","body":"<p>I am new to SMB1.0/SMB2.0 and am trying to create a C# class library to encapsulate basic File/Directory operations like Copy, ReadAllText, Delete, etc., using <a href=\"https://github.com/TalAloni/SMBLibrary\" rel=\"nofollow noreferrer\">https://github.com/TalAloni/SMBLibrary</a>.</p>\n<p>My questions are:</p>\n<ol>\n<li><p>Is System.IO.File already encapsulate SMB1.0/SMB2.0 protocol, and do I not need to use 3rd party SMBLibrary?</p>\n</li>\n<li><p>I have written the following code to Move a file from one SMB share to another SMB share, but it only renames and does not Move the file from a source location to the target location. How can I do that?</p>\n</li>\n</ol>\n<pre><code>  public bool Move(string sourceFilePath, string targetFilePath)\n        {\n            if (!CheckLoggedIn())\n            {\n                return false;\n            }\n\n            object fileHandle = null;\n            _status = _store.CreateFile(out fileHandle,\n                                       out FileStatus _,\n                                       sourceFilePath,\n                                       AccessMask.GENERIC_ALL | AccessMask.SYNCHRONIZE,\n                                       FileAttributes.Normal,\n                                       ShareAccess.Write,\n                                       CreateDisposition.FILE_OPEN,\n                                       CreateOptions.FILE_NON_DIRECTORY_FILE | CreateOptions.FILE_SYNCHRONOUS_IO_ALERT,\n                                       null);\n\n            if (_status == NTStatus.STATUS_SUCCESS)\n            {\n                _status = _store.SetFileInformation(fileHandle, new FileRenameInformationType2()\n                {\n                    FileName = targetFilePath\n                });\n\n                _status = _store.CloseFile(fileHandle);\n            }\n\n            return _status == NTStatus.STATUS_SUCCESS;\n        }\n</code></pre>\n"},{"tags":["java","jackson","jackson-modules"],"owner":{"account_id":27347879,"reputation":1,"user_id":21058629,"display_name":"Kapoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933504,"creation_date":1675932101,"question_id":75396111,"body_markdown":"I am trying to deserialize the RequestParameters class using a custom deserializer for the source field, but apparently jackson is only taking the deserializer annotated in the Source class (`Source.Builder`) not the one i registered (`SourceDeserializer`), this is the exception i get: \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; construct instance of `Source$Builder`\r\n\r\n is there a proper way to fix this?\r\n```\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\r\n\r\n    SimpleModule simpleModule = new SimpleModule();\r\n    simpleModule.addDeserializer(new SourceDeserializer(CookiesCollection.savedTags()), Source.class);\r\n    objectMapper.registerModule(simpleModule);\r\n\r\n    RequestParameters requestParameters = objectMapper.readValue(Path.of(&quot;/files/sampleRequest.yml&quot;).toFile(), RequestParameters.class);\r\n  }\r\n  \r\n  @AutoValue\r\n  @Immutable\r\n  @JsonDeserialize(builder = RequestParameters.Builder.class)\r\n  public abstract static class RequestParameters {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_RequestParameters.Builder();\r\n    }\r\n\r\n    @JsonProperty(&quot;rarity&quot;)\r\n    public abstract Rarity getRarity();\r\n\r\n    @JsonProperty(&quot;source&quot;)\r\n    public abstract Source getSource();\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      @JsonCreator\r\n      public static Builder builder() {\r\n        return RequestParameters.builder();\r\n      }\r\n\r\n      @JsonProperty(&quot;rarity&quot;)\r\n      public abstract Builder setRarity(Rarity rarity);\r\n\r\n      @JsonProperty(&quot;source&quot;)\r\n      public abstract Builder setSource(Source source);\r\n\r\n      public abstract ItemSet build();\r\n    }\r\n  }\r\n\r\n  @AutoValue\r\n  @Immutable\r\n  @JsonDeserialize(builder = Source.Builder.class)\r\n  public abstract class Source {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_Source.Builder();\r\n    }\r\n\r\n    @JsonProperty(&quot;tag&quot;)\r\n    public abstract String getTag();\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      @JsonCreator\r\n      public static Builder builder() {\r\n        return Source.builder();\r\n      }\r\n\r\n      @JsonProperty(&quot;tag&quot;)\r\n      public abstract Builder setTag(String tag);\r\n\r\n      public abstract Source build();\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Override deserializer with fields","body":"<p>I am trying to deserialize the RequestParameters class using a custom deserializer for the source field, but apparently jackson is only taking the deserializer annotated in the Source class (<code>Source.Builder</code>) not the one i registered (<code>SourceDeserializer</code>), this is the exception i get:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\nconstruct instance of <code>Source$Builder</code></p>\n</blockquote>\n<p>is there a proper way to fix this?</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args) throws IOException {\n    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\n\n    SimpleModule simpleModule = new SimpleModule();\n    simpleModule.addDeserializer(new SourceDeserializer(CookiesCollection.savedTags()), Source.class);\n    objectMapper.registerModule(simpleModule);\n\n    RequestParameters requestParameters = objectMapper.readValue(Path.of(&quot;/files/sampleRequest.yml&quot;).toFile(), RequestParameters.class);\n  }\n  \n  @AutoValue\n  @Immutable\n  @JsonDeserialize(builder = RequestParameters.Builder.class)\n  public abstract static class RequestParameters {\n\n    public static Builder builder() {\n      return new AutoValue_RequestParameters.Builder();\n    }\n\n    @JsonProperty(&quot;rarity&quot;)\n    public abstract Rarity getRarity();\n\n    @JsonProperty(&quot;source&quot;)\n    public abstract Source getSource();\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      @JsonCreator\n      public static Builder builder() {\n        return RequestParameters.builder();\n      }\n\n      @JsonProperty(&quot;rarity&quot;)\n      public abstract Builder setRarity(Rarity rarity);\n\n      @JsonProperty(&quot;source&quot;)\n      public abstract Builder setSource(Source source);\n\n      public abstract ItemSet build();\n    }\n  }\n\n  @AutoValue\n  @Immutable\n  @JsonDeserialize(builder = Source.Builder.class)\n  public abstract class Source {\n\n    public static Builder builder() {\n      return new AutoValue_Source.Builder();\n    }\n\n    @JsonProperty(&quot;tag&quot;)\n    public abstract String getTag();\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      @JsonCreator\n      public static Builder builder() {\n        return Source.builder();\n      }\n\n      @JsonProperty(&quot;tag&quot;)\n      public abstract Builder setTag(String tag);\n\n      public abstract Source build();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1675934310,"post_id":75396110,"comment_id":133035608,"body_markdown":"*in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch* This step should not be executed, because it changes the user back to the old one. Change your imeplemtation of  `TokenAuthenticationFilter`.","body":"<i>in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch</i> This step should not be executed, because it changes the user back to the old one. Change your imeplemtation of  <code>TokenAuthenticationFilter</code>."},{"owner":{"account_id":3344727,"reputation":2470,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"score":0,"creation_date":1675936880,"post_id":75396110,"comment_id":133036445,"body_markdown":"@dur - I know, that&#39;s why that line is under the &quot;until this point everything works fine&quot; :). How should the implementation change? I want to be able to have a stateless application and be able to have multiple instances of the app serving this kind of requests. Maybe I should generate another token with extra info and then the third party should make use of it. But that basically defeats the purpose of SwitchUserFilter and I have to re-implement it all by myself.","body":"@dur - I know, that&#39;s why that line is under the &quot;until this point everything works fine&quot; :). How should the implementation change? I want to be able to have a stateless application and be able to have multiple instances of the app serving this kind of requests. Maybe I should generate another token with extra info and then the third party should make use of it. But that basically defeats the purpose of SwitchUserFilter and I have to re-implement it all by myself."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1675952076,"post_id":75396110,"comment_id":133041283,"body_markdown":"AFAIK you can&#39;t use `SwitchUserFilter` in a stateless application. It is form based.","body":"AFAIK you can&#39;t use <code>SwitchUserFilter</code> in a stateless application. It is form based."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1675952271,"post_id":75396110,"comment_id":133041370,"body_markdown":"You would need to write your own `SwitchUserFilter` changing the default implementation: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/switchuser/SwitchUserFilter.java. This filter needs to be applied every request and switch the user every request.","body":"You would need to write your own <code>SwitchUserFilter</code> changing the default implementation: <a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/switchuser/SwitchUserFilter.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/main/web/src&zwnj;&#8203;/&hellip;</a>. This filter needs to be applied every request and switch the user every request."}],"owner":{"account_id":3344727,"reputation":2470,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933369,"creation_date":1675932095,"question_id":75396110,"body_markdown":"I have a question in relation with the combination of SwitchUser filter and authentication.\r\n\r\nWhat I&#39;m trying to achieve is to impersonate an existing user with the help of another user with elevated rights.\r\nI was happy to find out that we can make use of the `SwitchUserFilter` provided by Spring Security, but when I tried to adapt it to my project and workflow it did not work as expected.\r\n\r\nI have the following setup:\r\n\r\n\r\n```java\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Bean\r\n    public TokenAuthenticationFilter tokenAuthenticationFilter() {\r\n        return new TokenAuthenticationFilter();\r\n    }\r\n\r\n    @Bean\r\n    public SwitchUserFilter switchUserFilter() {\r\n        var filter = new SwitchUserFilter();\r\n        filter.setUserDetailsService(customUserDetailsService);\r\n        filter.setSwitchUserUrl(&quot;/impersonate&quot;);\r\n        filter.setSwitchFailureUrl(&quot;/switchUser&quot;);\r\n        filter.setTargetUrl(&quot;/user&quot;); // this is already implemented in my app (GET /user)\r\n        return filter;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n// I&#39;ve stripped this to the bare minimum which reproduces my flow\r\n// usually I also configure authenticated access to endpoints &amp; other security related configurations\r\n        http.csrf().disable();\r\n        http.addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        http.addFilterAfter(switchUserFilter(), FilterSecurityInterceptor.class);\r\n    }\r\n```\r\nwhere\r\n```java\r\npublic class TokenAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private TokenProvider tokenProvider;\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try {\r\n            String jwt = getJwtFromRequest(request);\r\n\r\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\r\n                Long userId = tokenProvider.getUserIdFromToken(jwt);\r\n\r\n                UserDetails userDetails = customUserDetailsService.loadUserById(userId);\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Could not set user authentication in security context&quot;, ex);\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n\r\n}\r\n```\r\nIn the token I save the user id, and the user details service performs a findById in user&#39;s database.\r\n\r\n\r\nThe flow I perform is as follows:\r\n1. login into application (call endpoint, use authentication manager to authenticate based on username/pass, generate token and return it)\r\n2. call `/impersonate?username=anotherUser` with the Bearer token from previous step\r\n3. the application reaches `TokenAuthenticationFilter`, decodes the token, finds the user in the database and updates the security context\r\n4. after that it reaches the `SwitchUserFilter` where it performs the switch (finds user in database, creates user details and finally updates security context)\r\n\r\n---  until this point everything works fine ---\r\n\r\n5. the SwitchUser filter is configured to redirect to `GET /user`\r\n6. in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch\r\n7. application reaches `GET /user` with the updated user from previous step (original user, not the switched one)\r\n\r\nMy question is - how is this combo of authenticating users and switch user filter is supposed to work?\r\nI feel that the flow is kinda natural and normal, the redirect and subsequent requests that will be made from outside need to be authenticated based on the bearer token.\r\nHow is this supposed to work? What am I missing/doing wrong?\r\n\r\nThanks!\r\n","title":"Spring&#39;s SwitchUserFilter loses user information after redirect","body":"<p>I have a question in relation with the combination of SwitchUser filter and authentication.</p>\n<p>What I'm trying to achieve is to impersonate an existing user with the help of another user with elevated rights.\nI was happy to find out that we can make use of the <code>SwitchUserFilter</code> provided by Spring Security, but when I tried to adapt it to my project and workflow it did not work as expected.</p>\n<p>I have the following setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Bean\n    public TokenAuthenticationFilter tokenAuthenticationFilter() {\n        return new TokenAuthenticationFilter();\n    }\n\n    @Bean\n    public SwitchUserFilter switchUserFilter() {\n        var filter = new SwitchUserFilter();\n        filter.setUserDetailsService(customUserDetailsService);\n        filter.setSwitchUserUrl(&quot;/impersonate&quot;);\n        filter.setSwitchFailureUrl(&quot;/switchUser&quot;);\n        filter.setTargetUrl(&quot;/user&quot;); // this is already implemented in my app (GET /user)\n        return filter;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n// I've stripped this to the bare minimum which reproduces my flow\n// usually I also configure authenticated access to endpoints &amp; other security related configurations\n        http.csrf().disable();\n        http.addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        http.addFilterAfter(switchUserFilter(), FilterSecurityInterceptor.class);\n    }\n</code></pre>\n<p>where</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TokenAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private TokenProvider tokenProvider;\n\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        try {\n            String jwt = getJwtFromRequest(request);\n\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\n                Long userId = tokenProvider.getUserIdFromToken(jwt);\n\n                UserDetails userDetails = customUserDetailsService.loadUserById(userId);\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception ex) {\n            log.error(&quot;Could not set user authentication in security context&quot;, ex);\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n\n}\n</code></pre>\n<p>In the token I save the user id, and the user details service performs a findById in user's database.</p>\n<p>The flow I perform is as follows:</p>\n<ol>\n<li>login into application (call endpoint, use authentication manager to authenticate based on username/pass, generate token and return it)</li>\n<li>call <code>/impersonate?username=anotherUser</code> with the Bearer token from previous step</li>\n<li>the application reaches <code>TokenAuthenticationFilter</code>, decodes the token, finds the user in the database and updates the security context</li>\n<li>after that it reaches the <code>SwitchUserFilter</code> where it performs the switch (finds user in database, creates user details and finally updates security context)</li>\n</ol>\n<p>---  until this point everything works fine ---</p>\n<ol start=\"5\">\n<li>the SwitchUser filter is configured to redirect to <code>GET /user</code></li>\n<li>in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch</li>\n<li>application reaches <code>GET /user</code> with the updated user from previous step (original user, not the switched one)</li>\n</ol>\n<p>My question is - how is this combo of authenticating users and switch user filter is supposed to work?\nI feel that the flow is kinda natural and normal, the redirect and subsequent requests that will be made from outside need to be authenticated based on the bearer token.\nHow is this supposed to work? What am I missing/doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-studio","bitmap","uri"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":2,"creation_date":1675933792,"post_id":75396286,"comment_id":133035462,"body_markdown":"To view a `bitmap` in an `ImageView`, just call `ImageView#setImageBitmap`. There is no need to conver the image to a `Uri`. Though this is not answering your question so just treat me as an advice here.","body":"To view a <code>bitmap</code> in an <code>ImageView</code>, just call <code>ImageView#setImageBitmap</code>. There is no need to conver the image to a <code>Uri</code>. Though this is not answering your question so just treat me as an advice here."},{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":1,"creation_date":1675933953,"post_id":75396286,"comment_id":133035505,"body_markdown":"https://stackoverflow.com/a/50945443/7874746","body":"<a href=\"https://stackoverflow.com/a/50945443/7874746\">stackoverflow.com/a/50945443/7874746</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675935273,"post_id":75396286,"comment_id":133035930,"body_markdown":"One cannot convert an uri in a bitmap. Or a bitmap in an uri. They are quite incomparable.","body":"One cannot convert an uri in a bitmap. Or a bitmap in an uri. They are quite incomparable."},{"owner":{"account_id":10592921,"reputation":101,"user_id":7802802,"display_name":"Piyush Kumar"},"score":2,"creation_date":1675935474,"post_id":75396286,"comment_id":133036004,"body_markdown":"You can save the bitmap as file in local storage then you will get the Uri of that file.","body":"You can save the bitmap as file in local storage then you will get the Uri of that file."}],"owner":{"account_id":20307144,"reputation":853,"user_id":14895107,"display_name":"Abhimanyu Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933272,"creation_date":1675933272,"question_id":75396286,"body_markdown":"here&#39;s the code to convert `Uri` into `Bitmap`\r\n```\r\nimageBitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), galleryImage);\r\n```\r\ni want to convert this bitmap image into uri to view it on `ImageView` :\r\n\r\n```\r\nBundle extras = data.getExtras();\r\nBitmap cameraBitmapImage = (Bitmap) extras.get(&quot;data&quot;);\r\nUri cameraImage = data.getData();\r\nimageView.setImageURI(cameraImage);\r\nisImageSelected = true;\r\nimageBitmap = cameraBitmapImage;\r\n```","title":"How do i convert this bitmap image into uri in java","body":"<p>here's the code to convert <code>Uri</code> into <code>Bitmap</code></p>\n<pre><code>imageBitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), galleryImage);\n</code></pre>\n<p>i want to convert this bitmap image into uri to view it on <code>ImageView</code> :</p>\n<pre><code>Bundle extras = data.getExtras();\nBitmap cameraBitmapImage = (Bitmap) extras.get(&quot;data&quot;);\nUri cameraImage = data.getData();\nimageView.setImageURI(cameraImage);\nisImageSelected = true;\nimageBitmap = cameraBitmapImage;\n</code></pre>\n"},{"tags":["java","android","dex"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1483653705,"post_id":11223408,"comment_id":70197157,"body_markdown":"Your question has nothing to do with [tag:compiler-construction]. You aren&#39;t constructing a compiler. Don&#39;t tag indiscriminately.","body":"Your question has nothing to do with <a href=\"https://stackoverflow.com/questions/tagged/compiler-construction\">compiler-construction</a>. You aren&#39;t constructing a compiler. Don&#39;t tag indiscriminately."}],"answers":[{"comments":[{"owner":{"display_name":"user11747064"},"score":0,"creation_date":1593528342,"post_id":11227849,"comment_id":110809740,"body_markdown":"Can you say how you managed to run dex file in android terminal. Did write your own terminal?","body":"Can you say how you managed to run dex file in android terminal. Did write your own terminal?"},{"owner":{"account_id":1601572,"reputation":3992,"user_id":1603952,"accept_rate":77,"display_name":"Marvin Emil Brach"},"score":0,"creation_date":1593780607,"post_id":11227849,"comment_id":110906397,"body_markdown":"@BRUCE Sorry, after 8 years I do not recall specific details :/ I do not even think it would help you, the versions should be quite different from those days. But if you have specific problems or errors feel free to create questions for those as well :)","body":"@BRUCE Sorry, after 8 years I do not recall specific details :/ I do not even think it would help you, the versions should be quite different from those days. But if you have specific problems or errors feel free to create questions for those as well :)"}],"tags":[],"owner":{"account_id":1601572,"reputation":3992,"user_id":1603952,"accept_rate":77,"display_name":"Marvin Emil Brach"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1340959897,"creation_date":1340805220,"answer_id":11227849,"question_id":11223408,"body_markdown":"I succeeded after taking inspiration from source of [JavaIDEdroid](http://code.google.com/p/java-ide-droid/) and realizing that I&#39;m dumb (for a time I tried to uses the compiler with the dexified framework classes on the device - which naturtally could not work).&lt;br&gt;\r\nAfter i succeeded compiling my Test.java with a copy of ADTs android-jar on sdcard I just had to load the classes with the DexClassLoader.&lt;br&gt;\r\nWhile informing myselft about how to do that I found this nice article [Custom Class Loading in Dalvik ](http://android-developers.blogspot.de/2011/07/custom-class-loading-in-dalvik.html) which inspired me at least to write this piece of code:\r\n\r\n    \tFile storage = getDir(&quot;all41&quot;, Context.MODE_PRIVATE);\r\n\r\n\r\n    \tSystem.err.println(&quot;copying the android.jar from asssets to the internal storage to make it available to the compiler&quot;);\r\n    \tBufferedInputStream bis = null;\r\n    \tOutputStream dexWriter = null;\r\n    \tint BUF_SIZE = 8 * 1024;\r\n    \ttry {\r\n    \t      bis = new BufferedInputStream(getAssets().open(&quot;android.jar&quot;));\r\n    \t      dexWriter = new BufferedOutputStream(\r\n    \t          new FileOutputStream(storage.getAbsolutePath() + &quot;/android.jar&quot;));\r\n    \t      byte[] buf = new byte[BUF_SIZE];\r\n    \t      int len;\r\n    \t      while((len = bis.read(buf, 0, BUF_SIZE)) &gt; 0) {\r\n    \t          dexWriter.write(buf, 0, len);\r\n    \t      }\r\n    \t      dexWriter.close();\r\n    \t      bis.close();\r\n    \t      \r\n    \t} catch (Exception e) {\r\n    \t\tSystem.err.println(&quot;Error while copying from assets: &quot; + e.getMessage());\r\n    \t\te.printStackTrace();\r\n    \t}\r\n\r\n    \t\r\n    \tSystem.err.println(&quot;instantiating the compiler and compiling the java file&quot;); \r\n    \torg.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null);\r\n\t\tecjMain.compile(new String[] {&quot;-classpath&quot;, storage.getAbsolutePath()+&quot;/android.jar&quot;, Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Test.java&quot;});\r\n\t\t\r\n\t\t\r\n\t\tSystem.err.println(&quot;calling DEX and dexifying the test class&quot;); \r\n\t    com.android.dx.command.Main.main(new String[] {&quot;--dex&quot;, &quot;--output=&quot; + storage.getAbsolutePath() + &quot;/Test.zip&quot;, Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/./Test.class&quot;});\r\n\t    \r\n\t    \r\n\t    System.err.println(&quot;instantiating DexClassLoader, loading class and invoking toString()&quot;);\r\n\t    DexClassLoader cl = new DexClassLoader(storage.getAbsolutePath() + &quot;/Test.zip&quot;, storage.getAbsolutePath(), null, getClassLoader());\r\n\t    try {\r\n\t    \tClass libProviderClazz = cl.loadClass(&quot;Test&quot;);\r\n\t        Object instance = libProviderClazz.newInstance();\r\n\t        System.err.println(instance.toString());\r\n\t    } catch (Exception e) {\r\n    \t\tSystem.err.println(&quot;Error while instanciating object: &quot; + e.getMessage());\r\n    \t\te.printStackTrace();\r\n\t    }\r\n\r\nThe Test.java only contains one method:\r\n\r\n\tpublic String toString() {\r\n\t\treturn &quot;Hallo Welt!&quot;;\r\n\t}\r\n\r\nTo get it running you need the jars jdt-compiler-x.x.x.jar (found in plugins directory of eclipse) and dx.jar (found in directory platform-tools/lib of Android SDK)\r\n\r\n---\r\nNot really hard ;) &lt;br&gt;And now I will find out what to change in source of JasperReports to get it work on our beloved Android devices :D","title":"How to implement a Java compiler and DEX converter into an Android app?","body":"<p>I succeeded after taking inspiration from source of <a href=\"http://code.google.com/p/java-ide-droid/\" rel=\"noreferrer\">JavaIDEdroid</a> and realizing that I'm dumb (for a time I tried to uses the compiler with the dexified framework classes on the device - which naturtally could not work).<br>\nAfter i succeeded compiling my Test.java with a copy of ADTs android-jar on sdcard I just had to load the classes with the DexClassLoader.<br>\nWhile informing myselft about how to do that I found this nice article <a href=\"http://android-developers.blogspot.de/2011/07/custom-class-loading-in-dalvik.html\" rel=\"noreferrer\">Custom Class Loading in Dalvik </a> which inspired me at least to write this piece of code:</p>\n\n<pre><code>    File storage = getDir(\"all41\", Context.MODE_PRIVATE);\n\n\n    System.err.println(\"copying the android.jar from asssets to the internal storage to make it available to the compiler\");\n    BufferedInputStream bis = null;\n    OutputStream dexWriter = null;\n    int BUF_SIZE = 8 * 1024;\n    try {\n          bis = new BufferedInputStream(getAssets().open(\"android.jar\"));\n          dexWriter = new BufferedOutputStream(\n              new FileOutputStream(storage.getAbsolutePath() + \"/android.jar\"));\n          byte[] buf = new byte[BUF_SIZE];\n          int len;\n          while((len = bis.read(buf, 0, BUF_SIZE)) &gt; 0) {\n              dexWriter.write(buf, 0, len);\n          }\n          dexWriter.close();\n          bis.close();\n\n    } catch (Exception e) {\n        System.err.println(\"Error while copying from assets: \" + e.getMessage());\n        e.printStackTrace();\n    }\n\n\n    System.err.println(\"instantiating the compiler and compiling the java file\"); \n    org.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null);\n    ecjMain.compile(new String[] {\"-classpath\", storage.getAbsolutePath()+\"/android.jar\", Environment.getExternalStorageDirectory().getAbsolutePath() + \"/Test.java\"});\n\n\n    System.err.println(\"calling DEX and dexifying the test class\"); \n    com.android.dx.command.Main.main(new String[] {\"--dex\", \"--output=\" + storage.getAbsolutePath() + \"/Test.zip\", Environment.getExternalStorageDirectory().getAbsolutePath() + \"/./Test.class\"});\n\n\n    System.err.println(\"instantiating DexClassLoader, loading class and invoking toString()\");\n    DexClassLoader cl = new DexClassLoader(storage.getAbsolutePath() + \"/Test.zip\", storage.getAbsolutePath(), null, getClassLoader());\n    try {\n        Class libProviderClazz = cl.loadClass(\"Test\");\n        Object instance = libProviderClazz.newInstance();\n        System.err.println(instance.toString());\n    } catch (Exception e) {\n        System.err.println(\"Error while instanciating object: \" + e.getMessage());\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The Test.java only contains one method:</p>\n\n<pre><code>public String toString() {\n    return \"Hallo Welt!\";\n}\n</code></pre>\n\n<p>To get it running you need the jars jdt-compiler-x.x.x.jar (found in plugins directory of eclipse) and dx.jar (found in directory platform-tools/lib of Android SDK)</p>\n\n<hr>\n\n<p>Not really hard ;) <br>And now I will find out what to change in source of JasperReports to get it work on our beloved Android devices :D</p>\n"}],"owner":{"account_id":1601572,"reputation":3992,"user_id":1603952,"accept_rate":77,"display_name":"Marvin Emil Brach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4900,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":11227849,"answer_count":1,"score":6,"last_activity_date":1675932003,"creation_date":1340790279,"question_id":11223408,"body_markdown":"While trying to find an answer to https://stackoverflow.com/q/7085943/1482507 I found out that there are two other questions to be answered therefor, which I been asked to ask as a question, not as an answer ;):\r\n\r\nMy questions are now: &quot;Is there any compiler to use directly on the device&quot; AND &quot;how to execute such without rooting the device.\r\nIf anybody could give me a hint I would really appreciate it...\r\n\r\n----\r\n\r\nI looked a little time forward on this approach, and found apps which makes it possible to create APKs directly on an Android device which is NOT rooted:&lt;br&gt;\r\n\r\n - TerminalIDE - https://play.google.com/store/apps/details?id=com.spartacusrex.spartacuside&amp;hl=de\r\n - JavaIDEdroid - http://code.google.com/p/java-ide-droid/\r\n - AIDE - https://play.google.com/store/apps/details?id=com.aide.ui&amp;hl=en\r\n\r\nLooks like they&#39;re using the compiler from eclipse and a ported dex converter. Now I&#39;m trying to figure out how to do the same.\r\n\r\nSure: get the source code and look into it. But while I&#39;m having curious problems to get a connection to the servers and trying to solve it, I follow the plea to ask this question here. Hoping both to help others with it and also getting an answer for myself ;)\r\n\r\n---\r\n\r\nI took the org.eclipse.jdt.core_3.7.3.v20120119-1537.jar from the plugin directory of my indigo and tried following code:\r\n\r\n    \t org.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null, progress);\r\n    \t System.err.println(&quot;compiling...&quot;);\r\n         ecjMain.compile(new String[] {&quot;-classpath&quot;, &quot;/system/framework&quot;, storage.getAbsolutePath()+&quot;/Test.java&quot;});\r\n         ecjMain.compile(new String[] {storage.getAbsolutePath()+&quot;/Test.java&quot;});\r\n         System.err.println(&quot;compile succeeded!!!&quot;);\r\n\r\nSometimes the Exception was thrown that java.lang.Object could not be found and othertimes it stuck doing nothing while heating up my processor with 100% usage ... ...\r\n\r\nAt this time i could not figure out what is happening and why. And in cause that i have other work to do this part has to wait a little.\r\n","title":"How to implement a Java compiler and DEX converter into an Android app?","body":"<p>While trying to find an answer to <a href=\"https://stackoverflow.com/q/7085943/1482507\">Android Jasper Reporting</a> I found out that there are two other questions to be answered therefor, which I been asked to ask as a question, not as an answer ;):</p>\n\n<p>My questions are now: \"Is there any compiler to use directly on the device\" AND \"how to execute such without rooting the device.\nIf anybody could give me a hint I would really appreciate it...</p>\n\n<hr>\n\n<p>I looked a little time forward on this approach, and found apps which makes it possible to create APKs directly on an Android device which is NOT rooted:<br></p>\n\n<ul>\n<li>TerminalIDE - <a href=\"https://play.google.com/store/apps/details?id=com.spartacusrex.spartacuside&amp;hl=de\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.spartacusrex.spartacuside&amp;hl=de</a></li>\n<li>JavaIDEdroid - <a href=\"http://code.google.com/p/java-ide-droid/\" rel=\"nofollow noreferrer\">http://code.google.com/p/java-ide-droid/</a></li>\n<li>AIDE - <a href=\"https://play.google.com/store/apps/details?id=com.aide.ui&amp;hl=en\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.aide.ui&amp;hl=en</a></li>\n</ul>\n\n<p>Looks like they're using the compiler from eclipse and a ported dex converter. Now I'm trying to figure out how to do the same.</p>\n\n<p>Sure: get the source code and look into it. But while I'm having curious problems to get a connection to the servers and trying to solve it, I follow the plea to ask this question here. Hoping both to help others with it and also getting an answer for myself ;)</p>\n\n<hr>\n\n<p>I took the org.eclipse.jdt.core_3.7.3.v20120119-1537.jar from the plugin directory of my indigo and tried following code:</p>\n\n<pre><code>     org.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null, progress);\n     System.err.println(\"compiling...\");\n     ecjMain.compile(new String[] {\"-classpath\", \"/system/framework\", storage.getAbsolutePath()+\"/Test.java\"});\n     ecjMain.compile(new String[] {storage.getAbsolutePath()+\"/Test.java\"});\n     System.err.println(\"compile succeeded!!!\");\n</code></pre>\n\n<p>Sometimes the Exception was thrown that java.lang.Object could not be found and othertimes it stuck doing nothing while heating up my processor with 100% usage ... ...</p>\n\n<p>At this time i could not figure out what is happening and why. And in cause that i have other work to do this part has to wait a little.</p>\n"},{"tags":["java","android","ios","flutter","react-native"],"comments":[{"owner":{"account_id":27081187,"reputation":202,"user_id":20630325,"display_name":"Sanket Patel"},"score":0,"creation_date":1675857862,"post_id":75385289,"comment_id":133017202,"body_markdown":"Suppose Your Application is `App1` and another application which is `App2` which is installed on your phone.\n\nDo you want to lunch an application `App2` from the `App1`&#39;s Button  Right ??.","body":"Suppose Your Application is <code>App1</code> and another application which is <code>App2</code> which is installed on your phone.  Do you want to lunch an application <code>App2</code> from the <code>App1</code>&#39;s Button  Right ??."},{"owner":{"account_id":21143408,"reputation":44,"user_id":15545283,"display_name":"Sethubharathi B"},"score":0,"creation_date":1675931651,"post_id":75385289,"comment_id":133034834,"body_markdown":"App1 should launch App2 and click a button in App2","body":"App1 should launch App2 and click a button in App2"}],"answers":[{"tags":[],"owner":{"account_id":8777002,"reputation":3712,"user_id":6561930,"display_name":"Ridha Rezzag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675857097,"creation_date":1675857097,"answer_id":75385416,"question_id":75385289,"body_markdown":"Icant understand exactly whats your goal but if i understood, Maybe you&#39;re  looking  for deeplinking\r\n\r\nFlutter supports deep linking on iOS, Android, and web browsers. Opening a URL displays that screen in your app.\r\nSee the documentation here \r\n    \r\n[Deep linking][1]\r\n\r\n\r\n  [1]: https://docs.flutter.dev/development/ui/navigation/deep-linking","title":"Automatically launch an app and click a button in it","body":"<p>Icant understand exactly whats your goal but if i understood, Maybe you're  looking  for deeplinking</p>\n<p>Flutter supports deep linking on iOS, Android, and web browsers. Opening a URL displays that screen in your app.\nSee the documentation here</p>\n<p><a href=\"https://docs.flutter.dev/development/ui/navigation/deep-linking\" rel=\"nofollow noreferrer\">Deep linking</a></p>\n"}],"owner":{"account_id":21143408,"reputation":44,"user_id":15545283,"display_name":"Sethubharathi B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675931747,"creation_date":1675856478,"question_id":75385289,"body_markdown":"I want to automatically launch an application and click a button in it through another application like [this][1].\r\n\r\nI know it is some Accessibility settings needed to be enables for that app. But I don&#39;t know how to code it. I would appreciate the help. Thanks in advance\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.codefish.sqedit&amp;hl=en&amp;gl=US","title":"Automatically launch an app and click a button in it","body":"<p>I want to automatically launch an application and click a button in it through another application like <a href=\"https://play.google.com/store/apps/details?id=com.codefish.sqedit&amp;hl=en&amp;gl=US\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>I know it is some Accessibility settings needed to be enables for that app. But I don't know how to code it. I would appreciate the help. Thanks in advance</p>\n"},{"tags":["java","reactjs","spring-boot","routes"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1675400489,"post_id":75331622,"comment_id":132925246,"body_markdown":"Create a separate API controller `@RestController\n@RequestMapping(&quot;/api&quot;)\nclass ApiController {...}`","body":"Create a separate API controller <code>@RestController @RequestMapping(&quot;&#47;api&quot;) class ApiController {...}</code>"},{"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"score":0,"creation_date":1675401594,"post_id":75331622,"comment_id":132925414,"body_markdown":"I have created it, and the POST APIs in that controller work fine.","body":"I have created it, and the POST APIs in that controller work fine."},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1675402228,"post_id":75331622,"comment_id":132925493,"body_markdown":"Then you need to add a configuration that will tune the path matching precedence. The [documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html) has an explanation and example. The direct link doesn&#39;t work, but it is in section 1.12.12 of the documentation.","body":"Then you need to add a configuration that will tune the path matching precedence. The <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html\" rel=\"nofollow noreferrer\">documentation</a> has an explanation and example. The direct link doesn&#39;t work, but it is in section 1.12.12 of the documentation."}],"answers":[{"tags":[],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675409144,"creation_date":1675409144,"answer_id":75332667,"question_id":75331622,"body_markdown":"I have found a solution to this question.\r\n\r\nI&#39;ve added SwaggerController.java controller\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/docs&quot;)\r\n    public class SwaggerController {\r\n        @GetMapping\r\n        public String index() {\r\n            return &quot;redirect:/swagger-ui/index.html&quot;;\r\n        }\r\n    }\r\n\r\nThe point is to override the \r\n&quot;/**&quot; matching in the previous controller I wrote above in the question. \r\n\r\nAnd with the API endpoints (&quot;/api&quot;), I had a mistake to put GetMapping(&quot;/&quot;) for that controller so it has to write (&quot;/api/something/something/&quot;) to match [I wrote &quot;/api/something/something&quot;]. So all the problems were fixed.\r\n\r\n ","title":"How to custom Java Spring GET match all routes except &quot;/api&quot; and &quot;/swagger-ui&quot;","body":"<p>I have found a solution to this question.</p>\n<p>I've added SwaggerController.java controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/docs&quot;)\npublic class SwaggerController {\n    @GetMapping\n    public String index() {\n        return &quot;redirect:/swagger-ui/index.html&quot;;\n    }\n}\n</code></pre>\n<p>The point is to override the\n&quot;/**&quot; matching in the previous controller I wrote above in the question.</p>\n<p>And with the API endpoints (&quot;/api&quot;), I had a mistake to put GetMapping(&quot;/&quot;) for that controller so it has to write (&quot;/api/something/something/&quot;) to match [I wrote &quot;/api/something/something&quot;]. So all the problems were fixed.</p>\n"}],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332667,"answer_count":1,"score":0,"last_activity_date":1675931710,"creation_date":1675399555,"question_id":75331622,"body_markdown":"I&#39;m setting up the controller to match all routes and return the built production React. While doing that I couldn&#39;t do GET APIs from http://localhost:8080/api/ (Return the blank screen of React) when the POST method works fine. Any suggestion on how to make React match all routes except &quot;/api&quot;, please?\r\n\r\nMy Controller Code \r\n\r\n    @Controller\r\n    public class ClientForwardController {\r\n    \r\n        @GetMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\r\n        public String forward() { \r\n            return &quot;forward:/&quot;;\r\n        }\r\n    }","title":"How to custom Java Spring GET match all routes except &quot;/api&quot; and &quot;/swagger-ui&quot;","body":"<p>I'm setting up the controller to match all routes and return the built production React. While doing that I couldn't do GET APIs from http://localhost:8080/api/ (Return the blank screen of React) when the POST method works fine. Any suggestion on how to make React match all routes except &quot;/api&quot;, please?</p>\n<p>My Controller Code</p>\n<pre><code>@Controller\npublic class ClientForwardController {\n\n    @GetMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\n    public String forward() { \n        return &quot;forward:/&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1675895384,"post_id":75392363,"comment_id":133029024,"body_markdown":"Not an answer to your question, but Lists can only hold references (non-primitives). So this wording is redundant in your title.","body":"Not an answer to your question, but Lists can only hold references (non-primitives). So this wording is redundant in your title."}],"answers":[{"comments":[{"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"score":1,"creation_date":1675969635,"post_id":75395976,"comment_id":133047538,"body_markdown":"Thank you times29. The above worked for me. I had to additionally tag the `@ConfigurationPropertiesScan` annotation on the class and configure the annotation processor. Once I did that, I was only able to use my bean when I did the following: `private ApiProperties properties; \n\n  public MyService(@Qualifier(&quot;apiProperties&quot;) ApiProperties properties) {\n        this.properties = properties;\n  }\n`","body":"Thank you times29. The above worked for me. I had to additionally tag the <code>@ConfigurationPropertiesScan</code> annotation on the class and configure the annotation processor. Once I did that, I was only able to use my bean when I did the following: <code>private ApiProperties properties;     public MyService(@Qualifier(&quot;apiProperties&quot;) ApiProperties properties) {         this.properties = properties;   } </code>"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":1,"creation_date":1676008024,"post_id":75395976,"comment_id":133054327,"body_markdown":"@Jared glad to hear! The `@Qualifier(&quot;apiProperties&quot;)` shouldn&#39;t be necessary unless you have another `ApiProperties` bean with a differrent name!","body":"@Jared glad to hear! The <code>@Qualifier(&quot;apiProperties&quot;)</code> shouldn&#39;t be necessary unless you have another <code>ApiProperties</code> bean with a differrent name!"}],"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675931371,"creation_date":1675931371,"answer_id":75395976,"question_id":75392363,"body_markdown":"You should use [`@ConfigurationProperties`][1] in this case!\r\n\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(&quot;myservice.api&quot;)\r\n@Getter\r\n@Setter\r\n@Validated\r\npublic class ApiProperties {\r\n\r\n    @NestedConfigurationProperty\r\n    @NotEmpty\r\n    private List&lt;@Valid Perm&gt; perms;\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Perm {\r\n\r\n        @NotBlank\r\n        private String name;\r\n\r\n        @NotBlank\r\n        private String guid;\r\n\r\n        @NotNull\r\n        @Positive\r\n        private Integer index;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nMore resources:\r\n- [Guide to @ConfigurationProperties in Spring Boot][2] (Baeldung)\r\n- [Type-safe Configuration Properties][3] (Spring reference)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\r\n  [2]: https://www.baeldung.com/configuration-properties-in-spring-boot\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties","title":"How to inject List of non-primitive Objects in Spring @Value","body":"<p>You should use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"nofollow noreferrer\"><code>@ConfigurationProperties</code></a> in this case!</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(&quot;myservice.api&quot;)\n@Getter\n@Setter\n@Validated\npublic class ApiProperties {\n\n    @NestedConfigurationProperty\n    @NotEmpty\n    private List&lt;@Valid Perm&gt; perms;\n\n    @Getter\n    @Setter\n    public static class Perm {\n\n        @NotBlank\n        private String name;\n\n        @NotBlank\n        private String guid;\n\n        @NotNull\n        @Positive\n        private Integer index;\n\n    }\n\n}\n</code></pre>\n<p>More resources:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">Guide to @ConfigurationProperties in Spring Boot</a> (Baeldung)</li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">Type-safe Configuration Properties</a> (Spring reference)</li>\n</ul>\n"}],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75395976,"answer_count":1,"score":2,"last_activity_date":1675931371,"creation_date":1675895280,"question_id":75392363,"body_markdown":"Hi Spring/SpringBoot/Yaml/Java Experts, I want to inject a list of values that belong to the class `Perm` in @Value\r\n\r\nHowever, Spring fails to start my application and is throwing the error shown below:\r\n\r\n`Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;myservice.api.perms&#39; in value &quot;${myservice.api.perms}&quot;`\r\n\r\nMay I request you to help me as I am new to Spring, Spring Boot, and Yaml\r\n\r\n\r\n```\r\n# application.yaml file\r\n\r\nmyservice:\r\n  api:\r\n    perms:\r\n      -\r\n        name: xyz\r\n        guid: abc\r\n        index: 0\r\n```\r\n\r\n\r\n```\r\n// Class file that wants to read a List&lt;Perm&gt; from the application.yaml file\r\n\r\n@Slf4j\r\n@Getter\r\n@Service\r\n@Accessors(fluent = true)\r\npublic class MyService {\r\n\r\n    @Value(&quot;${myservice.api.perms}&quot;)\r\n    private List&lt;Perm&gt; perms;\r\n\r\n    public List&lt;Perm&gt; getListOfPerms() {\r\n        return perms;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public static class Perm {\r\n\r\n        @NotBlank\r\n        private String name;\r\n\r\n        @NotBlank\r\n        private String guid;\r\n\r\n        private int index;\r\n    }\r\n}\r\n```","title":"How to inject List of non-primitive Objects in Spring @Value","body":"<p>Hi Spring/SpringBoot/Yaml/Java Experts, I want to inject a list of values that belong to the class <code>Perm</code> in @Value</p>\n<p>However, Spring fails to start my application and is throwing the error shown below:</p>\n<p><code>Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'myservice.api.perms' in value &quot;${myservice.api.perms}&quot;</code></p>\n<p>May I request you to help me as I am new to Spring, Spring Boot, and Yaml</p>\n<pre><code># application.yaml file\n\nmyservice:\n  api:\n    perms:\n      -\n        name: xyz\n        guid: abc\n        index: 0\n</code></pre>\n<pre><code>// Class file that wants to read a List&lt;Perm&gt; from the application.yaml file\n\n@Slf4j\n@Getter\n@Service\n@Accessors(fluent = true)\npublic class MyService {\n\n    @Value(&quot;${myservice.api.perms}&quot;)\n    private List&lt;Perm&gt; perms;\n\n    public List&lt;Perm&gt; getListOfPerms() {\n        return perms;\n    }\n\n    @Getter\n    @Setter\n    @Builder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public static class Perm {\n\n        @NotBlank\n        private String name;\n\n        @NotBlank\n        private String guid;\n\n        private int index;\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640793515,"post_id":70521697,"comment_id":124660966,"body_markdown":"It&#39;s a warning not an error (it will only be an error starting from Java 16).","body":"It&#39;s a warning not an error (it will only be an error starting from Java 16)."},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1640793608,"post_id":70521697,"comment_id":124661001,"body_markdown":"It is crash running the test","body":"It is crash running the test"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1640793676,"post_id":70521697,"comment_id":124661033,"body_markdown":"If there is a crash running a test, then you&#39;re probably focusing on the wrong issue, because the illegal reflective access warning doesn&#39;t cause that (it&#39;s just a warning that something is done that will be disallowed in the future). Posting a [mre] would help.","body":"If there is a crash running a test, then you&#39;re probably focusing on the wrong issue, because the illegal reflective access warning doesn&#39;t cause that (it&#39;s just a warning that something is done that will be disallowed in the future). Posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help."},{"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"score":0,"creation_date":1640870816,"post_id":70521697,"comment_id":124679466,"body_markdown":"Hi @MarkRotteveel, I belive you are correct on further inspection I ma getting a null pointer exception on each test. It stems from the init method I have. When trying to mock a method from the Authentication class as shown in my edit above. When running on java 8 I don&#39;t get this exception.","body":"Hi @MarkRotteveel, I belive you are correct on further inspection I ma getting a null pointer exception on each test. It stems from the init method I have. When trying to mock a method from the Authentication class as shown in my edit above. When running on java 8 I don&#39;t get this exception."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640871013,"post_id":70521697,"comment_id":124679541,"body_markdown":"Without a [mre] that is impossible to answer.","body":"Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that is impossible to answer."},{"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"score":0,"creation_date":1641216093,"post_id":70521697,"comment_id":124741941,"body_markdown":"My tests are failing before a test is even ran. It&#39;s running the init method we have coded to run before each test at the same line giving the same null pointer exception. When running the any tests in debug I can see that the Mock initializes, but still gets null pointer on mocked method call in init method.","body":"My tests are failing before a test is even ran. It&#39;s running the init method we have coded to run before each test at the same line giving the same null pointer exception. When running the any tests in debug I can see that the Mock initializes, but still gets null pointer on mocked method call in init method."}],"answers":[{"comments":[{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":3,"creation_date":1640794375,"post_id":70521879,"comment_id":124661264,"body_markdown":"You might want to add a small comment to explain why this dependency is needed.","body":"You might want to add a small comment to explain why this dependency is needed."},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1640794488,"post_id":70521879,"comment_id":124661296,"body_markdown":"I can but I&#39;d like to get feedback from the author","body":"I can but I&#39;d like to get feedback from the author"},{"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"score":0,"creation_date":1640871663,"post_id":70521879,"comment_id":124679756,"body_markdown":"Hi @DmitriiBykov, Adding this dependency caused the warning to no longer show up, but I think my real issue is that I am getting null pointer exceptions. I am not sure why as these tests ran on java 8 with no issues. I have edited my post to show an example of my issue.","body":"Hi @DmitriiBykov, Adding this dependency caused the warning to no longer show up, but I think my real issue is that I am getting null pointer exceptions. I am not sure why as these tests ran on java 8 with no issues. I have edited my post to show an example of my issue."},{"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"score":0,"creation_date":1641216223,"post_id":70521879,"comment_id":124741982,"body_markdown":"I tried adding initMocks and the openMocks since initMocks is deprecated. Did not work. I thought when you use @RunWith(MocktioJunitRunner.class) it already takes care of all that. In debug I can see that my mocks are being initialized, but The one I referenced above is failing for some reason on mocked method call in my setUp method.","body":"I tried adding initMocks and the openMocks since initMocks is deprecated. Did not work. I thought when you use @RunWith(MocktioJunitRunner.class) it already takes care of all that. In debug I can see that my mocks are being initialized, but The one I referenced above is failing for some reason on mocked method call in my setUp method."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1664203332,"post_id":70521879,"comment_id":130411467,"body_markdown":"@DmitriiB Adding the dependency does resolve the warning message. But do you want to explain why it is needed? and any side effects that should I be aware of after adding this?","body":"@DmitriiB Adding the dependency does resolve the warning message. But do you want to explain why it is needed? and any side effects that should I be aware of after adding this?"}],"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640874504,"creation_date":1640793644,"answer_id":70521879,"question_id":70521697,"body_markdown":"Try to add this dependency\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAlso, your test class has some mistakes, you didn&#39;t initialize mocks, change it:\r\n\r\n    public class SomeClassTest {\r\n    \r\n    @Mock\r\n    private Authentication authentication;\r\n    \r\n    @InjectMocks\r\n    private YourTestService yourTestService;\r\n    \r\n    @BeforeEach\r\n    void setUp(){\r\n      initMocks(this);\r\n    }\r\n    \r\n      @Test\r\n      public void init() {\r\n    \r\n      //put test code\r\n      }\r\n    }\r\n\r\n","title":"Upgrade Mockito illegal reflective access operation","body":"<p>Try to add this dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, your test class has some mistakes, you didn't initialize mocks, change it:</p>\n<pre><code>public class SomeClassTest {\n\n@Mock\nprivate Authentication authentication;\n\n@InjectMocks\nprivate YourTestService yourTestService;\n\n@BeforeEach\nvoid setUp(){\n  initMocks(this);\n}\n\n  @Test\n  public void init() {\n\n  //put test code\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2419,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675931342,"creation_date":1640792648,"question_id":70521697,"body_markdown":"I am upgrading a library to Java 11 from Java 8. I&#39;m using Maven 3.8.x, Spring boot 2, Mockito-core 4.2.0. I am receiving the following warning message:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.mockito.internal.util.reflection.RefelectionMemberAccessor\r\n\r\nIn doing some research I found some possible solutions, but none have seemed to work. I&#39;ve tried using `--add-opens` in arg line, upgraded Mockito from 3.8.0 to 4.2.0, upgraded Byte Buddy. \r\n\r\nNote: I&#39;m not sure if I used the `--add-opens` arg correctly. I&#39;m a bit confused as to what the `&lt;module&gt;/&lt;package&gt;=VALUE` needs to be in my case. I thought I had it correct, but it didn&#39;t help.\r\n\r\nI have other micro-services that inherit this library and use Mockito in tests as well that are working fine. In those micro-services, we overrode the java version and updated the necessary dependencies in the pom of those projects.\r\n\r\n*** this is giving me a null pointer, but not sure why. I wasn&#39;t getting a null pointer on these tests when running on java 8 ***\r\nExample of class test failing:\r\n\r\n    @RunWith(MocktioJunitRunner.class)\r\n    public class SomeClassTest {\r\n\r\n    @Mock\r\n    private Authentication authentication;\r\n\r\n      @Before\r\n      public void init() {\r\n      Mockito.when(authentication.getDetails()).thenReturn(someReturn);\r\n      }\r\n    }\r\n\r\nException:\r\n\r\n    java.lang.NullPointerException\r\n    at java.base/java.lang.reflect.Method.getParameterTypes(Method.java:311)\r\n    at org.springframework.security.core.Authentication$MockitoMock$1943314113.getDetails(UnknownSource)\r\n\r\n\r\n","title":"Upgrade Mockito illegal reflective access operation","body":"<p>I am upgrading a library to Java 11 from Java 8. I'm using Maven 3.8.x, Spring boot 2, Mockito-core 4.2.0. I am receiving the following warning message:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.mockito.internal.util.reflection.RefelectionMemberAccessor\n</code></pre>\n<p>In doing some research I found some possible solutions, but none have seemed to work. I've tried using <code>--add-opens</code> in arg line, upgraded Mockito from 3.8.0 to 4.2.0, upgraded Byte Buddy.</p>\n<p>Note: I'm not sure if I used the <code>--add-opens</code> arg correctly. I'm a bit confused as to what the <code>&lt;module&gt;/&lt;package&gt;=VALUE</code> needs to be in my case. I thought I had it correct, but it didn't help.</p>\n<p>I have other micro-services that inherit this library and use Mockito in tests as well that are working fine. In those micro-services, we overrode the java version and updated the necessary dependencies in the pom of those projects.</p>\n<p>*** this is giving me a null pointer, but not sure why. I wasn't getting a null pointer on these tests when running on java 8 ***\nExample of class test failing:</p>\n<pre><code>@RunWith(MocktioJunitRunner.class)\npublic class SomeClassTest {\n\n@Mock\nprivate Authentication authentication;\n\n  @Before\n  public void init() {\n  Mockito.when(authentication.getDetails()).thenReturn(someReturn);\n  }\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>java.lang.NullPointerException\nat java.base/java.lang.reflect.Method.getParameterTypes(Method.java:311)\nat org.springframework.security.core.Authentication$MockitoMock$1943314113.getDetails(UnknownSource)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15010990,"reputation":1358,"user_id":10835478,"display_name":"niceumang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583486209,"creation_date":1583486209,"answer_id":60560871,"question_id":60560662,"body_markdown":"Add below code \r\n\r\n    @override\r\n    public void onDestroy()\r\n    {\r\n        super.onDestroy();\r\n        sweetAlertDialog.dismissWithAnimation();\r\n    }","title":"Activity &lt;Activity name&gt; has leaked window DecorView@59feb10[activity] that was originally added here","body":"<p>Add below code </p>\n\n<pre><code>@override\npublic void onDestroy()\n{\n    super.onDestroy();\n    sweetAlertDialog.dismissWithAnimation();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17892564,"reputation":1,"user_id":12998742,"display_name":"Hitanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583487957,"creation_date":1583486465,"answer_id":60560951,"question_id":60560662,"body_markdown":"Pass Activity name instead of context.\r\n\r\nlike this :\r\n\r\nnew SweetAlertDialog(YourActivity.this,SweetAlertDialog.NORMAL_TYPE).show();","title":"Activity &lt;Activity name&gt; has leaked window DecorView@59feb10[activity] that was originally added here","body":"<p>Pass Activity name instead of context.</p>\n\n<p>like this :</p>\n\n<p>new SweetAlertDialog(YourActivity.this,SweetAlertDialog.NORMAL_TYPE).show();</p>\n"}],"owner":{"account_id":16815824,"reputation":1,"user_id":12157647,"display_name":"Shoeb Sayyed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675931014,"creation_date":1583485408,"question_id":60560662,"body_markdown":"&lt;My Application has not shown a dialog box.when we pressed back button then below code  has run\r\n\r\n    @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed();\r\n            new SweetAlertDialog(context,SweetAlertDialog.NORMAL_TYPE)\r\n                    .setTitleText(&quot;Cancel Create Account?&quot;)\r\n                    .setContentText(&quot;Do yo u really want to cancel sign up? press yes to exit.&quot;)\r\n                    .setConfirmText(&quot;Yes&quot;)\r\n                    .setCancelText(&quot;No&quot;)\r\n                    .setConfirmClickListener(new SweetAlertDialog.OnSweetClickListener() {\r\n                        @Override\r\n                        public void onClick(SweetAlertDialog sweetAlertDialog) {\r\n                            sweetAlertDialog.dismissWithAnimation();\r\n                            RegisterMerDetailsActivity.this.finish();\r\n                        }\r\n                    })\r\n                    .show();\r\n        }\r\n\r\nshow method pointed to the leaked window error.I am still trying why this happening. but still, get same error.","title":"Activity &lt;Activity name&gt; has leaked window DecorView@59feb10[activity] that was originally added here","body":"<p>\n\n<pre><code>@Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        new SweetAlertDialog(context,SweetAlertDialog.NORMAL_TYPE)\n                .setTitleText(\"Cancel Create Account?\")\n                .setContentText(\"Do yo u really want to cancel sign up? press yes to exit.\")\n                .setConfirmText(\"Yes\")\n                .setCancelText(\"No\")\n                .setConfirmClickListener(new SweetAlertDialog.OnSweetClickListener() {\n                    @Override\n                    public void onClick(SweetAlertDialog sweetAlertDialog) {\n                        sweetAlertDialog.dismissWithAnimation();\n                        RegisterMerDetailsActivity.this.finish();\n                    }\n                })\n                .show();\n    }\n</code></pre>\n\n<p>show method pointed to the leaked window error.I am still trying why this happening. but still, get same error.</p>\n"},{"tags":["java","proguard","jlink","module-info"],"owner":{"account_id":450787,"reputation":1364,"user_id":846300,"accept_rate":50,"display_name":"Lukas Hanacek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675930682,"creation_date":1675930682,"question_id":75395869,"body_markdown":"Proguard does remove module-info in default.\r\n\r\n```keep &#39;class module-info&#39;```\r\n\r\nForce proguard to keep the module-info class but it does not update the references inside to the obfuscated names, therefore jlink fails with \r\n```&quot;Package x.y.z not found in module&quot;```\r\n\r\nIs there a way how to keep module-info but let proguard update it so that it corresponds to the obfuscated package names ?","title":"proguard module-info and jlink","body":"<p>Proguard does remove module-info in default.</p>\n<p><code>keep 'class module-info'</code></p>\n<p>Force proguard to keep the module-info class but it does not update the references inside to the obfuscated names, therefore jlink fails with\n<code>&quot;Package x.y.z not found in module&quot;</code></p>\n<p>Is there a way how to keep module-info but let proguard update it so that it corresponds to the obfuscated package names ?</p>\n"},{"tags":["java","maven","spring-restcontroller","spring-rest"],"comments":[{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":0,"creation_date":1467741123,"post_id":33887618,"comment_id":63843288,"body_markdown":"did u resolve this issue? If yes can u post the solution so that it may help others.","body":"did u resolve this issue? If yes can u post the solution so that it may help others."}],"answers":[{"tags":[],"owner":{"account_id":2449464,"reputation":2268,"user_id":2136086,"display_name":"asg"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1448349932,"creation_date":1448349932,"answer_id":33887669,"question_id":33887618,"body_markdown":"First thing is your request mapping should be - \r\n@RequestMapping(&quot;/sample&quot;) and not\r\n@RequestMapping(&quot;sample&quot;)","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>First thing is your request mapping should be - \n@RequestMapping(\"/sample\") and not\n@RequestMapping(\"sample\")</p>\n"},{"tags":[],"owner":{"account_id":137166,"reputation":1740,"user_id":341170,"display_name":"Mohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448356297,"creation_date":1448356297,"answer_id":33889525,"question_id":33887618,"body_markdown":"Your servlet URL mapping is incorrect. It should be /* instead of /.\r\n\r\nTake a look at this SO question for difference.\r\nhttps://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>Your servlet URL mapping is incorrect. It should be /* instead of /.</p>\n\n<p>Take a look at this SO question for difference.\n<a href=\"https://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern\">Difference between / and /* in servlet mapping url pattern</a></p>\n"},{"comments":[{"owner":{"account_id":2029198,"reputation":553,"user_id":1813415,"accept_rate":25,"display_name":"diwakarb"},"score":0,"creation_date":1448362667,"post_id":33889977,"comment_id":55546660,"body_markdown":"Here&#39;s my ROOT.xml in Tomcat/conf/Catalina/localhost\n\n&lt;Context\n  docBase=&quot;platform&quot;\n  path=&quot;&quot;\n  reloadable=&quot;true&quot;\n/&gt;","body":"Here&#39;s my ROOT.xml in Tomcat/conf/Catalina/localhost  &lt;Context   docBase=&quot;platform&quot;   path=&quot;&quot;   reloadable=&quot;true&quot; /&gt;"},{"owner":{"account_id":2408554,"reputation":4086,"user_id":2104303,"accept_rate":100,"display_name":"Omkar Puttagunta"},"score":0,"creation_date":1448362834,"post_id":33889977,"comment_id":55546783,"body_markdown":"are you deploying the app manually on Tomcat? If so which version?","body":"are you deploying the app manually on Tomcat? If so which version?"},{"owner":{"account_id":2408554,"reputation":4086,"user_id":2104303,"accept_rate":100,"display_name":"Omkar Puttagunta"},"score":0,"creation_date":1448364138,"post_id":33889977,"comment_id":55547646,"body_markdown":"Ok. In your ROOT.xml, instead of docBase=platform, give the path to your war file and then restart the server..docBase=&#39;pathTowarFile&#39; and restart the server","body":"Ok. In your ROOT.xml, instead of docBase=platform, give the path to your war file and then restart the server..docBase=&#39;pathTowarFile&#39; and restart the server"}],"tags":[],"owner":{"account_id":2408554,"reputation":4086,"user_id":2104303,"accept_rate":100,"display_name":"Omkar Puttagunta"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448441328,"creation_date":1448357723,"answer_id":33889977,"question_id":33887618,"body_markdown":"You have to add the `context path` in the url - `localhost:8080/&lt;context-path&gt;/sample`.\r\nTypically `Context path` would be your `war` file name if you deploy the app on `Tomcat`. If your `war` file name is `helloworld.war`, then the URL would be `localhost:8080/helloworld/sample`.\r\n\r\nIf you are using `Tomcat` configured in `Eclipse`, you can set the `context-path` in the  Modules tab.\r\n\r\nWays to Deploy your application to `Tomcat` root - \r\n\r\n1. You can do it by simply naming the `war` file as `ROOT.war`\r\n\r\n2. In `ROOT.xml` file, you have to specify this configuration `&lt;Context  docBase=&quot;pathToWarFile&quot; path=&quot;&quot; reloadable=&quot;true&quot; /&gt;` and make sure that your `war` file is not in `webapps` folder.\r\n\r\nIf you deploy the application to the tomcat root, then there is no need to specify the `context path`. You will get the homepage of your app with the url `localhost:8080/`. In your case, you can call the controller method with the url `localhost:8080/sample`.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>You have to add the <code>context path</code> in the url - <code>localhost:8080/&lt;context-path&gt;/sample</code>.\nTypically <code>Context path</code> would be your <code>war</code> file name if you deploy the app on <code>Tomcat</code>. If your <code>war</code> file name is <code>helloworld.war</code>, then the URL would be <code>localhost:8080/helloworld/sample</code>.</p>\n\n<p>If you are using <code>Tomcat</code> configured in <code>Eclipse</code>, you can set the <code>context-path</code> in the  Modules tab.</p>\n\n<p>Ways to Deploy your application to <code>Tomcat</code> root - </p>\n\n<ol>\n<li><p>You can do it by simply naming the <code>war</code> file as <code>ROOT.war</code></p></li>\n<li><p>In <code>ROOT.xml</code> file, you have to specify this configuration <code>&lt;Context  docBase=\"pathToWarFile\" path=\"\" reloadable=\"true\" /&gt;</code> and make sure that your <code>war</code> file is not in <code>webapps</code> folder.</p></li>\n</ol>\n\n<p>If you deploy the application to the tomcat root, then there is no need to specify the <code>context path</code>. You will get the homepage of your app with the url <code>localhost:8080/</code>. In your case, you can call the controller method with the url <code>localhost:8080/sample</code>.</p>\n"},{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1563527612,"post_id":41344163,"comment_id":100738054,"body_markdown":"It helps, but there are too much links in your answer, I feel like an archeologist!","body":"It helps, but there are too much links in your answer, I feel like an archeologist!"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":2,"creation_date":1563530563,"post_id":41344163,"comment_id":100739581,"body_markdown":"@pdem developer avg salary is 47k, archaeologist is 58k. I support your salary increase if someone asks.","body":"@pdem developer avg salary is 47k, archaeologist is 58k. I support your salary increase if someone asks."}],"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1482837425,"creation_date":1482837425,"answer_id":41344163,"question_id":33887618,"body_markdown":"If you have &quot;SLF4J: Defaulting to no-operation (NOP) logger implementation&quot; message:\r\n---\r\n\r\nAdd a dependency to simple-logger like this:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nOtherwise\r\n---\r\n\r\nIt needs reverse search.\r\n\r\n1. Find what message you like to see. [This article][1] gives me the hint that i need the message `No mapping found for HTTP request with`.\r\n2. Search for sources in the web [like this][2]. \r\n\r\nAnd here we have the line:\r\n\r\n    if (pageNotFoundLogger.isWarnEnabled()) {\r\n      pageNotFoundLogger.warn(&quot;No mapping found for HTTP request with URI [&quot; + getRequestUri(request) +\r\n          &quot;] in DispatcherServlet with name &#39;&quot; + getServletName() + &quot;&#39;&quot;);\r\n    }\r\n\r\n3. Finally lookup for the class and add the logging-level.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15163035\r\n  [2]: https://www.google.de/search?q=%2Ffiletype%3Ajava%20%22No%20mapping%20found%20for%20HTTP%20request%22","title":"How to debug 404 resource not found in spring mvc rest?","body":"<h2>If you have \"SLF4J: Defaulting to no-operation (NOP) logger implementation\" message:</h2>\n\n<p>Add a dependency to simple-logger like this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<h2>Otherwise</h2>\n\n<p>It needs reverse search.</p>\n\n<ol>\n<li>Find what message you like to see. <a href=\"https://stackoverflow.com/questions/15163035\">This article</a> gives me the hint that i need the message <code>No mapping found for HTTP request with</code>.</li>\n<li>Search for sources in the web <a href=\"https://www.google.de/search?q=%2Ffiletype%3Ajava%20%22No%20mapping%20found%20for%20HTTP%20request%22\" rel=\"nofollow noreferrer\">like this</a>. </li>\n</ol>\n\n<p>And here we have the line:</p>\n\n<pre><code>if (pageNotFoundLogger.isWarnEnabled()) {\n  pageNotFoundLogger.warn(\"No mapping found for HTTP request with URI [\" + getRequestUri(request) +\n      \"] in DispatcherServlet with name '\" + getServletName() + \"'\");\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Finally lookup for the class and add the logging-level.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1544471956,"post_id":48469943,"comment_id":94279951,"body_markdown":"Q: (Regarding Spring Boot): How exactly does one make sure Spring Boot is scanning the controller packages we *think* it should be scanning?","body":"Q: (Regarding Spring Boot): How exactly does one make sure Spring Boot is scanning the controller packages we <i>think</i> it should be scanning?"},{"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"score":0,"creation_date":1544545091,"post_id":48469943,"comment_id":94310021,"body_markdown":"Spring boot will automatically scan classes in the same package or in sub packages of your main class annotated with `@SpringBootApplication`.  Otherwise you need to define an `@ComponentScan` to give it extra packages to scan.","body":"Spring boot will automatically scan classes in the same package or in sub packages of your main class annotated with <code>@SpringBootApplication</code>.  Otherwise you need to define an <code>@ComponentScan</code> to give it extra packages to scan."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1544546492,"post_id":48469943,"comment_id":94310925,"body_markdown":"Q: So there&#39;s no way to get a list of classes that Spring Boot has *actually* scanned?  Q: What about a complete list of URL path mappings?","body":"Q: So there&#39;s no way to get a list of classes that Spring Boot has <i>actually</i> scanned?  Q: What about a complete list of URL path mappings?"},{"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"score":0,"creation_date":1544547069,"post_id":48469943,"comment_id":94311271,"body_markdown":"I think the only way would be to turn on debug logs and pipe them to a bash script\nhttps://stackoverflow.com/questions/8543421/how-do-i-get-spring-to-print-out-the-bean-definitions-it-is-picking-up-via-compo/8543549","body":"I think the only way would be to turn on debug logs and pipe them to a bash script <a href=\"https://stackoverflow.com/questions/8543421/how-do-i-get-spring-to-print-out-the-bean-definitions-it-is-picking-up-via-compo/8543549\" title=\"how do i get spring to print out the bean definitions it is picking up via compo\">stackoverflow.com/questions/8543421/&hellip;</a>"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1544547358,"post_id":48469943,"comment_id":94311429,"body_markdown":"Fair enough - thank you.  The reason I asked is that I&#39;ve turning on logging to TRACE - and there&#39;s still a lot of &quot;magic&quot; I&#39;d like to understand better.","body":"Fair enough - thank you.  The reason I asked is that I&#39;ve turning on logging to TRACE - and there&#39;s still a lot of &quot;magic&quot; I&#39;d like to understand better."}],"tags":[],"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517002782,"creation_date":1517002782,"answer_id":48469943,"question_id":33887618,"body_markdown":"Make sure you&#39;re scanning the packages your controllers are in.  Otherwise spring won&#39;t create beans for your controllers and the paths they&#39;re listening for will return a 404.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>Make sure you're scanning the packages your controllers are in.  Otherwise spring won't create beans for your controllers and the paths they're listening for will return a 404.</p>\n"},{"comments":[{"owner":{"account_id":1138035,"reputation":441,"user_id":1122673,"accept_rate":67,"display_name":"Ijaz"},"score":0,"creation_date":1640641193,"post_id":57012282,"comment_id":124623965,"body_markdown":"helped big time.","body":"helped big time."}],"tags":[],"owner":{"account_id":44082,"reputation":3850,"user_id":129150,"accept_rate":48,"display_name":"isobretatel"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562955824,"creation_date":1562955824,"answer_id":57012282,"question_id":33887618,"body_markdown":"Place a breakpoint in \r\n\r\norg.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getMatchingPattern(String pattern, String lookupPath).\r\n\r\nYou will see why there is no match for your request.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>Place a breakpoint in </p>\n\n<p>org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getMatchingPattern(String pattern, String lookupPath).</p>\n\n<p>You will see why there is no match for your request.</p>\n"},{"tags":[],"owner":{"account_id":4458992,"reputation":1216,"user_id":3628421,"accept_rate":67,"display_name":"JRA_TLL"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675930499,"creation_date":1675930499,"answer_id":75395849,"question_id":33887618,"body_markdown":"You will find the error the easiest way by increasing logging. Add to your application.properties or application-default.properties a line\r\n\r\n    logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>You will find the error the easiest way by increasing logging. Add to your application.properties or application-default.properties a line</p>\n<pre><code>logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG\n</code></pre>\n"}],"owner":{"account_id":2029198,"reputation":553,"user_id":1813415,"accept_rate":25,"display_name":"diwakarb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17658,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":7,"score":10,"last_activity_date":1675930499,"creation_date":1448349743,"question_id":33887618,"body_markdown":"I have a sample spring rest mvc application which has the following java code:\r\n\r\nSampleController.java\r\n\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.util.StringUtils;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;sample&quot;)\r\n    public class SampleController {\r\n            @RequestMapping(method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n            @ResponseBody\r\n            public String getBatches()//@RequestParam(name = &quot;name&quot;, required = true) String name)\r\n            {\r\n                    return &quot;Hello &quot;;\r\n            }\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;ved&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;platform&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;platform Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring.version&gt;4.2.1.RELEASE&lt;/spring.version&gt;\r\n    \t\t&lt;jackson.version&gt;2.6.2&lt;/jackson.version&gt;\r\n    \t\t&lt;spring-boot.version&gt;1.2.6.RELEASE&lt;/spring-boot.version&gt;\r\n    \t\t&lt;filter.name&gt;DEV&lt;/filter.name&gt;\r\n    \t\t&lt;jersey.version&gt;1.9&lt;/jersey.version&gt;\r\n    \t\t&lt;base.directory&gt;${basedir}&lt;/base.directory&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;local&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t&lt;name&gt;env&lt;/name&gt;\r\n    \t\t\t\t\t&lt;value&gt;local&lt;/value&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;filter.name&gt;DEV&lt;/filter.name&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;qa&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t&lt;name&gt;env&lt;/name&gt;\r\n    \t\t\t\t\t&lt;value&gt;qa&lt;/value&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;filter.name&gt;QA&lt;/filter.name&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t&lt;name&gt;env&lt;/name&gt;\r\n    \t\t\t\t\t&lt;value&gt;prod&lt;/value&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;filter.name&gt;PROD&lt;/filter.name&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;!-- &lt;filters&gt; &lt;filter&gt;${basedir}/src/main/resources/ENV-${filter.name}/application.properties&lt;/filter&gt; \r\n    \t\t\t&lt;/filters&gt; --&gt;\r\n    \t\t&lt;finalName&gt;platform&lt;/finalName&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n    \t\t\t\t\t&lt;debuglevel&gt;source,lines&lt;/debuglevel&gt;\r\n    \t\t\t\t\t&lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t&lt;environment&gt;prod&lt;/environment&gt;\r\n    \t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.code.maven-svn-revision-number-plugin&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-svn-revision-number-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;revision&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;entries&gt;\r\n    \t\t\t\t\t\t&lt;entry&gt;\r\n    \t\t\t\t\t\t\t&lt;prefix&gt;svn&lt;/prefix&gt;\r\n    \t\t\t\t\t\t&lt;/entry&gt;\r\n    \t\t\t\t\t&lt;/entries&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;generate-timestamp&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;create-timestamp&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;format&gt;{0,date,yyyy-MM-dd HH:mm}&lt;/format&gt;\r\n    \t\t\t\t\t&lt;items&gt;\r\n    \t\t\t\t\t\t&lt;item&gt;timestamp&lt;/item&gt;\r\n    \t\t\t\t\t&lt;/items&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\ndispatcher-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mongo=&quot;http://www.springframework.org/schema/data/mongo&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n    http://www.springframework.org/schema/mvc \r\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-4.0.xsd\r\n    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\r\n    http://www.springframework.org/schema/data/mongo\r\n    http://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- &lt;context:property-placeholder location=&quot;classpath:application.properties&quot; \r\n    \t\t/&gt; --&gt;\r\n    \r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.ved.platform&quot; /&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;jacksonMessageConverter&quot;\r\n    \t\tclass=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot; /&gt;\r\n    \r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n    \t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;ref bean=&quot;jacksonMessageConverter&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot;&gt;\r\n    \t\t\t&lt;value&gt;/WEB-INF/views/&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot;&gt;\r\n    \t\t\t&lt;value&gt;.jsp&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt; \r\n    \t\t&lt;property name=&quot;messageConverters&quot;&gt; &lt;list&gt; &lt;bean class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt; \r\n    \t\t&lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; --&gt;\r\n    \r\n    \t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nhomepage is giving me the apache page, but once I try to access 127.0.0.1:8080/sample It throws me a 404 error. Logs are all silent about it. Not sure how to fix this.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>I have a sample spring rest mvc application which has the following java code:</p>\n\n<p>SampleController.java</p>\n\n<pre><code>import org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"sample\")\npublic class SampleController {\n        @RequestMapping(method = RequestMethod.GET, produces = \"application/json\")\n        @ResponseBody\n        public String getBatches()//@RequestParam(name = \"name\", required = true) String name)\n        {\n                return \"Hello \";\n        }\n}\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ved&lt;/groupId&gt;\n    &lt;artifactId&gt;platform&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;platform Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;spring.version&gt;4.2.1.RELEASE&lt;/spring.version&gt;\n        &lt;jackson.version&gt;2.6.2&lt;/jackson.version&gt;\n        &lt;spring-boot.version&gt;1.2.6.RELEASE&lt;/spring-boot.version&gt;\n        &lt;filter.name&gt;DEV&lt;/filter.name&gt;\n        &lt;jersey.version&gt;1.9&lt;/jersey.version&gt;\n        &lt;base.directory&gt;${basedir}&lt;/base.directory&gt;\n    &lt;/properties&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;env&lt;/name&gt;\n                    &lt;value&gt;local&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;filter.name&gt;DEV&lt;/filter.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;env&lt;/name&gt;\n                    &lt;value&gt;qa&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;filter.name&gt;QA&lt;/filter.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;env&lt;/name&gt;\n                    &lt;value&gt;prod&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;filter.name&gt;PROD&lt;/filter.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;!-- &lt;filters&gt; &lt;filter&gt;${basedir}/src/main/resources/ENV-${filter.name}/application.properties&lt;/filter&gt; \n            &lt;/filters&gt; --&gt;\n        &lt;finalName&gt;platform&lt;/finalName&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;debug&gt;true&lt;/debug&gt;\n                    &lt;debuglevel&gt;source,lines&lt;/debuglevel&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                    &lt;archive&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;environment&gt;prod&lt;/environment&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.code.maven-svn-revision-number-plugin&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-svn-revision-number-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;revision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;entries&gt;\n                        &lt;entry&gt;\n                            &lt;prefix&gt;svn&lt;/prefix&gt;\n                        &lt;/entry&gt;\n                    &lt;/entries&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-timestamp&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;create-timestamp&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;format&gt;{0,date,yyyy-MM-dd HH:mm}&lt;/format&gt;\n                    &lt;items&gt;\n                        &lt;item&gt;timestamp&lt;/item&gt;\n                    &lt;/items&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    id=\"WebApp_ID\" version=\"3.0\"&gt;\n\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>dispatcher-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:util=\"http://www.springframework.org/schema/util\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:mongo=\"http://www.springframework.org/schema/data/mongo\"\n    xsi:schemaLocation=\"\nhttp://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-4.0.xsd\nhttp://www.springframework.org/schema/mvc \nhttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-4.0.xsd\nhttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\nhttp://www.springframework.org/schema/data/mongo\nhttp://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd\"&gt;\n\n    &lt;!-- &lt;context:property-placeholder location=\"classpath:application.properties\" \n        /&gt; --&gt;\n\n    &lt;context:annotation-config /&gt;\n    &lt;context:component-scan base-package=\"com.ved.platform\" /&gt;\n\n    &lt;bean id=\"jacksonMessageConverter\"\n        class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\" /&gt;\n\n    &lt;bean\n        class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n        &lt;property name=\"messageConverters\"&gt;\n            &lt;list&gt;\n                &lt;ref bean=\"jacksonMessageConverter\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\"&gt;\n            &lt;value&gt;/WEB-INF/views/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"suffix\"&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- &lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt; \n        &lt;property name=\"messageConverters\"&gt; &lt;list&gt; &lt;bean class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"&gt; \n        &lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; --&gt;\n\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>homepage is giving me the apache page, but once I try to access 127.0.0.1:8080/sample It throws me a 404 error. Logs are all silent about it. Not sure how to fix this.</p>\n"},{"tags":["java","performance","kotlin","project"],"owner":{"account_id":25842688,"reputation":1,"user_id":19578007,"display_name":"zeinakhadem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675930220,"answer_count":0,"score":0,"last_activity_date":1675930120,"creation_date":1675929935,"question_id":75395770,"body_markdown":"My project is about a simple &quot;book&quot; library in java and I need to do this &quot;check in check out&quot; class\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.Properties.getProperty(String)&quot; because the return value of &quot;org.jdatepicker.impl.JDatePanelImpl.access$500(org.jdatepicker.impl.JDatePanelImpl)&quot; is null\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousMonthButton(JDatePanelImpl.java:517)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousButtonPanel(JDatePanelImpl.java:442)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.getNorthPanel(JDatePanelImpl.java:251)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.initialise(JDatePanelImpl.java:234)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.&lt;init&gt;(JDatePanelImpl.java:222)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl.&lt;init&gt;(JDatePanelImpl.java:110)\r\n    \tat CheckInCheckOut.main(CheckInCheckOut.java:22)\r\n\r\nI really don&#39;t know what to do , please help","title":"I dont understand this problem and i need to do this for my project,","body":"<p>My project is about a simple &quot;book&quot; library in java and I need to do this &quot;check in check out&quot; class</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.Properties.getProperty(String)&quot; because the return value of &quot;org.jdatepicker.impl.JDatePanelImpl.access$500(org.jdatepicker.impl.JDatePanelImpl)&quot; is null\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousMonthButton(JDatePanelImpl.java:517)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousButtonPanel(JDatePanelImpl.java:442)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.getNorthPanel(JDatePanelImpl.java:251)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.initialise(JDatePanelImpl.java:234)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.&lt;init&gt;(JDatePanelImpl.java:222)\n    at org.jdatepicker.impl.JDatePanelImpl.&lt;init&gt;(JDatePanelImpl.java:110)\n    at CheckInCheckOut.main(CheckInCheckOut.java:22)\n</code></pre>\n<p>I really don't know what to do , please help</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1675924464,"post_id":75394601,"comment_id":133033190,"body_markdown":"Have you tried it without customOpenAPI bean?","body":"Have you tried it without customOpenAPI bean?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675924636,"post_id":75394601,"comment_id":133033211,"body_markdown":"@sge I tested it but nothing changed. Can you test it for me if you don&#39;t mind?","body":"@sge I tested it but nothing changed. Can you test it for me if you don&#39;t mind?"}],"answers":[{"comments":[{"owner":{"account_id":6600236,"reputation":63,"user_id":5098776,"display_name":"Akash Chaudhuri"},"score":0,"creation_date":1678209548,"post_id":75395783,"comment_id":133487596,"body_markdown":"This worked for me. \nURL for accessing swagger-ui: http://localhost:8080/swagger-ui/index.html","body":"This worked for me.  URL for accessing swagger-ui: <a href=\"http://localhost:8080/swagger-ui/index.html\" rel=\"nofollow noreferrer\">localhost:8080/swagger-ui/index.html</a>"},{"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"score":1,"creation_date":1678714413,"post_id":75395783,"comment_id":133581782,"body_markdown":"also worked for me: link to dependency to see the latest version: https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui","body":"also worked for me: link to dependency to see the latest version: <a href=\"https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springdoc/&hellip;</a>"},{"owner":{"account_id":2750438,"reputation":511,"user_id":2369963,"accept_rate":50,"display_name":"jaletechs"},"score":0,"creation_date":1681534372,"post_id":75395783,"comment_id":134075577,"body_markdown":"It&#39;s weird I get a 400 on the swagger UI path (and it&#39;s related assets), but the `/v3/api-docs` works fine. Both have been allowed in spring security configuration","body":"It&#39;s weird I get a 400 on the swagger UI path (and it&#39;s related assets), but the <code>&#47;v3&#47;api-docs</code> works fine. Both have been allowed in spring security configuration"},{"owner":{"account_id":16652565,"reputation":103,"user_id":12034987,"display_name":"Hashan Mahesh"},"score":0,"creation_date":1683614436,"post_id":75395783,"comment_id":134389274,"body_markdown":"This is so bad, do we have to use different dependencies based on the spring versions? I thought it is automatically handled by maven itself","body":"This is so bad, do we have to use different dependencies based on the spring versions? I thought it is automatically handled by maven itself"}],"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675930079,"creation_date":1675930079,"answer_id":75395783,"question_id":75394601,"body_markdown":"You need to use a different dependency for Spring Boot 3:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Cannot open swagger-ui with the usage of Openapi in Spring Boot 3 (Whitelabel Error Page)","body":"<p>You need to use a different dependency for Spring Boot 3:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75395783,"answer_count":1,"score":1,"last_activity_date":1675930079,"creation_date":1675920974,"question_id":75394601,"body_markdown":"I have an issue to open swagger-ui through Openapi in Spring Boot.\r\n\r\nWhen I try to open this URL http://localhost:8080/swagger-ui.html, I get **Whitelabel Error Page** \r\n\r\nHow can I fix the issue?\r\n\r\nHere is the **dependency** defined in **pom.xml** shown below.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is the **openpi config class** shown below.\r\n\r\n    @Configuration\r\n    public class OpenApiConfig {\r\n    \r\n        @Bean\r\n        public OpenAPI customOpenAPI(@Value(&quot;${application-description}&quot;) String description,\r\n                                     @Value(&quot;${application-version}&quot;) String version) {\r\n            return new OpenAPI()\r\n                    .info(new Info().title(&quot;API&quot;)\r\n                            .version(version)\r\n                            .description(description)\r\n                            .license(new License().name(&quot;API Licence&quot;)));\r\n        }\r\n    }\r\n\r\nHere is the application.properties file shown below.\r\n\r\n    springdoc.swagger-ui.path=/swagger-ui.html\r\n    application-description=API Description\r\n    application-version=1.0\r\n    \r\n    logging.level.org.springframework.web=DEBUG\r\n    logging.level.io.springfox=DEBUG\r\n\r\nHere is the error shown below when I try to open this URL `http://localhost:8080/swagger-ui.html`\r\n\r\n    2023-02-09T08:36:16.593+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/swagger-ui.html&quot;, parameters={}\r\n    2023-02-09T08:36:16.594+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/DepremApi","title":"Cannot open swagger-ui with the usage of Openapi in Spring Boot 3 (Whitelabel Error Page)","body":"<p>I have an issue to open swagger-ui through Openapi in Spring Boot.</p>\n<p>When I try to open this URL http://localhost:8080/swagger-ui.html, I get <strong>Whitelabel Error Page</strong></p>\n<p>How can I fix the issue?</p>\n<p>Here is the <strong>dependency</strong> defined in <strong>pom.xml</strong> shown below.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the <strong>openpi config class</strong> shown below.</p>\n<pre><code>@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public OpenAPI customOpenAPI(@Value(&quot;${application-description}&quot;) String description,\n                                 @Value(&quot;${application-version}&quot;) String version) {\n        return new OpenAPI()\n                .info(new Info().title(&quot;API&quot;)\n                        .version(version)\n                        .description(description)\n                        .license(new License().name(&quot;API Licence&quot;)));\n    }\n}\n</code></pre>\n<p>Here is the application.properties file shown below.</p>\n<pre><code>springdoc.swagger-ui.path=/swagger-ui.html\napplication-description=API Description\napplication-version=1.0\n\nlogging.level.org.springframework.web=DEBUG\nlogging.level.io.springfox=DEBUG\n</code></pre>\n<p>Here is the error shown below when I try to open this URL <code>http://localhost:8080/swagger-ui.html</code></p>\n<pre><code>2023-02-09T08:36:16.593+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/swagger-ui.html&quot;, parameters={}\n2023-02-09T08:36:16.594+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]\n2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/DepremApi\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","selenium","appium","browserstack","selenium4"],"answers":[{"tags":[],"owner":{"account_id":4215032,"reputation":11,"user_id":3451534,"display_name":"Learning Technology"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214740,"creation_date":1665214740,"answer_id":73995235,"question_id":73921000,"body_markdown":"Found the solution as a few configurations were required. Below are the values I have added and the test script worked on BrowserStack:\r\n\r\nFor Android App: \r\n\r\n    `DesiredCapabilities mobileApp = new DesiredCapabilities();`\r\n     mobileApp.setCapability(&quot;project&quot;, &quot;Project Name&quot;);\r\n    mobileApp.setCapability(&quot;build&quot;, &quot;You Build Name&quot;);\r\n    mobileApp.setCapability(&quot;name&quot;, &quot;Any Name you want to provide&quot;);\r\n    mobileApp.setCapability(&quot;browserstack.debug&quot;, &quot;true&quot;);\r\n    mobileApp.setCapability(&quot;app&quot;, &quot;Your application URL on BrowserStack&quot;);\r\n    mobileApp.setCapability(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\r\n    mobileApp.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\r\n\r\n\r\nFor browser in mobile(Android):\r\n\r\n    MutableCapabilities androidCap = new MutableCapabilities();\r\n    HashMap&lt;String, Object&gt; androidOptions = new HashMap&lt;String, Object&gt;();\r\n    androidOptions.put(&quot;osVersion&quot;, &quot;12.0&quot;);\r\n    androidOptions.put(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\r\n    androidOptions.put(&quot;realMobile&quot;, &quot;true&quot;);\r\n    androidOptions.put(&quot;local&quot;, &quot;false&quot;);\r\n    androidCap.setCapability(&quot;bstack:options&quot;, androidOptions);\r\n    driver = new RemoteWebDriver(new URL(&quot;Your credentials&quot;), androidCap);","title":"BrowserStack/Appium: Getting error after updating the selenium version to 4","body":"<p>Found the solution as a few configurations were required. Below are the values I have added and the test script worked on BrowserStack:</p>\n<p>For Android App:</p>\n<pre><code>`DesiredCapabilities mobileApp = new DesiredCapabilities();`\n mobileApp.setCapability(&quot;project&quot;, &quot;Project Name&quot;);\nmobileApp.setCapability(&quot;build&quot;, &quot;You Build Name&quot;);\nmobileApp.setCapability(&quot;name&quot;, &quot;Any Name you want to provide&quot;);\nmobileApp.setCapability(&quot;browserstack.debug&quot;, &quot;true&quot;);\nmobileApp.setCapability(&quot;app&quot;, &quot;Your application URL on BrowserStack&quot;);\nmobileApp.setCapability(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\nmobileApp.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\n</code></pre>\n<p>For browser in mobile(Android):</p>\n<pre><code>MutableCapabilities androidCap = new MutableCapabilities();\nHashMap&lt;String, Object&gt; androidOptions = new HashMap&lt;String, Object&gt;();\nandroidOptions.put(&quot;osVersion&quot;, &quot;12.0&quot;);\nandroidOptions.put(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\nandroidOptions.put(&quot;realMobile&quot;, &quot;true&quot;);\nandroidOptions.put(&quot;local&quot;, &quot;false&quot;);\nandroidCap.setCapability(&quot;bstack:options&quot;, androidOptions);\ndriver = new RemoteWebDriver(new URL(&quot;Your credentials&quot;), androidCap);\n</code></pre>\n"}],"owner":{"account_id":4215032,"reputation":11,"user_id":3451534,"display_name":"Learning Technology"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675929846,"creation_date":1664650703,"question_id":73921000,"body_markdown":"I am running my app automation on Browserstack and it was working fine until I upgraded the Selenium and Java client versions. Below are the upgraded versions:\r\n\r\nJava Client - 8.1.1\r\nSelenium - 4.2.2\r\n\r\n```none\r\nError: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\r\n\tat com.browserstack.run_first_test.BrowserStackTestNGTest.setUp(BrowserStackTestNGTest.java:61)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:589)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:820)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1128)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:782)\r\n\tat org.testng.TestRunner.run(TestRunner.java:632)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:268)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n\tat org.testng.TestNG.run(TestNG.java:1064)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\nCaused by: org.openqa.selenium.WebDriverException: java.lang.reflect.InvocationTargetException\r\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_172&#39;\r\nDriver info: driver.version: AndroidDriver\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:130)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:146)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n\t... 32 more\r\n```","title":"BrowserStack/Appium: Getting error after updating the selenium version to 4","body":"<p>I am running my app automation on Browserstack and it was working fine until I upgraded the Selenium and Java client versions. Below are the upgraded versions:</p>\n<p>Java Client - 8.1.1\nSelenium - 4.2.2</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\n    at com.browserstack.run_first_test.BrowserStackTestNGTest.setUp(BrowserStackTestNGTest.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:589)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:820)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1128)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n    at org.testng.TestRunner.privateRun(TestRunner.java:782)\n    at org.testng.TestRunner.run(TestRunner.java:632)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:268)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n    at org.testng.TestNG.run(TestNG.java:1064)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: org.openqa.selenium.WebDriverException: java.lang.reflect.InvocationTargetException\nBuild info: version: '4.5.0', revision: 'fe167b119a'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_172'\nDriver info: driver.version: AndroidDriver\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:130)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:146)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    ... 32 more\n</code></pre>\n"},{"tags":["java","stack","push","reverse"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1602345537,"post_id":64295338,"comment_id":113693848,"body_markdown":"Why 6 should be printed as `011`?  `110` is correct","body":"Why 6 should be printed as <code>011</code>?  <code>110</code> is correct"},{"owner":{"account_id":12224999,"reputation":337,"user_id":8922935,"display_name":"Tuk Tuk"},"score":1,"creation_date":1602345620,"post_id":64295338,"comment_id":113693872,"body_markdown":"Binary value of 6 is 110. Why do want to reverse it?","body":"Binary value of 6 is 110. Why do want to reverse it?"},{"owner":{"account_id":17076755,"reputation":39,"user_id":12356214,"display_name":"Edwin Salinas"},"score":0,"creation_date":1602354115,"post_id":64295338,"comment_id":113696208,"body_markdown":"I&#39;m taking a class and the question itself might be bugged. I&#39;ll update the question with the assignment question itself.","body":"I&#39;m taking a class and the question itself might be bugged. I&#39;ll update the question with the assignment question itself."}],"answers":[{"comments":[{"owner":{"account_id":16395885,"reputation":91,"user_id":11843435,"display_name":"PineappleEater"},"score":0,"creation_date":1602346707,"post_id":64295417,"comment_id":113694190,"body_markdown":"When using his own code I managed to get the same results. So I just supplied alternative methods if he wanted to see what the results were. As for the StringBuilder and array, I just wanted to return a string for use","body":"When using his own code I managed to get the same results. So I just supplied alternative methods if he wanted to see what the results were. As for the StringBuilder and array, I just wanted to return a string for use"}],"tags":[],"owner":{"account_id":16395885,"reputation":91,"user_id":11843435,"display_name":"PineappleEater"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602345843,"creation_date":1602345509,"answer_id":64295417,"question_id":64295338,"body_markdown":"First using predefined method then a custom one.\n```\r\npublic class IntToBinary {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint decimalNumber = 10;\r\n\r\n\t\tSystem.out.println(Integer.toBinaryString(decimalNumber));\r\n\r\n\t\tSystem.out.println(convertBinary(10));\r\n\t}\r\n\r\n\tpublic static String convertBinary(int num) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint binary[] = new int[40];\r\n\t\tint index = 0;\r\n\t\twhile (num &gt; 0) {\r\n\t\t\tbinary[index++] = num % 2;\r\n\t\t\tnum = num / 2;\r\n\t\t}\r\n\t\tfor (int i = index - 1; i &gt;= 0; i--) {\r\n\t\t\tsb.append(binary[i]);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n}\r\n```","title":"Reversing an integer in binary representation","body":"<p>First using predefined method then a custom one.</p>\n<pre><code>public class IntToBinary {\n\n    public static void main(String[] args) {\n        int decimalNumber = 10;\n\n        System.out.println(Integer.toBinaryString(decimalNumber));\n\n        System.out.println(convertBinary(10));\n    }\n\n    public static String convertBinary(int num) {\n        StringBuilder sb = new StringBuilder();\n        int binary[] = new int[40];\n        int index = 0;\n        while (num &gt; 0) {\n            binary[index++] = num % 2;\n            num = num / 2;\n        }\n        for (int i = index - 1; i &gt;= 0; i--) {\n            sb.append(binary[i]);\n        }\n        return sb.toString();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602348584,"creation_date":1602347410,"answer_id":64295741,"question_id":64295338,"body_markdown":"Your program appears to work fine for positive values.  However it does not handle negative numbers which have their own unique binary representation known as [two&#39;s complement](https://en.wikipedia.org/wiki/Two%27s_complement).  You could do something like the following to accommodate:\r\n```\r\nprivate static void binary(int userNum) {\r\n    int remainder;\r\n\r\n   //  while (userNum &lt;= 1) {\r\n   //     System.out.print(userNum);\r\n   //     return;\r\n   // }\r\n   if (userNum == 0) {\r\n          return;\r\n    }\r\n\r\n    // simply mask off the bit instead of dividing by two\r\n    remainder = userNum &amp; 1;\r\n    // and shift right thru the sign bit\r\n    binary(userNum &gt;&gt;&gt; 1);\r\n    System.out.print(remainder);    \r\n}\r\n}\r\n\r\nbinary(-6));\r\n```\r\nprints\r\n```\r\n11111111111111111111111111111010\r\n```\r\nAnd the reason these printed out in proper order is because your routine is recursive.  That is a natural behavior of printing the values stored in the stack from a recursive procedure.","title":"Reversing an integer in binary representation","body":"<p>Your program appears to work fine for positive values.  However it does not handle negative numbers which have their own unique binary representation known as <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's complement</a>.  You could do something like the following to accommodate:</p>\n<pre><code>private static void binary(int userNum) {\n    int remainder;\n\n   //  while (userNum &lt;= 1) {\n   //     System.out.print(userNum);\n   //     return;\n   // }\n   if (userNum == 0) {\n          return;\n    }\n\n    // simply mask off the bit instead of dividing by two\n    remainder = userNum &amp; 1;\n    // and shift right thru the sign bit\n    binary(userNum &gt;&gt;&gt; 1);\n    System.out.print(remainder);    \n}\n}\n\nbinary(-6));\n</code></pre>\n<p>prints</p>\n<pre><code>11111111111111111111111111111010\n</code></pre>\n<p>And the reason these printed out in proper order is because your routine is recursive.  That is a natural behavior of printing the values stored in the stack from a recursive procedure.</p>\n"},{"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1627847315,"post_id":68613754,"comment_id":121259701,"body_markdown":"As per requirement, this seems to be the simplest answer.","body":"As per requirement, this seems to be the simplest answer."}],"tags":[],"owner":{"account_id":22356234,"reputation":21,"user_id":16573482,"display_name":"DEC"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627846469,"creation_date":1627846469,"answer_id":68613754,"question_id":64295338,"body_markdown":"Per the requirement and not taking into consideration of negative numbers\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n    public static void main(String[] args) {\r\n        int userNum;\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        userNum = scnr.nextInt();\r\n\r\n        while(userNum &gt; 0){\r\n            System.out.print(userNum % 2);\r\n            userNum = userNum / 2;\r\n        }\r\n        System.out.print(&quot;\\n&quot;);\r\n    }\r\n}\r\n```","title":"Reversing an integer in binary representation","body":"<p>Per the requirement and not taking into consideration of negative numbers</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        int userNum;\n\n        Scanner scnr = new Scanner(System.in);\n\n        userNum = scnr.nextInt();\n\n        while(userNum &gt; 0){\n            System.out.print(userNum % 2);\n            userNum = userNum / 2;\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3342575,"reputation":2447,"user_id":2808493,"accept_rate":80,"display_name":"Armin"},"score":1,"creation_date":1675930274,"post_id":75363468,"comment_id":133034446,"body_markdown":"Welcome to the community. It&#39;s nice to try to help others but remember that it&#39;s better to add some explanation for your answer. Also make sure to read: https://stackoverflow.com/conduct.","body":"Welcome to the community. It&#39;s nice to try to help others but remember that it&#39;s better to add some explanation for your answer. Also make sure to read: <a href=\"https://stackoverflow.com/conduct\">stackoverflow.com/conduct</a>."}],"tags":[],"owner":{"account_id":27717688,"reputation":1,"user_id":21159039,"display_name":"Asmita Dalwala"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675929803,"creation_date":1675698060,"answer_id":75363468,"question_id":64295338,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Reverse_BinaryNum {\r\n\r\n        public static void main(String[] args) {\r\n            /* Type your code here. */\r\n\r\n            Scanner scnr = new Scanner(System.in);\r\n\r\n            int inputNum;\r\n\r\n            System.out.println(&quot;Enter the Digit : &quot;);\r\n            inputNum = scnr.nextInt();\r\n\r\n            System.out.println(&quot;The Reverse Binary for the given Digit is : &quot;);\r\n            while (inputNum &gt; 0) {\r\n                System.out.print(inputNum % 2);\r\n                inputNum = inputNum / 2;\r\n\r\n            }\r\n            scnr.close();\r\n        }\r\n    }","title":"Reversing an integer in binary representation","body":"<pre><code>import java.util.Scanner;\n\npublic class Reverse_BinaryNum {\n\n    public static void main(String[] args) {\n        /* Type your code here. */\n\n        Scanner scnr = new Scanner(System.in);\n\n        int inputNum;\n\n        System.out.println(&quot;Enter the Digit : &quot;);\n        inputNum = scnr.nextInt();\n\n        System.out.println(&quot;The Reverse Binary for the given Digit is : &quot;);\n        while (inputNum &gt; 0) {\n            System.out.print(inputNum % 2);\n            inputNum = inputNum / 2;\n\n        }\n        scnr.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17076755,"reputation":39,"user_id":12356214,"display_name":"Edwin Salinas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1675929803,"creation_date":1602345122,"question_id":64295338,"body_markdown":"I tried to create a code to take in a whole number in Java and output it in binary. The problem would seem that the binary is printing out backward. For instance, `6` should output as `011` but comes out as `110`.\r\n\r\n``` java\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n  public static void main(String[] args) {\r\n\r\n    int userNum;\r\n\r\n    Scanner in =new Scanner(System. in );\r\n\r\n    userNum = in.nextInt();\r\n\r\n    binary(userNum);\r\n    System.out.print(&quot;\\n&quot;);\r\n  }\r\n\r\n  private static void binary(int userNum) {\r\n    int remainder;\r\n\r\n    while (userNum &lt;= 1) {\r\n      System.out.print(userNum);\r\n      return;\r\n    }\r\n\r\n    remainder = userNum % 2;\r\n    binary(userNum &gt;&gt; 1);\r\n    System.out.print(remainder);\r\n  }\r\n}\r\n```\r\nI tried incorporating a push stack to push the remainder into a stack that I can pull later, but couldn&#39;t quite get it to land.\r\n\r\n``` java\r\nprivate static void reverse(int userNum) {\r\n\r\n  String backwards;\r\n\r\n  while (userNum &gt;= 0) {\r\n    backwards.push(int userNum);\r\n    System.out.println(backwards);\r\n    return;\r\n  }\r\n}\r\n```\r\nIt is part of a class assignment which asks the following.\r\n\r\n&gt; Write a program that takes in a positive integer as input, and outputs a string of 1&#39;s and 0&#39;s representing the integer in binary. For an integer x, the algorithm is:\r\n\r\n    As long as x is greater than 0\r\n       Output x % 2 (remainder is either 0 or 1)\r\n       x = x / 2\r\n\r\nNote: The above algorithm outputs the 0&#39;s and 1&#39;s in reverse order.\r\n\r\nEx: If the input is:\r\n\r\n`6`\r\n\r\nthe output is:\r\n\r\n`011`\r\n\r\n`6` in binary is `110`; the algorithm outputs the bits in reverse.\r\n\r\n\r\nThese are the tests the program applies and my results.\r\n\r\nInput `6`\r\n\r\nYour output `binary is:110`\r\n\r\nExpected output `011`\r\n\r\n\r\nInput `19`\r\n\r\nYour output `10011`\r\n\r\nExpected output `11001`\r\n\r\n\r\nInput `255`\r\n\r\nYour output `11111111`\r\n\r\nExpected output `11111111`\r\n\r\nAny help or guidance in this, I would be greatly appreciative of it.","title":"Reversing an integer in binary representation","body":"<p>I tried to create a code to take in a whole number in Java and output it in binary. The problem would seem that the binary is printing out backward. For instance, <code>6</code> should output as <code>011</code> but comes out as <code>110</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LabProgram {\n  public static void main(String[] args) {\n\n    int userNum;\n\n    Scanner in =new Scanner(System. in );\n\n    userNum = in.nextInt();\n\n    binary(userNum);\n    System.out.print(&quot;\\n&quot;);\n  }\n\n  private static void binary(int userNum) {\n    int remainder;\n\n    while (userNum &lt;= 1) {\n      System.out.print(userNum);\n      return;\n    }\n\n    remainder = userNum % 2;\n    binary(userNum &gt;&gt; 1);\n    System.out.print(remainder);\n  }\n}\n</code></pre>\n<p>I tried incorporating a push stack to push the remainder into a stack that I can pull later, but couldn't quite get it to land.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void reverse(int userNum) {\n\n  String backwards;\n\n  while (userNum &gt;= 0) {\n    backwards.push(int userNum);\n    System.out.println(backwards);\n    return;\n  }\n}\n</code></pre>\n<p>It is part of a class assignment which asks the following.</p>\n<blockquote>\n<p>Write a program that takes in a positive integer as input, and outputs a string of 1's and 0's representing the integer in binary. For an integer x, the algorithm is:</p>\n</blockquote>\n<pre><code>As long as x is greater than 0\n   Output x % 2 (remainder is either 0 or 1)\n   x = x / 2\n</code></pre>\n<p>Note: The above algorithm outputs the 0's and 1's in reverse order.</p>\n<p>Ex: If the input is:</p>\n<p><code>6</code></p>\n<p>the output is:</p>\n<p><code>011</code></p>\n<p><code>6</code> in binary is <code>110</code>; the algorithm outputs the bits in reverse.</p>\n<p>These are the tests the program applies and my results.</p>\n<p>Input <code>6</code></p>\n<p>Your output <code>binary is:110</code></p>\n<p>Expected output <code>011</code></p>\n<p>Input <code>19</code></p>\n<p>Your output <code>10011</code></p>\n<p>Expected output <code>11001</code></p>\n<p>Input <code>255</code></p>\n<p>Your output <code>11111111</code></p>\n<p>Expected output <code>11111111</code></p>\n<p>Any help or guidance in this, I would be greatly appreciative of it.</p>\n"},{"tags":["java","generics","abstract-class"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675912383,"post_id":75393750,"comment_id":133031477,"body_markdown":"Just to confirm, those &quot;clients&quot; that you are talking about are using this through `ListClass`, and not through the interface of `GenericClass`, right? Because the clients cannot get different types of lists just from the signature `T getValue(T value);` with just one instance of `GenericClass`.","body":"Just to confirm, those &quot;clients&quot; that you are talking about are using this through <code>ListClass</code>, and not through the interface of <code>GenericClass</code>, right? Because the clients cannot get different types of lists just from the signature <code>T getValue(T value);</code> with just one instance of <code>GenericClass</code>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675912454,"post_id":75393750,"comment_id":133031488,"body_markdown":"You probably just cannot do this.  Sorry.","body":"You probably just cannot do this.  Sorry."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1675929451,"post_id":75393750,"comment_id":133034225,"body_markdown":"You could use `List&lt;?&gt;`, but that would limit the usefulness.","body":"You could use <code>List&lt;?&gt;</code>, but that would limit the usefulness."}],"owner":{"account_id":5873690,"reputation":603,"user_id":5948647,"display_name":"Robin Zimmerman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675929398,"creation_date":1675911531,"question_id":75393750,"body_markdown":"Let&#39;s say I have\r\n\r\n```java\r\npublic abstract class GenericClass&lt;T&gt; {\r\n  abstract T getValue(T value);\r\n}\r\n```\r\n\r\nI want to sub-class this with a class that works for any `List&lt;U&gt;`. Is it possible to implement this without having to do `@SuppressWarnings(&quot;rawtypes&quot;)` and `@SuppressWarnings(&quot;unchecked&quot;)`? For example, this works:\r\n\r\n```java\r\npublic class ListClass extends GenericClass&lt;List&gt; {\r\n  @Override\r\n  List getValue(List value) {\r\n    return value;\r\n  }\r\n}\r\n```\r\n\r\nbut I have to use `@SuppressWarnings(&quot;rawtypes&quot;)` to get ride of the compiler warnings. I want to avoid doing `ListClass&lt;U&gt; extends GenericClass&lt;List&lt;U&gt;&gt;` because my `ListClass` doesn&#39;t actually care what `U` is so client&#39;s shouldn&#39;t have to have separate instances for `ListClass&lt;Double&gt;` and `ListClass&lt;Integer&gt;` (for example).\r\n\r\nNote: my real code uses `CompletableFuture` and is obviously more complicated and I end up having to add ugly casts and `@SuppressWarnings(&quot;unchecked&quot;)` when I try to use the extension methods off of `CompletableFuture` such as `future.exceptionallyAsync((e) -&gt; handleException((Throwable) e))`.\r\n\r\nIdeally I would want something like this to work (but it doesn&#39;t recognize the method as a valid override):\r\n\r\n\r\n```java\r\npublic class ListClass extends GenericClass&lt;List&gt; {\r\n  @Override\r\n  &lt;U&gt; List&lt;U&gt; getValue(List&lt;U&gt; value) {\r\n    return value;\r\n  }\r\n}\r\n```","title":"How do I implement a generic class with a generic type parameter without specifying the value for the type","body":"<p>Let's say I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class GenericClass&lt;T&gt; {\n  abstract T getValue(T value);\n}\n</code></pre>\n<p>I want to sub-class this with a class that works for any <code>List&lt;U&gt;</code>. Is it possible to implement this without having to do <code>@SuppressWarnings(&quot;rawtypes&quot;)</code> and <code>@SuppressWarnings(&quot;unchecked&quot;)</code>? For example, this works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListClass extends GenericClass&lt;List&gt; {\n  @Override\n  List getValue(List value) {\n    return value;\n  }\n}\n</code></pre>\n<p>but I have to use <code>@SuppressWarnings(&quot;rawtypes&quot;)</code> to get ride of the compiler warnings. I want to avoid doing <code>ListClass&lt;U&gt; extends GenericClass&lt;List&lt;U&gt;&gt;</code> because my <code>ListClass</code> doesn't actually care what <code>U</code> is so client's shouldn't have to have separate instances for <code>ListClass&lt;Double&gt;</code> and <code>ListClass&lt;Integer&gt;</code> (for example).</p>\n<p>Note: my real code uses <code>CompletableFuture</code> and is obviously more complicated and I end up having to add ugly casts and <code>@SuppressWarnings(&quot;unchecked&quot;)</code> when I try to use the extension methods off of <code>CompletableFuture</code> such as <code>future.exceptionallyAsync((e) -&gt; handleException((Throwable) e))</code>.</p>\n<p>Ideally I would want something like this to work (but it doesn't recognize the method as a valid override):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListClass extends GenericClass&lt;List&gt; {\n  @Override\n  &lt;U&gt; List&lt;U&gt; getValue(List&lt;U&gt; value) {\n    return value;\n  }\n}\n</code></pre>\n"},{"tags":["java","java-8","timezone","datetime-parsing","datetime-conversion"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675920881,"post_id":75394554,"comment_id":133032601,"body_markdown":"Please stop immediately to use `SimpleDateFormat`. It’s a notorious troublemaker of a class and fortunately long outdated. You’ve got `DateTimeFormatter` from java.time, the modern Java date and time API, which you can pass to `LocalDateTime.parse)CharSequence, DateTimeFormatter)` and parse methods of other modern classes.","body":"Please stop immediately to use <code>SimpleDateFormat</code>. It’s a notorious troublemaker of a class and fortunately long outdated. You’ve got <code>DateTimeFormatter</code> from java.time, the modern Java date and time API, which you can pass to <code>LocalDateTime.parse)CharSequence, DateTimeFormatter)</code> and parse methods of other modern classes."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675922804,"post_id":75394554,"comment_id":133032901,"body_markdown":"If `dbTime` means that the date and time are coming from the SQL database, do not retrieve them as a `String` from there. Retrieve a `LocalDateTime` and save yourself from having to parse. See for example [my answer here](https://stackoverflow.com/a/54907501/5772882).","body":"If <code>dbTime</code> means that the date and time are coming from the SQL database, do not retrieve them as a <code>String</code> from there. Retrieve a <code>LocalDateTime</code> and save yourself from having to parse. See for example <a href=\"https://stackoverflow.com/a/54907501/5772882\">my answer here</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675925682,"post_id":75394554,"comment_id":133033404,"body_markdown":"For your future questions (whether on Stack Overflow or elsewhere) I recommend that you learn [how to create a minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). I believe that the parsing error you asked about could have been demonstrated in about three lines of code, so if you can, don’t post more than that.","body":"For your future questions (whether on Stack Overflow or elsewhere) I recommend that you learn <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">how to create a minimal reproducible example</a>. I believe that the parsing error you asked about could have been demonstrated in about three lines of code, so if you can, don’t post more than that."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675928617,"post_id":75394686,"comment_id":133034048,"body_markdown":"This is correct, as also stated in original question that I have linked to after you posted your answer.","body":"This is correct, as also stated in original question that I have linked to after you posted your answer."}],"tags":[],"owner":{"account_id":27741131,"reputation":11,"user_id":21177565,"display_name":"Avanika Agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675921666,"creation_date":1675921666,"answer_id":75394686,"question_id":75394554,"body_markdown":"use the &quot;HH:mm:ss&quot; format where &quot;H&quot; is 24hr format.\r\n&quot;h&quot; is 12hr format. should solve your problem","title":"Time Conversion in java from SGT to UTC not working for 12:35:42","body":"<p>use the &quot;HH:mm:ss&quot; format where &quot;H&quot; is 24hr format.\n&quot;h&quot; is 12hr format. should solve your problem</p>\n"}],"owner":{"account_id":7072552,"reputation":152,"user_id":5413688,"display_name":"Varun Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675922611,"answer_count":1,"score":-1,"last_activity_date":1675929315,"creation_date":1675920551,"question_id":75394554,"body_markdown":"Trying to convert Singapore Time to UTc and need the result in OffsetDateTime. The below code works for me for all scenerios except one for 12:35..... for 12:00 noon it is somehow giving wrong results. Should be giving 8th Feb 04:35 morning but instead giving 7th Feb 16:35 .\r\nwhat could be the way around it\r\n\r\nCode snippets as below\r\n\r\n```public OffsetDateTime parseToOffsetDateTime(String dbTime) {\r\n    if (dbTime == null) {\r\n        return null;\r\n    }\r\n    SimpleDateFormat dateTimeFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n    dateTimeFormatter.setTimeZone(TimeZone.getTimeZone(ZoneId.of(&quot;Asia/Singapore&quot;)));\r\n    Instant instant = null;\r\n    try {\r\n        dateTimeFormatter.parse(dbTime);\r\n        instant = dateTimeFormatter.parse(dbTime).toInstant();\r\n    } catch (ParseException e) {\r\n        LOGGER.warn(&quot;Could not parse ({}) to valid DateTime &quot;, dbTime, e);\r\n        return null;\r\n    }\r\n    OffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.UTC);\r\n    return offsetDateTime;\r\n}\r\n\r\n@Test\r\nvoid canConvertSGTToUTC() {\r\n    String sqlDate = &quot;2023-02-08 12:35:45.0&quot;;\r\n    var result = dateParser.parseToOffsetDateTime(sqlDate);\r\n    assertEquals( &quot;2023-02-08T04:35:45Z&quot;, result.toString());\r\n}\r\n\r\n```\r\n\r\nSGT or Asia/Singapore is local system time from the servers.","title":"Time Conversion in java from SGT to UTC not working for 12:35:42","body":"<p>Trying to convert Singapore Time to UTc and need the result in OffsetDateTime. The below code works for me for all scenerios except one for 12:35..... for 12:00 noon it is somehow giving wrong results. Should be giving 8th Feb 04:35 morning but instead giving 7th Feb 16:35 .\nwhat could be the way around it</p>\n<p>Code snippets as below</p>\n<pre><code>    if (dbTime == null) {\n        return null;\n    }\n    SimpleDateFormat dateTimeFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\n    dateTimeFormatter.setTimeZone(TimeZone.getTimeZone(ZoneId.of(&quot;Asia/Singapore&quot;)));\n    Instant instant = null;\n    try {\n        dateTimeFormatter.parse(dbTime);\n        instant = dateTimeFormatter.parse(dbTime).toInstant();\n    } catch (ParseException e) {\n        LOGGER.warn(&quot;Could not parse ({}) to valid DateTime &quot;, dbTime, e);\n        return null;\n    }\n    OffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.UTC);\n    return offsetDateTime;\n}\n\n@Test\nvoid canConvertSGTToUTC() {\n    String sqlDate = &quot;2023-02-08 12:35:45.0&quot;;\n    var result = dateParser.parseToOffsetDateTime(sqlDate);\n    assertEquals( &quot;2023-02-08T04:35:45Z&quot;, result.toString());\n}\n\n</code></pre>\n<p>SGT or Asia/Singapore is local system time from the servers.</p>\n"},{"tags":["java","string","algorithm","recursion"],"comments":[{"owner":{"account_id":1771265,"reputation":73,"user_id":1615965,"display_name":"user1615965"},"score":1,"creation_date":1361244851,"post_id":14949372,"comment_id":20983379,"body_markdown":"What do you mean when you say balanced?","body":"What do you mean when you say balanced?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1361244941,"post_id":14949372,"comment_id":20983404,"body_markdown":"@user1615965 by looking at the algorithm, the `String` must be balanced with `(`, `[` and `{` i.e. *(4 + [ 5 * { 6 - 1 } ] )*","body":"@user1615965 by looking at the algorithm, the <code>String</code> must be balanced with <code>(</code>, <code>[</code> and <code>{</code> i.e. <i>(4 + [ 5 * { 6 - 1 } ] )</i>"},{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":1,"creation_date":1361245207,"post_id":14949372,"comment_id":20983481,"body_markdown":"@djechlin When did I say I wanted anyone to code it for me? Thanks for pointing out the obvious that I am learning, I hope you feel better about yourself for trolling a noobie.","body":"@djechlin When did I say I wanted anyone to code it for me? Thanks for pointing out the obvious that I am learning, I hope you feel better about yourself for trolling a noobie."},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":0,"creation_date":1361245358,"post_id":14949372,"comment_id":20983521,"body_markdown":"@katrina it&#39;s your responsibility to ask a precise question.  &quot;how do I do it&quot; is not acceptable and is asking us to do it for you.  This is not trolling; these are the standards anyone who posts on SO are expected to follow and they can take some time to learn.","body":"@katrina it&#39;s your responsibility to ask a precise question.  &quot;how do I do it&quot; is not acceptable and is asking us to do it for you.  This is not trolling; these are the standards anyone who posts on SO are expected to follow and they can take some time to learn."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1361245362,"post_id":14949372,"comment_id":20983522,"body_markdown":"You return true, but not false.  Odd.","body":"You return true, but not false.  Odd."}],"answers":[{"comments":[{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":0,"creation_date":1361245744,"post_id":14949496,"comment_id":20983618,"body_markdown":"I agree, the recursion would create a stack for me. What do you mean by &quot;consume it&quot;? Would I return something like s.substring(1) at the end of the function, that way it will be &quot;consumed&quot; until it is empty?","body":"I agree, the recursion would create a stack for me. What do you mean by &quot;consume it&quot;? Would I return something like s.substring(1) at the end of the function, that way it will be &quot;consumed&quot; until it is empty?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1361245954,"post_id":14949496,"comment_id":20983670,"body_markdown":"You can do it like that, but I would prefer to use a `char[]`.","body":"You can do it like that, but I would prefer to use a <code>char[]</code>."},{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":0,"creation_date":1361246336,"post_id":14949496,"comment_id":20983764,"body_markdown":"This is where I am most lost: Once I find a &#39;(&#39; for example, I would recursively call and pass a char match to compare? I keep trying not to pass that extra parameter, it feels weird.","body":"This is where I am most lost: Once I find a &#39;(&#39; for example, I would recursively call and pass a char match to compare? I keep trying not to pass that extra parameter, it feels weird."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1361246411,"post_id":14949496,"comment_id":20983782,"body_markdown":"Right.  You&#39;d need to send along the specific brace you&#39;re matching against.","body":"Right.  You&#39;d need to send along the specific brace you&#39;re matching against."}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361245623,"creation_date":1361245623,"answer_id":14949496,"question_id":14949372,"body_markdown":"The idea to doing it with recursion is the same principle with using a stack.  The *call stack* is your LIFO structure, and you make calls in concordance with that.\r\n\r\nTake a simple balanced String:\r\n\r\n    String bal = &quot;(This is (perfectly) balanced.)&quot;;\r\n\r\nFirst things first - let&#39;s establish our conditions.\r\n\r\n  - We don&#39;t care about anything that isn&#39;t a paren, brace, or bracket. We can disregard any character that isn&#39;t one of those three.\r\n  - If we encounter a paren, brace, or bracket, we immediately recurse and search for its match on the rest of the string.  That is, if I were starting with `bal`, I&#39;d recurse on `bal.substring(1)`.\r\n\r\nI wouldn&#39;t use a loop, since you&#39;re still traversing the entire String.  I would rather consume it instead, to reduce the amount of characters I&#39;d have to backtrack on.\r\n\r\n","title":"Check if a String is balanced","body":"<p>The idea to doing it with recursion is the same principle with using a stack.  The <em>call stack</em> is your LIFO structure, and you make calls in concordance with that.</p>\n\n<p>Take a simple balanced String:</p>\n\n<pre><code>String bal = \"(This is (perfectly) balanced.)\";\n</code></pre>\n\n<p>First things first - let's establish our conditions.</p>\n\n<ul>\n<li>We don't care about anything that isn't a paren, brace, or bracket. We can disregard any character that isn't one of those three.</li>\n<li>If we encounter a paren, brace, or bracket, we immediately recurse and search for its match on the rest of the string.  That is, if I were starting with <code>bal</code>, I'd recurse on <code>bal.substring(1)</code>.</li>\n</ul>\n\n<p>I wouldn't use a loop, since you're still traversing the entire String.  I would rather consume it instead, to reduce the amount of characters I'd have to backtrack on.</p>\n"},{"comments":[{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":0,"creation_date":1361250069,"post_id":14949594,"comment_id":20984652,"body_markdown":"Your&#39;s returns True for System.out.println(isBalanced(&quot;[{()]&quot;, 0, &#39;\\0&#39;));","body":"Your&#39;s returns True for System.out.println(isBalanced(&quot;[{()]&quot;, 0, &#39;\\0&#39;));"},{"owner":{"account_id":458804,"reputation":2122,"user_id":858926,"accept_rate":100,"display_name":"Shivam"},"score":0,"creation_date":1361251105,"post_id":14949594,"comment_id":20984897,"body_markdown":"@katrina Indeed. My logic was little off. I corrected it please look for new solution.","body":"@katrina Indeed. My logic was little off. I corrected it please look for new solution."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1361251396,"post_id":14949594,"comment_id":20984981,"body_markdown":"I think your code should be correct now. However, your code is not going to work for long String (around a few thousand of characters). (It would also be cleaner with switch/case instead of if)","body":"I think your code should be correct now. However, your code is not going to work for long String (around a few thousand of characters). (It would also be cleaner with switch/case instead of if)"},{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":0,"creation_date":1361251479,"post_id":14949594,"comment_id":20985001,"body_markdown":"I&#39;m trying to avoid a stack though.","body":"I&#39;m trying to avoid a stack though."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1361251502,"post_id":14949594,"comment_id":20985006,"body_markdown":"@katrina: You need a stack for bracket balance (in general case).","body":"@katrina: You need a stack for bracket balance (in general case)."},{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":0,"creation_date":1361251638,"post_id":14949594,"comment_id":20985045,"body_markdown":"@nhahtdh Yes, but everytime we have recursion we are creating a stack. So having a stack in the parameters does not make too much sense, at least to me.","body":"@nhahtdh Yes, but everytime we have recursion we are creating a stack. So having a stack in the parameters does not make too much sense, at least to me."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1361252491,"post_id":14949594,"comment_id":20985317,"body_markdown":"@katrina: rob mayoff&#39;s answer shows how it can be done *recursively* without creating a `Stack` container. His method is quite general, therefore a bit overkill for this simple task. It can be done iteratively with a `Stack` container object.","body":"@katrina: rob mayoff&#39;s answer shows how it can be done <i>recursively</i> without creating a <code>Stack</code> container. His method is quite general, therefore a bit overkill for this simple task. It can be done iteratively with a <code>Stack</code> container object."},{"owner":{"account_id":458804,"reputation":2122,"user_id":858926,"accept_rate":100,"display_name":"Shivam"},"score":0,"creation_date":1361254025,"post_id":14949594,"comment_id":20985733,"body_markdown":"@katrina Take a look at non stacked version. If it return positive integer then `true` else `false`","body":"@katrina Take a look at non stacked version. If it return positive integer then <code>true</code> else <code>false</code>"},{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":0,"creation_date":1361263473,"post_id":14949594,"comment_id":20989223,"body_markdown":"@Shivam Kalra the non stacked version returns false for &quot;()&quot;","body":"@Shivam Kalra the non stacked version returns false for &quot;()&quot;"},{"owner":{"account_id":458804,"reputation":2122,"user_id":858926,"accept_rate":100,"display_name":"Shivam"},"score":0,"creation_date":1361263848,"post_id":14949594,"comment_id":20989369,"body_markdown":"@katrina last line of code `match != &#39;0&#39; ? -1 : j;` replace it with `match != &#39;\\0&#39; ? -1 : j;`. It was a typo.","body":"@katrina last line of code <code>match != &#39;0&#39; ? -1 : j;</code> replace it with <code>match != &#39;\\0&#39; ? -1 : j;</code>. It was a typo."}],"tags":[],"owner":{"account_id":458804,"reputation":2122,"user_id":858926,"accept_rate":100,"display_name":"Shivam"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1361263869,"creation_date":1361246267,"answer_id":14949594,"question_id":14949372,"body_markdown":"Here is the algorithm, I just tried and it works. Idea is that on every opening bracket you expect the closing one of the same type. The function above needs to be called like this `isBalanced(&quot;([2+3])&quot;, 0, new Stack&lt;Character&gt;())`. The expecting characters are maintained using `stack`.\r\n\r\n\tpublic static boolean isBalanced(String s, int i, Stack&lt;Character&gt; expected) {\r\n\t    /* end has reached and not expecting anything then break */\r\n\t    if (i == s.length())\r\n\t        return expected.isEmpty();\r\n\r\n\t    char c = s.charAt(i);\r\n\t    /* expecting something and it is a closing type */\r\n\t    /* then it should match expecting type */\r\n\t    if (c == &#39;}&#39; || c == &#39;)&#39; || c == &#39;]&#39;) {\r\n\t    \tchar e = expected.isEmpty() ? &#39;\\0&#39; : expected.pop();\r\n\t    \tif(e != c)\r\n\t    \t\treturn false;\r\n\t    }\r\n\r\n\t    if(c == &#39;{&#39;) \r\n            expected.push(&#39;}&#39;);\r\n        else if(c == &#39;[&#39;)\r\n        \texpected.push(&#39;]&#39;);\r\n        else if(c == &#39;(&#39;)\r\n        \texpected.push(&#39;)&#39;);\r\n\r\n\t    /* call recursively with i + 1 */ \r\n\t    return isBalanced(s, i + 1, expected);\r\n\r\n\t}\r\n\r\nHere is non-stack version of code:\r\nCall is like this `isBalanced2(&quot;{[]}[()]&quot;, 0, &#39;\\0&#39;) &lt; 0 ? false : true`.\r\n\r\n    public static int isBalanced2(String s, int i, char match)\r\n\t{\r\n\t    if(i &gt;= s.length())\r\n\t        return match == &#39;\\0&#39; ? 0 : -1;\r\n\t    \r\n\t    char c;\r\n\t    int j;\r\n\t    for(j = i; j &lt; s.length(); j++)\r\n\t    {\r\n\t        c = s.charAt(j); \r\n\t        /* any of the closing type */\r\n\t        if(c == &#39;]&#39; || c == &#39;}&#39; || c == &#39;)&#39;) {\r\n\t        \treturn c == match ? j : -1;\r\n\t        }\r\n\t        \r\n\t        if(c == &#39;{&#39;) \r\n\t            j = isBalanced2(s, j + 1, &#39;}&#39;);\r\n\r\n\t        else if(c == &#39;[&#39;)\r\n\t            j = isBalanced2(s, j + 1, &#39;]&#39;);\r\n\r\n\t        else if(c == &#39;(&#39;)\r\n\t            j = isBalanced2(s, j + 1, &#39;)&#39;);\r\n\t        \r\n\t        if(j == -1)\r\n\t        \tbreak;\r\n\t    }\r\n\t    \r\n\t    return match != &#39;\\0&#39; ? -1 : j;\r\n\t}","title":"Check if a String is balanced","body":"<p>Here is the algorithm, I just tried and it works. Idea is that on every opening bracket you expect the closing one of the same type. The function above needs to be called like this <code>isBalanced(\"([2+3])\", 0, new Stack&lt;Character&gt;())</code>. The expecting characters are maintained using <code>stack</code>.</p>\n\n<pre><code>public static boolean isBalanced(String s, int i, Stack&lt;Character&gt; expected) {\n    /* end has reached and not expecting anything then break */\n    if (i == s.length())\n        return expected.isEmpty();\n\n    char c = s.charAt(i);\n    /* expecting something and it is a closing type */\n    /* then it should match expecting type */\n    if (c == '}' || c == ')' || c == ']') {\n        char e = expected.isEmpty() ? '\\0' : expected.pop();\n        if(e != c)\n            return false;\n    }\n\n    if(c == '{') \n        expected.push('}');\n    else if(c == '[')\n        expected.push(']');\n    else if(c == '(')\n        expected.push(')');\n\n    /* call recursively with i + 1 */ \n    return isBalanced(s, i + 1, expected);\n\n}\n</code></pre>\n\n<p>Here is non-stack version of code:\nCall is like this <code>isBalanced2(\"{[]}[()]\", 0, '\\0') &lt; 0 ? false : true</code>.</p>\n\n<pre><code>public static int isBalanced2(String s, int i, char match)\n{\n    if(i &gt;= s.length())\n        return match == '\\0' ? 0 : -1;\n\n    char c;\n    int j;\n    for(j = i; j &lt; s.length(); j++)\n    {\n        c = s.charAt(j); \n        /* any of the closing type */\n        if(c == ']' || c == '}' || c == ')') {\n            return c == match ? j : -1;\n        }\n\n        if(c == '{') \n            j = isBalanced2(s, j + 1, '}');\n\n        else if(c == '[')\n            j = isBalanced2(s, j + 1, ']');\n\n        else if(c == '(')\n            j = isBalanced2(s, j + 1, ')');\n\n        if(j == -1)\n            break;\n    }\n\n    return match != '\\0' ? -1 : j;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28897,"reputation":378139,"user_id":77567,"display_name":"rob mayoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361248965,"creation_date":1361248965,"answer_id":14949989,"question_id":14949372,"body_markdown":"Let&#39;s approach this formally, to increase the probability that we come up with a working solution without lots of debugging.\r\n\r\nWhat&#39;s a balanced string?  Here&#39;s a simple grammar:\r\n\r\n    BalancedString: Sequence end-of-string;\r\n\r\n    Sequence:\r\n        Fragment Sequence |\r\n        (* empty *);\r\n    \r\n    Fragment:\r\n        &#39;(&#39; Sequence &#39;)&#39; |\r\n        &#39;[&#39; Sequence &#39;]&#39; |\r\n        &#39;{&#39; Sequence &#39;}&#39; |\r\n        any-character-not-in-&#39;()[]{}&#39;;\r\n\r\nNote that this grammar produces strings like `(hello)[[good]{bye}]` that have more than one &quot;top-level&quot; group.\r\n\r\nNow let&#39;s turn that into a recursive-descent parser.  Each nonterminal (`BalancedString`, `Sequence`, and `Fragment`) becomes a function.  We&#39;ll start with the function that parses the &#39;BalancedString&#39; non-terminal:\r\n\r\n    private static bool parseBalancedString(String input, int offset) {\r\n        offset = parseSequence(input, offset);\r\n        return offset == input.length();\r\n    }\r\n\r\nNotice that this function expects `parseSequence` to return the offset at which it stopped parsing.  Let&#39;s write `parseSequence` next.  We&#39;ll use a loop instead of making it directly recursive.\r\n\r\n    private static int parseSequence(String input, int offset) {\r\n        bool parseSucceeded = true;\r\n        while (parseSucceeded) {\r\n            int newOffset = parseFragment(input, offset);\r\n            parseSucceeded = newOffset &gt; offset;\r\n            newOffset = offset;\r\n        }\r\n        return offset;\r\n    }\r\n\r\nNotice that `parseSequence` expects `parseFragment` to return the offset at which it stopped parsing, and it should return the offset it was passed if it fails.  Now we&#39;ll write `parseFragment`.  We&#39;ll extract the common code from its three similar productions into a helper function.\r\n\r\n    private static int parseFragment(String input, int offset) {\r\n        if (offset &gt;= input.length()) {\r\n            return offset;\r\n        }\r\n\r\n        switch (input.charAt(offset)) {\r\n            case &#39;(&#39;: return helpParseFragment(input, offset, &#39;)&#39;);\r\n            case &#39;[&#39;: return helpParseFragment(input, offset, &#39;]&#39;);\r\n            case &#39;{&#39;: return helpParseFragment(input, offset, &#39;}&#39;);\r\n            default: return offset + 1;\r\n        }\r\n    }\r\n\r\nThe helper function expects to receive the offset of the opener, so that it can return that offset if it fails.  If it succeeds, it returns the offset just past the closer.\r\n\r\n    private static int helpParseFragment(String input, int offset, char closer) {\r\n        int newOffset = parseSequence(input, offset + 1);\r\n        if (newOffset &gt; offset &amp;&amp; newOffset &lt; input.length() &amp;&amp; input.charAt(newOffset) == closer) {\r\n            return newOffset + 1;\r\n        } else {\r\n            return offset;\r\n        }\r\n    }\r\n","title":"Check if a String is balanced","body":"<p>Let's approach this formally, to increase the probability that we come up with a working solution without lots of debugging.</p>\n\n<p>What's a balanced string?  Here's a simple grammar:</p>\n\n<pre><code>BalancedString: Sequence end-of-string;\n\nSequence:\n    Fragment Sequence |\n    (* empty *);\n\nFragment:\n    '(' Sequence ')' |\n    '[' Sequence ']' |\n    '{' Sequence '}' |\n    any-character-not-in-'()[]{}';\n</code></pre>\n\n<p>Note that this grammar produces strings like <code>(hello)[[good]{bye}]</code> that have more than one \"top-level\" group.</p>\n\n<p>Now let's turn that into a recursive-descent parser.  Each nonterminal (<code>BalancedString</code>, <code>Sequence</code>, and <code>Fragment</code>) becomes a function.  We'll start with the function that parses the 'BalancedString' non-terminal:</p>\n\n<pre><code>private static bool parseBalancedString(String input, int offset) {\n    offset = parseSequence(input, offset);\n    return offset == input.length();\n}\n</code></pre>\n\n<p>Notice that this function expects <code>parseSequence</code> to return the offset at which it stopped parsing.  Let's write <code>parseSequence</code> next.  We'll use a loop instead of making it directly recursive.</p>\n\n<pre><code>private static int parseSequence(String input, int offset) {\n    bool parseSucceeded = true;\n    while (parseSucceeded) {\n        int newOffset = parseFragment(input, offset);\n        parseSucceeded = newOffset &gt; offset;\n        newOffset = offset;\n    }\n    return offset;\n}\n</code></pre>\n\n<p>Notice that <code>parseSequence</code> expects <code>parseFragment</code> to return the offset at which it stopped parsing, and it should return the offset it was passed if it fails.  Now we'll write <code>parseFragment</code>.  We'll extract the common code from its three similar productions into a helper function.</p>\n\n<pre><code>private static int parseFragment(String input, int offset) {\n    if (offset &gt;= input.length()) {\n        return offset;\n    }\n\n    switch (input.charAt(offset)) {\n        case '(': return helpParseFragment(input, offset, ')');\n        case '[': return helpParseFragment(input, offset, ']');\n        case '{': return helpParseFragment(input, offset, '}');\n        default: return offset + 1;\n    }\n}\n</code></pre>\n\n<p>The helper function expects to receive the offset of the opener, so that it can return that offset if it fails.  If it succeeds, it returns the offset just past the closer.</p>\n\n<pre><code>private static int helpParseFragment(String input, int offset, char closer) {\n    int newOffset = parseSequence(input, offset + 1);\n    if (newOffset &gt; offset &amp;&amp; newOffset &lt; input.length() &amp;&amp; input.charAt(newOffset) == closer) {\n        return newOffset + 1;\n    } else {\n        return offset;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2097364,"reputation":2839,"user_id":1865826,"display_name":"Толя"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361262240,"creation_date":1361262240,"answer_id":14952903,"question_id":14949372,"body_markdown":"Direct cycle is fastes solution here:\r\n\r\n    private static boolean isBalanced(String s)\r\n    {\r\n        char[] chars = new char[s.length()];\r\n        int size = 0;\r\n        for (int i = 0; i &lt; s.length(); i++)\r\n        {\r\n            char c = s.charAt(i);\r\n            if (c == &#39;{&#39; || c == &#39;(&#39; || c == &#39;[&#39;) chars[size++] = c;\r\n            if (c == &#39;}&#39; &amp;&amp; (size == 0 || chars[--size] != &#39;{&#39;)) return false;\r\n            if (c == &#39;)&#39; &amp;&amp; (size == 0 || chars[--size] != &#39;(&#39;)) return false;\r\n            if (c == &#39;]&#39; &amp;&amp; (size == 0 || chars[--size] != &#39;[&#39;)) return false;\r\n        }\r\n    \r\n        return true;\r\n    }\r\n\r\nComplexity of algo is **O(N)** without substrings and etc.","title":"Check if a String is balanced","body":"<p>Direct cycle is fastes solution here:</p>\n\n<pre><code>private static boolean isBalanced(String s)\n{\n    char[] chars = new char[s.length()];\n    int size = 0;\n    for (int i = 0; i &lt; s.length(); i++)\n    {\n        char c = s.charAt(i);\n        if (c == '{' || c == '(' || c == '[') chars[size++] = c;\n        if (c == '}' &amp;&amp; (size == 0 || chars[--size] != '{')) return false;\n        if (c == ')' &amp;&amp; (size == 0 || chars[--size] != '(')) return false;\n        if (c == ']' &amp;&amp; (size == 0 || chars[--size] != '[')) return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Complexity of algo is <strong>O(N)</strong> without substrings and etc.</p>\n"},{"comments":[{"owner":{"account_id":3833501,"reputation":2423,"user_id":3178454,"display_name":"ddb"},"score":0,"creation_date":1470225563,"post_id":38742517,"comment_id":64859628,"body_markdown":"[provide answers that don&#39;t require clarification from the asker](http://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead)","body":"<a href=\"http://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>"}],"tags":[],"owner":{"account_id":1676053,"reputation":177,"user_id":1541612,"display_name":"Rajat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470224326,"creation_date":1470224326,"answer_id":38742517,"question_id":14949372,"body_markdown":"    import java.util.*;\r\n    class Solution{\r\n       \r\n       public static void main(String []argh)\r\n       {\r\n          Scanner sc = new Scanner(System.in);\r\n        \r\n          \r\n          while (sc.hasNext()) \r\n          {\r\n             String input=sc.next();\r\n             Stack&lt;Character&gt; stacky = new Stack&lt;&gt;();\r\n              int x=0,y=0,z=0,a=0,b=0,c=0;\r\n             for (int i = 0; i &lt; input.length(); i++) \r\n             {\r\n               \r\n                    switch(input.charAt(i)) \r\n                    {\r\n                        case &#39;[&#39; : a++; break;\r\n                        case &#39;{&#39; : b++;break;\r\n                   \r\n                         case &#39;(&#39; : c++;\r\n                        break;\r\n                        \r\n                        case &#39;]&#39; :x++; break;\r\n                        case &#39;}&#39; : y++; break;\r\n                   \r\n                         case &#39;)&#39; :\r\n                                z++;\r\n                        break;\r\n                        \r\n                    \r\n                        \r\n                    default: stacky.push(input.charAt(i));\r\n              }\r\n          \r\n              \r\n                //Complete the code\r\n                 \r\n                if(x==a &amp;&amp; y==b &amp;&amp; z==c)\r\n                    {\r\n                    \r\n                    System.out.println(&quot;true&quot;);\r\n                    \r\n                     }\r\n                 else\r\n                     {\r\n                     System.out.println(&quot;false&quot;);\r\n                 }\r\n              \r\n    \r\n              \r\n              \r\n          }\r\n          \r\n       }\r\n       }}\r\n\r\nhttp://www.geekpandit.com/2016/07/25/simple-balanced-parenthesis-problem-stack-implementation/.\r\n\r\n\r\n","title":"Check if a String is balanced","body":"<pre><code>import java.util.*;\nclass Solution{\n\n   public static void main(String []argh)\n   {\n      Scanner sc = new Scanner(System.in);\n\n\n      while (sc.hasNext()) \n      {\n         String input=sc.next();\n         Stack&lt;Character&gt; stacky = new Stack&lt;&gt;();\n          int x=0,y=0,z=0,a=0,b=0,c=0;\n         for (int i = 0; i &lt; input.length(); i++) \n         {\n\n                switch(input.charAt(i)) \n                {\n                    case '[' : a++; break;\n                    case '{' : b++;break;\n\n                     case '(' : c++;\n                    break;\n\n                    case ']' :x++; break;\n                    case '}' : y++; break;\n\n                     case ')' :\n                            z++;\n                    break;\n\n\n\n                default: stacky.push(input.charAt(i));\n          }\n\n\n            //Complete the code\n\n            if(x==a &amp;&amp; y==b &amp;&amp; z==c)\n                {\n\n                System.out.println(\"true\");\n\n                 }\n             else\n                 {\n                 System.out.println(\"false\");\n             }\n\n\n\n\n      }\n\n   }\n   }}\n</code></pre>\n\n<p><a href=\"http://www.geekpandit.com/2016/07/25/simple-balanced-parenthesis-problem-stack-implementation/\" rel=\"nofollow\">http://www.geekpandit.com/2016/07/25/simple-balanced-parenthesis-problem-stack-implementation/</a>.</p>\n"}],"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9164,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":14949594,"answer_count":5,"score":1,"last_activity_date":1675929216,"creation_date":1361244739,"question_id":14949372,"body_markdown":"I want to check if a string is balanced with recursion. I found some other posts on the forum related to this question, some answers are in programming languages that I don&#39;t understand. I can do it with a stack after reading similar questions here on Stack Overflow, how do I do it recursively?\r\n\r\n    private static boolean isBalanced(String s, char match)\r\n\t{\r\n\t\tchar c;\r\n\t\t\r\n\t\tif(s.isEmpty())\r\n\t\t\treturn true;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; s.length(); i++)\r\n\t\t{\r\n\t\t\tc = s.charAt(i); \r\n\r\n\t\t\tif(c == &#39;{&#39;) \r\n\t\t\t\treturn isBalanced(s.substring(i+1), &#39;}&#39;);\r\n\t\t\t\t\r\n\t\t\telse if(c == &#39;[&#39;)\r\n\t\t\t\treturn isBalanced(s.substring(i+1), &#39;]&#39;);\r\n\t\t\t\t\r\n\t\t\telse if(c == &#39;(&#39;)\r\n\t\t\t\treturn isBalanced(s.substring(i+1), &#39;)&#39;);\r\n\t\t\t\r\n\t\t\t// Closing matches.\r\n\t\t\telse if(c == match)\r\n\t\t\t\treturn true;\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn \r\n\t}\r\n\r\nBalanced is {}()[] and any combination of that such as [()]\r\n\r\nI don&#39;t want anyone to code it for me, in fact, I would appreciate knowing how to do it instead. That is why I didn&#39;t understand the answers in other languages because they are too specific to that language instead of an algorithm.\r\n\r\n","title":"Check if a String is balanced","body":"<p>I want to check if a string is balanced with recursion. I found some other posts on the forum related to this question, some answers are in programming languages that I don't understand. I can do it with a stack after reading similar questions here on Stack Overflow, how do I do it recursively?</p>\n<pre><code>private static boolean isBalanced(String s, char match)\n{\n    char c;\n    \n    if(s.isEmpty())\n        return true;\n    \n    for(int i = 0; i &lt; s.length(); i++)\n    {\n        c = s.charAt(i); \n\n        if(c == '{') \n            return isBalanced(s.substring(i+1), '}');\n            \n        else if(c == '[')\n            return isBalanced(s.substring(i+1), ']');\n            \n        else if(c == '(')\n            return isBalanced(s.substring(i+1), ')');\n        \n        // Closing matches.\n        else if(c == match)\n            return true;\n            \n    }\n    \n    return \n}\n</code></pre>\n<p>Balanced is {}()[] and any combination of that such as [()]</p>\n<p>I don't want anyone to code it for me, in fact, I would appreciate knowing how to do it instead. That is why I didn't understand the answers in other languages because they are too specific to that language instead of an algorithm.</p>\n"},{"tags":["java","encryption","jakarta-mail","postfix-mta","starttls"],"answers":[{"comments":[{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":0,"creation_date":1623235790,"post_id":67901142,"comment_id":120019716,"body_markdown":"Thanks. I have edit my question and add more detailed information","body":"Thanks. I have edit my question and add more detailed information"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1623304001,"post_id":67901142,"comment_id":120041746,"body_markdown":"Steffen: (1) as I feared, JSSE tracing didn&#39;t help (2) you checked 3 sysprops but not the other 2 (3) on checking I am reminded SSLSocketFactory doesn&#39;t have its own default, so we don&#39;t need to check that, but SSLContext does, so do check that -- see edit (4) _Java_ doesn&#39;t use openssl, but when you did `openssl s_client` on the client machine you used OpenSSL 1.0.2, that&#39;s what I was explaining about","body":"Steffen: (1) as I feared, JSSE tracing didn&#39;t help (2) you checked 3 sysprops but not the other 2 (3) on checking I am reminded SSLSocketFactory doesn&#39;t have its own default, so we don&#39;t need to check that, but SSLContext does, so do check that -- see edit (4) <i>Java</i> doesn&#39;t use openssl, but when you did <code>openssl s_client</code> on the client machine you used OpenSSL 1.0.2, that&#39;s what I was explaining about"},{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":0,"creation_date":1623310557,"post_id":67901142,"comment_id":120044059,"body_markdown":"So as not to let my question get too long I have only update my EDIT section (instead adding a new EDIT section). To (4): Yes, you are right. The &quot;TLSv1/SSLv3&quot; output is comming while I call openssl from command line (which have nothing todo with java) :-)","body":"So as not to let my question get too long I have only update my EDIT section (instead adding a new EDIT section). To (4): Yes, you are right. The &quot;TLSv1/SSLv3&quot; output is comming while I call openssl from command line (which have nothing todo with java) :-)"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1623486641,"post_id":67901142,"comment_id":120096767,"body_markdown":"Okay, I am now baffled -- with sysprops not set and those JSSE defaults AFAICS it should work. I don&#39;t currently have an environment that can debug this; I will set one up, but it may take a while. In case it matters, please identify the version of javamail you are using.","body":"Okay, I am now baffled -- with sysprops not set and those JSSE defaults AFAICS it should work. I don&#39;t currently have an environment that can debug this; I will set one up, but it may take a while. In case it matters, please identify the version of javamail you are using."},{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":0,"creation_date":1623586057,"post_id":67901142,"comment_id":120115919,"body_markdown":"I have another idea which can be the problem. May be anything was changing with the letsencrypt certificate of the mail server. I will retry to add the root certificates of letsencrypt into a truststore and check it again. But I&#39;m also not sure if I can do this in the next few days (because of some time troubles in a private and on other side an other business project ...): However, if in Java some fails with SSL encryption I would wish more error details. Currently it&#39;s like the error message &quot;Anything is wrong&quot; ... :-(","body":"I have another idea which can be the problem. May be anything was changing with the letsencrypt certificate of the mail server. I will retry to add the root certificates of letsencrypt into a truststore and check it again. But I&#39;m also not sure if I can do this in the next few days (because of some time troubles in a private and on other side an other business project ...): However, if in Java some fails with SSL encryption I would wish more error details. Currently it&#39;s like the error message &quot;Anything is wrong&quot; ... :-("},{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":0,"creation_date":1623602711,"post_id":67901142,"comment_id":120120320,"body_markdown":"I took the time too look into this stuff again. At first: The certificate should be not the problem. I have import the certificate of the mail server into a truststore, but the error is still there. Another idea you gave me is to update JavaMail. Past JavaMail version was 1.4.7 and I updated now to 1.6.2. The problem is still there, BUT I get a lot of more informations on stderr. I have updated my EDIT section. But please note, that I had to cut some Information with &quot;...&quot;  so as not to exceed the limit of 30000 characters for stackoverflow posts ... I tell you my thanks for your efforts!","body":"I took the time too look into this stuff again. At first: The certificate should be not the problem. I have import the certificate of the mail server into a truststore, but the error is still there. Another idea you gave me is to update JavaMail. Past JavaMail version was 1.4.7 and I updated now to 1.6.2. The problem is still there, BUT I get a lot of more informations on stderr. I have updated my EDIT section. But please note, that I had to cut some Information with &quot;...&quot;  so as not to exceed the limit of 30000 characters for stackoverflow posts ... I tell you my thanks for your efforts!"},{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":0,"creation_date":1623649210,"post_id":67901142,"comment_id":120128761,"body_markdown":"IT WORKS! Seems that the update from JavaMail 1.4.7 to 1.6.2 was the solution. The messages I see was only debug messages ond no error messages. The E-Mail was successfully sent, but received in my SPAM folder, so I haven&#39;t see the mail. Many thanks to you! You point me on the right way :-)","body":"IT WORKS! Seems that the update from JavaMail 1.4.7 to 1.6.2 was the solution. The messages I see was only debug messages ond no error messages. The E-Mail was successfully sent, but received in my SPAM folder, so I haven&#39;t see the mail. Many thanks to you! You point me on the right way :-)"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1623745732,"post_id":67901142,"comment_id":120159051,"body_markdown":"I could have told you it wasn&#39;t the cert/truststore -- as I said the exception occurs before sending ClientHello, thus before receiving and validating the server cert. But on checking the older repository yes this _was_ a change in 1.5.3. See edit2.","body":"I could have told you it wasn&#39;t the cert/truststore -- as I said the exception occurs before sending ClientHello, thus before receiving and validating the server cert. But on checking the older repository yes this <i>was</i> a change in 1.5.3. See edit2."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1660938870,"post_id":67901142,"comment_id":129660461,"body_markdown":"Please don&#39;t use &quot;edit&quot; and strike out (that is what the revision history is for). The answer should be as if it written today.","body":"Please don&#39;t use &quot;edit&quot; and strike out (that is what the revision history is for). The answer should be as if it written today."}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":9,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660938801,"creation_date":1623230238,"answer_id":67901142,"question_id":67899129,"body_markdown":"&gt; Here I&#39;m wondering about the line [in s_client]  \r\n&gt; New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\n\r\nYou&#39;re apparently using OpenSSL 1.0.2, where that&#39;s a basically useless relic. Back in the days when OpenSSL supported SSLv2 (mostly until 2010, although almost no one used it much after 2000), the ciphersuite values used for SSLv3 and up (including all TLS, but before 2014 OpenSSL didn&#39;t implement higher than [TLS 1.0][1]) were structured differently than those used for [SSL 2.0][2], so it was important to qualify the ciphersuite by the &#39;universe&#39; it existed in. It has almost nothing to do with the protocol version actually used, which appears later in the session-param decode:\r\n\r\n```lang-none\r\nSSL-Session:\r\n    Protocol  : TLSv1.2\r\n...\r\n```\r\n\r\n-- although you already know this from the ciphersuite, because ECDHE-RSA-AES256-GCM-SHA384 cannot be used in any protocol version other than TLS 1.2.\r\n\r\nIn OpenSSL 1.1.0 up, the protocol state machine is redesigned and among other things this field is changed to display the minimum protocol version compatible with the ciphersuite, which is no longer totally useless, but still may be different from the actual protocol used.\r\n\r\nIn any case your exception occurs before JSSE client even sends the ClientHello to the server to start the handshake, so it is physically impossible for it to be be caused by anything wrong in the server.\r\nIt is instead caused by something wrong in the coding or configuration on the (Java) client, about which you have provided almost no information.\r\n\r\nIt _may_ help to run with sysprop `javax.net.debug=ssl:handshake` although this problem occurs early and may be before anything usefully traceable.\r\n\r\nMake sure you don&#39;t have sysprops `mail.smtp.ssl.{protocols,ciphersuites}` set to something unsuitable. See e.g. [com.sun.mail.util.SocketFetcher.configureSSLSocket][3]) and *https://stackoverflow.com/questions/67742776/docker-container-javax-mail-messagingexception-no-appropriate-protocol-* and links there.\r\nAlso check for any settings of `mail.smtp.ssl.trust mail.smtp.ssl.socketfactory.class mail.smtp.socketfactory.class`, and any &lt;s&gt;code that alters the `SSLSocketFactory` default and maybe&lt;/s&gt; (*Edit*) alteration to the `SSLContext` default i.e. at or near the point you try to connect with javamail print or otherwise get `Arrays.toString(SSLContext.getDefaultSSLParameters().getProtocols())` and the same for `getCipherSuites`.\r\n\r\n*Edit 2*: **it&#39;s version dependent**. Older Sun/Oracle (i.e., pre-[Jakarta][4]) versions below 1.5.3 (2015-04-15) had the default (if `mail.smtp.ssl.protocols` is *not* configured) [*hardcoded* to `TLSv1` meaning 1.0 *only*][5]. As a result the connection will fail with the exception in the question on a Java that has TLS 1.0 disabled, as 11.0.11 does when installed, and also 16.0.0 up and 8u291 (presumably up). On Java instances without TLS 1.0 disabled it will _attempt_ the connection, but if the server refuses TLS 1.0 -- which the one in this question should -- the connection will still fail with a different exception.\r\n\r\n&gt; I have added already ECDHE-RSA-AES256-GCM-SHA384 as jdk.tls.legacyAlgorithms.\r\n\r\nThat&#39;s backwards. Legacy algorithms are ones you prefer *not* to use and accept only as fallback; this ciphersuite is among the best currently available and should be preferred (and is by default, so you shouldn&#39;t change it). Plus, although the doc and comments in the file don&#39;t make this clear, the legacy constraint only applies server-side anyway -- because that&#39;s where ciphersuite selection, and for 1.3 related algorithm selection, is done.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_1.0\r\n  [2]: https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0,_2.0,_and_3.0\r\n  [3]: https://github.com/eclipse-ee4j/mail/blob/master/mail/src/main/java/com/sun/mail/util/SocketFetcher.java#L558\r\n  [4]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [5]: https://github.com/javaee/javamail/commit/df5438b2592b6be31eccfd7f4e9aea08571c5e53#diff-357c30ebc89c3d3237e4039b007d15cebe3eee7467136ebaf561f525420378aaL521\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<blockquote>\n<p>Here I'm wondering about the line [in s_client]<br />\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384</p>\n</blockquote>\n<p>You're apparently using OpenSSL 1.0.2, where that's a basically useless relic. Back in the days when OpenSSL supported SSLv2 (mostly until 2010, although almost no one used it much after 2000), the ciphersuite values used for SSLv3 and up (including all TLS, but before 2014 OpenSSL didn't implement higher than <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_1.0\" rel=\"nofollow noreferrer\">TLS 1.0</a>) were structured differently than those used for <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0,_2.0,_and_3.0\" rel=\"nofollow noreferrer\">SSL 2.0</a>, so it was important to qualify the ciphersuite by the 'universe' it existed in. It has almost nothing to do with the protocol version actually used, which appears later in the session-param decode:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SSL-Session:\n    Protocol  : TLSv1.2\n...\n</code></pre>\n<p>-- although you already know this from the ciphersuite, because ECDHE-RSA-AES256-GCM-SHA384 cannot be used in any protocol version other than TLS 1.2.</p>\n<p>In OpenSSL 1.1.0 up, the protocol state machine is redesigned and among other things this field is changed to display the minimum protocol version compatible with the ciphersuite, which is no longer totally useless, but still may be different from the actual protocol used.</p>\n<p>In any case your exception occurs before JSSE client even sends the ClientHello to the server to start the handshake, so it is physically impossible for it to be be caused by anything wrong in the server.\nIt is instead caused by something wrong in the coding or configuration on the (Java) client, about which you have provided almost no information.</p>\n<p>It <em>may</em> help to run with sysprop <code>javax.net.debug=ssl:handshake</code> although this problem occurs early and may be before anything usefully traceable.</p>\n<p>Make sure you don't have sysprops <code>mail.smtp.ssl.{protocols,ciphersuites}</code> set to something unsuitable. See e.g. <a href=\"https://github.com/eclipse-ee4j/mail/blob/master/mail/src/main/java/com/sun/mail/util/SocketFetcher.java#L558\" rel=\"nofollow noreferrer\">com.sun.mail.util.SocketFetcher.configureSSLSocket</a>) and <em><a href=\"https://stackoverflow.com/questions/67742776/docker-container-javax-mail-messagingexception-no-appropriate-protocol-\">Docker container error: &quot;javax.mail.MessagingException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate);&quot;</a></em> and links there.\nAlso check for any settings of <code>mail.smtp.ssl.trust mail.smtp.ssl.socketfactory.class mail.smtp.socketfactory.class</code>, and any <s>code that alters the <code>SSLSocketFactory</code> default and maybe</s> (<em>Edit</em>) alteration to the <code>SSLContext</code> default i.e. at or near the point you try to connect with javamail print or otherwise get <code>Arrays.toString(SSLContext.getDefaultSSLParameters().getProtocols())</code> and the same for <code>getCipherSuites</code>.</p>\n<p><em>Edit 2</em>: <strong>it's version dependent</strong>. Older Sun/Oracle (i.e., pre-<a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta</a>) versions below 1.5.3 (2015-04-15) had the default (if <code>mail.smtp.ssl.protocols</code> is <em>not</em> configured) <a href=\"https://github.com/javaee/javamail/commit/df5438b2592b6be31eccfd7f4e9aea08571c5e53#diff-357c30ebc89c3d3237e4039b007d15cebe3eee7467136ebaf561f525420378aaL521\" rel=\"nofollow noreferrer\"><em>hardcoded</em> to <code>TLSv1</code> meaning 1.0 <em>only</em></a>. As a result the connection will fail with the exception in the question on a Java that has TLS 1.0 disabled, as 11.0.11 does when installed, and also 16.0.0 up and 8u291 (presumably up). On Java instances without TLS 1.0 disabled it will <em>attempt</em> the connection, but if the server refuses TLS 1.0 -- which the one in this question should -- the connection will still fail with a different exception.</p>\n<blockquote>\n<p>I have added already ECDHE-RSA-AES256-GCM-SHA384 as jdk.tls.legacyAlgorithms.</p>\n</blockquote>\n<p>That's backwards. Legacy algorithms are ones you prefer <em>not</em> to use and accept only as fallback; this ciphersuite is among the best currently available and should be preferred (and is by default, so you shouldn't change it). Plus, although the doc and comments in the file don't make this clear, the legacy constraint only applies server-side anyway -- because that's where ciphersuite selection, and for 1.3 related algorithm selection, is done.</p>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1623745569,"post_id":67965317,"comment_id":120158988,"body_markdown":"Other clients with old javamail connect _to this server which only allows TLS1.2 and 1.3_? Are you sure? Can you confirm what protocol is in the ServerHello, either using javax.net.debug or an external trace like wireshark?","body":"Other clients with old javamail connect <i>to this server which only allows TLS1.2 and 1.3</i>? Are you sure? Can you confirm what protocol is in the ServerHello, either using javax.net.debug or an external trace like wireshark?"},{"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"score":0,"creation_date":1623772204,"post_id":67965317,"comment_id":120171036,"body_markdown":"@dave_thompson_085: I have found another Client with JavaMail 1.4.7 and you are right. The error is also there (but was not reported because of a &quot;... &gt; /dev/null 2&gt;&amp;1&quot; arrgh!). But I have found two other clients on which JavaMail 1.3 like it was stored in MANIFEST of the jar (oohhh fucking hell, that&#39;s too old!!!). And on that clients it works! The javax.net.debug property didn&#39;t work (may be it&#39;s not implemented in 1.3...). Before updating the JavaMail I will try to create (may be tomorrow) a tcpdump","body":"@dave_thompson_085: I have found another Client with JavaMail 1.4.7 and you are right. The error is also there (but was not reported because of a &quot;... &gt; /dev/null 2&gt;&amp;1&quot; arrgh!). But I have found two other clients on which JavaMail 1.3 like it was stored in MANIFEST of the jar (oohhh fucking hell, that&#39;s too old!!!). And on that clients it works! The javax.net.debug property didn&#39;t work (may be it&#39;s not implemented in 1.3...). Before updating the JavaMail I will try to create (may be tomorrow) a tcpdump"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1623792946,"post_id":67965317,"comment_id":120178401,"body_markdown":"javax.net.debug is in the JRE (specifically JSSE) not Javamail -- though older JREs write to stdout and newer ones to stderr, which may make a difference for capturing it. AFAICS the online repository for Javamail doesn&#39;t go back to 1.3, but I can imagine something that old doesn&#39;t do SSL/TLS or at least STARTTLS at all.","body":"javax.net.debug is in the JRE (specifically JSSE) not Javamail -- though older JREs write to stdout and newer ones to stderr, which may make a difference for capturing it. AFAICS the online repository for Javamail doesn&#39;t go back to 1.3, but I can imagine something that old doesn&#39;t do SSL/TLS or at least STARTTLS at all."},{"owner":{"account_id":1580105,"reputation":1275,"user_id":1465635,"accept_rate":50,"display_name":"Mauro Molinari"},"score":0,"creation_date":1628268627,"post_id":67965317,"comment_id":121383956,"body_markdown":"Today I also encountered this problem, running javax.mail 1.4.7 on a very recent Java 8 JRE. The exact same code works perfectly fine on another server with a less recent Java 8 JRE and the same 1.4.7 JavaMail JAR. I fixed this on the first system by upgrading to JavaMail 1.6.7, as you suggested. Then I upgraded the other server as well, so now the application is running with JavaMail 1.6.7 successfully on both servers. Perhaps something has changed in very recent Java 8 releases that broke JavaMail 1.4.7 with some SMTP servers...","body":"Today I also encountered this problem, running javax.mail 1.4.7 on a very recent Java 8 JRE. The exact same code works perfectly fine on another server with a less recent Java 8 JRE and the same 1.4.7 JavaMail JAR. I fixed this on the first system by upgrading to JavaMail 1.6.7, as you suggested. Then I upgraded the other server as well, so now the application is running with JavaMail 1.6.7 successfully on both servers. Perhaps something has changed in very recent Java 8 releases that broke JavaMail 1.4.7 with some SMTP servers..."},{"owner":{"account_id":188371,"reputation":2051,"user_id":427105,"display_name":"McIntosh"},"score":0,"creation_date":1644478656,"post_id":67965317,"comment_id":125618811,"body_markdown":"Worked for me (at least after finding the correct replacement for the old Oracle builds ofjava.mail). I finally used: com.sun.mail / jakarta.mail Verison 1.6.7","body":"Worked for me (at least after finding the correct replacement for the old Oracle builds ofjava.mail). I finally used: com.sun.mail / jakarta.mail Verison 1.6.7"}],"tags":[],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"comment_count":5,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1660939074,"creation_date":1623649357,"answer_id":67965317,"question_id":67899129,"body_markdown":"After upgrading JavaMail from 1.4.7 to 1.6.2, the error is gone! I&#39;m sure there are also other clients which use JavaMail 1.4.7 and which works. So there must also be another difference on that machine. However, now it *works*!\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>After upgrading JavaMail from 1.4.7 to 1.6.2, the error is gone! I'm sure there are also other clients which use JavaMail 1.4.7 and which works. So there must also be another difference on that machine. However, now it <em>works</em>!</p>\n"},{"comments":[{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":1,"creation_date":1629227406,"post_id":68524796,"comment_id":121630069,"body_markdown":"This answer help me when I run an application with open JDK 11 installation in my Linux machine","body":"This answer help me when I run an application with open JDK 11 installation in my Linux machine"},{"owner":{"account_id":13725892,"reputation":339,"user_id":9904650,"display_name":"Ryan Harris"},"score":0,"creation_date":1629731678,"post_id":68524796,"comment_id":121758393,"body_markdown":"This answer helped me when trying to get Elasticsearch to work with a SQL Server instance by using the JDBC drivers.","body":"This answer helped me when trying to get Elasticsearch to work with a SQL Server instance by using the JDBC drivers."},{"owner":{"account_id":5811477,"reputation":1484,"user_id":4582374,"accept_rate":80,"display_name":"l33tHax0r"},"score":1,"creation_date":1633993843,"post_id":68524796,"comment_id":122902845,"body_markdown":"used for `1.8.0_301`","body":"used for <code>1.8.0_301</code>"},{"owner":{"account_id":13310283,"reputation":6015,"user_id":9608759,"display_name":"Asocia"},"score":3,"creation_date":1634630056,"post_id":68524796,"comment_id":123069488,"body_markdown":"This solved my problem. The path of the file was `/usr/lib/jvm/java-11-openjdk-amd64/conf/security/java.security` for me.","body":"This solved my problem. The path of the file was <code>&#47;usr&#47;lib&#47;jvm&#47;java-11-openjdk-amd64&#47;conf&#47;security&#47;java.securi&zwnj;&#8203;ty</code> for me."},{"owner":{"account_id":12480,"reputation":124586,"user_id":24587,"accept_rate":83,"display_name":"Georg Sch&#246;lly"},"score":4,"creation_date":1637231012,"post_id":68524796,"comment_id":123772859,"body_markdown":"This is dangerous! You then allow insecure algorithms to be used.","body":"This is dangerous! You then allow insecure algorithms to be used."},{"owner":{"account_id":3116148,"reputation":749,"user_id":2636851,"display_name":"TMS"},"score":3,"creation_date":1638264284,"post_id":68524796,"comment_id":124035934,"body_markdown":"Tuning these setting may be a security risk, but at least you can get &#39;old&#39; libraries working again. See it as workaround if you cannot update old legacy code. At least you can update the java version.","body":"Tuning these setting may be a security risk, but at least you can get &#39;old&#39; libraries working again. See it as workaround if you cannot update old legacy code. At least you can update the java version."},{"owner":{"account_id":8578289,"reputation":608,"user_id":6426900,"display_name":"Igor"},"score":0,"creation_date":1640803077,"post_id":68524796,"comment_id":124664137,"body_markdown":"I&#39;ve removed from the list only the first few (SSLv3, TLSv1, TLSv1.1) and it was sufficient in my case.","body":"I&#39;ve removed from the list only the first few (SSLv3, TLSv1, TLSv1.1) and it was sufficient in my case."},{"owner":{"account_id":6901279,"reputation":161,"user_id":5300823,"display_name":"Ghost Rider"},"score":0,"creation_date":1641372712,"post_id":68524796,"comment_id":124785056,"body_markdown":"I have removed only TLSv1 and TLSv1.1, it was sufficient in my case for sending emails (1.8.0_291)","body":"I have removed only TLSv1 and TLSv1.1, it was sufficient in my case for sending emails (1.8.0_291)"},{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":0,"creation_date":1650971829,"post_id":68524796,"comment_id":127245320,"body_markdown":"Removing TLSv1 and TLSv1.1 is more than enough if you face any connectivity issue with MySql such as `Caused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)   `","body":"Removing TLSv1 and TLSv1.1 is more than enough if you face any connectivity issue with MySql such as <code>Caused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)   </code>"},{"owner":{"account_id":2981463,"reputation":845,"user_id":2531336,"display_name":"thecarpy"},"score":0,"creation_date":1665424787,"post_id":68524796,"comment_id":130692544,"body_markdown":"commenting this out enables `SSLv3`!\n\nWhat is the point in encrypting a connection if you use `SSLv3` ???? \nTake out `TLSv1.1`, check if it works, if not `TLSv1` ...","body":"commenting this out enables <code>SSLv3</code>!  What is the point in encrypting a connection if you use <code>SSLv3</code> ????  Take out <code>TLSv1.1</code>, check if it works, if not <code>TLSv1</code> ..."}],"tags":[],"owner":{"account_id":5598647,"reputation":431,"user_id":4435517,"display_name":"Zeenat Hussain"},"comment_count":10,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1660939564,"creation_date":1627276596,"answer_id":68524796,"question_id":67899129,"body_markdown":"I was facing the same issue using JDK 11. But I resolved it by commenting this line in the *java.security* file:\r\n\r\n```lang-none\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA,\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL,\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>I was facing the same issue using JDK 11. But I resolved it by commenting this line in the <em>java.security</em> file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA,\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL,\n    include jdk.disabled.namedCurves\n</code></pre>\n"},{"comments":[{"owner":{"account_id":175694,"reputation":16729,"user_id":450148,"accept_rate":82,"display_name":"Felipe"},"score":0,"creation_date":1656914840,"post_id":68695153,"comment_id":128677992,"body_markdown":"I know I should avoid this kind of commentary, but THANK YOU.","body":"I know I should avoid this kind of commentary, but THANK YOU."},{"owner":{"account_id":99858,"reputation":903,"user_id":269514,"display_name":"Gilberto"},"score":0,"creation_date":1657118219,"post_id":68695153,"comment_id":128734455,"body_markdown":"Updating JavaMail from 1.4.7 to 1.6.2 took no effect in my case (openjdk 1.8.0_332). This one fixed it!","body":"Updating JavaMail from 1.4.7 to 1.6.2 took no effect in my case (openjdk 1.8.0_332). This one fixed it!"}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1660939538,"creation_date":1628361187,"answer_id":68695153,"question_id":67899129,"body_markdown":"In my case, Postfix supports TLS 1.0, TLS 1.1, TLS 1.2 and TLS 1.3.\r\nI prepared some tests, using different OpenJDKs.\r\n\r\n- Using OpenJDK 11.0.9 (2020-10-20)\r\n\r\n    I was able to send email without any exceptions\r\n\r\n- Using OpenJDK 11.0.10 (2021-01-19)\r\n\r\n    I was able to send email without any exceptions\r\n\r\n- Using OpenJDK 11.0.11 (2021-04-20)\r\n\r\n    I was getting the exception,\r\n\r\n    &gt; SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\n- Using OpenJDK 11.0.12 (2021-07-20)\r\n\r\n    I was getting the same exception,\r\n\r\n    &gt; SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\n***As far as I am concerned, the cause of the issue is that OpenJDK requires TLSv1.2 or TLSv1.3, starting from version 11.0.11.*** The change will apply to at least OpenJDK 8u292 onward, OpenJDK 11.0.11 onward, and all versions of OpenJDK 16, following the JRE and JDK Crypto Roadmap published by [an Oracle reference][1].\r\n\r\nHow to fix the problem,\r\n\r\n1. Go back to OpenJDK 11.0.10, you can find binaries [here][2]. More OpenJDK versions [here][3].\r\n2. *(Preferred)* Set the TLS version to TLS 1.2 for sending emails. You can do it by setting a system property like below, before you configure the Java [SMTP][4] client.\r\n\r\n&gt; `System.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);`\r\n\r\nI use [Apache Commons][5] email and setting the aforementioned property before initializing my `HtmlEmail` object, I was able to send using the current OpenJDK version 11.0.12.\r\n\r\nIn any case you use a [POP3][6] Java client, the same there,\r\n\r\n&gt; `System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);`\r\n\r\n  [1]: https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/\r\n  [2]: https://github.com/AdoptOpenJDK/openjdk11-upstream-binaries/releases/tag/jdk-11.0.10%2B9\r\n  [3]: https://wiki.openjdk.java.net/display/JDKUpdates/Archived+Releases\r\n  [4]: https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\r\n  [5]: https://en.wikipedia.org/wiki/Apache_Commons\r\n  [6]: https://en.wikipedia.org/wiki/Post_Office_Protocol\r\n\r\n\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>In my case, Postfix supports TLS 1.0, TLS 1.1, TLS 1.2 and TLS 1.3.\nI prepared some tests, using different OpenJDKs.</p>\n<ul>\n<li><p>Using OpenJDK 11.0.9 (2020-10-20)</p>\n<p>I was able to send email without any exceptions</p>\n</li>\n<li><p>Using OpenJDK 11.0.10 (2021-01-19)</p>\n<p>I was able to send email without any exceptions</p>\n</li>\n<li><p>Using OpenJDK 11.0.11 (2021-04-20)</p>\n<p>I was getting the exception,</p>\n<blockquote>\n<p>SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n</blockquote>\n</li>\n<li><p>Using OpenJDK 11.0.12 (2021-07-20)</p>\n<p>I was getting the same exception,</p>\n<blockquote>\n<p>SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n</blockquote>\n</li>\n</ul>\n<p><em><strong>As far as I am concerned, the cause of the issue is that OpenJDK requires TLSv1.2 or TLSv1.3, starting from version 11.0.11.</strong></em> The change will apply to at least OpenJDK 8u292 onward, OpenJDK 11.0.11 onward, and all versions of OpenJDK 16, following the JRE and JDK Crypto Roadmap published by <a href=\"https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/\" rel=\"noreferrer\">an Oracle reference</a>.</p>\n<p>How to fix the problem,</p>\n<ol>\n<li>Go back to OpenJDK 11.0.10, you can find binaries <a href=\"https://github.com/AdoptOpenJDK/openjdk11-upstream-binaries/releases/tag/jdk-11.0.10%2B9\" rel=\"noreferrer\">here</a>. More OpenJDK versions <a href=\"https://wiki.openjdk.java.net/display/JDKUpdates/Archived+Releases\" rel=\"noreferrer\">here</a>.</li>\n<li><em>(Preferred)</em> Set the TLS version to TLS 1.2 for sending emails. You can do it by setting a system property like below, before you configure the Java <a href=\"https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\" rel=\"noreferrer\">SMTP</a> client.</li>\n</ol>\n<blockquote>\n<p><code>System.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);</code></p>\n</blockquote>\n<p>I use <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"noreferrer\">Apache Commons</a> email and setting the aforementioned property before initializing my <code>HtmlEmail</code> object, I was able to send using the current OpenJDK version 11.0.12.</p>\n<p>In any case you use a <a href=\"https://en.wikipedia.org/wiki/Post_Office_Protocol\" rel=\"noreferrer\">POP3</a> Java client, the same there,</p>\n<blockquote>\n<p><code>System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3414718,"reputation":459,"user_id":2863942,"accept_rate":60,"display_name":"Dave B"},"score":14,"creation_date":1637263384,"post_id":69306914,"comment_id":123786379,"body_markdown":"Disabling SSL introduces security risks.  This is a workaround, not a solution","body":"Disabling SSL introduces security risks.  This is a workaround, not a solution"},{"owner":{"account_id":4103935,"reputation":51,"user_id":10436764,"display_name":"ivan0kurnia"},"score":0,"creation_date":1692103473,"post_id":69306914,"comment_id":135576824,"body_markdown":"@DaveB I found this answer useful for when I test in local. Production uses SSL anyway. The workaround is acceptable.","body":"@DaveB I found this answer useful for when I test in local. Production uses SSL anyway. The workaround is acceptable."}],"tags":[],"owner":{"account_id":17246855,"reputation":429,"user_id":12667201,"display_name":"Usama"},"comment_count":2,"down_vote_count":8,"up_vote_count":17,"is_accepted":false,"score":9,"last_activity_date":1660939975,"creation_date":1632431337,"answer_id":69306914,"question_id":67899129,"body_markdown":"I got rid of the above exception by adding this to my connection string.\r\n\r\n```lang-none\r\njdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\r\n```\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>I got rid of the above exception by adding this to my connection string.</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1660940495,"creation_date":1658738106,"answer_id":73106223,"question_id":67899129,"body_markdown":"If you using Java 1.8, go to directory\r\n\r\n```lang-none\r\n..\\Java\\jre1.8.0_261\\lib\\security\r\n```\r\n\r\nIf you using Java 11 or 17,\r\n\r\n  ```lang-none\r\n  ..\\Java\\jdk-11.0.15\\conf\\security\\\r\n  ```\r\n\r\nFind the file *java.security*.\r\n\r\nFind the lines\r\n\r\n```lang-none\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n```\r\n\r\nAnd put **#** before each line, and save it.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>If you using Java 1.8, go to directory</p>\n<pre class=\"lang-none prettyprint-override\"><code>..\\Java\\jre1.8.0_261\\lib\\security\n</code></pre>\n<p>If you using Java 11 or 17,</p>\n<pre class=\"lang-none prettyprint-override\"><code>..\\Java\\jdk-11.0.15\\conf\\security\\\n</code></pre>\n<p>Find the file <em>java.security</em>.</p>\n<p>Find the lines</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n</code></pre>\n<p>And put <strong>#</strong> before each line, and save it.</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675929149,"creation_date":1675929149,"answer_id":75395635,"question_id":67899129,"body_markdown":"For Java \r\n\r\n    openjdk version &quot;11.0.13&quot; 2021-10-19\r\n    OpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\r\n\r\nI had the same problem. The smpt server used Tls1.2, which was proved by `openssl` test like that: \r\n\r\n     openssl s_client  smtp -connect ourhost:587\r\n\r\nand this output clearly shown me that SMTP server uses Tls1.2:\r\n\r\n    ---\r\n    No client certificate CA names sent\r\n    Peer signing digest: SHA256\r\n    Peer signature type: RSA\r\n    Server Temp Key: ECDH, P-256, 256 bits\r\n    ---\r\n    SSL handshake has read 2412 bytes and written 442 bytes\r\n    Verification: OK\r\n    ---\r\n    New, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256\r\n    Server public key is 2048 bit\r\n    Secure Renegotiation IS supported\r\n    Compression: NONE\r\n    Expansion: NONE\r\n    No ALPN negotiated\r\n\r\nBut with all settings like \r\n\r\n    mail.properties.mail.smtp.auth=true\r\n    mail.properties.mail.smtp.starttls.enable=true\r\n    mail.properties.mail.smtp.ssl.protocols=TLSv1.2\r\n    jdk.tls.client.protocols=TLSv1.2\r\n    mail.properties.mail.smtp.ssl.trust=*\r\n\r\nit still was the error\r\n\r\n    Mail server connection failed; nested exception is javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nAnd the only stuff that helped was removing Tls parts from `java.security` file as was said above:\r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n\r\nto \r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\r\n        DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n        EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n        include jdk.disabled.namedCurves\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>For Java</p>\n<pre><code>openjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\n</code></pre>\n<p>I had the same problem. The smpt server used Tls1.2, which was proved by <code>openssl</code> test like that:</p>\n<pre><code> openssl s_client  smtp -connect ourhost:587\n</code></pre>\n<p>and this output clearly shown me that SMTP server uses Tls1.2:</p>\n<pre><code>---\nNo client certificate CA names sent\nPeer signing digest: SHA256\nPeer signature type: RSA\nServer Temp Key: ECDH, P-256, 256 bits\n---\nSSL handshake has read 2412 bytes and written 442 bytes\nVerification: OK\n---\nNew, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\n</code></pre>\n<p>But with all settings like</p>\n<pre><code>mail.properties.mail.smtp.auth=true\nmail.properties.mail.smtp.starttls.enable=true\nmail.properties.mail.smtp.ssl.protocols=TLSv1.2\njdk.tls.client.protocols=TLSv1.2\nmail.properties.mail.smtp.ssl.trust=*\n</code></pre>\n<p>it still was the error</p>\n<pre><code>Mail server connection failed; nested exception is javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>And the only stuff that helped was removing Tls parts from <code>java.security</code> file as was said above:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n</code></pre>\n<p>to</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n"}],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158946,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":67965317,"answer_count":7,"score":46,"last_activity_date":1675929149,"creation_date":1623222202,"question_id":67899129,"body_markdown":"I know there are some other questions (with answers) to this topic. But none of these was helpful for me.\r\n\r\nI have a [Postfix][1] server (postfix 3.4.14 on [Debian 10][2] (Buster)) with the following configuration (only the interesting section):\r\n\r\n```lang-none\r\nsmtpd_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtp_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtp_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtpd_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtpd_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\r\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\r\nsmtp_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\r\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\r\ntls_preempt_cipherlist = yes\r\ntls_high_cipherlist = !aNULL:!eNULL:!CAMELLIA:HIGH:@STRENGTH\r\n```\r\n\r\nIf I check the configuration with [OpenSSL][3], I get (please note that I have made the domain name unrecognizable with &quot;xxxxxx.de&quot;):\r\n\r\n```lang-none\r\n#&gt; openssl s_client -connect xxxxxx.de:25 -starttls smtp\r\nCONNECTED(00000003)\r\ndepth=3 O = Digital Signature Trust Co., CN = DST Root CA X3\r\nverify return:1\r\ndepth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\r\nverify return:1\r\ndepth=1 C = US, O = Let&#39;s Encrypt, CN = R3\r\nverify return:1\r\ndepth=0 CN = xxxxxx.de\r\nverify return:1\r\n---\r\nCertificate chain\r\n 0 s:/CN=xxxxxx.de\r\n   i:/C=US/O=Let&#39;s Encrypt/CN=R3\r\n 1 s:/C=US/O=Let&#39;s Encrypt/CN=R3\r\n   i:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\r\n 2 s:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\r\n   i:/O=Digital Signature Trust Co./CN=DST Root CA X3\r\n---\r\nServer certificate\r\n-----BEGIN CERTIFICATE-----\r\nMIIFRjCCBC6gAwIBAgISA6SNmc1MPKtxwSiNNKEvxc/EMA0GCSqGSIb3DQEBCwUA\r\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\r\n...\r\n...\r\n...\r\nVG2iG8sEGCcgG4w1LnWTO4tMlCYFE+tcXxAfE/7pB/VjmvRZlLCypanuwBzVRw5W\r\nbPwabUtCMRDrRlT8wI9UHAhQYTb5Hhm0F0u1hi6e/7fybK6tuFnPpWs/vgT3Z4Fj\r\n2onoaTHk/rKlhQ==\r\n-----END CERTIFICATE-----\r\nsubject=/CN=xxxxxx.de\r\nissuer=/C=US/O=Let&#39;s Encrypt/CN=R3\r\n---\r\nNo client certificate CA names sent\r\nPeer signing digest: SHA256\r\nServer Temp Key: ECDH, P-256, 256 bits\r\n---\r\nSSL handshake has read 4950 bytes and written 450 bytes\r\n---\r\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\nServer public key is 2048 bit\r\nSecure Renegotiation IS supported\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nSSL-Session:\r\n    Protocol  : TLSv1.2\r\n    Cipher    : ECDHE-RSA-AES256-GCM-SHA384\r\n    Session-ID: B20E725616C98083988847B90FB42BFDCAEED745129C53E79E723692C641F6F5\r\n    Session-ID-ctx:\r\n    Master-Key: A3D2C497E11E47C6260C119E47DC3B4CAA119485EAFA5BCF6CDA882F115D80E78960C802A48E375DAA293A3A2C1DAE35\r\n    Key-Arg   : None\r\n    Krb5 Principal: None\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    TLS session ticket lifetime hint: 7200 (seconds)\r\n    TLS session ticket:\r\n    0000 - ec 40 39 d6 f4 94 ac 7b-d8 f8 ef 94 98 62 d7 35   .@9....{.....b.5\r\n    0010 - de fb c3 f5 f3 b1 3a d1-24 3e 62 57 fb 06 56 eb   ......:.$&gt;bW..V.\r\n    0020 - 84 61 2a 0d 30 7d 9f ac-70 e7 a8 a3 23 4a c6 57   .a*.0}..p...#J.W\r\n    0030 - dc 21 7c d3 5d f4 e8 14-c5 4c 18 da 35 1d 32 49   .!|.]....L..5.2I\r\n    0040 - f0 19 de 75 77 22 25 f9-74 4d a2 47 39 0d ce 75   ...uw&quot;%.tM.G9..u\r\n    0050 - 0a 04 41 85 0d 67 05 fe-a4 09 ec 72 4b a5 ad f4   ..A..g.....rK...\r\n    0060 - 8b 73 a2 a3 2e 28 46 b8-2a 60 4b ed ce 75 09 fb   .s...(F.*`K..u..\r\n    0070 - ef 95 e3 e2 6e 6a 90 bd-9e 46 e8 c9 aa 52 c3 ae   ....nj...F...R..\r\n    0080 - 72 6f 9f 37 fd 6c 12 e9-bb 60 83 c6 c4 44 ca 85   ro.7.l...`...D..\r\n    0090 - cb ee 1d bd 69 29 77 31-4f 96 d5 4d 93 8e 63 d2   ....i)w1O..M..c.\r\n\r\n    Start Time: 1623221077\r\n    Timeout   : 300 (sec)\r\n    Verify return code: 0 (ok)\r\n---\r\n250 CHUNKING\r\n```\r\n\r\nHere I&#39;m wondering about the line\r\n\r\n    New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\n\r\nbecause TLSv1/SSLv3 should be disabled by the postfix configuration. Could be that the problem?\r\n\r\nHowever. On the client side I have a Java application ([OpenJDK][4] 11.0.11) and every time I will send an email I get:\r\n\r\n```lang-none\r\njavax.mail.MessagingException: Could not convert socket to TLS;\r\nnested exception is:\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\r\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\nat javax.mail.Service.connect(Service.java:295)\r\n...\r\n```\r\n\r\nOf course, I have already edited the `conf/security/java.security` file. I have added already `ECDHE-RSA-AES256-GCM-SHA384` as `jdk.tls.legacyAlgorithms`. Here are the interesting settings from `java.securtity`:\r\n\r\n```lang-none\r\njdk.tls.legacyAlgorithms= \\\r\n        K_NULL, C_NULL, M_NULL, \\\r\n        DH_anon, ECDH_anon, \\\r\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\r\n        3DES_EDE_CBC, ECDHE-RSA-AES256-GCM, ECDHE-RSA-AES256-GCM-SHA384\r\n\r\njdk.certpath.disabledAlgorithms=MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, \\\r\n    RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\r\n    include jdk.disabled.namedCurves\r\n\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\nMay be I&#39;m blind, but I don&#39;t see where my problem is ...\r\n\r\nOk, at first I have removed my extensions from `jdk.tls.legacyAlgorithms`, because these are not helpful and wrong (thanks to dave_thompson_085 for the hint).\r\n\r\nHere are the Java code for sending the emails (the code has a &quot;long&quot; history, so please don&#39;t wonder why there are `Vector` instead of `ArrayList` or so was used...)\r\n\r\n    // Create some properties and get the default Session\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.host&quot;, smtpServer);\r\n    props.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n    // SMTP authentication?\r\n    Session session;\r\n    if (username != null &amp;&amp; pwd != null &amp;&amp; username.length() &gt; 0 &amp;&amp; pwd.length() &gt; 0) {\r\n      props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n      //props.put(&quot;mail.smtp.user&quot;, username);\r\n      //props.put(&quot;mail.password&quot;, pwd);\r\n\r\n      // if SMTP authentication: use TLS in every case!\r\n      tls = true;\r\n\r\n      session = Session.getInstance(props, new MyPasswordAuthenticator(username, pwd));\r\n    } else {\r\n      session = Session.getDefaultInstance(props, null);\r\n    }\r\n\r\n    // TLS?\r\n    if (tls) {\r\n      props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n      //props.put(&quot;mail.smtp.tls&quot;, &quot;true&quot;);\r\n    }\r\n\r\n    // create a message\r\n    SMTPMessage mimeMsg = new SMTPMessage(session);\r\n\r\n    InternetAddress addressFrom = new InternetAddress(sender);\r\n    mimeMsg.setFrom(addressFrom);\r\n    mimeMsg.setEnvelopeFrom(sender);\r\n\r\n    // Set recipients ...\r\n    InternetAddress[] tos = new InternetAddress[receivers.size()];\r\n    int i = 0;\r\n    for (String addr : receivers) {\r\n      tos[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\r\n    }\r\n\r\n    // Set CC recipients ...\r\n    InternetAddress[] ccAddrs = new InternetAddress[0];\r\n    if (ccs != null) {\r\n      ccAddrs = new InternetAddress[ccs.size()];\r\n\r\n      i = 0;\r\n      for (String addr : ccs) {\r\n        ccAddrs[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\r\n      }\r\n    }\r\n\r\n    mimeMsg.setRecipients(Message.RecipientType.TO, tos);\r\n    mimeMsg.setRecipients(Message.RecipientType.CC, ccAddrs);\r\n\r\n    // Set return notifications\r\n    if (readNotificationRequest) {\r\n      String notifyAddr = replyTo;\r\n      if (notifyAddr == null || notifyAddr.trim().length() == 0) notifyAddr = sender;\r\n\r\n      mimeMsg.addHeader(&quot;Disposition-Notification-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\r\n      mimeMsg.addHeader(&quot;Return-Receipt-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\r\n    }\r\n\r\n    mimeMsg.addHeader(&quot;Date&quot;, mailDateFormat.format(new Date()));\r\n\r\n    mimeMsg.setNotifyOptions(deliverNotificationRequest);\r\n    mimeMsg.setReturnOption(deliverNotificationContent);\r\n\r\n    if (replyTo != null) {\r\n      Address[] replyToAddrs = new Address[1];\r\n      replyToAddrs[0] = new InternetAddress(this.replyTo);\r\n\r\n      mimeMsg.setReplyTo(replyToAddrs);\r\n      mimeMsg.setFrom(replyToAddrs[0]);\r\n    }\r\n\r\n    mimeMsg.setSentDate(new Date());\r\n    mimeMsg.setSubject(subject);\r\n    //mimeMsg.setContent(msg, msgType);\r\n\r\n    // Set the text content:\r\n    MimeBodyPart msgPart = new MimeBodyPart();\r\n    msgPart.setContent(msg, msgType + &quot;; charset=&quot; + charset);\r\n\r\n    Multipart multipart = new MimeMultipart();\r\n    multipart.addBodyPart(msgPart);\r\n\r\n    // Add the attachments:\r\n    String attFile;\r\n    MimeBodyPart attachment;\r\n    Iterator&lt;String&gt; it = new Vector&lt;String&gt;(attachments).iterator();\r\n\r\n    while (it.hasNext()) {\r\n      attFile = it.next();\r\n\r\n      attachment = new MimeBodyPart();\r\n      attachment.setDataHandler(new DataHandler(new AppOctetStreamFileDataSource(attFile)));\r\n      attachment.setFileName(FileUtil.extractFilename(attFile));\r\n\r\n      multipart.addBodyPart(attachment);\r\n    }\r\n\r\n    mimeMsg.setContent(multipart);\r\n\r\n    System.out.println(&quot;mail.smtp.ssl.trust: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.trust&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.ssl.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.ssl.protocols: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.protocols&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.ssl.ciphersuites: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.ciphersuites&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;SSLContext.getDefault().getDefaultSSLParameters().getProtocols(): &quot;\r\n            + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getProtocols()));\r\n    System.out.println(&quot;Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): &quot;\r\n            + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites()));\r\n\r\n    session.setDebug(debug);\r\n    Transport transport = session.getTransport(&quot;smtp&quot;);\r\n    transport.connect(smtpServer, 25, username, pwd);\r\n\r\n    //System.out.println(&quot;#########&quot; + System.getProperty(&quot;mail.smtp.localhost&quot;));\r\n\r\n    transport.sendMessage(mimeMsg, mimeMsg.getAllRecipients());\r\n\r\n    transport.close();\r\n\r\nFor debugging I have add some System.out&#39;s for output the some interesting values.\r\n\r\nHere the standard output:\r\n\r\n```lang-none\r\nDEBUG: JavaMail version 1.4.7\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\nDEBUG: Tables of loaded providers\r\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\nmail.smtp.ssl.trust: &lt;&lt;null&gt;&gt;\r\nmail.smtp.ssl.socketfactory.class: &lt;&lt;null&gt;&gt;\r\nmail.smtp.socketfactory.class: &lt;&lt;null&gt;&gt;\r\nmail.smtp.ssl.protocols: &lt;&lt;null&gt;&gt;\r\nmail.smtp.ssl.ciphersuites: &lt;&lt;null&gt;&gt;\r\nSSLContext.getDefault().getDefaultSSLParameters().getProtocols(): [TLSv1.3, TLSv1.2]\r\nArrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): [TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n```\r\n\r\nAnd standard error:\r\n\r\n```lang-none\r\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.042 CEST|SSLCipher.java:438|jdk.tls.keyLimits: entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\njavax.net.ssl|ERROR|01|main|2021-06-10 08:28:39.306 CEST|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\r\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\r\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\r\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\r\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\r\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\nat javax.mail.Service.connect(Service.java:295)\r\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\r\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)}\r\n\r\n)\r\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1638|close the underlying socket\r\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\r\njavax.mail.MessagingException: Could not convert socket to TLS;\r\nnested exception is:\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\r\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\nat javax.mail.Service.connect(Service.java:295)\r\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\r\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)\r\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\r\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\r\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\r\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\r\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\r\n... 6 more\r\n```\r\n\r\nOn the Postfix server side, OpenSSL 1.1.1 is installed:\r\n\r\n```lang-none\r\n#&gt; openssl version\r\nOpenSSL 1.1.1d  10 Sep 2019\r\n```\r\n\r\nI don&#39;t believe that Java is using OpenSSL internally, but the client side openssl version ([CentOS][5]/[RHEL][6] 7) may be also interesting:\r\n\r\n```lang-none\r\n#&gt; openssl version\r\nOpenSSL 1.0.2k-fips  26 Jan 2017\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Postfix_(software)\r\n  [2]: https://en.wikipedia.org/wiki/Debian_version_history#Debian_10_(Buster)\r\n  [3]: https://en.wikipedia.org/wiki/OpenSSL\r\n  [4]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [5]: https://en.wikipedia.org/wiki/CentOS\r\n  [6]: https://en.wikipedia.org/wiki/Red_Hat_Enterprise_Linux\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>I know there are some other questions (with answers) to this topic. But none of these was helpful for me.</p>\n<p>I have a <a href=\"https://en.wikipedia.org/wiki/Postfix_(software)\" rel=\"noreferrer\">Postfix</a> server (postfix 3.4.14 on <a href=\"https://en.wikipedia.org/wiki/Debian_version_history#Debian_10_(Buster)\" rel=\"noreferrer\">Debian 10</a> (Buster)) with the following configuration (only the interesting section):</p>\n<pre class=\"lang-none prettyprint-override\"><code>smtpd_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtp_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtp_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtpd_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtpd_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\nsmtp_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\ntls_preempt_cipherlist = yes\ntls_high_cipherlist = !aNULL:!eNULL:!CAMELLIA:HIGH:@STRENGTH\n</code></pre>\n<p>If I check the configuration with <a href=\"https://en.wikipedia.org/wiki/OpenSSL\" rel=\"noreferrer\">OpenSSL</a>, I get (please note that I have made the domain name unrecognizable with &quot;xxxxxx.de&quot;):</p>\n<pre class=\"lang-none prettyprint-override\"><code>#&gt; openssl s_client -connect xxxxxx.de:25 -starttls smtp\nCONNECTED(00000003)\ndepth=3 O = Digital Signature Trust Co., CN = DST Root CA X3\nverify return:1\ndepth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\nverify return:1\ndepth=1 C = US, O = Let's Encrypt, CN = R3\nverify return:1\ndepth=0 CN = xxxxxx.de\nverify return:1\n---\nCertificate chain\n 0 s:/CN=xxxxxx.de\n   i:/C=US/O=Let's Encrypt/CN=R3\n 1 s:/C=US/O=Let's Encrypt/CN=R3\n   i:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\n 2 s:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\n   i:/O=Digital Signature Trust Co./CN=DST Root CA X3\n---\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIFRjCCBC6gAwIBAgISA6SNmc1MPKtxwSiNNKEvxc/EMA0GCSqGSIb3DQEBCwUA\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\n...\n...\n...\nVG2iG8sEGCcgG4w1LnWTO4tMlCYFE+tcXxAfE/7pB/VjmvRZlLCypanuwBzVRw5W\nbPwabUtCMRDrRlT8wI9UHAhQYTb5Hhm0F0u1hi6e/7fybK6tuFnPpWs/vgT3Z4Fj\n2onoaTHk/rKlhQ==\n-----END CERTIFICATE-----\nsubject=/CN=xxxxxx.de\nissuer=/C=US/O=Let's Encrypt/CN=R3\n---\nNo client certificate CA names sent\nPeer signing digest: SHA256\nServer Temp Key: ECDH, P-256, 256 bits\n---\nSSL handshake has read 4950 bytes and written 450 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-GCM-SHA384\n    Session-ID: B20E725616C98083988847B90FB42BFDCAEED745129C53E79E723692C641F6F5\n    Session-ID-ctx:\n    Master-Key: A3D2C497E11E47C6260C119E47DC3B4CAA119485EAFA5BCF6CDA882F115D80E78960C802A48E375DAA293A3A2C1DAE35\n    Key-Arg   : None\n    Krb5 Principal: None\n    PSK identity: None\n    PSK identity hint: None\n    TLS session ticket lifetime hint: 7200 (seconds)\n    TLS session ticket:\n    0000 - ec 40 39 d6 f4 94 ac 7b-d8 f8 ef 94 98 62 d7 35   .@9....{.....b.5\n    0010 - de fb c3 f5 f3 b1 3a d1-24 3e 62 57 fb 06 56 eb   ......:.$&gt;bW..V.\n    0020 - 84 61 2a 0d 30 7d 9f ac-70 e7 a8 a3 23 4a c6 57   .a*.0}..p...#J.W\n    0030 - dc 21 7c d3 5d f4 e8 14-c5 4c 18 da 35 1d 32 49   .!|.]....L..5.2I\n    0040 - f0 19 de 75 77 22 25 f9-74 4d a2 47 39 0d ce 75   ...uw&quot;%.tM.G9..u\n    0050 - 0a 04 41 85 0d 67 05 fe-a4 09 ec 72 4b a5 ad f4   ..A..g.....rK...\n    0060 - 8b 73 a2 a3 2e 28 46 b8-2a 60 4b ed ce 75 09 fb   .s...(F.*`K..u..\n    0070 - ef 95 e3 e2 6e 6a 90 bd-9e 46 e8 c9 aa 52 c3 ae   ....nj...F...R..\n    0080 - 72 6f 9f 37 fd 6c 12 e9-bb 60 83 c6 c4 44 ca 85   ro.7.l...`...D..\n    0090 - cb ee 1d bd 69 29 77 31-4f 96 d5 4d 93 8e 63 d2   ....i)w1O..M..c.\n\n    Start Time: 1623221077\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 CHUNKING\n</code></pre>\n<p>Here I'm wondering about the line</p>\n<pre><code>New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\n</code></pre>\n<p>because TLSv1/SSLv3 should be disabled by the postfix configuration. Could be that the problem?</p>\n<p>However. On the client side I have a Java application (<a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\">OpenJDK</a> 11.0.11) and every time I will send an email I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\nat javax.mail.Service.connect(Service.java:295)\n...\n</code></pre>\n<p>Of course, I have already edited the <code>conf/security/java.security</code> file. I have added already <code>ECDHE-RSA-AES256-GCM-SHA384</code> as <code>jdk.tls.legacyAlgorithms</code>. Here are the interesting settings from <code>java.securtity</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk.tls.legacyAlgorithms= \\\n        K_NULL, C_NULL, M_NULL, \\\n        DH_anon, ECDH_anon, \\\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\n        3DES_EDE_CBC, ECDHE-RSA-AES256-GCM, ECDHE-RSA-AES256-GCM-SHA384\n\njdk.certpath.disabledAlgorithms=MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, \\\n    RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\n    include jdk.disabled.namedCurves\n\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n<p>May be I'm blind, but I don't see where my problem is ...</p>\n<p>Ok, at first I have removed my extensions from <code>jdk.tls.legacyAlgorithms</code>, because these are not helpful and wrong (thanks to dave_thompson_085 for the hint).</p>\n<p>Here are the Java code for sending the emails (the code has a &quot;long&quot; history, so please don't wonder why there are <code>Vector</code> instead of <code>ArrayList</code> or so was used...)</p>\n<pre><code>// Create some properties and get the default Session\nProperties props = new Properties();\nprops.put(&quot;mail.smtp.host&quot;, smtpServer);\nprops.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\nprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n// SMTP authentication?\nSession session;\nif (username != null &amp;&amp; pwd != null &amp;&amp; username.length() &gt; 0 &amp;&amp; pwd.length() &gt; 0) {\n  props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n  //props.put(&quot;mail.smtp.user&quot;, username);\n  //props.put(&quot;mail.password&quot;, pwd);\n\n  // if SMTP authentication: use TLS in every case!\n  tls = true;\n\n  session = Session.getInstance(props, new MyPasswordAuthenticator(username, pwd));\n} else {\n  session = Session.getDefaultInstance(props, null);\n}\n\n// TLS?\nif (tls) {\n  props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n  //props.put(&quot;mail.smtp.tls&quot;, &quot;true&quot;);\n}\n\n// create a message\nSMTPMessage mimeMsg = new SMTPMessage(session);\n\nInternetAddress addressFrom = new InternetAddress(sender);\nmimeMsg.setFrom(addressFrom);\nmimeMsg.setEnvelopeFrom(sender);\n\n// Set recipients ...\nInternetAddress[] tos = new InternetAddress[receivers.size()];\nint i = 0;\nfor (String addr : receivers) {\n  tos[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\n}\n\n// Set CC recipients ...\nInternetAddress[] ccAddrs = new InternetAddress[0];\nif (ccs != null) {\n  ccAddrs = new InternetAddress[ccs.size()];\n\n  i = 0;\n  for (String addr : ccs) {\n    ccAddrs[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\n  }\n}\n\nmimeMsg.setRecipients(Message.RecipientType.TO, tos);\nmimeMsg.setRecipients(Message.RecipientType.CC, ccAddrs);\n\n// Set return notifications\nif (readNotificationRequest) {\n  String notifyAddr = replyTo;\n  if (notifyAddr == null || notifyAddr.trim().length() == 0) notifyAddr = sender;\n\n  mimeMsg.addHeader(&quot;Disposition-Notification-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\n  mimeMsg.addHeader(&quot;Return-Receipt-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\n}\n\nmimeMsg.addHeader(&quot;Date&quot;, mailDateFormat.format(new Date()));\n\nmimeMsg.setNotifyOptions(deliverNotificationRequest);\nmimeMsg.setReturnOption(deliverNotificationContent);\n\nif (replyTo != null) {\n  Address[] replyToAddrs = new Address[1];\n  replyToAddrs[0] = new InternetAddress(this.replyTo);\n\n  mimeMsg.setReplyTo(replyToAddrs);\n  mimeMsg.setFrom(replyToAddrs[0]);\n}\n\nmimeMsg.setSentDate(new Date());\nmimeMsg.setSubject(subject);\n//mimeMsg.setContent(msg, msgType);\n\n// Set the text content:\nMimeBodyPart msgPart = new MimeBodyPart();\nmsgPart.setContent(msg, msgType + &quot;; charset=&quot; + charset);\n\nMultipart multipart = new MimeMultipart();\nmultipart.addBodyPart(msgPart);\n\n// Add the attachments:\nString attFile;\nMimeBodyPart attachment;\nIterator&lt;String&gt; it = new Vector&lt;String&gt;(attachments).iterator();\n\nwhile (it.hasNext()) {\n  attFile = it.next();\n\n  attachment = new MimeBodyPart();\n  attachment.setDataHandler(new DataHandler(new AppOctetStreamFileDataSource(attFile)));\n  attachment.setFileName(FileUtil.extractFilename(attFile));\n\n  multipart.addBodyPart(attachment);\n}\n\nmimeMsg.setContent(multipart);\n\nSystem.out.println(&quot;mail.smtp.ssl.trust: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.trust&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.ssl.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.ssl.protocols: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.protocols&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.ssl.ciphersuites: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.ciphersuites&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;SSLContext.getDefault().getDefaultSSLParameters().getProtocols(): &quot;\n        + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getProtocols()));\nSystem.out.println(&quot;Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): &quot;\n        + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites()));\n\nsession.setDebug(debug);\nTransport transport = session.getTransport(&quot;smtp&quot;);\ntransport.connect(smtpServer, 25, username, pwd);\n\n//System.out.println(&quot;#########&quot; + System.getProperty(&quot;mail.smtp.localhost&quot;));\n\ntransport.sendMessage(mimeMsg, mimeMsg.getAllRecipients());\n\ntransport.close();\n</code></pre>\n<p>For debugging I have add some System.out's for output the some interesting values.</p>\n<p>Here the standard output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: JavaMail version 1.4.7\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nmail.smtp.ssl.trust: &lt;&lt;null&gt;&gt;\nmail.smtp.ssl.socketfactory.class: &lt;&lt;null&gt;&gt;\nmail.smtp.socketfactory.class: &lt;&lt;null&gt;&gt;\nmail.smtp.ssl.protocols: &lt;&lt;null&gt;&gt;\nmail.smtp.ssl.ciphersuites: &lt;&lt;null&gt;&gt;\nSSLContext.getDefault().getDefaultSSLParameters().getProtocols(): [TLSv1.3, TLSv1.2]\nArrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): [TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n</code></pre>\n<p>And standard error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.042 CEST|SSLCipher.java:438|jdk.tls.keyLimits: entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|ERROR|01|main|2021-06-10 08:28:39.306 CEST|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\nat javax.mail.Service.connect(Service.java:295)\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)}\n\n)\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1638|close the underlying socket\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\njavax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\nat javax.mail.Service.connect(Service.java:295)\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\n... 6 more\n</code></pre>\n<p>On the Postfix server side, OpenSSL 1.1.1 is installed:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#&gt; openssl version\nOpenSSL 1.1.1d  10 Sep 2019\n</code></pre>\n<p>I don't believe that Java is using OpenSSL internally, but the client side openssl version (<a href=\"https://en.wikipedia.org/wiki/CentOS\" rel=\"noreferrer\">CentOS</a>/<a href=\"https://en.wikipedia.org/wiki/Red_Hat_Enterprise_Linux\" rel=\"noreferrer\">RHEL</a> 7) may be also interesting:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#&gt; openssl version\nOpenSSL 1.0.2k-fips  26 Jan 2017\n</code></pre>\n"},{"tags":["java","lambda","java-8","final"],"comments":[{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":7,"creation_date":1406799234,"post_id":25055392,"comment_id":38974813,"body_markdown":"Related: [Why are only final variables accessible in anonymous class?](http://stackoverflow.com/questions/4732544)","body":"Related: <a href=\"http://stackoverflow.com/questions/4732544\">Why are only final variables accessible in anonymous class?</a>"},{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":0,"creation_date":1528316339,"post_id":25055392,"comment_id":88465705,"body_markdown":"Let be known that at least with the latest version of the compiler java 1.8 local variables only need to be effectively final so they don&#39;t need to be declared final per se but the cannot be modified.","body":"Let be known that at least with the latest version of the compiler java 1.8 local variables only need to be effectively final so they don&#39;t need to be declared final per se but the cannot be modified."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1538640338,"post_id":25055392,"comment_id":92216028,"body_markdown":"After reading all the answers here, I still think it&#39;s just a rule enforced by the compiler, designed to minimize programmer error - that is, there is no technical reason why mutable local variables can&#39;t be captured, or why captured local variables can&#39;t be mutated, for that matter. This point is supported by the fact that this rule can be readily circumvented by using an object wrapper (so the object reference is effectively final, but not the object itself). Another way is to create an array, i.e. `Integer[] count = {new Integer(5)}`. See also https://stackoverflow.com/a/50457016/7154924.","body":"After reading all the answers here, I still think it&#39;s just a rule enforced by the compiler, designed to minimize programmer error - that is, there is no technical reason why mutable local variables can&#39;t be captured, or why captured local variables can&#39;t be mutated, for that matter. This point is supported by the fact that this rule can be readily circumvented by using an object wrapper (so the object reference is effectively final, but not the object itself). Another way is to create an array, i.e. <code>Integer[] count = {new Integer(5)}</code>. See also <a href=\"https://stackoverflow.com/a/50457016/7154924\">stackoverflow.com/a/50457016/7154924</a>."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1589584632,"post_id":25055392,"comment_id":109362260,"body_markdown":"@McDowell, lambda&#39;s are not merely syntax sugar for anonymous classes but a different construct altogether.","body":"@McDowell, lambda&#39;s are not merely syntax sugar for anonymous classes but a different construct altogether."},{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":0,"creation_date":1676653987,"post_id":25055392,"comment_id":133187312,"body_markdown":"@flow2k this is ok only as long as the reference to &quot;count&quot; doesn&#39;t change which is not the same as changing the value that points to it. Reference to the value must be final/effectively final, not the value itself. Considering this and article http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/ it does make sense why allowing a mutable reference will have undesirable effects.","body":"@flow2k this is ok only as long as the reference to &quot;count&quot; doesn&#39;t change which is not the same as changing the value that points to it. Reference to the value must be final/effectively final, not the value itself. Considering this and article <a href=\"http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/\" rel=\"nofollow noreferrer\">lambdafaq.org/&hellip;</a> it does make sense why allowing a mutable reference will have undesirable effects."}],"answers":[{"comments":[{"owner":{"account_id":1768281,"reputation":2824,"user_id":1613613,"accept_rate":89,"display_name":"Gerard"},"score":3,"creation_date":1406799311,"post_id":25055489,"comment_id":38974860,"body_markdown":"Yes, but instance variables can be referenced and assigned in a lambda, which is surprising to me. Only local variables have the `final` limitation.","body":"Yes, but instance variables can be referenced and assigned in a lambda, which is surprising to me. Only local variables have the <code>final</code> limitation."},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1406799557,"post_id":25055489,"comment_id":38975003,"body_markdown":"@Gerard Because an instance variable has the scope of the whole class. This is exactly the same logic as for an anonymous class - there are plenty of tutorials explaining the logic.","body":"@Gerard Because an instance variable has the scope of the whole class. This is exactly the same logic as for an anonymous class - there are plenty of tutorials explaining the logic."}],"tags":[],"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1406799201,"creation_date":1406799201,"answer_id":25055489,"question_id":25055392,"body_markdown":"It seems like you are asking about variables that you can reference from a lambda body.\r\n\r\nFrom the [JLS &#167;15.27.2][1]\r\n\r\n&gt; Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be declared final or be effectively final (&#167;4.12.4), or a compile-time error occurs where the use is attempted.\r\n\r\nSo you don&#39;t need to declare variables as `final` you just need to make sure that they are &quot;effectively final&quot;. This is the same rule as applies to anonymous classes.\r\n\r\n[1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>It seems like you are asking about variables that you can reference from a lambda body.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\">JLS §15.27.2</a></p>\n\n<blockquote>\n  <p>Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be declared final or be effectively final (§4.12.4), or a compile-time error occurs where the use is attempted.</p>\n</blockquote>\n\n<p>So you don't need to declare variables as <code>final</code> you just need to make sure that they are \"effectively final\". This is the same rule as applies to anonymous classes.</p>\n"},{"comments":[{"owner":{"account_id":1768281,"reputation":2824,"user_id":1613613,"accept_rate":89,"display_name":"Gerard"},"score":0,"creation_date":1406800157,"post_id":25055561,"comment_id":38975336,"body_markdown":"Right, then the anonymous class constructor doesn&#39;t need to copy the instance variable because it can just reference it. Good explanation!","body":"Right, then the anonymous class constructor doesn&#39;t need to copy the instance variable because it can just reference it. Good explanation!"}],"tags":[],"owner":{"account_id":396919,"reputation":3944,"user_id":760757,"display_name":"Adam Adamaszek"},"comment_count":1,"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1460019275,"creation_date":1406799444,"answer_id":25055561,"question_id":25055392,"body_markdown":"The fundamental difference between a field and a local variable is that the local variable is ***copied*** when JVM creates a lambda instance. On the other hand, fields can be changed freely, because the changes to them are propagated to the outside class instance as well (their *scope* is the whole outside class, as Boris pointed out below).\r\n\r\nThe easiest way of thinking about anonymous classes, closures and labmdas is from the *variable scope* perspective; imagine a copy constructor added for all local variables you pass to a closure.\r\n","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>The fundamental difference between a field and a local variable is that the local variable is <strong><em>copied</em></strong> when JVM creates a lambda instance. On the other hand, fields can be changed freely, because the changes to them are propagated to the outside class instance as well (their <em>scope</em> is the whole outside class, as Boris pointed out below).</p>\n\n<p>The easiest way of thinking about anonymous classes, closures and labmdas is from the <em>variable scope</em> perspective; imagine a copy constructor added for all local variables you pass to a closure.</p>\n"},{"tags":[],"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1675929018,"creation_date":1406799967,"answer_id":25055739,"question_id":25055392,"body_markdown":"In a document of project lambda, [State of the Lambda v4][1], under Section **7. Variable capture**, it is mentioned that:\r\n\r\n&gt; It is our intent to prohibit capture of mutable local variables. The\r\n&gt; reason is that idioms like this:\r\n&gt;\r\n&gt;     int sum = 0;\r\n&gt;     list.forEach(e -&gt; { sum += e.size(); });\r\n&gt;\r\n&gt; are fundamentally serial; it is quite difficult to write lambda bodies\r\n&gt; like this that do not have race conditions. Unless we are willing to\r\n&gt; enforce—preferably at compile time—that such a function cannot escape\r\n&gt; its capturing thread, this feature may well cause more trouble than it\r\n&gt; solves.\r\n\r\nAnother thing to note here is, local variables are passed in the constructor of an inner class when you access them inside your inner class, and this won&#39;t work with non-final variable because value of non-final variables can be changed after construction.\r\n\r\nWhile in case of an instance variable, the compiler passes a reference of the object and object reference will be used to access instance variables. So, it is not required in case of instance variables.\r\n\r\nPS : It is worth mentioning that anonymous classes can access only final local variables (in Java SE 7), while in Java SE 8 you can access effectively final variables also inside lambda as well as inner classes.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-4.html","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>In a document of project lambda, <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/lambda/lambda-state-4.html\" rel=\"nofollow noreferrer\">State of the Lambda v4</a>, under Section <strong>7. Variable capture</strong>, it is mentioned that:</p>\n<blockquote>\n<p>It is our intent to prohibit capture of mutable local variables. The\nreason is that idioms like this:</p>\n<pre><code>int sum = 0;\nlist.forEach(e -&gt; { sum += e.size(); });\n</code></pre>\n<p>are fundamentally serial; it is quite difficult to write lambda bodies\nlike this that do not have race conditions. Unless we are willing to\nenforce—preferably at compile time—that such a function cannot escape\nits capturing thread, this feature may well cause more trouble than it\nsolves.</p>\n</blockquote>\n<p>Another thing to note here is, local variables are passed in the constructor of an inner class when you access them inside your inner class, and this won't work with non-final variable because value of non-final variables can be changed after construction.</p>\n<p>While in case of an instance variable, the compiler passes a reference of the object and object reference will be used to access instance variables. So, it is not required in case of instance variables.</p>\n<p>PS : It is worth mentioning that anonymous classes can access only final local variables (in Java SE 7), while in Java SE 8 you can access effectively final variables also inside lambda as well as inner classes.</p>\n"},{"comments":[{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":0,"creation_date":1552038707,"post_id":25066143,"comment_id":96869418,"body_markdown":"Nice explanation for this question","body":"Nice explanation for this question"}],"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1406830557,"creation_date":1406830557,"answer_id":25066143,"question_id":25055392,"body_markdown":"Because instance variables are always accessed through a field access operation on a reference to some object, i.e. `some_expression.instance_variable`. Even when you don&#39;t explicitly access it through dot notation, like `instance_variable`, it is implicitly treated as `this.instance_variable` (or if you&#39;re in an inner class accessing an outer class&#39;s instance variable, `OuterClass.this.instance_variable`, which is under the hood `this.&lt;hidden reference to outer this&gt;.instance_variable`).\r\n\r\nThus an instance variable is never directly accessed, and the real &quot;variable&quot; you&#39;re directly accessing is `this` (which is &quot;effectively final&quot; since it is not assignable), or a variable at the beginning of some other expression.","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>Because instance variables are always accessed through a field access operation on a reference to some object, i.e. <code>some_expression.instance_variable</code>. Even when you don't explicitly access it through dot notation, like <code>instance_variable</code>, it is implicitly treated as <code>this.instance_variable</code> (or if you're in an inner class accessing an outer class's instance variable, <code>OuterClass.this.instance_variable</code>, which is under the hood <code>this.&lt;hidden reference to outer this&gt;.instance_variable</code>).</p>\n\n<p>Thus an instance variable is never directly accessed, and the real \"variable\" you're directly accessing is <code>this</code> (which is \"effectively final\" since it is not assignable), or a variable at the beginning of some other expression.</p>\n"},{"tags":[],"owner":{"account_id":4772387,"reputation":147,"user_id":3856718,"display_name":"losty"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1408608335,"creation_date":1408608335,"answer_id":25421211,"question_id":25055392,"body_markdown":"Here is a code example, as I didn&#39;t expect this either, I expected to be unable to modify anything outside my lambda\r\n\r\n\r\n     public class LambdaNonFinalExample {\r\n        static boolean odd = false;\r\n     \r\n        public static void main(String[] args) throws Exception {\r\n           //boolean odd = false; - If declared inside the method then I get the expected &quot;Effectively Final&quot; compile error\r\n           runLambda(() -&gt; odd = true);\r\n           System.out.println(&quot;Odd=&quot; + odd);\r\n        }\r\n     \r\n        public static void runLambda(Callable c) throws Exception {\r\n           c.call();\r\n        }\r\n     \r\n     }\r\n\r\nOutput:\r\n     Odd=true","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>Here is a code example, as I didn't expect this either, I expected to be unable to modify anything outside my lambda</p>\n\n<pre><code> public class LambdaNonFinalExample {\n    static boolean odd = false;\n\n    public static void main(String[] args) throws Exception {\n       //boolean odd = false; - If declared inside the method then I get the expected \"Effectively Final\" compile error\n       runLambda(() -&gt; odd = true);\n       System.out.println(\"Odd=\" + odd);\n    }\n\n    public static void runLambda(Callable c) throws Exception {\n       c.call();\n    }\n\n }\n</code></pre>\n\n<p>Output:\n     Odd=true</p>\n"},{"tags":[],"owner":{"account_id":6381340,"reputation":131,"user_id":4950679,"display_name":"nasioman"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1437322108,"creation_date":1437321191,"answer_id":31503057,"question_id":25055392,"body_markdown":"Within Lambda expressions you can use effectively final variables from the surrounding scope.\r\nEffectively means that it is not mandatory to declare variable final but make sure you do not change its state within the lambda expresssion.\r\n\r\nYou can also use this within closures and using &quot;this&quot; means the enclosing object but not the lambda itself as closures are anonymous functions and they do not have class associated with them.\r\n\r\nSo when you use any field (let say private Integer i;)from the enclosing class which is not declared final and not effectively final it will still work as the compiler makes the trick on your behalf and insert &quot;this&quot; (this.i).\r\n\r\n    private Integer i = 0;\r\n\tpublic  void process(){\r\n\t\tConsumer&lt;Integer&gt; c = (i)-&gt; System.out.println(++this.i);\r\n\t\tc.accept(i);\r\n\t}\r\n","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>Within Lambda expressions you can use effectively final variables from the surrounding scope.\nEffectively means that it is not mandatory to declare variable final but make sure you do not change its state within the lambda expresssion.</p>\n\n<p>You can also use this within closures and using \"this\" means the enclosing object but not the lambda itself as closures are anonymous functions and they do not have class associated with them.</p>\n\n<p>So when you use any field (let say private Integer i;)from the enclosing class which is not declared final and not effectively final it will still work as the compiler makes the trick on your behalf and insert \"this\" (this.i).</p>\n\n<pre><code>private Integer i = 0;\npublic  void process(){\n    Consumer&lt;Integer&gt; c = (i)-&gt; System.out.println(++this.i);\n    c.accept(i);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":1,"creation_date":1526104258,"post_id":43771031,"comment_id":87622928,"body_markdown":"I really think there are some issues in **Java 8 in Action** in this point. If the **local variable** here refers to the variables created in the method but accessed by the lambdas, and the multi-thread is achieved by `ForkJoin`, then there will be a copy for different threads and mutation in lambdas is acceptable theoretically, in which case it can be **mutated**. But the thing here is different, **local variables** used in lambda is for **parallelisation** achieved by `parallelStream`, and these **local variables** are shared by different threads which are based on the **lambdas**.","body":"I really think there are some issues in <b>Java 8 in Action</b> in this point. If the <b>local variable</b> here refers to the variables created in the method but accessed by the lambdas, and the multi-thread is achieved by <code>ForkJoin</code>, then there will be a copy for different threads and mutation in lambdas is acceptable theoretically, in which case it can be <b>mutated</b>. But the thing here is different, <b>local variables</b> used in lambda is for <b>parallelisation</b> achieved by <code>parallelStream</code>, and these <b>local variables</b> are shared by different threads which are based on the <b>lambdas</b>."},{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":0,"creation_date":1526104304,"post_id":43771031,"comment_id":87622939,"body_markdown":"So the **first point** is actually not right, there is no **so-called copy**, it&#39;s shared among threads in parallelStream. And sharing mutable variables among threads is dangerous just like the **Second point**. That&#39;s why we prevent it and introduce built-in methods in Stream to handle these cases.","body":"So the <b>first point</b> is actually not right, there is no <b>so-called copy</b>, it&#39;s shared among threads in parallelStream. And sharing mutable variables among threads is dangerous just like the <b>Second point</b>. That&#39;s why we prevent it and introduce built-in methods in Stream to handle these cases."}],"tags":[],"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1493850610,"creation_date":1493850610,"answer_id":43771031,"question_id":25055392,"body_markdown":"In [Java 8 in Action][1] book, this situation is explained as:\r\n\r\n&gt; You may be asking yourself why local variables have these restrictions. \r\nFirst, there’s a key\r\ndifference in how instance and local variables are implemented behind the scenes. Instance\r\nvariables are stored on the heap, whereas local variables live on the stack. If a lambda could\r\naccess the local variable directly and the lambda were used in a thread, then the thread using the\r\nlambda could try to access the variable after the thread that allocated the variable had\r\ndeallocated it. Hence, Java implements access to a free local variable as access to a copy of it\r\nrather than access to the original variable. This makes no difference if the local variable is\r\nassigned to only once—hence the restriction.\r\nSecond, this restriction also discourages typical imperative programming patterns (which, as we\r\nexplain in later chapters, prevent easy parallelization) that mutate an outer variable.\r\n\r\n\r\n  [1]: https://www.manning.com/books/java-8-in-action","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>In <a href=\"https://www.manning.com/books/java-8-in-action\" rel=\"noreferrer\">Java 8 in Action</a> book, this situation is explained as:</p>\n\n<blockquote>\n  <p>You may be asking yourself why local variables have these restrictions. \n  First, there’s a key\n  difference in how instance and local variables are implemented behind the scenes. Instance\n  variables are stored on the heap, whereas local variables live on the stack. If a lambda could\n  access the local variable directly and the lambda were used in a thread, then the thread using the\n  lambda could try to access the variable after the thread that allocated the variable had\n  deallocated it. Hence, Java implements access to a free local variable as access to a copy of it\n  rather than access to the original variable. This makes no difference if the local variable is\n  assigned to only once—hence the restriction.\n  Second, this restriction also discourages typical imperative programming patterns (which, as we\n  explain in later chapters, prevent easy parallelization) that mutate an outer variable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526102261,"creation_date":1526096786,"answer_id":50302655,"question_id":25055392,"body_markdown":"YES, you can change the **member variables** of the instance but you **CANNOT** change the instance itself just like when you handle **variables**. \r\n\r\nSomething like this as mentioned:\r\n\r\n        class Car {\r\n            public String name;\r\n        }\r\n    \r\n        public void testLocal() {\r\n            int theLocal = 6;\r\n            Car bmw = new Car();\r\n            bmw.name = &quot;BMW&quot;;\r\n            Stream.iterate(0, i -&gt; i + 2).limit(2)\r\n            .forEach(i -&gt; {\r\n    //            bmw = new Car(); // LINE - 1;\r\n                bmw.name = &quot;BMW NEW&quot;; // LINE - 2;\r\n                System.out.println(&quot;Testing local variables: &quot; + (theLocal + i));\r\n                \r\n            });\r\n            // have to comment this to ensure it&#39;s `effectively final`;\r\n    //        theLocal = 2; \r\n        }\r\n\r\nThe basic principle to restrict the **local variables** is about [data and computation validity](http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/)\r\n\r\n&gt; If the lambda, evaluated by the second thread, were given the ability to mutate local variables. Even the ability to read the value of mutable local variables from a different thread would introduce the necessity for **synchronization** or the use of **volatile** in order to avoid reading stale data.\r\n\r\nBut as we know the [**principal purpose** of the lambdas](http://www.lambdafaq.org/why-are-lambda-expressions-being-added-to-java/) \r\n\r\n&gt; Amongst the different reasons for this, the most pressing one for the Java platform is that they make it easier to distribute processing of collections over **multiple threads**. \r\n\r\nQuite unlike local variables, local **instance** can be mutated, because it&#39;s **shared** globally. We can understand this better via the [heap and stack difference](https://www.journaldev.com/4098/java-heap-space-vs-stack-memory): \r\n\r\n&gt; Whenever an object is created, it’s always stored in the Heap space and stack memory contains the reference to it. Stack memory only contains local primitive variables and reference variables to objects in heap space.\r\n\r\nSo to sum up, there are two points I think really matter:\r\n\r\n1. It&#39;s really hard to make the **instance** *effectively final*, which might cause lots of senseless burden (just imagine the deep-nested class);\r\n\r\n2. the instance itself is already globally shared and lambda is also shareable among threads, so they can work together properly since we know we&#39;re handling the **mutation** and want to pass this mutation around; \r\n\r\nBalance point here is clear: if you know what you are doing, you can do it **easily** but if not then the **default restriction** will help to avoid *insidious* bugs. \r\n\r\nP.S. If the *synchronization* required in **instance mutation**, you can use directly the [stream reduction methods](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) or if there is dependency issue in **instance mutation**, you still can use `thenApply` or `thenCompose` in [Function](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html) while `mapping` or methods similar. ","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>YES, you can change the <strong>member variables</strong> of the instance but you <strong>CANNOT</strong> change the instance itself just like when you handle <strong>variables</strong>. </p>\n\n<p>Something like this as mentioned:</p>\n\n<pre><code>    class Car {\n        public String name;\n    }\n\n    public void testLocal() {\n        int theLocal = 6;\n        Car bmw = new Car();\n        bmw.name = \"BMW\";\n        Stream.iterate(0, i -&gt; i + 2).limit(2)\n        .forEach(i -&gt; {\n//            bmw = new Car(); // LINE - 1;\n            bmw.name = \"BMW NEW\"; // LINE - 2;\n            System.out.println(\"Testing local variables: \" + (theLocal + i));\n\n        });\n        // have to comment this to ensure it's `effectively final`;\n//        theLocal = 2; \n    }\n</code></pre>\n\n<p>The basic principle to restrict the <strong>local variables</strong> is about <a href=\"http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/\" rel=\"nofollow noreferrer\">data and computation validity</a></p>\n\n<blockquote>\n  <p>If the lambda, evaluated by the second thread, were given the ability to mutate local variables. Even the ability to read the value of mutable local variables from a different thread would introduce the necessity for <strong>synchronization</strong> or the use of <strong>volatile</strong> in order to avoid reading stale data.</p>\n</blockquote>\n\n<p>But as we know the <a href=\"http://www.lambdafaq.org/why-are-lambda-expressions-being-added-to-java/\" rel=\"nofollow noreferrer\"><strong>principal purpose</strong> of the lambdas</a> </p>\n\n<blockquote>\n  <p>Amongst the different reasons for this, the most pressing one for the Java platform is that they make it easier to distribute processing of collections over <strong>multiple threads</strong>. </p>\n</blockquote>\n\n<p>Quite unlike local variables, local <strong>instance</strong> can be mutated, because it's <strong>shared</strong> globally. We can understand this better via the <a href=\"https://www.journaldev.com/4098/java-heap-space-vs-stack-memory\" rel=\"nofollow noreferrer\">heap and stack difference</a>: </p>\n\n<blockquote>\n  <p>Whenever an object is created, it’s always stored in the Heap space and stack memory contains the reference to it. Stack memory only contains local primitive variables and reference variables to objects in heap space.</p>\n</blockquote>\n\n<p>So to sum up, there are two points I think really matter:</p>\n\n<ol>\n<li><p>It's really hard to make the <strong>instance</strong> <em>effectively final</em>, which might cause lots of senseless burden (just imagine the deep-nested class);</p></li>\n<li><p>the instance itself is already globally shared and lambda is also shareable among threads, so they can work together properly since we know we're handling the <strong>mutation</strong> and want to pass this mutation around; </p></li>\n</ol>\n\n<p>Balance point here is clear: if you know what you are doing, you can do it <strong>easily</strong> but if not then the <strong>default restriction</strong> will help to avoid <em>insidious</em> bugs. </p>\n\n<p>P.S. If the <em>synchronization</em> required in <strong>instance mutation</strong>, you can use directly the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">stream reduction methods</a> or if there is dependency issue in <strong>instance mutation</strong>, you still can use <code>thenApply</code> or <code>thenCompose</code> in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> while <code>mapping</code> or methods similar. </p>\n"},{"comments":[{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":2,"creation_date":1538640404,"post_id":51850049,"comment_id":92216070,"body_markdown":"Would you mind providing the source of the Oracle slide?","body":"Would you mind providing the source of the Oracle slide?"},{"owner":{"account_id":8550964,"reputation":3152,"user_id":6407858,"accept_rate":100,"display_name":"Yug Singh"},"score":0,"creation_date":1540844172,"post_id":51850049,"comment_id":93005870,"body_markdown":"@hagrawal could you please elaborate your final statement regarding multi-threaded environment? Is it with respect to actual value of member variable at any time since many threads are running at same time so they can override the instance variable. Also, if I synchronize the member variables properly then also the problem remains?","body":"@hagrawal could you please elaborate your final statement regarding multi-threaded environment? Is it with respect to actual value of member variable at any time since many threads are running at same time so they can override the instance variable. Also, if I synchronize the member variables properly then also the problem remains?"},{"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":1,"creation_date":1544074662,"post_id":51850049,"comment_id":94149137,"body_markdown":"best answer for the question I guess ;)","body":"best answer for the question I guess ;)"}],"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1534282276,"creation_date":1534282276,"answer_id":51850049,"question_id":25055392,"body_markdown":"*Putting up some concepts for future visitors:*\r\n\r\nBasically it all boils down to the point that **compiler should be able to deterministically tell that lambda expression body is not working on a stale copy of the variables**. \r\n\r\nIn case of local variables, compiler has no way to be sure that lambda expression body is not working on a stale copy of the variable unless that variable is final or effectively final, so local variables should be either final or effectively final.\r\n\r\nNow, in case of instance fields, when you access an instance field inside the lambda expression then compiler will append a `this` to that variable access (if you have not done it explicitly) and since `this` is effectively final so compiler is sure that lambda expression body will always have the latest copy of the variable (please note that multi-threading is out of scope right now for this discussion). So, in case instance fields, compiler can tell that lambda body has latest copy of instance variable so instance variables need not to be final or effectively final.  Please refer below screen shot from an Oracle slide:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, please note that if you are accessing an instance field in lambda expression and that is getting executed in multi-threaded environment then you could potentially run in problem.\r\n\r\n  [1]: https://i.stack.imgur.com/QOQmt.png","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p><em>Putting up some concepts for future visitors:</em></p>\n\n<p>Basically it all boils down to the point that <strong>compiler should be able to deterministically tell that lambda expression body is not working on a stale copy of the variables</strong>. </p>\n\n<p>In case of local variables, compiler has no way to be sure that lambda expression body is not working on a stale copy of the variable unless that variable is final or effectively final, so local variables should be either final or effectively final.</p>\n\n<p>Now, in case of instance fields, when you access an instance field inside the lambda expression then compiler will append a <code>this</code> to that variable access (if you have not done it explicitly) and since <code>this</code> is effectively final so compiler is sure that lambda expression body will always have the latest copy of the variable (please note that multi-threading is out of scope right now for this discussion). So, in case instance fields, compiler can tell that lambda body has latest copy of instance variable so instance variables need not to be final or effectively final.  Please refer below screen shot from an Oracle slide:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QOQmt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QOQmt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also, please note that if you are accessing an instance field in lambda expression and that is getting executed in multi-threaded environment then you could potentially run in problem.</p>\n"},{"tags":[],"owner":{"account_id":10255582,"reputation":21,"user_id":7568528,"display_name":"Sambhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579369026,"creation_date":1579368715,"answer_id":59803124,"question_id":25055392,"body_markdown":"First, there is a key difference in how local and instance variables are implemented behind the scenes. Instance variables are stored in the heap, whereas local variables stored in the stack.\r\nIf the lambda could access the local variable directly and the lambda was used in a thread, then the thread using the lambda could try to access the variable after the thread that allocated the variable had deallocated it.\r\n\r\nIn short: to ensure another thread does not override the original value, it is better to provide access to the copy variable rather than the original one.\r\n\r\n","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>First, there is a key difference in how local and instance variables are implemented behind the scenes. Instance variables are stored in the heap, whereas local variables stored in the stack.\nIf the lambda could access the local variable directly and the lambda was used in a thread, then the thread using the lambda could try to access the variable after the thread that allocated the variable had deallocated it.</p>\n\n<p>In short: to ensure another thread does not override the original value, it is better to provide access to the copy variable rather than the original one.</p>\n"}],"owner":{"account_id":1768281,"reputation":2824,"user_id":1613613,"accept_rate":89,"display_name":"Gerard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89326,"favorite_count":0,"down_vote_count":1,"up_vote_count":81,"accepted_answer_id":25055561,"answer_count":10,"score":80,"last_activity_date":1675929018,"creation_date":1406798939,"question_id":25055392,"body_markdown":"In a lambda, local variables need to be final, but instance variables don&#39;t. Why so?","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>In a lambda, local variables need to be final, but instance variables don't. Why so?</p>\n"},{"tags":["java","linux","spring-boot"],"comments":[{"owner":{"account_id":20504373,"reputation":13,"user_id":18131215,"display_name":"Eliana Ch&#225;vez Valencia"},"score":0,"creation_date":1675887675,"post_id":75391156,"comment_id":133027127,"body_markdown":"No it isn&#39;t :(  &#39;Cause the devops tool we use copy the jar files outside the project folder.","body":"No it isn&#39;t :(  &#39;Cause the devops tool we use copy the jar files outside the project folder."}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675928719,"creation_date":1675928719,"answer_id":75395578,"question_id":75391156,"body_markdown":"Reading the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html) of `URLClassLoader` we find:\r\n\r\n&gt; This class loader is used to load classes and resources from a search path of URLs referring to both JAR files and directories. Any `jar:` scheme URL (see [JarURLConnection](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html)) is assumed to refer to a JAR file.\r\n\r\nand following the above [link](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html) to `JarURLConnection`:\r\n\r\n&gt; The syntax of a JAR URL is:\r\n&gt; \r\n&gt;  `jar:&lt;url&gt;!/{entry}`  \r\n&gt;\r\n&gt; . . . If the entry name is omitted, the URL refers to the whole JAR file: `jar:http://www.example.com/bar/baz.jar!/` **&#185;**\r\n&gt; \r\n\r\nPutting these together, we get, for the first JAR posted in question: \r\n\r\n`jar:file:/Users/test.user/test/library.jar!/`\r\n\r\n-----\r\n\r\n&lt;sub&gt;**1** address changed from `foo` to `example` since the first is not accepted by StackOverflow (apparently even not inside a quoted code) &lt;/sub&gt;","title":"Access an external jar file in Java","body":"<p>Reading the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>URLClassLoader</code> we find:</p>\n<blockquote>\n<p>This class loader is used to load classes and resources from a search path of URLs referring to both JAR files and directories. Any <code>jar:</code> scheme URL (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html\" rel=\"nofollow noreferrer\">JarURLConnection</a>) is assumed to refer to a JAR file.</p>\n</blockquote>\n<p>and following the above <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html\" rel=\"nofollow noreferrer\">link</a> to <code>JarURLConnection</code>:</p>\n<blockquote>\n<p>The syntax of a JAR URL is:</p>\n<p><code>jar:&lt;url&gt;!/{entry}</code></p>\n<p>. . . If the entry name is omitted, the URL refers to the whole JAR file: <code>jar:http://www.example.com/bar/baz.jar!/</code> <strong>¹</strong></p>\n</blockquote>\n<p>Putting these together, we get, for the first JAR posted in question:</p>\n<p><code>jar:file:/Users/test.user/test/library.jar!/</code></p>\n<hr />\n<p><sub><strong>1</strong> address changed from <code>foo</code> to <code>example</code> since the first is not accepted by StackOverflow (apparently even not inside a quoted code) </sub></p>\n"}],"owner":{"account_id":20504373,"reputation":13,"user_id":18131215,"display_name":"Eliana Ch&#225;vez Valencia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675928930,"creation_date":1675886454,"question_id":75391156,"body_markdown":"I&#39;m trying to access a specific class from an external jar library.\r\nI have configured the path in my properties file\r\n\r\n`test-library = file:/Users/test.user/test/library.jar`\r\n\r\n`test-library2 = file:/Users/test.user/test/library2.jar`\r\n\r\nThen I try to access it from the code but I get ClassNotFoundErrorException or IllegalArgumentException: URI is not absolute when I modify the path as follows\r\n\r\n`test-library = /Users/test.user/test/library.jar`\r\n\r\n`test-library2 = /Users/test.user/test/library2.jar`\r\n\r\nWhen I locate the jar files in the resources folder and specify the path as follows **it works fine.** \r\n\r\n`test-library = classpath:library/library.jar`\r\n\r\n`test-library2 = classpath:library/library2.jar`\r\n\r\nHowever I need to access the jar files because when the code is deployed we cannot have the jar files in the resource folder but in an external location.\r\n\r\n**What is the correct way to specify the path of the external jar files so java could find the classes I need?**\r\n \r\n\r\nThis is the code where I&#39;m invoking the external libraries and as I said before it works fine if the jar files are in the resource folder but I need to access the jar files from an external location in the machine.\r\n\r\n\r\n```\r\n@Value(&quot;${test-library}&quot;)\r\nString library;\r\n\r\n@Value(&quot;${test-library2}&quot;)\r\nString library2;\r\n\r\n  \r\npublic String testMethod(String text1, String text2) {\r\n try {\r\n   log.info(&quot;[testMethod] start process&quot;);\r\n\r\n   URLClassLoader urlClassLoader =\r\n          new URLClassLoader(\r\n              new URL[] {URI.create(library).toURL(), URI.create(library2).toURL()},\r\n              this.getClass().getClassLoader());\r\n\r\n      Class&lt;?&gt; classInstance = Class.forName(&quot;pro.test.service.TestService&quot;, true, urlClassLoader);\r\n      \r\n      Method getInstanceMethod = classInstance.getMethod(&quot;getInstance&quot;, String.class, String.class);\r\n\r\n      Object instance = getInstanceMethod.invoke(null, data1, data2);\r\n\r\n      Method libraryMethod = classInstance.getMethod(&quot;libraryMethod&quot;, String.class, String.class);\r\n\r\n      log.info(&quot;[testMethod] end process&quot;);\r\n\r\n      return (String) libraryMethod.invoke(instance, text1, text2);\r\n\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error testing library method: &quot;, e);\r\n      throw e;\r\n    }\r\n  }```\r\n","title":"Access an external jar file in Java","body":"<p>I'm trying to access a specific class from an external jar library.\nI have configured the path in my properties file</p>\n<p><code>test-library = file:/Users/test.user/test/library.jar</code></p>\n<p><code>test-library2 = file:/Users/test.user/test/library2.jar</code></p>\n<p>Then I try to access it from the code but I get ClassNotFoundErrorException or IllegalArgumentException: URI is not absolute when I modify the path as follows</p>\n<p><code>test-library = /Users/test.user/test/library.jar</code></p>\n<p><code>test-library2 = /Users/test.user/test/library2.jar</code></p>\n<p>When I locate the jar files in the resources folder and specify the path as follows <strong>it works fine.</strong></p>\n<p><code>test-library = classpath:library/library.jar</code></p>\n<p><code>test-library2 = classpath:library/library2.jar</code></p>\n<p>However I need to access the jar files because when the code is deployed we cannot have the jar files in the resource folder but in an external location.</p>\n<p><strong>What is the correct way to specify the path of the external jar files so java could find the classes I need?</strong></p>\n<p>This is the code where I'm invoking the external libraries and as I said before it works fine if the jar files are in the resource folder but I need to access the jar files from an external location in the machine.</p>\n<pre><code>@Value(&quot;${test-library}&quot;)\nString library;\n\n@Value(&quot;${test-library2}&quot;)\nString library2;\n\n  \npublic String testMethod(String text1, String text2) {\n try {\n   log.info(&quot;[testMethod] start process&quot;);\n\n   URLClassLoader urlClassLoader =\n          new URLClassLoader(\n              new URL[] {URI.create(library).toURL(), URI.create(library2).toURL()},\n              this.getClass().getClassLoader());\n\n      Class&lt;?&gt; classInstance = Class.forName(&quot;pro.test.service.TestService&quot;, true, urlClassLoader);\n      \n      Method getInstanceMethod = classInstance.getMethod(&quot;getInstance&quot;, String.class, String.class);\n\n      Object instance = getInstanceMethod.invoke(null, data1, data2);\n\n      Method libraryMethod = classInstance.getMethod(&quot;libraryMethod&quot;, String.class, String.class);\n\n      log.info(&quot;[testMethod] end process&quot;);\n\n      return (String) libraryMethod.invoke(instance, text1, text2);\n\n    } catch (Exception e) {\n      log.error(&quot;Error testing library method: &quot;, e);\n      throw e;\n    }\n  }```\n</code></pre>\n"},{"tags":["java","logstash","elastic-stack","elk"],"answers":[{"comments":[{"owner":{"account_id":11703318,"reputation":73,"user_id":8567637,"accept_rate":75,"display_name":"flixy"},"score":0,"creation_date":1622555355,"post_id":67790040,"comment_id":119821560,"body_markdown":"I am using logstash 6.8. Should I downgrade to 5?","body":"I am using logstash 6.8. Should I downgrade to 5?"},{"owner":{"account_id":16329104,"reputation":3983,"user_id":11792977,"display_name":"Badger"},"score":0,"creation_date":1622580396,"post_id":67790040,"comment_id":119831850,"body_markdown":"You could try that. I do not know all the version dependencies.","body":"You could try that. I do not know all the version dependencies."}],"tags":[],"owner":{"account_id":16329104,"reputation":3983,"user_id":11792977,"display_name":"Badger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622555116,"creation_date":1622555116,"answer_id":67790040,"question_id":67789961,"body_markdown":"You will need to install an older version of logstash. Currently your clickhouse plugin requires the http_client mixin to be less than 6.0.0, whilst the http output and http filter require the http_client mixin to be greater than or equal to 6.0.0.","title":"logstash-output-clickhouse throws error while installing plugin","body":"<p>You will need to install an older version of logstash. Currently your clickhouse plugin requires the http_client mixin to be less than 6.0.0, whilst the http output and http filter require the http_client mixin to be greater than or equal to 6.0.0.</p>\n"},{"tags":[],"owner":{"account_id":2551102,"reputation":5113,"user_id":2214831,"accept_rate":58,"display_name":"boycod3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675928896,"creation_date":1675928896,"answer_id":75395609,"question_id":67789961,"body_markdown":"instead of using .gem file, you can use.\r\n `./logstash-plugin install logstash-output-clickhouse`","title":"logstash-output-clickhouse throws error while installing plugin","body":"<p>instead of using .gem file, you can use.\n<code>./logstash-plugin install logstash-output-clickhouse</code></p>\n"}],"owner":{"account_id":11703318,"reputation":73,"user_id":8567637,"accept_rate":75,"display_name":"flixy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67790040,"answer_count":2,"score":0,"last_activity_date":1675928896,"creation_date":1622554836,"question_id":67789961,"body_markdown":"    Validating logstash-output-clickhouse-0.1.0.gem\r\n    Installing logstash-output-clickhouse\r\n    Plugin version conflict, aborting\r\n    ERROR: Installation Aborted, message: Bundler could not find compatible versions for gem &quot;logstash-mixin-http_client&quot;:\r\n      In snapshot (Gemfile.lock):\r\n        logstash-mixin-http_client (= 6.0.1)\r\n    \r\n      In Gemfile:\r\n        logstash-filter-http java was resolved to 1.0.2, which depends on\r\n          logstash-mixin-http_client (&gt;= 5.0.0, &lt; 9.0.0) java\r\n    \r\n        logstash-input-http_poller java was resolved to 4.0.5, which depends on\r\n          logstash-mixin-http_client (&gt;= 6.0.0, &lt; 7.0.0) java\r\n    \r\n        logstash-output-clickhouse (= 0.1.0) java was resolved to 0.1.0, which depends on\r\n          logstash-mixin-http_client (&gt;= 2.2.1, &lt; 6.0.0) java\r\n    \r\n        logstash-output-http java was resolved to 5.2.4, which depends on\r\n          logstash-mixin-http_client (&gt;= 6.0.0, &lt; 8.0.0) java\r\n    \r\n    Running `bundle update` will rebuild your snapshot from scratch, using only\r\n    the gems in your Gemfile, which may resolve the conflict.\r\n\r\n\r\nI&#39;m trying to install logstash-output-clickhouse-0.1.0.gem on Centos. And I&#39;m getting this error when I try to install the plugin using the below command.\r\n\r\n    bin/logstash-plugin install logstash-output-clickhouse-0.1.0.gem\r\n\r\n**Can anyone please explain what version needs to be upgrade or downgrade.**","title":"logstash-output-clickhouse throws error while installing plugin","body":"<pre><code>Validating logstash-output-clickhouse-0.1.0.gem\nInstalling logstash-output-clickhouse\nPlugin version conflict, aborting\nERROR: Installation Aborted, message: Bundler could not find compatible versions for gem &quot;logstash-mixin-http_client&quot;:\n  In snapshot (Gemfile.lock):\n    logstash-mixin-http_client (= 6.0.1)\n\n  In Gemfile:\n    logstash-filter-http java was resolved to 1.0.2, which depends on\n      logstash-mixin-http_client (&gt;= 5.0.0, &lt; 9.0.0) java\n\n    logstash-input-http_poller java was resolved to 4.0.5, which depends on\n      logstash-mixin-http_client (&gt;= 6.0.0, &lt; 7.0.0) java\n\n    logstash-output-clickhouse (= 0.1.0) java was resolved to 0.1.0, which depends on\n      logstash-mixin-http_client (&gt;= 2.2.1, &lt; 6.0.0) java\n\n    logstash-output-http java was resolved to 5.2.4, which depends on\n      logstash-mixin-http_client (&gt;= 6.0.0, &lt; 8.0.0) java\n\nRunning `bundle update` will rebuild your snapshot from scratch, using only\nthe gems in your Gemfile, which may resolve the conflict.\n</code></pre>\n<p>I'm trying to install logstash-output-clickhouse-0.1.0.gem on Centos. And I'm getting this error when I try to install the plugin using the below command.</p>\n<pre><code>bin/logstash-plugin install logstash-output-clickhouse-0.1.0.gem\n</code></pre>\n<p><strong>Can anyone please explain what version needs to be upgrade or downgrade.</strong></p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1487347421,"post_id":42302080,"comment_id":71759390,"body_markdown":"Welcome to SO.  Can you show us some code about what you&#39;ve tried so far?","body":"Welcome to SO.  Can you show us some code about what you&#39;ve tried so far?"}],"answers":[{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1487347269,"post_id":42302216,"comment_id":71759275,"body_markdown":"What particular technology would you use for a cross-database view? Considering there&#39;s no knowledge of actual databases being used.","body":"What particular technology would you use for a cross-database view? Considering there&#39;s no knowledge of actual databases being used."},{"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"score":0,"creation_date":1487347374,"post_id":42302216,"comment_id":71759358,"body_markdown":"It depends on the databases being used, but it&#39;s not an unusual solution.","body":"It depends on the databases being used, but it&#39;s not an unusual solution."},{"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"score":0,"creation_date":1487347419,"post_id":42302216,"comment_id":71759387,"body_markdown":"And particularly easy to implement, if e.g. you&#39;re using two different instances of Oracle.","body":"And particularly easy to implement, if e.g. you&#39;re using two different instances of Oracle."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1487347763,"post_id":42302216,"comment_id":71759650,"body_markdown":"True, if you&#39;re using the same databases. If you don&#39;t require referential integrity. It&#39;s not a *great* solution.","body":"True, if you&#39;re using the same databases. If you don&#39;t require referential integrity. It&#39;s not a <i>great</i> solution."},{"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"score":0,"creation_date":1487347965,"post_id":42302216,"comment_id":71759789,"body_markdown":"Well...the question doesn&#39;t give much info, so I opened the spectrum of solutions.","body":"Well...the question doesn&#39;t give much info, so I opened the spectrum of solutions."}],"tags":[],"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487347610,"creation_date":1487347109,"answer_id":42302216,"question_id":42302080,"body_markdown":"It&#39;s not impossible to have a ManyToOne relationship in JPA. Here you have an example:\r\n\r\nhttps://en.wikibooks.org/wiki/Java_Persistence/ManyToOne\r\n\r\nConcerning how to solve your particular problem using tables in two databases, you could use two different data sources, or a view on one of the databases, pointing to the table on the other one. The choice mainly depends on the nature of the databases you&#39;re trying to connect.","title":"JPA: many to one mapping from table in another database","body":"<p>It's not impossible to have a ManyToOne relationship in JPA. Here you have an example:</p>\n\n<p><a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne\" rel=\"nofollow noreferrer\">https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne</a></p>\n\n<p>Concerning how to solve your particular problem using tables in two databases, you could use two different data sources, or a view on one of the databases, pointing to the table on the other one. The choice mainly depends on the nature of the databases you're trying to connect.</p>\n"},{"tags":[],"owner":{"account_id":2973078,"reputation":2872,"user_id":2524749,"accept_rate":80,"display_name":"Bhetzie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487355382,"creation_date":1487355382,"answer_id":42304836,"question_id":42302080,"body_markdown":"Expanding on this answer (https://stackoverflow.com/questions/1301399/jpa-using-multiple-database-schemas) I think that you would need to do something like:\r\n\r\n    public class Schemas {\r\n      public static final String S1D=&quot;S1D&quot;;\r\n      public static final String S2D=&quot;S2D&quot;;\r\n    }\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;Tickets&quot;, schema=Schemas.S1D)\r\n    public class Tickets {\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;transaction_id&quot;)\r\n    \tprivate Transaction transaction;\r\n    \r\n    }\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;Transaction&quot;, schema=Schemas.S2D)\r\n    public class Transaction {\r\n    ...\r\n    }","title":"JPA: many to one mapping from table in another database","body":"<p>Expanding on this answer (<a href=\"https://stackoverflow.com/questions/1301399/jpa-using-multiple-database-schemas\">JPA using multiple database schemas</a>) I think that you would need to do something like:</p>\n\n<pre><code>public class Schemas {\n  public static final String S1D=\"S1D\";\n  public static final String S2D=\"S2D\";\n}\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = \"Tickets\", schema=Schemas.S1D)\npublic class Tickets {\n\n@ManyToOne\n@JoinColumn(name = \"transaction_id\")\n    private Transaction transaction;\n\n}\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = \"Transaction\", schema=Schemas.S2D)\npublic class Transaction {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13365877,"reputation":11,"user_id":9646171,"display_name":"Pritam Nath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675928873,"creation_date":1675497308,"answer_id":75343719,"question_id":42302080,"body_markdown":"Here is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:\r\n\r\nHere is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    \r\n    public class Category {\r\n    \r\n      @Id\r\n    \r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \r\n      private Long id;\r\n    \r\n    \r\n    \r\n      private String name;\r\n    \r\n    \r\n    \r\n      @ManyToMany(cascade = CascadeType.ALL)\r\n    \r\n      @JoinTable(\r\n    \r\n          name = &quot;category_mapping&quot;,\r\n    \r\n          joinColumns = @JoinColumn(name = &quot;category_id&quot;),\r\n    \r\n          inverseJoinColumns = @JoinColumn(name = &quot;child_id&quot;)\r\n    \r\n      )\r\n    \r\n      private Set&lt;Category&gt; children;\r\n    \r\n    \r\n    \r\n      // getters and setters\r\n    \r\n    }\r\n    \r\n    \r\n    @Entity\r\n    \r\n    public class CategoryMapping {\r\n    \r\n      @Id\r\n    \r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \r\n      private Long id;\r\n    \r\n    \r\n    \r\n      @ManyToOne\r\n    \r\n      @JoinColumn(name = &quot;category_id&quot;)\r\n    \r\n      private Category category;\r\n    \r\n    \r\n    \r\n      @ManyToOne\r\n    \r\n      @JoinColumn(name = &quot;child_id&quot;)\r\n    \r\n      private Category child;\r\n    \r\n    \r\n    \r\n      // getters and setters\r\n    }\r\n\r\n\r\n[check here][1]\r\n\r\n\r\n https://java-speed.blogspot.com/2023/02/jpa-implemntation-many-to-many-parent.html\r\n","title":"JPA: many to one mapping from table in another database","body":"<p>Here is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:</p>\n<p>Here is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:</p>\n<pre><code>@Entity\n\npublic class Category {\n\n  @Id\n\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n  private Long id;\n\n\n\n  private String name;\n\n\n\n  @ManyToMany(cascade = CascadeType.ALL)\n\n  @JoinTable(\n\n      name = &quot;category_mapping&quot;,\n\n      joinColumns = @JoinColumn(name = &quot;category_id&quot;),\n\n      inverseJoinColumns = @JoinColumn(name = &quot;child_id&quot;)\n\n  )\n\n  private Set&lt;Category&gt; children;\n\n\n\n  // getters and setters\n\n}\n\n\n@Entity\n\npublic class CategoryMapping {\n\n  @Id\n\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n  private Long id;\n\n\n\n  @ManyToOne\n\n  @JoinColumn(name = &quot;category_id&quot;)\n\n  private Category category;\n\n\n\n  @ManyToOne\n\n  @JoinColumn(name = &quot;child_id&quot;)\n\n  private Category child;\n\n\n\n  // getters and setters\n}\n</code></pre>\n<p>[check here][1]</p>\n<p><a href=\"https://java-speed.blogspot.com/2023/02/jpa-implemntation-many-to-many-parent.html\" rel=\"nofollow noreferrer\">https://java-speed.blogspot.com/2023/02/jpa-implemntation-many-to-many-parent.html</a></p>\n"}],"owner":{"account_id":10274173,"reputation":21,"user_id":7581659,"display_name":"Kap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1675928873,"creation_date":1487346665,"question_id":42302080,"body_markdown":"I have an existing table (let&#39;s call this Tickets), and I need to have a many-to-one relationship into a table in another database (let&#39;s call this Transaction). I know that it&#39;s impossible to have a many-to-one relationship in JPA, but what I am looking for is to connect these two tables without resorting to JPA. Also, merging these tables to one db is not an option (as per client request).\r\n\r\nI&#39;m at a loss here.\r\n\r\n","title":"JPA: many to one mapping from table in another database","body":"<p>I have an existing table (let's call this Tickets), and I need to have a many-to-one relationship into a table in another database (let's call this Transaction). I know that it's impossible to have a many-to-one relationship in JPA, but what I am looking for is to connect these two tables without resorting to JPA. Also, merging these tables to one db is not an option (as per client request).</p>\n\n<p>I'm at a loss here.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1675928220,"post_id":75395474,"comment_id":133033933,"body_markdown":"Can you explain why you think the code shouldn&#39;t work? You say you &quot;understand the concept&quot;, but evidently you don&#39;t...","body":"Can you explain why you think the code shouldn&#39;t work? You say you &quot;understand the concept&quot;, but evidently you don&#39;t..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1675928390,"post_id":75395474,"comment_id":133033989,"body_markdown":"`x` is a field, not a local variable, so the requirement for final/effectively final doesn&#39;t apply. Also, the rule doesn&#39;t exist to _&quot;protect[s] from side effects&quot;_, it has to do with the lifetime of local variables, which can be shorter than the lambda created in a method, so Java **copies** the variable to the lambda. The final/effectively final rule is there so you don&#39;t get weird behaviour (or weird expectations about behaviour).","body":"<code>x</code> is a field, not a local variable, so the requirement for final/effectively final doesn&#39;t apply. Also, the rule doesn&#39;t exist to <i>&quot;protect[s] from side effects&quot;</i>, it has to do with the lifetime of local variables, which can be shorter than the lambda created in a method, so Java <b>copies</b> the variable to the lambda. The final/effectively final rule is there so you don&#39;t get weird behaviour (or weird expectations about behaviour)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675928775,"post_id":75395474,"comment_id":133034082,"body_markdown":"IIRC the Java Language Specification doesn&#39;t actually specify that it must copy the variable just that it captures the variable, but AFAIK the capture is currently achieved by copying, because with the final/effectively final rule that is the simplest way to do so.","body":"IIRC the Java Language Specification doesn&#39;t actually specify that it must copy the variable just that it captures the variable, but AFAIK the capture is currently achieved by copying, because with the final/effectively final rule that is the simplest way to do so."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675931514,"post_id":75395474,"comment_id":133034792,"body_markdown":"If you meant that `x = i;` violates the requirement, I think of that as `Learn.this.x = i;` (it’s perfectly equivalent). Here `Learn.this` is considered final, which suffices to fulfil the requirement. You are allowed to modify the state of an object that you can reach over a final or effectively final reference. This is also why the usual tricks of using an `AtomicInteger` or an `int[1]` array work.","body":"If you meant that <code>x = i;</code> violates the requirement, I think of that as <code>Learn.this.x = i;</code> (it’s perfectly equivalent). Here <code>Learn.this</code> is considered final, which suffices to fulfil the requirement. You are allowed to modify the state of an object that you can reach over a final or effectively final reference. This is also why the usual tricks of using an <code>AtomicInteger</code> or an <code>int[1]</code> array work."},{"owner":{"account_id":10257386,"reputation":1,"user_id":7569852,"display_name":"Amit Sinha"},"score":0,"creation_date":1675932425,"post_id":75395474,"comment_id":133035066,"body_markdown":"@OleV.V  Thanks for the clarification . Yes that makes sense. Related question .. not having the constraint of final / effectively final for local variable ...what kind of complexity /ambiguity can arise","body":"@OleV.V  Thanks for the clarification . Yes that makes sense. Related question .. not having the constraint of final / effectively final for local variable ...what kind of complexity /ambiguity can arise"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675947891,"post_id":75395474,"comment_id":133039750,"body_markdown":"One case I can think of: you may pass the lambda to someone who executes it long after the method where it came from has returned. In that case the local variable that the lambda refers to does not exist anymore. By making sure that the local variable is effectively final, I suppose you can just pass its constant value along with the lambda.","body":"One case I can think of: you may pass the lambda to someone who executes it long after the method where it came from has returned. In that case the local variable that the lambda refers to does not exist anymore. By making sure that the local variable is effectively final, I suppose you can just pass its constant value along with the lambda."}],"owner":{"account_id":10257386,"reputation":1,"user_id":7569852,"display_name":"Amit Sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675928631,"answer_count":0,"score":0,"last_activity_date":1675928700,"creation_date":1675927887,"question_id":75395474,"body_markdown":"I understand the concept of final / effectively final within lambda , it essentially protects from side effects. However why the following code snippet works? Is it also not violating this behaviour?\r\n\r\n```\r\nimport java.util.stream.Stream;\r\n\r\npublic class Learn {\r\n    int x = 0;\r\n    Stream&lt;Integer&gt; numbers() {\r\n        x = x +1;\r\n        return Stream.iterate(0, i -&gt; {\r\n            int result = x + i;\r\n            x = i;\r\n            return result;\r\n        });\r\n    }\r\n    public static void main(String[] args) {\r\n\r\n        Learn l = new Learn();\r\n        l.numbers()\r\n                .skip(20) // Don&#39;t use the first 20\r\n                .limit(10) // Then take 10 of them\r\n                .forEach(System.out::println);\r\n        System.out.println(&quot;=====================&quot;);\r\n        System.out.println(l.x);\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n```none\r\n75025\r\n121393\r\n196418\r\n317811\r\n514229\r\n=====================\r\n317811\r\n```","title":"Java Lambda final / effectively final","body":"<p>I understand the concept of final / effectively final within lambda , it essentially protects from side effects. However why the following code snippet works? Is it also not violating this behaviour?</p>\n<pre><code>import java.util.stream.Stream;\n\npublic class Learn {\n    int x = 0;\n    Stream&lt;Integer&gt; numbers() {\n        x = x +1;\n        return Stream.iterate(0, i -&gt; {\n            int result = x + i;\n            x = i;\n            return result;\n        });\n    }\n    public static void main(String[] args) {\n\n        Learn l = new Learn();\n        l.numbers()\n                .skip(20) // Don't use the first 20\n                .limit(10) // Then take 10 of them\n                .forEach(System.out::println);\n        System.out.println(&quot;=====================&quot;);\n        System.out.println(l.x);\n\n\n    }\n}\n\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>75025\n121393\n196418\n317811\n514229\n=====================\n317811\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675903365,"creation_date":1675903365,"answer_id":75393117,"question_id":75393099,"body_markdown":"Autowire the `StudentMgtApiDelegate`; do not construct it manually.\r\n\r\n```java\r\n@Autowired\r\nStudentMgtApiDelegate delegate;\r\n```","title":"How do I call the retrieveStudents() from my cron job?","body":"<p>Autowire the <code>StudentMgtApiDelegate</code>; do not construct it manually.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nStudentMgtApiDelegate delegate;\n</code></pre>\n"}],"owner":{"account_id":27344222,"reputation":15,"user_id":20854393,"display_name":"jma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75393117,"answer_count":1,"score":1,"last_activity_date":1675928425,"creation_date":1675903192,"question_id":75393099,"body_markdown":"I&#39;m new to Java development and Spring/Springboot. I was tasked to create a cron job that would execute a query to a database. Although, my problem would focus on calling the function since it&#39;s already existing in the project. I&#39;m still quite confused and learning about Dependency Injection, Design Patterns and Spring. I tried to resolve this myself, but it&#39;s taking a while now -- so I figured to ask while I&#39;m also trying to figure it out just to save time in case they ask me for a deadline. Thank you so much in advance!\r\n\r\nThis is how the programs are generally structured:\r\n\r\n**QueryConfig.java**\r\n&lt;br&gt; This is a new and only file I created. I was able to make the cron job work, as I tried to put a logger inside runQuery() and it was able to run every 5 minutes as per the configuration file.\r\n```\r\n@RefreshScope\r\n@Component\r\npublic class QueryConfig {\r\n\r\n    @Value(&quot;${cron.job.query}&quot;)\r\n    private String sql;\r\n\r\n    String name = &quot;Bob&quot;;\r\n\r\n    StudentMgtApiDelegate delegate = new StudentMgtApiDelegateImpl();\r\n\r\n    @Scheduled(cron = &quot;${cron.job.schedule}&quot;, zone = &quot;${cron.job.timezone}&quot;)\r\n    public void runQuery() {\r\n        delegate.retrieveStudents(name);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**StudentMgtApiDelegateImpl.java**\r\n&lt;br&gt; Please also note that this is just a representation of the code since I cannot share the actual. I&#39;ll try my best to make it as close to the real implementation. There are 3 methods for the API, but I just want to call the retrieveStudents().\r\n```\r\n@Component\r\npublic class StudentMgtApiDelegateImpl implements StudentMgtApiDelegate {\r\n\r\n    @Autowired\r\n    private StudentFacade studentFacade;   \r\n\r\n    @Override\r\n    public ResponseEntity&lt;List&lt;Student&gt;&gt; retrieveStudents(String name) {\r\n        return ResponseEntity.ok(studentFacade.retrieveStudents(\r\n           ...\r\n        ));\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;StudentDetails&gt; retrieveStudentDetails(String name...) {\r\n        return ResponseEntity.ok(studentFacade.retrieveStudentDetails(\r\n           ...\r\n        ));\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;List&lt;CountBreakdown&gt;&gt; retrieveStudentCounts(String name) {\r\n        return ResponseEntity.ok(studentFacade.studentCountsRetrieve(\r\n           ...\r\n        ));\r\n    }  \r\n    \r\n}\r\n```\r\n\r\n**StudentFacade.java**\r\n\r\n```\r\npublic class StudentFacade {\r\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn;\r\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn;\r\n    private Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn;\r\n\r\n    public StudentFacade(Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn, Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn, Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn) {\r\n        this.studentListRetrieveFn = studentListRetrieveFn;\r\n        this.studentDetailsRetrieveFn = studentDetailsRetrieveFn;\r\n        this.studentCountsRetrieveFn = studentCountsRetrieveFn;\r\n    }\r\n\r\n    public List&lt;Student&gt; retrieveStudents(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\r\n        return Optional.ofNullable(wrapper).map(studentListRetrieveFn).orElse(null);\r\n    }\r\n\r\n    public StudentDetails retrieveStudentDetails(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\r\n        return Optional.ofNullable(wrapper).map(studentDetailsRetrieveFn).orElse(null);\r\n    }\r\n\r\n    public List&lt;CountBreakdown&gt; studentCountsRetrieve(DataWrapper&lt;StudentRetrieveCriteria&gt; wrapper) {\r\n        return Optional.ofNullable(wrapper).map(studentCountsRetrieveFn).orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nI apologize in advance for the many code omissions and I know some parameters won&#39;t match and make sense. But as of the current implementation in my QueryConfig.java, I am encountering this error:\r\n\r\n```\r\n[scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task \r\njava.lang.NullPointerException: null\r\n```\r\n\r\nI tried to debug and see the value of **delegate** inside the QueryConfig.java, and it has a studentFacade that is null.","title":"How do I call the retrieveStudents() from my cron job?","body":"<p>I'm new to Java development and Spring/Springboot. I was tasked to create a cron job that would execute a query to a database. Although, my problem would focus on calling the function since it's already existing in the project. I'm still quite confused and learning about Dependency Injection, Design Patterns and Spring. I tried to resolve this myself, but it's taking a while now -- so I figured to ask while I'm also trying to figure it out just to save time in case they ask me for a deadline. Thank you so much in advance!</p>\n<p>This is how the programs are generally structured:</p>\n<p><strong>QueryConfig.java</strong>\n<br> This is a new and only file I created. I was able to make the cron job work, as I tried to put a logger inside runQuery() and it was able to run every 5 minutes as per the configuration file.</p>\n<pre><code>@RefreshScope\n@Component\npublic class QueryConfig {\n\n    @Value(&quot;${cron.job.query}&quot;)\n    private String sql;\n\n    String name = &quot;Bob&quot;;\n\n    StudentMgtApiDelegate delegate = new StudentMgtApiDelegateImpl();\n\n    @Scheduled(cron = &quot;${cron.job.schedule}&quot;, zone = &quot;${cron.job.timezone}&quot;)\n    public void runQuery() {\n        delegate.retrieveStudents(name);\n    }\n\n}\n</code></pre>\n<p><strong>StudentMgtApiDelegateImpl.java</strong>\n<br> Please also note that this is just a representation of the code since I cannot share the actual. I'll try my best to make it as close to the real implementation. There are 3 methods for the API, but I just want to call the retrieveStudents().</p>\n<pre><code>@Component\npublic class StudentMgtApiDelegateImpl implements StudentMgtApiDelegate {\n\n    @Autowired\n    private StudentFacade studentFacade;   \n\n    @Override\n    public ResponseEntity&lt;List&lt;Student&gt;&gt; retrieveStudents(String name) {\n        return ResponseEntity.ok(studentFacade.retrieveStudents(\n           ...\n        ));\n    }\n\n    @Override\n    public ResponseEntity&lt;StudentDetails&gt; retrieveStudentDetails(String name...) {\n        return ResponseEntity.ok(studentFacade.retrieveStudentDetails(\n           ...\n        ));\n    }\n\n    @Override\n    public ResponseEntity&lt;List&lt;CountBreakdown&gt;&gt; retrieveStudentCounts(String name) {\n        return ResponseEntity.ok(studentFacade.studentCountsRetrieve(\n           ...\n        ));\n    }  \n    \n}\n</code></pre>\n<p><strong>StudentFacade.java</strong></p>\n<pre><code>public class StudentFacade {\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn;\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn;\n    private Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn;\n\n    public StudentFacade(Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn, Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn, Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn) {\n        this.studentListRetrieveFn = studentListRetrieveFn;\n        this.studentDetailsRetrieveFn = studentDetailsRetrieveFn;\n        this.studentCountsRetrieveFn = studentCountsRetrieveFn;\n    }\n\n    public List&lt;Student&gt; retrieveStudents(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\n        return Optional.ofNullable(wrapper).map(studentListRetrieveFn).orElse(null);\n    }\n\n    public StudentDetails retrieveStudentDetails(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\n        return Optional.ofNullable(wrapper).map(studentDetailsRetrieveFn).orElse(null);\n    }\n\n    public List&lt;CountBreakdown&gt; studentCountsRetrieve(DataWrapper&lt;StudentRetrieveCriteria&gt; wrapper) {\n        return Optional.ofNullable(wrapper).map(studentCountsRetrieveFn).orElse(null);\n    }\n}\n</code></pre>\n<p>I apologize in advance for the many code omissions and I know some parameters won't match and make sense. But as of the current implementation in my QueryConfig.java, I am encountering this error:</p>\n<pre><code>[scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task \njava.lang.NullPointerException: null\n</code></pre>\n<p>I tried to debug and see the value of <strong>delegate</strong> inside the QueryConfig.java, and it has a studentFacade that is null.</p>\n"},{"tags":["java","spring-boot","junit","flyway","spring-boot-test"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1675928079,"post_id":75395410,"comment_id":133033891,"body_markdown":"Flyway orders migrations by version number in the file name from the locations you define. Your example has every script at V1_0. Have you tried changing the versions to control the order?","body":"Flyway orders migrations by version number in the file name from the locations you define. Your example has every script at V1_0. Have you tried changing the versions to control the order?"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1675928202,"post_id":75395410,"comment_id":133033926,"body_markdown":"Thanks for the response. I am aware about the versioning. But all db script files are on different folder (directory).","body":"Thanks for the response. I am aware about the versioning. But all db script files are on different folder (directory)."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1675929315,"post_id":75395410,"comment_id":133034193,"body_markdown":"Right, but I believe that flyway doesn&#39;t order by directories, but rather discovers all files within the locations and orders by this. The naming of your scripts doesn&#39;t fully comply with the convention defined by flyway. See flywaydb.org/documentation/concepts/migrations.html#naming-1 (Double underscore to separate version and description) I recommend trying to version the scripts in numerical order.","body":"Right, but I believe that flyway doesn&#39;t order by directories, but rather discovers all files within the locations and orders by this. The naming of your scripts doesn&#39;t fully comply with the convention defined by flyway. See flywaydb.org/documentation/concepts/migrations.html#naming-1 (Double underscore to separate version and description) I recommend trying to version the scripts in numerical order."},{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":0,"creation_date":1675929699,"post_id":75395410,"comment_id":133034281,"body_markdown":"Can you implement your requirements with the `init-sqls` property @ODDminus1","body":"Can you implement your requirements with the <code>init-sqls</code> property @ODDminus1"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1675931079,"post_id":75395410,"comment_id":133034664,"body_markdown":"@ODDminus1 I tried to update the versions of the db script. But it looks like flyway always first executing main src directory which is db.migrate and not taking first priority to test directory which is test/resources/db/data-sql. My need to execute test db scripts first instead of main src.","body":"@ODDminus1 I tried to update the versions of the db script. But it looks like flyway always first executing main src directory which is db.migrate and not taking first priority to test directory which is test/resources/db/data-sql. My need to execute test db scripts first instead of main src."}],"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675928114,"creation_date":1675927470,"question_id":75395410,"body_markdown":"In our Spring boot Java project we are having flyway migration scripts. Below is our project structure,\r\n\r\n    Project\r\n     |\r\n     |    \r\n     +-- src\r\n     |  |  \r\n     |  +-- resources\r\n            |\r\n            +-- db.migration\r\n                |\r\n                +--V1_0_db_script.sql (scheme_one)\r\n     +-- test\r\n     |  |  \r\n     |  +-- resources\r\n     |      |\r\n     |      +-- db\r\n            |    |\r\n            |    +-- data-test\r\n            |    |   \t\t |\r\n            |    |    \t +--V1_0_test_db_script.sql (scheme_one)\r\n            |    +-- data-sql\r\n            |    |\t\t \t |\r\n            |    |\t\t \t +--V1_0_sql_db_script.sql (scheme_second)\r\n            |    |\r\n            +-- application-test.yml\t  \r\n     \r\n\r\n\r\nNow, here is my application-test.yml structure.\r\n\r\n    Flyway :\r\n    \tenabled: true\r\n    \tschemas: scheme_one\r\n    \tlocations: \r\n    \t - classpath: /db/data-sql\r\n    \t - classpath: /db/migration\r\n    \t - classpath: /db/data-test\r\n\r\nNow, what is needed here is that while running test cases, it should execute `data-sql` directory first it means `V1_0_sql_db_script.sql` should execute first then `db.migration` and then `data-test` directory. But its not executing in the order which defined in location (My assumption is from top to bottom, even I tried bottom to top).\r\n\r\nNow what&#39;s happening, it always first executing `db.migration` which is located under main src package. But I want to execute `data-sql` directory scripts first anyhow while test cases are started to run as there are some queries which is needed for other scripts. One more thing, there are actually two different schemes used. I have defined in brackets.\r\n\r\nKindly suggest if flyway have any property to define order or any other feedback will be appreciated.\r\n","title":"Flyway scripts migration execution order while running test cases Junit","body":"<p>In our Spring boot Java project we are having flyway migration scripts. Below is our project structure,</p>\n<pre><code>Project\n |\n |    \n +-- src\n |  |  \n |  +-- resources\n        |\n        +-- db.migration\n            |\n            +--V1_0_db_script.sql (scheme_one)\n +-- test\n |  |  \n |  +-- resources\n |      |\n |      +-- db\n        |    |\n        |    +-- data-test\n        |    |           |\n        |    |       +--V1_0_test_db_script.sql (scheme_one)\n        |    +-- data-sql\n        |    |           |\n        |    |           +--V1_0_sql_db_script.sql (scheme_second)\n        |    |\n        +-- application-test.yml      \n \n</code></pre>\n<p>Now, here is my application-test.yml structure.</p>\n<pre><code>Flyway :\n    enabled: true\n    schemas: scheme_one\n    locations: \n     - classpath: /db/data-sql\n     - classpath: /db/migration\n     - classpath: /db/data-test\n</code></pre>\n<p>Now, what is needed here is that while running test cases, it should execute <code>data-sql</code> directory first it means <code>V1_0_sql_db_script.sql</code> should execute first then <code>db.migration</code> and then <code>data-test</code> directory. But its not executing in the order which defined in location (My assumption is from top to bottom, even I tried bottom to top).</p>\n<p>Now what's happening, it always first executing <code>db.migration</code> which is located under main src package. But I want to execute <code>data-sql</code> directory scripts first anyhow while test cases are started to run as there are some queries which is needed for other scripts. One more thing, there are actually two different schemes used. I have defined in brackets.</p>\n<p>Kindly suggest if flyway have any property to define order or any other feedback will be appreciated.</p>\n"},{"tags":["java","firebase","spring-boot","web-applications","firebase-authentication"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676107267,"post_id":75395471,"comment_id":133074132,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25484357,"reputation":1,"user_id":19280129,"display_name":"Nirman More"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675927877,"creation_date":1675927877,"question_id":75395471,"body_markdown":"I am trying to use firebase otp authentication for my web application but haven&#39;t found any docs related to same on firebase website. Is it possible to do so if yes then how to. Please guide me.\r\n\r\nI have searched online for documentations but only found those related with an android app. I am building a website which requires registration and sign in. This registration is to be validated by authenticating users phone number for which I am required to use firebase authentication.","title":"How to Authenticate with Firebase with a Phone Number Using Java Spring Boot on server side","body":"<p>I am trying to use firebase otp authentication for my web application but haven't found any docs related to same on firebase website. Is it possible to do so if yes then how to. Please guide me.</p>\n<p>I have searched online for documentations but only found those related with an android app. I am building a website which requires registration and sign in. This registration is to be validated by authenticating users phone number for which I am required to use firebase authentication.</p>\n"},{"tags":["java","php","android"],"owner":{"account_id":24503017,"reputation":11,"user_id":18418391,"display_name":"Jude Dcoutho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675927198,"creation_date":1675927167,"question_id":75395378,"body_markdown":"Im able to create a generic pass in the google wallet with the mentioned properties: enableSmartTap as well as smartTapRedemptionValue but when I&#39;m trying to read on Hik Visions Terminal Model: DS-K1T671MF using nfc it&#39;s reading some data but every time its random card no what it&#39;s getting not what i mentioned.\r\n\r\nI need to read that custom generic pass in google wallet on any nfc based reader for access and get the data from that pass\r\n\r\nI created a custom pass using google wallet api with data in payload as well as smartTap enabled and data in &quot;smartTapRedemptionValue&quot; and when i tried to scan on any mobile nfc reader application or  in HIK Vision&#39;s DS-K1T671MF facial Recognition Terminal using NFC it&#39;s detecting card but always print any random value in card no and m unable to fetch data from that google wallet pass using any nfc reader.","title":"Unable to read and get data from generic pass created using google wallet API on any nfc reader","body":"<p>Im able to create a generic pass in the google wallet with the mentioned properties: enableSmartTap as well as smartTapRedemptionValue but when I'm trying to read on Hik Visions Terminal Model: DS-K1T671MF using nfc it's reading some data but every time its random card no what it's getting not what i mentioned.</p>\n<p>I need to read that custom generic pass in google wallet on any nfc based reader for access and get the data from that pass</p>\n<p>I created a custom pass using google wallet api with data in payload as well as smartTap enabled and data in &quot;smartTapRedemptionValue&quot; and when i tried to scan on any mobile nfc reader application or  in HIK Vision's DS-K1T671MF facial Recognition Terminal using NFC it's detecting card but always print any random value in card no and m unable to fetch data from that google wallet pass using any nfc reader.</p>\n"},{"tags":["java","junit","clone","hamcrest","spring5"],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676199733,"answer_count":0,"score":1,"last_activity_date":1675927184,"creation_date":1675867056,"question_id":75387349,"body_markdown":"I have upgraded java8 to 17 and spring4 to 5 , I am getting a test case failed.\r\n\r\n    \r\njava.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7960847b\r\n\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\r\nhere is my test case:\r\n\r\n    public class RestExceptionMappingHandlerTest {\r\n\r\n    private static final String EXPECTED_EXCEPTION_MESSAGE = &quot;testException&quot;;\r\n\r\n    private RestExceptionMappingHandler handler;\r\n\r\n    @Before\r\n    public void initHandler() {\r\n        handler = new RestExceptionMappingHandler();\r\n    }\r\n\r\n    @Test\r\n    public void shouldHandleGenericException() {\r\n        Exception testException = new Exception(EXPECTED_EXCEPTION_MESSAGE);\r\n\r\n        final ResponseEntity&lt;ClmErrorResponse&gt; actualResponse = handler.handleGenericException(testException);\r\n\r\n        assertErrorResponse(actualResponse, INTERNAL_SERVER_ERROR, EXPECTED_EXCEPTION_MESSAGE);\r\n    }\r\n\r\n    private void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\r\n                                     String expectedMessage, Set&lt;InputError&gt; expectedErrors) {\r\n        MatcherAssert.assertThat(actualResponse.getStatusCode(), is(expectedStatus));\r\n        final ClmErrorResponse errorResponse = actualResponse.getBody();\r\n        MatcherAssert.assertThat(errorResponse.getCode(), is(String.valueOf(expectedStatus.value())));\r\n        MatcherAssert.assertThat(errorResponse.getMessage(), is(expectedMessage));\r\n    }\r\n\r\n    private void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\r\n                                     String expectedMessage) {\r\n        assertErrorResponse(actualResponse, expectedStatus, expectedMessage, null);\r\n    }\r\n\r\nCould someone please help here","title":"java.lang.reflect.InaccessibleObjectException:throws java.lang.CloneNotSupportedException","body":"<p>I have upgraded java8 to 17 and spring4 to 5 , I am getting a test case failed.</p>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7960847b</p>\n<pre><code>at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n</code></pre>\n<p>here is my test case:</p>\n<pre><code>public class RestExceptionMappingHandlerTest {\n\nprivate static final String EXPECTED_EXCEPTION_MESSAGE = &quot;testException&quot;;\n\nprivate RestExceptionMappingHandler handler;\n\n@Before\npublic void initHandler() {\n    handler = new RestExceptionMappingHandler();\n}\n\n@Test\npublic void shouldHandleGenericException() {\n    Exception testException = new Exception(EXPECTED_EXCEPTION_MESSAGE);\n\n    final ResponseEntity&lt;ClmErrorResponse&gt; actualResponse = handler.handleGenericException(testException);\n\n    assertErrorResponse(actualResponse, INTERNAL_SERVER_ERROR, EXPECTED_EXCEPTION_MESSAGE);\n}\n\nprivate void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\n                                 String expectedMessage, Set&lt;InputError&gt; expectedErrors) {\n    MatcherAssert.assertThat(actualResponse.getStatusCode(), is(expectedStatus));\n    final ClmErrorResponse errorResponse = actualResponse.getBody();\n    MatcherAssert.assertThat(errorResponse.getCode(), is(String.valueOf(expectedStatus.value())));\n    MatcherAssert.assertThat(errorResponse.getMessage(), is(expectedMessage));\n}\n\nprivate void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\n                                 String expectedMessage) {\n    assertErrorResponse(actualResponse, expectedStatus, expectedMessage, null);\n}\n</code></pre>\n<p>Could someone please help here</p>\n"},{"tags":["java","xsd","jaxb","jaxb2-maven-plugin","schemagen"],"owner":{"account_id":19474470,"reputation":11,"user_id":14246106,"display_name":"kasder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675926910,"creation_date":1675926910,"question_id":75395346,"body_markdown":"I&#39;m trying to generate XSD files from my java project with the jaxb2-maven-plugin. When doing this i get a syntax error referencing pieces of code where there are java notations like @Nonnull or @Nullable.\r\n\r\n\r\nIm using the jaxb2 maven plugin to generate XSD files from Java files.\r\nI declare my plugin like this:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.0&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;schemagen&lt;/id&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;schemagen&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nI get this error:\r\n&gt; Execution schemagen of goal org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen failed: syntax error @[51,4] in file:/D:/project/src/main/java/api/ConfigurableIO.java (org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen:schemagen:generate-resources)\r\n\r\nThe piece of code at referenced in the error:\r\n```\r\n  &lt;@Nonnull E extends Entity&gt;\r\n  EntityLink&lt;E&gt; getEntityLink();\r\n```\r\nI can exclude this file and this will result in a syntax error on a different file always with a @Nonnull or @Nullable annotation.\r\n\r\nI tried to annotate the specified attribute with @XmlTransient but without succes.\r\n\r\nIs there a way to configure the plugin so that it will ignore these annotations, or work with them?","title":"How do I resolve syntax error when using jaxb2-maven-plugin to generate xsd files from Java files with java annotations?","body":"<p>I'm trying to generate XSD files from my java project with the jaxb2-maven-plugin. When doing this i get a syntax error referencing pieces of code where there are java notations like @Nonnull or @Nullable.</p>\n<p>Im using the jaxb2 maven plugin to generate XSD files from Java files.\nI declare my plugin like this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;schemagen&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;schemagen&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I get this error:</p>\n<blockquote>\n<p>Execution schemagen of goal org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen failed: syntax error @[51,4] in file:/D:/project/src/main/java/api/ConfigurableIO.java (org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen:schemagen:generate-resources)</p>\n</blockquote>\n<p>The piece of code at referenced in the error:</p>\n<pre><code>  &lt;@Nonnull E extends Entity&gt;\n  EntityLink&lt;E&gt; getEntityLink();\n</code></pre>\n<p>I can exclude this file and this will result in a syntax error on a different file always with a @Nonnull or @Nullable annotation.</p>\n<p>I tried to annotate the specified attribute with @XmlTransient but without succes.</p>\n<p>Is there a way to configure the plugin so that it will ignore these annotations, or work with them?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"score":0,"creation_date":1675846455,"post_id":75382720,"comment_id":133013767,"body_markdown":"I used saveAndFlush and it worked just with in that function, I mean now if I query by email and type just after saving(with flushing) it in same function, it is returning me the new record. But if I call some other function that is fetching by email and type the query is still not returning the new record with in milli seconds of creating it.\nI also tried using .flush() in the other function just before the query to fetch by email and type, but even then it does not return new record.","body":"I used saveAndFlush and it worked just with in that function, I mean now if I query by email and type just after saving(with flushing) it in same function, it is returning me the new record. But if I call some other function that is fetching by email and type the query is still not returning the new record with in milli seconds of creating it. I also tried using .flush() in the other function just before the query to fetch by email and type, but even then it does not return new record."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1675847447,"post_id":75382720,"comment_id":133014045,"body_markdown":"I think your another function is executed in a separate transaction, this is why you don&#39;t &quot;see&quot; the data. As I&#39;ve mentioned in the answer you should either execute operations within the same transaction, or execute the second operation only after the saving transaction has been committed.","body":"I think your another function is executed in a separate transaction, this is why you don&#39;t &quot;see&quot; the data. As I&#39;ve mentioned in the answer you should either execute operations within the same transaction, or execute the second operation only after the saving transaction has been committed."},{"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"score":0,"creation_date":1675848557,"post_id":75382720,"comment_id":133014386,"body_markdown":"Can you please enlighten me more on how to handle this bug? how would I know if my save transaction has been committed, is there any way? or is there any JPA solution to this problem?","body":"Can you please enlighten me more on how to handle this bug? how would I know if my save transaction has been committed, is there any way? or is there any JPA solution to this problem?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1675854088,"post_id":75382720,"comment_id":133016126,"body_markdown":"Please update your question and include the code where your face the issue.","body":"Please update your question and include the code where your face the issue."},{"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"score":0,"creation_date":1675857306,"post_id":75382720,"comment_id":133017038,"body_markdown":"I have added code snippet, upon multiple API hits with neglible delay, when the second api hit process to evaluate patientRepository.findByEmailAndTypeAndEmailIsNotNull it get false so a duplicate is created.","body":"I have added code snippet, upon multiple API hits with neglible delay, when the second api hit process to evaluate patientRepository.findByEmailAndTypeAndEmailIsNotNull it get false so a duplicate is created."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1675864782,"post_id":75382720,"comment_id":133019398,"body_markdown":"Well, from your code I see that you query the data before saving it. Have you tried to reorder operations?","body":"Well, from your code I see that you query the data before saving it. Have you tried to reorder operations?"},{"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"score":0,"creation_date":1675916827,"post_id":75382720,"comment_id":133032047,"body_markdown":"No they are in perfect order, first validation runs and if there exist no patient with email and type then the validation is passed and new patient is created with that email and type. The problem is if you hit the API let&#39;s say 2 times with negligible delay (with same patient data) between them then the saved result(patient) of 1st API hit will not be available to the 2nd API hit processing. Well if you didn&#39;t understand it still, I can text you explanation in chat","body":"No they are in perfect order, first validation runs and if there exist no patient with email and type then the validation is passed and new patient is created with that email and type. The problem is if you hit the API let&#39;s say 2 times with negligible delay (with same patient data) between them then the saved result(patient) of 1st API hit will not be available to the 2nd API hit processing. Well if you didn&#39;t understand it still, I can text you explanation in chat"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1675926051,"post_id":75382720,"comment_id":133033477,"body_markdown":"Try adding `@Transactional` over `addPatient()` method.","body":"Try adding <code>@Transactional</code> over <code>addPatient()</code> method."},{"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"score":0,"creation_date":1675926695,"post_id":75382720,"comment_id":133033623,"body_markdown":"it is already there, nvm I mistakenly missed that line while copy pasting code snippet.","body":"it is already there, nvm I mistakenly missed that line while copy pasting code snippet."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675842664,"creation_date":1675842664,"answer_id":75382720,"question_id":75382595,"body_markdown":"&gt; After I save a new patient entity, when I search the entity in the database by jpa query findById it works perfectly fine\r\n\r\n`JpaRepository.findById()` works fine as it takes the entity from Hibernate&#39;s 1st level cache, not from the database, because inserting into the database is usually deferred until necessary, e.g. until your session is flushed. An entity can be fetched from the 1st level cache only by its id.\r\n\r\nSo you have to either flush the Session manually with `JpaRepository.flush()`, or use `JpaRepository.saveAndFlush()` instead of `JpaRepository.save()` or execute your operations within one transaction. In this case your requests share one session and Hibernate is going to flush its cache as soon as it gets a new query for the same entity.\r\n","title":"Hibernate JPA cannot fetch new record after immediately saving it(within ms) by non-primary key(email,type) but can fetch by primary key(id)","body":"<blockquote>\n<p>After I save a new patient entity, when I search the entity in the database by jpa query findById it works perfectly fine</p>\n</blockquote>\n<p><code>JpaRepository.findById()</code> works fine as it takes the entity from Hibernate's 1st level cache, not from the database, because inserting into the database is usually deferred until necessary, e.g. until your session is flushed. An entity can be fetched from the 1st level cache only by its id.</p>\n<p>So you have to either flush the Session manually with <code>JpaRepository.flush()</code>, or use <code>JpaRepository.saveAndFlush()</code> instead of <code>JpaRepository.save()</code> or execute your operations within one transaction. In this case your requests share one session and Hibernate is going to flush its cache as soon as it gets a new query for the same entity.</p>\n"}],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675926741,"creation_date":1675841765,"question_id":75382595,"body_markdown":"My system has a *patient* entity that contains email(string), type(integer) fields, both non primary, not unique and not null fields along with other fields and of course a primary key id. &lt;br&gt;&lt;br&gt;\r\nAfter I save a new patient entity, when I search the entity in the database by jpa query *findById* it works perfectly fine and it fetches that new entity that was just saved few ms ago.&lt;br&gt;\r\nBut when I search the newly saved entity by email and type by jpa query *findByEmailAndTypeAndEmailIsNotNull* it returns nothing but if I run the very same *findByEmailAndTypeAndEmailIsNotNull* query after 1 second of saving that new entity then it returns that newly saved entity.&lt;br&gt;&lt;br&gt;\r\nCan some one diagnose the problem, is it even related to JPA? or with Database itself?\r\n\r\nEdit: \r\n\r\n    @Transactional\r\n    public synchronized Patient addPatient(PatientProfileDto patientProfileDto, Integer facilityId)\r\n            throws ResourceAlreadyExistsException, EntityNotFoundException, ClientException {\r\n        // some code\r\n\r\n        performPatientCreationValidations(ownerDto, ownerDemographicDto.getNationality().getId(), Boolean.FALSE, Boolean.FALSE);\r\n\r\n        // patient creation\r\n\r\n        patientRepository.saveAndFlush(patient);\r\n\r\n        // some code to link patient to other entities\r\n    }\r\n\r\n    private void performPatientCreationValidations(...params)\r\n            throws ResourceAlreadyExistsException, ClientException {\r\n        if (patientRepository.findByEmailAndTypeAndEmailIsNotNull(patientDto.getEmail(), PatientType.OWNER.getId()).isPresent()) {\r\n            // throw error\r\n        }\r\n    }\r\n\r\nIf I hit the API 5 times in a row with neglible delay then 2 duplicate patient would get created, however on the last 3 apis hits it will throw error as it should. It should have also thrown the error upon 2nd api hit it receives. Also note the adding of patient is synchronized function so when one api hit is completed saving the patient then another api hit acquires lock on function n go on.","title":"Hibernate JPA cannot fetch new record after immediately saving it(within ms) by non-primary key(email,type) but can fetch by primary key(id)","body":"<p>My system has a <em>patient</em> entity that contains email(string), type(integer) fields, both non primary, not unique and not null fields along with other fields and of course a primary key id. <br><br>\nAfter I save a new patient entity, when I search the entity in the database by jpa query <em>findById</em> it works perfectly fine and it fetches that new entity that was just saved few ms ago.<br>\nBut when I search the newly saved entity by email and type by jpa query <em>findByEmailAndTypeAndEmailIsNotNull</em> it returns nothing but if I run the very same <em>findByEmailAndTypeAndEmailIsNotNull</em> query after 1 second of saving that new entity then it returns that newly saved entity.<br><br>\nCan some one diagnose the problem, is it even related to JPA? or with Database itself?</p>\n<p>Edit:</p>\n<pre><code>@Transactional\npublic synchronized Patient addPatient(PatientProfileDto patientProfileDto, Integer facilityId)\n        throws ResourceAlreadyExistsException, EntityNotFoundException, ClientException {\n    // some code\n\n    performPatientCreationValidations(ownerDto, ownerDemographicDto.getNationality().getId(), Boolean.FALSE, Boolean.FALSE);\n\n    // patient creation\n\n    patientRepository.saveAndFlush(patient);\n\n    // some code to link patient to other entities\n}\n\nprivate void performPatientCreationValidations(...params)\n        throws ResourceAlreadyExistsException, ClientException {\n    if (patientRepository.findByEmailAndTypeAndEmailIsNotNull(patientDto.getEmail(), PatientType.OWNER.getId()).isPresent()) {\n        // throw error\n    }\n}\n</code></pre>\n<p>If I hit the API 5 times in a row with neglible delay then 2 duplicate patient would get created, however on the last 3 apis hits it will throw error as it should. It should have also thrown the error upon 2nd api hit it receives. Also note the adding of patient is synchronized function so when one api hit is completed saving the patient then another api hit acquires lock on function n go on.</p>\n"},{"tags":["java","assertion","spring5"],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675926513,"creation_date":1675926513,"question_id":75395291,"body_markdown":"I have upgraded java8 to java 17 and spring 4 to spring 5 , I am getting this error.\r\n\r\n    java.lang.AssertionError: Status \r\nExpected :400\r\nActual   :401\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\r\n\r\nI am using these dependencies:\r\n\r\n                        &quot;org.springframework:spring-test:5.3.24&quot;,\r\n                    &quot;org.springframework.security:spring-security-test:5.5.5&quot;,\r\n\r\nCould someone please help here :) \r\n","title":"java.lang.AssertionError: at org.springframework.test.util.AssertionErrors.fail at AssertionErrors.java:59","body":"<p>I have upgraded java8 to java 17 and spring 4 to spring 5 , I am getting this error.</p>\n<pre><code>java.lang.AssertionError: Status \n</code></pre>\n<p>Expected :400\nActual   :401\n</p>\n<pre><code>at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\nat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\nat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\n</code></pre>\n<p>I am using these dependencies:</p>\n<pre><code>                    &quot;org.springframework:spring-test:5.3.24&quot;,\n                &quot;org.springframework.security:spring-security-test:5.5.5&quot;,\n</code></pre>\n<p>Could someone please help here :)</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1675857155,"post_id":75385220,"comment_id":133016984,"body_markdown":"You can switch to a production build instead of debug build in Android Studio and then you’ll be able to easily test and view stack traces. This probably has something to do with reflection and minification.","body":"You can switch to a production build instead of debug build in Android Studio and then you’ll be able to easily test and view stack traces. This probably has something to do with reflection and minification."},{"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"score":0,"creation_date":1675862494,"post_id":75385220,"comment_id":133018605,"body_markdown":"are you using firebase","body":"are you using firebase"},{"owner":{"account_id":27734197,"reputation":9,"user_id":21172097,"display_name":"Mehmood Mir"},"score":0,"creation_date":1675920962,"post_id":75385220,"comment_id":133032611,"body_markdown":"Yes I am using firebase","body":"Yes I am using firebase"}],"owner":{"account_id":27734197,"reputation":9,"user_id":21172097,"display_name":"Mehmood Mir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675926512,"creation_date":1675856164,"question_id":75385220,"body_markdown":"so i am working on android app programmed in java which shows a list of animals sounds in recycler view. The app works fine when i install it on my device from android studio but when i upload the apk to play console and install from play store the adapter becomes real mess and apps gets crashing untill i clear cache and app data from settings.  \r\n\r\nHere is what app looks like on first install from play store (https://i.stack.imgur.com/OTQkX.jpg)\r\n\r\n\r\nWhen i clear cache and app data from settings and relaunch the app it works absolutely fine.(https://i.stack.imgur.com/HPbgM.jpg)\r\n\r\n\r\n\r\nI have tries all possible solutions which i found online but they could not help. Can anybody explain why this occurs and whats the solution to this? \r\n\r\n**Update:** Following @Tenfour4,s comment i switched to production build in android studio but surprisingly app is working fine . The issue only occurs when app is uploaded to play console and installed from there.","title":"Adapter not showing data after installing app from playstore","body":"<p>so i am working on android app programmed in java which shows a list of animals sounds in recycler view. The app works fine when i install it on my device from android studio but when i upload the apk to play console and install from play store the adapter becomes real mess and apps gets crashing untill i clear cache and app data from settings.</p>\n<p>Here is what app looks like on first install from play store (<a href=\"https://i.stack.imgur.com/OTQkX.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/OTQkX.jpg</a>)</p>\n<p>When i clear cache and app data from settings and relaunch the app it works absolutely fine.(<a href=\"https://i.stack.imgur.com/HPbgM.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/HPbgM.jpg</a>)</p>\n<p>I have tries all possible solutions which i found online but they could not help. Can anybody explain why this occurs and whats the solution to this?</p>\n<p><strong>Update:</strong> Following @Tenfour4,s comment i switched to production build in android studio but surprisingly app is working fine . The issue only occurs when app is uploaded to play console and installed from there.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"score":0,"creation_date":1651412264,"post_id":72076867,"comment_id":127354196,"body_markdown":"My question has been marked as duplicate, but if you read through, my question about thread names is not answered in other posts. Can anyone please help.","body":"My question has been marked as duplicate, but if you read through, my question about thread names is not answered in other posts. Can anyone please help."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1651415765,"post_id":72076867,"comment_id":127355053,"body_markdown":"There is a lot of code here, its hard to sort out everything, and in the end either the existing Runnable vs Thread question will cover it or it will be a typo.  Please try reading answers on the pre existing question.","body":"There is a lot of code here, its hard to sort out everything, and in the end either the existing Runnable vs Thread question will cover it or it will be a typo.  Please try reading answers on the pre existing question."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1651415872,"post_id":72076867,"comment_id":127355078,"body_markdown":"@NathanHughes, I re-opened the question and I am answering it. This is not the usual `implements Runnable` vs. `extends Thread` question. OP&#39;s confusion runs a bit deeper here.","body":"@NathanHughes, I re-opened the question and I am answering it. This is not the usual <code>implements Runnable</code> vs. <code>extends Thread</code> question. OP&#39;s confusion runs a bit deeper here."}],"answers":[{"comments":[{"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"score":0,"creation_date":1651418502,"post_id":72077742,"comment_id":127355636,"body_markdown":"Hi @Solomon Slow, thank you so much for answering. Yes, things are bit more clear now.","body":"Hi @Solomon Slow, thank you so much for answering. Yes, things are bit more clear now."},{"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"score":0,"creation_date":1651420645,"post_id":72077742,"comment_id":127356182,"body_markdown":"I have a follow up question - are delegate threads (t1,t2) equivalent to normal threads (objT1).","body":"I have a follow up question - are delegate threads (t1,t2) equivalent to normal threads (objT1)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1651434333,"post_id":72077742,"comment_id":127359336,"body_markdown":"@CuriousCurie, Equivalent in what way? In both cases, you are creating a new `Thread` instance with a `Runnable` delegate, and the thread runs the delegate&#39;s `run()` method. In the case of the threads named &quot;t1&quot; and &quot;t2&quot;, the delegate also happens to be an instance of a class that `extends&#160;Thread`, but that doesn&#39;t really mean anything because none of the `Thread` methods (`start()`, `join()`, `getName()`, ...) is being called at that point. The `Thread` instance that actually controls the thread is different from the `Runnable` `Demo2` instance that also happens to be a `Thread`.","body":"@CuriousCurie, Equivalent in what way? In both cases, you are creating a new <code>Thread</code> instance with a <code>Runnable</code> delegate, and the thread runs the delegate&#39;s <code>run()</code> method. In the case of the threads named &quot;t1&quot; and &quot;t2&quot;, the delegate also happens to be an instance of a class that <code>extends Thread</code>, but that doesn&#39;t really mean anything because none of the <code>Thread</code> methods (<code>start()</code>, <code>join()</code>, <code>getName()</code>, ...) is being called at that point. The <code>Thread</code> instance that actually controls the thread is different from the <code>Runnable</code> <code>Demo2</code> instance that also happens to be a <code>Thread</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1651434568,"post_id":72077742,"comment_id":127359375,"body_markdown":"In my _personal_ opinion, it was a big mistake for the `Thread` class to implement the `Runnable` interface. There&#39;s no good reason for it, and it has only ever confused countless newbies ever since. The creators of Java are extremely smart computer scientists, and in my opinion, they had somewhat forgotten what it was like to be a newbie when they invented and/or named certain features of the language.","body":"In my <i>personal</i> opinion, it was a big mistake for the <code>Thread</code> class to implement the <code>Runnable</code> interface. There&#39;s no good reason for it, and it has only ever confused countless newbies ever since. The creators of Java are extremely smart computer scientists, and in my opinion, they had somewhat forgotten what it was like to be a newbie when they invented and/or named certain features of the language."},{"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"score":0,"creation_date":1651855239,"post_id":72077742,"comment_id":127471645,"body_markdown":"Yeah.. what you are explaining makes kind of sense. Thanks again :)","body":"Yeah.. what you are explaining makes kind of sense. Thanks again :)"}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651417086,"creation_date":1651416556,"answer_id":72077742,"question_id":72076867,"body_markdown":"&gt; Does this snippet create 3 threads? \r\n\r\nYour program creates five threads. Each thread is responsible for one of the five lines of output that you showed.\r\n\r\n&gt; I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.\r\n\r\nThe five threads are named &quot;demo2.1&quot;, &quot;t1&quot;, &quot;t2&quot;, &quot;tR1&quot;, and &quot;tR2&quot;, but the &quot;t1&quot; and &quot;t2&quot; threads never get to print their own names. That&#39;s because you gave each one of them a `Runnable` [_delegate_](https://en.wikipedia.org/wiki/Delegation_(object-oriented_programming)), which happens to be the &quot;demo2.1&quot; thread instance.\r\n\r\nThe `run()` method of the &quot;demo2.1&quot; instance (the `run()` method of the `Demo2` class) prints its own name, which is not always the name of the thread that is running it.\r\n\r\n**In more detail:**\r\n\r\nHere, you create a new object, which is a `Demo2`, and which is a `Thread`, and which `implements&#160;Runnable`, and which is named &quot;demo2.1&quot;:\r\n\r\n    Demo2&#160;objT1&#160;=&#160;new&#160;Demo2(&quot;demo2.1&quot;)\r\n\r\nWhen you call `objT1.start()`, the new thread calls the `Demo2.run()` method, and that method prints `this.getName()`.\r\n\r\nOK, That&#39;s simple, but the next bit is not so simple.\r\n\r\nHere, you create another new object, which is a `Thread` that uses the previous `objT1` as its `Runnable` delegate, and which is named &quot;t1&quot;:\r\n\r\n    Thread tT1 = new Thread(objT1,&quot;t1&quot;);\r\n\r\nWhen you call `tT1.start()`, the new thread will call it&#39;s delegate&#39;s `run()` method. It will call `Demo2.run()`. But recall that `Demo2` is a `Thread` with a name, and its run method prints its _own_ name (actually, `this.getName()`) instead of printing the name of the thread that is running it (which would be `Thread.currentThread().getName()`).\r\n\r\n**Recap:**\r\n\r\nYou are using `objT1` in two different ways:\r\n\r\n1. You use it as a `Thread`\r\n2. You use it again, two more times, as the delegate of a _different_ thread.\r\n\r\nAll three times, it prints its _own_ name, which is not the same as the name of the thread that is running it in the two cases where you use the object as the delegate of a thread.","title":"Create multiple threads by extending Thread class that share same object in Java","body":"<blockquote>\n<p>Does this snippet create 3 threads?</p>\n</blockquote>\n<p>Your program creates five threads. Each thread is responsible for one of the five lines of output that you showed.</p>\n<blockquote>\n<p>I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.</p>\n</blockquote>\n<p>The five threads are named &quot;demo2.1&quot;, &quot;t1&quot;, &quot;t2&quot;, &quot;tR1&quot;, and &quot;tR2&quot;, but the &quot;t1&quot; and &quot;t2&quot; threads never get to print their own names. That's because you gave each one of them a <code>Runnable</code> <a href=\"https://en.wikipedia.org/wiki/Delegation_(object-oriented_programming)\" rel=\"nofollow noreferrer\"><em>delegate</em></a>, which happens to be the &quot;demo2.1&quot; thread instance.</p>\n<p>The <code>run()</code> method of the &quot;demo2.1&quot; instance (the <code>run()</code> method of the <code>Demo2</code> class) prints its own name, which is not always the name of the thread that is running it.</p>\n<p><strong>In more detail:</strong></p>\n<p>Here, you create a new object, which is a <code>Demo2</code>, and which is a <code>Thread</code>, and which <code>implements Runnable</code>, and which is named &quot;demo2.1&quot;:</p>\n<pre><code>Demo2 objT1 = new Demo2(&quot;demo2.1&quot;)\n</code></pre>\n<p>When you call <code>objT1.start()</code>, the new thread calls the <code>Demo2.run()</code> method, and that method prints <code>this.getName()</code>.</p>\n<p>OK, That's simple, but the next bit is not so simple.</p>\n<p>Here, you create another new object, which is a <code>Thread</code> that uses the previous <code>objT1</code> as its <code>Runnable</code> delegate, and which is named &quot;t1&quot;:</p>\n<pre><code>Thread tT1 = new Thread(objT1,&quot;t1&quot;);\n</code></pre>\n<p>When you call <code>tT1.start()</code>, the new thread will call it's delegate's <code>run()</code> method. It will call <code>Demo2.run()</code>. But recall that <code>Demo2</code> is a <code>Thread</code> with a name, and its run method prints its <em>own</em> name (actually, <code>this.getName()</code>) instead of printing the name of the thread that is running it (which would be <code>Thread.currentThread().getName()</code>).</p>\n<p><strong>Recap:</strong></p>\n<p>You are using <code>objT1</code> in two different ways:</p>\n<ol>\n<li>You use it as a <code>Thread</code></li>\n<li>You use it again, two more times, as the delegate of a <em>different</em> thread.</li>\n</ol>\n<p>All three times, it prints its <em>own</em> name, which is not the same as the name of the thread that is running it in the two cases where you use the object as the delegate of a thread.</p>\n"},{"comments":[{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1673252715,"post_id":72207419,"comment_id":132448015,"body_markdown":"HI @Basil Bourque , I&#39;ve read your example about executorService.... I have a class that implements Runnable where it does some operations and I was thinking to make 15 parallel threads passing current thread count to the class... Is there a way to pass in the class the actual thread count if I use newFixedThreadPool()?... Because I wanted to split 255 IP addresses to work on into 15 threads of 17 IPs addresses each...","body":"HI @Basil Bourque , I&#39;ve read your example about executorService.... I have a class that implements Runnable where it does some operations and I was thinking to make 15 parallel threads passing current thread count to the class... Is there a way to pass in the class the actual thread count if I use newFixedThreadPool()?... Because I wanted to split 255 IP addresses to work on into 15 threads of 17 IPs addresses each..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673254535,"post_id":72207419,"comment_id":132448543,"body_markdown":"@Luigino I cannot understand your question. To what class are you considering passing a thread count? I suspect you are overthinking it. If you have tasks that each take care of one of 255 IP addresses, then write a task class that implements `Runnable`, and has a constructor that takes the IP address as a parameter. Instantiate 255 objects of that class.  …","body":"@Luigino I cannot understand your question. To what class are you considering passing a thread count? I suspect you are overthinking it. If you have tasks that each take care of one of 255 IP addresses, then write a task class that implements <code>Runnable</code>, and has a constructor that takes the IP address as a parameter. Instantiate 255 objects of that class.  …"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673254630,"post_id":72207419,"comment_id":132448575,"body_markdown":"@Luigino … Then determine the number of threads appropriate for your deployment machine. Say you have a 24-core server, so you estimate a limit of 15 threads. Define an executor service as `Executors.newFixedThreadPool( 15 )`.  Submit all of your 255 task objects to that service. The service allocates each task to a thread as the threads become available.","body":"@Luigino … Then determine the number of threads appropriate for your deployment machine. Say you have a 24-core server, so you estimate a limit of 15 threads. Define an executor service as <code>Executors.newFixedThreadPool( 15 )</code>.  Submit all of your 255 task objects to that service. The service allocates each task to a thread as the threads become available."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673254903,"post_id":72207419,"comment_id":132448657,"body_markdown":"@Luigino If that is not clear, post your own Question on Stack Overflow. But get really specific about your needs, your concerns, and your point of confusion.","body":"@Luigino If that is not clear, post your own Question on Stack Overflow. But get really specific about your needs, your concerns, and your point of confusion."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1673255679,"post_id":72207419,"comment_id":132448863,"body_markdown":"Hello @Basil Bourque , I was thinking like 1&#176; thread manages ip address range between x.x.x.1 and x.x.x.17 , second thread manages ip address range between x.x.x.18 and x.x.x.34 and so on... so I could have 15 threads that are working on a group of ip to reduce time of waiting because if I manage 255 ip addresses consecutively I could have to wait too much time...","body":"Hello @Basil Bourque , I was thinking like 1&#176; thread manages ip address range between x.x.x.1 and x.x.x.17 , second thread manages ip address range between x.x.x.18 and x.x.x.34 and so on... so I could have 15 threads that are working on a group of ip to reduce time of waiting because if I manage 255 ip addresses consecutively I could have to wait too much time..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673257128,"post_id":72207419,"comment_id":132449307,"body_markdown":"@Luigino If your tasks are independent, then there is no point in your grouping them into gangs of 17. The job of an executor service is to feed task objects to its backing pool of threads; let it do its job.","body":"@Luigino If your tasks are independent, then there is no point in your grouping them into gangs of 17. The job of an executor service is to feed task objects to its backing pool of threads; let it do its job."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1673258563,"post_id":72207419,"comment_id":132449773,"body_markdown":"I was thinking to group into 15 threads of 17 ip addresses range each because let&#39;s suppose a try connection timeout of 200ms for each and all them fails  it would need all 255 consecutively 200ms x 255 = 51000ms, indeed with 15 parallel thread jobs working at the same time I should wait 200ms x 17 = 3400ms that&#39;s less than 51000ms....","body":"I was thinking to group into 15 threads of 17 ip addresses range each because let&#39;s suppose a try connection timeout of 200ms for each and all them fails  it would need all 255 consecutively 200ms x 255 = 51000ms, indeed with 15 parallel thread jobs working at the same time I should wait 200ms x 17 = 3400ms that&#39;s less than 51000ms...."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673288690,"post_id":72207419,"comment_id":132460899,"body_markdown":"@Luigino You really should post your own Question, with all the details.","body":"@Luigino You really should post your own Question, with all the details."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675926375,"creation_date":1652301999,"answer_id":72207419,"question_id":72076867,"body_markdown":"The [Answer by Solomon Slow][1] is informative, and excellent. \r\n\r\nIn addition, I&#39;d like to add that in modern Java we rarely need to address the `Thread` class directly. The Executors framework was added in Java 5 to vastly simplify such code as yours.\r\n\r\nThe key concept is to separate the task(s) from the threads. Focus on the work to be by defining a task as a [`Runnable`][2] (or [`Callable`][3] if returning a result). \r\n\r\nIn your example, you seem to have two tasks that each result in incrementing a number, and you want to run each task twice. So let&#39;s define  two classes that implement `Runnable`. Both increment a counter, but only after pretending to do some amount of work. We simulate that work by sleeping some number of seconds. One sleeps a few seconds, the other sleeps longer, just to imagine two different workloads.\r\n\r\nBoth classes carry a private member field of an `AtomicInteger`. That class provides thread-safe ways to increment a number. We need thread-safety protection because we are accessing the same number across threads. \r\n\r\nWe mark the `AtomicInteger` member field as `final` to prevent us from inadvertently re-assigning another object, as we might do during future edits to this code.\r\n\r\n```java\r\npublic class FastCalc implements Runnable\r\n{\r\n    private final AtomicInteger counter = new AtomicInteger();\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;INFO - starting `run` on `FastCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\r\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 2_000 , 4_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        int currentCount = this.counter.incrementAndGet();\r\n        System.out.println( &quot;INFO - result of `run` on `FastCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\r\n    }\r\n\r\n    public int report ( )\r\n    {\r\n        return this.counter.get();\r\n    }\r\n}\r\n```\r\n\r\nAnd the slower version.\r\n\r\n```java\r\npublic class SlowCalc implements Runnable\r\n{\r\n    private final AtomicInteger counter = new AtomicInteger();\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;INFO - starting `run` on `SlowCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\r\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 8_000 , 12_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        int currentCount = this.counter.incrementAndGet();\r\n        System.out.println( &quot;INFO - result of `run` on `SlowCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\r\n    }\r\n\r\n    public int report ( )\r\n    {\r\n        return this.counter.get();\r\n    }\r\n}\r\n```\r\n\r\nInstantiate each of those tasks.\r\n\r\n```java\r\nFastCalc taskFast = new FastCalc();  // Implements `Runnable`.\r\nSlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\r\n```\r\n\r\nInstantiate an `ExecutorService` to handle the threading on our behalf. Usually we get an executor service by way of [`Executors`][4] utility class.\r\n\r\nHere we use [`Executors.newCachedThreadPool()`][5] for an executor service that creates any number of threads as needed. This is appropriate in situations where we know we will use a limited number of threads. \r\n\r\n```java\r\nExecutorService executorService = Executors.newCachedThreadPool();\r\n```\r\n\r\nYour example runs each task twice. So we submit each task twice to our executor service. \r\n\r\nRemember that both of our classes, `FastCalc` &amp; `SlowCalc`, implements `Runnable`. So we are passing `Runnable` objects to the `submit` method here.\r\n\r\n```java\r\nexecutorService.submit( taskFast );  // Passing a `Runnable` object.\r\nexecutorService.submit( taskSlow );\r\n\r\nexecutorService.submit( taskFast );\r\nexecutorService.submit( taskSlow );\r\n```\r\n\r\nThen we wait for the tasks to complete. We do this by calling a method that we pulled as boilerplate from the Javadoc of [`ExecutorService`][6]. We changed that code a bit to pass [`Duration`][7] as the amount of time we should reasonably wait for tasks to complete. \r\n\r\n```java\r\nthis.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\r\n```\r\n\r\nHere is that boilerplate.\r\n\r\n```java\r\nvoid shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\r\n{\r\n    executorService.shutdown(); // Disable new tasks from being submitted\r\n    try\r\n    {\r\n        // Wait a while for existing tasks to terminate\r\n        if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n        {\r\n            executorService.shutdownNow(); // Cancel currently executing tasks\r\n            // Wait a while for tasks to respond to being cancelled\r\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n            { System.err.println( &quot;Pool did not terminate&quot; ); }\r\n        }\r\n    }\r\n    catch ( InterruptedException ex )\r\n    {\r\n        // (Re-)Cancel if current thread also interrupted\r\n        executorService.shutdownNow();\r\n        // Preserve interrupt status\r\n        Thread.currentThread().interrupt();\r\n    }\r\n}\r\n```\r\n\r\nLastly, we want to report on the results of the run.\r\n\r\n```java\r\nSystem.out.println(&quot;Report — taskFast counter: &quot; + taskFast.report() );\r\nSystem.out.println(&quot;Report — taskSlow counter: &quot; + taskFast.report() );\r\n```\r\n\r\nPulling that code together.\r\n\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class App2\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App2 app = new App2();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;INFO - Start running demo. &quot; + Instant.now() );\r\n\r\n        FastCalc taskFast = new FastCalc();  // Implements `Runnable`.\r\n        SlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\r\n\r\n        ExecutorService executorService = Executors.newCachedThreadPool();\r\n\r\n        executorService.submit( taskFast );  // Passing a `Runnable` object.\r\n        executorService.submit( taskSlow );\r\n\r\n        executorService.submit( taskFast );\r\n        executorService.submit( taskSlow );\r\n\r\n        this.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\r\n\r\n        System.out.println( &quot;Report — taskFast counter: &quot; + taskFast.report() );\r\n        System.out.println( &quot;Report — taskSlow counter: &quot; + taskFast.report() );\r\n\r\n        System.out.println( &quot;INFO - End running demo. &quot; + Instant.now() );\r\n    }\r\n\r\n\r\n    // Boilerplate pulled from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n\r\n```none\r\nINFO - Start running demo. 2022-05-11T20:50:36.796870Z\r\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.809083Z on thread ID 16\r\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.809228Z on thread ID 17\r\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.808793Z on thread ID 15\r\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.808714Z on thread ID 14\r\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.081938Z is: 1\r\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.385796Z is: 2\r\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.620290Z is: 1\r\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.699582Z is: 2\r\nReport — taskFast counter: 2\r\nReport — taskSlow counter: 2\r\nINFO - End running demo. 2022-05-11T20:50:47.703597Z\r\n```\r\n\r\nRegarding your original interest in total number of threads, we can see here by the thread ID numbers that this code uses a total of 4 threads, one thread per task submission. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72077742/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html#newCachedThreadPool()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html","title":"Create multiple threads by extending Thread class that share same object in Java","body":"<p>The <a href=\"https://stackoverflow.com/a/72077742/642706\">Answer by Solomon Slow</a> is informative, and excellent.</p>\n<p>In addition, I'd like to add that in modern Java we rarely need to address the <code>Thread</code> class directly. The Executors framework was added in Java 5 to vastly simplify such code as yours.</p>\n<p>The key concept is to separate the task(s) from the threads. Focus on the work to be by defining a task as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> (or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> if returning a result).</p>\n<p>In your example, you seem to have two tasks that each result in incrementing a number, and you want to run each task twice. So let's define  two classes that implement <code>Runnable</code>. Both increment a counter, but only after pretending to do some amount of work. We simulate that work by sleeping some number of seconds. One sleeps a few seconds, the other sleeps longer, just to imagine two different workloads.</p>\n<p>Both classes carry a private member field of an <code>AtomicInteger</code>. That class provides thread-safe ways to increment a number. We need thread-safety protection because we are accessing the same number across threads.</p>\n<p>We mark the <code>AtomicInteger</code> member field as <code>final</code> to prevent us from inadvertently re-assigning another object, as we might do during future edits to this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FastCalc implements Runnable\n{\n    private final AtomicInteger counter = new AtomicInteger();\n\n    @Override\n    public void run ( )\n    {\n        System.out.println( &quot;INFO - starting `run` on `FastCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 2_000 , 4_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        int currentCount = this.counter.incrementAndGet();\n        System.out.println( &quot;INFO - result of `run` on `FastCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\n    }\n\n    public int report ( )\n    {\n        return this.counter.get();\n    }\n}\n</code></pre>\n<p>And the slower version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SlowCalc implements Runnable\n{\n    private final AtomicInteger counter = new AtomicInteger();\n\n    @Override\n    public void run ( )\n    {\n        System.out.println( &quot;INFO - starting `run` on `SlowCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 8_000 , 12_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        int currentCount = this.counter.incrementAndGet();\n        System.out.println( &quot;INFO - result of `run` on `SlowCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\n    }\n\n    public int report ( )\n    {\n        return this.counter.get();\n    }\n}\n</code></pre>\n<p>Instantiate each of those tasks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FastCalc taskFast = new FastCalc();  // Implements `Runnable`.\nSlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\n</code></pre>\n<p>Instantiate an <code>ExecutorService</code> to handle the threading on our behalf. Usually we get an executor service by way of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> utility class.</p>\n<p>Here we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html#newCachedThreadPool()\" rel=\"nofollow noreferrer\"><code>Executors.newCachedThreadPool()</code></a> for an executor service that creates any number of threads as needed. This is appropriate in situations where we know we will use a limited number of threads.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = Executors.newCachedThreadPool();\n</code></pre>\n<p>Your example runs each task twice. So we submit each task twice to our executor service.</p>\n<p>Remember that both of our classes, <code>FastCalc</code> &amp; <code>SlowCalc</code>, implements <code>Runnable</code>. So we are passing <code>Runnable</code> objects to the <code>submit</code> method here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>executorService.submit( taskFast );  // Passing a `Runnable` object.\nexecutorService.submit( taskSlow );\n\nexecutorService.submit( taskFast );\nexecutorService.submit( taskSlow );\n</code></pre>\n<p>Then we wait for the tasks to complete. We do this by calling a method that we pulled as boilerplate from the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. We changed that code a bit to pass <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> as the amount of time we should reasonably wait for tasks to complete.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\n</code></pre>\n<p>Here is that boilerplate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\n{\n    executorService.shutdown(); // Disable new tasks from being submitted\n    try\n    {\n        // Wait a while for existing tasks to terminate\n        if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n        {\n            executorService.shutdownNow(); // Cancel currently executing tasks\n            // Wait a while for tasks to respond to being cancelled\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n            { System.err.println( &quot;Pool did not terminate&quot; ); }\n        }\n    }\n    catch ( InterruptedException ex )\n    {\n        // (Re-)Cancel if current thread also interrupted\n        executorService.shutdownNow();\n        // Preserve interrupt status\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n<p>Lastly, we want to report on the results of the run.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Report — taskFast counter: &quot; + taskFast.report() );\nSystem.out.println(&quot;Report — taskSlow counter: &quot; + taskFast.report() );\n</code></pre>\n<p>Pulling that code together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class App2\n{\n    public static void main ( String[] args )\n    {\n        App2 app = new App2();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;INFO - Start running demo. &quot; + Instant.now() );\n\n        FastCalc taskFast = new FastCalc();  // Implements `Runnable`.\n        SlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\n\n        ExecutorService executorService = Executors.newCachedThreadPool();\n\n        executorService.submit( taskFast );  // Passing a `Runnable` object.\n        executorService.submit( taskSlow );\n\n        executorService.submit( taskFast );\n        executorService.submit( taskSlow );\n\n        this.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\n\n        System.out.println( &quot;Report — taskFast counter: &quot; + taskFast.report() );\n        System.out.println( &quot;Report — taskSlow counter: &quot; + taskFast.report() );\n\n        System.out.println( &quot;INFO - End running demo. &quot; + Instant.now() );\n    }\n\n\n    // Boilerplate pulled from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Start running demo. 2022-05-11T20:50:36.796870Z\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.809083Z on thread ID 16\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.809228Z on thread ID 17\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.808793Z on thread ID 15\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.808714Z on thread ID 14\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.081938Z is: 1\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.385796Z is: 2\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.620290Z is: 1\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.699582Z is: 2\nReport — taskFast counter: 2\nReport — taskSlow counter: 2\nINFO - End running demo. 2022-05-11T20:50:47.703597Z\n</code></pre>\n<p>Regarding your original interest in total number of threads, we can see here by the thread ID numbers that this code uses a total of 4 threads, one thread per task submission.</p>\n"}],"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72077742,"answer_count":2,"score":1,"last_activity_date":1675926375,"creation_date":1651409422,"question_id":72076867,"body_markdown":"I was going through basics of multithreading and was writing a program to understand the difference between using the 2 approaches of creating threads.\r\n\r\nI have read that using Runnable allows multiple threads to share same object and wanted to try similar thing while extending Thread. So after creating new object of Demo2 I passed the reference to Thread constructor (similar to what we do in Runnable).\r\n\r\nI achieved what I was trying to as objT1, tT1, tT2 incremented value of sum to 3. But while printing out the current thread&#39;s name, it prints only `demo2.1`. I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.\r\n\r\n        class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tDemo1 objR1 = new Demo1();\r\n    \t\tDemo2 objT1 = new Demo2(&quot;demo2.1&quot;);\r\n    \r\n    \t\tThread tT1 = new Thread(objT1,&quot;t1&quot;);\r\n    \t\tThread tT2 = new Thread(objT1,&quot;t2&quot;);\r\n    \r\n    \t\tThread tR1 = new Thread(objR1,&quot;tR1&quot;);\r\n    \t\tThread tR2 = new Thread(objR1,&quot;tR2&quot;);\r\n    \t\r\n    \t\tobjT1.start();\r\n    \t\ttT1.start();\r\n    \t\ttT2.start();\r\n    \r\n    \t\ttR1.start();\r\n    \t\ttR2.start();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class Demo1 implements Runnable {\r\n    \r\n        int sum = 0;\r\n    \r\n        synchronized void calculate() {\r\n            sum = sum +1;\t\r\n        }\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \t\tcalculate();\t\r\n    \t\tSystem.out.print(Thread.currentThread().getName());\t\r\n    \t\tSystem.out.println(&quot; &quot;+sum);\r\n    \t}\r\n    }\r\n    \r\n    class Demo2 extends Thread {\r\n    \r\n        int sum = 0;\r\n    \r\n    \tDemo2(String n) {\r\n    \t\tsuper(n); \t\r\n    \t}\r\n    \t\r\n        synchronized void calculate() {\r\n            sum = sum +1;\t\t\r\n        }\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \t\tcalculate();\t\t\r\n    \t\tSystem.out.println(this.getName()+&quot; &quot;+sum);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n```none\r\ndemo2.1 1\r\ndemo2.1 2\r\ndemo2.1 3\r\ntR1 1\r\ntR2 2\r\n```\r\n \r\nSo my question is - Does this snippet create 3 threads? If yes, then why aren&#39;t there 3 different names for each thread. If no, then what do these statements do.\r\n\r\n    Demo2 objT1 = new Demo2(&quot;demo2.1&quot;);\r\n    Thread tT1 = new Thread(objT1,&quot;t1&quot;);\r\n    Thread tT2 = new Thread(objT1,&quot;t2&quot;); \r\n\r\n\r\nI know this must be something trivial but I cannot get answers in tutorials. \r\n","title":"Create multiple threads by extending Thread class that share same object in Java","body":"<p>I was going through basics of multithreading and was writing a program to understand the difference between using the 2 approaches of creating threads.</p>\n<p>I have read that using Runnable allows multiple threads to share same object and wanted to try similar thing while extending Thread. So after creating new object of Demo2 I passed the reference to Thread constructor (similar to what we do in Runnable).</p>\n<p>I achieved what I was trying to as objT1, tT1, tT2 incremented value of sum to 3. But while printing out the current thread's name, it prints only <code>demo2.1</code>. I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.</p>\n<pre><code>    class Main {\n    public static void main(String args[]) {\n        Demo1 objR1 = new Demo1();\n        Demo2 objT1 = new Demo2(&quot;demo2.1&quot;);\n\n        Thread tT1 = new Thread(objT1,&quot;t1&quot;);\n        Thread tT2 = new Thread(objT1,&quot;t2&quot;);\n\n        Thread tR1 = new Thread(objR1,&quot;tR1&quot;);\n        Thread tR2 = new Thread(objR1,&quot;tR2&quot;);\n    \n        objT1.start();\n        tT1.start();\n        tT2.start();\n\n        tR1.start();\n        tR2.start();\n    }\n}\n\n\nclass Demo1 implements Runnable {\n\n    int sum = 0;\n\n    synchronized void calculate() {\n        sum = sum +1;   \n    }\n\n    public void run()\n    {\n        calculate();    \n        System.out.print(Thread.currentThread().getName()); \n        System.out.println(&quot; &quot;+sum);\n    }\n}\n\nclass Demo2 extends Thread {\n\n    int sum = 0;\n\n    Demo2(String n) {\n        super(n);   \n    }\n    \n    synchronized void calculate() {\n        sum = sum +1;       \n    }\n\n    public void run()\n    {\n        calculate();        \n        System.out.println(this.getName()+&quot; &quot;+sum);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>demo2.1 1\ndemo2.1 2\ndemo2.1 3\ntR1 1\ntR2 2\n</code></pre>\n<p>So my question is - Does this snippet create 3 threads? If yes, then why aren't there 3 different names for each thread. If no, then what do these statements do.</p>\n<pre><code>Demo2 objT1 = new Demo2(&quot;demo2.1&quot;);\nThread tT1 = new Thread(objT1,&quot;t1&quot;);\nThread tT2 = new Thread(objT1,&quot;t2&quot;); \n</code></pre>\n<p>I know this must be something trivial but I cannot get answers in tutorials.</p>\n"},{"tags":["java","apache-nifi","avro","parquet"],"comments":[{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601032893,"post_id":64057182,"comment_id":113284839,"body_markdown":"Could you please give a sample of the avro data?","body":"Could you please give a sample of the avro data?"},{"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"score":0,"creation_date":1601037479,"post_id":64057182,"comment_id":113287084,"body_markdown":"[ {\n  &quot;tp_resposta_id&quot; : 1,\n  &quot;nome&quot; : &quot;MULTIPLA_ESCOLHA&quot;,\n  &quot;descricao&quot; : &quot;item que indicar&#225; a escolha de op&#231;&#227;o de resposta.&quot;,\n  &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,\n  &quot;dt_alteracao&quot; : null,\n  &quot;usuario&quot; : &quot;CARGA_CC_3&quot;\n}, {\n  &quot;tp_resposta_id&quot; : 2,\n  &quot;nome&quot; : &quot;TEXTO&quot;,\n  &quot;descricao&quot; : &quot;item que indicar&#225; uma resposta inserida em um campo de texto.&quot;,\n  &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,\n  &quot;dt_alteracao&quot; : null,\n  &quot;usuario&quot; : &quot;CARGA_CC_3&quot;\n}]","body":"[ {   &quot;tp_resposta_id&quot; : 1,   &quot;nome&quot; : &quot;MULTIPLA_ESCOLHA&quot;,   &quot;descricao&quot; : &quot;item que indicar&#225; a escolha de op&#231;&#227;o de resposta.&quot;,   &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,   &quot;dt_alteracao&quot; : null,   &quot;usuario&quot; : &quot;CARGA_CC_3&quot; }, {   &quot;tp_resposta_id&quot; : 2,   &quot;nome&quot; : &quot;TEXTO&quot;,   &quot;descricao&quot; : &quot;item que indicar&#225; uma resposta inserida em um campo de texto.&quot;,   &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,   &quot;dt_alteracao&quot; : null,   &quot;usuario&quot; : &quot;CARGA_CC_3&quot; }]"},{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601043391,"post_id":64057182,"comment_id":113290020,"body_markdown":"Based on your sample: I did ConvertJsontoAvro then AvroToParquet. I didn&#39;t had any issue. What I would do, check if your data from your SQL request are in Avro format(not Json). Check on a smaller file.","body":"Based on your sample: I did ConvertJsontoAvro then AvroToParquet. I didn&#39;t had any issue. What I would do, check if your data from your SQL request are in Avro format(not Json). Check on a smaller file."}],"answers":[{"comments":[{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601283591,"post_id":64068917,"comment_id":113348421,"body_markdown":"Good to know! We all went to this an increase JVM memory for Nifi.","body":"Good to know! We all went to this an increase JVM memory for Nifi."}],"tags":[],"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601055386,"creation_date":1601055386,"answer_id":64068917,"question_id":64057182,"body_markdown":"I did what you proposed, Pdeuxa, and it worked perfectly for a small table, but not for large table. So, I increased the JVM&#39;s heap memory in the `nifi-1.10.0/conf/bootstrap.conf` file, and it worked for me.\r\n\r\n## JVM memory settings\r\n```\r\n#java.arg.2=-Xms512m\r\n#java.arg.3=-Xmx512m\r\njava.arg.2=-Xms2048m\r\njava.arg.3=-Xmx2048m\r\n```\r\nThanks for your time and your attention, Pdeuxa.\r\n","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>I did what you proposed, Pdeuxa, and it worked perfectly for a small table, but not for large table. So, I increased the JVM's heap memory in the <code>nifi-1.10.0/conf/bootstrap.conf</code> file, and it worked for me.</p>\n<h2>JVM memory settings</h2>\n<pre><code>#java.arg.2=-Xms512m\n#java.arg.3=-Xmx512m\njava.arg.2=-Xms2048m\njava.arg.3=-Xmx2048m\n</code></pre>\n<p>Thanks for your time and your attention, Pdeuxa.</p>\n"},{"tags":[],"owner":{"account_id":5494549,"reputation":368,"user_id":4366141,"display_name":"Teng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675925081,"creation_date":1675925081,"answer_id":75395096,"question_id":64057182,"body_markdown":"TL,DR: `ParquetWriter` was interrupted by other exception, and it shouldn&#39;t be reused after the exception. In your case, it should be an OOM exception.\r\n\r\nI encountered the same issue recently in a project Hudi. This exception was thrown by `ParquetWriter` when I was trying to write a record into a Parquet file.\r\n\r\n```log\r\n2023-01-31 11:54:20,199 ERROR org.apache.hudi.io.HoodieMergeHandle                         [] - Error writing record  HoodieRecord{key=HoodieKey { recordKey=149389890 partitionPath=}, currentLocation=&#39;null&#39;, newLocation=&#39;null&#39;}\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:57)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:69)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:60)\r\n\tat org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\r\n\tat org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.endMessage(MessageColumnIO.java:307)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310)\r\n\tat org.apache.hudi.io.storage.HoodieBaseParquetWriter.write(HoodieBaseParquetWriter.java:80)\r\n\tat org.apache.hudi.io.storage.HoodieAvroParquetWriter.writeAvro(HoodieAvroParquetWriter.java:76)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeToFile(HoodieMergeHandle.java:386)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeRecord(HoodieMergeHandle.java:315)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeInsertRecord(HoodieMergeHandle.java:296)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeIncomingRecords(HoodieMergeHandle.java:399)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.close(HoodieMergeHandle.java:414)\r\n\tat org.apache.hudi.table.action.commit.FlinkMergeHelper.runMerge(FlinkMergeHelper.java:133)\r\n\tat org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdateInternal(HoodieFlinkCopyOnWriteTable.java:375)\r\n\tat org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdate(HoodieFlinkCopyOnWriteTable.java:366)\r\n\tat org.apache.hudi.table.action.compact.HoodieCompactor.compact(HoodieCompactor.java:238)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.doCompaction(CompactFunction.java:110)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:101)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:46)\r\n\tat org.apache.flink.streaming.api.operators.ProcessOperator.processElement(ProcessOperator.java:66)\r\n\tat org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:233)\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:134)\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:105)\r\n\tat org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:524)\r\n\tat org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:809)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:758)\r\n\tat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:951)\r\n\tat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:930)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:744)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\r\n```\r\n\r\nAfter checking the source code of parquet-column. The cause of this exception is that the parquet writer can&#39;t be reused if it was interrupted by other exception. According to the source code of `org.apache.parquet.column.impl.ColumnWriterBase#writePage`, `repetitionLevelColumn`, `definitionLevelColumn` and `dataColumn` will be reset after `writePage(...)`, but the reset code is not in finally block, so, if there is anything wrong in `writePage(...)`, the reset code won&#39;t be executed.\r\n\r\n```java\r\nabstract class ColumnWriterBase implements ColumnWriter {\r\n  ...\r\n  void writePage() {\r\n    if (valueCount == 0) {\r\n      throw new ParquetEncodingException(&quot;writing empty page&quot;);\r\n    }\r\n    this.rowsWrittenSoFar += pageRowCount;\r\n    if (DEBUG)\r\n      LOG.debug(&quot;write page&quot;);\r\n    try {\r\n      writePage(pageRowCount, valueCount, statistics, repetitionLevelColumn, definitionLevelColumn, dataColumn);\r\n    } catch (IOException e) {\r\n      throw new ParquetEncodingException(&quot;could not write page for &quot; + path, e);\r\n    }\r\n    repetitionLevelColumn.reset();\r\n    definitionLevelColumn.reset();\r\n    dataColumn.reset();\r\n    valueCount = 0;\r\n    resetStatistics();\r\n    pageRowCount = 0;\r\n  }\r\n}\r\n```\r\n\r\nIn my case, the exception thrown in `writePage(...)` was a class not found exception, and my code caught it wrongly, and want to reuse the same writer.\r\n\r\n```log\r\nCaused by: java.lang.ClassNotFoundException: com.github.luben.zstd.NoPool\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:68)\r\n\tat org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:74)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:52)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:109)\r\n\tat org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:100)\r\n\tat org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:165)\r\n\tat org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\r\n\tat org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\r\n```","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>TL,DR: <code>ParquetWriter</code> was interrupted by other exception, and it shouldn't be reused after the exception. In your case, it should be an OOM exception.</p>\n<p>I encountered the same issue recently in a project Hudi. This exception was thrown by <code>ParquetWriter</code> when I was trying to write a record into a Parquet file.</p>\n<pre><code>2023-01-31 11:54:20,199 ERROR org.apache.hudi.io.HoodieMergeHandle                         [] - Error writing record  HoodieRecord{key=HoodieKey { recordKey=149389890 partitionPath=}, currentLocation='null', newLocation='null'}\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:57)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:69)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:60)\n    at org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\n    at org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.endMessage(MessageColumnIO.java:307)\n    at org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138)\n    at org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310)\n    at org.apache.hudi.io.storage.HoodieBaseParquetWriter.write(HoodieBaseParquetWriter.java:80)\n    at org.apache.hudi.io.storage.HoodieAvroParquetWriter.writeAvro(HoodieAvroParquetWriter.java:76)\n    at org.apache.hudi.io.HoodieMergeHandle.writeToFile(HoodieMergeHandle.java:386)\n    at org.apache.hudi.io.HoodieMergeHandle.writeRecord(HoodieMergeHandle.java:315)\n    at org.apache.hudi.io.HoodieMergeHandle.writeInsertRecord(HoodieMergeHandle.java:296)\n    at org.apache.hudi.io.HoodieMergeHandle.writeIncomingRecords(HoodieMergeHandle.java:399)\n    at org.apache.hudi.io.HoodieMergeHandle.close(HoodieMergeHandle.java:414)\n    at org.apache.hudi.table.action.commit.FlinkMergeHelper.runMerge(FlinkMergeHelper.java:133)\n    at org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdateInternal(HoodieFlinkCopyOnWriteTable.java:375)\n    at org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdate(HoodieFlinkCopyOnWriteTable.java:366)\n    at org.apache.hudi.table.action.compact.HoodieCompactor.compact(HoodieCompactor.java:238)\n    at org.apache.hudi.sink.compact.CompactFunction.doCompaction(CompactFunction.java:110)\n    at org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:101)\n    at org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:46)\n    at org.apache.flink.streaming.api.operators.ProcessOperator.processElement(ProcessOperator.java:66)\n    at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:233)\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:134)\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:105)\n    at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:524)\n    at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:809)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:758)\n    at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:951)\n    at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:930)\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:744)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\n</code></pre>\n<p>After checking the source code of parquet-column. The cause of this exception is that the parquet writer can't be reused if it was interrupted by other exception. According to the source code of <code>org.apache.parquet.column.impl.ColumnWriterBase#writePage</code>, <code>repetitionLevelColumn</code>, <code>definitionLevelColumn</code> and <code>dataColumn</code> will be reset after <code>writePage(...)</code>, but the reset code is not in finally block, so, if there is anything wrong in <code>writePage(...)</code>, the reset code won't be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class ColumnWriterBase implements ColumnWriter {\n  ...\n  void writePage() {\n    if (valueCount == 0) {\n      throw new ParquetEncodingException(&quot;writing empty page&quot;);\n    }\n    this.rowsWrittenSoFar += pageRowCount;\n    if (DEBUG)\n      LOG.debug(&quot;write page&quot;);\n    try {\n      writePage(pageRowCount, valueCount, statistics, repetitionLevelColumn, definitionLevelColumn, dataColumn);\n    } catch (IOException e) {\n      throw new ParquetEncodingException(&quot;could not write page for &quot; + path, e);\n    }\n    repetitionLevelColumn.reset();\n    definitionLevelColumn.reset();\n    dataColumn.reset();\n    valueCount = 0;\n    resetStatistics();\n    pageRowCount = 0;\n  }\n}\n</code></pre>\n<p>In my case, the exception thrown in <code>writePage(...)</code> was a class not found exception, and my code caught it wrongly, and want to reuse the same writer.</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.github.luben.zstd.NoPool\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:68)\n    at org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:74)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:52)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:109)\n    at org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:100)\n    at org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:165)\n    at org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\n    at org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\n</code></pre>\n"}],"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675925081,"creation_date":1601002855,"question_id":64057182,"body_markdown":"I am not able to convert a 3.7GB avro file to parquet format using ConvertAvroToParquet.\r\n\r\nMy setup: ExecuteSQL 1.10.0 &gt; ConvertAvroToParquet 1.10.0 &gt; PutS3Object 1.10.0.\r\n\r\n[ConvertAvroToParquet][1] settings are by default. \r\n\r\n```\r\n2020-09-24 20:54:40,534 INFO [Write-Ahead Local State Provider Maintenance] org.wali.MinimalLockingWriteAheadLog org.wali.MinimalLockingWriteAheadLog@6c8e0773 checkpointed with 645 Records and 0 Swap Files in 5 milliseconds (Stop-the-world time = 1 milliseconds, Clear Edit Logs time = 1 millis), max Transaction ID 9971\r\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 2 records in 0 milliseconds\r\n2020-09-24 20:55:03,820 INFO [Timer-Driven Process Thread-7] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 100899470\r\n2020-09-24 20:55:03,953 ERROR [Timer-Driven Process Thread-7] o.a.n.p.parquet.ConvertAvroToParquet ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] failed to process session due to java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset(); Processor Administratively Yielded for 1 sec: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\r\n\tat org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n2020-09-24 20:55:03,954 WARN [Timer-Driven Process Thread-7] o.a.n.controller.tasks.ConnectableTask Administratively Yielding ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] due to uncaught Exception: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\r\n\tat org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n2020-09-24 20:55:52,897 INFO [Timer-Driven Process Thread-4] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 101841856\r\n``` \r\nWhat can this be?\r\n\r\n  [1]: https://i.stack.imgur.com/HVORw.png","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>I am not able to convert a 3.7GB avro file to parquet format using ConvertAvroToParquet.</p>\n<p>My setup: ExecuteSQL 1.10.0 &gt; ConvertAvroToParquet 1.10.0 &gt; PutS3Object 1.10.0.</p>\n<p><a href=\"https://i.stack.imgur.com/HVORw.png\" rel=\"nofollow noreferrer\">ConvertAvroToParquet</a> settings are by default.</p>\n<pre><code>2020-09-24 20:54:40,534 INFO [Write-Ahead Local State Provider Maintenance] org.wali.MinimalLockingWriteAheadLog org.wali.MinimalLockingWriteAheadLog@6c8e0773 checkpointed with 645 Records and 0 Swap Files in 5 milliseconds (Stop-the-world time = 1 milliseconds, Clear Edit Logs time = 1 millis), max Transaction ID 9971\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 2 records in 0 milliseconds\n2020-09-24 20:55:03,820 INFO [Timer-Driven Process Thread-7] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 100899470\n2020-09-24 20:55:03,953 ERROR [Timer-Driven Process Thread-7] o.a.n.p.parquet.ConvertAvroToParquet ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] failed to process session due to java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset(); Processor Administratively Yielded for 1 sec: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\n    at org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\n    at org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\n    at org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2020-09-24 20:55:03,954 WARN [Timer-Driven Process Thread-7] o.a.n.controller.tasks.ConnectableTask Administratively Yielding ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] due to uncaught Exception: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\n    at org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\n    at org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\n    at org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2020-09-24 20:55:52,897 INFO [Timer-Driven Process Thread-4] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 101841856\n</code></pre>\n<p>What can this be?</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1644700391,"post_id":71095913,"comment_id":125677617,"body_markdown":"I think confusion like this is a big contributor to why so many developers are still using Java 8. Upgrading to a new JDK was mostly trivial up to Java 8. If you start with 11 or later you are fine, but 11 represents a significant barrier when migrating from earlier versions.","body":"I think confusion like this is a big contributor to why so many developers are still using Java 8. Upgrading to a new JDK was mostly trivial up to Java 8. If you start with 11 or later you are fine, but 11 represents a significant barrier when migrating from earlier versions."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":0,"creation_date":1655323666,"post_id":71095913,"comment_id":128308650,"body_markdown":"Hey, I am just wondering if you ever found out more. Specifically I am looking for some central location where I can read about the current state of affairs with JAXB.","body":"Hey, I am just wondering if you ever found out more. Specifically I am looking for some central location where I can read about the current state of affairs with JAXB."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1655333381,"post_id":71095913,"comment_id":128310942,"body_markdown":"@ConfusedUbuntist Nope... I haven&#39;t found any place that has a complete description of the state of JAXB. I just try to put together the pieces from digging through the eclipse-ee4j stuff.  It&#39;s sparse and mostly undocumented.","body":"@ConfusedUbuntist Nope... I haven&#39;t found any place that has a complete description of the state of JAXB. I just try to put together the pieces from digging through the eclipse-ee4j stuff.  It&#39;s sparse and mostly undocumented."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":0,"creation_date":1655386719,"post_id":71095913,"comment_id":128323955,"body_markdown":"That is too bad. Hopefully at some point, things will get at least some clear documentation.","body":"That is too bad. Hopefully at some point, things will get at least some clear documentation."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1697704811,"post_id":71095913,"comment_id":136314162,"body_markdown":"@swpalmer migrating from 8 to 11 was hell for me, but you can&#39;t avoid it, 8 is cave age now. Last LTS is 17","body":"@swpalmer migrating from 8 to 11 was hell for me, but you can&#39;t avoid it, 8 is cave age now. Last LTS is 17"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1697731840,"post_id":71095913,"comment_id":136319651,"body_markdown":"@zakmck Last LTS when you wrote that comment is Java 21, but yes I agree 8-&gt;11 is the hard jump.  It get&#39;s easier after that.","body":"@zakmck Last LTS when you wrote that comment is Java 21, but yes I agree 8-&gt;11 is the hard jump.  It get&#39;s easier after that."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1697791993,"post_id":71095913,"comment_id":136326864,"body_markdown":"Oh damn, the 21 is already around! This policy of releasing based just on time is commercial nonsense.","body":"Oh damn, the 21 is already around! This policy of releasing based just on time is commercial nonsense."}],"answers":[{"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":6,"creation_date":1652034647,"post_id":72151763,"comment_id":127502740,"body_markdown":"There is no question that the process of handing over JAXB was a complete disaster.  It&#39;s till next to impossible to find the latest implementation jar - only the API jar is linked from any pages I could find.  They&#39;ve changed the implementation project and they have no useful links to anything.","body":"There is no question that the process of handing over JAXB was a complete disaster.  It&#39;s till next to impossible to find the latest implementation jar - only the API jar is linked from any pages I could find.  They&#39;ve changed the implementation project and they have no useful links to anything."},{"owner":{"account_id":1292662,"reputation":8228,"user_id":1244442,"accept_rate":79,"display_name":"Swapnil"},"score":5,"creation_date":1653674843,"post_id":72151763,"comment_id":127916715,"body_markdown":"Agreed, I haven&#39;t come across a bigger mess than this in the Java world off late.","body":"Agreed, I haven&#39;t come across a bigger mess than this in the Java world off late."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":1,"creation_date":1655325925,"post_id":72151763,"comment_id":128309330,"body_markdown":"I would not have a problem doing the java.xml.bind to jakarta.xml.bind migration, but I cannot even find any information on that. Based on your answer, it appears that you have at least some experience knowledge in that regard. If you could give a link or elaborate on that a bit further, I would really appreciate it. I have asked a separate question (https://stackoverflow.com/questions/72609324/what-needs-to-be-included-when-migrating-from-javax-xml-bind-to-jakarta-xml-bind) if it gets too off topic for this question. My wording in the liked question may be a little off due to confusion.","body":"I would not have a problem doing the java.xml.bind to jakarta.xml.bind migration, but I cannot even find any information on that. Based on your answer, it appears that you have at least some experience knowledge in that regard. If you could give a link or elaborate on that a bit further, I would really appreciate it. I have asked a separate question (<a href=\"https://stackoverflow.com/questions/72609324/what-needs-to-be-included-when-migrating-from-javax-xml-bind-to-jakarta-xml-bind\" title=\"what needs to be included when migrating from javax xml bind to jakarta xml bind\">stackoverflow.com/questions/72609324/&hellip;</a>) if it gets too off topic for this question. My wording in the liked question may be a little off due to confusion."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":1,"creation_date":1655730591,"post_id":72151763,"comment_id":128393953,"body_markdown":"It certainly does! Thanks very much!","body":"It certainly does! Thanks very much!"},{"owner":{"account_id":307668,"reputation":2161,"user_id":619097,"accept_rate":57,"display_name":"Rams"},"score":0,"creation_date":1691085544,"post_id":72151763,"comment_id":135447483,"body_markdown":"What is the difference between jakarta.xml.bind-api vs jaxb-impl ?","body":"What is the difference between jakarta.xml.bind-api vs jaxb-impl ?"},{"owner":{"account_id":150780,"reputation":1979,"user_id":364206,"accept_rate":40,"display_name":"Danny Thomas"},"score":2,"creation_date":1691812165,"post_id":72151763,"comment_id":135545660,"body_markdown":"@Rams the API and implementation are split between two artifacts. The impl brings in the API transitively, but you&#39;d depend directly on the API only if you had a library and you wanted to leave the choice of implementation up to the downstream consumer","body":"@Rams the API and implementation are split between two artifacts. The impl brings in the API transitively, but you&#39;d depend directly on the API only if you had a library and you wanted to leave the choice of implementation up to the downstream consumer"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696270761,"post_id":72151763,"comment_id":136128906,"body_markdown":"FYI, apparently another implementation of Jakarta XML Binding is [*MOXy*](https://eclipse.dev/eclipselink/#moxy), a part of the [EclipseLink](https://eclipse.dev/eclipselink/) project.","body":"FYI, apparently another implementation of Jakarta XML Binding is <a href=\"https://eclipse.dev/eclipselink/#moxy\" rel=\"nofollow noreferrer\"><i>MOXy</i></a>, a part of the <a href=\"https://eclipse.dev/eclipselink/\" rel=\"nofollow noreferrer\">EclipseLink</a> project."}],"tags":[],"owner":{"account_id":150780,"reputation":1979,"user_id":364206,"accept_rate":40,"display_name":"Danny Thomas"},"comment_count":7,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1675924982,"creation_date":1651920450,"answer_id":72151763,"question_id":71095913,"body_markdown":"The only difference between `jaxb-impl` and `jaxb-runtime` is packaging: `jaxb-impl` bundles istack/txw2 inside the jar, whereas `jaxb-runtime` provides them via separate dependencies. \r\n\r\n## Version Compatibility and the JakartaEE Migration\r\n\r\nI&#39;ve been trying to make sense of this for the last day, and it&#39;s incredibly confusing. Particularly when you&#39;re trying to avoid the `java.xml.bind` to `jakarta.xml.bind` migration. There&#39;s out of date information everywhere and some broken releases in the `jaxb-impl` 2.3.x release line.\r\n\r\nBest I can tell, GlassFish was providing the JAXB reference implementation. It&#39;s since moved to EE4J, but releases continue from that project against both sets of coordinates. Appears that `com.sun.xml.bind:jaxb-ri` is where the latest full bundles are released:\r\n\r\nhttps://github.com/eclipse-ee4j/jaxb-ri/\r\n\r\nHaving figured out that piece of history, the real mess is that none of the artifacts reflect the `javax.xml.bind` to `jakarta.xml.bind` move in their artifact coordinates, only in the versions. This means if you&#39;re in ecosystem where you need both to exist, you&#39;re going to have a bad time.\r\n\r\nFor instance, the 2.3.3 release changed from depending on `javax.xml.bind:jaxb-api` to `jakarta.xml.bind:jakarta.xml.bind-api` because at 2.x, the `jakarta` artifacts provide the `javax.xml.bind` packages. At version 3.0.0 it provides `jakarta.xml.bind`.\r\n\r\nThe implementations are the same at 3.0.0 which means while the earlier versions could happily exist at runtime, you have no way of resolving them both in build tools and conflict resolution is going to break legacy uses of `javax.xml.bind` APIs.\r\n\r\n## Allow javax.xml.bind and jakarta.xml.bind to coexist\r\n\r\nFor projects that need both APIs to coexist without migrating the legacy code:\r\n\r\n - For `javax.xml.bind` use `com.sun.xml.bind:jaxb-impl:2.3.6`. Ignore the 3.0.0 and later releases. Add an explicit dependency on `javax.xml.bind:jaxb-api:2.3.1` so that you have a package providing the `javax.xml.bind` API\r\n - For `jakarta.xml.bind` use the latest `org.glassfish.jaxb:jaxb-runtime`. Ignore the releases earlier than 3.0.0\r\n\r\n## Runtime compatibility with jakarta.xml.bind\r\n\r\nUse the [tomcat-jakartaee-migration](https://github.com/apache/tomcat-jakartaee-migration) tool to rewrite classes for deployment. \r\n\r\nFor Gradle projects, you can use the [gradle-jakartaee-migration-plugin](https://github.com/nebula-plugins/gradle-jakartaee-migration-plugin/), and get the benefit of capabilities and transforms at development time too.\r\n\r\n## Migrate to jakarta.xml.bind\r\n\r\nYou can use either of the coordinates for the runtime based on your preferences for packaging:\r\n\r\n - `com.sun.xml.bind:jaxb-impl:4.0.0`\r\n - `org.glassfish.jaxb:jaxb-runtime:4.0.0`\r\n\r\nBoth depend on `jakarta.xml.bind:jakarta.xml.bind-api` with the `jakarta.xml.bind` package namespace.","title":"What is the difference between jaxb-impl and jaxb-runtime?","body":"<p>The only difference between <code>jaxb-impl</code> and <code>jaxb-runtime</code> is packaging: <code>jaxb-impl</code> bundles istack/txw2 inside the jar, whereas <code>jaxb-runtime</code> provides them via separate dependencies.</p>\n<h2>Version Compatibility and the JakartaEE Migration</h2>\n<p>I've been trying to make sense of this for the last day, and it's incredibly confusing. Particularly when you're trying to avoid the <code>java.xml.bind</code> to <code>jakarta.xml.bind</code> migration. There's out of date information everywhere and some broken releases in the <code>jaxb-impl</code> 2.3.x release line.</p>\n<p>Best I can tell, GlassFish was providing the JAXB reference implementation. It's since moved to EE4J, but releases continue from that project against both sets of coordinates. Appears that <code>com.sun.xml.bind:jaxb-ri</code> is where the latest full bundles are released:</p>\n<p><a href=\"https://github.com/eclipse-ee4j/jaxb-ri/\" rel=\"noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/</a></p>\n<p>Having figured out that piece of history, the real mess is that none of the artifacts reflect the <code>javax.xml.bind</code> to <code>jakarta.xml.bind</code> move in their artifact coordinates, only in the versions. This means if you're in ecosystem where you need both to exist, you're going to have a bad time.</p>\n<p>For instance, the 2.3.3 release changed from depending on <code>javax.xml.bind:jaxb-api</code> to <code>jakarta.xml.bind:jakarta.xml.bind-api</code> because at 2.x, the <code>jakarta</code> artifacts provide the <code>javax.xml.bind</code> packages. At version 3.0.0 it provides <code>jakarta.xml.bind</code>.</p>\n<p>The implementations are the same at 3.0.0 which means while the earlier versions could happily exist at runtime, you have no way of resolving them both in build tools and conflict resolution is going to break legacy uses of <code>javax.xml.bind</code> APIs.</p>\n<h2>Allow javax.xml.bind and jakarta.xml.bind to coexist</h2>\n<p>For projects that need both APIs to coexist without migrating the legacy code:</p>\n<ul>\n<li>For <code>javax.xml.bind</code> use <code>com.sun.xml.bind:jaxb-impl:2.3.6</code>. Ignore the 3.0.0 and later releases. Add an explicit dependency on <code>javax.xml.bind:jaxb-api:2.3.1</code> so that you have a package providing the <code>javax.xml.bind</code> API</li>\n<li>For <code>jakarta.xml.bind</code> use the latest <code>org.glassfish.jaxb:jaxb-runtime</code>. Ignore the releases earlier than 3.0.0</li>\n</ul>\n<h2>Runtime compatibility with jakarta.xml.bind</h2>\n<p>Use the <a href=\"https://github.com/apache/tomcat-jakartaee-migration\" rel=\"noreferrer\">tomcat-jakartaee-migration</a> tool to rewrite classes for deployment.</p>\n<p>For Gradle projects, you can use the <a href=\"https://github.com/nebula-plugins/gradle-jakartaee-migration-plugin/\" rel=\"noreferrer\">gradle-jakartaee-migration-plugin</a>, and get the benefit of capabilities and transforms at development time too.</p>\n<h2>Migrate to jakarta.xml.bind</h2>\n<p>You can use either of the coordinates for the runtime based on your preferences for packaging:</p>\n<ul>\n<li><code>com.sun.xml.bind:jaxb-impl:4.0.0</code></li>\n<li><code>org.glassfish.jaxb:jaxb-runtime:4.0.0</code></li>\n</ul>\n<p>Both depend on <code>jakarta.xml.bind:jakarta.xml.bind-api</code> with the <code>jakarta.xml.bind</code> package namespace.</p>\n"}],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20426,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":72151763,"answer_count":1,"score":27,"last_activity_date":1675924982,"creation_date":1644700350,"question_id":71095913,"body_markdown":"Clearly the com.sun.xml.bind:jaxb-impl artifact is labelled &quot;**Old** JAXB Runtime module&quot; in the maven repository (see link below), and yet both of these artifacts are still getting new releases:\r\n\r\nhttps://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\r\nhttps://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl\r\n\r\nThis answer https://stackoverflow.com/questions/26413431/which-artifacts-should-i-use-for-jaxb-ri-in-my-maven-project/26413432#26413432\r\ndoes not clarify the difference.\r\n\r\nThe accepted answer to both the above question and this one https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception conclude that for Java 9+ you should use:  org.glassfish.jaxb:jaxb-runtime\r\n\r\nBut I have code using com.sun.xml.bind:jaxb-impl and it appears to be working fine.  So what do I lose or gain by moving to jaxb-runtime?\r\n\r\nEven the latest (3.0.2 at the time I write this) version is available for the &quot;OLD&quot; jaxb-impl module.  If Oracle isn&#39;t doing this anymore, who makes the com.sun.xml.bind:jaxb-impl artifact? What is it for? Why doesn&#39;t it share the Maven group coordinates with jaxb-runtime?\r\n\r\nIs there any central location that clearly documents what the current state of affairs is with JAXB?\r\n\r\nThere is just so much confusion with JAXB now.\r\n\r\nP.S. I need to remain compatible with Java 8 for the time being - so I can&#39;t go to 3.x yet, and 2.4.x appears to be an abandoned attempt at fixing the modularity that they foolishly broke when it was split out of the JDK.\r\n","title":"What is the difference between jaxb-impl and jaxb-runtime?","body":"<p>Clearly the com.sun.xml.bind:jaxb-impl artifact is labelled &quot;<strong>Old</strong> JAXB Runtime module&quot; in the maven repository (see link below), and yet both of these artifacts are still getting new releases:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime</a>\n<a href=\"https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl\" rel=\"noreferrer\">https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl</a></p>\n<p>This answer <a href=\"https://stackoverflow.com/questions/26413431/which-artifacts-should-i-use-for-jaxb-ri-in-my-maven-project/26413432#26413432\">Which artifacts should I use for JAXB RI in my Maven project?</a>\ndoes not clarify the difference.</p>\n<p>The accepted answer to both the above question and this one <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</a> conclude that for Java 9+ you should use:  org.glassfish.jaxb:jaxb-runtime</p>\n<p>But I have code using com.sun.xml.bind:jaxb-impl and it appears to be working fine.  So what do I lose or gain by moving to jaxb-runtime?</p>\n<p>Even the latest (3.0.2 at the time I write this) version is available for the &quot;OLD&quot; jaxb-impl module.  If Oracle isn't doing this anymore, who makes the com.sun.xml.bind:jaxb-impl artifact? What is it for? Why doesn't it share the Maven group coordinates with jaxb-runtime?</p>\n<p>Is there any central location that clearly documents what the current state of affairs is with JAXB?</p>\n<p>There is just so much confusion with JAXB now.</p>\n<p>P.S. I need to remain compatible with Java 8 for the time being - so I can't go to 3.x yet, and 2.4.x appears to be an abandoned attempt at fixing the modularity that they foolishly broke when it was split out of the JDK.</p>\n"},{"tags":["java","azure","eclipse","servlets","azure-web-app-service"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675351541,"post_id":75324013,"comment_id":132914400,"body_markdown":"Check the Tomcat logs for stack traces and the reason for the 500 error. Share them in the question.","body":"Check the Tomcat logs for stack traces and the reason for the 500 error. Share them in the question."},{"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"score":0,"creation_date":1675393300,"post_id":75324013,"comment_id":132924334,"body_markdown":"@nitind By tomcat logs do you mean in azure or in eclipse?","body":"@nitind By tomcat logs do you mean in azure or in eclipse?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675397314,"post_id":75324013,"comment_id":132924822,"body_markdown":"The place where you&#39;re getting the 500 error--Azure.","body":"The place where you&#39;re getting the 500 error--Azure."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1675943457,"post_id":75324013,"comment_id":133038454,"body_markdown":"You absolutely need to copy and paste the stack trace into the question as plain text instead of as screenshots. This way your question is Googleable for others facing the same problem.","body":"You absolutely need to copy and paste the stack trace into the question as plain text instead of as screenshots. This way your question is Googleable for others facing the same problem."}],"answers":[{"tags":[],"owner":{"account_id":26887289,"reputation":1376,"user_id":20466646,"display_name":"Rajesh  Mopati"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675924963,"creation_date":1675924963,"answer_id":75395080,"question_id":75324013,"body_markdown":"The below are the things need to check to resolve the issue of servlet pages not being deployed to Azure.\r\n\r\n1. Verify the required dependencies for your servlet pages are included in your pom.xml file.\r\n2. Check the Azure logs for any error messages related to the deployment of your servlet pages. \r\n3. Ensure that the database configuration in your application is correct and matches the configuration of your database in Azure.\r\n4. Try redeploying your application after making any necessary changes to your database configuration.\r\n5. Make sure that the Apache Tomcat server version you are using is compatible with Azure.\r\n6. Ensure that the port on which your Apache Tomcat server is running is open in the firewall settings in Azure.\r\n\r\n**Steps to deploy java application using maven eclipse to Azure:**\r\n\r\nCreating a Java project in Eclipse, go to File &gt; New &gt; Java Project, enter a name for your project, and click Finish.\r\nIf Maven is not already configured in your Eclipse installation, and you need to install the Maven plugin. Go to Help &gt; Eclipse Marketplace, search for &quot;Maven&quot;, and select the Maven Integration for Eclipse plugin. \r\n\r\nClick the Install button, accept the license agreement, and restart Eclipse when prompted.\r\nCreate a pom.xml file and Right-click on your Java project, go to New &gt; Other, select Maven &gt; Maven Project, and click Next. Select the project and enter your project information, such as groupId, artifactId, and version, and click Finish.\r\n\r\n**Create a deployment package.** \r\n\r\nIn the pom.xml file, add the following build plugin to create a deployment package:\r\n```XML\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;jar&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nBuild the deployment package by choosing Java project, go to Run As &gt; Maven build, enter &quot;package&quot; in the Goals field, and click Run. \r\nA jar file will be created in the target directory of your project.\r\n\r\nCreate an Azure App Service \r\n\r\nDeploy the Java application to Azure In the Azure portal, go to the Deployment Center of your Azure App Service, select FTP, and click Continue. Download the publish profile, and then use an FTP client, such as FileZilla, to upload the jar file to the site/wwwroot/webapps directory.\r\n\r\nVerify the deployment In the Azure portal, go to the URL of your Azure App Service, and verify that your Java application.\r\n\r\n![enter image description here](https://i.stack.imgur.com/8T6NM.png)\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/queHH.png)\r\n\r\n\r\nReference taken from\r\n[Java app on Azure App Service](https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-linux-development-environment-maven)\r\n\r\n[Deploy WebApps to Azure](https://azure.microsoft.com/en-in/blog/maven-deploy-java-web-apps-to-azure/)\r\n\r\n","title":"When deploying java application using maven eclipse to Azure, servlet pages do not get deployed","body":"<p>The below are the things need to check to resolve the issue of servlet pages not being deployed to Azure.</p>\n<ol>\n<li>Verify the required dependencies for your servlet pages are included in your pom.xml file.</li>\n<li>Check the Azure logs for any error messages related to the deployment of your servlet pages.</li>\n<li>Ensure that the database configuration in your application is correct and matches the configuration of your database in Azure.</li>\n<li>Try redeploying your application after making any necessary changes to your database configuration.</li>\n<li>Make sure that the Apache Tomcat server version you are using is compatible with Azure.</li>\n<li>Ensure that the port on which your Apache Tomcat server is running is open in the firewall settings in Azure.</li>\n</ol>\n<p><strong>Steps to deploy java application using maven eclipse to Azure:</strong></p>\n<p>Creating a Java project in Eclipse, go to File &gt; New &gt; Java Project, enter a name for your project, and click Finish.\nIf Maven is not already configured in your Eclipse installation, and you need to install the Maven plugin. Go to Help &gt; Eclipse Marketplace, search for &quot;Maven&quot;, and select the Maven Integration for Eclipse plugin.</p>\n<p>Click the Install button, accept the license agreement, and restart Eclipse when prompted.\nCreate a pom.xml file and Right-click on your Java project, go to New &gt; Other, select Maven &gt; Maven Project, and click Next. Select the project and enter your project information, such as groupId, artifactId, and version, and click Finish.</p>\n<p><strong>Create a deployment package.</strong></p>\n<p>In the pom.xml file, add the following build plugin to create a deployment package:</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;jar&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Build the deployment package by choosing Java project, go to Run As &gt; Maven build, enter &quot;package&quot; in the Goals field, and click Run.\nA jar file will be created in the target directory of your project.</p>\n<p>Create an Azure App Service</p>\n<p>Deploy the Java application to Azure In the Azure portal, go to the Deployment Center of your Azure App Service, select FTP, and click Continue. Download the publish profile, and then use an FTP client, such as FileZilla, to upload the jar file to the site/wwwroot/webapps directory.</p>\n<p>Verify the deployment In the Azure portal, go to the URL of your Azure App Service, and verify that your Java application.</p>\n<p><img src=\"https://i.stack.imgur.com/8T6NM.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/queHH.png\" alt=\"enter image description here\" /></p>\n<p>Reference taken from\n<a href=\"https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-linux-development-environment-maven\" rel=\"nofollow noreferrer\">Java app on Azure App Service</a></p>\n<p><a href=\"https://azure.microsoft.com/en-in/blog/maven-deploy-java-web-apps-to-azure/\" rel=\"nofollow noreferrer\">Deploy WebApps to Azure</a></p>\n"}],"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675924963,"creation_date":1675345163,"question_id":75324013,"body_markdown":"This is my first time trying to deploy an application to azure using eclipse. I am using pHp myadmin local database. I have not configured my database in azure yet. I am not sure if its needed. I am using apache tom cat server. It runs fine on apache tomcat including the servlet pages. I get issues when I deploy the application on Azure.\r\n\r\nI tried to deploy my web application using the Azure toolkit plugin available in eclipse. \r\nThese are the exact steps I followed.\r\nhttps://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure \r\n\r\nConfiguration\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see below non servlet pages are visible upon deployment\r\n[![enter image description here][2]][2]\r\n\r\nBut the moment I go to a page with servlet they give me this error.\r\n[![enter image description here][3]][3]\r\n\r\nAny suggestions on how to fix this issue is greatly appreciated!\r\n\r\nEdit: I managed to access logs in Azure \r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ivqIL.png\r\n  [2]: https://i.stack.imgur.com/PsDXH.jpg\r\n  [3]: https://i.stack.imgur.com/HVNy9.png\r\n  [4]: https://i.stack.imgur.com/PWpet.png\r\n  [5]: https://i.stack.imgur.com/BnLLJ.png\r\n  [6]: https://i.stack.imgur.com/7OLZO.png\r\n  [7]: https://i.stack.imgur.com/Ijii8.png","title":"When deploying java application using maven eclipse to Azure, servlet pages do not get deployed","body":"<p>This is my first time trying to deploy an application to azure using eclipse. I am using pHp myadmin local database. I have not configured my database in azure yet. I am not sure if its needed. I am using apache tom cat server. It runs fine on apache tomcat including the servlet pages. I get issues when I deploy the application on Azure.</p>\n<p>I tried to deploy my web application using the Azure toolkit plugin available in eclipse.\nThese are the exact steps I followed.\n<a href=\"https://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure</a></p>\n<p>Configuration\n<a href=\"https://i.stack.imgur.com/ivqIL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivqIL.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see below non servlet pages are visible upon deployment\n<a href=\"https://i.stack.imgur.com/PsDXH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PsDXH.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But the moment I go to a page with servlet they give me this error.\n<a href=\"https://i.stack.imgur.com/HVNy9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HVNy9.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestions on how to fix this issue is greatly appreciated!</p>\n<p>Edit: I managed to access logs in Azure\n<a href=\"https://i.stack.imgur.com/PWpet.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWpet.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/BnLLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BnLLJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7OLZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7OLZO.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Ijii8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ijii8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","gradle","build"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1675687374,"post_id":75361199,"comment_id":132976181,"body_markdown":"Is the project setup from spring initializr? If not, I&#39;d recommend starting from there, since everything is already set up.","body":"Is the project setup from spring initializr? If not, I&#39;d recommend starting from there, since everything is already set up."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675695782,"post_id":75361199,"comment_id":132978972,"body_markdown":"@0x150 Project was setup from spring initializr only. I tried another fresh project from spring initializr. Getting same error.","body":"@0x150 Project was setup from spring initializr only. I tried another fresh project from spring initializr. Getting same error."},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675713820,"post_id":75361199,"comment_id":132984486,"body_markdown":"Spring Boot 3 requires Java 17 as a minimum (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support). Are you trying to build with Java 11?","body":"Spring Boot 3 requires Java 17 as a minimum (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>). Are you trying to build with Java 11?"},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675744784,"post_id":75361199,"comment_id":132989838,"body_markdown":"@ScottFrederick yes","body":"@ScottFrederick yes"},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675790372,"post_id":75361199,"comment_id":133003050,"body_markdown":"You can&#39;t use Java 11 to compile an app using Spring Boot 3. You&#39;ll have to use at least Java 17.","body":"You can&#39;t use Java 11 to compile an app using Spring Boot 3. You&#39;ll have to use at least Java 17."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675832512,"post_id":75361199,"comment_id":133011005,"body_markdown":"@ScottFrederick Ok, but error doesn&#39;t seems to be a compilation error, it looks like issue while resolving the dependency","body":"@ScottFrederick Ok, but error doesn&#39;t seems to be a compilation error, it looks like issue while resolving the dependency"},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675879321,"post_id":75361199,"comment_id":133024811,"body_markdown":"It&#39;s hard to tell exactly what&#39;s going on in your case with the limited build output above and without seeing the entire project, but Gradle will not be able to resolve the plugin unless Java 17 or later used for the build. See https://github.com/spring-projects/spring-boot/issues/33365 for some details and example output.","body":"It&#39;s hard to tell exactly what&#39;s going on in your case with the limited build output above and without seeing the entire project, but Gradle will not be able to resolve the plugin unless Java 17 or later used for the build. See <a href=\"https://github.com/spring-projects/spring-boot/issues/33365\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/33365</a> for some details and example output."}],"answers":[{"tags":[],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675924638,"creation_date":1675924638,"answer_id":75395032,"question_id":75361199,"body_markdown":"Not Sure why error message was not that clear. It was related to certificate issue. I added  some organization specific certificate in java cacerts keystore and it resolved the gradle issue with plugin download.\r\n\r\nThanks to All who tried to help.","title":"Issue while setting up the spring boot with gradle","body":"<p>Not Sure why error message was not that clear. It was related to certificate issue. I added  some organization specific certificate in java cacerts keystore and it resolved the gradle issue with plugin download.</p>\n<p>Thanks to All who tried to help.</p>\n"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75395032,"answer_count":1,"score":0,"last_activity_date":1675924638,"creation_date":1675685732,"question_id":75361199,"body_markdown":"I am trying to setting up a Spring boot gradle project in intelliJ. If I am trying with reload button on the gradle pane, it&#39;s giving me error for setting.gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut setting.gradle file is already there is the root directory.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhen I tried `./gradlew clean build` on terminal getting the below error:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.0&#39;\r\n    }\r\n    \r\n    group &#39;com&#39;\r\n    version &#39;1.0&#39;\r\n    \r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n        targetCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n    }\r\n\r\n\r\nI tried but couldn&#39;t figure out what I am missing. Please suggest.\r\n\r\n**Update:** I tried to delete gradle installation from the system and executed one another application which was working fine earlier but not even after downloading the gradle version, getting the same error as mentioned above.\r\n\r\nI tried Maven project with spring initializr and it successfully build so It seems to be an issue regarding gradle setup on my machine but not sure what to check.**\r\n\r\nRegards\r\n\r\n  [1]: https://i.stack.imgur.com/vZBFm.png\r\n  [2]: https://i.stack.imgur.com/gY7Ji.png\r\n  [3]: https://i.stack.imgur.com/j3ksN.png","title":"Issue while setting up the spring boot with gradle","body":"<p>I am trying to setting up a Spring boot gradle project in intelliJ. If I am trying with reload button on the gradle pane, it's giving me error for setting.gradle</p>\n<p><a href=\"https://i.stack.imgur.com/vZBFm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZBFm.png\" alt=\"enter image description here\" /></a></p>\n<p>but setting.gradle file is already there is the root directory.</p>\n<p><a href=\"https://i.stack.imgur.com/gY7Ji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gY7Ji.png\" alt=\"enter image description here\" /></a></p>\n<p>When I tried <code>./gradlew clean build</code> on terminal getting the below error:</p>\n<p><a href=\"https://i.stack.imgur.com/j3ksN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j3ksN.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.0'\n}\n\ngroup 'com'\nversion '1.0'\n\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njava {\n    sourceCompatibility = JavaVersion.toVersion('11')\n    targetCompatibility = JavaVersion.toVersion('11')\n}\n</code></pre>\n<p>I tried but couldn't figure out what I am missing. Please suggest.</p>\n<p><strong>Update:</strong> I tried to delete gradle installation from the system and executed one another application which was working fine earlier but not even after downloading the gradle version, getting the same error as mentioned above.</p>\n<p>I tried Maven project with spring initializr and it successfully build so It seems to be an issue regarding gradle setup on my machine but not sure what to check.**</p>\n<p>Regards</p>\n"},{"tags":["java","android-studio","encoding","utf-8","syntax-error"],"comments":[{"owner":{"account_id":8719608,"reputation":25664,"user_id":6523163,"accept_rate":72,"display_name":"aircraft"},"score":0,"creation_date":1491028657,"post_id":39932158,"comment_id":73383663,"body_markdown":"@WaqrVicky have you solved it?","body":"@WaqrVicky have you solved it?"},{"owner":{"account_id":9038248,"reputation":383,"user_id":6733339,"accept_rate":25,"display_name":"Waqar Vicky"},"score":0,"creation_date":1491033275,"post_id":39932158,"comment_id":73384745,"body_markdown":"No, i was create new project.","body":"No, i was create new project."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1475929177,"creation_date":1475929177,"answer_id":39932273,"question_id":39932158,"body_markdown":"That&#39;s not an encoding issue. That&#39;s compiled bytecode, the content of a .class file. You cannot simply rename it into .java and expect it to work.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>That's not an encoding issue. That's compiled bytecode, the content of a .class file. You cannot simply rename it into .java and expect it to work.</p>\n"},{"comments":[{"owner":{"account_id":5975681,"reputation":1582,"user_id":4696610,"display_name":"Ravi Vaniya"},"score":2,"creation_date":1561619722,"post_id":52847920,"comment_id":100125711,"body_markdown":"Thanks a lot, UpVoted for saving my day, and for those who are facing this problem, :-  before doing anything, just take a backup then do whatever you want to do and **Don&#39;t forget to try @MShabanAli&#39;s solution**","body":"Thanks a lot, UpVoted for saving my day, and for those who are facing this problem, :-  before doing anything, just take a backup then do whatever you want to do and <b>Don&#39;t forget to try @MShabanAli&#39;s solution</b>"},{"owner":{"account_id":9558125,"reputation":357,"user_id":7099939,"display_name":"M Shaban Ali"},"score":0,"creation_date":1588458388,"post_id":52847920,"comment_id":108905569,"body_markdown":"Happy to help :)","body":"Happy to help :)"},{"owner":{"account_id":5704484,"reputation":549,"user_id":4508504,"display_name":"Abdul Wahid"},"score":0,"creation_date":1601993140,"post_id":52847920,"comment_id":113574518,"body_markdown":"if you don&#39;t have backup ----&gt; you can also cut the code which gives error and than paste it again to the same location that also solved my problem.","body":"if you don&#39;t have backup ----&gt; you can also cut the code which gives error and than paste it again to the same location that also solved my problem."}],"tags":[],"owner":{"account_id":9558125,"reputation":357,"user_id":7099939,"display_name":"M Shaban Ali"},"comment_count":3,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1539754816,"creation_date":1539754816,"answer_id":52847920,"question_id":39932158,"body_markdown":"**For people in future:**\r\n\r\nI had the same problem.\r\n\r\nI was able to solve it simply by making a copy of the project and opened the copied project.\r\nCopied project worked perfectly fine.\r\n\r\n**Note:** I got this problem because of improper shutdown of my PC.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p><strong>For people in future:</strong></p>\n\n<p>I had the same problem.</p>\n\n<p>I was able to solve it simply by making a copy of the project and opened the copied project.\nCopied project worked perfectly fine.</p>\n\n<p><strong>Note:</strong> I got this problem because of improper shutdown of my PC.</p>\n"},{"tags":[],"owner":{"account_id":2181279,"reputation":95,"user_id":1930720,"accept_rate":33,"display_name":"user1930720"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545416261,"creation_date":1545416261,"answer_id":53889226,"question_id":39932158,"body_markdown":"This is an old issue, but if anyone comes across this, what isn&#39;t mentioned above, but happening for me is that the original file on disk is intact java code. Android Studio is reading it like this for some reason.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This is an old issue, but if anyone comes across this, what isn't mentioned above, but happening for me is that the original file on disk is intact java code. Android Studio is reading it like this for some reason.</p>\n"},{"tags":[],"owner":{"account_id":5368601,"reputation":840,"user_id":4277741,"accept_rate":65,"display_name":"ulmaxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1568202299,"creation_date":1568202299,"answer_id":57888435,"question_id":39932158,"body_markdown":"In my case it happend after Windows died with the blue screen, here&#39;s how I fixed it:\r\n\r\n1. Close Android Studio\r\n2. Find a directory named .AndroidStudioX.X in C:Users/YourUsername and rename it to old.AndroidStudioX.X\r\n3. Restart Android Studio and choose the renamed old.AndroidStudioX.X to import settings from.\r\n\r\nMy answer is taken from here https://stackoverflow.com/a/53476487/4277741","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>In my case it happend after Windows died with the blue screen, here's how I fixed it:</p>\n\n<ol>\n<li>Close Android Studio</li>\n<li>Find a directory named .AndroidStudioX.X in C:Users/YourUsername and rename it to old.AndroidStudioX.X</li>\n<li>Restart Android Studio and choose the renamed old.AndroidStudioX.X to import settings from.</li>\n</ol>\n\n<p>My answer is taken from here <a href=\"https://stackoverflow.com/a/53476487/4277741\">https://stackoverflow.com/a/53476487/4277741</a></p>\n"},{"comments":[{"owner":{"account_id":3718356,"reputation":6301,"user_id":3093939,"accept_rate":55,"display_name":"Gal Rom"},"score":1,"creation_date":1582118487,"post_id":58935137,"comment_id":106666171,"body_markdown":"Works. Thanks.  in my case the folder name is &#39;caches&#39; and not &#39;cache&#39;","body":"Works. Thanks.  in my case the folder name is &#39;caches&#39; and not &#39;cache&#39;"},{"owner":{"account_id":3057972,"reputation":1371,"user_id":2591229,"display_name":"droidd"},"score":2,"creation_date":1583733248,"post_id":58935137,"comment_id":107202407,"body_markdown":"Just updating my path for other users so that they can quickly go to caches directory. C:\\Users\\&lt;user_name&gt;\\.AndroidStudio3.6\\system\\ . Worked for me as well. :-)","body":"Just updating my path for other users so that they can quickly go to caches directory. C:\\Users\\&lt;user_name&gt;\\.AndroidStudio3.6\\system\\ . Worked for me as well. :-)"},{"owner":{"account_id":1005651,"reputation":720,"user_id":1019498,"accept_rate":22,"display_name":"Manju"},"score":1,"creation_date":1594781901,"post_id":58935137,"comment_id":111243835,"body_markdown":"Works for me Before deleting, closed IDE.  deleted all files in C:/userfolder/.AndroidStudioVersion/system/caches Thanks.","body":"Works for me Before deleting, closed IDE.  deleted all files in C:/userfolder/.AndroidStudioVersion/system/caches Thanks."},{"owner":{"account_id":3459859,"reputation":287,"user_id":4373371,"display_name":"YoussefDir"},"score":0,"creation_date":1601745301,"post_id":58935137,"comment_id":113503645,"body_markdown":"I want to emphasize that it worked by deleting only the files inside caches. I left the folders inside intact.","body":"I want to emphasize that it worked by deleting only the files inside caches. I left the folders inside intact."},{"owner":{"account_id":7171313,"reputation":1699,"user_id":5478666,"accept_rate":17,"display_name":"KSR"},"score":1,"creation_date":1611300306,"post_id":58935137,"comment_id":116411408,"body_markdown":"Worked perfectly. Thanks @Akshay Chouhan","body":"Worked perfectly. Thanks @Akshay Chouhan"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1640781366,"post_id":58935137,"comment_id":124656622,"body_markdown":"On Windows this path is now C:\\Users\\[username]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches (see also @Francis&#39; answer). Thanks Akshay, this worked for me!","body":"On Windows this path is now C:\\Users&#91;username]\\AppData\\Local\\Google\\AndroidStudio[XX&zwnj;&#8203;XX.X]\\caches (see also @Francis&#39; answer). Thanks Akshay, this worked for me!"}],"tags":[],"owner":{"account_id":17044833,"reputation":335,"user_id":12331920,"display_name":"Akshay Chouhan"},"comment_count":6,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1601611918,"creation_date":1574169832,"answer_id":58935137,"question_id":39932158,"body_markdown":"\t\r\nAn encoding issue can be solved by deleting all files contained in the Android Studio &quot;caches&quot; folder, which can be found in &quot;C:\\Users\\&lt;username&gt;\\.AndroidStudioX.Y\\system\\caches&quot;.\r\n\r\nMake sure that to close Android Studio before deleting.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>An encoding issue can be solved by deleting all files contained in the Android Studio &quot;caches&quot; folder, which can be found in &quot;C:\\Users&lt;username&gt;.AndroidStudioX.Y\\system\\caches&quot;.</p>\n<p>Make sure that to close Android Studio before deleting.</p>\n"},{"tags":[],"owner":{"account_id":7662916,"reputation":1,"user_id":5807608,"display_name":"Mohammed Hussein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579964578,"creation_date":1579953390,"answer_id":59908973,"question_id":39932158,"body_markdown":"I had the same problem and how I fixed it is that I just went to the directory where the java files for my project are located, which in my case is `users/user name/AndroidStudioProjects/Project name/app/src/main/java/com/example/android/project name`, and here you will find all java codes you wrote for your project just open the one making the problem with notepad and you will find your code here in the right format and perfect just copy all of it and get back to Android Studio window and delete the wrong formatted code and paste this one and wait for it to sync and that&#39;s it. If you face the same issue with XML codes just do the same thing find the directory where XML files are located.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>I had the same problem and how I fixed it is that I just went to the directory where the java files for my project are located, which in my case is <code>users/user name/AndroidStudioProjects/Project name/app/src/main/java/com/example/android/project name</code>, and here you will find all java codes you wrote for your project just open the one making the problem with notepad and you will find your code here in the right format and perfect just copy all of it and get back to Android Studio window and delete the wrong formatted code and paste this one and wait for it to sync and that's it. If you face the same issue with XML codes just do the same thing find the directory where XML files are located.</p>\n"},{"tags":[],"owner":{"account_id":16013759,"reputation":362,"user_id":11557093,"display_name":"Harsh0021"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587048650,"creation_date":1587048650,"answer_id":61253252,"question_id":39932158,"body_markdown":"you have to just delete the catches folder in C:/users/&quot;your PC name&quot;/AndroidStudio(version code).\r\nSometimes it gets disturbed because of some reasons like you have shut down the PC in improper way so it won&#39;t get enough time to shutDown all stuff So all that errors occurs.\r\n\r\nI think it would definitely work for you.\r\nHave a nice day!!!!\r\n:)","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>you have to just delete the catches folder in C:/users/\"your PC name\"/AndroidStudio(version code).\nSometimes it gets disturbed because of some reasons like you have shut down the PC in improper way so it won't get enough time to shutDown all stuff So all that errors occurs.</p>\n\n<p>I think it would definitely work for you.\nHave a nice day!!!!\n:)</p>\n"},{"tags":[],"owner":{"account_id":13699691,"reputation":232,"user_id":9885272,"display_name":"Ashwini Salunkhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587709287,"creation_date":1587709287,"answer_id":61402357,"question_id":39932158,"body_markdown":"This worked for me,  I clicked on **utf-8** and code is displayed in proper format.\r\n","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This worked for me,  I clicked on <strong>utf-8</strong> and code is displayed in proper format.</p>\n"},{"comments":[{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1601913705,"post_id":61488150,"comment_id":113547314,"body_markdown":"Copying the project to another directory was what worked for me (Mac)","body":"Copying the project to another directory was what worked for me (Mac)"}],"tags":[],"owner":{"account_id":4449559,"reputation":2273,"user_id":3621912,"display_name":"Benny"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596042939,"creation_date":1588101250,"answer_id":61488150,"question_id":39932158,"body_markdown":"All you need is to remove the Android Studio settings directory, which can be found: \r\n\r\non Windows\r\n\r\n    C:/Users/yourusername/.AndroidStudioX.Y\r\n\r\non Linux:\r\n    \r\n    /home/yourusername/.AndroidStudioX.Y\r\n\r\nClose Android Studio, delete the directory, then reopen Android-Studio and open your project.\r\n\r\nAlso if it happens on a different IDE, it is the same approach.\r\n\r\nIf the issue persists, try to copy the content of your project directory into a new directory, then open the project from the new directory.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>All you need is to remove the Android Studio settings directory, which can be found:</p>\n<p>on Windows</p>\n<pre><code>C:/Users/yourusername/.AndroidStudioX.Y\n</code></pre>\n<p>on Linux:</p>\n<pre><code>/home/yourusername/.AndroidStudioX.Y\n</code></pre>\n<p>Close Android Studio, delete the directory, then reopen Android-Studio and open your project.</p>\n<p>Also if it happens on a different IDE, it is the same approach.</p>\n<p>If the issue persists, try to copy the content of your project directory into a new directory, then open the project from the new directory.</p>\n"},{"tags":[],"owner":{"account_id":11030076,"reputation":699,"user_id":13168899,"display_name":"Mussa Charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618427569,"creation_date":1618427569,"answer_id":67097789,"question_id":39932158,"body_markdown":"This is an old one but I just click `Invalidate Cache / Restart` on file option in IDE and after restart, it works. \r\n\r\nVersion `Android Studio v4.1`","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This is an old one but I just click <code>Invalidate Cache / Restart</code> on file option in IDE and after restart, it works.</p>\n<p>Version <code>Android Studio v4.1</code></p>\n"},{"tags":[],"owner":{"account_id":12920306,"reputation":81,"user_id":9343040,"display_name":"James121"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626349494,"creation_date":1626349494,"answer_id":68393183,"question_id":39932158,"body_markdown":"I had to replace unknown characters(which I had in a comment) into known ones. The issue happened after resolving merge conflicts.\r\n\r\n[![unknown chars][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XSyOu.png","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>I had to replace unknown characters(which I had in a comment) into known ones. The issue happened after resolving merge conflicts.</p>\n<p><a href=\"https://i.stack.imgur.com/XSyOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XSyOu.png\" alt=\"unknown chars\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5971918,"reputation":10303,"user_id":4694013,"accept_rate":79,"display_name":"Anoop M Maddasseri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629100688,"creation_date":1629100688,"answer_id":68799261,"question_id":39932158,"body_markdown":"Just rename the project folder and reopen it in Android Studio, worked like a charm!\r\n\r\nInvalidate Cache &amp; Restart / Clean &amp; Rebuild doesn&#39;t work for me. The project cache corrupted after improper s/m shutdown. Just change the project dir path renaming the project, it&#39;ll work.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>Just rename the project folder and reopen it in Android Studio, worked like a charm!</p>\n<p>Invalidate Cache &amp; Restart / Clean &amp; Rebuild doesn't work for me. The project cache corrupted after improper s/m shutdown. Just change the project dir path renaming the project, it'll work.</p>\n"},{"comments":[{"owner":{"account_id":3857042,"reputation":722,"user_id":3195699,"accept_rate":64,"display_name":"Nick Pampoukidis"},"score":1,"creation_date":1636641810,"post_id":69287647,"comment_id":123615984,"body_markdown":"This worked on windows 11.","body":"This worked on windows 11."}],"tags":[],"owner":{"account_id":5475193,"reputation":6876,"user_id":4353365,"display_name":"Francis"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1632326432,"creation_date":1632326432,"answer_id":69287647,"question_id":39932158,"body_markdown":"On Windows close Android Studio and delete its cache directory:\r\n\r\n    c:\\Users\\[user name]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>On Windows close Android Studio and delete its cache directory:</p>\n<pre><code>c:\\Users\\[user name]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches\n</code></pre>\n"}],"owner":{"account_id":9038248,"reputation":383,"user_id":6733339,"accept_rate":25,"display_name":"Waqar Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35507,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"answer_count":13,"score":24,"last_activity_date":1675924063,"creation_date":1475928482,"question_id":39932158,"body_markdown":"my android studio gone crazy like this please help??\r\n\r\nfile was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio\r\n\r\n![file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio][1]\r\n\r\n\r\n   [1]: http://i.stack.imgur.com/AnTYf.png","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>my android studio gone crazy like this please help??</p>\n\n<p>file was loaded in the wrong encoding: 'UTF-8' in android studio</p>\n\n<p><img src=\"https://i.stack.imgur.com/AnTYf.png\" alt=\"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio\"></p>\n"},{"tags":["java","date","datetime","calendar"],"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":1,"creation_date":1349008010,"post_id":12661203,"comment_id":17081890,"body_markdown":"Since weeks are regular I don&#39;t think there is any problem with february or leap years: if today is monday the last monday was seven days ago.","body":"Since weeks are regular I don&#39;t think there is any problem with february or leap years: if today is monday the last monday was seven days ago."},{"owner":{"account_id":220462,"reputation":177861,"user_id":477878,"display_name":"Joachim Isaksson"},"score":1,"creation_date":1349008674,"post_id":12661203,"comment_id":17082027,"body_markdown":"If you ran it yesterday, what result would you expect? What if you ran it today? Yesterday it&#39;d give 2012-09-17 as monday, today 2012-09-24.","body":"If you ran it yesterday, what result would you expect? What if you ran it today? Yesterday it&#39;d give 2012-09-17 as monday, today 2012-09-24."},{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1349009945,"post_id":12661203,"comment_id":17082255,"body_markdown":"I want it to return the date for Mon and Fri last week. So if i run it yesterday (or even today) it should give me 17th and 21st for both runs. \n\nIf i run it tomorrow which is a new week it should give me 24th and 29th.","body":"I want it to return the date for Mon and Fri last week. So if i run it yesterday (or even today) it should give me 17th and 21st for both runs.   If i run it tomorrow which is a new week it should give me 24th and 29th."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1474313979,"post_id":12661203,"comment_id":66471691,"body_markdown":"How do you define “last week”? Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?","body":"How do you define “last week”? Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?"}],"answers":[{"comments":[{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1349010046,"post_id":12661240,"comment_id":17082275,"body_markdown":"I dont quite understand what you mean. Retreiving two specific dates (Monday and Friday) is what i am trying to do. Do you mean that i should get the range for Monday to Saturday then get the dates for Monday and Friday from that week?","body":"I dont quite understand what you mean. Retreiving two specific dates (Monday and Friday) is what i am trying to do. Do you mean that i should get the range for Monday to Saturday then get the dates for Monday and Friday from that week?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1349013867,"post_id":12661240,"comment_id":17082909,"body_markdown":"Ziggy, I see that you set the time to 23:59:59 for the Friday date. This is a strong indication to me that your intention is to range-check some dates against this as an upper bound. My suggestion is to use Saturday midnight instead as the exclusive upper bound.","body":"Ziggy, I see that you set the time to 23:59:59 for the Friday date. This is a strong indication to me that your intention is to range-check some dates against this as an upper bound. My suggestion is to use Saturday midnight instead as the exclusive upper bound."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1349013975,"post_id":12661240,"comment_id":17082939,"body_markdown":"@gekkostate As requested, I suggested a better approach. Why do you think that doesn&#39;t qualify as an answer? Does the word count alone bother you?","body":"@gekkostate As requested, I suggested a better approach. Why do you think that doesn&#39;t qualify as an answer? Does the word count alone bother you?"},{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1349014599,"post_id":12661240,"comment_id":17083077,"body_markdown":"Hi Marko, i need to run a query in a database to retrieve data for a report. The data i want to include in the report is only from Monday morning to Friday evening. I don&#39;t want to include data for Saturday.","body":"Hi Marko, i need to run a query in a database to retrieve data for a report. The data i want to include in the report is only from Monday morning to Friday evening. I don&#39;t want to include data for Saturday."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1349015407,"post_id":12661240,"comment_id":17083225,"body_markdown":"Ziggy that&#39;s exactly my point. Using Saturday midnight as the exclusive upper bound is the correct way to achieve your goal.","body":"Ziggy that&#39;s exactly my point. Using Saturday midnight as the exclusive upper bound is the correct way to achieve your goal."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349008037,"creation_date":1349008037,"answer_id":12661240,"question_id":12661203,"body_markdown":"The only thing I see wrong is that you are in fact testing the **range** Mo-Fr, and not, as stated, retrieving two specific days. It would be safer to test range Mo-Sa with exclusive upper bound.","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>The only thing I see wrong is that you are in fact testing the <strong>range</strong> Mo-Fr, and not, as stated, retrieving two specific days. It would be safer to test range Mo-Sa with exclusive upper bound.</p>\n"},{"tags":[],"owner":{"account_id":1348049,"reputation":5104,"user_id":1288408,"display_name":"Modus Tollens"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1479464893,"creation_date":1349009096,"answer_id":12661333,"question_id":12661203,"body_markdown":"**Note:** For Java 8 and above please take a look at [Basil Bourque](https://stackoverflow.com/users/642706/basil-bourque)&#39;s answer ([link](https://stackoverflow.com/a/39580958/1288408)).&lt;br&gt;\r\nJava 8 introduced a new time/date API which offers most of Joda-Time&#39;s functionality. \r\n\r\n---\r\n\r\n[Joda-Time][1] offers really nice methods for problems like that.\r\n\r\nGetting the dates for Monday and Friday last week would look something like this using Joda Time:\r\n\r\n    DateTime today = DateTime.now();\r\n    DateTime sameDayLastWeek = today.minusWeeks(1);\r\n    DateTime mondayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.MONDAY);\r\n    DateTime fridayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.FRIDAY);\r\n\r\n\r\nYou can create `DateTime` objects from `java.util.Date` objects and vice versa so it is easy to use with Java dates.\r\n\r\n---\r\n\r\nUsing the above code with the date\r\n\r\n    DateTime today = new DateTime(&quot;2012-09-30&quot;);\r\n\r\nresults in &quot;2012-09-17&quot; for Monday and &quot;2012-09-21&quot; for Friday, setting the date to\r\n\r\n    DateTime tomorrow = new DateTime(&quot;2012-10-01&quot;);\r\n\r\nresults in &quot;2012-09-24&quot; for Monday and &quot;2012-09-28&quot; for Friday.\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p><strong>Note:</strong> For Java 8 and above please take a look at <a href=\"https://stackoverflow.com/users/642706/basil-bourque\">Basil Bourque</a>'s answer (<a href=\"https://stackoverflow.com/a/39580958/1288408\">link</a>).<br>\nJava 8 introduced a new time/date API which offers most of Joda-Time's functionality. </p>\n\n<hr>\n\n<p><a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> offers really nice methods for problems like that.</p>\n\n<p>Getting the dates for Monday and Friday last week would look something like this using Joda Time:</p>\n\n<pre><code>DateTime today = DateTime.now();\nDateTime sameDayLastWeek = today.minusWeeks(1);\nDateTime mondayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.MONDAY);\nDateTime fridayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.FRIDAY);\n</code></pre>\n\n<p>You can create <code>DateTime</code> objects from <code>java.util.Date</code> objects and vice versa so it is easy to use with Java dates.</p>\n\n<hr>\n\n<p>Using the above code with the date</p>\n\n<pre><code>DateTime today = new DateTime(\"2012-09-30\");\n</code></pre>\n\n<p>results in \"2012-09-17\" for Monday and \"2012-09-21\" for Friday, setting the date to</p>\n\n<pre><code>DateTime tomorrow = new DateTime(\"2012-10-01\");\n</code></pre>\n\n<p>results in \"2012-09-24\" for Monday and \"2012-09-28\" for Friday.</p>\n"},{"comments":[{"owner":{"account_id":12312619,"reputation":290,"user_id":8983671,"display_name":"Lukas Mohs"},"score":0,"creation_date":1588585704,"post_id":12661517,"comment_id":108944524,"body_markdown":"I would shortly add that if the current day of the week is Monday, you would still go to the previous Monday in case one is wondering about this edge case.","body":"I would shortly add that if the current day of the week is Monday, you would still go to the previous Monday in case one is wondering about this edge case."}],"tags":[],"owner":{"account_id":220462,"reputation":177861,"user_id":477878,"display_name":"Joachim Isaksson"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1349010995,"creation_date":1349010995,"answer_id":12661517,"question_id":12661203,"body_markdown":"You still have start of week set to sunday, which means that `Calendar.MONDAY` on a saturday is the monday before, while `Calendar.MONDAY` on a sunday is the next day.\r\n\r\nWhat you need to do is (according to how you want it according to your comment above), to set the start of week to monday.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setFirstDayOfWeek(Calendar.MONDAY);\r\n\r\n    cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n    cal.add(Calendar.DAY_OF_WEEK, -7); \r\n    ...\r\n\r\nBeyond that, and that the last second of friday isn&#39;t included in the range, your logic seems sound, and shouldn&#39;t have trouble with leap years/DST shifts etc.\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>You still have start of week set to sunday, which means that <code>Calendar.MONDAY</code> on a saturday is the monday before, while <code>Calendar.MONDAY</code> on a sunday is the next day.</p>\n\n<p>What you need to do is (according to how you want it according to your comment above), to set the start of week to monday.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setFirstDayOfWeek(Calendar.MONDAY);\n\ncal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\ncal.add(Calendar.DAY_OF_WEEK, -7); \n...\n</code></pre>\n\n<p>Beyond that, and that the last second of friday isn't included in the range, your logic seems sound, and shouldn't have trouble with leap years/DST shifts etc.</p>\n"},{"comments":[{"owner":{"account_id":1970873,"reputation":927,"user_id":1769859,"accept_rate":50,"display_name":"derek.z"},"score":1,"creation_date":1521241747,"post_id":39580958,"comment_id":85663399,"body_markdown":"the &#39;previousMonday&#39; value might be this week&#39;s Monday","body":"the &#39;previousMonday&#39; value might be this week&#39;s Monday"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1521243203,"post_id":39580958,"comment_id":85663785,"body_markdown":"@qianlei No, not this week’s Monday. The Question explicitly asked for “the date for Monday last week”. But if one were wanting to use the initial date if it already is on the desired day-of-week, use an alternate `TemporalAdjuster` implementation: [`TemporalAdjusters.previousOrSame( DayOfWeek )`](https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-) or  `TemporalAdjusters.nextOrSame( DayOfWeek )`.","body":"@qianlei No, not this week’s Monday. The Question explicitly asked for “the date for Monday last week”. But if one were wanting to use the initial date if it already is on the desired day-of-week, use an alternate <code>TemporalAdjuster</code> implementation: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\" rel=\"nofollow noreferrer\"><code>TemporalAdjusters.previousOrSame( DayOfWeek )</code></a> or  <code>TemporalAdjusters.nextOrSame( DayOfWeek )</code>."},{"owner":{"account_id":38158,"reputation":1565,"user_id":109354,"display_name":"Sourabh"},"score":0,"creation_date":1658383909,"post_id":39580958,"comment_id":129038796,"body_markdown":"jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;))\n$3 ==&gt; 2022-07-21\n\njshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfWeek()\n$4 ==&gt; THURSDAY\n\njshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\n$5 ==&gt; 2022-07-18\n\njshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY))\n$8 ==&gt; 2022-07-18","body":"jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)) $3 ==&gt; 2022-07-21  jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfWeek() $4 ==&gt; THURSDAY  jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjust&zwnj;&#8203;ers.previous(DayOfWe&zwnj;&#8203;ek.MONDAY)); $5 ==&gt; 2022-07-18  jshell&gt; LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).with(TemporalAdjust&zwnj;&#8203;ers.previousOrSame(D&zwnj;&#8203;ayOfWeek.MONDAY)) $8 ==&gt; 2022-07-18"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1587840969,"creation_date":1474314455,"answer_id":39580958,"question_id":12661203,"body_markdown":"# tl;dr\r\n\r\n&gt;get the dates for Monday and Friday last week\r\n\r\n\r\n    LocalDate                                           // Represent a date only, without a time-of-day, and without a time zone or offset.\r\n    .now                                                // Capture the current date as seen through the wall-clock time used by the people of a certain region (a time zone). \r\n    ( \r\n        ZoneId.of( &quot;America/Montreal&quot; ) \r\n    )                                                   // Returns a `LocalDate` object.\r\n    .with                                               // Move to another date.\r\n    ( \r\n        TemporalAdjusters.previous( DayOfWeek.MONDAY )  // Returns an implementation of the `TemporalAdjuster` interface.\r\n    )                                                   // Returns another `LocalDate` object, separate and distinct from our original `LocalDate` object. Per the immutable objects design pattern. \r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe other Answers use the troublesome old legacy date-time classes now supplanted by the java.time questions.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( “America/Montreal” );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n# `TemporalAdjuster`\r\n\r\nThe [`TemporalAdjuster`][1] interface provides for adjustments to move from one date-time value to another. Find handy implementations in the [`TemporalAdjusters`][2] class (note the plural &#39;s&#39;). The `previous` adjuster finds any specified object from the [`DayOfWeek`][3] enum.\r\n\r\nThe Question does not exactly define “last week”. Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?\r\n\r\nI will assume the prior seven days were intended.\r\n\r\n    LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\r\n    LocalDate previousFriday = today.with( TemporalAdjusters.previous( DayOfWeek.FRIDAY ) ) ;\r\n\r\n\r\nBy the way, if you want to consider the initial date if it happens to already be the desired day-of-week, use alternate `TemporalAdjuster` implementations: [`previousOrSame`][4] or [`nextOrSame`][5].\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#nextOrSame-java.time.DayOfWeek-","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<h1>tl;dr</h1>\n\n<blockquote>\n  <p>get the dates for Monday and Friday last week</p>\n</blockquote>\n\n<pre><code>LocalDate                                           // Represent a date only, without a time-of-day, and without a time zone or offset.\n.now                                                // Capture the current date as seen through the wall-clock time used by the people of a certain region (a time zone). \n( \n    ZoneId.of( \"America/Montreal\" ) \n)                                                   // Returns a `LocalDate` object.\n.with                                               // Move to another date.\n( \n    TemporalAdjusters.previous( DayOfWeek.MONDAY )  // Returns an implementation of the `TemporalAdjuster` interface.\n)                                                   // Returns another `LocalDate` object, separate and distinct from our original `LocalDate` object. Per the immutable objects design pattern. \n</code></pre>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>The other Answers use the troublesome old legacy date-time classes now supplanted by the java.time questions.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montréal Québec</a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( “America/Montreal” );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n\n<h1><code>TemporalAdjuster</code></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\" rel=\"noreferrer\"><code>TemporalAdjuster</code></a> interface provides for adjustments to move from one date-time value to another. Find handy implementations in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\"><code>TemporalAdjusters</code></a> class (note the plural 's'). The <code>previous</code> adjuster finds any specified object from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"noreferrer\"><code>DayOfWeek</code></a> enum.</p>\n\n<p>The Question does not exactly define “last week”. Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to today’s week or including today’s partial week?</p>\n\n<p>I will assume the prior seven days were intended.</p>\n\n<pre><code>LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\nLocalDate previousFriday = today.with( TemporalAdjusters.previous( DayOfWeek.FRIDAY ) ) ;\n</code></pre>\n\n<p>By the way, if you want to consider the initial date if it happens to already be the desired day-of-week, use alternate <code>TemporalAdjuster</code> implementations: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\" rel=\"noreferrer\"><code>previousOrSame</code></a> or <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#nextOrSame-java.time.DayOfWeek-\" rel=\"noreferrer\"><code>nextOrSame</code></a>.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676274263,"post_id":75394959,"comment_id":133096883,"body_markdown":"I covered this in [my Answer](https://stackoverflow.com/a/39580958/642706).","body":"I covered this in <a href=\"https://stackoverflow.com/a/39580958/642706\">my Answer</a>."}],"tags":[],"owner":{"account_id":9725157,"reputation":2553,"user_id":7212399,"accept_rate":100,"display_name":"Pratik Ambani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675923974,"creation_date":1675923974,"answer_id":75394959,"question_id":12661203,"body_markdown":"You can use **TemporalAdjusters** to adjust the desired dates/days you are looking for.\r\n\r\n**Example:**\r\n\r\n    LocalDate today = LocalDate.now();\r\n    LocalDate lastMonday = today.with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\r\n    LocalDate lastFriday = today.with(TemporalAdjusters.previous(DayOfWeek.FRIDAY));\r\n\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>You can use <strong>TemporalAdjusters</strong> to adjust the desired dates/days you are looking for.</p>\n<p><strong>Example:</strong></p>\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate lastMonday = today.with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\nLocalDate lastFriday = today.with(TemporalAdjusters.previous(DayOfWeek.FRIDAY));\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19522,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1675923974,"creation_date":1349007582,"question_id":12661203,"body_markdown":"I need to get the dates for Monday and Friday last week. To do this, i am getting the date of Monday this week and subtracting 7 days. This gives me the date for Monday last week.\r\n\r\nTo get the date for Friday i have to add 4. This confused me a bit because for some reason the first day of the week is Sunday as opposed to Monday here in the UK. \r\n\r\nAnyway, here is how i am getting the dates.  \r\n\r\n\r\n                // Get the dates for last MON &amp; FRI\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(date);\r\n    \t\t\r\n    \t\tcal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n    \t\tcal.add(Calendar.DAY_OF_WEEK, -7);\r\n    \t\t\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY,0);\r\n    \t\tcal.set(Calendar.MINUTE,0);\r\n    \t\tcal.set(Calendar.SECOND,0);\r\n    \t\tcal.set(Calendar.MILLISECOND,0);\r\n    \t\t\r\n    \t\t// Get the date on Friday\r\n    \t\tcal.add(Calendar.DAY_OF_WEEK, 4);\r\n    \t\t\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY,23);\r\n    \t\tcal.set(Calendar.MINUTE,59);\r\n    \t\tcal.set(Calendar.SECOND,59);\r\n    \t\tcal.set(Calendar.MILLISECOND,0);\r\n\r\nThe above works but i am interested if there is anything wrong with the logic. I.e. will it work for Februarys, leap years etc. \r\n\r\nFeel free to suggest a better solution/approach. \r\n\r\nThanks\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>I need to get the dates for Monday and Friday last week. To do this, i am getting the date of Monday this week and subtracting 7 days. This gives me the date for Monday last week.</p>\n\n<p>To get the date for Friday i have to add 4. This confused me a bit because for some reason the first day of the week is Sunday as opposed to Monday here in the UK. </p>\n\n<p>Anyway, here is how i am getting the dates.  </p>\n\n<pre><code>            // Get the dates for last MON &amp; FRI\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n\n        cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\n        cal.add(Calendar.DAY_OF_WEEK, -7);\n\n        cal.set(Calendar.HOUR_OF_DAY,0);\n        cal.set(Calendar.MINUTE,0);\n        cal.set(Calendar.SECOND,0);\n        cal.set(Calendar.MILLISECOND,0);\n\n        // Get the date on Friday\n        cal.add(Calendar.DAY_OF_WEEK, 4);\n\n        cal.set(Calendar.HOUR_OF_DAY,23);\n        cal.set(Calendar.MINUTE,59);\n        cal.set(Calendar.SECOND,59);\n        cal.set(Calendar.MILLISECOND,0);\n</code></pre>\n\n<p>The above works but i am interested if there is anything wrong with the logic. I.e. will it work for Februarys, leap years etc. </p>\n\n<p>Feel free to suggest a better solution/approach. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","mvvm","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675923600,"creation_date":1675923600,"answer_id":75394919,"question_id":75394710,"body_markdown":"You mentioned you are using dagger. I see you are expecting the following to be injected, but doing nothing for that to happen:\r\n\r\n```\r\n    @Inject\r\n    lateinit var viewModelFactory: ViewModelFactory\r\n```\r\n\r\nSo I can imagine your app is crashing because `viewModelFactory` is not initialized. Depending on your DI structure, you should either do component/subcomponent injection, or use `AndroidInjection.inject(this)`","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>You mentioned you are using dagger. I see you are expecting the following to be injected, but doing nothing for that to happen:</p>\n<pre><code>    @Inject\n    lateinit var viewModelFactory: ViewModelFactory\n</code></pre>\n<p>So I can imagine your app is crashing because <code>viewModelFactory</code> is not initialized. Depending on your DI structure, you should either do component/subcomponent injection, or use <code>AndroidInjection.inject(this)</code></p>\n"},{"tags":[],"owner":{"account_id":131342,"reputation":2196,"user_id":331271,"display_name":"hlidka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675923683,"creation_date":1675923683,"answer_id":75394923,"question_id":75394710,"body_markdown":"One way to do this is to annotate the ViewModel with `@HiltViewModel` and the activity with `@AndroidEntryPoint`, then you can `import androidx.activity.viewModels` and then have \r\n\r\n```\r\nprivate val model: ReportsViewModel by viewModels()\r\n```","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>One way to do this is to annotate the ViewModel with <code>@HiltViewModel</code> and the activity with <code>@AndroidEntryPoint</code>, then you can <code>import androidx.activity.viewModels</code> and then have</p>\n<pre><code>private val model: ReportsViewModel by viewModels()\n</code></pre>\n"}],"owner":{"account_id":23984265,"reputation":25,"user_id":17971278,"display_name":"kathir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75394919,"answer_count":2,"score":2,"last_activity_date":1675923683,"creation_date":1675921871,"question_id":75394710,"body_markdown":"I am new in android kotlin and dagger,I am facing above issue. I already provide the ViewModelFactory but facing issue i don&#39;t know why this issue is came, i have attached the MainActivity, Repository class and Viewmodel class,Please resolve my issue what I am take my mistake, Please help.\r\n\r\n//MainActivity.class\r\n\r\n```\r\n`class MainActivity  : AppCompatActivity() {\r\n    @Inject\r\n    lateinit var viewModelFactory: ViewModelFactory\r\n\r\n    private lateinit var reportViewModel: ReportsViewModel\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        //(application as PWEApplication).daggerComponent.inject(this)\r\n        reportViewModel = ViewModelProvider(this, viewModelFactory).get(ReportsViewModel::class.java)\r\n        reportViewModel.report.observe(this, Observer {\r\n            when(it.status){\r\n                NetworkResource.Status.LOADING -&gt; {\r\n                    // Show a loading indicator\r\n                }\r\n                NetworkResource.Status.SUCCESS -&gt; {\r\n                    // Show the data from the API\r\n                    Log.e(&quot;installationReport&quot;,&quot;&quot;+it.data)\r\n                }\r\n                NetworkResource.Status.ERROR -&gt; {\r\n                    // Show an error message\r\n                }\r\n            }\r\n        })\r\n    }\r\n}`\r\n```\r\n//Viewmodel.class\r\n\r\n```\r\n``open class ReportsViewModel @Inject constructor(private val repository: ReportsRepository) :ViewModel() {\r\n\r\n    private var reportLiveData = MediatorLiveData&lt;ReportRequest&gt;()\r\n\r\n    val report = Transformations.switchMap(reportLiveData) {\r\n        repository.getReports(it)\r\n    }\r\n\r\n    fun getInstallReport(idd: Int, fromDate: String, toDate: String) {\r\n        reportLiveData.value = ReportRequest(idd, fromDate, toDate)\r\n    }\r\n\r\n}`\r\n```\r\n//ReportRepository.class\r\n\r\n    class ReportsRepository @Inject constructor(\r\n        private val reportServiceNS: ReportsService,\r\n        private val schedulerProvider: SchedulerProvider\r\n    ) {\r\n        private val reportsMutableLiveData = MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;()\r\n        private var disposable: Disposable? = null\r\n    \r\n        fun getReports(reportRequest: ReportRequest): MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;{\r\n            disposable = reportServiceNS.getReport(\r\n                reportRequest.script,\r\n                reportRequest.deploy,\r\n                reportRequest.compId,\r\n                reportRequest.h,\r\n                reportRequest.discId,\r\n                reportRequest.fromDate,\r\n                reportRequest.toDate)\r\n                .compose(schedulerProvider.getSchedulersForObservable())\r\n                .subscribeWith(object : DisposableObserver&lt;ReportResponse&gt;() {\r\n                    override fun onComplete() {\r\n    \r\n                    }\r\n    \r\n                    override fun onNext(t: ReportResponse) {\r\n                        reportsMutableLiveData.value = NetworkResource.success(t.complaintData)\r\n                    }\r\n    \r\n                    override fun onError(e: Throwable) {\r\n                        reportsMutableLiveData.value = NetworkResource.error(e, null)\r\n                    }\r\n    \r\n                })\r\n    \r\n            return reportsMutableLiveData\r\n        }\r\n    }`","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>I am new in android kotlin and dagger,I am facing above issue. I already provide the ViewModelFactory but facing issue i don't know why this issue is came, i have attached the MainActivity, Repository class and Viewmodel class,Please resolve my issue what I am take my mistake, Please help.</p>\n<p>//MainActivity.class</p>\n<pre><code>`class MainActivity  : AppCompatActivity() {\n    @Inject\n    lateinit var viewModelFactory: ViewModelFactory\n\n    private lateinit var reportViewModel: ReportsViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //(application as PWEApplication).daggerComponent.inject(this)\n        reportViewModel = ViewModelProvider(this, viewModelFactory).get(ReportsViewModel::class.java)\n        reportViewModel.report.observe(this, Observer {\n            when(it.status){\n                NetworkResource.Status.LOADING -&gt; {\n                    // Show a loading indicator\n                }\n                NetworkResource.Status.SUCCESS -&gt; {\n                    // Show the data from the API\n                    Log.e(&quot;installationReport&quot;,&quot;&quot;+it.data)\n                }\n                NetworkResource.Status.ERROR -&gt; {\n                    // Show an error message\n                }\n            }\n        })\n    }\n}`\n</code></pre>\n<p>//Viewmodel.class</p>\n<pre><code>``open class ReportsViewModel @Inject constructor(private val repository: ReportsRepository) :ViewModel() {\n\n    private var reportLiveData = MediatorLiveData&lt;ReportRequest&gt;()\n\n    val report = Transformations.switchMap(reportLiveData) {\n        repository.getReports(it)\n    }\n\n    fun getInstallReport(idd: Int, fromDate: String, toDate: String) {\n        reportLiveData.value = ReportRequest(idd, fromDate, toDate)\n    }\n\n}`\n</code></pre>\n<p>//ReportRepository.class</p>\n<pre><code>class ReportsRepository @Inject constructor(\n    private val reportServiceNS: ReportsService,\n    private val schedulerProvider: SchedulerProvider\n) {\n    private val reportsMutableLiveData = MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;()\n    private var disposable: Disposable? = null\n\n    fun getReports(reportRequest: ReportRequest): MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;{\n        disposable = reportServiceNS.getReport(\n            reportRequest.script,\n            reportRequest.deploy,\n            reportRequest.compId,\n            reportRequest.h,\n            reportRequest.discId,\n            reportRequest.fromDate,\n            reportRequest.toDate)\n            .compose(schedulerProvider.getSchedulersForObservable())\n            .subscribeWith(object : DisposableObserver&lt;ReportResponse&gt;() {\n                override fun onComplete() {\n\n                }\n\n                override fun onNext(t: ReportResponse) {\n                    reportsMutableLiveData.value = NetworkResource.success(t.complaintData)\n                }\n\n                override fun onError(e: Throwable) {\n                    reportsMutableLiveData.value = NetworkResource.error(e, null)\n                }\n\n            })\n\n        return reportsMutableLiveData\n    }\n}`\n</code></pre>\n"},{"tags":["java","stack","expression","parentheses"],"comments":[{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":3,"creation_date":1457684482,"post_id":35935280,"comment_id":59527288,"body_markdown":"`There is something wrong` - can you give an example input for which the output is not what you expect?","body":"<code>There is something wrong</code> - can you give an example input for which the output is not what you expect?"},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457684544,"post_id":35935280,"comment_id":59527315,"body_markdown":"I gave an example input in my main method. It&#39;s (a+b). It should be balanced and my checkBalance method should return true, but I keep getting false.","body":"I gave an example input in my main method. It&#39;s (a+b). It should be balanced and my checkBalance method should return true, but I keep getting false."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1457684722,"post_id":35935280,"comment_id":59527403,"body_markdown":"What answer are you expecting for `([}]`?","body":"What answer are you expecting for <code>([}]</code>?"},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457685303,"post_id":35935280,"comment_id":59527706,"body_markdown":"@shmosel It would be false right? It would add &#39;(&#39; and &#39;[&#39; to the stack and when it encounters &#39;}&#39;, it will go to second set of cases in my switch statement and there since &#39;[&#39; and &#39;{&#39; are not equal, isBalanced would be set to false and exit the loop right?","body":"@shmosel It would be false right? It would add &#39;(&#39; and &#39;[&#39; to the stack and when it encounters &#39;}&#39;, it will go to second set of cases in my switch statement and there since &#39;[&#39; and &#39;{&#39; are not equal, isBalanced would be set to false and exit the loop right?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1457685759,"post_id":35935280,"comment_id":59527931,"body_markdown":"@rohitkrishna094, well not really. Your code is not differentiating between any class of delimiter. Though perhaps that was the intention of `if(opendelimiter!=expression.charAt(i))`, as some of the answers explain.","body":"@rohitkrishna094, well not really. Your code is not differentiating between any class of delimiter. Though perhaps that was the intention of <code>if(opendelimiter!=expression.charAt(i))</code>, as some of the answers explain."},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457685843,"post_id":35935280,"comment_id":59527981,"body_markdown":"Yeah thanks. I just figured that out too. My bad.","body":"Yeah thanks. I just figured that out too. My bad."}],"answers":[{"tags":[],"owner":{"account_id":4928280,"reputation":3516,"user_id":3968921,"accept_rate":43,"display_name":"Ankit Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457685278,"creation_date":1457684745,"answer_id":35935407,"question_id":35935280,"body_markdown":"    char opendelimiter=myStack.pop();\r\n    if(opendelimiter!=expression.charAt(i)){\r\n           isBalanced=false;\r\n    }\r\n\r\nHere you should check\r\n\r\n        if(openedDeimilter == &#39;(&#39;){\r\n            if(expression.charAt(i)!=&#39;)&#39;){\r\n                isBalanced=false;\r\n                //break;\r\n            }\r\n        }else if(openedDeimilter == &#39;[&#39;){\r\n            if(expression.charAt(i)!=&#39;]&#39;){\r\n               isBalanced=false;\r\n               //break;\r\n            }\r\n        }else {\r\n             if(expression.charAt(i)!=&#39;}&#39;){\r\n                isBalanced=false;\r\n                //break;\r\n            }\r\n        }\r\nAlso once isBalanced is set to `false` you can skip iterating the remaining string, if it suits you.","title":"Checking if parenthesis are balanced or not using Stack?","body":"<pre><code>char opendelimiter=myStack.pop();\nif(opendelimiter!=expression.charAt(i)){\n       isBalanced=false;\n}\n</code></pre>\n\n<p>Here you should check</p>\n\n<pre><code>    if(openedDeimilter == '('){\n        if(expression.charAt(i)!=')'){\n            isBalanced=false;\n            //break;\n        }\n    }else if(openedDeimilter == '['){\n        if(expression.charAt(i)!=']'){\n           isBalanced=false;\n           //break;\n        }\n    }else {\n         if(expression.charAt(i)!='}'){\n            isBalanced=false;\n            //break;\n        }\n    }\n</code></pre>\n\n<p>Also once isBalanced is set to <code>false</code> you can skip iterating the remaining string, if it suits you.</p>\n"},{"tags":[],"owner":{"account_id":5972234,"reputation":1474,"user_id":4694248,"accept_rate":60,"display_name":"Manu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457684804,"creation_date":1457684804,"answer_id":35935422,"question_id":35935280,"body_markdown":"This part is wrong:\r\n\r\n    if(opendelimiter!=expression.charAt(i)){\r\n        isBalanced=false;\r\n    }\r\n\r\nYou check if two chars are equal, but the correct check should match the 2 corresponding chars: `[` - `]`, `(` - `)` and `{` - `}`","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>This part is wrong:</p>\n\n<pre><code>if(opendelimiter!=expression.charAt(i)){\n    isBalanced=false;\n}\n</code></pre>\n\n<p>You check if two chars are equal, but the correct check should match the 2 corresponding chars: <code>[</code> - <code>]</code>, <code>(</code> - <code>)</code> and <code>{</code> - <code>}</code></p>\n"},{"tags":[],"owner":{"account_id":1622593,"reputation":2701,"user_id":1498857,"display_name":"Gianni B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457685527,"creation_date":1457685527,"answer_id":35935609,"question_id":35935280,"body_markdown":"What about a different approach using only the length of your expression without each parentheses? This will let you not use the Stack class and should be more efficient for longer expression\r\n\r\n    public static boolean checkBalance(String expression) {\r\n\t   String[] parentheses = new String[]{&quot;\\\\(|\\\\)&quot;,&quot;\\\\[|\\\\]&quot;,&quot;\\\\{|\\\\}&quot;};\r\n\t   int length = expression.length();\r\n\t   for(int i=0; i&lt;parentheses.length; i++) {\r\n\t\t   int newLength = expression.replaceAll(parentheses[i], &quot;&quot;).length();\r\n\t\t   int diff = length - newLength;\r\n\t\t   if(diff % 2 != 0) {\r\n              return false;\r\n\t\t   }\r\n\t   }\r\n       return true;\r\n    }\r\n\r\nThe double backslash are used to escape each parentheses because they are special characters","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>What about a different approach using only the length of your expression without each parentheses? This will let you not use the Stack class and should be more efficient for longer expression</p>\n\n<pre><code>public static boolean checkBalance(String expression) {\n   String[] parentheses = new String[]{\"\\\\(|\\\\)\",\"\\\\[|\\\\]\",\"\\\\{|\\\\}\"};\n   int length = expression.length();\n   for(int i=0; i&lt;parentheses.length; i++) {\n       int newLength = expression.replaceAll(parentheses[i], \"\").length();\n       int diff = length - newLength;\n       if(diff % 2 != 0) {\n          return false;\n       }\n   }\n   return true;\n}\n</code></pre>\n\n<p>The double backslash are used to escape each parentheses because they are special characters</p>\n"},{"tags":[],"owner":{"account_id":10595103,"reputation":23,"user_id":7804131,"display_name":"Harsh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502265940,"creation_date":1502265940,"answer_id":45584986,"question_id":35935280,"body_markdown":"    #include&lt;stdio.h&gt;\r\n    #include&lt;stdlib.h&gt;\r\n    #include&lt;string.h&gt;\r\n    \r\n    \r\n    char exp[1028];\r\n    char ext[1028];\r\n    \r\n    int top = -1;\r\n    //-----------------------------------------------------------------------------\r\n    push(char x){\r\n    \r\n    \ttop++;\r\n    \text[top]=x;\r\n    \t}\r\n    //-----------------------------------------------------------------------------------------\r\n    \r\n    void pop(){\r\n    \ttop--;\r\n    }\r\n    //--------------------------------------------------------------------------------------\r\n    \r\n    \r\n    main()\r\n    {\r\n    int ans;\r\n    char in=&#39;{&#39;;\r\n    char it=&#39;[&#39;;\r\n    char ie=&#39;(&#39;;\r\n    \r\n    char an;&#39;}&#39;;\r\n    char at=&#39;]&#39;;\r\n    char ae=&#39;)&#39;;\r\n    printf(&quot;\\nenter your expression\\n&quot;);\r\n    gets(exp);\r\n    int j=strlen(exp);\r\n    int i;\r\n    for(i=0;i&lt;=j;i++){\r\n    \tif(exp[i] == in || exp[i] == it || exp[i]==ie){\r\n    \t\tpush(exp[i]);\r\n    \t\t}\r\n    \tif(exp[i] == an ||exp[i]== at || exp[i]==ae){\r\n    \t\tpop();\r\n    \t}\r\n    }\r\n    if(top == -1){\r\n    \tprintf(&quot;\\nexp is balanced\\n&quot;);\r\n    \t}\r\n    else{\r\n    \tprintf(&quot;\\nexp is unbalanced&quot;);\r\n    }\r\n    }","title":"Checking if parenthesis are balanced or not using Stack?","body":"<pre><code>#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;string.h&gt;\n\n\nchar exp[1028];\nchar ext[1028];\n\nint top = -1;\n//-----------------------------------------------------------------------------\npush(char x){\n\n    top++;\n    ext[top]=x;\n    }\n//-----------------------------------------------------------------------------------------\n\nvoid pop(){\n    top--;\n}\n//--------------------------------------------------------------------------------------\n\n\nmain()\n{\nint ans;\nchar in='{';\nchar it='[';\nchar ie='(';\n\nchar an;'}';\nchar at=']';\nchar ae=')';\nprintf(\"\\nenter your expression\\n\");\ngets(exp);\nint j=strlen(exp);\nint i;\nfor(i=0;i&lt;=j;i++){\n    if(exp[i] == in || exp[i] == it || exp[i]==ie){\n        push(exp[i]);\n        }\n    if(exp[i] == an ||exp[i]== at || exp[i]==ae){\n        pop();\n    }\n}\nif(top == -1){\n    printf(\"\\nexp is balanced\\n\");\n    }\nelse{\n    printf(\"\\nexp is unbalanced\");\n}\n}\n</code></pre>\n"}],"owner":{"display_name":"user5987642"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35935407,"answer_count":4,"score":2,"last_activity_date":1675923554,"creation_date":1457684256,"question_id":35935280,"body_markdown":"I have written a java code to test if an expression is balanced or not, that is, this program checks if the characters &#39;(&#39;, &#39;{&#39; and &#39;[&#39; have a corresponding delimiter or not. However I am unable to get the required answer. There is something wrong and I am unable to figure it out and hence would need your help. Here is the code.\r\n\r\n\r\n    package z_Stack_InfixToPostfix;\r\n    import java.util.Stack;\r\n\r\n    public class Driver_InfixToPostfix {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    String s=&quot;(a+b)&quot;;\r\n    \t\tSystem.out.println(checkBalance(s));\r\n\t    }\r\n\t\r\n    \tpublic static boolean checkBalance(String expression){\r\n\t    \tboolean isBalanced=true;\r\n\t\t    Stack&lt;Character&gt; myStack=new Stack&lt;Character&gt;();\r\n\t\t    int length=expression.length();\r\n    \t\tint i=0;\r\n\t    \twhile(isBalanced &amp;&amp; i&lt;length){\r\n\t\t    \tswitch(expression.charAt(i)){\r\n\t\t\t    case &#39;(&#39;: case &#39;{&#39;: case &#39;[&#39; :\r\n\t\t\t\t    myStack.push(expression.charAt(i));\r\n\t\t\t\t    break;\r\n    \t\t\tcase &#39;)&#39;: case &#39;}&#39;: case &#39;]&#39;:\r\n\t    \t\t\tif(myStack.isEmpty()){\r\n\t\t    \t\t\tisBalanced=false;\r\n\t\t\t    \t}\r\n\t\t\t\t    else{\r\n\t\t\t\t\t    char opendelimiter=myStack.pop();\r\n\t\t\t\t\t    if(opendelimiter!=expression.charAt(i)){\r\n\t\t\t\t\t\t    isBalanced=false;\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t\t    break;\r\n     \t\t\t}\r\n\t    \t\ti++;\r\n\t\t    }\r\n\t\t    if(!myStack.isEmpty()){\r\n\t\t\t    isBalanced=false;\r\n\t\t    }\r\n\t\t    return isBalanced;\r\n\t    }\r\n    }\r\n","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>I have written a java code to test if an expression is balanced or not, that is, this program checks if the characters '(', '{' and '[' have a corresponding delimiter or not. However I am unable to get the required answer. There is something wrong and I am unable to figure it out and hence would need your help. Here is the code.</p>\n\n<pre><code>package z_Stack_InfixToPostfix;\nimport java.util.Stack;\n\npublic class Driver_InfixToPostfix {\n\n    public static void main(String[] args) {\n        String s=\"(a+b)\";\n        System.out.println(checkBalance(s));\n    }\n\n    public static boolean checkBalance(String expression){\n        boolean isBalanced=true;\n        Stack&lt;Character&gt; myStack=new Stack&lt;Character&gt;();\n        int length=expression.length();\n        int i=0;\n        while(isBalanced &amp;&amp; i&lt;length){\n            switch(expression.charAt(i)){\n            case '(': case '{': case '[' :\n                myStack.push(expression.charAt(i));\n                break;\n            case ')': case '}': case ']':\n                if(myStack.isEmpty()){\n                    isBalanced=false;\n                }\n                else{\n                    char opendelimiter=myStack.pop();\n                    if(opendelimiter!=expression.charAt(i)){\n                        isBalanced=false;\n                    }\n                }\n                break;\n            }\n            i++;\n        }\n        if(!myStack.isEmpty()){\n            isBalanced=false;\n        }\n        return isBalanced;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","graphics","graphics2d","imageicon"],"answers":[{"comments":[{"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"score":0,"creation_date":1315331038,"post_id":7323595,"comment_id":8829611,"body_markdown":"I will try in this way. Thanks.","body":"I will try in this way. Thanks."},{"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"score":0,"creation_date":1315345864,"post_id":7323595,"comment_id":8833725,"body_markdown":"But with this way I can&#39;t save the image, I mean if I save the image the text will not be saved. I&#39;m searching for a way to save the text too. I mean I have to write a text in the center of the image and then save the image.","body":"But with this way I can&#39;t save the image, I mean if I save the image the text will not be saved. I&#39;m searching for a way to save the text too. I mean I have to write a text in the center of the image and then save the image."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315329153,"creation_date":1315329153,"answer_id":7323595,"question_id":7323538,"body_markdown":"One possible solution: draw the image in a JPanel, being sure to set the panel&#39;s preferredsize as the size of the image, have the JPanel use a GridBagLayout, and place the text in a JLabel that is added to the JPanel, without GridBagConstraints. This is one way to center the JLabel in the JPanel.","title":"Java - Draw text in the center of an image","body":"<p>One possible solution: draw the image in a JPanel, being sure to set the panel's preferredsize as the size of the image, have the JPanel use a GridBagLayout, and place the text in a JLabel that is added to the JPanel, without GridBagConstraints. This is one way to center the JLabel in the JPanel.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1315329883,"creation_date":1315329883,"answer_id":7323722,"question_id":7323538,"body_markdown":"Using a `JLabel` is less work, but [`FontMetrics`][1], shown [here][2], will let you manage the geometry directly.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/awt/FontMetrics.html\r\n  [2]: https://stackoverflow.com/questions/2228735/how-do-i-fade-an-image-in-swing/2234020#2234020","title":"Java - Draw text in the center of an image","body":"<p>Using a <code>JLabel</code> is less work, but <a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/FontMetrics.html\" rel=\"nofollow noreferrer\"><code>FontMetrics</code></a>, shown <a href=\"https://stackoverflow.com/questions/2228735/how-do-i-fade-an-image-in-swing/2234020#2234020\">here</a>, will let you manage the geometry directly.</p>\n"},{"comments":[{"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"score":0,"creation_date":1315349818,"post_id":7326615,"comment_id":8834574,"body_markdown":"I will use the FontMetrics class, because I need to save the image but I&#39;m also using a GUI, Can I use your suggestion so?","body":"I will use the FontMetrics class, because I need to save the image but I&#39;m also using a GUI, Can I use your suggestion so?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1315354053,"post_id":7326615,"comment_id":8835267,"body_markdown":"+1 for `ScreenImage`; see also this `ImageIO` [example.](http://stackoverflow.com/questions/2394192/java-imageio-write-completely-corrupted-png-and-or-bmp-with-incorrect-data/2394275#2394275).","body":"+1 for <code>ScreenImage</code>; see also this <code>ImageIO</code> <a href=\"http://stackoverflow.com/questions/2394192/java-imageio-write-completely-corrupted-png-and-or-bmp-with-incorrect-data/2394275#2394275\">example.</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1315354717,"post_id":7326615,"comment_id":8835364,"body_markdown":"@GhzNcl, I don&#39;t understand your question. I gave you working code. Only you can decide if it does what you want. I also gave a link to ScreenImage which shows how to use it on visible or non-visible components.","body":"@GhzNcl, I don&#39;t understand your question. I gave you working code. Only you can decide if it does what you want. I also gave a link to ScreenImage which shows how to use it on visible or non-visible components."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636989584,"creation_date":1315346087,"answer_id":7326615,"question_id":7323538,"body_markdown":"The easy way is to use a JLabel with an Icon and Text. Then set the horizontal/vertical text position to CENTER and the text is painted in the center of the image.\r\n\r\nFrom your code it looks like you are trying to paint the text near the bottom of the image. In this case you can use the JLabel with an Icon as a container. Then you can set the layout to something like a BoxLayout and add another label with the text.\r\n\r\nNo custom painting is required for either approach.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    \r\n    public class LabelImageText extends JPanel\r\n    {\r\n        public LabelImageText()\r\n        {\r\n            JLabel label1 = new JLabel( new ColorIcon(Color.ORANGE, 100, 100) );\r\n            label1.setText( &quot;Easy Way&quot; );\r\n            label1.setHorizontalTextPosition(JLabel.CENTER);\r\n            label1.setVerticalTextPosition(JLabel.CENTER);\r\n            add( label1 );\r\n    \r\n            //\r\n    \r\n            JLabel label2 = new JLabel( new ColorIcon(Color.YELLOW, 200, 150) );\r\n            label2.setLayout( new BoxLayout(label2, BoxLayout.Y_AXIS) );\r\n            add( label2 );\r\n    \r\n            JLabel text = new JLabel( &quot;More Control&quot; );\r\n            text.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n            label2.add( Box.createVerticalGlue() );\r\n            label2.add( text );\r\n            label2.add( Box.createVerticalStrut(10) );\r\n    \r\n            //\r\n    \r\n            JLabel label3 = new JLabel( new ColorIcon(Color.GREEN, 200, 150) );\r\n            add( label3 );\r\n    \r\n            JLabel text3 = new JLabel();\r\n            text3.setText(&quot;&lt;html&gt;&lt;center&gt;Text&lt;br&gt;over&lt;br&gt;Image&lt;center&gt;&lt;/html&gt;&quot;);\r\n            text3.setLocation(20, 20);\r\n            text3.setSize(text3.getPreferredSize());\r\n            label3.add( text3 );\r\n    \r\n            //\r\n    \r\n            JLabel label4 = new JLabel( new ColorIcon(Color.CYAN, 200, 150) );\r\n            add( label4 );\r\n    \r\n            JTextPane textPane = new JTextPane();\r\n            textPane.setText(&quot;Add some text that will wrap at your preferred width&quot;);\r\n            textPane.setEditable( false );\r\n            textPane.setOpaque(false);\r\n            SimpleAttributeSet center = new SimpleAttributeSet();\r\n            StyleConstants.setAlignment(center, StyleConstants.ALIGN_CENTER);\r\n            StyledDocument doc = textPane.getStyledDocument();\r\n            doc.setParagraphAttributes(0, doc.getLength(), center, false);\r\n            textPane.setBounds(20, 20, 75, 100);\r\n            label4.add( textPane );\r\n        }\r\n    \r\n        public static class ColorIcon implements Icon\r\n        {\r\n            private Color color;\r\n            private int width;\r\n            private int height;\r\n    \r\n            public ColorIcon(Color color, int width, int height)\r\n            {\r\n                this.color = color;\r\n                this.width = width;\r\n                this.height = height;\r\n            }\r\n    \r\n            public int getIconWidth()\r\n            {\r\n                return width;\r\n            }\r\n    \r\n            public int getIconHeight()\r\n            {\r\n                return height;\r\n            }\r\n    \r\n            public void paintIcon(Component c, Graphics g, int x, int y)\r\n            {\r\n                g.setColor(color);\r\n                g.fillRect(x, y, width, height);\r\n            }\r\n        }\r\n    \r\n        private static void createAndShowUI()\r\n        {\r\n            JFrame frame = new JFrame(&quot;LabelImageText&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add( new LabelImageText() );\r\n            frame.pack();\r\n            frame.setLocationRelativeTo( null );\r\n            frame.setVisible( true );\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            EventQueue.invokeLater(new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    createAndShowUI();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n&gt; I mean I have to write a text in the center of the image and then save the image\r\n\r\nYou can use [Screen Image][1] to create an image of any component. This assumes you are displaying the image and text on a GUI.\r\n\r\nOr, if you are talking about just reading in an image adding text to the image and then saving the image, then you will need to create a BufferedImage and draw the image on it and then draw the text on it. You will need to use the FontMetrics class as mentioned by Trashgod. My suggestion won&#39;t help.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/10/13/screen-image/","title":"Java - Draw text in the center of an image","body":"<p>The easy way is to use a JLabel with an Icon and Text. Then set the horizontal/vertical text position to CENTER and the text is painted in the center of the image.</p>\n<p>From your code it looks like you are trying to paint the text near the bottom of the image. In this case you can use the JLabel with an Icon as a container. Then you can set the layout to something like a BoxLayout and add another label with the text.</p>\n<p>No custom painting is required for either approach.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.text.*;\n\npublic class LabelImageText extends JPanel\n{\n    public LabelImageText()\n    {\n        JLabel label1 = new JLabel( new ColorIcon(Color.ORANGE, 100, 100) );\n        label1.setText( &quot;Easy Way&quot; );\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n        add( label1 );\n\n        //\n\n        JLabel label2 = new JLabel( new ColorIcon(Color.YELLOW, 200, 150) );\n        label2.setLayout( new BoxLayout(label2, BoxLayout.Y_AXIS) );\n        add( label2 );\n\n        JLabel text = new JLabel( &quot;More Control&quot; );\n        text.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        label2.add( Box.createVerticalGlue() );\n        label2.add( text );\n        label2.add( Box.createVerticalStrut(10) );\n\n        //\n\n        JLabel label3 = new JLabel( new ColorIcon(Color.GREEN, 200, 150) );\n        add( label3 );\n\n        JLabel text3 = new JLabel();\n        text3.setText(&quot;&lt;html&gt;&lt;center&gt;Text&lt;br&gt;over&lt;br&gt;Image&lt;center&gt;&lt;/html&gt;&quot;);\n        text3.setLocation(20, 20);\n        text3.setSize(text3.getPreferredSize());\n        label3.add( text3 );\n\n        //\n\n        JLabel label4 = new JLabel( new ColorIcon(Color.CYAN, 200, 150) );\n        add( label4 );\n\n        JTextPane textPane = new JTextPane();\n        textPane.setText(&quot;Add some text that will wrap at your preferred width&quot;);\n        textPane.setEditable( false );\n        textPane.setOpaque(false);\n        SimpleAttributeSet center = new SimpleAttributeSet();\n        StyleConstants.setAlignment(center, StyleConstants.ALIGN_CENTER);\n        StyledDocument doc = textPane.getStyledDocument();\n        doc.setParagraphAttributes(0, doc.getLength(), center, false);\n        textPane.setBounds(20, 20, 75, 100);\n        label4.add( textPane );\n    }\n\n    public static class ColorIcon implements Icon\n    {\n        private Color color;\n        private int width;\n        private int height;\n\n        public ColorIcon(Color color, int width, int height)\n        {\n            this.color = color;\n            this.width = width;\n            this.height = height;\n        }\n\n        public int getIconWidth()\n        {\n            return width;\n        }\n\n        public int getIconHeight()\n        {\n            return height;\n        }\n\n        public void paintIcon(Component c, Graphics g, int x, int y)\n        {\n            g.setColor(color);\n            g.fillRect(x, y, width, height);\n        }\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;LabelImageText&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new LabelImageText() );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<blockquote>\n<p>I mean I have to write a text in the center of the image and then save the image</p>\n</blockquote>\n<p>You can use <a href=\"http://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a> to create an image of any component. This assumes you are displaying the image and text on a GUI.</p>\n<p>Or, if you are talking about just reading in an image adding text to the image and then saving the image, then you will need to create a BufferedImage and draw the image on it and then draw the text on it. You will need to use the FontMetrics class as mentioned by Trashgod. My suggestion won't help.</p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675923485,"creation_date":1507018210,"answer_id":46539966,"question_id":7323538,"body_markdown":"I used [`TextLayout`](https://docs.oracle.com/en/java/javase/14/docs/api/index.html) to get the text properly centered:\r\n\r\n![example of generated image](https://i.stack.imgur.com/wup9E.png)\r\n\r\nHere&#39;s how to create the image and save it as a file:\r\n\r\n    int imgWidth = 250;\r\n    int imgHeight = 250;\r\n    var img = new BufferedImage(imgWidth, imgHeight, BufferedImage.TYPE_INT_RGB);\r\n\r\n    Graphics2D g = img.createGraphics();\r\n\r\n    var backgroundColor = new Color(0, 150, 100);\r\n    g.setPaint(backgroundColor);\r\n    g.fillRect(0, 0, imgWidth, imgHeight);\r\n\r\n    var font = new Font(&quot;Arial&quot;, Font.PLAIN, 80);\r\n    g.setFont(font);\r\n    g.setPaint(Color.WHITE);\r\n\r\n    String text = &quot;0&quot;;\r\n\r\n    var textLayout = new TextLayout(text, g.getFont(), g.getFontRenderContext());\r\n    double textHeight = textLayout.getBounds().getHeight();\r\n    double textWidth = textLayout.getBounds().getWidth();\r\n\r\n    g.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\r\n            RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\r\n    // Draw the text in the center of the image\r\n    g.drawString(text, imgWidth / 2 - (int) textWidth / 2,\r\n                       imgHeight / 2 + (int) textHeight / 2);\r\n\r\n    String imgFormat = &quot;png&quot;;\r\n    ImageIO.write(img, imgFormat, new File(&quot;/home/me/new_image.&quot; + imgFormat));\r\n\r\n\r\n","title":"Java - Draw text in the center of an image","body":"<p>I used <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/index.html\" rel=\"nofollow noreferrer\"><code>TextLayout</code></a> to get the text properly centered:</p>\n<p><img src=\"https://i.stack.imgur.com/wup9E.png\" alt=\"example of generated image\" /></p>\n<p>Here's how to create the image and save it as a file:</p>\n<pre><code>int imgWidth = 250;\nint imgHeight = 250;\nvar img = new BufferedImage(imgWidth, imgHeight, BufferedImage.TYPE_INT_RGB);\n\nGraphics2D g = img.createGraphics();\n\nvar backgroundColor = new Color(0, 150, 100);\ng.setPaint(backgroundColor);\ng.fillRect(0, 0, imgWidth, imgHeight);\n\nvar font = new Font(&quot;Arial&quot;, Font.PLAIN, 80);\ng.setFont(font);\ng.setPaint(Color.WHITE);\n\nString text = &quot;0&quot;;\n\nvar textLayout = new TextLayout(text, g.getFont(), g.getFontRenderContext());\ndouble textHeight = textLayout.getBounds().getHeight();\ndouble textWidth = textLayout.getBounds().getWidth();\n\ng.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\n        RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n\n// Draw the text in the center of the image\ng.drawString(text, imgWidth / 2 - (int) textWidth / 2,\n                   imgHeight / 2 + (int) textHeight / 2);\n\nString imgFormat = &quot;png&quot;;\nImageIO.write(img, imgFormat, new File(&quot;/home/me/new_image.&quot; + imgFormat));\n</code></pre>\n"}],"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12689,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1675923485,"creation_date":1315328769,"question_id":7323538,"body_markdown":"I need to write text in the center of an image. The text to write is not always the same.\r\n\r\nThe code I&#39;m using is here:\r\n\r\n    // Here I first draw the image\r\n    g.drawImage(img, 22, 15, 280, 225, null);\r\n    // I get the text \r\n    String text = photoText.getText();\r\n    // Set the text color to black\r\n    g.setColor(Color.black);\r\n    // I draw the string \r\n    g.drawString(text, 79.5F, 220.0F);\r\n    \r\nThe problem is that the text isn&#39;t at the center of the image, what can I do? \r\n\r\nI only need to draw the text at the horizontal center. \r\n","title":"Java - Draw text in the center of an image","body":"<p>I need to write text in the center of an image. The text to write is not always the same.</p>\n\n<p>The code I'm using is here:</p>\n\n<pre><code>// Here I first draw the image\ng.drawImage(img, 22, 15, 280, 225, null);\n// I get the text \nString text = photoText.getText();\n// Set the text color to black\ng.setColor(Color.black);\n// I draw the string \ng.drawString(text, 79.5F, 220.0F);\n</code></pre>\n\n<p>The problem is that the text isn't at the center of the image, what can I do? </p>\n\n<p>I only need to draw the text at the horizontal center. </p>\n"},{"tags":["java","android","sqlite","android-recyclerview","android-arrayadapter"],"owner":{"account_id":27348998,"reputation":1,"user_id":20858469,"display_name":"DhruvNayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675923053,"creation_date":1675922018,"question_id":75394729,"body_markdown":"**I have two cardview one contains image from data/data folder and second contains text from sqlite database.** \r\n\r\n**I am Using Collections.shuffle() to shuffle data (textview&#39;s text)of recyclerview.** \r\n**Now I want to match image and text after shuffle.t** \r\n\r\n This is method which is fetching text from sqlite and images from data/data folder to Recycleview.\r\n\r\npublic void fetchData() {\r\n\r\n        db = new matchdatabasehelper(this);\r\n        try {\r\n            db.createDataBase();\r\n            db.openDataBase();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        data = db.getLessonMaster(this);\r\n        adapter = new matchAdapter(this, data, data1, this);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n     \r\n\r\n        Collections.shuffle(data);\r\n        Collections.shuffle(data1);\r\n\r\n        data1.clear();\r\n\r\n\r\n        String filePath = &quot;/data/data/PATH/1&quot;;\r\n        File file = new File(filePath);\r\n        File[] files = file.listFiles();\r\n        if (files != null) {\r\n            for (File file1 : files) {\r\n                if (file1.getPath().endsWith(&quot;.png&quot;) || file1.getPath().endsWith(&quot;.jpg&quot;)) {\r\n                    data1.add(new imageModel( file1.getPath()));\r\n                }\r\n            }\r\n        }\r\n            recyclerView.setAdapter(adapter);\r\n\r\n\r\n\r\n    }`\r\n\r\n\r\n**Belove code represents bindview code where data is text and image data is image.** \r\n\r\n\r\n\r\n\r\n\r\n             if (data != null &amp;&amp; imagedata != null) {\r\n                  holder.textView\r\n                    .setText(data.get(position));\r\n                  Glide.with(activity).load(imagedata.get(position).getPath()).into(holder.imageView);\r\n\r\n\r\n\r\n**belove code represents database helper class**\r\n\r\n\r\n\r\n public List&lt;String&gt; getLessonMaster(\r\n            Activity activity)\r\n\r\n    {\r\n\r\n        sqLiteOpenHelper\r\n                = new DatabaseHelper(activity);\r\n        SQLiteDatabase db\r\n                = sqLiteOpenHelper\r\n                .getWritableDatabase();\r\n\r\n        List&lt;String&gt; list\r\n                = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n     \r\n        String query =    &quot;QUERY &quot; ;\r\n    \r\n        Cursor cursor = db.rawQuery(query, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                list.add(cursor.getString(1));\r\n\r\n            } while (cursor.moveToNext());\r\n        }\r\n        return list;\r\n    }","title":"when user click on imageviw and textview related to image show success message (memory matching game)","body":"<p><strong>I have two cardview one contains image from data/data folder and second contains text from sqlite database.</strong></p>\n<p><strong>I am Using Collections.shuffle() to shuffle data (textview's text)of recyclerview.</strong>\n<strong>Now I want to match image and text after shuffle.t</strong></p>\n<p>This is method which is fetching text from sqlite and images from data/data folder to Recycleview.</p>\n<p>public void fetchData() {</p>\n<pre><code>    db = new matchdatabasehelper(this);\n    try {\n        db.createDataBase();\n        db.openDataBase();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n    data = db.getLessonMaster(this);\n    adapter = new matchAdapter(this, data, data1, this);\n    recyclerView.setAdapter(adapter);\n\n \n\n    Collections.shuffle(data);\n    Collections.shuffle(data1);\n\n    data1.clear();\n\n\n    String filePath = &quot;/data/data/PATH/1&quot;;\n    File file = new File(filePath);\n    File[] files = file.listFiles();\n    if (files != null) {\n        for (File file1 : files) {\n            if (file1.getPath().endsWith(&quot;.png&quot;) || file1.getPath().endsWith(&quot;.jpg&quot;)) {\n                data1.add(new imageModel( file1.getPath()));\n            }\n        }\n    }\n        recyclerView.setAdapter(adapter);\n\n\n\n}`\n</code></pre>\n<p><strong>Belove code represents bindview code where data is text and image data is image.</strong></p>\n<pre><code>         if (data != null &amp;&amp; imagedata != null) {\n              holder.textView\n                .setText(data.get(position));\n              Glide.with(activity).load(imagedata.get(position).getPath()).into(holder.imageView);\n</code></pre>\n<p><strong>belove code represents database helper class</strong></p>\n<p>public List getLessonMaster(\nActivity activity)</p>\n<pre><code>{\n\n    sqLiteOpenHelper\n            = new DatabaseHelper(activity);\n    SQLiteDatabase db\n            = sqLiteOpenHelper\n            .getWritableDatabase();\n\n    List&lt;String&gt; list\n            = new ArrayList&lt;&gt;();\n\n\n\n \n    String query =    &quot;QUERY &quot; ;\n\n    Cursor cursor = db.rawQuery(query, null);\n\n    if (cursor.moveToFirst()) {\n        do {\n            list.add(cursor.getString(1));\n\n        } while (cursor.moveToNext());\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":["java","salesforce","cometd"],"owner":{"account_id":6622609,"reputation":95,"user_id":5113758,"accept_rate":33,"display_name":"KVL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675923003,"creation_date":1675923003,"question_id":75394844,"body_markdown":"seeing the below error in logs, not stopping the application flow but there is spike in threadcount.\r\n\r\n     {failure={exception=org.cometd.common.TransportException: {httpCode=503}, message={ext={replay=true}, supportedConnectionTypes=[long-polling], channel=/meta/handshake, id=12345, version=1.0}, httpCode=503, connectionType=long-polling}, channel=/meta/handshake, id=12345, successful=false}.","title":"CometD transport Exception in logs","body":"<p>seeing the below error in logs, not stopping the application flow but there is spike in threadcount.</p>\n<pre><code> {failure={exception=org.cometd.common.TransportException: {httpCode=503}, message={ext={replay=true}, supportedConnectionTypes=[long-polling], channel=/meta/handshake, id=12345, version=1.0}, httpCode=503, connectionType=long-polling}, channel=/meta/handshake, id=12345, successful=false}.\n</code></pre>\n"},{"tags":["java","java-9","java-11","java-module","jlink"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1556286380,"post_id":55868821,"comment_id":98397991,"body_markdown":"The JDK traditionally included a private JRE.","body":"The JDK traditionally included a private JRE."},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556286399,"post_id":55868821,"comment_id":98397998,"body_markdown":"you can download JREs from https://adoptopenjdk.net, e.g. for Windows: https://adoptopenjdk.net/releases.html#x64_win","body":"you can download JREs from <a href=\"https://adoptopenjdk.net\" rel=\"nofollow noreferrer\">adoptopenjdk.net</a>, e.g. for Windows: <a href=\"https://adoptopenjdk.net/releases.html#x64_win\" rel=\"nofollow noreferrer\">adoptopenjdk.net/releases.html#x64_win</a>"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556286685,"post_id":55868821,"comment_id":98398164,"body_markdown":"@Thorbj&#248;rnRavnAndersen yes, it&#39;s undestandable as it contains the JVM, but my question is more when it&#39;s discontinued as a separate offering : )","body":"@Thorbj&#248;rnRavnAndersen yes, it&#39;s undestandable as it contains the JVM, but my question is more when it&#39;s discontinued as a separate offering : )"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556289603,"post_id":55868821,"comment_id":98399781,"body_markdown":"@a_horse_with_no_name thanks for the suggestion, but I don&#39;t need to dowlnoad the jre separately : ) Through, do you know how it works behind the scenes? How jre is created from jdk? (Or is it even so)","body":"@a_horse_with_no_name thanks for the suggestion, but I don&#39;t need to dowlnoad the jre separately : ) Through, do you know how it works behind the scenes? How jre is created from jdk? (Or is it even so)"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556290700,"post_id":55868821,"comment_id":98400403,"body_markdown":"But you asked: &quot;*download of JRE is not possible directly only from Java 11*&quot; - and the answer to that is: yes it&#39;s possible to download only the JRE for Java 11. To create a JRE from a JDK `jlink` is used. But if you neither want to download the JRE and you already know it&#39;s created with jlink, then what exactly is your question?","body":"But you asked: &quot;<i>download of JRE is not possible directly only from Java 11</i>&quot; - and the answer to that is: yes it&#39;s possible to download only the JRE for Java 11. To create a JRE from a JDK <code>jlink</code> is used. But if you neither want to download the JRE and you already know it&#39;s created with jlink, then what exactly is your question?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1556295304,"post_id":55868821,"comment_id":98402823,"body_markdown":"@anasmi Yes, but some of the documentation you&#39;ve read is about the private JRE inside the JDK.","body":"@anasmi Yes, but some of the documentation you&#39;ve read is about the private JRE inside the JDK."},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556296946,"post_id":55868821,"comment_id":98403632,"body_markdown":"@a_horse_with_no_name As far as I understand, it&#39;s not possible for Java 11. or where can I you download the JRE separately? (Not to creat by hand via jlink, but download as it was possible with jdk and jre 8) My *assumption/understanding* is that JRE is not comming as a standalone product anymore. (Is this  wrong?) But my original question is from which version it&#39;s **not possible**  to dowload it separately 9 or 11? Sorry if I have phrased it&#39;s poorly :/","body":"@a_horse_with_no_name As far as I understand, it&#39;s not possible for Java 11. or where can I you download the JRE separately? (Not to creat by hand via jlink, but download as it was possible with jdk and jre 8) My <i>assumption/understanding</i> is that JRE is not comming as a standalone product anymore. (Is this  wrong?) But my original question is from which version it&#39;s <b>not possible</b>  to dowload it separately 9 or 11? Sorry if I have phrased it&#39;s poorly :/"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556297049,"post_id":55868821,"comment_id":98403668,"body_markdown":"@Thorbj&#248;rnRavnAndersen could you point me, please, which of this is for the private parts inside the JDK? Maybe it would explain  everything :)","body":"@Thorbj&#248;rnRavnAndersen could you point me, please, which of this is for the private parts inside the JDK? Maybe it would explain  everything :)"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556298468,"post_id":55868821,"comment_id":98404278,"body_markdown":"As I already mentioned: you **can** download a JRE from e.g. https://adoptopenjdk.net/releases.html#x64_win","body":"As I already mentioned: you <b>can</b> download a JRE from e.g. <a href=\"https://adoptopenjdk.net/releases.html#x64_win\" rel=\"nofollow noreferrer\">adoptopenjdk.net/releases.html#x64_win</a>"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556345652,"post_id":55868821,"comment_id":98414854,"body_markdown":"@a_horse_with_no_name to be honest, it&#39;s confusing me even more. &quot;*AdoptOpenJDK uses infrastructure, build and test scripts to produce prebuilt binaries from OpenJDK™ class libraries and a choice of either the OpenJDK HotSpot or Eclipse OpenJ9 VM.*&quot; So it&#39;s actually a tool that creates the JRE for you. (Not the separate implementation of Java Specification as Oracle and OpenJDK, which JRE&#39;s I can&#39;t download from the official page). Also, what all of those release notes means then?","body":"@a_horse_with_no_name to be honest, it&#39;s confusing me even more. &quot;<i>AdoptOpenJDK uses infrastructure, build and test scripts to produce prebuilt binaries from OpenJDK™ class libraries and a choice of either the OpenJDK HotSpot or Eclipse OpenJ9 VM.</i>&quot; So it&#39;s actually a tool that creates the JRE for you. (Not the separate implementation of Java Specification as Oracle and OpenJDK, which JRE&#39;s I can&#39;t download from the official page). Also, what all of those release notes means then?"},{"owner":{"display_name":"user330315"},"score":3,"creation_date":1556348569,"post_id":55868821,"comment_id":98415378,"body_markdown":"It&#39;s not a tool that creates a JRE for you. You can download a JRE from that link.","body":"It&#39;s not a tool that creates a JRE for you. You can download a JRE from that link."}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1678219079,"post_id":55878104,"comment_id":133490002,"body_markdown":"I also could not find any earlier public announcement about this from Oracle. As I recall, \nthe change was made with little fanfare, and no advance warning. In the Release Notes you link to I suspect the actual change was implemented by JDK-8185077, as documented in the _&quot;Removal of Java Deployment Technologies&quot;_ section. But even now that bug report is **&quot;not public&quot;**.","body":"I also could not find any earlier public announcement about this from Oracle. As I recall,  the change was made with little fanfare, and no advance warning. In the Release Notes you link to I suspect the actual change was implemented by JDK-8185077, as documented in the <i>&quot;Removal of Java Deployment Technologies&quot;</i> section. But even now that bug report is <b>&quot;not public&quot;</b>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1675922816,"creation_date":1556348322,"answer_id":55878104,"question_id":55868821,"body_markdown":"&gt; Is this the case and it is not possible to download JRE directly since Java 11?  Or am I mixing implementations between (Oracle and OpenJDK)? \r\n\r\nIt is correct (mostly).  From Java 11 onwards, neither Oracle JDK or OpenJDK JDK has a corresponding JRE available for public downloads.\r\n\r\n**However** (and this is where you are incorrect) other distributors of Java **do** provide JRE downloads (or packages) as an option.  Details may be found via the &quot;Java is still free&quot; link below. \r\n\r\n&gt; When JRE was completely discontinued as a separate offering?\r\n\r\nIt was discontinued for the Oracle and OpenJDK distributions with Java 11.  The Java 11 [release notes][1] state:\r\n\r\n&gt; *&quot;In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.&quot;* \r\n\r\nI have not been able to find any earlier public announcements from Oracle about the discontinuance of their JRE releases.  (If someone finds one, please comment ...)\r\n\r\n-------------\r\n\r\nPlease note:  this is a specific answer to the specific questions asked by the OP.  For more information on the status of Java vis-a-vis licenses, distributions, vendors, support, and whether or not Java is &quot;free&quot;, I recommend that you read the following:\r\n\r\n  - [&quot;Java is still free&quot;][2] written by the Java Champions community of independent Java leaders and experts.   \r\n\r\nIt is a &quot;live&quot; document, and is likely to remain a good source of up-to-date information; i.e. *more likely to be up-to-date than this Answer!*\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\r\n  [2]: https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b","title":"When JRE was completely discontinued as a separate offering?","body":"<blockquote>\n<p>Is this the case and it is not possible to download JRE directly since Java 11?  Or am I mixing implementations between (Oracle and OpenJDK)?</p>\n</blockquote>\n<p>It is correct (mostly).  From Java 11 onwards, neither Oracle JDK or OpenJDK JDK has a corresponding JRE available for public downloads.</p>\n<p><strong>However</strong> (and this is where you are incorrect) other distributors of Java <strong>do</strong> provide JRE downloads (or packages) as an option.  Details may be found via the &quot;Java is still free&quot; link below.</p>\n<blockquote>\n<p>When JRE was completely discontinued as a separate offering?</p>\n</blockquote>\n<p>It was discontinued for the Oracle and OpenJDK distributions with Java 11.  The Java 11 <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">release notes</a> state:</p>\n<blockquote>\n<p><em>&quot;In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.&quot;</em></p>\n</blockquote>\n<p>I have not been able to find any earlier public announcements from Oracle about the discontinuance of their JRE releases.  (If someone finds one, please comment ...)</p>\n<hr />\n<p>Please note:  this is a specific answer to the specific questions asked by the OP.  For more information on the status of Java vis-a-vis licenses, distributions, vendors, support, and whether or not Java is &quot;free&quot;, I recommend that you read the following:</p>\n<ul>\n<li><a href=\"https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\" rel=\"nofollow noreferrer\">&quot;Java is still free&quot;</a> written by the Java Champions community of independent Java leaders and experts.</li>\n</ul>\n<p>It is a &quot;live&quot; document, and is likely to remain a good source of up-to-date information; i.e. <em>more likely to be up-to-date than this Answer!</em></p>\n"},{"comments":[{"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"score":0,"creation_date":1694445543,"post_id":59187135,"comment_id":135888585,"body_markdown":"Please note that the &quot;jre&quot; these vendors are offering is absolutely _not_ the same thing as the old JRE. The old JRE was a client side install that added support for Java Web Start and Applets. That has been discontinued as a bundled runtime is now the preferred deployment mechanism (and applets are obsolete)","body":"Please note that the &quot;jre&quot; these vendors are offering is absolutely <i>not</i> the same thing as the old JRE. The old JRE was a client side install that added support for Java Web Start and Applets. That has been discontinued as a bundled runtime is now the preferred deployment mechanism (and applets are obsolete)"}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643563554,"creation_date":1575511226,"answer_id":59187135,"question_id":55868821,"body_markdown":"First of all, the question is incorrect. JRE was not discontinued. It was only discontinued by Oracle. For example, on Linux, JRE is still available*:\r\n\r\n    $ apt-cache search openjdk-11-jre\r\n    openjdk-11-jre - OpenJDK Java runtime, using Hotspot JIT\r\n    openjdk-11-jre-headless - OpenJDK Java runtime, using Hotspot JIT (headless)\r\n    openjdk-11-jre-zero - Alternative JVM for OpenJDK, using Zero\r\n\r\n*\\* requires repository ppa:openjdk-r/ppa*\r\n\r\nSome other JDK providers still offer JRE as well:\r\n\r\n - [Azul Zulu][1] offers JRE.\r\n - [AdoptOpenJDK][2] offers JRE.\r\n - [Liberica JDK][3] offers JRE.\r\n\r\n\r\n  [1]: https://www.azul.com/downloads/zulu-community/?&amp;architecture=x86-64-bit&amp;package=jre\r\n  [2]: https://adoptopenjdk.net/releases.html\r\n  [3]: https://bell-sw.com/pages/downloads/","title":"When JRE was completely discontinued as a separate offering?","body":"<p>First of all, the question is incorrect. JRE was not discontinued. It was only discontinued by Oracle. For example, on Linux, JRE is still available*:</p>\n<pre><code>$ apt-cache search openjdk-11-jre\nopenjdk-11-jre - OpenJDK Java runtime, using Hotspot JIT\nopenjdk-11-jre-headless - OpenJDK Java runtime, using Hotspot JIT (headless)\nopenjdk-11-jre-zero - Alternative JVM for OpenJDK, using Zero\n</code></pre>\n<p><em>* requires repository ppa:openjdk-r/ppa</em></p>\n<p>Some other JDK providers still offer JRE as well:</p>\n<ul>\n<li><a href=\"https://www.azul.com/downloads/zulu-community/?&amp;architecture=x86-64-bit&amp;package=jre\" rel=\"nofollow noreferrer\">Azul Zulu</a> offers JRE.</li>\n<li><a href=\"https://adoptopenjdk.net/releases.html\" rel=\"nofollow noreferrer\">AdoptOpenJDK</a> offers JRE.</li>\n<li><a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">Liberica JDK</a> offers JRE.</li>\n</ul>\n"}],"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13623,"favorite_count":0,"down_vote_count":2,"up_vote_count":19,"accepted_answer_id":55878104,"answer_count":2,"score":17,"last_activity_date":1675922816,"creation_date":1556285726,"question_id":55868821,"body_markdown":"Starting from Java 9 the module system was introduced, making provision of JRE separately *redundant*.\n\nThrough, it seems that it was still possible to download it. For example, from here now [Java 9 archive](https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html)\nAlso, [here](http://openjdk.java.net/jeps/220) it&#39;s only stated that :\n\n&gt;Restructure the JDK and JRE run-time images to draw a clear distinction between files that developers, deployers, and end-users can rely upon and, when appropriate, modify, in contrast to files that are internal to the implementation and subject to change without notice.\n&gt;\n&gt;The new image structure eliminates this distinction: A JDK image is simply a run-time image that happens to contain the full set of development tools and other items historically found in the JDK.\n\nSo no talk about complete removal.\nFrom : [jdk-9](https://docs.oracle.com/javase/9/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350)\n&gt;When you install jdk-9, public jre-9 also gets installed automatically.\n\nAlso, I was thinking that started from Java 9 the custom runtime should be always  created using the jlink, but it seems it&#39;s enforced  now only from Java 11.\nFrom the release notes of Java 11 here [Oracle JDK release notes](https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html): \n&gt; In Windows and macOS, installing the JDK in previous releases optionally installed a JRE. In JDK 11, this is no longer an option.\nIn this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.\n\nBut then I can find a lot of discussions like those:\n\n- [Where is Java 9 JRE?](https://community.spiceworks.com/topic/2175168-where-is-java-9-jre)\n\n- [Create jre from OpenJDK Windows](https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows)\n- [Why did Java 11 JRE not install with JDK and where is the download for just the Java 11 JRE?](https://www.reddit.com/r/java/comments/9ualdq/why_did_java_11_jre_not_install_with_jdk_and/)\n- [Is there an openjdk-11-jre?](https://stackoverflow.com/questions/52714672/is-there-an-openjdk-11-jre)\n\nIs this the case and it is not possible to download JRE directly **since Java 11**? Or am I mixing implementations between (Oracle and OpenJDK)? Or were those discussions above misleading? \n\n\n*Edit: I don&#39;t need to download the jre, I could create it via jlink or use already avaialble solution, my question is more of a theoretic*. \n","title":"When JRE was completely discontinued as a separate offering?","body":"<p>Starting from Java 9 the module system was introduced, making provision of JRE separately <em>redundant</em>.</p>\n<p>Through, it seems that it was still possible to download it. For example, from here now <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html\" rel=\"noreferrer\">Java 9 archive</a>\nAlso, <a href=\"http://openjdk.java.net/jeps/220\" rel=\"noreferrer\">here</a> it's only stated that :</p>\n<blockquote>\n<p>Restructure the JDK and JRE run-time images to draw a clear distinction between files that developers, deployers, and end-users can rely upon and, when appropriate, modify, in contrast to files that are internal to the implementation and subject to change without notice.</p>\n<p>The new image structure eliminates this distinction: A JDK image is simply a run-time image that happens to contain the full set of development tools and other items historically found in the JDK.</p>\n</blockquote>\n<p>So no talk about complete removal.\nFrom : <a href=\"https://docs.oracle.com/javase/9/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350\" rel=\"noreferrer\">jdk-9</a></p>\n<blockquote>\n<p>When you install jdk-9, public jre-9 also gets installed automatically.</p>\n</blockquote>\n<p>Also, I was thinking that started from Java 9 the custom runtime should be always  created using the jlink, but it seems it's enforced  now only from Java 11.\nFrom the release notes of Java 11 here <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"noreferrer\">Oracle JDK release notes</a>:</p>\n<blockquote>\n<p>In Windows and macOS, installing the JDK in previous releases optionally installed a JRE. In JDK 11, this is no longer an option.\nIn this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.</p>\n</blockquote>\n<p>But then I can find a lot of discussions like those:</p>\n<ul>\n<li><p><a href=\"https://community.spiceworks.com/topic/2175168-where-is-java-9-jre\" rel=\"noreferrer\">Where is Java 9 JRE?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows\">Create jre from OpenJDK Windows</a></p>\n</li>\n<li><p><a href=\"https://www.reddit.com/r/java/comments/9ualdq/why_did_java_11_jre_not_install_with_jdk_and/\" rel=\"noreferrer\">Why did Java 11 JRE not install with JDK and where is the download for just the Java 11 JRE?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/52714672/is-there-an-openjdk-11-jre\">Is there an openjdk-11-jre?</a></p>\n</li>\n</ul>\n<p>Is this the case and it is not possible to download JRE directly <strong>since Java 11</strong>? Or am I mixing implementations between (Oracle and OpenJDK)? Or were those discussions above misleading?</p>\n<p><em>Edit: I don't need to download the jre, I could create it via jlink or use already avaialble solution, my question is more of a theoretic</em>.</p>\n"},{"tags":["java","log4j2","apache-kafka-streams"],"owner":{"account_id":1990578,"reputation":445,"user_id":1784675,"display_name":"Sumit Sood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675921497,"creation_date":1675917513,"question_id":75394247,"body_markdown":"I recently moved my application from log4j1.x to log4j2.19.0. After migrating it to log4j2 my /var/log/message is flooded with Kafka debug logs and it quickly fills the space of /var directory\r\n\r\n    2023-02-09T04:19:15.748569+00:00  run-my-processor.sh[1635]: [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Processed 0 records with 1 iterations; invoking punctuators if necessary\r\n    2023-02-09T04:19:15.748637+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] 0 punctuators ran.\r\n    2023-02-09T04:19:15.748705+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Invoking poll on main Consumer\r\n\r\nMy log4j2.xml configuration is below. Not sure it is directly related to log4j2.xml or something else? Any help much appreciated \r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n\r\n        &lt;Properties&gt;\r\n                &lt;Property name=&quot;pattern&quot;&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36}:%line - %msg%n&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n                &lt;RollingFile name=&quot;LOG_FILE&quot; fileName=&quot;/opt/info/log/alert.log&quot;\r\n                                         filePattern=&quot;/var/log/mca/mca-connect/archive/mca-alert-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n                        &lt;PatternLayout&gt;\r\n                                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n                        &lt;/PatternLayout&gt;\r\n                        &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\r\n                                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\r\n                        &lt;/Policies&gt;\r\n                        &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\r\n                &lt;/RollingFile&gt;\r\n                &lt;RollingFile name=&quot;ERROR_LOG_FILE&quot; fileName=&quot;/opt/info/mca/log/markit-mca-alert-processor/mca-alert-error.log&quot;\r\n                                         filePattern=&quot;/opt/info/mca/log/markit-mca-alert-processor/archive/mca-alert-error-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n                        &lt;PatternLayout&gt;\r\n                                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n                        &lt;/PatternLayout&gt;\r\n\r\n                        &lt;ThresholdFilter level=&quot;ERROR&quot;  onMatch=&quot;ACCEPT&quot;   onMismatch=&quot;DENY&quot;/&gt;\r\n\r\n                        &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\r\n                                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\r\n                        &lt;/Policies&gt;\r\n                        &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\r\n                &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n\r\n        &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;org.springframework.jdbc&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n\r\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca.kafka&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca.elastic&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n\r\n\r\n&lt;/Configuration&gt;\r\n\r\nMy log4j Jars are \r\n[![enter image description here][1]][1]\r\n\r\nMy Kafka Jars are\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sA9Ha.png\r\n  [2]: https://i.stack.imgur.com/w2XUz.png","title":"/var/log/messages is flooded with kafaka debug logs after migrating from log4j1.x to log4j2","body":"<p>I recently moved my application from log4j1.x to log4j2.19.0. After migrating it to log4j2 my /var/log/message is flooded with Kafka debug logs and it quickly fills the space of /var directory</p>\n<pre><code>2023-02-09T04:19:15.748569+00:00  run-my-processor.sh[1635]: [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Processed 0 records with 1 iterations; invoking punctuators if necessary\n2023-02-09T04:19:15.748637+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] 0 punctuators ran.\n2023-02-09T04:19:15.748705+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Invoking poll on main Consumer\n</code></pre>\n<p>My log4j2.xml configuration is below. Not sure it is directly related to log4j2.xml or something else? Any help much appreciated\n</p>\n<pre><code>    &lt;Properties&gt;\n            &lt;Property name=&quot;pattern&quot;&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36}:%line - %msg%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n            &lt;RollingFile name=&quot;LOG_FILE&quot; fileName=&quot;/opt/info/log/alert.log&quot;\n                                     filePattern=&quot;/var/log/mca/mca-connect/archive/mca-alert-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\n                    &lt;PatternLayout&gt;\n                            &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n                    &lt;/PatternLayout&gt;\n                    &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\n                    &lt;/Policies&gt;\n                    &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\n            &lt;/RollingFile&gt;\n            &lt;RollingFile name=&quot;ERROR_LOG_FILE&quot; fileName=&quot;/opt/info/mca/log/markit-mca-alert-processor/mca-alert-error.log&quot;\n                                     filePattern=&quot;/opt/info/mca/log/markit-mca-alert-processor/archive/mca-alert-error-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\n                    &lt;PatternLayout&gt;\n                            &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n                    &lt;/PatternLayout&gt;\n\n                    &lt;ThresholdFilter level=&quot;ERROR&quot;  onMatch=&quot;ACCEPT&quot;   onMismatch=&quot;DENY&quot;/&gt;\n\n                    &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\n                    &lt;/Policies&gt;\n                    &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\n            &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n    &lt;Logger name=&quot;org.springframework&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;org.springframework.jdbc&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n\n    &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca.kafka&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca.elastic&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n\n    &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Root&gt;\n    &lt;/Loggers&gt;\n</code></pre>\n\n<p>My log4j Jars are\n<a href=\"https://i.stack.imgur.com/sA9Ha.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sA9Ha.png\" alt=\"enter image description here\" /></a></p>\n<p>My Kafka Jars are\n<a href=\"https://i.stack.imgur.com/w2XUz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w2XUz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"score":0,"creation_date":1428072045,"post_id":29434209,"comment_id":47037868,"body_markdown":"This should answer your issue. http://stackoverflow.com/a/14174404/1251350","body":"This should answer your issue. <a href=\"http://stackoverflow.com/a/14174404/1251350\">stackoverflow.com/a/14174404/1251350</a>"}],"answers":[{"tags":[],"owner":{"account_id":6080709,"reputation":101,"user_id":4746575,"display_name":"ans"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428076182,"creation_date":1428076182,"answer_id":29435443,"question_id":29434209,"body_markdown":"    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n            User userDetails = (User) authentication.getPrincipal();\r\n            userDetails.setUsername(&quot;newusername&quot;);\r\n\r\nMy class User implements UserDetails. This solution is simple and it works.","title":"Change username in spring security when logged in","body":"<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        User userDetails = (User) authentication.getPrincipal();\n        userDetails.setUsername(\"newusername\");\n</code></pre>\n\n<p>My class User implements UserDetails. This solution is simple and it works.</p>\n"},{"comments":[{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510246514,"post_id":47203192,"comment_id":81363867,"body_markdown":"that will be changed on oauth as well?","body":"that will be changed on oauth as well?"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510286003,"post_id":47203192,"comment_id":81380209,"body_markdown":"Yes. To make quite sure if your username is changed or not after you changed username with those codes I recommended you, Just use this code SecurityContextHolder.getContext().getAuthentication().getName(); to get username and you will be able to see the changed usename.","body":"Yes. To make quite sure if your username is changed or not after you changed username with those codes I recommended you, Just use this code SecurityContextHolder.getContext().getAuthentication().getNa&zwnj;&#8203;me(); to get username and you will be able to see the changed usename."},{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510286079,"post_id":47203192,"comment_id":81380228,"body_markdown":"No, it didn&#39;t I tested today the access token still didn&#39;t changed in DB!","body":"No, it didn&#39;t I tested today the access token still didn&#39;t changed in DB!"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510286503,"post_id":47203192,"comment_id":81380331,"body_markdown":"Yes, To make quite sure if oauth is changed or not after you changed username using my codes that I recommended, Just use this code &quot;SecurityContextHolder.getContext().getAuthentication().getName()&quot; to see the changed username.","body":"Yes, To make quite sure if oauth is changed or not after you changed username using my codes that I recommended, Just use this code &quot;SecurityContextHolder.getContext().getAuthentication().getN&zwnj;&#8203;ame()&quot; to see the changed username."},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510286618,"post_id":47203192,"comment_id":81380367,"body_markdown":"Which DB do you use?","body":"Which DB do you use?"},{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510286739,"post_id":47203192,"comment_id":81380402,"body_markdown":"I checked the DB, i used postgres!","body":"I checked the DB, i used postgres!"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510460856,"post_id":47203192,"comment_id":81441247,"body_markdown":"I don&#39;t know why I suddenly may have the same problem as yours, so I changed the codes above a little bit to solve the problem so just try it. It seems like we need to define three things &#39;username&#39;, &#39;password&#39; and &#39;role&#39; to get authority on spring security.","body":"I don&#39;t know why I suddenly may have the same problem as yours, so I changed the codes above a little bit to solve the problem so just try it. It seems like we need to define three things &#39;username&#39;, &#39;password&#39; and &#39;role&#39; to get authority on spring security."},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510461708,"post_id":47203192,"comment_id":81441394,"body_markdown":"And I don&#39;t think this problem is related to database. Did you override UserDetailsService in Spring Security?","body":"And I don&#39;t think this problem is related to database. Did you override UserDetailsService in Spring Security?"},{"owner":{"display_name":"user1115139"},"score":0,"creation_date":1510777073,"post_id":47203192,"comment_id":81583836,"body_markdown":"Sure, but why you asking about UserdetailsService ? Because its token related thing!","body":"Sure, but why you asking about UserdetailsService ? Because its token related thing!"},{"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"score":0,"creation_date":1510799845,"post_id":47203192,"comment_id":81592351,"body_markdown":"Sorry, I misunderstood.","body":"Sorry, I misunderstood."}],"tags":[],"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"comment_count":10,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1675921230,"creation_date":1510234308,"answer_id":47203192,"question_id":29434209,"body_markdown":"After Logging in, you can change your username and password with this code:\r\n\r\n```js\r\nCollection&lt;SimpleGrantedAuthority&gt; nowAuthorities = \r\n  (Collection&lt;SimpleGrantedAuthority&gt;)SecurityContextHolder.getContext()\r\n                                                           .getAuthentication()\r\n                                                           .getAuthorities();\r\nUsernamePasswordAuthenticationToken authentication = \r\n  new UsernamePasswordAuthenticationToken(username, password, nowAuthorities);\r\n\r\nSecurityContextHolder.getContext().setAuthentication(authentication);\r\n```","title":"Change username in spring security when logged in","body":"<p>After Logging in, you can change your username and password with this code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>Collection&lt;SimpleGrantedAuthority&gt; nowAuthorities = \n  (Collection&lt;SimpleGrantedAuthority&gt;)SecurityContextHolder.getContext()\n                                                           .getAuthentication()\n                                                           .getAuthorities();\nUsernamePasswordAuthenticationToken authentication = \n  new UsernamePasswordAuthenticationToken(username, password, nowAuthorities);\n\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n"}],"owner":{"account_id":6080709,"reputation":101,"user_id":4746575,"display_name":"ans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7876,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1675921230,"creation_date":1428071736,"question_id":29434209,"body_markdown":"I want to change username while this user logged in system. I implemented my own crypt algorithm and cannot get real password to make a new authentication and put it in \r\n\r\n    Authentication authentication = new UsernamePasswordAuthenticationToken(principal, credentials);\r\n","title":"Change username in spring security when logged in","body":"<p>I want to change username while this user logged in system. I implemented my own crypt algorithm and cannot get real password to make a new authentication and put it in </p>\n\n<pre><code>Authentication authentication = new UsernamePasswordAuthenticationToken(principal, credentials);\n</code></pre>\n"},{"tags":["java","hibernate","object","accounting"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1296384138,"creation_date":1296384138,"answer_id":4842439,"question_id":4807294,"body_markdown":"    select (sum(flow.depositAmount) - sum(flow.withdrawalAmount) - current.amount) \r\n    from Balance flow, Balance current\r\n    where flow.user=:user\r\n    and current.user=:user \r\n    and current.currentBalanceFlag=true\r\n\r\nThis will return the difference between the sum of all flows and the current balance.\r\n\r\nOn a side note, you shouldn&#39;t have to check the integrity of your data. Unless you have gazillions of lines, computing the current balance with an SQL sum should be fast enough. ","title":"Account Balance verification with Java and Hibernate HQL","body":"<pre><code>select (sum(flow.depositAmount) - sum(flow.withdrawalAmount) - current.amount) \nfrom Balance flow, Balance current\nwhere flow.user=:user\nand current.user=:user \nand current.currentBalanceFlag=true\n</code></pre>\n\n<p>This will return the difference between the sum of all flows and the current balance.</p>\n\n<p>On a side note, you shouldn't have to check the integrity of your data. Unless you have gazillions of lines, computing the current balance with an SQL sum should be fast enough. </p>\n"}],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4842439,"answer_count":1,"score":2,"last_activity_date":1675921095,"creation_date":1296060542,"question_id":4807294,"body_markdown":"I have following properties in my current Account Balance object:\r\n\r\n    long id;                     // Database ID\r\n    Date date;                   // date when this balance object was created\r\n    boolean currentBalanceFlag;  // indicates this is the most recent balance\r\n    float amount;                // the total sum currently in the account balance\r\n    float depositAmount;         // amount deposited that resulted in this objects amount \r\n    float withdrawalAmount;      // amount withdrawn that resulted in this objects amount\r\n    Balance lastBalance;         // last balance object for traversing\r\n    User user;                   // owner of the balance\r\n    String note;                 // detailed description of transaction that resulted in current blanace\r\n\r\nThere are only two actions performed on the balance. Deposits and withdrawals. \r\n\r\n### The question is:  \r\n### How do I create HQL query that will: \r\n-sum all the `depositAmount` for `user`    \r\n-sum all `withdrawalAmount` for `user`   \r\n-subtract result of the first summation from second summation  \r\n-compare result of subtraction with the `amount` for `user` in `Balance` object that has `currentBalanceFlag` equal to `true` \r\n\r\nin pseudo code:\r\n \r\n    resultAmount = select ( sum(depositAmount) - sum(withdrawalAmount) ) from Balance where user=user\r\n    amount = select amount from Balance where user=user and currentBalanceFlag=true\r\n    \r\nAnd the final boolean result I&#39;d like to get from single call to the database with HQL query:  \r\n\r\n    resultAmount == amount","title":"Account Balance verification with Java and Hibernate HQL","body":"<p>I have following properties in my current Account Balance object:</p>\n<pre><code>long id;                     // Database ID\nDate date;                   // date when this balance object was created\nboolean currentBalanceFlag;  // indicates this is the most recent balance\nfloat amount;                // the total sum currently in the account balance\nfloat depositAmount;         // amount deposited that resulted in this objects amount \nfloat withdrawalAmount;      // amount withdrawn that resulted in this objects amount\nBalance lastBalance;         // last balance object for traversing\nUser user;                   // owner of the balance\nString note;                 // detailed description of transaction that resulted in current blanace\n</code></pre>\n<p>There are only two actions performed on the balance. Deposits and withdrawals.</p>\n<h3>The question is:</h3>\n<h3>How do I create HQL query that will:</h3>\n<p>-sum all the <code>depositAmount</code> for <code>user</code><br />\n-sum all <code>withdrawalAmount</code> for <code>user</code><br />\n-subtract result of the first summation from second summation<br />\n-compare result of subtraction with the <code>amount</code> for <code>user</code> in <code>Balance</code> object that has <code>currentBalanceFlag</code> equal to <code>true</code></p>\n<p>in pseudo code:</p>\n<pre><code>resultAmount = select ( sum(depositAmount) - sum(withdrawalAmount) ) from Balance where user=user\namount = select amount from Balance where user=user and currentBalanceFlag=true\n</code></pre>\n<p>And the final boolean result I'd like to get from single call to the database with HQL query:</p>\n<pre><code>resultAmount == amount\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9560,"page":663,"page_size":100}
