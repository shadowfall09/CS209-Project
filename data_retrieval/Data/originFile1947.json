{"items":[{"tags":["java","maven","java-platform-module-system"],"answers":[{"tags":[],"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634156980,"creation_date":1634155061,"answer_id":69561618,"question_id":69561279,"body_markdown":"If you run \r\n```mvn help:effective-pom``` you will notice that the project uses the maven compiler version that may be a bit dated. Try explicitly using a newer version and see how it changes things:\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt; &lt;!-- current version --&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n","title":"Why does Maven not find org.json JPMS automatic module?","body":"<p>If you run\n<code>mvn help:effective-pom</code> you will notice that the project uses the maven compiler version that may be a bit dated. Try explicitly using a newer version and see how it changes things:</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt; &lt;!-- current version --&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":93179,"reputation":3761,"user_id":255061,"accept_rate":62,"display_name":"Jesse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69561618,"answer_count":1,"score":2,"last_activity_date":1634156980,"creation_date":1634153314,"question_id":69561279,"body_markdown":"I have a small test project, containing 2 files:\r\n\r\n`pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20210307&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand `src/main/java/module-info.java`:\r\n\r\n```\r\nmodule org.example.test {\r\n    requires org.json;\r\n}\r\n```\r\n\r\nWhen I compile with Temurin 17:\r\n\r\n```\r\nopenjdk version &quot;17&quot; 2021-09-14\r\nOpenJDK Runtime Environment Temurin-17+35 (build 17+35)\r\nOpenJDK 64-Bit Server VM Temurin-17+35 (build 17+35, mixed mode, sharing)\r\n```\r\n\r\nAnd Maven 3.6.3 packaged with IntelliJ IDEA, I get this error:\r\n\r\n```\r\nsrc/main/java/module-info.java:[2,17] module not found: org.json\r\n```\r\n\r\nThe `json-20210307.jar` file contains this line in `META-INF/MANIFEST.MF`:\r\n\r\n```\r\nAutomatic-Module-Name: org.json\r\n```\r\n\r\nWhat further do I need to do to use JPMS in Maven?","title":"Why does Maven not find org.json JPMS automatic module?","body":"<p>I have a small test project, containing 2 files:</p>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20210307&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and <code>src/main/java/module-info.java</code>:</p>\n<pre><code>module org.example.test {\n    requires org.json;\n}\n</code></pre>\n<p>When I compile with Temurin 17:</p>\n<pre><code>openjdk version &quot;17&quot; 2021-09-14\nOpenJDK Runtime Environment Temurin-17+35 (build 17+35)\nOpenJDK 64-Bit Server VM Temurin-17+35 (build 17+35, mixed mode, sharing)\n</code></pre>\n<p>And Maven 3.6.3 packaged with IntelliJ IDEA, I get this error:</p>\n<pre><code>src/main/java/module-info.java:[2,17] module not found: org.json\n</code></pre>\n<p>The <code>json-20210307.jar</code> file contains this line in <code>META-INF/MANIFEST.MF</code>:</p>\n<pre><code>Automatic-Module-Name: org.json\n</code></pre>\n<p>What further do I need to do to use JPMS in Maven?</p>\n"},{"tags":["java","loops","hashmap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1634155738,"post_id":69561645,"comment_id":122953049,"body_markdown":"`==` is for reference equality. Use `equals()` to compare separate but equivalent objects.","body":"<code>==</code> is for reference equality. Use <code>equals()</code> to compare separate but equivalent objects."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1634155951,"post_id":69561645,"comment_id":122953110,"body_markdown":"You need to use `.equals`, not `==`, or -- even better -- you should just do the map lookup, just using `map.get(point)`.","body":"You need to use <code>.equals</code>, not <code>==</code>, or -- even better -- you should just do the map lookup, just using <code>map.get(point)</code>."}],"answers":[{"tags":[],"owner":{"account_id":17783121,"reputation":418,"user_id":12913865,"display_name":"Šimon Vyhnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634156878,"creation_date":1634156878,"answer_id":69561910,"question_id":69561645,"body_markdown":"As mentioned in comments, when you want to compare two different objects of the same type in java, you have to use .equals() instead of ==. So whole code is:\r\n\r\n    for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\r\n    Point point = entry.getKey();\r\n    if(point.equals(outsidePoint)){\r\n       //insert code here\r\n    }\r\n\r\nYou can also assign `entry.getKey()` to point directly, there is no need for `new Point()`.","title":"Iterating through a HashMap to find a key object that matches an outside object in Java","body":"<p>As mentioned in comments, when you want to compare two different objects of the same type in java, you have to use .equals() instead of ==. So whole code is:</p>\n<pre><code>for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\nPoint point = entry.getKey();\nif(point.equals(outsidePoint)){\n   //insert code here\n}\n</code></pre>\n<p>You can also assign <code>entry.getKey()</code> to point directly, there is no need for <code>new Point()</code>.</p>\n"}],"owner":{"account_id":23024973,"reputation":3,"user_id":17145379,"display_name":"Jamo Kisor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634157483,"accepted_answer_id":69561910,"answer_count":1,"score":0,"last_activity_date":1634156878,"creation_date":1634155232,"question_id":69561645,"body_markdown":"I am quite new to coding in general and this may be a simple answer. I certainly hope that it is.\r\nI am trying to iterate through a HashMap and compare the Key to an outside object of the same type. When I run the method, it is not showing me that the objects match even though their values are the same. The Point class is made up from 2 integers, an x and a y.\r\nHere is my code:\r\n\r\n    for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\r\n        Point point = new Point(0,0);\r\n        point = entry.getKey();\r\n        if(point == outsidePoint){\r\n           //insert code here\r\n        }\r\nI know that at some time during the iteration that the *point* object is equal to the *outsidePoint* object, but it will not run the code inside the if statement.\r\n\r\nAny help would be incredibly beneficial.","title":"Iterating through a HashMap to find a key object that matches an outside object in Java","body":"<p>I am quite new to coding in general and this may be a simple answer. I certainly hope that it is.\nI am trying to iterate through a HashMap and compare the Key to an outside object of the same type. When I run the method, it is not showing me that the objects match even though their values are the same. The Point class is made up from 2 integers, an x and a y.\nHere is my code:</p>\n<pre><code>for (HashMap.Entry&lt;Point, Character&gt; entry : map.entrySet()) {\n    Point point = new Point(0,0);\n    point = entry.getKey();\n    if(point == outsidePoint){\n       //insert code here\n    }\n</code></pre>\n<p>I know that at some time during the iteration that the <em>point</em> object is equal to the <em>outsidePoint</em> object, but it will not run the code inside the if statement.</p>\n<p>Any help would be incredibly beneficial.</p>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1633972576,"post_id":69530080,"comment_id":122896851,"body_markdown":"Read further! The next rule talks about &quot;Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; **where at least one of the Ri (1 ≤ i ≤ n) is a wildcard type argument**&quot;","body":"Read further! The next rule talks about &quot;Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; <b>where at least one of the Ri (1 ≤ i ≤ n) is a wildcard type argument</b>&quot;"},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1633973372,"post_id":69530080,"comment_id":122897095,"body_markdown":"Ah, thanks for that; missed that part! So my reading was right as far as it went, but as you quite rightly point out the supertypes of a parameterized type containing at least one wildcard are those that result from applying capture conversion to the original type arguments.","body":"Ah, thanks for that; missed that part! So my reading was right as far as it went, but as you quite rightly point out the supertypes of a parameterized type containing at least one wildcard are those that result from applying capture conversion to the original type arguments."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633973476,"creation_date":1633973476,"answer_id":69530309,"question_id":69530080,"body_markdown":"The part you quoted indeed doesn&#39;t say anything about parameterised types with at least one wildcard type argument. What their direct super types are is specified just after the part you quoted:\r\n\r\n&gt; Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; where at least one of the Ri (1 ≤ i ≤ n) is a wildcard type argument, are the direct supertypes of the parameterized type C&lt;X1,...,Xn&gt; which is the result of applying capture conversion to C&lt;R1,...,Rn&gt; ([&#167;5.1.10][1]).\r\n\r\nBasically, to find the direct super types of a type with at least one wildcard type argument, you first apply capture conversion, and then you will get a parameterised type that only &quot;types&quot; as the type parameters, as capture conversion converts the wildcards to type variables. After that, you can use the rule that you quoted to find its super types.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10","title":"In the Java Language Specification version 11, section 4.10.2, is it true that a parameterized type containing a wildcard has no direct supertypes?","body":"<p>The part you quoted indeed doesn't say anything about parameterised types with at least one wildcard type argument. What their direct super types are is specified just after the part you quoted:</p>\n<blockquote>\n<p>Given a generic type declaration C&lt;F1,...,Fn&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;R1,...,Rn&gt; where at least one of the Ri (1 ≤ i ≤ n) is a wildcard type argument, are the direct supertypes of the parameterized type C&lt;X1,...,Xn&gt; which is the result of applying capture conversion to C&lt;R1,...,Rn&gt; (<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.1.10\" rel=\"nofollow noreferrer\">§5.1.10</a>).</p>\n</blockquote>\n<p>Basically, to find the direct super types of a type with at least one wildcard type argument, you first apply capture conversion, and then you will get a parameterised type that only &quot;types&quot; as the type parameters, as capture conversion converts the wildcards to type variables. After that, you can use the rule that you quoted to find its super types.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634156794,"creation_date":1633974693,"answer_id":69530505,"question_id":69530080,"body_markdown":"Wildcards are types in JAVA, they are &quot;existential types&quot;. From your same linked page:\r\n\r\n&gt; The relationship of wildcards to established type theory is an\r\n&gt; interesting one, which we briefly allude to here. Wildcards are a\r\n&gt; restricted form of existential types. Given a generic type declaration\r\n&gt; G&lt;T extends B&gt;, G&lt;?&gt; is roughly analogous to Some X &lt;: B. G&lt;X&gt;.\r\n&gt; \r\n\r\nAlso:\r\n&gt; Raw types are closely related to wildcards. Both are based on\r\n&gt; existential types. Raw types can be thought of as wildcards whose type\r\n&gt; rules are deliberately unsound, to accommodate interaction with legacy\r\n&gt; code. Historically, raw types preceded wildcards; they were first\r\n&gt; introduced in GJ, and described in the paper Making the future safe\r\n&gt; for the past: Adding Genericity to the Java Programming Language by\r\n&gt; Gilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler, in\r\n&gt; Proceedings of the ACM Conference on Object-Oriented Programming,\r\n&gt; Systems, Languages and Applications (OOPSLA 98), October 1998.\r\n\r\nAn existential type hides a type within its implementation from the caller. For X to be existential in T, X&#39;s identity cannot be known from any calling object.  All that is known is the set of operations provided at definition. \r\n\r\nFrom [Raw Types in Java][1]:\r\nA raw type is a name for a generic interface or class without its type argument:\r\n\r\n    List list = new ArrayList(); // raw type\r\n\r\nInstead of:\r\n\r\n    List&lt;Integer&gt; listIntgrs = new ArrayList&lt;&gt;(); // parameterized type\r\n\r\nSo it&#39;s not a type in the classic sense of types in JAVA: primitives or reference types, but it is a special form of type that the compiler has rules for and knows how to handle.  Does that mean it really isn&#39;t a type?  I would argue no, it is a psuedo-type or unknown type for lack of better words as it can be declared and used without knowing what it&#39;s type is.  \r\n\r\nTherefore it won&#39;t have a supertype in and of itself. \r\n\r\n&gt; but a parameterized type C&lt;T₁,…,Tₙ&gt;, where at least one Tₙ is a\r\n&gt; wildcard has no direct supertypes…\r\n\r\nHowever, as @Sweeper pointed out, if you have parameterised types with at least one wildcard type argument, then you can find the super type using capture conversion.\r\n\r\nI found this definition for capture conversion here on SO: [What is a capture conversion in Java and can anyone give me examples?][2]\r\n\r\n&gt; Capture conversion is what allows the compiler to manufacture a\r\n&gt; placeholder type name for the captured wildcard, so that type\r\n&gt; inference can infer it to be that type.\r\n\r\n\r\n  [1]: https://www.baeldung.com/raw-types-java\r\n  [2]: https://stackoverflow.com/questions/4431702/what-is-a-capture-conversion-in-java-and-can-anyone-give-me-examples","title":"In the Java Language Specification version 11, section 4.10.2, is it true that a parameterized type containing a wildcard has no direct supertypes?","body":"<p>Wildcards are types in JAVA, they are &quot;existential types&quot;. From your same linked page:</p>\n<blockquote>\n<p>The relationship of wildcards to established type theory is an\ninteresting one, which we briefly allude to here. Wildcards are a\nrestricted form of existential types. Given a generic type declaration\nG, G&lt;?&gt; is roughly analogous to Some X &lt;: B. G.</p>\n</blockquote>\n<p>Also:</p>\n<blockquote>\n<p>Raw types are closely related to wildcards. Both are based on\nexistential types. Raw types can be thought of as wildcards whose type\nrules are deliberately unsound, to accommodate interaction with legacy\ncode. Historically, raw types preceded wildcards; they were first\nintroduced in GJ, and described in the paper Making the future safe\nfor the past: Adding Genericity to the Java Programming Language by\nGilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler, in\nProceedings of the ACM Conference on Object-Oriented Programming,\nSystems, Languages and Applications (OOPSLA 98), October 1998.</p>\n</blockquote>\n<p>An existential type hides a type within its implementation from the caller. For X to be existential in T, X's identity cannot be known from any calling object.  All that is known is the set of operations provided at definition.</p>\n<p>From <a href=\"https://www.baeldung.com/raw-types-java\" rel=\"nofollow noreferrer\">Raw Types in Java</a>:\nA raw type is a name for a generic interface or class without its type argument:</p>\n<pre><code>List list = new ArrayList(); // raw type\n</code></pre>\n<p>Instead of:</p>\n<pre><code>List&lt;Integer&gt; listIntgrs = new ArrayList&lt;&gt;(); // parameterized type\n</code></pre>\n<p>So it's not a type in the classic sense of types in JAVA: primitives or reference types, but it is a special form of type that the compiler has rules for and knows how to handle.  Does that mean it really isn't a type?  I would argue no, it is a psuedo-type or unknown type for lack of better words as it can be declared and used without knowing what it's type is.</p>\n<p>Therefore it won't have a supertype in and of itself.</p>\n<blockquote>\n<p>but a parameterized type C&lt;T₁,…,Tₙ&gt;, where at least one Tₙ is a\nwildcard has no direct supertypes…</p>\n</blockquote>\n<p>However, as @Sweeper pointed out, if you have parameterised types with at least one wildcard type argument, then you can find the super type using capture conversion.</p>\n<p>I found this definition for capture conversion here on SO: <a href=\"https://stackoverflow.com/questions/4431702/what-is-a-capture-conversion-in-java-and-can-anyone-give-me-examples\">What is a capture conversion in Java and can anyone give me examples?</a></p>\n<blockquote>\n<p>Capture conversion is what allows the compiler to manufacture a\nplaceholder type name for the captured wildcard, so that type\ninference can infer it to be that type.</p>\n</blockquote>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69530309,"answer_count":2,"score":1,"last_activity_date":1634156794,"creation_date":1633972294,"question_id":69530080,"body_markdown":"In [the Java Language Specification, version 11, section 4.10.2](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.10.2), it reads, in part, while discussing direct supertypes of parameterized types:\r\n&gt; Given a generic type declaration C&lt;F₁,…,Fₙ&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;T₁,…,Tₙ&gt;, **where Tᵢ (1 ≤ i ≤ n) is a type**, are all of the following:\r\n\r\n(Then it lists a bunch of rules that apply to such parameterized types.  These rules are mostly irrelevant for this question.  They are relevant only in that they define direct supertypes for some cases of parameterized types.)\r\n\r\nWhat &quot;is a type&quot; means can be found [at the top of section 4.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-Type):\r\n&gt; There are two kinds of types in the Java programming language: primitive types (&#167;4.2) and reference types (&#167;4.3).\r\n\r\nA reference type (we&#39;re not talking about primitives here, that&#39;s for sure) [is simply a `ClassOrInterfaceType`, a `TypeVariable` or an `ArrayType`](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-ReferenceType).\r\n\r\nTherefore a wildcard is not a kind of type.\r\n\r\n(It [is, in fact, a kind of `TypeArgument`](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-TypeArgument).  You might think hazily and na&#239;vely as I once did that a wildcard is a wonky kind of `TypeVariable`, and hence a type, but [you would be incorrect](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-TypeVariable).)\r\n\r\nSo putting all this together, my reading of the relevant part of section 4.10.2 is:\r\n * &quot;the parameterized type C&lt;T₁,…,Tₙ&gt;, where Tᵢ (1 ≤ i ≤ n) is a type&quot; has direct supertypes of various kinds…\r\n * …but **a parameterized type C&lt;T₁,…,Tₙ&gt;, where at least one Tₙ is a wildcard has _no_ direct supertypes**…\r\n   * …because the rules that are listed in this section do not apply wholly or partially to parameterized types containing at least one wildcard…\r\n     * …because a wildcard is not a type, so the &quot;where Tᵢ (1 ≤ i ≤ n) is a type&quot; condition is never met.\r\n\r\nIs this a correct reading?  In other words, is my deductive reasoning correct?\r\n\r\n(It is perhaps worth noting in passing that there are types that can &quot;contain&quot; a parameterized type containing wildcards (as [defined in section 4.5.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1)).)","title":"In the Java Language Specification version 11, section 4.10.2, is it true that a parameterized type containing a wildcard has no direct supertypes?","body":"<p>In <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.10.2\" rel=\"nofollow noreferrer\">the Java Language Specification, version 11, section 4.10.2</a>, it reads, in part, while discussing direct supertypes of parameterized types:</p>\n<blockquote>\n<p>Given a generic type declaration C&lt;F₁,…,Fₙ&gt; (n &gt; 0), the direct supertypes of the parameterized type C&lt;T₁,…,Tₙ&gt;, <strong>where Tᵢ (1 ≤ i ≤ n) is a type</strong>, are all of the following:</p>\n</blockquote>\n<p>(Then it lists a bunch of rules that apply to such parameterized types.  These rules are mostly irrelevant for this question.  They are relevant only in that they define direct supertypes for some cases of parameterized types.)</p>\n<p>What &quot;is a type&quot; means can be found <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-Type\" rel=\"nofollow noreferrer\">at the top of section 4.1</a>:</p>\n<blockquote>\n<p>There are two kinds of types in the Java programming language: primitive types (§4.2) and reference types (§4.3).</p>\n</blockquote>\n<p>A reference type (we're not talking about primitives here, that's for sure) <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-ReferenceType\" rel=\"nofollow noreferrer\">is simply a <code>ClassOrInterfaceType</code>, a <code>TypeVariable</code> or an <code>ArrayType</code></a>.</p>\n<p>Therefore a wildcard is not a kind of type.</p>\n<p>(It <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-TypeArgument\" rel=\"nofollow noreferrer\">is, in fact, a kind of <code>TypeArgument</code></a>.  You might think hazily and naïvely as I once did that a wildcard is a wonky kind of <code>TypeVariable</code>, and hence a type, but <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-TypeVariable\" rel=\"nofollow noreferrer\">you would be incorrect</a>.)</p>\n<p>So putting all this together, my reading of the relevant part of section 4.10.2 is:</p>\n<ul>\n<li>&quot;the parameterized type C&lt;T₁,…,Tₙ&gt;, where Tᵢ (1 ≤ i ≤ n) is a type&quot; has direct supertypes of various kinds…</li>\n<li>…but <strong>a parameterized type C&lt;T₁,…,Tₙ&gt;, where at least one Tₙ is a wildcard has <em>no</em> direct supertypes</strong>…\n<ul>\n<li>…because the rules that are listed in this section do not apply wholly or partially to parameterized types containing at least one wildcard…\n<ul>\n<li>…because a wildcard is not a type, so the &quot;where Tᵢ (1 ≤ i ≤ n) is a type&quot; condition is never met.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Is this a correct reading?  In other words, is my deductive reasoning correct?</p>\n<p>(It is perhaps worth noting in passing that there are types that can &quot;contain&quot; a parameterized type containing wildcards (as <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.5.1\" rel=\"nofollow noreferrer\">defined in section 4.5.1</a>).)</p>\n"},{"tags":["java","intellij-idea","compiler-errors","kotlin","java-9"],"comments":[{"owner":{"account_id":9583217,"reputation":9600,"user_id":7117003,"display_name":"petezurich"},"score":2,"creation_date":1524256814,"post_id":49949385,"comment_id":86915371,"body_markdown":"Welcome to SO. Please have a look here to learn how to improve your questions (formatting, proofreading, providing code etc.): https://stackoverflow.com/help/how-to-ask","body":"Welcome to SO. Please have a look here to learn how to improve your questions (formatting, proofreading, providing code etc.): <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":35450,"reputation":5149,"user_id":100398,"accept_rate":75,"display_name":"dewald"},"score":3,"creation_date":1524279903,"post_id":49949385,"comment_id":86920380,"body_markdown":"Seeing the same thing. Using IntelliJ 2018.1.1, JDK 9.0.4+11, and Kotlin 1.2.40. If I make a change and just hit build I see the error above. If I clean and rebuild from scratch it works but this is a tedious workaround.","body":"Seeing the same thing. Using IntelliJ 2018.1.1, JDK 9.0.4+11, and Kotlin 1.2.40. If I make a change and just hit build I see the error above. If I clean and rebuild from scratch it works but this is a tedious workaround."},{"owner":{"account_id":6915840,"reputation":188,"user_id":5310155,"display_name":"cycki"},"score":10,"creation_date":1524298179,"post_id":49949385,"comment_id":86923950,"body_markdown":"I had the same problem. In my case manualy deteting _out_ folder helped. Hope this help You too.","body":"I had the same problem. In my case manualy deteting <i>out</i> folder helped. Hope this help You too."},{"owner":{"account_id":1628396,"reputation":3888,"user_id":1503413,"accept_rate":79,"display_name":"random"},"score":2,"creation_date":1524302356,"post_id":49949385,"comment_id":86924905,"body_markdown":"Same problem after update. Deleting _out_  helps, but issue returns back after some time","body":"Same problem after update. Deleting <i>out</i>  helps, but issue returns back after some time"},{"owner":{"account_id":13394258,"reputation":527,"user_id":9665725,"display_name":"Samplasion"},"score":0,"creation_date":1524303167,"post_id":49949385,"comment_id":86925094,"body_markdown":"@random But at least you know what the problem is","body":"@random But at least you know what the problem is"},{"owner":{"account_id":10693297,"reputation":404,"user_id":7871412,"display_name":"DCjanus"},"score":9,"creation_date":1524312333,"post_id":49949385,"comment_id":86927498,"body_markdown":"I had the same problem. It seem that caused by kotlin plugin 1.2.40. rollback plugin to 1.2.31. the problem disappeared","body":"I had the same problem. It seem that caused by kotlin plugin 1.2.40. rollback plugin to 1.2.31. the problem disappeared"},{"owner":{"account_id":2852962,"reputation":4899,"user_id":2449744,"accept_rate":93,"display_name":"Eldar Agalarov"},"score":0,"creation_date":1524512880,"post_id":49949385,"comment_id":86994163,"body_markdown":"Somebody, please report this bug in JetBrains Bug Tracker","body":"Somebody, please report this bug in JetBrains Bug Tracker"},{"owner":{"account_id":2817676,"reputation":1264,"user_id":2422285,"accept_rate":50,"display_name":"Tuno"},"score":7,"creation_date":1524549239,"post_id":49949385,"comment_id":87004848,"body_markdown":"Please vote https://youtrack.jetbrains.com/issue/KT-23901","body":"Please vote <a href=\"https://youtrack.jetbrains.com/issue/KT-23901\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-23901</a>"}],"answers":[{"tags":[],"owner":{"account_id":2900809,"reputation":4870,"user_id":2487565,"accept_rate":100,"display_name":"Tolbxela"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524513300,"creation_date":1524512909,"answer_id":49988907,"question_id":49949385,"body_markdown":"I had the same problem with Kotlin 1.2.40 and Java JDK 10. After every change in the code, I had to rebuild the whole project to get rid of the compilation error. Deleting of the out folder did help only until the next change. I was looking for the way to downgrade the Kotlin plugin to the previous version, but have found a better solution. \r\n\r\nMy IDEA project didn&#39;t have Gradle and I was able to solve the problem by adding Gradle to the project.\r\n\r\nJust close the Project, put the following file &quot;build.gradle&quot; to the root folder and re-import the Project in the IntelliJ IDEA.\r\n\r\nMy file build.gradle looks so:\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.2.40&#39;\r\n    \r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;kotlin&#39;\r\n    \r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\r\n    }\r\n\r\nIt works well now with the Plugin Version 1.2.40. A downgrade to a previous version is not necessary.","title":"Error compiling in IntelliJ IDEA: &quot;No MessageCollector&quot;","body":"<p>I had the same problem with Kotlin 1.2.40 and Java JDK 10. After every change in the code, I had to rebuild the whole project to get rid of the compilation error. Deleting of the out folder did help only until the next change. I was looking for the way to downgrade the Kotlin plugin to the previous version, but have found a better solution. </p>\n\n<p>My IDEA project didn't have Gradle and I was able to solve the problem by adding Gradle to the project.</p>\n\n<p>Just close the Project, put the following file \"build.gradle\" to the root folder and re-import the Project in the IntelliJ IDEA.</p>\n\n<p>My file build.gradle looks so:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.40'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nsourceSets {\n    main.java.srcDirs += 'src'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n}\n</code></pre>\n\n<p>It works well now with the Plugin Version 1.2.40. A downgrade to a previous version is not necessary.</p>\n"},{"tags":[],"owner":{"account_id":2153563,"reputation":264,"user_id":1909269,"display_name":"Alex Kritchevsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1538591380,"creation_date":1525467125,"answer_id":50182887,"question_id":49949385,"body_markdown":"Promoting the answer in the comments to an answer, because it&#39;s the actual answer:\r\n\r\nThis appears to be a bug in the IntelliJ Kotlin plugin v1.2.40 and how it interacts with Java 10. See [here](https://youtrack.jetbrains.com/issue/KT-23901). The solution is to upgrade to v1.2.41.\r\n\r\n(Don&#39;t switch your project to building with Gradle like the other answer suggests just because the plugin is broken. That&#39;s weird.)","title":"Error compiling in IntelliJ IDEA: &quot;No MessageCollector&quot;","body":"<p>Promoting the answer in the comments to an answer, because it's the actual answer:</p>\n\n<p>This appears to be a bug in the IntelliJ Kotlin plugin v1.2.40 and how it interacts with Java 10. See <a href=\"https://youtrack.jetbrains.com/issue/KT-23901\" rel=\"nofollow noreferrer\">here</a>. The solution is to upgrade to v1.2.41.</p>\n\n<p>(Don't switch your project to building with Gradle like the other answer suggests just because the plugin is broken. That's weird.)</p>\n"}],"owner":{"account_id":13394258,"reputation":527,"user_id":9665725,"display_name":"Samplasion"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":50182887,"answer_count":2,"score":31,"last_activity_date":1634156704,"creation_date":1524256689,"question_id":49949385,"body_markdown":"*Edit: Solved. See @acdsee&#39;s comment to see how*.\r\n\r\nSince I updated IntelliJ IDEA from 2017.3.5 to 2018.1, every project I start throws this error:\r\n\r\n    &gt; Error:Module &#39;JBA&#39; production: java.lang.Exception: LOGGING: Loading\r\n    &gt; modules: [java.se, javafx.base, javafx.controls, javafx.fxml,\r\n    &gt; javafx.graphics, javafx.media, javafx.swing, javafx.web,\r\n    &gt; jdk.accessibility, jdk.attach, jdk.compiler, jdk.dynalink,\r\n    &gt; jdk.httpserver, jdk.incubator.httpclient, jdk.jartool, jdk.javadoc,\r\n    &gt; jdk.jconsole, jdk.jdi, jdk.jfr, jdk.jshell, jdk.jsobject,\r\n    &gt; jdk.management, jdk.management.cmm, jdk.management.jfr,\r\n    &gt; jdk.management.resource, jdk.net, jdk.packager, jdk.packager.services,\r\n    &gt; jdk.scripting.nashorn, jdk.sctp, jdk.security.auth, jdk.security.jgss,\r\n    &gt; jdk.unsupported, jdk.xml.dom, oracle.desktop, oracle.net, java.base,\r\n    &gt; java.compiler, java.datatransfer, java.desktop, java.xml,\r\n    &gt; java.instrument, java.logging, java.management, java.management.rmi,\r\n    &gt; java.rmi, java.naming, java.prefs, java.scripting, java.security.jgss,\r\n    &gt; java.security.sasl, java.sql, java.sql.rowset, java.xml.crypto,\r\n    &gt; jdk.internal.jvmstat, jdk.management.agent, jdk.jdwp.agent,\r\n    &gt; jdk.internal.ed, jdk.internal.le, jdk.internal.opt, jdk.jlink] (no\r\n    &gt; MessageCollector configured)","title":"Error compiling in IntelliJ IDEA: &quot;No MessageCollector&quot;","body":"<p><em>Edit: Solved. See @acdsee's comment to see how</em>.</p>\n<p>Since I updated IntelliJ IDEA from 2017.3.5 to 2018.1, every project I start throws this error:</p>\n<pre><code>&gt; Error:Module 'JBA' production: java.lang.Exception: LOGGING: Loading\n&gt; modules: [java.se, javafx.base, javafx.controls, javafx.fxml,\n&gt; javafx.graphics, javafx.media, javafx.swing, javafx.web,\n&gt; jdk.accessibility, jdk.attach, jdk.compiler, jdk.dynalink,\n&gt; jdk.httpserver, jdk.incubator.httpclient, jdk.jartool, jdk.javadoc,\n&gt; jdk.jconsole, jdk.jdi, jdk.jfr, jdk.jshell, jdk.jsobject,\n&gt; jdk.management, jdk.management.cmm, jdk.management.jfr,\n&gt; jdk.management.resource, jdk.net, jdk.packager, jdk.packager.services,\n&gt; jdk.scripting.nashorn, jdk.sctp, jdk.security.auth, jdk.security.jgss,\n&gt; jdk.unsupported, jdk.xml.dom, oracle.desktop, oracle.net, java.base,\n&gt; java.compiler, java.datatransfer, java.desktop, java.xml,\n&gt; java.instrument, java.logging, java.management, java.management.rmi,\n&gt; java.rmi, java.naming, java.prefs, java.scripting, java.security.jgss,\n&gt; java.security.sasl, java.sql, java.sql.rowset, java.xml.crypto,\n&gt; jdk.internal.jvmstat, jdk.management.agent, jdk.jdwp.agent,\n&gt; jdk.internal.ed, jdk.internal.le, jdk.internal.opt, jdk.jlink] (no\n&gt; MessageCollector configured)\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":20032867,"reputation":25,"user_id":14685244,"display_name":"Mykhailo Pavliuk"},"score":0,"creation_date":1634102631,"post_id":69526531,"comment_id":122932680,"body_markdown":"@jewelsea will check this approach, thank you. You write your answer and I will be able to mark it)","body":"@jewelsea will check this approach, thank you. You write your answer and I will be able to mark it)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1634156606,"post_id":69526531,"comment_id":122953362,"body_markdown":"Replaced comment with an answer.","body":"Replaced comment with an answer."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634156591,"creation_date":1634156591,"answer_id":69561877,"question_id":69526531,"body_markdown":"Presumably, you actually want to have a very different layout with different nodes and controls displayed in the different views, otherwise, you could just use the standard JavaFX sizing hints in [layout panes][1] to achieve what you want.  So this is the assumption that this answer makes.\r\n\r\nI don&#39;t know anything about &quot;javafx weaver&quot;, but perhaps make the `DashboardMainController` abstract, then define three subclasses for the different views and put your @FXMLView annotation on them. \r\n\r\nYou have to be careful in doing that as you will now have three controller instances, each linking to different nodes.  However, this is probably exactly what you want.  \r\n\r\nIn JavaFX, the controllers are tied pretty strongly with the views as the FXMLLoader will instantiate the node hierarchy for the view and insert it into the controller.  So each controller instance and its associated nodes will map to a different view of the same underlying model data.\r\n\r\nTo keep everything in synch you will need to separate the model from [views][2]/[view-models][3].  For an overview of how to do this, which is relatively advanced (e.g. not novice level), see:\r\n\r\n * https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\r\n  [2]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [3]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel","title":"How can I change view for controller dynamically using javafx weaver","body":"<p>Presumably, you actually want to have a very different layout with different nodes and controls displayed in the different views, otherwise, you could just use the standard JavaFX sizing hints in <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/index.html\" rel=\"nofollow noreferrer\">layout panes</a> to achieve what you want.  So this is the assumption that this answer makes.</p>\n<p>I don't know anything about &quot;javafx weaver&quot;, but perhaps make the <code>DashboardMainController</code> abstract, then define three subclasses for the different views and put your @FXMLView annotation on them.</p>\n<p>You have to be careful in doing that as you will now have three controller instances, each linking to different nodes.  However, this is probably exactly what you want.</p>\n<p>In JavaFX, the controllers are tied pretty strongly with the views as the FXMLLoader will instantiate the node hierarchy for the view and insert it into the controller.  So each controller instance and its associated nodes will map to a different view of the same underlying model data.</p>\n<p>To keep everything in synch you will need to separate the model from <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">views</a>/<a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel\" rel=\"nofollow noreferrer\">view-models</a>.  For an overview of how to do this, which is relatively advanced (e.g. not novice level), see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">Applying MVC With JavaFx</a></li>\n</ul>\n"}],"owner":{"account_id":20032867,"reputation":25,"user_id":14685244,"display_name":"Mykhailo Pavliuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69561877,"answer_count":1,"score":1,"last_activity_date":1634156591,"creation_date":1633956729,"question_id":69526531,"body_markdown":"I have following project structure:\r\n![Structure of the project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrfmq.png\r\n\r\n*DashboarMainController*:\r\n\r\n    @Component\r\n    @FxmlView(&quot;/view/normal/dashboard-main.fxml&quot;)\r\n    public class DashboardMainController implements Initializable {\r\n\r\n        ...some logic\r\n    }\r\n\r\n`@FxmlView` can be attached only once and accepts only one `String`\r\n\r\nProgram should have three possible screen resolution (small, normal, large) to change dynamically in the program. So I&#39;d like to use different predefined views for the same controller to manage.\r\n","title":"How can I change view for controller dynamically using javafx weaver","body":"<p>I have following project structure:\n<img src=\"https://i.stack.imgur.com/xrfmq.png\" alt=\"Structure of the project\" /></p>\n<p><em>DashboarMainController</em>:</p>\n<pre><code>@Component\n@FxmlView(&quot;/view/normal/dashboard-main.fxml&quot;)\npublic class DashboardMainController implements Initializable {\n\n    ...some logic\n}\n</code></pre>\n<p><code>@FxmlView</code> can be attached only once and accepts only one <code>String</code></p>\n<p>Program should have three possible screen resolution (small, normal, large) to change dynamically in the program. So I'd like to use different predefined views for the same controller to manage.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1387473510,"post_id":20687763,"comment_id":30981403,"body_markdown":"Are there any sections of `-- whatever --` that should stay? If not then maybe try `-- *[^-]+ *--`.","body":"Are there any sections of <code>-- whatever --</code> that should stay? If not then maybe try <code>-- *[^-]+ *--</code>."},{"owner":{"account_id":482979,"reputation":13177,"user_id":897756,"accept_rate":91,"display_name":"genxgeek"},"score":0,"creation_date":1387475030,"post_id":20687763,"comment_id":30982319,"body_markdown":"the issue is that I can&#39;t always rely on the dashes.  that is just one pattern.  some patterns don&#39;t contain dashes but I have to match in other languages (I made some edits above to describe).","body":"the issue is that I can&#39;t always rely on the dashes.  that is just one pattern.  some patterns don&#39;t contain dashes but I have to match in other languages (I made some edits above to describe)."}],"answers":[{"tags":[],"owner":{"account_id":3709514,"reputation":952,"user_id":3087209,"display_name":"JosefN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1387473720,"creation_date":1387473720,"answer_id":20687895,"question_id":20687763,"body_markdown":"you can use OR in regex \r\n\r\n    Pattern PATTERN = Pattern.compile(&quot;^(.*?)-+ *(?:Delete Here|Elimina qui) *-+&quot;, Pattern.DOTALL)\r\n\r\nbut be carefull if you have many (hunderds ) OR strings it could be problem from performance point of view. For such number is better to make simple pattern to retrieve string between &quot;--&quot;s and use a set to check if it is what you are looking for ","title":"Using regex to parse different locale/langage?","body":"<p>you can use OR in regex </p>\n\n<pre><code>Pattern PATTERN = Pattern.compile(\"^(.*?)-+ *(?:Delete Here|Elimina qui) *-+\", Pattern.DOTALL)\n</code></pre>\n\n<p>but be carefull if you have many (hunderds ) OR strings it could be problem from performance point of view. For such number is better to make simple pattern to retrieve string between \"--\"s and use a set to check if it is what you are looking for </p>\n"},{"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387474963,"creation_date":1387474567,"answer_id":20688179,"question_id":20687763,"body_markdown":"If you do not have other sections of your data that have consectutive dashes one way would be use a negated character class to match between those dashes.\r\n\r\nAnother possible option would be to use `\\p{L}` which matches any kind of letter from any language.\r\n\r\n    -- *\\p{L}+ \\p{L}+ *--\r\n\r\nSee [`Live demo`][1]\r\n\r\n\r\n  [1]: http://regex101.com/r/iO5mY5","title":"Using regex to parse different locale/langage?","body":"<p>If you do not have other sections of your data that have consectutive dashes one way would be use a negated character class to match between those dashes.</p>\n\n<p>Another possible option would be to use <code>\\p{L}</code> which matches any kind of letter from any language.</p>\n\n<pre><code>-- *\\p{L}+ \\p{L}+ *--\n</code></pre>\n\n<p>See <a href=\"http://regex101.com/r/iO5mY5\" rel=\"nofollow\"><code>Live demo</code></a></p>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634156278,"creation_date":1634156278,"answer_id":69561831,"question_id":20687763,"body_markdown":"I do not know, whether its work for you, but I captured Bengali numbers `১, ২, ৩, ৪`,  this way : \r\n\r\n    String bengaliString = &quot;গণি মিয়া একজন গরীব কৃষক। তার ২ বিঘা জমি এবং ১ টি মাত্র গরু আছে। &quot;; \r\n\r\n  \r\n\r\n    final Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;, Pattern.UNICODE_CHARACTER_CLASS);\r\n            final Matcher matcher = pattern.matcher(bengaliString);\r\n\r\nHope, this helps someone. ","title":"Using regex to parse different locale/langage?","body":"<p>I do not know, whether its work for you, but I captured Bengali numbers <code>১, ২, ৩, ৪</code>,  this way :</p>\n<pre><code>String bengaliString = &quot;গণি মিয়া একজন গরীব কৃষক। তার ২ বিঘা জমি এবং ১ টি মাত্র গরু আছে। &quot;; \n\n\n\nfinal Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;, Pattern.UNICODE_CHARACTER_CLASS);\n        final Matcher matcher = pattern.matcher(bengaliString);\n</code></pre>\n<p>Hope, this helps someone.</p>\n"}],"owner":{"account_id":482979,"reputation":13177,"user_id":897756,"accept_rate":91,"display_name":"genxgeek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20687895,"answer_count":3,"score":0,"last_activity_date":1634156278,"creation_date":1387473298,"question_id":20687763,"body_markdown":"I have some text that comes back in different languages.  Right now, the text comes back from a client in the form of (en-us aka english for US):\r\n\r\n    Stuff here to keep.\r\n    \r\n    -- Delete Here --\r\n    all of this below\r\n    gets\r\n    deleted\r\n\r\nI&#39;m using a regex to match &quot;Delete Here&quot; and snip everything at that line and below it leaving on the &quot;Stuff here to keep.&quot;\r\n\r\nThe &quot;Delete Here:&quot; is the text that can come back in any language.\r\n\r\nSo for Italian the key words to match for are &quot;Elimina qui&quot;:\r\n\r\n    Stuff here to keep (in italian)\r\n    \r\n    -- Elimina qui --\r\n    all of this bellow\r\n    gets\r\n    deleted\r\n\r\nMy regex usses something like this to match the &quot;Delete Here&quot; but how can I get this to work with other languages?  \r\n\r\nDo I ineed a look up dictionary for each word combo &quot;Delete&quot;, &quot;Here&quot;, (there are more to match one) etc,.???  How can I make this solution work for all languages?\r\n\r\n&gt; **NOTE:** this is a very, very simple example.  the &quot;-- Delete Here --&quot; is just one pattern I have to match.  Other patterns could be just &quot;Delete Here&quot;.  And there are other patterns like &quot;Delete All Below&quot;\r\n&gt; (again for literary context there are other text patterns that I have\r\n&gt; to match in multiple languages).\r\n\r\n    Pattern PATTERN = Pattern.compile(&quot;^(.*?)-+ *Delete Here *-+&quot;, Pattern.DOTALL);\r\n    Matcher m = PATTERN.matcher(text);\r\n        if (m.find()) {\r\n          // Perform Magic!\r\n    }","title":"Using regex to parse different locale/langage?","body":"<p>I have some text that comes back in different languages.  Right now, the text comes back from a client in the form of (en-us aka english for US):</p>\n\n<pre><code>Stuff here to keep.\n\n-- Delete Here --\nall of this below\ngets\ndeleted\n</code></pre>\n\n<p>I'm using a regex to match \"Delete Here\" and snip everything at that line and below it leaving on the \"Stuff here to keep.\"</p>\n\n<p>The \"Delete Here:\" is the text that can come back in any language.</p>\n\n<p>So for Italian the key words to match for are \"Elimina qui\":</p>\n\n<pre><code>Stuff here to keep (in italian)\n\n-- Elimina qui --\nall of this bellow\ngets\ndeleted\n</code></pre>\n\n<p>My regex usses something like this to match the \"Delete Here\" but how can I get this to work with other languages?  </p>\n\n<p>Do I ineed a look up dictionary for each word combo \"Delete\", \"Here\", (there are more to match one) etc,.???  How can I make this solution work for all languages?</p>\n\n<blockquote>\n  <p><strong>NOTE:</strong> this is a very, very simple example.  the \"-- Delete Here --\" is just one pattern I have to match.  Other patterns could be just \"Delete Here\".  And there are other patterns like \"Delete All Below\"\n  (again for literary context there are other text patterns that I have\n  to match in multiple languages).</p>\n</blockquote>\n\n<pre><code>Pattern PATTERN = Pattern.compile(\"^(.*?)-+ *Delete Here *-+\", Pattern.DOTALL);\nMatcher m = PATTERN.matcher(text);\n    if (m.find()) {\n      // Perform Magic!\n}\n</code></pre>\n"},{"tags":["java","html","jsoup","freemarker"],"answers":[{"tags":[],"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456590407,"creation_date":1456590407,"answer_id":35672237,"question_id":35671149,"body_markdown":"No, unfortunately the Whitelist feature only works for the clean() method, not the parser. So you can&#39;t add your tags easily.\r\n\r\nEven if you use the xmlParser it will not work, since you have a tag name starting with `#`.\r\n\r\nThe only solution I see is to transform the template prior parsing. e.g. with regular expressions.\r\n","title":"JSoup parse trashing Freemarker tags","body":"<p>No, unfortunately the Whitelist feature only works for the clean() method, not the parser. So you can't add your tags easily.</p>\n\n<p>Even if you use the xmlParser it will not work, since you have a tag name starting with <code>#</code>.</p>\n\n<p>The only solution I see is to transform the template prior parsing. e.g. with regular expressions.</p>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634156197,"creation_date":1456593022,"answer_id":35672759,"question_id":35671149,"body_markdown":"There&#39;s a workaround that might work for you: FreeMarker has an alternative syntax where you use `[` and `]` instead of `&lt;` and `&gt;`, like in `[#list things as thing]`. It can be enabled in the FreeMarker configuration with the `tagSyntax` setting. (Or, if you start a template with `[#ftl]`, it will switch to the alternative syntax forcefully.)","title":"JSoup parse trashing Freemarker tags","body":"<p>There's a workaround that might work for you: FreeMarker has an alternative syntax where you use <code>[</code> and <code>]</code> instead of <code>&lt;</code> and <code>&gt;</code>, like in <code>[#list things as thing]</code>. It can be enabled in the FreeMarker configuration with the <code>tagSyntax</code> setting. (Or, if you start a template with <code>[#ftl]</code>, it will switch to the alternative syntax forcefully.)</p>\n"}],"owner":{"account_id":24830,"reputation":10800,"user_id":63379,"accept_rate":92,"display_name":"Steve Claridge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634156197,"creation_date":1456584481,"question_id":35671149,"body_markdown":"I am using JSoup to update some server-side HTML templates that have some Freemarker tags in them. JSoup doesn&#39;t recognise the Freemarker tags as valid HTML (fair enough) and converts them to `&amp;gt;` and `&amp;lt;` For example:\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n    &lt;#list things as thing&gt; \r\n    &lt;/#list&gt;\r\n    &lt;/div&gt;\r\n\r\ngets converted to:\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n    &amp;lt;#list things as thing&amp;gt;\r\n    &amp;lt;/#list&amp;gt;\r\n    &lt;/div&gt;\r\n\r\nwhen I call `Document doc = Jsoup.parse( theHtml );`\r\n\r\nI know JSoup has a Whitelist and presumably I can add `&lt;#list&gt;` and other Freemarker tags to that but I don&#39;t see a way to pass the updated Whitelist to the `parse()` method?\r\n\r\n\r\n","title":"JSoup parse trashing Freemarker tags","body":"<p>I am using JSoup to update some server-side HTML templates that have some Freemarker tags in them. JSoup doesn't recognise the Freemarker tags as valid HTML (fair enough) and converts them to <code>&amp;gt;</code> and <code>&amp;lt;</code> For example:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n&lt;#list things as thing&gt; \n&lt;/#list&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>gets converted to:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n&amp;lt;#list things as thing&amp;gt;\n&amp;lt;/#list&amp;gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>when I call <code>Document doc = Jsoup.parse( theHtml );</code></p>\n\n<p>I know JSoup has a Whitelist and presumably I can add <code>&lt;#list&gt;</code> and other Freemarker tags to that but I don't see a way to pass the updated Whitelist to the <code>parse()</code> method?</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":11598828,"reputation":101,"user_id":8496685,"display_name":"Patrick Davis"},"score":0,"creation_date":1634077954,"post_id":69533522,"comment_id":122928465,"body_markdown":"I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to `setEnabled(true)` or `setEnabled(false)` as needed without issue.","body":"I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to <code>setEnabled(true)</code> or <code>setEnabled(false)</code> as needed without issue."}],"answers":[{"tags":[],"owner":{"account_id":18997931,"reputation":73,"user_id":13865861,"display_name":"siya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633996624,"creation_date":1633996624,"answer_id":69533627,"question_id":69533522,"body_markdown":"I&#39;m surprised this is still an issue. It&#39;s been asked before way back in the past: https://stackoverflow.com/questions/6555455/how-to-set-editable-true-false-edittext-in-android-programmatically\r\n\r\nMaybe try this and see what comes of it?","title":"Android EditText setEnabled(false) isn&#39;t working","body":"<p>I'm surprised this is still an issue. It's been asked before way back in the past: <a href=\"https://stackoverflow.com/questions/6555455/how-to-set-editable-true-false-edittext-in-android-programmatically\">How to set editable true/false EditText in Android programmatically?</a></p>\n<p>Maybe try this and see what comes of it?</p>\n"},{"tags":[],"owner":{"account_id":11598828,"reputation":101,"user_id":8496685,"display_name":"Patrick Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634156130,"creation_date":1634156130,"answer_id":69561804,"question_id":69533522,"body_markdown":"I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to setEnabled(true) or setEnabled(false) as needed without issue.","title":"Android EditText setEnabled(false) isn&#39;t working","body":"<p>I was able to figure it out. Hard coding the field indexes was the wrong approach. I was able to get the proper indexes by using a for loop on a fieldList array, and assigning the indexes to the variables based on the name of the field. Once I did that, I was able to setEnabled(true) or setEnabled(false) as needed without issue.</p>\n"}],"owner":{"account_id":11598828,"reputation":101,"user_id":8496685,"display_name":"Patrick Davis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69561804,"answer_count":2,"score":0,"last_activity_date":1634156130,"creation_date":1633995275,"question_id":69533522,"body_markdown":"I have a couple of dynamically created EditText fields.\r\nI am trying to disable the fields if the value in another field doesn&#39;t match certain criteria.\r\nThe issue is that if other criteria is met, the field is disabled properly by setting `setEnabled(false);`.\r\n\r\nEssentially in a part number field, we check if the part number requires a serial number or a lot number.\r\nIf the part requires a serial number, the serial number field displays an error, the lot number field is disabled, and the quantity field is set to &quot;1&quot; and disabled\r\nIf a lot number is required, the lot number field shows an error and the serial number field is disabled. This works as intended.\r\n```\r\npublic void onTextChanged(@NotNull EditText target, @NotNull Editable s) {\r\n                                int serialIndex = 4;\r\n                                int lotIndex = 5;\r\n                                int quantityIndex = 6;\r\n                                EditText serial = findViewById(serialIndex);\r\n                                EditText lot = findViewById(lotIndex);\r\n                                EditText quantity = findViewById(quantityIndex);\r\n                               \r\n                                String txt = partNum.getText().toString().toUpperCase();\r\n                                partNumber = txt;\r\n                                Global.isSerialized = DatabaseManager.isSerialized(txt);\r\n                                Global.isLot = DatabaseManager.isLot(txt);\r\n                                \r\n                                //this is not working. The fields do not get disabled.\r\n                                if (!Global.isSerialized &amp;&amp; !Global.isLot) {\r\n                                    lot.setEnabled(false);\r\n                                    serial.setEnabled(false);\r\n                                    findViewById(id).setNextFocusDownId(quantityIndex);\r\n                                }\r\n                                \r\n                                if (txt.equals(&quot;&quot;)) {\r\n                                    serial.setError(null);\r\n                                    lot.setError(null);\r\n                                    if (!quantity.isEnabled()) {\r\n                                        quantity.setEnabled(true);\r\n                                        quantity.setText(&quot;&quot;);\r\n                                    }\r\n                                }\r\n                                //This is working. The lot number field gets disabled.\r\n                                if (Global.isSerialized) {\r\n                                    lot.setEnabled(false);\r\n                                    snRequired = true;\r\n                                    serial.setError(&quot;Serial Number Required&quot;);\r\n                                    quantity.setText(&quot;1&quot;);\r\n                                    quantity.setEnabled(false);\r\n                                    findViewById(id).setNextFocusDownId(serialIndex);\r\n                                } else {\r\n                                    snRequired = false;\r\n                                    serial.setError(null);\r\n                                    quantity.setText(&quot;&quot;);\r\n                                    quantity.setEnabled(true);\r\n\r\n                                }\r\n                                //this is also working. The serial number field gets disabled.\r\n                                if (Global.isLot) {\r\n                                    lot.setEnabled(true);\r\n                                    lnRequired = true;\r\n                                    lot.setError(&quot;Lot Number Required&quot;);\r\n                                    serial.setEnabled(false);\r\n                                    quantity.setText(&quot;&quot;);\r\n                                    quantity.setEnabled(true);\r\n                                    findViewById(id).setNextFocusDownId(lotIndex);\r\n                                } else {\r\n                                    lot.setError(null);\r\n                                    lnRequired = false;\r\n                                }\r\n```\r\nAny ideas?","title":"Android EditText setEnabled(false) isn&#39;t working","body":"<p>I have a couple of dynamically created EditText fields.\nI am trying to disable the fields if the value in another field doesn't match certain criteria.\nThe issue is that if other criteria is met, the field is disabled properly by setting <code>setEnabled(false);</code>.</p>\n<p>Essentially in a part number field, we check if the part number requires a serial number or a lot number.\nIf the part requires a serial number, the serial number field displays an error, the lot number field is disabled, and the quantity field is set to &quot;1&quot; and disabled\nIf a lot number is required, the lot number field shows an error and the serial number field is disabled. This works as intended.</p>\n<pre><code>public void onTextChanged(@NotNull EditText target, @NotNull Editable s) {\n                                int serialIndex = 4;\n                                int lotIndex = 5;\n                                int quantityIndex = 6;\n                                EditText serial = findViewById(serialIndex);\n                                EditText lot = findViewById(lotIndex);\n                                EditText quantity = findViewById(quantityIndex);\n                               \n                                String txt = partNum.getText().toString().toUpperCase();\n                                partNumber = txt;\n                                Global.isSerialized = DatabaseManager.isSerialized(txt);\n                                Global.isLot = DatabaseManager.isLot(txt);\n                                \n                                //this is not working. The fields do not get disabled.\n                                if (!Global.isSerialized &amp;&amp; !Global.isLot) {\n                                    lot.setEnabled(false);\n                                    serial.setEnabled(false);\n                                    findViewById(id).setNextFocusDownId(quantityIndex);\n                                }\n                                \n                                if (txt.equals(&quot;&quot;)) {\n                                    serial.setError(null);\n                                    lot.setError(null);\n                                    if (!quantity.isEnabled()) {\n                                        quantity.setEnabled(true);\n                                        quantity.setText(&quot;&quot;);\n                                    }\n                                }\n                                //This is working. The lot number field gets disabled.\n                                if (Global.isSerialized) {\n                                    lot.setEnabled(false);\n                                    snRequired = true;\n                                    serial.setError(&quot;Serial Number Required&quot;);\n                                    quantity.setText(&quot;1&quot;);\n                                    quantity.setEnabled(false);\n                                    findViewById(id).setNextFocusDownId(serialIndex);\n                                } else {\n                                    snRequired = false;\n                                    serial.setError(null);\n                                    quantity.setText(&quot;&quot;);\n                                    quantity.setEnabled(true);\n\n                                }\n                                //this is also working. The serial number field gets disabled.\n                                if (Global.isLot) {\n                                    lot.setEnabled(true);\n                                    lnRequired = true;\n                                    lot.setError(&quot;Lot Number Required&quot;);\n                                    serial.setEnabled(false);\n                                    quantity.setText(&quot;&quot;);\n                                    quantity.setEnabled(true);\n                                    findViewById(id).setNextFocusDownId(lotIndex);\n                                } else {\n                                    lot.setError(null);\n                                    lnRequired = false;\n                                }\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","hadoop","amazon-web-services","amazon-ec2","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":3188866,"reputation":1012,"user_id":2693725,"accept_rate":18,"display_name":"zxz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387794312,"creation_date":1387794312,"answer_id":20741516,"question_id":20731093,"body_markdown":"So, you mean ,you didn`t add any hadoop jar to your project, and you ignored the compilation error, and hoped this can run in the server side which installed a hadoop-client?\r\n\r\nIf it is true, that is impossiable.\r\n\r\nYou must add the hadoop-client.XX.jar to your project ,any version is OK.","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>So, you mean ,you didn`t add any hadoop jar to your project, and you ignored the compilation error, and hoped this can run in the server side which installed a hadoop-client?</p>\n\n<p>If it is true, that is impossiable.</p>\n\n<p>You must add the hadoop-client.XX.jar to your project ,any version is OK.</p>\n"},{"tags":[],"owner":{"account_id":2458362,"reputation":27415,"user_id":2142994,"accept_rate":60,"display_name":"Ani Menon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469179075,"creation_date":1469179075,"answer_id":38522714,"question_id":20731093,"body_markdown":"Add all hadoop jars to the project in eclipse and if your code has no errors then you may export it as a jar and run the jar in hadoop.\r\n\r\nTo add jars goto &quot;Build Path&quot;, choose &quot;Configure Build Path&quot; and &quot;Add external jars&quot;. (Choose all hadoop jars and add them)","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>Add all hadoop jars to the project in eclipse and if your code has no errors then you may export it as a jar and run the jar in hadoop.</p>\n\n<p>To add jars goto \"Build Path\", choose \"Configure Build Path\" and \"Add external jars\". (Choose all hadoop jars and add them)</p>\n"},{"tags":[],"owner":{"account_id":22060236,"reputation":1,"user_id":16323055,"display_name":"Abc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634156076,"creation_date":1634156076,"answer_id":69561796,"question_id":20731093,"body_markdown":"To people encountering this error:\r\n\r\n\r\nYou can right-click on the project you created. \r\n\r\nBuild path-&gt;Configure build path &gt; Add external jar files inside the libraries tab. \r\n\r\nHadoop Jar is located inside file system&gt;usr&gt;lib\r\nyou can,\r\n \r\nBrowse thru :  file syster&gt;usr&gt;lib&gt;hadoop&gt; add all the jar files starting from **hadoop-annotations.jar** till the last jar **[parquet-tools.jar]**\r\n\r\nThen again add new external jars and this time add all jars present in the client folder ; \r\n\r\npath(file syster&gt;usr&gt;lib&gt;hadoop&gt;client)\r\n","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>To people encountering this error:</p>\n<p>You can right-click on the project you created.</p>\n<p>Build path-&gt;Configure build path &gt; Add external jar files inside the libraries tab.</p>\n<p>Hadoop Jar is located inside file system&gt;usr&gt;lib\nyou can,</p>\n<p>Browse thru :  file syster&gt;usr&gt;lib&gt;hadoop&gt; add all the jar files starting from <strong>hadoop-annotations.jar</strong> till the last jar <strong>[parquet-tools.jar]</strong></p>\n<p>Then again add new external jars and this time add all jars present in the client folder ;</p>\n<p>path(file syster&gt;usr&gt;lib&gt;hadoop&gt;client)</p>\n"}],"owner":{"account_id":3259921,"reputation":612,"user_id":2745672,"accept_rate":46,"display_name":"Dongle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634156076,"creation_date":1387727041,"question_id":20731093,"body_markdown":"Please have a look at the following code\r\n\r\n**Map.java**\r\n\r\n    public class Map extends Mapper&lt;longwritable, intwritable=&quot;&quot; text,=&quot;&quot;&gt; {\r\n     private final static IntWritable one = new IntWritable(1);\r\n     private Text word = new Text();\r\n     \r\n     @Override\r\n     public void map(LongWritable key, Text value, Context context)\r\n       throws IOException, InterruptedException {\r\n      String line = value.toString();\r\n      StringTokenizer tokenizer = new StringTokenizer(line);\r\n      while (tokenizer.hasMoreTokens()) {\r\n       word.set(tokenizer.nextToken());\r\n       context.write(word, one);\r\n      }\r\n     }\r\n    }\r\n    &lt;/longwritable,&gt;\r\n\r\n**Reduce.java**\r\n\r\n    public class Reduce extends Reducer&lt;text, intwritable,=&quot;&quot; intwritable=&quot;&quot; text,=&quot;&quot;&gt; {\r\n     @Override\r\n     protected void reduce(\r\n       Text key,\r\n       java.lang.Iterable&lt;intwritable&gt; values,\r\n       org.apache.hadoop.mapreduce.Reducer&lt;text, intwritable,=&quot;&quot; intwritable=&quot;&quot; text,=&quot;&quot;&gt;.Context context)\r\n       throws IOException, InterruptedException {\r\n      int sum = 0;\r\n      for (IntWritable value : values) {\r\n       sum += value.get();\r\n      }\r\n      context.write(key, new IntWritable(sum));\r\n     }\r\n    }\r\n    &lt;/text,&gt;&lt;/intwritable&gt;&lt;/text,&gt;\r\n\r\n**WordCount.java**\r\n\r\n\r\n    public class WordCount {\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t  Configuration conf = new Configuration();\r\n    \t\t \r\n    \t\t  Job job = new Job(conf, &quot;wordcount&quot;);\r\n    \t\t  job.setJarByClass(WordCount.class);\r\n    \t\t \r\n    \t\t  job.setOutputKeyClass(Text.class);\r\n    \t\t  job.setOutputValueClass(IntWritable.class);\r\n    \t\t \r\n    \t\t  job.setMapperClass(Map.class);\r\n    \t\t  job.setReducerClass(Reduce.class);\r\n    \t\t \r\n    \t\t  job.setInputFormatClass(TextInputFormat.class);\r\n    \t\t  job.setOutputFormatClass(TextOutputFormat.class);\r\n    \t\t \r\n    \t\t  FileInputFormat.addInputPath(job, new Path(args[0]));\r\n    \t\t  FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n    \t\t \r\n    \t\t  job.waitForCompletion(true);\r\n    \t\t}\r\n    \r\n    }\r\n\r\n\r\nThis entire code is extracted from [this][1] `Map Reduce` tutorial (http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job)\r\n\r\n. As soon as I copied these classes into Eclipse, it showed lot of errors like Cannot be `Resolved By Type`. It is reasonable because the classes this code is using as instances are no where to find in default JDK, and the tutorial has not given any instructions to download any Library. I ignored it thinking it has something to do with `Elastic Map Reduce` in server side.\r\n\r\nAs soon as I uploaded this to Amazon Elastic Map Reduce, created a job flow and run the program, it gave me following errors.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n    \tConfiguration cannot be resolved to a type\r\n    \tConfiguration cannot be resolved to a type\r\n    \tJob cannot be resolved to a type\r\n    \tJob cannot be resolved to a type\r\n    \tText cannot be resolved to a type\r\n    \tIntWritable cannot be resolved to a type\r\n    \tTextInputFormat cannot be resolved to a type\r\n    \tTextOutputFormat cannot be resolved to a type\r\n    \tFileInputFormat cannot be resolved\r\n    \tPath cannot be resolved to a type\r\n    \tFileOutputFormat cannot be resolved\r\n    \tPath cannot be resolved to a type\r\n    \r\n    \tat WordCount.main(WordCount.java:5)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.apache.hadoop.util.RunJar.main(RunJar.java:187)\r\n\r\n\r\nHow can I make this code work? Do I have to download any library for that? How can I make this code run and see the results? This is my very first Experience in Amazon and Elastic Map reduce, and yes, first experience with Big Data as well.\r\n\r\nPlease help.\r\n\r\n  [1]: http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job","title":"Map Reduce: Unabale to run the code due to number of errors","body":"<p>Please have a look at the following code</p>\n\n<p><strong>Map.java</strong></p>\n\n<pre><code>public class Map extends Mapper&lt;longwritable, intwritable=\"\" text,=\"\"&gt; {\n private final static IntWritable one = new IntWritable(1);\n private Text word = new Text();\n\n @Override\n public void map(LongWritable key, Text value, Context context)\n   throws IOException, InterruptedException {\n  String line = value.toString();\n  StringTokenizer tokenizer = new StringTokenizer(line);\n  while (tokenizer.hasMoreTokens()) {\n   word.set(tokenizer.nextToken());\n   context.write(word, one);\n  }\n }\n}\n&lt;/longwritable,&gt;\n</code></pre>\n\n<p><strong>Reduce.java</strong></p>\n\n<pre><code>public class Reduce extends Reducer&lt;text, intwritable,=\"\" intwritable=\"\" text,=\"\"&gt; {\n @Override\n protected void reduce(\n   Text key,\n   java.lang.Iterable&lt;intwritable&gt; values,\n   org.apache.hadoop.mapreduce.Reducer&lt;text, intwritable,=\"\" intwritable=\"\" text,=\"\"&gt;.Context context)\n   throws IOException, InterruptedException {\n  int sum = 0;\n  for (IntWritable value : values) {\n   sum += value.get();\n  }\n  context.write(key, new IntWritable(sum));\n }\n}\n&lt;/text,&gt;&lt;/intwritable&gt;&lt;/text,&gt;\n</code></pre>\n\n<p><strong>WordCount.java</strong></p>\n\n<pre><code>public class WordCount {\n\n    public static void main(String[] args) throws Exception {\n          Configuration conf = new Configuration();\n\n          Job job = new Job(conf, \"wordcount\");\n          job.setJarByClass(WordCount.class);\n\n          job.setOutputKeyClass(Text.class);\n          job.setOutputValueClass(IntWritable.class);\n\n          job.setMapperClass(Map.class);\n          job.setReducerClass(Reduce.class);\n\n          job.setInputFormatClass(TextInputFormat.class);\n          job.setOutputFormatClass(TextOutputFormat.class);\n\n          FileInputFormat.addInputPath(job, new Path(args[0]));\n          FileOutputFormat.setOutputPath(job, new Path(args[1]));\n\n          job.waitForCompletion(true);\n        }\n\n}\n</code></pre>\n\n<p>This entire code is extracted from <a href=\"http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job\" rel=\"nofollow\">this</a> <code>Map Reduce</code> tutorial (<a href=\"http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job\" rel=\"nofollow\">http://cloud.dzone.com/articles/how-run-elastic-mapreduce-job</a>)</p>\n\n<p>. As soon as I copied these classes into Eclipse, it showed lot of errors like Cannot be <code>Resolved By Type</code>. It is reasonable because the classes this code is using as instances are no where to find in default JDK, and the tutorial has not given any instructions to download any Library. I ignored it thinking it has something to do with <code>Elastic Map Reduce</code> in server side.</p>\n\n<p>As soon as I uploaded this to Amazon Elastic Map Reduce, created a job flow and run the program, it gave me following errors.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: Unresolved compilation problems: \n    Configuration cannot be resolved to a type\n    Configuration cannot be resolved to a type\n    Job cannot be resolved to a type\n    Job cannot be resolved to a type\n    Text cannot be resolved to a type\n    IntWritable cannot be resolved to a type\n    TextInputFormat cannot be resolved to a type\n    TextOutputFormat cannot be resolved to a type\n    FileInputFormat cannot be resolved\n    Path cannot be resolved to a type\n    FileOutputFormat cannot be resolved\n    Path cannot be resolved to a type\n\n    at WordCount.main(WordCount.java:5)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:187)\n</code></pre>\n\n<p>How can I make this code work? Do I have to download any library for that? How can I make this code run and see the results? This is my very first Experience in Amazon and Elastic Map reduce, and yes, first experience with Big Data as well.</p>\n\n<p>Please help.</p>\n"},{"tags":["java","android","illegalstateexception","androidx","android-workmanager"],"comments":[{"owner":{"account_id":14495715,"reputation":1940,"user_id":10470378,"display_name":"ronginat"},"score":0,"creation_date":1556317050,"post_id":55875198,"comment_id":98410881,"body_markdown":"Your question is missing a lot of details. Do you actually want to initialize the worker more than once? How does the first initialization even work, did you follow the documentation for initializing it properly? Where did you initialize the worker, which class and exactly where in this class&#39;s lifecycle?","body":"Your question is missing a lot of details. Do you actually want to initialize the worker more than once? How does the first initialization even work, did you follow the documentation for initializing it properly? Where did you initialize the worker, which class and exactly where in this class&#39;s lifecycle?"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1556317997,"post_id":55875198,"comment_id":98411085,"body_markdown":"@ronginat compared to other questions, it is quite detailed. and you questions are probably all answered by the question already. of course I do not want to initialize it twice and there are no workers required to produce the crash.","body":"@ronginat compared to other questions, it is quite detailed. and you questions are probably all answered by the question already. of course I do not want to initialize it twice and there are no workers required to produce the crash."},{"owner":{"account_id":14495715,"reputation":1940,"user_id":10470378,"display_name":"ronginat"},"score":0,"creation_date":1556318303,"post_id":55875198,"comment_id":98411165,"body_markdown":"So far you answered to my first question so i know you don&#39;t want to do something impossible (you can&#39;t initialize the worker more than once). If your code is running multiple times and trying to initialize the worker, then it&#39;s probably not the right place for it. That&#39;s why i asked where you initialize the worker and how the first time is working without any change in your manifest (i&#39;m guessing you didn&#39;t change the manifest as written in your answer when writing this question).","body":"So far you answered to my first question so i know you don&#39;t want to do something impossible (you can&#39;t initialize the worker more than once). If your code is running multiple times and trying to initialize the worker, then it&#39;s probably not the right place for it. That&#39;s why i asked where you initialize the worker and how the first time is working without any change in your manifest (i&#39;m guessing you didn&#39;t change the manifest as written in your answer when writing this question)."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1556318788,"post_id":55875198,"comment_id":98411275,"body_markdown":"@ronginat to be precise, it happens when scheduling one job and then later scheduling another; also when trying to cancel jobs. the tricky thing about it is, that `.getInstance()` is a `static` method and not an instance method. that answer is just an approach I&#39;ve found, based upon the suggestion in the error message; still need to test that (the blog post is only a similar situation).","body":"@ronginat to be precise, it happens when scheduling one job and then later scheduling another; also when trying to cancel jobs. the tricky thing about it is, that <code>.getInstance()</code> is a <code>static</code> method and not an instance method. that answer is just an approach I&#39;ve found, based upon the suggestion in the error message; still need to test that (the blog post is only a similar situation)."},{"owner":{"account_id":14495715,"reputation":1940,"user_id":10470378,"display_name":"ronginat"},"score":0,"creation_date":1556319176,"post_id":55875198,"comment_id":98411340,"body_markdown":"Then the safest way will be initializing it only once at `Application#onCreate` as suggested in the [official guide](https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#custom-config) (just below the code block). After that, use the static `getInstance` freely anywhere in your code because the `WorkManager` had already been initialized.","body":"Then the safest way will be initializing it only once at <code>Application#onCreate</code> as suggested in the <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#custom-config\" rel=\"nofollow noreferrer\">official guide</a> (just below the code block). After that, use the static <code>getInstance</code> freely anywhere in your code because the <code>WorkManager</code> had already been initialized."}],"answers":[{"tags":[],"owner":{"account_id":15499022,"reputation":1825,"user_id":11181035,"display_name":"Beyazid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556316531,"creation_date":1556315789,"answer_id":55875359,"question_id":55875198,"body_markdown":"You can control when you called workManager\r\n\r\n    if(this.workManager == null){\r\n       Configuration config = new Configuration.Builder().build();\r\n       WorkManager.initialize(getApplicationContext(), config);\r\n       this.workManager = WorkManager.getInstance();\r\n    }\r\n","title":"IllegalStateException: WorkManager is already initialized","body":"<p>You can control when you called workManager</p>\n\n<pre><code>if(this.workManager == null){\n   Configuration config = new Configuration.Builder().build();\n   WorkManager.initialize(getApplicationContext(), config);\n   this.workManager = WorkManager.getInstance();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1579128092,"creation_date":1556317307,"answer_id":55875560,"question_id":55875198,"body_markdown":"This is how to substitute provider `androidx.work.impl.WorkManagerInitializer`:\r\n\r\n    &lt;application&gt;\r\n        ...\r\n\r\n        &lt;!-- disable default provider --&gt;\r\n        &lt;provider\r\n            android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n            android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:enabled=&quot;false&quot;/&gt;\r\n\r\n        &lt;!-- register custom provider --&gt;\r\n        &lt;provider\r\n            android:name=&quot;.CustomWorkManagerInitializer&quot;\r\n            android:authorities=&quot;${applicationId}.WorkManagerInit&quot;/&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\nSource: [Custom Work Manager initialization][1] (in Kotlin).\r\n\r\n ---\r\n\r\nUnless registering another provider, this gives a:\r\n\r\n    java.lang.IllegalStateException: WorkManager is not initialized properly. The most\r\n    likely cause is that you disabled WorkManagerInitializer in your manifest but forgot\r\n    to call WorkManager#initialize in your Application#onCreate or a ContentProvider.\r\n\r\nAnd the `ContentProvider` registered in the `src/debug/Manifest.xml`:\r\n\r\n    public class WorkManagerInit extends ContentProvider {\r\n    \r\n        @Override\r\n        public boolean onCreate() {\r\n            if(getContext() != null) {\r\n                Configuration config = new Configuration.Builder().build();\r\n                WorkManager.initialize(getContext().getApplicationContext(), config);\r\n            }\r\n            return true;\r\n        }\r\n        ...\r\n    }\r\n\r\n  [1]: https://medium.com/@programmerr47/custom-work-manager-initialization-efdd2afa6459","title":"IllegalStateException: WorkManager is already initialized","body":"<p>This is how to substitute provider <code>androidx.work.impl.WorkManagerInitializer</code>:</p>\n\n<pre><code>&lt;application&gt;\n    ...\n\n    &lt;!-- disable default provider --&gt;\n    &lt;provider\n        android:name=\"androidx.work.impl.WorkManagerInitializer\"\n        android:authorities=\"${applicationId}.workmanager-init\"\n        android:exported=\"false\"\n        android:enabled=\"false\"/&gt;\n\n    &lt;!-- register custom provider --&gt;\n    &lt;provider\n        android:name=\".CustomWorkManagerInitializer\"\n        android:authorities=\"${applicationId}.WorkManagerInit\"/&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>Source: <a href=\"https://medium.com/@programmerr47/custom-work-manager-initialization-efdd2afa6459\" rel=\"noreferrer\">Custom Work Manager initialization</a> (in Kotlin).</p>\n\n<hr>\n\n<p>Unless registering another provider, this gives a:</p>\n\n<pre><code>java.lang.IllegalStateException: WorkManager is not initialized properly. The most\nlikely cause is that you disabled WorkManagerInitializer in your manifest but forgot\nto call WorkManager#initialize in your Application#onCreate or a ContentProvider.\n</code></pre>\n\n<p>And the <code>ContentProvider</code> registered in the <code>src/debug/Manifest.xml</code>:</p>\n\n<pre><code>public class WorkManagerInit extends ContentProvider {\n\n    @Override\n    public boolean onCreate() {\n        if(getContext() != null) {\n            Configuration config = new Configuration.Builder().build();\n            WorkManager.initialize(getContext().getApplicationContext(), config);\n        }\n        return true;\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5030019,"reputation":362,"user_id":4040544,"display_name":"Gerardo Suarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556320242,"creation_date":1556320242,"answer_id":55875886,"question_id":55875198,"body_markdown":"If you want to initialize the WorkerManager you must put this in the onCreate of your custom Application class, so this only be called once. After that you can only get the instance when you need it without worries. It is not recommended to initialize the Worker Manager. Why do you need that?","title":"IllegalStateException: WorkManager is already initialized","body":"<p>If you want to initialize the WorkerManager you must put this in the onCreate of your custom Application class, so this only be called once. After that you can only get the instance when you need it without worries. It is not recommended to initialize the Worker Manager. Why do you need that?</p>\n"},{"tags":[],"owner":{"account_id":40946,"reputation":6136,"user_id":118862,"display_name":"pfmaggi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556457130,"creation_date":1556440823,"answer_id":55888497,"question_id":55875198,"body_markdown":"WorkManager is a singleton, it needs to be configured before being used and you cannot change it&#39;s configuration without restarting the application.\r\n\r\nA second call to initialize throws an exception to indicate that it cannot use that configuration if WorkManager has already been initialized. This was a design decision taken during the initial alpha releases to avoid to fail silently ([workmanager-1.0.0-alpha11][2]).\r\n\r\n[WorkManager v2.1][3] adds an on-demand way to initialize the library, so you can move the actual initialization out from the hot-start sequence of your app. However you still have the constraints that WorkManager can only be configured once.\r\n\r\nWith the new on-demand configuration, you&#39;ve to add a `Configuration.Provider` interface to your application like here:\r\n\r\n    class MyApplication : Application(), Configuration.Provider {\r\n\r\n       override fun getWorkManagerConfiguration(): Configuration =\r\n           // provide custom configuration\r\n           Configuration.Builder()\r\n                   .setMinimumLoggingLevel(android.util.Log.INFO)\r\n                   .setWorkerFactory(MyWorkerFactory())\r\n                   .build()\r\n    }\r\n\r\nThen, when you need to use WorkManager, instead of using `WorkManager#getInstance()` (that is now deprecated), you should use the new:\r\n\r\n    WorkManager#getInstance(context)\r\n\r\nIn this case, the getInstance method, check if WorkManager it&#39;s already initialized or not. If it&#39;s not yet initialized, it retrieves the configuration using the `getWorkManagerConfiguration()` method and then it initializes WorkManager. In this way, you don&#39;t call anymore `WorkManager#initialize()` completely avoiding the problem.\r\n\r\nThe [official documentation][4] has been updated with these additional details.\r\n\r\nIf you think that WorkManager should allows to update it&#39;s configuration after it has been initialized, you should add a feature request to the [library&#39;s issue tracker][1].\r\n\r\n  [1]: https://issuetracker.google.com/issues/new?component=409906&amp;template=1094197\r\n  [2]: https://developer.android.com/jetpack/androidx/releases/archive/arch#workmanager_5\r\n  [3]: https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha01\r\n  [4]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand","title":"IllegalStateException: WorkManager is already initialized","body":"<p>WorkManager is a singleton, it needs to be configured before being used and you cannot change it's configuration without restarting the application.</p>\n\n<p>A second call to initialize throws an exception to indicate that it cannot use that configuration if WorkManager has already been initialized. This was a design decision taken during the initial alpha releases to avoid to fail silently (<a href=\"https://developer.android.com/jetpack/androidx/releases/archive/arch#workmanager_5\" rel=\"noreferrer\">workmanager-1.0.0-alpha11</a>).</p>\n\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha01\" rel=\"noreferrer\">WorkManager v2.1</a> adds an on-demand way to initialize the library, so you can move the actual initialization out from the hot-start sequence of your app. However you still have the constraints that WorkManager can only be configured once.</p>\n\n<p>With the new on-demand configuration, you've to add a <code>Configuration.Provider</code> interface to your application like here:</p>\n\n<pre><code>class MyApplication : Application(), Configuration.Provider {\n\n   override fun getWorkManagerConfiguration(): Configuration =\n       // provide custom configuration\n       Configuration.Builder()\n               .setMinimumLoggingLevel(android.util.Log.INFO)\n               .setWorkerFactory(MyWorkerFactory())\n               .build()\n}\n</code></pre>\n\n<p>Then, when you need to use WorkManager, instead of using <code>WorkManager#getInstance()</code> (that is now deprecated), you should use the new:</p>\n\n<pre><code>WorkManager#getInstance(context)\n</code></pre>\n\n<p>In this case, the getInstance method, check if WorkManager it's already initialized or not. If it's not yet initialized, it retrieves the configuration using the <code>getWorkManagerConfiguration()</code> method and then it initializes WorkManager. In this way, you don't call anymore <code>WorkManager#initialize()</code> completely avoiding the problem.</p>\n\n<p>The <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand\" rel=\"noreferrer\">official documentation</a> has been updated with these additional details.</p>\n\n<p>If you think that WorkManager should allows to update it's configuration after it has been initialized, you should add a feature request to the <a href=\"https://issuetracker.google.com/issues/new?component=409906&amp;template=1094197\" rel=\"noreferrer\">library's issue tracker</a>.</p>\n"},{"tags":[],"owner":{"account_id":8562722,"reputation":1841,"user_id":6416263,"display_name":"Andriy D."},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1630577461,"creation_date":1630577461,"answer_id":69028255,"question_id":55875198,"body_markdown":"Since [WorkManager][1] 2.6, [App Startup][2] is used internally within WorkManager. To provide a custom initializer you need to remove the androidx.startup node.\r\n\r\nIf you don&#39;t use App Startup in your app, you can remove it completely.\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n        android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n        tools:node=&quot;remove&quot;&gt;\r\n    &lt;/provider&gt;\r\n\r\nOtherwise, remove only the WorkManagerInitializer node.\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n        android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n        android:exported=&quot;false&quot;\r\n        tools:node=&quot;merge&quot;&gt;\r\n\r\n        &lt;!-- If you are using androidx.startup to initialize other components --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;androidx.work.WorkManagerInitializer&quot;\r\n            android:value=&quot;androidx.startup&quot;\r\n            tools:node=&quot;remove&quot; /&gt;\r\n    &lt;/provider&gt;\r\n\r\nWhile using a version of WorkManager older than 2.6, remove workmanager-init instead:\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n        android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n        tools:node=&quot;remove&quot; /&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand\r\n  [2]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/topic/libraries/app-startup","title":"IllegalStateException: WorkManager is already initialized","body":"<p>Since <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration#on-demand\" rel=\"noreferrer\">WorkManager</a> 2.6, <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/topic/libraries/app-startup\" rel=\"noreferrer\">App Startup</a> is used internally within WorkManager. To provide a custom initializer you need to remove the androidx.startup node.</p>\n<p>If you don't use App Startup in your app, you can remove it completely.</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.startup.InitializationProvider&quot;\n    android:authorities=&quot;${applicationId}.androidx-startup&quot;\n    tools:node=&quot;remove&quot;&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>Otherwise, remove only the WorkManagerInitializer node.</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.startup.InitializationProvider&quot;\n    android:authorities=&quot;${applicationId}.androidx-startup&quot;\n    android:exported=&quot;false&quot;\n    tools:node=&quot;merge&quot;&gt;\n\n    &lt;!-- If you are using androidx.startup to initialize other components --&gt;\n    &lt;meta-data\n        android:name=&quot;androidx.work.WorkManagerInitializer&quot;\n        android:value=&quot;androidx.startup&quot;\n        tools:node=&quot;remove&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>While using a version of WorkManager older than 2.6, remove workmanager-init instead:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\n    android:authorities=&quot;${applicationId}.workmanager-init&quot;\n    tools:node=&quot;remove&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10370798,"reputation":1085,"user_id":7648546,"display_name":"Foroogh Varmazyar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634155613,"creation_date":1634155613,"answer_id":69561721,"question_id":55875198,"body_markdown":"for solving this problem **disable default provider** from manifest\r\n\r\n    &lt;!-- disable default provider --&gt;\r\n               &lt;provider\r\n                android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n                android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n                tools:node=&quot;remove&quot; /&gt;\r\n\r\nand **replace the following code**\r\n\r\n     &lt;provider\r\n            android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n            android:authorities=&quot;${applicationId}.workmanager-init&quot;\r\n            tools:node=&quot;remove&quot; /&gt;","title":"IllegalStateException: WorkManager is already initialized","body":"<p>for solving this problem <strong>disable default provider</strong> from manifest</p>\n<pre><code>&lt;!-- disable default provider --&gt;\n           &lt;provider\n            android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\n            android:authorities=&quot;${applicationId}.workmanager-init&quot;\n            tools:node=&quot;remove&quot; /&gt;\n</code></pre>\n<p>and <strong>replace the following code</strong></p>\n<pre><code> &lt;provider\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\n        android:authorities=&quot;${applicationId}.workmanager-init&quot;\n        tools:node=&quot;remove&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24352,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":55875560,"answer_count":6,"score":31,"last_activity_date":1634155613,"creation_date":1556314594,"question_id":55875198,"body_markdown":"Having these dependencies:\r\n\r\n    dependencies {\r\n        implementation &quot;androidx.work:work-runtime:2.0.1&quot;\r\n        androidTestImplementation &quot;androidx.work:work-testing:2.0.1&quot;\r\n    }\r\n\r\nWhen running this code for the second time:\r\n\r\n    Configuration config = new Configuration.Builder().build();\r\n    WorkManager.initialize(getApplicationContext(), config);\r\n\r\n    this.workManager = WorkManager.getInstance();\r\n\r\nI get this error message:\r\n\r\n    java.lang.IllegalStateException: WorkManager is already initialized.\r\n    Did you try to initialize it manually without disabling WorkManagerInitializer?\r\n    See WorkManager#initialize(Context, Configuration) or the class level Javadoc for more information.\r\n\r\nand it also throws a segmentation fault on the native side:\r\n\r\n    A/libc: Fatal signal 11 (SIGSEGV), code 1 (SEGV_MAPERR),\r\n    fault addr 0x878 in tid 10892 (ova.workmanager),\r\n    pid 10892 (ova.workmanager)\r\n\r\nThis would be the [documentation][1] for `WorkManager#initialize(Context, Configuration)`.\r\n\r\n ---\r\n\r\nThe intent is to prevent the crash during manual initialization (in order to change the log level). How to disable the `WorkManagerInitializer`? If possible, I do not want to use the `static` keyword.\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/androidx/work/WorkManager#initialize","title":"IllegalStateException: WorkManager is already initialized","body":"<p>Having these dependencies:</p>\n\n<pre><code>dependencies {\n    implementation \"androidx.work:work-runtime:2.0.1\"\n    androidTestImplementation \"androidx.work:work-testing:2.0.1\"\n}\n</code></pre>\n\n<p>When running this code for the second time:</p>\n\n<pre><code>Configuration config = new Configuration.Builder().build();\nWorkManager.initialize(getApplicationContext(), config);\n\nthis.workManager = WorkManager.getInstance();\n</code></pre>\n\n<p>I get this error message:</p>\n\n<pre><code>java.lang.IllegalStateException: WorkManager is already initialized.\nDid you try to initialize it manually without disabling WorkManagerInitializer?\nSee WorkManager#initialize(Context, Configuration) or the class level Javadoc for more information.\n</code></pre>\n\n<p>and it also throws a segmentation fault on the native side:</p>\n\n<pre><code>A/libc: Fatal signal 11 (SIGSEGV), code 1 (SEGV_MAPERR),\nfault addr 0x878 in tid 10892 (ova.workmanager),\npid 10892 (ova.workmanager)\n</code></pre>\n\n<p>This would be the <a href=\"https://developer.android.com/reference/kotlin/androidx/work/WorkManager#initialize\" rel=\"noreferrer\">documentation</a> for <code>WorkManager#initialize(Context, Configuration)</code>.</p>\n\n<hr>\n\n<p>The intent is to prevent the crash during manual initialization (in order to change the log level). How to disable the <code>WorkManagerInitializer</code>? If possible, I do not want to use the <code>static</code> keyword.</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"score":0,"creation_date":1314794424,"post_id":7256955,"comment_id":8731443,"body_markdown":"The SSL certificate usually comes with a specific domain *name* to which it applies, and if that name doesn&#39;t match the requesting name, your client warns you that the connection is not correctly authenticated. You could check if your client lets you specify an explicit certificate override for the connection.","body":"The SSL certificate usually comes with a specific domain <i>name</i> to which it applies, and if that name doesn&#39;t match the requesting name, your client warns you that the connection is not correctly authenticated. You could check if your client lets you specify an explicit certificate override for the connection."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":4,"creation_date":1314794433,"post_id":7256955,"comment_id":8731444,"body_markdown":"The hostname in the URL must match the hostname in the certificate. You should try get it working with the hosts file. If not, you can override the certificate validation routine to also accept google.com for 74.125.236.52 (don&#39;t make it too lenient!).","body":"The hostname in the URL must match the hostname in the certificate. You should try get it working with the hosts file. If not, you can override the certificate validation routine to also accept google.com for 74.125.236.52 (don&#39;t make it too lenient!)."},{"owner":{"account_id":371821,"reputation":2107,"user_id":720564,"accept_rate":77,"display_name":"WinOrWin"},"score":0,"creation_date":1314796057,"post_id":7256955,"comment_id":8731877,"body_markdown":"@Thilo : How to override the validation routine ?","body":"@Thilo : How to override the validation routine ?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1314796723,"post_id":7256955,"comment_id":8732059,"body_markdown":"Re: validation routine: http://download.oracle.com/javase/1.4.2/docs/api/javax/net/ssl/X509TrustManager.html","body":"Re: validation routine: <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/javax/net/ssl/X509TrustManager.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.4.2/docs/api/javax/net/ssl/&hellip;</a>"},{"owner":{"account_id":37969,"reputation":2730,"user_id":108758,"accept_rate":100,"display_name":"albogdano"},"score":0,"creation_date":1426681597,"post_id":7256955,"comment_id":46470423,"body_markdown":"It gets worse with Apache HttpClient 4.4! It uses PublicSuffix.org to verify hostnames and rejects most requests to popular domains like `*.googleapis.com`.","body":"It gets worse with Apache HttpClient 4.4! It uses PublicSuffix.org to verify hostnames and rejects most requests to popular domains like <code>*.googleapis.com</code>."}],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1407371407,"creation_date":1314794715,"answer_id":7257060,"question_id":7256955,"body_markdown":"The certificate verification process will always verify the DNS name of the certificate presented by the server, with the hostname of the server in the URL used by the client.\r\n\r\nThe following code\r\n\r\n    HttpPost post = new HttpPost(&quot;https://74.125.236.52/accounts/ClientLogin&quot;);\r\n\r\nwill result in the certificate verification process verifying whether the common name of the certificate issued by the server, i.e. `www.google.com` matches the hostname i.e. `74.125.236.52`. Obviously, this is bound to result in failure (you could have verified this by browsing to the URL `https://74.125.236.52/accounts/ClientLogin` with a browser, and seen the resulting error yourself).\r\n\r\nSupposedly, for the sake of security, you are hesitant to write your own `TrustManager` (and you musn&#39;t unless you understand how to write a secure one), you ought to look at establishing DNS records in your datacenter to ensure that all lookups to `www.google.com` will resolve to `74.125.236.52`; this ought to be done either in your local DNS servers or in the `hosts` file of your OS; you might need to add entries to other domains as well. Needless to say, you will need to ensure that this is consistent with the records returned by your ISP.","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>The certificate verification process will always verify the DNS name of the certificate presented by the server, with the hostname of the server in the URL used by the client.</p>\n\n<p>The following code</p>\n\n<pre><code>HttpPost post = new HttpPost(\"https://74.125.236.52/accounts/ClientLogin\");\n</code></pre>\n\n<p>will result in the certificate verification process verifying whether the common name of the certificate issued by the server, i.e. <code>www.google.com</code> matches the hostname i.e. <code>74.125.236.52</code>. Obviously, this is bound to result in failure (you could have verified this by browsing to the URL <code>https://74.125.236.52/accounts/ClientLogin</code> with a browser, and seen the resulting error yourself).</p>\n\n<p>Supposedly, for the sake of security, you are hesitant to write your own <code>TrustManager</code> (and you musn't unless you understand how to write a secure one), you ought to look at establishing DNS records in your datacenter to ensure that all lookups to <code>www.google.com</code> will resolve to <code>74.125.236.52</code>; this ought to be done either in your local DNS servers or in the <code>hosts</code> file of your OS; you might need to add entries to other domains as well. Needless to say, you will need to ensure that this is consistent with the records returned by your ISP.</p>\n"},{"tags":[],"owner":{"account_id":371821,"reputation":2107,"user_id":720564,"accept_rate":77,"display_name":"WinOrWin"},"down_vote_count":13,"up_vote_count":18,"is_accepted":true,"score":5,"last_activity_date":1407371506,"creation_date":1314858626,"answer_id":7266768,"question_id":7256955,"body_markdown":"Thanks Vineet Reynolds. The link you provided held a lot of user comments - one of which I tried in desperation and it helped. I added this method :\r\n\r\n    // Do not do this in production!!!\r\n    HttpsURLConnection.setDefaultHostnameVerifier( new HostnameVerifier(){\r\n        public boolean verify(String string,SSLSession ssls) {\r\n            return true;\r\n        }\r\n    });\r\n\r\nThis seems fine for me now, though I know this solution is temporary. I am working with the network people to identify why my hosts file is being ignored.\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>Thanks Vineet Reynolds. The link you provided held a lot of user comments - one of which I tried in desperation and it helped. I added this method :</p>\n\n<pre><code>// Do not do this in production!!!\nHttpsURLConnection.setDefaultHostnameVerifier( new HostnameVerifier(){\n    public boolean verify(String string,SSLSession ssls) {\n        return true;\n    }\n});\n</code></pre>\n\n<p>This seems fine for me now, though I know this solution is temporary. I am working with the network people to identify why my hosts file is being ignored.</p>\n"},{"tags":[],"owner":{"account_id":143462,"reputation":31666,"user_id":419863,"accept_rate":92,"display_name":"H6_"},"down_vote_count":6,"up_vote_count":34,"is_accepted":false,"score":28,"last_activity_date":1407371907,"creation_date":1322687471,"answer_id":8332983,"question_id":7256955,"body_markdown":"You can also try to set a HostnameVerifier as described [here][1]. This worked for me to avoid this error. \r\n\r\n    // Do not do this in production!!!\r\n    HostnameVerifier hostnameVerifier = org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\r\n\r\n    DefaultHttpClient client = new DefaultHttpClient();\r\n\r\n    SchemeRegistry registry = new SchemeRegistry();\r\n    SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\r\n    socketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\r\n    registry.register(new Scheme(&quot;https&quot;, socketFactory, 443));\r\n    SingleClientConnManager mgr = new SingleClientConnManager(client.getParams(), registry);\r\n    DefaultHttpClient httpClient = new DefaultHttpClient(mgr, client.getParams());\r\n\r\n    // Set verifier     \r\n    HttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\r\n\r\n    // Example send http request\r\n    final String url = &quot;https://encrypted.google.com/&quot;;  \r\n    HttpPost httpPost = new HttpPost(url);\r\n    HttpResponse response = httpClient.execute(httpPost);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2012497/accepting-a-certificate-for-https-on-android/3904473#3904473","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>You can also try to set a HostnameVerifier as described <a href=\"https://stackoverflow.com/questions/2012497/accepting-a-certificate-for-https-on-android/3904473#3904473\">here</a>. This worked for me to avoid this error. </p>\n\n<pre><code>// Do not do this in production!!!\nHostnameVerifier hostnameVerifier = org.apache.http.conn.ssl.SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER;\n\nDefaultHttpClient client = new DefaultHttpClient();\n\nSchemeRegistry registry = new SchemeRegistry();\nSSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\nsocketFactory.setHostnameVerifier((X509HostnameVerifier) hostnameVerifier);\nregistry.register(new Scheme(\"https\", socketFactory, 443));\nSingleClientConnManager mgr = new SingleClientConnManager(client.getParams(), registry);\nDefaultHttpClient httpClient = new DefaultHttpClient(mgr, client.getParams());\n\n// Set verifier     \nHttpsURLConnection.setDefaultHostnameVerifier(hostnameVerifier);\n\n// Example send http request\nfinal String url = \"https://encrypted.google.com/\";  \nHttpPost httpPost = new HttpPost(url);\nHttpResponse response = httpClient.execute(httpPost);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3841147,"reputation":797,"user_id":3184171,"display_name":"oraclesoon"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1404288586,"creation_date":1400644365,"answer_id":23773661,"question_id":7256955,"body_markdown":"The concern is we should not use ALLOW_ALL_HOSTNAME_VERIFIER.\r\n\r\nHow about I implement my own hostname verifier?\r\n\r\n    class MyHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier\r\n    {\r\n        @Override\r\n        public boolean verify(String host, SSLSession session) {\r\n            String sslHost = session.getPeerHost();\r\n            System.out.println(&quot;Host=&quot; + host);\r\n            System.out.println(&quot;SSL Host=&quot; + sslHost);    \r\n            if (host.equals(sslHost)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void verify(String host, SSLSocket ssl) throws IOException {\r\n            String sslHost = ssl.getInetAddress().getHostName();\r\n            System.out.println(&quot;Host=&quot; + host);\r\n            System.out.println(&quot;SSL Host=&quot; + sslHost);    \r\n            if (host.equals(sslHost)) {\r\n                return;\r\n            } else {\r\n                throw new IOException(&quot;hostname in certificate didn&#39;t match: &quot; + host + &quot; != &quot; + sslHost);\r\n            }\r\n        }\r\n        \r\n        @Override\r\n        public void verify(String host, X509Certificate cert) throws SSLException {\r\n            throw new SSLException(&quot;Hostname verification 1 not implemented&quot;);\r\n        }\r\n        \r\n        @Override\r\n        public void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\r\n            throw new SSLException(&quot;Hostname verification 2 not implemented&quot;);\r\n        }\r\n    }\r\n\r\nLet&#39;s test against https://www.rideforrainbows.org/ which is hosted on a shared server.\r\n\r\n    public static void main (String[] args) throws Exception {\r\n        //org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\r\n        //sf.setHostnameVerifier(new MyHostnameVerifier());\r\n        //org.apache.http.conn.scheme.Scheme sch = new Scheme(&quot;https&quot;, 443, sf);\r\n            \r\n        org.apache.http.client.HttpClient client = new DefaultHttpClient();\r\n        //client.getConnectionManager().getSchemeRegistry().register(sch);\r\n        org.apache.http.client.methods.HttpPost post = new HttpPost(&quot;https://www.rideforrainbows.org/&quot;);\r\n        org.apache.http.HttpResponse response = client.execute(post);\r\n        java.io.InputStream is = response.getEntity().getContent();\r\n        java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\r\n        String line;\r\n        while ((line = rd.readLine()) != null) { \r\n            System.out.println(line);\r\n        }\r\n    }\r\n\r\nSSLException:\r\n&gt; Exception in thread &quot;main&quot; javax.net.ssl.SSLException: hostname in certificate didn&#39;t match: www.rideforrainbows.org != stac.rt.sg OR stac.rt.sg OR www.stac.rt.sg&lt;br&gt;\r\n  at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:231)&lt;br&gt;\r\n...\r\n\r\nDo with MyHostnameVerifier:\r\n\r\n    public static void main (String[] args) throws Exception {\r\n        org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\r\n        sf.setHostnameVerifier(new MyHostnameVerifier());\r\n        org.apache.http.conn.scheme.Scheme sch = new Scheme(&quot;https&quot;, 443, sf);\r\n            \r\n        org.apache.http.client.HttpClient client = new DefaultHttpClient();\r\n        client.getConnectionManager().getSchemeRegistry().register(sch);\r\n        org.apache.http.client.methods.HttpPost post = new HttpPost(&quot;https://www.rideforrainbows.org/&quot;);\r\n        org.apache.http.HttpResponse response = client.execute(post);\r\n        java.io.InputStream is = response.getEntity().getContent();\r\n        java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\r\n        String line;\r\n        while ((line = rd.readLine()) != null) { \r\n            System.out.println(line);\r\n        }\r\n    }\r\n\r\nShows:\r\n&gt; Host=www.rideforrainbows.org&lt;br&gt;\r\nSSL Host=www.rideforrainbows.org\r\n\r\nAt least I have the logic to compare (Host == SSL Host) and return true.\r\n\r\nThe above source code is working for httpclient-4.2.3.jar and httpclient-4.3.3.jar.\r\n\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>The concern is we should not use ALLOW_ALL_HOSTNAME_VERIFIER.</p>\n\n<p>How about I implement my own hostname verifier?</p>\n\n<pre><code>class MyHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier\n{\n    @Override\n    public boolean verify(String host, SSLSession session) {\n        String sslHost = session.getPeerHost();\n        System.out.println(\"Host=\" + host);\n        System.out.println(\"SSL Host=\" + sslHost);    \n        if (host.equals(sslHost)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    @Override\n    public void verify(String host, SSLSocket ssl) throws IOException {\n        String sslHost = ssl.getInetAddress().getHostName();\n        System.out.println(\"Host=\" + host);\n        System.out.println(\"SSL Host=\" + sslHost);    \n        if (host.equals(sslHost)) {\n            return;\n        } else {\n            throw new IOException(\"hostname in certificate didn't match: \" + host + \" != \" + sslHost);\n        }\n    }\n\n    @Override\n    public void verify(String host, X509Certificate cert) throws SSLException {\n        throw new SSLException(\"Hostname verification 1 not implemented\");\n    }\n\n    @Override\n    public void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\n        throw new SSLException(\"Hostname verification 2 not implemented\");\n    }\n}\n</code></pre>\n\n<p>Let's test against <a href=\"https://www.rideforrainbows.org/\" rel=\"nofollow\">https://www.rideforrainbows.org/</a> which is hosted on a shared server.</p>\n\n<pre><code>public static void main (String[] args) throws Exception {\n    //org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\n    //sf.setHostnameVerifier(new MyHostnameVerifier());\n    //org.apache.http.conn.scheme.Scheme sch = new Scheme(\"https\", 443, sf);\n\n    org.apache.http.client.HttpClient client = new DefaultHttpClient();\n    //client.getConnectionManager().getSchemeRegistry().register(sch);\n    org.apache.http.client.methods.HttpPost post = new HttpPost(\"https://www.rideforrainbows.org/\");\n    org.apache.http.HttpResponse response = client.execute(post);\n    java.io.InputStream is = response.getEntity().getContent();\n    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\n    String line;\n    while ((line = rd.readLine()) != null) { \n        System.out.println(line);\n    }\n}\n</code></pre>\n\n<p>SSLException:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" javax.net.ssl.SSLException: hostname in certificate didn't match: www.rideforrainbows.org != stac.rt.sg OR stac.rt.sg OR www.stac.rt.sg<br>\n    at org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:231)<br>\n  ...</p>\n</blockquote>\n\n<p>Do with MyHostnameVerifier:</p>\n\n<pre><code>public static void main (String[] args) throws Exception {\n    org.apache.http.conn.ssl.SSLSocketFactory sf = org.apache.http.conn.ssl.SSLSocketFactory.getSocketFactory();\n    sf.setHostnameVerifier(new MyHostnameVerifier());\n    org.apache.http.conn.scheme.Scheme sch = new Scheme(\"https\", 443, sf);\n\n    org.apache.http.client.HttpClient client = new DefaultHttpClient();\n    client.getConnectionManager().getSchemeRegistry().register(sch);\n    org.apache.http.client.methods.HttpPost post = new HttpPost(\"https://www.rideforrainbows.org/\");\n    org.apache.http.HttpResponse response = client.execute(post);\n    java.io.InputStream is = response.getEntity().getContent();\n    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\n    String line;\n    while ((line = rd.readLine()) != null) { \n        System.out.println(line);\n    }\n}\n</code></pre>\n\n<p>Shows:</p>\n\n<blockquote>\n  <p>Host=www.rideforrainbows.org<br>\n  SSL Host=www.rideforrainbows.org</p>\n</blockquote>\n\n<p>At least I have the logic to compare (Host == SSL Host) and return true.</p>\n\n<p>The above source code is working for httpclient-4.2.3.jar and httpclient-4.3.3.jar.</p>\n"},{"tags":[],"owner":{"account_id":3841147,"reputation":797,"user_id":3184171,"display_name":"oraclesoon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404288873,"creation_date":1404288873,"answer_id":24526126,"question_id":7256955,"body_markdown":"In httpclient-4.3.3.jar, there is another HttpClient to use:\r\n\r\n\r\n\tpublic static void main (String[] args) throws Exception {\r\n\t    // org.apache.http.client.HttpClient client = new DefaultHttpClient();\r\n\t    org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\r\n\t    System.out.println(&quot;HttpClient = &quot; + client.getClass().toString());\r\n\t    org.apache.http.client.methods.HttpPost post = new HttpPost(&quot;https://www.rideforrainbows.org/&quot;);\r\n\t    org.apache.http.HttpResponse response = client.execute(post);\r\n\t    java.io.InputStream is = response.getEntity().getContent();\r\n\t    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\r\n\t    String line;\r\n\t    while ((line = rd.readLine()) != null) { \r\n\t        System.out.println(line);\r\n\t    }\r\n\t}\r\n\r\n\r\nThis **HttpClientBuilder.create().build()** will return **org.apache.http.impl.client.InternalHttpClient**. It can handle the this **hostname in certificate didn&#39;t match** issue.","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>In httpclient-4.3.3.jar, there is another HttpClient to use:</p>\n\n<pre><code>public static void main (String[] args) throws Exception {\n    // org.apache.http.client.HttpClient client = new DefaultHttpClient();\n    org.apache.http.client.HttpClient client = HttpClientBuilder.create().build();\n    System.out.println(\"HttpClient = \" + client.getClass().toString());\n    org.apache.http.client.methods.HttpPost post = new HttpPost(\"https://www.rideforrainbows.org/\");\n    org.apache.http.HttpResponse response = client.execute(post);\n    java.io.InputStream is = response.getEntity().getContent();\n    java.io.BufferedReader rd = new java.io.BufferedReader(new java.io.InputStreamReader(is));\n    String line;\n    while ((line = rd.readLine()) != null) { \n        System.out.println(line);\n    }\n}\n</code></pre>\n\n<p>This <strong>HttpClientBuilder.create().build()</strong> will return <strong>org.apache.http.impl.client.InternalHttpClient</strong>. It can handle the this <strong>hostname in certificate didn't match</strong> issue.</p>\n"},{"tags":[],"owner":{"account_id":5110403,"reputation":459,"user_id":4097186,"display_name":"Rishitesh Mishra"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1415972767,"creation_date":1415972767,"answer_id":26931424,"question_id":7256955,"body_markdown":"A cleaner approach ( only for test environment) in httpcliet4.3.3 is as follows.\r\n\r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext,SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n\r\n    CloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>A cleaner approach ( only for test environment) in httpcliet4.3.3 is as follows.</p>\n\n<pre><code>SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(sslContext,SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n\nCloseableHttpClient httpclient = HttpClients.custom().setSSLSocketFactory(sslsf).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2771211,"reputation":211,"user_id":2385781,"display_name":"granko87"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1433495353,"creation_date":1433495353,"answer_id":30662610,"question_id":7256955,"body_markdown":"I had similar problem. I was using Android&#39;s DefaultHttpClient. I have read that HttpsURLConnection can handle this kind of exception. So I created custom HostnameVerifier which uses the verifier from HttpsURLConnection. I also wrapped the implementation to custom HttpClient.\r\n\r\n    public class CustomHttpClient extends DefaultHttpClient {\r\n\r\n    public CustomHttpClient() {\r\n        super();\r\n        SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\r\n        socketFactory.setHostnameVerifier(new CustomHostnameVerifier());\r\n        Scheme scheme = (new Scheme(&quot;https&quot;, socketFactory, 443));\r\n        getConnectionManager().getSchemeRegistry().register(scheme);\r\n    }\r\n\r\nHere is the CustomHostnameVerifier class:\r\n\r\n    public class CustomHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier {\r\n\r\n    @Override\r\n    public boolean verify(String host, SSLSession session) {\r\n        HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\r\n        return hv.verify(host, session);\r\n    }\r\n\r\n    @Override\r\n    public void verify(String host, SSLSocket ssl) throws IOException {\r\n    }\r\n\r\n    @Override\r\n    public void verify(String host, X509Certificate cert) throws SSLException {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\r\n        \r\n    }\r\n}\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>I had similar problem. I was using Android's DefaultHttpClient. I have read that HttpsURLConnection can handle this kind of exception. So I created custom HostnameVerifier which uses the verifier from HttpsURLConnection. I also wrapped the implementation to custom HttpClient.</p>\n\n<pre><code>public class CustomHttpClient extends DefaultHttpClient {\n\npublic CustomHttpClient() {\n    super();\n    SSLSocketFactory socketFactory = SSLSocketFactory.getSocketFactory();\n    socketFactory.setHostnameVerifier(new CustomHostnameVerifier());\n    Scheme scheme = (new Scheme(\"https\", socketFactory, 443));\n    getConnectionManager().getSchemeRegistry().register(scheme);\n}\n</code></pre>\n\n<p>Here is the CustomHostnameVerifier class:</p>\n\n<pre><code>public class CustomHostnameVerifier implements org.apache.http.conn.ssl.X509HostnameVerifier {\n\n@Override\npublic boolean verify(String host, SSLSession session) {\n    HostnameVerifier hv = HttpsURLConnection.getDefaultHostnameVerifier();\n    return hv.verify(host, session);\n}\n\n@Override\npublic void verify(String host, SSLSocket ssl) throws IOException {\n}\n\n@Override\npublic void verify(String host, X509Certificate cert) throws SSLException {\n\n}\n\n@Override\npublic void verify(String host, String[] cns, String[] subjectAlts) throws SSLException {\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4267077,"reputation":1,"user_id":8359740,"display_name":"ishan shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593703819,"creation_date":1593703819,"answer_id":62699904,"question_id":7256955,"body_markdown":"Updating the java version from 1.8.0_40 to 1.8.0_181 resolved the issue.","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>Updating the java version from 1.8.0_40 to 1.8.0_181 resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":10862190,"reputation":1,"user_id":7986737,"display_name":"Alexander Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634155592,"creation_date":1634155263,"answer_id":69561652,"question_id":7256955,"body_markdown":"\t\t\t\tSSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\r\n\t\t\t\t\t\tSSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(),\r\n\t\t\t\t\t\tSSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n\r\n\t\t\t\tCloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslConnectionSocketFactory).build();\r\n","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<pre><code>            SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(\n                    SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(),\n                    SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n\n            CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslConnectionSocketFactory).build();\n</code></pre>\n"}],"owner":{"account_id":371821,"reputation":2107,"user_id":720564,"accept_rate":77,"display_name":"WinOrWin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171536,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":7266768,"answer_count":9,"score":41,"last_activity_date":1634155592,"creation_date":1314794041,"question_id":7256955,"body_markdown":"I have been using the following code to connect to one of google&#39;s service. This code worked fine on my local machine :\r\n\r\n    HttpClient client=new DefaultHttpClient();\r\n    HttpPost post = new HttpPost(&quot;https://www.google.com/accounts/ClientLogin&quot;);\r\n    post.setEntity(new UrlEncodedFormEntity(myData));\r\n    HttpResponse response = client.execute(post);\r\n\r\nI put this code in a production environment, which had blocked Google.com. On request, they allowed communication with Google server by allowing me to accessing an IP : 74.125.236.52 - which is one of Google&#39;s IPs. I edited my hosts file to add this entry too.\r\n\r\nStill I could not access the URL, which I wonder why. So I replaced the above code with :\r\n\r\n    HttpPost post = new HttpPost(&quot;https://74.125.236.52/accounts/ClientLogin&quot;);\r\n\r\nNow I get an error like this :\r\n\r\n&gt; javax.net.ssl.SSLException: hostname in certificate didn&#39;t match:\r\n&gt; &amp;lt;74.125.236.52&amp;gt; != &amp;lt;www.google.com&amp;gt;\r\n\r\nI guess this is because Google has multiple IPs. I cant ask the network admin to allow me access to all those IPs - I may not even get this entire list. \r\n\r\nWhat should I do now ? Is there a workaround at Java level ? Or is it totally in hands of the network guy ?","title":"Java SSLException: hostname in certificate didn&#39;t match","body":"<p>I have been using the following code to connect to one of google's service. This code worked fine on my local machine :</p>\n\n<pre><code>HttpClient client=new DefaultHttpClient();\nHttpPost post = new HttpPost(\"https://www.google.com/accounts/ClientLogin\");\npost.setEntity(new UrlEncodedFormEntity(myData));\nHttpResponse response = client.execute(post);\n</code></pre>\n\n<p>I put this code in a production environment, which had blocked Google.com. On request, they allowed communication with Google server by allowing me to accessing an IP : 74.125.236.52 - which is one of Google's IPs. I edited my hosts file to add this entry too.</p>\n\n<p>Still I could not access the URL, which I wonder why. So I replaced the above code with :</p>\n\n<pre><code>HttpPost post = new HttpPost(\"https://74.125.236.52/accounts/ClientLogin\");\n</code></pre>\n\n<p>Now I get an error like this :</p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLException: hostname in certificate didn't match:\n  &lt;74.125.236.52&gt; != &lt;www.google.com&gt;</p>\n</blockquote>\n\n<p>I guess this is because Google has multiple IPs. I cant ask the network admin to allow me access to all those IPs - I may not even get this entire list. </p>\n\n<p>What should I do now ? Is there a workaround at Java level ? Or is it totally in hands of the network guy ?</p>\n"},{"tags":["java","hashmap","frequency"],"comments":[{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1634142362,"post_id":69559012,"comment_id":122948532,"body_markdown":"It sounds like you should really have a `Map&lt;Disease, Integer&gt;` rather than a `Map&lt;Diagnosis, Integer&gt;`. After all, you&#39;re trying to count the number of *diseases* a day...","body":"It sounds like you should really have a <code>Map&lt;Disease, Integer&gt;</code> rather than a <code>Map&lt;Diagnosis, Integer&gt;</code>. After all, you&#39;re trying to count the number of <i>diseases</i> a day..."},{"owner":{"account_id":23023498,"reputation":33,"user_id":17144164,"display_name":"StephenHawkingi"},"score":0,"creation_date":1634142591,"post_id":69559012,"comment_id":122948628,"body_markdown":"@JonSkeet I actually want to count how many times a certain disease is registered each day, so not just the total. Sorry if I wasn&#39;t clear in my description.","body":"@JonSkeet I actually want to count how many times a certain disease is registered each day, so not just the total. Sorry if I wasn&#39;t clear in my description."},{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1634145858,"post_id":69559012,"comment_id":122949771,"body_markdown":"It would really help if you&#39;d include the *expected* results - at the moment I&#39;m finding it very hard to understand what you&#39;re trying to achieve.","body":"It would really help if you&#39;d include the <i>expected</i> results - at the moment I&#39;m finding it very hard to understand what you&#39;re trying to achieve."},{"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"score":0,"creation_date":1634146476,"post_id":69559012,"comment_id":122949980,"body_markdown":"@JonSkeet My understanding is that OP wants grouping to disease reported per day. I based my answer on this. So, Day 0 - Cholera - (count) etc. OP should correct my understanding.","body":"@JonSkeet My understanding is that OP wants grouping to disease reported per day. I based my answer on this. So, Day 0 - Cholera - (count) etc. OP should correct my understanding."},{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1634146895,"post_id":69559012,"comment_id":122950129,"body_markdown":"@sushant: The way to make this clear is for there to be a clear example in the question though. And if there&#39;s more than one disease, it would really help if the example showed that too... currently it&#39;s *only* showing Cholera. I can&#39;t tell how the OP expects to represent (in the input data *or* output data) &quot;On day 0, we diagnosed 3 cases of cholera and 2 of covid&quot;.","body":"@sushant: The way to make this clear is for there to be a clear example in the question though. And if there&#39;s more than one disease, it would really help if the example showed that too... currently it&#39;s <i>only</i> showing Cholera. I can&#39;t tell how the OP expects to represent (in the input data <i>or</i> output data) &quot;On day 0, we diagnosed 3 cases of cholera and 2 of covid&quot;."},{"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"score":1,"creation_date":1634146995,"post_id":69559012,"comment_id":122950169,"body_markdown":"@JonSkeet I completely agree. I see that the expected output has {dengue0}=1. So based on this, my guess is that OP has a typo in the code, or has missed adding `new Diagnosis(dengue, 0)` to the `diagnoses` list.","body":"@JonSkeet I completely agree. I see that the expected output has {dengue0}=1. So based on this, my guess is that OP has a typo in the code, or has missed adding <code>new Diagnosis(dengue, 0)</code> to the <code>diagnoses</code> list."},{"owner":{"account_id":23023498,"reputation":33,"user_id":17144164,"display_name":"StephenHawkingi"},"score":0,"creation_date":1634148505,"post_id":69559012,"comment_id":122950665,"body_markdown":"@sushant Sorry I missed to add new Diagnosis(dengue,0). So basically my original problem is to write a function public Collection&lt;String&gt; findEpidemics(List&lt;Diagnosis&gt; diagnoses, int k, int n) that determines if a disease is a epidemic, and returns a list of the diseases that are epidemic. We say a disease is a epidemic if it occurs more than n times during k consecutive days. That&#39;s why I was trying to write a method that finds the frequencies for each day, and got stuck with my hashmap.","body":"@sushant Sorry I missed to add new Diagnosis(dengue,0). So basically my original problem is to write a function public Collection&lt;String&gt; findEpidemics(List&lt;Diagnosis&gt; diagnoses, int k, int n) that determines if a disease is a epidemic, and returns a list of the diseases that are epidemic. We say a disease is a epidemic if it occurs more than n times during k consecutive days. That&#39;s why I was trying to write a method that finds the frequencies for each day, and got stuck with my hashmap."}],"answers":[{"tags":[],"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634146573,"creation_date":1634145003,"answer_id":69559625,"question_id":69559012,"body_markdown":"You can add a wrapper class to make life easier. In this code I have a wrapper class `DiagnosisMetric` that wraps the `Diagnosis` class.\r\nFollowing is the new implementation of the `printFreq` function.\r\n\r\n        public static void printFreq(List&lt;Diagnosis&gt; diagnoses) {\r\n            Map&lt;DiagnosisMetric, Long&gt; collect = diagnoses.stream().\r\n                 collect(Collectors.groupingBy(DiagnosisMetric::new, counting()));\r\n            System.out.println(collect);\r\n        }\r\n\r\nAnd, following is the wrapper class. Notice that I have implemented `equals` and `hashCode` as per the requirement.\r\n\r\n    \r\n        public static class DiagnosisMetric {\r\n          private Diagnosis diagnosis;\r\n\r\n            public DiagnosisMetric(Diagnosis s) {\r\n                this.diagnosis = s;\r\n            }\r\n\r\n            public Diagnosis getDiagnosis() {\r\n                return diagnosis;\r\n            }\r\n\r\n            @Override\r\n            public boolean equals(Object o) {\r\n                if (this == o) return true;\r\n                if (o == null || getClass() != o.getClass()) return false;\r\n                DiagnosisMetric that = (DiagnosisMetric) o;\r\n                return diagnosis.getDisease().getName().\r\n                  equals(that.getDiagnosis().getDisease().getName())\r\n                        &amp;&amp; diagnosis.getDay() == that.getDiagnosis().getDay();\r\n            }\r\n\r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(diagnosis.getDay(), \r\n                       diagnosis.getDisease().getName());\r\n            }\r\n\r\n            @Override\r\n            public String toString() {\r\n                String disease = diagnosis.getDisease().getName();\r\n                int day = diagnosis.getDay();\r\n                return &quot;{&quot; + disease + &quot;, &quot; + day + &quot;}&quot;;\r\n            }\r\n        }\r\n\r\n","title":"Count occurrence HashMap","body":"<p>You can add a wrapper class to make life easier. In this code I have a wrapper class <code>DiagnosisMetric</code> that wraps the <code>Diagnosis</code> class.\nFollowing is the new implementation of the <code>printFreq</code> function.</p>\n<pre><code>    public static void printFreq(List&lt;Diagnosis&gt; diagnoses) {\n        Map&lt;DiagnosisMetric, Long&gt; collect = diagnoses.stream().\n             collect(Collectors.groupingBy(DiagnosisMetric::new, counting()));\n        System.out.println(collect);\n    }\n</code></pre>\n<p>And, following is the wrapper class. Notice that I have implemented <code>equals</code> and <code>hashCode</code> as per the requirement.</p>\n<pre><code>    public static class DiagnosisMetric {\n      private Diagnosis diagnosis;\n\n        public DiagnosisMetric(Diagnosis s) {\n            this.diagnosis = s;\n        }\n\n        public Diagnosis getDiagnosis() {\n            return diagnosis;\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            DiagnosisMetric that = (DiagnosisMetric) o;\n            return diagnosis.getDisease().getName().\n              equals(that.getDiagnosis().getDisease().getName())\n                    &amp;&amp; diagnosis.getDay() == that.getDiagnosis().getDay();\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(diagnosis.getDay(), \n                   diagnosis.getDisease().getName());\n        }\n\n        @Override\n        public String toString() {\n            String disease = diagnosis.getDisease().getName();\n            int day = diagnosis.getDay();\n            return &quot;{&quot; + disease + &quot;, &quot; + day + &quot;}&quot;;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634150107,"creation_date":1634149315,"answer_id":69560493,"question_id":69559012,"body_markdown":"An ad-hoc solution which does not require storing the intermediate map with `Diagnosis` key (which cannot be used as a map key without properly implemented `hashCode` and `equals` as mentioned earlier) is like this:\r\n* use a raw list containing `diagnosis.day` and `disease.name` as a key wrapper in `Collectors.groupingBy`\r\n* calculate the frequencies (e.g. using `Collectors.summingInt`)\r\n* use `Supplier&lt;Map&gt;` to provide a tree map sorted by the list contents\r\n* print the stats\r\n\r\n```java\r\ndiagnoses.stream()\r\n    .collect(Collectors.groupingBy(\r\n        d -&gt; Arrays.asList(d.getDay(), d.getDisease().getName()),\r\n        () -&gt; new TreeMap&lt;List&lt;?&gt;, Integer&gt; (Comparator\r\n            .comparingInt((List k) -&gt; (Integer) k.get(0))\r\n            .thenComparing((List k) -&gt; (String) k.get(1))\r\n        ),\r\n        Collectors.summingInt(d -&gt; 1)\r\n    )) // Map&lt;List, Integer&gt; created here\r\n    .forEach((k, v) -&gt; System.out.println(k + &quot; = &quot; + v));\r\n```\r\nOutput:\r\n```\r\n[0, cholera] = 2\r\n[0, dengue] = 1\r\n[1, cholera] = 2\r\n[2, cholera] = 2\r\n```\r\n","title":"Count occurrence HashMap","body":"<p>An ad-hoc solution which does not require storing the intermediate map with <code>Diagnosis</code> key (which cannot be used as a map key without properly implemented <code>hashCode</code> and <code>equals</code> as mentioned earlier) is like this:</p>\n<ul>\n<li>use a raw list containing <code>diagnosis.day</code> and <code>disease.name</code> as a key wrapper in <code>Collectors.groupingBy</code></li>\n<li>calculate the frequencies (e.g. using <code>Collectors.summingInt</code>)</li>\n<li>use <code>Supplier&lt;Map&gt;</code> to provide a tree map sorted by the list contents</li>\n<li>print the stats</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>diagnoses.stream()\n    .collect(Collectors.groupingBy(\n        d -&gt; Arrays.asList(d.getDay(), d.getDisease().getName()),\n        () -&gt; new TreeMap&lt;List&lt;?&gt;, Integer&gt; (Comparator\n            .comparingInt((List k) -&gt; (Integer) k.get(0))\n            .thenComparing((List k) -&gt; (String) k.get(1))\n        ),\n        Collectors.summingInt(d -&gt; 1)\n    )) // Map&lt;List, Integer&gt; created here\n    .forEach((k, v) -&gt; System.out.println(k + &quot; = &quot; + v));\n</code></pre>\n<p>Output:</p>\n<pre><code>[0, cholera] = 2\n[0, dengue] = 1\n[1, cholera] = 2\n[2, cholera] = 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20371271,"reputation":11,"user_id":14943428,"display_name":"Chhavi Jajoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634155342,"creation_date":1634154382,"answer_id":69561504,"question_id":69559012,"body_markdown":"To resolve this what we need to do is to override the `hashCode` and `equals` method for the `Diagnosis` class, like this:\r\n    \r\n```\r\n@Override\r\npublic boolean equals(Object obj) {\r\n    Diagnosis diagnosis = (Diagnosis) obj;\r\n    return this.day == diagnosis.day &amp;&amp; this.disease == diagnosis.disease;\r\n}\r\n    \r\n@Override\r\npublic int hashCode() {\r\n    char[] charArr = this.disease.toString().toCharArray();\r\n    int sum = 0;\r\n    for (int i = 0; i &lt; charArr.length; i++) {\r\n        sum += charArr[i];\r\n    }\r\n    return sum;\r\n}\r\n```\r\n    \r\nAlso you need to override `equals` method of the `Disease` class, here is code for that:\r\n    \r\n```\r\n@Override\r\npublic boolean equals(Object obj) {\r\n    Disease disease = (Disease) obj;\r\n    return this.disease.equalsIgnoreCase(disease.toString());\r\n}\r\n```","title":"Count occurrence HashMap","body":"<p>To resolve this what we need to do is to override the <code>hashCode</code> and <code>equals</code> method for the <code>Diagnosis</code> class, like this:</p>\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    Diagnosis diagnosis = (Diagnosis) obj;\n    return this.day == diagnosis.day &amp;&amp; this.disease == diagnosis.disease;\n}\n    \n@Override\npublic int hashCode() {\n    char[] charArr = this.disease.toString().toCharArray();\n    int sum = 0;\n    for (int i = 0; i &lt; charArr.length; i++) {\n        sum += charArr[i];\n    }\n    return sum;\n}\n</code></pre>\n<p>Also you need to override <code>equals</code> method of the <code>Disease</code> class, here is code for that:</p>\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    Disease disease = (Disease) obj;\n    return this.disease.equalsIgnoreCase(disease.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":23023498,"reputation":33,"user_id":17144164,"display_name":"StephenHawkingi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634155342,"creation_date":1634142242,"question_id":69559012,"body_markdown":"I&#39;m trying to count the number of diseases a day by using hashmap:\r\n\r\n    public static main(String[] args){\r\n     Disease cholera=new Disease(&quot;cholera&quot;);\r\n     Disease dengue=new Disease(&quot;dengue&quot;);\r\n\r\n     List&lt;Diagnosis&gt; diagnoses = Arrays.asList(\r\n                new Diagnosis(cholera, 0), // registered cholera on day 0\r\n                new Diagnosis(cholera, 0),\r\n                new Diagnosis(cholera, 1),\r\n                new Diagnosis(cholera, 1),\r\n                new Diagnosis(cholera, 2),\r\n                new Diagnosis(cholera, 2)\r\n        );\r\n       \r\n       printFreq(diagnosis);\r\n\r\n    }\r\n      \r\n    public static void printFreq(List&lt;Diagnosis&gt; diagnoses) {\r\n        Map&lt;Diagnosis, Integer&gt; hm = new HashMap();\r\n        for (Diagnosis x : diagnoses) {\r\n\r\n            if (!hm.containsKey(x)) {\r\n                hm.put(x, 1);\r\n            } else {\r\n                hm.put(x, hm.get(x) + 1);\r\n            }\r\n        }\r\n\r\nBut if I call printFreq(diagnoses) I get:{{cholera, 0}=1, {cholera, 1}=1, {cholera, 2}=1, {cholera, 0}=1, {dengue, 0}=1, {cholera, 1}=1, {cholera, 2}=1}. How can I fix this to {{cholera,0}=2,{dengue0}=1,{cholera,1}=2,{cholera,2}=2}}\r\n\r\nI&#39;m not allowed to change the Diagnosis or Disease class but this is how they look like: \r\n\r\n    public class Disease {\r\n\r\n    private final String name;\r\n\r\n    public Disease(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Disease disease = (Disease) o;\r\n\r\n        return name.equals(disease.name);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return name.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name;\r\n    }\r\n \r\nDiagnosis:\r\n\r\n     public class Diagnosis {\r\n\r\n    private final Disease disease;\r\n    private final int day;\r\n\r\n    public Diagnosis(Disease disease, int day) {\r\n        this.disease = disease;\r\n        this.day = day;\r\n    }\r\n\r\n    public Disease getDisease() {\r\n        return disease;\r\n    }\r\n\r\n    public int getDay() {\r\n        return day;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;{&quot; + disease + &quot;, &quot; + day + &quot;}&quot;;\r\n    }\r\n \r\n\r\n\r\n\r\n\r\n","title":"Count occurrence HashMap","body":"<p>I'm trying to count the number of diseases a day by using hashmap:</p>\n<pre><code>public static main(String[] args){\n Disease cholera=new Disease(&quot;cholera&quot;);\n Disease dengue=new Disease(&quot;dengue&quot;);\n\n List&lt;Diagnosis&gt; diagnoses = Arrays.asList(\n            new Diagnosis(cholera, 0), // registered cholera on day 0\n            new Diagnosis(cholera, 0),\n            new Diagnosis(cholera, 1),\n            new Diagnosis(cholera, 1),\n            new Diagnosis(cholera, 2),\n            new Diagnosis(cholera, 2)\n    );\n   \n   printFreq(diagnosis);\n\n}\n  \npublic static void printFreq(List&lt;Diagnosis&gt; diagnoses) {\n    Map&lt;Diagnosis, Integer&gt; hm = new HashMap();\n    for (Diagnosis x : diagnoses) {\n\n        if (!hm.containsKey(x)) {\n            hm.put(x, 1);\n        } else {\n            hm.put(x, hm.get(x) + 1);\n        }\n    }\n</code></pre>\n<p>But if I call printFreq(diagnoses) I get:{{cholera, 0}=1, {cholera, 1}=1, {cholera, 2}=1, {cholera, 0}=1, {dengue, 0}=1, {cholera, 1}=1, {cholera, 2}=1}. How can I fix this to {{cholera,0}=2,{dengue0}=1,{cholera,1}=2,{cholera,2}=2}}</p>\n<p>I'm not allowed to change the Diagnosis or Disease class but this is how they look like:</p>\n<pre><code>public class Disease {\n\nprivate final String name;\n\npublic Disease(String name) {\n    this.name = name;\n}\n\npublic String getName() {\n    return name;\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n\n    Disease disease = (Disease) o;\n\n    return name.equals(disease.name);\n}\n\n@Override\npublic int hashCode() {\n    return name.hashCode();\n}\n\n@Override\npublic String toString() {\n    return name;\n}\n</code></pre>\n<p>Diagnosis:</p>\n<pre><code> public class Diagnosis {\n\nprivate final Disease disease;\nprivate final int day;\n\npublic Diagnosis(Disease disease, int day) {\n    this.disease = disease;\n    this.day = day;\n}\n\npublic Disease getDisease() {\n    return disease;\n}\n\npublic int getDay() {\n    return day;\n}\n\n@Override\npublic String toString() {\n    return &quot;{&quot; + disease + &quot;, &quot; + day + &quot;}&quot;;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1634153216,"post_id":69561214,"comment_id":122952237,"body_markdown":"Why do you this active polling? Just subscribe the topic and you need no scheduler.","body":"Why do you this active polling? Just subscribe the topic and you need no scheduler."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1634153605,"post_id":69561214,"comment_id":122952371,"body_markdown":"And for your question: If subscribed, you can can control that a message is send to all subscribers vor just to one. Quality of service https://en.m.wikipedia.org/wiki/Quality_of_service","body":"And for your question: If subscribed, you can can control that a message is send to all subscribers vor just to one. Quality of service <a href=\"https://en.m.wikipedia.org/wiki/Quality_of_service\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Quality_of_service</a>"},{"owner":{"account_id":15621046,"reputation":448,"user_id":11269863,"display_name":"Mateus Henrique"},"score":0,"creation_date":1634153850,"post_id":69561214,"comment_id":122952464,"body_markdown":"@akop I don&#39;t want to pull a message right when they arrive, I wanted to control and pull one message at a time every 5 seconds. Is there a better way to achieve that?","body":"@akop I don&#39;t want to pull a message right when they arrive, I wanted to control and pull one message at a time every 5 seconds. Is there a better way to achieve that?"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1634156678,"post_id":69561214,"comment_id":122953386,"body_markdown":"Why do you want to pull a message only all 5 seconds?","body":"Why do you want to pull a message only all 5 seconds?"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634153224,"creation_date":1634153224,"answer_id":69561264,"question_id":69561214,"body_markdown":"If the queue is the same for all the instances, then no: only one consumer takes a message from a queue. That&#39;s fundamental purpose of the queue pattern at all.\r\n\r\nSee AMQP docs for publish-subscribe patterns: https://www.rabbitmq.com/tutorials/tutorial-three-java.html","title":"RabbitMQ&#39;s receiveAndConvert for clustered environment","body":"<p>If the queue is the same for all the instances, then no: only one consumer takes a message from a queue. That's fundamental purpose of the queue pattern at all.</p>\n<p>See AMQP docs for publish-subscribe patterns: <a href=\"https://www.rabbitmq.com/tutorials/tutorial-three-java.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-three-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":20371271,"reputation":11,"user_id":14943428,"display_name":"Chhavi Jajoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634154943,"creation_date":1634154943,"answer_id":69561597,"question_id":69561214,"body_markdown":"No only a single instance will process the message at one time, the whole purpose of having multiple consumers is not to have any downtime for the application!\r\n\r\nRefer the official documentation of RabbitMQ for more clarification!\r\nhttps://www.rabbitmq.com/tutorials/tutorial-one-java.html","title":"RabbitMQ&#39;s receiveAndConvert for clustered environment","body":"<p>No only a single instance will process the message at one time, the whole purpose of having multiple consumers is not to have any downtime for the application!</p>\n<p>Refer the official documentation of RabbitMQ for more clarification!\n<a href=\"https://www.rabbitmq.com/tutorials/tutorial-one-java.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-one-java.html</a></p>\n"}],"owner":{"account_id":15621046,"reputation":448,"user_id":11269863,"display_name":"Mateus Henrique"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69561264,"answer_count":2,"score":0,"last_activity_date":1634154943,"creation_date":1634152906,"question_id":69561214,"body_markdown":"I have this method implemented in a SpringBoot application\r\n\r\n    @Scheduled(fixedDelay = 5000)\r\n    public void pullMessage() {\r\n        MessageDTO message = null;\r\n\r\n        try {\r\n            message = rabbitTemplate.receiveAndConvert(properties.getQueueName(), new ParameterizedTypeReference&lt;MessageDTO&gt;() {});\r\n        // more code here...\r\n\r\n\r\n    }\r\n\r\nevery 5 seconds I&#39;m pulling a message from RabbitMQ and processing something with it. The application is running on Kubernetes and right now I have to duplicate the POD. In this scenario, could the two pods pull the same message? ","title":"RabbitMQ&#39;s receiveAndConvert for clustered environment","body":"<p>I have this method implemented in a SpringBoot application</p>\n<pre><code>@Scheduled(fixedDelay = 5000)\npublic void pullMessage() {\n    MessageDTO message = null;\n\n    try {\n        message = rabbitTemplate.receiveAndConvert(properties.getQueueName(), new ParameterizedTypeReference&lt;MessageDTO&gt;() {});\n    // more code here...\n\n\n}\n</code></pre>\n<p>every 5 seconds I'm pulling a message from RabbitMQ and processing something with it. The application is running on Kubernetes and right now I have to duplicate the POD. In this scenario, could the two pods pull the same message?</p>\n"},{"tags":["java","spring","elasticsearch","versioning","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634154792,"creation_date":1634125329,"answer_id":69554913,"question_id":69554225,"body_markdown":"I don&#39;t know if it&#39;s your case, but when using `@IndexedEmbedded` on associations, the document ends up spanning multiple entities, and that can lead to problems similar to what you are experiencing. This is a known limitation, and it is documented [here](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#limitations-parallel-embedded-update).\r\n\r\nUnfortunately, there is (generally) no way to reliably map the DB version (`@Version`) of the multiple source entities involved to a *document* version, so Elasticsearch versioning would not help.\r\n\r\nThis is why Elasticsearch versioning is not currently implemented in Hibernate Search: it would only work in very specific scenarios where you map exactly one entity to exactly one document, which is possible, but not very common. Implementing this would not solve the problem completely, while giving a false sense of security, which is why we decided to not do it, and to work on a better solution.\r\n\r\nInstead, Hibernate Search 6.1 (currently in Alpha) is introducing the concept of coordination between nodes, so that a given entity is never indexed concurrently, solving the problem once and for all.\r\n\r\nYou can find more information here: https://docs.jboss.org/hibernate/search/6.1/reference/en-US/html_single/#coordination-database-polling\r\n\r\n(Be careful about the configuration properties, there are typos in the documentation at the moment, `hibernate.search.backend.coordination.*` should actually be `hibernate.search.coordination.*`; we&#39;ll fix that in the next release)\r\n\r\nFor now only static sharding (fixed number of application nodes) is supported, but dynamic sharding (with automatic rebalancing) is being worked on.\r\n\r\nIn the meantime, if you have an auto-scaling application cluster, you can have a fixed subset of your nodes (e.g. 4 &quot;primary&quot; nodes, always up) perform automatic indexing, while other nodes only collect entity change events and don&#39;t perform automatic indexing themselves.\r\n\r\nEventually we aim to provide alternative coordination strategies that do not rely on additional tables in the database (e.g. [using Debezium](https://hibernate.atlassian.net/browse/HSEARCH-3513)), but that will come later.","title":"Hibernate Search + Elasticsearch - version_type in requests - how to implement","body":"<p>I don't know if it's your case, but when using <code>@IndexedEmbedded</code> on associations, the document ends up spanning multiple entities, and that can lead to problems similar to what you are experiencing. This is a known limitation, and it is documented <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#limitations-parallel-embedded-update\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Unfortunately, there is (generally) no way to reliably map the DB version (<code>@Version</code>) of the multiple source entities involved to a <em>document</em> version, so Elasticsearch versioning would not help.</p>\n<p>This is why Elasticsearch versioning is not currently implemented in Hibernate Search: it would only work in very specific scenarios where you map exactly one entity to exactly one document, which is possible, but not very common. Implementing this would not solve the problem completely, while giving a false sense of security, which is why we decided to not do it, and to work on a better solution.</p>\n<p>Instead, Hibernate Search 6.1 (currently in Alpha) is introducing the concept of coordination between nodes, so that a given entity is never indexed concurrently, solving the problem once and for all.</p>\n<p>You can find more information here: <a href=\"https://docs.jboss.org/hibernate/search/6.1/reference/en-US/html_single/#coordination-database-polling\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/6.1/reference/en-US/html_single/#coordination-database-polling</a></p>\n<p>(Be careful about the configuration properties, there are typos in the documentation at the moment, <code>hibernate.search.backend.coordination.*</code> should actually be <code>hibernate.search.coordination.*</code>; we'll fix that in the next release)</p>\n<p>For now only static sharding (fixed number of application nodes) is supported, but dynamic sharding (with automatic rebalancing) is being worked on.</p>\n<p>In the meantime, if you have an auto-scaling application cluster, you can have a fixed subset of your nodes (e.g. 4 &quot;primary&quot; nodes, always up) perform automatic indexing, while other nodes only collect entity change events and don't perform automatic indexing themselves.</p>\n<p>Eventually we aim to provide alternative coordination strategies that do not rely on additional tables in the database (e.g. <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-3513\" rel=\"nofollow noreferrer\">using Debezium</a>), but that will come later.</p>\n"}],"owner":{"account_id":23020709,"reputation":11,"user_id":17141805,"display_name":"Paweł Hajski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634154792,"creation_date":1634122404,"question_id":69554225,"body_markdown":"In our application we use Hibernate Search + Elasticsearch together as search engine for end users. Configuration in search service (let&#39;s call it XXXsearch, written in java) looks as below:\r\n```\r\nspring:\r\n  profiles: elasticsearch\r\n  elasticsearch:\r\n    rest:\r\n      uris: &quot;http://${XXX_ELASTICSEARCH_HOST:localhost}:${XXX_ELASTICSEARCH_PORT:9200}&quot;\r\n  jpa:\r\n    properties:\r\n      hibernate:\r\n        search:\r\n          default:\r\n            indexmanager: elasticsearch\r\n            elasticsearch:\r\n              host: &quot;http://${XXX_ELASTICSEARCH_HOST:localhost}:${XXX_ELASTICSEARCH_PORT:9200}&quot;\r\n              index_schema_management_strategy: &quot;${XXX_ELASTICSEARCH_SCHEMA_MANAGEMENT_STRATEGY}&quot;\r\n              required_index_status: green\r\n```\r\n\r\nData for each record in our app is saved in relational DB (Oracle) and it&#39;s propagated to Elasticsearch by Hibernate Search.\r\n\r\nTo quickly explain our problem:\r\nwe had a problem with concurrent commits by two pods (Kubernetes) of search service (XXXsearch) - data used to be overwritten not-in-sequence when commited nearly at the same time (milliseconds of difference). We added versioning to records in database:\r\n```\r\n@Field(index = Index.YES, analyze = Analyze.NO)\r\n@Version\r\nprivate int version;\r\n```\r\nand it solved problem with overwriting data in Oracle DB. However, when search is done, for instance, by parameter/field *status* and it&#39;s value &#39;**A**&#39;, search query returns scores with status &#39;**A**&#39;, &#39;**B**&#39; and &#39;**C**&#39;. Data records in Oracle DB are up-to-date, so I think the problem is that Hibernate Search updates Elasticsearch&#39;s indexes in batches, therefore there is possibility of not-in-sequence updates.\r\n\r\nAt this moment, my best idea of resolving this problem is to use [Elasitcsearch&#39;s versioning](https://www.elastic.co/guide/en/elasticsearch/reference/7.10/docs-index_.html#index-versioning), but I cannot find any information how to configure this in Hibernate Search. I have only found such configuration in [Spring Data&#39;s documentation](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations).","title":"Hibernate Search + Elasticsearch - version_type in requests - how to implement","body":"<p>In our application we use Hibernate Search + Elasticsearch together as search engine for end users. Configuration in search service (let's call it XXXsearch, written in java) looks as below:</p>\n<pre><code>spring:\n  profiles: elasticsearch\n  elasticsearch:\n    rest:\n      uris: &quot;http://${XXX_ELASTICSEARCH_HOST:localhost}:${XXX_ELASTICSEARCH_PORT:9200}&quot;\n  jpa:\n    properties:\n      hibernate:\n        search:\n          default:\n            indexmanager: elasticsearch\n            elasticsearch:\n              host: &quot;http://${XXX_ELASTICSEARCH_HOST:localhost}:${XXX_ELASTICSEARCH_PORT:9200}&quot;\n              index_schema_management_strategy: &quot;${XXX_ELASTICSEARCH_SCHEMA_MANAGEMENT_STRATEGY}&quot;\n              required_index_status: green\n</code></pre>\n<p>Data for each record in our app is saved in relational DB (Oracle) and it's propagated to Elasticsearch by Hibernate Search.</p>\n<p>To quickly explain our problem:\nwe had a problem with concurrent commits by two pods (Kubernetes) of search service (XXXsearch) - data used to be overwritten not-in-sequence when commited nearly at the same time (milliseconds of difference). We added versioning to records in database:</p>\n<pre><code>@Field(index = Index.YES, analyze = Analyze.NO)\n@Version\nprivate int version;\n</code></pre>\n<p>and it solved problem with overwriting data in Oracle DB. However, when search is done, for instance, by parameter/field <em>status</em> and it's value '<strong>A</strong>', search query returns scores with status '<strong>A</strong>', '<strong>B</strong>' and '<strong>C</strong>'. Data records in Oracle DB are up-to-date, so I think the problem is that Hibernate Search updates Elasticsearch's indexes in batches, therefore there is possibility of not-in-sequence updates.</p>\n<p>At this moment, my best idea of resolving this problem is to use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.10/docs-index_.html#index-versioning\" rel=\"nofollow noreferrer\">Elasitcsearch's versioning</a>, but I cannot find any information how to configure this in Hibernate Search. I have only found such configuration in <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations\" rel=\"nofollow noreferrer\">Spring Data's documentation</a>.</p>\n"},{"tags":["java","junit","ant","build.xml"],"comments":[{"owner":{"account_id":4480600,"reputation":376,"user_id":3644766,"accept_rate":43,"display_name":"Gildraths"},"score":0,"creation_date":1464081934,"post_id":37408653,"comment_id":62325700,"body_markdown":"Have you considered using Maven to download the necessary jar?\nIf not this could help you: http://stackoverflow.com/questions/25628253/ant-junit-task-where-to-download-ant-junit-jar-and-where-to-put-it","body":"Have you considered using Maven to download the necessary jar? If not this could help you: <a href=\"http://stackoverflow.com/questions/25628253/ant-junit-task-where-to-download-ant-junit-jar-and-where-to-put-it\" title=\"ant junit task where to download ant junit jar and where to put it\">stackoverflow.com/questions/25628253/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7725865,"reputation":501,"user_id":5850506,"display_name":"P.A. Cros"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1464161200,"creation_date":1464096476,"answer_id":37415086,"question_id":37408653,"body_markdown":"To fix this error you have to pass to ant the jar that is defining the JUnitTask. This jar is called `ant-junit.jar` and you can either (from [JUnit task documentation][1]) :\r\n\r\n 1. Put both junit.jar and ant-junit.jar in ANT_HOME/lib.\r\n 2. Do not put either in ANT_HOME/lib, and instead include their locations in your CLASSPATH environment variable.\r\n 3. Add both JARs to your classpath using -lib.\r\n 4. Specify the locations of both JARs using a `&lt;classpath&gt;` element in a `&lt;taskdef&gt;` in the build file.\r\n 5. Leave ant-junit.jar in its default location in ANT_HOME/lib but include junit.jar in the &lt;classpath&gt; passed to &lt;junit&gt;. (since Ant 1.7)\r\n\r\n\r\nFor option 4, you just have to add to your ant build a declaration like:\r\n\r\n    &lt;taskdef name=&quot;junit&quot; classname=&quot;org.apache.tools.ant.taskdefs.optional.junit.JUnitTask&quot;&gt;\r\n      &lt;classpath&gt;\r\n\t    &lt;pathelement location=&quot;${lib}/ant-junit.jar&quot;/&gt;\r\n        &lt;pathelement location=&quot;${lib}/ant-junit4.jar&quot;/&gt;\r\n      &lt;/classpath&gt;\r\n    &lt;/taskdef&gt;\r\n\r\n\r\n\r\n  [1]: http://ant.apache.org/manual/Tasks/junit.html","title":"Running JUnit from Apache Ant with included jar file results in &quot;JUnitTask was not found&quot;","body":"<p>To fix this error you have to pass to ant the jar that is defining the JUnitTask. This jar is called <code>ant-junit.jar</code> and you can either (from <a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow\">JUnit task documentation</a>) :</p>\n\n<ol>\n<li>Put both junit.jar and ant-junit.jar in ANT_HOME/lib.</li>\n<li>Do not put either in ANT_HOME/lib, and instead include their locations in your CLASSPATH environment variable.</li>\n<li>Add both JARs to your classpath using -lib.</li>\n<li>Specify the locations of both JARs using a <code>&lt;classpath&gt;</code> element in a <code>&lt;taskdef&gt;</code> in the build file.</li>\n<li>Leave ant-junit.jar in its default location in ANT_HOME/lib but include junit.jar in the  passed to . (since Ant 1.7)</li>\n</ol>\n\n<p>For option 4, you just have to add to your ant build a declaration like:</p>\n\n<pre><code>&lt;taskdef name=\"junit\" classname=\"org.apache.tools.ant.taskdefs.optional.junit.JUnitTask\"&gt;\n  &lt;classpath&gt;\n    &lt;pathelement location=\"${lib}/ant-junit.jar\"/&gt;\n    &lt;pathelement location=\"${lib}/ant-junit4.jar\"/&gt;\n  &lt;/classpath&gt;\n&lt;/taskdef&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21227953,"reputation":1,"user_id":15613258,"display_name":"John K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634154449,"creation_date":1634154449,"answer_id":69561516,"question_id":37408653,"body_markdown":"This also work perfectly for me too after I copied the jar files over to my test Linux box.  Since the layout was not shown before, this is mine.\r\n\r\n    ls -l /usr/share/ant/lib\r\n    total 0\r\n    lrwxrwxrwx. 1 root root 32 Mar 24  2021 ant-bootstrap.jar -&gt; ../../java/ant/ant-bootstrap.jar\r\n    lrwxrwxrwx. 1 root root 28 Oct 12 19:10 ant-junit.jar -&gt; ../../java/ant/ant-junit.jar\r\n    lrwxrwxrwx. 1 root root 29 Oct 12 19:11 ant-junit4.jar -&gt; ../../java/ant/ant-junit4.jar\r\n    lrwxrwxrwx. 1 root root 31 Mar 24  2021 ant-launcher.jar -&gt; ../../java/ant/ant-launcher.jar\r\n    lrwxrwxrwx. 1 root root 22 Mar 24  2021 ant.jar -&gt; ../../java/ant/ant.jar\r\n    \r\n    ls /usr/share/java/ant\r\n    ant-bootstrap.jar  ant-junit.jar  ant-junit4.jar  ant-launcher.jar  ant.jar\r\n\r\n","title":"Running JUnit from Apache Ant with included jar file results in &quot;JUnitTask was not found&quot;","body":"<p>This also work perfectly for me too after I copied the jar files over to my test Linux box.  Since the layout was not shown before, this is mine.</p>\n<pre><code>ls -l /usr/share/ant/lib\ntotal 0\nlrwxrwxrwx. 1 root root 32 Mar 24  2021 ant-bootstrap.jar -&gt; ../../java/ant/ant-bootstrap.jar\nlrwxrwxrwx. 1 root root 28 Oct 12 19:10 ant-junit.jar -&gt; ../../java/ant/ant-junit.jar\nlrwxrwxrwx. 1 root root 29 Oct 12 19:11 ant-junit4.jar -&gt; ../../java/ant/ant-junit4.jar\nlrwxrwxrwx. 1 root root 31 Mar 24  2021 ant-launcher.jar -&gt; ../../java/ant/ant-launcher.jar\nlrwxrwxrwx. 1 root root 22 Mar 24  2021 ant.jar -&gt; ../../java/ant/ant.jar\n\nls /usr/share/java/ant\nant-bootstrap.jar  ant-junit.jar  ant-junit4.jar  ant-launcher.jar  ant.jar\n</code></pre>\n"}],"owner":{"account_id":7208409,"reputation":259,"user_id":5503323,"accept_rate":67,"display_name":"StubbornShowaGuy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37415086,"answer_count":2,"score":0,"last_activity_date":1634154449,"creation_date":1464079932,"question_id":37408653,"body_markdown":"I am using Apache Ant to compile and run JUnit tests. At the moment, it is working on environments where the ant JUnit library is installed as a part of Ant, but not on other environments. I want to fix this. I have tried including the jars needed(`junit-4.12.jar` and `hamcrest-core-1.3.jar`, if I understand it correctly) but it is not working. The relevant part of my `build.xml` is as follows:\r\n\r\n      &lt;property name=&quot;build.path&quot; location=&quot;build/src&quot;/&gt;\r\n      &lt;property name=&quot;build.test.path&quot; location=&quot;build/test&quot;/&gt;\r\n      &lt;property name=&quot;lib.path.rel&quot; value=&quot;lib&quot;/&gt;\r\n      &lt;property name=&quot;junit.file&quot; value=&quot;${lib.path.rel}/junit/junit-4.12.jar&quot;/&gt;\r\n      &lt;property name=&quot;hamcrest.file&quot; value=&quot;${lib.path.rel}/junit/hamcrest-core-1.3.jar&quot;/&gt;\r\n    \r\n      &lt;path id=&quot;junit.class.path&quot;&gt;\r\n        &lt;pathelement location=&quot;${junit.file}&quot;/&gt;\r\n        &lt;pathelement location=&quot;${hamcrest.file}&quot;/&gt;\r\n        &lt;pathelement location=&quot;${build.path}&quot;/&gt;\r\n      &lt;/path&gt;\r\n    \r\n      &lt;target name=&quot;test-compile&quot; depends=&quot;test-clean&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build.test.path}&quot;/&gt;\r\n    \r\n        &lt;javac srcdir=&quot;${test.path}&quot;\r\n               destdir=&quot;${build.test.path}&quot;\r\n               includeantruntime=&quot;false&quot;&gt;\r\n          &lt;classpath refid=&quot;junit.class.path&quot; /&gt;\r\n        &lt;/javac&gt;\r\n      &lt;/target&gt;\r\n    \r\n      &lt;target name=&quot;test&quot; depends=&quot;test-compile&quot;&gt;\r\n        &lt;junit&gt;\r\n          &lt;classpath&gt;\r\n            &lt;path refid=&quot;junit.class.path&quot;/&gt;\r\n            &lt;pathelement location=&quot;${build.test.path}&quot;/&gt;\r\n          &lt;/classpath&gt;\r\n          &lt;batchtest&gt;\r\n            &lt;fileset dir=&quot;${build.test.path}&quot;&gt;\r\n              &lt;include name=&quot;**/*Test*&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n          &lt;/batchtest&gt;\r\n          &lt;formatter type=&quot;brief&quot; usefile=&quot;false&quot;/&gt;\r\n        &lt;/junit&gt;\r\n      &lt;/target&gt;\r\n\r\nThe task `test-compile` successfully builds the tests.&lt;br/&gt;\r\nThe task `test`, however, results in the following error:&lt;br/&gt;\r\n`Problem: failed to create task or type junit\r\nCause: the class org.apache.tools.ant.taskdefs.optional.junit.JUnitTask was not found.`&lt;br/&gt;&lt;br/&gt;\r\nI am using CentOS 7 with Ant 1.9.2, and though I think it is reasonable to request users to update Ant to the latest version available, I have no control over what OS and libraries they have installed. As such, I want to solve the problem not by `yum install something` or whatnot, but by finding a way to properly use the JUnit jar files(if that is possible). Then, when they pull the git repository and run the task, it will work on any OS or environment(since they will be using a jar file they just pulled). Obviously, this also means that &quot;just put the jars in the Ant lib dir&quot; will not be a viable solution.&lt;br/&gt;\r\nThank you.\r\n","title":"Running JUnit from Apache Ant with included jar file results in &quot;JUnitTask was not found&quot;","body":"<p>I am using Apache Ant to compile and run JUnit tests. At the moment, it is working on environments where the ant JUnit library is installed as a part of Ant, but not on other environments. I want to fix this. I have tried including the jars needed(<code>junit-4.12.jar</code> and <code>hamcrest-core-1.3.jar</code>, if I understand it correctly) but it is not working. The relevant part of my <code>build.xml</code> is as follows:</p>\n\n<pre><code>  &lt;property name=\"build.path\" location=\"build/src\"/&gt;\n  &lt;property name=\"build.test.path\" location=\"build/test\"/&gt;\n  &lt;property name=\"lib.path.rel\" value=\"lib\"/&gt;\n  &lt;property name=\"junit.file\" value=\"${lib.path.rel}/junit/junit-4.12.jar\"/&gt;\n  &lt;property name=\"hamcrest.file\" value=\"${lib.path.rel}/junit/hamcrest-core-1.3.jar\"/&gt;\n\n  &lt;path id=\"junit.class.path\"&gt;\n    &lt;pathelement location=\"${junit.file}\"/&gt;\n    &lt;pathelement location=\"${hamcrest.file}\"/&gt;\n    &lt;pathelement location=\"${build.path}\"/&gt;\n  &lt;/path&gt;\n\n  &lt;target name=\"test-compile\" depends=\"test-clean\"&gt;\n    &lt;mkdir dir=\"${build.test.path}\"/&gt;\n\n    &lt;javac srcdir=\"${test.path}\"\n           destdir=\"${build.test.path}\"\n           includeantruntime=\"false\"&gt;\n      &lt;classpath refid=\"junit.class.path\" /&gt;\n    &lt;/javac&gt;\n  &lt;/target&gt;\n\n  &lt;target name=\"test\" depends=\"test-compile\"&gt;\n    &lt;junit&gt;\n      &lt;classpath&gt;\n        &lt;path refid=\"junit.class.path\"/&gt;\n        &lt;pathelement location=\"${build.test.path}\"/&gt;\n      &lt;/classpath&gt;\n      &lt;batchtest&gt;\n        &lt;fileset dir=\"${build.test.path}\"&gt;\n          &lt;include name=\"**/*Test*\"/&gt;\n        &lt;/fileset&gt;\n      &lt;/batchtest&gt;\n      &lt;formatter type=\"brief\" usefile=\"false\"/&gt;\n    &lt;/junit&gt;\n  &lt;/target&gt;\n</code></pre>\n\n<p>The task <code>test-compile</code> successfully builds the tests.<br/>\nThe task <code>test</code>, however, results in the following error:<br/>\n<code>Problem: failed to create task or type junit\nCause: the class org.apache.tools.ant.taskdefs.optional.junit.JUnitTask was not found.</code><br/><br/>\nI am using CentOS 7 with Ant 1.9.2, and though I think it is reasonable to request users to update Ant to the latest version available, I have no control over what OS and libraries they have installed. As such, I want to solve the problem not by <code>yum install something</code> or whatnot, but by finding a way to properly use the JUnit jar files(if that is possible). Then, when they pull the git repository and run the task, it will work on any OS or environment(since they will be using a jar file they just pulled). Obviously, this also means that \"just put the jars in the Ant lib dir\" will not be a viable solution.<br/>\nThank you.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1634322937,"post_id":69559209,"comment_id":123002104,"body_markdown":"Could you extract sql table data ?","body":"Could you extract sql table data ?"}],"answers":[{"tags":[],"owner":{"account_id":16682690,"reputation":568,"user_id":12057371,"display_name":"vincendep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634151775,"creation_date":1634149138,"answer_id":69560463,"question_id":69559209,"body_markdown":"    @Query(&quot;SELECT b FROM BoardUser bu JOIN bu.board b where bu.id = :userId&quot;)\r\n\r\n","title":"Hibernate is only returning one record when it&#39;s not supposed to","body":"<pre><code>@Query(&quot;SELECT b FROM BoardUser bu JOIN bu.board b where bu.id = :userId&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634154037,"creation_date":1634154037,"answer_id":69561429,"question_id":69559209,"body_markdown":"This seems to be impossible. If a `java.util.Set` would be used and no unique ID is defined I could understand this, but you are using a `List`. Please add to the Spring Boot config to see all executed statements in your log output:\r\n\r\n~~~\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n~~~\r\n\r\nThere must be a difference how the generated SQL looks like.","title":"Hibernate is only returning one record when it&#39;s not supposed to","body":"<p>This seems to be impossible. If a <code>java.util.Set</code> would be used and no unique ID is defined I could understand this, but you are using a <code>List</code>. Please add to the Spring Boot config to see all executed statements in your log output:</p>\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>There must be a difference how the generated SQL looks like.</p>\n"}],"owner":{"account_id":13818443,"reputation":51,"user_id":9974520,"display_name":"mok_1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634154037,"creation_date":1634143123,"question_id":69559209,"body_markdown":"So I have this endpoints that is supposed to get a list of boards where the given user is part of but for some reason it always returns just 1 value.\r\n\r\nContext:\r\n\r\n        //BoardController.java\r\n        @GetMapping\r\n        @ApiOperation(\r\n            value = &quot;Retrieves all boards&quot;,\r\n            httpMethod = &quot;GET&quot;,\r\n            response = Page.class,\r\n            code = 200\r\n        )\r\n        public List&lt;BoardDto&gt; findBoardsForUser(@RequestParam(value = &quot;user&quot;, defaultValue = &quot;0&quot;)                 \r\n     final Long userId) {\r\n             var boards = boardService.findAllForUser(userId);\r\n             System.out.println(boards.size());\r\n             return boards.stream().map(boardMapper::toDto).collect(Collectors.toList());\r\n        }\r\n\r\n\r\n        //BoardService.java\r\n        public List&lt;Board&gt; findAllForUser(Long userId) {\r\n             return boardRepository.findBoardsByUser(userId);\r\n        }\r\n\r\n        //BoardRepository.java\r\n        @Repository\r\n        @Transactional\r\n        public interface BoardRepository extends JpaRepository&lt;Board, Long&gt; {\r\n\r\n            @Query(&quot;SELECT b FROM Board b, BoardUser bu where b.id = bu.board.id and bu.id = :userId&quot;)\r\n            List&lt;Board&gt; findBoardsByUser(Long userId);\r\n        }\r\n\r\n\r\n**Question**: Is there any reason why Hibernate would only retrieve one record when I have two records in the database that get retrieved just fine using the same select statement?","title":"Hibernate is only returning one record when it&#39;s not supposed to","body":"<p>So I have this endpoints that is supposed to get a list of boards where the given user is part of but for some reason it always returns just 1 value.</p>\n<p>Context:</p>\n<pre><code>    //BoardController.java\n    @GetMapping\n    @ApiOperation(\n        value = &quot;Retrieves all boards&quot;,\n        httpMethod = &quot;GET&quot;,\n        response = Page.class,\n        code = 200\n    )\n    public List&lt;BoardDto&gt; findBoardsForUser(@RequestParam(value = &quot;user&quot;, defaultValue = &quot;0&quot;)                 \n final Long userId) {\n         var boards = boardService.findAllForUser(userId);\n         System.out.println(boards.size());\n         return boards.stream().map(boardMapper::toDto).collect(Collectors.toList());\n    }\n\n\n    //BoardService.java\n    public List&lt;Board&gt; findAllForUser(Long userId) {\n         return boardRepository.findBoardsByUser(userId);\n    }\n\n    //BoardRepository.java\n    @Repository\n    @Transactional\n    public interface BoardRepository extends JpaRepository&lt;Board, Long&gt; {\n\n        @Query(&quot;SELECT b FROM Board b, BoardUser bu where b.id = bu.board.id and bu.id = :userId&quot;)\n        List&lt;Board&gt; findBoardsByUser(Long userId);\n    }\n</code></pre>\n<p><strong>Question</strong>: Is there any reason why Hibernate would only retrieve one record when I have two records in the database that get retrieved just fine using the same select statement?</p>\n"},{"tags":["java","servlets","web.xml","servletcontextlistener"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1634148843,"post_id":69560232,"comment_id":122950757,"body_markdown":"Create a dummy servlet loaded last?","body":"Create a dummy servlet loaded last?"},{"owner":{"account_id":13682033,"reputation":48,"user_id":9872143,"display_name":"Michael Long"},"score":0,"creation_date":1634154490,"post_id":69560232,"comment_id":122952659,"body_markdown":"Creating a servlet which does not serve anything is a code smell, and I&#39;d prefer to avoid it.  If it cannot be avoided, then so be it.","body":"Creating a servlet which does not serve anything is a code smell, and I&#39;d prefer to avoid it.  If it cannot be avoided, then so be it."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1634161506,"post_id":69560232,"comment_id":122954830,"body_markdown":"Having something you cannot fix in a better way is probably a worse code smell.","body":"Having something you cannot fix in a better way is probably a worse code smell."}],"answers":[{"tags":[],"owner":{"account_id":22961150,"reputation":229,"user_id":17090988,"display_name":"Narcis Postolache"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634154012,"creation_date":1634154012,"answer_id":69561422,"question_id":69560232,"body_markdown":"If you have access to your deployment descriptor (**web.xml**) and the servlets are eager loaded, then you could append your servlet in the servlet list and set a high number in **load-on-startup** element.\r\n\r\n    &lt;servlet&gt;  \r\n\t\t&lt;servlet-name&gt;myServlet&lt;/servlet-name&gt;  \r\n\t\t&lt;servlet-class&gt;com.project.LastServlet&lt;/servlet-class&gt;  \r\n\t\t&lt;load-on-startup&gt;99&lt;/load-on-startup&gt;  \r\n\t&lt;/servlet&gt;\r\n\r\nI tried to find a workaround in the [documentation][1], but I couldn&#39;t find it and the ServletContextListener is a [no go][2]:\r\n&quot;All ServletContextListeners are notified of context initialization before any filters or servlets in the web application are initialized.&quot;\r\n\r\n\r\n  [1]: https://javaee.github.io/servlet-spec/downloads/servlet-4.0/servlet-4_0_FINAL.pdf\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContextListener.html","title":"How do I perform one time actions in a Java Webapp AFTER all servlets have been initialized?","body":"<p>If you have access to your deployment descriptor (<strong>web.xml</strong>) and the servlets are eager loaded, then you could append your servlet in the servlet list and set a high number in <strong>load-on-startup</strong> element.</p>\n<pre><code>&lt;servlet&gt;  \n    &lt;servlet-name&gt;myServlet&lt;/servlet-name&gt;  \n    &lt;servlet-class&gt;com.project.LastServlet&lt;/servlet-class&gt;  \n    &lt;load-on-startup&gt;99&lt;/load-on-startup&gt;  \n&lt;/servlet&gt;\n</code></pre>\n<p>I tried to find a workaround in the <a href=\"https://javaee.github.io/servlet-spec/downloads/servlet-4.0/servlet-4_0_FINAL.pdf\" rel=\"nofollow noreferrer\">documentation</a>, but I couldn't find it and the ServletContextListener is a <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContextListener.html\" rel=\"nofollow noreferrer\">no go</a>:\n&quot;All ServletContextListeners are notified of context initialization before any filters or servlets in the web application are initialized.&quot;</p>\n"}],"owner":{"account_id":13682033,"reputation":48,"user_id":9872143,"display_name":"Michael Long"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69561422,"answer_count":1,"score":1,"last_activity_date":1634154012,"creation_date":1634147947,"question_id":69560232,"body_markdown":"I have a standard Java 11 Web application, with multiple servlets in it.  Some servlets are imported by libraries, others are written within the application itself.\r\n\r\nI need to perform a task AFTER all web servlets have been initialized, preferably before any requests come in.  The task requires access to ServletContext.\r\n\r\nI have tried performing this by creating a `ServletContextListener` and it&#39;s corresponding `contextInitialized` method, but this performs the task BEFORE the servlets have been initialized.\r\n\r\nI cannot add the task to the last servlet to load, as the last servlet loaded is imported from an external library.\r\n\r\nIt would be preferable if the solution does not involve creating a servlet with no mapping.","title":"How do I perform one time actions in a Java Webapp AFTER all servlets have been initialized?","body":"<p>I have a standard Java 11 Web application, with multiple servlets in it.  Some servlets are imported by libraries, others are written within the application itself.</p>\n<p>I need to perform a task AFTER all web servlets have been initialized, preferably before any requests come in.  The task requires access to ServletContext.</p>\n<p>I have tried performing this by creating a <code>ServletContextListener</code> and it's corresponding <code>contextInitialized</code> method, but this performs the task BEFORE the servlets have been initialized.</p>\n<p>I cannot add the task to the last servlet to load, as the last servlet loaded is imported from an external library.</p>\n<p>It would be preferable if the solution does not involve creating a servlet with no mapping.</p>\n"},{"tags":["java","jakarta-ee","resteasy","weld","undertow"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1634232375,"post_id":69559949,"comment_id":122976326,"body_markdown":"There is not currently a Jakarta REST 3.0 implementation of RESTEasy. Though this is coming, there is no official date ATM. I would say within a month there will at least be an alpha version.","body":"There is not currently a Jakarta REST 3.0 implementation of RESTEasy. Though this is coming, there is no official date ATM. I would say within a month there will at least be an alpha version."}],"answers":[{"tags":[],"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634153749,"creation_date":1634153749,"answer_id":69561372,"question_id":69559949,"body_markdown":"Undertow is shipping a special separate artifact that uses EE 9 namespaces.\r\nIt has a slightly different GAV - `io.undertow:undertow-servlet-jakartaee9:2.2.12.Final`\r\n\r\nIt is available in Maven Central, as you can [see here](https://search.maven.org/artifact/io.undertow/undertow-servlet-jakartaee9/2.2.12.Final/jar).\r\nWeld 4 is actually using precisely this artifact, which can be seen from [pom.xml](https://github.com/weld/core/blob/4.0.2.Final/environments/servlet/core/pom.xml#L139-L142).\r\n\r\nThis should be the missing part in your puzzle.","title":"Weld and Undertow under jakarta / javax namespaces","body":"<p>Undertow is shipping a special separate artifact that uses EE 9 namespaces.\nIt has a slightly different GAV - <code>io.undertow:undertow-servlet-jakartaee9:2.2.12.Final</code></p>\n<p>It is available in Maven Central, as you can <a href=\"https://search.maven.org/artifact/io.undertow/undertow-servlet-jakartaee9/2.2.12.Final/jar\" rel=\"nofollow noreferrer\">see here</a>.\nWeld 4 is actually using precisely this artifact, which can be seen from <a href=\"https://github.com/weld/core/blob/4.0.2.Final/environments/servlet/core/pom.xml#L139-L142\" rel=\"nofollow noreferrer\">pom.xml</a>.</p>\n<p>This should be the missing part in your puzzle.</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634153749,"creation_date":1634146591,"question_id":69559949,"body_markdown":"I am upgrading some of the libraries in my JEE application, hoping to solve a strange issue (see https://stackoverflow.com/questions/69463489/jax-rs-integration-test-with-undertow-failing-in-jenkins-but-working-locally) \r\n\r\nWhile upgrading restEasy, then Weld, my tests are failing because there are some &quot;internal&quot; compilation issues due to the change of namespace from `javax.servlet.ServletContext` to `jakarta.servlet.ServletContext` :\r\n\r\nin my dependencies I have :\r\n\r\nin weld-servlet-core 4.0.2.Final : \r\n\r\n    package org.jboss.weld.environment.undertow;\r\n    \r\n    import io.undertow.servlet.ServletExtension;\r\n    import jakarta.servlet.ServletContext;\r\n    ...\r\n    \r\n    public class WeldServletExtension implements ServletExtension {\r\n    \r\n        @Override\r\n        public void handleDeployment(DeploymentInfo deploymentInfo, ServletContext servletContext) {\r\n    ...\r\n    }\r\n    }\r\n\r\n  \r\nand in undertow-servlet 2.2.7.Final : \r\n\r\n    package io.undertow.servlet;\r\n    \r\n    import io.undertow.servlet.api.DeploymentInfo;\r\n    \r\n    import javax.servlet.ServletContext;\r\n    \r\n    public interface ServletExtension {\r\n    \r\n        void handleDeployment(final DeploymentInfo deploymentInfo, final ServletContext servletContext);\r\n    \r\n    }\r\n\r\nThis can&#39;t work, because WeldServletExtension actually does **not** implement ServletExtension in that setup : it uses a `jakarta.servlet.ServletContext`, while the interface requires the use of `javax.servlet.ServletContext`\r\n\r\n`undertow-servlet:2.2.7.Final` is brought transitively by `resteasy-undertow:5.0.0.Beta1` (latest version available, from October 2021), and I add myself `weld-servlet-core:4.0.2.Final` (also latest version : from July 2021)\r\n\r\nLooking at [ServletExtension in its main branch][1], Undertow is still using `javax.*` namespace, not `jakarta.*` - it hasn&#39;t been updated since 2014. So even if I were using Undertow latest version (2.2.12.Final), I would still have the issue \r\n\r\n\r\nSo I am a bit puzzled... what is the trick here ? can&#39;t we use Undertow once we upgrade to  RestEasy 5.x and use Weld ? \r\n\r\n\r\n\r\n  [1]: https://github.com/undertow-io/undertow/blob/c910c9cc4bd3047c83a4e1d9411e0ec6076f289d/servlet/src/main/java/io/undertow/servlet/ServletExtension.java","title":"Weld and Undertow under jakarta / javax namespaces","body":"<p>I am upgrading some of the libraries in my JEE application, hoping to solve a strange issue (see <a href=\"https://stackoverflow.com/questions/69463489/jax-rs-integration-test-with-undertow-failing-in-jenkins-but-working-locally\">JAX-RS integration test with Undertow failing in Jenkins but working locally</a>)</p>\n<p>While upgrading restEasy, then Weld, my tests are failing because there are some &quot;internal&quot; compilation issues due to the change of namespace from <code>javax.servlet.ServletContext</code> to <code>jakarta.servlet.ServletContext</code> :</p>\n<p>in my dependencies I have :</p>\n<p>in weld-servlet-core 4.0.2.Final :</p>\n<pre><code>package org.jboss.weld.environment.undertow;\n\nimport io.undertow.servlet.ServletExtension;\nimport jakarta.servlet.ServletContext;\n...\n\npublic class WeldServletExtension implements ServletExtension {\n\n    @Override\n    public void handleDeployment(DeploymentInfo deploymentInfo, ServletContext servletContext) {\n...\n}\n}\n</code></pre>\n<p>and in undertow-servlet 2.2.7.Final :</p>\n<pre><code>package io.undertow.servlet;\n\nimport io.undertow.servlet.api.DeploymentInfo;\n\nimport javax.servlet.ServletContext;\n\npublic interface ServletExtension {\n\n    void handleDeployment(final DeploymentInfo deploymentInfo, final ServletContext servletContext);\n\n}\n</code></pre>\n<p>This can't work, because WeldServletExtension actually does <strong>not</strong> implement ServletExtension in that setup : it uses a <code>jakarta.servlet.ServletContext</code>, while the interface requires the use of <code>javax.servlet.ServletContext</code></p>\n<p><code>undertow-servlet:2.2.7.Final</code> is brought transitively by <code>resteasy-undertow:5.0.0.Beta1</code> (latest version available, from October 2021), and I add myself <code>weld-servlet-core:4.0.2.Final</code> (also latest version : from July 2021)</p>\n<p>Looking at <a href=\"https://github.com/undertow-io/undertow/blob/c910c9cc4bd3047c83a4e1d9411e0ec6076f289d/servlet/src/main/java/io/undertow/servlet/ServletExtension.java\" rel=\"nofollow noreferrer\">ServletExtension in its main branch</a>, Undertow is still using <code>javax.*</code> namespace, not <code>jakarta.*</code> - it hasn't been updated since 2014. So even if I were using Undertow latest version (2.2.12.Final), I would still have the issue</p>\n<p>So I am a bit puzzled... what is the trick here ? can't we use Undertow once we upgrade to  RestEasy 5.x and use Weld ?</p>\n"},{"tags":["java","android","push-notification","onesignal"],"comments":[{"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"score":0,"creation_date":1634033945,"post_id":69512947,"comment_id":122912146,"body_markdown":"Could you please tell me what device(s) model you are using?","body":"Could you please tell me what device(s) model you are using?"},{"owner":{"account_id":17184015,"reputation":197,"user_id":12438977,"display_name":"ElonMuskofBadIdeas"},"score":0,"creation_date":1634034339,"post_id":69512947,"comment_id":122912270,"body_markdown":"Google pixel 3 emulator","body":"Google pixel 3 emulator"},{"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"score":0,"creation_date":1634035648,"post_id":69512947,"comment_id":122912766,"body_markdown":"does this problem happen on real devices?","body":"does this problem happen on real devices?"},{"owner":{"account_id":17184015,"reputation":197,"user_id":12438977,"display_name":"ElonMuskofBadIdeas"},"score":0,"creation_date":1634037862,"post_id":69512947,"comment_id":122913684,"body_markdown":"I tried it on real three devices as well: OnePlus 7 Pro, Huaweii p10+ and Samsung Note (very old). I didn&#39;t receive the notifications.","body":"I tried it on real three devices as well: OnePlus 7 Pro, Huaweii p10+ and Samsung Note (very old). I didn&#39;t receive the notifications."}],"answers":[{"tags":[],"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634153672,"creation_date":1634153672,"answer_id":69561355,"question_id":69512947,"body_markdown":"first of all you must wait at least 24 hr after reboot to make sure that the notifications are delivered or not ([per documentation][1])\r\n\r\n[![sample][2]][2]\r\n\r\nTo make this waiting period shorter you should set the notification Priority to `high priority 10`\r\n\r\n&gt; High Priority: These notifications are delivered immediately, though fall subject to the standby bucket policy on the device.\r\n&gt; \r\n&gt; Set a high priority 10 if you need it to go through any doze mode /\r\n&gt; other power saving modes. But only use priority 10 when you really\r\n&gt; need to as there is a daily limit where it might fallback to normal\r\n&gt; priority.\r\n\r\n\r\n  [1]: https://documentation.onesignal.com/docs/how-notifications-work#section-notifications-when-app-is-closed\r\n  [2]: https://i.stack.imgur.com/lqLLq.png","title":"Android onesignal push notifications do not appear after device reboot","body":"<p>first of all you must wait at least 24 hr after reboot to make sure that the notifications are delivered or not (<a href=\"https://documentation.onesignal.com/docs/how-notifications-work#section-notifications-when-app-is-closed\" rel=\"nofollow noreferrer\">per documentation</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/lqLLq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqLLq.png\" alt=\"sample\" /></a></p>\n<p>To make this waiting period shorter you should set the notification Priority to <code>high priority 10</code></p>\n<blockquote>\n<p>High Priority: These notifications are delivered immediately, though fall subject to the standby bucket policy on the device.</p>\n<p>Set a high priority 10 if you need it to go through any doze mode /\nother power saving modes. But only use priority 10 when you really\nneed to as there is a daily limit where it might fallback to normal\npriority.</p>\n</blockquote>\n"}],"owner":{"account_id":17184015,"reputation":197,"user_id":12438977,"display_name":"ElonMuskofBadIdeas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69561355,"answer_count":1,"score":3,"last_activity_date":1634153672,"creation_date":1633848278,"question_id":69512947,"body_markdown":"\r\n\r\n**Problem**  \r\nIn my webview app, I use onesignal to send user push notifications from my server. The device receives notifications not only when the app is running but also when it is completely closed. However, if I switch off and then switch on my phone, I do not get the notifications. And only after launching the app, I obtain those messages.\r\n\r\n**Idea**  \r\nMy idea was to launch my app on boot and immediately close it, so the user does not even notice it. However, I do not think it is a very good solution.\r\n\r\nHow do the developers usually solve this issue?","title":"Android onesignal push notifications do not appear after device reboot","body":"<p><strong>Problem</strong><br />\nIn my webview app, I use onesignal to send user push notifications from my server. The device receives notifications not only when the app is running but also when it is completely closed. However, if I switch off and then switch on my phone, I do not get the notifications. And only after launching the app, I obtain those messages.</p>\n<p><strong>Idea</strong><br />\nMy idea was to launch my app on boot and immediately close it, so the user does not even notice it. However, I do not think it is a very good solution.</p>\n<p>How do the developers usually solve this issue?</p>\n"},{"tags":["javascript","java","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1634191698,"post_id":69561334,"comment_id":122960013,"body_markdown":"You need to freeze DOM to be able to inspect the options.","body":"You need to freeze DOM to be able to inspect the options."},{"owner":{"account_id":11173850,"reputation":21,"user_id":8200055,"display_name":"Paul"},"score":0,"creation_date":1634219241,"post_id":69561334,"comment_id":122970689,"body_markdown":"Hi pburgr, it works! I was able to click the element I want. thankyou so much!","body":"Hi pburgr, it works! I was able to click the element I want. thankyou so much!"}],"owner":{"account_id":11173850,"reputation":21,"user_id":8200055,"display_name":"Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634153563,"creation_date":1634153563,"question_id":69561334,"body_markdown":"I want to select a values in dropdown. and my problem is. I can&#39;t locate the specific element as they are dynamic and they will just appear in the inspect elements Once I choose a value in dropdown. \r\n\r\nand I can&#39;t right click and inspect element the values in dropdown when the dropdown is open as it will close as soon as I left click.\r\n\r\nI also can&#39;t use &quot;Select&quot; class as they are embedded in &quot;div&quot; html element \r\n\r\nI also can&#39;t use &quot;SendKeys&quot; as the dropdown don&#39;t have textfield\r\n\r\nHere are the codes I tried to use.\r\n\r\n\r\n    //try #1\r\n    \t\tdriver.findElement(dropDown).click();\r\n    \t\tJavascriptExecutor js = (JavascriptExecutor)driver;\r\n    \t\t((WebElement) js.executeScript(&quot;document.getElementById(&#39;dropwDownID).value=&#39;VALUE I WANT&#39;&quot;)).click();\r\n\r\nnote: when I tried this script(&quot;document.getElementById(&#39;dropwDownID).value=&#39;VALUE I WANT&#39;) in the console,  it returns the value I want.\r\n\r\n    //try #2\r\n    \t\tdriver.findElement(dropDown).click();\r\n    \t\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n    \t\twait.until(ExpectedConditions.elementToBeClickable(this_Element_Only_Appear_When_I_Choose_A_Value));\r\n\r\n\r\n[Please see attached picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RYRbE.png\r\n\r\n","title":"How to handle dynamic Elements in Dropdown in Java Selenium","body":"<p>I want to select a values in dropdown. and my problem is. I can't locate the specific element as they are dynamic and they will just appear in the inspect elements Once I choose a value in dropdown.</p>\n<p>and I can't right click and inspect element the values in dropdown when the dropdown is open as it will close as soon as I left click.</p>\n<p>I also can't use &quot;Select&quot; class as they are embedded in &quot;div&quot; html element</p>\n<p>I also can't use &quot;SendKeys&quot; as the dropdown don't have textfield</p>\n<p>Here are the codes I tried to use.</p>\n<pre><code>//try #1\n        driver.findElement(dropDown).click();\n        JavascriptExecutor js = (JavascriptExecutor)driver;\n        ((WebElement) js.executeScript(&quot;document.getElementById('dropwDownID).value='VALUE I WANT'&quot;)).click();\n</code></pre>\n<p>note: when I tried this script(&quot;document.getElementById('dropwDownID).value='VALUE I WANT') in the console,  it returns the value I want.</p>\n<pre><code>//try #2\n        driver.findElement(dropDown).click();\n        WebDriverWait wait = new WebDriverWait(driver, 30);\n        wait.until(ExpectedConditions.elementToBeClickable(this_Element_Only_Appear_When_I_Choose_A_Value));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/RYRbE.png\" rel=\"nofollow noreferrer\">Please see attached picture</a></p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":2762617,"reputation":590,"user_id":2379196,"display_name":"thex"},"score":0,"creation_date":1544658881,"post_id":53753104,"comment_id":94359134,"body_markdown":"I carefully checked your code but I do not really see a problem. After revisiting an example here https://db.apache.org/derby/integrate/plugin_help/derby_app.html I would at least suggest to try replace executeUpdate() with execute() maybe this solves the problem or shows more","body":"I carefully checked your code but I do not really see a problem. After revisiting an example here <a href=\"https://db.apache.org/derby/integrate/plugin_help/derby_app.html\" rel=\"nofollow noreferrer\">db.apache.org/derby/integrate/plugin_help/derby_app.html</a> I would at least suggest to try replace executeUpdate() with execute() maybe this solves the problem or shows more"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1544658896,"post_id":53753104,"comment_id":94359140,"body_markdown":"Is `autoCommit` turned on?  You may need to commit the changes","body":"Is <code>autoCommit</code> turned on?  You may need to commit the changes"},{"owner":{"account_id":4617916,"reputation":107677,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1544658916,"post_id":53753104,"comment_id":94359152,"body_markdown":"In `closeConnection()` you `catch (SQLException sqlExcept) {}` but do not log anything.  Could that be hiding your problem?","body":"In <code>closeConnection()</code> you <code>catch (SQLException sqlExcept) {}</code> but do not log anything.  Could that be hiding your problem?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1544658976,"post_id":53753104,"comment_id":94359173,"body_markdown":"I would also suggest using [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to prevent the possibility of dangling resources","body":"I would also suggest using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to prevent the possibility of dangling resources"},{"owner":{"account_id":2762617,"reputation":590,"user_id":2379196,"display_name":"thex"},"score":0,"creation_date":1544659090,"post_id":53753104,"comment_id":94359204,"body_markdown":"The last thing I have in mind is the connection string, worth a shot to pack your credentials directly into the URL like shown in the example I linked above, maybe the current implementation is hiding something!","body":"The last thing I have in mind is the connection string, worth a shot to pack your credentials directly into the URL like shown in the example I linked above, maybe the current implementation is hiding something!"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1544659226,"post_id":53753104,"comment_id":94359239,"body_markdown":"@thex Check again, the insert statement is being incorrectly escaped, in at least one place.","body":"@thex Check again, the insert statement is being incorrectly escaped, in at least one place."},{"owner":{"account_id":2762617,"reputation":590,"user_id":2379196,"display_name":"thex"},"score":0,"creation_date":1544659287,"post_id":53753104,"comment_id":94359255,"body_markdown":"@TimBiegeleisen out of curiosity which literal I don&#39;t see it","body":"@TimBiegeleisen out of curiosity which literal I don&#39;t see it"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1544659358,"post_id":53753104,"comment_id":94359278,"body_markdown":"Most fields seem to have problems actually.","body":"Most fields seem to have problems actually."},{"owner":{"account_id":2762617,"reputation":590,"user_id":2379196,"display_name":"thex"},"score":0,"creation_date":1544659648,"post_id":53753104,"comment_id":94359354,"body_markdown":"@TimBiegeleisen I see it, you are right the &#39; is missing at multiple places, interesting that doesn&#39;t throw an exception or some sort of error, in that case I would have expected that some columns would simple be empty / null","body":"@TimBiegeleisen I see it, you are right the &#39; is missing at multiple places, interesting that doesn&#39;t throw an exception or some sort of error, in that case I would have expected that some columns would simple be empty / null"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1544659793,"post_id":53753104,"comment_id":94359390,"body_markdown":"That assumes the single quotes are balanced (i.e. there is an even number of them).","body":"That assumes the single quotes are balanced (i.e. there is an even number of them)."},{"owner":{"account_id":2762617,"reputation":590,"user_id":2379196,"display_name":"thex"},"score":0,"creation_date":1544659836,"post_id":53753104,"comment_id":94359401,"body_markdown":"@TimBiegeleisen tbh I didn&#39;t count them :P","body":"@TimBiegeleisen tbh I didn&#39;t count them :P"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544659020,"creation_date":1544659020,"answer_id":53753169,"question_id":53753104,"body_markdown":"The immediate cause of the problem seems to be an incorrectly escaped literal in the `INSERT` statement (the address).  We _could_ try to fix that, but it would be much better to use a prepared statement, which handles the escaping itself.\r\n\r\n    String sql = &quot;INSERT INTO KLIENCI (ID, IMIE, NAZWISKO, ADRES, TELEFON, MAIL) &quot;;\r\n    sql += &quot;VALUES (?, ?, ?, ?, ?, ?,)&quot;;\r\n    PreparedStatement ps = conn.prepareStatement(sql);\r\n    ps.setInt(1, klienci.getId_klienta());\r\n    ps.setString(2, klienci.getImie());\r\n    ps.setString(3, klienci.getNazwisko());\r\n    ps.setString(4, klienci.getAdres());\r\n    ps.setString(5, klienci.getTelefon());\r\n    ps.setString(6, klienci.getEmail());\r\n\r\n    ps.executeUpdate();","title":"JDBC insert query does not insert record in database","body":"<p>The immediate cause of the problem seems to be an incorrectly escaped literal in the <code>INSERT</code> statement (the address).  We <em>could</em> try to fix that, but it would be much better to use a prepared statement, which handles the escaping itself.</p>\n\n<pre><code>String sql = \"INSERT INTO KLIENCI (ID, IMIE, NAZWISKO, ADRES, TELEFON, MAIL) \";\nsql += \"VALUES (?, ?, ?, ?, ?, ?,)\";\nPreparedStatement ps = conn.prepareStatement(sql);\nps.setInt(1, klienci.getId_klienta());\nps.setString(2, klienci.getImie());\nps.setString(3, klienci.getNazwisko());\nps.setString(4, klienci.getAdres());\nps.setString(5, klienci.getTelefon());\nps.setString(6, klienci.getEmail());\n\nps.executeUpdate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544730694,"creation_date":1544661252,"answer_id":53753401,"question_id":53753104,"body_markdown":"The [Answer by Tim Biegeleisen][1] is correct about mistyping your SQL text and about the advice to use a prepared statement.\n\n# Example app\n\nIn support of his Answer, here is a complete example app. Using [H2 Database Engine][2] rather than [Derby][3].\n\n    package com.basilbourque.example;\n    \n    import java.sql.*;\n    import java.util.UUID;\n    \n    public class CustomerDbEx {\n    \n        public static void main ( String[] args ) {\n            CustomerDbEx app = new CustomerDbEx();\n            app.doIt();\n        }\n    \n        private void doIt ( ) {\n    \n            try {\n                Class.forName( &quot;org.h2.Driver&quot; );\n            } catch ( ClassNotFoundException e ) {\n                e.printStackTrace();\n            }\n    \n            try (\n                    Connection conn = DriverManager.getConnection( &quot;jdbc:h2:mem:customer_example_db;DB_CLOSE_DELAY=-1&quot; ) ; // Set `DB_CLOSE_DELAY` to `-1` to keep in-memory database in existence after connection closes.\n                    Statement stmt = conn.createStatement() ;\n            ) {\n                String sql = &quot;CREATE TABLE customer_ ( \\n&quot; +\n                        &quot;  id_ UUID NOT NULL PRIMARY KEY , \\n&quot; +\n                        &quot;  given_name_ VARCHAR NOT NULL , \\n&quot; +\n                        &quot;  surname_ VARCHAR NOT NULL , \\n&quot; +\n                        &quot;  address_ VARCHAR NOT NULL , \\n&quot; +\n                        &quot;  phone_ VARCHAR NOT NULL , \\n&quot; +\n                        &quot;  email_ VARCHAR NOT NULL \\n&quot; +\n                        &quot;);&quot;;\n                stmt.execute( sql );\n    \n                // Insert rows.\n                sql = &quot;INSERT INTO customer_ ( id_ , given_name_ , surname_ , address_ , phone_ , email_ ) \\n&quot;;\n                sql += &quot;VALUES ( ? , ? , ? ,  ? , ? , ?  ) \\n&quot;;\n                sql += &quot;;&quot;;\n                try (\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql ) ;\n                ) {\n    //                preparedStatement.setObject( 1 , customer.getId() );\n    //                preparedStatement.setString( 2 , customer.getGivenName() );\n    //                preparedStatement.setString( 3 , customer.getSurname() );\n    //                preparedStatement.setString( 3 , customer.getAddress() );\n    //                preparedStatement.setString( 3 , customer.getPhone() );\n    //                preparedStatement.setString( 3 , customer.getEmail() );\n    //                preparedStatement.executeUpdate();\n    \n                    preparedStatement.setObject( 1 , UUID.fromString( &quot;ddbf2754-f9aa-4ec3-98e9-b03da4aa83d1&quot; ) );\n                    preparedStatement.setString( 2 , &quot;Wendy&quot; );\n                    preparedStatement.setString( 3 , &quot;Melvoin&quot; );\n                    preparedStatement.setString( 4 , &quot;101 Main ST&quot; );\n                    preparedStatement.setString( 5 , &quot;(525) 555-1911&quot; );\n                    preparedStatement.setString( 6 , &quot;wendy@example.com&quot; );\n                    preparedStatement.executeUpdate();\n    \n                    preparedStatement.setObject( 1 , UUID.fromString( &quot;5851c90a-f1cb-4706-a329-c54890e4d190&quot; ) );\n                    preparedStatement.setString( 2 , &quot;Lisa&quot; );\n                    preparedStatement.setString( 3 , &quot;Coleman&quot; );\n                    preparedStatement.setString( 4 , &quot;787 Dream ST&quot; );\n                    preparedStatement.setString( 5 , &quot;(525) 555-7824&quot; );\n                    preparedStatement.setString( 6 , &quot;lisa@example.com&quot; );\n                    preparedStatement.executeUpdate();\n    \n    \n                }\n    \n                // Query all.\n                sql = &quot;SELECT * FROM customer_ ;&quot;;\n                try ( ResultSet rs = stmt.executeQuery( sql ) ; ) {\n                    while ( rs.next() ) {\n                        //Retrieve by column name\n                        UUID id = rs.getObject( &quot;id_&quot; , UUID.class );\n                        String givenName = rs.getString( &quot;given_name_&quot; );\n                        String surname = rs.getString( &quot;surname_&quot; );\n                        String address = rs.getString( &quot;address_&quot; );\n                        String phone = rs.getString( &quot;phone_&quot; );\n                        String email = rs.getString( &quot;email_&quot; );\n    \n                        System.out.println( &quot;Customer: &quot; + id + &quot; | &quot; + givenName + &quot; | &quot; + surname + &quot; | &quot; + address + &quot; | &quot; + phone + &quot; | &quot; + email );\n    \n                        // Instantiate a `Customer` object for this data.\n    //                    Customer c = new Customer( id , givenName , surname , address , phone , email );\n                    }\n                }\n            } catch ( SQLException e ) {\n                e.printStackTrace();\n            }\n    \n        }\n    \n    }\n\n\nWhen run.\n\n&gt;Customer: ddbf2754-f9aa-4ec3-98e9-b03da4aa83d1 | Wendy | Melvoin | 101 Main ST | (525) 555-1911 | wendy@example.com\n&gt;\n&gt;Customer: 5851c90a-f1cb-4706-a329-c54890e4d190 | Lisa | Coleman | 787 Dream ST | (525) 555-7824 | lisa@example.com\n\n\n  [1]: https://stackoverflow.com/a/53753169/642706\n  [2]: https://en.wikipedia.org/wiki/H2_(DBMS)\n  [3]: https://en.wikipedia.org/wiki/Apache_Derby","title":"JDBC insert query does not insert record in database","body":"<p>The <a href=\"https://stackoverflow.com/a/53753169/642706\">Answer by Tim Biegeleisen</a> is correct about mistyping your SQL text and about the advice to use a prepared statement.</p>\n<h1>Example app</h1>\n<p>In support of his Answer, here is a complete example app. Using <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2 Database Engine</a> rather than <a href=\"https://en.wikipedia.org/wiki/Apache_Derby\" rel=\"nofollow noreferrer\">Derby</a>.</p>\n<pre><code>package com.basilbourque.example;\n\nimport java.sql.*;\nimport java.util.UUID;\n\npublic class CustomerDbEx {\n\n    public static void main ( String[] args ) {\n        CustomerDbEx app = new CustomerDbEx();\n        app.doIt();\n    }\n\n    private void doIt ( ) {\n\n        try {\n            Class.forName( &quot;org.h2.Driver&quot; );\n        } catch ( ClassNotFoundException e ) {\n            e.printStackTrace();\n        }\n\n        try (\n                Connection conn = DriverManager.getConnection( &quot;jdbc:h2:mem:customer_example_db;DB_CLOSE_DELAY=-1&quot; ) ; // Set `DB_CLOSE_DELAY` to `-1` to keep in-memory database in existence after connection closes.\n                Statement stmt = conn.createStatement() ;\n        ) {\n            String sql = &quot;CREATE TABLE customer_ ( \\n&quot; +\n                    &quot;  id_ UUID NOT NULL PRIMARY KEY , \\n&quot; +\n                    &quot;  given_name_ VARCHAR NOT NULL , \\n&quot; +\n                    &quot;  surname_ VARCHAR NOT NULL , \\n&quot; +\n                    &quot;  address_ VARCHAR NOT NULL , \\n&quot; +\n                    &quot;  phone_ VARCHAR NOT NULL , \\n&quot; +\n                    &quot;  email_ VARCHAR NOT NULL \\n&quot; +\n                    &quot;);&quot;;\n            stmt.execute( sql );\n\n            // Insert rows.\n            sql = &quot;INSERT INTO customer_ ( id_ , given_name_ , surname_ , address_ , phone_ , email_ ) \\n&quot;;\n            sql += &quot;VALUES ( ? , ? , ? ,  ? , ? , ?  ) \\n&quot;;\n            sql += &quot;;&quot;;\n            try (\n                    PreparedStatement preparedStatement = conn.prepareStatement( sql ) ;\n            ) {\n//                preparedStatement.setObject( 1 , customer.getId() );\n//                preparedStatement.setString( 2 , customer.getGivenName() );\n//                preparedStatement.setString( 3 , customer.getSurname() );\n//                preparedStatement.setString( 3 , customer.getAddress() );\n//                preparedStatement.setString( 3 , customer.getPhone() );\n//                preparedStatement.setString( 3 , customer.getEmail() );\n//                preparedStatement.executeUpdate();\n\n                preparedStatement.setObject( 1 , UUID.fromString( &quot;ddbf2754-f9aa-4ec3-98e9-b03da4aa83d1&quot; ) );\n                preparedStatement.setString( 2 , &quot;Wendy&quot; );\n                preparedStatement.setString( 3 , &quot;Melvoin&quot; );\n                preparedStatement.setString( 4 , &quot;101 Main ST&quot; );\n                preparedStatement.setString( 5 , &quot;(525) 555-1911&quot; );\n                preparedStatement.setString( 6 , &quot;wendy@example.com&quot; );\n                preparedStatement.executeUpdate();\n\n                preparedStatement.setObject( 1 , UUID.fromString( &quot;5851c90a-f1cb-4706-a329-c54890e4d190&quot; ) );\n                preparedStatement.setString( 2 , &quot;Lisa&quot; );\n                preparedStatement.setString( 3 , &quot;Coleman&quot; );\n                preparedStatement.setString( 4 , &quot;787 Dream ST&quot; );\n                preparedStatement.setString( 5 , &quot;(525) 555-7824&quot; );\n                preparedStatement.setString( 6 , &quot;lisa@example.com&quot; );\n                preparedStatement.executeUpdate();\n\n\n            }\n\n            // Query all.\n            sql = &quot;SELECT * FROM customer_ ;&quot;;\n            try ( ResultSet rs = stmt.executeQuery( sql ) ; ) {\n                while ( rs.next() ) {\n                    //Retrieve by column name\n                    UUID id = rs.getObject( &quot;id_&quot; , UUID.class );\n                    String givenName = rs.getString( &quot;given_name_&quot; );\n                    String surname = rs.getString( &quot;surname_&quot; );\n                    String address = rs.getString( &quot;address_&quot; );\n                    String phone = rs.getString( &quot;phone_&quot; );\n                    String email = rs.getString( &quot;email_&quot; );\n\n                    System.out.println( &quot;Customer: &quot; + id + &quot; | &quot; + givenName + &quot; | &quot; + surname + &quot; | &quot; + address + &quot; | &quot; + phone + &quot; | &quot; + email );\n\n                    // Instantiate a `Customer` object for this data.\n//                    Customer c = new Customer( id , givenName , surname , address , phone , email );\n                }\n            }\n        } catch ( SQLException e ) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>Customer: ddbf2754-f9aa-4ec3-98e9-b03da4aa83d1 | Wendy | Melvoin | 101 Main ST | (525) 555-1911 | wendy@example.com</p>\n<p>Customer: 5851c90a-f1cb-4706-a329-c54890e4d190 | Lisa | Coleman | 787 Dream ST | (525) 555-7824 | lisa@example.com</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13083183,"reputation":21,"user_id":9453062,"display_name":"Wladson Marques"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634153434,"creation_date":1634152020,"answer_id":69561038,"question_id":53753104,"body_markdown":"I had this problem even though all syntax was correct, I simply lacked the `commit()` statement\r\n\r\n```\r\ngetConnection().commit();\r\n```","title":"JDBC insert query does not insert record in database","body":"<p>I had this problem even though all syntax was correct, I simply lacked the <code>commit()</code> statement</p>\n<pre><code>getConnection().commit();\n</code></pre>\n"}],"owner":{"account_id":14935195,"reputation":21,"user_id":10783433,"display_name":"Catttiee"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1634153434,"creation_date":1544658492,"question_id":53753104,"body_markdown":"I have a little problem. My database doesn&#39;t work and I don&#39;t know why.. There&#39;s no error. Everything looks fine, im typing values and my web app says &quot;saved into database&quot; it&#39;s not true. Database is empty.\r\nHere&#39;s my code:\r\n\r\n\r\n    public class ConnectionManager {\r\n    \r\n        private static String dbURL = &quot;jdbc:derby://localhost:1527/CarRental&quot;;\r\n        private static Connection conn = null;\r\n        private static Statement stmt = null;\r\n    \r\n        public void createConnection() {\r\n            try {\r\n                Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;).newInstance();\r\n                conn = DriverManager.getConnection(dbURL,&quot;GioRgio&quot;,&quot;12345&quot;);\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void addClient(Klienci klienci) {\r\n            \r\n            String query = &quot;INSERT INTO KLIENCI&quot;\r\n                    + &quot;(ID, IMIE, NAZWISKO, ADRES, TELEFON, MAIL)&quot;\r\n                    + &quot; VALUES (&quot; + klienci.getId_klienta() + &quot;,&#39;&quot; + klienci.getImie() + &quot;&#39;,&#39;&quot; \r\n                    + klienci.getNazwisko() + &quot;&#39;,&quot; + klienci.getAdres()+&quot;&#39;,&quot;+klienci.getTelefon()+&quot;&#39;,&quot;+klienci.getMail() + &quot;)&quot;; \r\n                   \r\n            try {\r\n                stmt = conn.createStatement();\r\n                stmt.executeUpdate(query);\r\n                stmt.close();\r\n            } catch (SQLException sqlExcept) {\r\n                sqlExcept.printStackTrace();\r\n            }\r\n        }\r\n    \tpublic void closeConnection() {\r\n            try {\r\n                if (stmt != null) {\r\n                    stmt.close();\r\n                }\r\n                if (conn != null) {\r\n                    DriverManager.getConnection(dbURL + &quot;;shutdown=true&quot;);\r\n                    conn.close();\r\n                }\r\n            } catch (SQLException sqlExcept) {\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n  \r\n\r\n  ","title":"JDBC insert query does not insert record in database","body":"<p>I have a little problem. My database doesn't work and I don't know why.. There's no error. Everything looks fine, im typing values and my web app says \"saved into database\" it's not true. Database is empty.\nHere's my code:</p>\n\n<pre><code>public class ConnectionManager {\n\n    private static String dbURL = \"jdbc:derby://localhost:1527/CarRental\";\n    private static Connection conn = null;\n    private static Statement stmt = null;\n\n    public void createConnection() {\n        try {\n            Class.forName(\"org.apache.derby.jdbc.ClientDriver\").newInstance();\n            conn = DriverManager.getConnection(dbURL,\"GioRgio\",\"12345\");\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public void addClient(Klienci klienci) {\n\n        String query = \"INSERT INTO KLIENCI\"\n                + \"(ID, IMIE, NAZWISKO, ADRES, TELEFON, MAIL)\"\n                + \" VALUES (\" + klienci.getId_klienta() + \",'\" + klienci.getImie() + \"','\" \n                + klienci.getNazwisko() + \"',\" + klienci.getAdres()+\"',\"+klienci.getTelefon()+\"',\"+klienci.getMail() + \")\"; \n\n        try {\n            stmt = conn.createStatement();\n            stmt.executeUpdate(query);\n            stmt.close();\n        } catch (SQLException sqlExcept) {\n            sqlExcept.printStackTrace();\n        }\n    }\n    public void closeConnection() {\n        try {\n            if (stmt != null) {\n                stmt.close();\n            }\n            if (conn != null) {\n                DriverManager.getConnection(dbURL + \";shutdown=true\");\n                conn.close();\n            }\n        } catch (SQLException sqlExcept) {\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dynamic","lottie"],"answers":[{"tags":[],"owner":{"account_id":185392,"reputation":17382,"user_id":422060,"accept_rate":100,"display_name":"Ben Weiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548247585,"creation_date":1548247585,"answer_id":54327621,"question_id":54322435,"body_markdown":"In case you&#39;re testing this locally, the `onDemand` module won&#39;t be loaded through the `PlayCore API`.\r\n\r\nGenerally, before you can access code / resources from an onDemand module, you&#39;ll have make sure `SplitCompat.install(context)` is called in `attachBaseContext` like this or similar:\r\n\r\n```\r\n    override fun attachBaseContext(newBase: Context?) {\r\n        super.attachBaseContext(newBase)\r\n        SplitCompat.install(this)\r\n    }\r\n```\r\n\r\nAlso make sure that the application still will be `a` when querying the package manager.\r\n\r\n```\r\nmanager.getResourcesForApplication(&quot;com.package.a&quot;);\r\n```\r\n\r\nis more likely to yield a result for the given resource.\r\n\r\nFrom a UX perspective it&#39;s not recommendable to download an onDemand module while a splash screen is displayed and then replace views in that Activity.\r\n\r\nThat being said, please check the exception log in the catch block. Logging it via `Log.v` rather than `e.printStackTrace()`.","title":"Using Dynamic App feature in Base application","body":"<p>In case you're testing this locally, the <code>onDemand</code> module won't be loaded through the <code>PlayCore API</code>.</p>\n\n<p>Generally, before you can access code / resources from an onDemand module, you'll have make sure <code>SplitCompat.install(context)</code> is called in <code>attachBaseContext</code> like this or similar:</p>\n\n<pre><code>    override fun attachBaseContext(newBase: Context?) {\n        super.attachBaseContext(newBase)\n        SplitCompat.install(this)\n    }\n</code></pre>\n\n<p>Also make sure that the application still will be <code>a</code> when querying the package manager.</p>\n\n<pre><code>manager.getResourcesForApplication(\"com.package.a\");\n</code></pre>\n\n<p>is more likely to yield a result for the given resource.</p>\n\n<p>From a UX perspective it's not recommendable to download an onDemand module while a splash screen is displayed and then replace views in that Activity.</p>\n\n<p>That being said, please check the exception log in the catch block. Logging it via <code>Log.v</code> rather than <code>e.printStackTrace()</code>.</p>\n"}],"owner":{"account_id":15181032,"reputation":19,"user_id":10954290,"display_name":"Saket Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634153315,"creation_date":1548230280,"question_id":54322435,"body_markdown":"Suppose I have my base application A with  **com.package.a** package name and B with **com.package.b** is my Dynamic App feature which will be downloaded in my base application after installing the base apk. \r\nKnow more about [dynamic Feature][1] \r\nNow I have a layout in my B (dynamic feature project) which I want to access in my Base application A. I tried [this][2] but It&#39;s not working for me.\r\n\r\nThis is the layout I want to access from dynamic feature application B: \r\n\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/lottie_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        tools:context=&quot;.LottieAnimationActivity&quot;&gt;\r\n    \r\n        &lt;com.airbnb.lottie.LottieAnimationView\r\n            android:id=&quot;@+id/lottie_animation_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            app:lottie_fileName=&quot;animation.json&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nAnd this is way I&#39;m doing it in my Activity\r\n    \r\n    public class SplashActivity extends Activity {\r\n    @BindView(R.id.splash_logo)\r\n    ImageView splash_logo;\r\n\r\n    private int sessionID;\r\n    private boolean dynamicModule = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        SplitInstallManager splitInstallManager = SplitInstallManagerFactory.create(this);\r\n            SplitInstallRequest request = SplitInstallRequest\r\n                    .newBuilder()\r\n                    .addModule(&quot;lottie&quot;)\r\n                    .build();\r\n            SplitInstallStateUpdatedListener listener = new SplitInstallStateUpdatedListener() {\r\n                @Override\r\n                public void onStateUpdate(SplitInstallSessionState splitInstallSessionState) {\r\n                    if(splitInstallSessionState.sessionId() == sessionID) {\r\n                        switch (splitInstallSessionState.status()) {\r\n                            case SplitInstallSessionStatus.INSTALLED:\r\n                                Log.v(&quot;lottie&quot;, &quot;lottie Module installed&quot;);\r\n                              \r\n                                try\r\n                                {\r\n                                    PackageManager manager = getPackageManager();\r\n                                    Resources resources = manager.getResourcesForApplication(&quot;com.package.b&quot;);\r\n                                    int resId = resources.getIdentifier(&quot;lottie_animation_view&quot;, &quot;layout&quot;, &quot;com.package.b&quot;);\r\n                                    RelativeLayout alayout = (RelativeLayout) resources.getLayout(resId);\r\n                                    setContentView(resId);\r\n    \r\n                                    }\r\n                                catch (Exception e)\r\n                                {\r\n                                    e.printStackTrace();\r\n                                    setContentView(R.layout.activity_splash);\r\n                                    Toast.makeText(SplashActivity.this, &quot;error&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n                                }\r\n                                break;\r\n                            case SplitInstallSessionStatus.CANCELED:\r\n                                // TODO\r\n                                break;\r\n                            case SplitInstallSessionStatus.DOWNLOADED:\r\n                                Toast.makeText(SplashActivity.this, &quot; Downloaded but not installed&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n                                // TODO\r\n                                break;\r\n                            case SplitInstallSessionStatus.PENDING:\r\n                                // TODO\r\n                                break;\r\n                            case SplitInstallSessionStatus.FAILED:\r\n                                // TODO\r\n                                setContentView(R.layout.activity_splash);\r\n                                break;\r\n                            case SplitInstallSessionStatus.DOWNLOADING:\r\n                                setContentView(R.layout.activity_splash);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n    \r\n    \r\n            splitInstallManager.registerListener(listener);\r\n    \r\n            splitInstallManager.startInstall(request)\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(Exception e) {\r\n                        }\r\n                    })\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;Integer&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Integer sessionId) {\r\n                            sessionID = sessionId;\r\n                        }\r\n                    });\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/studio/projects/dynamic-delivery\r\n  [2]: https://stackoverflow.com/a/22098671/6349540\r\n\r\n\r\n\r\nI&#39;m just checking if the dynamic feature is installed or not. If it is installed then I&#39;m setting the contentView as the layout present in the com.package.B of dynamic feature. ","title":"Using Dynamic App feature in Base application","body":"<p>Suppose I have my base application A with  <strong>com.package.a</strong> package name and B with <strong>com.package.b</strong> is my Dynamic App feature which will be downloaded in my base application after installing the base apk.\nKnow more about <a href=\"https://developer.android.com/studio/projects/dynamic-delivery\" rel=\"nofollow noreferrer\">dynamic Feature</a>\nNow I have a layout in my B (dynamic feature project) which I want to access in my Base application A. I tried <a href=\"https://stackoverflow.com/a/22098671/6349540\">this</a> but It's not working for me.</p>\n<p>This is the layout I want to access from dynamic feature application B:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/lottie_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    tools:context=&quot;.LottieAnimationActivity&quot;&gt;\n\n    &lt;com.airbnb.lottie.LottieAnimationView\n        android:id=&quot;@+id/lottie_animation_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;@color/white&quot;\n        app:lottie_fileName=&quot;animation.json&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And this is way I'm doing it in my Activity</p>\n<pre><code>public class SplashActivity extends Activity {\n@BindView(R.id.splash_logo)\nImageView splash_logo;\n\nprivate int sessionID;\nprivate boolean dynamicModule = false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    SplitInstallManager splitInstallManager = SplitInstallManagerFactory.create(this);\n        SplitInstallRequest request = SplitInstallRequest\n                .newBuilder()\n                .addModule(&quot;lottie&quot;)\n                .build();\n        SplitInstallStateUpdatedListener listener = new SplitInstallStateUpdatedListener() {\n            @Override\n            public void onStateUpdate(SplitInstallSessionState splitInstallSessionState) {\n                if(splitInstallSessionState.sessionId() == sessionID) {\n                    switch (splitInstallSessionState.status()) {\n                        case SplitInstallSessionStatus.INSTALLED:\n                            Log.v(&quot;lottie&quot;, &quot;lottie Module installed&quot;);\n                          \n                            try\n                            {\n                                PackageManager manager = getPackageManager();\n                                Resources resources = manager.getResourcesForApplication(&quot;com.package.b&quot;);\n                                int resId = resources.getIdentifier(&quot;lottie_animation_view&quot;, &quot;layout&quot;, &quot;com.package.b&quot;);\n                                RelativeLayout alayout = (RelativeLayout) resources.getLayout(resId);\n                                setContentView(resId);\n\n                                }\n                            catch (Exception e)\n                            {\n                                e.printStackTrace();\n                                setContentView(R.layout.activity_splash);\n                                Toast.makeText(SplashActivity.this, &quot;error&quot;, Toast.LENGTH_LONG).show();\n\n                            }\n                            break;\n                        case SplitInstallSessionStatus.CANCELED:\n                            // TODO\n                            break;\n                        case SplitInstallSessionStatus.DOWNLOADED:\n                            Toast.makeText(SplashActivity.this, &quot; Downloaded but not installed&quot;, Toast.LENGTH_LONG).show();\n\n                            // TODO\n                            break;\n                        case SplitInstallSessionStatus.PENDING:\n                            // TODO\n                            break;\n                        case SplitInstallSessionStatus.FAILED:\n                            // TODO\n                            setContentView(R.layout.activity_splash);\n                            break;\n                        case SplitInstallSessionStatus.DOWNLOADING:\n                            setContentView(R.layout.activity_splash);\n                            break;\n                    }\n                }\n            }\n        };\n\n\n        splitInstallManager.registerListener(listener);\n\n        splitInstallManager.startInstall(request)\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(Exception e) {\n                    }\n                })\n                .addOnSuccessListener(new OnSuccessListener&lt;Integer&gt;() {\n                    @Override\n                    public void onSuccess(Integer sessionId) {\n                        sessionID = sessionId;\n                    }\n                });\n</code></pre>\n<p>I'm just checking if the dynamic feature is installed or not. If it is installed then I'm setting the contentView as the layout present in the com.package.B of dynamic feature.</p>\n"},{"tags":["java","spring","spring-mvc","intellij-idea"],"owner":{"account_id":17131660,"reputation":11,"user_id":12397621,"display_name":"Mahmoud Hamarsheh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634153117,"creation_date":1634153117,"question_id":69561251,"body_markdown":"I have this error when I&#39;m run my spring-MVC code: \r\n\r\nWhite-label Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nWed Oct 13 21:47:24 EEST 2021\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\n\r\n\r\n\r\n\r\n\r\n**This is my pom.xml**\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.5&lt;/version&gt;\r\n                &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n            &lt;/parent&gt;\r\n            &lt;groupId&gt;com.mahmoud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;FirstSpring&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;packaging&gt;war&lt;/packaging&gt;\r\n            &lt;name&gt;FirstSpring&lt;/name&gt;\r\n            &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n            &lt;properties&gt;\r\n                &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;/properties&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                    &lt;version&gt;5.3.9&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-servlet-api --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.0.53&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;/dependencies&gt;\r\n    \r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n    \r\n                    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;path&gt;/&lt;/path&gt;\r\n                        &lt;contextReloadable&gt;true&lt;/contextReloadable&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n    \r\n        &lt;/project&gt;\r\n\r\n\r\n\r\n**Here is the controller of my application extended from HttpServlet** \r\n\r\n\r\n\r\n\r\n    @WebServlet(urlPatterns = &quot;/login&quot;)\r\n    \r\n    public class Login extends HttpServlet {\r\n    \r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {\r\n    \r\n            request.getRequestDispatcher(&quot;/WEB-INF/views/login.jsp&quot;).forward(request, response);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n**The HTML code**            \r\n    \r\n    \r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;title&gt;HTML Tutorial&lt;/title&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;This is a jsp&lt;/h1&gt;\r\n    &lt;p&gt;This is a paragraph.&lt;/p&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n\r\nThis is web.xml\r\n\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n       &lt;display-name&gt;Students DB&lt;/display-name&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\n","title":"Why I have White-label Error Page in my Spring MVC project","body":"<p>I have this error when I'm run my spring-MVC code:</p>\n<p>White-label Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Wed Oct 13 21:47:24 EEST 2021\nThere was an unexpected error (type=Not Found, status=404).</p>\n<p><strong>This is my pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.mahmoud&lt;/groupId&gt;\n        &lt;artifactId&gt;FirstSpring&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;war&lt;/packaging&gt;\n        &lt;name&gt;FirstSpring&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                &lt;version&gt;5.3.9&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-servlet-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat-servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;9.0.53&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;jstl&lt;/groupId&gt;\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n                &lt;version&gt;1.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;path&gt;/&lt;/path&gt;\n                    &lt;contextReloadable&gt;true&lt;/contextReloadable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n<p><strong>Here is the controller of my application extended from HttpServlet</strong></p>\n<pre><code>@WebServlet(urlPatterns = &quot;/login&quot;)\n\npublic class Login extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {\n\n        request.getRequestDispatcher(&quot;/WEB-INF/views/login.jsp&quot;).forward(request, response);\n\n    }\n}\n</code></pre>\n<p><strong>The HTML code</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;title&gt;HTML Tutorial&lt;/title&gt;\n&lt;body&gt;\n&lt;h1&gt;This is a jsp&lt;/h1&gt;\n&lt;p&gt;This is a paragraph.&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>This is web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n   &lt;display-name&gt;Students DB&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","sql-server","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634129030,"creation_date":1634129030,"answer_id":69555819,"question_id":69553589,"body_markdown":"Two solutions:\r\n\r\n1. Add JDBC-specific properties as options in `option()`, like `connectRetryCount`. You can check the list at: https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-ver15. \r\n\r\n2. Add the JDBC properties in the URL itself.\r\n\r\nYour code could look like:\r\n\r\n    session.read().format(&quot;jdbc&quot;)\r\n        .option(&quot;connectRetryCount&quot;, 200)\r\n        .option(&quot;url&quot;, dbProperties.getProperty(&quot;URL&quot;))\r\n        .option(&quot;driverClass&quot;, dbProperties.getProperty(&quot;DRIVERCLASS&quot;))\r\n        .option(&quot;username&quot;, dbProperties.getProperty(&quot;USERNAME&quot;))\r\n        .option(&quot;password&quot;, dbProperties.getProperty(&quot;PASSWORD&quot;))\r\n        .option(&quot;dbtable&quot;, &quot;(&quot; + formattedSQL + &quot;) as &quot; + tablenameDS)\r\n        .load();\r\n\r\nYou can find detailed examples there: https://github.com/jgperrin/net.jgp.books.spark.ch08/tree/master/src/main/java/net/jgp/books/spark/ch08/lab100_mysql_ingestion.\r\n","title":"Apache Spark &amp; JDBC : Socket Exception : Connection Reset","body":"<p>Two solutions:</p>\n<ol>\n<li><p>Add JDBC-specific properties as options in <code>option()</code>, like <code>connectRetryCount</code>. You can check the list at: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-ver15\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-ver15</a>.</p>\n</li>\n<li><p>Add the JDBC properties in the URL itself.</p>\n</li>\n</ol>\n<p>Your code could look like:</p>\n<pre><code>session.read().format(&quot;jdbc&quot;)\n    .option(&quot;connectRetryCount&quot;, 200)\n    .option(&quot;url&quot;, dbProperties.getProperty(&quot;URL&quot;))\n    .option(&quot;driverClass&quot;, dbProperties.getProperty(&quot;DRIVERCLASS&quot;))\n    .option(&quot;username&quot;, dbProperties.getProperty(&quot;USERNAME&quot;))\n    .option(&quot;password&quot;, dbProperties.getProperty(&quot;PASSWORD&quot;))\n    .option(&quot;dbtable&quot;, &quot;(&quot; + formattedSQL + &quot;) as &quot; + tablenameDS)\n    .load();\n</code></pre>\n<p>You can find detailed examples there: <a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch08/tree/master/src/main/java/net/jgp/books/spark/ch08/lab100_mysql_ingestion\" rel=\"nofollow noreferrer\">https://github.com/jgperrin/net.jgp.books.spark.ch08/tree/master/src/main/java/net/jgp/books/spark/ch08/lab100_mysql_ingestion</a>.</p>\n"}],"owner":{"account_id":4298267,"reputation":178,"user_id":3512678,"display_name":"Daksh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634152248,"creation_date":1634119814,"question_id":69553589,"body_markdown":"Our Spark Java application, task got an exception `&quot;com.microsoft.sqlserver.jdbc.SQLServerException: java.net.Socket Exception : Connection Reset&quot;`, while it was running. \r\n\r\nIt makes a connection with database using following code, and table has millions of records:\r\n\r\n    session.read().format(&quot;jdbc&quot;)\r\n                            .option(&quot;url&quot;, dbProperties.getProperty(&quot;URL&quot;))\r\n                            .option(&quot;driverClass&quot;, dbProperties.getProperty(&quot;DRIVERCLASS&quot;))\r\n                            .option(&quot;username&quot;, dbProperties.getProperty(&quot;USERNAME&quot;))\r\n                            .option(&quot;password&quot;, dbProperties.getProperty(&quot;PASSWORD&quot;))\r\n                            .option(&quot;dbtable&quot;, &quot;(&quot; + formattedSQL + &quot;) as &quot; + tablenameDS)\r\n                            .load();\r\n\r\nIs there a way in Apache Spark, that it performs some X connection retries to the database with a delay between retries? \r\n\r\nWill increasing the following property &quot;`spark.task.maxFailures`&quot; default value from  4, fix this issue?","title":"Apache Spark &amp; JDBC : Socket Exception : Connection Reset","body":"<p>Our Spark Java application, task got an exception <code>&quot;com.microsoft.sqlserver.jdbc.SQLServerException: java.net.Socket Exception : Connection Reset&quot;</code>, while it was running.</p>\n<p>It makes a connection with database using following code, and table has millions of records:</p>\n<pre><code>session.read().format(&quot;jdbc&quot;)\n                        .option(&quot;url&quot;, dbProperties.getProperty(&quot;URL&quot;))\n                        .option(&quot;driverClass&quot;, dbProperties.getProperty(&quot;DRIVERCLASS&quot;))\n                        .option(&quot;username&quot;, dbProperties.getProperty(&quot;USERNAME&quot;))\n                        .option(&quot;password&quot;, dbProperties.getProperty(&quot;PASSWORD&quot;))\n                        .option(&quot;dbtable&quot;, &quot;(&quot; + formattedSQL + &quot;) as &quot; + tablenameDS)\n                        .load();\n</code></pre>\n<p>Is there a way in Apache Spark, that it performs some X connection retries to the database with a delay between retries?</p>\n<p>Will increasing the following property &quot;<code>spark.task.maxFailures</code>&quot; default value from  4, fix this issue?</p>\n"},{"tags":["java","multipartform-data","slack","slack-api","apache-commons"],"owner":{"account_id":19190360,"reputation":31,"user_id":14020211,"display_name":"keldranase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1634151914,"creation_date":1634147122,"question_id":69560060,"body_markdown":"Trying to upload a file. I have to use apache-http, because it&#39;s used in our codebase. \r\n\r\nIf I&#39;m providing file as `byte[]` to `builder.addBinaryBody` - I&#39;m getting `invalid_form_data` error in response, with either `APPLICATION_OCTET_STREAM` or `DEFAULT_BINARY` content type.\r\n\r\nIf providing as `File` - same, `invalid_form_data`.\r\n\r\nIf as `FileInputStream(file)` -  getting `no_file_data`.\r\n\r\n    public void sendFile(file) throws Exception {\r\n        HttpPost request = new HttpPost(&quot;https://slack.com/api/files.upload&quot;);\r\n        request.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n        request.addHeader(&quot;Content-Type&quot;, ContentType.MULTIPART_FORM_DATA.getMimeType());\r\n\r\n        MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n        builder.addBinaryBody(\r\n                &quot;file&quot;,\r\n                FileUtils.readFileToByteArray(file), // or just file, or new InputFileStream(file)\r\n                ContentType.APPLICATION_OCTET_STREAM, // or DEFAULT_BINARY\r\n                &quot;file.txt&quot;\r\n        );\r\n\r\n        request.setEntity(builder.build());\r\n        HttpResponse response = client.execute(request);\r\n        String responseString = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);\r\n        System.out.println(&quot;Response: &quot; + responseString); \r\n        // either {&quot;ok&quot;:false,&quot;error&quot;:&quot;invalid_form_data&quot;} or {&quot;ok&quot;:false,&quot;error&quot;:&quot;no_file_data&quot;}\r\n    }\r\n   \r\nWhat am I donig wrong? ","title":"Trying to upload a file to slack chanel and getting either &quot;invalid_form_data&quot; or &quot;no_file_data&quot; error","body":"<p>Trying to upload a file. I have to use apache-http, because it's used in our codebase.</p>\n<p>If I'm providing file as <code>byte[]</code> to <code>builder.addBinaryBody</code> - I'm getting <code>invalid_form_data</code> error in response, with either <code>APPLICATION_OCTET_STREAM</code> or <code>DEFAULT_BINARY</code> content type.</p>\n<p>If providing as <code>File</code> - same, <code>invalid_form_data</code>.</p>\n<p>If as <code>FileInputStream(file)</code> -  getting <code>no_file_data</code>.</p>\n<pre><code>public void sendFile(file) throws Exception {\n    HttpPost request = new HttpPost(&quot;https://slack.com/api/files.upload&quot;);\n    request.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n    request.addHeader(&quot;Content-Type&quot;, ContentType.MULTIPART_FORM_DATA.getMimeType());\n\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n    builder.addBinaryBody(\n            &quot;file&quot;,\n            FileUtils.readFileToByteArray(file), // or just file, or new InputFileStream(file)\n            ContentType.APPLICATION_OCTET_STREAM, // or DEFAULT_BINARY\n            &quot;file.txt&quot;\n    );\n\n    request.setEntity(builder.build());\n    HttpResponse response = client.execute(request);\n    String responseString = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);\n    System.out.println(&quot;Response: &quot; + responseString); \n    // either {&quot;ok&quot;:false,&quot;error&quot;:&quot;invalid_form_data&quot;} or {&quot;ok&quot;:false,&quot;error&quot;:&quot;no_file_data&quot;}\n}\n</code></pre>\n<p>What am I donig wrong?</p>\n"},{"tags":["java","object","destroy"],"comments":[{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1634150560,"post_id":69560718,"comment_id":122951321,"body_markdown":"How do you know which references to remove? If the object is truly destroyed (I&#39;m assuming you are actually disposing the object / marking it for garbage collection), then how do you plan to check the `isDestroyed` boolean? It would help if you clarify what the intended behavior of `destroy` actually is.","body":"How do you know which references to remove? If the object is truly destroyed (I&#39;m assuming you are actually disposing the object / marking it for garbage collection), then how do you plan to check the <code>isDestroyed</code> boolean? It would help if you clarify what the intended behavior of <code>destroy</code> actually is."},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":2,"creation_date":1634150695,"post_id":69560718,"comment_id":122951375,"body_markdown":"How would you ever access `isDestroyed` if you&#39;ve removed all references to the object instance?","body":"How would you ever access <code>isDestroyed</code> if you&#39;ve removed all references to the object instance?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1634151190,"post_id":69560718,"comment_id":122951558,"body_markdown":"With an automatic garbage collection, better tell a bit. Otherwise you risk people talking about WeakReference, SoftReference etc.","body":"With an automatic garbage collection, better tell a bit. Otherwise you risk people talking about WeakReference, SoftReference etc."}],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634151679,"creation_date":1634151679,"answer_id":69560959,"question_id":69560718,"body_markdown":"Depends on how the destroy() function works.\r\n\r\nIf destroy() method returns only after other references are destroyed, than your destroy() method itself can return boolean.\r\n\r\nIf destroy() method is asynchronous in nature, that actual destruction can happen in some point in future, than isDestroyed() method can come handy to give a way for callers to know if actual destruction has happened or not.","title":"Is Using a Boolean Such as isDestroyed Best Practice when Deleting Objects?","body":"<p>Depends on how the destroy() function works.</p>\n<p>If destroy() method returns only after other references are destroyed, than your destroy() method itself can return boolean.</p>\n<p>If destroy() method is asynchronous in nature, that actual destruction can happen in some point in future, than isDestroyed() method can come handy to give a way for callers to know if actual destruction has happened or not.</p>\n"}],"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634151679,"creation_date":1634150496,"question_id":69560718,"body_markdown":"I have a destroy() method which removes all references to the object to be deleted. \r\n\r\nIs it necessary or better practice to also have a boolean isDestroyed which indicate whether the object is deleted?   \r\n\r\n    public class Eggplant {\r\n    \tprivate boolean isDestroyed; \r\n        ... \r\n        public void destroy(){\r\n           //remove all references to this Eggplant\r\n           isDestroyed=true;\r\n        }\r\n    }","title":"Is Using a Boolean Such as isDestroyed Best Practice when Deleting Objects?","body":"<p>I have a destroy() method which removes all references to the object to be deleted.</p>\n<p>Is it necessary or better practice to also have a boolean isDestroyed which indicate whether the object is deleted?</p>\n<pre><code>public class Eggplant {\n    private boolean isDestroyed; \n    ... \n    public void destroy(){\n       //remove all references to this Eggplant\n       isDestroyed=true;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xamarin.android"],"answers":[{"tags":[],"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634151251,"creation_date":1534394849,"answer_id":51869778,"question_id":51869557,"body_markdown":"From what I could tell you can look into creating a AAR file of the existing Java code:\r\n\r\nhttps://developer.android.com/studio/projects/android-library\r\n\r\nThen add the new AAR (with the Java code &amp; resources) to your existing Xamarin project:\r\n\r\nhttps://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/binding-an-aar\r\n\r\nUsing Intents on both sides:\r\n\r\nhttps://developer.android.com/guide/components/intents-filters\r\n\r\nhttps://developer.xamarin.com/api/type/Android.Content.Intent/\r\n\r\n\r\nI would start with a simple Proof of Concept:\r\n\r\n - write a simple Xamarian app with a button to launch the Java Android\r\n   Activity via intent\r\n - write a Android app with a button to launch the Xamarian activity via an intent (the back stack for the integrated app may be tricky).\r\n - Build an AAR out of the Java Android side.\r\n - Integrate the AAR into the Xamerian app.","title":"Run Java Android application within Xamarin.Android app","body":"<p>From what I could tell you can look into creating a AAR file of the existing Java code:</p>\n<p><a href=\"https://developer.android.com/studio/projects/android-library\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/projects/android-library</a></p>\n<p>Then add the new AAR (with the Java code &amp; resources) to your existing Xamarin project:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/binding-an-aar\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/binding-an-aar</a></p>\n<p>Using Intents on both sides:</p>\n<p><a href=\"https://developer.android.com/guide/components/intents-filters\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/intents-filters</a></p>\n<p><a href=\"https://developer.xamarin.com/api/type/Android.Content.Intent/\" rel=\"nofollow noreferrer\">https://developer.xamarin.com/api/type/Android.Content.Intent/</a></p>\n<p>I would start with a simple Proof of Concept:</p>\n<ul>\n<li>write a simple Xamarian app with a button to launch the Java Android\nActivity via intent</li>\n<li>write a Android app with a button to launch the Xamarian activity via an intent (the back stack for the integrated app may be tricky).</li>\n<li>Build an AAR out of the Java Android side.</li>\n<li>Integrate the AAR into the Xamerian app.</li>\n</ul>\n"}],"owner":{"account_id":9984965,"reputation":171,"user_id":7386515,"display_name":"alanbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634151251,"creation_date":1534393241,"question_id":51869557,"body_markdown":"I&#39;m working on a Xamarin.Forms app in C# for iOS and Android. I also have the source code for another app that&#39;s written for Android devices in Java. This other app is a fully developed app on its own and has its own pages and UI designed already. Would it be possible to run this app within my project, at least just for Android? \r\n\r\nFor example, let&#39;s say I have a button in my app that, when clicked, leads to a new page within the app that starts running the Java app. From there, it&#39;s as if users are simply using the Java app, only that there&#39;s a back button on the top of the page that leads the users back to the main page of the Xamarin.Android app. \r\n\r\nI&#39;ve looked into [Binding a Java Library][1] but it seems like that&#39;s primarily for Java libraries rather than full-on applications. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/","title":"Run Java Android application within Xamarin.Android app","body":"<p>I'm working on a Xamarin.Forms app in C# for iOS and Android. I also have the source code for another app that's written for Android devices in Java. This other app is a fully developed app on its own and has its own pages and UI designed already. Would it be possible to run this app within my project, at least just for Android? </p>\n\n<p>For example, let's say I have a button in my app that, when clicked, leads to a new page within the app that starts running the Java app. From there, it's as if users are simply using the Java app, only that there's a back button on the top of the page that leads the users back to the main page of the Xamarin.Android app. </p>\n\n<p>I've looked into <a href=\"https://learn.microsoft.com/en-us/xamarin/android/platform/binding-java-library/\" rel=\"nofollow noreferrer\">Binding a Java Library</a> but it seems like that's primarily for Java libraries rather than full-on applications. </p>\n"},{"tags":["java","jquery","ajax","jsp","spring-mvc"],"comments":[{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":0,"creation_date":1406801593,"post_id":25056207,"comment_id":38976217,"body_markdown":"Could you post your `Controller` code, this is most likely the broken part.","body":"Could you post your <code>Controller</code> code, this is most likely the broken part."},{"owner":{"account_id":3146253,"reputation":3761,"user_id":2660679,"accept_rate":71,"display_name":"Deepu--Java"},"score":0,"creation_date":1406802216,"post_id":25056207,"comment_id":38976591,"body_markdown":"Can you share more code?","body":"Can you share more code?"},{"owner":{"account_id":76990,"reputation":2547,"user_id":220040,"accept_rate":92,"display_name":"Fseee"},"score":0,"creation_date":1406803438,"post_id":25056207,"comment_id":38977212,"body_markdown":"possible duplicate of [getOutputStream() has already been called for this response](http://stackoverflow.com/questions/1776142/getoutputstream-has-already-been-called-for-this-response)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1776142/getoutputstream-has-already-been-called-for-this-response\">getOutputStream() has already been called for this response</a>"}],"answers":[{"tags":[],"owner":{"account_id":3146253,"reputation":3761,"user_id":2660679,"accept_rate":71,"display_name":"Deepu--Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406801975,"creation_date":1406801975,"answer_id":25056407,"question_id":25056207,"body_markdown":"Don&#39;t use `out` object in JQuery. It is a implicit object in JSP for OutputStream:\r\n\r\n    $(document)\r\n            .ready(\r\n                    function() {\r\n                        var performAjax = function() {\r\n                            $\r\n                                    .ajax({\r\n                                        method : &#39;get&#39;,\r\n                                        contentType: &#39;application/json&#39;,\r\n                                        dataType: &quot;json&quot;,\r\n                                        url : &quot;${pageContext.request.contextPath}/refresh&quot;,\r\n                                        success : function(data) {\r\n                                            alert(&quot;got something&quot;);\r\n    \r\n                                        },\r\n                                        error : function(e) {\r\n                                            alert(&#39;Error: &#39; + e);\r\n    \r\n                                        }\r\n                                    });\r\n                        }\r\n                        setInterval(performAjax, 15000);\r\n                    }); ","title":"IllegalStateException: getOutputStream() has already been called for this response","body":"<p>Don't use <code>out</code> object in JQuery. It is a implicit object in JSP for OutputStream:</p>\n\n<pre><code>$(document)\n        .ready(\n                function() {\n                    var performAjax = function() {\n                        $\n                                .ajax({\n                                    method : 'get',\n                                    contentType: 'application/json',\n                                    dataType: \"json\",\n                                    url : \"${pageContext.request.contextPath}/refresh\",\n                                    success : function(data) {\n                                        alert(\"got something\");\n\n                                    },\n                                    error : function(e) {\n                                        alert('Error: ' + e);\n\n                                    }\n                                });\n                    }\n                    setInterval(performAjax, 15000);\n                }); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10713834,"reputation":1,"user_id":7885257,"display_name":"Lovemore Daka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634150291,"creation_date":1634149956,"answer_id":69560604,"question_id":25056207,"body_markdown":"The same exception is thrown when the data returned has a recursive relationship:\r\ne.g Object A has collection Of Object B and and Object B has property of Type A.\r\n\r\n        A: {\r\n      id:23, \r\n      Collection: [\r\n       B:{\r\n           id:21,       \r\n           parent: A\r\n       }\r\n     ]\r\n    }\r\nSoln: add jsonIgnore on property inside Object B","title":"IllegalStateException: getOutputStream() has already been called for this response","body":"<p>The same exception is thrown when the data returned has a recursive relationship:\ne.g Object A has collection Of Object B and and Object B has property of Type A.</p>\n<pre><code>    A: {\n  id:23, \n  Collection: [\n   B:{\n       id:21,       \n       parent: A\n   }\n ]\n}\n</code></pre>\n<p>Soln: add jsonIgnore on property inside Object B</p>\n"}],"owner":{"account_id":2545224,"reputation":88,"user_id":2210161,"accept_rate":20,"display_name":"Abhishek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2780,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1634150291,"creation_date":1406801338,"question_id":25056207,"body_markdown":"I have a JSP page which contains a table. On load of the page, the table will be populated. I also have an ajax call for every X seconds which has to refresh the table contents.\r\n\r\nOn load, the contents are populated as expected. But during ajax call, it fails with below error:\r\n\r\n    Jul 31, 2014 3:17:16 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet [SpringDispatcherServlet] in context with path        [/sample] threw exception [java.lang.IllegalStateException: getOutputStream() has    already been called for this response] with root cause\r\n    java.lang.IllegalStateException: getOutputStream() has already been called for this    response\r\n\tat org.apache.catalina.connector.Response.getWriter(Response.java:638)\r\n\tat org.apache.catalina.connector.ResponseFacade.getWriter(ResponseFacade.java:214)\r\n\tat javax.servlet.ServletResponseWrapper.getWriter(ServletResponseWrapper.java:105)\r\n\tat javax.servlet.ServletResponseWrapper.getWriter(ServletResponseWrapper.java:105)\r\n\tat org.springframework.security.web.context.SaveContextOnUpdateOrErrorResponseWrapper.getWriter(SaveContextOnUpdateOrErrorResponseWrapper.java:109)\r\n\tat org.apache.jasper.runtime.JspWriterImpl.initOut(JspWriterImpl.java:125)\r\n\tat org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:118)\r\n\tat org.apache.jasper.runtime.PageContextImpl.release(PageContextImpl.java:190)\r\n\r\nI checked the existing questions on this issue, but with no good. I am not using scriplets in the code.\r\n\r\nJSP COde:\r\n\r\n    $(document)\r\n        .ready(\r\n            function() {\r\n                var performAjax = function() {\r\n                    $\r\n                    .ajax({\r\n                        method : &#39;get&#39;,\r\n                        contentType: &#39;application/json&#39;,\r\n                        dataType: &quot;json&quot;,\r\n                        url : &quot;${pageContext.request.contextPath}/refresh&quot;,\r\n                        success : function(data) {\r\n                            alert(&quot;got something&quot;);\r\n                        },\r\n                        error : function(e) {\r\n                            alert(&#39;Error: &#39; + e);\r\n                        }\r\n                    });\r\n                }\r\n            setInterval(performAjax, 15000);\r\n        });\r\n\r\n\r\nController code:\r\n\r\n    @RequestMapping(value = &quot;/refresh&quot;)\r\n\tpublic @ResponseBody\r\n\tRefresingModel refresh(ModelMap modelMap,\r\n        HttpSession session) {\r\n            return refreshService.getUpdatedData();\r\n        }","title":"IllegalStateException: getOutputStream() has already been called for this response","body":"<p>I have a JSP page which contains a table. On load of the page, the table will be populated. I also have an ajax call for every X seconds which has to refresh the table contents.</p>\n\n<p>On load, the contents are populated as expected. But during ajax call, it fails with below error:</p>\n\n<pre><code>Jul 31, 2014 3:17:16 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [SpringDispatcherServlet] in context with path        [/sample] threw exception [java.lang.IllegalStateException: getOutputStream() has    already been called for this response] with root cause\njava.lang.IllegalStateException: getOutputStream() has already been called for this    response\nat org.apache.catalina.connector.Response.getWriter(Response.java:638)\nat org.apache.catalina.connector.ResponseFacade.getWriter(ResponseFacade.java:214)\nat javax.servlet.ServletResponseWrapper.getWriter(ServletResponseWrapper.java:105)\nat javax.servlet.ServletResponseWrapper.getWriter(ServletResponseWrapper.java:105)\nat org.springframework.security.web.context.SaveContextOnUpdateOrErrorResponseWrapper.getWriter(SaveContextOnUpdateOrErrorResponseWrapper.java:109)\nat org.apache.jasper.runtime.JspWriterImpl.initOut(JspWriterImpl.java:125)\nat org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:118)\nat org.apache.jasper.runtime.PageContextImpl.release(PageContextImpl.java:190)\n</code></pre>\n\n<p>I checked the existing questions on this issue, but with no good. I am not using scriplets in the code.</p>\n\n<p>JSP COde:</p>\n\n<pre><code>$(document)\n    .ready(\n        function() {\n            var performAjax = function() {\n                $\n                .ajax({\n                    method : 'get',\n                    contentType: 'application/json',\n                    dataType: \"json\",\n                    url : \"${pageContext.request.contextPath}/refresh\",\n                    success : function(data) {\n                        alert(\"got something\");\n                    },\n                    error : function(e) {\n                        alert('Error: ' + e);\n                    }\n                });\n            }\n        setInterval(performAjax, 15000);\n    });\n</code></pre>\n\n<p>Controller code:</p>\n\n<pre><code>@RequestMapping(value = \"/refresh\")\npublic @ResponseBody\nRefresingModel refresh(ModelMap modelMap,\n    HttpSession session) {\n        return refreshService.getUpdatedData();\n    }\n</code></pre>\n"},{"tags":["java","algorithm","shortest-path","adjacency-list"],"answers":[{"tags":[],"owner":{"account_id":1004571,"reputation":25559,"user_id":1018659,"display_name":"Arnon Rotem-Gal-Oz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324151521,"creation_date":1324151521,"answer_id":8547499,"question_id":8547465,"body_markdown":"Here&#39;s an example for [Dijkstra&#39;s shortest path][1] algorithm in java along with explanations\r\n\r\n\r\n  [1]: http://renaud.waldura.com/doc/java/dijkstra/","title":"Shortest path in an adjacency list in non-weighted graph","body":"<p>Here's an example for <a href=\"http://renaud.waldura.com/doc/java/dijkstra/\" rel=\"nofollow\">Dijkstra's shortest path</a> algorithm in java along with explanations</p>\n"},{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1324151533,"creation_date":1324151533,"answer_id":8547502,"question_id":8547465,"body_markdown":"There is no algorithm to give you just the shortest path between two vertices. You can use either:\r\n\r\n1. [Dijkstra&#39;s algorithm][1] to find the shortest path between one vertex and all the others (and then choose the one you need).\r\n2. [Roy-Floyd algorithm][2] to find the shortest path between all possible pairs of vertices.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\r\n  [2]: http://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm\r\n\r\nThe links also include pseudocode.","title":"Shortest path in an adjacency list in non-weighted graph","body":"<p>There is no algorithm to give you just the shortest path between two vertices. You can use either:</p>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow\">Dijkstra's algorithm</a> to find the shortest path between one vertex and all the others (and then choose the one you need).</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm\" rel=\"nofollow\">Roy-Floyd algorithm</a> to find the shortest path between all possible pairs of vertices.</li>\n</ol>\n\n<p>The links also include pseudocode.</p>\n"},{"tags":[],"owner":{"account_id":1634930,"reputation":318,"user_id":1508686,"display_name":"piyush_raman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341994359,"creation_date":1341994359,"answer_id":11428295,"question_id":8547465,"body_markdown":"You can use Dijkstra&#39;s and Floyd Warshall. For unweighed graph assume weight of each edge to be 1 and apply the algorithm.\r\n","title":"Shortest path in an adjacency list in non-weighted graph","body":"<p>You can use Dijkstra's and Floyd Warshall. For unweighed graph assume weight of each edge to be 1 and apply the algorithm.</p>\n"},{"tags":[],"owner":{"account_id":15147580,"reputation":320,"user_id":10930833,"display_name":"Carlos Julio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634150079,"creation_date":1634145026,"answer_id":69559630,"question_id":8547465,"body_markdown":"Previous answers mention disjktra and floyd algorithms to resolve the problem and are valid solutions, but where the graph is unweighted, the best solution is use a [BFS][1] technique, simpler and optimal.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/breadth-first-search-or-bfs-for-a-graph/\r\n\r\nBFS has a algorithm complexity of O(n), while disjktra O(n * log(n)) and Floyd O(n^2)","title":"Shortest path in an adjacency list in non-weighted graph","body":"<p>Previous answers mention disjktra and floyd algorithms to resolve the problem and are valid solutions, but where the graph is unweighted, the best solution is use a <a href=\"https://www.geeksforgeeks.org/breadth-first-search-or-bfs-for-a-graph/\" rel=\"nofollow noreferrer\">BFS</a> technique, simpler and optimal.</p>\n<p>BFS has a algorithm complexity of O(n), while disjktra O(n * log(n)) and Floyd O(n^2)</p>\n"}],"owner":{"account_id":33275,"reputation":7079,"user_id":93026,"accept_rate":99,"display_name":"sqram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6088,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8547502,"answer_count":4,"score":1,"last_activity_date":1634150079,"creation_date":1324151117,"question_id":8547465,"body_markdown":"First, I would like to make sure I got the structure correct.\r\nAs far as I know, an adjacency list representing a graph looks like this:\r\n\r\n     \r\n\r\n![an adjacent list][1]\r\n\r\nAdjList is an ArrayList, where each element is an object. Each object contains an ArrayList inside to represent vertices connected. So for example, in the image above, Vertext 1 (first index in the AdjList) is connected to the vertex at index 2, 4, and 5 of the AdjList. Is this representation of an adjacency list correct? (ps: I know indices start at 0, i put 1 here for simplicity/ease).\r\n\r\n     \r\nIf it is correct, which algorithm should I use to find the shortest path between two vertices? \r\n\r\n  [1]: http://i.stack.imgur.com/28lo6.jpg","title":"Shortest path in an adjacency list in non-weighted graph","body":"<p>First, I would like to make sure I got the structure correct.\nAs far as I know, an adjacency list representing a graph looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/28lo6.jpg\" alt=\"an adjacent list\"></p>\n\n<p>AdjList is an ArrayList, where each element is an object. Each object contains an ArrayList inside to represent vertices connected. So for example, in the image above, Vertext 1 (first index in the AdjList) is connected to the vertex at index 2, 4, and 5 of the AdjList. Is this representation of an adjacency list correct? (ps: I know indices start at 0, i put 1 here for simplicity/ease).</p>\n\n<p>If it is correct, which algorithm should I use to find the shortest path between two vertices? </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1634149608,"post_id":69560501,"comment_id":122951002,"body_markdown":"I would question the decision of using `forEach(...)`. The lambda constructs make the code hard to read.","body":"I would question the decision of using <code>forEach(...)</code>. The lambda constructs make the code hard to read."},{"owner":{"account_id":19839923,"reputation":81,"user_id":14532720,"display_name":"Cade Weiskopf"},"score":0,"creation_date":1634149712,"post_id":69560501,"comment_id":122951038,"body_markdown":"Java doesn&#39;t like modification of list elements within foreach loops like that, you would want to use a `ListIterator`.","body":"Java doesn&#39;t like modification of list elements within foreach loops like that, you would want to use a <code>ListIterator</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1634149870,"post_id":69560501,"comment_id":122951081,"body_markdown":"What is `hobby.getMyHobby().toLowerCase();` supposed to do?","body":"What is <code>hobby.getMyHobby().toLowerCase();</code> supposed to do?"},{"owner":{"account_id":21963415,"reputation":33,"user_id":16241006,"display_name":"freecoderw"},"score":0,"creation_date":1634150134,"post_id":69560501,"comment_id":122951173,"body_markdown":"it&#39;s just an example that I addapted for my real case code","body":"it&#39;s just an example that I addapted for my real case code"},{"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"score":0,"creation_date":1634150781,"post_id":69560501,"comment_id":122951405,"body_markdown":"@freecoderw If `SKI` hobby is found; do you want to add `SAILING` and keep both or replace `SKI` with `SAILING`","body":"@freecoderw If <code>SKI</code> hobby is found; do you want to add <code>SAILING</code> and keep both or replace <code>SKI</code> with <code>SAILING</code>"},{"owner":{"account_id":21963415,"reputation":33,"user_id":16241006,"display_name":"freecoderw"},"score":0,"creation_date":1634151165,"post_id":69560501,"comment_id":122951547,"body_markdown":"keep both. Thanks","body":"keep both. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634150040,"creation_date":1634150040,"answer_id":69560623,"question_id":69560501,"body_markdown":"You can iterate over the indexes instead:\r\n\r\n    for (int i = 0; i &lt; currentElement.getHobbies().size(); i++) {\r\n        Hobby hobby = currentElement.getHobbies().get(i);\r\n        if (hobby.getMyHobby().equals(&quot;SKI&quot;)) {\r\n            currentElement.getHobbies().add(new Hobby(&quot;SAILING&quot;));\r\n        } else {\r\n            hobby.getMyHobby().toLowerCase();  // sic\r\n        }\r\n    }\r\n\r\n","title":"adding elements while iterating","body":"<p>You can iterate over the indexes instead:</p>\n<pre><code>for (int i = 0; i &lt; currentElement.getHobbies().size(); i++) {\n    Hobby hobby = currentElement.getHobbies().get(i);\n    if (hobby.getMyHobby().equals(&quot;SKI&quot;)) {\n        currentElement.getHobbies().add(new Hobby(&quot;SAILING&quot;));\n    } else {\n        hobby.getMyHobby().toLowerCase();  // sic\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21963415,"reputation":33,"user_id":16241006,"display_name":"freecoderw"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634245715,"accepted_answer_id":69560623,"answer_count":1,"score":0,"last_activity_date":1634150040,"creation_date":1634149367,"question_id":69560501,"body_markdown":"I have a list of concrete objects. While iterating over this list, I&#39;m trying to update an object from it by  adding values and I&#39;m getting of course a ConcurentModificationException:\r\nWhat are my alternatives? Thank you and appreciate the help. I&#39;m using Java 11.\r\n\r\n    import lombok.Data;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            List&lt;Person&gt; myList = new ArrayList&lt;&gt;();\r\n            List&lt;Hobby&gt; hobbies = new ArrayList&lt;&gt;();\r\n            Hobby h1 = new Hobby(&quot;SKI&quot;);\r\n            Hobby h2 = new Hobby(&quot;reading&quot;);\r\n            hobbies.add(h1);\r\n            hobbies.add(h2);\r\n            Person p = new Person(&quot;R&quot;, hobbies);\r\n    \r\n            Person p1 = new Person(&quot;M&quot;, hobbies);\r\n    \r\n            myList.add(p);\r\n            myList.add(p1);\r\n            myList\r\n                    .forEach(currentElement -&gt; {\r\n                        if (Objects.isNull(currentElement.getHobbies())) {\r\n                            currentElement.setHobbies(Collections.singletonList(new Hobby(&quot;NOTHING&quot;)));\r\n    \r\n                        } else {\r\n                            currentElement.getHobbies()\r\n                                    .forEach(hobby -&gt; {\r\n                                        if (hobby.getMyHobby().equals(&quot;SKI&quot;)) {\r\n                                            currentElement.getHobbies().add(new Hobby(&quot;SAILING&quot;));\r\n                                        } else {\r\n                                            hobby.getMyHobby().toLowerCase();\r\n                                        }\r\n                                    });\r\n                        }\r\n                    });\r\n        }\r\n    \r\n        @Data\r\n        static\r\n        class Person {\r\n            String name;\r\n            List&lt;Hobby&gt; hobbies;\r\n    \r\n            public Person(String name, List&lt;Hobby&gt; hobbies) {\r\n                this.name = name;\r\n                this.hobbies = hobbies;\r\n            }\r\n        }\r\n    \r\n        @Data\r\n        static class Hobby {\r\n            String myHobby;\r\n    \r\n            public Hobby(String myHobby) {\r\n                this.myHobby = myHobby;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"adding elements while iterating","body":"<p>I have a list of concrete objects. While iterating over this list, I'm trying to update an object from it by  adding values and I'm getting of course a ConcurentModificationException:\nWhat are my alternatives? Thank you and appreciate the help. I'm using Java 11.</p>\n<pre><code>import lombok.Data;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class Test {\n\n    public static void main(String[] args) throws IOException {\n\n        List&lt;Person&gt; myList = new ArrayList&lt;&gt;();\n        List&lt;Hobby&gt; hobbies = new ArrayList&lt;&gt;();\n        Hobby h1 = new Hobby(&quot;SKI&quot;);\n        Hobby h2 = new Hobby(&quot;reading&quot;);\n        hobbies.add(h1);\n        hobbies.add(h2);\n        Person p = new Person(&quot;R&quot;, hobbies);\n\n        Person p1 = new Person(&quot;M&quot;, hobbies);\n\n        myList.add(p);\n        myList.add(p1);\n        myList\n                .forEach(currentElement -&gt; {\n                    if (Objects.isNull(currentElement.getHobbies())) {\n                        currentElement.setHobbies(Collections.singletonList(new Hobby(&quot;NOTHING&quot;)));\n\n                    } else {\n                        currentElement.getHobbies()\n                                .forEach(hobby -&gt; {\n                                    if (hobby.getMyHobby().equals(&quot;SKI&quot;)) {\n                                        currentElement.getHobbies().add(new Hobby(&quot;SAILING&quot;));\n                                    } else {\n                                        hobby.getMyHobby().toLowerCase();\n                                    }\n                                });\n                    }\n                });\n    }\n\n    @Data\n    static\n    class Person {\n        String name;\n        List&lt;Hobby&gt; hobbies;\n\n        public Person(String name, List&lt;Hobby&gt; hobbies) {\n            this.name = name;\n            this.hobbies = hobbies;\n        }\n    }\n\n    @Data\n    static class Hobby {\n        String myHobby;\n\n        public Hobby(String myHobby) {\n            this.myHobby = myHobby;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1470691025,"creation_date":1470691025,"answer_id":38838669,"question_id":38823577,"body_markdown":"You need to set the `javax.net.ssl.trustStore` property to the trust store file on your computer. The default cert store location is generally $java_home/lib/security/cacerts. It is working on your home computer because probably Google&#39;s certificate chain is installed in your default java cert store on your home computer.","title":"Google reCaptcha verification handshake exception","body":"<p>You need to set the <code>javax.net.ssl.trustStore</code> property to the trust store file on your computer. The default cert store location is generally $java_home/lib/security/cacerts. It is working on your home computer because probably Google's certificate chain is installed in your default java cert store on your home computer.</p>\n"},{"tags":[],"owner":{"account_id":10488232,"reputation":11,"user_id":7731033,"display_name":"BENZARROUK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489830542,"creation_date":1489830542,"answer_id":42872804,"question_id":38823577,"body_markdown":"Make sure to add Google SSL certificate to your keystore and restart the application server.","title":"Google reCaptcha verification handshake exception","body":"<p>Make sure to add Google SSL certificate to your keystore and restart the application server.</p>\n"},{"tags":[],"owner":{"account_id":7322921,"reputation":1043,"user_id":6602141,"accept_rate":0,"display_name":"Ankit kaushik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634149931,"creation_date":1613675348,"answer_id":66266594,"question_id":38823577,"body_markdown":"This is because Google&#39;s certificate chain is not verified by the office machine.\r\n\r\nSo you have to manually download certificate and install on your local machine.\r\n\r\nGo to your security folder where your `JAVA_HOME` directory is stored:\r\n\r\n    cd $JAVA_HOME/jre/lib/security\r\n\r\n    keytool -printcert -rfc -sslserver www.google.com/recaptcha/api/siteverify &gt; recaptcha.pem\r\n\r\n    keytool -importcert -file ./recaptcha.pem –keystore cacerts\r\n\r\n \r\n\r\nWhen asked for password type `changeit` and to confirm type `Y`\r\n","title":"Google reCaptcha verification handshake exception","body":"<p>This is because Google's certificate chain is not verified by the office machine.</p>\n<p>So you have to manually download certificate and install on your local machine.</p>\n<p>Go to your security folder where your <code>JAVA_HOME</code> directory is stored:</p>\n<pre><code>cd $JAVA_HOME/jre/lib/security\n\nkeytool -printcert -rfc -sslserver www.google.com/recaptcha/api/siteverify &gt; recaptcha.pem\n\nkeytool -importcert -file ./recaptcha.pem –keystore cacerts\n</code></pre>\n<p>When asked for password type <code>changeit</code> and to confirm type <code>Y</code></p>\n"}],"owner":{"account_id":7279219,"reputation":211,"user_id":5549520,"accept_rate":100,"display_name":"Turik Mirash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38838669,"answer_count":3,"score":3,"last_activity_date":1634149931,"creation_date":1470641614,"question_id":38823577,"body_markdown":"I&#39;m using reCatpcha for my application and I can integrate it on my page with no issues. However, when I try to verify the response through a POST request I&#39;m getting a handshake error. Here&#39;s the error I&#39;m getting:\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.ssl.Alerts.getSSLException(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\r\n\tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n\tat sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\r\n\tat servlets.VerifyRecaptcha.verify(VerifyRecaptcha.java:37)\r\n\tat servlets.LoginServlet.doPost(LoginServlet.java:32)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n      Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n\tat sun.security.validator.Validator.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n\tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n\t... 38 more\r\n     Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n\tat java.security.cert.CertPathBuilder.build(Unknown Source)\r\n\t... 44 more\r\n\r\nAnd this is the class I&#39;m using to verify the response:\r\n\r\n    package servlets;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    import javax.net.ssl.HttpsURLConnection;\r\n    \r\n    import com.google.gson.Gson;\r\n\r\n    public class VerifyRecaptcha {\r\n\r\n\tpublic static final String url = &quot;https://www.google.com/recaptcha/api/siteverify&quot;;\r\n\tpublic static final String secret = &quot;6LdqAicTAAAAAIBufUS9Zu_yC1WgF8vGt40-rYTh&quot;;\r\n\tprivate final static String USER_AGENT = &quot;Mozilla/5.0&quot;;\r\n\r\n\tpublic static boolean verify(String gRecaptchaResponse) throws IOException {\r\n\t\tif (gRecaptchaResponse == null || &quot;&quot;.equals(gRecaptchaResponse)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tURL obj = new URL(url);\r\n\t\t\tHttpsURLConnection con = (HttpsURLConnection) obj.openConnection();\r\n\r\n\t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tcon.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n\t\t\tcon.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n\r\n\t\t\tString postParams = &quot;secret=&quot; + secret + &quot;&amp;response=&quot; + gRecaptchaResponse;\r\n\r\n\t\t\tcon.setDoOutput(true);\r\n\t\t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n\t\t\twr.writeBytes(postParams);\r\n\t\t\twr.flush();\r\n\t\t\twr.close();\r\n\r\n\t\t\tint responseCode = con.getResponseCode();\r\n\t\t\tSystem.out.println(&quot;\\nSending &#39;POST&#39; request to URL : &quot; + url);\r\n\t\t\tSystem.out.println(&quot;Post parameters : &quot; + postParams);\r\n\t\t\tSystem.out.println(&quot;Response Code : &quot; + responseCode);\r\n\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\t\t\tString inputLine;\r\n\t\t\tStringBuffer response = new StringBuffer();\r\n\r\n\t\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t\tin.close();\r\n\r\n\t\t\t// print result\r\n\t\t\tSystem.out.println(response.toString());\r\n\r\n\t\t\tGson gson = new Gson();\r\n\t\t\tResponse resp = gson.fromJson(response.toString(), Response.class);\r\n\t\t\treturn resp.isSuccess();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tclass Response {\r\n\t\tboolean success;\r\n\r\n\t\tpublic boolean isSuccess() {\r\n\t\t\treturn success;\r\n\t\t}\r\n\r\n\t\tpublic void setSuccess(boolean success) {\r\n\t\t\tthis.success = success;\r\n\t\t}\r\n\t   }\r\n    }\r\n\r\nNote: I tried the same project at home (on my laptop) and it&#39;s working perfectly. Now, I&#39;m trying the same project from my office, ant it&#39;s showing this Exception.","title":"Google reCaptcha verification handshake exception","body":"<p>I'm using reCatpcha for my application and I can integrate it on my page with no issues. However, when I try to verify the response through a POST request I'm getting a handshake error. Here's the error I'm getting:</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.ssl.Alerts.getSSLException(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.Handshaker.fatalSE(Unknown Source)\nat sun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\nat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\nat sun.security.ssl.Handshaker.processLoop(Unknown Source)\nat sun.security.ssl.Handshaker.process_record(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source)\nat servlets.VerifyRecaptcha.verify(VerifyRecaptcha.java:37)\nat servlets.LoginServlet.doPost(LoginServlet.java:32)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1502)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1458)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Unknown Source)\n  Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nat sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nat sun.security.validator.Validator.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\n... 38 more\n Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\nat java.security.cert.CertPathBuilder.build(Unknown Source)\n... 44 more\n</code></pre>\n\n<p>And this is the class I'm using to verify the response:</p>\n\n<pre><code>package servlets;\n\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\nimport javax.net.ssl.HttpsURLConnection;\n\nimport com.google.gson.Gson;\n\npublic class VerifyRecaptcha {\n\npublic static final String url = \"https://www.google.com/recaptcha/api/siteverify\";\npublic static final String secret = \"6LdqAicTAAAAAIBufUS9Zu_yC1WgF8vGt40-rYTh\";\nprivate final static String USER_AGENT = \"Mozilla/5.0\";\n\npublic static boolean verify(String gRecaptchaResponse) throws IOException {\n    if (gRecaptchaResponse == null || \"\".equals(gRecaptchaResponse)) {\n        return false;\n    }\n\n    try {\n        URL obj = new URL(url);\n        HttpsURLConnection con = (HttpsURLConnection) obj.openConnection();\n\n        con.setRequestMethod(\"POST\");\n        con.setRequestProperty(\"User-Agent\", USER_AGENT);\n        con.setRequestProperty(\"Accept-Language\", \"en-US,en;q=0.5\");\n\n        String postParams = \"secret=\" + secret + \"&amp;response=\" + gRecaptchaResponse;\n\n        con.setDoOutput(true);\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n        wr.writeBytes(postParams);\n        wr.flush();\n        wr.close();\n\n        int responseCode = con.getResponseCode();\n        System.out.println(\"\\nSending 'POST' request to URL : \" + url);\n        System.out.println(\"Post parameters : \" + postParams);\n        System.out.println(\"Response Code : \" + responseCode);\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        in.close();\n\n        // print result\n        System.out.println(response.toString());\n\n        Gson gson = new Gson();\n        Response resp = gson.fromJson(response.toString(), Response.class);\n        return resp.isSuccess();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n\nclass Response {\n    boolean success;\n\n    public boolean isSuccess() {\n        return success;\n    }\n\n    public void setSuccess(boolean success) {\n        this.success = success;\n    }\n   }\n}\n</code></pre>\n\n<p>Note: I tried the same project at home (on my laptop) and it's working perfectly. Now, I'm trying the same project from my office, ant it's showing this Exception.</p>\n"},{"tags":["java","apache-spark","executable-jar","synchronous","sequential"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634149923,"creation_date":1634149923,"answer_id":69560598,"question_id":69559786,"body_markdown":"Spark doesn&#39;t really do guaranteed order very well.  It actually wants to complete several tasks in parallel.  I would be concerned about running a java program because it may not scale up to be able to complete when you are using data at scale.  (So let&#39;s pretend for the sake of the argument your data that java is updating will always be small.)\r\n\r\nThat said if you need to run this java program and then run spark why not launch the spark job from Java after you have completed your table update?\r\n\r\nWhy not run a shell/oozie/build script that runs your java program first and then launches the spark job.\r\n\r\nIf you are looking for performance, consider rewriting the java job so it can be done using spark tooling.  \r\n\r\nFor the absolute best performance see if you can re-write the java tooling so that it&#39;s triggered on data entry so that you never need to run it as a batch job, you can depend on the data already being updated.","title":"How to make execution of an external JAR inside Spark code sequential","body":"<p>Spark doesn't really do guaranteed order very well.  It actually wants to complete several tasks in parallel.  I would be concerned about running a java program because it may not scale up to be able to complete when you are using data at scale.  (So let's pretend for the sake of the argument your data that java is updating will always be small.)</p>\n<p>That said if you need to run this java program and then run spark why not launch the spark job from Java after you have completed your table update?</p>\n<p>Why not run a shell/oozie/build script that runs your java program first and then launches the spark job.</p>\n<p>If you are looking for performance, consider rewriting the java job so it can be done using spark tooling.</p>\n<p>For the absolute best performance see if you can re-write the java tooling so that it's triggered on data entry so that you never need to run it as a batch job, you can depend on the data already being updated.</p>\n"}],"owner":{"account_id":12219212,"reputation":21,"user_id":8918714,"display_name":"user8918714"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634149923,"creation_date":1634145820,"question_id":69559786,"body_markdown":"There is scenario where\r\nAt step 1\r\nInvokeTakaraJar(parameter..) is called\r\nWhich does the work of updating table with records but this is a normal Java jar and not a Spark code\r\n\r\nThe at step 2\r\nThere is\r\nvar df  = GetDBTable(parameter..) which should get the records from the table being updated in above step.\r\n\r\nProblem is since the first step is just the invoke of main method of external Java jar, it runs from the driver\r\n\r\nAnd the 2nd step does not wait for completion of the step 1.\r\n\r\nIdeally 2nd step needs to wait for the first to complete.\r\n\r\nHow to achieve this in Spark scala code where there is a requirement to run a different Java jar which needs to complete first and then Spark step should execute.","title":"How to make execution of an external JAR inside Spark code sequential","body":"<p>There is scenario where\nAt step 1\nInvokeTakaraJar(parameter..) is called\nWhich does the work of updating table with records but this is a normal Java jar and not a Spark code</p>\n<p>The at step 2\nThere is\nvar df  = GetDBTable(parameter..) which should get the records from the table being updated in above step.</p>\n<p>Problem is since the first step is just the invoke of main method of external Java jar, it runs from the driver</p>\n<p>And the 2nd step does not wait for completion of the step 1.</p>\n<p>Ideally 2nd step needs to wait for the first to complete.</p>\n<p>How to achieve this in Spark scala code where there is a requirement to run a different Java jar which needs to complete first and then Spark step should execute.</p>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":17664504,"reputation":121,"user_id":12822225,"display_name":"Likqez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591040036,"creation_date":1591040036,"answer_id":62139660,"question_id":62128701,"body_markdown":"you could use Minecrafts TextComponents to send the message. Just use them like this: \r\n\r\n    TextComponent textComponent = new TextComponent(broadcast);\r\n    textComponent.setClickEvent(new ClickEvent(ClickEvent.Action.OPEN_URL, url));\r\n    player.sendMessage(textComponent);","title":"how can i print a clikible link on command in spigot api","body":"<p>you could use Minecrafts TextComponents to send the message. Just use them like this: </p>\n\n<pre><code>TextComponent textComponent = new TextComponent(broadcast);\ntextComponent.setClickEvent(new ClickEvent(ClickEvent.Action.OPEN_URL, url));\nplayer.sendMessage(textComponent);\n</code></pre>\n"}],"owner":{"account_id":17047054,"reputation":37,"user_id":12333641,"display_name":"zaze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":62139660,"answer_count":1,"score":-1,"last_activity_date":1634149656,"creation_date":1591001651,"question_id":62128701,"body_markdown":"hi I&#39;m making a plugin for Minecraft spigot and want to have it so you can type the command \r\n\r\n`/shop`\r\n\r\nand it while answer whit\r\n\r\n`https://vattenfallet.tebex.io` witch is the site for the shop\r\n","title":"how can i print a clikible link on command in spigot api","body":"<p>hi I'm making a plugin for Minecraft spigot and want to have it so you can type the command</p>\n<p><code>/shop</code></p>\n<p>and it while answer whit</p>\n<p><code>https://vattenfallet.tebex.io</code> witch is the site for the shop</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1634147770,"post_id":69560140,"comment_id":122950435,"body_markdown":"Possibly an obvious question, but does your `valholder` actually exist? Did you back it up before reinstalling and restore it afterwards (or at least re-create it if it&#39;s auto-populated by your application)?","body":"Possibly an obvious question, but does your <code>valholder</code> actually exist? Did you back it up before reinstalling and restore it afterwards (or at least re-create it if it&#39;s auto-populated by your application)?"},{"owner":{"account_id":2020297,"reputation":149,"user_id":1806647,"accept_rate":75,"display_name":"tudor balus"},"score":0,"creation_date":1634148586,"post_id":69560140,"comment_id":122950682,"body_markdown":"As far as I understand things (I&#39;m a newb at Spring and SQL management), the database gets dropped and created when running the application, so it isn&#39;t needed to be there...? Lemme double check...","body":"As far as I understand things (I&#39;m a newb at Spring and SQL management), the database gets dropped and created when running the application, so it isn&#39;t needed to be there...? Lemme double check..."}],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634149117,"creation_date":1634148803,"answer_id":69560402,"question_id":69560140,"body_markdown":"&gt; it&#39;s supposed to create that database itself\r\n\r\nIt&#39;s probably not actually meant to create the actual database, but create all the tables and so on (using Hibernate and `hibernate.ddl-auto`).\r\n\r\nAdmittedly, the username you&#39;re using is `postgres`, so it *could* potentially create the database too, but there would need to be a special mechanism *before* your datasource is initialised with that JDBC URL (since it contains the database name and will try to connect it initially).\r\n\r\nIt&#39;s possible to have such an additional mechanism, but unlikely. (That mechanism would probably have to assume that the `postgres` maintenance database is used for an initial JDBC connection unrelated to your application datasource, create the database from there, and only then reconnect with the JDBC URL you have for initialising your datasource.)\r\n\r\nYour solution would be to create your database in advance (e.g. with `psql` or pgAdmin). It might also be better practice to use a non-admin user: just create a different user and make it the owner of that new database. (If you create that user with pgAdmin, remember to enable &quot;Can log in&quot;, which I&#39;m not sure is enabled by default.)","title":"Spring Boot project doesn&#39;t work after switching PCs","body":"<blockquote>\n<p>it's supposed to create that database itself</p>\n</blockquote>\n<p>It's probably not actually meant to create the actual database, but create all the tables and so on (using Hibernate and <code>hibernate.ddl-auto</code>).</p>\n<p>Admittedly, the username you're using is <code>postgres</code>, so it <em>could</em> potentially create the database too, but there would need to be a special mechanism <em>before</em> your datasource is initialised with that JDBC URL (since it contains the database name and will try to connect it initially).</p>\n<p>It's possible to have such an additional mechanism, but unlikely. (That mechanism would probably have to assume that the <code>postgres</code> maintenance database is used for an initial JDBC connection unrelated to your application datasource, create the database from there, and only then reconnect with the JDBC URL you have for initialising your datasource.)</p>\n<p>Your solution would be to create your database in advance (e.g. with <code>psql</code> or pgAdmin). It might also be better practice to use a non-admin user: just create a different user and make it the owner of that new database. (If you create that user with pgAdmin, remember to enable &quot;Can log in&quot;, which I'm not sure is enabled by default.)</p>\n"}],"owner":{"account_id":2020297,"reputation":149,"user_id":1806647,"accept_rate":75,"display_name":"tudor balus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69560402,"answer_count":1,"score":0,"last_activity_date":1634149117,"creation_date":1634147518,"question_id":69560140,"body_markdown":"I know there are similar questions out there but the few that I&#39;ve found and checked from Google don&#39;t seem to help me in any way. So, I reinstalled Windows, and then imported my Spring project back from Github. An issue that I saw straight off the bat is in my ```pom.xml```:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ValComp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ValComp&lt;/name&gt;\r\n\t&lt;description&gt;Composite value calculator.&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\nThe Java version that I have installed now is 17, so I tried putting 17 in this line in the file, but in Project&gt;Properties JRE 16 is still referenced and 17 is nowhere to be seen. This aside, my main issue is that when I try running it as a Spring Boot App, I get the following error:\r\n\r\n```2021-10-13 20:35:18.865\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mcom.valcomp.ValCompApplication          \u001B[0;39m \u001B[2m:\u001B[0;39m Starting ValCompApplication using Java 16.0.2 on DESKTOP-6JH4GRE with PID 11792 (C:\\Users\\I3lue\\Documents\\GitHub\\ValComp\\target\\classes started by I3lue in C:\\Users\\I3lue\\Documents\\GitHub\\ValComp)\r\n\u001B[2m2021-10-13 20:35:18.867\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mcom.valcomp.ValCompApplication          \u001B[0;39m \u001B[2m:\u001B[0;39m No active profile set, falling back to default profiles: default\r\n\u001B[2m2021-10-13 20:35:19.277\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36m.s.d.r.c.RepositoryConfigurationDelegate\u001B[0;39m \u001B[2m:\u001B[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n\u001B[2m2021-10-13 20:35:19.286\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36m.s.d.r.c.RepositoryConfigurationDelegate\u001B[0;39m \u001B[2m:\u001B[0;39m Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\r\n\u001B[2m2021-10-13 20:35:19.623\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mo.s.b.w.embedded.tomcat.TomcatWebServer \u001B[0;39m \u001B[2m:\u001B[0;39m Tomcat initialized with port(s): 8080 (http)\r\n\u001B[2m2021-10-13 20:35:19.630\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mo.apache.catalina.core.StandardService  \u001B[0;39m \u001B[2m:\u001B[0;39m Starting service [Tomcat]\r\n\u001B[2m2021-10-13 20:35:19.630\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36morg.apache.catalina.core.StandardEngine \u001B[0;39m \u001B[2m:\u001B[0;39m Starting Servlet engine: [Apache Tomcat/9.0.52]\r\n\u001B[2m2021-10-13 20:35:19.720\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mo.a.c.c.C.[Tomcat].[localhost].[/]      \u001B[0;39m \u001B[2m:\u001B[0;39m Initializing Spring embedded WebApplicationContext\r\n\u001B[2m2021-10-13 20:35:19.720\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mw.s.c.ServletWebServerApplicationContext\u001B[0;39m \u001B[2m:\u001B[0;39m Root WebApplicationContext: initialization completed in 824 ms\r\n\u001B[2m2021-10-13 20:35:19.850\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mo.hibernate.jpa.internal.util.LogHelper \u001B[0;39m \u001B[2m:\u001B[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\r\n\u001B[2m2021-10-13 20:35:19.888\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36morg.hibernate.Version                   \u001B[0;39m \u001B[2m:\u001B[0;39m HHH000412: Hibernate ORM core version 5.4.32.Final\r\n\u001B[2m2021-10-13 20:35:19.987\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mo.hibernate.annotations.common.Version  \u001B[0;39m \u001B[2m:\u001B[0;39m HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n\u001B[2m2021-10-13 20:35:20.063\u001B[0;39m \u001B[32m INFO\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mcom.zaxxer.hikari.HikariDataSource      \u001B[0;39m \u001B[2m:\u001B[0;39m HikariPool-1 - Starting...\r\n\u001B[2m2021-10-13 20:35:21.182\u001B[0;39m \u001B[31mERROR\u001B[0;39m \u001B[35m11792\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[           main]\u001B[0;39m \u001B[36mcom.zaxxer.hikari.pool.HikariPool       \u001B[0;39m \u001B[2m:\u001B[0;39m HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: FATAL: database &quot;valholder&quot; does not exist\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2664) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:147) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:273) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.23.jar:42.2.23]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n```\r\n\r\nwhich is VERY weird since the code worked before the upgrade, and it&#39;s supposed to create that database itself. Here&#39;s my ```application.properties``` file:\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/valholder\r\nspring.datasource.username=postgres\r\nspring.datasource.password=slur123~\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nserver.error.include-message=always\r\n```\r\n\r\nBtw, the login credentials from the file work in the SQL Shell, so that ain&#39;t the issue. I&#39;d rather not start a new project from zero and get this one running since it would 1). teach me how to handle such issues; 2). have some Github continuity. :)\r\n\r\nAny ideas are humbly welcomed.","title":"Spring Boot project doesn&#39;t work after switching PCs","body":"<p>I know there are similar questions out there but the few that I've found and checked from Google don't seem to help me in any way. So, I reinstalled Windows, and then imported my Spring project back from Github. An issue that I saw straight off the bat is in my <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;ValComp&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;ValComp&lt;/name&gt;\n&lt;description&gt;Composite value calculator.&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;16&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>The Java version that I have installed now is 17, so I tried putting 17 in this line in the file, but in Project&gt;Properties JRE 16 is still referenced and 17 is nowhere to be seen. This aside, my main issue is that when I try running it as a Spring Boot App, I get the following error:</p>\n<pre><code>[2m2021-10-13 20:35:18.867[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.valcomp.ValCompApplication          [0;39m [2m:[0;39m No active profile set, falling back to default profiles: default\n[2m2021-10-13 20:35:19.277[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n[2m2021-10-13 20:35:19.286[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\n[2m2021-10-13 20:35:19.623[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2021-10-13 20:35:19.630[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2021-10-13 20:35:19.630[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.apache.catalina.core.StandardEngine [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/9.0.52]\n[2m2021-10-13 20:35:19.720[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2021-10-13 20:35:19.720[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 824 ms\n[2m2021-10-13 20:35:19.850[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\n[2m2021-10-13 20:35:19.888[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate ORM core version 5.4.32.Final\n[2m2021-10-13 20:35:19.987[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n[2m2021-10-13 20:35:20.063[0;39m [32m INFO[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\n[2m2021-10-13 20:35:21.182[0;39m [31mERROR[0;39m [35m11792[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: database &quot;valholder&quot; does not exist\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2664) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:147) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:273) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.Driver.makeConnection(Driver.java:465) ~[postgresql-42.2.23.jar:42.2.23]\n    at org.postgresql.Driver.connect(Driver.java:264) ~[postgresql-42.2.23.jar:42.2.23]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n</code></pre>\n<p>which is VERY weird since the code worked before the upgrade, and it's supposed to create that database itself. Here's my <code>application.properties</code> file:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/valholder\nspring.datasource.username=postgres\nspring.datasource.password=slur123~\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\nserver.error.include-message=always\n</code></pre>\n<p>Btw, the login credentials from the file work in the SQL Shell, so that ain't the issue. I'd rather not start a new project from zero and get this one running since it would 1). teach me how to handle such issues; 2). have some Github continuity. :)</p>\n<p>Any ideas are humbly welcomed.</p>\n"},{"tags":["java","animation","graphics","coordinates","draw"],"owner":{"account_id":23014722,"reputation":51,"user_id":17136683,"display_name":"lily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634149100,"creation_date":1634148207,"question_id":69560286,"body_markdown":"I need to animate numbers with bezier curves. create points and gradually connect them with curves until a number is created. I found only tutorials on Java script. how can you write an analogue in java?\r\n\r\nI attach an example of the animation structure in **java script**.\r\n\r\n    function animate({timing, draw, duration}) {\r\n    \r\n      let start = performance.now();\r\n    \r\n      requestAnimationFrame(function animate(time) {\r\n    \r\n    let timeFraction = (time - start) / duration;\r\n    if (timeFraction &gt; 1) timeFraction = 1;\r\n    \r\n    let progress = timing(timeFraction);\r\n    \r\n    draw(progress); // отрисовать её\r\n    \r\n    if (timeFraction &lt; 1) {\r\n      requestAnimationFrame(animate);\r\n    }\r\n    \r\n      });\r\n    }\r\n\r\nHow can you even create a smooth drawing of numbers by points?","title":"create animation using bezier curves on java","body":"<p>I need to animate numbers with bezier curves. create points and gradually connect them with curves until a number is created. I found only tutorials on Java script. how can you write an analogue in java?</p>\n<p>I attach an example of the animation structure in <strong>java script</strong>.</p>\n<pre><code>function animate({timing, draw, duration}) {\n\n  let start = performance.now();\n\n  requestAnimationFrame(function animate(time) {\n\nlet timeFraction = (time - start) / duration;\nif (timeFraction &gt; 1) timeFraction = 1;\n\nlet progress = timing(timeFraction);\n\ndraw(progress); // отрисовать её\n\nif (timeFraction &lt; 1) {\n  requestAnimationFrame(animate);\n}\n\n  });\n}\n</code></pre>\n<p>How can you even create a smooth drawing of numbers by points?</p>\n"},{"tags":["java","salesforce","apex"],"comments":[{"owner":{"account_id":5515130,"reputation":162,"user_id":4380129,"display_name":"Vamsi Krishna"},"score":0,"creation_date":1634133700,"post_id":69556881,"comment_id":122944846,"body_markdown":"Please post your code so that any one can understand what is going wrong.","body":"Please post your code so that any one can understand what is going wrong."}],"answers":[{"tags":[],"owner":{"account_id":22664909,"reputation":301,"user_id":16837434,"display_name":"&#211;scar G&#243;mez Balaguer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634148955,"creation_date":1634148955,"answer_id":69560430,"question_id":69556881,"body_markdown":"The problem is that isDisabled() is not a method for the SelectOption Apex Class (as per the documentation). If you want to have a SelectOption that is disabled, you can create the SelectOption just by passing a value of **true** for the third parameter of the constructor:\r\n\r\n    maintNotesList.add(new SelectOption(String.valueOf(&#39;Default&#39;),&#39;Select Description&#39;), true);","title":"How to use isDisable of SelectOption","body":"<p>The problem is that isDisabled() is not a method for the SelectOption Apex Class (as per the documentation). If you want to have a SelectOption that is disabled, you can create the SelectOption just by passing a value of <strong>true</strong> for the third parameter of the constructor:</p>\n<pre><code>maintNotesList.add(new SelectOption(String.valueOf('Default'),'Select Description'), true);\n</code></pre>\n"}],"owner":{"account_id":17637219,"reputation":65,"user_id":12807396,"display_name":"Alexia Ribeiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69560430,"answer_count":1,"score":0,"last_activity_date":1634148955,"creation_date":1634133432,"question_id":69556881,"body_markdown":"I have a SelectOption and I&#39;m populating like this:\r\nmaintNotesList.add(new SelectOption(String.valueOf(&#39;Default&#39;),&#39;Select Description&#39;));\r\n\r\nI tried to insert the isDisabled for this value so he can be the first one like this:\r\nmaintNotesList.add(new SelectOption(String.valueOf(&#39;Default&#39;),&#39;Select Description&#39;), isDisabled(true));\r\n\r\nBut isn&#39;t working. I receive this error:\r\nMethod does not exist or incorrect signature: void isDisabled(Boolean).\r\n\r\nHow can I insert isDisabled for this value in a select option list?\r\nI view this option in the documentation but I can see a example for this:\r\nhttps://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_pages_selectoption.htm","title":"How to use isDisable of SelectOption","body":"<p>I have a SelectOption and I'm populating like this:\nmaintNotesList.add(new SelectOption(String.valueOf('Default'),'Select Description'));</p>\n<p>I tried to insert the isDisabled for this value so he can be the first one like this:\nmaintNotesList.add(new SelectOption(String.valueOf('Default'),'Select Description'), isDisabled(true));</p>\n<p>But isn't working. I receive this error:\nMethod does not exist or incorrect signature: void isDisabled(Boolean).</p>\n<p>How can I insert isDisabled for this value in a select option list?\nI view this option in the documentation but I can see a example for this:\n<a href=\"https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_pages_selectoption.htm\" rel=\"nofollow noreferrer\">https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_pages_selectoption.htm</a></p>\n"},{"tags":["java","visual-studio","java.util.scanner"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":2,"creation_date":1634146950,"post_id":69559992,"comment_id":122950151,"body_markdown":"Check this line: `Scanner scanner = new Scannner(System.in);`.  -&gt; Sca**nnn**er","body":"Check this line: <code>Scanner scanner = new Scannner(System.in);</code>.  -&gt; Sca<b>nnn</b>er"}],"answers":[{"tags":[],"owner":{"account_id":22937557,"reputation":199,"user_id":17070803,"display_name":"pySam1459"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634146970,"creation_date":1634146970,"answer_id":69560027,"question_id":69559992,"body_markdown":"I believe you have a typo\r\n```java\r\nScanner scanner = new Scannner(System.in);\r\n```\r\n\r\n&#39;Scannner&#39; instead of &#39;Scanner&#39;","title":"I keep getting an &quot;Scanner cannot be resolved to a type&quot; error. I am using Java and Visual Studio and this is for a beginner Java class","body":"<p>I believe you have a typo</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scannner(System.in);\n</code></pre>\n<p>'Scannner' instead of 'Scanner'</p>\n"}],"owner":{"account_id":23023970,"reputation":3,"user_id":17144544,"display_name":"Phil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69560027,"answer_count":1,"score":0,"last_activity_date":1634148366,"creation_date":1634146828,"question_id":69559992,"body_markdown":"This is for a beginner java class.  I keep getting an &quot;Scanner cannot be resolved to a type&quot; error. I am using Visual Studio and JDK 16.0.2 I also just installed Visual Studio and installed Java on this laptop. I am writing this Mortgage Calculator program for my class and it worked before I added the while loops for catching user input error.  Now it gives me the &quot;scanner&quot; error when it didn&#39;t before.  I added and moved around a few code lines and all the sudden it gives me this &quot;scanner&quot; error. Below is the whole code:\r\n\r\n      package com.phillip;\r\n      import java.text.NumberFormat;\r\n      import java.util.Scanner;\r\n\r\n      public class Main{\r\n\r\n            public static void main(String[] args) {\r\n                  final byte MONTHS_IN_YEAR = 12;\r\n                  final byte PERCENT = 100;\r\n\r\n                  int principal = 0;\r\n                  float monthlyInterest = 0;\r\n                  int numberOfPayments = 0;\r\n\r\n                  Scanner scanner = new Scannner(System.in);\r\n\r\n                  while (true) {\r\n                        System.out.println(&quot;Principal: &quot;);\r\n                        principal = scanner.nextInt();\r\n                        if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000) {\r\n                              break;\r\n                        }\r\n                        System.out.println(&quot;Enter a value between 1000 and 1000000&quot;);\r\n                  }\r\n\r\n                  while (true) {\r\n                        System.out.println(&quot;Annual Interest Rate: &quot;);\r\n                        float annualInterest = scanner.nextFloat();\r\n                        if (annualInterest &gt;= 1 &amp;&amp; annualInterest &lt;= 30) {\r\n                              monthlyInterest = annualInterest / PERCENT / MONTHS_IN_YEAR;\r\n                              break;\r\n                        }\r\n                        System.out.println(&quot;Enter a value between 1 and 30&quot;);\r\n                  }\r\n\r\n                  while (true) {\r\n                        System.out.println(&quot;Period (Years): &quot;);\r\n                        byte years = scanner.nextByte();\r\n                        if (years &gt;= 1 &amp;&amp; years &lt;= 30) {\r\n                              numberOfPayments = years * MONTHS_IN_YEAR;\r\n                              break;\r\n                        }\r\n                        System.out.println(&quot;Enter a value between 1 &amp; 30&quot;);\r\n                  }\r\n\r\n                  double mortgage = principal \r\n                        * (monthlyInterest * Math.pow(1 + monthlyInterest, numberOfPayments)) \r\n                        / (Math.pow(1 + monthlyInterest, numberOfPayments) - 1);\r\n\r\n                  String mortgageFormatted = NumberFormat.getCurrencyInstance().format(mortgage);\r\n                  System.out.println(&quot;Mortgage: &quot; + mortgageFormatted);\r\n            }\r\n      }","title":"I keep getting an &quot;Scanner cannot be resolved to a type&quot; error. I am using Java and Visual Studio and this is for a beginner Java class","body":"<p>This is for a beginner java class.  I keep getting an &quot;Scanner cannot be resolved to a type&quot; error. I am using Visual Studio and JDK 16.0.2 I also just installed Visual Studio and installed Java on this laptop. I am writing this Mortgage Calculator program for my class and it worked before I added the while loops for catching user input error.  Now it gives me the &quot;scanner&quot; error when it didn't before.  I added and moved around a few code lines and all the sudden it gives me this &quot;scanner&quot; error. Below is the whole code:</p>\n<pre><code>  package com.phillip;\n  import java.text.NumberFormat;\n  import java.util.Scanner;\n\n  public class Main{\n\n        public static void main(String[] args) {\n              final byte MONTHS_IN_YEAR = 12;\n              final byte PERCENT = 100;\n\n              int principal = 0;\n              float monthlyInterest = 0;\n              int numberOfPayments = 0;\n\n              Scanner scanner = new Scannner(System.in);\n\n              while (true) {\n                    System.out.println(&quot;Principal: &quot;);\n                    principal = scanner.nextInt();\n                    if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000) {\n                          break;\n                    }\n                    System.out.println(&quot;Enter a value between 1000 and 1000000&quot;);\n              }\n\n              while (true) {\n                    System.out.println(&quot;Annual Interest Rate: &quot;);\n                    float annualInterest = scanner.nextFloat();\n                    if (annualInterest &gt;= 1 &amp;&amp; annualInterest &lt;= 30) {\n                          monthlyInterest = annualInterest / PERCENT / MONTHS_IN_YEAR;\n                          break;\n                    }\n                    System.out.println(&quot;Enter a value between 1 and 30&quot;);\n              }\n\n              while (true) {\n                    System.out.println(&quot;Period (Years): &quot;);\n                    byte years = scanner.nextByte();\n                    if (years &gt;= 1 &amp;&amp; years &lt;= 30) {\n                          numberOfPayments = years * MONTHS_IN_YEAR;\n                          break;\n                    }\n                    System.out.println(&quot;Enter a value between 1 &amp; 30&quot;);\n              }\n\n              double mortgage = principal \n                    * (monthlyInterest * Math.pow(1 + monthlyInterest, numberOfPayments)) \n                    / (Math.pow(1 + monthlyInterest, numberOfPayments) - 1);\n\n              String mortgageFormatted = NumberFormat.getCurrencyInstance().format(mortgage);\n              System.out.println(&quot;Mortgage: &quot; + mortgageFormatted);\n        }\n  }\n</code></pre>\n"},{"tags":["java","sybase-ase15","apache-metamodel"],"answers":[{"tags":[],"owner":{"account_id":4790051,"reputation":576,"user_id":3869484,"display_name":"Richard Crossley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1566915013,"creation_date":1566915013,"answer_id":57676558,"question_id":57675379,"body_markdown":"The &quot;ddl in tran&quot; options needs to be &quot;on&quot; in the temporary databases as well. The system administrator or someone with sa_role can do this:\r\n\r\n    1&gt; use master\r\n    2&gt; go\r\n    1&gt; sp_dboption tempdb, &#39;ddl in tran&#39;, &#39;true&#39;\r\n    2&gt; go\r\n    Warning: Attempting to change database options for a temporary database. Database options must be kept consistent across all temporary databases.\r\n    Database option &#39;ddl in tran&#39; turned ON for database &#39;tempdb&#39;.\r\n    Running CHECKPOINT on database &#39;tempdb&#39; for option &#39;ddl in tran&#39; to take effect.\r\n    (return status = 0)\r\n\r\nAs the warning suggests this needs to be consistent across all temporary databases if you have multiple. Once the command has completed the options can be checked with sp_helpdb:\r\n\r\n    1&gt; sp_helpdb\r\n    2&gt; go\r\n\r\n    [stuff deleted]\r\n\r\n     tempdb                            104.0 MB              sa             2      Aug 05, 2019             no_recovery                     0               NULL        \r\n\t select into/bulkcopy/pllsort, trunc log on chkpt, ddl in tran, mixed log and data, allow wide dol rows \r\n\r\n\r\nHere&#39;s an example of creating a table inside a transaction:\r\n\r\n    1&gt; use tempdb\r\n    2&gt; go\r\n    1&gt; begin tran\r\n    2&gt; go\r\n    1&gt; create table foo ( k int not null, value varchar(25) null) \r\n    2&gt; go\r\n    1&gt; commit\r\n    2&gt; go\r\n    1&gt; \r\n\r\n","title":"The &#39;CREATE TABLE&#39; command is not allowed within a multi-statement transaction in the &#39;tempdb&#39; database","body":"<p>The \"ddl in tran\" options needs to be \"on\" in the temporary databases as well. The system administrator or someone with sa_role can do this:</p>\n\n<pre><code>1&gt; use master\n2&gt; go\n1&gt; sp_dboption tempdb, 'ddl in tran', 'true'\n2&gt; go\nWarning: Attempting to change database options for a temporary database. Database options must be kept consistent across all temporary databases.\nDatabase option 'ddl in tran' turned ON for database 'tempdb'.\nRunning CHECKPOINT on database 'tempdb' for option 'ddl in tran' to take effect.\n(return status = 0)\n</code></pre>\n\n<p>As the warning suggests this needs to be consistent across all temporary databases if you have multiple. Once the command has completed the options can be checked with sp_helpdb:</p>\n\n<pre><code>1&gt; sp_helpdb\n2&gt; go\n\n[stuff deleted]\n\n tempdb                            104.0 MB              sa             2      Aug 05, 2019             no_recovery                     0               NULL        \n select into/bulkcopy/pllsort, trunc log on chkpt, ddl in tran, mixed log and data, allow wide dol rows \n</code></pre>\n\n<p>Here's an example of creating a table inside a transaction:</p>\n\n<pre><code>1&gt; use tempdb\n2&gt; go\n1&gt; begin tran\n2&gt; go\n1&gt; create table foo ( k int not null, value varchar(25) null) \n2&gt; go\n1&gt; commit\n2&gt; go\n1&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1854215,"reputation":1,"user_id":1680146,"display_name":"Nuno N&#243;brega Batista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580731099,"creation_date":1580731099,"answer_id":60038813,"question_id":57675379,"body_markdown":"This can be used (sp_dboption tempdb, &#39;ddl in tran&#39;, &#39;true&#39;) but it&#39;s not a good practice to set this to true, it may cause concurrency problems in tempdb.\r\n\r\nMust be careful using that option.","title":"The &#39;CREATE TABLE&#39; command is not allowed within a multi-statement transaction in the &#39;tempdb&#39; database","body":"<p>This can be used (sp_dboption tempdb, 'ddl in tran', 'true') but it's not a good practice to set this to true, it may cause concurrency problems in tempdb.</p>\n\n<p>Must be careful using that option.</p>\n"}],"owner":{"account_id":5877098,"reputation":427,"user_id":4627631,"accept_rate":35,"display_name":"santosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57676558,"answer_count":2,"score":1,"last_activity_date":1634148314,"creation_date":1566911187,"question_id":57675379,"body_markdown":"I am working on java project in which i am using **Sybase and Apache Metamodel** to get table data and its information.Now &quot;**ddl in tran**&quot; option is true but still when i get columns details using Apache Metamodel its giving me error:\r\n\r\n&gt; com.sybase.jdbc4.jdbc.SybSQLException: The &#39;CREATE TABLE&#39; command is not allowed within a multi-statement transaction in the &#39;tempdb&#39; database.\r\n\r\nI have Sybase ASE 15.5 installed on Windows 10.\r\n","title":"The &#39;CREATE TABLE&#39; command is not allowed within a multi-statement transaction in the &#39;tempdb&#39; database","body":"<p>I am working on java project in which i am using <strong>Sybase and Apache Metamodel</strong> to get table data and its information.Now \"<strong>ddl in tran</strong>\" option is true but still when i get columns details using Apache Metamodel its giving me error:</p>\n\n<blockquote>\n  <p>com.sybase.jdbc4.jdbc.SybSQLException: The 'CREATE TABLE' command is not allowed within a multi-statement transaction in the 'tempdb' database.</p>\n</blockquote>\n\n<p>I have Sybase ASE 15.5 installed on Windows 10.</p>\n"},{"tags":["java","android","gradle","parse-android-sdk"],"comments":[{"owner":{"account_id":14096185,"reputation":6841,"user_id":10182897,"display_name":"Ashish"},"score":0,"creation_date":1587809181,"post_id":61423981,"comment_id":108658333,"body_markdown":"Instead of posting the code photo please post the code","body":"Instead of posting the code photo please post the code"},{"owner":{"account_id":16772211,"reputation":1,"user_id":12124386,"display_name":"Nalin Rathore"},"score":0,"creation_date":1587809654,"post_id":61423981,"comment_id":108658488,"body_markdown":"i have added the code ..","body":"i have added the code .."}],"answers":[{"tags":[],"owner":{"account_id":16856741,"reputation":176,"user_id":12188496,"display_name":"Thirumalai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634148284,"creation_date":1587810146,"answer_id":61424197,"question_id":61423981,"body_markdown":"You need to initialize the parser in the application class as explained in document [here][1]. Also should declare it in the Manifest file.\r\n\r\n\r\n  [1]: https://parseplatform.org/#parse_data/mobile/android/native/existing\r\n\r\n\r\nThe problem that I encounter was that the Document that shows to Use a class App extending Application was never initialized even after adding the activity in Manifest(it gives a red line also). \r\nSo what I did was I saved the below code in the onCreate of my SplashActivity\r\n\r\n \r\n\r\n\r\n    Parse.initialize(new Parse.Configuration.Builder(this)\r\n                        .applicationId(getString(R.string.back4app_app_id))\r\n                        // if defined\r\n                        .clientKey(getString(R.string.back4app_client_key))\r\n                        .server(getString(R.string.back4app_server_url))\r\n                        .enableLocalDataStore() // &lt;--- This is important\r\n                        .build());\r\n    \r\nNow After this I&#39;m able to use it normally.","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File com.parse.ParsePlugins.getParseDir()&#39; on a null object reference.parse","body":"<p>You need to initialize the parser in the application class as explained in document <a href=\"https://parseplatform.org/#parse_data/mobile/android/native/existing\" rel=\"nofollow noreferrer\">here</a>. Also should declare it in the Manifest file.</p>\n<p>The problem that I encounter was that the Document that shows to Use a class App extending Application was never initialized even after adding the activity in Manifest(it gives a red line also).\nSo what I did was I saved the below code in the onCreate of my SplashActivity</p>\n<pre><code>Parse.initialize(new Parse.Configuration.Builder(this)\n                    .applicationId(getString(R.string.back4app_app_id))\n                    // if defined\n                    .clientKey(getString(R.string.back4app_client_key))\n                    .server(getString(R.string.back4app_server_url))\n                    .enableLocalDataStore() // &lt;--- This is important\n                    .build());\n</code></pre>\n<p>Now After this I'm able to use it normally.</p>\n"}],"owner":{"account_id":16772211,"reputation":1,"user_id":12124386,"display_name":"Nalin Rathore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1013,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1587810287,"answer_count":1,"score":-1,"last_activity_date":1634148284,"creation_date":1587809070,"question_id":61423981,"body_markdown":"Hi currently i am working on project including parse server,and after adding parse library to my project ,when i run it it shows this error ( java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplicationv/com.example.myapplicationv.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File com.parse.ParsePlugins.getParseDir()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File com.parse.ParsePlugins.getParseDir()&#39; on a null object reference\r\n        at com.parse.Parse.getParseDir(Parse.java:509)\r\n        at com.parse.ParseCorePlugins.getCurrentUserController(ParseCorePlugins.java:130)\r\n        at com.parse.ParseUser.getCurrentUserController(ParseUser.java:55)\r\n        at com.parse.ParseUser.getCurrentUserAsync(ParseUser.java:883)\r\n        at com.parse.ParseObject.saveInBackground(ParseObject.java:1405)\r\n        at com.parse.ParseObject.saveInBackground(ParseObject.java:1529)\r\n        at com.example.myapplicationv.MainActivity.onCreate(MainActivity.java:22)\r\n        at android.app.Activity.performCreate(Activity.java:6662)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)&#160;\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:154)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)&#160;\r\n)\r\n\r\n\r\nthis is MainActivity here\r\n\r\n\r\n    MainActivity\r\n    \r\n       package com.example.myapplicationv;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.parse.ParseAnalytics;\r\n    import com.parse.ParseException;\r\n    import com.parse.ParseObject;\r\n    import com.parse.SaveCallback;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ParseObject score = new ParseObject(&quot;Score&quot;);\r\n            score.put(&quot;username&quot;,&quot;Nalin&quot;);\r\n            score.put(&quot;score&quot;,200);\r\n            score.saveInBackground(new SaveCallback() {\r\n                @Override\r\n                public void done(ParseException e) {\r\n                    if (e == null){\r\n                        Log.i(&quot;success&quot;,&quot;we save the score&quot;);\r\n                    }else{\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            ParseAnalytics.trackAppOpenedInBackground(getIntent());\r\n    \r\n        }\r\n    }\r\n\r\n\r\nStarterApplication\r\n\r\n  \r\n\r\n      package com.example.myapplicationv;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.parse.Parse;\r\n    import com.parse.ParseACL;\r\n    import com.parse.ParseUser;\r\n    \r\n    public class StarterApplication extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            //setContentView(R.layout.activity_starter_application);\r\n            Parse.enableLocalDatastore(this);\r\n            Parse.initialize(new Parse.Configuration.Builder(getApplicationContext())\r\n                    .applicationId(&quot;myappID&quot;)\r\n                    .clientKey(&quot;nV48GY6ZE5Lw&quot;)\r\n                    .server(&quot;http://18.217.199.68/parse/&quot;)\r\n                    .build()\r\n            );\r\n    \r\n    \r\n    \r\n            ParseUser.enableAutomaticUser();\r\n    \r\n            ParseACL defaultACL = new ParseACL();\r\n            defaultACL.setPublicReadAccess(true);\r\n            defaultACL.setPublicWriteAccess(true);\r\n            ParseACL.setDefaultACL(defaultACL, true);\r\n        }\r\n    }\r\n\r\n","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.io.File com.parse.ParsePlugins.getParseDir()&#39; on a null object reference.parse","body":"<p>Hi currently i am working on project including parse server,and after adding parse library to my project ,when i run it it shows this error ( java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplicationv/com.example.myapplicationv.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File com.parse.ParsePlugins.getParseDir()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.io.File com.parse.ParsePlugins.getParseDir()' on a null object reference\n        at com.parse.Parse.getParseDir(Parse.java:509)\n        at com.parse.ParseCorePlugins.getCurrentUserController(ParseCorePlugins.java:130)\n        at com.parse.ParseUser.getCurrentUserController(ParseUser.java:55)\n        at com.parse.ParseUser.getCurrentUserAsync(ParseUser.java:883)\n        at com.parse.ParseObject.saveInBackground(ParseObject.java:1405)\n        at com.parse.ParseObject.saveInBackground(ParseObject.java:1529)\n        at com.example.myapplicationv.MainActivity.onCreate(MainActivity.java:22)\n        at android.app.Activity.performCreate(Activity.java:6662)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707) \n        at android.app.ActivityThread.-wrap12(ActivityThread.java) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460) \n        at android.os.Handler.dispatchMessage(Handler.java:102) \n        at android.os.Looper.loop(Looper.java:154) \n        at android.app.ActivityThread.main(ActivityThread.java:6077) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756) \n)</p>\n\n<p>this is MainActivity here</p>\n\n<pre><code>MainActivity\n\n   package com.example.myapplicationv;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.parse.ParseAnalytics;\nimport com.parse.ParseException;\nimport com.parse.ParseObject;\nimport com.parse.SaveCallback;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ParseObject score = new ParseObject(\"Score\");\n        score.put(\"username\",\"Nalin\");\n        score.put(\"score\",200);\n        score.saveInBackground(new SaveCallback() {\n            @Override\n            public void done(ParseException e) {\n                if (e == null){\n                    Log.i(\"success\",\"we save the score\");\n                }else{\n                    e.printStackTrace();\n                }\n            }\n        });\n        ParseAnalytics.trackAppOpenedInBackground(getIntent());\n\n    }\n}\n</code></pre>\n\n<p>StarterApplication</p>\n\n<pre><code>  package com.example.myapplicationv;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.parse.Parse;\nimport com.parse.ParseACL;\nimport com.parse.ParseUser;\n\npublic class StarterApplication extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //setContentView(R.layout.activity_starter_application);\n        Parse.enableLocalDatastore(this);\n        Parse.initialize(new Parse.Configuration.Builder(getApplicationContext())\n                .applicationId(\"myappID\")\n                .clientKey(\"nV48GY6ZE5Lw\")\n                .server(\"http://18.217.199.68/parse/\")\n                .build()\n        );\n\n\n\n        ParseUser.enableAutomaticUser();\n\n        ParseACL defaultACL = new ParseACL();\n        defaultACL.setPublicReadAccess(true);\n        defaultACL.setPublicWriteAccess(true);\n        ParseACL.setDefaultACL(defaultACL, true);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5661485,"reputation":3878,"user_id":4479004,"display_name":"xdevs23"},"score":0,"creation_date":1473176795,"post_id":39353020,"comment_id":66035875,"body_markdown":"The email is sent server-side isn&#39;t it? So it doesn&#39;t matter in which thread you run it as it will always take the same amount of time. Maybe you want to show a circular intermediate progress bar to the user indicating that his request can take some seconds to complete.","body":"The email is sent server-side isn&#39;t it? So it doesn&#39;t matter in which thread you run it as it will always take the same amount of time. Maybe you want to show a circular intermediate progress bar to the user indicating that his request can take some seconds to complete."},{"owner":{"account_id":6775970,"reputation":7385,"user_id":5217712,"display_name":"Enzokie"},"score":0,"creation_date":1473176850,"post_id":39353020,"comment_id":66035918,"body_markdown":"Have you considered your internet speed also?","body":"Have you considered your internet speed also?"},{"owner":{"account_id":411865,"reputation":31703,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"score":0,"creation_date":1473176942,"post_id":39353020,"comment_id":66035983,"body_markdown":"Sorry for the confusion created  , with the help of background thread the Ajax call is not waiting for the email process , so its fine with respect to  ajax  resonse , but my concern is related to number of threads that are being created .","body":"Sorry for the confusion created  , with the help of background thread the Ajax call is not waiting for the email process , so its fine with respect to  ajax  resonse , but my concern is related to number of threads that are being created ."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1473177031,"post_id":39353020,"comment_id":66036049,"body_markdown":"Your example doesn&#39;t show creating a new thread for every request. It shows submitting tasks to a threadpool, which is a much better plan.","body":"Your example doesn&#39;t show creating a new thread for every request. It shows submitting tasks to a threadpool, which is a much better plan."},{"owner":{"account_id":411865,"reputation":31703,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"score":0,"creation_date":1473177126,"post_id":39353020,"comment_id":66036113,"body_markdown":"@NathanHughes , so this below line  isn&#39;t a problem ?? ExecutorService executorService = Executors.newFixedThreadPool(10);","body":"@NathanHughes , so this below line  isn&#39;t a problem ?? ExecutorService executorService = Executors.newFixedThreadPool(10);"},{"owner":{"account_id":11386,"reputation":119180,"user_id":21926,"display_name":"Sean Bright"},"score":0,"creation_date":1473177155,"post_id":39353020,"comment_id":66036134,"body_markdown":"Tasks that take a long time and do not require user intervention should be handed off to a message queue, either internal to your application or external.","body":"Tasks that take a long time and do not require user intervention should be handed off to a message queue, either internal to your application or external."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1473177193,"post_id":39353020,"comment_id":66036150,"body_markdown":"Creating a threadpool for every request would be silly. hard to tell what is intended when you have snippets like this. also @Sean has a point that queueing up these email requests would be a good idea.","body":"Creating a threadpool for every request would be silly. hard to tell what is intended when you have snippets like this. also @Sean has a point that queueing up these email requests would be a good idea."},{"owner":{"account_id":11386,"reputation":119180,"user_id":21926,"display_name":"Sean Bright"},"score":0,"creation_date":1473177401,"post_id":39353020,"comment_id":66036287,"body_markdown":"`@Path(&quot;/insertOrUpdateUser&quot;)` - I hate to be that guy… but this is not very RESTful.","body":"<code>@Path(&quot;&#47;insertOrUpdateUser&quot;)</code> - I hate to be that guy… but this is not very RESTful."}],"answers":[{"tags":[],"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473177157,"creation_date":1473177157,"answer_id":39353156,"question_id":39353020,"body_markdown":"The best practice is to use a single `ExecutorService` to provide a thread pool for all requests. You probably want to configure the ExecutorService with a non-zero, but limited, number of threads.\r\n\r\nThe idea here is that you will have some threads that are reused throughout the lifetime of the application. You get the added benefit that if there is a temporary slowdown (or halt) in sending emails, you don&#39;t end up with a growing number of threads Instead, you end up with a growing number of pieces of work (emails to send) to be executed, which is much less resource intensive than extra threads.","title":"Creating a background Thread for sending email","body":"<p>The best practice is to use a single <code>ExecutorService</code> to provide a thread pool for all requests. You probably want to configure the ExecutorService with a non-zero, but limited, number of threads.</p>\n\n<p>The idea here is that you will have some threads that are reused throughout the lifetime of the application. You get the added benefit that if there is a temporary slowdown (or halt) in sending emails, you don't end up with a growing number of threads Instead, you end up with a growing number of pieces of work (emails to send) to be executed, which is much less resource intensive than extra threads.</p>\n"},{"tags":[],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473177949,"creation_date":1473177949,"answer_id":39353375,"question_id":39353020,"body_markdown":"Manually creating of `ExecutorService` on java web serer is bad idea. In your implementation for each request you create 10 threads. \r\n\r\nBetter solution is to use `ManagedExecutorService` ([example](http://www.adam-bien.com/roller/abien/entry/injecting_an_executorservice_with_java)) if you work with JEE7 or `ThreadPoolTaskExecutor` if you work with Spring([docs](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html)).\r\n\r\nIf you work with Tomcat you should read [this thread](https://stackoverflow.com/questions/4907502/running-a-background-java-program-in-tomcat).","title":"Creating a background Thread for sending email","body":"<p>Manually creating of <code>ExecutorService</code> on java web serer is bad idea. In your implementation for each request you create 10 threads. </p>\n\n<p>Better solution is to use <code>ManagedExecutorService</code> (<a href=\"http://www.adam-bien.com/roller/abien/entry/injecting_an_executorservice_with_java\" rel=\"nofollow noreferrer\">example</a>) if you work with JEE7 or <code>ThreadPoolTaskExecutor</code> if you work with Spring(<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"nofollow noreferrer\">docs</a>).</p>\n\n<p>If you work with Tomcat you should read <a href=\"https://stackoverflow.com/questions/4907502/running-a-background-java-program-in-tomcat\">this thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1473210163,"creation_date":1473209611,"answer_id":39359784,"question_id":39353020,"body_markdown":"There are host of ways you can handle it, so it all depends on whether your application server has that much resources (memory, threads etc.) to handle your implementation, so it makes you best person to decide on which approach to go. \r\n\r\nAs such it is not bad practice to spawn parallel threads for doing something if it is justified by design, but typically you should go with controlled threads.\r\n\r\nPlease note that whether you use `newSingleThreadExecutor()` or `newFixedThreadPool(nThreads)`, under-the-hoods there will always be a `ThreadPoolExecutor` object created.\r\n\r\n**My recommendation** will be to use seconds option in below list i.e. &quot;Controlled number of threads&quot;, and in that specify max thread count as you see fir.\r\n\r\n&lt;h2&gt;One thread for each request&lt;/h2&gt;\r\nIn this approach one thread will be created for each incoming request from GUI, so if you are getting 10 requests for inserting/updating user then 10 threads will be spawned which will send emails.\r\n\r\nDownside of this approach is that there is no control on number of threads so you can end with StackOverflowException or may be memory issue.\r\n\r\nPlease make sure to shutdown your executor service else you will end up wasting JVM resources.\r\n\r\n    // inside your getSalesUserData() method\r\n    ExecutorService emailExecutor = Executors.newSingleThreadExecutor();\r\n    \t\temailExecutor.execute(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSendEmailUtility.sendmail(emaildummy);\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\tlogger.error(&quot;failed&quot;, e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\temailExecutor.shutdown(); // it is very important to shutdown your non-singleton ExecutorService.\r\n\r\n\r\n&lt;h2&gt;Controlled number of threads&lt;/h2&gt;\r\nIn this approach, some pre-defined number of threads will be present and those will process your email sending requirement. In below example I am starting a thread pool with max of 10 threads, then I am using a `LinkedBlockingQueue` implementation so this will ensure that if there are more than 10 requests and currently all my 10 threads are busy then excess of requests will be queued and not lost, this is the advantage you get with `LinkedBlockingQueue` implementation of `Queue`.\r\n\r\nYou can initialize you singleton `ThreadPoolExecutor` upon application server start, if there are no requests then no threads will be present so it is safe to do so. In fact I use similar configuration for my prod application.\r\n\r\nI am using time to live seconds as 1 seconds so if a thread is ideal in JVM for more than 1 seconds then it will die.\r\n\r\nPlease note that since same thread pool is used for processing all you requests, so it should be singleton and do not shutdown this thread pool else your tasks will never be executed.\r\n\r\n    // creating a thread pool with 10 threads, max alive time is 1 seconds, and linked blocking queue for unlimited queuing of requests.\r\n    \t\t// if you want to process with 100 threads then replace both instances of 10 with 100, rest can remain same...\r\n    \t\t// this should be a singleton\r\n    \t\tThreadPoolExecutor executor = new ThreadPoolExecutor(10, 10, 1, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\r\n    \t\t\r\n    \t\t// inside your getSalesUserData() method\r\n    \t\texecutor.execute(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSendEmailUtility.sendmail(emaildummy);\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\tlogger.error(&quot;failed&quot;, e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n\r\n&lt;h2&gt;Java&#39;s default cached thread pool&lt;/h2&gt;\r\nThis approach is much like above, only that Java will initialize the `ThreadPoolExecutor` for you as `ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());`\r\n\r\nHere max number of threads will be `Integer.MAX_VALUE`, so threads will be created as needed and time to live will be 60 seconds.\r\n\r\nIf you want to use this way then below is the way.\r\n\r\n    // this should be a singleton\r\n    \t\tExecutorService emailExecutor = Executors.newCachedThreadPool();\r\n    \t\t\r\n    \t\t// from you getSalesUserData() method\r\n    \t\temailExecutor.execute(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSendEmailUtility.sendmail(emaildummy);\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\tlogger.error(&quot;failed&quot;, e);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n","title":"Creating a background Thread for sending email","body":"<p>There are host of ways you can handle it, so it all depends on whether your application server has that much resources (memory, threads etc.) to handle your implementation, so it makes you best person to decide on which approach to go. </p>\n\n<p>As such it is not bad practice to spawn parallel threads for doing something if it is justified by design, but typically you should go with controlled threads.</p>\n\n<p>Please note that whether you use <code>newSingleThreadExecutor()</code> or <code>newFixedThreadPool(nThreads)</code>, under-the-hoods there will always be a <code>ThreadPoolExecutor</code> object created.</p>\n\n<p><strong>My recommendation</strong> will be to use seconds option in below list i.e. \"Controlled number of threads\", and in that specify max thread count as you see fir.</p>\n\n<h2>One thread for each request</h2>\n\n<p>In this approach one thread will be created for each incoming request from GUI, so if you are getting 10 requests for inserting/updating user then 10 threads will be spawned which will send emails.</p>\n\n<p>Downside of this approach is that there is no control on number of threads so you can end with StackOverflowException or may be memory issue.</p>\n\n<p>Please make sure to shutdown your executor service else you will end up wasting JVM resources.</p>\n\n<pre><code>// inside your getSalesUserData() method\nExecutorService emailExecutor = Executors.newSingleThreadExecutor();\n        emailExecutor.execute(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    SendEmailUtility.sendmail(emaildummy);\n                } catch (IOException e) {\n                    logger.error(\"failed\", e);\n                }\n            }\n        });\n        emailExecutor.shutdown(); // it is very important to shutdown your non-singleton ExecutorService.\n</code></pre>\n\n<h2>Controlled number of threads</h2>\n\n<p>In this approach, some pre-defined number of threads will be present and those will process your email sending requirement. In below example I am starting a thread pool with max of 10 threads, then I am using a <code>LinkedBlockingQueue</code> implementation so this will ensure that if there are more than 10 requests and currently all my 10 threads are busy then excess of requests will be queued and not lost, this is the advantage you get with <code>LinkedBlockingQueue</code> implementation of <code>Queue</code>.</p>\n\n<p>You can initialize you singleton <code>ThreadPoolExecutor</code> upon application server start, if there are no requests then no threads will be present so it is safe to do so. In fact I use similar configuration for my prod application.</p>\n\n<p>I am using time to live seconds as 1 seconds so if a thread is ideal in JVM for more than 1 seconds then it will die.</p>\n\n<p>Please note that since same thread pool is used for processing all you requests, so it should be singleton and do not shutdown this thread pool else your tasks will never be executed.</p>\n\n<pre><code>// creating a thread pool with 10 threads, max alive time is 1 seconds, and linked blocking queue for unlimited queuing of requests.\n        // if you want to process with 100 threads then replace both instances of 10 with 100, rest can remain same...\n        // this should be a singleton\n        ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 10, 1, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;());\n\n        // inside your getSalesUserData() method\n        executor.execute(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    SendEmailUtility.sendmail(emaildummy);\n                } catch (IOException e) {\n                    logger.error(\"failed\", e);\n                }\n            }\n        });\n</code></pre>\n\n<h2>Java's default cached thread pool</h2>\n\n<p>This approach is much like above, only that Java will initialize the <code>ThreadPoolExecutor</code> for you as <code>ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());</code></p>\n\n<p>Here max number of threads will be <code>Integer.MAX_VALUE</code>, so threads will be created as needed and time to live will be 60 seconds.</p>\n\n<p>If you want to use this way then below is the way.</p>\n\n<pre><code>// this should be a singleton\n        ExecutorService emailExecutor = Executors.newCachedThreadPool();\n\n        // from you getSalesUserData() method\n        emailExecutor.execute(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    SendEmailUtility.sendmail(emaildummy);\n                } catch (IOException e) {\n                    logger.error(\"failed\", e);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11764395,"reputation":537,"user_id":8609473,"display_name":"Pravin Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634147073,"creation_date":1634147073,"answer_id":69560049,"question_id":39353020,"body_markdown":"I am using Java `EmailSender` class.\r\nI simply started a new thread to send mail because it was blocking the main thread and I was getting Time out an exception.\r\n\r\n        String link = &quot;http://localhost:PORT/api/v1/registration/confirm?token=&quot; +token;\r\n        //Sending mail in thread beacause it block main thread\r\n        new Thread(\r\n        () -&gt; emailSender.sendMail(request.getEmail(),buildEmail(request.getFirstName(),\r\n        link))).start();\r\n\r\n","title":"Creating a background Thread for sending email","body":"<p>I am using Java <code>EmailSender</code> class.\nI simply started a new thread to send mail because it was blocking the main thread and I was getting Time out an exception.</p>\n<pre><code>    String link = &quot;http://localhost:PORT/api/v1/registration/confirm?token=&quot; +token;\n    //Sending mail in thread beacause it block main thread\n    new Thread(\n    () -&gt; emailSender.sendMail(request.getEmail(),buildEmail(request.getFirstName(),\n    link))).start();\n</code></pre>\n"}],"owner":{"account_id":411865,"reputation":31703,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13349,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39359784,"answer_count":4,"score":5,"last_activity_date":1634147073,"creation_date":1473176657,"question_id":39353020,"body_markdown":"I need to send a email during registration process , so for this reason  i am using **Java Mail API** , this is working fine , but observed that \r\n        the email process is taking **nearly 6  seconds** (which is too long ) so  Ajax call making the user wait too long for response \r\n       \r\n  so for this reason i have decided to use **background thread** for sending email so the user need not wait for the Ajax call response (Jersey REST Web Service call)\r\n\r\n  My question is it a good practice to creating threads in a webapplication for every request ??\r\n\r\n   \r\n\r\n    @Path(&quot;/insertOrUpdateUser&quot;)\r\n    public class InsertOrUpdateUser {\r\n            final static Logger logger = Logger.getLogger(InsertOrUpdateUser.class);\r\n            @GET\r\n            @Consumes(&quot;application/text&quot;)\r\n            @Produces(&quot;application/json&quot;)\r\n            public String getSalesUserData(@QueryParam(value = &quot;empId&quot;) String empId\r\n                            )\r\n                            throws JSONException, SQLException {\r\n                    JSONObject final_jsonobject = new JSONObject();\r\n                ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n                                    executorService.execute(new Runnable() {\r\n                                     public void run() {\r\n                                             try {\r\n                                                            SendEmailUtility.sendmail(emaildummy);\r\n                                                    } catch (IOException e) {\r\n                                                            logger.error(&quot;failed&quot;,e);\r\n    \r\n                                                    }\r\n                                     }\r\n                                  });\r\n    \r\n                            }\r\n    \r\n    \r\n                    } catch (SQLException e) {\r\n    \r\n                    } catch (Exception e) {\r\n    \r\n                           \r\n                    }\r\n    \r\n    \r\n                       finally {\r\n                        \r\n                            }\r\n                   \r\n    \r\n                    return response;\r\n            }\r\n    \r\n          \r\n    \r\n    \r\n    }\r\n\r\n\r\nAnd this is my Utility class for sending email \r\n\r\n    public class SendEmailUtility\r\n    {\r\n    \tpublic static String sendmail(String sendto)\r\n    \t\tthrows IOException\r\n    \t{\r\n    \t\tString result = &quot;fail&quot;;\r\n    \t\tProperties props_load = getProperties();\r\n    \t\tfinal String username = props_load.getProperty(&quot;username&quot;);\r\n    \t\tfinal String password = props_load.getProperty(&quot;password&quot;);\r\n    \t\tProperties props_send = new Properties();\r\n    \t\tprops_send.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \t\tprops_send.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \t\tprops_send.put(&quot;mail.smtp.host&quot;, props_load.getProperty(&quot;mail.smtp.host&quot;));\r\n    \t\tprops_send.put(&quot;mail.smtp.port&quot;, props_load.getProperty(&quot;mail.smtp.port&quot;));\r\n    \r\n    \t\tSession session = Session.getInstance(props_send,\r\n    \t\t\tnew javax.mail.Authenticator() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tprotected PasswordAuthentication getPasswordAuthentication()\r\n    \t\t\t\t{\r\n    \t\t\t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\ttry {\r\n    \t\t\tMessage message = new MimeMessage(session);\r\n    \t\t\tmessage.setFrom(new InternetAddress(props_load.getProperty(&quot;setFrom&quot;)));\r\n    \t\t\tmessage.setRecipients(Message.RecipientType.TO, InternetAddress.parse(sendto));\r\n    \t\t\tmessage.setText(&quot;Some Text to be send in mail&quot;);\r\n    \t\t\tTransport.send(message);\r\n    \t\t\tresult = &quot;success&quot;;\r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\tresult = &quot;fail&quot;;\r\n    \t\t\tlogger.error(&quot;Exception Occured - sendto: &quot; + sendto, e);\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\nCould you please let me know if this is best practice to do in a web application ??","title":"Creating a background Thread for sending email","body":"<p>I need to send a email during registration process , so for this reason  i am using <strong>Java Mail API</strong> , this is working fine , but observed that \n        the email process is taking <strong>nearly 6  seconds</strong> (which is too long ) so  Ajax call making the user wait too long for response </p>\n\n<p>so for this reason i have decided to use <strong>background thread</strong> for sending email so the user need not wait for the Ajax call response (Jersey REST Web Service call)</p>\n\n<p>My question is it a good practice to creating threads in a webapplication for every request ??</p>\n\n<pre><code>@Path(\"/insertOrUpdateUser\")\npublic class InsertOrUpdateUser {\n        final static Logger logger = Logger.getLogger(InsertOrUpdateUser.class);\n        @GET\n        @Consumes(\"application/text\")\n        @Produces(\"application/json\")\n        public String getSalesUserData(@QueryParam(value = \"empId\") String empId\n                        )\n                        throws JSONException, SQLException {\n                JSONObject final_jsonobject = new JSONObject();\n            ExecutorService executorService = Executors.newFixedThreadPool(10);\n                                executorService.execute(new Runnable() {\n                                 public void run() {\n                                         try {\n                                                        SendEmailUtility.sendmail(emaildummy);\n                                                } catch (IOException e) {\n                                                        logger.error(\"failed\",e);\n\n                                                }\n                                 }\n                              });\n\n                        }\n\n\n                } catch (SQLException e) {\n\n                } catch (Exception e) {\n\n\n                }\n\n\n                   finally {\n\n                        }\n\n\n                return response;\n        }\n\n\n\n\n}\n</code></pre>\n\n<p>And this is my Utility class for sending email </p>\n\n<pre><code>public class SendEmailUtility\n{\n    public static String sendmail(String sendto)\n        throws IOException\n    {\n        String result = \"fail\";\n        Properties props_load = getProperties();\n        final String username = props_load.getProperty(\"username\");\n        final String password = props_load.getProperty(\"password\");\n        Properties props_send = new Properties();\n        props_send.put(\"mail.smtp.auth\", \"true\");\n        props_send.put(\"mail.smtp.starttls.enable\", \"true\");\n        props_send.put(\"mail.smtp.host\", props_load.getProperty(\"mail.smtp.host\"));\n        props_send.put(\"mail.smtp.port\", props_load.getProperty(\"mail.smtp.port\"));\n\n        Session session = Session.getInstance(props_send,\n            new javax.mail.Authenticator() {\n                @Override\n                protected PasswordAuthentication getPasswordAuthentication()\n                {\n                    return new PasswordAuthentication(username, password);\n                }\n            });\n\n        try {\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(props_load.getProperty(\"setFrom\")));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(sendto));\n            message.setText(\"Some Text to be send in mail\");\n            Transport.send(message);\n            result = \"success\";\n        } catch (MessagingException e) {\n            result = \"fail\";\n            logger.error(\"Exception Occured - sendto: \" + sendto, e);\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>Could you please let me know if this is best practice to do in a web application ??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1634124923,"post_id":69554729,"comment_id":122940752,"body_markdown":"obj already is an instance of MyClass, your entire fix makes no sense. But you are using the same variable each iteration, you should create a new instance each time you add one. Move your MyClass obj = new MyClass(); into the loop","body":"obj already is an instance of MyClass, your entire fix makes no sense. But you are using the same variable each iteration, you should create a new instance each time you add one. Move your MyClass obj = new MyClass(); into the loop"},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":1,"creation_date":1634125116,"post_id":69554729,"comment_id":122940831,"body_markdown":"It&#39;s not the same. Move your object creation `MyClass obj= new MyClass();` inside of the `for`-loop and see the difference.","body":"It&#39;s not the same. Move your object creation <code>MyClass obj= new MyClass();</code> inside of the <code>for</code>-loop and see the difference."}],"answers":[{"tags":[],"owner":{"account_id":22315469,"reputation":76,"user_id":16538883,"display_name":"tdonuk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634146898,"creation_date":1634125281,"answer_id":69554893,"question_id":69554729,"body_markdown":"You are initializing &#39;obj&#39; at outside of the loop, so there is only 1 object of &#39;MyClass&#39; actually. So, by adding it to ArrayList, you are trying to adding literally  the same object each time and because of that, it&#39;s updating the data of all the objects inside the list which is causing your problem. Try to move **&#39;obj = new MyClass()&#39;** to inside of the loop.","title":"Why ArrayList.add() method don&#39;t accept an object reference as a prameter?","body":"<p>You are initializing 'obj' at outside of the loop, so there is only 1 object of 'MyClass' actually. So, by adding it to ArrayList, you are trying to adding literally  the same object each time and because of that, it's updating the data of all the objects inside the list which is causing your problem. Try to move <strong>'obj = new MyClass()'</strong> to inside of the loop.</p>\n"}],"owner":{"account_id":15971578,"reputation":81,"user_id":11525525,"display_name":"Ramzi Bouali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1634160874,"accepted_answer_id":69554893,"answer_count":1,"score":0,"last_activity_date":1634146898,"creation_date":1634124623,"question_id":69554729,"body_markdown":"I wrote a little program that use ArrayList collection :\r\n \r\n```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\nclass MyClass {\r\n    String name ;\r\n    String surname ;\r\n    int age ;\r\n    MyClass () {}\r\n    MyClass (String name,String surname,int age){\r\n        this.name = name;\r\n        this.surname= surname;\r\n        this.age=age;\r\n    }\r\n    void showAll () {\r\n        System.out.println(&quot;----------------------------------------------------------------------------------------&quot;);\r\n        System.out.println(&quot;Name: &quot;+name+&quot;\\n&quot;+&quot;Surname: &quot;+surname+&quot;\\n&quot;+&quot;Age: &quot;+age);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        ArrayList&lt;MyClass&gt; arrayData = new ArrayList&lt;&gt;();\r\n        MyClass obj= new MyClass();\r\n        int index ;\r\n\r\n        for (int i=1;i&lt;=5;i++) {\r\n            System.out.println(&quot;-------------------------------------------------------------------------------------&quot;);\r\n            System.out.println(&quot;Data of person No &quot;+i+&quot; : &quot;);\r\n            System.out.println(&quot;Name: &quot;);\r\n            obj.name = input.nextLine();\r\n            System.out.println(&quot;Surname: &quot;);\r\n            obj.surname = input.nextLine();\r\n            System.out.println(&quot;Age: &quot;);\r\n            obj.age = input.nextInt();\r\n            input.nextLine();\r\n            arrayData.add(obj);\r\n        }\r\n        while(true) {\r\n            System.out.println(&quot;Put index: &quot;);\r\n            index = input.nextInt();\r\n            input.nextLine();\r\n            arrayData.get(index).showAll();\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nBut it doesn&#39;t work as expected because `arrayData` store only the last received object `obj` in all its elements.It seems there is a problem in the line : \r\n```\r\narrayData.add(obj);\r\n``` \r\nSo i did some research on google and i found a way to fix the code by replacing the reference `obj` with an instance of `Myclas` like the flowing :\r\n```\r\narrayData.add(new MyClass(obj.name, obj.surname, obj.age));\r\n``` \r\nand it worked ! But i still can&#39;t understand why `arrayData.add(obj);` doesn&#39;t work while it seems the same thing as `arrayData.add(new MyClass(obj.name, obj.surname, obj.age)); ` ?\r\n\r\n ","title":"Why ArrayList.add() method don&#39;t accept an object reference as a prameter?","body":"<p>I wrote a little program that use ArrayList collection :</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\nclass MyClass {\n    String name ;\n    String surname ;\n    int age ;\n    MyClass () {}\n    MyClass (String name,String surname,int age){\n        this.name = name;\n        this.surname= surname;\n        this.age=age;\n    }\n    void showAll () {\n        System.out.println(&quot;----------------------------------------------------------------------------------------&quot;);\n        System.out.println(&quot;Name: &quot;+name+&quot;\\n&quot;+&quot;Surname: &quot;+surname+&quot;\\n&quot;+&quot;Age: &quot;+age);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        ArrayList&lt;MyClass&gt; arrayData = new ArrayList&lt;&gt;();\n        MyClass obj= new MyClass();\n        int index ;\n\n        for (int i=1;i&lt;=5;i++) {\n            System.out.println(&quot;-------------------------------------------------------------------------------------&quot;);\n            System.out.println(&quot;Data of person No &quot;+i+&quot; : &quot;);\n            System.out.println(&quot;Name: &quot;);\n            obj.name = input.nextLine();\n            System.out.println(&quot;Surname: &quot;);\n            obj.surname = input.nextLine();\n            System.out.println(&quot;Age: &quot;);\n            obj.age = input.nextInt();\n            input.nextLine();\n            arrayData.add(obj);\n        }\n        while(true) {\n            System.out.println(&quot;Put index: &quot;);\n            index = input.nextInt();\n            input.nextLine();\n            arrayData.get(index).showAll();\n        }\n\n    }\n}\n\n</code></pre>\n<p>But it doesn't work as expected because <code>arrayData</code> store only the last received object <code>obj</code> in all its elements.It seems there is a problem in the line :</p>\n<pre><code>arrayData.add(obj);\n</code></pre>\n<p>So i did some research on google and i found a way to fix the code by replacing the reference <code>obj</code> with an instance of <code>Myclas</code> like the flowing :</p>\n<pre><code>arrayData.add(new MyClass(obj.name, obj.surname, obj.age));\n</code></pre>\n<p>and it worked ! But i still can't understand why <code>arrayData.add(obj);</code> doesn't work while it seems the same thing as <code>arrayData.add(new MyClass(obj.name, obj.surname, obj.age)); </code> ?</p>\n"},{"tags":["java","fonts","pdfbox","barcode","zxing"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1634147269,"post_id":69559997,"comment_id":122950256,"body_markdown":"If you need the barcode fonts for rendering then you should put them into the official font directory of your computer. Also make sure you&#39;re using the latest version. No need to call `PDTrueTypeFont.load`. Make sure you&#39;re using the latest version (2.0.24).","body":"If you need the barcode fonts for rendering then you should put them into the official font directory of your computer. Also make sure you&#39;re using the latest version. No need to call <code>PDTrueTypeFont.load</code>. Make sure you&#39;re using the latest version (2.0.24)."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1634207209,"post_id":69559997,"comment_id":122965657,"body_markdown":"Look also into your own user directory for the file `.pdfbox.cache`. You should find that barcode file there. If cache file isn&#39;t there, then you have an old PDFBox version. If the file is there but without a line for the font, then the font isn&#39;t found by PDFBox, i.e. you didn&#39;t put it into the font directory ( `C:/windows/fonts` if you&#39;re on windows)","body":"Look also into your own user directory for the file <code>.pdfbox.cache</code>. You should find that barcode file there. If cache file isn&#39;t there, then you have an old PDFBox version. If the file is there but without a line for the font, then the font isn&#39;t found by PDFBox, i.e. you didn&#39;t put it into the font directory ( <code>C:&#47;windows&#47;fonts</code> if you&#39;re on windows)"},{"owner":{"account_id":21331667,"reputation":21,"user_id":15703395,"display_name":"Alex"},"score":0,"creation_date":1634209770,"post_id":69559997,"comment_id":122966622,"body_markdown":"Hi Tilman, Thank you. But I need to load barcode font from within the project directory, I can&#39;t check if every server has the needed file in the &quot;Windows\\fonts&quot;. And I use the latest lib version at that moment.","body":"Hi Tilman, Thank you. But I need to load barcode font from within the project directory, I can&#39;t check if every server has the needed file in the &quot;Windows\\fonts&quot;. And I use the latest lib version at that moment."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1634210283,"post_id":69559997,"comment_id":122966796,"body_markdown":"PDFBox doesn&#39;t support that. It&#39;s a bad practice to generate a PDF that assumes a font exists on the viewer machine. The font should be embedded in the PDF.","body":"PDFBox doesn&#39;t support that. It&#39;s a bad practice to generate a PDF that assumes a font exists on the viewer machine. The font should be embedded in the PDF."},{"owner":{"account_id":21331667,"reputation":21,"user_id":15703395,"display_name":"Alex"},"score":0,"creation_date":1634214450,"post_id":69559997,"comment_id":122968446,"body_markdown":"Maybe, but there is a lot of such documents - thousands or even hundreds of thousands. I can&#39;t update all the documents and embed the font in them.","body":"Maybe, but there is a lot of such documents - thousands or even hundreds of thousands. I can&#39;t update all the documents and embed the font in them."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1634220421,"post_id":69559997,"comment_id":122971227,"body_markdown":"I mean the software that creates them. Or are these archive documents? What you could do is to implement your own FontMapper and FontProvider by copying and modifying these parts of the source code. See `FontMappers.java` in the sources. See also my comments at https://stackoverflow.com/questions/47320624/","body":"I mean the software that creates them. Or are these archive documents? What you could do is to implement your own FontMapper and FontProvider by copying and modifying these parts of the source code. See <code>FontMappers.java</code> in the sources. See also my comments at <a href=\"https://stackoverflow.com/questions/47320624/\">stackoverflow.com/questions/47320624</a>"}],"owner":{"account_id":21331667,"reputation":21,"user_id":15703395,"display_name":"Alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634146861,"creation_date":1634146861,"question_id":69559997,"body_markdown":"I have a component that gets a pdf file as byte array, loads it using Pdfbox library and then recognizes a barcode using Zxing library. I need to load 2 barcode fonts from a particular directory before recognition, without it the barcode would not be recognized. I tried to do execute this code:\r\n\r\n```\r\nPDDocument document = ...;\r\n\r\nPDFont font = PDTrueTypeFont.load(document, new File(&quot;...\\fontFile.ttf&quot;), Encoding.getInstance(COSName.STANDARD_ENCODING));\r\n\r\nPDFRenderer renderer = new PDFRenderer(document);\r\n\r\ndocument.getPage(0).getResources().add(font);\r\nBufferedImage image = renderer.renderImageWIthDPI(0, dpi);\r\n```\r\n\r\nbut it doesn&#39;t work, the font is not loaded to the right component (I don&#39;t know where it should be), the rendered image occurrs to be with a broken barcode and of course it fails during the following recognition. \r\n\r\nAlso I know that during the rendering java.awt.GraphicsEnvironmenttried is used. I tried to create it and add the font there, but it still doesn&#39;t work:\r\n\r\n```\r\nGraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n\r\nenv.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;...&quot;)));\r\nBufferedImage image = renderer.renderImageWIthDPI(0, dpi);\r\n```\r\n\r\nThanks in advance for ideas how to make this work. The font should be loaded from the project resources.","title":"Load a barcode font for PDFBox + Zxing recognition","body":"<p>I have a component that gets a pdf file as byte array, loads it using Pdfbox library and then recognizes a barcode using Zxing library. I need to load 2 barcode fonts from a particular directory before recognition, without it the barcode would not be recognized. I tried to do execute this code:</p>\n<pre><code>PDDocument document = ...;\n\nPDFont font = PDTrueTypeFont.load(document, new File(&quot;...\\fontFile.ttf&quot;), Encoding.getInstance(COSName.STANDARD_ENCODING));\n\nPDFRenderer renderer = new PDFRenderer(document);\n\ndocument.getPage(0).getResources().add(font);\nBufferedImage image = renderer.renderImageWIthDPI(0, dpi);\n</code></pre>\n<p>but it doesn't work, the font is not loaded to the right component (I don't know where it should be), the rendered image occurrs to be with a broken barcode and of course it fails during the following recognition.</p>\n<p>Also I know that during the rendering java.awt.GraphicsEnvironmenttried is used. I tried to create it and add the font there, but it still doesn't work:</p>\n<pre><code>GraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\n\nenv.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;...&quot;)));\nBufferedImage image = renderer.renderImageWIthDPI(0, dpi);\n</code></pre>\n<p>Thanks in advance for ideas how to make this work. The font should be loaded from the project resources.</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":1,"creation_date":1634136722,"post_id":69557629,"comment_id":122946149,"body_markdown":"What about return null? And check for it?","body":"What about return null? And check for it?"}],"answers":[{"tags":[],"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634136918,"creation_date":1634136918,"answer_id":69557766,"question_id":69557629,"body_markdown":"First of all, you shouldn&#39;t return 401 on this case. 401 indicates authentication issue. 400 seems more suitable.  \r\n\r\nSecond thing, the service should not handle error codes - this should be handled by the controller. the service should indicate there&#39;s a problem, and the layer using it should decide what to do. \r\nIt can either be by returning null student or throwing some dedicated exception.  \r\nA cleaner approach can be to do it outside of the save method - to have a validator with `boolean isValid()` method that will be called before saving","title":"Negative scenario for service post method","body":"<p>First of all, you shouldn't return 401 on this case. 401 indicates authentication issue. 400 seems more suitable.</p>\n<p>Second thing, the service should not handle error codes - this should be handled by the controller. the service should indicate there's a problem, and the layer using it should decide what to do.\nIt can either be by returning null student or throwing some dedicated exception.<br />\nA cleaner approach can be to do it outside of the save method - to have a validator with <code>boolean isValid()</code> method that will be called before saving</p>\n"}],"owner":{"account_id":22236261,"reputation":75,"user_id":16471569,"display_name":"fat_pikachu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69557766,"answer_count":1,"score":0,"last_activity_date":1634146841,"creation_date":1634136392,"question_id":69557629,"body_markdown":"I have post method in Service.\r\nIf student age &gt; 18, then I want to save object.\r\nIf age &lt; 18 .. I don&#39;t want to save object.  \r\n\r\nHow can I pass this information to Controller (ResponseEntity) to throw 401?\r\n\r\n    @Service\r\n    public class StudentService {\r\n      public Student save(Student Student) {\r\n    \r\n        //some logic\r\n    \r\n        if (studentAge &gt; 20) {\r\n          student.setId(null);\r\n          return studentRepository.save(student);\r\n        } else {\r\n          //what are the good practices here?\r\n        }\r\n      }\r\n    }","title":"Negative scenario for service post method","body":"<p>I have post method in Service.\nIf student age &gt; 18, then I want to save object.\nIf age &lt; 18 .. I don't want to save object.</p>\n<p>How can I pass this information to Controller (ResponseEntity) to throw 401?</p>\n<pre><code>@Service\npublic class StudentService {\n  public Student save(Student Student) {\n\n    //some logic\n\n    if (studentAge &gt; 20) {\n      student.setId(null);\n      return studentRepository.save(student);\n    } else {\n      //what are the good practices here?\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634049635,"post_id":69542320,"comment_id":122918976,"body_markdown":"Why, specifically, does this external jar have an XML configuration in it?","body":"Why, specifically, does this external jar have an XML configuration in it?"},{"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"score":0,"creation_date":1634049761,"post_id":69542320,"comment_id":122919033,"body_markdown":"I don&#39;t know reason for it)","body":"I don&#39;t know reason for it)"}],"answers":[{"tags":[],"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634146522,"creation_date":1634146522,"answer_id":69559931,"question_id":69542320,"body_markdown":"The result of my investigations:\r\n   1. Bean from external jar will be automatically create by Spring.\r\n   2. Application context can be import like this:\r\n\r\n    @ContextConfiguration(locations = {&quot;classpath*:applicationContext.xml&quot;})\r\n    @SpringBootTest\r\n    public class MyTest{\r\n    ...\r\n    }","title":"How to import applicationContext.xml and Bean from external jar to @SpringBootTest?","body":"<p>The result of my investigations:</p>\n<ol>\n<li>Bean from external jar will be automatically create by Spring.</li>\n<li>Application context can be import like this:</li>\n</ol>\n<pre><code>@ContextConfiguration(locations = {&quot;classpath*:applicationContext.xml&quot;})\n@SpringBootTest\npublic class MyTest{\n...\n}\n</code></pre>\n"}],"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1634146522,"creation_date":1634048834,"question_id":69542320,"body_markdown":"I have a test:\r\n\r\n    @SpringBootTest\r\n    public class MyTest {\r\n    ...\r\n    }\r\nAnd i have external jar, which has class MyService (with @Service) and applicationContext.xml (creates beans-args for MyService). How to import them to MyTest? I want to check, that my bean is created.","title":"How to import applicationContext.xml and Bean from external jar to @SpringBootTest?","body":"<p>I have a test:</p>\n<pre><code>@SpringBootTest\npublic class MyTest {\n...\n}\n</code></pre>\n<p>And i have external jar, which has class MyService (with @Service) and applicationContext.xml (creates beans-args for MyService). How to import them to MyTest? I want to check, that my bean is created.</p>\n"},{"tags":["java","cassandra","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530007001,"creation_date":1530007001,"answer_id":51039999,"question_id":51036424,"body_markdown":"It looks like as if `IN` queries using UUID are not possible by passing in a collection into a single bind value.\r\n\r\n**Here&#39;s what happens:**\r\n\r\nSpring Data transforms your String-query\r\n\r\n    SELECT * FROM entity WHERE id IN (:id)\r\n\r\ninto Cassandra&#39;s notation using positional query arguments\r\n\r\n    SELECT * FROM entity WHERE id IN (?)\r\n\r\nand binds the given parameter to `?`. Let&#39;s transform this into an executable piece of code: \r\n\r\n    session.execute(new SimpleStatement(&quot;SELECT * FROM entity WHERE id IN (?)&quot;,\r\n                                         Arrays.asList(UUIDs.random())));\r\n\r\nWhen you run this snipped, then you&#39;ll end up with `InvalidQueryException` again. We can still make an `IN` query happen, but we need to unfold parameters:\r\n\r\n    new SimpleStatement(&quot;SELECT * FROM entity WHERE id IN (?, ?)&quot;, UUIDs.random(), UUIDs.random())\r\n\r\nIn an ideal world, Cassandra could accept a `List` (or `Set`) of items to keep the query string agnostic against the actual number of arguments.","title":"Spring Data Cassandra: InvalidQueryException: UUID should be 16 or 0 bytes (20)","body":"<p>It looks like as if <code>IN</code> queries using UUID are not possible by passing in a collection into a single bind value.</p>\n\n<p><strong>Here's what happens:</strong></p>\n\n<p>Spring Data transforms your String-query</p>\n\n<pre><code>SELECT * FROM entity WHERE id IN (:id)\n</code></pre>\n\n<p>into Cassandra's notation using positional query arguments</p>\n\n<pre><code>SELECT * FROM entity WHERE id IN (?)\n</code></pre>\n\n<p>and binds the given parameter to <code>?</code>. Let's transform this into an executable piece of code: </p>\n\n<pre><code>session.execute(new SimpleStatement(\"SELECT * FROM entity WHERE id IN (?)\",\n                                     Arrays.asList(UUIDs.random())));\n</code></pre>\n\n<p>When you run this snipped, then you'll end up with <code>InvalidQueryException</code> again. We can still make an <code>IN</code> query happen, but we need to unfold parameters:</p>\n\n<pre><code>new SimpleStatement(\"SELECT * FROM entity WHERE id IN (?, ?)\", UUIDs.random(), UUIDs.random())\n</code></pre>\n\n<p>In an ideal world, Cassandra could accept a <code>List</code> (or <code>Set</code>) of items to keep the query string agnostic against the actual number of arguments.</p>\n"},{"tags":[],"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604086032,"creation_date":1604086032,"answer_id":64614619,"question_id":51036424,"body_markdown":"It is work at me.\r\n\r\nUse: *findAllBy[object-property]In* where [object-property] is name of property of the MyModel UUID.\r\n\r\n```java\r\n@Table(&quot;example&quot;)\r\npublic class MyModel {\r\n    @PrimaryKeyColumn(name = &quot;uuid&quot;, type = PrimaryKeyType.PARTITIONED)\r\n    private UUID uuid;\r\n\r\n    @Column(&quot;...&quot;)\r\n    ...\r\n}\r\n\r\npublic interface MyRepository extends CassandraRepository&lt;MyModel, UUID&gt; {\r\n    List&lt;Restaurant&gt; findAllByUuidIn(Collection&lt;UUID&gt; uuidButIfYouWant);\r\n}\r\n\r\n// It is OK\r\nreturn this.myRepository.findAllByUuidIn(Set.of(\r\n    UUID.randomUUID(),\r\n    UUID.randomUUID()\r\n));\r\n\r\n// Throw Error: no viable alternative at input &#39;&lt;EOF&gt;&#39; (SELECT * FROM example WHERE [uuid] IN...)\r\nreturn this.myRepository.findAllByUuidIn(Set.of());\r\n```\r\n\r\nSo if not contain uuid:\r\n```java\r\nCollection&lt;UUID&gt; search = Set.of();\r\n\r\nif(search.size() == 0) {\r\n    return List.of();\r\n}\r\n\r\nreturn this.myRepository.findAllByUuidIn(search);\r\n```","title":"Spring Data Cassandra: InvalidQueryException: UUID should be 16 or 0 bytes (20)","body":"<p>It is work at me.</p>\n<p>Use: <em>findAllBy[object-property]In</em> where [object-property] is name of property of the MyModel UUID.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(&quot;example&quot;)\npublic class MyModel {\n    @PrimaryKeyColumn(name = &quot;uuid&quot;, type = PrimaryKeyType.PARTITIONED)\n    private UUID uuid;\n\n    @Column(&quot;...&quot;)\n    ...\n}\n\npublic interface MyRepository extends CassandraRepository&lt;MyModel, UUID&gt; {\n    List&lt;Restaurant&gt; findAllByUuidIn(Collection&lt;UUID&gt; uuidButIfYouWant);\n}\n\n// It is OK\nreturn this.myRepository.findAllByUuidIn(Set.of(\n    UUID.randomUUID(),\n    UUID.randomUUID()\n));\n\n// Throw Error: no viable alternative at input '&lt;EOF&gt;' (SELECT * FROM example WHERE [uuid] IN...)\nreturn this.myRepository.findAllByUuidIn(Set.of());\n</code></pre>\n<p>So if not contain uuid:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;UUID&gt; search = Set.of();\n\nif(search.size() == 0) {\n    return List.of();\n}\n\nreturn this.myRepository.findAllByUuidIn(search);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5224958,"reputation":536,"user_id":4177271,"display_name":"Tcheutchoua Steve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612188123,"creation_date":1612188123,"answer_id":65994049,"question_id":51036424,"body_markdown":"(I am adding this answer for future reference)\r\n\r\nI had the same error when running a spark application.\r\n\r\nThe error occurred when executing a Cassandra query and where a UUID type was expected, some other data type was sent by the query. In my case, it was a String. Passing the right data type (UUID instead of String) resolved the issue. ","title":"Spring Data Cassandra: InvalidQueryException: UUID should be 16 or 0 bytes (20)","body":"<p>(I am adding this answer for future reference)</p>\n<p>I had the same error when running a spark application.</p>\n<p>The error occurred when executing a Cassandra query and where a UUID type was expected, some other data type was sent by the query. In my case, it was a String. Passing the right data type (UUID instead of String) resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634146502,"creation_date":1634143594,"answer_id":69559311,"question_id":51036424,"body_markdown":"I hope you  found an answer, but if you are using UUID version 4, maybe the type in your table are wrong. For example instead of UUID your ID field  could be varchar.","title":"Spring Data Cassandra: InvalidQueryException: UUID should be 16 or 0 bytes (20)","body":"<p>I hope you  found an answer, but if you are using UUID version 4, maybe the type in your table are wrong. For example instead of UUID your ID field  could be varchar.</p>\n"}],"owner":{"account_id":7006536,"reputation":295,"user_id":5370710,"display_name":"Sanjay K S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2837,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1634146502,"creation_date":1529995433,"question_id":51036424,"body_markdown":"Entity\r\n\r\n    @Builder\r\n    @Getter @Setter\r\n    @ToString(doNotUseGetters = true)\r\n    @EqualsAndHashCode(doNotUseGetters = true)\r\n    @Table(value = &quot;entity&quot;)\r\n    public class Entity implements Serializable {\r\n    \r\n        @PrimaryKeyColumn(name = &quot;id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n        @CassandraType(type = DataType.Name.UUID)\r\n        private UUID Id;\r\n    \r\n        @Column(&quot;list_name&quot;)\r\n        @CassandraType(type = DataType.Name.TEXT)\r\n        private String name;\r\n    \r\n        @Column(&quot;type&quot;)\r\n        @CassandraType(type = DataType.Name.TINYINT)\r\n        private Byte type;\r\n\r\nEntity Repo\r\n\r\n    @Repository\r\n    public interface EntityRepo extends BaseRepo&lt;Entity, UUID&gt; {\r\n    \r\n        @Query(&quot;SELECT * FROM entity WHERE id IN (:id)&quot;)\r\n        Collection&lt;ListEntity&gt; findByIds(@Param(&quot;id&quot;) Collection&lt;UUID&gt; listIds);\r\n    \r\n        @Query(&quot;SELECT * FROM entity WHERE list_id = :id&quot;)\r\n        ListEntity findById(@Param(&quot;id&quot;) UUID id);\r\n    \r\n    }  \r\n    \r\n\r\nQuery\r\n\r\n    listRepo.findByListId(UUIDs.random())\r\n    listRepo.findByListIds(Arrays.asList(UUIDs.random())\r\n\r\nBoth results in \r\n\r\n\r\n    CassandraInvalidQueryException/InvalidQueryException\r\n    org.springframework.data.cassandra.CassandraInvalidQueryException: Query; CQL \r\n    [SELECT * FROM lists WHERE list_id IN (?)]; UUID should be 16 or 0 bytes (20); \r\n    nested exception is com.datastax.driver.core.exceptions.`InvalidQueryException: UUID should be 16 or 0 bytes (20)\r\n\r\n\r\nAnything missing here? Can somebody help?\r\n","title":"Spring Data Cassandra: InvalidQueryException: UUID should be 16 or 0 bytes (20)","body":"<p>Entity</p>\n\n<pre><code>@Builder\n@Getter @Setter\n@ToString(doNotUseGetters = true)\n@EqualsAndHashCode(doNotUseGetters = true)\n@Table(value = \"entity\")\npublic class Entity implements Serializable {\n\n    @PrimaryKeyColumn(name = \"id\", ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    @CassandraType(type = DataType.Name.UUID)\n    private UUID Id;\n\n    @Column(\"list_name\")\n    @CassandraType(type = DataType.Name.TEXT)\n    private String name;\n\n    @Column(\"type\")\n    @CassandraType(type = DataType.Name.TINYINT)\n    private Byte type;\n</code></pre>\n\n<p>Entity Repo</p>\n\n<pre><code>@Repository\npublic interface EntityRepo extends BaseRepo&lt;Entity, UUID&gt; {\n\n    @Query(\"SELECT * FROM entity WHERE id IN (:id)\")\n    Collection&lt;ListEntity&gt; findByIds(@Param(\"id\") Collection&lt;UUID&gt; listIds);\n\n    @Query(\"SELECT * FROM entity WHERE list_id = :id\")\n    ListEntity findById(@Param(\"id\") UUID id);\n\n}  \n</code></pre>\n\n<p>Query</p>\n\n<pre><code>listRepo.findByListId(UUIDs.random())\nlistRepo.findByListIds(Arrays.asList(UUIDs.random())\n</code></pre>\n\n<p>Both results in </p>\n\n<pre><code>CassandraInvalidQueryException/InvalidQueryException\norg.springframework.data.cassandra.CassandraInvalidQueryException: Query; CQL \n[SELECT * FROM lists WHERE list_id IN (?)]; UUID should be 16 or 0 bytes (20); \nnested exception is com.datastax.driver.core.exceptions.`InvalidQueryException: UUID should be 16 or 0 bytes (20)\n</code></pre>\n\n<p>Anything missing here? Can somebody help?</p>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1634145903,"creation_date":1415657780,"answer_id":26854032,"question_id":26853851,"body_markdown":"If you&#39;re using Java 8 you could use its streams:\r\n\r\n    Stream.generate(ArrayList&lt;Integer&gt;::new)\r\n        .limit(10).collect(Collectors.toList());\r\n\r\nThe [`Stream.generate()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#generate-java.util.function.Supplier-) method takes a [`Supplier`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html) that knows how to produce a value and generates an infinite stream of those values (each value is obtained by calling the supplier again, so they are all different, unlike `Collections.nCopies()`). Placing a `limit()` on the stream and then collecting the results to a list thus yields a list of distinct entries.\r\n\r\nNote that starting in Java 16 `Stream` has a `toList()` method, so this can become a little cleaner:\r\n\r\n    Stream.generate(ArrayList&lt;Integer&gt;::new).limit(10).toList();\r\n","title":"Create java collection with n clones of an object","body":"<p>If you're using Java 8 you could use its streams:</p>\n<pre><code>Stream.generate(ArrayList&lt;Integer&gt;::new)\n    .limit(10).collect(Collectors.toList());\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#generate-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>Stream.generate()</code></a> method takes a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier</code></a> that knows how to produce a value and generates an infinite stream of those values (each value is obtained by calling the supplier again, so they are all different, unlike <code>Collections.nCopies()</code>). Placing a <code>limit()</code> on the stream and then collecting the results to a list thus yields a list of distinct entries.</p>\n<p>Note that starting in Java 16 <code>Stream</code> has a <code>toList()</code> method, so this can become a little cleaner:</p>\n<pre><code>Stream.generate(ArrayList&lt;Integer&gt;::new).limit(10).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4963911,"reputation":726,"user_id":3993966,"display_name":"Scott Mitchell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415660423,"creation_date":1415660423,"answer_id":26854632,"question_id":26853851,"body_markdown":"- `vector&lt;vector&lt;int&gt; &gt; = new vector&lt;vector&lt;int&gt; &gt;(10);`\r\nIs not syntactically correct but lets say you meant `vector&lt;vector&lt;int&gt; &gt; foo(10);`.  You are using the [fill constructor ](http://www.cplusplus.com/reference/vector/vector/vector/) which will initialize the container size and then initialize each element to a copy of the `value_type` parameter (or the default constructor if you didn&#39;t specify anything).  This will use a loop.\r\n\r\n- `[ [] for i in range(10) ]` and `Array.new(10) { [] }` are just doing the looping on 1 line and copying an empty list type structure in.\r\n\r\nAs you indicated the `nCopies` method is not equivalent because the result is immutable and you are not creating copies (or clones).  The reference to the same element is used when every index is accessed.  See the [openjdk copies implementation](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Collections.java#Collections.nCopies%28int%2Cjava.lang.Object%29) for reference.\r\n\r\nSome of the difficulties with java is there is no guarantee of a default constructor like in C++ and the syntax is a bit different than most scripting languages. This may be a good opportunity to take a second and understand what is going on under the covers to ensure your solution is not doing more work than necessary.  Some follow up questions to ask yourself:\r\n\r\n- What other construct (besides a loop did you have in mind)?  I believe there will be a loop at some level.\r\n- How do you really want to be initializing the ArrayList objects inside the outer ArrayList?  For example what size do you want them to be?  Should they be initially populated with anything?  How big do you expect them to grow?  Do they need to be uniform size or does it makes sense for some to be bigger/smaller?  Does it make sense to lazily initialize these lists?\r\n\r\nTo help answer these questions it may be good practice to write your own generic static initializer for your use case.  After you get the simple case down if your use case varies it may make your solution more generic to use the [Factory Pattern](http://en.wikipedia.org/wiki/Factory_method_pattern) to initialize your inner lists.  As you can see there is a good deal of issues to consider and in the simple case you may just end up with something like:\r\n\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; newListofLists(int outerSize, int innerSize, T value) {\r\n        List&lt;List&lt;T&gt;&gt; outer = new ArrayList&lt;List&lt;T&gt;&gt;(outerSize);\r\n        for (int i = 0; i &lt; outer.size(); ++i) {\r\n            List&lt;T&gt; inner = new ArrayList&lt;T&gt;(innerSize);\r\n            outer.add(inner);\r\n            for (int j = 0; j &lt; inner.size(); ++j) {\r\n                inner.add(value);\r\n            }\r\n        }\r\n        return outer;\r\n    }\r\n\r\nThis can then be used to initialize your lists in one line like:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; myList = newListofLists(10, 5, -1);","title":"Create java collection with n clones of an object","body":"<ul>\n<li><p><code>vector&lt;vector&lt;int&gt; &gt; = new vector&lt;vector&lt;int&gt; &gt;(10);</code>\nIs not syntactically correct but lets say you meant <code>vector&lt;vector&lt;int&gt; &gt; foo(10);</code>.  You are using the <a href=\"http://www.cplusplus.com/reference/vector/vector/vector/\" rel=\"nofollow\">fill constructor </a> which will initialize the container size and then initialize each element to a copy of the <code>value_type</code> parameter (or the default constructor if you didn't specify anything).  This will use a loop.</p></li>\n<li><p><code>[ [] for i in range(10) ]</code> and <code>Array.new(10) { [] }</code> are just doing the looping on 1 line and copying an empty list type structure in.</p></li>\n</ul>\n\n<p>As you indicated the <code>nCopies</code> method is not equivalent because the result is immutable and you are not creating copies (or clones).  The reference to the same element is used when every index is accessed.  See the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Collections.java#Collections.nCopies%28int%2Cjava.lang.Object%29\" rel=\"nofollow\">openjdk copies implementation</a> for reference.</p>\n\n<p>Some of the difficulties with java is there is no guarantee of a default constructor like in C++ and the syntax is a bit different than most scripting languages. This may be a good opportunity to take a second and understand what is going on under the covers to ensure your solution is not doing more work than necessary.  Some follow up questions to ask yourself:</p>\n\n<ul>\n<li>What other construct (besides a loop did you have in mind)?  I believe there will be a loop at some level.</li>\n<li>How do you really want to be initializing the ArrayList objects inside the outer ArrayList?  For example what size do you want them to be?  Should they be initially populated with anything?  How big do you expect them to grow?  Do they need to be uniform size or does it makes sense for some to be bigger/smaller?  Does it make sense to lazily initialize these lists?</li>\n</ul>\n\n<p>To help answer these questions it may be good practice to write your own generic static initializer for your use case.  After you get the simple case down if your use case varies it may make your solution more generic to use the <a href=\"http://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow\">Factory Pattern</a> to initialize your inner lists.  As you can see there is a good deal of issues to consider and in the simple case you may just end up with something like:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; newListofLists(int outerSize, int innerSize, T value) {\n    List&lt;List&lt;T&gt;&gt; outer = new ArrayList&lt;List&lt;T&gt;&gt;(outerSize);\n    for (int i = 0; i &lt; outer.size(); ++i) {\n        List&lt;T&gt; inner = new ArrayList&lt;T&gt;(innerSize);\n        outer.add(inner);\n        for (int j = 0; j &lt; inner.size(); ++j) {\n            inner.add(value);\n        }\n    }\n    return outer;\n}\n</code></pre>\n\n<p>This can then be used to initialize your lists in one line like:</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; myList = newListofLists(10, 5, -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415660535,"creation_date":1415660535,"answer_id":26854666,"question_id":26853851,"body_markdown":"Even with the introduction of Java 8 [`Supplier`](http://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html), there is unfortunately not a succinct one-liner like `nCopies`. To be honest, I don&#39;t know why. (Though @DavidConrad has shown that `Stream` can do this.)\r\n\r\nYou can easily *create* one yourself, for example:\r\n\r\n    public static &lt;E, L extends List&lt;? super E&gt;&gt; L fill(\r\n            L list, Supplier&lt;E&gt; sup, int n) {\r\n        for(; n &gt; 0; --n)\r\n            list.add(sup.get());\r\n        return list;\r\n    }\r\n\r\nCall like:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = ArrayUtils.fill(\r\n        new ArrayList&lt;&gt;, ArrayList&lt;Integer&gt;::new, 10\r\n    );\r\n\r\nFor arrays, there is the new method [`Arrays#setAll`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-T:A-java.util.function.IntFunction-):\r\n\r\n    Integer[] oneToTen = new Integer[10];\r\n    Arrays.setAll(oneToTen, i -&gt; i + 1);\r\n    List&lt;Integer&gt; asList = Arrays.asList(oneToTen);\r\n\r\nBut it is a `void` method so it can&#39;t be used in a single statement. (Personal remark: why can&#39;t Java API be fluid?)\r\n\r\nPrior to Java 8 there is not a library method to do this and it is more cumbersome to create one. Since `clone` is protected, it cannot be invoked generically. Reflection can do it but reflection is pretty cumbersome.","title":"Create java collection with n clones of an object","body":"<p>Even with the introduction of Java 8 <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow\"><code>Supplier</code></a>, there is unfortunately not a succinct one-liner like <code>nCopies</code>. To be honest, I don't know why. (Though @DavidConrad has shown that <code>Stream</code> can do this.)</p>\n\n<p>You can easily <em>create</em> one yourself, for example:</p>\n\n<pre><code>public static &lt;E, L extends List&lt;? super E&gt;&gt; L fill(\n        L list, Supplier&lt;E&gt; sup, int n) {\n    for(; n &gt; 0; --n)\n        list.add(sup.get());\n    return list;\n}\n</code></pre>\n\n<p>Call like:</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = ArrayUtils.fill(\n    new ArrayList&lt;&gt;, ArrayList&lt;Integer&gt;::new, 10\n);\n</code></pre>\n\n<p>For arrays, there is the new method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#setAll-T:A-java.util.function.IntFunction-\" rel=\"nofollow\"><code>Arrays#setAll</code></a>:</p>\n\n<pre><code>Integer[] oneToTen = new Integer[10];\nArrays.setAll(oneToTen, i -&gt; i + 1);\nList&lt;Integer&gt; asList = Arrays.asList(oneToTen);\n</code></pre>\n\n<p>But it is a <code>void</code> method so it can't be used in a single statement. (Personal remark: why can't Java API be fluid?)</p>\n\n<p>Prior to Java 8 there is not a library method to do this and it is more cumbersome to create one. Since <code>clone</code> is protected, it cannot be invoked generically. Reflection can do it but reflection is pretty cumbersome.</p>\n"},{"tags":[],"owner":{"account_id":4781319,"reputation":1341,"user_id":3863059,"display_name":"sschmid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495666247,"creation_date":1495666247,"answer_id":44169715,"question_id":26853851,"body_markdown":"For those who want to pass in **constructor arguments** (which is not possible with the [accepted answer][1] and suppliers as mentioned [here][2]) - you can use the following (I do not know if there is a better solution but it at least fulfilled my needs):\r\n\r\n    final List&lt;MyObject&gt; result = IntStream.range(0, n)\r\n       .mapToObj(index -&gt; new MyObject(...))\r\n       .collect(Collectors.toList());\r\n\r\nwhereas you would replace `n` by the number of elements you want to fill the list with and `MyObject` and `new MyObject(...)` with your type and ctor-call respectively.\r\n\r\nThis creates a stream of integers ranging from 0 to n (n exclusive), maps every &quot;index&quot; to any object returned by the lambda-expr. in `mapToObj` and finally converts the stream to a list which will contain `n` distinct instances of `MyObject`.\r\n\r\n  [1]: https://stackoverflow.com/a/26854032/3863059\r\n  [2]: https://stackoverflow.com/questions/31251629/java-8-supplier-with-arguments-in-the-constructor","title":"Create java collection with n clones of an object","body":"<p>For those who want to pass in <strong>constructor arguments</strong> (which is not possible with the <a href=\"https://stackoverflow.com/a/26854032/3863059\">accepted answer</a> and suppliers as mentioned <a href=\"https://stackoverflow.com/questions/31251629/java-8-supplier-with-arguments-in-the-constructor\">here</a>) - you can use the following (I do not know if there is a better solution but it at least fulfilled my needs):</p>\n\n<pre><code>final List&lt;MyObject&gt; result = IntStream.range(0, n)\n   .mapToObj(index -&gt; new MyObject(...))\n   .collect(Collectors.toList());\n</code></pre>\n\n<p>whereas you would replace <code>n</code> by the number of elements you want to fill the list with and <code>MyObject</code> and <code>new MyObject(...)</code> with your type and ctor-call respectively.</p>\n\n<p>This creates a stream of integers ranging from 0 to n (n exclusive), maps every \"index\" to any object returned by the lambda-expr. in <code>mapToObj</code> and finally converts the stream to a list which will contain <code>n</code> distinct instances of <code>MyObject</code>.</p>\n"}],"owner":{"account_id":964012,"reputation":1237,"user_id":987792,"accept_rate":91,"display_name":"Sjlver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2857,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26854032,"answer_count":4,"score":7,"last_activity_date":1634145903,"creation_date":1415657120,"question_id":26853851,"body_markdown":"In Java, is there a one-line way to create a collection that is initialized with *n* clones of an object?\r\n\r\nI&#39;d like the equivalent of this:\r\n\r\n- `foo = vector&lt;vector&lt;int&gt; &gt;(10);` c++, creates 10 different empty vectors\r\n- `[ [] for i in range(10) ]` Python, an array of 10 distinct empty arrays\r\n- `Array.new(10) { [] }` Ruby, same as Python\r\n\r\nIn Java, I&#39;ve only found\r\n\r\n    new ArrayList&lt;ArrayList&lt;Integer&gt; &gt;(Collections.nCopies(10, new ArrayList&lt;Integer&gt;()))\r\n\r\nHowever, this is *not* equivalent to the other examples, because the lists alias.\r\n\r\nIs there a way to create an array of distinct object clones, without using a for loop, and preferably without resorting to [external libraries](https://stackoverflow.com/questions/3907394/java-is-there-a-map-function)?","title":"Create java collection with n clones of an object","body":"<p>In Java, is there a one-line way to create a collection that is initialized with <em>n</em> clones of an object?</p>\n\n<p>I'd like the equivalent of this:</p>\n\n<ul>\n<li><code>foo = vector&lt;vector&lt;int&gt; &gt;(10);</code> c++, creates 10 different empty vectors</li>\n<li><code>[ [] for i in range(10) ]</code> Python, an array of 10 distinct empty arrays</li>\n<li><code>Array.new(10) { [] }</code> Ruby, same as Python</li>\n</ul>\n\n<p>In Java, I've only found</p>\n\n<pre><code>new ArrayList&lt;ArrayList&lt;Integer&gt; &gt;(Collections.nCopies(10, new ArrayList&lt;Integer&gt;()))\n</code></pre>\n\n<p>However, this is <em>not</em> equivalent to the other examples, because the lists alias.</p>\n\n<p>Is there a way to create an array of distinct object clones, without using a for loop, and preferably without resorting to <a href=\"https://stackoverflow.com/questions/3907394/java-is-there-a-map-function\">external libraries</a>?</p>\n"},{"tags":["java","c++","eclipse","java-native-interface","xtext"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1634145029,"post_id":69558960,"comment_id":122949487,"body_markdown":"Oh, i think i have an idea. Are you absolutely sure that the library is being loaded? How about putting a log statement below to verify or something.\n\nI&#39;m thinking, is the `@Check` annotated method ran during application runtime, or before, during compilation? You will not be able to load a library at compile-time, as the `static` blocks will not have been executed.","body":"Oh, i think i have an idea. Are you absolutely sure that the library is being loaded? How about putting a log statement below to verify or something.  I&#39;m thinking, is the <code>@Check</code> annotated method ran during application runtime, or before, during compilation? You will not be able to load a library at compile-time, as the <code>static</code> blocks will not have been executed."},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1634145126,"post_id":69558960,"comment_id":122949521,"body_markdown":"I tried `System.loadLibrary` call inside the check function, but the same error.","body":"I tried <code>System.loadLibrary</code> call inside the check function, but the same error."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1634145350,"post_id":69558960,"comment_id":122949596,"body_markdown":"Is the library even found? Put a log at the entry point of your application, does the crash happen after that log gets printed or after?","body":"Is the library even found? Put a log at the entry point of your application, does the crash happen after that log gets printed or after?"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1634145708,"post_id":69558960,"comment_id":122949710,"body_markdown":"if I comment the `print()` function, there is no crash, and the crash log gets printed after the `System.out.println` at entry point.","body":"if I comment the <code>print()</code> function, there is no crash, and the crash log gets printed after the <code>System.out.println</code> at entry point."},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1634145920,"post_id":69558960,"comment_id":122949791,"body_markdown":"@Shark please check `Edit 3`","body":"@Shark please check <code>Edit 3</code>"},{"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"score":0,"creation_date":1634146608,"post_id":69558960,"comment_id":122950025,"body_markdown":"And it worked!! During all the testing, I had copied an old library with wrong function name in the root of the plugin. And that was the one getting loaded. Once I deleted that, I see the log from c++!!","body":"And it worked!! During all the testing, I had copied an old library with wrong function name in the root of the plugin. And that was the one getting loaded. Once I deleted that, I see the log from c++!!"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1634206254,"post_id":69558960,"comment_id":122965285,"body_markdown":"There you go, glad to have helped. Thats why you want to start off these things by writing a script to automate this, so you don&#39;t chase stupid &quot;omg i forgot &lt;insert whatever&gt;&quot; problems down the rabbit hole.","body":"There you go, glad to have helped. Thats why you want to start off these things by writing a script to automate this, so you don&#39;t chase stupid &quot;omg i forgot &lt;insert whatever&gt;&quot; problems down the rabbit hole."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1634383735,"post_id":69558960,"comment_id":123012653,"body_markdown":"FWIW, from Java 15 onwards, you can use `-Xlog:library*=trace` to print out the function  names it&#39;s using for the lookup. In this case it looks like a mismatch between the Java method name, and the native function name: `Java_com_example_dummy_validation_DummyValidator_print` vs `void com.example.validation.DummyValidator.print()` (notice that the former has an extra &#39;dummy&#39; in there).","body":"FWIW, from Java 15 onwards, you can use <code>-Xlog:library*=trace</code> to print out the function  names it&#39;s using for the lookup. In this case it looks like a mismatch between the Java method name, and the native function name: <code>Java_com_example_dummy_validation_DummyValidator_print</code> vs <code>void com.example.validation.DummyValidator.print()</code> (notice that the former has an extra &#39;dummy&#39; in there)."}],"owner":{"account_id":2835172,"reputation":933,"user_id":2435911,"accept_rate":47,"display_name":"harsh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634145895,"creation_date":1634142046,"question_id":69558960,"body_markdown":"I have a Xtext project and for the validator, I need to call C++ functions. I have generated the header file and created the corresponding cpp file  \r\nDummyValidator.h\r\n```cpp\r\n/* DO NOT EDIT THIS FILE - it is machine generated */\r\n#include &lt;jni.h&gt;\r\n/* Header for class com_example_dummy_validation_DummyValidator */\r\n\r\n#ifndef _Included_com_example_dummy_validation_DummyValidator\r\n#define _Included_com_example_dummy_validation_DummyValidator\r\n#ifdef __cplusplus\r\nextern &quot;C&quot; {\r\n#endif\r\n/*\r\n * Class:     com_example_dummy_validation_DummyValidator\r\n * Method:    print\r\n * Signature: ()V\r\n */\r\nJNIEXPORT void JNICALL Java_com_example_dummy_validation_DummyValidator_print\r\n  (JNIEnv *, jobject);\r\n\r\n#ifdef __cplusplus\r\n}\r\n#endif\r\n#endif\r\n```\r\nDummyValidator.cpp\r\n```cpp\r\n#include &quot;DummyValidator.h&quot;\r\n\r\n#include &lt;iostream&gt;\r\n\r\nusing namespace std;\r\n\r\nJNIEXPORT void JNICALL\r\n\r\nJava_com_example_dummy_validation_DummyValidator_print(JNIEnv *, jobject){\r\n\r\n    cout &lt;&lt; &quot;Oh Bob, how handsome you are!\\n&quot;;\r\n\r\n    return;\r\n\r\n}\r\n```\r\nIn the project properties, I have added the library path to `Java Build Path`\r\n```\r\nNative library loc: dummy_validator/Debug\r\n```\r\nBut once I run the xtext project as an Eclipse application, while working on the DSL, I get the error\r\n```\r\njava.lang.UnsatisfiedLinkError: &#39;void com.example.validation.DummyValidator.print()&#39;\r\n```\r\nThe validator code looks like:\r\n```java\r\n/*\r\n * generated by Xtext 2.25.0\r\n */\r\npackage com.example.dummy.validation;\r\n\r\nimport org.eclipse.xtext.validation.Check;\r\n\r\nimport dummy.DummyType;\r\n\r\n/**\r\n * This class contains custom validation rules. \r\n *\r\n * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation\r\n */\r\npublic class DummyValidator extends AbstractDummyValidator {\r\n\t\r\n    private native void print();\r\n\t\r\n\tpublic static final String INVALID_NAME = &quot;invalidName&quot;;\r\n\r\n\t\t\r\n\t@Check\r\n\tpublic void checkUniqueNames(DummyType dummy) {\r\n        print();    // UnsatisfiedLinkError\r\n\t}\r\n\t\r\n\tstatic {\r\n\r\n        System.loadLibrary(&quot;dummy_validator&quot;);\r\n\r\n    } \r\n}\r\n\r\n```\r\nLooks like the library is getting loaded properly. Also, if I load the library from a standalone Java project it works fine.\r\n```java\r\npackage com.example.dummy.validation;\r\n\r\nclass DummyValidator {\r\n\r\n    private native void print();\r\n\r\n    public static void main(String[] args) {\r\n    \tSystem.loadLibrary(&quot;dummy_validator&quot;);\r\n        new DummyValidator().print();    // works fine\r\n    }\r\n\r\n}\r\n```\r\n**Edit 1:** The output for \r\n```\r\nSystem.out.println(&quot;java path: &quot; + System.getProperty(&quot;java.library.path&quot;));\r\n```\r\ndoes not include the library path in case of Xtext, but it does include for the Java project, even though the settings are the same. What do I need to do differently in case of Xtext?\r\n\r\n**Edit 2:** I added the library path to `LD_LIBRARY_PATH` in the runtime configuration and now the `java.library.path` does show the correct library path, but still the same error. \r\n\r\n**Edit 3:** I added this code in the check function to list the libraries loaded and my library is shown in the list.\r\n```java\r\nField libs;\r\n\t\ttry {\r\n\t\t\tlibs = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\r\n\t\t\tlibs.setAccessible(true);\r\n\t\t\tObject libraries = libs.get(ClassLoader.getSystemClassLoader());\r\n\t\t\tSystem.out.println(libraries);\r\n\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SecurityException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalArgumentException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalAccessException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\nSo the library is in fact getting loaded.","title":"UnsatisfiedLinkError for JNI function from Xtext project","body":"<p>I have a Xtext project and for the validator, I need to call C++ functions. I have generated the header file and created the corresponding cpp file<br />\nDummyValidator.h</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class com_example_dummy_validation_DummyValidator */\n\n#ifndef _Included_com_example_dummy_validation_DummyValidator\n#define _Included_com_example_dummy_validation_DummyValidator\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     com_example_dummy_validation_DummyValidator\n * Method:    print\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_com_example_dummy_validation_DummyValidator_print\n  (JNIEnv *, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>DummyValidator.cpp</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &quot;DummyValidator.h&quot;\n\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nJNIEXPORT void JNICALL\n\nJava_com_example_dummy_validation_DummyValidator_print(JNIEnv *, jobject){\n\n    cout &lt;&lt; &quot;Oh Bob, how handsome you are!\\n&quot;;\n\n    return;\n\n}\n</code></pre>\n<p>In the project properties, I have added the library path to <code>Java Build Path</code></p>\n<pre><code>Native library loc: dummy_validator/Debug\n</code></pre>\n<p>But once I run the xtext project as an Eclipse application, while working on the DSL, I get the error</p>\n<pre><code>java.lang.UnsatisfiedLinkError: 'void com.example.validation.DummyValidator.print()'\n</code></pre>\n<p>The validator code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * generated by Xtext 2.25.0\n */\npackage com.example.dummy.validation;\n\nimport org.eclipse.xtext.validation.Check;\n\nimport dummy.DummyType;\n\n/**\n * This class contains custom validation rules. \n *\n * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#validation\n */\npublic class DummyValidator extends AbstractDummyValidator {\n    \n    private native void print();\n    \n    public static final String INVALID_NAME = &quot;invalidName&quot;;\n\n        \n    @Check\n    public void checkUniqueNames(DummyType dummy) {\n        print();    // UnsatisfiedLinkError\n    }\n    \n    static {\n\n        System.loadLibrary(&quot;dummy_validator&quot;);\n\n    } \n}\n\n</code></pre>\n<p>Looks like the library is getting loaded properly. Also, if I load the library from a standalone Java project it works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.dummy.validation;\n\nclass DummyValidator {\n\n    private native void print();\n\n    public static void main(String[] args) {\n        System.loadLibrary(&quot;dummy_validator&quot;);\n        new DummyValidator().print();    // works fine\n    }\n\n}\n</code></pre>\n<p><strong>Edit 1:</strong> The output for</p>\n<pre><code>System.out.println(&quot;java path: &quot; + System.getProperty(&quot;java.library.path&quot;));\n</code></pre>\n<p>does not include the library path in case of Xtext, but it does include for the Java project, even though the settings are the same. What do I need to do differently in case of Xtext?</p>\n<p><strong>Edit 2:</strong> I added the library path to <code>LD_LIBRARY_PATH</code> in the runtime configuration and now the <code>java.library.path</code> does show the correct library path, but still the same error.</p>\n<p><strong>Edit 3:</strong> I added this code in the check function to list the libraries loaded and my library is shown in the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field libs;\n        try {\n            libs = ClassLoader.class.getDeclaredField(&quot;loadedLibraryNames&quot;);\n            libs.setAccessible(true);\n            Object libraries = libs.get(ClassLoader.getSystemClassLoader());\n            System.out.println(libraries);\n        } catch (NoSuchFieldException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (SecurityException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IllegalArgumentException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n<p>So the library is in fact getting loaded.</p>\n"},{"tags":["java","android","fragment","sensors"],"owner":{"account_id":22291440,"reputation":11,"user_id":16518241,"display_name":"Borissenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634145741,"creation_date":1634145741,"question_id":69559772,"body_markdown":"First post, feeling a bit like calling on the gods in ancient times. Please be kind dear celestial programming entities, I don&#39;t want to sacrifice my cat :(\r\n\r\nProblem: trying to implement a Step Counter in a Fragment that starts and stops depending on switch position, but I fail to understand which SensorEventListener-context I need to pass to the registerListener() method that I try to implement in the onCheckedChanged()-method. I tried this, getContext(), getApplication() but to no avail.\r\n\r\nSo, great oracles of stackoverflow, which are the right words to type?\r\n\r\n\r\n```\r\npublic class StepCounterFragment extends Fragment implements SensorEventListener {\r\n\r\n    //declare layout elements\r\n    private SwitchMaterial switchMaterial;\r\n    private TextView setSteps;\r\n    private Button reset;\r\n\r\n    //declare sensor elements\r\n    private Sensor sensorStepCounter;\r\n    private SensorManager sensorManager;\r\n\r\n    public StepCounterFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        //implement layout elements\r\n        View rootView = inflater.inflate(R.layout.fragment_step_counter, container, false);\r\n        switchMaterial = rootView.findViewById(R.id.switch_stepCounter);\r\n        setSteps = rootView.findViewById(R.id.tv_stepcount);\r\n        reset = rootView.findViewById(R.id.btn_resetSteps);\r\n\r\n        //implement sensor elements\r\n        sensorManager = (SensorManager) getActivity().getSystemService(Context.SENSOR_SERVICE);\r\n        sensorStepCounter = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n\r\n        switchMaterial.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if (isChecked) {\r\n                    if (sensorStepCounter != null) {\r\n                        sensorManager.registerListener(getContext(), sensorStepCounter, SensorManager.SENSOR_DELAY_NORMAL);\r\n                    }\r\n\r\n                } else {\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How do I get a Sensor in a Fragment to start and stop with Button click?","body":"<p>First post, feeling a bit like calling on the gods in ancient times. Please be kind dear celestial programming entities, I don't want to sacrifice my cat :(</p>\n<p>Problem: trying to implement a Step Counter in a Fragment that starts and stops depending on switch position, but I fail to understand which SensorEventListener-context I need to pass to the registerListener() method that I try to implement in the onCheckedChanged()-method. I tried this, getContext(), getApplication() but to no avail.</p>\n<p>So, great oracles of stackoverflow, which are the right words to type?</p>\n<pre><code>public class StepCounterFragment extends Fragment implements SensorEventListener {\n\n    //declare layout elements\n    private SwitchMaterial switchMaterial;\n    private TextView setSteps;\n    private Button reset;\n\n    //declare sensor elements\n    private Sensor sensorStepCounter;\n    private SensorManager sensorManager;\n\n    public StepCounterFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        //implement layout elements\n        View rootView = inflater.inflate(R.layout.fragment_step_counter, container, false);\n        switchMaterial = rootView.findViewById(R.id.switch_stepCounter);\n        setSteps = rootView.findViewById(R.id.tv_stepcount);\n        reset = rootView.findViewById(R.id.btn_resetSteps);\n\n        //implement sensor elements\n        sensorManager = (SensorManager) getActivity().getSystemService(Context.SENSOR_SERVICE);\n        sensorStepCounter = sensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n\n        switchMaterial.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                if (isChecked) {\n                    if (sensorStepCounter != null) {\n                        sensorManager.registerListener(getContext(), sensorStepCounter, SensorManager.SENSOR_DELAY_NORMAL);\n                    }\n\n                } else {\n\n                }\n            }\n        });\n\n        return rootView;\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":1,"creation_date":1328622486,"post_id":9177315,"comment_id":11545491,"body_markdown":"In your regex you are looking for the end quote, but in your example you don&#39;t have quotes. Which is correct?","body":"In your regex you are looking for the end quote, but in your example you don&#39;t have quotes. Which is correct?"},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1328623234,"post_id":9177315,"comment_id":11545749,"body_markdown":"Your example has a broken HTML, you can&#39;t really parse that trough a RegEx for all possible HTML strings. However if it is `&lt;INPUT type=&quot;hidden&quot; id=&quot;Region&quot; value=&quot;Circuits Japan&quot; checked=&quot;false&quot;&gt;` then of course you can.","body":"Your example has a broken HTML, you can&#39;t really parse that trough a RegEx for all possible HTML strings. However if it is <code>&lt;INPUT type=&quot;hidden&quot; id=&quot;Region&quot; value=&quot;Circuits Japan&quot; checked=&quot;false&quot;&gt;</code> then of course you can."},{"owner":{"account_id":411534,"reputation":2703,"user_id":784043,"accept_rate":50,"display_name":"RokL"},"score":1,"creation_date":1328623285,"post_id":9177315,"comment_id":11545775,"body_markdown":"without quotes you can&#39;t possibly parse `Circuits Japan` as a single value. How do you know that `Japan` is part of the value attribute and not the name of the next attribute?","body":"without quotes you can&#39;t possibly parse <code>Circuits Japan</code> as a single value. How do you know that <code>Japan</code> is part of the value attribute and not the name of the next attribute?"},{"owner":{"account_id":1193014,"reputation":189,"user_id":1165377,"accept_rate":81,"display_name":"thinking_hydrogen"},"score":0,"creation_date":1328623415,"post_id":9177315,"comment_id":11545833,"body_markdown":"What am I saying! it is with quotes. Apologies fellas.","body":"What am I saying! it is with quotes. Apologies fellas."},{"owner":{"account_id":4666907,"reputation":1181,"user_id":3779757,"display_name":"anayarojo"},"score":0,"creation_date":1551396052,"post_id":9177315,"comment_id":96635816,"body_markdown":"`id=(&quot;.*?&quot;)` works for me","body":"<code>id=(&quot;.*?&quot;)</code> works for me"}],"answers":[{"tags":[],"owner":{"account_id":365762,"reputation":9960,"user_id":710877,"display_name":"Anantha Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1328622345,"creation_date":1328622345,"answer_id":9177340,"question_id":9177315,"body_markdown":"have you considered [Apacke Tika][1], [here][2] is a blog which shows how to use it.\r\n\r\n\r\n  [1]: http://tika.apache.org/\r\n  [2]: http://blog.jeroenreijn.com/2010/04/metadata-extraction-with-apache-tika.html","title":"Regex to extract id and value","body":"<p>have you considered <a href=\"http://tika.apache.org/\" rel=\"nofollow\">Apacke Tika</a>, <a href=\"http://blog.jeroenreijn.com/2010/04/metadata-extraction-with-apache-tika.html\" rel=\"nofollow\">here</a> is a blog which shows how to use it.</p>\n"},{"tags":[],"owner":{"account_id":242330,"reputation":10725,"user_id":513769,"accept_rate":75,"display_name":"stevevls"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328622417,"creation_date":1328622417,"answer_id":9177359,"question_id":9177315,"body_markdown":"Unless otherwise specified, the `+` operator is greedy...that means it will match as much as it possibly can.  In your case, that means it&#39;s going all the way to the last `&quot;`.  to make the `+` match without being greedy, add a following `?`.  E.g.:\r\n\r\n    .*id=(.[^&quot;]+?)\r\n\r\nThen you should get the value you&#39;re expecting.","title":"Regex to extract id and value","body":"<p>Unless otherwise specified, the <code>+</code> operator is greedy...that means it will match as much as it possibly can.  In your case, that means it's going all the way to the last <code>\"</code>.  to make the <code>+</code> match without being greedy, add a following <code>?</code>.  E.g.:</p>\n\n<pre><code>.*id=(.[^\"]+?)\n</code></pre>\n\n<p>Then you should get the value you're expecting.</p>\n"},{"tags":[],"owner":{"account_id":411534,"reputation":2703,"user_id":784043,"accept_rate":50,"display_name":"RokL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1328623039,"creation_date":1328623039,"answer_id":9177526,"question_id":9177315,"body_markdown":"First of all: parsing attributes of html using a single regex is hard to do, because order of attributes can vary.\r\nIf you want to do multiple passes it&#39;s not that hard.\r\nGiven that you don&#39;t have `&quot;` then the regex for id would be:\r\n\r\n`id=(\\\\S+)`\r\n\r\nOf course you can&#39;t parse multiple word attributes like that. You will need `&quot;` just to properly represent such attributes. Assuming you have multiword attribute with `&quot;` around then you should use:\r\n\r\n`someAttribute=\\\\&quot;([^&quot;]+)`","title":"Regex to extract id and value","body":"<p>First of all: parsing attributes of html using a single regex is hard to do, because order of attributes can vary.\nIf you want to do multiple passes it's not that hard.\nGiven that you don't have <code>\"</code> then the regex for id would be:</p>\n\n<p><code>id=(\\\\S+)</code></p>\n\n<p>Of course you can't parse multiple word attributes like that. You will need <code>\"</code> just to properly represent such attributes. Assuming you have multiword attribute with <code>\"</code> around then you should use:</p>\n\n<p><code>someAttribute=\\\\\"([^\"]+)</code></p>\n"},{"tags":[],"owner":{"account_id":1161458,"reputation":4396,"user_id":1140873,"accept_rate":33,"display_name":"xpapad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328623198,"creation_date":1328623198,"answer_id":9177572,"question_id":9177315,"body_markdown":"If the input element is under your control, you should use quotes for your attribute values, i.e:\r\n\r\n    &lt;INPUT type=&quot;hidden&quot; id=&quot;Region&quot; value=&quot;Cirvuits Japan&quot; checked=&quot;false&quot;&gt;\r\n\r\nthen use:\r\n\r\n    Pattern p = Pattern.compile( &quot; id=\\&quot;(.*?)\\&quot; value=\\&quot;(.*?)\\&quot;&quot; );\r\n    Matcher m = m.matcher( inputString );\r\n    if ( m.find() ) {\r\n        String id = m.group(1);\r\n        String value = m.group(2);\r\n        ...\r\n    }\r\n  \r\n\r\nIf you cannot control the quotes just use:\r\n\r\n    Pattern p = Pattern.compile( &quot; id=(.*?) value=(.*?) checked=&quot; )\r\n    ...","title":"Regex to extract id and value","body":"<p>If the input element is under your control, you should use quotes for your attribute values, i.e:</p>\n\n<pre><code>&lt;INPUT type=\"hidden\" id=\"Region\" value=\"Cirvuits Japan\" checked=\"false\"&gt;\n</code></pre>\n\n<p>then use:</p>\n\n<pre><code>Pattern p = Pattern.compile( \" id=\\\"(.*?)\\\" value=\\\"(.*?)\\\"\" );\nMatcher m = m.matcher( inputString );\nif ( m.find() ) {\n    String id = m.group(1);\n    String value = m.group(2);\n    ...\n}\n</code></pre>\n\n<p>If you cannot control the quotes just use:</p>\n\n<pre><code>Pattern p = Pattern.compile( \" id=(.*?) value=(.*?) checked=\" )\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15952995,"reputation":89,"user_id":11511841,"display_name":"Shohin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634145666,"creation_date":1634131266,"answer_id":69556334,"question_id":9177315,"body_markdown":"Here is javascript approach on extracting the id of elements\r\n\r\n\r\n\r\n```javascript\r\nlet htmlElement = &#39;&lt;div id=&quot;123&quot;&gt;&lt;div id=&quot;new&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;\r\nconst extractIdInstanceFromElement = (htmlElement)=&gt;{\r\n  let htmlElementIds = htmlElement.match(/id=\\&quot;(.*?)\\&quot;/g);\r\n  return htmlElementIds.map(item=&gt; {\r\n    let checkItem = item.split(&#39;id=&#39;)[1].split(&quot;&quot;);\r\n    const [, ...last] = checkItem;\r\n    last.pop()\r\n    return last.join(&#39;&#39;) })\r\n}\r\nconsole.log(extractIdInstanceFromElement(htmlElement))\r\n```","title":"Regex to extract id and value","body":"<p>Here is javascript approach on extracting the id of elements</p>\n<pre class=\"lang-js prettyprint-override\"><code>let htmlElement = '&lt;div id=&quot;123&quot;&gt;&lt;div id=&quot;new&quot;&gt;&lt;/div&gt;&lt;/div&gt;'\nconst extractIdInstanceFromElement = (htmlElement)=&gt;{\n  let htmlElementIds = htmlElement.match(/id=\\&quot;(.*?)\\&quot;/g);\n  return htmlElementIds.map(item=&gt; {\n    let checkItem = item.split('id=')[1].split(&quot;&quot;);\n    const [, ...last] = checkItem;\n    last.pop()\n    return last.join('') })\n}\nconsole.log(extractIdInstanceFromElement(htmlElement))\n</code></pre>\n"}],"owner":{"account_id":1193014,"reputation":189,"user_id":1165377,"accept_rate":81,"display_name":"thinking_hydrogen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9177526,"answer_count":5,"score":2,"last_activity_date":1634145666,"creation_date":1328622187,"question_id":9177315,"body_markdown":"I have a html input element from which I need to extract the name and value using two separate regex (Java).\r\n\r\n    &lt;INPUT type=&quot;hidden&quot; id=&quot;Region&quot; value=&quot;Circuits Japan&quot; checked=&quot;false&quot;&gt;\r\n\r\nI need to extract Region and Circuits Japan from above using 2 different regex.\r\n\r\nFor id extraction, I used something like this `.*id=(.[^&quot;]+`) and it gives me \r\n\r\n    Region value=Circuits Japan checked=false&gt;\r\nwhereas I&#39;m trying to extract only &quot;Region&quot;. \r\nAny inputs will be much appreciated. \r\n\r\nCheers:-)","title":"Regex to extract id and value","body":"<p>I have a html input element from which I need to extract the name and value using two separate regex (Java).</p>\n\n<pre><code>&lt;INPUT type=\"hidden\" id=\"Region\" value=\"Circuits Japan\" checked=\"false\"&gt;\n</code></pre>\n\n<p>I need to extract Region and Circuits Japan from above using 2 different regex.</p>\n\n<p>For id extraction, I used something like this <code>.*id=(.[^\"]+</code>) and it gives me </p>\n\n<pre><code>Region value=Circuits Japan checked=false&gt;\n</code></pre>\n\n<p>whereas I'm trying to extract only \"Region\". \nAny inputs will be much appreciated. </p>\n\n<p>Cheers:-)</p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1532458868,"post_id":51505777,"comment_id":89980628,"body_markdown":"Can you share the `ComplexComparator` class ? and first constructor code","body":"Can you share the <code>ComplexComparator</code> class ? and first constructor code"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1532459338,"post_id":51505777,"comment_id":89980869,"body_markdown":"I don&#39;t get it. Is there a need for a complex comparator since comparators can be chained by `Comparator.thenComparing(...)`? It sounds like &quot;_If 2 data is equal based on first parameter, then it sorts based on the second parameter_&quot;. So basically a `ComplexComparator`would wrap a `Comparator`chain plus setting the sort order?","body":"I don&#39;t get it. Is there a need for a complex comparator since comparators can be chained by <code>Comparator.thenComparing(...)</code>? It sounds like &quot;<i>If 2 data is equal based on first parameter, then it sorts based on the second parameter</i>&quot;. So basically a <code>ComplexComparator</code>would wrap a <code>Comparator</code>chain plus setting the sort order?"},{"owner":{"account_id":14024052,"reputation":33,"user_id":10129570,"display_name":"Zalajin"},"score":0,"creation_date":1532459343,"post_id":51505777,"comment_id":89980874,"body_markdown":"I don&#39;t really have anything to share. I don&#39;t really know how the class should look like. The &quot;public class ComplexComparator implements Comparator&lt;Book&gt;&quot; which i have to write given with the instructions above.","body":"I don&#39;t really have anything to share. I don&#39;t really know how the class should look like. The &quot;public class ComplexComparator implements Comparator&lt;Book&gt;&quot; which i have to write given with the instructions above."},{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1532469951,"post_id":51505777,"comment_id":89985401,"body_markdown":"@LuCio It&#39;s not unlikely that this is an assignment from pre-Java-8-times. Regardless of that: Implementing such a comparator can create some familiarity with the standard API and related classes. There still are some degrees of freedom for the implementation, in terms of genericity, but the exact requirements did IMHO unnecessarily constrain that... :-/","body":"@LuCio It&#39;s not unlikely that this is an assignment from pre-Java-8-times. Regardless of that: Implementing such a comparator can create some familiarity with the standard API and related classes. There still are some degrees of freedom for the implementation, in terms of genericity, but the exact requirements did IMHO unnecessarily constrain that... :-/"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1532459947,"creation_date":1532459408,"answer_id":51505962,"question_id":51505777,"body_markdown":"**1. How to do** \r\n\r\nYou may add a `Comparator&lt;Book&gt;` in your `ComplexComparator` class and you just need to check the different possibilities for the conditions in you constructor :\r\n\r\n    public class ComplexComparator implements Comparator&lt;Book&gt;{\r\n    \r\n        private Comparator&lt;Book&gt; comp;\r\n    \r\n        public ComplexComparator(Comparator&lt;Book&gt; x, Comparator&lt;Book&gt; y) {\r\n            comp = x.thenComparing(y);\r\n        }\r\n    \r\n        public ComplexComparator(Comparator&lt;Book&gt; x, boolean h, Comparator&lt;Book&gt; y, boolean i) {\r\n            if (h &amp;&amp; i) {\r\n                comp = x.thenComparing(y);\r\n            } else if (h) {\r\n                comp = x.thenComparing(y.reversed());\r\n            } else if (i) {\r\n                comp = x.reversed().thenComparing(y);\r\n            } else {\r\n                comp = x.reversed().thenComparing(y.reversed());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int compare(Book o1, Book o2) {\r\n            return comp.compare(o1, o2);\r\n        }\r\n    }\r\n\r\n-------------\r\n\r\n**2. How to create it** \r\n\r\nIf you have the correct `getters` you can use as \r\n\r\n    public static void main(String[] args) {\r\n        Comparator&lt;Book&gt; page = Comparator.comparing(Book::getPageNb);\r\n        Comparator&lt;Book&gt; title = Comparator.comparing(Book::getTitle);\r\n\r\n        ComplexComparator c1 = new ComplexComparator(page, title);\r\n        ComplexComparator c2 = new ComplexComparator(page, true, title, false);\r\n    }\r\n\r\n---------\r\n\r\n**3. How to use it** \r\n\r\n[***`Full Workable Demo`***](https://ideone.com/CEBl0z)\r\n===","title":"How to combine multiple Comparator?","body":"<p><strong>1. How to do</strong> </p>\n\n<p>You may add a <code>Comparator&lt;Book&gt;</code> in your <code>ComplexComparator</code> class and you just need to check the different possibilities for the conditions in you constructor :</p>\n\n<pre><code>public class ComplexComparator implements Comparator&lt;Book&gt;{\n\n    private Comparator&lt;Book&gt; comp;\n\n    public ComplexComparator(Comparator&lt;Book&gt; x, Comparator&lt;Book&gt; y) {\n        comp = x.thenComparing(y);\n    }\n\n    public ComplexComparator(Comparator&lt;Book&gt; x, boolean h, Comparator&lt;Book&gt; y, boolean i) {\n        if (h &amp;&amp; i) {\n            comp = x.thenComparing(y);\n        } else if (h) {\n            comp = x.thenComparing(y.reversed());\n        } else if (i) {\n            comp = x.reversed().thenComparing(y);\n        } else {\n            comp = x.reversed().thenComparing(y.reversed());\n        }\n    }\n\n    @Override\n    public int compare(Book o1, Book o2) {\n        return comp.compare(o1, o2);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>2. How to create it</strong> </p>\n\n<p>If you have the correct <code>getters</code> you can use as </p>\n\n<pre><code>public static void main(String[] args) {\n    Comparator&lt;Book&gt; page = Comparator.comparing(Book::getPageNb);\n    Comparator&lt;Book&gt; title = Comparator.comparing(Book::getTitle);\n\n    ComplexComparator c1 = new ComplexComparator(page, title);\n    ComplexComparator c2 = new ComplexComparator(page, true, title, false);\n}\n</code></pre>\n\n<hr>\n\n<p><strong>3. How to use it</strong> </p>\n\n<h1><a href=\"https://ideone.com/CEBl0z\" rel=\"nofollow noreferrer\"><strong><em><code>Full Workable Demo</code></em></strong></a></h1>\n"},{"tags":[],"owner":{"account_id":6470437,"reputation":61,"user_id":5010777,"display_name":"Paul Campbell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634145528,"creation_date":1634140692,"answer_id":69558665,"question_id":51505777,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n    Comparator&lt;Book&gt; page = Comparator.comparing(Book::getPageNb);\r\n    Comparator&lt;Book&gt; title = Comparator.comparing(Book::getTitle);\r\n\r\n    // you dont need a combining &quot;complex&quot; class - \r\n    // just compose using .thenCompare() and/or \r\n    // .reversed() as required e.g.:\r\n\r\n    Comparator complex1 = page.thenComparing(title);\r\n    Comparator complex2 = page.reversed().thenComparing(title);\r\n}\r\n```","title":"How to combine multiple Comparator?","body":"<pre><code>public static void main(String[] args) {\n    Comparator&lt;Book&gt; page = Comparator.comparing(Book::getPageNb);\n    Comparator&lt;Book&gt; title = Comparator.comparing(Book::getTitle);\n\n    // you dont need a combining &quot;complex&quot; class - \n    // just compose using .thenCompare() and/or \n    // .reversed() as required e.g.:\n\n    Comparator complex1 = page.thenComparing(title);\n    Comparator complex2 = page.reversed().thenComparing(title);\n}\n</code></pre>\n"}],"owner":{"account_id":14024052,"reputation":33,"user_id":10129570,"display_name":"Zalajin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6078,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":51505962,"answer_count":2,"score":2,"last_activity_date":1634145528,"creation_date":1532458700,"question_id":51505777,"body_markdown":"My very first post question here, be gentle please :)\r\n\r\nI am trying to create a comparator in Java that sorts based on various criteria. The Main class is very basic, it has several variables which the sorting is based on. \r\n\r\nFor example, a &quot;Book&quot; class, which has :\r\n\r\n- page number, \r\n- title, \r\n- average wordcount per page.\r\n\r\nHere is what &quot;intructions&quot; i was given:\r\n\r\nWrite a ComplexComperator, which can sort based on multiple variables. Make 2 constructors:\r\n\r\nOne with 2 parameters\r\n\r\n     public ComplexComparator(Comparator&lt;Book&gt; x, Comparator&lt;Book&gt; y)\r\n\r\nIf both items are equal based on first parameter, then it sorts based on the second parameter,\r\n\r\nAnd another with 4 parameters\r\n       \r\n     public ComplexComparator(Comparator&lt;Book&gt; x, boolean h, Comparator&lt;Book&gt; y, boolean i)\r\n\r\nIf the logical variables are true, it sorts it in a natural order based on that Comparator - so it works the same as the 2-parameter constructor. If one of the logical variables takes a false value, it will reverse the natural order.\r\n\r\nSo, thats it. I wrote simple Comparators but i don&#39;t know how to handle this one. I don&#39;t know what the compare method should look like; or even if I have to add some kind of class variable...  Thank you for any help!","title":"How to combine multiple Comparator?","body":"<p>My very first post question here, be gentle please :)</p>\n\n<p>I am trying to create a comparator in Java that sorts based on various criteria. The Main class is very basic, it has several variables which the sorting is based on. </p>\n\n<p>For example, a \"Book\" class, which has :</p>\n\n<ul>\n<li>page number, </li>\n<li>title, </li>\n<li>average wordcount per page.</li>\n</ul>\n\n<p>Here is what \"intructions\" i was given:</p>\n\n<p>Write a ComplexComperator, which can sort based on multiple variables. Make 2 constructors:</p>\n\n<p>One with 2 parameters</p>\n\n<pre><code> public ComplexComparator(Comparator&lt;Book&gt; x, Comparator&lt;Book&gt; y)\n</code></pre>\n\n<p>If both items are equal based on first parameter, then it sorts based on the second parameter,</p>\n\n<p>And another with 4 parameters</p>\n\n<pre><code> public ComplexComparator(Comparator&lt;Book&gt; x, boolean h, Comparator&lt;Book&gt; y, boolean i)\n</code></pre>\n\n<p>If the logical variables are true, it sorts it in a natural order based on that Comparator - so it works the same as the 2-parameter constructor. If one of the logical variables takes a false value, it will reverse the natural order.</p>\n\n<p>So, thats it. I wrote simple Comparators but i don't know how to handle this one. I don't know what the compare method should look like; or even if I have to add some kind of class variable...  Thank you for any help!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3100028,"reputation":432,"user_id":2624395,"display_name":"user2624395"},"score":1,"creation_date":1433471419,"post_id":29687897,"comment_id":49377386,"body_markdown":"answered here: http://stackoverflow.com/questions/29857695/android-tests-build-error-multiple-dex-files-define-landroid-support-test-build for my build, the 5/30/2015 version of the answer did the trick","body":"answered here: <a href=\"http://stackoverflow.com/questions/29857695/android-tests-build-error-multiple-dex-files-define-landroid-support-test-build\" title=\"android tests build error multiple dex files define landroid support test build\">stackoverflow.com/questions/29857695/&hellip;</a> for my build, the 5/30/2015 version of the answer did the trick"},{"owner":{"account_id":56914,"reputation":8368,"user_id":170451,"accept_rate":55,"display_name":"KarolDepka"},"score":0,"creation_date":1484418705,"post_id":29687897,"comment_id":70505635,"body_markdown":"Can you give the exact path of the class file, which exhibits the `error: package android.support.test does not exist` ?","body":"Can you give the exact path of the class file, which exhibits the <code>error: package android.support.test does not exist</code> ?"},{"owner":{"account_id":1636994,"reputation":5315,"user_id":1510222,"accept_rate":50,"display_name":"Arkadiusz Cieśliński"},"score":0,"creation_date":1497523645,"post_id":29687897,"comment_id":76119568,"body_markdown":"In my case, it was the problem with the release build. I have switched into debug and it was fine, but I still do not why...","body":"In my case, it was the problem with the release build. I have switched into debug and it was fine, but I still do not why..."}],"answers":[{"tags":[],"owner":{"account_id":1334211,"reputation":20794,"user_id":1277362,"accept_rate":84,"display_name":"Pavel Dudka"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1429230057,"creation_date":1429230057,"answer_id":29688159,"question_id":29687897,"body_markdown":"There are 2 different test dependencies configurations:\r\n\r\n- `testCompile` - used by unit test suite (located in `src/test` folder and invoked by `./gradlew test`) \r\n-  `androidTestCompile` - used by integration test suite (located at `src/androidTest` folder and invoked by `./gradlew connectedAndroidTest`).\r\n\r\nMy suspicion is that your test code is in the wrong test suite location\r\n\r\nIn your case your test code should go into `src/androidTest` folder and test suite should be executed by running `./gradlew connectedAndroidTest`\r\n\r\n\r\n","title":"Why is library module android.support.test not visible in add dependency","body":"<p>There are 2 different test dependencies configurations:</p>\n\n<ul>\n<li><code>testCompile</code> - used by unit test suite (located in <code>src/test</code> folder and invoked by <code>./gradlew test</code>) </li>\n<li><code>androidTestCompile</code> - used by integration test suite (located at <code>src/androidTest</code> folder and invoked by <code>./gradlew connectedAndroidTest</code>).</li>\n</ul>\n\n<p>My suspicion is that your test code is in the wrong test suite location</p>\n\n<p>In your case your test code should go into <code>src/androidTest</code> folder and test suite should be executed by running <code>./gradlew connectedAndroidTest</code></p>\n"},{"tags":[],"owner":{"account_id":6379255,"reputation":436,"user_id":4949273,"display_name":"ebelli"},"down_vote_count":1,"up_vote_count":38,"is_accepted":true,"score":37,"last_activity_date":1433453178,"creation_date":1433423663,"answer_id":30644796,"question_id":29687897,"body_markdown":"I had the same issue and I found that the dependencies with the androidTestCompile are visible only by default in the debug build variant.\r\n\r\nYou can change the build variant to be tested by adding this to your build.gradle:\r\n\r\n    android {\r\n        ...\r\n        testBuildType &quot;staging&quot;\r\n    }\r\n\r\nwhere &quot;staging&quot; is just an example, you should replace it with one of your build variant.\r\n\r\nRemember that only one variant is tested.\r\n\r\nMore information here https://code.google.com/p/android/issues/detail?id=98326\r\n\r\n","title":"Why is library module android.support.test not visible in add dependency","body":"<p>I had the same issue and I found that the dependencies with the androidTestCompile are visible only by default in the debug build variant.</p>\n\n<p>You can change the build variant to be tested by adding this to your build.gradle:</p>\n\n<pre><code>android {\n    ...\n    testBuildType \"staging\"\n}\n</code></pre>\n\n<p>where \"staging\" is just an example, you should replace it with one of your build variant.</p>\n\n<p>Remember that only one variant is tested.</p>\n\n<p>More information here <a href=\"https://code.google.com/p/android/issues/detail?id=98326\" rel=\"noreferrer\">https://code.google.com/p/android/issues/detail?id=98326</a></p>\n"},{"tags":[],"owner":{"account_id":5473678,"reputation":331,"user_id":5046743,"accept_rate":83,"display_name":"Poptart"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1435190548,"creation_date":1435190548,"answer_id":31039144,"question_id":29687897,"body_markdown":"I&#39;ve had the same problem and it was solved by hitting Clean Project from the Build tab in Android Studio. \r\n\r\nAfter hitting Clean Project, watch the Gradle Console for potential errors and if it completes the cleaning successfully, simply go into any one of your test classes and type in &quot;Espresso&quot; and the smart code completion should offer suggestions. Everything should automatically import as you use Espresso after that. \r\n\r\nHope this helps!","title":"Why is library module android.support.test not visible in add dependency","body":"<p>I've had the same problem and it was solved by hitting Clean Project from the Build tab in Android Studio. </p>\n\n<p>After hitting Clean Project, watch the Gradle Console for potential errors and if it completes the cleaning successfully, simply go into any one of your test classes and type in \"Espresso\" and the smart code completion should offer suggestions. Everything should automatically import as you use Espresso after that. </p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":374069,"reputation":699,"user_id":724072,"accept_rate":100,"display_name":"zai chang"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1445431624,"creation_date":1445431624,"answer_id":33259738,"question_id":29687897,"body_markdown":"I had this issue as well and I have my android test cases under src/androidTests as recommended by Google, but this caused problems with build.gradle:\r\n\r\n    sourceSets {\r\n        main {\r\n            java.srcDirs = [&#39;src&#39;]\r\n        }\r\n    }\r\n\r\nWith the above it&#39;s trying to compile all my test cases within the normal *debug* compilation target, which does not include the espresso and other dependencies because they&#39;re listed under *androidTestCompile*.\r\n\r\nIn the end I fixed this by excluding the androidTest subdirectory from compilation and set the root of androidTest to the appropriate directory.\r\n\r\n    sourceSets {\r\n        main {\r\n            java.srcDirs = [&#39;src&#39;]\r\n            java.excludes = [&#39;androidTest/**&#39;]\r\n        }\r\n        androidTest.setRoot(&#39;src/androidTest&#39;)\r\n    }\r\n","title":"Why is library module android.support.test not visible in add dependency","body":"<p>I had this issue as well and I have my android test cases under src/androidTests as recommended by Google, but this caused problems with build.gradle:</p>\n\n<pre><code>sourceSets {\n    main {\n        java.srcDirs = ['src']\n    }\n}\n</code></pre>\n\n<p>With the above it's trying to compile all my test cases within the normal <em>debug</em> compilation target, which does not include the espresso and other dependencies because they're listed under <em>androidTestCompile</em>.</p>\n\n<p>In the end I fixed this by excluding the androidTest subdirectory from compilation and set the root of androidTest to the appropriate directory.</p>\n\n<pre><code>sourceSets {\n    main {\n        java.srcDirs = ['src']\n        java.excludes = ['androidTest/**']\n    }\n    androidTest.setRoot('src/androidTest')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1312129,"reputation":4734,"user_id":1259923,"accept_rate":76,"display_name":"Eefret"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1447860042,"creation_date":1447860042,"answer_id":33783847,"question_id":29687897,"body_markdown":"My solution was easier and simpler, I just went to Android Studio `File&gt;Invalidate Caches/Restart` and it worked properly, seems that android studio is keeping some cache that will not clean with `Rebuild/Clean`.","title":"Why is library module android.support.test not visible in add dependency","body":"<p>My solution was easier and simpler, I just went to Android Studio <code>File&gt;Invalidate Caches/Restart</code> and it worked properly, seems that android studio is keeping some cache that will not clean with <code>Rebuild/Clean</code>.</p>\n"},{"tags":[],"owner":{"account_id":3753558,"reputation":836,"user_id":4636686,"display_name":"Louis Parkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476700689,"creation_date":1476700689,"answer_id":40084210,"question_id":29687897,"body_markdown":"I encountered this issue while forward-porting one of my apps into a new visual paradigm, and found my app-level build.gradle was missing the following:\r\n\r\n    androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })","title":"Why is library module android.support.test not visible in add dependency","body":"<p>I encountered this issue while forward-porting one of my apps into a new visual paradigm, and found my app-level build.gradle was missing the following:</p>\n\n<pre><code>androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10014446,"reputation":1,"user_id":7406268,"display_name":"user7406268"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484160339,"creation_date":1484160339,"answer_id":41598413,"question_id":29687897,"body_markdown":"1.Click the drop down menu beside the Run button in the toolbar. \r\n\r\n2.Click Edit configuration\r\n\r\n3.Now remove all others except app(within Android App) and the Default one.\r\n\r\nThis worked for me. Hope it helps.\r\n","title":"Why is library module android.support.test not visible in add dependency","body":"<p>1.Click the drop down menu beside the Run button in the toolbar. </p>\n\n<p>2.Click Edit configuration</p>\n\n<p>3.Now remove all others except app(within Android App) and the Default one.</p>\n\n<p>This worked for me. Hope it helps.</p>\n"}],"owner":{"account_id":3100028,"reputation":432,"user_id":2624395,"display_name":"user2624395"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28934,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":30644796,"answer_count":7,"score":26,"last_activity_date":1634145467,"creation_date":1429228305,"question_id":29687897,"body_markdown":"I am adding Espresso to my project in Android Studio. I have installed the Support Repository and in fact have already been using pieces of it. Then I added these dependencies to `app/build.gradle` per the install instructions:\r\n\r\n    androidTestCompile &#39;com.android.support.test.espresso:espresso-core:2.0&#39;\r\n    androidTestCompile &#39;com.android.support.test:testing-support-lib:0.1&#39;\r\n\r\nin writing my test, auto complete recognizes the existence of the artifacts. But when I run I get this error:\r\n\r\n    error: package android.support.test does not exist\r\n    error: package org.junit does not exist\r\n\r\nand a number of other subpackages to these two.\r\n\r\nSo I removed the two above lines from build.gradle and attempted to add then in the GUI project structure/modules/dependencies\r\n\r\nneither &#39;com.android.support.test.espresso:espresso-core:2.0&#39; nor &#39;com.android.support.test:testing-support-lib:0.1&#39; appear as options to choose from.  However, in my file system there is `&lt;sdk&gt;\\extras\\android\\m2repository\\com\\android\\support\\test\\espresso\\espresso-core\\2.0\\` with the full complement of files including `espresso-core-2.0.aar` which I am able to open and navigate within it via winzip.  In the file system it looks no different than the other libraries installed via SDK Manager with Support Repository.\r\n\r\nWhy doesn&#39;t android studio recognize this library?\r\n\r\nYour help is greatly appreciated, no one else that I can find seems to have run into this problem.  This is the closest I could find: https://stackoverflow.com/questions/28796114/why-do-packages-from-library-module-does-not-exist-upon-compilation-even-when-a\r\n\r\nI have tried reinstalling Support Repository twice.","title":"Why is library module android.support.test not visible in add dependency","body":"<p>I am adding Espresso to my project in Android Studio. I have installed the Support Repository and in fact have already been using pieces of it. Then I added these dependencies to <code>app/build.gradle</code> per the install instructions:</p>\n\n<pre><code>androidTestCompile 'com.android.support.test.espresso:espresso-core:2.0'\nandroidTestCompile 'com.android.support.test:testing-support-lib:0.1'\n</code></pre>\n\n<p>in writing my test, auto complete recognizes the existence of the artifacts. But when I run I get this error:</p>\n\n<pre><code>error: package android.support.test does not exist\nerror: package org.junit does not exist\n</code></pre>\n\n<p>and a number of other subpackages to these two.</p>\n\n<p>So I removed the two above lines from build.gradle and attempted to add then in the GUI project structure/modules/dependencies</p>\n\n<p>neither 'com.android.support.test.espresso:espresso-core:2.0' nor 'com.android.support.test:testing-support-lib:0.1' appear as options to choose from.  However, in my file system there is <code>&lt;sdk&gt;\\extras\\android\\m2repository\\com\\android\\support\\test\\espresso\\espresso-core\\2.0\\</code> with the full complement of files including <code>espresso-core-2.0.aar</code> which I am able to open and navigate within it via winzip.  In the file system it looks no different than the other libraries installed via SDK Manager with Support Repository.</p>\n\n<p>Why doesn't android studio recognize this library?</p>\n\n<p>Your help is greatly appreciated, no one else that I can find seems to have run into this problem.  This is the closest I could find: <a href=\"https://stackoverflow.com/questions/28796114/why-do-packages-from-library-module-does-not-exist-upon-compilation-even-when-a\">Why do packages from library module does not exist upon compilation, even when Android Studio shows no errors in code?</a></p>\n\n<p>I have tried reinstalling Support Repository twice.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8932475,"reputation":384,"user_id":6664590,"accept_rate":83,"display_name":"Diego"},"score":1,"creation_date":1634106580,"post_id":69550629,"comment_id":122933620,"body_markdown":"Please provide the other test cases, so it is easier to tell what is wrong.","body":"Please provide the other test cases, so it is easier to tell what is wrong."},{"owner":{"account_id":23018911,"reputation":15,"user_id":17140212,"display_name":"Bob"},"score":1,"creation_date":1634106736,"post_id":69550629,"comment_id":122933655,"body_markdown":"It is from gfg it does not show the other test cases","body":"It is from gfg it does not show the other test cases"},{"owner":{"account_id":23018911,"reputation":15,"user_id":17140212,"display_name":"Bob"},"score":1,"creation_date":1634106740,"post_id":69550629,"comment_id":122933659,"body_markdown":"https://practice.geeksforgeeks.org/problems/upper-case-conversion5419/1/?category[]=Strings&amp;category[]=Strings&amp;problemStatus=unsolved&amp;difficulty[]=-2&amp;page=1&amp;query=category[]StringsproblemStatusunsolveddifficulty[]-2page1category[]Strings#","body":"<a href=\"https://practice.geeksforgeeks.org/problems/upper-case-conversion5419/1/?category[]=Strings&amp;category[]=Strings&amp;problemStatus=unsolved&amp;difficulty[]=-2&amp;page=1&amp;query=category[]StringsproblemStatusunsolveddifficulty[]-2page1category[]Strings#\" rel=\"nofollow noreferrer\">practice.geeksforgeeks.org/problems/upper-case-conversion541&zwnj;&#8203;9/1/&hellip;</a>"},{"owner":{"account_id":8932475,"reputation":384,"user_id":6664590,"accept_rate":83,"display_name":"Diego"},"score":3,"creation_date":1634107095,"post_id":69550629,"comment_id":122933760,"body_markdown":"I believe what is wrong is that if a test case ends with a white space, then you will access an invalid index on the string (i + 1). You should probably treat this case or come up with a more general algorithm. For example, instead of looking if the next character is a whitespace, you can look to the previous character. If it is a whitespace, then you set it to uppercase. This way you will not access an invalid index.","body":"I believe what is wrong is that if a test case ends with a white space, then you will access an invalid index on the string (i + 1). You should probably treat this case or come up with a more general algorithm. For example, instead of looking if the next character is a whitespace, you can look to the previous character. If it is a whitespace, then you set it to uppercase. This way you will not access an invalid index."},{"owner":{"account_id":23018911,"reputation":15,"user_id":17140212,"display_name":"Bob"},"score":1,"creation_date":1634107280,"post_id":69550629,"comment_id":122933820,"body_markdown":"ok thanks, I will try that","body":"ok thanks, I will try that"},{"owner":{"account_id":8932475,"reputation":384,"user_id":6664590,"accept_rate":83,"display_name":"Diego"},"score":2,"creation_date":1634107433,"post_id":69550629,"comment_id":122933870,"body_markdown":"Actually, since your loop starts at `1`, you can simply check if `i - 1` was a whitespace. If that was the case, then you set the character to upper. This way you will never reach invalid index.","body":"Actually, since your loop starts at <code>1</code>, you can simply check if <code>i - 1</code> was a whitespace. If that was the case, then you set the character to upper. This way you will never reach invalid index."},{"owner":{"account_id":23018911,"reputation":15,"user_id":17140212,"display_name":"Bob"},"score":2,"creation_date":1634107990,"post_id":69550629,"comment_id":122934028,"body_markdown":"Yes you were right, it worked all the test cases passed . Thank you.","body":"Yes you were right, it worked all the test cases passed . Thank you."},{"owner":{"account_id":20952963,"reputation":1782,"user_id":15394199,"display_name":"random_hooman"},"score":1,"creation_date":1634108254,"post_id":69550629,"comment_id":122934106,"body_markdown":"Does this answer your question? [How to capitalize the first letter of a String in Java?](https://stackoverflow.com/questions/3904579/how-to-capitalize-the-first-letter-of-a-string-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3904579/how-to-capitalize-the-first-letter-of-a-string-in-java\">How to capitalize the first letter of a String in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23018911,"reputation":15,"user_id":17140212,"display_name":"Bob"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634107938,"creation_date":1634107938,"answer_id":69550924,"question_id":69550629,"body_markdown":"This solution worked for me really well all the test cases passed. Thank you.\r\n```\r\nclass Solution\r\n{\r\n    public String transform(String s)\r\n    {\r\n        // code here\r\n       char ch;\r\n\t//\tString s = &quot;i love programming&quot;;\r\n\t\tString res=&quot;&quot;; \r\n\t\tch = s.charAt(0); \r\n\t\tch = Character.toUpperCase(s.charAt(0));\r\n\t    res +=ch;\r\n\t    \r\n\t\tfor(int i=1;i&lt;s.length();i++){\r\n\t            if(s.charAt(i-1) == &#39; &#39;){\r\n\t            \t//System.out.println(i);\r\n\t                \r\n\t            \tch = Character.toUpperCase(s.charAt(i));\r\n\t            \t\r\n\t            \tres+=ch;\r\n\t          \r\n\t            }else {\r\n\t            \t\r\n\t            \tres+=s.charAt(i);\r\n\t            \r\n\t            }\r\n\t\t}\r\n        \r\n        return res;\r\n    }\r\n}\r\n```","title":"Upper case conversion - convert the first letter of each word in the string to uppercase","body":"<p>This solution worked for me really well all the test cases passed. Thank you.</p>\n<pre><code>class Solution\n{\n    public String transform(String s)\n    {\n        // code here\n       char ch;\n    //  String s = &quot;i love programming&quot;;\n        String res=&quot;&quot;; \n        ch = s.charAt(0); \n        ch = Character.toUpperCase(s.charAt(0));\n        res +=ch;\n        \n        for(int i=1;i&lt;s.length();i++){\n                if(s.charAt(i-1) == ' '){\n                    //System.out.println(i);\n                    \n                    ch = Character.toUpperCase(s.charAt(i));\n                    \n                    res+=ch;\n              \n                }else {\n                    \n                    res+=s.charAt(i);\n                \n                }\n        }\n        \n        return res;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634145090,"creation_date":1634109389,"answer_id":69551189,"question_id":69550629,"body_markdown":"There is an attempt to make uppercase a _next_ character after the space (which should be done only if this character is a letter _and_ if this charactrer is available).  Similarly the first character of the sentence is upper cased without checking if this first letter is a letter.\r\n\r\nIt may be better to use a boolean flag which should be reset upon applying an upper case to a _letter_.  Also, `StringBuilder` should be used instead of concatenating a String in the loop.\r\n\r\nSo the improved code may look as follows with more rules added:\r\n- make the first letter in the word consisting of letters and/or digits upper case\r\n- words are separated with any non-letter/non-digit character except `&#39;` used in contractions like `I&#39;m, there&#39;s` etc.\r\n- check for `null`/ empty input\r\n\r\n```java\r\npublic static String transform(String s) {\r\n    if (null == s || s.isEmpty()) {\r\n        return s;\r\n    }\r\n    boolean useUpper = true; // boolean flag\r\n    StringBuilder sb = new StringBuilder(s.length());\r\n        \r\n    for (char c : s.toCharArray()) {\r\n        if (Character.isLetter(c) || Character.isDigit(c)) {\r\n            if (useUpper) {\r\n                c = Character.toUpperCase(c);\r\n                useUpper = false;\r\n            }\r\n        } else if (c != &#39;\\&#39;&#39;) { // any non-alphanumeric character, not only space\r\n            useUpper = true; // set flag for the next letter\r\n        }\r\n        sb.append(c);\r\n    }\r\n        \r\n    return sb.toString();\r\n}    \r\n\r\n```\r\nTests:\r\n```java\r\nString[] tests = {\r\n    &quot;hello world&quot;,\r\n    &quot;  hi there,what&#39;s up?&quot;,\r\n    &quot;-a-b-c-d&quot;,\r\n    &quot;ID&#39;s 123abc-567def&quot;\r\n};\r\n\r\nfor (String t : tests) {\r\n    System.out.println(t + &quot; -&gt; &quot; + transform(t));\r\n}\r\n```\r\nOutput:\r\n```\r\nhello world -&gt; Hello World\r\n  hi there, what&#39;s up? -&gt;   Hi There,What&#39;s Up?\r\n-a-b-c-d -&gt; -A-B-C-D\r\nID&#39;s 123abc-567def -&gt; ID&#39;s 123abc-567def\r\n```\r\n----\r\n**Update**\r\n\r\nA regular expression and [`Matcher::replaceAll(Function&lt;MatchResult, String&gt; replacer)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)) available since Java 9 may also help to capitalize the first letters in the words:\r\n```java\r\n// pattern to detect the first letter\r\nprivate static final Pattern FIRST_LETTER = Pattern.compile(&quot;\\\\b(?&lt;!&#39;)(\\\\p{L})([\\\\p{L}\\\\p{N}]*?\\\\b)&quot;);\r\npublic static String transformRegex(String s) {\r\n    if (null == s || s.isEmpty()) {\r\n        return s;\r\n    }\r\n        \r\n    return FIRST_LETTER.matcher(s)\r\n        .replaceAll((mr) -&gt; mr.group(1).toUpperCase() + mr.group(2));\r\n}\r\n```\r\nHere:\r\n* `\\b` - word boundary\r\n* `(?&lt;!&#39;)` - negative lookbehind for `&#39;` as above, that is, match a letter NOT preceded with `&#39;`\r\n* `\\p{L}` - the first letter in the word (Unicode)\r\n* `([\\p{L}\\p{N}]*\\b)` - followed by a possibly empty sequence of letters/digits","title":"Upper case conversion - convert the first letter of each word in the string to uppercase","body":"<p>There is an attempt to make uppercase a <em>next</em> character after the space (which should be done only if this character is a letter <em>and</em> if this charactrer is available).  Similarly the first character of the sentence is upper cased without checking if this first letter is a letter.</p>\n<p>It may be better to use a boolean flag which should be reset upon applying an upper case to a <em>letter</em>.  Also, <code>StringBuilder</code> should be used instead of concatenating a String in the loop.</p>\n<p>So the improved code may look as follows with more rules added:</p>\n<ul>\n<li>make the first letter in the word consisting of letters and/or digits upper case</li>\n<li>words are separated with any non-letter/non-digit character except <code>'</code> used in contractions like <code>I'm, there's</code> etc.</li>\n<li>check for <code>null</code>/ empty input</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static String transform(String s) {\n    if (null == s || s.isEmpty()) {\n        return s;\n    }\n    boolean useUpper = true; // boolean flag\n    StringBuilder sb = new StringBuilder(s.length());\n        \n    for (char c : s.toCharArray()) {\n        if (Character.isLetter(c) || Character.isDigit(c)) {\n            if (useUpper) {\n                c = Character.toUpperCase(c);\n                useUpper = false;\n            }\n        } else if (c != '\\'') { // any non-alphanumeric character, not only space\n            useUpper = true; // set flag for the next letter\n        }\n        sb.append(c);\n    }\n        \n    return sb.toString();\n}    \n\n</code></pre>\n<p>Tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] tests = {\n    &quot;hello world&quot;,\n    &quot;  hi there,what's up?&quot;,\n    &quot;-a-b-c-d&quot;,\n    &quot;ID's 123abc-567def&quot;\n};\n\nfor (String t : tests) {\n    System.out.println(t + &quot; -&gt; &quot; + transform(t));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>hello world -&gt; Hello World\n  hi there, what's up? -&gt;   Hi There,What's Up?\n-a-b-c-d -&gt; -A-B-C-D\nID's 123abc-567def -&gt; ID's 123abc-567def\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>A regular expression and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Matcher::replaceAll(Function&lt;MatchResult, String&gt; replacer)</code></a> available since Java 9 may also help to capitalize the first letters in the words:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// pattern to detect the first letter\nprivate static final Pattern FIRST_LETTER = Pattern.compile(&quot;\\\\b(?&lt;!')(\\\\p{L})([\\\\p{L}\\\\p{N}]*?\\\\b)&quot;);\npublic static String transformRegex(String s) {\n    if (null == s || s.isEmpty()) {\n        return s;\n    }\n        \n    return FIRST_LETTER.matcher(s)\n        .replaceAll((mr) -&gt; mr.group(1).toUpperCase() + mr.group(2));\n}\n</code></pre>\n<p>Here:</p>\n<ul>\n<li><code>\\b</code> - word boundary</li>\n<li><code>(?&lt;!')</code> - negative lookbehind for <code>'</code> as above, that is, match a letter NOT preceded with <code>'</code></li>\n<li><code>\\p{L}</code> - the first letter in the word (Unicode)</li>\n<li><code>([\\p{L}\\p{N}]*\\b)</code> - followed by a possibly empty sequence of letters/digits</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20015151,"reputation":3,"user_id":14671347,"display_name":"Derik "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634109401,"creation_date":1634109401,"answer_id":69551192,"question_id":69550629,"body_markdown":"I tried my best to understand your code as the formatting got a bit butchered in markdown I am assuming but nevertheless I gathered that this was close to what your solution was:\r\n```\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      int i = 0; \r\n      String greet = &quot;hello world&quot;; \r\n      String res = &quot;&quot;; \r\n      res += Character.toUpperCase(greet.charAt(i++)); \r\n      for (; i &lt; greet.length(); i++){\r\n          if (greet.charAt(i) == &#39; &#39;){\r\n              res = res + greet.charAt(i) + Character.toUpperCase(greet.charAt(i + 1) );\r\n              i++; \r\n          }else{\r\n              res += greet.charAt(i); \r\n          }\r\n      }\r\n      System.out.println(res);\r\n    }\r\n     \r\n}\r\n```\r\nFor me this worked, but this is assuming that spaces only ever occur between words. Perhaps the answer to your question lies in these test cases and more importantly the assumptions behind these test cases. Try to gather more info about that if you can :)\r\n","title":"Upper case conversion - convert the first letter of each word in the string to uppercase","body":"<p>I tried my best to understand your code as the formatting got a bit butchered in markdown I am assuming but nevertheless I gathered that this was close to what your solution was:</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      int i = 0; \n      String greet = &quot;hello world&quot;; \n      String res = &quot;&quot;; \n      res += Character.toUpperCase(greet.charAt(i++)); \n      for (; i &lt; greet.length(); i++){\n          if (greet.charAt(i) == ' '){\n              res = res + greet.charAt(i) + Character.toUpperCase(greet.charAt(i + 1) );\n              i++; \n          }else{\n              res += greet.charAt(i); \n          }\n      }\n      System.out.println(res);\n    }\n     \n}\n</code></pre>\n<p>For me this worked, but this is assuming that spaces only ever occur between words. Perhaps the answer to your question lies in these test cases and more importantly the assumptions behind these test cases. Try to gather more info about that if you can :)</p>\n"}],"owner":{"account_id":23018911,"reputation":15,"user_id":17140212,"display_name":"Bob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1634145090,"creation_date":1634106172,"question_id":69550629,"body_markdown":"Some test cases are not working. May I know where I went Wrong. the test case &quot;i love programming is working but other test case which idk are not working.\r\n\r\n```    \r\nclass Solution\r\n{\r\n    public String transform(String s)\r\n    {\r\n        // code here\r\n       char ch;\r\n\t//\tString s = &quot;i love programming&quot;;\r\n\t\tString res=&quot;&quot;; \r\n\t\tch = s.charAt(0); \r\n\t\tch = Character.toUpperCase(s.charAt(0));\r\n\t    res +=ch;\r\n\t    \r\n\t\tfor(int i=1;i&lt;s.length();i++){\r\n\t            if(s.charAt(i) == &#39; &#39;){\r\n\t            \t//System.out.println(i);\r\n\t                \r\n\t            \tch = Character.toUpperCase(s.charAt(i+1));\r\n\t            \tres+=&#39; &#39;;\r\n\t            \tres+=ch;\r\n\t            \ti++;\r\n\t            }else {\r\n\t            \t\r\n\t            \tres+=s.charAt(i);\r\n\t            \r\n\t            }\r\n\t\t}\r\n        \r\n        return res;\r\n    }\r\n}\r\n\r\n\r\n//Some test cases are not working. May I know where I went Wrong?\r\n","title":"Upper case conversion - convert the first letter of each word in the string to uppercase","body":"<p>Some test cases are not working. May I know where I went Wrong. the test case &quot;i love programming is working but other test case which idk are not working.</p>\n<pre><code>class Solution\n{\n    public String transform(String s)\n    {\n        // code here\n       char ch;\n    //  String s = &quot;i love programming&quot;;\n        String res=&quot;&quot;; \n        ch = s.charAt(0); \n        ch = Character.toUpperCase(s.charAt(0));\n        res +=ch;\n        \n        for(int i=1;i&lt;s.length();i++){\n                if(s.charAt(i) == ' '){\n                    //System.out.println(i);\n                    \n                    ch = Character.toUpperCase(s.charAt(i+1));\n                    res+=' ';\n                    res+=ch;\n                    i++;\n                }else {\n                    \n                    res+=s.charAt(i);\n                \n                }\n        }\n        \n        return res;\n    }\n}\n\n\n//Some test cases are not working. May I know where I went Wrong?\n</code></pre>\n"},{"tags":["java","encoding","codec","milo"],"comments":[{"owner":{"account_id":22581080,"reputation":9,"user_id":16765715,"display_name":"Marwen Gharsalli"},"score":0,"creation_date":1636569353,"post_id":69526287,"comment_id":123594795,"body_markdown":"The problem is solved!","body":"The problem is solved!"},{"owner":{"account_id":986323,"reputation":314,"user_id":1004719,"display_name":"Marax"},"score":0,"creation_date":1687267949,"post_id":69526287,"comment_id":134910619,"body_markdown":"How did you solve this issue? Posting problem was solved doesn&#39;t help much.","body":"How did you solve this issue? Posting problem was solved doesn&#39;t help much."}],"owner":{"account_id":22581080,"reputation":9,"user_id":16765715,"display_name":"Marwen Gharsalli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1634144862,"creation_date":1633955662,"question_id":69526287,"body_markdown":"I tried the example to read a Custom DataType variable value which is defined in another cpp opcua-server, but I still get `no codec registered for encodingId=NodeId{ns=1, id=5554}`. Shall the codecs registration (`registerCustomCodec()` function) be on the client or server side?\r\n\r\nIn my client, I set up the `dataTypeId` and the `binaryEncodeingId` accordingly:\r\n\r\n```\r\nExpandedNodeId TYPE_ID = new ExpandedNodeId(\r\n        UShort.valueOf(2), &quot;mvn.mvn.de&quot;, 5552, UInteger.MIN);\r\nExpandedNodeId BINARY_ENCODING_ID = new ExpandedNodeId(\r\n        UShort.valueOf(2), &quot;mvn.mvn.de&quot;, 5554, UInteger.MIN);    \r\nNodeId dataTypeId = TYPE_ID.toNodeId(client.getNamespaceTable())\r\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;namespace not found&quot;));\r\nNodeId binaryEncodingId = BINARY_ENCODING_ID.toNodeId(client.getNamespaceTable())\r\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;namespace not found&quot;));\r\n```\r\n\r\nThe namespaces URI &amp; Index are the same for the cpp OPC UA server.  \r\nDo I miss something?","title":"OPC UA Milo custom Data Type Structure no codec?","body":"<p>I tried the example to read a Custom DataType variable value which is defined in another cpp opcua-server, but I still get <code>no codec registered for encodingId=NodeId{ns=1, id=5554}</code>. Shall the codecs registration (<code>registerCustomCodec()</code> function) be on the client or server side?</p>\n<p>In my client, I set up the <code>dataTypeId</code> and the <code>binaryEncodeingId</code> accordingly:</p>\n<pre><code>ExpandedNodeId TYPE_ID = new ExpandedNodeId(\n        UShort.valueOf(2), &quot;mvn.mvn.de&quot;, 5552, UInteger.MIN);\nExpandedNodeId BINARY_ENCODING_ID = new ExpandedNodeId(\n        UShort.valueOf(2), &quot;mvn.mvn.de&quot;, 5554, UInteger.MIN);    \nNodeId dataTypeId = TYPE_ID.toNodeId(client.getNamespaceTable())\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;namespace not found&quot;));\nNodeId binaryEncodingId = BINARY_ENCODING_ID.toNodeId(client.getNamespaceTable())\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;namespace not found&quot;));\n</code></pre>\n<p>The namespaces URI &amp; Index are the same for the cpp OPC UA server.<br />\nDo I miss something?</p>\n"},{"tags":["javascript","java","html","css","spring"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":1,"creation_date":1634142114,"post_id":69558951,"comment_id":122948421,"body_markdown":"Post your **actual code** here, not images of your code. And you didn&#39;t even post the function `send()` that you say doesn&#39;t work.","body":"Post your <b>actual code</b> here, not images of your code. And you didn&#39;t even post the function <code>send()</code> that you say doesn&#39;t work."},{"owner":{"account_id":19143995,"reputation":1454,"user_id":13983399,"display_name":"BeerusDev"},"score":0,"creation_date":1634143516,"post_id":69558951,"comment_id":122948981,"body_markdown":"Is the HTML file where you are referencing the files the new_code.html","body":"Is the HTML file where you are referencing the files the new_code.html"}],"answers":[{"tags":[],"owner":{"account_id":2343850,"reputation":302,"user_id":2054599,"display_name":"Irakli Shalamberidze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634142209,"creation_date":1634142209,"answer_id":69559002,"question_id":69558951,"body_markdown":"You should make sure the links are relative or absolute to the home directory.\r\n\r\n/absolute path\r\nand use without &quot;/&quot; for relative path\r\n\r\ntry to access css and js file links from browser.","title":"JavaScript and CSS files won&#39;t work in html (spring boot app)","body":"<p>You should make sure the links are relative or absolute to the home directory.</p>\n<p>/absolute path\nand use without &quot;/&quot; for relative path</p>\n<p>try to access css and js file links from browser.</p>\n"}],"owner":{"account_id":22949557,"reputation":121,"user_id":17081061,"display_name":"Tomek Nowak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634144769,"creation_date":1634142009,"question_id":69558951,"body_markdown":"I have a problem with a html file not &#39;loading&#39; js and css files properly. This is my html code: \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Create new snippet&lt;/title&gt;\r\n        &lt;script src=&quot;static/js/send.js&quot;&gt;&lt;/script&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;static/css/button.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;textarea id=&quot;code_snippet&quot; placeholder=&quot;//write your code here&quot;&gt;&lt;/textarea&gt;&lt;br/&gt;\r\n    &lt;button type=&quot;submit&quot; onclick=&quot;send()&quot;&gt;Submit&lt;/button&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nIt is supposed to take some input into the textarea tag and send it to a database when you click on the button. However, the function send() doesn&#39;t work at all. Also, the linked CSS doesn&#39;t work as well. This is my project structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V9QqE.png\r\n  [2]: https://i.stack.imgur.com/1UYNA.png\r\n\r\n\r\nThis is the send() function:\r\n\r\n    function send() {\r\n        let object = {\r\n            &quot;code&quot;: document.getElementById(&quot;code_snippet&quot;).value\r\n        };\r\n\r\n        let json = JSON.stringify(object);\r\n\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.open(&quot;POST&quot;, &#39;/api/code/new&#39;, false)\r\n        xhr.setRequestHeader(&#39;Content-type&#39;, &#39;application/json; charset=utf-8&#39;);\r\n        xhr.send(json);\r\n\r\n        if (xhr.status != 200) {\r\n            alert(&quot;Something went wrong!&quot;);\r\n        } else if (xhr.status == 200){\r\n            alert(&quot;Success!&quot;);\r\n        }\r\n    }\r\n\r\nThis function works fine when I put it inside of script tag","title":"JavaScript and CSS files won&#39;t work in html (spring boot app)","body":"<p>I have a problem with a html file not 'loading' js and css files properly. This is my html code:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Create new snippet&lt;/title&gt;\n    &lt;script src=&quot;static/js/send.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;static/css/button.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;textarea id=&quot;code_snippet&quot; placeholder=&quot;//write your code here&quot;&gt;&lt;/textarea&gt;&lt;br/&gt;\n&lt;button type=&quot;submit&quot; onclick=&quot;send()&quot;&gt;Submit&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>It is supposed to take some input into the textarea tag and send it to a database when you click on the button. However, the function send() doesn't work at all. Also, the linked CSS doesn't work as well. This is my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/1UYNA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1UYNA.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the send() function:</p>\n<pre><code>function send() {\n    let object = {\n        &quot;code&quot;: document.getElementById(&quot;code_snippet&quot;).value\n    };\n\n    let json = JSON.stringify(object);\n\n    let xhr = new XMLHttpRequest();\n    xhr.open(&quot;POST&quot;, '/api/code/new', false)\n    xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n    xhr.send(json);\n\n    if (xhr.status != 200) {\n        alert(&quot;Something went wrong!&quot;);\n    } else if (xhr.status == 200){\n        alert(&quot;Success!&quot;);\n    }\n}\n</code></pre>\n<p>This function works fine when I put it inside of script tag</p>\n"},{"tags":["java","spring-security","spring-saml","adfs4.0"],"comments":[{"owner":{"account_id":4192349,"reputation":633,"user_id":3434672,"accept_rate":80,"display_name":"Asaf Savich"},"score":0,"creation_date":1603797659,"post_id":64473924,"comment_id":114144289,"body_markdown":"Usually there&#39;s an inner exception thrown. Could you share the entire exception stack trace?","body":"Usually there&#39;s an inner exception thrown. Could you share the entire exception stack trace?"},{"owner":{"account_id":19627204,"reputation":11,"user_id":14366281,"display_name":"gopi vundavilli"},"score":0,"creation_date":1603939815,"post_id":64473924,"comment_id":114197276,"body_markdown":"@AsafSavich , added more information related to error logs. thanks for your help.","body":"@AsafSavich , added more information related to error logs. thanks for your help."}],"answers":[{"tags":[],"owner":{"account_id":4192349,"reputation":633,"user_id":3434672,"accept_rate":80,"display_name":"Asaf Savich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603958991,"creation_date":1603958991,"answer_id":64587189,"question_id":64473924,"body_markdown":"There are many reasons for a failure in a SAML response. In your specific case it has to do with the IDP session.\r\n\r\nThe error: `Authentication statement is too old to be used with value 2020-10-27T02:15:21.067Z` indicates that the session started (your last login) a longer time than configured.\r\n\r\n**The way I see it you have two options:**\r\n\r\n 1. Naive solution - Just refresh your session. logout from your IDP session and re-login.\r\n 2. Long term solution - `WebSSOProfileConsumerImpl` has a property called `maxAuthenticationAge`which address this exact issue (the property is in seconds) so you can adjust that property to how long you desire.\r\n \r\nThis is the way I&#39;m using it for reference:\r\n\r\n    private static final int HOURS_ALLOWED_FROM_PREVIOUS_LOGIN = 720; // 30 Days\r\n    \r\n    @Bean\r\n    public WebSSOProfileConsumer webSSOprofileConsumer() {\r\n        WebSSOProfileConsumerImpl profileConsumer = new WebSSOProfileConsumerImpl();\r\n        int secondsFromPreviousLogin = HOURS_ALLOWED_FROM_PREVIOUS_LOGIN * 3600;\r\n        profileConsumer.setMaxAuthenticationAge(secondsFromPreviousLogin);\r\n        profileConsumer.setProcessor(processor());\r\n        return profileConsumer;\r\n    }    \r\n\r\n","title":"Spring security ADFS SSO integration - Response doesn&#39;t have any valid assertion which would pass subject validation","body":"<p>There are many reasons for a failure in a SAML response. In your specific case it has to do with the IDP session.</p>\n<p>The error: <code>Authentication statement is too old to be used with value 2020-10-27T02:15:21.067Z</code> indicates that the session started (your last login) a longer time than configured.</p>\n<p><strong>The way I see it you have two options:</strong></p>\n<ol>\n<li>Naive solution - Just refresh your session. logout from your IDP session and re-login.</li>\n<li>Long term solution - <code>WebSSOProfileConsumerImpl</code> has a property called <code>maxAuthenticationAge</code>which address this exact issue (the property is in seconds) so you can adjust that property to how long you desire.</li>\n</ol>\n<p>This is the way I'm using it for reference:</p>\n<pre><code>private static final int HOURS_ALLOWED_FROM_PREVIOUS_LOGIN = 720; // 30 Days\n\n@Bean\npublic WebSSOProfileConsumer webSSOprofileConsumer() {\n    WebSSOProfileConsumerImpl profileConsumer = new WebSSOProfileConsumerImpl();\n    int secondsFromPreviousLogin = HOURS_ALLOWED_FROM_PREVIOUS_LOGIN * 3600;\n    profileConsumer.setMaxAuthenticationAge(secondsFromPreviousLogin);\n    profileConsumer.setProcessor(processor());\n    return profileConsumer;\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19627204,"reputation":11,"user_id":14366281,"display_name":"gopi vundavilli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630906703,"creation_date":1630897364,"answer_id":69068721,"question_id":64473924,"body_markdown":"This issue got solved. Microsoft ADFS login screen i.e SSO login page enabled for some users with remind password setting which has validity for 7 days. But my SAML session in spring boot side has validity upto 2 hrs. So anytime after 2 hrs user request for application url, then the response from ADFS is authenticated with old session with in last login from 7 days period. Which my spring boot SSO layer reject to proceed as it is this session is older that 2 hr.","title":"Spring security ADFS SSO integration - Response doesn&#39;t have any valid assertion which would pass subject validation","body":"<p>This issue got solved. Microsoft ADFS login screen i.e SSO login page enabled for some users with remind password setting which has validity for 7 days. But my SAML session in spring boot side has validity upto 2 hrs. So anytime after 2 hrs user request for application url, then the response from ADFS is authenticated with old session with in last login from 7 days period. Which my spring boot SSO layer reject to proceed as it is this session is older that 2 hr.</p>\n"}],"owner":{"account_id":19627204,"reputation":11,"user_id":14366281,"display_name":"gopi vundavilli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634144638,"creation_date":1603330056,"question_id":64473924,"body_markdown":"my spring boot application some times showing below error while performing SSO validation with ADFS. ADFS timeout is set for 1 hour and application timeout is set for 4 hrs. response logs from fiddler trace are in encrypted format. is there a way to print response in logs after decryption done by spring security ? how can we disable encryption in spring saml integration with ADFS.\r\n \r\n\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n                  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n                  at java.base/java.lang.Thread.run(Thread.java:835)\r\n    Caused by: org.springframework.security.authentication.CredentialsExpiredException: Authentication statement is too old to be used with value 2020-10-15T02:22:44.405Z\r\n                  at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAuthenticationStatement(WebSSOProfileConsumerImpl.java:574)\r\n                  at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:342)\r\n                  at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:250)\r\n                  ... 63 common frames omitted\r\n    2020-10-15 18:02:00,453 INFO org.springframework.security.saml.log.SAMLDefaultLogger [https-openssl-nio-443-exec-4] AuthNResponse;FAILURE;\r\n    \r\n    org.opensaml.common.SAMLException%3A Response doesn&#39;t have any valid assertion which would pass subject validation\r\n                  at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:265)\r\n                  at org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\r\n    \r\n    this issue is happening very randomly and forcing to close all the browsers or delete MSISAuth cookie manually from browser to display ADFS login page. clearing the MSISAuth cookie in the application not giving any valid result. \r\n    \r\n    for ForceAuthN = true we didn&#39;t see this error, but users are not happy to login to application every time. \r\n    \r\n    \r\n    Added error log for more information :\r\n    2020-10-27 16:14:40,728 DEBUG org.springframework.security.saml.websso.WebSSOProfileConsumerImpl [https-openssl-nio-443-exec-5] Processing Bearer subject confirmation\r\n    2020-10-27 16:14:40,728 DEBUG org.springframework.security.saml.websso.WebSSOProfileConsumerImpl [https-openssl-nio-443-exec-5] Validation of authentication statement in assertion failed, skipping\r\n    org.springframework.security.authentication.CredentialsExpiredException: Authentication statement is too old to be used with value 2020-10-27T02:15:21.067Z\r\n    \tat org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAuthenticationStatement(WebSSOProfileConsumerImpl.java:574)\r\n    \tat org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:342)\r\n    \tat org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:250)\r\n    \tat org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)\r\n    \tat org.springframework.security.saml.SAMLProcessingFilter.attemptAuthentication(SAMLProcessingFilter.java:92)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:103)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:121)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835)\r\n    2020-10-27 16:14:40,728 DEBUG org.springframework.security.saml.SAMLAuthenticationProvider [https-openssl-nio-443-exec-5] Error validating SAML message\r\n    org.opensaml.common.SAMLException: Response doesn&#39;t have any valid assertion which would pass subject validation\r\n    \tat org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:265)\r\n    \tat org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)\r\n    \tat org.springframework.security.saml.SAMLProcessingFilter.attemptAuthentication(SAMLProcessingFilter.java:92)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:103)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:121)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835)\r\n    Caused by: org.springframework.security.authentication.CredentialsExpiredException: Authentication statement is too old to be used with value 2020-10-27T02:15:21.067Z\r\n    \tat org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAuthenticationStatement(WebSSOProfileConsumerImpl.java:574)\r\n    \tat org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:342)\r\n    \tat org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:250)\r\n    \t... 63 common frames omitted","title":"Spring security ADFS SSO integration - Response doesn&#39;t have any valid assertion which would pass subject validation","body":"<p>my spring boot application some times showing below error while performing SSO validation with ADFS. ADFS timeout is set for 1 hour and application timeout is set for 4 hrs. response logs from fiddler trace are in encrypted format. is there a way to print response in logs after decryption done by spring security ? how can we disable encryption in spring saml integration with ADFS.</p>\n<pre><code>at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n              at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n              at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: org.springframework.security.authentication.CredentialsExpiredException: Authentication statement is too old to be used with value 2020-10-15T02:22:44.405Z\n              at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAuthenticationStatement(WebSSOProfileConsumerImpl.java:574)\n              at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:342)\n              at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:250)\n              ... 63 common frames omitted\n2020-10-15 18:02:00,453 INFO org.springframework.security.saml.log.SAMLDefaultLogger [https-openssl-nio-443-exec-4] AuthNResponse;FAILURE;\n\norg.opensaml.common.SAMLException%3A Response doesn't have any valid assertion which would pass subject validation\n              at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:265)\n              at org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\n\nthis issue is happening very randomly and forcing to close all the browsers or delete MSISAuth cookie manually from browser to display ADFS login page. clearing the MSISAuth cookie in the application not giving any valid result. \n\nfor ForceAuthN = true we didn't see this error, but users are not happy to login to application every time. \n\n\nAdded error log for more information :\n2020-10-27 16:14:40,728 DEBUG org.springframework.security.saml.websso.WebSSOProfileConsumerImpl [https-openssl-nio-443-exec-5] Processing Bearer subject confirmation\n2020-10-27 16:14:40,728 DEBUG org.springframework.security.saml.websso.WebSSOProfileConsumerImpl [https-openssl-nio-443-exec-5] Validation of authentication statement in assertion failed, skipping\norg.springframework.security.authentication.CredentialsExpiredException: Authentication statement is too old to be used with value 2020-10-27T02:15:21.067Z\n    at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAuthenticationStatement(WebSSOProfileConsumerImpl.java:574)\n    at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:342)\n    at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:250)\n    at org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)\n    at org.springframework.security.saml.SAMLProcessingFilter.attemptAuthentication(SAMLProcessingFilter.java:92)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:103)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:121)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:835)\n2020-10-27 16:14:40,728 DEBUG org.springframework.security.saml.SAMLAuthenticationProvider [https-openssl-nio-443-exec-5] Error validating SAML message\norg.opensaml.common.SAMLException: Response doesn't have any valid assertion which would pass subject validation\n    at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:265)\n    at org.springframework.security.saml.SAMLAuthenticationProvider.authenticate(SAMLAuthenticationProvider.java:88)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:175)\n    at org.springframework.security.saml.SAMLProcessingFilter.attemptAuthentication(SAMLProcessingFilter.java:92)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:128)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:103)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:121)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.brainapp.config.CORSFilter.doFilter(CORSFilter.java:60)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:666)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1639)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: org.springframework.security.authentication.CredentialsExpiredException: Authentication statement is too old to be used with value 2020-10-27T02:15:21.067Z\n    at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAuthenticationStatement(WebSSOProfileConsumerImpl.java:574)\n    at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.verifyAssertion(WebSSOProfileConsumerImpl.java:342)\n    at org.springframework.security.saml.websso.WebSSOProfileConsumerImpl.processAuthenticationResponse(WebSSOProfileConsumerImpl.java:250)\n    ... 63 common frames omitted\n</code></pre>\n"},{"tags":["java","eclipse","birt"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634144621,"creation_date":1634144621,"answer_id":69559534,"question_id":69559440,"body_markdown":"`--Xms1024m` is not a valid VM argument because of the extra `-`. All of the VM arguments need to be on their own lines as well, so separate `-Xmx2048m` and `-XX:+DisableExplicitGC`.","title":"birt rcp report designer 4.8 java 8 startup problem","body":"<p><code>--Xms1024m</code> is not a valid VM argument because of the extra <code>-</code>. All of the VM arguments need to be on their own lines as well, so separate <code>-Xmx2048m</code> and <code>-XX:+DisableExplicitGC</code>.</p>\n"}],"owner":{"account_id":212287,"reputation":93,"user_id":1928093,"accept_rate":100,"display_name":"Azat Usmanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634144621,"creation_date":1634144182,"question_id":69559440,"body_markdown":"I&#39;m trying to install birt rcp report designer 4.8.0(standalone) and use it with java 8 jvm \r\nI modfied my  birt.ini file to point to java 1.8 but as soon as I start I get a crash log\r\n\r\n**birt.ini** \r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_202\\jre\\bin\\server\\jvm.dll\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.700.v20180518-1200\r\n    -vmargs\r\n    --Xms1024m -Xmx2048m  -XX:+DisableExplicitGC\r\n\r\n**crash.log** \r\n\r\n    !SESSION 2021-10-13 19:34:40.154 -----------------------------------------------\r\n    eclipse.buildId=unknown\r\n    java.version=1.8.0_202\r\n    java.vendor=Oracle Corporation\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ru_RU\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64\r\n    \r\n        !ENTRY org.eclipse.osgi 4 0 2021-10-13 19:34:40.701\r\n        !MESSAGE Application error\r\n        !STACK 1\r\n        java.lang.RuntimeException: Application &quot;org.eclipse.birt.report.designer.ui.rcp.DesignerApplication&quot; could not be found in the registry. The applications available are: org.eclipse.birt.report.engine.ReportExecutor, org.eclipse.equinox.app.error, org.eclipse.equinox.p2.garbagecollector.application, org.eclipse.equinox.p2.publisher.InstallPublisher, org.eclipse.equinox.p2.publisher.EclipseGenerator, org.eclipse.equinox.p2.publisher.ProductPublisher, org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher, org.eclipse.equinox.p2.reconciler.application, org.eclipse.equinox.p2.repository.repo2runnable, org.eclipse.equinox.p2.repository.metadataverifier, org.eclipse.equinox.p2.artifact.repository.mirrorApplication, org.eclipse.equinox.p2.metadata.repository.mirrorApplication, org.eclipse.equinox.p2.touchpoint.natives.nativePackageExtractor, org.eclipse.help.base.infocenterApplication, org.eclipse.help.base.helpApplication, org.eclipse.help.base.indexTool.\r\n        \tat org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:248)\r\n        \tat org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:29)\r\n        \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n        \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n        \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:388)\r\n        \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:243)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:656)\r\n        \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:592)\r\n        \tat org.eclipse.equinox.launcher.Main.run(Main.java:1498)\r\n\r\nI&#39;ve tried googling it ,all that came up with is some old bug reports and suggestions of reinstalling java .i&#39;m wondering what&#39;s gooing wrong since it seems like birt already picked up jvm as seen by the version number at the top of  stacktrace. Any ideas?\r\n \r\nMY OS is win10 x 64 java is also x64  \r\n\r\n","title":"birt rcp report designer 4.8 java 8 startup problem","body":"<p>I'm trying to install birt rcp report designer 4.8.0(standalone) and use it with java 8 jvm\nI modfied my  birt.ini file to point to java 1.8 but as soon as I start I get a crash log</p>\n<p><strong>birt.ini</strong></p>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_202\\jre\\bin\\server\\jvm.dll\n-startup\nplugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.700.v20180518-1200\n-vmargs\n--Xms1024m -Xmx2048m  -XX:+DisableExplicitGC\n</code></pre>\n<p><strong>crash.log</strong></p>\n<pre><code>!SESSION 2021-10-13 19:34:40.154 -----------------------------------------------\neclipse.buildId=unknown\njava.version=1.8.0_202\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ru_RU\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64\n\n    !ENTRY org.eclipse.osgi 4 0 2021-10-13 19:34:40.701\n    !MESSAGE Application error\n    !STACK 1\n    java.lang.RuntimeException: Application &quot;org.eclipse.birt.report.designer.ui.rcp.DesignerApplication&quot; could not be found in the registry. The applications available are: org.eclipse.birt.report.engine.ReportExecutor, org.eclipse.equinox.app.error, org.eclipse.equinox.p2.garbagecollector.application, org.eclipse.equinox.p2.publisher.InstallPublisher, org.eclipse.equinox.p2.publisher.EclipseGenerator, org.eclipse.equinox.p2.publisher.ProductPublisher, org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher, org.eclipse.equinox.p2.reconciler.application, org.eclipse.equinox.p2.repository.repo2runnable, org.eclipse.equinox.p2.repository.metadataverifier, org.eclipse.equinox.p2.artifact.repository.mirrorApplication, org.eclipse.equinox.p2.metadata.repository.mirrorApplication, org.eclipse.equinox.p2.touchpoint.natives.nativePackageExtractor, org.eclipse.help.base.infocenterApplication, org.eclipse.help.base.helpApplication, org.eclipse.help.base.indexTool.\n        at org.eclipse.equinox.internal.app.EclipseAppContainer.startDefaultApp(EclipseAppContainer.java:248)\n        at org.eclipse.equinox.internal.app.MainApplicationLauncher.run(MainApplicationLauncher.java:29)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:388)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:243)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:656)\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:592)\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1498)\n</code></pre>\n<p>I've tried googling it ,all that came up with is some old bug reports and suggestions of reinstalling java .i'm wondering what's gooing wrong since it seems like birt already picked up jvm as seen by the version number at the top of  stacktrace. Any ideas?</p>\n<p>MY OS is win10 x 64 java is also x64</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":5,"creation_date":1355739078,"post_id":13912004,"comment_id":19173865,"body_markdown":"The easy way would be to add the elements to a set (which will remove duplicates automatically for you) and put the numbers back in an array.","body":"The easy way would be to add the elements to a set (which will remove duplicates automatically for you) and put the numbers back in an array."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":2,"creation_date":1355739526,"post_id":13912004,"comment_id":19174068,"body_markdown":"possible duplicate of [What is the best way to remove duplicates in an Array in Java?](http://stackoverflow.com/questions/357421/what-is-the-best-way-to-remove-duplicates-in-an-array-in-java) among others ...","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/357421/what-is-the-best-way-to-remove-duplicates-in-an-array-in-java\">What is the best way to remove duplicates in an Array in Java?</a> among others ..."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1355740609,"post_id":13912004,"comment_id":19174519,"body_markdown":"You didn&#39;t state the constraints on your implementation, and I&#39;ll bet there are many, since otherwise the solution is trivial.","body":"You didn&#39;t state the constraints on your implementation, and I&#39;ll bet there are many, since otherwise the solution is trivial."},{"owner":{"account_id":2153934,"reputation":141,"user_id":1909582,"display_name":"Ali-J8"},"score":1,"creation_date":1355741033,"post_id":13912004,"comment_id":19174706,"body_markdown":"actually I can not use Set or HashSet , it must be done with loops and simple arrays","body":"actually I can not use Set or HashSet , it must be done with loops and simple arrays"}],"answers":[{"tags":[],"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1355745775,"creation_date":1355739063,"answer_id":13912067,"question_id":13912004,"body_markdown":"You could also put the array elements into a `Set` for which the semantics precisely are that it contains no duplicate elements.","title":"Remove duplicates from integer array","body":"<p>You could also put the array elements into a <code>Set</code> for which the semantics precisely are that it contains no duplicate elements.</p>\n"},{"tags":[],"owner":{"account_id":1057674,"reputation":12774,"user_id":1060037,"display_name":"Jayamohan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1355740392,"creation_date":1355739258,"answer_id":13912112,"question_id":13912004,"body_markdown":"Try this\r\n\r\n\tpublic static int[] removeDuplicates(int[] s) {\t\t\r\n\t\tInteger[] array = new HashSet&lt;Integer&gt;(Arrays.asList(ArrayUtils.toObject(s))).toArray(new Integer[0]);\t\t\r\n\t\treturn ArrayUtils.toPrimitive(array);\r\n\t}\r\n\r\nEdit: Updated with [Apache Lang][1] to convert to primitives.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/","title":"Remove duplicates from integer array","body":"<p>Try this</p>\n\n<pre><code>public static int[] removeDuplicates(int[] s) {     \n    Integer[] array = new HashSet&lt;Integer&gt;(Arrays.asList(ArrayUtils.toObject(s))).toArray(new Integer[0]);      \n    return ArrayUtils.toPrimitive(array);\n}\n</code></pre>\n\n<p>Edit: Updated with <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow\">Apache Lang</a> to convert to primitives.</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1540829574,"creation_date":1355739506,"answer_id":13912181,"question_id":13912004,"body_markdown":"try this -\r\n\r\n    public static int[] removeDuplicates(int []s){\r\n        int result[] = new int[s.length], j=0;\r\n        for (int i : s) {\r\n    \t    if(!isExists(result, i))\r\n    \t\t    result[j++] = i;\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static boolean isExists(int[] array, int value){\r\n        for (int i : array) {\r\n    \t    if(i==value)\r\n    \t\t    return true;\r\n        }\r\n        return false;\r\n    }","title":"Remove duplicates from integer array","body":"<p>try this -</p>\n\n<pre><code>public static int[] removeDuplicates(int []s){\n    int result[] = new int[s.length], j=0;\n    for (int i : s) {\n        if(!isExists(result, i))\n            result[j++] = i;\n    }\n    return result;\n}\n\nprivate static boolean isExists(int[] array, int value){\n    for (int i : array) {\n        if(i==value)\n            return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1355740304,"creation_date":1355740304,"answer_id":13912391,"question_id":13912004,"body_markdown":"Iterate over the array and populate a set because sets cannot contain duplicates. Then copy the elements from the set into a new array and return it. This is shown below:\r\n\r\n    public static int[] removeDuplicates(int[] array) {\r\n        // add the ints into a set\r\n        Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            set.add(array[i]);\r\n        }\r\n        \r\n        // copy the elements from the set into an array\r\n        int[] result = new int[set.size()];\r\n        int i = 0;\r\n        for (Integer u : set) {\r\n            result[i++] = u;\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"Remove duplicates from integer array","body":"<p>Iterate over the array and populate a set because sets cannot contain duplicates. Then copy the elements from the set into a new array and return it. This is shown below:</p>\n\n<pre><code>public static int[] removeDuplicates(int[] array) {\n    // add the ints into a set\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n    for (int i = 0; i &lt; array.length; i++) {\n        set.add(array[i]);\n    }\n\n    // copy the elements from the set into an array\n    int[] result = new int[set.size()];\n    int i = 0;\n    for (Integer u : set) {\n        result[i++] = u;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1355741262,"creation_date":1355741262,"answer_id":13912636,"question_id":13912004,"body_markdown":"You can also use Google&#39;s Guava library and use [ImmutableSet][1] do\r\n\r\n    ImmutableSet.copyOf(myArray).asList();\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableSet.html","title":"Remove duplicates from integer array","body":"<p>You can also use Google's Guava library and use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableSet.html\" rel=\"nofollow\">ImmutableSet</a> do</p>\n\n<pre><code>ImmutableSet.copyOf(myArray).asList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1673861,"reputation":1033,"user_id":1539777,"accept_rate":83,"display_name":"OCJP"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1355742754,"creation_date":1355742754,"answer_id":13913012,"question_id":13912004,"body_markdown":"    public class Test \r\n    static int[] array = {4, 3, 3, 4, 5, 2, 4};\r\n    static HashSet list = new HashSet();\r\n    public static void main(String ar[])\r\n    {       \r\n        for(int i=0;i&lt;array.length;i++)\r\n        {         \r\n          list.add(array[i]);\r\n          \r\n        }\r\n        System.out.println(list);\r\n    }}\r\nThe Output is : `[2, 3, 4, 5]`","title":"Remove duplicates from integer array","body":"<pre><code>public class Test \nstatic int[] array = {4, 3, 3, 4, 5, 2, 4};\nstatic HashSet list = new HashSet();\npublic static void main(String ar[])\n{       \n    for(int i=0;i&lt;array.length;i++)\n    {         \n      list.add(array[i]);\n\n    }\n    System.out.println(list);\n}}\n</code></pre>\n\n<p>The Output is : <code>[2, 3, 4, 5]</code></p>\n"},{"tags":[],"owner":{"account_id":2562275,"reputation":81,"user_id":2223174,"display_name":"buddy24"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1374997084,"creation_date":1374997084,"answer_id":17906054,"question_id":13912004,"body_markdown":"To Preserve the ordering and to remove duplicates in the integer array, you can try this:\r\n\r\n    public void removeDupInIntArray(int[] ints){\r\n\t\tSet&lt;Integer&gt; setString = new LinkedHashSet&lt;Integer&gt;();\r\n\t\tfor(int i=0;i&lt;ints.length;i++){\r\n\t\t\tsetString.add(ints[i]);\r\n\t\t}\r\n\t\tSystem.out.println(setString);\r\n\t}\r\n\r\nHope this helps.","title":"Remove duplicates from integer array","body":"<p>To Preserve the ordering and to remove duplicates in the integer array, you can try this:</p>\n\n<pre><code>public void removeDupInIntArray(int[] ints){\n    Set&lt;Integer&gt; setString = new LinkedHashSet&lt;Integer&gt;();\n    for(int i=0;i&lt;ints.length;i++){\n        setString.add(ints[i]);\n    }\n    System.out.println(setString);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":480141,"reputation":2280,"user_id":893197,"accept_rate":69,"display_name":"A N M Bazlur Rahman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1375001151,"creation_date":1375001151,"answer_id":17906544,"question_id":13912004,"body_markdown":"You can do naively though. First you need to sort the array. You can do it using any of sorting algorithms. I did use quick sort. And then check a position with its next position. If they are not same, add value in a new array, otherwise skip this iteration. \r\n\r\n**Sample Code (Quick Sort):** \r\n\r\n     public static void quickSort(int[] array, int low, int high) {\r\n        int i = low;\r\n        int j = high;\r\n\r\n        int pivot = array[low + (high - low) / 2];\r\n\r\n        while (i &lt;= j) {\r\n            while (array[i] &lt; pivot) i++;\r\n            while (array[j] &gt; pivot) j--;\r\n            if (i &lt;= j) {\r\n                exchange(array, i, j);\r\n                i++;\r\n                j--;\r\n            }\r\n        }\r\n        if (0 &lt; j) quickSort(array, 0, j);\r\n        if (i &lt; high) quickSort(array, i, high);\r\n    }\r\n\r\n    public static void exchange(int[] array, int i, int j) {\r\n        int temp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = temp;\r\n    }\r\n\r\n**Remove duplicates:**\r\n      \r\n     public static int[] removeDuplicate(int[] arrays) {\r\n        quickSort(arrays, 0, arrays.length - 1);\r\n        \r\n        int[] newArrays = new int[arrays.length];\r\n        int count = 0;\r\n        for (int i = 0; i &lt; arrays.length - 1; i++) {\r\n            if (arrays[i] != arrays[i + 1]) {\r\n                newArrays[count] = arrays[i];\r\n                count++;\r\n            }\r\n        }\r\n        return newArrays;\r\n    }","title":"Remove duplicates from integer array","body":"<p>You can do naively though. First you need to sort the array. You can do it using any of sorting algorithms. I did use quick sort. And then check a position with its next position. If they are not same, add value in a new array, otherwise skip this iteration. </p>\n\n<p><strong>Sample Code (Quick Sort):</strong> </p>\n\n<pre><code> public static void quickSort(int[] array, int low, int high) {\n    int i = low;\n    int j = high;\n\n    int pivot = array[low + (high - low) / 2];\n\n    while (i &lt;= j) {\n        while (array[i] &lt; pivot) i++;\n        while (array[j] &gt; pivot) j--;\n        if (i &lt;= j) {\n            exchange(array, i, j);\n            i++;\n            j--;\n        }\n    }\n    if (0 &lt; j) quickSort(array, 0, j);\n    if (i &lt; high) quickSort(array, i, high);\n}\n\npublic static void exchange(int[] array, int i, int j) {\n    int temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n}\n</code></pre>\n\n<p><strong>Remove duplicates:</strong></p>\n\n<pre><code> public static int[] removeDuplicate(int[] arrays) {\n    quickSort(arrays, 0, arrays.length - 1);\n\n    int[] newArrays = new int[arrays.length];\n    int count = 0;\n    for (int i = 0; i &lt; arrays.length - 1; i++) {\n        if (arrays[i] != arrays[i + 1]) {\n            newArrays[count] = arrays[i];\n            count++;\n        }\n    }\n    return newArrays;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375002429,"creation_date":1375002429,"answer_id":17906683,"question_id":13912004,"body_markdown":"You can use HashSet that does not allow dulplicate elements\r\n \r\n\r\n    public static void deleteDups(int a []) {\r\n\t\t\r\n\t\tHashSet&lt;Integer&gt; numbers = new HashSet&lt;Integer&gt;();\r\n\t\t\t         \r\n\t\t\tfor(int n : a)\r\n\t\t\t{\r\n\t\t\t    numbers.add(n);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\tfor(int k : numbers)\r\n\t\t\t{\r\n\t\t\t    System.out.println(k);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(numbers);\r\n\t\t}\t\t\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint a[]={2,3,3,4,4,5,6};\r\n                RemoveDuplicate.deleteDups(a);\r\n\r\n\t}\r\n\r\n    }\r\n    o/p is 2\r\n    3\r\n    4\r\n    5\r\n    6\r\n[2, 3, 4, 5, 6]\r\n","title":"Remove duplicates from integer array","body":"<p>You can use HashSet that does not allow dulplicate elements</p>\n\n<pre><code>public static void deleteDups(int a []) {\n\n    HashSet&lt;Integer&gt; numbers = new HashSet&lt;Integer&gt;();\n\n        for(int n : a)\n        {\n            numbers.add(n);\n        }\n\n        for(int k : numbers)\n        {\n            System.out.println(k);\n        }\n        System.out.println(numbers);\n    }       \n\npublic static void main(String[] args) {\n    int a[]={2,3,3,4,4,5,6};\n            RemoveDuplicate.deleteDups(a);\n\n}\n\n}\no/p is 2\n3\n4\n5\n6\n</code></pre>\n\n<p>[2, 3, 4, 5, 6]</p>\n"},{"tags":[],"owner":{"account_id":1704531,"reputation":2467,"user_id":1563878,"accept_rate":42,"display_name":"Gaston Flores"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375032746,"creation_date":1375032746,"answer_id":17910882,"question_id":13912004,"body_markdown":"Maybe you can use lambdaj ([download here](http://lambdaj.googlecode.com/files/lambdaj-2.4-with-dependencies.jar),[website](http://code.google.com/p/lambdaj/)), this library is very powerfull for managing collections (..list,arrays), the following code is very simple and works perfectly:\r\n\r\n    import static ch.lambdaj.Lambda.selectDistinct;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class DistinctList {\r\n    \t public static void main(String[] args) {\r\n    \t\t List&lt;Integer&gt; numbers =  Arrays.asList(1,3,4,2,1,5,6,8,8,3,4,5,13);\r\n    \t\t System.out.println(&quot;List with duplicates: &quot; + numbers);\r\n    \t\t System.out.println(&quot;List without duplicates: &quot; + selectDistinct(numbers));\r\n    \t }\r\n    }\r\nThis code shows:\r\n\r\n    List with duplicates: [1, 3, 4, 2, 1, 5, 6, 8, 8, 3, 4, 5, 13]\r\n    List without duplicates: [1, 2, 3, 4, 5, 6, 8, 13]\r\n\r\nIn one line you can get a distinct list, this is a simple example but with this library you can resolve more.\r\n\r\n    selectDistinct(numbers)\r\n\r\nYou must add lambdaj-2.4.jar to your project. I hope this will be useful.\r\n\r\n**Note:** This will help you assuming you can have alternatives to your code.\r\n\r\n\r\n","title":"Remove duplicates from integer array","body":"<p>Maybe you can use lambdaj (<a href=\"http://lambdaj.googlecode.com/files/lambdaj-2.4-with-dependencies.jar\" rel=\"nofollow\">download here</a>,<a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow\">website</a>), this library is very powerfull for managing collections (..list,arrays), the following code is very simple and works perfectly:</p>\n\n<pre><code>import static ch.lambdaj.Lambda.selectDistinct;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class DistinctList {\n     public static void main(String[] args) {\n         List&lt;Integer&gt; numbers =  Arrays.asList(1,3,4,2,1,5,6,8,8,3,4,5,13);\n         System.out.println(\"List with duplicates: \" + numbers);\n         System.out.println(\"List without duplicates: \" + selectDistinct(numbers));\n     }\n}\n</code></pre>\n\n<p>This code shows:</p>\n\n<pre><code>List with duplicates: [1, 3, 4, 2, 1, 5, 6, 8, 8, 3, 4, 5, 13]\nList without duplicates: [1, 2, 3, 4, 5, 6, 8, 13]\n</code></pre>\n\n<p>In one line you can get a distinct list, this is a simple example but with this library you can resolve more.</p>\n\n<pre><code>selectDistinct(numbers)\n</code></pre>\n\n<p>You must add lambdaj-2.4.jar to your project. I hope this will be useful.</p>\n\n<p><strong>Note:</strong> This will help you assuming you can have alternatives to your code.</p>\n"},{"tags":[],"owner":{"account_id":2632272,"reputation":237,"user_id":2277918,"accept_rate":0,"display_name":"user2277918"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1384844427,"creation_date":1384844427,"answer_id":20065200,"question_id":13912004,"body_markdown":"    public int[] removeRepetativeInteger(int[] list){\r\n    \t\tif(list.length == 0){\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tif(list.length == 1){\r\n    \t\t\treturn list;\r\n    \t\t}\r\n\t\t\r\n\t\tArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\t\tfor(int i = 0; i&lt; list.length; i++){\r\n\t\t\tif (!numbers.contains(list[i])){\r\n\t\t\t\tnumbers.add(list[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tIterator&lt;Integer&gt; valueIterator = numbers.iterator();\r\n\t\tint[] resultArray = new int[numbers.size()]; \r\n\t\tint i = 0;\r\n\t\twhile (valueIterator.hasNext()) {\r\n\t\t\tresultArray[i] = valueIterator.next();\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn resultArray;\t\t\r\n\t\t\r\n\t}","title":"Remove duplicates from integer array","body":"<pre><code>public int[] removeRepetativeInteger(int[] list){\n        if(list.length == 0){\n            return null;\n        }\n        if(list.length == 1){\n            return list;\n        }\n\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n    for(int i = 0; i&lt; list.length; i++){\n        if (!numbers.contains(list[i])){\n            numbers.add(list[i]);\n        }\n    }\n    Iterator&lt;Integer&gt; valueIterator = numbers.iterator();\n    int[] resultArray = new int[numbers.size()]; \n    int i = 0;\n    while (valueIterator.hasNext()) {\n        resultArray[i] = valueIterator.next();\n        i++;\n    }\n    return resultArray;     \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4348933,"reputation":1,"user_id":3550006,"display_name":"user3550006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397849535,"creation_date":1397849535,"answer_id":23160961,"question_id":13912004,"body_markdown":"    public class DistinctNumbers{\r\n    \tpublic static void main(String[] args){\r\n    \t\tjava.util.Scanner input = new java.util.Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter ten numbers: &quot;);\r\n    \t\tint[] numbers = new int[10];\r\n    \t\tfor(int i = 0; i &lt; numbers.length; ++i){\r\n    \t\t\tnumbers[i] = input.nextInt();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;The distinct numbers are:&quot;);\r\n    \t\tSystem.out.println(java.util.Arrays.toString(eliminateDuplicates(numbers)));\r\n    \t}\r\n    \t\r\n    \tpublic static int[] eliminateDuplicates(int[] list){\r\n    \t\tint[] distinctList = new int[list.length];\r\n    \t\tboolean isDuplicate = false;\r\n    \t\tint count = list.length-1;\r\n    \t\tfor(int i = list.length-1; i &gt;= 0; --i){\r\n    \t\t\tisDuplicate = false;\r\n    \t\t\tfor(int j = i-1; j &gt;= 0 &amp;&amp; !isDuplicate; --j){\r\n    \t\t\t\tif(list[j] == list[i]){\r\n    \t\t\t\t\tisDuplicate = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif(!isDuplicate){\r\n    \t\t\t\tdistinctList[count--] = list[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tint[] out = new int[list.length-count-1];\r\n    \t\tSystem.arraycopy(distinctList, count+1, out, 0, list.length-count-1);\r\n    \t\treturn out;\r\n    \t}\r\n    }\r\n\r\n","title":"Remove duplicates from integer array","body":"<pre><code>public class DistinctNumbers{\n    public static void main(String[] args){\n        java.util.Scanner input = new java.util.Scanner(System.in);\n\n        System.out.print(\"Enter ten numbers: \");\n        int[] numbers = new int[10];\n        for(int i = 0; i &lt; numbers.length; ++i){\n            numbers[i] = input.nextInt();\n        }\n        System.out.println(\"The distinct numbers are:\");\n        System.out.println(java.util.Arrays.toString(eliminateDuplicates(numbers)));\n    }\n\n    public static int[] eliminateDuplicates(int[] list){\n        int[] distinctList = new int[list.length];\n        boolean isDuplicate = false;\n        int count = list.length-1;\n        for(int i = list.length-1; i &gt;= 0; --i){\n            isDuplicate = false;\n            for(int j = i-1; j &gt;= 0 &amp;&amp; !isDuplicate; --j){\n                if(list[j] == list[i]){\n                    isDuplicate = true;\n                }\n            }\n            if(!isDuplicate){\n                distinctList[count--] = list[i];\n            }\n        }\n        int[] out = new int[list.length-count-1];\n        System.arraycopy(distinctList, count+1, out, 0, list.length-count-1);\n        return out;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5718324,"reputation":31,"user_id":4517684,"display_name":"Otto Kocebu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422824339,"creation_date":1422819917,"answer_id":28267033,"question_id":13912004,"body_markdown":"First of all, you should know length without duplicates(dups): initial length minus number of dups.\r\nThen create new array with right length.\r\nThen check each element of list[] for dups, if dup founded - check next element, if dup not founded - copy element to new array.\r\n\r\n    public static int[] eliminateDuplicates(int[] list) {\r\n        int newLength = list.length;\r\n        // find length w/o duplicates:\r\n        for (int i = 1; i &lt; list.length; i++) {\r\n            for (int j = 0; j &lt; i; j++) {\r\n                if (list[i] == list[j]) {   // if duplicate founded then decrease length by 1\r\n                    newLength--;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        int[] newArray = new int[newLength]; // create new array with new length\r\n        newArray[0] = list[0];  // 1st element goes to new array\r\n        int inx = 1;            // index for 2nd element of new array\r\n        boolean isDuplicate;\r\n\r\n        for (int i = 1; i &lt; list.length; i++) {\r\n            isDuplicate = false;\r\n            for (int j = 0; j &lt; i; j++) {\r\n                if (list[i] == list[j]) {  // if duplicate founded then change boolean variable and break\r\n                    isDuplicate = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!isDuplicate) {     // if it&#39;s not duplicate then put it to new array\r\n                newArray[inx] = list[i];\r\n                inx++;\r\n            }\r\n        }\r\n        return newArray;\r\n    }","title":"Remove duplicates from integer array","body":"<p>First of all, you should know length without duplicates(dups): initial length minus number of dups.\nThen create new array with right length.\nThen check each element of list[] for dups, if dup founded - check next element, if dup not founded - copy element to new array.</p>\n\n<pre><code>public static int[] eliminateDuplicates(int[] list) {\n    int newLength = list.length;\n    // find length w/o duplicates:\n    for (int i = 1; i &lt; list.length; i++) {\n        for (int j = 0; j &lt; i; j++) {\n            if (list[i] == list[j]) {   // if duplicate founded then decrease length by 1\n                newLength--;\n                break;\n            }\n        }\n    }\n\n    int[] newArray = new int[newLength]; // create new array with new length\n    newArray[0] = list[0];  // 1st element goes to new array\n    int inx = 1;            // index for 2nd element of new array\n    boolean isDuplicate;\n\n    for (int i = 1; i &lt; list.length; i++) {\n        isDuplicate = false;\n        for (int j = 0; j &lt; i; j++) {\n            if (list[i] == list[j]) {  // if duplicate founded then change boolean variable and break\n                isDuplicate = true;\n                break;\n            }\n        }\n        if (!isDuplicate) {     // if it's not duplicate then put it to new array\n            newArray[inx] = list[i];\n            inx++;\n        }\n    }\n    return newArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6376581,"reputation":1,"user_id":4947304,"display_name":"Guest"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1432787561,"creation_date":1432785402,"answer_id":30496980,"question_id":13912004,"body_markdown":"public class Foo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//example input\r\n\t\tint input[] = new int[]{1, 6 , 5896, 5896, 9, 100,7, 1000, 8, 9, 0, 10, 90, 4};\r\n        //use list because the size is dynamical can change\r\n\t\tList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n\t\t\r\n\t\tfor(int i=0; i&lt;input.length; i++)\r\n\t\t{\r\n\t\t\tboolean match = false;\r\n\t\t\tfor(int j=0; j&lt;result.size(); j++)\r\n\t\t\t{\r\n                //if the list contains any input element make match true\r\n\t\t\t\tif(result.get(j) == input[i])\r\n\t\t\t\t\tmatch = true;\r\n\t\t\t}\r\n            //if there is no matching we can add the element to the result list\r\n\t\t\tif(!match)\r\n\t\t\t\tresult.add(input[i]);\r\n\t\t}\r\n\t\t// Print the result\r\n\t\tfor(int i=0; i&lt;result.size(); i++)\r\n\t\t\tSystem.out.print(result.get(i) + &quot;, &quot;);\r\n\t\t\t\t\r\n\t}\r\n\r\n}\r\noutput: 1, 6, 5896, 9, 100, 7, 1000, 8, 0, 10, 90, 4, ","title":"Remove duplicates from integer array","body":"<p>public class Foo {</p>\n\n<pre><code>public static void main(String[] args) {\n    //example input\n    int input[] = new int[]{1, 6 , 5896, 5896, 9, 100,7, 1000, 8, 9, 0, 10, 90, 4};\n    //use list because the size is dynamical can change\n    List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n\n    for(int i=0; i&lt;input.length; i++)\n    {\n        boolean match = false;\n        for(int j=0; j&lt;result.size(); j++)\n        {\n            //if the list contains any input element make match true\n            if(result.get(j) == input[i])\n                match = true;\n        }\n        //if there is no matching we can add the element to the result list\n        if(!match)\n            result.add(input[i]);\n    }\n    // Print the result\n    for(int i=0; i&lt;result.size(); i++)\n        System.out.print(result.get(i) + \", \");\n\n}\n</code></pre>\n\n<p>}\noutput: 1, 6, 5896, 9, 100, 7, 1000, 8, 0, 10, 90, 4, </p>\n"},{"tags":[],"owner":{"account_id":8625262,"reputation":1912,"user_id":6458673,"display_name":"Andr&#233; Abboud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476152549,"creation_date":1476152549,"answer_id":39969573,"question_id":13912004,"body_markdown":"hey all you  can use this code that i create!!!\r\n\r\n    \r\n\r\n    import java.util.*;\r\n    \r\n    public class DistinctNumber {\r\n        public static void main(String[] args) {\r\n    \r\n            int[] nums=  {1,3,2,3,4,3,2,5,4,6}; \r\n            int [] T2 = duplicate(nums);\r\n            for (int i = 0; i &lt; T2.length; i++) {\r\n                System.out.println(T2[i]);\r\n                \r\n            } \r\n        }\r\n        public static boolean exist(int x,int []A){\r\n            for (int i = 0; i &lt; A.length; i++) {\r\n                if(x==A[i]){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        public static int [] EliminateDuplicate(int [] numbers){\r\n           int [] B = new int[numbers.length];\r\n           int i=0,j=0;\r\n           for(i=0;i&lt;numbers.length;i++){\r\n               if(!exist(numbers[i], B)){\r\n                   B[j] = numbers[i];\r\n                   j++;\r\n               }\r\n               \r\n           }\r\n           int[] C = new int[j];\r\n            for (int k = 0; k &lt; C.length; k++) {\r\n                C[k] = B[k];\r\n                \r\n            }\r\n           return C;\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n","title":"Remove duplicates from integer array","body":"<p>hey all you  can use this code that i create!!!</p>\n\n<pre><code>import java.util.*;\n\npublic class DistinctNumber {\n    public static void main(String[] args) {\n\n        int[] nums=  {1,3,2,3,4,3,2,5,4,6}; \n        int [] T2 = duplicate(nums);\n        for (int i = 0; i &lt; T2.length; i++) {\n            System.out.println(T2[i]);\n\n        } \n    }\n    public static boolean exist(int x,int []A){\n        for (int i = 0; i &lt; A.length; i++) {\n            if(x==A[i]){\n                return true;\n            }\n        }\n        return false;\n    }\n    public static int [] EliminateDuplicate(int [] numbers){\n       int [] B = new int[numbers.length];\n       int i=0,j=0;\n       for(i=0;i&lt;numbers.length;i++){\n           if(!exist(numbers[i], B)){\n               B[j] = numbers[i];\n               j++;\n           }\n\n       }\n       int[] C = new int[j];\n        for (int k = 0; k &lt; C.length; k++) {\n            C[k] = B[k];\n\n        }\n       return C;\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492454660,"creation_date":1492454660,"answer_id":43457505,"question_id":13912004,"body_markdown":"This worked for me:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.HashSet;\r\n    \r\n    public class Util {\r\n    \r\n        public static int[] removeDups(final int[] intArrayWithDups) {\r\n            final int[] intArrayDupsRemoved = new int[intArrayWithDups.length];\r\n            \r\n            final HashSet&lt;Integer&gt; alreadyAdded = new HashSet&lt;&gt;();\r\n            int innerCounter = 0;\r\n            for (int integer : intArrayWithDups) {\r\n                if (!alreadyAdded.contains(integer)) {\r\n                    intArrayDupsRemoved[innerCounter] = integer;\r\n                    alreadyAdded.add(intArrayDupsRemoved[innerCounter]);\r\n                    innerCounter++;\r\n                }\r\n            }\r\n            \r\n            return Arrays.copyOf(intArrayDupsRemoved, innerCounter);\r\n        }\r\n    }","title":"Remove duplicates from integer array","body":"<p>This worked for me:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.HashSet;\n\npublic class Util {\n\n    public static int[] removeDups(final int[] intArrayWithDups) {\n        final int[] intArrayDupsRemoved = new int[intArrayWithDups.length];\n\n        final HashSet&lt;Integer&gt; alreadyAdded = new HashSet&lt;&gt;();\n        int innerCounter = 0;\n        for (int integer : intArrayWithDups) {\n            if (!alreadyAdded.contains(integer)) {\n                intArrayDupsRemoved[innerCounter] = integer;\n                alreadyAdded.add(intArrayDupsRemoved[innerCounter]);\n                innerCounter++;\n            }\n        }\n\n        return Arrays.copyOf(intArrayDupsRemoved, innerCounter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11623643,"reputation":1,"user_id":8514129,"display_name":"Kianoush M"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503616656,"creation_date":1503616656,"answer_id":45872254,"question_id":13912004,"body_markdown":"import java.util.*;\r\n\r\npublic class Duplicates {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tint [] myArray  = {1,3,2,4,3,2,3,4,5,6,7,6,5,4,3,4,5,6,76,5,4,3,4,4,5};\r\n\t\tList &lt;Integer&gt; myList = new ArrayList &lt;Integer&gt;();\r\n\t\tmyList = removeDuplicates(myArray);\r\n\t\t\r\n\t\t//Printing Output\t\r\n\t\tfor (int k=0; k&lt;myList.size();k++)\r\n\t\t\tSystem.out.print(&quot; &quot;+ myList.get(k));\r\n\t\t\r\n\t}\r\n\r\n\tprivate static List&lt;Integer&gt; removeDuplicates(int[] myArray) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tArrays.sort(myArray);\r\n\t\tList &lt;Integer&gt; myList = new ArrayList &lt;Integer&gt;();\r\n\t\tfor (int i=0; i&lt;myArray.length-1; i++){\r\n\t\t\t\r\n\t\t\t if (myArray[i]!= myArray[i+1]){\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tmyList.add(myArray[i]);\r\n\t\t\t\t}\r\n\t\t\t \r\n\t\t}\r\n\t\tmyList.add(myArray[myArray.length-1]);\r\n\t\t\r\n\t\treturn myList;\r\n\t}\r\n\r\n}","title":"Remove duplicates from integer array","body":"<p>import java.util.*;</p>\n\n<p>public class Duplicates {</p>\n\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    int [] myArray  = {1,3,2,4,3,2,3,4,5,6,7,6,5,4,3,4,5,6,76,5,4,3,4,4,5};\n    List &lt;Integer&gt; myList = new ArrayList &lt;Integer&gt;();\n    myList = removeDuplicates(myArray);\n\n    //Printing Output   \n    for (int k=0; k&lt;myList.size();k++)\n        System.out.print(\" \"+ myList.get(k));\n\n}\n\nprivate static List&lt;Integer&gt; removeDuplicates(int[] myArray) {\n    // TODO Auto-generated method stub\n    Arrays.sort(myArray);\n    List &lt;Integer&gt; myList = new ArrayList &lt;Integer&gt;();\n    for (int i=0; i&lt;myArray.length-1; i++){\n\n         if (myArray[i]!= myArray[i+1]){    \n\n                    myList.add(myArray[i]);\n            }\n\n    }\n    myList.add(myArray[myArray.length-1]);\n\n    return myList;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3342882,"reputation":871,"user_id":2808740,"accept_rate":100,"display_name":"Mathias Stavrou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513258375,"creation_date":1513258375,"answer_id":47814601,"question_id":13912004,"body_markdown":"You can do something like this\r\n\r\n  \r\n\r\n      public class MyClass {\r\n    \r\n        public static void main(String args[]) {\r\n            \r\n            int[] man = {4,56,98,89,78,45,78, 79, 56};\r\n            \r\n            for (int i = 0; i &lt; man.length; i++)\r\n            {\r\n                for (int j = i+1; j &lt; man.length; j++)\r\n                {\r\n                    //check if it is equal\r\n                   if (man[i] == man[j])\r\n                    {\r\n                    \r\n                         man[j] = man[j] -1;\r\n                         \r\n                   //Decrementing size\r\n                         \r\n                       j--;\r\n                    }\r\n                }\r\n            }\r\n            \r\n             //Array without duplicates\r\n\r\n            for(int k=0; k&lt;man.length; k++)\r\n            {\r\n            \r\n                System.out.print(&quot; &quot; + man[k]);\r\n            } \r\n        }\r\n    }\r\n\r\n","title":"Remove duplicates from integer array","body":"<p>You can do something like this</p>\n\n<pre><code>  public class MyClass {\n\n    public static void main(String args[]) {\n\n        int[] man = {4,56,98,89,78,45,78, 79, 56};\n\n        for (int i = 0; i &lt; man.length; i++)\n        {\n            for (int j = i+1; j &lt; man.length; j++)\n            {\n                //check if it is equal\n               if (man[i] == man[j])\n                {\n\n                     man[j] = man[j] -1;\n\n               //Decrementing size\n\n                   j--;\n                }\n            }\n        }\n\n         //Array without duplicates\n\n        for(int k=0; k&lt;man.length; k++)\n        {\n\n            System.out.print(\" \" + man[k]);\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525606409,"creation_date":1524404823,"answer_id":49966618,"question_id":13912004,"body_markdown":"This is an interview question.\r\nQuestion : Remove Duplicates from an array in place :\r\n\r\n\r\n\r\n    public class Solution4 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n               int[] a = {1,1,2,3,4,5,6,6,7,8};\r\n    \t\t\r\n    \t\t  int countwithoutDuplicates =  lengthofarraywithoutDuplicates(a);\r\n    \t\t  for(int i = 0 ; i &lt; countwithoutDuplicates ; i++) {\r\n    \t\t\t  System.out.println(a[i] + &quot; &quot;);\r\n    \t\t  }\r\n    \t}\r\n    \r\n    \tprivate static int lengthofarraywithoutDuplicates(int[] a) {\r\n    \t\tint countwithoutDuplicates = 1 ;\r\n    \t\tfor (int i = 1; i &lt; a.length; i++) {\r\n    \t\t\t  if( a[i] != a[i-1]      ) {\r\n    \t\t\t\t a[countwithoutDuplicates++] = a[i]; \r\n    \t\t\t  }//if\r\n    \t\t}//for\r\n    \t\tSystem.out.println(&quot;length of array withpout duplicates = &gt;&quot; + countwithoutDuplicates);\r\n    \t\treturn countwithoutDuplicates;\r\n    \t\t\r\n    \t}//lengthofarraywithoutDuplicates\r\n    \r\n    \t\r\n    }\r\n   \r\n\r\nIn Python :\r\n\r\n\r\n    def lengthwithoutduplicates(nums):\r\n        if not nums: return 0\r\n        if len(nums) == 1:return 1\r\n        # moving backwards from last element i.e.len(a) -1 to first element 0 and step is -1\r\n        for i in range(len(nums)-1,0,-1):\r\n          # delete the repeated element\r\n            if nums[i] == nums[i-1]: del nums[i]\r\n            # store the new length of the array without the duplicates in a variable\r\n            # and return the variable\r\n        l = len(a)      \r\n        return l\r\n               \r\n    \r\n    \r\n    a = [1, 1, 2, 3, 4, 5, 6, 6, 7, 8];\r\n    \r\n    l = lengthwithoutduplicates(a)\r\n    for i in range(1,l):print(i)\r\n       \r\n\r\nIn Python:  list comprehension  using enumerate\r\n\r\n    a = [1, 1, 2, 3, 4, 5, 6, 6, 7, 8]\r\n    \r\n    aa = [ ch  for i, ch in enumerate(a) if ch not in a[:i] ]\r\n    print(aa) # output =&gt; [1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\n\r\n\r\n      \r\n","title":"Remove duplicates from integer array","body":"<p>This is an interview question.\nQuestion : Remove Duplicates from an array in place :</p>\n\n<pre><code>public class Solution4 {\n    public static void main(String[] args) {\n\n           int[] a = {1,1,2,3,4,5,6,6,7,8};\n\n          int countwithoutDuplicates =  lengthofarraywithoutDuplicates(a);\n          for(int i = 0 ; i &lt; countwithoutDuplicates ; i++) {\n              System.out.println(a[i] + \" \");\n          }\n    }\n\n    private static int lengthofarraywithoutDuplicates(int[] a) {\n        int countwithoutDuplicates = 1 ;\n        for (int i = 1; i &lt; a.length; i++) {\n              if( a[i] != a[i-1]      ) {\n                 a[countwithoutDuplicates++] = a[i]; \n              }//if\n        }//for\n        System.out.println(\"length of array withpout duplicates = &gt;\" + countwithoutDuplicates);\n        return countwithoutDuplicates;\n\n    }//lengthofarraywithoutDuplicates\n\n\n}\n</code></pre>\n\n<p>In Python :</p>\n\n<pre><code>def lengthwithoutduplicates(nums):\n    if not nums: return 0\n    if len(nums) == 1:return 1\n    # moving backwards from last element i.e.len(a) -1 to first element 0 and step is -1\n    for i in range(len(nums)-1,0,-1):\n      # delete the repeated element\n        if nums[i] == nums[i-1]: del nums[i]\n        # store the new length of the array without the duplicates in a variable\n        # and return the variable\n    l = len(a)      \n    return l\n\n\n\na = [1, 1, 2, 3, 4, 5, 6, 6, 7, 8];\n\nl = lengthwithoutduplicates(a)\nfor i in range(1,l):print(i)\n</code></pre>\n\n<p>In Python:  list comprehension  using enumerate</p>\n\n<pre><code>a = [1, 1, 2, 3, 4, 5, 6, 6, 7, 8]\n\naa = [ ch  for i, ch in enumerate(a) if ch not in a[:i] ]\nprint(aa) # output =&gt; [1, 2, 3, 4, 5, 6, 7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10794115,"reputation":1,"user_id":7940506,"display_name":"Viren Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529197909,"creation_date":1529197909,"answer_id":50892914,"question_id":13912004,"body_markdown":"    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    // Remove duplicates from a list of integers\r\n    public class IntegerUtils {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint intArray[] = {1, 2, 4, 2, 67, 4, 9};\r\n    \t\tList&lt;Integer&gt; uniqueList = removeDuplicates(intArray);\r\n    \t\tuniqueList.stream().forEach(p -&gt; System.out.println(p));\r\n    \t}\r\n    \r\n    \tpublic static List&lt;Integer&gt; removeDuplicates(int[] intArray) {\r\n    \t\treturn Arrays.stream(intArray).boxed().distinct().collect(Collectors.toList());\r\n    \t}\r\n    }","title":"Remove duplicates from integer array","body":"<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n// Remove duplicates from a list of integers\npublic class IntegerUtils {\n    public static void main(String[] args) {\n        int intArray[] = {1, 2, 4, 2, 67, 4, 9};\n        List&lt;Integer&gt; uniqueList = removeDuplicates(intArray);\n        uniqueList.stream().forEach(p -&gt; System.out.println(p));\n    }\n\n    public static List&lt;Integer&gt; removeDuplicates(int[] intArray) {\n        return Arrays.stream(intArray).boxed().distinct().collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13888915,"reputation":31,"user_id":10027403,"display_name":"SaGaR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530629659,"creation_date":1530628682,"answer_id":51157275,"question_id":13912004,"body_markdown":"try this.\r\n\r\n     int numbers[] = {1,2,3,4,1,2,3,4,5,1,2,3,4};\r\n    \r\n     numbers =  java.util.stream.IntStream.of(numbers).distinct().toArray();","title":"Remove duplicates from integer array","body":"<p>try this.</p>\n\n<pre><code> int numbers[] = {1,2,3,4,1,2,3,4,5,1,2,3,4};\n\n numbers =  java.util.stream.IntStream.of(numbers).distinct().toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7281186,"reputation":539,"user_id":5550892,"accept_rate":0,"display_name":"Praveen Gopal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556783546,"creation_date":1530886750,"answer_id":51212431,"question_id":13912004,"body_markdown":"\tint[] arrayRemoveDuplicates= Arrays.stream(&quot;integerArray&quot;).distinct().toArray();\r\n\t\t// print the unique array\r\n\t\tfor (int i = 0; i &lt; arrayRemoveDuplicates.length; i++) {\r\n\t\t    System.out.println(arrayRemoveDuplicates[i]);\r\n\t\t}\r\nJava.util.streamapi introduced in java 8\r\n","title":"Remove duplicates from integer array","body":"<pre><code>int[] arrayRemoveDuplicates= Arrays.stream(\"integerArray\").distinct().toArray();\n    // print the unique array\n    for (int i = 0; i &lt; arrayRemoveDuplicates.length; i++) {\n        System.out.println(arrayRemoveDuplicates[i]);\n    }\n</code></pre>\n\n<p>Java.util.streamapi introduced in java 8</p>\n"},{"tags":[],"owner":{"account_id":23022717,"reputation":5,"user_id":17143501,"display_name":"SGuirous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634143983,"creation_date":1634135625,"answer_id":69557420,"question_id":13912004,"body_markdown":"I have found this solution to this problem. Using HashSet is a powerful way to filter and order an array of integers. It is very fast as well. \r\n\r\nI have written this short code in order to show the power of this feature. \r\nFrom an array of integers, it creates two lists. One with the ordered integers without the duplicates and the other which shows only the duplicates and the number of times they are in the initial array.\r\n\r\n```\r\npublic class DuplicatesFromArray {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tint[] withDuplicates = { 1, 2, 3, 1, 2, 3, 4, 5, 3, 6 };\r\n\t\t\r\n\t\t\r\n\t\t// complexity of this solution is O[n]\r\n\r\n\t\tduplicates(withDuplicates);\r\n\r\n\t\t\r\n\t}\r\n\r\n//Complexity of this method is O(n)\r\n\t\r\n\tpublic static void duplicates(int[] input) {\r\n\r\n\t\tHashSet&lt;Integer&gt; nums = new HashSet&lt;Integer&gt;();\r\n\r\n\t\tList&lt;Integer&gt; results = new ArrayList&lt;Integer&gt;();\r\n\t\tList&lt;Integer&gt; orderedFiltered = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tfor (int in : input) {\r\n\r\n\t\t\tif (nums.add(in) == false) {\r\n\t\t\t\tresults.add(in);\r\n\t\t\t} else {\r\n\t\t\t\torderedFiltered.add(in);\r\n\t\t\t}\r\n\t\t}\r\n\t\tout.println(\r\n\t\t\t\t&quot;Ordered and filtered elements found in the array are : &quot; + Arrays.toString(orderedFiltered.toArray()));\r\n\t\tout.println(&quot;Duplicate elements found in the array are : &quot; + Arrays.toString(results.toArray()));\r\n\t}\r\n\r\n\t\r\n\t/**\r\n\t * Generic method to find duplicates in array. Complexity of this method is O(n)\r\n\t * because we are using HashSet data structure.\r\n\t * \r\n\t * @param array\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T extends Comparable&lt;T&gt;&gt; void getDuplicates(T[] array) {\r\n\t\tSet&lt;T&gt; dupes = new HashSet&lt;T&gt;();\r\n\t\tfor (T i : array) {\r\n\t\t\tif (!dupes.add(i)) {\r\n\t\t\t\tSystem.out.println(&quot;Duplicate element in array is : &quot; + i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Remove duplicates from integer array","body":"<p>I have found this solution to this problem. Using HashSet is a powerful way to filter and order an array of integers. It is very fast as well.</p>\n<p>I have written this short code in order to show the power of this feature.\nFrom an array of integers, it creates two lists. One with the ordered integers without the duplicates and the other which shows only the duplicates and the number of times they are in the initial array.</p>\n<pre><code>public class DuplicatesFromArray {\n\n    public static void main(String args[]) {\n        int[] withDuplicates = { 1, 2, 3, 1, 2, 3, 4, 5, 3, 6 };\n        \n        \n        // complexity of this solution is O[n]\n\n        duplicates(withDuplicates);\n\n        \n    }\n\n//Complexity of this method is O(n)\n    \n    public static void duplicates(int[] input) {\n\n        HashSet&lt;Integer&gt; nums = new HashSet&lt;Integer&gt;();\n\n        List&lt;Integer&gt; results = new ArrayList&lt;Integer&gt;();\n        List&lt;Integer&gt; orderedFiltered = new ArrayList&lt;Integer&gt;();\n\n        for (int in : input) {\n\n            if (nums.add(in) == false) {\n                results.add(in);\n            } else {\n                orderedFiltered.add(in);\n            }\n        }\n        out.println(\n                &quot;Ordered and filtered elements found in the array are : &quot; + Arrays.toString(orderedFiltered.toArray()));\n        out.println(&quot;Duplicate elements found in the array are : &quot; + Arrays.toString(results.toArray()));\n    }\n\n    \n    /**\n     * Generic method to find duplicates in array. Complexity of this method is O(n)\n     * because we are using HashSet data structure.\n     * \n     * @param array\n     * @return\n     */\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void getDuplicates(T[] array) {\n        Set&lt;T&gt; dupes = new HashSet&lt;T&gt;();\n        for (T i : array) {\n            if (!dupes.add(i)) {\n                System.out.println(&quot;Duplicate element in array is : &quot; + i);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2153934,"reputation":141,"user_id":1909582,"display_name":"Ali-J8"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66278,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":23,"score":13,"last_activity_date":1634143983,"creation_date":1355738815,"question_id":13912004,"body_markdown":"I having a problem with coding this:\r\n\r\nWrite a static method named `removeDuplicates` that takes as input an array of integers and returns as a result a new array of integers with all duplicates removed.\r\nFor example, if the input array has the elements {4, 3, 3, 4, 5, 2, 4} the resulting array\r\nshould be {4, 3, 5, 2}\r\n\r\nHere&#39;s what I have done so far \r\n\r\n    \r\n\r\n                            \r\n\tpublic static int[] removeDuplicates(int []s){\r\n\t\tint [] k = new int[s.length];\r\n\t\tk[0]=s[0];\r\n\t\tint m =1;\r\n\t\tfor(int i=1;i&lt;s.length;++i){\r\n\t\t\tif(s[i]!=s[i-1]){\r\n\t\t\t\tk[m]=s[i];\r\n\t\t\t\t++m;\r\n\t\t\t}//endIF\r\n\t\t}//endFori\r\n        return k;\r\n\t}//endMethod\r\n\r\n\r\n","title":"Remove duplicates from integer array","body":"<p>I having a problem with coding this:</p>\n\n<p>Write a static method named <code>removeDuplicates</code> that takes as input an array of integers and returns as a result a new array of integers with all duplicates removed.\nFor example, if the input array has the elements {4, 3, 3, 4, 5, 2, 4} the resulting array\nshould be {4, 3, 5, 2}</p>\n\n<p>Here's what I have done so far </p>\n\n<pre><code>public static int[] removeDuplicates(int []s){\n    int [] k = new int[s.length];\n    k[0]=s[0];\n    int m =1;\n    for(int i=1;i&lt;s.length;++i){\n        if(s[i]!=s[i-1]){\n            k[m]=s[i];\n            ++m;\n        }//endIF\n    }//endFori\n    return k;\n}//endMethod\n</code></pre>\n"},{"tags":["java","javafx","video-player"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634143594,"creation_date":1634143594,"answer_id":69559312,"question_id":69558917,"body_markdown":"This is a [known bug](https://bugs.openjdk.java.net/browse/JDK-8259356), which is a regression bug introduced in JavaFX 14. It was resolved in JavaFX 17. The best fix is to change your JavaFX version to 17 (or later; 17 is the current version at the time of writing). If that is not possible for some reason, reverting to version 13 or earlier will work, though you will see longer wait times before the video is ready.\r\n\r\nIn the pom, change to\r\n\r\n&lt;!-- language: lang-XML --&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How to seek to a video position before playing with JavaFx","body":"<p>This is a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8259356\" rel=\"noreferrer\">known bug</a>, which is a regression bug introduced in JavaFX 14. It was resolved in JavaFX 17. The best fix is to change your JavaFX version to 17 (or later; 17 is the current version at the time of writing). If that is not possible for some reason, reverting to version 13 or earlier will work, though you will see longer wait times before the video is ready.</p>\n<p>In the pom, change to</p>\n<pre class=\"lang-XML prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n        &lt;version&gt;17&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":9649430,"reputation":126,"user_id":7161030,"display_name":"Thomas Piekarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69559312,"answer_count":1,"score":4,"last_activity_date":1634143594,"creation_date":1634141806,"question_id":69558917,"body_markdown":"**I would need to be able to seek to a position before playback of a video is started with JavaFx 16**\r\n\r\n**When MediaPlayers seek() or setStartTime() is called before play() it is breaking video output and no frames are updated anymore (sound is still playing).**\r\n\r\nThe duration of the video is known and not indefinite. No errors are printed by the listener nor any meaningful stalling (only sometimes in the beginning when video is loaded via https), but the same issue appears for local files as well. So I think this can be ruled out. I am building and running the app with Maven, `mvn clean javafx:run`.\r\n\r\nI tried to call those methods separately and also one after each other inside the ready listener and outside in the start method.\r\n\r\nI am using JDK 11 (11.0.11+9-Ubuntu-0ubuntu2), maven 3.6.3 and openjfx 16 at GNU/Linux (Ubuntu 21.04)).\r\n\r\nI assembled a minimal example and do I do anything wrong in the following code? Do you know how this could be handled or worked around? Thanks in advance.\r\n\r\n**App.java**\r\n\r\n```java\r\npackage org.openjfx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.MediaView;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.KeyCode;\r\n\r\n\r\npublic class App extends Application {\r\n\r\n    private Scene scene;\r\n    private MediaPlayer mediaPlayer;\r\n\r\n    private final Runnable onReadyStateListener = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            registerMinimalKeyEventHandling();\r\n\r\n            // Calling seek or setStartTime will break video playback, frames won&#39;t be updated anymore (and only the sound keeps playing)\r\n            Duration startTime = new Duration(6000L);\r\n            mediaPlayer.seek(startTime);\r\n            mediaPlayer.setStartTime(startTime);\r\n            mediaPlayer.play();\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        scene = new Scene(new Group(), 1600, 900);\r\n        stage.setScene(scene);\r\n\r\n        // The same issue occurs to local as well as remote videos\r\n        //Media media = new Media(&quot;file:///tmp/big_buck_bunny_720p_10mb.mp4&quot;);\r\n        Media media = new Media(&quot;https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_10mb.mp4&quot;);\r\n        \r\n        mediaPlayer = new MediaPlayer(media);\r\n        mediaPlayer.setOnReady(onReadyStateListener);\r\n        mediaPlayer.setOnStalled(onStalledListener);\r\n        mediaPlayer.setOnError(onErrorListener);\r\n\r\n        MediaView mediaView = new MediaView(mediaPlayer);\r\n        mediaView.setFitWidth(1600);\r\n        mediaView.setFitHeight(900);\r\n        ((Group) scene.getRoot()).getChildren().add(mediaView);\r\n\r\n        stage.show();\r\n    }\r\n\r\n    private void registerMinimalKeyEventHandling() {\r\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent event) {\r\n                if (event.getCode() == KeyCode.SPACE) {\r\n                    if (mediaPlayer.getStatus() == MediaPlayer.Status.PLAYING) {\r\n                        mediaPlayer.pause();\r\n                        return;\r\n                    }\r\n                    \r\n                    mediaPlayer.play();\r\n                } else if (event.getCode() == KeyCode.RIGHT) {\r\n                    Duration seekTo = mediaPlayer.getCurrentTime().add(new Duration(1000L));\r\n                    if (seekTo.greaterThan(mediaPlayer.getMedia().getDuration()) ) {\r\n                        mediaPlayer.stop();\r\n                        return;\r\n                    }\r\n                    mediaPlayer.seek(seekTo);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private final Runnable onStalledListener = new Runnable() {\r\n        @Override\r\n        public void run() { System.out.println(mediaPlayer.getCurrentTime().toString() + &quot;: Video stalled&quot;); }    \r\n    };\r\n\r\n    private final Runnable onErrorListener = new Runnable() {\r\n        @Override\r\n        public void run() { System.out.println( mediaPlayer.getCurrentTime().toString() + &quot;: Error occurred (&quot; + mediaPlayer.getError().getLocalizedMessage() + &quot;)&quot;); }\r\n    };\r\n\r\n    public static void main(String[] args) { launch(); }\r\n\r\n}\r\n```\r\n\r\nThe test video is big_buck_bunny_720p_10mb.mp4 from sample-videos.com.\r\nThis video playes without any problem in VLC (3.0.12 Vetinari) and mplayer (1.4) and seeking to other positions is possible.\r\n\r\n**Output of ffprobe:**\r\n```sh\r\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from &#39;/tmp/SampleVideo_1280x720_10mb.mp4&#39;:\r\n  Metadata:\r\n    major_brand     : isom\r\n    minor_version   : 512\r\n    compatible_brands: isomiso2avc1mp41\r\n    creation_time   : 1970-01-01T00:00:00.000000Z\r\n    encoder         : Lavf53.24.2\r\n  Duration: 00:01:02.32, start: 0.000000, bitrate: 1347 kb/s\r\n    Stream #0:0(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], \r\n\t                         959 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)\r\n    Metadata:\r\n      creation_time   : 1970-01-01T00:00:00.000000Z\r\n      handler_name    : VideoHandler\r\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp, 383 kb/s (default)\r\n    Metadata:\r\n      creation_time   : 1970-01-01T00:00:00.000000Z\r\n      handler_name    : SoundHandler\r\n```\r\n\r\n**Project setup:**\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sample&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;org.openjfx.App&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**module-info.java**\r\n```java\r\nmodule org.openjfx {\r\n    requires javafx.controls;\r\n    requires javafx.media;\r\n    exports org.openjfx;\r\n}\r\n```","title":"How to seek to a video position before playing with JavaFx","body":"<p><strong>I would need to be able to seek to a position before playback of a video is started with JavaFx 16</strong></p>\n<p><strong>When MediaPlayers seek() or setStartTime() is called before play() it is breaking video output and no frames are updated anymore (sound is still playing).</strong></p>\n<p>The duration of the video is known and not indefinite. No errors are printed by the listener nor any meaningful stalling (only sometimes in the beginning when video is loaded via https), but the same issue appears for local files as well. So I think this can be ruled out. I am building and running the app with Maven, <code>mvn clean javafx:run</code>.</p>\n<p>I tried to call those methods separately and also one after each other inside the ready listener and outside in the start method.</p>\n<p>I am using JDK 11 (11.0.11+9-Ubuntu-0ubuntu2), maven 3.6.3 and openjfx 16 at GNU/Linux (Ubuntu 21.04)).</p>\n<p>I assembled a minimal example and do I do anything wrong in the following code? Do you know how this could be handled or worked around? Thanks in advance.</p>\n<p><strong>App.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.openjfx;\n\nimport javafx.application.Application;\nimport javafx.scene.control.Label;\nimport javafx.scene.Group;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\nimport javafx.event.EventHandler;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.KeyCode;\n\n\npublic class App extends Application {\n\n    private Scene scene;\n    private MediaPlayer mediaPlayer;\n\n    private final Runnable onReadyStateListener = new Runnable() {\n        @Override\n        public void run() {\n            registerMinimalKeyEventHandling();\n\n            // Calling seek or setStartTime will break video playback, frames won't be updated anymore (and only the sound keeps playing)\n            Duration startTime = new Duration(6000L);\n            mediaPlayer.seek(startTime);\n            mediaPlayer.setStartTime(startTime);\n            mediaPlayer.play();\n        }\n    };\n\n\n    @Override\n    public void start(Stage stage) {\n        scene = new Scene(new Group(), 1600, 900);\n        stage.setScene(scene);\n\n        // The same issue occurs to local as well as remote videos\n        //Media media = new Media(&quot;file:///tmp/big_buck_bunny_720p_10mb.mp4&quot;);\n        Media media = new Media(&quot;https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_10mb.mp4&quot;);\n        \n        mediaPlayer = new MediaPlayer(media);\n        mediaPlayer.setOnReady(onReadyStateListener);\n        mediaPlayer.setOnStalled(onStalledListener);\n        mediaPlayer.setOnError(onErrorListener);\n\n        MediaView mediaView = new MediaView(mediaPlayer);\n        mediaView.setFitWidth(1600);\n        mediaView.setFitHeight(900);\n        ((Group) scene.getRoot()).getChildren().add(mediaView);\n\n        stage.show();\n    }\n\n    private void registerMinimalKeyEventHandling() {\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            @Override\n            public void handle(KeyEvent event) {\n                if (event.getCode() == KeyCode.SPACE) {\n                    if (mediaPlayer.getStatus() == MediaPlayer.Status.PLAYING) {\n                        mediaPlayer.pause();\n                        return;\n                    }\n                    \n                    mediaPlayer.play();\n                } else if (event.getCode() == KeyCode.RIGHT) {\n                    Duration seekTo = mediaPlayer.getCurrentTime().add(new Duration(1000L));\n                    if (seekTo.greaterThan(mediaPlayer.getMedia().getDuration()) ) {\n                        mediaPlayer.stop();\n                        return;\n                    }\n                    mediaPlayer.seek(seekTo);\n                }\n            }\n        });\n    }\n\n    private final Runnable onStalledListener = new Runnable() {\n        @Override\n        public void run() { System.out.println(mediaPlayer.getCurrentTime().toString() + &quot;: Video stalled&quot;); }    \n    };\n\n    private final Runnable onErrorListener = new Runnable() {\n        @Override\n        public void run() { System.out.println( mediaPlayer.getCurrentTime().toString() + &quot;: Error occurred (&quot; + mediaPlayer.getError().getLocalizedMessage() + &quot;)&quot;); }\n    };\n\n    public static void main(String[] args) { launch(); }\n\n}\n</code></pre>\n<p>The test video is big_buck_bunny_720p_10mb.mp4 from sample-videos.com.\nThis video playes without any problem in VLC (3.0.12 Vetinari) and mplayer (1.4) and seeking to other positions is possible.</p>\n<p><strong>Output of ffprobe:</strong></p>\n<pre class=\"lang-sh prettyprint-override\"><code>Input #0, mov,mp4,m4a,3gp,3g2,mj2, from '/tmp/SampleVideo_1280x720_10mb.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    creation_time   : 1970-01-01T00:00:00.000000Z\n    encoder         : Lavf53.24.2\n  Duration: 00:01:02.32, start: 0.000000, bitrate: 1347 kb/s\n    Stream #0:0(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], \n                             959 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)\n    Metadata:\n      creation_time   : 1970-01-01T00:00:00.000000Z\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp, 383 kb/s (default)\n    Metadata:\n      creation_time   : 1970-01-01T00:00:00.000000Z\n      handler_name    : SoundHandler\n</code></pre>\n<p><strong>Project setup:</strong></p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;sample&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;16&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.openjfx.App&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module org.openjfx {\n    requires javafx.controls;\n    requires javafx.media;\n    exports org.openjfx;\n}\n</code></pre>\n"},{"tags":["java","iterator"],"answers":[{"tags":[],"owner":{"account_id":2343850,"reputation":302,"user_id":2054599,"display_name":"Irakli Shalamberidze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634141862,"creation_date":1634141862,"answer_id":69558927,"question_id":69558800,"body_markdown":"You should iterate array and push each element after each element and return an array.\r\n\r\nYou can do this:\r\n(How to insert an item into an array at a specific index)\r\n\r\n    var arr = [];\r\n    arr[0] = &quot;1&quot;;\r\n    arr[1] = &quot;2&quot;;\r\n    arr[2] = &quot;3&quot;;\r\n\r\n\r\n    arr.join(); // Jani,Hege,Stale,Kai Jim,Borge\r\n    arr.splice(1, 0, &quot;1&quot;);\r\n    arr.join();\r\nOr Just push each element on iteration into array and sort them.","title":"Returns each array element 2 times using Iterator","body":"<p>You should iterate array and push each element after each element and return an array.</p>\n<p>You can do this:\n(How to insert an item into an array at a specific index)</p>\n<pre><code>var arr = [];\narr[0] = &quot;1&quot;;\narr[1] = &quot;2&quot;;\narr[2] = &quot;3&quot;;\n\n\narr.join(); // Jani,Hege,Stale,Kai Jim,Borge\narr.splice(1, 0, &quot;1&quot;);\narr.join();\n</code></pre>\n<p>Or Just push each element on iteration into array and sort them.</p>\n"},{"tags":[],"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634143530,"creation_date":1634143530,"answer_id":69559296,"question_id":69558800,"body_markdown":"You can try this implementation:\r\n\r\n    public static Iterator&lt;Integer&gt; intArrayTwoTimesIterator(int[] array) {\r\n      return Arrays.stream(array).\r\n              flatMap(value -&gt; IntStream.of(value, value)).\r\n              boxed().iterator();\r\n    }","title":"Returns each array element 2 times using Iterator","body":"<p>You can try this implementation:</p>\n<pre><code>public static Iterator&lt;Integer&gt; intArrayTwoTimesIterator(int[] array) {\n  return Arrays.stream(array).\n          flatMap(value -&gt; IntStream.of(value, value)).\n          boxed().iterator();\n}\n</code></pre>\n"}],"owner":{"account_id":19608232,"reputation":25,"user_id":14351356,"display_name":"Petru Ciorba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69559296,"answer_count":2,"score":-1,"last_activity_date":1634143530,"creation_date":1634141347,"question_id":69558800,"body_markdown":"I have a method `public static Iterator&lt;Integer&gt; intArrayTwoTimesIterator(int[] array)` that take an array.\r\nI need to returns an `Iterator` that iterates over given array but returns each array element 2 times.\r\nFor exemple array is `new int[]{1, 2, 3}`, and in output need to be `&quot;[1, 1, 2, 2, 3, 3]&quot;`.\r\nHow to return elements 2 times using Iterator?","title":"Returns each array element 2 times using Iterator","body":"<p>I have a method <code>public static Iterator&lt;Integer&gt; intArrayTwoTimesIterator(int[] array)</code> that take an array.\nI need to returns an <code>Iterator</code> that iterates over given array but returns each array element 2 times.\nFor exemple array is <code>new int[]{1, 2, 3}</code>, and in output need to be <code>&quot;[1, 1, 2, 2, 3, 3]&quot;</code>.\nHow to return elements 2 times using Iterator?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634142940,"creation_date":1634139892,"answer_id":69558482,"question_id":69557720,"body_markdown":"There are some inconsistencies in your code..\r\n\r\n - `ReadAbcApplicationProperties` - Why you inject itself in ?\r\n    \r\n        @Autowired\r\n        ReadAbcApplicationProperties readAbcApplicationProperties;\r\n    This line must be removed.\r\n- field `private String\r\ntokenGrantType` is not consistent with `abc.env[0].grant_type` in properties file\r\n- `private List&lt;AbcProperties&gt; abcSources` is not consistent with `abc.env[0]` and `abc.env[1]` and ... `abc.env[X]` in properties file\r\n\r\nThe classes should be:\r\n\r\n**AbcProperties** \r\n\r\n    public class AbcProperties {\r\n    \r\n      private String envname;\r\n      private String grantType; //to match `grant_type` in .properties file\r\n      \r\n      //getters setters\r\n    }\r\n\r\n\r\n**ReadAbcApplicationProperties** \r\n\r\n    @ConfigurationProperties(prefix = &quot;abc&quot;)\r\n    public class ReadAbcApplicationProperties {\r\n    \r\n        private List&lt;AbcProperties&gt; env = new ArrayList&lt;&gt;(); //to match abc.env[X] in properties file\r\n    \r\n        // getters setters\r\n    }\r\n\r\nI tried the above in a spring-boot sample project and it works\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FpRaI.png","title":"Values of properties is returned empty","body":"<p>There are some inconsistencies in your code..</p>\n<ul>\n<li><p><code>ReadAbcApplicationProperties</code> - Why you inject itself in ?</p>\n<pre><code> @Autowired\n ReadAbcApplicationProperties readAbcApplicationProperties;\n</code></pre>\n<p>This line must be removed.</p>\n</li>\n<li><p>field <code>private String tokenGrantType</code> is not consistent with <code>abc.env[0].grant_type</code> in properties file</p>\n</li>\n<li><p><code>private List&lt;AbcProperties&gt; abcSources</code> is not consistent with <code>abc.env[0]</code> and <code>abc.env[1]</code> and ... <code>abc.env[X]</code> in properties file</p>\n</li>\n</ul>\n<p>The classes should be:</p>\n<p><strong>AbcProperties</strong></p>\n<pre><code>public class AbcProperties {\n\n  private String envname;\n  private String grantType; //to match `grant_type` in .properties file\n  \n  //getters setters\n}\n</code></pre>\n<p><strong>ReadAbcApplicationProperties</strong></p>\n<pre><code>@ConfigurationProperties(prefix = &quot;abc&quot;)\npublic class ReadAbcApplicationProperties {\n\n    private List&lt;AbcProperties&gt; env = new ArrayList&lt;&gt;(); //to match abc.env[X] in properties file\n\n    // getters setters\n}\n</code></pre>\n<p>I tried the above in a spring-boot sample project and it works\n<a href=\"https://i.stack.imgur.com/FpRaI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FpRaI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6937186,"reputation":1164,"user_id":5324721,"display_name":"Kumar Ashutosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634141456,"creation_date":1634141456,"answer_id":69558825,"question_id":69557720,"body_markdown":"\r\nYou have different property names in property file and corresponding bean class `AbcProperties`. see `tokenGrantType` and `grant_type`.\r\n\r\nAn ideal configuration would be:\r\n\r\nApologies for using yml file instead of properties, but it all behaves the same. It&#39;s just `yml` would gives us more readability.\r\n\r\n```yaml\r\n\r\nmyapp: # this can be your prefix\r\n  abc:\r\n    - \r\n      envname: test\r\n      grant_type: password\r\n    - \r\n      envname: dev\r\n      grant_type: password\r\n\r\n```\r\n&gt; Having &quot;myapp&quot; as prefix(top-level key), woudl enable you to add any number of properties inside a single class like below &#39;ConfigPropertiesBinder&#39;.\r\n\r\n\r\n```Java\r\n@Data // If not, include getter and setters, with cons.\r\n@RefreshScope\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\r\npublic class ConfigPropertiesBinder {\r\n\r\n    private List&lt;AbcProperties&gt; abc; // Should match with myapp.abc\r\n\r\n  // Other properties\r\n    \r\n}\r\n```\r\n\r\n```Java\r\n  @Data\r\n  public class AbcProperties{\r\n   private String envname; // Match with myapp.abc[x].envname\r\n   private String grantType; // &#39;-&#39; and &#39;_&#39; converts to camelcase\r\n  }\r\n\r\n```\r\n\r\nSee if it helps.","title":"Values of properties is returned empty","body":"<p>You have different property names in property file and corresponding bean class <code>AbcProperties</code>. see <code>tokenGrantType</code> and <code>grant_type</code>.</p>\n<p>An ideal configuration would be:</p>\n<p>Apologies for using yml file instead of properties, but it all behaves the same. It's just <code>yml</code> would gives us more readability.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>\nmyapp: # this can be your prefix\n  abc:\n    - \n      envname: test\n      grant_type: password\n    - \n      envname: dev\n      grant_type: password\n\n</code></pre>\n<blockquote>\n<p>Having &quot;myapp&quot; as prefix(top-level key), woudl enable you to add any number of properties inside a single class like below 'ConfigPropertiesBinder'.</p>\n</blockquote>\n<pre><code>@Data // If not, include getter and setters, with cons.\n@RefreshScope\n@Configuration\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\npublic class ConfigPropertiesBinder {\n\n    private List&lt;AbcProperties&gt; abc; // Should match with myapp.abc\n\n  // Other properties\n    \n}\n</code></pre>\n<pre><code>  @Data\n  public class AbcProperties{\n   private String envname; // Match with myapp.abc[x].envname\n   private String grantType; // '-' and '_' converts to camelcase\n  }\n\n</code></pre>\n<p>See if it helps.</p>\n"}],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69558482,"answer_count":2,"score":1,"last_activity_date":1634143470,"creation_date":1634136722,"question_id":69557720,"body_markdown":"I&#39;m trying to read the values in the property file. Why I get values: [] in the output?\r\n\r\n```none\r\nabc.env[0].envname=test\r\nabc.env[0].grant_type=password\r\n\r\nabc.env[1].envname=dev\r\nabc.env[1].grant_type=password\r\n```\r\n\r\nBelow is the class I&#39;m trying to execute\r\n```\r\n@SpringBootApplication\r\npublic class AbcApplication implements CommandLineRunner{\r\n\r\n\tprivate static Logger LOG = LoggerFactory.getLogger(AbcApplication.class);\r\n\r\n\t@Autowired\r\n\tReadAbcApplicationProperties readAbcApplicationProperties;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AbcApplication.class, args);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run(String... args) {\r\n        LOG.info(&quot;values: {}&quot;, readAbcApplicationProperties.getAbcSources());\r\n    }\r\n\r\n}\r\n```\r\n```\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;abc&quot;)\r\npublic class ReadAbcApplicationProperties {\r\n\r\n\tprivate List&lt;AbcProperties&gt; abcSources = new ArrayList&lt;AbcProperties&gt;();\r\n\r\n    @Autowired\r\n\tReadAbcApplicationProperties readAbcApplicationProperties;\r\n\r\n\tpublic List&lt;AbcProperties&gt; getAbcSources() {\r\n\t\treturn abcSources;\r\n\t}\r\n\r\n\tpublic void setAbcSources(List&lt;AbcProperties&gt; abcSources) {\r\n\t\tthis.abcSources = abcSources;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\npublic class AbcProperties {\r\n\r\n    private String envname;\r\n    private String tokenGrantType;\r\n\r\n    public String getEnvname() {\r\n\t\treturn envname;\r\n\t}\r\n\tpublic void setEnvname(String envname) {\r\n\t\tthis.envname = envname;\r\n\t}\r\n\tpublic String getTokenGrantType() {\r\n\t\treturn tokenGrantType;\r\n\t}\r\n}\r\n```\r\n\r\nCan someone help me with the missing part?\r\n","title":"Values of properties is returned empty","body":"<p>I'm trying to read the values in the property file. Why I get values: [] in the output?</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc.env[0].envname=test\nabc.env[0].grant_type=password\n\nabc.env[1].envname=dev\nabc.env[1].grant_type=password\n</code></pre>\n<p>Below is the class I'm trying to execute</p>\n<pre><code>@SpringBootApplication\npublic class AbcApplication implements CommandLineRunner{\n\n    private static Logger LOG = LoggerFactory.getLogger(AbcApplication.class);\n\n    @Autowired\n    ReadAbcApplicationProperties readAbcApplicationProperties;\n    \n    public static void main(String[] args) {\n        SpringApplication.run(AbcApplication.class, args);\n    }\n    \n    @Override\n    public void run(String... args) {\n        LOG.info(&quot;values: {}&quot;, readAbcApplicationProperties.getAbcSources());\n    }\n\n}\n</code></pre>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;abc&quot;)\npublic class ReadAbcApplicationProperties {\n\n    private List&lt;AbcProperties&gt; abcSources = new ArrayList&lt;AbcProperties&gt;();\n\n    @Autowired\n    ReadAbcApplicationProperties readAbcApplicationProperties;\n\n    public List&lt;AbcProperties&gt; getAbcSources() {\n        return abcSources;\n    }\n\n    public void setAbcSources(List&lt;AbcProperties&gt; abcSources) {\n        this.abcSources = abcSources;\n    }\n    \n}\n</code></pre>\n<pre><code>public class AbcProperties {\n\n    private String envname;\n    private String tokenGrantType;\n\n    public String getEnvname() {\n        return envname;\n    }\n    public void setEnvname(String envname) {\n        this.envname = envname;\n    }\n    public String getTokenGrantType() {\n        return tokenGrantType;\n    }\n}\n</code></pre>\n<p>Can someone help me with the missing part?</p>\n"},{"tags":["java","spring","resttemplate"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1551389921,"post_id":54932011,"comment_id":96633731,"body_markdown":"your log is with two different status code 400 and 401","body":"your log is with two different status code 400 and 401"},{"owner":{"account_id":3579966,"reputation":365,"user_id":2988410,"display_name":"TheStiff"},"score":0,"creation_date":1551460725,"post_id":54932011,"comment_id":96661664,"body_markdown":"Yes those are the logs for 2 different requests, one with a 401 response and another with a 400 response","body":"Yes those are the logs for 2 different requests, one with a 401 response and another with a 400 response"}],"answers":[{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551379078,"creation_date":1551379078,"answer_id":54932184,"question_id":54932011,"body_markdown":"Why do you believe an `HttpStatusCodeException` *must* have a response body? That is not the case.&lt;br&gt;\r\nLook at the constructor of `RestClientResponseException`, its direct superclass\r\n\r\n     ...\r\n\r\n\t * @param responseBody the response body content (may be {@code null})\r\n\t * @param responseCharset the response body charset (may be {@code null})\r\n\t */\r\n\tpublic RestClientResponseException(\r\n            String message, \r\n            int statusCode,\r\n            String statusText,\r\n\t\t\t@Nullable HttpHeaders responseHeaders, \r\n            @Nullable byte[] responseBody, \r\n            @Nullable Charset responseCharset) { ... }\r\n\r\nYou need to expect that case, and provide a custom response body.&lt;br&gt;\r\nThe actual exception message is a good value to return as part of the body, which might be a complex object.","title":"ResponseEntityExceptionHandler returns empty response body for 401 exceptions","body":"<p>Why do you believe an <code>HttpStatusCodeException</code> <em>must</em> have a response body? That is not the case.<br>\nLook at the constructor of <code>RestClientResponseException</code>, its direct superclass</p>\n\n<pre><code> ...\n\n * @param responseBody the response body content (may be {@code null})\n * @param responseCharset the response body charset (may be {@code null})\n */\npublic RestClientResponseException(\n        String message, \n        int statusCode,\n        String statusText,\n        @Nullable HttpHeaders responseHeaders, \n        @Nullable byte[] responseBody, \n        @Nullable Charset responseCharset) { ... }\n</code></pre>\n\n<p>You need to expect that case, and provide a custom response body.<br>\nThe actual exception message is a good value to return as part of the body, which might be a complex object.</p>\n"},{"tags":[],"owner":{"account_id":3579966,"reputation":365,"user_id":2988410,"display_name":"TheStiff"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1551460652,"creation_date":1551460652,"answer_id":54949435,"question_id":54932011,"body_markdown":"I was finally able to log the response body for 401 Exceptions. I added the dependency\r\n\r\n&gt; org.apache.httpcomponents:httpclient\r\n\r\n and configured Rest Template Request Factory\r\n\r\n\t\trestTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\r\n\r\nApparently the default request factory SimpleClientHttpRequestFactory is not able to read the response body for 401 Http Status.\r\n","title":"ResponseEntityExceptionHandler returns empty response body for 401 exceptions","body":"<p>I was finally able to log the response body for 401 Exceptions. I added the dependency</p>\n\n<blockquote>\n  <p>org.apache.httpcomponents:httpclient</p>\n</blockquote>\n\n<p>and configured Rest Template Request Factory</p>\n\n<pre><code>    restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\n</code></pre>\n\n<p>Apparently the default request factory SimpleClientHttpRequestFactory is not able to read the response body for 401 Http Status.</p>\n"},{"tags":[],"owner":{"account_id":20615553,"reputation":1,"user_id":15133753,"display_name":"bksauce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634143213,"creation_date":1634143213,"answer_id":69559232,"question_id":54932011,"body_markdown":"I was having a similar issue with a 400 response, and the above solution using the `HttpComponentsClientHttpRequestFactory()` did not work. I was able to read the body by using `restTemplate.setFactory(new BufferingClientHttpRequestFactory(new SimpleClientHttpRequestFactory));` instead. Not sure if anybody is having my same problem but hopefully this helps if the chosen solution doesn&#39;t work for you. ","title":"ResponseEntityExceptionHandler returns empty response body for 401 exceptions","body":"<p>I was having a similar issue with a 400 response, and the above solution using the <code>HttpComponentsClientHttpRequestFactory()</code> did not work. I was able to read the body by using <code>restTemplate.setFactory(new BufferingClientHttpRequestFactory(new SimpleClientHttpRequestFactory));</code> instead. Not sure if anybody is having my same problem but hopefully this helps if the chosen solution doesn't work for you.</p>\n"}],"owner":{"account_id":3579966,"reputation":365,"user_id":2988410,"display_name":"TheStiff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4138,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54949435,"answer_count":3,"score":7,"last_activity_date":1634143213,"creation_date":1551378347,"question_id":54932011,"body_markdown":"I&#39;m trying to implement a Rest call to an authentication server using RestTemplate and log the response in case the server returns an exception. In order to do this, I used a ResponseEntityExceptionHandler to handle HttpClientErrorException&#39;s and HttpServerErrorException&#39;s.\r\n\r\n\r\n    public Response sendRequest(Request requestBody, String url, HttpMethod httpMethod, Response responseBody) {\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(requestBody.getBody(),\r\n\t\t\t\tthis.securityHeaders);\r\n\t\tResponseEntity&lt;? extends Response&gt; response = restTemplate.exchange(url, httpMethod, request,\r\n\t\t\t\tresponseBody.getClass());\r\n\t\treturn response.getBody();\r\n\t}\r\n\r\nCurrently my ResponseEntityExceptionHandler is the following\r\n\r\n    @ControllerAdvice\r\n    public class RestResponseExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n\tprivate static Logger log = LoggerFactory.getLogger(RestResponseExceptionHandler.class);\r\n\tprivate HttpHeaders headers = new HttpHeaders();\r\n\r\n\t@ExceptionHandler(value = { HttpClientErrorException.class, HttpServerErrorException.class })\r\n\tprotected ResponseEntity&lt;Object&gt; handleConflict(HttpStatusCodeException ex, WebRequest request) {\r\n\t\tErrorMessage responseBody = new ErrorMessage();\r\n\t\ttry {\r\n\t\t\tJSONObject bodyOfException = new JSONObject(ex.getResponseBodyAsString());\r\n\t\t\tlog.warn(&quot;{}| {}&quot;, ex.getStatusCode(), bodyOfException);\r\n\t\t\tresponseBody.setErrorAndDescription(bodyOfException.optString(&quot;error&quot;),\r\n\t\t\t\t\tbodyOfException.optString(&quot;error_description&quot;));\r\n\t\t} catch (JSONException e) {\r\n\t\t\tlog.error(&quot;{}| Bad authentication response body | Response Body | {}&quot;, ex.getStatusCode(),\r\n\t\t\t\t\tex.getResponseBodyAsString());\r\n\t\t}\r\n\r\n\t\treturn handleExceptionInternal(ex, responseBody, headers, ex.getStatusCode(), request);\r\n\t}\r\n}\r\n\r\nHowever, only for HttpStatus 401 exceptions, I get an empty Response Body.\r\n\r\nExample of logs:\r\n\r\n    400| {&quot;error_description&quot;:&quot;Bad client credentials&quot;,&quot;error&quot;:&quot;invalid_client&quot;}\r\n\r\n    401| Bad authentication response body | Response Body | \r\n\r\nDoes anyone know how I can obtain the response body for 401 exceptions?\r\n\r\nEdit:\r\nWhen using a Postman to call the Authentication Server I get non null 401 responseBody:\r\n\r\n    {\r\n     &quot;error&quot;: &quot;invalid_token&quot;,\r\n     &quot;error_description&quot;: &quot;Token was not recognised&quot;\r\n    }","title":"ResponseEntityExceptionHandler returns empty response body for 401 exceptions","body":"<p>I'm trying to implement a Rest call to an authentication server using RestTemplate and log the response in case the server returns an exception. In order to do this, I used a ResponseEntityExceptionHandler to handle HttpClientErrorException's and HttpServerErrorException's.</p>\n\n<pre><code>public Response sendRequest(Request requestBody, String url, HttpMethod httpMethod, Response responseBody) {\n    RestTemplate restTemplate = new RestTemplate();\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(requestBody.getBody(),\n            this.securityHeaders);\n    ResponseEntity&lt;? extends Response&gt; response = restTemplate.exchange(url, httpMethod, request,\n            responseBody.getClass());\n    return response.getBody();\n}\n</code></pre>\n\n<p>Currently my ResponseEntityExceptionHandler is the following</p>\n\n<pre><code>@ControllerAdvice\npublic class RestResponseExceptionHandler extends ResponseEntityExceptionHandler {\n\nprivate static Logger log = LoggerFactory.getLogger(RestResponseExceptionHandler.class);\nprivate HttpHeaders headers = new HttpHeaders();\n\n@ExceptionHandler(value = { HttpClientErrorException.class, HttpServerErrorException.class })\nprotected ResponseEntity&lt;Object&gt; handleConflict(HttpStatusCodeException ex, WebRequest request) {\n    ErrorMessage responseBody = new ErrorMessage();\n    try {\n        JSONObject bodyOfException = new JSONObject(ex.getResponseBodyAsString());\n        log.warn(\"{}| {}\", ex.getStatusCode(), bodyOfException);\n        responseBody.setErrorAndDescription(bodyOfException.optString(\"error\"),\n                bodyOfException.optString(\"error_description\"));\n    } catch (JSONException e) {\n        log.error(\"{}| Bad authentication response body | Response Body | {}\", ex.getStatusCode(),\n                ex.getResponseBodyAsString());\n    }\n\n    return handleExceptionInternal(ex, responseBody, headers, ex.getStatusCode(), request);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>However, only for HttpStatus 401 exceptions, I get an empty Response Body.</p>\n\n<p>Example of logs:</p>\n\n<pre><code>400| {\"error_description\":\"Bad client credentials\",\"error\":\"invalid_client\"}\n\n401| Bad authentication response body | Response Body | \n</code></pre>\n\n<p>Does anyone know how I can obtain the response body for 401 exceptions?</p>\n\n<p>Edit:\nWhen using a Postman to call the Authentication Server I get non null 401 responseBody:</p>\n\n<pre><code>{\n \"error\": \"invalid_token\",\n \"error_description\": \"Token was not recognised\"\n}\n</code></pre>\n"},{"tags":["java","jquery"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634143029,"post_id":69558919,"comment_id":122948780,"body_markdown":"You can use `$(this)` inside the function to get which input triggered the event.","body":"You can use <code>$(this)</code> inside the function to get which input triggered the event."}],"answers":[{"tags":[],"owner":{"display_name":"user1189882"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634143140,"creation_date":1634143140,"answer_id":69559215,"question_id":69558919,"body_markdown":"IDs should be unique- only one element should have an ID on a page.  When you use `$(&#39;#nameInput&#39;)` to select them all, it&#39;ll only select the first since jQuery anticipates only one element with that ID.\r\n\r\nYou can add a class name instead:\r\n\r\n    &lt;input type=&quot;text&quot; id=&quot;nameInput1&quot; class=&#39;nameInput&#39; value=&quot;1&quot; &gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;nameInput2&quot; class=&#39;nameInput&#39; value=&quot;2&quot; &gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;nameInput3&quot; class=&#39;nameInput&#39; value=&quot;3&quot; &gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;nameInput4&quot; class=&#39;nameInput&#39; value=&quot;4&quot; &gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;nameInput5&quot; class=&#39;nameInput&#39; value=&quot;5&quot; &gt;\r\n\r\nThen you can select them all, and use either the ID or the index within the parent (assuming they&#39;re all in the same parent element) to identify which was changed. `this` in the listener will refer to the HTML element just changed and `$(this)` will change that element into a jQuery object to manipulate.\r\n\r\n    var getsIds = $(&quot;.nameInput&quot;);\r\n    $(getsIds).on(&#39;input&#39;, function(){\r\n      console.log($(this).attr(&#39;id&#39;));\r\n      console.log($(this).index());\r\n    });\r\n\r\nhttps://jsfiddle.net/yLdqhv8a/","title":"which element index has triggered the input event?","body":"<p>IDs should be unique- only one element should have an ID on a page.  When you use <code>$('#nameInput')</code> to select them all, it'll only select the first since jQuery anticipates only one element with that ID.</p>\n<p>You can add a class name instead:</p>\n<pre><code>&lt;input type=&quot;text&quot; id=&quot;nameInput1&quot; class='nameInput' value=&quot;1&quot; &gt;\n&lt;input type=&quot;text&quot; id=&quot;nameInput2&quot; class='nameInput' value=&quot;2&quot; &gt;\n&lt;input type=&quot;text&quot; id=&quot;nameInput3&quot; class='nameInput' value=&quot;3&quot; &gt;\n&lt;input type=&quot;text&quot; id=&quot;nameInput4&quot; class='nameInput' value=&quot;4&quot; &gt;\n&lt;input type=&quot;text&quot; id=&quot;nameInput5&quot; class='nameInput' value=&quot;5&quot; &gt;\n</code></pre>\n<p>Then you can select them all, and use either the ID or the index within the parent (assuming they're all in the same parent element) to identify which was changed. <code>this</code> in the listener will refer to the HTML element just changed and <code>$(this)</code> will change that element into a jQuery object to manipulate.</p>\n<pre><code>var getsIds = $(&quot;.nameInput&quot;);\n$(getsIds).on('input', function(){\n  console.log($(this).attr('id'));\n  console.log($(this).index());\n});\n</code></pre>\n<p><a href=\"https://jsfiddle.net/yLdqhv8a/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/yLdqhv8a/</a></p>\n"}],"owner":{"account_id":22748465,"reputation":55,"user_id":16908948,"display_name":"Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69559215,"answer_count":1,"score":0,"last_activity_date":1634143140,"creation_date":1634141812,"question_id":69558919,"body_markdown":"I have got a selector that selects multiple inputs with the given ID. I have got on input event that triggers when inputs changes for one of the inputs. I would like to check which input index position has triggered the input event. I guess they will be stacked or in my case they will be a list of Ids stored into array. \r\n\r\n    var getsIds $(&quot;#nameInput&quot;);\r\n    \r\n    $(getsIds).on(&#39;input&#39;, function()){\r\n    //which event index from getsIds has triggered the input event \r\n    }\r\n\r\nwhere `#nameInput` is a list of inputs generated in the view and they all share the same id:\r\n\r\n    foreach(var items in Model){\r\n    &lt;input type=&quot;text&quot; id=&quot;nameInput&quot; value=&quot;@items.name&quot; &gt;\r\n    }\r\n\r\nbottom line is I would like to set validation on the input that triggered the event keeping them with the same Ids. How can I check which input triggered the event when they all share the same Ids ?","title":"which element index has triggered the input event?","body":"<p>I have got a selector that selects multiple inputs with the given ID. I have got on input event that triggers when inputs changes for one of the inputs. I would like to check which input index position has triggered the input event. I guess they will be stacked or in my case they will be a list of Ids stored into array.</p>\n<pre><code>var getsIds $(&quot;#nameInput&quot;);\n\n$(getsIds).on('input', function()){\n//which event index from getsIds has triggered the input event \n}\n</code></pre>\n<p>where <code>#nameInput</code> is a list of inputs generated in the view and they all share the same id:</p>\n<pre><code>foreach(var items in Model){\n&lt;input type=&quot;text&quot; id=&quot;nameInput&quot; value=&quot;@items.name&quot; &gt;\n}\n</code></pre>\n<p>bottom line is I would like to set validation on the input that triggered the event keeping them with the same Ids. How can I check which input triggered the event when they all share the same Ids ?</p>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":7820167,"reputation":59,"user_id":5913558,"display_name":"Deepak"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1551520278,"creation_date":1551519065,"answer_id":54957088,"question_id":54088030,"body_markdown":"For multiple idle connection client provide a `connectionPool`\r\n\r\n    client.connectionPool().evictAll();\r\n\r\nthe `evictAll()` method evicts all the connections.","title":"Reconnect OkHttp websocket when internet disconnects","body":"<p>For multiple idle connection client provide a <code>connectionPool</code></p>\n\n<pre><code>client.connectionPool().evictAll();\n</code></pre>\n\n<p>the <code>evictAll()</code> method evicts all the connections.</p>\n"},{"tags":[],"owner":{"account_id":7037605,"reputation":59,"user_id":5391085,"display_name":"JsonX"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1634142960,"creation_date":1573275036,"answer_id":58776518,"question_id":54088030,"body_markdown":"    public class WebSocketClient extends WebSocketListener {\r\n        volatile OkHttpClient client;\r\n        volatile WebSocket webSocket;\r\n        volatile Boolean isConnected = false;\r\n    \r\n        public WebSocketClient() {\r\n            Proxy proxy = null;\r\n    \r\n            if (Main.useProxy) {\r\n                tinder.CustomProxy proxyCustom = ProxyManager.GetStaticProxy(ThreadLocalManager.account.get().getProxyId());\r\n                proxy = new Proxy(Proxy.Type.HTTP,\r\n                        new InetSocketAddress(proxyCustom.getProxyIp(), proxyCustom.getProxyPort()));\r\n            }\r\n    \r\n            client = new OkHttpClient.Builder().proxy(proxy).readTimeout(2, TimeUnit.SECONDS)\r\n                    .connectTimeout(2, TimeUnit.SECONDS).build();\r\n    \r\n            Request request = new Request.Builder().url(&quot;wss://echo.com/ws&quot;)\r\n                    .addHeader(&quot;Accept-Language&quot;, &quot;en&quot;).build();\r\n            webSocket = client.newWebSocket(request, this);\r\n    \r\n            // First Change\r\n            client.connectionPool.evictAll();\r\n        }\r\n    \r\n        @Override\r\n        public void onOpen(WebSocket webSocket, Response response) {\r\n            AnsiConsole.out.println(Ansi.ansi().fg(Ansi.Color.GREEN).a(&quot;Socket connection successful&quot;).reset());\r\n            isConnected = true;\r\n        }\r\n    \r\n        @Override\r\n        public void onMessage(WebSocket webSocket, String text) {\r\n            System.out.println(&quot;Text MESSAGE: &quot; + text);\r\n        }\r\n    \r\n        @Override\r\n        public void onMessage(WebSocket webSocket, ByteString bytes) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onClosing(WebSocket webSocket, int code, String reason) {\r\n            webSocket.close(1000, null);\r\n            System.out.println(&quot;CLOSE: &quot; + code + &quot; &quot; + reason);\r\n            isConnected = false;\r\n        }\r\n    \r\n        @Override\r\n        public void onFailure(WebSocket webSocket, Throwable t, Response response) {\r\n            // Second Change\r\n            webSocket.close(1000, null);\r\n            close();\r\n            Thread.sleep(10000);\r\n    \r\n            Request request = new Request.Builder().url(&quot;wss://echo.com/ws&quot;)\r\n                    .addHeader(&quot;Accept-Language&quot;, &quot;en&quot;).build();\r\n            webSocket = client.newWebSocket(request, this);\r\n        }\r\n    \r\n        public void close() {\r\n            if (webSocket != null) {\r\n                webSocket.close(1000, &quot;Connection closed&quot;);\r\n            }\r\n        }\r\n    }","title":"Reconnect OkHttp websocket when internet disconnects","body":"<pre><code>public class WebSocketClient extends WebSocketListener {\n    volatile OkHttpClient client;\n    volatile WebSocket webSocket;\n    volatile Boolean isConnected = false;\n\n    public WebSocketClient() {\n        Proxy proxy = null;\n\n        if (Main.useProxy) {\n            tinder.CustomProxy proxyCustom = ProxyManager.GetStaticProxy(ThreadLocalManager.account.get().getProxyId());\n            proxy = new Proxy(Proxy.Type.HTTP,\n                    new InetSocketAddress(proxyCustom.getProxyIp(), proxyCustom.getProxyPort()));\n        }\n\n        client = new OkHttpClient.Builder().proxy(proxy).readTimeout(2, TimeUnit.SECONDS)\n                .connectTimeout(2, TimeUnit.SECONDS).build();\n\n        Request request = new Request.Builder().url(&quot;wss://echo.com/ws&quot;)\n                .addHeader(&quot;Accept-Language&quot;, &quot;en&quot;).build();\n        webSocket = client.newWebSocket(request, this);\n\n        // First Change\n        client.connectionPool.evictAll();\n    }\n\n    @Override\n    public void onOpen(WebSocket webSocket, Response response) {\n        AnsiConsole.out.println(Ansi.ansi().fg(Ansi.Color.GREEN).a(&quot;Socket connection successful&quot;).reset());\n        isConnected = true;\n    }\n\n    @Override\n    public void onMessage(WebSocket webSocket, String text) {\n        System.out.println(&quot;Text MESSAGE: &quot; + text);\n    }\n\n    @Override\n    public void onMessage(WebSocket webSocket, ByteString bytes) {\n\n    }\n\n    @Override\n    public void onClosing(WebSocket webSocket, int code, String reason) {\n        webSocket.close(1000, null);\n        System.out.println(&quot;CLOSE: &quot; + code + &quot; &quot; + reason);\n        isConnected = false;\n    }\n\n    @Override\n    public void onFailure(WebSocket webSocket, Throwable t, Response response) {\n        // Second Change\n        webSocket.close(1000, null);\n        close();\n        Thread.sleep(10000);\n\n        Request request = new Request.Builder().url(&quot;wss://echo.com/ws&quot;)\n                .addHeader(&quot;Accept-Language&quot;, &quot;en&quot;).build();\n        webSocket = client.newWebSocket(request, this);\n    }\n\n    public void close() {\n        if (webSocket != null) {\n            webSocket.close(1000, &quot;Connection closed&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7990,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1634142960,"creation_date":1546936804,"question_id":54088030,"body_markdown":"I have the following class. I&#39;m trying to have the WebSocket reconnect in case of failure \r\n\r\n\r\n\r\n    public class WebSocketClient extends WebSocketListener {\r\n    \tvolatile OkHttpClient client;\r\n    \tvolatile WebSocket webSocket;\r\n    \tvolatile Boolean isConnected = false;\r\n    \r\n    \tpublic WebSocketClient() {\r\n    \t\tProxy proxy = null;\r\n    \r\n    \t\tif (Main.useProxy) {\r\n    \t\t\ttinder.CustomProxy proxyCustom = ProxyManager.GetStaticProxy(ThreadLocalManager.account.get().getProxyId());\r\n    \t\t\tproxy = new Proxy(Proxy.Type.HTTP,\r\n    \t\t\t\t\tnew InetSocketAddress(proxyCustom.getProxyIp(), proxyCustom.getProxyPort()));\r\n    \t\t}\r\n    \r\n    \t\tclient = new OkHttpClient.Builder().proxy(proxy).readTimeout(2, TimeUnit.SECONDS)\r\n    \t\t\t\t.connectTimeout(2, TimeUnit.SECONDS).build();\r\n    \r\n    \r\n    \t\tRequest request = new Request.Builder().url(&quot;wss://echo.com/ws&quot;)\r\n    \t\t\t\t.addHeader(&quot;Accept-Language&quot;, &quot;en&quot;).build();\r\n    \t\twebSocket = client.newWebSocket(request, this);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onOpen(WebSocket webSocket, Response response) {\r\n    \t\tAnsiConsole.out.println(Ansi.ansi().fg(Ansi.Color.GREEN).a(&quot;Socket connection successful&quot;).reset());\r\n    \t\tisConnected = true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onMessage(WebSocket webSocket, String text) {\r\n    \t\tSystem.out.println(&quot;Text MESSAGE: &quot; + text);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onMessage(WebSocket webSocket, ByteString bytes) {\r\n\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onClosing(WebSocket webSocket, int code, String reason) {\r\n    \t\twebSocket.close(1000, null);\r\n    \t\tSystem.out.println(&quot;CLOSE: &quot; + code + &quot; &quot; + reason);\r\n    \t\tisConnected = false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onFailure(WebSocket webSocket, Throwable t, Response response) {\r\n    \t\tisConnected = false;\r\n    \t\tAnsiConsole.out\r\n    \t\t\t\t.println(Ansi.ansi().fg(Ansi.Color.RED).a(&quot;Socket connection failed! will try to reconnect&quot;).reset());\r\n    \r\n    \t\twhile (!isConnected) {\r\n    \t\t\ttry {\r\n    \t\t\t\tAnsiConsole.out\r\n    \t\t\t\t\t\t.println(Ansi.ansi().fg(Ansi.Color.YELLOW).a(&quot;Waiting to try socket connection!&quot;).reset());\r\n    \t\t\t\tThread.sleep(4000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t\tRequest request = new Request.Builder().url(&quot;wss://echo.com/ws&quot;)\r\n    \t\t\t\t\t.addHeader(&quot;Accept-Language&quot;, &quot;en&quot;).build();\r\n    \t\t\twebSocket = client.newWebSocket(request, this);\r\n    \t\t}\r\n    \r\n    \t\tif (isConnected) {\r\n    \t\t\tAnsiConsole.out.println(Ansi.ansi().fg(Ansi.Color.GREEN).a(&quot;Socket connection successful&quot;).reset());\r\n    \t\t}\r\n    \t}\r\n\r\n    \tpublic void close() {\r\n    \t\tif (webSocket != null) {\r\n    \t\t\twebSocket.close(1000, &quot;Connection closed&quot;);\r\n    \t\t}\r\n    \t\tclient.dispatcher().executorService().shutdown();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nThe problem is if it takes a few attempts to reconnect, then the onFailure method will get called multiple times. Causing multiple web socket connections instead of one.\r\n\r\nHow can I have the single connection reconnect when the websocket disconnects?","title":"Reconnect OkHttp websocket when internet disconnects","body":"<p>I have the following class. I'm trying to have the WebSocket reconnect in case of failure </p>\n\n<pre><code>public class WebSocketClient extends WebSocketListener {\n    volatile OkHttpClient client;\n    volatile WebSocket webSocket;\n    volatile Boolean isConnected = false;\n\n    public WebSocketClient() {\n        Proxy proxy = null;\n\n        if (Main.useProxy) {\n            tinder.CustomProxy proxyCustom = ProxyManager.GetStaticProxy(ThreadLocalManager.account.get().getProxyId());\n            proxy = new Proxy(Proxy.Type.HTTP,\n                    new InetSocketAddress(proxyCustom.getProxyIp(), proxyCustom.getProxyPort()));\n        }\n\n        client = new OkHttpClient.Builder().proxy(proxy).readTimeout(2, TimeUnit.SECONDS)\n                .connectTimeout(2, TimeUnit.SECONDS).build();\n\n\n        Request request = new Request.Builder().url(\"wss://echo.com/ws\")\n                .addHeader(\"Accept-Language\", \"en\").build();\n        webSocket = client.newWebSocket(request, this);\n    }\n\n    @Override\n    public void onOpen(WebSocket webSocket, Response response) {\n        AnsiConsole.out.println(Ansi.ansi().fg(Ansi.Color.GREEN).a(\"Socket connection successful\").reset());\n        isConnected = true;\n    }\n\n    @Override\n    public void onMessage(WebSocket webSocket, String text) {\n        System.out.println(\"Text MESSAGE: \" + text);\n    }\n\n    @Override\n    public void onMessage(WebSocket webSocket, ByteString bytes) {\n\n    }\n\n    @Override\n    public void onClosing(WebSocket webSocket, int code, String reason) {\n        webSocket.close(1000, null);\n        System.out.println(\"CLOSE: \" + code + \" \" + reason);\n        isConnected = false;\n    }\n\n    @Override\n    public void onFailure(WebSocket webSocket, Throwable t, Response response) {\n        isConnected = false;\n        AnsiConsole.out\n                .println(Ansi.ansi().fg(Ansi.Color.RED).a(\"Socket connection failed! will try to reconnect\").reset());\n\n        while (!isConnected) {\n            try {\n                AnsiConsole.out\n                        .println(Ansi.ansi().fg(Ansi.Color.YELLOW).a(\"Waiting to try socket connection!\").reset());\n                Thread.sleep(4000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n            Request request = new Request.Builder().url(\"wss://echo.com/ws\")\n                    .addHeader(\"Accept-Language\", \"en\").build();\n            webSocket = client.newWebSocket(request, this);\n        }\n\n        if (isConnected) {\n            AnsiConsole.out.println(Ansi.ansi().fg(Ansi.Color.GREEN).a(\"Socket connection successful\").reset());\n        }\n    }\n\n    public void close() {\n        if (webSocket != null) {\n            webSocket.close(1000, \"Connection closed\");\n        }\n        client.dispatcher().executorService().shutdown();\n    }\n\n}\n</code></pre>\n\n<p>The problem is if it takes a few attempts to reconnect, then the onFailure method will get called multiple times. Causing multiple web socket connections instead of one.</p>\n\n<p>How can I have the single connection reconnect when the websocket disconnects?</p>\n"},{"tags":["java","amazon-s3","quarkus","testcontainers","localstack"],"answers":[{"tags":[],"owner":{"account_id":11789105,"reputation":304,"user_id":8625821,"display_name":"Corentin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634142893,"creation_date":1634142893,"answer_id":69559163,"question_id":69558775,"body_markdown":"I found a workaround, If we set manually, the credential, in the system property it worked. \r\nThe method start() with the modification :\r\n```\r\n @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        LOCAL_STACK_CONTAINER.start();\r\n        innitS3();\r\n        System.setProperty(&quot;aws.accessKeyId&quot;, LOCAL_STACK_CONTAINER.getAccessKey());\r\n        System.setProperty(&quot;aws.secretAccessKey&quot;, LOCAL_STACK_CONTAINER.getSecretKey());\r\n        return Map.ofEntries(\r\n            entry(&quot;aws.region&quot;, LOCAL_STACK_CONTAINER.getRegion()),\r\n            entry(&quot;s3.url.override&quot;, LOCAL_STACK_CONTAINER.getEndpointOverride(S3).toString()),\r\n            entry(&quot;aws.accessKeyId&quot;, LOCAL_STACK_CONTAINER.getAccessKey()),\r\n            entry(&quot;aws.secretAccessKey&quot;, LOCAL_STACK_CONTAINER.getSecretKey()));\r\n    }\r\n```\r\n\r\nThe Javadoc of QuarkusTestResourceLifecycleManager.start() say : \r\n&#39;@return A map of system properties that should be set for the running test&#39;\r\n\r\nIt seems that that doesn&#39;t work with @QuarkusTest\r\n","title":"S3Client Unable to load credentials in QuarkusTest, using QuarkusTestResourceLifecycleManager in quarkus 2+","body":"<p>I found a workaround, If we set manually, the credential, in the system property it worked.\nThe method start() with the modification :</p>\n<pre><code> @Override\n    public Map&lt;String, String&gt; start() {\n        LOCAL_STACK_CONTAINER.start();\n        innitS3();\n        System.setProperty(&quot;aws.accessKeyId&quot;, LOCAL_STACK_CONTAINER.getAccessKey());\n        System.setProperty(&quot;aws.secretAccessKey&quot;, LOCAL_STACK_CONTAINER.getSecretKey());\n        return Map.ofEntries(\n            entry(&quot;aws.region&quot;, LOCAL_STACK_CONTAINER.getRegion()),\n            entry(&quot;s3.url.override&quot;, LOCAL_STACK_CONTAINER.getEndpointOverride(S3).toString()),\n            entry(&quot;aws.accessKeyId&quot;, LOCAL_STACK_CONTAINER.getAccessKey()),\n            entry(&quot;aws.secretAccessKey&quot;, LOCAL_STACK_CONTAINER.getSecretKey()));\n    }\n</code></pre>\n<p>The Javadoc of QuarkusTestResourceLifecycleManager.start() say :\n'@return A map of system properties that should be set for the running test'</p>\n<p>It seems that that doesn't work with @QuarkusTest</p>\n"}],"owner":{"account_id":11789105,"reputation":304,"user_id":8625821,"display_name":"Corentin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634142893,"creation_date":1634141230,"question_id":69558775,"body_markdown":"I have an error &quot;Unable to load credentials&quot; in my integ test when I upgrade quarkus from 1.13.2 to 2.X.X.\r\n\r\nLambdaIntegTest.class :\r\n```\r\n@Testcontainers\r\n@QuarkusTest\r\n@QuarkusTestResource(ContainerRessource.class)\r\nclass LambdaIntegTest {\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n        String s3Event = oneS3event();\r\n\r\n        String out = LambdaClient.invokeJson(String.class, s3Event);\r\n\r\n        assertThat(out).isEqualTo(&quot;Success&quot;);\r\n    }\r\n```\r\n\r\nContainerRessource.class :\r\n```\r\npublic class ContainerRessource implements QuarkusTestResourceLifecycleManager {\r\n    private static final LocalStackContainer LOCAL_STACK_CONTAINER;\r\n\r\n    static {\r\n        DockerImageName localstackImage = DockerImageName.parse(&quot;localstack/localstack:0.11.3&quot;);\r\n        LOCAL_STACK_CONTAINER = new LocalStackContainer(localstackImage)\r\n            .withServices(S3);\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        LOCAL_STACK_CONTAINER.start();\r\n        innitS3();\r\n        return Map.ofEntries(\r\n            entry(&quot;aws.region&quot;, LOCAL_STACK_CONTAINER.getRegion()),\r\n            entry(&quot;s3.url.override&quot;, LOCAL_STACK_CONTAINER.getEndpointOverride(S3).toString()),\r\n            entry(&quot;aws.accessKeyId&quot;, LOCAL_STACK_CONTAINER.getAccessKey()),\r\n            entry(&quot;aws.secretAccessKey&quot;, LOCAL_STACK_CONTAINER.getSecretKey()));\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        LOCAL_STACK_CONTAINER.stop();\r\n    }\r\n}\r\n```\r\n\r\nI have try to put the credential in the application.properties, but I have the same error.\r\nMy test work with Quarkus 1.13.2\r\n\r\nI have also a native test :\r\n```\r\n@QuarkusIntegrationTest\r\npublic class LambdaNativeTest extends LambdaIntegTest {\r\n}\r\n```\r\nAnd it worked.\r\n","title":"S3Client Unable to load credentials in QuarkusTest, using QuarkusTestResourceLifecycleManager in quarkus 2+","body":"<p>I have an error &quot;Unable to load credentials&quot; in my integ test when I upgrade quarkus from 1.13.2 to 2.X.X.</p>\n<p>LambdaIntegTest.class :</p>\n<pre><code>@Testcontainers\n@QuarkusTest\n@QuarkusTestResource(ContainerRessource.class)\nclass LambdaIntegTest {\n\n    @Test\n    void test() throws Exception {\n        String s3Event = oneS3event();\n\n        String out = LambdaClient.invokeJson(String.class, s3Event);\n\n        assertThat(out).isEqualTo(&quot;Success&quot;);\n    }\n</code></pre>\n<p>ContainerRessource.class :</p>\n<pre><code>public class ContainerRessource implements QuarkusTestResourceLifecycleManager {\n    private static final LocalStackContainer LOCAL_STACK_CONTAINER;\n\n    static {\n        DockerImageName localstackImage = DockerImageName.parse(&quot;localstack/localstack:0.11.3&quot;);\n        LOCAL_STACK_CONTAINER = new LocalStackContainer(localstackImage)\n            .withServices(S3);\n    }\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n        LOCAL_STACK_CONTAINER.start();\n        innitS3();\n        return Map.ofEntries(\n            entry(&quot;aws.region&quot;, LOCAL_STACK_CONTAINER.getRegion()),\n            entry(&quot;s3.url.override&quot;, LOCAL_STACK_CONTAINER.getEndpointOverride(S3).toString()),\n            entry(&quot;aws.accessKeyId&quot;, LOCAL_STACK_CONTAINER.getAccessKey()),\n            entry(&quot;aws.secretAccessKey&quot;, LOCAL_STACK_CONTAINER.getSecretKey()));\n    }\n\n    @Override\n    public void stop() {\n        LOCAL_STACK_CONTAINER.stop();\n    }\n}\n</code></pre>\n<p>I have try to put the credential in the application.properties, but I have the same error.\nMy test work with Quarkus 1.13.2</p>\n<p>I have also a native test :</p>\n<pre><code>@QuarkusIntegrationTest\npublic class LambdaNativeTest extends LambdaIntegTest {\n}\n</code></pre>\n<p>And it worked.</p>\n"},{"tags":["java","hashmap","mapping","option-type","contains"],"answers":[{"tags":[],"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1634138162,"creation_date":1634138162,"answer_id":69558073,"question_id":69557890,"body_markdown":"You can override hashCode() and equals() methods and let equals function in PojoClass something to unique to make your comparison like id\r\n \r\n\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (o == this)\r\n            return true;\r\n        if (!(o instanceof PojoClass))\r\n            return false;\r\n        PojoClass other = (PojoClass)o;\r\n        return this.id == other.id;\r\n    }","title":"How to check if a object is in Optional&lt;Object&gt; map - Java","body":"<p>You can override hashCode() and equals() methods and let equals function in PojoClass something to unique to make your comparison like id</p>\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (o == this)\n        return true;\n    if (!(o instanceof PojoClass))\n        return false;\n    PojoClass other = (PojoClass)o;\n    return this.id == other.id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634138800,"creation_date":1634138800,"answer_id":69558215,"question_id":69557890,"body_markdown":"One possible solution would be to wrap it in an `Optional` like this:\r\n   \r\n\r\n     assertTrue(pojoMappedByName.containsValue(Optional.of(pojotest)));","title":"How to check if a object is in Optional&lt;Object&gt; map - Java","body":"<p>One possible solution would be to wrap it in an <code>Optional</code> like this:</p>\n<pre><code> assertTrue(pojoMappedByName.containsValue(Optional.of(pojotest)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1634142522,"creation_date":1634138929,"answer_id":69558251,"question_id":69557890,"body_markdown":"Optional shouldn&#39;t be there. Optional is optimally used as the return type of a terminal stream operation. It is somewhat controversial, but possibly acceptable&lt;sup&gt;1&lt;/sup&gt;, to use it as the return type of non-stream-related methods. It&#39;s flat out a mistake to use it anywhere else - it should not be the type of a field, it should not be the type of a method parameter, and it should not show up in any generic type. `List&lt;Optional&lt;String&gt;&gt;`, etcetera - don&#39;t have those.\r\n\r\nYou&#39;ve stumbled on a practical example of why that is. To generalize the principle: Optional isn&#39;t part of the type system the way generics is, and is orthogonal relative to the type you&#39;re &#39;wrapped&#39;. In other words, `String` and `Optional&lt;String&gt;` are as different as guns and grandmas are, and that&#39;s a problem because in your head they feel similar-ish. Even invoking `.equals` on an optional is itself dubious, as Optional is attempting to catch the semantic meaning of &#39;I convey the result of a particular invocation of a stream terminal&#39;, and we can hold a long philosophical debate as to whether the concept of &#39;the way this terminal ended&#39; can ever even be considered as equal to a different run that so happened to produce the same object as result.\r\n\r\nGenerics has 4 different notions on any particular type:\r\n\r\n* `List&lt;Number&gt;`\r\n* `List&lt;? extends Number&gt;`\r\n* `List&lt;? super Number&gt;`\r\n* `List` (raw / legacy)\r\n\r\nproper integration of optional in the type system requires a similar treatment: For example, you&#39;d want the ability to write a method that accepts either a `List&lt;Optional&lt;String&gt;&gt;` or a `List&lt;String&gt;`. If the method always treats the elements in the string as optional (as in, checks for NONE, etc), but if it writes to the list, only writes actual Strings (and never Optional.NONE), then this method can process either form.\r\n\r\nThis is analogous to how a `List&lt;? super Number&gt;` can call `.add(Number)` and yet if it calls `.get(0)`, that is of type Object and not Number.\r\n\r\n__Java does not support this.__\r\n\r\nThere is no way to write such a method.\r\n\r\nHence, do not integrate optional - given that you can&#39;t write that method, you don&#39;t want `List&lt;Optional&lt;String&gt;&gt;` anywhere in your codebase. Instead, consider `Optional` as a fleeting data type: If you get an Optional&lt;T&gt; from anywhere, &#39;unroll&#39; that optional on the spot. Do not store it in a field, do not pass it to another method. The only slightly less fleeting notion you should be considering is to return it verbatim, putting the onus of unwrapping that optional on your caller. That is acceptable.\r\n\r\n---\r\n\r\nIf you want to compound this mistake and make your code base worse, this WILL work. But I strongly advise against it!\r\n\r\n```\r\npojoMappedByName.containsValue(Optional.of(pojotest))\r\n```\r\n\r\n(Optional&#39;s equals method is defined as: NONE is equal to NONE, and any 2 SOMEs are equal to each other if `a.equals(b)` holds, where `a` and `b` are the actual objects contained within the two optionals, which is why that works. Doesn&#39;t make it a good idea though, that&#39;s more of a &#39;its the least worst option amongst all available interpretations of what equality might mean between optionals&#39;.\r\n\r\n[1] A lot of methods in java core and major libraries just do not work that way. For example, if you consider `Optional&lt;T&gt;` to be the de-facto correct thing to return for a method that can return the concept &#39;not relevant&#39; or &#39;not found&#39;, then obviously `java.util.Map`&#39;s `.get(key)` method should be returning an `Optional&lt;V&gt;`. It doesn&#39;t, and never will as it wouldn&#39;t be a backwards compatible change. Given that there&#39;s a ton of code out there that thus cannot just shift paradigm and probably never will, there&#39;s a lot of resistance to the idea, and living in a world where any given method that can conceptually return &#39;not found&#39;, &#39;not available&#39;, etc - would then force you to first check the docs to see if returns `T` and `null` indicates not found, or if it returns `Optional&lt;T&gt;`. Forcing that kind of dichotomy on the ecosystem is, naturally, controversial. I haven&#39;t yet heard of a workable proposal to get to a place where Optional&lt;T&gt; has replaced null for _all_ method return values in _all_ major libraries (and the core library). Until one exists, it&#39;ll remain controversial, and I&#39;d strongly suggest you don&#39;t go there, and avoid using `Optional&lt;T&gt;` as return value for methods unless they are stream related. However, some libraries and a minority (but significant minority) of programming teams _are_ doing this. In contrast to using Optional in e.g. `List&lt;Optional&lt;T&gt;&gt;` or as method parameter type: Only a very small amount of dev teams are doing this and no style guide suggests it.","title":"How to check if a object is in Optional&lt;Object&gt; map - Java","body":"<p>Optional shouldn't be there. Optional is optimally used as the return type of a terminal stream operation. It is somewhat controversial, but possibly acceptable<sup>1</sup>, to use it as the return type of non-stream-related methods. It's flat out a mistake to use it anywhere else - it should not be the type of a field, it should not be the type of a method parameter, and it should not show up in any generic type. <code>List&lt;Optional&lt;String&gt;&gt;</code>, etcetera - don't have those.</p>\n<p>You've stumbled on a practical example of why that is. To generalize the principle: Optional isn't part of the type system the way generics is, and is orthogonal relative to the type you're 'wrapped'. In other words, <code>String</code> and <code>Optional&lt;String&gt;</code> are as different as guns and grandmas are, and that's a problem because in your head they feel similar-ish. Even invoking <code>.equals</code> on an optional is itself dubious, as Optional is attempting to catch the semantic meaning of 'I convey the result of a particular invocation of a stream terminal', and we can hold a long philosophical debate as to whether the concept of 'the way this terminal ended' can ever even be considered as equal to a different run that so happened to produce the same object as result.</p>\n<p>Generics has 4 different notions on any particular type:</p>\n<ul>\n<li><code>List&lt;Number&gt;</code></li>\n<li><code>List&lt;? extends Number&gt;</code></li>\n<li><code>List&lt;? super Number&gt;</code></li>\n<li><code>List</code> (raw / legacy)</li>\n</ul>\n<p>proper integration of optional in the type system requires a similar treatment: For example, you'd want the ability to write a method that accepts either a <code>List&lt;Optional&lt;String&gt;&gt;</code> or a <code>List&lt;String&gt;</code>. If the method always treats the elements in the string as optional (as in, checks for NONE, etc), but if it writes to the list, only writes actual Strings (and never Optional.NONE), then this method can process either form.</p>\n<p>This is analogous to how a <code>List&lt;? super Number&gt;</code> can call <code>.add(Number)</code> and yet if it calls <code>.get(0)</code>, that is of type Object and not Number.</p>\n<p><strong>Java does not support this.</strong></p>\n<p>There is no way to write such a method.</p>\n<p>Hence, do not integrate optional - given that you can't write that method, you don't want <code>List&lt;Optional&lt;String&gt;&gt;</code> anywhere in your codebase. Instead, consider <code>Optional</code> as a fleeting data type: If you get an Optional from anywhere, 'unroll' that optional on the spot. Do not store it in a field, do not pass it to another method. The only slightly less fleeting notion you should be considering is to return it verbatim, putting the onus of unwrapping that optional on your caller. That is acceptable.</p>\n<hr />\n<p>If you want to compound this mistake and make your code base worse, this WILL work. But I strongly advise against it!</p>\n<pre><code>pojoMappedByName.containsValue(Optional.of(pojotest))\n</code></pre>\n<p>(Optional's equals method is defined as: NONE is equal to NONE, and any 2 SOMEs are equal to each other if <code>a.equals(b)</code> holds, where <code>a</code> and <code>b</code> are the actual objects contained within the two optionals, which is why that works. Doesn't make it a good idea though, that's more of a 'its the least worst option amongst all available interpretations of what equality might mean between optionals'.</p>\n<p>[1] A lot of methods in java core and major libraries just do not work that way. For example, if you consider <code>Optional&lt;T&gt;</code> to be the de-facto correct thing to return for a method that can return the concept 'not relevant' or 'not found', then obviously <code>java.util.Map</code>'s <code>.get(key)</code> method should be returning an <code>Optional&lt;V&gt;</code>. It doesn't, and never will as it wouldn't be a backwards compatible change. Given that there's a ton of code out there that thus cannot just shift paradigm and probably never will, there's a lot of resistance to the idea, and living in a world where any given method that can conceptually return 'not found', 'not available', etc - would then force you to first check the docs to see if returns <code>T</code> and <code>null</code> indicates not found, or if it returns <code>Optional&lt;T&gt;</code>. Forcing that kind of dichotomy on the ecosystem is, naturally, controversial. I haven't yet heard of a workable proposal to get to a place where Optional has replaced null for <em>all</em> method return values in <em>all</em> major libraries (and the core library). Until one exists, it'll remain controversial, and I'd strongly suggest you don't go there, and avoid using <code>Optional&lt;T&gt;</code> as return value for methods unless they are stream related. However, some libraries and a minority (but significant minority) of programming teams <em>are</em> doing this. In contrast to using Optional in e.g. <code>List&lt;Optional&lt;T&gt;&gt;</code> or as method parameter type: Only a very small amount of dev teams are doing this and no style guide suggests it.</p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634139944,"creation_date":1634139253,"answer_id":69558334,"question_id":69557890,"body_markdown":"You can get all the values of the HashMap , use stream filter operation to see if your searched pojo exists or not , use count to see the number of equals searched pojo and if zero then not exists else more than one pojo exists in your HashMap, try to override properly equals Method in the PojoClass.\r\n\r\n    @Data\r\n    @EqualsAndHashCode\r\n    class PojoClass {\r\n\tprivate String name;\r\n\t// getter + setter + equals +hashcode : generated by Lombok\r\n    }\r\n\r\n    public class Bounder {\r\n\r\n\tstatic boolean pojoCounter(Map&lt;String, Optional&lt;PojoClass&gt;&gt; pojoMappedByName, PojoClass pojo) {\r\n\t\tlong x = pojoMappedByName.values().stream().\r\n\t\t\t\tfilter(e -&gt; e.get().equals(pojo)).count();\r\n\t\tif (x == 0) {\r\n\t\t\treturn false;\r\n\t\t} else\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tPojoClass NotAPojo = new PojoClass();\r\n\t\tNotAPojo.setName(&quot;NotAPojo&quot;);\r\n\r\n\t\tPojoClass pojotest = new PojoClass();\r\n\t\tpojotest.setName(&quot;Tommy&quot;);\r\n\t\tPojoClass pojotest1 = new PojoClass();\r\n\t\tpojotest1.setName(&quot;Hammy&quot;);\r\n\t\tPojoClass pojotest2 = new PojoClass();\r\n\t\tpojotest2.setName(&quot;Mammy&quot;);\r\n\t\tPojoClass pojotest3 = new PojoClass();\r\n\t\tpojotest3.setName(&quot;Kammy&quot;);\r\n\r\n\t\tMap&lt;String, Optional&lt;PojoClass&gt;&gt; pojoMappedByName = new HashMap&lt;String, Optional&lt;PojoClass&gt;&gt;();\r\n\r\n\t\tpojoMappedByName.put(&quot;0&quot;, Optional.of(pojotest));\r\n\t\tpojoMappedByName.put(&quot;1&quot;, Optional.of(pojotest1));\r\n\t\tpojoMappedByName.put(&quot;2&quot;, Optional.of(pojotest2));\r\n\t\tpojoMappedByName.put(&quot;3&quot;, Optional.of(pojotest3));\r\n\r\n\t\tSystem.out.println(&quot;pojoMappedByName , pojotest :  exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest));\r\n\t\tSystem.out.println(&quot;pojoMappedByName , pojotest1   exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest1));\r\n\t\tSystem.out.println(&quot;pojoMappedByName , pojotest2   exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest2));\r\n\t\tSystem.out.println(&quot;pojoMappedByName , pojotest3   exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest3));\r\n\t\tSystem.out.println(&quot;pojoMappedByName , NotAPojo    exists ?  &quot; + pojoCounter(pojoMappedByName, NotAPojo));\r\n\r\n\t}\r\n    }\r\n\r\n**Output :**\r\n\r\n&gt; pojoMappedByName , pojotest :  exists ?  true\r\n&gt; \r\n&gt; pojoMappedByName , pojotest1   exists ?  true\r\n&gt; \r\n&gt; pojoMappedByName , pojotest2   exists ?  true\r\n&gt; \r\n&gt; pojoMappedByName , pojotest3   exists ?  true\r\n&gt; \r\n&gt; pojoMappedByName , NotAPojo    exists ?  false\r\n\r\n\r\n","title":"How to check if a object is in Optional&lt;Object&gt; map - Java","body":"<p>You can get all the values of the HashMap , use stream filter operation to see if your searched pojo exists or not , use count to see the number of equals searched pojo and if zero then not exists else more than one pojo exists in your HashMap, try to override properly equals Method in the PojoClass.</p>\n<pre><code>@Data\n@EqualsAndHashCode\nclass PojoClass {\nprivate String name;\n// getter + setter + equals +hashcode : generated by Lombok\n}\n\npublic class Bounder {\n\nstatic boolean pojoCounter(Map&lt;String, Optional&lt;PojoClass&gt;&gt; pojoMappedByName, PojoClass pojo) {\n    long x = pojoMappedByName.values().stream().\n            filter(e -&gt; e.get().equals(pojo)).count();\n    if (x == 0) {\n        return false;\n    } else\n        return true;\n}\n\npublic static void main(String[] args) throws IOException {\n    PojoClass NotAPojo = new PojoClass();\n    NotAPojo.setName(&quot;NotAPojo&quot;);\n\n    PojoClass pojotest = new PojoClass();\n    pojotest.setName(&quot;Tommy&quot;);\n    PojoClass pojotest1 = new PojoClass();\n    pojotest1.setName(&quot;Hammy&quot;);\n    PojoClass pojotest2 = new PojoClass();\n    pojotest2.setName(&quot;Mammy&quot;);\n    PojoClass pojotest3 = new PojoClass();\n    pojotest3.setName(&quot;Kammy&quot;);\n\n    Map&lt;String, Optional&lt;PojoClass&gt;&gt; pojoMappedByName = new HashMap&lt;String, Optional&lt;PojoClass&gt;&gt;();\n\n    pojoMappedByName.put(&quot;0&quot;, Optional.of(pojotest));\n    pojoMappedByName.put(&quot;1&quot;, Optional.of(pojotest1));\n    pojoMappedByName.put(&quot;2&quot;, Optional.of(pojotest2));\n    pojoMappedByName.put(&quot;3&quot;, Optional.of(pojotest3));\n\n    System.out.println(&quot;pojoMappedByName , pojotest :  exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest));\n    System.out.println(&quot;pojoMappedByName , pojotest1   exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest1));\n    System.out.println(&quot;pojoMappedByName , pojotest2   exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest2));\n    System.out.println(&quot;pojoMappedByName , pojotest3   exists ?  &quot; + pojoCounter(pojoMappedByName, pojotest3));\n    System.out.println(&quot;pojoMappedByName , NotAPojo    exists ?  &quot; + pojoCounter(pojoMappedByName, NotAPojo));\n\n}\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<blockquote>\n<p>pojoMappedByName , pojotest :  exists ?  true</p>\n<p>pojoMappedByName , pojotest1   exists ?  true</p>\n<p>pojoMappedByName , pojotest2   exists ?  true</p>\n<p>pojoMappedByName , pojotest3   exists ?  true</p>\n<p>pojoMappedByName , NotAPojo    exists ?  false</p>\n</blockquote>\n"}],"owner":{"account_id":7723325,"reputation":261,"user_id":5848822,"accept_rate":69,"display_name":"CookieMonster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1609,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69558251,"answer_count":4,"score":3,"last_activity_date":1634142522,"creation_date":1634137439,"question_id":69557890,"body_markdown":"`pojoMappedByName` contains `pojotest` and many other elements. How do I check if `pojoTest` is in `pojoMappedByName` ? \r\n\r\n\r\nI treid using `if(pojoMappedByName.containsValue(pojotest))` but it is returning false. Is it because the type is `Optional&lt;PojoClass&gt;` and not of Type `PojoClass`\r\n\r\n    PojoClass pojotest = new PojoClass();\r\n    PojoClass.setName(&quot;Tommy&quot;);\r\n    \r\n    Map&lt;String, Optional&lt;PojoClass&gt;&gt; pojoMappedByName;\r\n\r\nI want to avoid using for loops if possible\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to check if a object is in Optional&lt;Object&gt; map - Java","body":"<p><code>pojoMappedByName</code> contains <code>pojotest</code> and many other elements. How do I check if <code>pojoTest</code> is in <code>pojoMappedByName</code> ?</p>\n<p>I treid using <code>if(pojoMappedByName.containsValue(pojotest))</code> but it is returning false. Is it because the type is <code>Optional&lt;PojoClass&gt;</code> and not of Type <code>PojoClass</code></p>\n<pre><code>PojoClass pojotest = new PojoClass();\nPojoClass.setName(&quot;Tommy&quot;);\n\nMap&lt;String, Optional&lt;PojoClass&gt;&gt; pojoMappedByName;\n</code></pre>\n<p>I want to avoid using for loops if possible</p>\n"},{"tags":["java","loops","do-loops"],"comments":[{"owner":{"account_id":19507919,"reputation":366,"user_id":14272487,"display_name":"edhi.uchiha"},"score":0,"creation_date":1634091640,"post_id":69548968,"comment_id":122930837,"body_markdown":"This `next.Int()` function is return integer value from your input.","body":"This <code>next.Int()</code> function is return integer value from your input."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1634091932,"post_id":69548968,"comment_id":122930877,"body_markdown":"And it will leave a dangling new line in the stream and if not consumed, will cause a exception if your try and use `nextInt` again","body":"And it will leave a dangling new line in the stream and if not consumed, will cause a exception if your try and use <code>nextInt</code> again"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1634146742,"post_id":69548968,"comment_id":122950076,"body_markdown":"It waits for the user to type input and press enter, then it returns the next int from whatever they typed in.  If they typed multiple ints separated by spaces, then those numbers would be extracted in turn by the loop without requiring enter. It would only wait for enter to be pressed if there was no int waiting in the input stream.","body":"It waits for the user to type input and press enter, then it returns the next int from whatever they typed in.  If they typed multiple ints separated by spaces, then those numbers would be extracted in turn by the loop without requiring enter. It would only wait for enter to be pressed if there was no int waiting in the input stream."}],"answers":[{"tags":[],"owner":{"account_id":6443707,"reputation":806,"user_id":4992846,"display_name":"Shane Sepac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634093252,"creation_date":1634093252,"answer_id":69549146,"question_id":69548968,"body_markdown":"`numberScanner` is going to read each integer from `System.in` because it knows each number is separated by whitespace. `numberScanner.nextInt()` is saying &quot;read me the integer that comes next.&quot; For example, if the input is &quot;5 10 15 20&quot;, the first time `numberScanner.nextInt()` is called, `x` will be equal to 5. Call it one more time, and `x` will be equal to 10. When you run out of numbers, calling `nextInt()` will fail because there are no more numbers available (you can check if there are any more numbers by checking if `numberScanner.hasNext()` is equal to true or false).","title":"What does nextInt do with the Scanner class in this code?","body":"<p><code>numberScanner</code> is going to read each integer from <code>System.in</code> because it knows each number is separated by whitespace. <code>numberScanner.nextInt()</code> is saying &quot;read me the integer that comes next.&quot; For example, if the input is &quot;5 10 15 20&quot;, the first time <code>numberScanner.nextInt()</code> is called, <code>x</code> will be equal to 5. Call it one more time, and <code>x</code> will be equal to 10. When you run out of numbers, calling <code>nextInt()</code> will fail because there are no more numbers available (you can check if there are any more numbers by checking if <code>numberScanner.hasNext()</code> is equal to true or false).</p>\n"}],"owner":{"account_id":22942242,"reputation":1,"user_id":17074813,"display_name":"GeekOnABudget"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634141972,"creation_date":1634091527,"question_id":69548968,"body_markdown":"I had a question for class that I had to answer. \r\n\r\n&gt; Write a do loop that reads integers and computes their sum. Stop when reading a zero or the same  value twice in a row. For example, if the input is 1 2 3 4 4, then the sum is 14 and the loop stops. As another example, if the input is 4 5 1 0, then the sum is 10 and the loop stops. &gt;\r\n\r\nand the correct code was this.\r\n```\r\n\tpublic static void integerCompute() {\r\n\t\tScanner numberScanner = new Scanner(System.in);\r\n\t\tint x = 0; // Variable to keep track of user input\r\n\t\tint sum = 0; // Variable to keep track of sum\r\n\t\tint before; // Variable to check previously entered number\r\n\t\t\r\n\t\tdo {\r\n\t\t\tbefore = x;\r\n\t\t\tSystem.out.println(&quot;Enter a number: &quot;);\r\n\t\t\tx = numberScanner.nextInt(); // What does this do?\r\n\t\t\tsum += x;\r\n\t\t} while (x != 0 &amp;&amp; before != x);\r\n\r\n\t\tSystem.out.println(&quot;Sum is: &quot; + sum);\r\n\t}\r\n```\r\nIn this loop, what does the `x = numberScanner.nextInt()` instruction do?","title":"What does nextInt do with the Scanner class in this code?","body":"<p>I had a question for class that I had to answer.</p>\n<blockquote>\n<p>Write a do loop that reads integers and computes their sum. Stop when reading a zero or the same  value twice in a row. For example, if the input is 1 2 3 4 4, then the sum is 14 and the loop stops. As another example, if the input is 4 5 1 0, then the sum is 10 and the loop stops. &gt;</p>\n</blockquote>\n<p>and the correct code was this.</p>\n<pre><code>    public static void integerCompute() {\n        Scanner numberScanner = new Scanner(System.in);\n        int x = 0; // Variable to keep track of user input\n        int sum = 0; // Variable to keep track of sum\n        int before; // Variable to check previously entered number\n        \n        do {\n            before = x;\n            System.out.println(&quot;Enter a number: &quot;);\n            x = numberScanner.nextInt(); // What does this do?\n            sum += x;\n        } while (x != 0 &amp;&amp; before != x);\n\n        System.out.println(&quot;Sum is: &quot; + sum);\n    }\n</code></pre>\n<p>In this loop, what does the <code>x = numberScanner.nextInt()</code> instruction do?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1634050420,"post_id":69542530,"comment_id":122919331,"body_markdown":"I think your base design would be greatly simplified through the use of sealed classes/interfaces. I recommend reading up on them. I would make Conservation a sealed class with subclasses OutgoingConservation, IncomingConversation, and TimeConservation, and eliminate the Type variable. I&#39;d also eliminate the Sender class and put its properties directly in Conversation, and make the date non-nullable.","body":"I think your base design would be greatly simplified through the use of sealed classes/interfaces. I recommend reading up on them. I would make Conservation a sealed class with subclasses OutgoingConservation, IncomingConversation, and TimeConservation, and eliminate the Type variable. I&#39;d also eliminate the Sender class and put its properties directly in Conversation, and make the date non-nullable."},{"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"score":0,"creation_date":1634050577,"post_id":69542530,"comment_id":122919400,"body_markdown":"Hey @Tenfour04 I am using recyclerview on based that I am changing view type holder. So in this case sealed class/interface not work i guess.. Thanks for always helping me.","body":"Hey @Tenfour04 I am using recyclerview on based that I am changing view type holder. So in this case sealed class/interface not work i guess.. Thanks for always helping me."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1634050711,"post_id":69542530,"comment_id":122919466,"body_markdown":"It can work in RecyclerView. With a sealed class you use `is` checks instead of checking the enum type.","body":"It can work in RecyclerView. With a sealed class you use <code>is</code> checks instead of checking the enum type."},{"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"score":0,"creation_date":1634050875,"post_id":69542530,"comment_id":122919549,"body_markdown":"can you please give me example. How to work that and how can i add value in TIME in list? @Tenfour04","body":"can you please give me example. How to work that and how can i add value in TIME in list? @Tenfour04"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1634051068,"post_id":69542530,"comment_id":122919620,"body_markdown":"What is your question? What happens when you run your app? What do you want it to do instead?","body":"What is your question? What happens when you run your app? What do you want it to do instead?"},{"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"score":0,"creation_date":1634051262,"post_id":69542530,"comment_id":122919719,"body_markdown":"@Code-Apprentice Sorry for wrong explanations. can you see the example please.","body":"@Code-Apprentice Sorry for wrong explanations. can you see the example please."},{"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"score":0,"creation_date":1634119588,"post_id":69542530,"comment_id":122938566,"body_markdown":"Also, Care more about inheritance","body":"Also, Care more about inheritance"}],"answers":[{"tags":[],"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634110347,"creation_date":1634050928,"answer_id":69542829,"question_id":69542530,"body_markdown":"As I understand what you want, You need something like this:\r\n\r\n\tvar previousDate: String? = null\r\n\tvar i = -1\r\n\twhile (i &lt; list.size) {\r\n\t\ti++\r\n\t\tval currentDate = list[i].date\r\n\t\tpreviousDate?.let {\r\n\t\t\tif (currentDate != previousDate) {\r\n\t\t\t\tlist.add(i + 1, Conversation(ConversationType.TIME.value, Sender(null, it)))\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreviousDate = currentDate\r\n\t}","title":"Add value after date is end in list kotlin","body":"<p>As I understand what you want, You need something like this:</p>\n<pre><code>var previousDate: String? = null\nvar i = -1\nwhile (i &lt; list.size) {\n    i++\n    val currentDate = list[i].date\n    previousDate?.let {\n        if (currentDate != previousDate) {\n            list.add(i + 1, Conversation(ConversationType.TIME.value, Sender(null, it)))\n        }\n    }\n    previousDate = currentDate\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634052790,"creation_date":1634051146,"answer_id":69542878,"question_id":69542530,"body_markdown":"Since you want to add items to the list while you&#39;re iterating it, you need to iterate the indices so you can insert items as you go. Since the list is growing as you go, you need to use a while loop instead of a for loop with the original indices.\r\n\r\n    var previousDate: String? = null\r\n    var i = 0\r\n    while (i &lt; list.size) {\r\n        val newDate = list[i].date\r\n        if (newDate != previousDate &amp;&amp; previousDate != null) {\r\n            list.add(i++, Conversation(ConversationType.TIME.value, Sender(null, previousDate)))\r\n        }\r\n        previousDate = newDate\r\n        i++\r\n    }\r\n----\r\nTo explain my suggestion about simplifying using sealed interfaces, here is how I would redesign. I would replace your above classes with:\r\n```\r\nsealed interface Conversation {\r\n    val date: String\r\n}\r\n\r\nsealed interface ConversationMessage: Conversation {\r\n    val senderId: Int\r\n}\r\n\r\ndata class IncomingConversation(\r\n    override val date: String,\r\n    override val senderId: Int\r\n): ConversationMessage\r\n\r\ndata class OutgoingConversation(\r\n    override val date: String,\r\n    override val senderId: Int\r\n): ConversationMessage\r\n\r\ndata class TimeStampConversation(override val date: String): Conversation\r\n```\r\n\r\nThen you don&#39;t have to worry about anything being null, you don&#39;t have to unpack enum values, and all the constructors are much easier to use. You can use `when` statements with `is` checks to determine which view holder to work with in your RecyclerView.\r\n","title":"Add value after date is end in list kotlin","body":"<p>Since you want to add items to the list while you're iterating it, you need to iterate the indices so you can insert items as you go. Since the list is growing as you go, you need to use a while loop instead of a for loop with the original indices.</p>\n<pre><code>var previousDate: String? = null\nvar i = 0\nwhile (i &lt; list.size) {\n    val newDate = list[i].date\n    if (newDate != previousDate &amp;&amp; previousDate != null) {\n        list.add(i++, Conversation(ConversationType.TIME.value, Sender(null, previousDate)))\n    }\n    previousDate = newDate\n    i++\n}\n</code></pre>\n<hr />\n<p>To explain my suggestion about simplifying using sealed interfaces, here is how I would redesign. I would replace your above classes with:</p>\n<pre><code>sealed interface Conversation {\n    val date: String\n}\n\nsealed interface ConversationMessage: Conversation {\n    val senderId: Int\n}\n\ndata class IncomingConversation(\n    override val date: String,\n    override val senderId: Int\n): ConversationMessage\n\ndata class OutgoingConversation(\n    override val date: String,\n    override val senderId: Int\n): ConversationMessage\n\ndata class TimeStampConversation(override val date: String): Conversation\n</code></pre>\n<p>Then you don't have to worry about anything being null, you don't have to unpack enum values, and all the constructors are much easier to use. You can use <code>when</code> statements with <code>is</code> checks to determine which view holder to work with in your RecyclerView.</p>\n"},{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634056695,"creation_date":1634055314,"answer_id":69543845,"question_id":69542530,"body_markdown":"Other people already provided solutions based on manual iteration over indexes. Alternative that could be easier to read is to use mutable iterators. The resulting code is almost the same as your original attempt:\r\n\r\n```kotlin\r\nval iter = list.listIterator()\r\nvar previousDate = iter.next().sender?.date\r\niter.forEach { conversation -&gt;\r\n    val date = conversation.sender?.date\r\n    if (date != previousDate) {\r\n        iter.add(Conversation(...))\r\n        previousDate = date\r\n    }\r\n}\r\n```\r\n\r\nWith mutable iterators we can just add an item at the point where it is needed during iterating. We don&#39;t need to manage indexes manually.\r\n\r\nThis solution will throw an exception if the list is empty, so we should probably add a check for that case. You should also consider the case where `sender` or `date` is `null`. All solutions provided so far will behave odd in this case and you didn&#39;t specify what is your expected behavior.","title":"Add value after date is end in list kotlin","body":"<p>Other people already provided solutions based on manual iteration over indexes. Alternative that could be easier to read is to use mutable iterators. The resulting code is almost the same as your original attempt:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val iter = list.listIterator()\nvar previousDate = iter.next().sender?.date\niter.forEach { conversation -&gt;\n    val date = conversation.sender?.date\n    if (date != previousDate) {\n        iter.add(Conversation(...))\n        previousDate = date\n    }\n}\n</code></pre>\n<p>With mutable iterators we can just add an item at the point where it is needed during iterating. We don't need to manage indexes manually.</p>\n<p>This solution will throw an exception if the list is empty, so we should probably add a check for that case. You should also consider the case where <code>sender</code> or <code>date</code> is <code>null</code>. All solutions provided so far will behave odd in this case and you didn't specify what is your expected behavior.</p>\n"}],"owner":{"account_id":11271266,"reputation":4747,"user_id":8266651,"display_name":"Kotlin Learner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69542878,"answer_count":3,"score":2,"last_activity_date":1634141903,"creation_date":1634049693,"question_id":69542530,"body_markdown":"hey I am working to create a list of type **INCOMING**, **OUTGOING** and **TIME** through **enum** class. My data class is populated through api call and filled according to that in the list. I want to modify to add TIME enum value whenever date ends the current one. \r\n\r\n    fun main() {\r\n        val list = mutableListOf(\r\n            Conversation(ConversationType.INCOMING.value, Sender(1, &quot;2021/10/12&quot;)),\r\n            Conversation(ConversationType.INCOMING.value, Sender(2, &quot;2021/10/12&quot;)),\r\n            Conversation(ConversationType.OUTGOING.value, Sender(3, &quot;2021/10/11&quot;)),\r\n            Conversation(ConversationType.OUTGOING.value, Sender(4, &quot;2021/10/11&quot;)),\r\n            Conversation(ConversationType.OUTGOING.value, Sender(5, &quot;2021/10/11&quot;)),\r\n            Conversation(ConversationType.OUTGOING.value, Sender(6, &quot;2021/10/09&quot;)),\r\n            Conversation(ConversationType.INCOMING.value, Sender(7, &quot;2021/10/09&quot;)),\r\n            Conversation(ConversationType.INCOMING.value, Sender(8, &quot;2021/10/09&quot;)),\r\n            Conversation(ConversationType.INCOMING.value, Sender(9, &quot;2021/10/09&quot;)),\r\n            Conversation(ConversationType.OUTGOING.value, Sender(10, &quot;2021/10/08&quot;)),\r\n            Conversation(ConversationType.OUTGOING.value, Sender(11, &quot;2021/10/07&quot;))\r\n        )\r\n    }\r\n\r\n\r\nEnum Class\r\n\r\n    enum class ConversationType(val value: Int) {\r\n        INCOMING(1),\r\n        TIME(0),\r\n        OUTGOING(2);\r\n    }\r\n    \r\n    data class Conversation(\r\n        val type: Int? = null,\r\n        val sender: Sender\r\n    )\r\n    \r\n    data class Sender(\r\n        val id: Int? = null,\r\n        val date: String? = null\r\n    )\r\n\r\nI need output like this \r\n\r\n    Conversation(type=1, sender=Sender(id=1, date=2021/10/12))\r\n    Conversation(type=1, sender=Sender(id=2, date=2021/10/12))\r\n    Conversation(type=0, sender=Sender(id=null, date=2021/10/12))\r\n    Conversation(type=2, sender=Sender(id=3, date=2021/10/11))\r\n    Conversation(type=2, sender=Sender(id=4, date=2021/10/11))\r\n    Conversation(type=2, sender=Sender(id=5, date=2021/10/11))\r\n    Conversation(type=0, sender=Sender(id=null, date=2021/10/11))\r\n    Conversation(type=2, sender=Sender(id=6, date=2021/10/09))\r\n    Conversation(type=1, sender=Sender(id=7, date=2021/10/09))\r\n    Conversation(type=1, sender=Sender(id=8, date=2021/10/09))\r\n    Conversation(type=1, sender=Sender(id=9, date=2021/10/09))\r\n    Conversation(type=0, sender=Sender(id=null, date=2021/10/09))\r\n    Conversation(type=2, sender=Sender(id=10, date=2021/10/08))\r\n    Conversation(type=0, sender=Sender(id=null, date=2021/10/08))\r\n    Conversation(type=2, sender=Sender(id=11, date=2021/10/07))\r\n    Conversation(type=0, sender=Sender(id=null, date=2021/10/07))","title":"Add value after date is end in list kotlin","body":"<p>hey I am working to create a list of type <strong>INCOMING</strong>, <strong>OUTGOING</strong> and <strong>TIME</strong> through <strong>enum</strong> class. My data class is populated through api call and filled according to that in the list. I want to modify to add TIME enum value whenever date ends the current one.</p>\n<pre><code>fun main() {\n    val list = mutableListOf(\n        Conversation(ConversationType.INCOMING.value, Sender(1, &quot;2021/10/12&quot;)),\n        Conversation(ConversationType.INCOMING.value, Sender(2, &quot;2021/10/12&quot;)),\n        Conversation(ConversationType.OUTGOING.value, Sender(3, &quot;2021/10/11&quot;)),\n        Conversation(ConversationType.OUTGOING.value, Sender(4, &quot;2021/10/11&quot;)),\n        Conversation(ConversationType.OUTGOING.value, Sender(5, &quot;2021/10/11&quot;)),\n        Conversation(ConversationType.OUTGOING.value, Sender(6, &quot;2021/10/09&quot;)),\n        Conversation(ConversationType.INCOMING.value, Sender(7, &quot;2021/10/09&quot;)),\n        Conversation(ConversationType.INCOMING.value, Sender(8, &quot;2021/10/09&quot;)),\n        Conversation(ConversationType.INCOMING.value, Sender(9, &quot;2021/10/09&quot;)),\n        Conversation(ConversationType.OUTGOING.value, Sender(10, &quot;2021/10/08&quot;)),\n        Conversation(ConversationType.OUTGOING.value, Sender(11, &quot;2021/10/07&quot;))\n    )\n}\n</code></pre>\n<p>Enum Class</p>\n<pre><code>enum class ConversationType(val value: Int) {\n    INCOMING(1),\n    TIME(0),\n    OUTGOING(2);\n}\n\ndata class Conversation(\n    val type: Int? = null,\n    val sender: Sender\n)\n\ndata class Sender(\n    val id: Int? = null,\n    val date: String? = null\n)\n</code></pre>\n<p>I need output like this</p>\n<pre><code>Conversation(type=1, sender=Sender(id=1, date=2021/10/12))\nConversation(type=1, sender=Sender(id=2, date=2021/10/12))\nConversation(type=0, sender=Sender(id=null, date=2021/10/12))\nConversation(type=2, sender=Sender(id=3, date=2021/10/11))\nConversation(type=2, sender=Sender(id=4, date=2021/10/11))\nConversation(type=2, sender=Sender(id=5, date=2021/10/11))\nConversation(type=0, sender=Sender(id=null, date=2021/10/11))\nConversation(type=2, sender=Sender(id=6, date=2021/10/09))\nConversation(type=1, sender=Sender(id=7, date=2021/10/09))\nConversation(type=1, sender=Sender(id=8, date=2021/10/09))\nConversation(type=1, sender=Sender(id=9, date=2021/10/09))\nConversation(type=0, sender=Sender(id=null, date=2021/10/09))\nConversation(type=2, sender=Sender(id=10, date=2021/10/08))\nConversation(type=0, sender=Sender(id=null, date=2021/10/08))\nConversation(type=2, sender=Sender(id=11, date=2021/10/07))\nConversation(type=0, sender=Sender(id=null, date=2021/10/07))\n</code></pre>\n"},{"tags":["java","api"],"answers":[{"tags":[],"owner":{"account_id":1060282,"reputation":1236,"user_id":3452058,"display_name":"Janos Vinceller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634135243,"creation_date":1634135243,"answer_id":69557315,"question_id":69556941,"body_markdown":"you may lookup this question: https://stackoverflow.com/questions/42652810/how-to-fetch-data-from-an-url-in-android\r\n\r\nIf you successfully fetched the JSON content of your remote service, you&#39;ll probably want to traverse through the nodes of that JSON object to find the data you&#39;re interested in and put them into an Array or List you build up using that received data by yourself.","title":"How to use api in android java?","body":"<p>you may lookup this question: <a href=\"https://stackoverflow.com/questions/42652810/how-to-fetch-data-from-an-url-in-android\">How to fetch data from an URL in Android?</a></p>\n<p>If you successfully fetched the JSON content of your remote service, you'll probably want to traverse through the nodes of that JSON object to find the data you're interested in and put them into an Array or List you build up using that received data by yourself.</p>\n"}],"owner":{"account_id":23022506,"reputation":5,"user_id":17143329,"display_name":"Mohammad Mustafa Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634141875,"creation_date":1634133666,"question_id":69556941,"body_markdown":"I am new to Java on Android. I&#39;d like to fetch all titles and images from this URL. I am unable to fetch all those as they are not present in single array. \r\n\r\nhttps://commons.wikimedia.org/w/api.php?action=query&amp;prop=imageinfo&amp;iiprop=timestamp%7Cuser%7Curl&amp;generator=categorymembers&amp;gcmtype=file&amp;gcmtitle=Category:Featured_pictures_on_Wikimedia_Commons&amp;format=json&amp;utf8\r\n\r\nContent goes like:\r\n\r\n\t{\r\n\t   &quot;batchcomplete&quot;:&quot;&quot;,\r\n\t   &quot;continue&quot;:{\r\n\t\t  &quot;gcmcontinue&quot;:&quot;file|3030312043484154454155204445204348494c4c4f4e20414e442044454e5453204455204d4944492050484f544f2042592047494c4553204c415552454e542e4a50470a3030312043484154454155204445204348494c4c4f4e20414e442044454e5453204455204d4944492050484f544f2042592047494c4553204c415552454e542e4a5047|96559561&quot;,\r\n\t\t  &quot;continue&quot;:&quot;gcmcontinue||&quot;\r\n\t   },\r\n\t   &quot;query&quot;:{\r\n\t\t  &quot;pages&quot;:{\r\n\t\t\t &quot;49179423&quot;:{\r\n\t\t\t\t&quot;pageid&quot;:49179423,\r\n\t\t\t\t&quot;ns&quot;:6,\r\n\t\t\t\t&quot;title&quot;:&quot;File:\\&quot;Broke, baby sick, and car trouble!\\&quot; - Dorothea Lange&#39;s photo of a Missouri family of five in the vicinity of Tracy, California.jpg&quot;,\r\n\t\t\t\t&quot;imagerepository&quot;:&quot;local&quot;,\r\n\t\t\t\t&quot;imageinfo&quot;:[\r\n\t\t\t\t   {\r\n\t\t\t\t\t  &quot;timestamp&quot;:&quot;2016-06-01T22:33:46Z&quot;,\r\n\t\t\t\t\t  &quot;user&quot;:&quot;Adam Cuerden&quot;,\r\n\t\t\t\t\t  &quot;url&quot;:&quot;https://upload.wikimedia.org/wikipedia/commons/9/91/%22Broke%2C_baby_sick%2C_and_car_trouble%21%22_-_Dorothea_Lange%27s_photo_of_a_Missouri_family_of_five_in_the_vicinity_of_Tracy%2C_California.jpg&quot;,\r\n\t\t\t\t\t  &quot;descriptionurl&quot;:&quot;https://commons.wikimedia.org/wiki/File:%22Broke,_baby_sick,_and_car_trouble!%22_-_Dorothea_Lange%27s_photo_of_a_Missouri_family_of_five_in_the_vicinity_of_Tracy,_California.jpg&quot;,\r\n\t\t\t\t\t  &quot;descriptionshorturl&quot;:&quot;https://commons.wikimedia.org/w/index.php?curid=49179423&quot;\r\n\t\t\t\t   }\r\n\t\t\t\t]\r\n\t\t\t },\r\n\r\n\t\t\t ...\r\n\r\n\t\t  }\r\n\t   }\r\n\t}","title":"How to use api in android java?","body":"<p>I am new to Java on Android. I'd like to fetch all titles and images from this URL. I am unable to fetch all those as they are not present in single array.</p>\n<p><a href=\"https://commons.wikimedia.org/w/api.php?action=query&amp;prop=imageinfo&amp;iiprop=timestamp%7Cuser%7Curl&amp;generator=categorymembers&amp;gcmtype=file&amp;gcmtitle=Category:Featured_pictures_on_Wikimedia_Commons&amp;format=json&amp;utf8\" rel=\"nofollow noreferrer\">https://commons.wikimedia.org/w/api.php?action=query&amp;prop=imageinfo&amp;iiprop=timestamp%7Cuser%7Curl&amp;generator=categorymembers&amp;gcmtype=file&amp;gcmtitle=Category:Featured_pictures_on_Wikimedia_Commons&amp;format=json&amp;utf8</a></p>\n<p>Content goes like:</p>\n<pre><code>{\n   &quot;batchcomplete&quot;:&quot;&quot;,\n   &quot;continue&quot;:{\n      &quot;gcmcontinue&quot;:&quot;file|3030312043484154454155204445204348494c4c4f4e20414e442044454e5453204455204d4944492050484f544f2042592047494c4553204c415552454e542e4a50470a3030312043484154454155204445204348494c4c4f4e20414e442044454e5453204455204d4944492050484f544f2042592047494c4553204c415552454e542e4a5047|96559561&quot;,\n      &quot;continue&quot;:&quot;gcmcontinue||&quot;\n   },\n   &quot;query&quot;:{\n      &quot;pages&quot;:{\n         &quot;49179423&quot;:{\n            &quot;pageid&quot;:49179423,\n            &quot;ns&quot;:6,\n            &quot;title&quot;:&quot;File:\\&quot;Broke, baby sick, and car trouble!\\&quot; - Dorothea Lange's photo of a Missouri family of five in the vicinity of Tracy, California.jpg&quot;,\n            &quot;imagerepository&quot;:&quot;local&quot;,\n            &quot;imageinfo&quot;:[\n               {\n                  &quot;timestamp&quot;:&quot;2016-06-01T22:33:46Z&quot;,\n                  &quot;user&quot;:&quot;Adam Cuerden&quot;,\n                  &quot;url&quot;:&quot;https://upload.wikimedia.org/wikipedia/commons/9/91/%22Broke%2C_baby_sick%2C_and_car_trouble%21%22_-_Dorothea_Lange%27s_photo_of_a_Missouri_family_of_five_in_the_vicinity_of_Tracy%2C_California.jpg&quot;,\n                  &quot;descriptionurl&quot;:&quot;https://commons.wikimedia.org/wiki/File:%22Broke,_baby_sick,_and_car_trouble!%22_-_Dorothea_Lange%27s_photo_of_a_Missouri_family_of_five_in_the_vicinity_of_Tracy,_California.jpg&quot;,\n                  &quot;descriptionshorturl&quot;:&quot;https://commons.wikimedia.org/w/index.php?curid=49179423&quot;\n               }\n            ]\n         },\n\n         ...\n\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","file","filenotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633979972,"creation_date":1633979972,"answer_id":69531451,"question_id":69531389,"body_markdown":"In order to debug this, you can use a utility method called   \r\n\r\n    Path path = Paths.get(&quot;does-not-exist.txt&quot;);\r\n    boolean val = Files.exists(path);\r\n\r\nYou can use built-in methods of the [`java.nio.file`][1] package, instead of doing that BufferedReader thing you are doing.  \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-nio-2-file-api","title":"Java error: getting FileNotFoundException","body":"<p>In order to debug this, you can use a utility method called</p>\n<pre><code>Path path = Paths.get(&quot;does-not-exist.txt&quot;);\nboolean val = Files.exists(path);\n</code></pre>\n<p>You can use built-in methods of the <a href=\"https://www.baeldung.com/java-nio-2-file-api\" rel=\"nofollow noreferrer\"><code>java.nio.file</code></a> package, instead of doing that BufferedReader thing you are doing.</p>\n"}],"owner":{"account_id":23005978,"reputation":11,"user_id":17129267,"display_name":"RRF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634141676,"creation_date":1633979645,"question_id":69531389,"body_markdown":"I&#180;m trying to read from a file teste.txt but I only got FileNotFoundException.  \r\n(file teste.txt is located on c:\\Java\\teste.txt)\r\n\r\nHere is a snippet of the code:\r\n```\r\npublic class principal {\r\n    \r\n    public static void main(String args[]) {\r\n       \r\n        String test;\r\n        \r\n        BufferedReader in = FileIO.getReader(&quot;c:\\\\Java\\\\teste.txt&quot;);\r\n        test = FileIO.getLine(in);\r\n        System.out.println(test);\r\n    }  \r\n}\r\n\r\npublic class FileIO {\r\n    \r\n    public static BufferedReader getReader(String name) {\r\n        \r\n        BufferedReader in = null;\r\n        \r\n        try {\r\n            File file = new File (name);\r\n            String filePath = file.getAbsolutePath();\r\n            in = new BufferedReader(new FileReader(filePath));            \r\n        }\r\n        catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Arquivo n&#227;o encontrado&quot;);\r\n            System.exit(0);\r\n        }\r\n        return in;\r\n    }\r\n}\r\n```\r\nCould anybody help me...\r\nThanks","title":"Java error: getting FileNotFoundException","body":"<p>I´m trying to read from a file teste.txt but I only got FileNotFoundException.<br />\n(file teste.txt is located on c:\\Java\\teste.txt)</p>\n<p>Here is a snippet of the code:</p>\n<pre><code>public class principal {\n    \n    public static void main(String args[]) {\n       \n        String test;\n        \n        BufferedReader in = FileIO.getReader(&quot;c:\\\\Java\\\\teste.txt&quot;);\n        test = FileIO.getLine(in);\n        System.out.println(test);\n    }  \n}\n\npublic class FileIO {\n    \n    public static BufferedReader getReader(String name) {\n        \n        BufferedReader in = null;\n        \n        try {\n            File file = new File (name);\n            String filePath = file.getAbsolutePath();\n            in = new BufferedReader(new FileReader(filePath));            \n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;Arquivo não encontrado&quot;);\n            System.exit(0);\n        }\n        return in;\n    }\n}\n</code></pre>\n<p>Could anybody help me...\nThanks</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7230356,"reputation":1512,"user_id":5517465,"accept_rate":100,"display_name":"Yassir Khaldi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634141665,"creation_date":1634141665,"answer_id":69558881,"question_id":69557576,"body_markdown":"Best way to map between classes is using a mapping library like `MapStruct`.\r\n\r\nIn case you still wanna do it manually then you can using reflection and [FieldUtils][1] from the Apache Commons Lang 3:\r\n\r\n```java\r\n  public List&lt;Obj2&gt; mapObj1toObj2(List&lt;Obj1&gt; source) {\r\n    return source.stream().map(obj1 -&gt; {\r\n      Obj2 obj2 = new Obj2();\r\n      Arrays.asList(obj1.getClass().getDeclaredFields()).forEach(field -&gt; {\r\n        try {\r\n          FieldUtils.writeField(obj2, field.getName(), FieldUtils.readField(field, obj1, true), true);\r\n        } catch (IllegalAccessException e) {\r\n          e.printStackTrace();\r\n        }\r\n      });\r\n      return obj2;\r\n    }).collect(Collectors.toList());\r\n  }\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.9/index.html?org/apache/commons/lang3/reflect/FieldUtils.html","title":"map only selected fields to the other object","body":"<p>Best way to map between classes is using a mapping library like <code>MapStruct</code>.</p>\n<p>In case you still wanna do it manually then you can using reflection and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.9/index.html?org/apache/commons/lang3/reflect/FieldUtils.html\" rel=\"nofollow noreferrer\">FieldUtils</a> from the Apache Commons Lang 3:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public List&lt;Obj2&gt; mapObj1toObj2(List&lt;Obj1&gt; source) {\n    return source.stream().map(obj1 -&gt; {\n      Obj2 obj2 = new Obj2();\n      Arrays.asList(obj1.getClass().getDeclaredFields()).forEach(field -&gt; {\n        try {\n          FieldUtils.writeField(obj2, field.getName(), FieldUtils.readField(field, obj1, true), true);\n        } catch (IllegalAccessException e) {\n          e.printStackTrace();\n        }\n      });\n      return obj2;\n    }).collect(Collectors.toList());\n  }\n\n\n</code></pre>\n"}],"owner":{"account_id":8113701,"reputation":2104,"user_id":6112907,"display_name":"Jagadesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69558881,"answer_count":1,"score":-1,"last_activity_date":1634141665,"creation_date":1634136208,"question_id":69557576,"body_markdown":"I have two classes A and B, both classes have n number of fields. I need to map only specific fields from object of A to B using Streams API. I have only getters and setters in both classes and I don&#39;t have possibility of making changes in class A and B.\r\n\r\n    class A {\r\n    \tprivate String name;\r\n    \tprivate int age;\r\n    \tprivate String city;\r\n    }\r\n    \r\n    class B {\r\n    \tprivate String name;\r\n    \tprivate String country;\r\n    }\r\n\r\nI have a bunch of A object in an ArrayList. I need to create List of object B and the object should have only value for name field.\r\n\r\nI have similar buisness use case, where I will be I will be having n number of fields and I need to map multiple fileds.\r\n\r\nBelow code which I have tried,\r\n\r\n\tprivate List&lt;B&gt; mapAtoB(List&lt;A&gt; a) {\r\n\t\treturn a.stream().map(m -&gt; mapToB(m)).collect(Collectors.toList());\r\n\t}\r\n\t\r\n\tprivate B mapToB(A a) {\r\n\t\tB b = new B();\r\n\t\tb.setName(a.getName());\r\n\t\treturn b;\r\n\t}\r\n\t\r\nIs there any best solution to achieve, other than the above impl or create and map using constructor.","title":"map only selected fields to the other object","body":"<p>I have two classes A and B, both classes have n number of fields. I need to map only specific fields from object of A to B using Streams API. I have only getters and setters in both classes and I don't have possibility of making changes in class A and B.</p>\n<pre><code>class A {\n    private String name;\n    private int age;\n    private String city;\n}\n\nclass B {\n    private String name;\n    private String country;\n}\n</code></pre>\n<p>I have a bunch of A object in an ArrayList. I need to create List of object B and the object should have only value for name field.</p>\n<p>I have similar buisness use case, where I will be I will be having n number of fields and I need to map multiple fileds.</p>\n<p>Below code which I have tried,</p>\n<pre><code>private List&lt;B&gt; mapAtoB(List&lt;A&gt; a) {\n    return a.stream().map(m -&gt; mapToB(m)).collect(Collectors.toList());\n}\n\nprivate B mapToB(A a) {\n    B b = new B();\n    b.setName(a.getName());\n    return b;\n}\n</code></pre>\n<p>Is there any best solution to achieve, other than the above impl or create and map using constructor.</p>\n"},{"tags":["java","xsd","schema","sax","xml-validation"],"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":1,"creation_date":1423164772,"post_id":28349364,"comment_id":45048728,"body_markdown":"You&#39;re asking to ignore the assertion to ignore?  Effectively, you&#39;d have to provide a replacement content model.  Why not simply validate against a different XSD containing that replacement content model?","body":"You&#39;re asking to ignore the assertion to ignore?  Effectively, you&#39;d have to provide a replacement content model.  Why not simply validate against a different XSD containing that replacement content model?"},{"owner":{"account_id":365601,"reputation":2318,"user_id":710618,"accept_rate":66,"display_name":"Alexandre Thenorio"},"score":0,"creation_date":1423178685,"post_id":28349364,"comment_id":45055389,"body_markdown":"By replacement content model you mean a different xsd of my own which looks almost the same except does not have the lax flag? If thats the case, yes it would be possible although it would add yet another xsd to keep track of when and if the original ever gets changed introducing potential future mistakes. I fail to understand why is it so difficult for the parsing engine to provide control over such a simple feature on a message by message basis.","body":"By replacement content model you mean a different xsd of my own which looks almost the same except does not have the lax flag? If thats the case, yes it would be possible although it would add yet another xsd to keep track of when and if the original ever gets changed introducing potential future mistakes. I fail to understand why is it so difficult for the parsing engine to provide control over such a simple feature on a message by message basis."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":1,"creation_date":1423180436,"post_id":28349364,"comment_id":45055956,"body_markdown":"By replacement content model, I was generalizing to include not just changes to `xs:any/@processContents` but to any sort of more strictly specified content in place of`xs:any`.  It&#39;s not that it would be difficult to for a parser to provide such an override, it&#39;s that it&#39;s hard to image widespread demand for it.  If you really need to often apply two XSDs that differ in only minor ways, and if you can&#39;t use `xsd:override` to help, you might consider simple XSLT transformations from the authority XSD to the derivative variants.","body":"By replacement content model, I was generalizing to include not just changes to <code>xs:any&#47;@processContents</code> but to any sort of more strictly specified content in place of<code>xs:any</code>.  It&#39;s not that it would be difficult to for a parser to provide such an override, it&#39;s that it&#39;s hard to image widespread demand for it.  If you really need to often apply two XSDs that differ in only minor ways, and if you can&#39;t use <code>xsd:override</code> to help, you might consider simple XSLT transformations from the authority XSD to the derivative variants."},{"owner":{"account_id":365601,"reputation":2318,"user_id":710618,"accept_rate":66,"display_name":"Alexandre Thenorio"},"score":0,"creation_date":1423499925,"post_id":28349364,"comment_id":45162649,"body_markdown":"Yes I thought of xslt but once again it sounds like adding more complication (Plus performance hit for the xslt transform) for something so simple. I guess I&#39;ll dig further into this. Thanks","body":"Yes I thought of xslt but once again it sounds like adding more complication (Plus performance hit for the xslt transform) for something so simple. I guess I&#39;ll dig further into this. Thanks"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1634693656,"post_id":28349364,"comment_id":123091704,"body_markdown":"why not modify the schema &quot;on the fly&quot; before loading it into the validator?  that way you don&#39;t need to maintain a second schema which could get out of sync with the original.","body":"why not modify the schema &quot;on the fly&quot; before loading it into the validator?  that way you don&#39;t need to maintain a second schema which could get out of sync with the original."}],"owner":{"account_id":365601,"reputation":2318,"user_id":710618,"accept_rate":66,"display_name":"Alexandre Thenorio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634141496,"creation_date":1423154493,"question_id":28349364,"body_markdown":"I have an XSD Schema which has the following element\r\n\r\n`&lt;xs:any namespace=&quot;##any&quot; processContents=&quot;lax&quot; /&gt;`\r\n\r\nThe idea is to have different XML content inside that element which might match to different schemas.\r\n\r\nI&#39;d like to be able to validate the contents of the xml coming in place of that element against a list of xsds to make sure what I am receiving is valid and to top it off I cannot modify the actual xsd schema myself.\r\n\r\nBecause of the lax processContents flag the message will always come out as valid regardless of whether it matches against one of the xsds in the list or not.\r\n\r\nIs there any way that I can override/ignore this flag at validation time so that I can choose to perform strict validation in certain places if I want?\r\nI have looked at Sax Parser validation and JAXB transformation with validation but neither seem to allow me to control the validator in such a way that it ignores the lax flag without me actually having to perform changes in the xsd itself.","title":"Possible to bypass lax, strict, skip processContents settings when performing schema validation in java?","body":"<p>I have an XSD Schema which has the following element</p>\n\n<p><code>&lt;xs:any namespace=\"##any\" processContents=\"lax\" /&gt;</code></p>\n\n<p>The idea is to have different XML content inside that element which might match to different schemas.</p>\n\n<p>I'd like to be able to validate the contents of the xml coming in place of that element against a list of xsds to make sure what I am receiving is valid and to top it off I cannot modify the actual xsd schema myself.</p>\n\n<p>Because of the lax processContents flag the message will always come out as valid regardless of whether it matches against one of the xsds in the list or not.</p>\n\n<p>Is there any way that I can override/ignore this flag at validation time so that I can choose to perform strict validation in certain places if I want?\nI have looked at Sax Parser validation and JAXB transformation with validation but neither seem to allow me to control the validator in such a way that it ignores the lax flag without me actually having to perform changes in the xsd itself.</p>\n"},{"tags":["java","logging","slf4j","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1634141274,"creation_date":1388177050,"answer_id":20807571,"question_id":20795373,"body_markdown":"From the [SLF4JBridgeHandler][1] docs and testing (annotated with brackets):\r\n\r\n    [ALL    -&gt; TRACE]\r\n    FINEST  -&gt; TRACE\r\n    FINER   -&gt; DEBUG\r\n    FINE    -&gt; DEBUG\r\n    [CONFIG -&gt; INFO]\r\n    INFO    -&gt; INFO\r\n    WARNING -&gt; WARN\r\n    SEVERE  -&gt; ERROR\r\n    [OFF    -&gt; ERROR]\r\n\r\n  [1]: http://www.slf4j.org/apidocs/org/slf4j/bridge/SLF4JBridgeHandler.html\r\n","title":"How to map levels of java.util.logging and SLF4J logger?","body":"<p>From the <a href=\"http://www.slf4j.org/apidocs/org/slf4j/bridge/SLF4JBridgeHandler.html\" rel=\"noreferrer\">SLF4JBridgeHandler</a> docs and testing (annotated with brackets):</p>\n<pre><code>[ALL    -&gt; TRACE]\nFINEST  -&gt; TRACE\nFINER   -&gt; DEBUG\nFINE    -&gt; DEBUG\n[CONFIG -&gt; INFO]\nINFO    -&gt; INFO\nWARNING -&gt; WARN\nSEVERE  -&gt; ERROR\n[OFF    -&gt; ERROR]\n</code></pre>\n"}],"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20714,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":20807571,"answer_count":1,"score":41,"last_activity_date":1634141274,"creation_date":1388122526,"question_id":20795373,"body_markdown":"How do logging levels from java.util.logging map to SLF4J?\r\n\r\n**SLF4J**\r\n\r\n* trace\r\n* debug\r\n* info\r\n* warn\r\n* error\r\n* fatal \r\n\r\n**java.util.logging**\r\n\r\n* finest\r\n* finer\r\n* fine\r\n* config\r\n* info\r\n* warning\r\n* severe","title":"How to map levels of java.util.logging and SLF4J logger?","body":"<p>How do logging levels from java.util.logging map to SLF4J?</p>\n\n<p><strong>SLF4J</strong></p>\n\n<ul>\n<li>trace</li>\n<li>debug</li>\n<li>info</li>\n<li>warn</li>\n<li>error</li>\n<li>fatal </li>\n</ul>\n\n<p><strong>java.util.logging</strong></p>\n\n<ul>\n<li>finest</li>\n<li>finer</li>\n<li>fine</li>\n<li>config</li>\n<li>info</li>\n<li>warning</li>\n<li>severe</li>\n</ul>\n"},{"tags":["java","nullpointerexception","material-components-android","android-datepicker","datepickerdialog"],"comments":[{"owner":{"account_id":2294849,"reputation":331986,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1612181404,"post_id":65991875,"comment_id":116677685,"body_markdown":"which version are you using?","body":"which version are you using?"},{"owner":{"account_id":8408042,"reputation":920,"user_id":6310948,"display_name":"Erjon"},"score":0,"creation_date":1612181525,"post_id":65991875,"comment_id":116677730,"body_markdown":"@GabrieleMariotti `com.google.android.material:material:1.2.1`","body":"@GabrieleMariotti <code>com.google.android.material:material:1.2.1</code>"},{"owner":{"account_id":2294849,"reputation":331986,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":1,"creation_date":1612181643,"post_id":65991875,"comment_id":116677784,"body_markdown":"Try to file a bug in the official github repo","body":"Try to file a bug in the official github repo"},{"owner":{"account_id":8408042,"reputation":920,"user_id":6310948,"display_name":"Erjon"},"score":1,"creation_date":1612181851,"post_id":65991875,"comment_id":116677872,"body_markdown":"@GabrieleMariotti to tell the truth somehow I had even this in the Gradle file: `com.google.android.material:material:1.3.0-rc01`. I removed and now it&#39;s working correctly. Thank you for your answer.","body":"@GabrieleMariotti to tell the truth somehow I had even this in the Gradle file: <code>com.google.android.material:material:1.3.0-rc01</code>. I removed and now it&#39;s working correctly. Thank you for your answer."},{"owner":{"account_id":13458928,"reputation":382,"user_id":9711680,"display_name":"Cube"},"score":0,"creation_date":1614591642,"post_id":65991875,"comment_id":117422103,"body_markdown":"@Erjon, so Datapicker working correctly when an app uses only `com.google.android.material:material:1.3.0-rc01`?","body":"@Erjon, so Datapicker working correctly when an app uses only <code>com.google.android.material:material:1.3.0-rc01</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13726886,"reputation":1284,"user_id":9905408,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634141149,"creation_date":1634141149,"answer_id":69558757,"question_id":65991875,"body_markdown":"It&#39;s a late answer but it can be usefull for other people : the crash is fixed on the 1.5.0-alpha01 version of android material components : [https://github.com/material-components/material-components-android/releases/tag/1.5.0-alpha01][1] (check MaterialDatePicker section)\r\n\r\nSo you can upgrade material components to 1.5.0-alpha01+ or a workaround is to set the fullscreen theme\r\n\r\n    MaterialDatePicker.Builder.dateRangePicker()\r\n        .setTheme(R.style.ThemeOverlay_MaterialComponents_MaterialCalendar_Fullscreen)\r\n        .setCalendarConstraints(....)\r\n        .build()\r\n\r\n\r\n\r\n  [1]: https://github.com/material-components/material-components-android/releases/tag/1.5.0-alpha01","title":"MaterialDatePicker, app crashes after selecting the end date","body":"<p>It's a late answer but it can be usefull for other people : the crash is fixed on the 1.5.0-alpha01 version of android material components : <a href=\"https://github.com/material-components/material-components-android/releases/tag/1.5.0-alpha01\" rel=\"nofollow noreferrer\">https://github.com/material-components/material-components-android/releases/tag/1.5.0-alpha01</a> (check MaterialDatePicker section)</p>\n<p>So you can upgrade material components to 1.5.0-alpha01+ or a workaround is to set the fullscreen theme</p>\n<pre><code>MaterialDatePicker.Builder.dateRangePicker()\n    .setTheme(R.style.ThemeOverlay_MaterialComponents_MaterialCalendar_Fullscreen)\n    .setCalendarConstraints(....)\n    .build()\n</code></pre>\n"}],"owner":{"account_id":8408042,"reputation":920,"user_id":6310948,"display_name":"Erjon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1634141149,"creation_date":1612178738,"question_id":65991875,"body_markdown":"I have a `MaterialDatePicker` that selects a range of data, for example from `1 January 2021 to 31 January 2021`.\r\n\r\n\r\n    MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\r\n\r\n    CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\r\n    \r\n    builder.setCalendarConstraints(constraintsBuilder.build());\r\n\r\n    int dialogTheme = resolveOrThrow(requireContext());\r\n\r\n    builder.setTheme(dialogTheme);\r\n\r\n    MaterialDatePicker&lt;Pair&lt;Long, Long&gt;&gt; picker = builder.build();\r\n\r\n    picker.show(requireActivity().getSupportFragmentManager(), picker.toString());\r\n\r\n    picker.addOnPositiveButtonClickListener(selection -&gt; {\r\n\r\n       long startDate = selection.first;\r\n       long endDate = selection.second;\r\n\r\n       from = DateFormat.format(&quot;yyyy-MM-dd&quot;, new Date(startDate)).toString();\r\n       to = DateFormat.format(&quot;yyyy-MM-dd&quot;, new Date(endDate)).toString();\r\n\r\n    });\r\n\r\n\r\n    private static int resolveOrThrow(Context context) {\r\n\r\n        TypedValue typedValue = new TypedValue();\r\n\r\n        if (context.getTheme().resolveAttribute(R.attr.materialCalendarTheme, typedValue, true)) {\r\n            return typedValue.data;\r\n        }\r\n\r\n        throw new IllegalArgumentException(context.getResources().getResourceName(R.attr.materialCalendarTheme));\r\n    }\r\n\r\nWhen opening the MaterialDatePicker it shows the current date `01 February 2021`. When I try to scroll from February to January, **the last day of the month is not visible**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GGM2J.jpg\r\n\r\nTo select the last day of the month I should scroll down, but when I select the last day of this month the app crashes showing this error:\r\n\r\n&gt;java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.view.View.getLeft()&#39; on a null object reference\r\n        at com.google.android.material.datepicker.MaterialCalendarGridView.horizontalMidPoint(MaterialCalendarGridView.java:242)\r\n        at com.google.android.material.datepicker.MaterialCalendarGridView.onDraw(MaterialCalendarGridView.java:172)\r\n        at android.view.View.draw(View.java:23915)\r\n        at android.widget.AbsListView.draw(AbsListView.java:4988)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22790)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at androidx.recyclerview.widget.RecyclerView.drawChild(RecyclerView.java:5030)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.draw(View.java:23918)\r\n        at androidx.recyclerview.widget.RecyclerView.draw(RecyclerView.java:4429)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22790)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22776)\r\n        at android.view.View.draw(View.java:23645)\r\n        at android.view.ViewGroup.drawChild(ViewGroup.java:5336)\r\n        at android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\r\n        at android.view.View.draw(View.java:23918)\r\n        at com.android.internal.policy.DecorView.draw(DecorView.java:1268)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:22790)\r\n        at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:567)\r\n        at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:573)\r\n        at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:650)\r\n        at android.view.ViewRootImpl.draw(ViewRootImpl.java:4906)\r\n        at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:4613)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3754)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2519)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9775)\r\n2021-02-01 12:06:21.286 10369-10369/com.roko.hearth E/AndroidRuntime:     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1010)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:809)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:744)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:995)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8425)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:596)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n\r\n\r\nI tried to look into `MaterialCalendarGridView.java:242` as the error indicates and there is this line:\r\n\r\n      private static int horizontalMidPoint(@NonNull View view) {\r\n         return view.getLeft() + view.getWidth() / 2;\r\n      }\r\n\r\nDoes any help please?","title":"MaterialDatePicker, app crashes after selecting the end date","body":"<p>I have a <code>MaterialDatePicker</code> that selects a range of data, for example from <code>1 January 2021 to 31 January 2021</code>.</p>\n<pre><code>MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\n\nCalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\n\nbuilder.setCalendarConstraints(constraintsBuilder.build());\n\nint dialogTheme = resolveOrThrow(requireContext());\n\nbuilder.setTheme(dialogTheme);\n\nMaterialDatePicker&lt;Pair&lt;Long, Long&gt;&gt; picker = builder.build();\n\npicker.show(requireActivity().getSupportFragmentManager(), picker.toString());\n\npicker.addOnPositiveButtonClickListener(selection -&gt; {\n\n   long startDate = selection.first;\n   long endDate = selection.second;\n\n   from = DateFormat.format(&quot;yyyy-MM-dd&quot;, new Date(startDate)).toString();\n   to = DateFormat.format(&quot;yyyy-MM-dd&quot;, new Date(endDate)).toString();\n\n});\n\n\nprivate static int resolveOrThrow(Context context) {\n\n    TypedValue typedValue = new TypedValue();\n\n    if (context.getTheme().resolveAttribute(R.attr.materialCalendarTheme, typedValue, true)) {\n        return typedValue.data;\n    }\n\n    throw new IllegalArgumentException(context.getResources().getResourceName(R.attr.materialCalendarTheme));\n}\n</code></pre>\n<p>When opening the MaterialDatePicker it shows the current date <code>01 February 2021</code>. When I try to scroll from February to January, <strong>the last day of the month is not visible</strong></p>\n<p><a href=\"https://i.stack.imgur.com/GGM2J.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GGM2J.jpg\" alt=\"enter image description here\" /></a></p>\n<p>To select the last day of the month I should scroll down, but when I select the last day of this month the app crashes showing this error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.view.View.getLeft()' on a null object reference\nat com.google.android.material.datepicker.MaterialCalendarGridView.horizontalMidPoint(MaterialCalendarGridView.java:242)\nat com.google.android.material.datepicker.MaterialCalendarGridView.onDraw(MaterialCalendarGridView.java:172)\nat android.view.View.draw(View.java:23915)\nat android.widget.AbsListView.draw(AbsListView.java:4988)\nat android.view.View.updateDisplayListIfDirty(View.java:22790)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat androidx.recyclerview.widget.RecyclerView.drawChild(RecyclerView.java:5030)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.draw(View.java:23918)\nat androidx.recyclerview.widget.RecyclerView.draw(RecyclerView.java:4429)\nat android.view.View.updateDisplayListIfDirty(View.java:22790)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.updateDisplayListIfDirty(View.java:22776)\nat android.view.View.draw(View.java:23645)\nat android.view.ViewGroup.drawChild(ViewGroup.java:5336)\nat android.view.ViewGroup.dispatchDraw(ViewGroup.java:5093)\nat android.view.View.draw(View.java:23918)\nat com.android.internal.policy.DecorView.draw(DecorView.java:1268)\nat android.view.View.updateDisplayListIfDirty(View.java:22790)\nat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:567)\nat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:573)\nat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:650)\nat android.view.ViewRootImpl.draw(ViewRootImpl.java:4906)\nat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:4613)\nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3754)\nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2519)\nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:9775)\n2021-02-01 12:06:21.286 10369-10369/com.roko.hearth E/AndroidRuntime:     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1010)\nat android.view.Choreographer.doCallbacks(Choreographer.java:809)\nat android.view.Choreographer.doFrame(Choreographer.java:744)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:995)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:246)\nat android.app.ActivityThread.main(ActivityThread.java:8425)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:596)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)</p>\n</blockquote>\n<p>I tried to look into <code>MaterialCalendarGridView.java:242</code> as the error indicates and there is this line:</p>\n<pre><code>  private static int horizontalMidPoint(@NonNull View view) {\n     return view.getLeft() + view.getWidth() / 2;\n  }\n</code></pre>\n<p>Does any help please?</p>\n"},{"tags":["java","image","mp3"],"answers":[{"tags":[],"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634141148,"creation_date":1634141148,"answer_id":69558756,"question_id":69124631,"body_markdown":"I finally realized that the information of those extra images were not inside the mp3 files ... but only in the same directory.\r\n\r\nI could determine that by doing the test of adding more images into one mp3 file (with MediaMonkey), and choosing to add only a link to the image, instead of attaching the image bytes into the mp3 file.\r\nThe result was that the mp3 file had not increased its size, and that a new binary file appeared at that directory (probably with the information of images of the mp3 files).\r\n\r\nI thought that the image filename was inside the mp3 file, in any of the specific tags used for that, but no library could extract it ... and the thing was that the mp3 itself did not have any link to the image file.\r\n\r\nSo the solution I have adopted, is to read all .png and .jpg images in the mp3 directory, and choose the most accurate for the front cover image (looking for the word &quot;front&quot; (case insensitive) in those filenames)","title":"Java: How to get the cover image file name of a mp3 file using &quot;Java MP3 ID3 Tag Library&quot; or jaudiotagger","body":"<p>I finally realized that the information of those extra images were not inside the mp3 files ... but only in the same directory.</p>\n<p>I could determine that by doing the test of adding more images into one mp3 file (with MediaMonkey), and choosing to add only a link to the image, instead of attaching the image bytes into the mp3 file.\nThe result was that the mp3 file had not increased its size, and that a new binary file appeared at that directory (probably with the information of images of the mp3 files).</p>\n<p>I thought that the image filename was inside the mp3 file, in any of the specific tags used for that, but no library could extract it ... and the thing was that the mp3 itself did not have any link to the image file.</p>\n<p>So the solution I have adopted, is to read all .png and .jpg images in the mp3 directory, and choose the most accurate for the front cover image (looking for the word &quot;front&quot; (case insensitive) in those filenames)</p>\n"}],"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634141148,"creation_date":1631220922,"question_id":69124631,"body_markdown":"I am just programming a music player in Java, and I want the application be able to show the cover image of the track currently being played.\r\n\r\nI have found a lot of libraries that helps with that, as for example: &quot;Java MP3 ID3 Tag Library&quot; or jaudiotagger.\r\n\r\nWith those two libraries, I have been able to get the cover image from the mp3 file, when the image is embeeded inside the mp3 file.\r\n\r\nBut I have found some mp3 files that point to an external .jpg image, which is the cover of that mp3, instead of having the image bytes inside the mp3 file ...\r\n\r\nI have come to that conclusion by using MediaMonkey application, and looking at the properties of one of such mp3 then in the Artwork tab, I can see the image, and when placing the mouse pointer inside the image, a hint appears with that file name pointing to an image file in the same directory as the mp3.\r\n\r\nI do not have any knowledge on how to extract mp3 tags, so I have not been able to get which tag the file name is stored and even less to obtain that file name.\r\n\r\nWhat I am ideally looking for with this question is to know which tag that image file name is stored, and a way to obtain its value with any of the two libraries that I have checked:\r\n\r\n&quot;Java MP3 ID3 Tag Library&quot; or jaudiotagger\r\n\r\n Any help is welcome","title":"Java: How to get the cover image file name of a mp3 file using &quot;Java MP3 ID3 Tag Library&quot; or jaudiotagger","body":"<p>I am just programming a music player in Java, and I want the application be able to show the cover image of the track currently being played.</p>\n<p>I have found a lot of libraries that helps with that, as for example: &quot;Java MP3 ID3 Tag Library&quot; or jaudiotagger.</p>\n<p>With those two libraries, I have been able to get the cover image from the mp3 file, when the image is embeeded inside the mp3 file.</p>\n<p>But I have found some mp3 files that point to an external .jpg image, which is the cover of that mp3, instead of having the image bytes inside the mp3 file ...</p>\n<p>I have come to that conclusion by using MediaMonkey application, and looking at the properties of one of such mp3 then in the Artwork tab, I can see the image, and when placing the mouse pointer inside the image, a hint appears with that file name pointing to an image file in the same directory as the mp3.</p>\n<p>I do not have any knowledge on how to extract mp3 tags, so I have not been able to get which tag the file name is stored and even less to obtain that file name.</p>\n<p>What I am ideally looking for with this question is to know which tag that image file name is stored, and a way to obtain its value with any of the two libraries that I have checked:</p>\n<p>&quot;Java MP3 ID3 Tag Library&quot; or jaudiotagger</p>\n<p>Any help is welcome</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1634140454,"post_id":69558339,"comment_id":122947734,"body_markdown":"&quot;I have a problem with my class who extend the AsyncTask&quot; -- `AsyncTask` has been deprecated for a while. &quot;I create a new instance of my class extending AsyncTask and call execute on it without stock it in a variable&quot; -- since your `TimerTask`&#39;s `run()` method is called on a background thread, why do you need an `AsyncTask`?","body":"&quot;I have a problem with my class who extend the AsyncTask&quot; -- <code>AsyncTask</code> has been deprecated for a while. &quot;I create a new instance of my class extending AsyncTask and call execute on it without stock it in a variable&quot; -- since your <code>TimerTask</code>&#39;s <code>run()</code> method is called on a background thread, why do you need an <code>AsyncTask</code>?"},{"owner":{"account_id":16053432,"reputation":177,"user_id":12938865,"display_name":"mehdibe"},"score":0,"creation_date":1634140799,"post_id":69558339,"comment_id":122947894,"body_markdown":"I found the problem thank&#39;s !","body":"I found the problem thank&#39;s !"}],"owner":{"account_id":16053432,"reputation":177,"user_id":12938865,"display_name":"mehdibe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634140766,"creation_date":1634139265,"question_id":69558339,"body_markdown":"I have a problem with my class who extend the AsyncTask. The logic is I take a screenshot of the camera preview each seconds with an interval, and each second in this interval, I create a new instance of my class extending AsyncTask and call execute on it without stock it in a variable. But when I set a Log.d in my doInBackground() method in my class, the Log.d is called only one time in the first second of the interval. I need to do that to send a new screenshot each second to a socket server.\r\n\r\nThis is the interval code :\r\n\r\n    private void startTakingPicturesInterval() {\r\n        new Timer().scheduleAtFixedRate(new TimerTask(){\r\n            @Override\r\n            public void run(){\r\n                camera.takePicture(null, null, pictureScreenTaked);\r\n                Log.d(&quot;debug_app&quot;, &quot;Picture Taked&quot;);\r\n                new ClientServerStream().execute(image_to_send_captured_each_time);\r\n            }\r\n        },0,1000);\r\n    }\r\n\r\n    private Camera.PictureCallback pictureScreenTaked = new Camera.PictureCallback() {\r\n\r\n        @Override\r\n        public void onPictureTaken(byte[] data, Camera camera) {\r\n            image_to_send_captured_each_time = BitmapFactory.decodeByteArray(data, 0, data.length);\r\n\r\n            ImageView img_result_test = findViewById(R.id.img_result_test);\r\n            img_result_test.setImageBitmap(image_to_send_captured_each_time);\r\n            camera.cancelAutoFocus();\r\n            camera.startPreview();\r\n        }\r\n    };\r\n\r\nMy method doInBackground of the class extending the AsyncTask :\r\n\r\n    @Override\r\n    protected Object doInBackground(Object[] objects) {\r\n        initValues();\r\n        Log.d(&quot;debug_app&quot;, &quot;Client executed correctly&quot;);\r\n        try {\r\n            bw.write(&quot;test&quot;);\r\n            bw.flush();\r\n\r\n            closeAll();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n**Solution Finded**\r\n\r\nThe solution is because my server socket was disonnected so probably there was an error in my Client Socket so the code doesn&#39;t execute and the error is not shown because they executed Asychronously","title":"Execute new instance of class extends AsyncTask multiple times","body":"<p>I have a problem with my class who extend the AsyncTask. The logic is I take a screenshot of the camera preview each seconds with an interval, and each second in this interval, I create a new instance of my class extending AsyncTask and call execute on it without stock it in a variable. But when I set a Log.d in my doInBackground() method in my class, the Log.d is called only one time in the first second of the interval. I need to do that to send a new screenshot each second to a socket server.</p>\n<p>This is the interval code :</p>\n<pre><code>private void startTakingPicturesInterval() {\n    new Timer().scheduleAtFixedRate(new TimerTask(){\n        @Override\n        public void run(){\n            camera.takePicture(null, null, pictureScreenTaked);\n            Log.d(&quot;debug_app&quot;, &quot;Picture Taked&quot;);\n            new ClientServerStream().execute(image_to_send_captured_each_time);\n        }\n    },0,1000);\n}\n\nprivate Camera.PictureCallback pictureScreenTaked = new Camera.PictureCallback() {\n\n    @Override\n    public void onPictureTaken(byte[] data, Camera camera) {\n        image_to_send_captured_each_time = BitmapFactory.decodeByteArray(data, 0, data.length);\n\n        ImageView img_result_test = findViewById(R.id.img_result_test);\n        img_result_test.setImageBitmap(image_to_send_captured_each_time);\n        camera.cancelAutoFocus();\n        camera.startPreview();\n    }\n};\n</code></pre>\n<p>My method doInBackground of the class extending the AsyncTask :</p>\n<pre><code>@Override\nprotected Object doInBackground(Object[] objects) {\n    initValues();\n    Log.d(&quot;debug_app&quot;, &quot;Client executed correctly&quot;);\n    try {\n        bw.write(&quot;test&quot;);\n        bw.flush();\n\n        closeAll();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p><strong>Solution Finded</strong></p>\n<p>The solution is because my server socket was disonnected so probably there was an error in my Client Socket so the code doesn't execute and the error is not shown because they executed Asychronously</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634140108,"creation_date":1634140108,"answer_id":69558533,"question_id":69558484,"body_markdown":"&gt; will I be able to access the file later using this absolute path?\r\n\r\nYes, assuming the user did not delete it or something.\r\n\r\n&gt; Is this the best practice?\r\n\r\nIf you want the user to have some ability to access the content independently of your app, using `getExternalFilesDir()` is a fine choice.\r\n\r\nIf you do not want the user to have independent access to the content, you could use `getFilesDir()` instead.\r\n","title":"Can I use direct file paths to access files stored in app specific storage?","body":"<blockquote>\n<p>will I be able to access the file later using this absolute path?</p>\n</blockquote>\n<p>Yes, assuming the user did not delete it or something.</p>\n<blockquote>\n<p>Is this the best practice?</p>\n</blockquote>\n<p>If you want the user to have some ability to access the content independently of your app, using <code>getExternalFilesDir()</code> is a fine choice.</p>\n<p>If you do not want the user to have independent access to the content, you could use <code>getFilesDir()</code> instead.</p>\n"}],"owner":{"account_id":14499413,"reputation":165,"user_id":10473061,"display_name":"Divij Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69558533,"answer_count":1,"score":0,"last_activity_date":1634140108,"creation_date":1634139899,"question_id":69558484,"body_markdown":"I have an app where I capture/download images and store them to the app specific storage using:\r\n```\r\nFile fileToSave = new File(getApplicationContext().getExternalFilesDir(\r\n                        Environment.DIRECTORY_PICTURES), &quot;filename&quot;);\r\n```\r\n\r\nThen, I save the absolute path to the file in the db using:\r\n\r\n```\r\nsaveToDb(fileToSave.getAbsolutePath())\r\n```\r\n\r\nMy question is, will I be able to access the file later using this absolute path?\r\n\r\n```\r\nFile file = new File(savedAbsolutePath);\r\n```\r\n\r\nIs this the best practice?\r\n","title":"Can I use direct file paths to access files stored in app specific storage?","body":"<p>I have an app where I capture/download images and store them to the app specific storage using:</p>\n<pre><code>File fileToSave = new File(getApplicationContext().getExternalFilesDir(\n                        Environment.DIRECTORY_PICTURES), &quot;filename&quot;);\n</code></pre>\n<p>Then, I save the absolute path to the file in the db using:</p>\n<pre><code>saveToDb(fileToSave.getAbsolutePath())\n</code></pre>\n<p>My question is, will I be able to access the file later using this absolute path?</p>\n<pre><code>File file = new File(savedAbsolutePath);\n</code></pre>\n<p>Is this the best practice?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634139920,"creation_date":1634139920,"answer_id":69558490,"question_id":69557955,"body_markdown":"Working as designed...\r\n\r\n`ExclusiveStartKey` just means to start with key greater than whatever value you&#39;ve passed in.\r\n\r\nExclusive, meaning use greater than as opposed to inclusive which would be greater than or equal.\r\n\r\n ","title":"DynamoDB QueryResultPage still returning results on bogus exclusive start key","body":"<p>Working as designed...</p>\n<p><code>ExclusiveStartKey</code> just means to start with key greater than whatever value you've passed in.</p>\n<p>Exclusive, meaning use greater than as opposed to inclusive which would be greater than or equal.</p>\n"}],"owner":{"account_id":9646032,"reputation":77,"user_id":7158754,"display_name":"bitwalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69558490,"answer_count":1,"score":0,"last_activity_date":1634139920,"creation_date":1634137709,"question_id":69557955,"body_markdown":"tldr; - When using a bogus LastEvaluatedKey with DynamoDB queries for pagination it still returns results in some cases.\r\n\r\n\r\nI am implementing pagination for a fairly straight forward CRUD Repository. \r\nThe implementation is based on:\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html and&lt;br/&gt;\r\nhttps://stackoverflow.com/questions/32788959/pagination-with-dynamodbmapper-java-aws-sdk\r\n\r\nI have a DynamoDB table and this query is running on a Global Secondary Index of that table.\r\n\r\nPagination is working fine, i.e. I have a 5000 records. I query and receive a set of 500 results and a LastEvaluatedKey. Using this key, I get the next set of 500 results etc.\r\n\r\nThis key is made up of:\r\n- partition key &quot;instanceId&quot; which is always the same on subsequent page requests.\r\n- range key &quot;id&quot; which is what changes on the next page request\r\n\r\nNow I wrote a test to make sure that if a bogus LastEvaluatedKey is provided I should get zero results.\r\n\r\nWhat is the actual behavior:\r\n\r\nIf I provide something like id = &quot;rrrrrrrrrrrrr&quot; I get zero results, as expected.&lt;br/&gt;\r\nIf I provide something like id = &quot;aaaaaaaaaaaaa&quot; I get 500 results! \r\n\r\nWhat&#39;s worth noting is that the &quot;id&quot;&#39;s are UUID strings, so the letter &#39;r&#39; will not occur anywhere in any id.\r\n\r\nMy LastEvaluatedKey is made up like so (instanceId is the same for subsequent page queries):\r\n\r\n\r\n            var startKeyMap = new HashMap&lt;String, AttributeValue&gt;();\r\n\r\n            var idValue = new AttributeValue();\r\n            idValue.setS(startKey);\r\n            startKeyMap.put(&quot;id&quot;, idValue);\r\n\r\n            var instanceIdValue = new AttributeValue();\r\n            instanceIdValue.setS(instanceId);\r\n            startKeyMap.put(&quot;instanceId&quot;, instanceIdValue);\r\n\r\n            queryExpression.setExclusiveStartKey(startKeyMap);\r\n\r\n\r\n\r\nI suspect what is happening is that because &quot;id&quot; is a sort key (in the GSI), the results are returned for anything greater than my bogus &quot;aaaaaaaaaaaaaa&quot;. For &quot;rrrrrrrrrrrr&quot; it doesn&#39;t work because no keys would sort greater than &#39;rrrrrrrrrrrr&#39;.\r\n\r\nI would expect DDB to match **exactly** the exclusive start key, and return the next set of results from there but it seems like it is simply matching whatever comes close and returning whatever keys come after.\r\n\r\nI also found:\r\nhttps://stackoverflow.com/questions/21730183/dynamodb-global-secondary-index-with-exclusive-start-key\r\n\r\nIn there the solution is to set the primary and range keys of both the table and the index as the ExclusiveStartKey. However, in my case both are there, they are just reversed:\r\n\r\nOn the table the id is primary, instanceId is secondary. On the GSI, the reverse is true.\r\n\r\nCan someone explain what is happening or what I&#39;m doing wrong?","title":"DynamoDB QueryResultPage still returning results on bogus exclusive start key","body":"<p>tldr; - When using a bogus LastEvaluatedKey with DynamoDB queries for pagination it still returns results in some cases.</p>\n<p>I am implementing pagination for a fairly straight forward CRUD Repository.\nThe implementation is based on:\n<a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html</a> and<br/>\n<a href=\"https://stackoverflow.com/questions/32788959/pagination-with-dynamodbmapper-java-aws-sdk\">Pagination with DynamoDBMapper Java AWS SDK</a></p>\n<p>I have a DynamoDB table and this query is running on a Global Secondary Index of that table.</p>\n<p>Pagination is working fine, i.e. I have a 5000 records. I query and receive a set of 500 results and a LastEvaluatedKey. Using this key, I get the next set of 500 results etc.</p>\n<p>This key is made up of:</p>\n<ul>\n<li>partition key &quot;instanceId&quot; which is always the same on subsequent page requests.</li>\n<li>range key &quot;id&quot; which is what changes on the next page request</li>\n</ul>\n<p>Now I wrote a test to make sure that if a bogus LastEvaluatedKey is provided I should get zero results.</p>\n<p>What is the actual behavior:</p>\n<p>If I provide something like id = &quot;rrrrrrrrrrrrr&quot; I get zero results, as expected.<br/>\nIf I provide something like id = &quot;aaaaaaaaaaaaa&quot; I get 500 results!</p>\n<p>What's worth noting is that the &quot;id&quot;'s are UUID strings, so the letter 'r' will not occur anywhere in any id.</p>\n<p>My LastEvaluatedKey is made up like so (instanceId is the same for subsequent page queries):</p>\n<pre><code>        var startKeyMap = new HashMap&lt;String, AttributeValue&gt;();\n\n        var idValue = new AttributeValue();\n        idValue.setS(startKey);\n        startKeyMap.put(&quot;id&quot;, idValue);\n\n        var instanceIdValue = new AttributeValue();\n        instanceIdValue.setS(instanceId);\n        startKeyMap.put(&quot;instanceId&quot;, instanceIdValue);\n\n        queryExpression.setExclusiveStartKey(startKeyMap);\n</code></pre>\n<p>I suspect what is happening is that because &quot;id&quot; is a sort key (in the GSI), the results are returned for anything greater than my bogus &quot;aaaaaaaaaaaaaa&quot;. For &quot;rrrrrrrrrrrr&quot; it doesn't work because no keys would sort greater than 'rrrrrrrrrrrr'.</p>\n<p>I would expect DDB to match <strong>exactly</strong> the exclusive start key, and return the next set of results from there but it seems like it is simply matching whatever comes close and returning whatever keys come after.</p>\n<p>I also found:\n<a href=\"https://stackoverflow.com/questions/21730183/dynamodb-global-secondary-index-with-exclusive-start-key\">DynamoDB Global Secondary Index with Exclusive Start Key</a></p>\n<p>In there the solution is to set the primary and range keys of both the table and the index as the ExclusiveStartKey. However, in my case both are there, they are just reversed:</p>\n<p>On the table the id is primary, instanceId is secondary. On the GSI, the reverse is true.</p>\n<p>Can someone explain what is happening or what I'm doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1585594440,"post_id":60937432,"comment_id":107810473,"body_markdown":"The compiler will **autobox** the second form. Basically, it becomes [`Integer.valueOf(int)`](https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#valueOf(int)). Also, be aware that [`new Integer(int)`](https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#Integer-int-) is **deprecated** since Java 9.","body":"The compiler will <b>autobox</b> the second form. Basically, it becomes <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#valueOf(int)\" rel=\"nofollow noreferrer\"><code>Integer.valueOf(int)</code></a>. Also, be aware that <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#Integer-int-\" rel=\"nofollow noreferrer\"><code>new Integer(int)</code></a> is <b>deprecated</b> since Java 9."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1585594451,"post_id":60937432,"comment_id":107810479,"body_markdown":"`Integer otherInteger = 444;` doesn&#39;t mean that it&#39;s *uninstantiated*","body":"<code>Integer otherInteger = 444;</code> doesn&#39;t mean that it&#39;s <i>uninstantiated</i>"}],"answers":[{"tags":[],"owner":{"account_id":16576698,"reputation":83,"user_id":11978322,"display_name":"Ulviyya Ibrahimli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1585599115,"creation_date":1585599115,"answer_id":60938751,"question_id":60937432,"body_markdown":"String name = &quot;someName&quot;;   String is *immutable* class and String type is reference or non-primitive type, so name reference point to &quot;someName&quot; object, which is placed in &quot;String-constant- pool&quot;, in heap.( no stack).\r\n*Integer is wrapper class( provides the mechanism to convert primitive into object and object into primitive).*\r\nThe code Integer otherInteger = 444;  is an example of *auto-boxing* (https://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html) and compiler automatically converts this line to Integer otherInteger = Integer.valueOf(444); . So, Integer otherInteger= Integer.valueOf(444) return Integer object i.e this placed in heap.","title":"Where is an uninstantiated Integer number going to be located in memory?","body":"<p>String name = \"someName\";   String is <em>immutable</em> class and String type is reference or non-primitive type, so name reference point to \"someName\" object, which is placed in \"String-constant- pool\", in heap.( no stack).\n<em>Integer is wrapper class( provides the mechanism to convert primitive into object and object into primitive).</em>\nThe code Integer otherInteger = 444;  is an example of <em>auto-boxing</em> (<a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html</a>) and compiler automatically converts this line to Integer otherInteger = Integer.valueOf(444); . So, Integer otherInteger= Integer.valueOf(444) return Integer object i.e this placed in heap.</p>\n"}],"owner":{"account_id":4995454,"reputation":79,"user_id":4016212,"display_name":"Irinel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60938751,"answer_count":1,"score":3,"last_activity_date":1634139780,"creation_date":1585594155,"question_id":60937432,"body_markdown":"I have a question; I don&#39;t know if it is dumb or not...but I will ask anyway.\r\nWe all know that when we say \r\n```String name = &quot;someName&quot;;```\r\nwe know that this is a pooled string so it&#39;s not going to get on the heap but...\r\n\r\nif we say \r\n```Integer integer = new Integer(888);```\r\nwe know this is going to get on the heap... \r\nthen \r\n```Integer otherInteger = 444;``` \r\nwhere is &quot;otherInteger&quot; going to get? what memory location?\r\nThanks!\r\n\r\n","title":"Where is an uninstantiated Integer number going to be located in memory?","body":"<p>I have a question; I don't know if it is dumb or not...but I will ask anyway.\nWe all know that when we say\n<code>String name = &quot;someName&quot;;</code>\nwe know that this is a pooled string so it's not going to get on the heap but...</p>\n<p>if we say\n<code>Integer integer = new Integer(888);</code>\nwe know this is going to get on the heap...\nthen\n<code>Integer otherInteger = 444;</code>\nwhere is &quot;otherInteger&quot; going to get? what memory location?\nThanks!</p>\n"},{"tags":["java","xml","jaxb","swagger","springfox"],"comments":[{"owner":{"account_id":1370752,"reputation":5480,"user_id":1306024,"display_name":"k5_"},"score":0,"creation_date":1634153637,"post_id":69499128,"comment_id":122952388,"body_markdown":"What happens if you add `@XmlAccessorType(XmlAccessType.NONE)` to the class `Foo` ? With that annotation only fields actually annotated will be considered.","body":"What happens if you add <code>@XmlAccessorType(XmlAccessType.NONE)</code> to the class <code>Foo</code> ? With that annotation only fields actually annotated will be considered."},{"owner":{"account_id":9137020,"reputation":109,"user_id":6796371,"display_name":"JsonMraz"},"score":0,"creation_date":1634199293,"post_id":69499128,"comment_id":122962602,"body_markdown":"@k5_ I tried to add `@XmlAccessorType(XmlAccessType.NONE)` to the class `Foo` but it doesn&#39;t change anything.","body":"@k5_ I tried to add <code>@XmlAccessorType(XmlAccessType.NONE)</code> to the class <code>Foo</code> but it doesn&#39;t change anything."},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1634235756,"post_id":69499128,"comment_id":122977512,"body_markdown":"`Springfox` is dead, use `springdoc-openapi` instead. We migrated and a lot of long unsolved problems disappeared. Try it and if your problem persist, solve it only after. See e.g. here: https://stackoverflow.com/q/58953513/2886891","body":"<code>Springfox</code> is dead, use <code>springdoc-openapi</code> instead. We migrated and a lot of long unsolved problems disappeared. Try it and if your problem persist, solve it only after. See e.g. here: <a href=\"https://stackoverflow.com/q/58953513/2886891\">stackoverflow.com/q/58953513/2886891</a>"},{"owner":{"account_id":9137020,"reputation":109,"user_id":6796371,"display_name":"JsonMraz"},"score":1,"creation_date":1634547085,"post_id":69499128,"comment_id":123044632,"body_markdown":"@honza-zidek I also tried with springdoc instead of springfox. There is also the exact same thing. However, the `@Schema` annotation works to rename a field with springdoc, but I want to rename only the field for the XML media type and not the JSON. And the `@Schema` annotation renames both in the same time.","body":"@honza-zidek I also tried with springdoc instead of springfox. There is also the exact same thing. However, the <code>@Schema</code> annotation works to rename a field with springdoc, but I want to rename only the field for the XML media type and not the JSON. And the <code>@Schema</code> annotation renames both in the same time."}],"owner":{"account_id":9137020,"reputation":109,"user_id":6796371,"display_name":"JsonMraz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634139730,"creation_date":1633710909,"question_id":69499128,"body_markdown":"I&#39;m using springfox 3.0.0 and my XML Swagger looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Foo&gt;\r\n\t&lt;anotherBar&gt;\r\n\t\t&lt;MyStr&gt;string&lt;/MyStr&gt;\r\n\t&lt;/anotherBar&gt;\r\n\t&lt;bar&gt;\r\n\t\t&lt;MyStr&gt;string&lt;/MyStr&gt;\r\n\t&lt;/bar&gt;\r\n\t&lt;MyDate&gt;2021-10-08T16:08:57.795Z&lt;/MyDate&gt;\r\n&lt;/Foo&gt;\r\n```\r\n\r\nHere is what I would like:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Foo&gt;\r\n\t&lt;AnotherBar&gt;\r\n\t\t&lt;MyStr&gt;string&lt;/MyStr&gt;\r\n\t&lt;/AnotherBar&gt;\r\n\t&lt;Bar&gt;\r\n\t\t&lt;MyStr&gt;string&lt;/MyStr&gt;\r\n\t&lt;/Bar&gt;\r\n\t&lt;MyDate&gt;2021-10-08T16:08:57.795Z&lt;/MyDate&gt;\r\n&lt;/Foo&gt;\r\n```\r\n\r\nAs you can see, `MyStr` and `MyDate` are displayed correctly in the XML but not `bar` and `anotherBar` without the uppercase.\r\n\r\nI don&#39;t know why the `@XmlElement` annotation is ignored by Springfox for nested objects only. But it works great with `String` or `Instant`.\r\n\r\nHere is my `Foo` class:\r\n```\r\n@XmlRootElement(name = &quot;Foo&quot;)\r\npublic class Foo {\r\n    @XmlElement(name = &quot;MyDate&quot;)\r\n    private Instant myDate;\r\n\r\n    @XmlElement(name = &quot;Bar&quot;)\r\n    private Bar bar;\r\n\r\n    @XmlElement(name = &quot;AnotherBar&quot;)\r\n    private Bar anotherBar;\r\n\r\n    // Getter / Setter...\r\n}\r\n```\r\n\r\nAnd here is my `Bar` class:\r\n```\r\npublic class Bar {\r\n\r\n    @XmlElement(name = &quot;MyStr&quot;)\r\n    private String myStr;\r\n\r\n    // Getter / Setter ...\r\n\r\n}\r\n```\r\n\r\nHere is my `XmlMapper` config:\r\n```\r\nXmlMapper xmlMapper = new XmlMapper();\r\nxmlMapper.registerModule(new JaxbAnnotationModule());\r\n\r\n```\r\n\r\nI already tried to replace `@XmlElement` with `@JacksonXmlProperty` but it&#39;s the same result.\r\n\r\nI found also this answer https://stackoverflow.com/a/64562167 but I don&#39;t want to use `@JsonProperty` since I need the JSON from Swagger to use attributes name.\r\n\r\nDo you know why `@XmlElement` is ignored by Springfox in this case only?","title":"Springfox Swagger ignores @XmlElement for nested objects only","body":"<p>I'm using springfox 3.0.0 and my XML Swagger looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Foo&gt;\n    &lt;anotherBar&gt;\n        &lt;MyStr&gt;string&lt;/MyStr&gt;\n    &lt;/anotherBar&gt;\n    &lt;bar&gt;\n        &lt;MyStr&gt;string&lt;/MyStr&gt;\n    &lt;/bar&gt;\n    &lt;MyDate&gt;2021-10-08T16:08:57.795Z&lt;/MyDate&gt;\n&lt;/Foo&gt;\n</code></pre>\n<p>Here is what I would like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Foo&gt;\n    &lt;AnotherBar&gt;\n        &lt;MyStr&gt;string&lt;/MyStr&gt;\n    &lt;/AnotherBar&gt;\n    &lt;Bar&gt;\n        &lt;MyStr&gt;string&lt;/MyStr&gt;\n    &lt;/Bar&gt;\n    &lt;MyDate&gt;2021-10-08T16:08:57.795Z&lt;/MyDate&gt;\n&lt;/Foo&gt;\n</code></pre>\n<p>As you can see, <code>MyStr</code> and <code>MyDate</code> are displayed correctly in the XML but not <code>bar</code> and <code>anotherBar</code> without the uppercase.</p>\n<p>I don't know why the <code>@XmlElement</code> annotation is ignored by Springfox for nested objects only. But it works great with <code>String</code> or <code>Instant</code>.</p>\n<p>Here is my <code>Foo</code> class:</p>\n<pre><code>@XmlRootElement(name = &quot;Foo&quot;)\npublic class Foo {\n    @XmlElement(name = &quot;MyDate&quot;)\n    private Instant myDate;\n\n    @XmlElement(name = &quot;Bar&quot;)\n    private Bar bar;\n\n    @XmlElement(name = &quot;AnotherBar&quot;)\n    private Bar anotherBar;\n\n    // Getter / Setter...\n}\n</code></pre>\n<p>And here is my <code>Bar</code> class:</p>\n<pre><code>public class Bar {\n\n    @XmlElement(name = &quot;MyStr&quot;)\n    private String myStr;\n\n    // Getter / Setter ...\n\n}\n</code></pre>\n<p>Here is my <code>XmlMapper</code> config:</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.registerModule(new JaxbAnnotationModule());\n\n</code></pre>\n<p>I already tried to replace <code>@XmlElement</code> with <code>@JacksonXmlProperty</code> but it's the same result.</p>\n<p>I found also this answer <a href=\"https://stackoverflow.com/a/64562167\">https://stackoverflow.com/a/64562167</a> but I don't want to use <code>@JsonProperty</code> since I need the JSON from Swagger to use attributes name.</p>\n<p>Do you know why <code>@XmlElement</code> is ignored by Springfox in this case only?</p>\n"},{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1634138298,"post_id":69557788,"comment_id":122946858,"body_markdown":"Do you have space(s) in reportDirectory or reportName?","body":"Do you have space(s) in reportDirectory or reportName?"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634139428,"creation_date":1634139428,"answer_id":69558385,"question_id":69557788,"body_markdown":"In order to get HTML reporting dashboard generated you need to have the following [properties][1] defined:\r\n\r\n    JMeterUtils.setProperty(&quot;jmeter.reportgenerator.exporter.html.classname&quot;, &quot;org.apache.jmeter.report.dashboard.HtmlTemplateExporter&quot;);\r\n    JMeterUtils.setProperty(&quot;jmeter.reportgenerator.exporter.html.property.output_dir&quot;,&quot;report-output/dashboard&quot;);\r\n\r\nWith regards to `org.apache.jmeter.report.dashboard.JsonExporter` class problem - it should be present in [ApacheJMeter_core.jar][2] so make sure to have this file in your [project classpath][3]. Also make sure that all JMeter dependencies have the same version. \r\n\r\nMore information:\r\n\r\n - [Generating Report Dashboard][4]\r\n - [Five Ways To Launch a JMeter Test without Using the JMeter GUI][5]\r\n - [jmeter-from-code example project][6]\r\n \r\n \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/properties_reference.html#reporting\r\n  [2]: https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_core\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\r\n  [4]: https://jmeter.apache.org/usermanual/generating-dashboard.html\r\n  [5]: https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui\r\n  [6]: https://bitbucket.org/blazemeter/jmeter-from-code/src/master/","title":"Jemeter HTML report is not getting generated using Java code","body":"<p>In order to get HTML reporting dashboard generated you need to have the following <a href=\"https://jmeter.apache.org/usermanual/properties_reference.html#reporting\" rel=\"nofollow noreferrer\">properties</a> defined:</p>\n<pre><code>JMeterUtils.setProperty(&quot;jmeter.reportgenerator.exporter.html.classname&quot;, &quot;org.apache.jmeter.report.dashboard.HtmlTemplateExporter&quot;);\nJMeterUtils.setProperty(&quot;jmeter.reportgenerator.exporter.html.property.output_dir&quot;,&quot;report-output/dashboard&quot;);\n</code></pre>\n<p>With regards to <code>org.apache.jmeter.report.dashboard.JsonExporter</code> class problem - it should be present in <a href=\"https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_core\" rel=\"nofollow noreferrer\">ApacheJMeter_core.jar</a> so make sure to have this file in your <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">project classpath</a>. Also make sure that all JMeter dependencies have the same version.</p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/generating-dashboard.html\" rel=\"nofollow noreferrer\">Generating Report Dashboard</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui\" rel=\"nofollow noreferrer\">Five Ways To Launch a JMeter Test without Using the JMeter GUI</a></li>\n<li><a href=\"https://bitbucket.org/blazemeter/jmeter-from-code/src/master/\" rel=\"nofollow noreferrer\">jmeter-from-code example project</a></li>\n</ul>\n"}],"owner":{"account_id":10631066,"reputation":3,"user_id":7829205,"display_name":"user7829205"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69558385,"answer_count":1,"score":0,"last_activity_date":1634139428,"creation_date":1634137019,"question_id":69557788,"body_markdown":"I am executing a JMX file and trying to create a HTML dashboard report for the same but only .jtl file is getting created ,HTML Dashboard file is not getting created .I am getting the error :\r\norg.apache.jmeter.report.dashboard.GenerationException: Class name &quot;org.apache.jmeter.report.dashboard.JsonExporter&quot; is not valid.\r\nI tried Below Code :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      public static void generateReport(String reportName,ExtentTest testReporter) {\r\n            try {\r\n            \t\r\n                JMeterUtils.setProperty(&quot;jmeter.reportgenerator.exporter.html.property.output_dir&quot;, reportDirectory + reportName);\r\n                JMeterUtils.setProperty(&quot;org.apache.jmeter.JMeter.JMETER_REPORT_OUTPUT_DIR_PROPERTY&quot;, reportDirectory + reportName+&quot;Test&quot;);\r\n                String summariserName = JMeterUtils.getPropDefault(&quot;summariser.name&quot;, &quot;summary&quot;);\r\n                if (summariserName.length() &gt; 0) {\r\n                    summer = new Summariser(summariserName);\r\n                }\r\n                File report = new File(reportDirectory + reportName + &quot;_JTL_Results&quot;);\r\n                File reportFile = new File(reportDirectory + reportName + &quot;_JTL_Results&quot; + &quot;\\\\result.jtl&quot;);\r\n                if (report.exists()) {\r\n                    flushDirectory(report);\r\n                    LOG.info(&quot;Report folder deleted&quot;);\r\n                    if (reportFile.exists()) {\r\n                        boolean delete1 = reportFile.delete();\r\n                        LOG.info(&quot;Report File deleted&quot; + delete1);\r\n                    }\r\n                }\r\n                ResultCollector logger = new ResultCollector(summer);\r\n                reportGenerator = new ReportGenerator(reportFile.getPath(), logger);\r\n                logger.setFilename(reportFile.getPath());\r\n                testplanTree.add(testplanTree.getArray()[0], logger);\r\n                jMeterEngine.configure(testplanTree);\r\n                print_util.ts_info(testReporter, &quot;Performance Execution Started..........&quot;);\r\n                print_util.ts_passed(testReporter, &quot;Performance Execution Started..........&quot;);\r\n               \r\n                jMeterEngine.run();\r\n                reportGenerator.generate();\r\n                print_util.ts_info(testReporter, &quot;Report Generated Successfully&quot;);\r\n                print_util.ts_passed(testReporter, &quot;Report Generated Successfully&quot;);\r\n               \r\n                System.exit(0);\r\n            } catch (Exception e) {\r\n            \tprint_util.ts_info(testReporter, e.toString());\r\n    \t\t\tprint_util.ts_failed_ss(testReporter,\r\n    \t\t\t\t\t&quot;Report is not generated&quot;, VNSPPage.driver);\r\n    \t\t\torg.testng.Assert.fail(&quot;Report is not generated&quot;);\r\n                System.exit(1);\r\n            }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Jemeter HTML report is not getting generated using Java code","body":"<p>I am executing a JMX file and trying to create a HTML dashboard report for the same but only .jtl file is getting created ,HTML Dashboard file is not getting created .I am getting the error :\norg.apache.jmeter.report.dashboard.GenerationException: Class name &quot;org.apache.jmeter.report.dashboard.JsonExporter&quot; is not valid.\nI tried Below Code :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  public static void generateReport(String reportName,ExtentTest testReporter) {\n        try {\n            \n            JMeterUtils.setProperty(\"jmeter.reportgenerator.exporter.html.property.output_dir\", reportDirectory + reportName);\n            JMeterUtils.setProperty(\"org.apache.jmeter.JMeter.JMETER_REPORT_OUTPUT_DIR_PROPERTY\", reportDirectory + reportName+\"Test\");\n            String summariserName = JMeterUtils.getPropDefault(\"summariser.name\", \"summary\");\n            if (summariserName.length() &gt; 0) {\n                summer = new Summariser(summariserName);\n            }\n            File report = new File(reportDirectory + reportName + \"_JTL_Results\");\n            File reportFile = new File(reportDirectory + reportName + \"_JTL_Results\" + \"\\\\result.jtl\");\n            if (report.exists()) {\n                flushDirectory(report);\n                LOG.info(\"Report folder deleted\");\n                if (reportFile.exists()) {\n                    boolean delete1 = reportFile.delete();\n                    LOG.info(\"Report File deleted\" + delete1);\n                }\n            }\n            ResultCollector logger = new ResultCollector(summer);\n            reportGenerator = new ReportGenerator(reportFile.getPath(), logger);\n            logger.setFilename(reportFile.getPath());\n            testplanTree.add(testplanTree.getArray()[0], logger);\n            jMeterEngine.configure(testplanTree);\n            print_util.ts_info(testReporter, \"Performance Execution Started..........\");\n            print_util.ts_passed(testReporter, \"Performance Execution Started..........\");\n           \n            jMeterEngine.run();\n            reportGenerator.generate();\n            print_util.ts_info(testReporter, \"Report Generated Successfully\");\n            print_util.ts_passed(testReporter, \"Report Generated Successfully\");\n           \n            System.exit(0);\n        } catch (Exception e) {\n            print_util.ts_info(testReporter, e.toString());\n            print_util.ts_failed_ss(testReporter,\n                    \"Report is not generated\", VNSPPage.driver);\n            org.testng.Assert.fail(\"Report is not generated\");\n            System.exit(1);\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1586368383,"creation_date":1586190955,"answer_id":61064604,"question_id":61063446,"body_markdown":"***Option 1 :*** \r\n\r\n````\r\n    yourDf\r\n    .coalesce(1) // if you want to save as single file\r\n    .write\r\n    .option(&quot;sep&quot;, &quot;\\t&quot;)\r\n    .option(&quot;encoding&quot;, &quot;UTF-8&quot;)\r\n    .csv(&quot;outputpath&quot;)\r\n````\r\nsame as writing csv but here tab delimeter you need to use.\r\n\r\nYes its csv as you mentioned in the comment, if you want to rename the file you can do the below..\r\n```\r\n\r\nimport org.apache.hadoop.fs.FileSystem;\r\nFileSystem fs = FileSystem.get(spark.sparkContext.hadoopConfiguration);\r\nfs.rename(new Path(&quot;outputpath&quot;), new Path(outputpath.txt))\r\n```\r\n**Note :** \r\n1) you can use fs.globStatus if you have multiple file under your outputpath inthis case `coalesce(1)` will make single csv, hence not needed.\r\n2) if you are using s3 instead of hdfs you may need to set below before attempting to rename... \r\n```\r\nspark.sparkContext.hadoopConfiguration.set(&quot;fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3native.NativeS3FileSystem&quot;)\r\n\r\n```\r\n\r\n***Option 2 :***\r\n----------\r\nOther option (if you don&#39;t want use csv api) could be like below\r\n```\r\n yourDf.rdd\r\n.coalesce(1)\r\n.map(x =&gt; x.mkString(&quot;\\t&quot;))\r\n.saveAsTextFile(&quot;yourfile.txt&quot;)\r\n```\r\n----------\r\n\r\n","title":"How to write a spark dataframe tab delimited as a text file using java","body":"<p><strong><em>Option 1 :</em></strong> </p>\n\n<pre><code>    yourDf\n    .coalesce(1) // if you want to save as single file\n    .write\n    .option(\"sep\", \"\\t\")\n    .option(\"encoding\", \"UTF-8\")\n    .csv(\"outputpath\")\n</code></pre>\n\n<p>same as writing csv but here tab delimeter you need to use.</p>\n\n<p>Yes its csv as you mentioned in the comment, if you want to rename the file you can do the below..</p>\n\n<pre><code>\nimport org.apache.hadoop.fs.FileSystem;\nFileSystem fs = FileSystem.get(spark.sparkContext.hadoopConfiguration);\nfs.rename(new Path(\"outputpath\"), new Path(outputpath.txt))\n</code></pre>\n\n<p><strong>Note :</strong> \n1) you can use fs.globStatus if you have multiple file under your outputpath inthis case <code>coalesce(1)</code> will make single csv, hence not needed.\n2) if you are using s3 instead of hdfs you may need to set below before attempting to rename... </p>\n\n<pre><code>spark.sparkContext.hadoopConfiguration.set(\"fs.s3.impl\", \"org.apache.hadoop.fs.s3native.NativeS3FileSystem\")\n\n</code></pre>\n\n<h2><strong><em>Option 2 :</em></strong></h2>\n\n<p>Other option (if you don't want use csv api) could be like below</p>\n\n<pre><code> yourDf.rdd\n.coalesce(1)\n.map(x =&gt; x.mkString(\"\\t\"))\n.saveAsTextFile(\"yourfile.txt\")\n</code></pre>\n\n<hr>\n"}],"owner":{"account_id":2560604,"reputation":321,"user_id":2221654,"accept_rate":58,"display_name":"user2221654"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5050,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61064604,"answer_count":1,"score":0,"last_activity_date":1634139380,"creation_date":1586187407,"question_id":61063446,"body_markdown":"I have a Spark `Dataset&lt;Row&gt;` with lot of columns that have to be written to a text file with a tab delimiter. With csv its easy to specify that option, but how to handle this for a text file when using Java?","title":"How to write a spark dataframe tab delimited as a text file using java","body":"<p>I have a Spark <code>Dataset&lt;Row&gt;</code> with lot of columns that have to be written to a text file with a tab delimiter. With csv its easy to specify that option, but how to handle this for a text file when using Java?</p>\n"},{"tags":["java","android","xml","kotlin"],"answers":[{"tags":[],"owner":{"account_id":20901436,"reputation":401,"user_id":15380377,"display_name":"Dewerro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634139372,"creation_date":1634139372,"answer_id":69558372,"question_id":66886838,"body_markdown":"I used `CollapsingToolbarLayout` with `NestedScrollView `","title":"How to make this effect with ScrollView?","body":"<p>I used <code>CollapsingToolbarLayout</code> with <code>NestedScrollView </code></p>\n"}],"owner":{"account_id":20901436,"reputation":401,"user_id":15380377,"display_name":"Dewerro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69558372,"answer_count":1,"score":0,"last_activity_date":1634139372,"creation_date":1617189636,"question_id":66886838,"body_markdown":"I have a `ScrollView` that has its height and width set to `match_parent`. This `ScrollView` has a `RelativeLayout` with content. When the user scrolls the screen, this `RelativeLayout` covers the top of the screen. But the problem is that in this upper part of the screen, in addition to different views, there is a `close` button that should be clickable when it is visible, when the lower `RelativeLayout` covers it, it should be unclickable. The problem is that the `ScrollView` does not allow this button to be clicked. If we arrange the button in the `ScrollView` along the XML hierarchy, then it will also scroll, but I need the top views and this button to remain static.\r\nHere is [image][1] of how it should be.\r\n\r\n    &lt;carbon.widget.RelativeLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/cyan&quot;\r\n        tools:context=&quot;.OptionsActivity&quot;&gt;\r\n    \r\n        &lt;carbon.widget.Button\r\n            android:id=&quot;@+id/close&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:background=&quot;@drawable/close&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginTop=&quot;60dp&quot;\r\n            android:layout_marginEnd=&quot;21dp&quot;\r\n            app:carbon_elevation=&quot;0dp&quot; /&gt;\r\n\r\n        &lt;com.xw.repo.widget.BounceScrollView\r\n            android:id=&quot;@+id/scrollView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:scrollbars=&quot;none&quot;&gt;\r\n\r\n            &lt;carbon.widget.RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;110dp&quot;\r\n                android:fillViewport=&quot;true&quot;&gt;\r\n\r\n            &lt;!-- content --&gt;\r\n\r\n            &lt;/carbon.widget.RelativeLayout&gt;\r\n\r\n        &lt;/com.xw.repo.widget.BounceScrollView&gt;\r\n\r\n    &lt;/carbon.widget.RelativeLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nAPr9.jpg","title":"How to make this effect with ScrollView?","body":"<p>I have a <code>ScrollView</code> that has its height and width set to <code>match_parent</code>. This <code>ScrollView</code> has a <code>RelativeLayout</code> with content. When the user scrolls the screen, this <code>RelativeLayout</code> covers the top of the screen. But the problem is that in this upper part of the screen, in addition to different views, there is a <code>close</code> button that should be clickable when it is visible, when the lower <code>RelativeLayout</code> covers it, it should be unclickable. The problem is that the <code>ScrollView</code> does not allow this button to be clicked. If we arrange the button in the <code>ScrollView</code> along the XML hierarchy, then it will also scroll, but I need the top views and this button to remain static.\nHere is <a href=\"https://i.stack.imgur.com/nAPr9.jpg\" rel=\"nofollow noreferrer\">image</a> of how it should be.</p>\n<pre><code>&lt;carbon.widget.RelativeLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/cyan&quot;\n    tools:context=&quot;.OptionsActivity&quot;&gt;\n\n    &lt;carbon.widget.Button\n        android:id=&quot;@+id/close&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:background=&quot;@drawable/close&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:layout_marginEnd=&quot;21dp&quot;\n        app:carbon_elevation=&quot;0dp&quot; /&gt;\n\n    &lt;com.xw.repo.widget.BounceScrollView\n        android:id=&quot;@+id/scrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:scrollbars=&quot;none&quot;&gt;\n\n        &lt;carbon.widget.RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;110dp&quot;\n            android:fillViewport=&quot;true&quot;&gt;\n\n        &lt;!-- content --&gt;\n\n        &lt;/carbon.widget.RelativeLayout&gt;\n\n    &lt;/com.xw.repo.widget.BounceScrollView&gt;\n\n&lt;/carbon.widget.RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":485903,"reputation":44568,"user_id":902497,"display_name":"Raymond Chen"},"score":3,"creation_date":1633984523,"post_id":69530699,"comment_id":122900704,"body_markdown":"Some sort of memory barrier is requird to ensure that the contents of newDataObjectList are published to memory before the pointer is made visible.","body":"Some sort of memory barrier is requird to ensure that the contents of newDataObjectList are published to memory before the pointer is made visible."}],"answers":[{"tags":[],"owner":{"account_id":139001,"reputation":500,"user_id":4121151,"display_name":"Emmef"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633990975,"creation_date":1633987497,"answer_id":69532628,"question_id":69530699,"body_markdown":"Before going into the answer, let&#39;s first check if I understand the situation and the question. \r\n\r\n1. Assumption as stated in problem description:&lt;br/&gt; _Only a single thread creates new versions of the list, based on the previous value of `publicDataObject`, and stores that new list in `publicDataObject`._\r\n1. Derived assumption:&lt;br/&gt; _Other threads access `DataObject` elements from that list, but do not add, remove or change the order of elements._\r\n   * If this assumption holds, the answer is below. \r\n   * Otherwise, please make sure your question includes this in its description. This makes the answer much more complex, though, and I advise you to study the topic of concurrency more, for example by reading [a book about Java concurrency][2]. \r\n1. Additional assumption:&lt;br/&gt;_The `DataObject` objects themselves are [thread-safe][1]._ \r\n   * If this assumption does not hold, this would make the scope of the question too broad and I would suggest to study the topic of concurrency more, for example by reading [a book about Java concurrency][2].\r\n\r\n# Answer\r\n\r\nGiven that the above assumptions are true, you do not need a lock, however, you cannot just access `publicDataObject` from multiple threads, using its definition in you code example. The reason is the [Java Memory Model][3]. The Java Memory Model makes no guarantees whatsoever about threads seeing changes made by other threads, unless you use special language constructs like [atomic variables][4], [locks][5] or [synchronization][6].\r\n\r\nSimplified, these constructs ensure that a read in one thread that _happens after_ a write in another, can see that written value, as long as you are using the same construct: the same atomic variable, lock or synchronisation on the same object. Locks and intrinsic locks (used by synchronisation) can also ensure exclusive access of a single thread to a block of code.\r\n\r\nGiven, again, that the above assumptions are true, you can suffice using an [AtomicReference][7], whose `get` and `set` methods have the desired relationship:\r\n\r\n    // Definition\r\n    public AtomicReference&lt;List&lt;DataObject&gt;&gt; publicDataObject;\r\n\r\nThe reasons that a simple construct can be used that &quot;only&quot; guarantees visibility are:  \r\n* The list that `publicDataObject` _refers to_, is always a new one (the first assumption). Therefore, other threads can never see a stale value of the list itself. Making sure that threads see the correct value of `publicDataObject` is therefore enough\r\n* _As long as other threads don&#39;t change the list_. \r\n* If in addition, only thread sets `publicDataObject`, there can be no race conditions in setting it, for example loosing updates that are overwritten by more recent updates before ever being read. \r\n\r\n  [1]: https://stackoverflow.com/q/2033879/4121151\r\n  [2]: https://jcip.net/\r\n  [3]: https://en.wikipedia.org/wiki/Java_memory_model\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\r\n  [6]: https://stackoverflow.com/questions/1085709/what-does-synchronized-mean\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html","title":"Do I need a lock if I change object pointer instead of update the object?","body":"<p>Before going into the answer, let's first check if I understand the situation and the question.</p>\n<ol>\n<li>Assumption as stated in problem description:<br/> <em>Only a single thread creates new versions of the list, based on the previous value of <code>publicDataObject</code>, and stores that new list in <code>publicDataObject</code>.</em></li>\n<li>Derived assumption:<br/> <em>Other threads access <code>DataObject</code> elements from that list, but do not add, remove or change the order of elements.</em>\n<ul>\n<li>If this assumption holds, the answer is below.</li>\n<li>Otherwise, please make sure your question includes this in its description. This makes the answer much more complex, though, and I advise you to study the topic of concurrency more, for example by reading <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\">a book about Java concurrency</a>.</li>\n</ul>\n</li>\n<li>Additional assumption:<br/><em>The <code>DataObject</code> objects themselves are <a href=\"https://stackoverflow.com/q/2033879/4121151\">thread-safe</a>.</em>\n<ul>\n<li>If this assumption does not hold, this would make the scope of the question too broad and I would suggest to study the topic of concurrency more, for example by reading <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\">a book about Java concurrency</a>.</li>\n</ul>\n</li>\n</ol>\n<h1>Answer</h1>\n<p>Given that the above assumptions are true, you do not need a lock, however, you cannot just access <code>publicDataObject</code> from multiple threads, using its definition in you code example. The reason is the <a href=\"https://en.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\">Java Memory Model</a>. The Java Memory Model makes no guarantees whatsoever about threads seeing changes made by other threads, unless you use special language constructs like <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html\" rel=\"nofollow noreferrer\">atomic variables</a>, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\">locks</a> or <a href=\"https://stackoverflow.com/questions/1085709/what-does-synchronized-mean\">synchronization</a>.</p>\n<p>Simplified, these constructs ensure that a read in one thread that <em>happens after</em> a write in another, can see that written value, as long as you are using the same construct: the same atomic variable, lock or synchronisation on the same object. Locks and intrinsic locks (used by synchronisation) can also ensure exclusive access of a single thread to a block of code.</p>\n<p>Given, again, that the above assumptions are true, you can suffice using an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\">AtomicReference</a>, whose <code>get</code> and <code>set</code> methods have the desired relationship:</p>\n<pre><code>// Definition\npublic AtomicReference&lt;List&lt;DataObject&gt;&gt; publicDataObject;\n</code></pre>\n<p>The reasons that a simple construct can be used that &quot;only&quot; guarantees visibility are:</p>\n<ul>\n<li>The list that <code>publicDataObject</code> <em>refers to</em>, is always a new one (the first assumption). Therefore, other threads can never see a stale value of the list itself. Making sure that threads see the correct value of <code>publicDataObject</code> is therefore enough</li>\n<li><em>As long as other threads don't change the list</em>.</li>\n<li>If in addition, only thread sets <code>publicDataObject</code>, there can be no race conditions in setting it, for example loosing updates that are overwritten by more recent updates before ever being read.</li>\n</ul>\n"}],"owner":{"account_id":2918673,"reputation":143,"user_id":2501385,"display_name":"Wei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634139345,"creation_date":1633975759,"question_id":69530699,"body_markdown":"I&#39;m using Java to write a multithreading application. One question I have is I have a list that is accessed by multiple threads, and I have one thread trying to update it. However, each time, the update thread will create a new List and then make the public shared list point to the new List, like this:\r\n\r\n```\r\nPublic List&lt;DataObject&gt; publicDataObject = XXXX; // &lt;- this will be accessed by multiple threads\r\n```\r\n\r\nThen I have one thread updating this List:\r\n```\r\nList&lt;DataObject&gt; newDataObjectList = CreateNewDataObject();\r\npublicDataObject = newDataObjectList;\r\n```\r\n\r\nWhen I update the pointer of `publicDataObject`, do I need a lock to make it thread-safe?","title":"Do I need a lock if I change object pointer instead of update the object?","body":"<p>I'm using Java to write a multithreading application. One question I have is I have a list that is accessed by multiple threads, and I have one thread trying to update it. However, each time, the update thread will create a new List and then make the public shared list point to the new List, like this:</p>\n<pre><code>Public List&lt;DataObject&gt; publicDataObject = XXXX; // &lt;- this will be accessed by multiple threads\n</code></pre>\n<p>Then I have one thread updating this List:</p>\n<pre><code>List&lt;DataObject&gt; newDataObjectList = CreateNewDataObject();\npublicDataObject = newDataObjectList;\n</code></pre>\n<p>When I update the pointer of <code>publicDataObject</code>, do I need a lock to make it thread-safe?</p>\n"},{"tags":["java","spring","spring-mvc","classnotfoundexception"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634062801,"post_id":69542146,"comment_id":122924124,"body_markdown":"Can you please share your `pom.xml`? My bet is that you are using incompatible versions.","body":"Can you please share your <code>pom.xml</code>? My bet is that you are using incompatible versions."},{"owner":{"account_id":19445876,"reputation":15,"user_id":14223420,"display_name":"A_Name"},"score":0,"creation_date":1634063801,"post_id":69542146,"comment_id":122924481,"body_markdown":"There is no `pom.xml` since it&#39;s a dynamic web program.","body":"There is no <code>pom.xml</code> since it&#39;s a dynamic web program."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634065277,"post_id":69542146,"comment_id":122925004,"body_markdown":"Hum, you should definitely consider creating a maven project. Not only it is easier to setup but it is way easier to fix issues just like this (with dependency versions). Nevertheless, can you please tell us which Spring version are you using?","body":"Hum, you should definitely consider creating a maven project. Not only it is easier to setup but it is way easier to fix issues just like this (with dependency versions). Nevertheless, can you please tell us which Spring version are you using?"},{"owner":{"account_id":19445876,"reputation":15,"user_id":14223420,"display_name":"A_Name"},"score":0,"creation_date":1634135388,"post_id":69542146,"comment_id":122945554,"body_markdown":"Spring 5.0.2. (And I am not using Maven, since I couldn&#39;t find any good guides on how to set up a Spring MVC maven project without using Spring Boot, which I was expressly told not to use. Most of the guides I found didn&#39;t quite work.)","body":"Spring 5.0.2. (And I am not using Maven, since I couldn&#39;t find any good guides on how to set up a Spring MVC maven project without using Spring Boot, which I was expressly told not to use. Most of the guides I found didn&#39;t quite work.)"}],"answers":[{"tags":[],"owner":{"account_id":12319244,"reputation":92,"user_id":8988922,"display_name":"feshout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634052105,"creation_date":1634052105,"answer_id":69543111,"question_id":69542146,"body_markdown":"Check which version of jackson-databind you are using.\r\n\r\nAccording to that topic:\r\n\r\n[ClassNotFoundException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44718345/java-lang-noclassdeffounderror-com-fasterxml-jackson-databind-exc-invaliddefini","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException","body":"<p>Check which version of jackson-databind you are using.</p>\n<p>According to that topic:</p>\n<p><a href=\"https://stackoverflow.com/questions/44718345/java-lang-noclassdeffounderror-com-fasterxml-jackson-databind-exc-invaliddefini\">ClassNotFoundException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException</a></p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634139341,"creation_date":1634139341,"answer_id":69558363,"question_id":69542146,"body_markdown":"If you are using Spring 5.0.2 the supported Jackson version is 2.9.2. Still, you should definitely strive for creating a maven project instead. Managing your dependencies manually in your IDE is asking for trouble.","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException","body":"<p>If you are using Spring 5.0.2 the supported Jackson version is 2.9.2. Still, you should definitely strive for creating a maven project instead. Managing your dependencies manually in your IDE is asking for trouble.</p>\n"}],"owner":{"account_id":19445876,"reputation":15,"user_id":14223420,"display_name":"A_Name"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69543111,"answer_count":2,"score":0,"last_activity_date":1634139341,"creation_date":1634048107,"question_id":69542146,"body_markdown":"So I&#39;m trying to create a Spring MVC project using a Dynamic Web Project, and I&#39;m attempting to use an Employee class that will act as items in a database. However, I had an issue where it complains about my class not having a return value, despite having getters. I learned that I had to add jackson-core and jackson-databind to my project to get it to work. When I did that though, I got the following exception: \r\n\r\n```\r\nType Exception Report\r\n\r\nMessage Servlet.init() for servlet [dispatcher] threw exception\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Unknown Source)\r\nRoot Cause\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/exc/InvalidDefinitionException\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1232)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Unknown Source)\r\nRoot Cause\r\n\r\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/exc/InvalidDefinitionException\r\n\torg.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:175)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1224)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Unknown Source)\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/exc/InvalidDefinitionException\r\n\torg.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt;(AllEncompassingFormHttpMessageConverter.java:74)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.&lt;init&gt;(RequestMappingHandlerAdapter.java:190)\r\n\tsun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tsun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tsun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tjava.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\torg.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1224)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Unknown Source)\r\nRoot Cause\r\n\r\njava.lang.ClassNotFoundException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1415)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1223)\r\n\torg.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt;(AllEncompassingFormHttpMessageConverter.java:74)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.&lt;init&gt;(RequestMappingHandlerAdapter.java:190)\r\n\tsun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tsun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tsun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tjava.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\torg.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1224)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Unknown Source)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n```\r\n\r\nWhen I don&#39;t have the jackson files in there (and don&#39;t invoke the Employee class), the exception doesn&#39;t come up. Am I missing someting?\r\n\r\nThanks in advance!","title":"java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException","body":"<p>So I'm trying to create a Spring MVC project using a Dynamic Web Project, and I'm attempting to use an Employee class that will act as items in a database. However, I had an issue where it complains about my class not having a return value, despite having getters. I learned that I had to add jackson-core and jackson-databind to my project to get it to work. When I did that though, I got the following exception:</p>\n<pre><code>Type Exception Report\n\nMessage Servlet.init() for servlet [dispatcher] threw exception\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nRoot Cause\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/exc/InvalidDefinitionException\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1232)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nRoot Cause\n\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/exc/InvalidDefinitionException\n    org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:175)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1224)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nRoot Cause\n\njava.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/exc/InvalidDefinitionException\n    org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt;(AllEncompassingFormHttpMessageConverter.java:74)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.&lt;init&gt;(RequestMappingHandlerAdapter.java:190)\n    sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    java.lang.reflect.Constructor.newInstance(Unknown Source)\n    org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1224)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nRoot Cause\n\njava.lang.ClassNotFoundException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1415)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1223)\n    org.springframework.http.converter.support.AllEncompassingFormHttpMessageConverter.&lt;init&gt;(AllEncompassingFormHttpMessageConverter.java:74)\n    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.&lt;init&gt;(RequestMappingHandlerAdapter.java:190)\n    sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    java.lang.reflect.Constructor.newInstance(Unknown Source)\n    org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1224)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1131)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n    org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\n    org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$14/1293185169.getObject(Unknown Source)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:758)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:364)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:624)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:831)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1650)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\nNote The full stack trace of the root cause is available in the server logs.\n</code></pre>\n<p>When I don't have the jackson files in there (and don't invoke the Employee class), the exception doesn't come up. Am I missing someting?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1615270382,"post_id":66541632,"comment_id":117632382,"body_markdown":"Your question is unclear. What do you mean by &quot;make and array of the recent randomNumbers?&quot; It looks like your assignment suggests that you make an array of responses to user input. Is that what you meant?","body":"Your question is unclear. What do you mean by &quot;make and array of the recent randomNumbers?&quot; It looks like your assignment suggests that you make an array of responses to user input. Is that what you meant?"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1615270550,"post_id":66541632,"comment_id":117632426,"body_markdown":"There are two things to consider. First, you need to keep track of a number of answers that is unknown at the start of execution. You could use arrays for this, but generally a List is a better solution, as they don&#39;t have a predetermined size and won&#39;t require resizing if the user enters more answers than you&#39;re expecting. Second, your assignment asks to keep track of both the questions asked, the answers given, the remark used in response, and print out statistics, this means that your array or List should contain result objects of some sort.","body":"There are two things to consider. First, you need to keep track of a number of answers that is unknown at the start of execution. You could use arrays for this, but generally a List is a better solution, as they don&#39;t have a predetermined size and won&#39;t require resizing if the user enters more answers than you&#39;re expecting. Second, your assignment asks to keep track of both the questions asked, the answers given, the remark used in response, and print out statistics, this means that your array or List should contain result objects of some sort."},{"owner":{"account_id":18414402,"reputation":11,"user_id":13413735,"display_name":"jay"},"score":0,"creation_date":1615315866,"post_id":66541632,"comment_id":117651871,"body_markdown":"I mean if I do use array to track the unknown numbers and the users answer, how would I output this: For example, after the user input &quot;-1&quot; to exit the code it should output the past multiplication question, let&#39;s say the question is &quot;How much is 2 times 2?&quot; then the user answers, then exits it should output this:\n&quot;The questions generated by the system are:\n2 * 2 = 4 Your answer was 0, which is incorrect.\n&quot;","body":"I mean if I do use array to track the unknown numbers and the users answer, how would I output this: For example, after the user input &quot;-1&quot; to exit the code it should output the past multiplication question, let&#39;s say the question is &quot;How much is 2 times 2?&quot; then the user answers, then exits it should output this: &quot;The questions generated by the system are: 2 * 2 = 4 Your answer was 0, which is incorrect. &quot;"}],"owner":{"account_id":18414402,"reputation":11,"user_id":13413735,"display_name":"jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1634139339,"creation_date":1615269782,"question_id":66541632,"body_markdown":"&gt; Write a Java application program that will help an elementary school student learn multiplication. Use a Random object to produce two positive one digit integers. The program should then prompt the user with a question, such as\r\nHow much is 6 times 7?\r\n&gt; \r\n&gt; The student then inputs the answer. Next, the program checks the student’s answer. If it is correct, display one of the following the messages and ask another multiplication question.\r\n&gt; \r\n&gt; Responses to a correct answer:\r\n&gt; \r\n&gt; 1. Very good!\r\n&gt; 2. Excellent!\r\n&gt; 3. Nice work!\r\n&gt; 4. Keep up the good work!\r\n&gt; \r\n&gt; If the answer is wrong, display one of the following message the messages and also provide a correct answer.\r\n&gt; \r\n&gt; Responses to an incorrect answer:\r\n&gt; \r\n&gt; 1. No. Please try again.\r\n&gt; 2. Wrong. Try once more.\r\n&gt; 3. Don&#39;t give up!\r\n&gt; 4. No. Keep trying.\r\n&gt; \r\n&gt; You could use random-number generation to choose a number from 1 to 4 that will be used to select an appropriate response to each answer and use a switch statement to issue the responses.\r\n&gt; \r\n&gt; After the user enter -1 to exit the program. The program should print out all the questions, answers to those questions, remark to the wrong questions, statistics information about number of questions answered and answered incorrect, and a little remark. If the user has more than one third of the questions are wrong the remark should randomly choose from “Responses to an incorrect answer”, otherwise it should randomly choose from “Responses to a correct answer”.\r\n\r\nThis what I got so far. I don&#39;t know if I need to make and array of the recent randomNumbers and if I do, How would I call it ? a for loop?\r\n\r\n\r\n    import java.util.Scanner;\r\n    import java.security.SecureRandom;\r\n\r\n\r\n    class Main \r\n    {\r\n      public static void main(String[] args) \r\n      {\r\n        SecureRandom randomNumbers = new SecureRandom();\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        String[] correct = {&quot;Very Good!&quot;, &quot;Excellent&quot;, &quot;Nice Work!&quot;, &quot;Keep up the good work!&quot;};\r\n        String[] wrong = {&quot;No. Please try again.&quot;, &quot;Wrong. Try once more.&quot;, &quot;Don&#39;t give up!&quot;,        &quot;No. keep trying.&quot;};\r\n\r\n       int rand1 = 0;\r\n       int rand2 = 0;\r\n       int user = 0;\r\n       int anwer = 0;\r\n\r\n       do\r\n       {\r\n         rand1 = randomNumbers.nextInt(10);\r\n         rand2 = randomNumbers.nextInt(10);\r\n\r\n         System.out.printf(&quot;How much is %d times %d ?&quot;,rand1,rand2);\r\n\r\n         System.out.println();\r\n\r\n         System.out.print(&quot;Enter your answer (-1 to exit): &quot;);\r\n\r\n         anwer = rand1 * rand2;\r\n         user = input.nextInt();\r\n\r\n         if (anwer == user)\r\n         {\r\n            System.out.println(correct[randomNumbers.nextInt(4)]);\r\n         }\r\n\r\n         else\r\n         {\r\n            System.out.println(wrong[randomNumbers.nextInt(4)]);\r\n\r\n            System.out.printf(&quot;The correct answer is %d&quot;, anwer);\r\n\r\n            System.out.println();\r\n\r\n         }\r\n\r\n       } while  (user != -1);\r\n\r\n\r\n     }\r\n    }\r\n","title":"Multiplication quiz","body":"<blockquote>\n<p>Write a Java application program that will help an elementary school student learn multiplication. Use a Random object to produce two positive one digit integers. The program should then prompt the user with a question, such as\nHow much is 6 times 7?</p>\n<p>The student then inputs the answer. Next, the program checks the student’s answer. If it is correct, display one of the following the messages and ask another multiplication question.</p>\n<p>Responses to a correct answer:</p>\n<ol>\n<li>Very good!</li>\n<li>Excellent!</li>\n<li>Nice work!</li>\n<li>Keep up the good work!</li>\n</ol>\n<p>If the answer is wrong, display one of the following message the messages and also provide a correct answer.</p>\n<p>Responses to an incorrect answer:</p>\n<ol>\n<li>No. Please try again.</li>\n<li>Wrong. Try once more.</li>\n<li>Don't give up!</li>\n<li>No. Keep trying.</li>\n</ol>\n<p>You could use random-number generation to choose a number from 1 to 4 that will be used to select an appropriate response to each answer and use a switch statement to issue the responses.</p>\n<p>After the user enter -1 to exit the program. The program should print out all the questions, answers to those questions, remark to the wrong questions, statistics information about number of questions answered and answered incorrect, and a little remark. If the user has more than one third of the questions are wrong the remark should randomly choose from “Responses to an incorrect answer”, otherwise it should randomly choose from “Responses to a correct answer”.</p>\n</blockquote>\n<p>This what I got so far. I don't know if I need to make and array of the recent randomNumbers and if I do, How would I call it ? a for loop?</p>\n<pre><code>import java.util.Scanner;\nimport java.security.SecureRandom;\n\n\nclass Main \n{\n  public static void main(String[] args) \n  {\n    SecureRandom randomNumbers = new SecureRandom();\n    Scanner input = new Scanner(System.in);\n\n    String[] correct = {&quot;Very Good!&quot;, &quot;Excellent&quot;, &quot;Nice Work!&quot;, &quot;Keep up the good work!&quot;};\n    String[] wrong = {&quot;No. Please try again.&quot;, &quot;Wrong. Try once more.&quot;, &quot;Don't give up!&quot;,        &quot;No. keep trying.&quot;};\n\n   int rand1 = 0;\n   int rand2 = 0;\n   int user = 0;\n   int anwer = 0;\n\n   do\n   {\n     rand1 = randomNumbers.nextInt(10);\n     rand2 = randomNumbers.nextInt(10);\n\n     System.out.printf(&quot;How much is %d times %d ?&quot;,rand1,rand2);\n\n     System.out.println();\n\n     System.out.print(&quot;Enter your answer (-1 to exit): &quot;);\n\n     anwer = rand1 * rand2;\n     user = input.nextInt();\n\n     if (anwer == user)\n     {\n        System.out.println(correct[randomNumbers.nextInt(4)]);\n     }\n\n     else\n     {\n        System.out.println(wrong[randomNumbers.nextInt(4)]);\n\n        System.out.printf(&quot;The correct answer is %d&quot;, anwer);\n\n        System.out.println();\n\n     }\n\n   } while  (user != -1);\n\n\n }\n}\n</code></pre>\n"},{"tags":["java","multithreading","java-8","java-stream","java-17"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1634128362,"post_id":69555202,"comment_id":122942262,"body_markdown":"Check this question: [Parallel stream from a hashset doesn&#39;t run in parallel](https://stackoverflow.com/questions/28985704/parallel-stream-from-a-hashset-doesnt-run-in-parallel)","body":"Check this question: <a href=\"https://stackoverflow.com/questions/28985704/parallel-stream-from-a-hashset-doesnt-run-in-parallel\">Parallel stream from a hashset doesn&#39;t run in parallel</a>"},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1634131984,"post_id":69555202,"comment_id":122943958,"body_markdown":"I don&#39;t think I encountered the same problem: first of all I use JDK 17, even when I use custom `ForkJoinPool`, with parallelism of 20, only 2 threads are active","body":"I don&#39;t think I encountered the same problem: first of all I use JDK 17, even when I use custom <code>ForkJoinPool</code>, with parallelism of 20, only 2 threads are active"},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1634133958,"post_id":69555202,"comment_id":122944951,"body_markdown":"As the answer says - it&#39;s not guaranteed to work. Also, if I rewrite your code to use List instead of Set I see more threads used from the pool.","body":"As the answer says - it&#39;s not guaranteed to work. Also, if I rewrite your code to use List instead of Set I see more threads used from the pool."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1634134216,"post_id":69555202,"comment_id":122945053,"body_markdown":"As explained in the second half of [this answer](https://stackoverflow.com/a/44802784/2711488), `HashMap`s (and in turn `HashSet`s) with a small number of elements, compared to their (default) capacity may distribute their work badly, depending on the hash code distribution. You can work around this using `new ArrayList&lt;&gt;(subTrees).parallelStream()` but there are other flaws in your approach, like doing the work/wait before even starting to traverse the children. You should separate the iteration logic from the actual action.","body":"As explained in the second half of <a href=\"https://stackoverflow.com/a/44802784/2711488\">this answer</a>, <code>HashMap</code>s (and in turn <code>HashSet</code>s) with a small number of elements, compared to their (default) capacity may distribute their work badly, depending on the hash code distribution. You can work around this using <code>new ArrayList&lt;&gt;(subTrees).parallelStream()</code> but there are other flaws in your approach, like doing the work/wait before even starting to traverse the children. You should separate the iteration logic from the actual action."},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1634136931,"post_id":69555202,"comment_id":122946264,"body_markdown":"Thank you @Holger, it indeed solved my problem, can you rewrite your comment as official answer for getting the credit and the points :-)","body":"Thank you @Holger, it indeed solved my problem, can you rewrite your comment as official answer for getting the credit and the points :-)"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634139332,"creation_date":1634139332,"answer_id":69558359,"question_id":69555202,"body_markdown":"As explained in the second half of [this answer], the thread utilization when processing `HashMap`s or `HashSet`s depends on the distribution of the elements within the backing array, which depends on the hashcodes. Especially with with a small number of elements, compared to the (default) capacity, this may result in bad work splitting.\r\n\r\nA simple work-around is using `new ArrayList&lt;&gt;(subTrees).parallelStream()` instead of `subTrees.parallelStream()`.\r\n\r\nBut note that your method performs the actual work of the current node (in the example simulated with a `sleep`) before processing the children which also reduces the potential parallelism.\r\n\r\nYou may use\r\n\r\n```java\r\npublic void sendCommandAll() {\r\n    if(subTrees.isEmpty()) {\r\n        actualSendCommand();\r\n        return;\r\n    }\r\n    List&lt;Tree&lt;T&gt;&gt; tmp = new ArrayList&lt;&gt;(subTrees.size() + 1);\r\n    tmp.addAll(subTrees);\r\n    tmp.add(this);\r\n    tmp.parallelStream().forEach(t -&gt; {\r\n        if(t != this) t.sendCommandAll(); else t.actualSendCommand();\r\n    });\r\n}\r\n\r\nprivate void actualSendCommand() {\r\n    if (data != null)\r\n        System.out.println(&quot;[&quot; + Thread.currentThread().getName()\r\n                         + &quot;] sending command to &quot; + data);\r\n    try {\r\n        Thread.sleep(5000);\r\n    } catch (InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n    if (data != null)\r\n        System.out.println(&quot;[&quot; + Thread.currentThread().getName()\r\n                         + &quot;] tree with data &quot; + data + &quot; got &quot; + true);\r\n}\r\n```\r\n\r\nThis allows to process the current node concurrently to the processing of the children.\r\n\r\n[this answer]: https://stackoverflow.com/a/44802784/2711488\r\n\r\n","title":"Why ParallelStream won&#39;t use all commonPool&#39;s thread in recursion?","body":"<p>As explained in the second half of <a href=\"https://stackoverflow.com/a/44802784/2711488\">this answer</a>, the thread utilization when processing <code>HashMap</code>s or <code>HashSet</code>s depends on the distribution of the elements within the backing array, which depends on the hashcodes. Especially with with a small number of elements, compared to the (default) capacity, this may result in bad work splitting.</p>\n<p>A simple work-around is using <code>new ArrayList&lt;&gt;(subTrees).parallelStream()</code> instead of <code>subTrees.parallelStream()</code>.</p>\n<p>But note that your method performs the actual work of the current node (in the example simulated with a <code>sleep</code>) before processing the children which also reduces the potential parallelism.</p>\n<p>You may use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendCommandAll() {\n    if(subTrees.isEmpty()) {\n        actualSendCommand();\n        return;\n    }\n    List&lt;Tree&lt;T&gt;&gt; tmp = new ArrayList&lt;&gt;(subTrees.size() + 1);\n    tmp.addAll(subTrees);\n    tmp.add(this);\n    tmp.parallelStream().forEach(t -&gt; {\n        if(t != this) t.sendCommandAll(); else t.actualSendCommand();\n    });\n}\n\nprivate void actualSendCommand() {\n    if (data != null)\n        System.out.println(&quot;[&quot; + Thread.currentThread().getName()\n                         + &quot;] sending command to &quot; + data);\n    try {\n        Thread.sleep(5000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    if (data != null)\n        System.out.println(&quot;[&quot; + Thread.currentThread().getName()\n                         + &quot;] tree with data &quot; + data + &quot; got &quot; + true);\n}\n</code></pre>\n<p>This allows to process the current node concurrently to the processing of the children.</p>\n"}],"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":69558359,"answer_count":1,"score":7,"last_activity_date":1634139332,"creation_date":1634126557,"question_id":69555202,"body_markdown":"When I run the following code, only 2 out of 8 threads that available run, can anyone explain why is it the case? how can I change the code in such a way that it will take advantage of all 8 threads?\r\n\r\n`Tree.java`:\r\n```java\r\npackage il.co.roy;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\n\r\npublic class Tree&lt;T&gt;\r\n{\r\n\tprivate final T data;\r\n\tprivate final Set&lt;Tree&lt;T&gt;&gt; subTrees;\r\n\r\n\tpublic Tree(T data, Set&lt;Tree&lt;T&gt;&gt; subTrees)\r\n\t{\r\n\t\tthis.data = data;\r\n\t\tthis.subTrees = subTrees;\r\n\t}\r\n\r\n\tpublic Tree(T data)\r\n\t{\r\n\t\tthis(data, new HashSet&lt;&gt;());\r\n\t}\r\n\r\n\tpublic Tree()\r\n\t{\r\n\t\tthis(null);\r\n\t}\r\n\r\n\tpublic T getData()\r\n\t{\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic Set&lt;Tree&lt;T&gt;&gt; getSubTrees()\r\n\t{\r\n\t\treturn subTrees;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object o)\r\n\t{\r\n\t\tif (this == o)\r\n\t\t\treturn true;\r\n\t\tif (o == null || getClass() != o.getClass())\r\n\t\t\treturn false;\r\n\t\tTree&lt;?&gt; tree = (Tree&lt;?&gt;) o;\r\n\t\treturn Objects.equals(data, tree.data) &amp;&amp;\r\n\t\t\t\tObjects.equals(subTrees, tree.subTrees);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode()\r\n\t{\r\n\t\treturn Objects.hash(data, subTrees);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn &quot;Tree{&quot; +\r\n\t\t\t\t&quot;data=&quot; + data +\r\n\t\t\t\t&quot;, subTrees=&quot; + subTrees +\r\n\t\t\t\t&#39;}&#39;;\r\n\t}\r\n\r\n\tpublic void sendCommandAll()\r\n\t{\r\n\t\tif (data != null)\r\n\t\t\tSystem.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;] sending command to &quot; + data);\r\n\t\ttry\r\n\t\t{\r\n\t\t\tThread.sleep(5000);\r\n\t\t} catch (InterruptedException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tif (data != null)\r\n\t\t\tSystem.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;] tree with data &quot; + data + &quot; got &quot; + true);\r\n\t\tsubTrees.parallelStream()\r\n//\t\t\t\t.map(Tree::sendCommandAll)\r\n\t\t\t\t.forEach(Tree::sendCommandAll);\r\n//\t\t\t\t.reduce(true, (aBoolean, aBoolean2) -&gt; aBoolean &amp;&amp; aBoolean2);\r\n\t}\r\n}\r\n```\r\n(It doesn&#39;t matter if I use `forEach` or `reduce`).\r\n\r\n`Main.java`:\r\n```java\r\npackage il.co.roy;\r\n\r\nimport java.util.Set;\r\nimport java.util.concurrent.Executor;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String... args)\r\n\t{\r\n\t\tSystem.out.println(&quot;Processors: &quot; + Runtime.getRuntime().availableProcessors());\r\n\r\n\r\n\t\tfinal Tree&lt;Integer&gt; root = new Tree&lt;&gt;(null,\r\n\t\t\t\tSet.of(new Tree&lt;&gt;(1,\r\n\t\t\t\t\t\tIntStream.range(2, 7)\r\n\t\t\t\t\t\t\t\t\t\t.boxed()\r\n\t\t\t\t\t\t\t\t\t\t.map(Tree::new)\r\n\t\t\t\t\t\t\t\t\t\t.collect(Collectors.toSet()))));\r\n\r\n\t\troot.sendCommandAll();\r\n\r\n//\t\tIntStream.generate(() -&gt; 1)\r\n//\t\t\t\t.parallel()\r\n//\t\t\t\t.forEach(i -&gt;\r\n//\t\t\t\t{\r\n//\t\t\t\t\tSystem.out.println(Thread.currentThread().getName());\r\n//\t\t\t\t\ttry\r\n//\t\t\t\t\t{\r\n//\t\t\t\t\t\tThread.sleep(5000);\r\n//\t\t\t\t\t} catch (InterruptedException e)\r\n//\t\t\t\t\t{\r\n//\t\t\t\t\t\te.printStackTrace();\r\n//\t\t\t\t\t}\r\n//\t\t\t\t});\r\n\t}\r\n}\r\n```\r\nIn the `main` method I create a tree with the following structure:\\\r\n```\r\nroot (data is `null`)\r\n  |- 1\r\n     |- 2\r\n     |- 3\r\n     |- 4\r\n     |- 5\r\n     |- 6\r\n```\r\n`sendCommandAll` function process every sub-tree (in parallel) only if it&#39;s parent finishes to be processed.\r\nbut the result is as follows:\r\n\r\n&gt; Processors: 8\\\r\n&gt; [main] sending command to 1\\\r\n&gt; [main] tree with data 1 got true\\\r\n&gt; [main] sending command to 6\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] sending command to 5\\\r\n&gt; [main] tree with data 6 got true\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] tree with data 5 got true\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] sending command to 4\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] tree with data 4 got true\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] sending command to 3\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] tree with data 3 got true\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] sending command to 2\\\r\n&gt; [ForkJoinPool.commonPool-worker-2] tree with data 2 got true\r\n\r\n(For the record, when I execute the commented code in `Main.java`, the JVM uses all 7 (+ 1) threads available `commonPool`)\r\n\r\nHow can I improve my code?","title":"Why ParallelStream won&#39;t use all commonPool&#39;s thread in recursion?","body":"<p>When I run the following code, only 2 out of 8 threads that available run, can anyone explain why is it the case? how can I change the code in such a way that it will take advantage of all 8 threads?</p>\n<p><code>Tree.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package il.co.roy;\n\nimport java.util.HashSet;\nimport java.util.Objects;\nimport java.util.Set;\n\npublic class Tree&lt;T&gt;\n{\n    private final T data;\n    private final Set&lt;Tree&lt;T&gt;&gt; subTrees;\n\n    public Tree(T data, Set&lt;Tree&lt;T&gt;&gt; subTrees)\n    {\n        this.data = data;\n        this.subTrees = subTrees;\n    }\n\n    public Tree(T data)\n    {\n        this(data, new HashSet&lt;&gt;());\n    }\n\n    public Tree()\n    {\n        this(null);\n    }\n\n    public T getData()\n    {\n        return data;\n    }\n\n    public Set&lt;Tree&lt;T&gt;&gt; getSubTrees()\n    {\n        return subTrees;\n    }\n\n    @Override\n    public boolean equals(Object o)\n    {\n        if (this == o)\n            return true;\n        if (o == null || getClass() != o.getClass())\n            return false;\n        Tree&lt;?&gt; tree = (Tree&lt;?&gt;) o;\n        return Objects.equals(data, tree.data) &amp;&amp;\n                Objects.equals(subTrees, tree.subTrees);\n    }\n\n    @Override\n    public int hashCode()\n    {\n        return Objects.hash(data, subTrees);\n    }\n\n    @Override\n    public String toString()\n    {\n        return &quot;Tree{&quot; +\n                &quot;data=&quot; + data +\n                &quot;, subTrees=&quot; + subTrees +\n                '}';\n    }\n\n    public void sendCommandAll()\n    {\n        if (data != null)\n            System.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;] sending command to &quot; + data);\n        try\n        {\n            Thread.sleep(5000);\n        } catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n        if (data != null)\n            System.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;] tree with data &quot; + data + &quot; got &quot; + true);\n        subTrees.parallelStream()\n//              .map(Tree::sendCommandAll)\n                .forEach(Tree::sendCommandAll);\n//              .reduce(true, (aBoolean, aBoolean2) -&gt; aBoolean &amp;&amp; aBoolean2);\n    }\n}\n</code></pre>\n<p>(It doesn't matter if I use <code>forEach</code> or <code>reduce</code>).</p>\n<p><code>Main.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package il.co.roy;\n\nimport java.util.Set;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class Main\n{\n    public static void main(String... args)\n    {\n        System.out.println(&quot;Processors: &quot; + Runtime.getRuntime().availableProcessors());\n\n\n        final Tree&lt;Integer&gt; root = new Tree&lt;&gt;(null,\n                Set.of(new Tree&lt;&gt;(1,\n                        IntStream.range(2, 7)\n                                        .boxed()\n                                        .map(Tree::new)\n                                        .collect(Collectors.toSet()))));\n\n        root.sendCommandAll();\n\n//      IntStream.generate(() -&gt; 1)\n//              .parallel()\n//              .forEach(i -&gt;\n//              {\n//                  System.out.println(Thread.currentThread().getName());\n//                  try\n//                  {\n//                      Thread.sleep(5000);\n//                  } catch (InterruptedException e)\n//                  {\n//                      e.printStackTrace();\n//                  }\n//              });\n    }\n}\n</code></pre>\n<p>In the <code>main</code> method I create a tree with the following structure:\\</p>\n<pre><code>root (data is `null`)\n  |- 1\n     |- 2\n     |- 3\n     |- 4\n     |- 5\n     |- 6\n</code></pre>\n<p><code>sendCommandAll</code> function process every sub-tree (in parallel) only if it's parent finishes to be processed.\nbut the result is as follows:</p>\n<blockquote>\n<p>Processors: 8<br />\n[main] sending command to 1<br />\n[main] tree with data 1 got true<br />\n[main] sending command to 6<br />\n[ForkJoinPool.commonPool-worker-2] sending command to 5<br />\n[main] tree with data 6 got true<br />\n[ForkJoinPool.commonPool-worker-2] tree with data 5 got true<br />\n[ForkJoinPool.commonPool-worker-2] sending command to 4<br />\n[ForkJoinPool.commonPool-worker-2] tree with data 4 got true<br />\n[ForkJoinPool.commonPool-worker-2] sending command to 3<br />\n[ForkJoinPool.commonPool-worker-2] tree with data 3 got true<br />\n[ForkJoinPool.commonPool-worker-2] sending command to 2<br />\n[ForkJoinPool.commonPool-worker-2] tree with data 2 got true</p>\n</blockquote>\n<p>(For the record, when I execute the commented code in <code>Main.java</code>, the JVM uses all 7 (+ 1) threads available <code>commonPool</code>)</p>\n<p>How can I improve my code?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":14260,"reputation":10715,"user_id":29192,"accept_rate":64,"display_name":"Domchi"},"score":1,"creation_date":1313712468,"post_id":7115445,"comment_id":8525392,"body_markdown":"Optimal in a sense that changing defaults gives better performance (faster put() execution) for this case.","body":"Optimal in a sense that changing defaults gives better performance (faster put() execution) for this case."},{"owner":{"account_id":269831,"reputation":4031,"user_id":559415,"accept_rate":100,"display_name":"Peter"},"score":0,"creation_date":1319655462,"post_id":7115445,"comment_id":9655899,"body_markdown":"Great post.  Na&#239;ve question: what does GC mean?","body":"Great post.  Na&#239;ve question: what does GC mean?"},{"owner":{"account_id":14260,"reputation":10715,"user_id":29192,"accept_rate":64,"display_name":"Domchi"},"score":2,"creation_date":1319663054,"post_id":7115445,"comment_id":9657977,"body_markdown":"@Peter GC = garbage collection.","body":"@Peter GC = garbage collection."},{"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"score":2,"creation_date":1320111749,"post_id":7115445,"comment_id":9733680,"body_markdown":"Those charts are neat... What&#39;d you use to generate/render them?","body":"Those charts are neat... What&#39;d you use to generate/render them?"},{"owner":{"account_id":14260,"reputation":10715,"user_id":29192,"accept_rate":64,"display_name":"Domchi"},"score":1,"creation_date":1323104268,"post_id":7115445,"comment_id":10355528,"body_markdown":"@G_H Nothing fancy - output of the above program and Excel. :)","body":"@G_H Nothing fancy - output of the above program and Excel. :)"},{"owner":{"account_id":1252466,"reputation":79539,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":2,"creation_date":1364680617,"post_id":7115445,"comment_id":22336751,"body_markdown":"Next time, use points instead of lines. It will make the comparison easier visually.","body":"Next time, use points instead of lines. It will make the comparison easier visually."}],"answers":[{"tags":[],"owner":{"account_id":198745,"reputation":1316,"user_id":443593,"accept_rate":100,"display_name":"badroit"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1313725714,"creation_date":1313711290,"answer_id":7115485,"question_id":7115445,"body_markdown":"Just go with `101`. I&#39;m not actually sure that it&#39;s needed, but it couldn&#39;t possibly be worth the effort to ever bother finding out for sure.\r\n\r\n\r\n...just add the `1`.\r\n\r\n-------------------\r\n\r\n**EDIT:** Some justification for my answer. \r\n\r\nFirst, I&#39;m assuming that your `HashMap` will not grow beyond `100`; *if it does, you should leave the load-factor as it is.* Similarly, if your concern is performance, *leave the load-factor as is*. If your concern is memory, you can save some by setting the static size. This *might* maybe be worth doing if you&#39;re cramming a lot of stuff in memory; i.e., are storing many maps, or creating heap-space-stressing-sized maps.\r\n\r\nSecond, I choose the value `101` because it offers better readability... if I&#39;m looking at your code afterwards and see that you&#39;ve set the initial capacity to `100` and you&#39;re loading it with `100` elements, I&#39;m going to have to read through the Javadoc to make sure that it won&#39;t resize when it reaches precisely `100`. Of course, I won&#39;t find the answer there, so I&#39;ll have to look at the source. This is not worth it... just leave it `101` and everyone is happy and no-one is looking though the source-code of `java.util.HashMap`. Hoorah.\r\n\r\nThird, the claim that setting the `HashMap` to the exact capacity of what you expect with a load factor of `1` [&quot;**will kill your lookup and insertion performance**&quot;][1] is just not true, even if it&#39;s made in bold. \r\n\r\n...if you have `n` buckets, and you randomly assign `n` items into `n` buckets, yep, you&#39;re going to end up with items in the same bucket, sure... but that&#39;s not the end of the world... in practice, it&#39;s just a couple more equals comparisons. In fact, there&#39;s esp. little difference when you consider that the alternative is assigning `n` items into `n/0.75` buckets. \r\n\r\nNo need to take my word for it...\r\n\r\n------------------\r\n\r\n**Quick test code:**\r\n\r\n    static Random r = new Random();\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tint[] tests = {100, 1000, 10000};\r\n\t\tint runs = 5000;\r\n\t\t\r\n\t\tfloat lf_sta = 1f;\r\n\t\tfloat lf_dyn = 0.75f;\r\n\t\t\r\n\t\tfor(int t:tests){\r\n\t\t\tSystem.err.println(&quot;=======Test Put &quot;+t+&quot;&quot;);\r\n\t\t\tHashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\r\n\t\t\tlong norm_put = testInserts(map, t, runs);\r\n\t\t\tSystem.err.print(&quot;Norm put:&quot;+norm_put+&quot; ms. &quot;);\r\n\t\t\t\r\n\t\t\tint cap_sta = t;\r\n\t\t\tmap = new HashMap&lt;Integer,Integer&gt;(cap_sta, lf_sta);\r\n\t\t\tlong sta_put = testInserts(map, t, runs);\r\n\t\t\tSystem.err.print(&quot;Static put:&quot;+sta_put+&quot; ms. &quot;);\r\n\t\t\t\r\n\t\t\tint cap_dyn = (int)Math.ceil((float)t/lf_dyn);\r\n\t\t\tmap = new HashMap&lt;Integer,Integer&gt;(cap_dyn, lf_dyn);\r\n\t\t\tlong dyn_put = testInserts(map, t, runs);\r\n\t\t\tSystem.err.println(&quot;Dynamic put:&quot;+dyn_put+&quot; ms. &quot;);\r\n\t\t}\r\n\t\t\r\n\t\tfor(int t:tests){\r\n\t\t\tSystem.err.println(&quot;=======Test Get (hits) &quot;+t+&quot;&quot;);\r\n\t\t\tHashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\r\n\t\t\tfill(map, t);\r\n\t\t\tlong norm_get_hits = testGetHits(map, t, runs);\r\n\t\t\tSystem.err.print(&quot;Norm get (hits):&quot;+norm_get_hits+&quot; ms. &quot;);\r\n\t\t\t\r\n\t\t\tint cap_sta = t;\r\n\t\t\tmap = new HashMap&lt;Integer,Integer&gt;(cap_sta, lf_sta);\r\n\t\t\tfill(map, t);\r\n\t\t\tlong sta_get_hits = testGetHits(map, t, runs);\r\n\t\t\tSystem.err.print(&quot;Static get (hits):&quot;+sta_get_hits+&quot; ms. &quot;);\r\n\t\t\t\r\n\t\t\tint cap_dyn = (int)Math.ceil((float)t/lf_dyn);\r\n\t\t\tmap = new HashMap&lt;Integer,Integer&gt;(cap_dyn, lf_dyn);\r\n\t\t\tfill(map, t);\r\n\t\t\tlong dyn_get_hits = testGetHits(map, t, runs);\r\n\t\t\tSystem.err.println(&quot;Dynamic get (hits):&quot;+dyn_get_hits+&quot; ms. &quot;);\r\n\t\t}\r\n\t\t\r\n\t\tfor(int t:tests){\r\n\t\t\tSystem.err.println(&quot;=======Test Get (Rand) &quot;+t+&quot;&quot;);\r\n\t\t\tHashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\r\n\t\t\tfill(map, t);\r\n\t\t\tlong norm_get_rand = testGetRand(map, t, runs);\r\n\t\t\tSystem.err.print(&quot;Norm get (rand):&quot;+norm_get_rand+&quot; ms. &quot;);\r\n\t\t\t\r\n\t\t\tint cap_sta = t;\r\n\t\t\tmap = new HashMap&lt;Integer,Integer&gt;(cap_sta, lf_sta);\r\n\t\t\tfill(map, t);\r\n\t\t\tlong sta_get_rand = testGetRand(map, t, runs);\r\n\t\t\tSystem.err.print(&quot;Static get (rand):&quot;+sta_get_rand+&quot; ms. &quot;);\r\n\t\t\t\r\n\t\t\tint cap_dyn = (int)Math.ceil((float)t/lf_dyn);\r\n\t\t\tmap = new HashMap&lt;Integer,Integer&gt;(cap_dyn, lf_dyn);\r\n\t\t\tfill(map, t);\r\n\t\t\tlong dyn_get_rand = testGetRand(map, t, runs);\r\n\t\t\tSystem.err.println(&quot;Dynamic get (rand):&quot;+dyn_get_rand+&quot; ms. &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static long testInserts(HashMap&lt;Integer,Integer&gt; map, int test, int runs){\r\n\t\tlong b4 = System.currentTimeMillis();\r\n\t\t\r\n\t\tfor(int i=0; i&lt;runs; i++){\r\n\t\t\tfill(map, test);\r\n\t\t\tmap.clear();\r\n\t\t}\r\n\t\treturn System.currentTimeMillis()-b4;\r\n\t}\r\n\t\r\n\tpublic static void fill(HashMap&lt;Integer,Integer&gt; map, int test){\r\n\t\tfor(int j=0; j&lt;test; j++){\r\n\t\t\tif(map.put(r.nextInt(), j)!=null){\r\n\t\t\t\tj--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static long testGetHits(HashMap&lt;Integer,Integer&gt; map, int test, int runs){\r\n\t\tlong b4 = System.currentTimeMillis();\r\n\t\t\r\n\t\tArrayList&lt;Integer&gt; keys = new ArrayList&lt;Integer&gt;();\r\n\t\tkeys.addAll(map.keySet());\r\n\t\t\r\n\t\tfor(int i=0; i&lt;runs; i++){\r\n\t\t\tfor(int j=0; j&lt;test; j++){\r\n\t\t\t\tkeys.get(r.nextInt(keys.size()));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn System.currentTimeMillis()-b4;\r\n\t}\r\n\t\r\n\tpublic static long testGetRand(HashMap&lt;Integer,Integer&gt; map, int test, int runs){\r\n\t\tlong b4 = System.currentTimeMillis();\r\n\t\t\r\n\t\tfor(int i=0; i&lt;runs; i++){\r\n\t\t\tfor(int j=0; j&lt;test; j++){\r\n\t\t\t\tmap.get(r.nextInt());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn System.currentTimeMillis()-b4;\r\n\t}\r\n\r\n------------\r\n\r\n**Test Results:**\r\n\r\n    =======Test Put 100\r\n    Norm put:78 ms. Static put:78 ms. Dynamic put:62 ms. \r\n    =======Test Put 1000\r\n    Norm put:764 ms. Static put:763 ms. Dynamic put:748 ms. \r\n    =======Test Put 10000\r\n    Norm put:12921 ms. Static put:12889 ms. Dynamic put:12873 ms. \r\n    =======Test Get (hits) 100\r\n    Norm get (hits):47 ms. Static get (hits):31 ms. Dynamic get (hits):32 ms. \r\n    =======Test Get (hits) 1000\r\n    Norm get (hits):327 ms. Static get (hits):328 ms. Dynamic get (hits):343 ms. \r\n    =======Test Get (hits) 10000\r\n    Norm get (hits):3304 ms. Static get (hits):3366 ms. Dynamic get (hits):3413 ms. \r\n    =======Test Get (Rand) 100\r\n    Norm get (rand):63 ms. Static get (rand):46 ms. Dynamic get (rand):47 ms. \r\n    =======Test Get (Rand) 1000\r\n    Norm get (rand):483 ms. Static get (rand):499 ms. Dynamic get (rand):483 ms. \r\n    =======Test Get (Rand) 10000\r\n    Norm get (rand):5190 ms. Static get (rand):5362 ms. Dynamic get (rand):5236 ms. \r\n\r\nre: &amp;uarr; &amp;mdash; **there&#39;s about this** &amp;rarr;||&amp;larr; **much difference between the different settings**.\r\n\r\n-----------\r\n\r\nWith respect to my original answer (the bit above the first horizontal line), it was deliberately glib because in *most cases*, [this type of micro-optimising is not good][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7115445/what-is-the-optimal-capacity-and-load-factor-for-a-fixed-size-hashmap/7115550#7115550\r\n  [2]: http://en.wikipedia.org/wiki/Program_optimization#Quotes","title":"What is the optimal capacity and load factor for a fixed-size HashMap?","body":"<p>Just go with <code>101</code>. I'm not actually sure that it's needed, but it couldn't possibly be worth the effort to ever bother finding out for sure.</p>\n\n<p>...just add the <code>1</code>.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> Some justification for my answer. </p>\n\n<p>First, I'm assuming that your <code>HashMap</code> will not grow beyond <code>100</code>; <em>if it does, you should leave the load-factor as it is.</em> Similarly, if your concern is performance, <em>leave the load-factor as is</em>. If your concern is memory, you can save some by setting the static size. This <em>might</em> maybe be worth doing if you're cramming a lot of stuff in memory; i.e., are storing many maps, or creating heap-space-stressing-sized maps.</p>\n\n<p>Second, I choose the value <code>101</code> because it offers better readability... if I'm looking at your code afterwards and see that you've set the initial capacity to <code>100</code> and you're loading it with <code>100</code> elements, I'm going to have to read through the Javadoc to make sure that it won't resize when it reaches precisely <code>100</code>. Of course, I won't find the answer there, so I'll have to look at the source. This is not worth it... just leave it <code>101</code> and everyone is happy and no-one is looking though the source-code of <code>java.util.HashMap</code>. Hoorah.</p>\n\n<p>Third, the claim that setting the <code>HashMap</code> to the exact capacity of what you expect with a load factor of <code>1</code> <a href=\"https://stackoverflow.com/questions/7115445/what-is-the-optimal-capacity-and-load-factor-for-a-fixed-size-hashmap/7115550#7115550\">\"<strong>will kill your lookup and insertion performance</strong>\"</a> is just not true, even if it's made in bold. </p>\n\n<p>...if you have <code>n</code> buckets, and you randomly assign <code>n</code> items into <code>n</code> buckets, yep, you're going to end up with items in the same bucket, sure... but that's not the end of the world... in practice, it's just a couple more equals comparisons. In fact, there's esp. little difference when you consider that the alternative is assigning <code>n</code> items into <code>n/0.75</code> buckets. </p>\n\n<p>No need to take my word for it...</p>\n\n<hr>\n\n<p><strong>Quick test code:</strong></p>\n\n<pre><code>static Random r = new Random();\n\npublic static void main(String[] args){\n    int[] tests = {100, 1000, 10000};\n    int runs = 5000;\n\n    float lf_sta = 1f;\n    float lf_dyn = 0.75f;\n\n    for(int t:tests){\n        System.err.println(\"=======Test Put \"+t+\"\");\n        HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\n        long norm_put = testInserts(map, t, runs);\n        System.err.print(\"Norm put:\"+norm_put+\" ms. \");\n\n        int cap_sta = t;\n        map = new HashMap&lt;Integer,Integer&gt;(cap_sta, lf_sta);\n        long sta_put = testInserts(map, t, runs);\n        System.err.print(\"Static put:\"+sta_put+\" ms. \");\n\n        int cap_dyn = (int)Math.ceil((float)t/lf_dyn);\n        map = new HashMap&lt;Integer,Integer&gt;(cap_dyn, lf_dyn);\n        long dyn_put = testInserts(map, t, runs);\n        System.err.println(\"Dynamic put:\"+dyn_put+\" ms. \");\n    }\n\n    for(int t:tests){\n        System.err.println(\"=======Test Get (hits) \"+t+\"\");\n        HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\n        fill(map, t);\n        long norm_get_hits = testGetHits(map, t, runs);\n        System.err.print(\"Norm get (hits):\"+norm_get_hits+\" ms. \");\n\n        int cap_sta = t;\n        map = new HashMap&lt;Integer,Integer&gt;(cap_sta, lf_sta);\n        fill(map, t);\n        long sta_get_hits = testGetHits(map, t, runs);\n        System.err.print(\"Static get (hits):\"+sta_get_hits+\" ms. \");\n\n        int cap_dyn = (int)Math.ceil((float)t/lf_dyn);\n        map = new HashMap&lt;Integer,Integer&gt;(cap_dyn, lf_dyn);\n        fill(map, t);\n        long dyn_get_hits = testGetHits(map, t, runs);\n        System.err.println(\"Dynamic get (hits):\"+dyn_get_hits+\" ms. \");\n    }\n\n    for(int t:tests){\n        System.err.println(\"=======Test Get (Rand) \"+t+\"\");\n        HashMap&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();\n        fill(map, t);\n        long norm_get_rand = testGetRand(map, t, runs);\n        System.err.print(\"Norm get (rand):\"+norm_get_rand+\" ms. \");\n\n        int cap_sta = t;\n        map = new HashMap&lt;Integer,Integer&gt;(cap_sta, lf_sta);\n        fill(map, t);\n        long sta_get_rand = testGetRand(map, t, runs);\n        System.err.print(\"Static get (rand):\"+sta_get_rand+\" ms. \");\n\n        int cap_dyn = (int)Math.ceil((float)t/lf_dyn);\n        map = new HashMap&lt;Integer,Integer&gt;(cap_dyn, lf_dyn);\n        fill(map, t);\n        long dyn_get_rand = testGetRand(map, t, runs);\n        System.err.println(\"Dynamic get (rand):\"+dyn_get_rand+\" ms. \");\n    }\n}\n\npublic static long testInserts(HashMap&lt;Integer,Integer&gt; map, int test, int runs){\n    long b4 = System.currentTimeMillis();\n\n    for(int i=0; i&lt;runs; i++){\n        fill(map, test);\n        map.clear();\n    }\n    return System.currentTimeMillis()-b4;\n}\n\npublic static void fill(HashMap&lt;Integer,Integer&gt; map, int test){\n    for(int j=0; j&lt;test; j++){\n        if(map.put(r.nextInt(), j)!=null){\n            j--;\n        }\n    }\n}\n\npublic static long testGetHits(HashMap&lt;Integer,Integer&gt; map, int test, int runs){\n    long b4 = System.currentTimeMillis();\n\n    ArrayList&lt;Integer&gt; keys = new ArrayList&lt;Integer&gt;();\n    keys.addAll(map.keySet());\n\n    for(int i=0; i&lt;runs; i++){\n        for(int j=0; j&lt;test; j++){\n            keys.get(r.nextInt(keys.size()));\n        }\n    }\n    return System.currentTimeMillis()-b4;\n}\n\npublic static long testGetRand(HashMap&lt;Integer,Integer&gt; map, int test, int runs){\n    long b4 = System.currentTimeMillis();\n\n    for(int i=0; i&lt;runs; i++){\n        for(int j=0; j&lt;test; j++){\n            map.get(r.nextInt());\n        }\n    }\n    return System.currentTimeMillis()-b4;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Test Results:</strong></p>\n\n<pre><code>=======Test Put 100\nNorm put:78 ms. Static put:78 ms. Dynamic put:62 ms. \n=======Test Put 1000\nNorm put:764 ms. Static put:763 ms. Dynamic put:748 ms. \n=======Test Put 10000\nNorm put:12921 ms. Static put:12889 ms. Dynamic put:12873 ms. \n=======Test Get (hits) 100\nNorm get (hits):47 ms. Static get (hits):31 ms. Dynamic get (hits):32 ms. \n=======Test Get (hits) 1000\nNorm get (hits):327 ms. Static get (hits):328 ms. Dynamic get (hits):343 ms. \n=======Test Get (hits) 10000\nNorm get (hits):3304 ms. Static get (hits):3366 ms. Dynamic get (hits):3413 ms. \n=======Test Get (Rand) 100\nNorm get (rand):63 ms. Static get (rand):46 ms. Dynamic get (rand):47 ms. \n=======Test Get (Rand) 1000\nNorm get (rand):483 ms. Static get (rand):499 ms. Dynamic get (rand):483 ms. \n=======Test Get (Rand) 10000\nNorm get (rand):5190 ms. Static get (rand):5362 ms. Dynamic get (rand):5236 ms. \n</code></pre>\n\n<p>re: &uarr; &mdash; <strong>there's about this</strong> &rarr;||&larr; <strong>much difference between the different settings</strong>.</p>\n\n<hr>\n\n<p>With respect to my original answer (the bit above the first horizontal line), it was deliberately glib because in <em>most cases</em>, <a href=\"http://en.wikipedia.org/wiki/Program_optimization#Quotes\" rel=\"nofollow noreferrer\">this type of micro-optimising is not good</a>.</p>\n"},{"tags":[],"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1313712548,"creation_date":1313711895,"answer_id":7115550,"question_id":7115445,"body_markdown":"From the `HashMap` JavaDoc:\r\n\r\n*As a general rule, the default load factor (.75) offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.* \r\n\r\nSo if you&#39;re expecting 100 entries, perhaps a load factor of 0.75 and an initial capacity of ceiling(100/0.75) would be best. That comes down to 134.\r\n\r\nI have to admit, I&#39;m not certain why lookup cost would be greater for a higher load factor. Just because the HashMap is more &quot;crowded&quot; doesn&#39;t mean that more objects will be placed in the same bucket, right? That only depends on their hash code, if I&#39;m not mistaken. So assuming a decent hash code spread, shouldn&#39;t most cases still be O(1) regardless of load factor?\r\n\r\nEDIT: I should read more before posting... Of course the hash code cannot directly map to some internal index. It must be reduced to a value that fits the current capacity. Meaning that the greater your initial capacity, the smaller you can expect the number of hash collisions to be. Choosing an initial capacity exactly the size (or +1) of your object set with a load factor of 1 will indeed make sure that your map is never resized. However, **it will kill your lookup and insertion performance**. A resize is still relatively quick and would only occur maybe once, while lookups are done on pretty much any relevant work with the map. As a result, optimizing for quick lookups is what you really want here. You can combine that with never having to resize by doing as the JavaDoc says: take your required capacity, divide by an optimal load factor (e.g. 0.75) and use that as the initial capacity, with that load factor. Add 1 to make sure rounding doesn&#39;t get you.","title":"What is the optimal capacity and load factor for a fixed-size HashMap?","body":"<p>From the <code>HashMap</code> JavaDoc:</p>\n\n<p><em>As a general rule, the default load factor (.75) offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.</em> </p>\n\n<p>So if you're expecting 100 entries, perhaps a load factor of 0.75 and an initial capacity of ceiling(100/0.75) would be best. That comes down to 134.</p>\n\n<p>I have to admit, I'm not certain why lookup cost would be greater for a higher load factor. Just because the HashMap is more \"crowded\" doesn't mean that more objects will be placed in the same bucket, right? That only depends on their hash code, if I'm not mistaken. So assuming a decent hash code spread, shouldn't most cases still be O(1) regardless of load factor?</p>\n\n<p>EDIT: I should read more before posting... Of course the hash code cannot directly map to some internal index. It must be reduced to a value that fits the current capacity. Meaning that the greater your initial capacity, the smaller you can expect the number of hash collisions to be. Choosing an initial capacity exactly the size (or +1) of your object set with a load factor of 1 will indeed make sure that your map is never resized. However, <strong>it will kill your lookup and insertion performance</strong>. A resize is still relatively quick and would only occur maybe once, while lookups are done on pretty much any relevant work with the map. As a result, optimizing for quick lookups is what you really want here. You can combine that with never having to resize by doing as the JavaDoc says: take your required capacity, divide by an optimal load factor (e.g. 0.75) and use that as the initial capacity, with that load factor. Add 1 to make sure rounding doesn't get you.</p>\n"},{"tags":[],"owner":{"account_id":314772,"reputation":11799,"user_id":630136,"accept_rate":91,"display_name":"G_H"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1634138657,"creation_date":1314050965,"answer_id":7154181,"question_id":7115445,"body_markdown":"Alright, to put this thing to rest, I&#39;ve created a test app to run a couple of scenarios and get some visualizations of the results. Here&#39;s how the tests are done:\r\n\r\n* A number of different collection sizes have been tried: one hundred, one thousand and one hundred thousand entries.\r\n* The keys used are instances of a class that are uniquely identified by an ID. Each test uses unique keys, with incrementing integers as IDs. The `equals` method only uses the ID, so no key mapping overwrites another one. \r\n* The keys get a hash code that consists of the module remainder of their ID against some preset number. We&#39;ll call that number the *hash limit*. This allowed me to control the number of hash collisions that would be expected. For example, if our collection size is 100, we&#39;ll have keys with IDs ranging from 0 to 99. If the hash limit is 100, every key will have a unique hash code. If the hash limit is 50, key 0 will have the same hash code as key 50, 1 will have the same hash code as 51 etc. In other words, the expected number of hash collisions per key is the collection size divided by the hash limit.\r\n* For each combination of collection size and hash limit, I&#39;ve run the test using hash maps initialized with different settings. These settings are the load factor, and an initial capacity that is expressed as a factor of the collection setting. For example, a test with a collection size of 100 and an initial capacity factor of 1.25 will initialize a hash map with an initial capacity of 125.\r\n* The value for each key is simply a new `Object`.\r\n* Each test result is encapsulated in an instance of a Result class. At the end of all tests, the results are ordered from worst overall performance to best.\r\n* The average time for puts and gets is calculated per 10 puts/gets.\r\n* All test combinations are run once to eliminate JIT compilation influence. After that, the tests are run for actual results.\r\n\r\nHere&#39;s the class:\r\n\r\n\tpackage hashmaptest;\r\n\r\n\timport java.io.IOException;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.HashMap;\r\n\timport java.util.List;\r\n\r\n\tpublic class HashMapTest {\r\n\t\t\r\n\t\tprivate static final List&lt;Result&gt; results = new ArrayList&lt;Result&gt;();\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\t\r\n\t\t\t//First entry of each array is the sample collection size, subsequent entries\r\n\t\t\t//are the hash limits\r\n\t\t\tfinal int[][] sampleSizesAndHashLimits = new int[][] {\r\n\t\t\t\t{100, 50, 90, 100},\r\n\t\t\t\t{1000, 500, 900, 990, 1000},\r\n\t\t\t\t{100000, 10000, 90000, 99000, 100000}\r\n\t\t\t};\r\n\t\t\tfinal double[] initialCapacityFactors = new double[] {0.5, 0.75, 1.0, 1.25, 1.5, 2.0};\r\n\t\t\tfinal float[] loadFactors = new float[] {0.5f, 0.75f, 1.0f, 1.25f};\r\n\t\t\t\r\n\t\t\t//Doing a warmup run to eliminate JIT influence\r\n\t\t\tfor(int[] sizeAndLimits : sampleSizesAndHashLimits) {\r\n\t\t\t\tint size = sizeAndLimits[0];\r\n\t\t\t\tfor(int i = 1; i &lt; sizeAndLimits.length; ++i) {\r\n\t\t\t\t\tint limit = sizeAndLimits[i];\r\n\t\t\t\t\tfor(double initCapacityFactor : initialCapacityFactors) {\r\n\t\t\t\t\t\tfor(float loadFactor : loadFactors) {\r\n\t\t\t\t\t\t\trunTest(limit, size, initCapacityFactor, loadFactor);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tresults.clear();\r\n\t\t\t\r\n\t\t\t//Now for the real thing...\r\n\t\t\tfor(int[] sizeAndLimits : sampleSizesAndHashLimits) {\r\n\t\t\t\tint size = sizeAndLimits[0];\r\n\t\t\t\tfor(int i = 1; i &lt; sizeAndLimits.length; ++i) {\r\n\t\t\t\t\tint limit = sizeAndLimits[i];\r\n\t\t\t\t\tfor(double initCapacityFactor : initialCapacityFactors) {\r\n\t\t\t\t\t\tfor(float loadFactor : loadFactors) {\r\n\t\t\t\t\t\t\trunTest(limit, size, initCapacityFactor, loadFactor);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tCollections.sort(results);\r\n\t\t\t\r\n\t\t\tfor(final Result result : results) {\r\n\t\t\t\tresult.printSummary();\r\n\t\t\t}\r\n\t\t\t\r\n\t//\t\tResultVisualizer.visualizeResults(results);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static void runTest(final int hashLimit, final int sampleSize,\r\n\t\t\t\tfinal double initCapacityFactor, final float loadFactor) {\r\n\t\t\t\r\n\t\t\tfinal int initialCapacity = (int)(sampleSize * initCapacityFactor);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Running test for a sample collection of size &quot; + sampleSize \r\n\t\t\t\t+ &quot;, an initial capacity of &quot; + initialCapacity + &quot;, a load factor of &quot;\r\n\t\t\t\t+ loadFactor + &quot; and keys with a hash code limited to &quot; + hashLimit);\r\n\t\t\tSystem.out.println(&quot;====================&quot;);\r\n\t\t\t\r\n\t\t\tdouble hashOverload = (((double)sampleSize/hashLimit) - 1.0) * 100.0;\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Hash code overload: &quot; + hashOverload + &quot;%&quot;);\r\n\t\t\t\r\n\t\t\t//Generating our sample key collection.\r\n\t\t\tfinal List&lt;Key&gt; keys = generateSamples(hashLimit, sampleSize);\r\n\t\t\t\r\n\t\t\t//Generating our value collection\r\n\t\t\tfinal List&lt;Object&gt; values = generateValues(sampleSize);\r\n\t\t\t\r\n\t\t\tfinal HashMap&lt;Key, Object&gt; map = new HashMap&lt;Key, Object&gt;(initialCapacity, loadFactor);\r\n\t\t\t\r\n\t\t\tfinal long startPut = System.nanoTime();\r\n\t\t\t\r\n\t\t\tfor(int i = 0; i &lt; sampleSize; ++i) {\r\n\t\t\t\tmap.put(keys.get(i), values.get(i));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfinal long endPut = System.nanoTime();\r\n\t\t\t\r\n\t\t\tfinal long putTime = endPut - startPut;\r\n\t\t\tfinal long averagePutTime = putTime/(sampleSize/10);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Time to map all keys to their values: &quot; + putTime + &quot; ns&quot;);\r\n\t\t\tSystem.out.println(&quot;Average put time per 10 entries: &quot; + averagePutTime + &quot; ns&quot;);\r\n\t\t\t\r\n\t\t\tfinal long startGet = System.nanoTime();\r\n\t\t\t\r\n\t\t\tfor(int i = 0; i &lt; sampleSize; ++i) {\r\n\t\t\t\tmap.get(keys.get(i));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfinal long endGet = System.nanoTime();\r\n\t\t\t\r\n\t\t\tfinal long getTime = endGet - startGet;\r\n\t\t\tfinal long averageGetTime = getTime/(sampleSize/10);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Time to get the value for every key: &quot; + getTime + &quot; ns&quot;);\r\n\t\t\tSystem.out.println(&quot;Average get time per 10 entries: &quot; + averageGetTime + &quot; ns&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\r\n\t\t\tfinal Result result = \r\n\t\t\t\tnew Result(sampleSize, initialCapacity, loadFactor, hashOverload, averagePutTime, averageGetTime, hashLimit);\r\n\t\t\t\r\n\t\t\tresults.add(result);\r\n\t\t\t\r\n\t\t\t//Haha, what kind of noob explicitly calls for garbage collection?\r\n\t\t\tSystem.gc();\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(200);\r\n\t\t\t} catch(final InterruptedException e) {}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static List&lt;Key&gt; generateSamples(final int hashLimit, final int sampleSize) {\r\n\t\t\t\r\n\t\t\tfinal ArrayList&lt;Key&gt; result = new ArrayList&lt;Key&gt;(sampleSize);\r\n\t\t\t\r\n\t\t\tfor(int i = 0; i &lt; sampleSize; ++i) {\r\n\t\t\t\tresult.add(new Key(i, hashLimit));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn result;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static List&lt;Object&gt; generateValues(final int sampleSize) {\r\n\t\t\t\r\n\t\t\tfinal ArrayList&lt;Object&gt; result = new ArrayList&lt;Object&gt;(sampleSize);\r\n\t\t\t\r\n\t\t\tfor(int i = 0; i &lt; sampleSize; ++i) {\r\n\t\t\t\tresult.add(new Object());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn result;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static class Key {\r\n\t\t\t\r\n\t\t\tprivate final int hashCode;\r\n\t\t\tprivate final int id;\r\n\t\t\t\r\n\t\t\tKey(final int id, final int hashLimit) {\r\n\t\t\t\t\r\n\t\t\t\t//Equals implies same hashCode if limit is the same\r\n\t\t\t\t//Same hashCode doesn&#39;t necessarily implies equals\r\n\t\t\t\t\r\n\t\t\t\tthis.id = id;\r\n\t\t\t\tthis.hashCode = id % hashLimit;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic int hashCode() {\r\n\t\t\t\treturn hashCode;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean equals(final Object o) {\r\n\t\t\t\treturn ((Key)o).id == this.id;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tstatic class Result implements Comparable&lt;Result&gt; {\r\n\t\t\t\r\n\t\t\tfinal int sampleSize;\r\n\t\t\tfinal int initialCapacity;\r\n\t\t\tfinal float loadFactor;\r\n\t\t\tfinal double hashOverloadPercentage;\r\n\t\t\tfinal long averagePutTime;\r\n\t\t\tfinal long averageGetTime;\r\n\t\t\tfinal int hashLimit;\r\n\t\t\t\r\n\t\t\tResult(final int sampleSize, final int initialCapacity, final float loadFactor, \r\n\t\t\t\t\tfinal double hashOverloadPercentage, final long averagePutTime, \r\n\t\t\t\t\tfinal long averageGetTime, final int hashLimit) {\r\n\t\t\t\t\r\n\t\t\t\tthis.sampleSize = sampleSize;\r\n\t\t\t\tthis.initialCapacity = initialCapacity;\r\n\t\t\t\tthis.loadFactor = loadFactor;\r\n\t\t\t\tthis.hashOverloadPercentage = hashOverloadPercentage;\r\n\t\t\t\tthis.averagePutTime = averagePutTime;\r\n\t\t\t\tthis.averageGetTime = averageGetTime;\r\n\t\t\t\tthis.hashLimit = hashLimit;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int compareTo(final Result o) {\r\n\t\t\t\t\r\n\t\t\t\tfinal long putDiff = o.averagePutTime - this.averagePutTime;\r\n\t\t\t\tfinal long getDiff = o.averageGetTime - this.averageGetTime;\r\n\t\t\t\t\r\n\t\t\t\treturn (int)(putDiff + getDiff);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvoid printSummary() {\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;&quot; + averagePutTime + &quot; ns per 10 puts, &quot;\r\n\t\t\t\t\t+ averageGetTime + &quot; ns per 10 gets, for a load factor of &quot;\r\n\t\t\t\t\t+ loadFactor + &quot;, initial capacity of &quot; + initialCapacity\r\n\t\t\t\t\t+ &quot; for &quot; + sampleSize + &quot; mappings and &quot; + hashOverloadPercentage \r\n\t\t\t\t\t+ &quot;% hash code overload.&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nRunning this might take a while. The results are printed out on standard out. You might notice I&#39;ve commented out a line. That line calls a visualizer that outputs visual representations of the results to png files. The class for this is given below. If you wish to run it, uncomment the appropriate line in the code above. Be warned: the visualizer class assumes you&#39;re running on Windows and will create folders and files in C:\\temp. When running on another platform, adjust this.\r\n\r\n\tpackage hashmaptest;\r\n\r\n\timport hashmaptest.HashMapTest.Result;\r\n\timport java.awt.Color;\r\n\timport java.awt.Graphics2D;\r\n\timport java.awt.image.BufferedImage;\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\timport java.text.DecimalFormat;\r\n\timport java.text.NumberFormat;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.HashMap;\r\n\timport java.util.HashSet;\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\timport java.util.Set;\r\n\timport javax.imageio.ImageIO;\r\n\r\n\tpublic class ResultVisualizer {\r\n\t\t\r\n\t\tprivate static final Map&lt;Integer, Map&lt;Integer, Set&lt;Result&gt;&gt;&gt; sampleSizeToHashLimit = \r\n\t\t\tnew HashMap&lt;Integer, Map&lt;Integer, Set&lt;Result&gt;&gt;&gt;();\r\n\t\t\r\n\t\tprivate static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n\t\t\r\n\t\tstatic void visualizeResults(final List&lt;Result&gt; results) throws IOException {\r\n\t\t\t\r\n\t\t\tfinal File tempFolder = new File(&quot;C:\\\\temp&quot;);\r\n\t\t\tfinal File baseFolder = makeFolder(tempFolder, &quot;hashmap_tests&quot;);\r\n\t\t\t\r\n\t\t\tlong bestPutTime = -1L;\r\n\t\t\tlong worstPutTime = 0L;\r\n\t\t\tlong bestGetTime = -1L;\r\n\t\t\tlong worstGetTime = 0L;\r\n\t\t\t\r\n\t\t\tfor(final Result result : results) {\r\n\t\t\t\t\r\n\t\t\t\tfinal Integer sampleSize = result.sampleSize;\r\n\t\t\t\tfinal Integer hashLimit = result.hashLimit;\r\n\t\t\t\tfinal long putTime = result.averagePutTime;\r\n\t\t\t\tfinal long getTime = result.averageGetTime;\r\n\t\t\t\t\r\n\t\t\t\tif(bestPutTime == -1L || putTime &lt; bestPutTime)\r\n\t\t\t\t\tbestPutTime = putTime;\r\n\t\t\t\tif(bestGetTime &lt;= -1.0f || getTime &lt; bestGetTime)\r\n\t\t\t\t\tbestGetTime = getTime;\r\n\t\t\t\t\r\n\t\t\t\tif(putTime &gt; worstPutTime)\r\n\t\t\t\t\tworstPutTime = putTime;\r\n\t\t\t\tif(getTime &gt; worstGetTime)\r\n\t\t\t\t\tworstGetTime = getTime;\r\n\t\t\t\t\r\n\t\t\t\tMap&lt;Integer, Set&lt;Result&gt;&gt; hashLimitToResults = \r\n\t\t\t\t\tsampleSizeToHashLimit.get(sampleSize);\r\n\t\t\t\tif(hashLimitToResults == null) {\r\n\t\t\t\t\thashLimitToResults = new HashMap&lt;Integer, Set&lt;Result&gt;&gt;();\r\n\t\t\t\t\tsampleSizeToHashLimit.put(sampleSize, hashLimitToResults);\r\n\t\t\t\t}\r\n\t\t\t\tSet&lt;Result&gt; resultSet = hashLimitToResults.get(hashLimit);\r\n\t\t\t\tif(resultSet == null) {\r\n\t\t\t\t\tresultSet = new HashSet&lt;Result&gt;();\r\n\t\t\t\t\thashLimitToResults.put(hashLimit, resultSet);\r\n\t\t\t\t}\r\n\t\t\t\tresultSet.add(result);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Best average put time: &quot; + bestPutTime + &quot; ns&quot;);\r\n\t\t\tSystem.out.println(&quot;Best average get time: &quot; + bestGetTime + &quot; ns&quot;);\r\n\t\t\tSystem.out.println(&quot;Worst average put time: &quot; + worstPutTime + &quot; ns&quot;);\r\n\t\t\tSystem.out.println(&quot;Worst average get time: &quot; + worstGetTime + &quot; ns&quot;);\r\n\t\t\t\r\n\t\t\tfor(final Integer sampleSize : sampleSizeToHashLimit.keySet()) {\r\n\t\t\t\t\r\n\t\t\t\tfinal File sizeFolder = makeFolder(baseFolder, &quot;sample_size_&quot; + sampleSize);\r\n\t\t\t\t\r\n\t\t\t\tfinal Map&lt;Integer, Set&lt;Result&gt;&gt; hashLimitToResults = \r\n\t\t\t\t\tsampleSizeToHashLimit.get(sampleSize);\r\n\t\t\t\t\r\n\t\t\t\tfor(final Integer hashLimit : hashLimitToResults.keySet()) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal File limitFolder = makeFolder(sizeFolder, &quot;hash_limit_&quot; + hashLimit);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal Set&lt;Result&gt; resultSet = hashLimitToResults.get(hashLimit);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal Set&lt;Float&gt; loadFactorSet = new HashSet&lt;Float&gt;();\r\n\t\t\t\t\tfinal Set&lt;Integer&gt; initialCapacitySet = new HashSet&lt;Integer&gt;();\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(final Result result : resultSet) {\r\n\t\t\t\t\t\tloadFactorSet.add(result.loadFactor);\r\n\t\t\t\t\t\tinitialCapacitySet.add(result.initialCapacity);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal List&lt;Float&gt; loadFactors = new ArrayList&lt;Float&gt;(loadFactorSet);\r\n\t\t\t\t\tfinal List&lt;Integer&gt; initialCapacities = new ArrayList&lt;Integer&gt;(initialCapacitySet);\r\n\t\t\t\t\t\r\n\t\t\t\t\tCollections.sort(loadFactors);\r\n\t\t\t\t\tCollections.sort(initialCapacities);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal BufferedImage putImage = \r\n\t\t\t\t\t\trenderMap(resultSet, loadFactors, initialCapacities, worstPutTime, bestPutTime, false);\r\n\t\t\t\t\tfinal BufferedImage getImage = \r\n\t\t\t\t\t\trenderMap(resultSet, loadFactors, initialCapacities, worstGetTime, bestGetTime, true);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal String putFileName = &quot;size_&quot; + sampleSize + &quot;_hlimit_&quot; + hashLimit + &quot;_puts.png&quot;;\r\n\t\t\t\t\tfinal String getFileName = &quot;size_&quot; + sampleSize + &quot;_hlimit_&quot; + hashLimit + &quot;_gets.png&quot;;\r\n\t\t\t\t\t\r\n\t\t\t\t\twriteImage(putImage, limitFolder, putFileName);\r\n\t\t\t\t\twriteImage(getImage, limitFolder, getFileName);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static File makeFolder(final File parent, final String folder) throws IOException {\r\n\t\t\t\r\n\t\t\tfinal File child = new File(parent, folder);\r\n\t\t\t\r\n\t\t\tif(!child.exists())\r\n\t\t\t\tchild.mkdir();\r\n\t\t\t\r\n\t\t\treturn child;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static BufferedImage renderMap(final Set&lt;Result&gt; results, final List&lt;Float&gt; loadFactors,\r\n\t\t\t\tfinal List&lt;Integer&gt; initialCapacities, final float worst, final float best,\r\n\t\t\t\tfinal boolean get) {\r\n\t\t\t\r\n\t\t\t//[x][y] =&gt; x is mapped to initial capacity, y is mapped to load factor\r\n\t\t\tfinal Color[][] map = new Color[initialCapacities.size()][loadFactors.size()];\r\n\t\t\t\r\n\t\t\tfor(final Result result : results) {\r\n\t\t\t\tfinal int x = initialCapacities.indexOf(result.initialCapacity);\r\n\t\t\t\tfinal int y = loadFactors.indexOf(result.loadFactor);\r\n\t\t\t\tfinal float time = get ? result.averageGetTime : result.averagePutTime;\r\n\t\t\t\tfinal float score = (time - best)/(worst - best);\r\n\t\t\t\tfinal Color c = new Color(score, 1.0f - score, 0.0f);\r\n\t\t\t\tmap[x][y] = c;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfinal int imageWidth = initialCapacities.size() * 40 + 50;\r\n\t\t\tfinal int imageHeight = loadFactors.size() * 40 + 50;\r\n\t\t\t\r\n\t\t\tfinal BufferedImage image = \r\n\t\t\t\tnew BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_3BYTE_BGR);\r\n\t\t\t\r\n\t\t\tfinal Graphics2D g = image.createGraphics();\r\n\t\t\t\r\n\t\t\tg.setColor(Color.WHITE);\r\n\t\t\tg.fillRect(0, 0, imageWidth, imageHeight);\r\n\t\t\t\r\n\t\t\tfor(int x = 0; x &lt; map.length; ++x) {\r\n\t\t\t\t\r\n\t\t\t\tfor(int y = 0; y &lt; map[x].length; ++y) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tg.setColor(map[x][y]);\r\n\t\t\t\t\tg.fillRect(50 + x*40, imageHeight - 50 - (y+1)*40, 40, 40);\r\n\t\t\t\t\t\r\n\t\t\t\t\tg.setColor(Color.BLACK);\r\n\t\t\t\t\tg.drawLine(25, imageHeight - 50 - (y+1)*40, 50, imageHeight - 50 - (y+1)*40);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfinal Float loadFactor = loadFactors.get(y);\r\n\t\t\t\t\tg.drawString(df.format(loadFactor), 10, imageHeight - 65 - (y)*40);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tg.setColor(Color.BLACK);\r\n\t\t\t\tg.drawLine(50 + (x+1)*40, imageHeight - 50, 50 + (x+1)*40, imageHeight - 15);\r\n\t\t\t\t\r\n\t\t\t\tfinal int initialCapacity = initialCapacities.get(x);\r\n\t\t\t\tg.drawString(((initialCapacity%1000 == 0) ? &quot;&quot; + (initialCapacity/1000) + &quot;K&quot; : &quot;&quot; + initialCapacity), 15 + (x+1)*40, imageHeight - 25);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tg.drawLine(25, imageHeight - 50, imageWidth, imageHeight - 50);\r\n\t\t\tg.drawLine(50, 0, 50, imageHeight - 25);\r\n\t\t\t\r\n\t\t\tg.dispose();\r\n\t\t\t\r\n\t\t\treturn image;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate static void writeImage(final BufferedImage image, final File folder, \r\n\t\t\t\tfinal String filename) throws IOException {\r\n\t\t\t\r\n\t\t\tfinal File imageFile = new File(folder, filename);\r\n\t\t\t\r\n\t\t\tImageIO.write(image, &quot;png&quot;, imageFile);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThe visualized output is as follows:\r\n\r\n* Tests are divided first by collection size, then by hash limit.\r\n* For each test, there&#39;s an output image regarding the average put time (per 10 puts) and the average get time (per 10 gets). The images are two-dimensional &quot;heat maps&quot; that show a color per combination of initial capacity and load factor.\r\n* The colours in the images are based on the average time on a normalized scale from best to worst result, ranging from saturated green to saturated red. In other words, the best time will be fully green, while the worst time will be fully red. Two different time measurements should never have the same colour.\r\n* The colour maps are calculated separately for puts and gets, but encompass all tests for their respective categories.\r\n* The visualizations show the initial capacity on their x axis, and the load factor on the y axis.\r\n\r\nWithout further ado, let&#39;s take a look at the results. I&#39;ll start with the results for puts.\r\n\r\n**Put results**\r\n\r\n----------\r\nCollection size: 100. Hash limit: 50. This means each hash code should occur twice and every other key collides in the hash map.\r\n\r\n![size_100_hlimit_50_puts][1]\r\n\r\nWell, that doesn&#39;t start off very good. We see that there&#39;s a big hotspot for an initial capacity 25% above the collection size, with a load factor of 1. The lower left corner doesn&#39;t perform too well.\r\n\r\n----------\r\nCollection size: 100. Hash limit: 90. One in ten keys has a duplicate hash code.\r\n\r\n![size_100_hlimit_90_puts][2]\r\n\r\nThis is a slightly more realistic scenario, not having a perfect hash function but still 10% overload. The hotspot is gone, but the combination of a low initial capacity with a low load factor obviously doesn&#39;t work.\r\n\r\n----------\r\nCollection size: 100. Hash limit: 100. Each key as its own unique hash code. No collisions expected if there are enough buckets.\r\n\r\n![size_100_hlimit_100_puts][3]\r\n\r\nAn initial capacity of 100 with a load factor of 1 seems fine. Surprisingly, a higher initial capacity with a lower load factor isn&#39;t necessarily good.\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 500. It&#39;s getting more serious here, with 1000 entries. Just like in the first test, there&#39;s a hash overload of 2 to 1.\r\n\r\n![size_1000_hlimit_500_puts][4]\r\n\r\nThe lower left corner is still not doing well. But there seems to be a symmetry between the combo of lower initial count/high load factor and higher initial count/low load factor.\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 900. This means one in ten hash codes will occur twice. Reasonable scenario regarding collisions.\r\n\r\n![size_1000_hlimit_900_puts][5]\r\n\r\nThere&#39;s something very funny going on with the unlikely combo of an initial capacity that&#39;s too low with a load factor above 1, which is rather counter-intuitive. Otherwise, still quite symmetrical.\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 990. Some collisions, but only a few. Quite realistic in this respect.\r\n\r\n![size_1000_hlimit_990_puts][6]\r\n\r\nWe&#39;ve got a nice symmetry here. Lower left corner is still sub-optimal, but the combos 1000 init capacity/1.0 load factor versus 1250 init capacity/0.75 load factor are at the same level.\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 1000. No duplicate hash codes, but now with a sample size of 1000.\r\n\r\n![size_1000_hlimit_1000_puts][7]\r\n\r\nNot much to be said here. The combination of a higher initial capacity with a load factor of 0.75 seems to slightly outperform the combination of 1000 initial capacity with a load factor of 1.\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 10_000. Alright, it&#39;s getting serious now, with a sample size of one hundred thousand and 100 hash code duplicates per key.\r\n\r\n![size_100000_hlimit_10000_puts][8]\r\n\r\nYikes! I think we found our lower spectrum. An init capacity of exactly the collection size with a load factor of 1 is doing really well here, but other than that it&#39;s all over the shop.\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 90_000. A bit more realistic than the previous test, here we&#39;ve got a 10% overload in hash codes.\r\n\r\n![size_100000_hlimit_90000_puts][9]\r\n\r\nThe lower left corner is still undesirable. Higher initial capacities work best.\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 99_000. Good scenario, this. A large collection with a 1% hash code overload.\r\n\r\n![size_100000_hlimit_99000_puts][10]\r\n\r\nUsing the exact collection size as init capacity with a load factor of 1 wins out here! Slightly larger init capacities work quite well, though.\r\n\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 100_000. The big one. Largest collection with a perfect hash function.\r\n\r\n![size_100000_hlimit_100000_puts][11]\r\n\r\nSome surprising stuff here. An initial capacity with 50% additional room at a load factor of 1 wins.\r\n\r\n----------\r\n\r\nAlright, that&#39;s it for the puts. Now, we&#39;ll check the gets. Remember, the below maps are all relative to best/worst get times, the put times are no longer taken into account.\r\n\r\n**Get results**\r\n\r\n----------\r\nCollection size: 100. Hash limit: 50. This means each hash code should occur twice and every other key was expected to collide in the hash map.\r\n\r\n![size_100_hlimit_50_gets][12]\r\n\r\nEh... What?\r\n\r\n----------\r\nCollection size: 100. Hash limit: 90. One in ten keys has a duplicate hash code.\r\n\r\n![size_100_hlimit_90_gets][13]\r\n\r\nWhoa Nelly! This is the most likely scenario to correlate with the asker&#39;s question, and apparently an initial capacity of 100 with a load factor of 1 is one of the worst things here! I swear I didn&#39;t fake this.\r\n\r\n----------\r\nCollection size: 100. Hash limit: 100. Each key as its own unique hash code. No collisions expected.\r\n\r\n![size_100_hlimit_100_gets][14]\r\n\r\nThis looks a bit more peaceful. Mostly the same results across the board.\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 500. Just like in the first test, there&#39;s a hash overload of 2 to 1, but now with a lot more entries.\r\n\r\n![size_1000_hlimit_500_gets][15]\r\n\r\nLooks like any setting will yield a decent result here.\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 900. This means one in ten hash codes will occur twice. Reasonable scenario regarding collisions.\r\n\r\n![size_1000_hlimit_900_gets][16]\r\n\r\nAnd just like with the puts for this setup, we get an anomaly in a strange spot.\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 990. Some collisions, but only a few. Quite realistic in this respect.\r\n\r\n![size_1000_hlimit_990_gets][17]\r\n\r\nDecent performance everywhere, save for the combination of a high initial capacity with a low load factor. I&#39;d expect this for the puts, since two hash map resizes might be expected. But why on the gets?\r\n\r\n----------\r\nCollection size: 1000. Hash limit: 1000. No duplicate hash codes, but now with a sample size of 1000.\r\n\r\n![size_1000_hlimit_1000_gets][18]\r\n\r\nA wholly unspectacular visualization. This seems to work no matter what.\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 10_000. Going into the 100K again, with a whole lot of hash code overlap.\r\n\r\n![size_100000_hlimit_10000_gets][19]\r\n\r\nIt doesn&#39;t look pretty, although the bad spots are very localized. Performance here seems to depend largely on a certain synergy between settings.\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 90_000. A bit more realistic than the previous test, here we&#39;ve got a 10% overload in hash codes.\r\n\r\n![size_100000_hlimit_90000_gets][20]\r\n\r\nMuch variance, although if you squint you can see an arrow pointing to the upper right corner.\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 99_000. Good scenario, this. A large collection with a 1% hash code overload.\r\n\r\n\r\n![size_100000_hlimit_99000_gets][21]\r\n\r\nVery chaotic. It&#39;s hard to find much structure here.\r\n\r\n----------\r\nCollection size: 100_000. Hash limit: 100_000. The big one. Largest collection with a perfect hash function.\r\n\r\n![size_100000_hlimit_100000_gets][22]\r\n\r\nAnyone else thinks this is starting to look like Atari graphics? This seems to favour an initial capacity of exactly the collection size, -25% or +50%.\r\n\r\n----------\r\n\r\nAlright, it&#39;s time for conclusions now...\r\n\r\n* Regarding put times: you&#39;ll wish to avoid initial capacities that are lower than the expected number of map entries. If an exact number is known beforehand, that number or something slightly above it seems to work best. High load factors can offset lower initial capacities due to earlier hash map resizes. For higher initial capacities, they don&#39;t seem to matter that much.\r\n* Regarding get times: results are slightly chaotic here. There&#39;s not much to conclude. It seems to rely very much on subtle ratios between hash code overlap, initial capacity and load factor, with some supposedly bad setups performing well and good setups performing awfully.\r\n* I&#39;m apparently full of crap when it comes to assumptions about Java performance. The truth is, unless you are perfectly tuning your settings to the implementation of `HashMap`, the results are going to be all over the place. If there&#39;s one thing to take away from this, it&#39;s that the default initial size of 16 is a bit dumb for anything but the smallest maps, so use a constructor that sets the initial size if you have any sort of idea about what order of size it&#39;s going to be.\r\n* We&#39;re measuring in nanoseconds here. The best average time per 10 puts was 1179 ns and the worst 5105 ns on my machine. The best average time per 10 gets was 547 ns and the worst 3484 ns. That may be a factor 6 difference, but we&#39;re talking less than a millisecond. On collections that are vastly larger than what the original poster had in mind.\r\n\r\nWell, that&#39;s it. I hope my code doesn&#39;t have some horrendous oversight that invalidates everything I&#39;ve posted here. This has been fun, and I&#39;ve learned that in the end you may just as well rely on Java to do its job than to expect much difference from tiny optimizations. That is not to say that some stuff shouldn&#39;t be avoided, but then we&#39;re mostly talking about constructing lengthy Strings in for loops, using the wrong datastructures and making O(n^3) algorithms.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XTGtL.png\r\n  [2]: http://i.stack.imgur.com/Ukwdh.png\r\n  [3]: http://i.stack.imgur.com/LWbql.png\r\n  [4]: http://i.stack.imgur.com/wgR33.png\r\n  [5]: http://i.stack.imgur.com/0L04x.png\r\n  [6]: http://i.stack.imgur.com/JFJnD.png\r\n  [7]: http://i.stack.imgur.com/PneiE.png\r\n  [8]: http://i.stack.imgur.com/28TRk.png\r\n  [9]: http://i.stack.imgur.com/NNB6B.png\r\n  [10]: http://i.stack.imgur.com/Qmu0j.png\r\n  [11]: http://i.stack.imgur.com/NBuKy.png\r\n  [12]: http://i.stack.imgur.com/t0Znp.png\r\n  [13]: http://i.stack.imgur.com/LZYE8.png\r\n  [14]: http://i.stack.imgur.com/QSFIX.png\r\n  [15]: http://i.stack.imgur.com/359ig.png\r\n  [16]: http://i.stack.imgur.com/yYg1V.png\r\n  [17]: http://i.stack.imgur.com/M9hIe.png\r\n  [18]: http://i.stack.imgur.com/gFaYP.png\r\n  [19]: http://i.stack.imgur.com/afiUS.png\r\n  [20]: http://i.stack.imgur.com/oeDXM.png\r\n  [21]: http://i.stack.imgur.com/MUoXo.png\r\n  [22]: http://i.stack.imgur.com/VwnzC.png","title":"What is the optimal capacity and load factor for a fixed-size HashMap?","body":"<p>Alright, to put this thing to rest, I've created a test app to run a couple of scenarios and get some visualizations of the results. Here's how the tests are done:</p>\n<ul>\n<li>A number of different collection sizes have been tried: one hundred, one thousand and one hundred thousand entries.</li>\n<li>The keys used are instances of a class that are uniquely identified by an ID. Each test uses unique keys, with incrementing integers as IDs. The <code>equals</code> method only uses the ID, so no key mapping overwrites another one.</li>\n<li>The keys get a hash code that consists of the module remainder of their ID against some preset number. We'll call that number the <em>hash limit</em>. This allowed me to control the number of hash collisions that would be expected. For example, if our collection size is 100, we'll have keys with IDs ranging from 0 to 99. If the hash limit is 100, every key will have a unique hash code. If the hash limit is 50, key 0 will have the same hash code as key 50, 1 will have the same hash code as 51 etc. In other words, the expected number of hash collisions per key is the collection size divided by the hash limit.</li>\n<li>For each combination of collection size and hash limit, I've run the test using hash maps initialized with different settings. These settings are the load factor, and an initial capacity that is expressed as a factor of the collection setting. For example, a test with a collection size of 100 and an initial capacity factor of 1.25 will initialize a hash map with an initial capacity of 125.</li>\n<li>The value for each key is simply a new <code>Object</code>.</li>\n<li>Each test result is encapsulated in an instance of a Result class. At the end of all tests, the results are ordered from worst overall performance to best.</li>\n<li>The average time for puts and gets is calculated per 10 puts/gets.</li>\n<li>All test combinations are run once to eliminate JIT compilation influence. After that, the tests are run for actual results.</li>\n</ul>\n<p>Here's the class:</p>\n<pre><code>package hashmaptest;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class HashMapTest {\n    \n    private static final List&lt;Result&gt; results = new ArrayList&lt;Result&gt;();\n    \n    public static void main(String[] args) throws IOException {\n        \n        //First entry of each array is the sample collection size, subsequent entries\n        //are the hash limits\n        final int[][] sampleSizesAndHashLimits = new int[][] {\n            {100, 50, 90, 100},\n            {1000, 500, 900, 990, 1000},\n            {100000, 10000, 90000, 99000, 100000}\n        };\n        final double[] initialCapacityFactors = new double[] {0.5, 0.75, 1.0, 1.25, 1.5, 2.0};\n        final float[] loadFactors = new float[] {0.5f, 0.75f, 1.0f, 1.25f};\n        \n        //Doing a warmup run to eliminate JIT influence\n        for(int[] sizeAndLimits : sampleSizesAndHashLimits) {\n            int size = sizeAndLimits[0];\n            for(int i = 1; i &lt; sizeAndLimits.length; ++i) {\n                int limit = sizeAndLimits[i];\n                for(double initCapacityFactor : initialCapacityFactors) {\n                    for(float loadFactor : loadFactors) {\n                        runTest(limit, size, initCapacityFactor, loadFactor);\n                    }\n                }\n            }\n            \n        }\n        \n        results.clear();\n        \n        //Now for the real thing...\n        for(int[] sizeAndLimits : sampleSizesAndHashLimits) {\n            int size = sizeAndLimits[0];\n            for(int i = 1; i &lt; sizeAndLimits.length; ++i) {\n                int limit = sizeAndLimits[i];\n                for(double initCapacityFactor : initialCapacityFactors) {\n                    for(float loadFactor : loadFactors) {\n                        runTest(limit, size, initCapacityFactor, loadFactor);\n                    }\n                }\n            }\n            \n        }\n        \n        Collections.sort(results);\n        \n        for(final Result result : results) {\n            result.printSummary();\n        }\n        \n//      ResultVisualizer.visualizeResults(results);\n        \n    }\n    \n    private static void runTest(final int hashLimit, final int sampleSize,\n            final double initCapacityFactor, final float loadFactor) {\n        \n        final int initialCapacity = (int)(sampleSize * initCapacityFactor);\n        \n        System.out.println(&quot;Running test for a sample collection of size &quot; + sampleSize \n            + &quot;, an initial capacity of &quot; + initialCapacity + &quot;, a load factor of &quot;\n            + loadFactor + &quot; and keys with a hash code limited to &quot; + hashLimit);\n        System.out.println(&quot;====================&quot;);\n        \n        double hashOverload = (((double)sampleSize/hashLimit) - 1.0) * 100.0;\n        \n        System.out.println(&quot;Hash code overload: &quot; + hashOverload + &quot;%&quot;);\n        \n        //Generating our sample key collection.\n        final List&lt;Key&gt; keys = generateSamples(hashLimit, sampleSize);\n        \n        //Generating our value collection\n        final List&lt;Object&gt; values = generateValues(sampleSize);\n        \n        final HashMap&lt;Key, Object&gt; map = new HashMap&lt;Key, Object&gt;(initialCapacity, loadFactor);\n        \n        final long startPut = System.nanoTime();\n        \n        for(int i = 0; i &lt; sampleSize; ++i) {\n            map.put(keys.get(i), values.get(i));\n        }\n        \n        final long endPut = System.nanoTime();\n        \n        final long putTime = endPut - startPut;\n        final long averagePutTime = putTime/(sampleSize/10);\n        \n        System.out.println(&quot;Time to map all keys to their values: &quot; + putTime + &quot; ns&quot;);\n        System.out.println(&quot;Average put time per 10 entries: &quot; + averagePutTime + &quot; ns&quot;);\n        \n        final long startGet = System.nanoTime();\n        \n        for(int i = 0; i &lt; sampleSize; ++i) {\n            map.get(keys.get(i));\n        }\n        \n        final long endGet = System.nanoTime();\n        \n        final long getTime = endGet - startGet;\n        final long averageGetTime = getTime/(sampleSize/10);\n        \n        System.out.println(&quot;Time to get the value for every key: &quot; + getTime + &quot; ns&quot;);\n        System.out.println(&quot;Average get time per 10 entries: &quot; + averageGetTime + &quot; ns&quot;);\n        \n        System.out.println(&quot;&quot;);\n        \n        final Result result = \n            new Result(sampleSize, initialCapacity, loadFactor, hashOverload, averagePutTime, averageGetTime, hashLimit);\n        \n        results.add(result);\n        \n        //Haha, what kind of noob explicitly calls for garbage collection?\n        System.gc();\n        \n        try {\n            Thread.sleep(200);\n        } catch(final InterruptedException e) {}\n        \n    }\n    \n    private static List&lt;Key&gt; generateSamples(final int hashLimit, final int sampleSize) {\n        \n        final ArrayList&lt;Key&gt; result = new ArrayList&lt;Key&gt;(sampleSize);\n        \n        for(int i = 0; i &lt; sampleSize; ++i) {\n            result.add(new Key(i, hashLimit));\n        }\n        \n        return result;\n        \n    }\n    \n    private static List&lt;Object&gt; generateValues(final int sampleSize) {\n        \n        final ArrayList&lt;Object&gt; result = new ArrayList&lt;Object&gt;(sampleSize);\n        \n        for(int i = 0; i &lt; sampleSize; ++i) {\n            result.add(new Object());\n        }\n        \n        return result;\n        \n    }\n    \n    private static class Key {\n        \n        private final int hashCode;\n        private final int id;\n        \n        Key(final int id, final int hashLimit) {\n            \n            //Equals implies same hashCode if limit is the same\n            //Same hashCode doesn't necessarily implies equals\n            \n            this.id = id;\n            this.hashCode = id % hashLimit;\n            \n        }\n        \n        @Override\n        public int hashCode() {\n            return hashCode;\n        }\n        \n        @Override\n        public boolean equals(final Object o) {\n            return ((Key)o).id == this.id;\n        }\n        \n    }\n    \n    static class Result implements Comparable&lt;Result&gt; {\n        \n        final int sampleSize;\n        final int initialCapacity;\n        final float loadFactor;\n        final double hashOverloadPercentage;\n        final long averagePutTime;\n        final long averageGetTime;\n        final int hashLimit;\n        \n        Result(final int sampleSize, final int initialCapacity, final float loadFactor, \n                final double hashOverloadPercentage, final long averagePutTime, \n                final long averageGetTime, final int hashLimit) {\n            \n            this.sampleSize = sampleSize;\n            this.initialCapacity = initialCapacity;\n            this.loadFactor = loadFactor;\n            this.hashOverloadPercentage = hashOverloadPercentage;\n            this.averagePutTime = averagePutTime;\n            this.averageGetTime = averageGetTime;\n            this.hashLimit = hashLimit;\n            \n        }\n\n        @Override\n        public int compareTo(final Result o) {\n            \n            final long putDiff = o.averagePutTime - this.averagePutTime;\n            final long getDiff = o.averageGetTime - this.averageGetTime;\n            \n            return (int)(putDiff + getDiff);\n        }\n        \n        void printSummary() {\n            \n            System.out.println(&quot;&quot; + averagePutTime + &quot; ns per 10 puts, &quot;\n                + averageGetTime + &quot; ns per 10 gets, for a load factor of &quot;\n                + loadFactor + &quot;, initial capacity of &quot; + initialCapacity\n                + &quot; for &quot; + sampleSize + &quot; mappings and &quot; + hashOverloadPercentage \n                + &quot;% hash code overload.&quot;);\n            \n        }\n        \n    }\n    \n}\n</code></pre>\n<p>Running this might take a while. The results are printed out on standard out. You might notice I've commented out a line. That line calls a visualizer that outputs visual representations of the results to png files. The class for this is given below. If you wish to run it, uncomment the appropriate line in the code above. Be warned: the visualizer class assumes you're running on Windows and will create folders and files in C:\\temp. When running on another platform, adjust this.</p>\n<pre><code>package hashmaptest;\n\nimport hashmaptest.HashMapTest.Result;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport javax.imageio.ImageIO;\n\npublic class ResultVisualizer {\n    \n    private static final Map&lt;Integer, Map&lt;Integer, Set&lt;Result&gt;&gt;&gt; sampleSizeToHashLimit = \n        new HashMap&lt;Integer, Map&lt;Integer, Set&lt;Result&gt;&gt;&gt;();\n    \n    private static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n    \n    static void visualizeResults(final List&lt;Result&gt; results) throws IOException {\n        \n        final File tempFolder = new File(&quot;C:\\\\temp&quot;);\n        final File baseFolder = makeFolder(tempFolder, &quot;hashmap_tests&quot;);\n        \n        long bestPutTime = -1L;\n        long worstPutTime = 0L;\n        long bestGetTime = -1L;\n        long worstGetTime = 0L;\n        \n        for(final Result result : results) {\n            \n            final Integer sampleSize = result.sampleSize;\n            final Integer hashLimit = result.hashLimit;\n            final long putTime = result.averagePutTime;\n            final long getTime = result.averageGetTime;\n            \n            if(bestPutTime == -1L || putTime &lt; bestPutTime)\n                bestPutTime = putTime;\n            if(bestGetTime &lt;= -1.0f || getTime &lt; bestGetTime)\n                bestGetTime = getTime;\n            \n            if(putTime &gt; worstPutTime)\n                worstPutTime = putTime;\n            if(getTime &gt; worstGetTime)\n                worstGetTime = getTime;\n            \n            Map&lt;Integer, Set&lt;Result&gt;&gt; hashLimitToResults = \n                sampleSizeToHashLimit.get(sampleSize);\n            if(hashLimitToResults == null) {\n                hashLimitToResults = new HashMap&lt;Integer, Set&lt;Result&gt;&gt;();\n                sampleSizeToHashLimit.put(sampleSize, hashLimitToResults);\n            }\n            Set&lt;Result&gt; resultSet = hashLimitToResults.get(hashLimit);\n            if(resultSet == null) {\n                resultSet = new HashSet&lt;Result&gt;();\n                hashLimitToResults.put(hashLimit, resultSet);\n            }\n            resultSet.add(result);\n            \n        }\n        \n        System.out.println(&quot;Best average put time: &quot; + bestPutTime + &quot; ns&quot;);\n        System.out.println(&quot;Best average get time: &quot; + bestGetTime + &quot; ns&quot;);\n        System.out.println(&quot;Worst average put time: &quot; + worstPutTime + &quot; ns&quot;);\n        System.out.println(&quot;Worst average get time: &quot; + worstGetTime + &quot; ns&quot;);\n        \n        for(final Integer sampleSize : sampleSizeToHashLimit.keySet()) {\n            \n            final File sizeFolder = makeFolder(baseFolder, &quot;sample_size_&quot; + sampleSize);\n            \n            final Map&lt;Integer, Set&lt;Result&gt;&gt; hashLimitToResults = \n                sampleSizeToHashLimit.get(sampleSize);\n            \n            for(final Integer hashLimit : hashLimitToResults.keySet()) {\n                \n                final File limitFolder = makeFolder(sizeFolder, &quot;hash_limit_&quot; + hashLimit);\n                \n                final Set&lt;Result&gt; resultSet = hashLimitToResults.get(hashLimit);\n                \n                final Set&lt;Float&gt; loadFactorSet = new HashSet&lt;Float&gt;();\n                final Set&lt;Integer&gt; initialCapacitySet = new HashSet&lt;Integer&gt;();\n                \n                for(final Result result : resultSet) {\n                    loadFactorSet.add(result.loadFactor);\n                    initialCapacitySet.add(result.initialCapacity);\n                }\n                \n                final List&lt;Float&gt; loadFactors = new ArrayList&lt;Float&gt;(loadFactorSet);\n                final List&lt;Integer&gt; initialCapacities = new ArrayList&lt;Integer&gt;(initialCapacitySet);\n                \n                Collections.sort(loadFactors);\n                Collections.sort(initialCapacities);\n                \n                final BufferedImage putImage = \n                    renderMap(resultSet, loadFactors, initialCapacities, worstPutTime, bestPutTime, false);\n                final BufferedImage getImage = \n                    renderMap(resultSet, loadFactors, initialCapacities, worstGetTime, bestGetTime, true);\n                \n                final String putFileName = &quot;size_&quot; + sampleSize + &quot;_hlimit_&quot; + hashLimit + &quot;_puts.png&quot;;\n                final String getFileName = &quot;size_&quot; + sampleSize + &quot;_hlimit_&quot; + hashLimit + &quot;_gets.png&quot;;\n                \n                writeImage(putImage, limitFolder, putFileName);\n                writeImage(getImage, limitFolder, getFileName);\n                \n            }\n            \n        }\n        \n    }\n    \n    private static File makeFolder(final File parent, final String folder) throws IOException {\n        \n        final File child = new File(parent, folder);\n        \n        if(!child.exists())\n            child.mkdir();\n        \n        return child;\n        \n    }\n    \n    private static BufferedImage renderMap(final Set&lt;Result&gt; results, final List&lt;Float&gt; loadFactors,\n            final List&lt;Integer&gt; initialCapacities, final float worst, final float best,\n            final boolean get) {\n        \n        //[x][y] =&gt; x is mapped to initial capacity, y is mapped to load factor\n        final Color[][] map = new Color[initialCapacities.size()][loadFactors.size()];\n        \n        for(final Result result : results) {\n            final int x = initialCapacities.indexOf(result.initialCapacity);\n            final int y = loadFactors.indexOf(result.loadFactor);\n            final float time = get ? result.averageGetTime : result.averagePutTime;\n            final float score = (time - best)/(worst - best);\n            final Color c = new Color(score, 1.0f - score, 0.0f);\n            map[x][y] = c;\n        }\n        \n        final int imageWidth = initialCapacities.size() * 40 + 50;\n        final int imageHeight = loadFactors.size() * 40 + 50;\n        \n        final BufferedImage image = \n            new BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_3BYTE_BGR);\n        \n        final Graphics2D g = image.createGraphics();\n        \n        g.setColor(Color.WHITE);\n        g.fillRect(0, 0, imageWidth, imageHeight);\n        \n        for(int x = 0; x &lt; map.length; ++x) {\n            \n            for(int y = 0; y &lt; map[x].length; ++y) {\n                \n                g.setColor(map[x][y]);\n                g.fillRect(50 + x*40, imageHeight - 50 - (y+1)*40, 40, 40);\n                \n                g.setColor(Color.BLACK);\n                g.drawLine(25, imageHeight - 50 - (y+1)*40, 50, imageHeight - 50 - (y+1)*40);\n                \n                final Float loadFactor = loadFactors.get(y);\n                g.drawString(df.format(loadFactor), 10, imageHeight - 65 - (y)*40);\n                \n            }\n            \n            g.setColor(Color.BLACK);\n            g.drawLine(50 + (x+1)*40, imageHeight - 50, 50 + (x+1)*40, imageHeight - 15);\n            \n            final int initialCapacity = initialCapacities.get(x);\n            g.drawString(((initialCapacity%1000 == 0) ? &quot;&quot; + (initialCapacity/1000) + &quot;K&quot; : &quot;&quot; + initialCapacity), 15 + (x+1)*40, imageHeight - 25);\n        }\n        \n        g.drawLine(25, imageHeight - 50, imageWidth, imageHeight - 50);\n        g.drawLine(50, 0, 50, imageHeight - 25);\n        \n        g.dispose();\n        \n        return image;\n        \n    }\n    \n    private static void writeImage(final BufferedImage image, final File folder, \n            final String filename) throws IOException {\n        \n        final File imageFile = new File(folder, filename);\n        \n        ImageIO.write(image, &quot;png&quot;, imageFile);\n        \n    }\n    \n}\n</code></pre>\n<p>The visualized output is as follows:</p>\n<ul>\n<li>Tests are divided first by collection size, then by hash limit.</li>\n<li>For each test, there's an output image regarding the average put time (per 10 puts) and the average get time (per 10 gets). The images are two-dimensional &quot;heat maps&quot; that show a color per combination of initial capacity and load factor.</li>\n<li>The colours in the images are based on the average time on a normalized scale from best to worst result, ranging from saturated green to saturated red. In other words, the best time will be fully green, while the worst time will be fully red. Two different time measurements should never have the same colour.</li>\n<li>The colour maps are calculated separately for puts and gets, but encompass all tests for their respective categories.</li>\n<li>The visualizations show the initial capacity on their x axis, and the load factor on the y axis.</li>\n</ul>\n<p>Without further ado, let's take a look at the results. I'll start with the results for puts.</p>\n<p><strong>Put results</strong></p>\n<hr />\n<p>Collection size: 100. Hash limit: 50. This means each hash code should occur twice and every other key collides in the hash map.</p>\n<p><img src=\"https://i.stack.imgur.com/XTGtL.png\" alt=\"size_100_hlimit_50_puts\" /></p>\n<p>Well, that doesn't start off very good. We see that there's a big hotspot for an initial capacity 25% above the collection size, with a load factor of 1. The lower left corner doesn't perform too well.</p>\n<hr />\n<p>Collection size: 100. Hash limit: 90. One in ten keys has a duplicate hash code.</p>\n<p><img src=\"https://i.stack.imgur.com/Ukwdh.png\" alt=\"size_100_hlimit_90_puts\" /></p>\n<p>This is a slightly more realistic scenario, not having a perfect hash function but still 10% overload. The hotspot is gone, but the combination of a low initial capacity with a low load factor obviously doesn't work.</p>\n<hr />\n<p>Collection size: 100. Hash limit: 100. Each key as its own unique hash code. No collisions expected if there are enough buckets.</p>\n<p><img src=\"https://i.stack.imgur.com/LWbql.png\" alt=\"size_100_hlimit_100_puts\" /></p>\n<p>An initial capacity of 100 with a load factor of 1 seems fine. Surprisingly, a higher initial capacity with a lower load factor isn't necessarily good.</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 500. It's getting more serious here, with 1000 entries. Just like in the first test, there's a hash overload of 2 to 1.</p>\n<p><img src=\"https://i.stack.imgur.com/wgR33.png\" alt=\"size_1000_hlimit_500_puts\" /></p>\n<p>The lower left corner is still not doing well. But there seems to be a symmetry between the combo of lower initial count/high load factor and higher initial count/low load factor.</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 900. This means one in ten hash codes will occur twice. Reasonable scenario regarding collisions.</p>\n<p><img src=\"https://i.stack.imgur.com/0L04x.png\" alt=\"size_1000_hlimit_900_puts\" /></p>\n<p>There's something very funny going on with the unlikely combo of an initial capacity that's too low with a load factor above 1, which is rather counter-intuitive. Otherwise, still quite symmetrical.</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 990. Some collisions, but only a few. Quite realistic in this respect.</p>\n<p><img src=\"https://i.stack.imgur.com/JFJnD.png\" alt=\"size_1000_hlimit_990_puts\" /></p>\n<p>We've got a nice symmetry here. Lower left corner is still sub-optimal, but the combos 1000 init capacity/1.0 load factor versus 1250 init capacity/0.75 load factor are at the same level.</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 1000. No duplicate hash codes, but now with a sample size of 1000.</p>\n<p><img src=\"https://i.stack.imgur.com/PneiE.png\" alt=\"size_1000_hlimit_1000_puts\" /></p>\n<p>Not much to be said here. The combination of a higher initial capacity with a load factor of 0.75 seems to slightly outperform the combination of 1000 initial capacity with a load factor of 1.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 10_000. Alright, it's getting serious now, with a sample size of one hundred thousand and 100 hash code duplicates per key.</p>\n<p><img src=\"https://i.stack.imgur.com/28TRk.png\" alt=\"size_100000_hlimit_10000_puts\" /></p>\n<p>Yikes! I think we found our lower spectrum. An init capacity of exactly the collection size with a load factor of 1 is doing really well here, but other than that it's all over the shop.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 90_000. A bit more realistic than the previous test, here we've got a 10% overload in hash codes.</p>\n<p><img src=\"https://i.stack.imgur.com/NNB6B.png\" alt=\"size_100000_hlimit_90000_puts\" /></p>\n<p>The lower left corner is still undesirable. Higher initial capacities work best.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 99_000. Good scenario, this. A large collection with a 1% hash code overload.</p>\n<p><img src=\"https://i.stack.imgur.com/Qmu0j.png\" alt=\"size_100000_hlimit_99000_puts\" /></p>\n<p>Using the exact collection size as init capacity with a load factor of 1 wins out here! Slightly larger init capacities work quite well, though.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 100_000. The big one. Largest collection with a perfect hash function.</p>\n<p><img src=\"https://i.stack.imgur.com/NBuKy.png\" alt=\"size_100000_hlimit_100000_puts\" /></p>\n<p>Some surprising stuff here. An initial capacity with 50% additional room at a load factor of 1 wins.</p>\n<hr />\n<p>Alright, that's it for the puts. Now, we'll check the gets. Remember, the below maps are all relative to best/worst get times, the put times are no longer taken into account.</p>\n<p><strong>Get results</strong></p>\n<hr />\n<p>Collection size: 100. Hash limit: 50. This means each hash code should occur twice and every other key was expected to collide in the hash map.</p>\n<p><img src=\"https://i.stack.imgur.com/t0Znp.png\" alt=\"size_100_hlimit_50_gets\" /></p>\n<p>Eh... What?</p>\n<hr />\n<p>Collection size: 100. Hash limit: 90. One in ten keys has a duplicate hash code.</p>\n<p><img src=\"https://i.stack.imgur.com/LZYE8.png\" alt=\"size_100_hlimit_90_gets\" /></p>\n<p>Whoa Nelly! This is the most likely scenario to correlate with the asker's question, and apparently an initial capacity of 100 with a load factor of 1 is one of the worst things here! I swear I didn't fake this.</p>\n<hr />\n<p>Collection size: 100. Hash limit: 100. Each key as its own unique hash code. No collisions expected.</p>\n<p><img src=\"https://i.stack.imgur.com/QSFIX.png\" alt=\"size_100_hlimit_100_gets\" /></p>\n<p>This looks a bit more peaceful. Mostly the same results across the board.</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 500. Just like in the first test, there's a hash overload of 2 to 1, but now with a lot more entries.</p>\n<p><img src=\"https://i.stack.imgur.com/359ig.png\" alt=\"size_1000_hlimit_500_gets\" /></p>\n<p>Looks like any setting will yield a decent result here.</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 900. This means one in ten hash codes will occur twice. Reasonable scenario regarding collisions.</p>\n<p><img src=\"https://i.stack.imgur.com/yYg1V.png\" alt=\"size_1000_hlimit_900_gets\" /></p>\n<p>And just like with the puts for this setup, we get an anomaly in a strange spot.</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 990. Some collisions, but only a few. Quite realistic in this respect.</p>\n<p><img src=\"https://i.stack.imgur.com/M9hIe.png\" alt=\"size_1000_hlimit_990_gets\" /></p>\n<p>Decent performance everywhere, save for the combination of a high initial capacity with a low load factor. I'd expect this for the puts, since two hash map resizes might be expected. But why on the gets?</p>\n<hr />\n<p>Collection size: 1000. Hash limit: 1000. No duplicate hash codes, but now with a sample size of 1000.</p>\n<p><img src=\"https://i.stack.imgur.com/gFaYP.png\" alt=\"size_1000_hlimit_1000_gets\" /></p>\n<p>A wholly unspectacular visualization. This seems to work no matter what.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 10_000. Going into the 100K again, with a whole lot of hash code overlap.</p>\n<p><img src=\"https://i.stack.imgur.com/afiUS.png\" alt=\"size_100000_hlimit_10000_gets\" /></p>\n<p>It doesn't look pretty, although the bad spots are very localized. Performance here seems to depend largely on a certain synergy between settings.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 90_000. A bit more realistic than the previous test, here we've got a 10% overload in hash codes.</p>\n<p><img src=\"https://i.stack.imgur.com/oeDXM.png\" alt=\"size_100000_hlimit_90000_gets\" /></p>\n<p>Much variance, although if you squint you can see an arrow pointing to the upper right corner.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 99_000. Good scenario, this. A large collection with a 1% hash code overload.</p>\n<p><img src=\"https://i.stack.imgur.com/MUoXo.png\" alt=\"size_100000_hlimit_99000_gets\" /></p>\n<p>Very chaotic. It's hard to find much structure here.</p>\n<hr />\n<p>Collection size: 100_000. Hash limit: 100_000. The big one. Largest collection with a perfect hash function.</p>\n<p><img src=\"https://i.stack.imgur.com/VwnzC.png\" alt=\"size_100000_hlimit_100000_gets\" /></p>\n<p>Anyone else thinks this is starting to look like Atari graphics? This seems to favour an initial capacity of exactly the collection size, -25% or +50%.</p>\n<hr />\n<p>Alright, it's time for conclusions now...</p>\n<ul>\n<li>Regarding put times: you'll wish to avoid initial capacities that are lower than the expected number of map entries. If an exact number is known beforehand, that number or something slightly above it seems to work best. High load factors can offset lower initial capacities due to earlier hash map resizes. For higher initial capacities, they don't seem to matter that much.</li>\n<li>Regarding get times: results are slightly chaotic here. There's not much to conclude. It seems to rely very much on subtle ratios between hash code overlap, initial capacity and load factor, with some supposedly bad setups performing well and good setups performing awfully.</li>\n<li>I'm apparently full of crap when it comes to assumptions about Java performance. The truth is, unless you are perfectly tuning your settings to the implementation of <code>HashMap</code>, the results are going to be all over the place. If there's one thing to take away from this, it's that the default initial size of 16 is a bit dumb for anything but the smallest maps, so use a constructor that sets the initial size if you have any sort of idea about what order of size it's going to be.</li>\n<li>We're measuring in nanoseconds here. The best average time per 10 puts was 1179 ns and the worst 5105 ns on my machine. The best average time per 10 gets was 547 ns and the worst 3484 ns. That may be a factor 6 difference, but we're talking less than a millisecond. On collections that are vastly larger than what the original poster had in mind.</li>\n</ul>\n<p>Well, that's it. I hope my code doesn't have some horrendous oversight that invalidates everything I've posted here. This has been fun, and I've learned that in the end you may just as well rely on Java to do its job than to expect much difference from tiny optimizations. That is not to say that some stuff shouldn't be avoided, but then we're mostly talking about constructing lengthy Strings in for loops, using the wrong datastructures and making O(n^3) algorithms.</p>\n"},{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1372279195,"creation_date":1372279195,"answer_id":17330045,"question_id":7115445,"body_markdown":"This is a pretty great thread, except there is one crucial thing you&#39;re missing. You said:\r\n\r\n&gt; Curiously, capacity, capacity+1, capacity+2, capacity-1 and even capacity-10 all yield exactly the same results. I would expect at least capacity-1 and capacity-10 to give worse results.\r\n\r\nThe source code jumps initial capacity the next highest power-of-two internally. That means that, for example, initial capacities of 513, 600, 700, 800, 900, 1000, and 1024 will all use the same initial capacity (1024). This doesn&#39;t invalidate the testing done by @G_H though, one should realize that this is being done before analyzing his results. And it does explain the odd behavior of some of the tests. \r\n\r\n[This is the constructor right for the JDK source:](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/HashMap.java#HashMap.%3Cinit%3E%28int%2Cfloat%29)\r\n\r\n    /**\r\n     * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the specified initial\r\n     * capacity and load factor.\r\n     *\r\n     * @param  initialCapacity the initial capacity\r\n     * @param  loadFactor      the load factor\r\n     * @throws IllegalArgumentException if the initial capacity is negative\r\n     *         or the load factor is nonpositive\r\n     */\r\n    public HashMap(int initialCapacity, float loadFactor) {\r\n        if (initialCapacity &lt; 0)\r\n            throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; +\r\n                                               initialCapacity);\r\n        if (initialCapacity &gt; MAXIMUM_CAPACITY)\r\n            initialCapacity = MAXIMUM_CAPACITY;\r\n        if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))\r\n            throw new IllegalArgumentException(&quot;Illegal load factor: &quot; +\r\n                                               loadFactor);\r\n\r\n        // Find a power of 2 &gt;= initialCapacity\r\n        int capacity = 1;\r\n        while (capacity &lt; initialCapacity)\r\n            capacity &lt;&lt;= 1;\r\n\r\n        this.loadFactor = loadFactor;\r\n        threshold = (int)(capacity * loadFactor);\r\n        table = new Entry[capacity];\r\n        init();\r\n    }","title":"What is the optimal capacity and load factor for a fixed-size HashMap?","body":"<p>This is a pretty great thread, except there is one crucial thing you're missing. You said:</p>\n\n<blockquote>\n  <p>Curiously, capacity, capacity+1, capacity+2, capacity-1 and even capacity-10 all yield exactly the same results. I would expect at least capacity-1 and capacity-10 to give worse results.</p>\n</blockquote>\n\n<p>The source code jumps initial capacity the next highest power-of-two internally. That means that, for example, initial capacities of 513, 600, 700, 800, 900, 1000, and 1024 will all use the same initial capacity (1024). This doesn't invalidate the testing done by @G_H though, one should realize that this is being done before analyzing his results. And it does explain the odd behavior of some of the tests. </p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/HashMap.java#HashMap.%3Cinit%3E%28int%2Cfloat%29\" rel=\"noreferrer\">This is the constructor right for the JDK source:</a></p>\n\n<pre><code>/**\n * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the specified initial\n * capacity and load factor.\n *\n * @param  initialCapacity the initial capacity\n * @param  loadFactor      the load factor\n * @throws IllegalArgumentException if the initial capacity is negative\n *         or the load factor is nonpositive\n */\npublic HashMap(int initialCapacity, float loadFactor) {\n    if (initialCapacity &lt; 0)\n        throw new IllegalArgumentException(\"Illegal initial capacity: \" +\n                                           initialCapacity);\n    if (initialCapacity &gt; MAXIMUM_CAPACITY)\n        initialCapacity = MAXIMUM_CAPACITY;\n    if (loadFactor &lt;= 0 || Float.isNaN(loadFactor))\n        throw new IllegalArgumentException(\"Illegal load factor: \" +\n                                           loadFactor);\n\n    // Find a power of 2 &gt;= initialCapacity\n    int capacity = 1;\n    while (capacity &lt; initialCapacity)\n        capacity &lt;&lt;= 1;\n\n    this.loadFactor = loadFactor;\n    threshold = (int)(capacity * loadFactor);\n    table = new Entry[capacity];\n    init();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585315060,"creation_date":1585313696,"answer_id":60886461,"question_id":7115445,"body_markdown":"Implementation-wise, Google Guava has a convenient factory method\r\n   \r\n    Maps.newHashMapWithExpectedSize(expectedSize)\r\nWhich [calculates the capacity][1] using the formula \r\n   \r\n    capacity = expectedSize / 0.75F + 1.0F\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Maps.java#L306-L336","title":"What is the optimal capacity and load factor for a fixed-size HashMap?","body":"<p>Implementation-wise, Google Guava has a convenient factory method</p>\n\n<pre><code>Maps.newHashMapWithExpectedSize(expectedSize)\n</code></pre>\n\n<p>Which <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Maps.java#L306-L336\" rel=\"nofollow noreferrer\">calculates the capacity</a> using the formula </p>\n\n<pre><code>capacity = expectedSize / 0.75F + 1.0F\n</code></pre>\n"}],"owner":{"account_id":14260,"reputation":10715,"user_id":29192,"accept_rate":64,"display_name":"Domchi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30488,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":7154181,"answer_count":5,"score":98,"last_activity_date":1634138657,"creation_date":1313710847,"question_id":7115445,"body_markdown":"I&#39;m trying to figure out the optimal capacity and load factor for a specific case. I think I got the gist of it, but I&#39;d still be thankful for a confirmation from someone more knowledgable than me. :)\r\n\r\nIf I know that my HashMap will fill up to contain, say, 100 objects, and will spend most of the time having 100 objects, I&#39;m guessing that the optimal values are initial capacity 100 and load factor 1? Or do I need capacity 101, or are there any other gotchas?\r\n\r\nEDIT: OK, I set aside a few hours and did some testing. Here are the results:\r\n\r\n - Curiously, capacity, capacity+1, capacity+2, capacity-1 and even capacity-10 all yield exactly the same results. I would expect at least capacity-1 and capacity-10 to give worse results.\r\n - Using initial capacity (as opposed to using default value of 16) gives noticable put() improvement - up to 30% faster.\r\n - Using load factor of 1 gives equal performance for small number of objects, and better performance for larger number of objects (&gt;100000). However, this does not improve proportionally to the number of objects; I suspect there is additional factor that affects the results.\r\n - get() performance is a bit different for different number of objects/capacity, but though it might slightly vary from case to case, generally it&#39;s not affected by initial capacity or load factor.\r\n\r\nEDIT2: Adding some charts on my part as well. Here&#39;s the one illustrating difference between load factor 0.75 and 1, in cases where I initialize HashMap and fill it up to full capacity. On y scale is time in ms (lower is better), and x scale is size (number of objects). Since size changes linearly, the time required grows linearly as well.\r\n\r\nSo, let&#39;s see what I got. The following two charts show the difference in load factors. First chart shows what happens when HashMap is filled to capacity; load factor 0.75 performs worse because of resizing. However, it&#39;s not consistently worse, and there are all sorts of bumps and hops - I guess that GC has a major play in this. Load factor 1.25 performs the same as 1, so it&#39;s not included in the chart.\r\n\r\n![fully filled][1]\r\n\r\nThis chart proves that 0.75 was worse due to resizing; if we fill the HashMap to half capacity, 0.75 is not worse, just... different (and it should use less memory and have unnoticably better iteration performance).\r\n\r\n![half full][2]\r\n\r\nOne more thing I want to show. This is get performance for all three load factors and different HashMap sizes. Consistently constant with a little variation, except for one spike for load factor 1. I&#39;d really want to know what that is (probably GC, but who knows).\r\n\r\n![go spike][3]\r\n\r\nAnd here&#39;s the code for those interested:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class HashMapTest {\r\n\r\n      // capacity - numbers high as 10000000 require -mx1536m -ms1536m JVM parameters\r\n      public static final int CAPACITY = 10000000;\r\n      public static final int ITERATIONS = 10000;\r\n\r\n      // set to false to print put performance, or to true to print get performance\r\n      boolean doIterations = false;\r\n\r\n      private Map&lt;Integer, String&gt; cache;\r\n\r\n      public void fillCache(int capacity) {\r\n        long t = System.currentTimeMillis();\r\n        for (int i = 0; i &lt;= capacity; i++)\r\n          cache.put(i, &quot;Value number &quot; + i);\r\n\r\n        if (!doIterations) {\r\n          System.out.print(System.currentTimeMillis() - t);\r\n          System.out.print(&quot;\\t&quot;);\r\n        }\r\n      }\r\n\r\n      public void iterate(int capacity) {\r\n        long t = System.currentTimeMillis();\r\n\r\n        for (int i = 0; i &lt;= ITERATIONS; i++) {\r\n          long x = Math.round(Math.random() * capacity);\r\n          String result = cache.get((int) x);\r\n        }\r\n\r\n        if (doIterations) {\r\n          System.out.print(System.currentTimeMillis() - t);\r\n          System.out.print(&quot;\\t&quot;);\r\n        }\r\n      }\r\n\r\n      public void test(float loadFactor, int divider) {\r\n        for (int i = 10000; i &lt;= CAPACITY; i+= 10000) {\r\n          cache = new HashMap&lt;Integer, String&gt;(i, loadFactor);\r\n          fillCache(i / divider);\r\n          if (doIterations)\r\n            iterate(i / divider);\r\n        }\r\n        System.out.println();\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        HashMapTest test = new HashMapTest();\r\n\r\n        // fill to capacity\r\n        test.test(0.75f, 1);\r\n        test.test(1, 1);\r\n        test.test(1.25f, 1);\r\n\r\n        // fill to half capacity\r\n        test.test(0.75f, 2);\r\n        test.test(1, 2);\r\n        test.test(1.25f, 2);\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zPXiC.jpg\r\n  [2]: http://i.stack.imgur.com/UmPGa.jpg\r\n  [3]: http://i.stack.imgur.com/8Ajbx.jpg","title":"What is the optimal capacity and load factor for a fixed-size HashMap?","body":"<p>I'm trying to figure out the optimal capacity and load factor for a specific case. I think I got the gist of it, but I'd still be thankful for a confirmation from someone more knowledgable than me. :)</p>\n\n<p>If I know that my HashMap will fill up to contain, say, 100 objects, and will spend most of the time having 100 objects, I'm guessing that the optimal values are initial capacity 100 and load factor 1? Or do I need capacity 101, or are there any other gotchas?</p>\n\n<p>EDIT: OK, I set aside a few hours and did some testing. Here are the results:</p>\n\n<ul>\n<li>Curiously, capacity, capacity+1, capacity+2, capacity-1 and even capacity-10 all yield exactly the same results. I would expect at least capacity-1 and capacity-10 to give worse results.</li>\n<li>Using initial capacity (as opposed to using default value of 16) gives noticable put() improvement - up to 30% faster.</li>\n<li>Using load factor of 1 gives equal performance for small number of objects, and better performance for larger number of objects (>100000). However, this does not improve proportionally to the number of objects; I suspect there is additional factor that affects the results.</li>\n<li>get() performance is a bit different for different number of objects/capacity, but though it might slightly vary from case to case, generally it's not affected by initial capacity or load factor.</li>\n</ul>\n\n<p>EDIT2: Adding some charts on my part as well. Here's the one illustrating difference between load factor 0.75 and 1, in cases where I initialize HashMap and fill it up to full capacity. On y scale is time in ms (lower is better), and x scale is size (number of objects). Since size changes linearly, the time required grows linearly as well.</p>\n\n<p>So, let's see what I got. The following two charts show the difference in load factors. First chart shows what happens when HashMap is filled to capacity; load factor 0.75 performs worse because of resizing. However, it's not consistently worse, and there are all sorts of bumps and hops - I guess that GC has a major play in this. Load factor 1.25 performs the same as 1, so it's not included in the chart.</p>\n\n<p><img src=\"https://i.stack.imgur.com/zPXiC.jpg\" alt=\"fully filled\"></p>\n\n<p>This chart proves that 0.75 was worse due to resizing; if we fill the HashMap to half capacity, 0.75 is not worse, just... different (and it should use less memory and have unnoticably better iteration performance).</p>\n\n<p><img src=\"https://i.stack.imgur.com/UmPGa.jpg\" alt=\"half full\"></p>\n\n<p>One more thing I want to show. This is get performance for all three load factors and different HashMap sizes. Consistently constant with a little variation, except for one spike for load factor 1. I'd really want to know what that is (probably GC, but who knows).</p>\n\n<p><img src=\"https://i.stack.imgur.com/8Ajbx.jpg\" alt=\"go spike\"></p>\n\n<p>And here's the code for those interested:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class HashMapTest {\n\n  // capacity - numbers high as 10000000 require -mx1536m -ms1536m JVM parameters\n  public static final int CAPACITY = 10000000;\n  public static final int ITERATIONS = 10000;\n\n  // set to false to print put performance, or to true to print get performance\n  boolean doIterations = false;\n\n  private Map&lt;Integer, String&gt; cache;\n\n  public void fillCache(int capacity) {\n    long t = System.currentTimeMillis();\n    for (int i = 0; i &lt;= capacity; i++)\n      cache.put(i, \"Value number \" + i);\n\n    if (!doIterations) {\n      System.out.print(System.currentTimeMillis() - t);\n      System.out.print(\"\\t\");\n    }\n  }\n\n  public void iterate(int capacity) {\n    long t = System.currentTimeMillis();\n\n    for (int i = 0; i &lt;= ITERATIONS; i++) {\n      long x = Math.round(Math.random() * capacity);\n      String result = cache.get((int) x);\n    }\n\n    if (doIterations) {\n      System.out.print(System.currentTimeMillis() - t);\n      System.out.print(\"\\t\");\n    }\n  }\n\n  public void test(float loadFactor, int divider) {\n    for (int i = 10000; i &lt;= CAPACITY; i+= 10000) {\n      cache = new HashMap&lt;Integer, String&gt;(i, loadFactor);\n      fillCache(i / divider);\n      if (doIterations)\n        iterate(i / divider);\n    }\n    System.out.println();\n  }\n\n  public static void main(String[] args) {\n    HashMapTest test = new HashMapTest();\n\n    // fill to capacity\n    test.test(0.75f, 1);\n    test.test(1, 1);\n    test.test(1.25f, 1);\n\n    // fill to half capacity\n    test.test(0.75f, 2);\n    test.test(1, 2);\n    test.test(1.25f, 2);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1634138316,"post_id":69558079,"comment_id":122946865,"body_markdown":"Every time you run this code, an entirely new VM is started. You therefore cannot possibly &#39;close System.in for this process and all future invocations of it&#39;. Perhaps you haven&#39;t recompiled or are otherwise still running the &#39;old&#39; classfile.","body":"Every time you run this code, an entirely new VM is started. You therefore cannot possibly &#39;close System.in for this process and all future invocations of it&#39;. Perhaps you haven&#39;t recompiled or are otherwise still running the &#39;old&#39; classfile."},{"owner":{"account_id":17543200,"reputation":301,"user_id":12725011,"display_name":"bschellekens"},"score":0,"creation_date":1634139594,"post_id":69558079,"comment_id":122947369,"body_markdown":"I am not seeing where you call promptMove() inside the while loop which is, I assume, when something gets added to the stream the scanner is reading from. Is there another way you are getting the next input or should that be added?","body":"I am not seeing where you call promptMove() inside the while loop which is, I assume, when something gets added to the stream the scanner is reading from. Is there another way you are getting the next input or should that be added?"}],"owner":{"account_id":23023107,"reputation":11,"user_id":17143830,"display_name":"Gianna M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634138556,"creation_date":1634138198,"question_id":69558079,"body_markdown":"While playing around with the scanner trying to write a method, I accidentally called `scanner.close()` and ran the program, not realizing this closes the input stream as well. Even though I took it out of my method, it seems that `IllegalStateExceptions` are being thrown due to the closed input stream (although I am using a readable object which is a field of my class as input). Is there a way I can reset the scanner so that it can take new inputs?\r\n\r\n    public void playGame() {\r\n        String nextInput;\r\n        Scanner scanner = new Scanner(this.reader);\r\n        promptMove();\r\n        while (!(this.model.isGameOver())) {\r\n          if (scanner.hasNext()) {\r\n            nextInput = scanner.next();\r\n            if (nextInput.equalsIgnoreCase(&quot;q&quot;)) {\r\n              promptQuit();\r\n              break;\r\n            } else {\r\n              addInputs(nextInput);\r\n            }\r\n            attemptControllerMove(input);\r\n          }\r\n          else {\r\n            throw new IllegalStateException(&quot;Please enter valid moves.&quot;);\r\n          }\r\n        }\r\n        if (this.model.isGameOver()) {\r\n          promptGameOver();\r\n        }\r\n      }","title":"Accidentally closed scanner in java and am now getting an IllegalStateException","body":"<p>While playing around with the scanner trying to write a method, I accidentally called <code>scanner.close()</code> and ran the program, not realizing this closes the input stream as well. Even though I took it out of my method, it seems that <code>IllegalStateExceptions</code> are being thrown due to the closed input stream (although I am using a readable object which is a field of my class as input). Is there a way I can reset the scanner so that it can take new inputs?</p>\n<pre><code>public void playGame() {\n    String nextInput;\n    Scanner scanner = new Scanner(this.reader);\n    promptMove();\n    while (!(this.model.isGameOver())) {\n      if (scanner.hasNext()) {\n        nextInput = scanner.next();\n        if (nextInput.equalsIgnoreCase(&quot;q&quot;)) {\n          promptQuit();\n          break;\n        } else {\n          addInputs(nextInput);\n        }\n        attemptControllerMove(input);\n      }\n      else {\n        throw new IllegalStateException(&quot;Please enter valid moves.&quot;);\n      }\n    }\n    if (this.model.isGameOver()) {\n      promptGameOver();\n    }\n  }\n</code></pre>\n"},{"tags":["java","properties","configuration-files","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":413389,"reputation":583,"user_id":786998,"display_name":"deltaforce2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308127432,"creation_date":1308127432,"answer_id":6355121,"question_id":6347749,"body_markdown":"You could try to remove the `**` from the beginning of `**#  end coment**` in case it makes a difference.\r\n\r\nAlso check out whether it helps if there is an empty line just after your last actual line.","title":"apache-commons-config PropertiesConfiguration: comments after last property is lost","body":"<p>You could try to remove the <code>**</code> from the beginning of <code>**#  end coment**</code> in case it makes a difference.</p>\n\n<p>Also check out whether it helps if there is an empty line just after your last actual line.</p>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1311542454,"creation_date":1311542454,"answer_id":6809816,"question_id":6347749,"body_markdown":"This is a bug that should be reported in the project&#39;s JIRA :)\r\n\r\nhttps://issues.apache.org/jira/browse/CONFIGURATION\r\n\r\n","title":"apache-commons-config PropertiesConfiguration: comments after last property is lost","body":"<p>This is a bug that should be reported in the project's JIRA :)</p>\n\n<p><a href=\"https://issues.apache.org/jira/browse/CONFIGURATION\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CONFIGURATION</a></p>\n"},{"tags":[],"owner":{"account_id":5000463,"reputation":2593,"user_id":4019662,"display_name":"myNameCoad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634138098,"creation_date":1634138098,"answer_id":69558054,"question_id":6347749,"body_markdown":"This seems to be a bug for old versions of commons-configuration ( 1.8 &lt;= )\r\n\r\nVersion 1.10 should solve the issue. \r\n\r\nDownload from here https://commons.apache.org/proper/commons-configuration/download_configuration.cgi \r\n","title":"apache-commons-config PropertiesConfiguration: comments after last property is lost","body":"<p>This seems to be a bug for old versions of commons-configuration ( 1.8 &lt;= )</p>\n<p>Version 1.10 should solve the issue.</p>\n<p>Download from here <a href=\"https://commons.apache.org/proper/commons-configuration/download_configuration.cgi\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-configuration/download_configuration.cgi</a></p>\n"}],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5694,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6809816,"answer_count":3,"score":5,"last_activity_date":1634138098,"creation_date":1308073544,"question_id":6347749,"body_markdown":"I am using [PropertiesConfiguration][1] to edit property file. This allows me to retain comments.  All works fine except for comments that comes after the last key..\r\n\r\nFor example  input file\r\n\r\n    # *** A comment\r\n    GameCheck.no=No\r\n    **#  end coment**\r\n\r\nThe output is as below. It lost comment that was after last key\r\n\r\n    # *** A comment\r\n    GameCheck.no = myvar\r\n\r\nThe code as below.\r\n\r\n    package trials;\r\n    \r\n    import org.apache.commons.configuration.ConfigurationException;\r\n    import org.apache.commons.configuration.PropertiesConfiguration;\r\n    import org.apache.commons.configuration.PropertiesConfigurationLayout;\r\n    \r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class EditVersion {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                PropertiesConfiguration config =  new PropertiesConfiguration(&quot;C:\\\\try\\\\in.properties&quot;);\r\n                config.setProperty(&quot;application.version&quot;, &quot;myvar&quot;);\r\n                PropertiesConfigurationLayout layout = config.getLayout();\r\n    \r\n                config.save( new FileWriter( &quot;c:/try/out.props&quot;));\r\n            } catch (ConfigurationException e) {\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nWork around is to add a dummy property towards the end of file. Is there a correct way?\r\n\r\n\r\n  [1]: http://commons.apache.org/configuration/","title":"apache-commons-config PropertiesConfiguration: comments after last property is lost","body":"<p>I am using <a href=\"http://commons.apache.org/configuration/\" rel=\"nofollow\">PropertiesConfiguration</a> to edit property file. This allows me to retain comments.  All works fine except for comments that comes after the last key..</p>\n\n<p>For example  input file</p>\n\n<pre><code># *** A comment\nGameCheck.no=No\n**#  end coment**\n</code></pre>\n\n<p>The output is as below. It lost comment that was after last key</p>\n\n<pre><code># *** A comment\nGameCheck.no = myvar\n</code></pre>\n\n<p>The code as below.</p>\n\n<pre><code>package trials;\n\nimport org.apache.commons.configuration.ConfigurationException;\nimport org.apache.commons.configuration.PropertiesConfiguration;\nimport org.apache.commons.configuration.PropertiesConfigurationLayout;\n\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class EditVersion {\n\n    public static void main(String[] args) {\n\n        try {\n            PropertiesConfiguration config =  new PropertiesConfiguration(\"C:\\\\try\\\\in.properties\");\n            config.setProperty(\"application.version\", \"myvar\");\n            PropertiesConfigurationLayout layout = config.getLayout();\n\n            config.save( new FileWriter( \"c:/try/out.props\"));\n        } catch (ConfigurationException e) {\n\n        } catch (IOException e) {\n            e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\n        }\n    }\n}\n</code></pre>\n\n<p>Work around is to add a dummy property towards the end of file. Is there a correct way?</p>\n"},{"tags":["java","spring-boot","sharepoint"],"answers":[{"tags":[],"owner":{"account_id":23011354,"reputation":23,"user_id":17133856,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634137919,"creation_date":1634137919,"answer_id":69558010,"question_id":69540482,"body_markdown":"Ok, I have resolved this issue.\r\nProblem was in used security provider &quot;org.openjsse.net.ssl.OpenJSSE&quot; (I don&#39;t know if this is default)\r\n\r\nSo I removed this security provider programmatically from providers list\r\n\r\n    Security.removeProvider(&quot;OpenJSSE&quot;);\r\n\r\nThen next valid security provider was used for https.","title":"Connection from Java to sharepoint with OAuth","body":"<p>Ok, I have resolved this issue.\nProblem was in used security provider &quot;org.openjsse.net.ssl.OpenJSSE&quot; (I don't know if this is default)</p>\n<p>So I removed this security provider programmatically from providers list</p>\n<pre><code>Security.removeProvider(&quot;OpenJSSE&quot;);\n</code></pre>\n<p>Then next valid security provider was used for https.</p>\n"}],"owner":{"account_id":23011354,"reputation":23,"user_id":17133856,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634137919,"creation_date":1634041391,"question_id":69540482,"body_markdown":"I am trying to conenct ftom java to sharepoint, but I am facing problem with SSL.\r\n\r\nI am following this article\r\nhttps://sharepoint.stackexchange.com/questions/239128/connect-to-sharepoint-online-rest-api-using-java\r\n\r\nI have tried few more options to conenct I found on web, but all of theese came to the same error:\r\n\r\nI/O error on POST request for &quot;https://login.microsoftonline.com/extSTS.srf&quot;: **java.security.InvalidAlgorithmParameterException: TlsMasterSecretGenerator must be initialized using a TlsMasterSecretParameterSpec**\r\n\r\n\r\nCan you help me please?\r\n\r\nJava: **1.8.0_261**\r\nSpring Boot: **2.3**\r\n\r\nThank you very much","title":"Connection from Java to sharepoint with OAuth","body":"<p>I am trying to conenct ftom java to sharepoint, but I am facing problem with SSL.</p>\n<p>I am following this article\n<a href=\"https://sharepoint.stackexchange.com/questions/239128/connect-to-sharepoint-online-rest-api-using-java\">https://sharepoint.stackexchange.com/questions/239128/connect-to-sharepoint-online-rest-api-using-java</a></p>\n<p>I have tried few more options to conenct I found on web, but all of theese came to the same error:</p>\n<p>I/O error on POST request for &quot;https://login.microsoftonline.com/extSTS.srf&quot;: <strong>java.security.InvalidAlgorithmParameterException: TlsMasterSecretGenerator must be initialized using a TlsMasterSecretParameterSpec</strong></p>\n<p>Can you help me please?</p>\n<p>Java: <strong>1.8.0_261</strong>\nSpring Boot: <strong>2.3</strong></p>\n<p>Thank you very much</p>\n"},{"tags":["java","junit","jackson","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":374072,"reputation":1880,"user_id":724075,"accept_rate":72,"display_name":"earachefl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634137609,"creation_date":1634137609,"answer_id":69557931,"question_id":69533081,"body_markdown":"So it turns out it was the way I defined the endpoint - this annotation caused the problem:\r\n\r\n    @RequestBody() final Object updateRequest\r\n\r\nEither removing it entirely or changing it to type String got rid of the error. \r\n\r\nObviously I have a lot to learn about jaxrs :-(","title":"PATCH API with empty request body - AssertionFailedError: expected 204 but was 415","body":"<p>So it turns out it was the way I defined the endpoint - this annotation caused the problem:</p>\n<pre><code>@RequestBody() final Object updateRequest\n</code></pre>\n<p>Either removing it entirely or changing it to type String got rid of the error.</p>\n<p>Obviously I have a lot to learn about jaxrs :-(</p>\n"}],"owner":{"account_id":374072,"reputation":1880,"user_id":724075,"accept_rate":72,"display_name":"earachefl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634137609,"creation_date":1633991045,"question_id":69533081,"body_markdown":"Our team is developing an API that has a PATCH endpoint with an empty response and an empty request body - the necessary info is carried in the path params. Not my doing, just trying to get tests to run.\r\n\r\nWhen I try to test it, I&#39;m getting 415 response instead of the expected 204. Here&#39;s the body of my test:\r\n\r\n    WebTarget webTarget = ClientBuilder.newClient().target(baseUrl).path(path);\r\n    // have also tried this:\r\n    // WebTarget webTarget = ClientBuilder.newClient().register(new JacksonJsonProvider()).target(baseUrl).path(path);\r\n\r\n    webTarget.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND, true);\r\n\r\n    Invocation.Builder invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON);\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\r\n\r\n    try {\r\n      final Response response = invocationBuilder.method(&quot;PATCH&quot;, Entity.json(objectMapper.writeValueAsString(new Object())));\r\n\r\n      assertEquals(204, response.getStatus(), &quot;should return 204 empty response&quot;);\r\n    } catch (JsonProcessingException ex) {\r\n      fail();\r\n    }\r\n\r\nInterestingly, the following two lines by themselves also return 415 status:\r\n\r\n    Invocation.Builder invocationBuilder webTarget.request(MediaType.APPLICATION_JSON);\r\n    Response response = invocationBuilder.method(&quot;PATCH&quot;);\r\n\r\nI see the following error in the console:\r\n\r\n    ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils - No message body reader has been found for class java.lang.Object, ContentType: application/json","title":"PATCH API with empty request body - AssertionFailedError: expected 204 but was 415","body":"<p>Our team is developing an API that has a PATCH endpoint with an empty response and an empty request body - the necessary info is carried in the path params. Not my doing, just trying to get tests to run.</p>\n<p>When I try to test it, I'm getting 415 response instead of the expected 204. Here's the body of my test:</p>\n<pre><code>WebTarget webTarget = ClientBuilder.newClient().target(baseUrl).path(path);\n// have also tried this:\n// WebTarget webTarget = ClientBuilder.newClient().register(new JacksonJsonProvider()).target(baseUrl).path(path);\n\nwebTarget.property(HttpUrlConnectorProvider.SET_METHOD_WORKAROUND, true);\n\nInvocation.Builder invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON);\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n\ntry {\n  final Response response = invocationBuilder.method(&quot;PATCH&quot;, Entity.json(objectMapper.writeValueAsString(new Object())));\n\n  assertEquals(204, response.getStatus(), &quot;should return 204 empty response&quot;);\n} catch (JsonProcessingException ex) {\n  fail();\n}\n</code></pre>\n<p>Interestingly, the following two lines by themselves also return 415 status:</p>\n<pre><code>Invocation.Builder invocationBuilder webTarget.request(MediaType.APPLICATION_JSON);\nResponse response = invocationBuilder.method(&quot;PATCH&quot;);\n</code></pre>\n<p>I see the following error in the console:</p>\n<pre><code>ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils - No message body reader has been found for class java.lang.Object, ContentType: application/json\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-mvc","annotations"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1420371625,"post_id":27765091,"comment_id":43940838,"body_markdown":"Your code is fetching an user object and setting &quot;creator&quot; on ticket and you expect creator to be null??","body":"Your code is fetching an user object and setting &quot;creator&quot; on ticket and you expect creator to be null??"},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1420372122,"post_id":27765091,"comment_id":43940952,"body_markdown":"@RC. you are right, because of mapping I have to set it like that ! may be the way I mapped is wrong ! any idea on mapping part ?","body":"@RC. you are right, because of mapping I have to set it like that ! may be the way I mapped is wrong ! any idea on mapping part ?"},{"owner":{"account_id":978967,"reputation":1738,"user_id":999264,"accept_rate":39,"display_name":"John Donn"},"score":0,"creation_date":1420447366,"post_id":27765091,"comment_id":43962438,"body_markdown":"there are problems with lazy fetching of OneToOne (perhaps solved in the answer of Harshal Patil below), however you should have no problems with lazy fetching of OneToMany(fetch=FetchType.LAZY). If the field gets initialized with such annotation, this might mean you access the property annotated with @OneToMany (which should be a set or a list etc.) somewhere before that.","body":"there are problems with lazy fetching of OneToOne (perhaps solved in the answer of Harshal Patil below), however you should have no problems with lazy fetching of OneToMany(fetch=FetchType.LAZY). If the field gets initialized with such annotation, this might mean you access the property annotated with @OneToMany (which should be a set or a list etc.) somewhere before that."}],"answers":[{"tags":[],"owner":{"account_id":3922468,"reputation":6689,"user_id":3244185,"display_name":"Harshal Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420390062,"creation_date":1420390062,"answer_id":27767876,"question_id":27765091,"body_markdown":"Get Lazy loading working on nullable one-to-one mapping you need to let hibernate do [Compile time instrumentation][1] and add a `@LazyToOne(value = LazyToOneOption.NO_PROXY)` to the one-to-one relation.\r\n\r\n    @OneToOne(cascade=CascadeType.ALL,fetch=FetchType.LAZY)\r\n    @JoinColumn\r\n    @LazyToOne(value = LazyToOneOption.NO_PROXY)\r\n    private User creator;\r\n\r\nHope this will work.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/performance.html#performance-fetching-lazyproperties","title":"How to implement lazy loading using Spring data JPA (JPARepository)?","body":"<p>Get Lazy loading working on nullable one-to-one mapping you need to let hibernate do <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/performance.html#performance-fetching-lazyproperties\" rel=\"nofollow\">Compile time instrumentation</a> and add a <code>@LazyToOne(value = LazyToOneOption.NO_PROXY)</code> to the one-to-one relation.</p>\n\n<pre><code>@OneToOne(cascade=CascadeType.ALL,fetch=FetchType.LAZY)\n@JoinColumn\n@LazyToOne(value = LazyToOneOption.NO_PROXY)\nprivate User creator;\n</code></pre>\n\n<p>Hope this will work.</p>\n"}],"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9249,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1634137580,"creation_date":1420371401,"question_id":27765091,"body_markdown":"I am using Spring Data JPA and Hibernate as a provider. I&#39;ve created several Repository classes which extends to `JPARepository&lt;Entity,Serializable&gt;` class. I am failing at the moment when I am fetching one entity it brings attached / connected entities along with it ! which are either connected via `@OneToOne` `@OneToMany` etc. **How can I avoid fetching those connected entities ?**  \r\nI have tried with `@OneToMany(fetch=FetchType.LAZY)` etc but still no luck. Following are my java code:  \r\n**Repository**  \r\n\r\n    public interface TicketRepository extends JpaRepository&lt;Ticket, Integer&gt;{\r\n\r\n    }  \r\n\r\n**Ticket Entity**  \r\n\r\n    @Entity\r\n    @Table(name = &quot;tbl_tickets&quot;)\r\n    public class Ticket {\r\n\r\n\t    @Id\r\n\t    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t    @Column(name = &quot;id&quot;)\r\n\t    private Integer id;\r\n\r\n\t    @Column(name = &quot;customer&quot;, nullable = false, length = 256)\r\n\t    private String customer;\r\n\r\n\t\r\n\t    @OneToOne(cascade=CascadeType.ALL,fetch=FetchType.LAZY)\r\n\t    @JoinColumn\r\n \t    private User creator; \r\n \t\r\n\t    // ... other properties\r\n    }  \r\n\r\n**Service**  \r\n\r\n    @Service\r\n    public class TicketService {\r\n\r\n\t  public Ticket save(Ticket obj,String id) {\r\n\t       User user = userService.findById(Integer.valueOf(id));\r\n\t\t   obj.setCreator(user);\r\n\t\t   Ticket savedTicket = ticketRepository.save(obj);\r\n\t   }\r\n    }  \r\n\r\n    \r\n`savedTicket` always fetches User entity as well which I do not want to. How could I achieve this ?   \r\n![enter image description here][1]\r\n  \r\nThanks\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GrxQB.png","title":"How to implement lazy loading using Spring data JPA (JPARepository)?","body":"<p>I am using Spring Data JPA and Hibernate as a provider. I've created several Repository classes which extends to <code>JPARepository&lt;Entity,Serializable&gt;</code> class. I am failing at the moment when I am fetching one entity it brings attached / connected entities along with it ! which are either connected via <code>@OneToOne</code> <code>@OneToMany</code> etc. <strong>How can I avoid fetching those connected entities ?</strong><br>\nI have tried with <code>@OneToMany(fetch=FetchType.LAZY)</code> etc but still no luck. Following are my java code:<br>\n<strong>Repository</strong>  </p>\n\n<pre><code>public interface TicketRepository extends JpaRepository&lt;Ticket, Integer&gt;{\n\n}  \n</code></pre>\n\n<p><strong>Ticket Entity</strong>  </p>\n\n<pre><code>@Entity\n@Table(name = \"tbl_tickets\")\npublic class Ticket {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    private Integer id;\n\n    @Column(name = \"customer\", nullable = false, length = 256)\n    private String customer;\n\n\n    @OneToOne(cascade=CascadeType.ALL,fetch=FetchType.LAZY)\n    @JoinColumn\n    private User creator; \n\n    // ... other properties\n}  \n</code></pre>\n\n<p><strong>Service</strong>  </p>\n\n<pre><code>@Service\npublic class TicketService {\n\n  public Ticket save(Ticket obj,String id) {\n       User user = userService.findById(Integer.valueOf(id));\n       obj.setCreator(user);\n       Ticket savedTicket = ticketRepository.save(obj);\n   }\n}  \n</code></pre>\n\n<p><code>savedTicket</code> always fetches User entity as well which I do not want to. How could I achieve this ?<br>\n<img src=\"https://i.stack.imgur.com/GrxQB.png\" alt=\"enter image description here\"></p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","unit-testing","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634137457,"creation_date":1634137457,"answer_id":69557893,"question_id":69539725,"body_markdown":"Please make sure to check [gradle offical doc](https://docs.gradle.org/current/userguide/logging.html) for more about logger.\r\n\r\nThere are 6 types of logs and you can add parameter to get it:\r\n\r\n - ERROR for Error messages ( will always be shown )\r\n - QUIET for Important information messages ( add -q )\r\n - WARNING for Warning messages ( add -w )\r\n - LIFECYCLE for Progress information messages\r\n - INFO for Information messages (add -i )\r\n - DEBUG for Debug messages (add -d )\r\n\r\nFor example if you want to get the debug , you type ``` gradle build -d ``` and so on .","title":"How to limit log from certain package when running gradlew test?","body":"<p>Please make sure to check <a href=\"https://docs.gradle.org/current/userguide/logging.html\" rel=\"nofollow noreferrer\">gradle offical doc</a> for more about logger.</p>\n<p>There are 6 types of logs and you can add parameter to get it:</p>\n<ul>\n<li>ERROR for Error messages ( will always be shown )</li>\n<li>QUIET for Important information messages ( add -q )</li>\n<li>WARNING for Warning messages ( add -w )</li>\n<li>LIFECYCLE for Progress information messages</li>\n<li>INFO for Information messages (add -i )</li>\n<li>DEBUG for Debug messages (add -d )</li>\n</ul>\n<p>For example if you want to get the debug , you type <code>gradle build -d</code> and so on .</p>\n"}],"owner":{"account_id":11777925,"reputation":81,"user_id":8618634,"display_name":"NiTiN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634137457,"creation_date":1634038135,"question_id":69539725,"body_markdown":"I have set `testLogging.showStandardStreams = true` in `build.gradle`, but it is printing log message from all classes, including Spring boot classes. But I want only log statements written in my test classes should print.\r\nIf I have package called `org.example.test`, can I set somewhere the package in build.gradle, or do we have some other property?\r\n\r\nCurrently it print something like this and I don&#39;t want first 2 lines:\r\n\r\n    2021-10-11 18:35:05.575+0530 [] 2424@HOSTNAME [Test worker] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring TestDispatcherServlet &#39;&#39;\r\n    2021-10-11 18:35:05.574+0530 [] 2424@HOSTNAME [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-299] WARN  org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\r\n    2021-10-11 18:35:05.604+0530 [] 2424@HOSTNAME [Test worker] INFO  com.exmple.test - --------S--------","title":"How to limit log from certain package when running gradlew test?","body":"<p>I have set <code>testLogging.showStandardStreams = true</code> in <code>build.gradle</code>, but it is printing log message from all classes, including Spring boot classes. But I want only log statements written in my test classes should print.\nIf I have package called <code>org.example.test</code>, can I set somewhere the package in build.gradle, or do we have some other property?</p>\n<p>Currently it print something like this and I don't want first 2 lines:</p>\n<pre><code>2021-10-11 18:35:05.575+0530 [] 2424@HOSTNAME [Test worker] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring TestDispatcherServlet ''\n2021-10-11 18:35:05.574+0530 [] 2424@HOSTNAME [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-299] WARN  org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer - Consumer raised exception, processing can restart if the connection factory supports it. Exception summary: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\n2021-10-11 18:35:05.604+0530 [] 2424@HOSTNAME [Test worker] INFO  com.exmple.test - --------S--------\n</code></pre>\n"},{"tags":["java","android","lottie"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1611053732,"post_id":65790037,"comment_id":116320353,"body_markdown":"well perhaps it&#39;s just the lottie file you have which isn&#39;t valid","body":"well perhaps it&#39;s just the lottie file you have which isn&#39;t valid"},{"owner":{"account_id":17288221,"reputation":140,"user_id":12520370,"display_name":"Massimiliano"},"score":0,"creation_date":1611053849,"post_id":65790037,"comment_id":116320420,"body_markdown":"i have tried a lot of files, this is the link: https://lottiefiles.com/30305-back-to-school","body":"i have tried a lot of files, this is the link: <a href=\"https://lottiefiles.com/30305-back-to-school\" rel=\"nofollow noreferrer\">lottiefiles.com/30305-back-to-school</a>"}],"owner":{"account_id":17288221,"reputation":140,"user_id":12520370,"display_name":"Massimiliano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634137181,"creation_date":1611053510,"question_id":65790037,"body_markdown":"Every time I run my app, this error is given: Error: Lottie doesn&#39;t support 3D layers.\r\nIn the same app there are more LottieAnimationView and no error is given, only this one return it.\r\nLottieAnimationView declare like this:\r\n```\r\nLottieAnimationView bookAnimation = findViewById(R.id.backToSchoolAnimation);\r\nbookAnimation.setVisibility(View.VISIBLE);\r\n\r\n```\r\nlayout declare like this:\r\n\r\n```\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;com.airbnb.lottie.LottieAnimationView\r\n                android:id=&quot;@+id/backToSchoolAnimation&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;450dp&quot;\r\n                app:lottie_autoPlay=&quot;true&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                app:lottie_rawRes=&quot;@raw/back_to_school&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n```\r\n","title":"Lottie animation return this Error: Lottie doesn&#39;t support 3D layers","body":"<p>Every time I run my app, this error is given: Error: Lottie doesn't support 3D layers.\nIn the same app there are more LottieAnimationView and no error is given, only this one return it.\nLottieAnimationView declare like this:</p>\n<pre><code>LottieAnimationView bookAnimation = findViewById(R.id.backToSchoolAnimation);\nbookAnimation.setVisibility(View.VISIBLE);\n\n</code></pre>\n<p>layout declare like this:</p>\n<pre><code>        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;com.airbnb.lottie.LottieAnimationView\n                android:id=&quot;@+id/backToSchoolAnimation&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;450dp&quot;\n                app:lottie_autoPlay=&quot;true&quot;\n                android:visibility=&quot;gone&quot;\n                app:lottie_rawRes=&quot;@raw/back_to_school&quot; /&gt;\n        &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","enums","drools","dmn","feel-language"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1633969702,"post_id":69529227,"comment_id":122895878,"body_markdown":"I don&#39;t fully understand the context of your question, but could it be as simple as passing `foo.name()` instead of `foo`?","body":"I don&#39;t fully understand the context of your question, but could it be as simple as passing <code>foo.name()</code> instead of <code>foo</code>?"},{"owner":{"account_id":23004380,"reputation":1,"user_id":17127907,"display_name":"user17127907"},"score":0,"creation_date":1633969889,"post_id":69529227,"comment_id":122895948,"body_markdown":"That&#39;s a good suggestion, though I&#39;ve maybe not given quite enough context - I&#39;m actually passing an object where foo is a field, then within dmn I&#39;m getting foo by ```parent.foo```.","body":"That&#39;s a good suggestion, though I&#39;ve maybe not given quite enough context - I&#39;m actually passing an object where foo is a field, then within dmn I&#39;m getting foo by <code>parent.foo</code>."}],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634137173,"creation_date":1634137173,"answer_id":69557829,"question_id":69529227,"body_markdown":"Please refer to this [existing JIRA record comment][1] section, for the explanation about:\r\n- why you are experiencing that behaviour\r\n- and why you should convert your Java-enum to the expected DMN type (which I guess) is a FEEL:string , and not an enum\r\n\r\nYou can use Jackson to achieve this, instead of resorting to custom code or DMN model modification.\r\n\r\nDon&#39;t hesitate to Subscribe to the JIRA linked above, as we&#39;re hoping of making that work out-of-the-box; but is not trivial since the DMN RTF is thinking about introducing Enumerations directly in DMN eventually, so we need to take into account today what might happen tomorrow.\r\n\r\nSince you are linking to Red Hat Product documentation, a reminder that you are **strongly encouraged** to open a Customer Portal ticket at https://access.redhat.com/support/cases/#/ if you have a Subscription.\r\n\r\nI will appreciate your feedback following there references/pointers and I hope those helps\r\n\r\n  [1]: https://issues.redhat.com/browse/DROOLS-5973?focusedCommentId=15791952&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15791952","title":"DMN - matching a Java enum by a FEEL expression","body":"<p>Please refer to this <a href=\"https://issues.redhat.com/browse/DROOLS-5973?focusedCommentId=15791952&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15791952\" rel=\"nofollow noreferrer\">existing JIRA record comment</a> section, for the explanation about:</p>\n<ul>\n<li>why you are experiencing that behaviour</li>\n<li>and why you should convert your Java-enum to the expected DMN type (which I guess) is a FEEL:string , and not an enum</li>\n</ul>\n<p>You can use Jackson to achieve this, instead of resorting to custom code or DMN model modification.</p>\n<p>Don't hesitate to Subscribe to the JIRA linked above, as we're hoping of making that work out-of-the-box; but is not trivial since the DMN RTF is thinking about introducing Enumerations directly in DMN eventually, so we need to take into account today what might happen tomorrow.</p>\n<p>Since you are linking to Red Hat Product documentation, a reminder that you are <strong>strongly encouraged</strong> to open a Customer Portal ticket at <a href=\"https://access.redhat.com/support/cases/#/\" rel=\"nofollow noreferrer\">https://access.redhat.com/support/cases/#/</a> if you have a Subscription.</p>\n<p>I will appreciate your feedback following there references/pointers and I hope those helps</p>\n"}],"owner":{"account_id":23004380,"reputation":1,"user_id":17127907,"display_name":"user17127907"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634137173,"creation_date":1633968117,"question_id":69529227,"body_markdown":"I have a Java enum as an input in a DMN decision table. The DMN call is [embedded directly in the Java app][1]. So take some enum:\r\n\r\n    public enum Foo {\r\n        ONE, TWO\r\n    }\r\n\r\nI pass an instance of this enum as an input - ```dmnContext.set(&quot;Foo&quot;, foo);```\r\n\r\nI hoped to be able to set a decision table input for foo of type string, and have a rule that matched &quot;ONE&quot;. However, this doesn&#39;t work, because there is no POJO-String conversion. In the Java code, I could store foo as a String and validate it against the enumerated values (i.e. check foo is in the set [&quot;ONE&quot;, &quot;TWO&quot;]), but this will complicate other parts of the application.\r\n\r\nHow can I achieve this while still using an enum type?\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html/designing_a_decision_service_using_dmn_models/dmn-invocation-options-con","title":"DMN - matching a Java enum by a FEEL expression","body":"<p>I have a Java enum as an input in a DMN decision table. The DMN call is <a href=\"https://access.redhat.com/documentation/en-us/red_hat_decision_manager/7.0/html/designing_a_decision_service_using_dmn_models/dmn-invocation-options-con\" rel=\"nofollow noreferrer\">embedded directly in the Java app</a>. So take some enum:</p>\n<pre><code>public enum Foo {\n    ONE, TWO\n}\n</code></pre>\n<p>I pass an instance of this enum as an input - <code>dmnContext.set(&quot;Foo&quot;, foo);</code></p>\n<p>I hoped to be able to set a decision table input for foo of type string, and have a rule that matched &quot;ONE&quot;. However, this doesn't work, because there is no POJO-String conversion. In the Java code, I could store foo as a String and validate it against the enumerated values (i.e. check foo is in the set [&quot;ONE&quot;, &quot;TWO&quot;]), but this will complicate other parts of the application.</p>\n<p>How can I achieve this while still using an enum type?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634137273,"post_id":69557796,"comment_id":122946424,"body_markdown":"`public static void setInterestRate(double newRate){ newRate = interestRate; }` you sure about this?","body":"<code>public static void setInterestRate(double newRate){ newRate = interestRate; }</code> you sure about this?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634137375,"post_id":69557796,"comment_id":122946478,"body_markdown":"As an aside, variable names start with a lower case letter, so for example `interest`, `d`","body":"As an aside, variable names start with a lower case letter, so for example <code>interest</code>, <code>d</code>"},{"owner":{"account_id":23022803,"reputation":1,"user_id":17143575,"display_name":"Kuuro"},"score":0,"creation_date":1634137477,"post_id":69557796,"comment_id":122946531,"body_markdown":"@FedericoklezCulloca Not really, i have an instruction that i follow it said &quot;declare a static method named setInterestRate with a parameter of double type named newRate. This method should assign newRate to interestRate.&quot;","body":"@FedericoklezCulloca Not really, i have an instruction that i follow it said &quot;declare a static method named setInterestRate with a parameter of double type named newRate. This method should assign newRate to interestRate.&quot;"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1634137547,"post_id":69557796,"comment_id":122946555,"body_markdown":"&quot;This method should assign newRate to interestRate.&quot; re-read that and see what the code does. Is it assigning `newRate` to `interestRate` or rather the other way around?","body":"&quot;This method should assign newRate to interestRate.&quot; re-read that and see what the code does. Is it assigning <code>newRate</code> to <code>interestRate</code> or rather the other way around?"},{"owner":{"account_id":23022803,"reputation":1,"user_id":17143575,"display_name":"Kuuro"},"score":0,"creation_date":1634138819,"post_id":69557796,"comment_id":122947088,"body_markdown":"@FedericoklezCulloca so it should be interestRate = newRate? since newRate is supposed to be assigned to to interestRate? i tried that but it&#39;s still the same","body":"@FedericoklezCulloca so it should be interestRate = newRate? since newRate is supposed to be assigned to to interestRate? i tried that but it&#39;s still the same"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634139056,"post_id":69557796,"comment_id":122947192,"body_markdown":"I posted that as a comment instead of an answer because I wasn&#39;t sure it was the only problem. But yeah, that was definitely wrong, no doubt about that. `interestRate = newRate;` is the correct way to do that part.","body":"I posted that as a comment instead of an answer because I wasn&#39;t sure it was the only problem. But yeah, that was definitely wrong, no doubt about that. <code>interestRate = newRate;</code> is the correct way to do that part."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634139126,"post_id":69557796,"comment_id":122947215,"body_markdown":"Oh, and you&#39;re never calling `addInterest` by the way.","body":"Oh, and you&#39;re never calling <code>addInterest</code> by the way."},{"owner":{"account_id":23022803,"reputation":1,"user_id":17143575,"display_name":"Kuuro"},"score":0,"creation_date":1634140174,"post_id":69557796,"comment_id":122947607,"body_markdown":"It works now, thanks!!!","body":"It works now, thanks!!!"}],"owner":{"account_id":23022803,"reputation":1,"user_id":17143575,"display_name":"Kuuro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634137144,"creation_date":1634137053,"question_id":69557796,"body_markdown":"I have an assignment where I need to create a program that invokes static methods and static variables. So when I input an interest rate it doesn&#39;t compute the interest rate.\r\n\r\n\r\n    package runsavingsaccount;\r\n    import java.util.Scanner;\r\n    class SavingsAccount{\r\n    \r\n        private double balance;\r\n        public static double interestRate = 0;\r\n    \r\n        SavingsAccount() {\r\n            this.balance = 0.0f;\r\n        }\r\n        \r\n        public static void setInterestRate(double newRate){\r\n            newRate = interestRate;\r\n        }\r\n        \r\n        public static double getInterestRate(){\r\n            return interestRate;\r\n        }\r\n        \r\n        public double getBalance(){\r\n            return balance;\r\n        }\r\n        \r\n        public void deposit(double amount){\r\n            this.balance = balance += amount;\r\n            \r\n        }\r\n        public double withdraw(double amount){\r\n            if(balance &gt;= amount){\r\n                balance -= amount;\r\n            }\r\n            else{\r\n                amount = 0;\r\n            }\r\n            return amount;\r\n        }\r\n        \r\n        public void addInterest(){\r\n            double Interest;\r\n            Interest = balance * interestRate;\r\n            balance = balance + Interest;\r\n            \r\n        }\r\n        \r\n        public static void showBalance(SavingsAccount account){\r\n            account.getBalance();   \r\n        }\r\n    }\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class RunSavingsAccount {\r\n    \r\n        public static void main(String[] args) {\r\n           \r\n            Scanner input = new Scanner(System.in);\r\n            SavingsAccount savings = new SavingsAccount();\r\n            \r\n            double interestRateInput;\r\n            double depositInput;\r\n            \r\n             \r\n            System.out.print(&quot;Enter the Interest Rate: &quot;);\r\n            interestRateInput = input.nextDouble(); \r\n            SavingsAccount.setInterestRate(interestRateInput);\r\n            \r\n            System.out.print(&quot;Enter the Amount of Deposit: &quot;);\r\n            depositInput = input.nextDouble();\r\n            savings.deposit(depositInput);\r\n            \r\n            System.out.println(&quot;Total Balance: &quot;+ savings.getBalance());\r\n            input.nextLine();\r\n            System.out.print(&quot;Press &#39;D&#39; for another Deposit / Press &#39;W&#39; for Withdraw &quot;);\r\n            String D = input.nextLine();\r\n            \r\n           \r\n            \r\n            if(D.equals(&quot;D&quot;)){\r\n                System.out.print(&quot;Enter the Amount of Deposit: &quot;);\r\n                depositInput = input.nextDouble();\r\n                savings.deposit(depositInput);\r\n               \r\n                System.out.print(&quot;Total Balance: &quot; + savings.getBalance());\r\n            }\r\n            else if(D.equals(&quot;W&quot;)){\r\n                System.out.print(&quot;Enter the Amount of Deposit: &quot;);\r\n                double withdrawInput = input.nextDouble();\r\n                savings.withdraw(withdrawInput);\r\n                \r\n                System.out.print(&quot;Remaining Balance: &quot;+ savings.getBalance());\r\n            }\r\n            \r\n    \r\n        }\r\n        \r\n    }\r\n\r\nSample of an expected output: \r\n\r\n    Enter interest rate: .10 \r\n    Enter the amount of deposit: 500 \r\n    Total Balance: 500.0\r\n    \r\n    Press D for another deposit / Press W to withdraw : D\r\n    Total Balance: 1650.0\r\n\r\nMy output:\r\n\r\n    Enter interest rate: .10\r\n    Enter the amount of deposit: 500\r\n    Total Balance: 500.0\r\n    \r\n    Press D for another deposit / Press W to withdraw : D\r\n    Total Balance: 1500.0","title":"What should I do so it would calculate the interestrate?","body":"<p>I have an assignment where I need to create a program that invokes static methods and static variables. So when I input an interest rate it doesn't compute the interest rate.</p>\n<pre><code>package runsavingsaccount;\nimport java.util.Scanner;\nclass SavingsAccount{\n\n    private double balance;\n    public static double interestRate = 0;\n\n    SavingsAccount() {\n        this.balance = 0.0f;\n    }\n    \n    public static void setInterestRate(double newRate){\n        newRate = interestRate;\n    }\n    \n    public static double getInterestRate(){\n        return interestRate;\n    }\n    \n    public double getBalance(){\n        return balance;\n    }\n    \n    public void deposit(double amount){\n        this.balance = balance += amount;\n        \n    }\n    public double withdraw(double amount){\n        if(balance &gt;= amount){\n            balance -= amount;\n        }\n        else{\n            amount = 0;\n        }\n        return amount;\n    }\n    \n    public void addInterest(){\n        double Interest;\n        Interest = balance * interestRate;\n        balance = balance + Interest;\n        \n    }\n    \n    public static void showBalance(SavingsAccount account){\n        account.getBalance();   \n    }\n}\n</code></pre>\n\n<pre><code>public class RunSavingsAccount {\n\n    public static void main(String[] args) {\n       \n        Scanner input = new Scanner(System.in);\n        SavingsAccount savings = new SavingsAccount();\n        \n        double interestRateInput;\n        double depositInput;\n        \n         \n        System.out.print(&quot;Enter the Interest Rate: &quot;);\n        interestRateInput = input.nextDouble(); \n        SavingsAccount.setInterestRate(interestRateInput);\n        \n        System.out.print(&quot;Enter the Amount of Deposit: &quot;);\n        depositInput = input.nextDouble();\n        savings.deposit(depositInput);\n        \n        System.out.println(&quot;Total Balance: &quot;+ savings.getBalance());\n        input.nextLine();\n        System.out.print(&quot;Press 'D' for another Deposit / Press 'W' for Withdraw &quot;);\n        String D = input.nextLine();\n        \n       \n        \n        if(D.equals(&quot;D&quot;)){\n            System.out.print(&quot;Enter the Amount of Deposit: &quot;);\n            depositInput = input.nextDouble();\n            savings.deposit(depositInput);\n           \n            System.out.print(&quot;Total Balance: &quot; + savings.getBalance());\n        }\n        else if(D.equals(&quot;W&quot;)){\n            System.out.print(&quot;Enter the Amount of Deposit: &quot;);\n            double withdrawInput = input.nextDouble();\n            savings.withdraw(withdrawInput);\n            \n            System.out.print(&quot;Remaining Balance: &quot;+ savings.getBalance());\n        }\n        \n\n    }\n    \n}\n</code></pre>\n<p>Sample of an expected output:</p>\n<pre><code>Enter interest rate: .10 \nEnter the amount of deposit: 500 \nTotal Balance: 500.0\n\nPress D for another deposit / Press W to withdraw : D\nTotal Balance: 1650.0\n</code></pre>\n<p>My output:</p>\n<pre><code>Enter interest rate: .10\nEnter the amount of deposit: 500\nTotal Balance: 500.0\n\nPress D for another deposit / Press W to withdraw : D\nTotal Balance: 1500.0\n</code></pre>\n"},{"tags":["java","database","listener"],"comments":[{"owner":{"account_id":443653,"reputation":2215,"user_id":835000,"accept_rate":83,"display_name":"svaor"},"score":1,"creation_date":1348740688,"post_id":12618915,"comment_id":17012708,"body_markdown":"Do you mean database trigger?..","body":"Do you mean database trigger?.."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1352723594,"post_id":12618915,"comment_id":18209581,"body_markdown":"Related, but not quite duplicate: http://stackoverflow.com/questions/4594955/how-to-make-a-database-listener-with-java","body":"Related, but not quite duplicate: <a href=\"http://stackoverflow.com/questions/4594955/how-to-make-a-database-listener-with-java\" title=\"how to make a database listener with java\">stackoverflow.com/questions/4594955/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1348741777,"creation_date":1348740862,"answer_id":12619031,"question_id":12618915,"body_markdown":"A general solution would probably consist in creating a trigger on the table of interest, notifying any listeners about `INSERT` events. Some databases have formalised means for such inter-process notification. For instance:\n\n### Oracle:\n\n- The [`DBMS_ALERT`][1] is a simple means for such notification\n- [Oracle AQ / Oracle Streams][2] provide more sophisticated queue mechanisms\n\n### Postgres:\n\n- The [`NOTIFY`][3] statement is a simple means for such notification\n\n### Others:\n\n- There might be similar notification mechanisms in other databases, that I&#39;m not aware of.\n- You can always implement your own event notification queue tables by inserting an event in an event table, which is consumed / polled by a Java process. Getting this right and performant may be quite tricky, though.\n\n\n  [1]: http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_alert.htm\n  [2]: http://www.oracle.com/technetwork/database/information-management/streams-fov-11g-134280.pdf\n  [3]: http://www.postgresql.org/docs/9.2/static/sql-notify.html","title":"How to implement a db listener in Java","body":"<p>A general solution would probably consist in creating a trigger on the table of interest, notifying any listeners about <code>INSERT</code> events. Some databases have formalised means for such inter-process notification. For instance:</p>\n<h3>Oracle:</h3>\n<ul>\n<li>The <a href=\"http://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_alert.htm\" rel=\"noreferrer\"><code>DBMS_ALERT</code></a> is a simple means for such notification</li>\n<li><a href=\"http://www.oracle.com/technetwork/database/information-management/streams-fov-11g-134280.pdf\" rel=\"noreferrer\">Oracle AQ / Oracle Streams</a> provide more sophisticated queue mechanisms</li>\n</ul>\n<h3>Postgres:</h3>\n<ul>\n<li>The <a href=\"http://www.postgresql.org/docs/9.2/static/sql-notify.html\" rel=\"noreferrer\"><code>NOTIFY</code></a> statement is a simple means for such notification</li>\n</ul>\n<h3>Others:</h3>\n<ul>\n<li>There might be similar notification mechanisms in other databases, that I'm not aware of.</li>\n<li>You can always implement your own event notification queue tables by inserting an event in an event table, which is consumed / polled by a Java process. Getting this right and performant may be quite tricky, though.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1352393814,"creation_date":1352150440,"answer_id":13240582,"question_id":12618915,"body_markdown":"A similar Answer here: https://stackoverflow.com/questions/4594955/how-to-make-a-database-listener-with-java\r\n\r\nYou can do this with a message queue that supports transactions and just fire off a message when the transaction is comitted or (connection closed) for databases that don&#39;t support notifications. That is for the most part you will have to manually notify and keep track of what to notify.\r\n\r\nSpring provides some auto transaction support for **AMQP** and **JMS**. A simpler alternative you could use is [Guava&#39;s AsyncEventBus][1] but that will only work for one JVM.\r\nFor all of the options below I recommend you notify the rest of your  platform with a message queue.\r\n\r\nOption - Non-polling non-database specific\r\n------------------------------------------\r\n\r\n**ORM Option**\r\n\r\nSome libraries like **Hibernate JPA** [have entity listeners][2] that make this easier but thats because they assume that they manage all of the CRUDing.\r\n\r\n\r\nFor regular **JDBC** you&#39;ll have to do your own book keeping. That is after the connection is committed or closed you then send the message to MQ that something has been updated.\r\n\r\n**JDBC Parsing**\r\n\r\nOne complicated option for book keeping is to wrap/decorate your `java.sql.DataSource` and/or `java.sql.Connection` in a custom one such that on [`commit()`](http://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html#commit()) (and close) you then send a message. I believe some federated caching systems do this. You could trap the executed SQL and parse to see if its an INSERT or UPDATE but with out very complicated parsing and meta data you will not get row level listening. Sadly I have to admit this is one of the advantages an **ORM** provides in that it knows what your updating.\r\n\r\n**Dao Option**\r\n\r\nThe best option if your *not* using an ORM is to just manually send a message in your DAO after the transaction is closed that a row has been updated. *Just make sure the transaction is closed before you send the message.*\r\n\r\nOption - Polling non-database specific\r\n--------------------------------------\r\n\r\nSomewhat follow @GlenBest recommendation.\r\n\r\nI couple of things that I would do differently. I would externalize the timer or make it so that only one server runs the timer (ie scheduler). I would just use `ScheduledExecutorService` (preferable wrapping it in Guava&#39;s `ListenerScheduledExecutorService`) instead of Quartz (IMHO using quartz for polling super overkill).\r\n\r\nFar all of your tables you want to watch you should add a &quot;notified&quot; column.\r\n\r\nThen you do something like:\r\n\r\n    // BEGIN Transaction\r\n    List&lt;String&gt; ids = execute(&quot;SELECT id FROM table where notified = &#39;f&#39;&quot;);\r\n    //If db not transactional either insert ids in a tmp table or use IN clause\r\n    execute(&quot;update table set notified = &#39;t&#39; where notified = &#39;f&#39;&quot;)\r\n    // COMMIT Transaction\r\n    for (String id : ids) { mq.sendMessage(table, id); }\r\n\r\nOption - db specific\r\n--------------------\r\n\r\nWith Postgres `NOTIFY` you&#39;ll still need to poll to some extent so you&#39;ll be doing most of the above and then send the message to the bus.\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/eventbus/AsyncEventBus.html\r\n  [2]: http://docs.jboss.org/hibernate/orm/4.0/hem/en-US/html/listeners.html","title":"How to implement a db listener in Java","body":"<p>A similar Answer here: <a href=\"https://stackoverflow.com/questions/4594955/how-to-make-a-database-listener-with-java\">How to make a database listener with java?</a></p>\n\n<p>You can do this with a message queue that supports transactions and just fire off a message when the transaction is comitted or (connection closed) for databases that don't support notifications. That is for the most part you will have to manually notify and keep track of what to notify.</p>\n\n<p>Spring provides some auto transaction support for <strong>AMQP</strong> and <strong>JMS</strong>. A simpler alternative you could use is <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/eventbus/AsyncEventBus.html\" rel=\"noreferrer\">Guava's AsyncEventBus</a> but that will only work for one JVM.\nFor all of the options below I recommend you notify the rest of your  platform with a message queue.</p>\n\n<h2>Option - Non-polling non-database specific</h2>\n\n<p><strong>ORM Option</strong></p>\n\n<p>Some libraries like <strong>Hibernate JPA</strong> <a href=\"http://docs.jboss.org/hibernate/orm/4.0/hem/en-US/html/listeners.html\" rel=\"noreferrer\">have entity listeners</a> that make this easier but thats because they assume that they manage all of the CRUDing.</p>\n\n<p>For regular <strong>JDBC</strong> you'll have to do your own book keeping. That is after the connection is committed or closed you then send the message to MQ that something has been updated.</p>\n\n<p><strong>JDBC Parsing</strong></p>\n\n<p>One complicated option for book keeping is to wrap/decorate your <code>java.sql.DataSource</code> and/or <code>java.sql.Connection</code> in a custom one such that on <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/Connection.html#commit()\" rel=\"noreferrer\"><code>commit()</code></a> (and close) you then send a message. I believe some federated caching systems do this. You could trap the executed SQL and parse to see if its an INSERT or UPDATE but with out very complicated parsing and meta data you will not get row level listening. Sadly I have to admit this is one of the advantages an <strong>ORM</strong> provides in that it knows what your updating.</p>\n\n<p><strong>Dao Option</strong></p>\n\n<p>The best option if your <em>not</em> using an ORM is to just manually send a message in your DAO after the transaction is closed that a row has been updated. <em>Just make sure the transaction is closed before you send the message.</em></p>\n\n<h2>Option - Polling non-database specific</h2>\n\n<p>Somewhat follow @GlenBest recommendation.</p>\n\n<p>I couple of things that I would do differently. I would externalize the timer or make it so that only one server runs the timer (ie scheduler). I would just use <code>ScheduledExecutorService</code> (preferable wrapping it in Guava's <code>ListenerScheduledExecutorService</code>) instead of Quartz (IMHO using quartz for polling super overkill).</p>\n\n<p>Far all of your tables you want to watch you should add a \"notified\" column.</p>\n\n<p>Then you do something like:</p>\n\n<pre><code>// BEGIN Transaction\nList&lt;String&gt; ids = execute(\"SELECT id FROM table where notified = 'f'\");\n//If db not transactional either insert ids in a tmp table or use IN clause\nexecute(\"update table set notified = 't' where notified = 'f'\")\n// COMMIT Transaction\nfor (String id : ids) { mq.sendMessage(table, id); }\n</code></pre>\n\n<h2>Option - db specific</h2>\n\n<p>With Postgres <code>NOTIFY</code> you'll still need to poll to some extent so you'll be doing most of the above and then send the message to the bus.</p>\n"},{"tags":[],"owner":{"account_id":1495455,"reputation":964,"user_id":1401509,"accept_rate":17,"display_name":"Chandru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634137143,"creation_date":1352159453,"answer_id":13242325,"question_id":12618915,"body_markdown":"I am not sure how far this solution satisfy your need but can be considered as an option. If you are using oracle, then you can write a java program and compile it as an oracle function. you can call your java program from the post insert trigger.\r\n\r\n[Java program in oracle DB][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/B28359_01/java.111/b31225/chone.htm","title":"How to implement a db listener in Java","body":"<p>I am not sure how far this solution satisfy your need but can be considered as an option. If you are using oracle, then you can write a java program and compile it as an oracle function. you can call your java program from the post insert trigger.</p>\n<p><a href=\"http://docs.oracle.com/cd/B28359_01/java.111/b31225/chone.htm\" rel=\"nofollow noreferrer\">Java program in oracle DB</a></p>\n"},{"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1352346941,"creation_date":1352196349,"answer_id":13248691,"question_id":12618915,"body_markdown":"Assumptions: \r\n\r\n- Having standard portable code is more important than instant realtime execution of the java program.  You want to allow portability to alternative future technology (e.g. avoid proprietary DB events, external triggers).  Java process can run slightly after record is added to table (e.g. 10 seconds later). i.e. Either schedule + polling or realtime trigger/message/event are both acceptable.\r\n\r\n- If multiple rows are added to the table all at once, you want to run one process, not many. A DB trigger would start a java process for each row - inappropriate.\r\n\r\n- Quality of Service is important.  Even if there is a hardware or software fatal error, you want the java program to run again and process the incomplete data.  \r\n\r\n- You want to apply strong security standards to your environment (e.g. avoid having java or DB execute OS commands directly)\r\n\r\n- You want to minimise code\r\n\r\n 1. Core Java Standard Code without dependency on proprietary DB functionality:\r\n\r\n   - Use ScheduledExecutorService or Quartz scheduler (or unix cron job or windows task scheduler) to run a java program every minute (or could do every 10 seconds).  This acts as both a scheduler and watchdog, ensuring program runs around the clock. Quartz can also be deployed in app server.\r\n   - Have your java program run for just 1 minute (or 10 seconds), looping, querying DB via JDBC and sleeping for a few seconds, then finally exiting. \r\n\r\n 2. If you have app in an appserver:\r\nCreate a Session Bean that uses the Timer Service and again query the table via JDBC [Session Bean Timer Service][1].\r\n\r\n 3. Have a DB trigger that writes/appends to a file.  Use java 7 filewatcher to trigger logic whent the file changes [Java 7 File Watcher][2]\r\n\r\nThere is another option: using an open source ESB with a DB adaptor triggering logic (e.g. Fuse or Mule or OpenAdapter), but this gives powerful functionality beyond your stated requirements, and is time-consuming and complex to install and learn.\r\n\r\n\r\nEJB Timer Example using @Schedule:\r\n\r\n    public class ABCRequest {\r\n       // normal java bean with data from DB\r\n    }\r\n        \r\n    @Singleton\r\n    public class ABCProcessor {    \r\n        @Resource DataSource myDataSource;   \r\n        @EJB ABCProcessor abcProcessor;\r\n        // runs every 3 minutes \r\n        @Schedule(minute=&quot;*/3&quot;, hour=&quot;*&quot;)\r\n        public void processNewDBData() {\r\n            // run a JDBC prepared statement to see if any new data in table, put data into RequestData\r\n            try\r\n            {\r\n               Connection con = dataSource.getConnection();\r\n               PreparedStatement ps = con.prepareStatement(&quot;SELECT * FROM ABC_FEED;&quot;);\r\n               ...\r\n               ResultSet rs = ps.executeQuery();\r\n               ABCRequest abcRequest\r\n               while (rs.hasNext()) {\r\n                   // population abcRequest\r\n               }\r\n               abcProcessor.processABCRequest(abcRequst);\r\n            } ...\r\n        }    \r\n    }\r\n    \r\n    @Stateless\r\n    public class class ABCProcessor {\r\n        public void processABCRequest(ABCRequest abcRequest) {\r\n        // processing job logic\r\n        }\r\n    }\r\n\r\nSee Also: [See This Answer][3] for sending CDI Event Objects from EJB to Web container.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/bnboy.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/io/notification.html\r\n  [3]: https://stackoverflow.com/questions/13060337/remote-polling-in-managedbean-and-notify-client-view-via-push","title":"How to implement a db listener in Java","body":"<p>Assumptions: </p>\n\n<ul>\n<li><p>Having standard portable code is more important than instant realtime execution of the java program.  You want to allow portability to alternative future technology (e.g. avoid proprietary DB events, external triggers).  Java process can run slightly after record is added to table (e.g. 10 seconds later). i.e. Either schedule + polling or realtime trigger/message/event are both acceptable.</p></li>\n<li><p>If multiple rows are added to the table all at once, you want to run one process, not many. A DB trigger would start a java process for each row - inappropriate.</p></li>\n<li><p>Quality of Service is important.  Even if there is a hardware or software fatal error, you want the java program to run again and process the incomplete data.  </p></li>\n<li><p>You want to apply strong security standards to your environment (e.g. avoid having java or DB execute OS commands directly)</p></li>\n<li><p>You want to minimise code</p>\n\n<ol>\n<li><p>Core Java Standard Code without dependency on proprietary DB functionality:</p>\n\n<ul>\n<li>Use ScheduledExecutorService or Quartz scheduler (or unix cron job or windows task scheduler) to run a java program every minute (or could do every 10 seconds).  This acts as both a scheduler and watchdog, ensuring program runs around the clock. Quartz can also be deployed in app server.</li>\n<li>Have your java program run for just 1 minute (or 10 seconds), looping, querying DB via JDBC and sleeping for a few seconds, then finally exiting. </li>\n</ul></li>\n<li><p>If you have app in an appserver:\nCreate a Session Bean that uses the Timer Service and again query the table via JDBC <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnboy.html\" rel=\"noreferrer\">Session Bean Timer Service</a>.</p></li>\n<li><p>Have a DB trigger that writes/appends to a file.  Use java 7 filewatcher to trigger logic whent the file changes <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/notification.html\" rel=\"noreferrer\">Java 7 File Watcher</a></p></li>\n</ol></li>\n</ul>\n\n<p>There is another option: using an open source ESB with a DB adaptor triggering logic (e.g. Fuse or Mule or OpenAdapter), but this gives powerful functionality beyond your stated requirements, and is time-consuming and complex to install and learn.</p>\n\n<p>EJB Timer Example using @Schedule:</p>\n\n<pre><code>public class ABCRequest {\n   // normal java bean with data from DB\n}\n\n@Singleton\npublic class ABCProcessor {    \n    @Resource DataSource myDataSource;   \n    @EJB ABCProcessor abcProcessor;\n    // runs every 3 minutes \n    @Schedule(minute=\"*/3\", hour=\"*\")\n    public void processNewDBData() {\n        // run a JDBC prepared statement to see if any new data in table, put data into RequestData\n        try\n        {\n           Connection con = dataSource.getConnection();\n           PreparedStatement ps = con.prepareStatement(\"SELECT * FROM ABC_FEED;\");\n           ...\n           ResultSet rs = ps.executeQuery();\n           ABCRequest abcRequest\n           while (rs.hasNext()) {\n               // population abcRequest\n           }\n           abcProcessor.processABCRequest(abcRequst);\n        } ...\n    }    \n}\n\n@Stateless\npublic class class ABCProcessor {\n    public void processABCRequest(ABCRequest abcRequest) {\n    // processing job logic\n    }\n}\n</code></pre>\n\n<p>See Also: <a href=\"https://stackoverflow.com/questions/13060337/remote-polling-in-managedbean-and-notify-client-view-via-push\">See This Answer</a> for sending CDI Event Objects from EJB to Web container.</p>\n"},{"tags":[],"owner":{"account_id":990336,"reputation":5641,"user_id":1007845,"accept_rate":82,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1505238925,"creation_date":1352389905,"answer_id":13292544,"question_id":12618915,"body_markdown":"I have a solution for Oracle. You don&#39;t need to create your own since now that Oracle bought Java it released a listener for it. As far as I know this does not use polling internally, instead notifications are pushed to the Java side (probably based on some trigger): \r\n\r\n    public interface oracle.jdbc.dcn.DatabaseChangeListener \r\n    extends java.util.EventListener {\r\n        void onDatabaseChangeNotification(oracle.jdbc.dcn.DatabaseChangeEvent arg0);\r\n    }\r\n\r\nAnd you can implement it like this (this is just a sample):\r\n\r\n    public class DBListener implements DatabaseChangeListener {\r\n    \tprivate DbChangeNotification toNotify;\r\n    \t\r\n    \tpublic BNSDBListener(DbChangeNotification toNotify) {\r\n    \t\tthis.toNotify = toNotify;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void onDatabaseChangeNotification(oracle.jdbc.dcn.DatabaseChangeEvent e) {\r\n    \t    synchronized( toNotify ) {\r\n                try {\r\n                    toNotify.notifyDBChangeEvent(e); //do sth\r\n                } catch (Exception ex) {\r\n                    Util.logMessage(CLASSNAME, &quot;onDatabaseChangeNotification&quot;, \r\n                        &quot;Errors on the notifying object.&quot;, true);\r\n                    Util.printStackTrace(ex);\r\n                    Util.systemExit();\t\t\t\t\t\t\t\t   \t\t \r\n                }\r\n            }\t\t\r\n        }\r\n    }\r\n  \r\n**EDIT:**  \r\nYou can use the following class to register: `oracle.jdbc.OracleConnectionWrapper`\r\n\r\n    public class oracle.jdbc.OracleConnectionWrapper implements oracle.jdbc.OracleConnection {...}\r\n\r\nSay you create a method somewhere:\r\n\r\n    public void registerPushNotification(String sql) {\r\n\t    oracle.jdbc.driver.OracleConnection oracleConnection = ...;//connect to db\r\n\r\n\t    dbProperties.setProperty(OracleConnection.DCN_NOTIFY_ROWIDS, &quot;true&quot;);\r\n\t    dbProperties.setProperty(OracleConnection.DCN_QUERY_CHANGE_NOTIFICATION, &quot;true&quot;);\r\n\r\n\t    //this is what does the actual registering on the db end\r\n\t    oracle.jdbc.dcn.DatabaseChangeRegistration dbChangeRegistration= oracleConnection.registerDatabaseChangeNotification(dbProperties);\r\n\r\n\t    //now you can add the listener created before my EDIT\r\n\t    listener = new DBListener(this);\r\n\t    dbChangeRegistration.addListener(listener);\r\n\t\r\n\t    //now you need to add whatever tables you want to monitor\r\n\t    Statement stmt = oracleConnection.createStatement();\r\n\t    //associate the statement with the registration:\r\n\t    ((OracleStatement) stmt).setDatabaseChangeRegistration(dbChangeRegistration); //look up the documentation to this method [http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleStatement.html#setDatabaseChangeRegistration_oracle_jdbc_dcn_DatabaseChangeRegistration_]\r\n\r\n\t    ResultSet rs = stmt.executeQuery(sql); //you have to execute the query to link it to the statement for it to be monitored\r\n\t    while (rs.next()) { ...do sth with the results if interested... }\r\n\r\n\t    //see what tables are being monitored\r\n\t    String[] tableNames = dbChangeRegistration.getTables();\r\n\t    for (int i = 0; i &lt; tableNames.length; i++) {\r\n\t\t    System.out.println(tableNames[i]\t+ &quot; has been registered.&quot;);\r\n\t    }\r\n\t    rs.close();\r\n\t    stmt.close();\r\n    }\r\n\r\nThis example does not include try-catch clauses or any exception handling.","title":"How to implement a db listener in Java","body":"<p>I have a solution for Oracle. You don't need to create your own since now that Oracle bought Java it released a listener for it. As far as I know this does not use polling internally, instead notifications are pushed to the Java side (probably based on some trigger): </p>\n\n<pre><code>public interface oracle.jdbc.dcn.DatabaseChangeListener \nextends java.util.EventListener {\n    void onDatabaseChangeNotification(oracle.jdbc.dcn.DatabaseChangeEvent arg0);\n}\n</code></pre>\n\n<p>And you can implement it like this (this is just a sample):</p>\n\n<pre><code>public class DBListener implements DatabaseChangeListener {\n    private DbChangeNotification toNotify;\n\n    public BNSDBListener(DbChangeNotification toNotify) {\n        this.toNotify = toNotify;\n    }\n\n    @Override\n    public void onDatabaseChangeNotification(oracle.jdbc.dcn.DatabaseChangeEvent e) {\n        synchronized( toNotify ) {\n            try {\n                toNotify.notifyDBChangeEvent(e); //do sth\n            } catch (Exception ex) {\n                Util.logMessage(CLASSNAME, \"onDatabaseChangeNotification\", \n                    \"Errors on the notifying object.\", true);\n                Util.printStackTrace(ex);\n                Util.systemExit();                                       \n            }\n        }       \n    }\n}\n</code></pre>\n\n<p><strong>EDIT:</strong><br>\nYou can use the following class to register: <code>oracle.jdbc.OracleConnectionWrapper</code></p>\n\n<pre><code>public class oracle.jdbc.OracleConnectionWrapper implements oracle.jdbc.OracleConnection {...}\n</code></pre>\n\n<p>Say you create a method somewhere:</p>\n\n<pre><code>public void registerPushNotification(String sql) {\n    oracle.jdbc.driver.OracleConnection oracleConnection = ...;//connect to db\n\n    dbProperties.setProperty(OracleConnection.DCN_NOTIFY_ROWIDS, \"true\");\n    dbProperties.setProperty(OracleConnection.DCN_QUERY_CHANGE_NOTIFICATION, \"true\");\n\n    //this is what does the actual registering on the db end\n    oracle.jdbc.dcn.DatabaseChangeRegistration dbChangeRegistration= oracleConnection.registerDatabaseChangeNotification(dbProperties);\n\n    //now you can add the listener created before my EDIT\n    listener = new DBListener(this);\n    dbChangeRegistration.addListener(listener);\n\n    //now you need to add whatever tables you want to monitor\n    Statement stmt = oracleConnection.createStatement();\n    //associate the statement with the registration:\n    ((OracleStatement) stmt).setDatabaseChangeRegistration(dbChangeRegistration); //look up the documentation to this method [http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleStatement.html#setDatabaseChangeRegistration_oracle_jdbc_dcn_DatabaseChangeRegistration_]\n\n    ResultSet rs = stmt.executeQuery(sql); //you have to execute the query to link it to the statement for it to be monitored\n    while (rs.next()) { ...do sth with the results if interested... }\n\n    //see what tables are being monitored\n    String[] tableNames = dbChangeRegistration.getTables();\n    for (int i = 0; i &lt; tableNames.length; i++) {\n        System.out.println(tableNames[i]    + \" has been registered.\");\n    }\n    rs.close();\n    stmt.close();\n}\n</code></pre>\n\n<p>This example does not include try-catch clauses or any exception handling.</p>\n"}],"owner":{"account_id":1600914,"reputation":1477,"user_id":1481955,"accept_rate":97,"display_name":"Krithika Vittal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106143,"favorite_count":0,"down_vote_count":2,"up_vote_count":74,"answer_count":5,"score":72,"last_activity_date":1634137143,"creation_date":1348740442,"question_id":12618915,"body_markdown":"I have a requirement where if a record is inserted in a db table , then automatically a java process needs to be executed.What is the easiest way to implement a db listener ?","title":"How to implement a db listener in Java","body":"<p>I have a requirement where if a record is inserted in a db table , then automatically a java process needs to be executed.What is the easiest way to implement a db listener ?</p>\n"},{"tags":["java","unit-testing","powermock"],"answers":[{"tags":[],"owner":{"account_id":1044190,"reputation":2567,"user_id":1049527,"accept_rate":96,"display_name":"ZaoTaoBao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397114577,"creation_date":1397114577,"answer_id":22981305,"question_id":22981048,"body_markdown":"Maybe i can&#39;t undestand your question, but i believe it&#39;s necessary specify what must do \r\nthe method, so if you don&#39;t specify thenReturn or thenThrow or whatever powerMockito doesn&#39;t know what have to do when read your real code, for example:\r\n\r\nREAL CODE:\r\n                 \r\n\r\n                IPager pag;\r\n    \t\tIPagerData&lt;List&lt;IDeute&gt;&gt; dpag;\r\n    \t\tpag = new PagerImpl();\r\n    \t\tpag.setFiles(nombrefilesPaginador);\r\n    \t\tpag.setInici(1);\r\n    \t\tdpag = gptService.obtenirDeutes(idSubjecte, idEns, tipusDeute, periode, pag);\r\n\r\n\r\nTesting real code by mockito:\r\n\r\n            IPager pag = new PagerImpl();\r\n    \t\tpag.setInici(1);\r\n    \t\tpag.setFiles(0);\r\n    \t\twhen(serveiGpt.obtenirDeutes(eq(331225L),\r\n    \t\t eq(IConstantsIdentificadors.ID_ENS_BASE), \r\n    \t\t Matchers.any(ETipusDeute.class),\r\n    \t\t Matchers.any(EPeriodeDeute.class), \r\n    \t\t eq(pag)))\r\n    \t\t.thenThrow(new NullPointerException(&quot; Null!&quot;));\r\n\r\n\r\n\r\nIf haven&#39;t specify the return my test will be fail.\r\nI hope it helps.\r\n\r\n","title":"Powermockito doNothing for method with arguments","body":"<p>Maybe i can't undestand your question, but i believe it's necessary specify what must do \nthe method, so if you don't specify thenReturn or thenThrow or whatever powerMockito doesn't know what have to do when read your real code, for example:</p>\n\n<p>REAL CODE:</p>\n\n<pre><code>            IPager pag;\n        IPagerData&lt;List&lt;IDeute&gt;&gt; dpag;\n        pag = new PagerImpl();\n        pag.setFiles(nombrefilesPaginador);\n        pag.setInici(1);\n        dpag = gptService.obtenirDeutes(idSubjecte, idEns, tipusDeute, periode, pag);\n</code></pre>\n\n<p>Testing real code by mockito:</p>\n\n<pre><code>        IPager pag = new PagerImpl();\n        pag.setInici(1);\n        pag.setFiles(0);\n        when(serveiGpt.obtenirDeutes(eq(331225L),\n         eq(IConstantsIdentificadors.ID_ENS_BASE), \n         Matchers.any(ETipusDeute.class),\n         Matchers.any(EPeriodeDeute.class), \n         eq(pag)))\n        .thenThrow(new NullPointerException(\" Null!\"));\n</code></pre>\n\n<p>If haven't specify the return my test will be fail.\nI hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1529928317,"creation_date":1397141215,"answer_id":22991435,"question_id":22981048,"body_markdown":"You can find a fully functional example below. Since you didn&#39;t post the complete example, I can only assume that you did not annotate the test class with `@RunWith` or `@PrepareForTest` because the rest seems fine.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({Resource.class})\r\n    public class MockingTest{\r\n    \r\n        @Test\r\n        public void shouldMockVoidStaticMethod() throws Exception {\r\n            PowerMockito.spy(Resource.class);\r\n            PowerMockito.doNothing().when(Resource.class, &quot;readResources&quot;, Mockito.any(String.class));\r\n    \r\n            //no exception heeeeere!\r\n            Resource.readResources(&quot;whatever&quot;);\r\n    \r\n            PowerMockito.verifyStatic();\r\n            Resource.readResources(&quot;whatever&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    class Resource {\r\n        public static void readResources(String someArgument) {\r\n            throw new UnsupportedOperationException(&quot;meh!&quot;);\r\n        }\r\n    }","title":"Powermockito doNothing for method with arguments","body":"<p>You can find a fully functional example below. Since you didn't post the complete example, I can only assume that you did not annotate the test class with <code>@RunWith</code> or <code>@PrepareForTest</code> because the rest seems fine.</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({Resource.class})\npublic class MockingTest{\n\n    @Test\n    public void shouldMockVoidStaticMethod() throws Exception {\n        PowerMockito.spy(Resource.class);\n        PowerMockito.doNothing().when(Resource.class, \"readResources\", Mockito.any(String.class));\n\n        //no exception heeeeere!\n        Resource.readResources(\"whatever\");\n\n        PowerMockito.verifyStatic();\n        Resource.readResources(\"whatever\");\n    }\n\n}\n\nclass Resource {\n    public static void readResources(String someArgument) {\n        throw new UnsupportedOperationException(\"meh!\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1529045,"reputation":3980,"user_id":1426742,"accept_rate":74,"display_name":"Walls"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1397157646,"creation_date":1397157646,"answer_id":22997138,"question_id":22981048,"body_markdown":"If `doNothing()` isn&#39;t working you can hack it a bit using the `PowerMockito.doAnswer()`.  This lets you mock into void methods that are supposed to do something, like setting values, etc.  If `doNothing()` doesn&#39;t work, using a blank `doAnswer()` should work fine.\r\n\r\nExample:\r\n\r\n\tPowerMockito.doAnswer(new org.mockito.stubbing.Answer&lt;Object&gt;() {\r\n\t\t@Override\r\n\t\tpublic Object answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t\treturn null; //does nothing\r\n\t\t}\r\n\t}).when(mockObject).methodYouWantToDoNothing(args);","title":"Powermockito doNothing for method with arguments","body":"<p>If <code>doNothing()</code> isn't working you can hack it a bit using the <code>PowerMockito.doAnswer()</code>.  This lets you mock into void methods that are supposed to do something, like setting values, etc.  If <code>doNothing()</code> doesn't work, using a blank <code>doAnswer()</code> should work fine.</p>\n\n<p>Example:</p>\n\n<pre><code>PowerMockito.doAnswer(new org.mockito.stubbing.Answer&lt;Object&gt;() {\n    @Override\n    public Object answer(InvocationOnMock invocation) throws Throwable {\n        return null; //does nothing\n    }\n}).when(mockObject).methodYouWantToDoNothing(args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1491749995,"creation_date":1491749995,"answer_id":43308239,"question_id":22981048,"body_markdown":"Why go through so much trouble just so that your method does not do anything. Just calling `PowerMockito.mockStatic(Resource.class)` should replace all static methods in your class with default stubs which basically mean they do nothing.\r\n\r\nUnless you do want to change the behavior of your method to actually do something just calling `PowerMockito.mockStatic(Resource.class)` should suffice. Ofcourse this also means all static methods in the class are stubbed which you need to consider.","title":"Powermockito doNothing for method with arguments","body":"<p>Why go through so much trouble just so that your method does not do anything. Just calling <code>PowerMockito.mockStatic(Resource.class)</code> should replace all static methods in your class with default stubs which basically mean they do nothing.</p>\n\n<p>Unless you do want to change the behavior of your method to actually do something just calling <code>PowerMockito.mockStatic(Resource.class)</code> should suffice. Ofcourse this also means all static methods in the class are stubbed which you need to consider.</p>\n"},{"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634137058,"creation_date":1634137058,"answer_id":69557798,"question_id":22981048,"body_markdown":"I tried `doNothing` with different variations but nothing worked except the below solution.\r\n\r\n    @Before\r\n    public void setUp(){\r\n        obj = new ClassObj (parameters);\r\n        //parameters should also include the class obj for which void method is available\r\n    }","title":"Powermockito doNothing for method with arguments","body":"<p>I tried <code>doNothing</code> with different variations but nothing worked except the below solution.</p>\n<pre><code>@Before\npublic void setUp(){\n    obj = new ClassObj (parameters);\n    //parameters should also include the class obj for which void method is available\n}\n</code></pre>\n"}],"owner":{"account_id":1867958,"reputation":1226,"user_id":1691018,"accept_rate":84,"display_name":"Anakin001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81441,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":22991435,"answer_count":5,"score":18,"last_activity_date":1634137058,"creation_date":1397113858,"question_id":22981048,"body_markdown":"I&#39;ve developed an application in Java and I&#39;m trying to create unit tests using Powermockito (I should add that I&#39;m new to unit testing).\r\n\r\nI have a class called Resource which has a static method called readResources:\r\n\r\n    public static void readResources(ResourcesElement resourcesElement);\r\n\r\nResourcesElement is also coded by me.\r\nIn testing, I want to create my own Resource, so I want the above method to do nothing.\r\nI tried using this code:\r\n\r\n        PowerMockito.spy(Resource.class);\r\n        PowerMockito.doNothing().when(Resource.class, &quot;readResources&quot;, Matchers.any(ResourcesElement.class));\r\n\r\nThe unit test throws an exception:\r\n\r\n&gt; org.mockito.exceptions.misusing.UnfinishedStubbingException: \r\nUnfinished stubbing detected here:\r\n-&gt; at org.powermock.api.mockito.internal.PowerMockitoCore.doAnswer(PowerMockitoCore.java:36)\r\n\r\nPowermockito also suggest that I should use thenReturn or thenThrow after when, but it seems that the method &#39;when&#39; returns void when it is called after doNothing (which is logical).\r\nIf I try:\r\n\r\n    PowerMockito.when(Resource.class, &quot;readResources&quot;, Matchers.any(ResourcesElement.class)).....\r\ndoNothing is not an option after when.\r\n\r\nI managed to make methods without arguments to do nothing, using the 2 arguments version of the method. For example:\r\n\r\n    PowerMockito.doNothing().when(Moduler.class, &quot;startProcessing&quot;);\r\n\r\nThis works (startProcessing doesn&#39;t take any arguments).\r\n\r\nBut how can I make methods that do take arguments to do nothing with Powermockito?","title":"Powermockito doNothing for method with arguments","body":"<p>I've developed an application in Java and I'm trying to create unit tests using Powermockito (I should add that I'm new to unit testing).</p>\n\n<p>I have a class called Resource which has a static method called readResources:</p>\n\n<pre><code>public static void readResources(ResourcesElement resourcesElement);\n</code></pre>\n\n<p>ResourcesElement is also coded by me.\nIn testing, I want to create my own Resource, so I want the above method to do nothing.\nI tried using this code:</p>\n\n<pre><code>    PowerMockito.spy(Resource.class);\n    PowerMockito.doNothing().when(Resource.class, \"readResources\", Matchers.any(ResourcesElement.class));\n</code></pre>\n\n<p>The unit test throws an exception:</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.UnfinishedStubbingException: \n  Unfinished stubbing detected here:\n  -> at org.powermock.api.mockito.internal.PowerMockitoCore.doAnswer(PowerMockitoCore.java:36)</p>\n</blockquote>\n\n<p>Powermockito also suggest that I should use thenReturn or thenThrow after when, but it seems that the method 'when' returns void when it is called after doNothing (which is logical).\nIf I try:</p>\n\n<pre><code>PowerMockito.when(Resource.class, \"readResources\", Matchers.any(ResourcesElement.class)).....\n</code></pre>\n\n<p>doNothing is not an option after when.</p>\n\n<p>I managed to make methods without arguments to do nothing, using the 2 arguments version of the method. For example:</p>\n\n<pre><code>PowerMockito.doNothing().when(Moduler.class, \"startProcessing\");\n</code></pre>\n\n<p>This works (startProcessing doesn't take any arguments).</p>\n\n<p>But how can I make methods that do take arguments to do nothing with Powermockito?</p>\n"},{"tags":["java","rest","uri","rpc"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634136767,"creation_date":1634127115,"answer_id":69555346,"question_id":69553450,"body_markdown":"```\r\n/apiv1/customers/fetch-top-5\r\n/apiv1/customers/fetch-last-3\r\n```\r\n\r\nThose are both &quot;fine&quot;, subject to the constraint that your implementation can tell that those terminal path segments aren&#39;t customer-ids.\r\n\r\n&gt; what if I want to parameterize these actions like fetch-top-n customers\r\n\r\nThe general answer to parameters is to design your identifiers so that they align well with [URI templates][1].\r\n\r\nThe most familiar variation is to use key value pairs on the query part, primarily because HTML forms support that spelling convention.  So your identifiers could be\r\n\r\n```\r\n/apiv1/customers?fetch-top=5\r\n/apiv1/customers?fetch-last=3\r\n```\r\n\r\nBut that&#39;s not required - you can encode the information into the path instead\r\n\r\n```\r\n/apiv1/customers?fetch-top=5\r\n/apiv1/customers/fetch-top=5\r\n/apiv1/customers/fetch-top/5\r\n/apiv1/customers/fetch/top=5\r\n/apiv1/customers/fetch/top/5\r\n```\r\n\r\nThose are all &quot;fine&quot;.  Use the spelling that works best for the people that you care about.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc6570","title":"Mapping Actions to Rest URI","body":"<pre><code>/apiv1/customers/fetch-top-5\n/apiv1/customers/fetch-last-3\n</code></pre>\n<p>Those are both &quot;fine&quot;, subject to the constraint that your implementation can tell that those terminal path segments aren't customer-ids.</p>\n<blockquote>\n<p>what if I want to parameterize these actions like fetch-top-n customers</p>\n</blockquote>\n<p>The general answer to parameters is to design your identifiers so that they align well with <a href=\"https://datatracker.ietf.org/doc/html/rfc6570\" rel=\"nofollow noreferrer\">URI templates</a>.</p>\n<p>The most familiar variation is to use key value pairs on the query part, primarily because HTML forms support that spelling convention.  So your identifiers could be</p>\n<pre><code>/apiv1/customers?fetch-top=5\n/apiv1/customers?fetch-last=3\n</code></pre>\n<p>But that's not required - you can encode the information into the path instead</p>\n<pre><code>/apiv1/customers?fetch-top=5\n/apiv1/customers/fetch-top=5\n/apiv1/customers/fetch-top/5\n/apiv1/customers/fetch/top=5\n/apiv1/customers/fetch/top/5\n</code></pre>\n<p>Those are all &quot;fine&quot;.  Use the spelling that works best for the people that you care about.</p>\n"}],"owner":{"account_id":9906484,"reputation":193,"user_id":7334855,"display_name":"Murtaza Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634136767,"creation_date":1634119271,"question_id":69553450,"body_markdown":"I have a resource &#39;Customer&#39; for which I have REST endpoints defined as, \r\n\r\n    | URI                            | Function                            |\r\n    | ------------------------------ | ----------------------------------  |\r\n    | /apiv1/customers/              | {GET} Fetch all customers           |\r\n    | /apiv1/customers/{customer-id} | {GET} Fetch details of the customer |\r\n    | /apiv1/customers/              | {POST} Add a new customer           |\r\n    | /apiv1/customers/{customer-id} | {PUT} Update a customer             |\r\n\r\nNow, I also have to design for some non CRUD operations like \r\n\r\n - Fetch top 5 customers by the amount paid\r\n - Fetch the last 3 customers\r\n - etc\r\n\r\nHow do I design URIs for actions like above? \r\n\r\n\r\nMy take on it has been to introduce a new controller with a separate endpoints for each function like: \r\n\r\n - /apiv1/customers/fetch-top-5\r\n - /apiv1/customers/fetch-last-3\r\n\r\nI am still not feeling confident about the above approach. Also, what if I want to parameterize these actions like fetch-top-n customers","title":"Mapping Actions to Rest URI","body":"<p>I have a resource 'Customer' for which I have REST endpoints defined as,</p>\n<pre><code>| URI                            | Function                            |\n| ------------------------------ | ----------------------------------  |\n| /apiv1/customers/              | {GET} Fetch all customers           |\n| /apiv1/customers/{customer-id} | {GET} Fetch details of the customer |\n| /apiv1/customers/              | {POST} Add a new customer           |\n| /apiv1/customers/{customer-id} | {PUT} Update a customer             |\n</code></pre>\n<p>Now, I also have to design for some non CRUD operations like</p>\n<ul>\n<li>Fetch top 5 customers by the amount paid</li>\n<li>Fetch the last 3 customers</li>\n<li>etc</li>\n</ul>\n<p>How do I design URIs for actions like above?</p>\n<p>My take on it has been to introduce a new controller with a separate endpoints for each function like:</p>\n<ul>\n<li>/apiv1/customers/fetch-top-5</li>\n<li>/apiv1/customers/fetch-last-3</li>\n</ul>\n<p>I am still not feeling confident about the above approach. Also, what if I want to parameterize these actions like fetch-top-n customers</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1634134832,"post_id":69557208,"comment_id":122945324,"body_markdown":"Welcome to StackOverflow. [Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551) Instead, [edit] your question to add all code relevant for your question here. Ideally, post a [mre] of your problem, so people can help you better and more easily.","body":"Welcome to StackOverflow. <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a> Instead, <a href=\"https://stackoverflow.com/posts/69557208/edit\">edit</a> your question to add all code relevant for your question here. Ideally, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your problem, so people can help you better and more easily."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1634135149,"post_id":69557208,"comment_id":122945459,"body_markdown":"Since you have now added the code to your question, have a look at [mre]. Currently we can not help you, since we don&#39;t know what you see, what `Phones` is and what it contains. We have no means to see what you see, therefore we can&#39;t help you or tell you what&#39;s wrong.","body":"Since you have now added the code to your question, have a look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Currently we can not help you, since we don&#39;t know what you see, what <code>Phones</code> is and what it contains. We have no means to see what you see, therefore we can&#39;t help you or tell you what&#39;s wrong."}],"answers":[{"tags":[],"owner":{"account_id":15568347,"reputation":219,"user_id":11231474,"display_name":"Djebarri Amazigh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634136614,"creation_date":1634135449,"answer_id":69557367,"question_id":69557208,"body_markdown":"with java 8 stream you can do it with\r\n\r\n    int totalCost = Arrays.stream(Phones).map(p -&gt; p.manfCost).reduce(0, Integer::sum);","title":"How do I add up an attribute of objects within an arraylist?","body":"<p>with java 8 stream you can do it with</p>\n<pre><code>int totalCost = Arrays.stream(Phones).map(p -&gt; p.manfCost).reduce(0, Integer::sum);\n</code></pre>\n"}],"owner":{"account_id":23022646,"reputation":3,"user_id":17143446,"display_name":"SomeRandomName"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634135834,"answer_count":1,"score":0,"last_activity_date":1634136614,"creation_date":1634134771,"question_id":69557208,"body_markdown":"I&#39;m trying to add together a specific attribute of my objects(that are stored in an arraylist) using a for loop. I&#39;ve tested it, and for some reason only one object gets repeatedly called. The method I am referring to is getCostOfRun(). There is more code, if you require more context please just ask.\r\n\r\n\r\n    import java.util.ArrayList;\t  \t\t     \t    \t    \t  \t       \t\r\n    import java.util.Arrays;\t  \t\t     \t    \t    \t  \t       \t\r\n    public class Phone\t  \t\t     \t    \t    \t  \t       \t\r\n    {\t  \t\t     \t    \t    \t  \t       \t\r\n    private static String Brand;\t  \t\t     \t    \t    \t  \t       \t\r\n    private static String Type;\t  \t\t     \t    \t    \t  \t       \t\r\n    private static String Model;\t  \t\t     \t    \t    \t  \t       \t\r\n    private static String UniqueID;\t  \t\t     \t    \t    \t  \t       \t\r\n    private static int ManufCost;\t  \t\t     \t    \t    \t  \t       \t\r\n    public static ArrayList&lt;Phone&gt; Phones = new ArrayList&lt;Phone&gt;();\t  \t\t     \t    \t    \t  \t       \t\r\n    public static int counter;\t  \t\t     \t    \t    \t  \t       \t\r\n\t  \t\t     \t    \t    \t  \t       \t\r\n    public Phone(String Brand, String Type, String Model, String UniqueID, int ManufCost)\t  \t\t     \t    \t    \t  \t       \t\r\n    {\t  \t\t     \t    \t    \t  \t       \t\r\n    this.Brand=Brand;\t  \t\t     \t    \t    \t  \t       \t\r\n    this.Type=Type;\t  \t\t     \t    \t    \t  \t       \t\r\n    this.Model=Model;\t  \t\t     \t    \t    \t  \t       \t\r\n    this.UniqueID=UniqueID;\t  \t\t     \t    \t    \t  \t       \t\r\n    this.ManufCost=ManufCost;\t  \t\t     \t    \t    \t  \t       \t\r\n    Phones.add(this);\t  \t\t     \t    \t    \t  \t       \t\r\n    counter =counter +1;\t  \t\t     \t    \t    \t  \t       \t\r\n    System.out.println(counter);\t  \t\t     \t    \t    \t  \t       \t\r\n    }\r\n\r\n    public static int getCostOfRun()\t  \t\t     \t    \t    \t  \t       \t\r\n    {\t  \t\t     \t    \t    \t  \t       \t\r\n    int TotalCost=0;\t  \t\t     \t    \t    \t  \t       \t\r\n    int tempcost=0;\t  \t\t     \t    \t    \t  \t       \t\r\n    int count=0;\t  \t\t     \t    \t    \t  \t       \t\r\n\t  \t\t     \t    \t    \t  \t       \t\r\n     while (Phones.size() &gt; count) {\t  \t\t     \t    \t    \t  \t       \t\r\n       tempcost=Phones.get(count).ManufCost;\t  \t\t     \t    \t    \t  \t       \t\r\n       System.out.println(tempcost);\t  \t\t     \t    \t    \t  \t       \t\r\n       TotalCost=TotalCost+tempcost;\t  \t\t     \t    \t    \t  \t       \t\r\n       System.out.println(TotalCost);\t  \t\t     \t    \t    \t  \t       \t\r\n       count++;\t  \t\t     \t    \t    \t  \t       \t\r\n      }\t  \t\t     \t    \t    \t  \t       \t\r\n    return TotalCost;\t  \t\t     \t    \t    \t  \t       \t\r\n    }\t  \t\t     \t    \t    \t  \t       \t\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9PO68.png","title":"How do I add up an attribute of objects within an arraylist?","body":"<p>I'm trying to add together a specific attribute of my objects(that are stored in an arraylist) using a for loop. I've tested it, and for some reason only one object gets repeatedly called. The method I am referring to is getCostOfRun(). There is more code, if you require more context please just ask.</p>\n<pre><code>import java.util.ArrayList;                                             \nimport java.util.Arrays;                                                \npublic class Phone                                              \n{                                               \nprivate static String Brand;                                                \nprivate static String Type;                                             \nprivate static String Model;                                                \nprivate static String UniqueID;                                             \nprivate static int ManufCost;                                               \npublic static ArrayList&lt;Phone&gt; Phones = new ArrayList&lt;Phone&gt;();                                             \npublic static int counter;                                              \n                                            \npublic Phone(String Brand, String Type, String Model, String UniqueID, int ManufCost)                                               \n{                                               \nthis.Brand=Brand;                                               \nthis.Type=Type;                                             \nthis.Model=Model;                                               \nthis.UniqueID=UniqueID;                                             \nthis.ManufCost=ManufCost;                                               \nPhones.add(this);                                               \ncounter =counter +1;                                                \nSystem.out.println(counter);                                                \n}\n\npublic static int getCostOfRun()                                                \n{                                               \nint TotalCost=0;                                                \nint tempcost=0;                                             \nint count=0;                                                \n                                            \n while (Phones.size() &gt; count) {                                                \n   tempcost=Phones.get(count).ManufCost;                                                \n   System.out.println(tempcost);                                                \n   TotalCost=TotalCost+tempcost;                                                \n   System.out.println(TotalCost);                                               \n   count++;                                             \n  }                                             \nreturn TotalCost;                                               \n}                                               \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8045,"page":1947,"page_size":100}
