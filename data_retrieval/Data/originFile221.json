{"items":[{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1567619365,"creation_date":1567619365,"answer_id":57793511,"question_id":57793416,"body_markdown":"Problem is in this line inside the `while` loop:\r\n\r\n    System.out.println(matcher.matches());\r\n\r\nHere `matches()` attempts to match the entire region against the pattern.\r\n\r\nIf the match succeeds then more information can be obtained via the `start`, `end`, and `group` methods.\r\n\r\nSince your regex doesn&#39;t match entire input, `matches()` returns `false` and you will get `java.lang.IllegalStateException` where code calls `.group(1)`.\r\n\r\nTo fix just comment out `System.out.println(matcher.matches());` line and rerun the code.\r\n\r\nbtw you can use this shorter regex:\r\n\r\n    final Pattern pattern = Pattern.compile(&quot;\\\\(([^)]+)\\\\)&quot;);\r\n\r\nAs there is no need to escape `)` inside the character class and `DOTALL` is redundant here since you&#39;re not using DOT anywhere in your regex.","title":"Java matcher not matching even conditioned to find() in a loop","body":"<p>Problem is in this line inside the <code>while</code> loop:</p>\n\n<pre><code>System.out.println(matcher.matches());\n</code></pre>\n\n<p>Here <code>matches()</code> attempts to match the entire region against the pattern.</p>\n\n<p>If the match succeeds then more information can be obtained via the <code>start</code>, <code>end</code>, and <code>group</code> methods.</p>\n\n<p>Since your regex doesn't match entire input, <code>matches()</code> returns <code>false</code> and you will get <code>java.lang.IllegalStateException</code> where code calls <code>.group(1)</code>.</p>\n\n<p>To fix just comment out <code>System.out.println(matcher.matches());</code> line and rerun the code.</p>\n\n<p>btw you can use this shorter regex:</p>\n\n<pre><code>final Pattern pattern = Pattern.compile(\"\\\\(([^)]+)\\\\)\");\n</code></pre>\n\n<p>As there is no need to escape <code>)</code> inside the character class and <code>DOTALL</code> is redundant here since you're not using DOT anywhere in your regex.</p>\n"}],"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1039,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57793511,"answer_count":1,"score":4,"last_activity_date":1693140319,"creation_date":1567618952,"question_id":57793416,"body_markdown":"**Introduction**\r\n\r\nI want to extract a substring inside a String using RegEx in Java. For such, lets use Pattern and Matcher classes to do it properly.\r\n\r\n**Code**\r\n\r\n    package stringlearning;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    /**\r\n     *\r\n     * @author Jonathan\r\n     */\r\n    public class StringLearning {\r\n    \r\n        //Example String\r\n        public static String line = &quot;This is the (first|second|third) choice.&quot;;\r\n        \r\n        \r\n        public static void main(String[] args) \r\n        {\r\n            \r\n            //String is right, right?\r\n            System.out.println(&quot;Line is: &quot; + line);\r\n            \r\n            //How to use RegEx in Java properly\r\n            Pattern pattern = Pattern.compile(&quot;\\\\(([^\\\\)]+)\\\\)&quot;, Pattern.DOTALL);\r\n            Matcher matcher = pattern.matcher(line);\r\n            \r\n            //While we find, keep looping\r\n            while(matcher.find())\r\n            {\r\n                //What we foud out?\r\n                System.out.println(matcher.matches());\r\n                System.out.println(matcher.groupCount());\r\n                System.out.println(matcher.group(1));\r\n            }\r\n            \r\n    \r\n            \r\n        }\r\n        \r\n    }\r\n\r\n**Problem**\r\n\r\nI still can&#39;t understand why it can&#39;t find anything. The regular expression was made on [RegEx][1] and works properly there *(Do not forget about the escapes! &#39;/&#39;)*\r\n\r\n**I want to know what I am missing that it doesn&#39;t match**\r\n\r\n**Notes**\r\n\r\n- IDE: NetBeans\r\n- Java version is 1.8.0_221\r\n\r\n\r\n\r\n  [1]: http://regexr.com/4kdp1","title":"Java matcher not matching even conditioned to find() in a loop","body":"<p><strong>Introduction</strong></p>\n\n<p>I want to extract a substring inside a String using RegEx in Java. For such, lets use Pattern and Matcher classes to do it properly.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>package stringlearning;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n *\n * @author Jonathan\n */\npublic class StringLearning {\n\n    //Example String\n    public static String line = \"This is the (first|second|third) choice.\";\n\n\n    public static void main(String[] args) \n    {\n\n        //String is right, right?\n        System.out.println(\"Line is: \" + line);\n\n        //How to use RegEx in Java properly\n        Pattern pattern = Pattern.compile(\"\\\\(([^\\\\)]+)\\\\)\", Pattern.DOTALL);\n        Matcher matcher = pattern.matcher(line);\n\n        //While we find, keep looping\n        while(matcher.find())\n        {\n            //What we foud out?\n            System.out.println(matcher.matches());\n            System.out.println(matcher.groupCount());\n            System.out.println(matcher.group(1));\n        }\n\n\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>I still can't understand why it can't find anything. The regular expression was made on <a href=\"http://regexr.com/4kdp1\" rel=\"nofollow noreferrer\">RegEx</a> and works properly there <em>(Do not forget about the escapes! '/')</em></p>\n\n<p><strong>I want to know what I am missing that it doesn't match</strong></p>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li>IDE: NetBeans</li>\n<li>Java version is 1.8.0_221</li>\n</ul>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566478783,"post_id":57609873,"comment_id":101675121,"body_markdown":"try this `((http:\\/\\/|https:\\/\\/)?(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/.0-9#:?=&amp;;,]*)?)?)`","body":"try this <code>((http:\\&#47;\\&#47;|https:\\&#47;\\&#47;)?(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z])&zwnj;&#8203;{2,6}(\\&#47;([a-zA-Z-_\\&#47;&zwnj;&#8203;.0-9#:?=&amp;;,]*)?)?)</code>"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1566478841,"post_id":57609873,"comment_id":101675155,"body_markdown":"Wouldn&#39;t it be simpler to pull anything which is after http(s) and keep going untill you hit a white space? Or are you doing some specific validation as well?","body":"Wouldn&#39;t it be simpler to pull anything which is after http(s) and keep going untill you hit a white space? Or are you doing some specific validation as well?"},{"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"score":0,"creation_date":1566479204,"post_id":57609873,"comment_id":101675414,"body_markdown":"@Vishal It is not returning the expected result","body":"@Vishal It is not returning the expected result"},{"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"score":0,"creation_date":1566479287,"post_id":57609873,"comment_id":101675464,"body_markdown":"@npinti Yes it will be simpler in that case. I am working on that regex.","body":"@npinti Yes it will be simpler in that case. I am working on that regex."},{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566479309,"post_id":57609873,"comment_id":101675482,"body_markdown":"Check this https://regex101.com/r/pqxTDU/1/","body":"Check this <a href=\"https://regex101.com/r/pqxTDU/1/\" rel=\"nofollow noreferrer\">regex101.com/r/pqxTDU/1</a>"},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1566479540,"post_id":57609873,"comment_id":101675631,"body_markdown":"I&#39;ve pasted the regex in a regex101.com and it seems to work. One thing I have noticed is this: `[a-zA-Z-_\\/\\.0-9#:?=&amp;;,]` The `-` in square brackets denotes **character ranges**, you would need to put it at the end, like so: `[a-zA-Z_\\/\\.0-9#:?=&amp;;,-]`","body":"I&#39;ve pasted the regex in a regex101.com and it seems to work. One thing I have noticed is this: <code>[a-zA-Z-_\\&#47;\\.0-9#:?=&amp;;,]</code> The <code>-</code> in square brackets denotes <b>character ranges</b>, you would need to put it at the end, like so: <code>[a-zA-Z_\\&#47;\\.0-9#:?=&amp;;,-]</code>"},{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566479584,"post_id":57609873,"comment_id":101675652,"body_markdown":"check that [link](https://regex101.com/r/pqxTDU/1/) again (updated it), I have pasted your whole sentence and it will match now your requirements. regex is `((http:\\/\\/|https:\\/\\/)(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/.0-9#:?=&amp;;,]*)?)+)`","body":"check that <a href=\"https://regex101.com/r/pqxTDU/1/\" rel=\"nofollow noreferrer\">link</a> again (updated it), I have pasted your whole sentence and it will match now your requirements. regex is <code>((http:\\&#47;\\&#47;|https:\\&#47;\\&#47;)(([a-zA-Z0-9-]){2,}.){1,4}([a-zA-Z]){&zwnj;&#8203;2,6}(\\&#47;([a-zA-Z-_\\&#47;.&zwnj;&#8203;0-9#:?=&amp;;,]*)?)+)</code>"},{"owner":{"account_id":15748232,"reputation":1867,"user_id":11363596,"display_name":"vb_rises"},"score":0,"creation_date":1566479883,"post_id":57609873,"comment_id":101675840,"body_markdown":"Sorry, the link is https://regex101.com/r/pqxTDU/2/. I missed the &#39;2&#39;","body":"Sorry, the link is <a href=\"https://regex101.com/r/pqxTDU/2/\" rel=\"nofollow noreferrer\">regex101.com/r/pqxTDU/2</a>. I missed the &#39;2&#39;"},{"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"score":0,"creation_date":1566479893,"post_id":57609873,"comment_id":101675845,"body_markdown":"@vishal I am getting 1 result in output i.e last link &quot;https://test.com/method?param=wasd&quot;. Is it matching the last pattern in the string ?\nor it is some functionality of matcher.find() method which is restricting all result.","body":"@vishal I am getting 1 result in output i.e last link &quot;<a href=\"https://test.com/method?param=wasd\" rel=\"nofollow noreferrer\">test.com/method?param=wasd</a>&quot;. Is it matching the last pattern in the string ? or it is some functionality of matcher.find() method which is restricting all result."},{"owner":{"account_id":4362977,"reputation":140,"user_id":3559502,"display_name":"Ivkin Igor"},"score":0,"creation_date":1566480435,"post_id":57609873,"comment_id":101676183,"body_markdown":"By the way your pattern will not detect some valid URLs like URLs with cyrillic or Hiragana characters. Probably your best bet is to tokenize string into tokens (or IndexOf-based variant :-))","body":"By the way your pattern will not detect some valid URLs like URLs with cyrillic or Hiragana characters. Probably your best bet is to tokenize string into tokens (or IndexOf-based variant :-))"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1566481954,"post_id":57609873,"comment_id":101677108,"body_markdown":"Try `https?://\\S+`","body":"Try <code>https?:&#47;&#47;\\S+</code>"}],"answers":[{"comments":[{"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"score":0,"creation_date":1566483164,"post_id":57611135,"comment_id":101677899,"body_markdown":"thanks for details example. I have implemented the same using StringTokenizer as suggested by Ivkin Igor","body":"thanks for details example. I have implemented the same using StringTokenizer as suggested by Ivkin Igor"},{"owner":{"account_id":4362977,"reputation":140,"user_id":3559502,"display_name":"Ivkin Igor"},"score":0,"creation_date":1566483250,"post_id":57611135,"comment_id":101677940,"body_markdown":"Great, your answer is a voice of mind :) That said, you had a problem and decided to solve it using regexp, well, you have two problems now. Your solution actually requires some tweaks, for example it doesn&#39;t count cases like &quot;(http://example.com)&quot; or when it&#39;s line break or other white-space character (not a space) but it is definitely a move in a right direction!!","body":"Great, your answer is a voice of mind :) That said, you had a problem and decided to solve it using regexp, well, you have two problems now. Your solution actually requires some tweaks, for example it doesn&#39;t count cases like &quot;(<a href=\"http://example.com\" rel=\"nofollow noreferrer\">example.com</a>)&quot; or when it&#39;s line break or other white-space character (not a space) but it is definitely a move in a right direction!!"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1566483462,"post_id":57611135,"comment_id":101678084,"body_markdown":"@Ivkin Igor Are you referring to my solution or his comment?  For my solution I just assumed the format of the `String` would be what he provided, for example no newlines and specifically looking for only `http` or `https`.","body":"@Ivkin Igor Are you referring to my solution or his comment?  For my solution I just assumed the format of the <code>String</code> would be what he provided, for example no newlines and specifically looking for only <code>http</code> or <code>https</code>."},{"owner":{"account_id":4362977,"reputation":140,"user_id":3559502,"display_name":"Ivkin Igor"},"score":0,"creation_date":1566483592,"post_id":57611135,"comment_id":101678151,"body_markdown":"@Nexevis, yes, I referred your solution! In general it&#39;s completely ok and available to tweak with any additional limitations.","body":"@Nexevis, yes, I referred your solution! In general it&#39;s completely ok and available to tweak with any additional limitations."}],"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566482840,"creation_date":1566482499,"answer_id":57611135,"question_id":57609873,"body_markdown":"So I know this is not exactly what you asked since you are specifically looking for `regex`, but I thought this would fun to try out with an `indexOf` variant.  I will leave it here as an alternative to the regex someone comes up with:    \r\n\r\n\r\n    public static void main(String[] args){\r\n       String synopsis = &quot;This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list&quot;;\r\n        \r\n    \tArrayList&lt;String&gt; list = splitUrl(synopsis);\r\n    \tfor (String s : list) {\r\n    \t\tSystem.out.println(s);\r\n    \t}\r\n    }\r\n    \r\n    public static ArrayList&lt;String&gt; splitUrl(String s) \r\n    {\r\n    \tArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \tint spaceIndex = 0;\r\n    \twhile (true) {\r\n    \t\tint httpIndex = s.indexOf(&quot;http&quot;, spaceIndex);\r\n    \t\tif (httpIndex &lt; 0) {\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t\tspaceIndex = s.indexOf(&quot; &quot;, httpIndex);\r\n    \t\tif (spaceIndex &lt; 0) {\r\n    \t\t\tlist.add(s.substring(httpIndex));\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tlist.add(s.substring(httpIndex, spaceIndex));\r\n    \t\t}\r\n    \t}\r\n    \treturn list;\r\n    }\r\n\r\nAll the logic is contained in the `splitUrl(String s)` method, it takes in a `String` as a parameter and outputs the `ArrayList&lt;String&gt;` of all the split urls.  \r\n\r\nIt first searches for the index of any `http` and then the first space that occurs after the url and substrings the difference.  It then uses the space it found as the second parameter in `indexOf(String, int)` to start searching the `String` beginning after the http that was already found so it does not repeat the same ones.\r\n\r\nAdditionally a case had to be made when the `http` is the final part of the `String` as there is no space afterward.  This is done when the `indexOf` the space returns negative, I use `substring(int)` instead of `substring(int, int)` which will take the current location and substring the _rest_ of the String.\r\n\r\nThe loop ends when either `indexOf` returns with a negative, though if the space returns negative it does that final `substring` operation before the `break`.\r\n\r\n**Output:**\r\n\r\n&gt;http://stackoverflow.com/questions\r\n\r\n&gt;https://test.com/method?param=wasd\r\n\r\n**Note:**  As someone mentioned in the comments too, this implementation will work with non-Latin characters such as Hiragana too, which could be an advantage over regex.\r\n","title":"Regex for finding http and https url from a string","body":"<p>So I know this is not exactly what you asked since you are specifically looking for <code>regex</code>, but I thought this would fun to try out with an <code>indexOf</code> variant.  I will leave it here as an alternative to the regex someone comes up with:    </p>\n\n<pre><code>public static void main(String[] args){\n   String synopsis = \"This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list\";\n\n    ArrayList&lt;String&gt; list = splitUrl(synopsis);\n    for (String s : list) {\n        System.out.println(s);\n    }\n}\n\npublic static ArrayList&lt;String&gt; splitUrl(String s) \n{\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n    int spaceIndex = 0;\n    while (true) {\n        int httpIndex = s.indexOf(\"http\", spaceIndex);\n        if (httpIndex &lt; 0) {\n            break;\n        }\n\n        spaceIndex = s.indexOf(\" \", httpIndex);\n        if (spaceIndex &lt; 0) {\n            list.add(s.substring(httpIndex));\n            break;\n        }\n        else {\n            list.add(s.substring(httpIndex, spaceIndex));\n        }\n    }\n    return list;\n}\n</code></pre>\n\n<p>All the logic is contained in the <code>splitUrl(String s)</code> method, it takes in a <code>String</code> as a parameter and outputs the <code>ArrayList&lt;String&gt;</code> of all the split urls.  </p>\n\n<p>It first searches for the index of any <code>http</code> and then the first space that occurs after the url and substrings the difference.  It then uses the space it found as the second parameter in <code>indexOf(String, int)</code> to start searching the <code>String</code> beginning after the http that was already found so it does not repeat the same ones.</p>\n\n<p>Additionally a case had to be made when the <code>http</code> is the final part of the <code>String</code> as there is no space afterward.  This is done when the <code>indexOf</code> the space returns negative, I use <code>substring(int)</code> instead of <code>substring(int, int)</code> which will take the current location and substring the <em>rest</em> of the String.</p>\n\n<p>The loop ends when either <code>indexOf</code> returns with a negative, though if the space returns negative it does that final <code>substring</code> operation before the <code>break</code>.</p>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a></p>\n  \n  <p><a href=\"https://test.com/method?param=wasd\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd</a></p>\n</blockquote>\n\n<p><strong>Note:</strong>  As someone mentioned in the comments too, this implementation will work with non-Latin characters such as Hiragana too, which could be an advantage over regex.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566484328,"creation_date":1566484328,"answer_id":57611716,"question_id":57609873,"body_markdown":"**This regex will match all the valid urls, including FTP and other** \r\n\r\n    String urlRegex = &quot;((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n\r\n_________________________________________________________________\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class xmlValue {\r\n        public static void main(String[] args) {\r\n    String text = &quot;This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list&quot;;\r\n            System.out.println(extractUrls(text));\r\n        }\r\n    \r\n        public static List&lt;String&gt; extractUrls(String text)\r\n        {\r\n            List&lt;String&gt; containedUrls = new ArrayList&lt;String&gt;();\r\n            String urlRegex = &quot;((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)&quot;;\r\n            Pattern pattern = Pattern.compile(urlRegex, Pattern.CASE_INSENSITIVE);\r\n            Matcher urlMatcher = pattern.matcher(text);\r\n    \r\n            while (urlMatcher.find())\r\n            {\r\n                containedUrls.add(text.substring(urlMatcher.start(0),\r\n                        urlMatcher.end(0)));\r\n            }\r\n    \r\n            return containedUrls;\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n&gt; [http://stackoverflow.com/questions,\r\n&gt; https://test.com/method?param=wasd]\r\n\r\n**credits @BullyWiiPlaza**","title":"Regex for finding http and https url from a string","body":"<p><strong>This regex will match all the valid urls, including FTP and other</strong> </p>\n\n<pre><code>String urlRegex = \"((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)\";\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class xmlValue {\n    public static void main(String[] args) {\nString text = \"This is http://stackoverflow.com/questions and https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list\";\n        System.out.println(extractUrls(text));\n    }\n\n    public static List&lt;String&gt; extractUrls(String text)\n    {\n        List&lt;String&gt; containedUrls = new ArrayList&lt;String&gt;();\n        String urlRegex = \"((https?|ftp|gopher|telnet|file):((//)|(\\\\\\\\))+[\\\\w\\\\d:#@%/;$()~_?\\\\+-=\\\\\\\\\\\\.&amp;]*)\";\n        Pattern pattern = Pattern.compile(urlRegex, Pattern.CASE_INSENSITIVE);\n        Matcher urlMatcher = pattern.matcher(text);\n\n        while (urlMatcher.find())\n        {\n            containedUrls.add(text.substring(urlMatcher.start(0),\n                    urlMatcher.end(0)));\n        }\n\n        return containedUrls;\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<blockquote>\n  <p>[<a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a>,\n  <a href=\"https://test.com/method?param=wasd]\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd]</a></p>\n</blockquote>\n\n<p><strong>credits @BullyWiiPlaza</strong></p>\n"}],"owner":{"account_id":7615564,"reputation":55,"user_id":5775105,"display_name":"sbisen"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1979,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57611716,"answer_count":2,"score":2,"last_activity_date":1693140294,"creation_date":1566478581,"question_id":57609873,"body_markdown":"I have a string which contains multiple url starting from http and https I need to fetch all those url and put into a list.\r\n\r\nI have tried below code.\r\n\r\n```\r\nList&lt;String&gt; httpLinksList = new ArrayList&lt;&gt;();\r\n\r\nString hyperlinkRegex = &quot;((http:\\/\\/|https:\\/\\/)?(([a-zA-Z0-9-]){2,}\\.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/\\.0-9#:?=&amp;;,]*)?)?)&quot;;\r\n```\r\nString synopsis = &quot;This is http://stackoverflow.com/questions and  https://test.com/method?param=wasd The code below catches all urls in text and returns urls in list&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(hyperlinkRegex);\r\n        Matcher matcher = pattern.matcher(synopsis);\r\n        while(matcher.find()){\r\n            System.out.println(matcher.find()+&quot;  &quot;+matcher.group(1)+&quot;  &quot;+matcher.groupCount()+&quot;  &quot;+matcher.group(2));\r\n\r\n            httpLinksList.add(matcher.group());\r\n        }\r\n\r\n        System.out.println(httpLinksList);\r\n\r\n\r\nI need below result \r\n[http://stackoverflow.com/questions,\r\nhttps://test.com/method?param=wasd]\r\nBut getting below output\r\n[https://test.com/method?param=wasd]","title":"Regex for finding http and https url from a string","body":"<p>I have a string which contains multiple url starting from http and https I need to fetch all those url and put into a list.</p>\n\n<p>I have tried below code.</p>\n\n<pre><code>List&lt;String&gt; httpLinksList = new ArrayList&lt;&gt;();\n\nString hyperlinkRegex = \"((http:\\/\\/|https:\\/\\/)?(([a-zA-Z0-9-]){2,}\\.){1,4}([a-zA-Z]){2,6}(\\/([a-zA-Z-_\\/\\.0-9#:?=&amp;;,]*)?)?)\";\n</code></pre>\n\n<p>String synopsis = \"This is <a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a> and  <a href=\"https://test.com/method?param=wasd\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd</a> The code below catches all urls in text and returns urls in list\";</p>\n\n<pre><code>    Pattern pattern = Pattern.compile(hyperlinkRegex);\n    Matcher matcher = pattern.matcher(synopsis);\n    while(matcher.find()){\n        System.out.println(matcher.find()+\"  \"+matcher.group(1)+\"  \"+matcher.groupCount()+\"  \"+matcher.group(2));\n\n        httpLinksList.add(matcher.group());\n    }\n\n    System.out.println(httpLinksList);\n</code></pre>\n\n<p>I need below result \n[<a href=\"http://stackoverflow.com/questions\">http://stackoverflow.com/questions</a>,\n<a href=\"https://test.com/method?param=wasd]\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd]</a>\nBut getting below output\n[<a href=\"https://test.com/method?param=wasd]\" rel=\"nofollow noreferrer\">https://test.com/method?param=wasd]</a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":5,"creation_date":1563921854,"post_id":57173097,"comment_id":100859179,"body_markdown":"*&quot;extract ... from a json string&quot;* Use a **JSON Parser**!!!!","body":"<i>&quot;extract ... from a json string&quot;</i> Use a <b>JSON Parser</b>!!!!"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1563921945,"post_id":57173097,"comment_id":100859199,"body_markdown":"[How to parse JSON in Java](https://stackoverflow.com/q/2591098), really regex is last tool you want here. Parsers solve all kind of problems which you are not aware of. It is same story as parsing HTML/XML with regex: [Using regular expressions to parse HTML: why not?](https://stackoverflow.com/q/590747), [Can you provide some examples of why it is hard to parse XML and HTML with a regex?](https://stackoverflow.com/q/701166), and finally https://stackoverflow.com/a/1732454,","body":"<a href=\"https://stackoverflow.com/q/2591098\">How to parse JSON in Java</a>, really regex is last tool you want here. Parsers solve all kind of problems which you are not aware of. It is same story as parsing HTML/XML with regex: <a href=\"https://stackoverflow.com/q/590747\">Using regular expressions to parse HTML: why not?</a>, <a href=\"https://stackoverflow.com/q/701166\">Can you provide some examples of why it is hard to parse XML and HTML with a regex?</a>, and finally <a href=\"https://stackoverflow.com/a/1732454\">stackoverflow.com/a/1732454</a>,"},{"owner":{"account_id":13774367,"reputation":41,"user_id":9941051,"display_name":"Marvin 2"},"score":0,"creation_date":1563952201,"post_id":57173097,"comment_id":100866155,"body_markdown":"Hi. I tried to parse the string with the Gson parser to convert the whole string to a object but the date string is parsed as a string value in the resulting object. What I really want is to extract those strings not to parse it.","body":"Hi. I tried to parse the string with the Gson parser to convert the whole string to a object but the date string is parsed as a string value in the resulting object. What I really want is to extract those strings not to parse it."}],"answers":[{"comments":[{"owner":{"account_id":13774367,"reputation":41,"user_id":9941051,"display_name":"Marvin 2"},"score":1,"creation_date":1563954463,"post_id":57174687,"comment_id":100867287,"body_markdown":"Thank you but it doesn&#39;t work with the original string.","body":"Thank you but it doesn&#39;t work with the original string."}],"tags":[],"owner":{"account_id":8764366,"reputation":27439,"user_id":6553328,"display_name":"Emma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563937837,"creation_date":1563937837,"answer_id":57174687,"question_id":57173097,"body_markdown":"It&#39;s frowned upon, yet if you have to, I&#39;m guessing that you may be trying to write an expression looking somewhat like:\n\n    {\\\\&quot;([^\\\\]+)\\\\&quot;:{\\\\&quot;\\$([^\\\\]+)\\\\&quot;:\\\\&quot;[0-9]+\\/[0-9]+\\/[0-9]+\\s+[0-9]+:[0-9]+:[0-9]+\\\\&quot;}}\n\nnot so sure though. \n\n-----------\n\nThe expression is explained on the top right panel of [regex101.com](https://regex101.com/r/WWYZcD/1), if you wish to explore/simplify/modify it, and in [this link](https://regex101.com/r/WWYZcD/1debugger), you can watch how it would match against some sample inputs, if you like. \n\n\n### Test\n\n    import java.util.regex.Matcher;\n    import java.util.regex.Pattern;\n    \n    final String regex = &quot;\\\\{\\\\\\\\\\&quot;([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\{\\\\\\\\\\&quot;\\\\$([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\\\\\\\&quot;[0-9]+\\\\/[0-9]+\\\\/[0-9]+\\\\s+[0-9]+:[0-9]+:[0-9]+\\\\\\\\\\&quot;\\\\}}&quot;;\n    final String string = &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$gte\\\\\\&quot;:\\\\\\&quot;28/02/2015 00:00:00\\\\\\&quot;}}\\n&quot;\n         + &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$lte\\\\\\&quot;:\\\\\\&quot;28/02/2015 23:59:59\\\\\\&quot;}}&quot;;\n    \n    final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n    final Matcher matcher = pattern.matcher(string);\n    \n    while (matcher.find()) {\n        System.out.println(&quot;Full match: &quot; + matcher.group(0));\n        for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n            System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n        }\n    }","title":"Problems defining the pattern to extract multiple dates from a JSON string","body":"<p>It's frowned upon, yet if you have to, I'm guessing that you may be trying to write an expression looking somewhat like:</p>\n<pre><code>{\\\\&quot;([^\\\\]+)\\\\&quot;:{\\\\&quot;\\$([^\\\\]+)\\\\&quot;:\\\\&quot;[0-9]+\\/[0-9]+\\/[0-9]+\\s+[0-9]+:[0-9]+:[0-9]+\\\\&quot;}}\n</code></pre>\n<p>not so sure though.</p>\n<hr />\n<p>The expression is explained on the top right panel of <a href=\"https://regex101.com/r/WWYZcD/1\" rel=\"nofollow noreferrer\">regex101.com</a>, if you wish to explore/simplify/modify it, and in <a href=\"https://regex101.com/r/WWYZcD/1debugger\" rel=\"nofollow noreferrer\">this link</a>, you can watch how it would match against some sample inputs, if you like.</p>\n<h3>Test</h3>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nfinal String regex = &quot;\\\\{\\\\\\\\\\&quot;([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\{\\\\\\\\\\&quot;\\\\$([^\\\\\\\\]+)\\\\\\\\\\&quot;:\\\\\\\\\\&quot;[0-9]+\\\\/[0-9]+\\\\/[0-9]+\\\\s+[0-9]+:[0-9]+:[0-9]+\\\\\\\\\\&quot;\\\\}}&quot;;\nfinal String string = &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$gte\\\\\\&quot;:\\\\\\&quot;28/02/2015 00:00:00\\\\\\&quot;}}\\n&quot;\n     + &quot;{\\\\\\&quot;departure\\\\\\&quot;:{\\\\\\&quot;$lte\\\\\\&quot;:\\\\\\&quot;28/02/2015 23:59:59\\\\\\&quot;}}&quot;;\n\nfinal Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\nfinal Matcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(&quot;Full match: &quot; + matcher.group(0));\n    for (int i = 1; i &lt;= matcher.groupCount(); i++) {\n        System.out.println(&quot;Group &quot; + i + &quot;: &quot; + matcher.group(i));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13774367,"reputation":41,"user_id":9941051,"display_name":"Marvin 2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693140264,"creation_date":1563921744,"question_id":57173097,"body_markdown":"I have the following code:\r\n\r\n        public static void main(String[] args) {\r\n        String str = &quot;{\\&quot;$and\\&quot;:[{\\\\\\&quot;$or\\\\\\&quot;:[{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEMD\\\\\\&quot;}},{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEBL\\\\\\&quot;}}]},{\\&quot;horasacta\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}},{\\&quot;horasacta\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}]}&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\{\\&quot;(.*?)\\&quot;:\\\\{\\&quot;\\\\$(.*?)\\&quot;:\\&quot;[0-9]+/[0-9]+/[0-9]+ [0-9]+:[0-9]+:[0-9]+\\&quot;}}&quot;);\r\n        Matcher matcher = pattern.matcher(str);\r\n        while (matcher.find()) {\r\n            System.out.println(matcher.group(0));\r\n        }\r\n\r\nI want to get the substrings:\r\n\r\n    {\\&quot;departure\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}}\r\n    {\\&quot;departure\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}\r\n\r\nBut the program give me:\r\n\r\n    {&quot;$and&quot;:[{\\&quot;$or\\&quot;:[{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEMD\\&quot;}},{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEBL\\&quot;}}]},{&quot;departure&quot;:{&quot;$gte&quot;:&quot;28/02/2015 00:00:00&quot;}}\r\n    {&quot;departure&quot;:{&quot;$lte&quot;:&quot;28/02/2015 23:59:59&quot;}}\r\n\r\nThe 2nd time the find() matches the pattern but the 1st time it doesn&#39;t do the job.\r\n\r\n","title":"Problems defining the pattern to extract multiple dates from a JSON string","body":"<p>I have the following code:</p>\n<pre><code>    public static void main(String[] args) {\n    String str = &quot;{\\&quot;$and\\&quot;:[{\\\\\\&quot;$or\\\\\\&quot;:[{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEMD\\\\\\&quot;}},{\\\\\\&quot;origen\\\\\\&quot;:{\\\\\\&quot;$eq\\\\\\&quot;:\\\\\\&quot;LEBL\\\\\\&quot;}}]},{\\&quot;horasacta\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}},{\\&quot;horasacta\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}]}&quot;;\n\n    Pattern pattern = Pattern.compile(&quot;\\\\{\\&quot;(.*?)\\&quot;:\\\\{\\&quot;\\\\$(.*?)\\&quot;:\\&quot;[0-9]+/[0-9]+/[0-9]+ [0-9]+:[0-9]+:[0-9]+\\&quot;}}&quot;);\n    Matcher matcher = pattern.matcher(str);\n    while (matcher.find()) {\n        System.out.println(matcher.group(0));\n    }\n</code></pre>\n<p>I want to get the substrings:</p>\n<pre><code>{\\&quot;departure\\&quot;:{\\&quot;$gte\\&quot;:\\&quot;28/02/2015 00:00:00\\&quot;}}\n{\\&quot;departure\\&quot;:{\\&quot;$lte\\&quot;:\\&quot;28/02/2015 23:59:59\\&quot;}}\n</code></pre>\n<p>But the program give me:</p>\n<pre><code>{&quot;$and&quot;:[{\\&quot;$or\\&quot;:[{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEMD\\&quot;}},{\\&quot;origin\\&quot;:{\\&quot;$eq\\&quot;:\\&quot;LEBL\\&quot;}}]},{&quot;departure&quot;:{&quot;$gte&quot;:&quot;28/02/2015 00:00:00&quot;}}\n{&quot;departure&quot;:{&quot;$lte&quot;:&quot;28/02/2015 23:59:59&quot;}}\n</code></pre>\n<p>The 2nd time the find() matches the pattern but the 1st time it doesn't do the job.</p>\n"},{"tags":["java","regex","string","search"],"comments":[{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1562330991,"post_id":56903361,"comment_id":100351496,"body_markdown":"From the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html) - **Logical operators** : `X|Y\tEither X or Y`. In your case - `[word1|word2|word3]`...","body":"From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs</a> - <b>Logical operators</b> : <code>X|Y\tEither X or Y</code>. In your case - <code>[word1|word2|word3]</code>..."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":2,"creation_date":1562331602,"post_id":56903361,"comment_id":100351824,"body_markdown":"@dbl That won&#39;t help because alternation will return once the left most alternative matches, while OP wants to &quot;return the occurences of each of them&quot;.","body":"@dbl That won&#39;t help because alternation will return once the left most alternative matches, while OP wants to &quot;return the occurences of each of them&quot;."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1562331774,"post_id":56903361,"comment_id":100351922,"body_markdown":"Point is taken. I will leave the comment so nobody else do the same misthought...","body":"Point is taken. I will leave the comment so nobody else do the same misthought..."},{"owner":{"account_id":15527842,"reputation":523,"user_id":11202157,"display_name":"Edoardo Tavilla"},"score":0,"creation_date":1562332141,"post_id":56903361,"comment_id":100352102,"body_markdown":"My point is passing, by argument, an ArrayList&lt;String&gt; and to verify the matching of each of them.","body":"My point is passing, by argument, an ArrayList&lt;String&gt; and to verify the matching of each of them."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":1,"creation_date":1562332715,"post_id":56903361,"comment_id":100352420,"body_markdown":"I think that if you want an answer you should provide some test cases and expected outputs. Try to put enough of those though :)","body":"I think that if you want an answer you should provide some test cases and expected outputs. Try to put enough of those though :)"}],"answers":[{"tags":[],"owner":{"account_id":8997684,"reputation":136,"user_id":6707419,"display_name":"nikals"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562335449,"creation_date":1562335449,"answer_id":56904581,"question_id":56903361,"body_markdown":"HashMap as argument with the input string as key and regex as value, loop through all entries, do your method and return a HashMap with the matched word as key and occurences as value.\r\n\r\n     public HashMap&lt;String, Integer&gt; findTheWordsAndOccurences(HashMap&lt;String, String&gt; stringsAndRegex) throws IOException {\r\n\r\n        HashMap&lt;String, Integer&gt; result = null;\r\n\r\n        for (Map.Entry&lt;String, String&gt; entry : stringsAndRegex.entrySet()){\r\n\r\n            String stringToCheck = entry.getKey();\r\n            String regexString = entry.getValue();\r\n            String matchString = &quot;&quot;;\r\n            int count = 0;\r\n            Pattern regexp = Pattern.compile(&quot;\\\\b&quot; + regexString + &quot;\\\\b&quot;);\r\n            Matcher matcher = regexp.matcher(stringToCheck);\r\n\r\n            while (matcher.find()) {\r\n                count++;\r\n                matchString = matcher.group();\r\n                System.out.println(matchString);\r\n                result.put(matchString, count);\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Search multiple words in a text using regular expressions (Java)","body":"<p>HashMap as argument with the input string as key and regex as value, loop through all entries, do your method and return a HashMap with the matched word as key and occurences as value.</p>\n\n<pre><code> public HashMap&lt;String, Integer&gt; findTheWordsAndOccurences(HashMap&lt;String, String&gt; stringsAndRegex) throws IOException {\n\n    HashMap&lt;String, Integer&gt; result = null;\n\n    for (Map.Entry&lt;String, String&gt; entry : stringsAndRegex.entrySet()){\n\n        String stringToCheck = entry.getKey();\n        String regexString = entry.getValue();\n        String matchString = \"\";\n        int count = 0;\n        Pattern regexp = Pattern.compile(\"\\\\b\" + regexString + \"\\\\b\");\n        Matcher matcher = regexp.matcher(stringToCheck);\n\n        while (matcher.find()) {\n            count++;\n            matchString = matcher.group();\n            System.out.println(matchString);\n            result.put(matchString, count);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1562337254,"creation_date":1562337254,"answer_id":56905088,"question_id":56903361,"body_markdown":"So the first and easiest option would be to use your actual `findTheWord()` method and create a new method which uses it:\r\n\r\n    public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\r\n        return words.stream().distinct()\r\n                .collect(Collectors.toMap(Function.identity(), word -&gt; findTheWord(stringToCheck, word)));\r\n    }\r\n\r\n    public Integer findTheWord(String stringToCheck, String regexString) {\r\n        Pattern regexp = Pattern.compile(&quot;\\\\b&quot; + regexString + &quot;\\\\b&quot;);\r\n        Matcher matcher = regexp.matcher(stringToCheck);\r\n\r\n        int count = 0;\r\n        while (matcher.find()) {\r\n            count++;\r\n        }\r\n        return count;\r\n    }\r\n\r\nThe problem with this is if you are using a large number of words to find and a large text, because it iterates over the given string for each word. So another approach would be to create a regex for all words and increment the next found word in your resulting map:\r\n\r\n    public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\r\n        Pattern regexp = Pattern.compile(words.stream().distinct().map(word -&gt; &quot;\\\\b&quot; + word + &quot;\\\\b&quot;).collect(Collectors.joining(&quot;|&quot;)));\r\n        // creates a pattern like this: &quot;\\ba\\b|\\bb\\b|\\bc\\b|\\bd\\b|\\be\\b&quot;\r\n        Matcher matcher = regexp.matcher(stringToCheck);\r\n        Map&lt;String, Integer&gt; result = new HashMap&lt;&gt;();\r\n        while (matcher.find()) {\r\n            String word = matcher.group();\r\n            result.put(word, result.getOrDefault(word, 0) + 1);\r\n        }\r\n        return result;\r\n    }\r\n\r\nBeside that you might be considering using a `Set` for the words instead of the `List` because the values are unique, so there is no need to call `.distinct()` on the stream.","title":"Search multiple words in a text using regular expressions (Java)","body":"<p>So the first and easiest option would be to use your actual <code>findTheWord()</code> method and create a new method which uses it:</p>\n\n<pre><code>public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\n    return words.stream().distinct()\n            .collect(Collectors.toMap(Function.identity(), word -&gt; findTheWord(stringToCheck, word)));\n}\n\npublic Integer findTheWord(String stringToCheck, String regexString) {\n    Pattern regexp = Pattern.compile(\"\\\\b\" + regexString + \"\\\\b\");\n    Matcher matcher = regexp.matcher(stringToCheck);\n\n    int count = 0;\n    while (matcher.find()) {\n        count++;\n    }\n    return count;\n}\n</code></pre>\n\n<p>The problem with this is if you are using a large number of words to find and a large text, because it iterates over the given string for each word. So another approach would be to create a regex for all words and increment the next found word in your resulting map:</p>\n\n<pre><code>public Map&lt;String, Integer&gt; findTheWords(String stringToCheck, List&lt;String&gt; words) {\n    Pattern regexp = Pattern.compile(words.stream().distinct().map(word -&gt; \"\\\\b\" + word + \"\\\\b\").collect(Collectors.joining(\"|\")));\n    // creates a pattern like this: \"\\ba\\b|\\bb\\b|\\bc\\b|\\bd\\b|\\be\\b\"\n    Matcher matcher = regexp.matcher(stringToCheck);\n    Map&lt;String, Integer&gt; result = new HashMap&lt;&gt;();\n    while (matcher.find()) {\n        String word = matcher.group();\n        result.put(word, result.getOrDefault(word, 0) + 1);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Beside that you might be considering using a <code>Set</code> for the words instead of the <code>List</code> because the values are unique, so there is no need to call <code>.distinct()</code> on the stream.</p>\n"}],"owner":{"account_id":15527842,"reputation":523,"user_id":11202157,"display_name":"Edoardo Tavilla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56905088,"answer_count":2,"score":1,"last_activity_date":1693140179,"creation_date":1562330764,"question_id":56903361,"body_markdown":"I have a method to search a word in a text, both inserted by arguments. \r\n\r\n    public Integer findTheWord(String stringToCheck, String regexString) throws IOException {\r\n\t\t\t\t\r\n\t\t\tint count = 0;\r\n\t\t    Pattern regexp = Pattern.compile(&quot;\\\\b&quot; + regexString + &quot;\\\\b&quot;);\r\n\t\t    Matcher matcher = regexp.matcher(stringToCheck);\r\n\r\n\t\t    while (matcher.find()) {\r\n\t\t    \t\tcount++;\r\n\t\t\t\t\tString matchString = matcher.group();\r\n\t\t\t\t\tSystem.out.println(matchString);\r\n\t\t\t\t}\r\n\t\t    System.out.println(count);\r\n\t\t\treturn count;\r\n\t  }\r\n\r\nHow can I insert multiple words and return the occurences of each of them?","title":"Search multiple words in a text using regular expressions (Java)","body":"<p>I have a method to search a word in a text, both inserted by arguments. </p>\n\n<pre><code>public Integer findTheWord(String stringToCheck, String regexString) throws IOException {\n\n        int count = 0;\n        Pattern regexp = Pattern.compile(\"\\\\b\" + regexString + \"\\\\b\");\n        Matcher matcher = regexp.matcher(stringToCheck);\n\n        while (matcher.find()) {\n                count++;\n                String matchString = matcher.group();\n                System.out.println(matchString);\n            }\n        System.out.println(count);\n        return count;\n  }\n</code></pre>\n\n<p>How can I insert multiple words and return the occurences of each of them?</p>\n"},{"tags":["java","regex","regex-greedy"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1560517744,"post_id":56598817,"comment_id":99773672,"body_markdown":"`matches()` looks for complete matches and not just for partial matches. Unless your regex matches the whole string, it wont match. In you case, a proper fileName would be `abc` or the proper regex `abc\\\\.txt`","body":"<code>matches()</code> looks for complete matches and not just for partial matches. Unless your regex matches the whole string, it wont match. In you case, a proper fileName would be <code>abc</code> or the proper regex <code>abc\\\\.txt</code>"},{"owner":{"account_id":6892923,"reputation":779,"user_id":5295755,"accept_rate":88,"display_name":"Alo&#239;s de La Comble"},"score":1,"creation_date":1560517758,"post_id":56598817,"comment_id":99773681,"body_markdown":"try abc.* ?\nIn fact it depends what strings you want to match in the end","body":"try abc.* ? In fact it depends what strings you want to match in the end"}],"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"comment_count":2,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1560517836,"answer_count":0,"score":1,"last_activity_date":1693140173,"creation_date":1560517492,"question_id":56598817,"body_markdown":"I am trying to match a string using java regex.\r\n\r\nMy string is &quot;abc.txt&quot; which is a file name.\r\nThe regex I am using is &quot;abc&quot;.\r\n\r\n```\r\nString fileName = &quot;abc.txt&quot;;\r\nPattern pattern = Pattern.compile(&quot;abc&quot;);\r\nMatcher matcher = pattern.matcher(fileName);\r\nSystem.out.println(matcher.matches());\r\n```\r\n\r\nBut some how it does not match.\r\nInfact using notepad++ regex search, it matches completely fine.\r\n\r\nPlease help","title":"Java regex not matching the string &quot;abc.txt&quot; with pattern &quot;abc&quot;","body":"<p>I am trying to match a string using java regex.</p>\n\n<p>My string is \"abc.txt\" which is a file name.\nThe regex I am using is \"abc\".</p>\n\n<pre><code>String fileName = \"abc.txt\";\nPattern pattern = Pattern.compile(\"abc\");\nMatcher matcher = pattern.matcher(fileName);\nSystem.out.println(matcher.matches());\n</code></pre>\n\n<p>But some how it does not match.\nInfact using notepad++ regex search, it matches completely fine.</p>\n\n<p>Please help</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1554893377,"post_id":55610675,"comment_id":97915717,"body_markdown":"Please delete your Eclipse screen capture link and instead include all relevant Java code directly in the question.","body":"Please delete your Eclipse screen capture link and instead include all relevant Java code directly in the question."},{"owner":{"account_id":3388857,"reputation":1889,"user_id":2844215,"display_name":"IMParasharG"},"score":0,"creation_date":1554893410,"post_id":55610675,"comment_id":97915740,"body_markdown":"Add your code in the question instead of the image","body":"Add your code in the question instead of the image"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1554893581,"post_id":55610675,"comment_id":97915828,"body_markdown":"If you use `if (m.find()) { ... }` without calling `.find()` before it it must work if your regex matches the string.","body":"If you use <code>if (m.find()) { ... }</code> without calling <code>.find()</code> before it it must work if your regex matches the string."},{"owner":{"account_id":15715397,"reputation":11,"user_id":11339739,"display_name":"Xabier"},"score":0,"creation_date":1554893775,"post_id":55610675,"comment_id":97915945,"body_markdown":"You&#39;ll see better in the image, but I putting the code","body":"You&#39;ll see better in the image, but I putting the code"}],"answers":[{"comments":[{"owner":{"account_id":15715397,"reputation":11,"user_id":11339739,"display_name":"Xabier"},"score":0,"creation_date":1554895253,"post_id":55611172,"comment_id":97916719,"body_markdown":"Does it happen even if it is inside a synchronized method?","body":"Does it happen even if it is inside a synchronized method?"},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":0,"creation_date":1554895925,"post_id":55611172,"comment_id":97917105,"body_markdown":"synchronized method won&#39;t matter here as all the variables you&#39;re dealing with are local within the method. Moreover, re-evaluate doesn&#39;t need to call whole method again by some other thread, so while keeping the method synchronized, you can re-evaluate the expression as many times you want.","body":"synchronized method won&#39;t matter here as all the variables you&#39;re dealing with are local within the method. Moreover, re-evaluate doesn&#39;t need to call whole method again by some other thread, so while keeping the method synchronized, you can re-evaluate the expression as many times you want."},{"owner":{"account_id":15715397,"reputation":11,"user_id":11339739,"display_name":"Xabier"},"score":1,"creation_date":1554896858,"post_id":55611172,"comment_id":97917653,"body_markdown":"Thnaks Sir. Problem seems to be as you indicated: &quot;meaning both are not in sync, and the only reason I can think of is, as you are in debug mode and since you have them in expression window, m.find() seems to be getting executed multiple times,&quot;... I was getting mad wondering what was not working.","body":"Thnaks Sir. Problem seems to be as you indicated: &quot;meaning both are not in sync, and the only reason I can think of is, as you are in debug mode and since you have them in expression window, m.find() seems to be getting executed multiple times,&quot;... I was getting mad wondering what was not working."},{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":0,"creation_date":1554901204,"post_id":55611172,"comment_id":97920306,"body_markdown":"Yes, I know that happens sometimes and it gets a little frustrating :) Glad I was able to clarify on that.","body":"Yes, I know that happens sometimes and it gets a little frustrating :) Glad I was able to clarify on that."}],"tags":[],"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1554894824,"creation_date":1554894824,"answer_id":55611172,"question_id":55610675,"body_markdown":"Looking at your screenshot, where it shows `m.find()` as `true` and the same value assigned to `isMatch` variable to be `false`, meaning both are not in sync, and the only reason I can think of is, as you are in debug mode and since you have them in expression window, `m.find()` seems to be getting executed multiple times, where the first time value of `m.find()` must have been true, but as it got executed again, next time it didn&#39;t match the data and `m.find()&#39;s` value became `false` and that ultimately got assigned to `isMatch` variable.\r\n\r\nTry getting rid of debug mode and just run the code and the variable `isMatch`&#39;s value should be in sync and should be as expected. Or you can even just turn off the expressions window while debugging your code, and debugging should give you correct values as expected. Make sure you don&#39;t re-evaluate `m.find()` else your program will give you unexpected results.\r\n\r\nAlso, never access `.group()` methods unless value returned by `m.find()` or `m.matches()` is `true`\r\n\r\nFor me, your code works fine like expected and prints `true`.\r\n\r\n\tString REGEX_PATTERN_FILE_GROUP = &quot;(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)&quot;;\r\n\r\n\tString s = &quot;1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf&quot;;\r\n\tPattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);\r\n\tMatcher m = p.matcher(s);\r\n\tboolean isMatch = m.find();\r\n\tSystem.out.println(&quot;isMatch: &quot; + isMatch);\r\n\tif (isMatch) {\r\n\t\tSystem.out.println(m.group());\r\n\t}\r\n\r\nPrints,\r\n\r\n    isMatch: true\r\n    20190409095211_200522007_CNA_20180000959_\r\n\r\n","title":"Java Regex find() method not returning proper value","body":"<p>Looking at your screenshot, where it shows <code>m.find()</code> as <code>true</code> and the same value assigned to <code>isMatch</code> variable to be <code>false</code>, meaning both are not in sync, and the only reason I can think of is, as you are in debug mode and since you have them in expression window, <code>m.find()</code> seems to be getting executed multiple times, where the first time value of <code>m.find()</code> must have been true, but as it got executed again, next time it didn't match the data and <code>m.find()'s</code> value became <code>false</code> and that ultimately got assigned to <code>isMatch</code> variable.</p>\n\n<p>Try getting rid of debug mode and just run the code and the variable <code>isMatch</code>'s value should be in sync and should be as expected. Or you can even just turn off the expressions window while debugging your code, and debugging should give you correct values as expected. Make sure you don't re-evaluate <code>m.find()</code> else your program will give you unexpected results.</p>\n\n<p>Also, never access <code>.group()</code> methods unless value returned by <code>m.find()</code> or <code>m.matches()</code> is <code>true</code></p>\n\n<p>For me, your code works fine like expected and prints <code>true</code>.</p>\n\n<pre><code>String REGEX_PATTERN_FILE_GROUP = \"(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)\";\n\nString s = \"1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf\";\nPattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);\nMatcher m = p.matcher(s);\nboolean isMatch = m.find();\nSystem.out.println(\"isMatch: \" + isMatch);\nif (isMatch) {\n    System.out.println(m.group());\n}\n</code></pre>\n\n<p>Prints,</p>\n\n<pre><code>isMatch: true\n20190409095211_200522007_CNA_20180000959_\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11431994,"reputation":11,"user_id":8380428,"display_name":"Florian Campa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680855703,"creation_date":1680855703,"answer_id":75956704,"question_id":55610675,"body_markdown":"the find() method tries to find the occurrence of a regex pattern within a given string. If multiple occurrences are found in the string, then the first call to find() will jump to the first occurrence. Thereafter, each subsequent call to the find() method will go to the next matching occurrence, one by one.\r\n","title":"Java Regex find() method not returning proper value","body":"<p>the find() method tries to find the occurrence of a regex pattern within a given string. If multiple occurrences are found in the string, then the first call to find() will jump to the first occurrence. Thereafter, each subsequent call to the find() method will go to the next matching occurrence, one by one.</p>\n"}],"owner":{"account_id":15715397,"reputation":11,"user_id":11339739,"display_name":"Xabier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":55611172,"answer_count":2,"score":-1,"last_activity_date":1693139962,"creation_date":1554893300,"question_id":55610675,"body_markdown":"I&#39;ve created a regex pattern in Java and, apparently, the matcher class find it into the string, but it is not returning the proper value.\r\n\r\nIf you see this [image][1], Eclipse is giving me a &#39;true&#39; value when I execute `m.find()` method, but it&#39;s not assigning it properly to `isMatch` variable. \r\n \r\nSame occurs when I write &quot;`if (m.find())`, it doesn&#39;t go to the inner block.\r\n\r\nCode Example:\r\n\r\n{\r\n\t\t\r\n\t    private final static String REGEX_PATTERN_FILE_GROUP = &quot;(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)&quot;;\r\n\r\n\t\tfor (File file: fileList) {\r\n\t\t\tPattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);\t\r\n\t\t\tMatcher m = p.matcher(file.getName());\t\t\t\t\r\n\t\t\tif (m.find())\r\n\t\t\t{\t\r\n               .... More code ...\r\n            }\r\n\r\n}\r\n\r\nExample of file.getName() value: \r\n&quot;1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf&quot;\r\n\r\nApparently, m.find() is &#39;true&#39; (so as Eclipse is showing me), but it never goes into inner if block, neither if I try to assign to another boolean value.\r\n\r\nTested in https://regex101.com/ and it get value.\r\n\r\nMy Java version is &quot;1.8.0_181&quot; 64-Bit server.\r\n\r\nI&#39;m newbie in StackOverflow, Java and Eclipse.\r\n\r\n[1]: https://i.ibb.co/3MpDxnv/Java-Reg-Ex-Problem.png\r\n\r\n","title":"Java Regex find() method not returning proper value","body":"<p>I've created a regex pattern in Java and, apparently, the matcher class find it into the string, but it is not returning the proper value.</p>\n\n<p>If you see this <a href=\"https://i.ibb.co/3MpDxnv/Java-Reg-Ex-Problem.png\" rel=\"nofollow noreferrer\">image</a>, Eclipse is giving me a 'true' value when I execute <code>m.find()</code> method, but it's not assigning it properly to <code>isMatch</code> variable. </p>\n\n<p>Same occurs when I write \"<code>if (m.find())</code>, it doesn't go to the inner block.</p>\n\n<p>Code Example:</p>\n\n<p>{</p>\n\n<pre><code>    private final static String REGEX_PATTERN_FILE_GROUP = \"(\\\\d{14}_\\\\d{9}_\\\\D{3}_\\\\d{11}_)\";\n\n    for (File file: fileList) {\n        Pattern p = Pattern.compile(REGEX_PATTERN_FILE_GROUP);  \n        Matcher m = p.matcher(file.getName());              \n        if (m.find())\n        {   \n           .... More code ...\n        }\n</code></pre>\n\n<p>}</p>\n\n<p>Example of file.getName() value: \n\"1.0- 20190409095211_200522007_CNA_20180000959_1_xxxxx.pdf\"</p>\n\n<p>Apparently, m.find() is 'true' (so as Eclipse is showing me), but it never goes into inner if block, neither if I try to assign to another boolean value.</p>\n\n<p>Tested in <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> and it get value.</p>\n\n<p>My Java version is \"1.8.0_181\" 64-Bit server.</p>\n\n<p>I'm newbie in StackOverflow, Java and Eclipse.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2021356,"reputation":7875,"user_id":1807452,"display_name":"Rahul Sharma"},"score":0,"creation_date":1552045323,"post_id":55062218,"comment_id":96872924,"body_markdown":"Refer to this question: https://stackoverflow.com/questions/37136376/c-sharp-net-equivalent-for-java-matcher-find-and-matcher-group to address your issue.","body":"Refer to this question: <a href=\"https://stackoverflow.com/questions/37136376/c-sharp-net-equivalent-for-java-matcher-find-and-matcher-group\" title=\"c sharp net equivalent for java matcher find and matcher group\">stackoverflow.com/questions/37136376/&hellip;</a> to address your issue."},{"owner":{"account_id":15299068,"reputation":96,"user_id":11038171,"display_name":"az fav"},"score":0,"creation_date":1552466507,"post_id":55062218,"comment_id":97015438,"body_markdown":"@Wiktor Stribi≈ºew Upvoted and thanks about the tip.","body":"@Wiktor Stribi≈ºew Upvoted and thanks about the tip."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552049702,"creation_date":1552049702,"answer_id":55063673,"question_id":55062218,"body_markdown":"You should replace \r\n\r\n    ends = regexEnd.Match(heap, startPos + starts.length()).toString();\r\n\r\nwith\r\n\r\n    Matcher m = regexEnd.matcher(heap);\r\n    if (m.find(startPos + starts.length())) {\r\n      ends =  m.group();\r\n    }\r\n\r\nThe point is that you need to declare a matcher and instantiate it with the input string (`heap`) from a `Pattern` that you already have (`regexEnd`).\r\n\r\nThen, you execute the matcher using `.find(index)` where `index` is the start position to search from. If there is a match, `m.group()` contains the match value.","title":"Converting C# Regular Expression To Java matcher issue","body":"<p>You should replace </p>\n\n<pre><code>ends = regexEnd.Match(heap, startPos + starts.length()).toString();\n</code></pre>\n\n<p>with</p>\n\n<pre><code>Matcher m = regexEnd.matcher(heap);\nif (m.find(startPos + starts.length())) {\n  ends =  m.group();\n}\n</code></pre>\n\n<p>The point is that you need to declare a matcher and instantiate it with the input string (<code>heap</code>) from a <code>Pattern</code> that you already have (<code>regexEnd</code>).</p>\n\n<p>Then, you execute the matcher using <code>.find(index)</code> where <code>index</code> is the start position to search from. If there is a match, <code>m.group()</code> contains the match value.</p>\n"}],"owner":{"account_id":15299068,"reputation":96,"user_id":11038171,"display_name":"az fav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55063673,"answer_count":1,"score":1,"last_activity_date":1693139836,"creation_date":1552044183,"question_id":55062218,"body_markdown":"    public static String ReturnBetween(String heap, String startEx, String endEx, boolean include) {\r\n            int startPos = 0;\r\n            int endPos = heap.length();\r\n            String starts = &quot;&quot;;\r\n            String ends = &quot;&quot;;\r\n    \r\n            if (!startEx.equals(&quot;^&quot;)) {\r\n                Pattern regexStart = Pattern.compile(startEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);\r\n                starts = regexStart.matcher(heap).toString();\r\n                if (starts.equals(&quot;&quot;)) {\r\n                    startPos = -1;\r\n                } else {\r\n                    startPos = heap.indexOf(starts);\r\n                }\r\n            }\r\n    \r\n            if (startPos == -1) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            if (!endEx.equals(&quot;$&quot;)) {\r\n                Pattern regexEnd = Pattern.compile(endEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL );\r\n                ends = regexEnd.Match(heap, startPos + starts.length()).toString();\r\n                if (ends.equals(&quot;&quot;)) {\r\n                    endPos = -1;\r\n                } else {\r\n                    endPos = heap.indexOf(ends, startPos + starts.length());\r\n                }\r\n            }\r\n    \r\n            if (endPos == -1) {\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n            if (!include) {\r\n                startPos += starts.length();\r\n            }\r\n            if (include) {\r\n                endPos += ends.length();\r\n            }\r\n    \r\n            String result = heap.substring(startPos, endPos);\r\n            return result;\r\n        }\r\n\r\nThis was a c# function for getting a string between two variables i am trying to convert it to java function most the part have been already converted to java code.\r\ni have managed to convert this function . except this part :\r\n\r\n      ends = regexEnd.Match(heap, startPos + starts.length()).toString();","title":"Converting C# Regular Expression To Java matcher issue","body":"<pre><code>public static String ReturnBetween(String heap, String startEx, String endEx, boolean include) {\n        int startPos = 0;\n        int endPos = heap.length();\n        String starts = \"\";\n        String ends = \"\";\n\n        if (!startEx.equals(\"^\")) {\n            Pattern regexStart = Pattern.compile(startEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);\n            starts = regexStart.matcher(heap).toString();\n            if (starts.equals(\"\")) {\n                startPos = -1;\n            } else {\n                startPos = heap.indexOf(starts);\n            }\n        }\n\n        if (startPos == -1) {\n            return \"\";\n        }\n\n        if (!endEx.equals(\"$\")) {\n            Pattern regexEnd = Pattern.compile(endEx, Pattern.CASE_INSENSITIVE | Pattern.DOTALL );\n            ends = regexEnd.Match(heap, startPos + starts.length()).toString();\n            if (ends.equals(\"\")) {\n                endPos = -1;\n            } else {\n                endPos = heap.indexOf(ends, startPos + starts.length());\n            }\n        }\n\n        if (endPos == -1) {\n            return \"\";\n        }\n\n        if (!include) {\n            startPos += starts.length();\n        }\n        if (include) {\n            endPos += ends.length();\n        }\n\n        String result = heap.substring(startPos, endPos);\n        return result;\n    }\n</code></pre>\n\n<p>This was a c# function for getting a string between two variables i am trying to convert it to java function most the part have been already converted to java code.\ni have managed to convert this function . except this part :</p>\n\n<pre><code>  ends = regexEnd.Match(heap, startPos + starts.length()).toString();\n</code></pre>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":14523380,"reputation":68,"user_id":10490450,"display_name":"Redoishi"},"score":0,"creation_date":1548946698,"post_id":54463222,"comment_id":95734629,"body_markdown":"Use a regex in `split()` and see https://stackoverflow.com/questions/12636417/splitting-a-string-using-words-as-delimiters","body":"Use a regex in <code>split()</code> and see <a href=\"https://stackoverflow.com/questions/12636417/splitting-a-string-using-words-as-delimiters\" title=\"splitting a string using words as delimiters\">stackoverflow.com/questions/12636417/&hellip;</a>"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1548946814,"post_id":54463222,"comment_id":95734711,"body_markdown":"`// &quot;Jr.&quot;, &quot;III&quot;, &quot;Sr&quot;, &quot;pro se&quot; are all keywords in my list`. Can you show content of your list?","body":"<code>&#47;&#47; &quot;Jr.&quot;, &quot;III&quot;, &quot;Sr&quot;, &quot;pro se&quot; are all keywords in my list</code>. Can you show content of your list?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1548952007,"post_id":54463222,"comment_id":95738052,"body_markdown":"You cannot expect to get help here unless you provide all details of your problem.","body":"You cannot expect to get help here unless you provide all details of your problem."}],"answers":[{"comments":[{"owner":{"account_id":14661742,"reputation":17,"user_id":10588701,"display_name":"Kev K"},"score":0,"creation_date":1548947844,"post_id":54463358,"comment_id":95735422,"body_markdown":"My delimiter list is pretty long so could I use a String variable in the regex instead of hardcoding in Jr\\\\.|III|Sr|pro se|...","body":"My delimiter list is pretty long so could I use a String variable in the regex instead of hardcoding in Jr\\\\.|III|Sr|pro se|..."},{"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"score":0,"creation_date":1548948058,"post_id":54463358,"comment_id":95735591,"body_markdown":"Sure, you could. But it&#39;s not very pretty nor performant. If it&#39;s a one-time process and performance isn&#39;t critical, it might be okay.","body":"Sure, you could. But it&#39;s not very pretty nor performant. If it&#39;s a one-time process and performance isn&#39;t critical, it might be okay."},{"owner":{"account_id":14661742,"reputation":17,"user_id":10588701,"display_name":"Kev K"},"score":0,"creation_date":1548948531,"post_id":54463358,"comment_id":95735905,"body_markdown":"So would it look like:  `String[] split = input.split(&quot;\\\\s(?=(regex))&quot;);`","body":"So would it look like:  <code>String[] split = input.split(&quot;\\\\s(?=(regex))&quot;);</code>"}],"tags":[],"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548946812,"creation_date":1548946812,"answer_id":54463358,"question_id":54463222,"body_markdown":"You could use this: `\\s(?=(Jr\\.|III|Sr|pro se))` - and add in the keywords you want to preserve. \r\n\r\nHere&#39;s a working demo to see what it matches: [https://regexr.com/47gbm][1]\r\n\r\nSo with `String[] split = input.split(&quot;\\\\s(?=(Jr\\\\.|III|Sr|pro se))&quot;);` you should get the desired result.\r\n\r\n\r\n  [1]: https://regexr.com/47gbm","title":"How to split a string by keywords in Java","body":"<p>You could use this: <code>\\s(?=(Jr\\.|III|Sr|pro se))</code> - and add in the keywords you want to preserve. </p>\n\n<p>Here's a working demo to see what it matches: <a href=\"https://regexr.com/47gbm\" rel=\"nofollow noreferrer\">https://regexr.com/47gbm</a></p>\n\n<p>So with <code>String[] split = input.split(\"\\\\s(?=(Jr\\\\.|III|Sr|pro se))\");</code> you should get the desired result.</p>\n"},{"comments":[{"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"score":0,"creation_date":1548948112,"post_id":54463472,"comment_id":95735623,"body_markdown":"But to do that, you have to know where your keywords are in the target string. Same problem as before, isn&#39;t it?","body":"But to do that, you have to know where your keywords are in the target string. Same problem as before, isn&#39;t it?"}],"tags":[],"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548947118,"creation_date":1548947118,"answer_id":54463472,"question_id":54463222,"body_markdown":"You can try adding a different seprator to the string hoding the keywords. Insted of seprating them by `&quot; &quot;` separate them by `&quot;|&quot;`.\r\n\r\n    String input = &quot;Abraham|Lincoln|Jr.|III|Sr|pro se&quot;;\r\n    String [] splitByPipe = input.split(&quot;\\\\|&quot;);\r\n\r\nThis way you won`t be having any problems with the spaces you need to keep.","title":"How to split a string by keywords in Java","body":"<p>You can try adding a different seprator to the string hoding the keywords. Insted of seprating them by <code>\" \"</code> separate them by <code>\"|\"</code>.</p>\n\n<pre><code>String input = \"Abraham|Lincoln|Jr.|III|Sr|pro se\";\nString [] splitByPipe = input.split(\"\\\\|\");\n</code></pre>\n\n<p>This way you won`t be having any problems with the spaces you need to keep.</p>\n"}],"owner":{"account_id":14661742,"reputation":17,"user_id":10588701,"display_name":"Kev K"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1614,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1549036935,"answer_count":2,"score":-2,"last_activity_date":1693139825,"creation_date":1548946393,"question_id":54463222,"body_markdown":"I need to split an input and put it in to a list according to a list of keywords or delimiters that I have created. \r\n\r\nI&#39;ve tried simply splitting the string by spaces and then processing it afterwards, but the problem is that some of my keywords have spaces in them so they are split apart which causes undesired behavior.\r\n\r\n    // &quot;Jr.&quot;, &quot;III&quot;, &quot;Sr&quot;, &quot;pro se&quot; are all keywords in my list\r\n    String input = &quot;Abraham Lincoln Jr. III Sr pro se&quot;;\r\n    String [] splitBySpace = input.split(&quot; &quot;);\r\n    List&lt;String&gt; separatedName = new ArrayList&lt;&gt;(Arrays.asList(splitBySpace);\r\n\r\n\r\nMy list ends up being: `{Abraham, Lincoln, Jr., III, Sr, pro, se}`\r\nAnd I would like it to be: `{Abraham, Lincoln, Jr., III, Sr, pro se}`\r\nThis output would also work: `{Abraham Lincoln, Jr., III, Sr, pro se}` (I don&#39;t need the strings that are not in my delimiter list to be split apart)\r\n\r\n","title":"How to split a string by keywords in Java","body":"<p>I need to split an input and put it in to a list according to a list of keywords or delimiters that I have created. </p>\n\n<p>I've tried simply splitting the string by spaces and then processing it afterwards, but the problem is that some of my keywords have spaces in them so they are split apart which causes undesired behavior.</p>\n\n<pre><code>// \"Jr.\", \"III\", \"Sr\", \"pro se\" are all keywords in my list\nString input = \"Abraham Lincoln Jr. III Sr pro se\";\nString [] splitBySpace = input.split(\" \");\nList&lt;String&gt; separatedName = new ArrayList&lt;&gt;(Arrays.asList(splitBySpace);\n</code></pre>\n\n<p>My list ends up being: <code>{Abraham, Lincoln, Jr., III, Sr, pro, se}</code>\nAnd I would like it to be: <code>{Abraham, Lincoln, Jr., III, Sr, pro se}</code>\nThis output would also work: <code>{Abraham Lincoln, Jr., III, Sr, pro se}</code> (I don't need the strings that are not in my delimiter list to be split apart)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"score":1,"creation_date":1546252716,"post_id":53986413,"comment_id":94810058,"body_markdown":"I haven&#39;t read your question properly as Aleksei has made a suggestion above but for future reference I think `/W` should be `\\W` or possibly even `\\\\W` because you have to escape the escape character","body":"I haven&#39;t read your question properly as Aleksei has made a suggestion above but for future reference I think <code>&#47;W</code> should be <code>\\W</code> or possibly even <code>\\\\W</code> because you have to escape the escape character"},{"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"score":0,"creation_date":1546252876,"post_id":53986413,"comment_id":94810113,"body_markdown":"Use this `[\\w-]+` https://regex101.com/r/rPDZwg/2/","body":"Use this <code>[\\w-]+</code> <a href=\"https://regex101.com/r/rPDZwg/2/\" rel=\"nofollow noreferrer\">regex101.com/r/rPDZwg/2</a>"},{"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"score":1,"creation_date":1546252898,"post_id":53986413,"comment_id":94810123,"body_markdown":"@AlekseiMatiushkin I think you need to add double escapes to your pattern","body":"@AlekseiMatiushkin I think you need to add double escapes to your pattern"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1546252912,"post_id":53986413,"comment_id":94810129,"body_markdown":"@CodeManiac Your suggested pattern has a problem.","body":"@CodeManiac Your suggested pattern has a problem."},{"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"score":0,"creation_date":1546252953,"post_id":53986413,"comment_id":94810138,"body_markdown":"@TimBiegeleisen would love to know. i made small change.","body":"@TimBiegeleisen would love to know. i made small change."},{"owner":{"account_id":2318915,"reputation":119112,"user_id":2035262,"accept_rate":78,"display_name":"Aleksei Matiushkin"},"score":0,"creation_date":1546253018,"post_id":53986413,"comment_id":94810166,"body_markdown":"@Matt indeed, I have it removed since the time to edit already passed.","body":"@Matt indeed, I have it removed since the time to edit already passed."},{"owner":{"account_id":8215511,"reputation":13,"user_id":6182044,"display_name":"Alex.Han"},"score":1,"creation_date":1546253606,"post_id":53986413,"comment_id":94810380,"body_markdown":"Thanks everyone, @Code Maniac suggestion worked flawlessly, that tool you are using is great.","body":"Thanks everyone, @Code Maniac suggestion worked flawlessly, that tool you are using is great."}],"answers":[{"comments":[{"owner":{"account_id":1780071,"reputation":3303,"user_id":1623046,"accept_rate":64,"display_name":"Matt"},"score":0,"creation_date":1546253190,"post_id":53986515,"comment_id":94810230,"body_markdown":"Just FYI, the pattern you are using in your split function is regex :)","body":"Just FYI, the pattern you are using in your split function is regex :)"},{"owner":{"account_id":2016507,"reputation":5631,"user_id":1803692,"accept_rate":96,"display_name":"Vogel612"},"score":0,"creation_date":1546253253,"post_id":53986515,"comment_id":94810256,"body_markdown":"shhh :) Don&#39;t spoil it","body":"shhh :) Don&#39;t spoil it"}],"tags":[],"owner":{"account_id":2016507,"reputation":5631,"user_id":1803692,"accept_rate":96,"display_name":"Vogel612"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546253107,"creation_date":1546253107,"answer_id":53986515,"question_id":53986413,"body_markdown":"The easiest solution here seems to be to ditch regex overall and just split the string instead. You want to allow digits, alphabetic characters and `-` in your words. Consider the following code:\r\n\r\n    for (String word : mebo.split(&quot;[^\\\\d\\\\w-]+&quot;)) {\r\n        System.out.printf(&quot;Word is %s %n&quot;, word);\r\n    }\r\n\r\nThis should exhibit the desired behaviour. Note that this will generate some empty strings, unless you have the `+` in the splitting pattern.\r\n\r\nWhat this does is splitting the input string between everything that does **not** match your desired characters. This is accomplished through using an inverted character class.","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>The easiest solution here seems to be to ditch regex overall and just split the string instead. You want to allow digits, alphabetic characters and <code>-</code> in your words. Consider the following code:</p>\n\n<pre><code>for (String word : mebo.split(\"[^\\\\d\\\\w-]+\")) {\n    System.out.printf(\"Word is %s %n\", word);\n}\n</code></pre>\n\n<p>This should exhibit the desired behaviour. Note that this will generate some empty strings, unless you have the <code>+</code> in the splitting pattern.</p>\n\n<p>What this does is splitting the input string between everything that does <strong>not</strong> match your desired characters. This is accomplished through using an inverted character class.</p>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546253925,"creation_date":1546253199,"answer_id":53986529,"question_id":53986413,"body_markdown":"I would suggest a regex split, followed by a regex replacement:\r\n\r\n    String mebo = &quot;1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, &#39;29229&#39;&quot;;\r\n    String[] parts = mebo.split(&quot;\\\\s*,?\\\\s+&quot;);\r\n    for (String part : parts) {\r\n       System.out.println(part.replaceAll(&quot;[&#39;]&quot;, &quot;&quot;));\r\n    }\r\n\r\n    1323\r\n    99BIMCP\r\n    1\r\n    2\r\n    BMWQ-CSPS-D1\r\n    0192\r\n    29229\r\n\r\nThe logic here is to split on whitespace, possibly including a comma separator.  Then, we can do a regex replacement cleanup to remove stray characters such as single quotes.  Double quotes and any other unwanted characters can easily be added to the character class used for replacement.\r\n\r\nIn general, regex alone may not suffice here, and you may need a parser to cover every edge case.  Case in point, consider the following input line:\r\n\r\n    One, &quot;Two or more&quot;, Three\r\n\r\nMy answer fails here, because it blindly splits on whitespace, and does not know that escaped whitespace is not a token.  A regex would also fail here.","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>I would suggest a regex split, followed by a regex replacement:</p>\n\n<pre><code>String mebo = \"1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, '29229'\";\nString[] parts = mebo.split(\"\\\\s*,?\\\\s+\");\nfor (String part : parts) {\n   System.out.println(part.replaceAll(\"[']\", \"\"));\n}\n\n1323\n99BIMCP\n1\n2\nBMWQ-CSPS-D1\n0192\n29229\n</code></pre>\n\n<p>The logic here is to split on whitespace, possibly including a comma separator.  Then, we can do a regex replacement cleanup to remove stray characters such as single quotes.  Double quotes and any other unwanted characters can easily be added to the character class used for replacement.</p>\n\n<p>In general, regex alone may not suffice here, and you may need a parser to cover every edge case.  Case in point, consider the following input line:</p>\n\n<pre><code>One, \"Two or more\", Three\n</code></pre>\n\n<p>My answer fails here, because it blindly splits on whitespace, and does not know that escaped whitespace is not a token.  A regex would also fail here.</p>\n"},{"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1546253639,"post_id":53986548,"comment_id":94810394,"body_markdown":"One possible edge case: The term `&quot;Hello World&quot;, ...` appears in the input.  Your regex would not be able to distinguish from escaped and unescaped whitespace  (my answer has issues too by the way)","body":"One possible edge case: The term <code>&quot;Hello World&quot;, ...</code> appears in the input.  Your regex would not be able to distinguish from escaped and unescaped whitespace  (my answer has issues too by the way)"},{"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"score":0,"creation_date":1546253907,"post_id":53986548,"comment_id":94810480,"body_markdown":"@TimBiegeleisen i think you too missed this in your solution as you&#39;re splitting with space or comma. anyways thanks for pointing out. will update to make it more generic","body":"@TimBiegeleisen i think you too missed this in your solution as you&#39;re splitting with space or comma. anyways thanks for pointing out. will update to make it more generic"}],"tags":[],"owner":{"account_id":13334039,"reputation":37369,"user_id":9624435,"display_name":"Code Maniac"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546253312,"creation_date":1546253312,"answer_id":53986548,"question_id":53986413,"body_markdown":"You can use this as it seems from your regex you want to include `character` `digit` and `-` in your match.\r\n\r\n    `[\\w-]+`\r\n\r\n - `[\\w-]+` - Matches (a-z 0-9 _ and - ) one or more time.\r\n\r\n[Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/rPDZwg/2/","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>You can use this as it seems from your regex you want to include <code>character</code> <code>digit</code> and <code>-</code> in your match.</p>\n\n<pre><code>`[\\w-]+`\n</code></pre>\n\n<ul>\n<li><code>[\\w-]+</code> - Matches (a-z 0-9 _ and - ) one or more time.</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/rPDZwg/2/\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}],"owner":{"account_id":8215511,"reputation":13,"user_id":6182044,"display_name":"Alex.Han"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53986548,"answer_count":3,"score":0,"last_activity_date":1693139800,"creation_date":1546252403,"question_id":53986413,"body_markdown":"I&#39;m trying to extract several words from a string with regex matcher &amp;pattern. I did spend some time to make the regular expression I&#39;m using but this doesn&#39;t work as expected, any help would be very appreciated. \r\n\r\nI  made the regular expression I&#39;m using but this doesn&#39;t work as expected, some help would be great. I&#39;m able to extract the chars from the words I want but not the entire word.\r\n\r\n    import java.util.*;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    public class Main {\r\n    \r\n    public static void main (String[] args){\r\n    \r\n        String mebo = &quot;1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, &#39;29229&#39;&quot;;\r\n    \r\n    \r\n        Pattern pattern = Pattern.compile(&quot;[((a-zA-Z1-9-0)/W)]&quot;);\r\n    \r\n        Matcher matcher = pattern.matcher(mebo);\r\n    \r\n    \r\n        while (matcher.find()) {\r\n    \r\n            System.out.printf(&quot;Word is %s %n&quot;,matcher.group(0));\r\n    \r\n        }\r\n    \r\n    }\r\n    }\r\n\r\n\r\n&gt; This is current output:\r\n&gt; \r\n&gt; Word is 1  Word is 3  Word is 2  Word is 3  Word is 9  Word is 9  Word\r\n&gt; is B  Word is I  Word is M  Word is C  Word is P  Word is 1  Word is 2\r\n&gt; Word is B  Word is M  Word is W  Word is Q  Word is -  Word is C  Word\r\n&gt; is S  Word is P  Word is S  Word is -  Word is D  Word is 1  Word is 0\r\n&gt; Word is 1  Word is 9  Word is 2  Word is 2  Word is 9  Word is 2  Word\r\n&gt; is 2  Word is 9\r\n\r\n============\r\n\r\nMy expectation is to iterate entire words for example:\r\n\r\nString mebo = &quot;1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, &#39;29229&#39;&quot;\r\n\r\n\r\n&gt; word is 1323 word is 99BIMCP word is 1 word is 2 word is BMWQ-CSPS-D1\r\n&gt; word is 0192 word is 29229\r\n\r\n \r\n\r\n","title":"Extracting words with - included upper lowercase not working for words it only extracts chars","body":"<p>I'm trying to extract several words from a string with regex matcher &amp;pattern. I did spend some time to make the regular expression I'm using but this doesn't work as expected, any help would be very appreciated. </p>\n\n<p>I  made the regular expression I'm using but this doesn't work as expected, some help would be great. I'm able to extract the chars from the words I want but not the entire word.</p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class Main {\n\npublic static void main (String[] args){\n\n    String mebo = \"1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, '29229'\";\n\n\n    Pattern pattern = Pattern.compile(\"[((a-zA-Z1-9-0)/W)]\");\n\n    Matcher matcher = pattern.matcher(mebo);\n\n\n    while (matcher.find()) {\n\n        System.out.printf(\"Word is %s %n\",matcher.group(0));\n\n    }\n\n}\n}\n</code></pre>\n\n<blockquote>\n  <p>This is current output:</p>\n  \n  <p>Word is 1  Word is 3  Word is 2  Word is 3  Word is 9  Word is 9  Word\n  is B  Word is I  Word is M  Word is C  Word is P  Word is 1  Word is 2\n  Word is B  Word is M  Word is W  Word is Q  Word is -  Word is C  Word\n  is S  Word is P  Word is S  Word is -  Word is D  Word is 1  Word is 0\n  Word is 1  Word is 9  Word is 2  Word is 2  Word is 9  Word is 2  Word\n  is 2  Word is 9</p>\n</blockquote>\n\n<p>============</p>\n\n<p>My expectation is to iterate entire words for example:</p>\n\n<p>String mebo = \"1323 99BIMCP 1 2 BMWQ-CSPS-D1, 0192, '29229'\"</p>\n\n<blockquote>\n  <p>word is 1323 word is 99BIMCP word is 1 word is 2 word is BMWQ-CSPS-D1\n  word is 0192 word is 29229</p>\n</blockquote>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":11021611,"reputation":9242,"user_id":8112541,"display_name":"Goku"},"score":0,"creation_date":1544097072,"post_id":53650825,"comment_id":94159644,"body_markdown":"https://stackoverflow.com/questions/15472764/regular-expression-to-allow-spaces-between-words","body":"<a href=\"https://stackoverflow.com/questions/15472764/regular-expression-to-allow-spaces-between-words\" title=\"regular expression to allow spaces between words\">stackoverflow.com/questions/15472764/&hellip;</a>"},{"owner":{"account_id":12510905,"reputation":2417,"user_id":9514919,"display_name":"Annie"},"score":0,"creation_date":1544097311,"post_id":53650825,"comment_id":94159751,"body_markdown":"@Goku nothing is working for me i have added this type of space and checked on given site.. but not working","body":"@Goku nothing is working for me i have added this type of space and checked on given site.. but not working"},{"owner":{"account_id":11021611,"reputation":9242,"user_id":8112541,"display_name":"Goku"},"score":0,"creation_date":1544097593,"post_id":53650825,"comment_id":94159922,"body_markdown":"have u tried this https://stackoverflow.com/a/21102944/8112541","body":"have u tried this <a href=\"https://stackoverflow.com/a/21102944/8112541\">stackoverflow.com/a/21102944/8112541</a>"},{"owner":{"account_id":12510905,"reputation":2417,"user_id":9514919,"display_name":"Annie"},"score":0,"creation_date":1544097766,"post_id":53650825,"comment_id":94160030,"body_markdown":"@Goku not working (?=^.{8,16}$)(?=.*[\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|])([\\w ]+)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\w\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|]*$","body":"@Goku not working (?=^.{8,16}$)(?=.*[\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;&#40;&#41;*\\+\\,\\-\\.\\/\\:\\;\\&lt;&zwnj;&#8203;\\&gt;\\=\\?\\@&#91;&#93;\\{&zwnj;&#8203;\\}\\\\\\\\\\^_`\\~\\|])([\\w ]+)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\w\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;&&zwnj;&#8203;#40;&#41;*\\+\\,\\-\\.\\/&zwnj;&#8203;\\:\\;\\&lt;\\&gt;\\=\\?\\@&#91;&&zwnj;&#8203;#93;\\{\\}\\\\\\\\\\^_`\\~\\|&zwnj;&#8203;]*$"},{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":0,"creation_date":1544101313,"post_id":53650825,"comment_id":94162176,"body_markdown":"Hi @Annie I think your problem is &quot;(?!.*\\s)&quot; which translates to &quot;no whitespaces&quot; and includes spaces. But I cannot say for sure because I still don&#39;t get exactly what you try to accomplish and don&#39;t have a test string that works.\n\nJust one tip: you can save your regex incl. example input at regex101.com and share it via link.","body":"Hi @Annie I think your problem is &quot;(?!.*\\s)&quot; which translates to &quot;no whitespaces&quot; and includes spaces. But I cannot say for sure because I still don&#39;t get exactly what you try to accomplish and don&#39;t have a test string that works.  Just one tip: you can save your regex incl. example input at regex101.com and share it via link."},{"owner":{"account_id":11013148,"reputation":5634,"user_id":8089770,"display_name":"Vidhi Dave"},"score":0,"creation_date":1544115562,"post_id":53650825,"comment_id":94170934,"body_markdown":"@Johannes she wants a password with one upper case, one lower case, one special character with space.. i.e. &quot;Annie123  &quot; or &quot;Annie222!&quot; these wil be valid one.. there have to b one special character and that character can be white space","body":"@Johannes she wants a password with one upper case, one lower case, one special character with space.. i.e. &quot;Annie123  &quot; or &quot;Annie222!&quot; these wil be valid one.. there have to b one special character and that character can be white space"},{"owner":{"account_id":12510905,"reputation":2417,"user_id":9514919,"display_name":"Annie"},"score":0,"creation_date":1545281244,"post_id":53650825,"comment_id":94572939,"body_markdown":"@JohannesStadler thanks that worked for me.. please post as an answer for future visitors.. i will accept","body":"@JohannesStadler thanks that worked for me.. please post as an answer for future visitors.. i will accept"}],"answers":[{"comments":[{"owner":{"account_id":10054671,"reputation":193,"user_id":7433290,"display_name":"Tej"},"score":0,"creation_date":1544162142,"post_id":53651172,"comment_id":94185738,"body_markdown":"Yes I will test and I will try to get it fixed, But if you send me a test string based on what you are testing, then that would be easier for me to analyze.","body":"Yes I will test and I will try to get it fixed, But if you send me a test string based on what you are testing, then that would be easier for me to analyze."}],"tags":[],"owner":{"account_id":10054671,"reputation":193,"user_id":7433290,"display_name":"Tej"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544098221,"creation_date":1544098221,"answer_id":53651172,"question_id":53650825,"body_markdown":"Probably there will be mistake in grouping.\r\n\r\nAs far as I have used RegEx, [ ] or \\s will support the single space","title":"Regex pattern to allow space","body":"<p>Probably there will be mistake in grouping.</p>\n\n<p>As far as I have used RegEx, [ ] or \\s will support the single space</p>\n"}],"owner":{"account_id":12510905,"reputation":2417,"user_id":9514919,"display_name":"Annie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3287,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1693139763,"creation_date":1544096993,"question_id":53650825,"body_markdown":"I have one regex which allows one Upper case, one Lower case, 8-16 characters and Most **special characters including space**. I want add allow space in the regex. \r\n\r\n**I have tried :** \r\n\r\n 1. https://stackoverflow.com/questions/5753142/blank-spaces-in-regular-expression\r\n\r\n 2. https://stackoverflow.com/questions/45721084/regex-to-allow-alphanumeric-spaces-some-special-characters\r\n\r\n 3. https://stackoverflow.com/questions/28848751/java-space-and-newline-regex-for-split\r\n\r\n**My regex is as follow :**\r\n\r\n    (?=^.{8,16}$)(?=.*[\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|])(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\!\\&quot;\\#\\$\\%\\&amp;\\&#39;\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|]]*$\r\n\r\n\r\nI just want to add space in this. I have tried **`\\s`** and **`[ ]?`** but nothing works. \r\n\r\nI have checked the `regex` on https://regex101.com/\r\n\r\nAny suggestions would be appreciated.","title":"Regex pattern to allow space","body":"<p>I have one regex which allows one Upper case, one Lower case, 8-16 characters and Most <strong>special characters including space</strong>. I want add allow space in the regex. </p>\n\n<p><strong>I have tried :</strong> </p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/5753142/blank-spaces-in-regular-expression\">Blank spaces in regular expression</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/45721084/regex-to-allow-alphanumeric-spaces-some-special-characters\">Regex to allow alphanumeric, spaces, some special characters</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/28848751/java-space-and-newline-regex-for-split\">Java space and newline regex for split</a></p></li>\n</ol>\n\n<p><strong>My regex is as follow :</strong></p>\n\n<pre><code>(?=^.{8,16}$)(?=.*[\\!\\\"\\#\\$\\%\\&amp;\\'\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|])(?=.*[a-z])(?=.*[A-Z])(?!.*\\s)[0-9a-zA-Z\\!\\\"\\#\\$\\%\\&amp;\\'\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\&lt;\\&gt;\\=\\?\\@\\[\\]\\{\\}\\\\\\\\\\^\\_\\`\\~\\|]]*$\n</code></pre>\n\n<p>I just want to add space in this. I have tried <strong><code>\\s</code></strong> and <strong><code>[ ]?</code></strong> but nothing works. </p>\n\n<p>I have checked the <code>regex</code> on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n\n<p>Any suggestions would be appreciated.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5572640,"reputation":5109,"user_id":4417306,"display_name":"Mark"},"score":0,"creation_date":1544008947,"post_id":53631127,"comment_id":94121668,"body_markdown":"What&#39;s the value of `statement`?","body":"What&#39;s the value of <code>statement</code>?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1544009031,"post_id":53631127,"comment_id":94121715,"body_markdown":"Try `statement.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;)`, see [demo](https://ideone.com/A2dkVn).","body":"Try <code>statement.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;)</code>, see <a href=\"https://ideone.com/A2dkVn\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":1297710,"reputation":33,"user_id":8922126,"display_name":"MaximV"},"score":0,"creation_date":1544009089,"post_id":53631127,"comment_id":94121748,"body_markdown":"it will be a query as u can see from the test. (i.e. select length(x) from table y)","body":"it will be a query as u can see from the test. (i.e. select length(x) from table y)"},{"owner":{"account_id":1297710,"reputation":33,"user_id":8922126,"display_name":"MaximV"},"score":0,"creation_date":1544009295,"post_id":53631127,"comment_id":94121882,"body_markdown":"thanks - Wiktor solution worked!","body":"thanks - Wiktor solution worked!"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544010961,"creation_date":1544010961,"answer_id":53631773,"question_id":53631127,"body_markdown":"I suggest simplifying the solution to a single `replaceAll` call, that will replace all matches inline and won&#39;t cause any trouble like the one you are having:\r\n\r\n    statement = statement.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;);\r\n\r\nSee the [regex](https://regex101.com/r/Uq93by/1) and  [Java demo][1].\r\n\r\n    String s = &quot;select *,length(devise) lendevise,length(marche)  lenmarche,length(nature) lennature from tableX where nseq=&#39;0&#39;&quot;;\r\n\tSystem.out.println(s.replaceAll(&quot;length\\\\(([a-zA-Z]+)\\\\)&quot;, &quot;LEN($1)&quot;));\r\n    // =&gt; select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq=&#39;0&#39;\r\n\r\nNote that `([a-zA-Z]+)` forms a numbered capturing group whose value is later accessed by use of a `$1` placeholder (or a replacement backreference).\r\n\r\n  [1]: https://ideone.com/A2dkVn","title":"java regex matcher.replaceAll with groups","body":"<p>I suggest simplifying the solution to a single <code>replaceAll</code> call, that will replace all matches inline and won't cause any trouble like the one you are having:</p>\n\n<pre><code>statement = statement.replaceAll(\"length\\\\(([a-zA-Z]+)\\\\)\", \"LEN($1)\");\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/Uq93by/1\" rel=\"nofollow noreferrer\">regex</a> and  <a href=\"https://ideone.com/A2dkVn\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n\n<pre><code>String s = \"select *,length(devise) lendevise,length(marche)  lenmarche,length(nature) lennature from tableX where nseq='0'\";\nSystem.out.println(s.replaceAll(\"length\\\\(([a-zA-Z]+)\\\\)\", \"LEN($1)\"));\n// =&gt; select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq='0'\n</code></pre>\n\n<p>Note that <code>([a-zA-Z]+)</code> forms a numbered capturing group whose value is later accessed by use of a <code>$1</code> placeholder (or a replacement backreference).</p>\n"}],"owner":{"account_id":1297710,"reputation":33,"user_id":8922126,"display_name":"MaximV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53631773,"answer_count":1,"score":3,"last_activity_date":1693139747,"creation_date":1544008825,"question_id":53631127,"body_markdown":"I&#39;m trying to replace one syntax with another and i&#39;m doing this through regex expressions where I would like to replace with one pattern with another.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;length\\\\((?&lt;field&gt;[a-zA-Z]+)\\\\)&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(statement);\r\n    \r\n    if (matcher.find())\r\n               statement = matcher.replaceAll(&quot;LEN(&quot; + matcher.group(&quot;field&quot;) + &quot;)&quot;);\r\n            return statement;\r\n\r\nIt&#39;s a  simple thing where I would like to replace all (loop through) the matches and replace them with another text. however i&#39;m struggling with having the group iterate aswell dynamically.\r\n\r\n&gt; **Expected** :select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq=&#39;0&#39;\r\n&gt; \r\n&gt; **Actual**   :select *,LEN(devise) lendevise,LEN(devise) lenmarche,LEN(devise) lennature from tableX where nseq=&#39;0&#39;\r\n\r\nSo as u can notice here. the group value is always replaced by the group of the first match instead of the respective match which is being replaced?\r\n\r\nIs there an efficient &quot;best&quot; way of doing this? I would like to avoid (if possible) to put the different groups in an separate arrays.\r\n","title":"java regex matcher.replaceAll with groups","body":"<p>I'm trying to replace one syntax with another and i'm doing this through regex expressions where I would like to replace with one pattern with another.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"length\\\\((?&lt;field&gt;[a-zA-Z]+)\\\\)\", Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(statement);\n\nif (matcher.find())\n           statement = matcher.replaceAll(\"LEN(\" + matcher.group(\"field\") + \")\");\n        return statement;\n</code></pre>\n\n<p>It's a  simple thing where I would like to replace all (loop through) the matches and replace them with another text. however i'm struggling with having the group iterate aswell dynamically.</p>\n\n<blockquote>\n  <p><strong>Expected</strong> :select *,LEN(devise) lendevise,LEN(marche) lenmarche,LEN(nature) lennature from tableX where nseq='0'</p>\n  \n  <p><strong>Actual</strong>   :select *,LEN(devise) lendevise,LEN(devise) lenmarche,LEN(devise) lennature from tableX where nseq='0'</p>\n</blockquote>\n\n<p>So as u can notice here. the group value is always replaced by the group of the first match instead of the respective match which is being replaced?</p>\n\n<p>Is there an efficient \"best\" way of doing this? I would like to avoid (if possible) to put the different groups in an separate arrays.</p>\n"},{"tags":["java","android","android-package-managers"],"owner":{"account_id":29308306,"reputation":1,"user_id":22454778,"display_name":"RiDo12433"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693138943,"creation_date":1693138943,"question_id":76987095,"body_markdown":"When I try to read the application label of other apps with the package manager, I get a Resources.NotFoundException. The interesting part is, that the exception only appears sometimes, meaning the code works for some re-installations but not for all. \r\n\r\nBelow is the code fragment that throws the exception (I try to catch it but that doesn&#39;t work either).\r\n\r\n```\r\n public static void collectInstalledApps(Context context) {\r\n        PackageManager packageManager = context.getPackageManager();\r\n        List&lt;ApplicationInfo&gt; packages = packageManager.getInstalledApplications(PackageManager.GET_META_DATA);\r\n        Log.d(&quot;APPS&quot;, &quot;Appl Info Size &quot; + packages.size());\r\n        Set&lt;String&gt; oldApps = AppSettings.INSTALLED_APPS.keySet();\r\n        Log.d(&quot;APPS&quot;, &quot;old apps: &quot; + oldApps);\r\n        Set&lt;String&gt; newApps = new HashSet&lt;&gt;();\r\n        AppSettings.INSTALLED_APPS = new HashMap&lt;&gt;();\r\n\r\n        for(ApplicationInfo ai : packages) {\r\n            String packageName = ai.packageName;\r\n            String name = packageName;\r\n            try {\r\n                name = packageManager.getApplicationLabel(ai).toString();\r\n            } catch (android.content.res.Resources.NotFoundException e) {\r\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Not found name: &quot; + packageName);\r\n                //TODO fix\r\n            } catch (RuntimeException exception) {\r\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Other exception:  &quot; + packageName);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThis is the exception:\r\n\r\n```\r\n2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus E/mple.focuspocus: Resource 7f120059 is a complex map type.\r\n2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus W/PackageManager: Failure retrieving text 0x7f120059 in package com.kiloo.subwaysurf\r\n    android.content.res.Resources$NotFoundException: String resource ID #0x7f120059\r\n        at android.content.res.Resources.getText(Resources.java:453)\r\n        at android.app.ApplicationPackageManager.getText(ApplicationPackageManager.java:2336)\r\n        at android.content.pm.PackageItemInfo.loadUnsafeLabel(PackageItemInfo.java:222)\r\n        at android.content.pm.PackageItemInfo.loadLabel(PackageItemInfo.java:212)\r\n        at android.app.ApplicationPackageManager.getApplicationLabel(ApplicationPackageManager.java:2380)\r\n        at com.example.focuspocus.settings.AppSettings.collectInstalledApps(AppSettings.java:369)\r\n        at com.example.focuspocus.home.HomeActivity.onCreate(HomeActivity.java:70)\r\n        at android.app.Activity.performCreate(Activity.java:8342)\r\n        at android.app.Activity.performCreate(Activity.java:8321)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3625)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3781)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2306)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7918)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\n","title":"Android PackageManager: Resources.NotFoundException thrown when trying to read application label","body":"<p>When I try to read the application label of other apps with the package manager, I get a Resources.NotFoundException. The interesting part is, that the exception only appears sometimes, meaning the code works for some re-installations but not for all.</p>\n<p>Below is the code fragment that throws the exception (I try to catch it but that doesn't work either).</p>\n<pre><code> public static void collectInstalledApps(Context context) {\n        PackageManager packageManager = context.getPackageManager();\n        List&lt;ApplicationInfo&gt; packages = packageManager.getInstalledApplications(PackageManager.GET_META_DATA);\n        Log.d(&quot;APPS&quot;, &quot;Appl Info Size &quot; + packages.size());\n        Set&lt;String&gt; oldApps = AppSettings.INSTALLED_APPS.keySet();\n        Log.d(&quot;APPS&quot;, &quot;old apps: &quot; + oldApps);\n        Set&lt;String&gt; newApps = new HashSet&lt;&gt;();\n        AppSettings.INSTALLED_APPS = new HashMap&lt;&gt;();\n\n        for(ApplicationInfo ai : packages) {\n            String packageName = ai.packageName;\n            String name = packageName;\n            try {\n                name = packageManager.getApplicationLabel(ai).toString();\n            } catch (android.content.res.Resources.NotFoundException e) {\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Not found name: &quot; + packageName);\n                //TODO fix\n            } catch (RuntimeException exception) {\n                Log.d(&quot;PACKAGE_MANAGER&quot;, &quot;Other exception:  &quot; + packageName);\n            }\n        }\n    }\n</code></pre>\n<p>This is the exception:</p>\n<pre><code>2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus E/mple.focuspocus: Resource 7f120059 is a complex map type.\n2023-09-10 23:56:14.491 20524-20524/com.example.focuspocus W/PackageManager: Failure retrieving text 0x7f120059 in package com.kiloo.subwaysurf\n    android.content.res.Resources$NotFoundException: String resource ID #0x7f120059\n        at android.content.res.Resources.getText(Resources.java:453)\n        at android.app.ApplicationPackageManager.getText(ApplicationPackageManager.java:2336)\n        at android.content.pm.PackageItemInfo.loadUnsafeLabel(PackageItemInfo.java:222)\n        at android.content.pm.PackageItemInfo.loadLabel(PackageItemInfo.java:212)\n        at android.app.ApplicationPackageManager.getApplicationLabel(ApplicationPackageManager.java:2380)\n        at com.example.focuspocus.settings.AppSettings.collectInstalledApps(AppSettings.java:369)\n        at com.example.focuspocus.home.HomeActivity.onCreate(HomeActivity.java:70)\n        at android.app.Activity.performCreate(Activity.java:8342)\n        at android.app.Activity.performCreate(Activity.java:8321)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3625)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3781)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:138)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2306)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7918)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n"},{"tags":["java","collections","arraylist","hashmap"],"comments":[{"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":4,"creation_date":1267961877,"post_id":2395814,"comment_id":2375375,"body_markdown":"Not only in Java ... &quot;in general&quot;!","body":"Not only in Java ... &quot;in general&quot;!"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1267955634,"creation_date":1267955634,"answer_id":2395831,"question_id":2395814,"body_markdown":"Use a list for an ordered collection of just values. For example, you might have a list of files to process.\r\n\r\nUse a map for a (usually unordered) mapping from key to value. For example, you might have a map from a user ID to the details of that user, so you can efficiently find the details given just the ID. (You *could* implement the `Map` interface by just storing a list of keys and a list of values, but generally there&#39;ll be a more efficient implementation - `HashMap` uses a hash table internally to get amortised O(1) key lookup, for example.)","title":"Difference between HashMap and ArrayList in Java?","body":"<p>Use a list for an ordered collection of just values. For example, you might have a list of files to process.</p>\n\n<p>Use a map for a (usually unordered) mapping from key to value. For example, you might have a map from a user ID to the details of that user, so you can efficiently find the details given just the ID. (You <em>could</em> implement the <code>Map</code> interface by just storing a list of keys and a list of values, but generally there'll be a more efficient implementation - <code>HashMap</code> uses a hash table internally to get amortised O(1) key lookup, for example.)</p>\n"},{"comments":[{"owner":{"account_id":1241243,"reputation":10858,"user_id":1203797,"accept_rate":66,"display_name":"Blaze Tama"},"score":0,"creation_date":1418355716,"post_id":2395852,"comment_id":43313605,"body_markdown":"i added the information in the link because it might be dead later.","body":"i added the information in the link because it might be dead later."}],"tags":[],"owner":{"account_id":19015,"reputation":16929,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1418355647,"creation_date":1267956087,"answer_id":2395852,"question_id":2395814,"body_markdown":"Not really a Java specific question. It seems you need a &quot;primer&quot; on data structures. Try googling &quot;What data structure should you use&quot;\r\n\r\nTry this link http://www.devx.com/tips/Tip/14639\r\n\r\nFrom the link :\r\n\r\nFollowing are some tips for matching the most commonly used data structures with particular needs.\r\n\r\n1. When to use a Hashtable?\r\n\r\nA hashtable, or similar data structures, are good candidates if the stored data is to be accessed in the form of key-value pairs. For instance, if you were fetching the name of an employee, the result can be returned in the form of a hashtable as a (name, value) pair. However, if you were to return names of multiple employees, returning a hashtable directly would not be a good idea. Remember that the keys have to be unique or your previous value(s) will get overwritten.\r\n\r\n2. When to use a List or Vector?\r\n\r\nThis is a good option when you desire sequential or even random access. Also, if data size is unknown initially, and/or is going to grow dynamically, it would be appropriate to use a List or Vector. For instance, to store the results of a JDBC ResultSet, you can use the java.util.LinkedList. Whereas, if you are looking for a resizable array, use the java.util.ArrayList class.\r\n\r\n3. When to use Arrays?\r\n\r\nNever underestimate arrays. Most of the time, when we have to use a list of objects, we tend to think about using vectors or lists. However, if the size of collection is already known and is not going to change, an array can be considered as the potential data structure. It&#39;s faster to access elements of an array than a vector or a list. That&#39;s obvious, because all you need is an index. There&#39;s no overhead of an additional get method call.\r\n\r\n4.Combinations\r\n\r\nSometimes, it may be best to use a combination of the above approaches. For example, you could use a list of hashtables to suit a particular need.\r\n\r\n4. Set Classes\r\n\r\nAnd from JDK 1.2 onwards, you also have set classes like java.util.TreeSet, which is useful for sorted sets that do not have duplicates. One of the best things about these classes is they all abide by certain interface so that you don&#39;t really have to worry about the specifics. For e.g., take a look at the following code.\r\n \r\n\r\n      // ...\r\n      List list = new ArrayList();\r\n      list.add(","title":"Difference between HashMap and ArrayList in Java?","body":"<p>Not really a Java specific question. It seems you need a \"primer\" on data structures. Try googling \"What data structure should you use\"</p>\n\n<p>Try this link <a href=\"http://www.devx.com/tips/Tip/14639\" rel=\"noreferrer\">http://www.devx.com/tips/Tip/14639</a></p>\n\n<p>From the link :</p>\n\n<p>Following are some tips for matching the most commonly used data structures with particular needs.</p>\n\n<ol>\n<li>When to use a Hashtable?</li>\n</ol>\n\n<p>A hashtable, or similar data structures, are good candidates if the stored data is to be accessed in the form of key-value pairs. For instance, if you were fetching the name of an employee, the result can be returned in the form of a hashtable as a (name, value) pair. However, if you were to return names of multiple employees, returning a hashtable directly would not be a good idea. Remember that the keys have to be unique or your previous value(s) will get overwritten.</p>\n\n<ol start=\"2\">\n<li>When to use a List or Vector?</li>\n</ol>\n\n<p>This is a good option when you desire sequential or even random access. Also, if data size is unknown initially, and/or is going to grow dynamically, it would be appropriate to use a List or Vector. For instance, to store the results of a JDBC ResultSet, you can use the java.util.LinkedList. Whereas, if you are looking for a resizable array, use the java.util.ArrayList class.</p>\n\n<ol start=\"3\">\n<li>When to use Arrays?</li>\n</ol>\n\n<p>Never underestimate arrays. Most of the time, when we have to use a list of objects, we tend to think about using vectors or lists. However, if the size of collection is already known and is not going to change, an array can be considered as the potential data structure. It's faster to access elements of an array than a vector or a list. That's obvious, because all you need is an index. There's no overhead of an additional get method call.</p>\n\n<p>4.Combinations</p>\n\n<p>Sometimes, it may be best to use a combination of the above approaches. For example, you could use a list of hashtables to suit a particular need.</p>\n\n<ol start=\"4\">\n<li>Set Classes</li>\n</ol>\n\n<p>And from JDK 1.2 onwards, you also have set classes like java.util.TreeSet, which is useful for sorted sets that do not have duplicates. One of the best things about these classes is they all abide by certain interface so that you don't really have to worry about the specifics. For e.g., take a look at the following code.</p>\n\n<pre><code>  // ...\n  List list = new ArrayList();\n  list.add(\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1501570379,"creation_date":1267956262,"answer_id":2395862,"question_id":2395814,"body_markdown":"If you use an `ArrayList`, you have to access the elements with an index (`int` type). With a `HashMap`, you can access them by an index of another type (for example, a `String`)\r\n\r\n    HashMap&lt;String, Book&gt; books = new HashMap&lt;String, Book&gt;();\r\n    // String is the type of the index (the key)\r\n    // and Book is the type of the elements (the values)\r\n    // Like with an arraylist: ArrayList&lt;Book&gt; books = ...;\r\n\r\n    // Now you have to store the elements with a string key:\r\n    books.put(&quot;Harry Potter III&quot;, new Book(&quot;JK Rownling&quot;, 456, &quot;Harry Potter&quot;));\r\n\r\n    // Now you can access the elements by using a String index\r\n    Book book = books.get(&quot;Harry Potter III&quot;);\r\n\r\nThis is impossible (or much more difficult) with an `ArrayList`. The only good way to access elements in an `ArrayList` is by getting the elements by their index-number.\r\n\r\nSo, this means that with a `HashMap` you can use every type of key you want.\r\n\r\nAnother helpful example is in a game: you have a set of images, and you want to flip them. So, you write a image-flip method, and then store the flipped results:\r\n\r\n    HashMap&lt;BufferedImage, BufferedImage&gt; flipped = new HashMap&lt;BufferedImage, BufferedImage&gt;();\r\n    BufferedImage player = ...; // On this image the player walks to the left.\r\n    BufferedImage flippedPlayer = flip(player); // On this image the player walks to the right.\r\n    flipped.put(player, flippedPlayer);\r\n    // Now you can access the flipped instance by doing this:\r\n    flipped.get(player);\r\n\r\nYou flipped player once, and then store it. You can access a `BufferedImage` with a `BufferedImage` as key-type for the `HashMap`.\r\n\r\nI hope you understand my second example.\r\n\r\n    ","title":"Difference between HashMap and ArrayList in Java?","body":"<p>If you use an <code>ArrayList</code>, you have to access the elements with an index (<code>int</code> type). With a <code>HashMap</code>, you can access them by an index of another type (for example, a <code>String</code>)</p>\n\n<pre><code>HashMap&lt;String, Book&gt; books = new HashMap&lt;String, Book&gt;();\n// String is the type of the index (the key)\n// and Book is the type of the elements (the values)\n// Like with an arraylist: ArrayList&lt;Book&gt; books = ...;\n\n// Now you have to store the elements with a string key:\nbooks.put(\"Harry Potter III\", new Book(\"JK Rownling\", 456, \"Harry Potter\"));\n\n// Now you can access the elements by using a String index\nBook book = books.get(\"Harry Potter III\");\n</code></pre>\n\n<p>This is impossible (or much more difficult) with an <code>ArrayList</code>. The only good way to access elements in an <code>ArrayList</code> is by getting the elements by their index-number.</p>\n\n<p>So, this means that with a <code>HashMap</code> you can use every type of key you want.</p>\n\n<p>Another helpful example is in a game: you have a set of images, and you want to flip them. So, you write a image-flip method, and then store the flipped results:</p>\n\n<pre><code>HashMap&lt;BufferedImage, BufferedImage&gt; flipped = new HashMap&lt;BufferedImage, BufferedImage&gt;();\nBufferedImage player = ...; // On this image the player walks to the left.\nBufferedImage flippedPlayer = flip(player); // On this image the player walks to the right.\nflipped.put(player, flippedPlayer);\n// Now you can access the flipped instance by doing this:\nflipped.get(player);\n</code></pre>\n\n<p>You flipped player once, and then store it. You can access a <code>BufferedImage</code> with a <code>BufferedImage</code> as key-type for the <code>HashMap</code>.</p>\n\n<p>I hope you understand my second example.</p>\n"},{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"comment_count":0,"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1267958863,"creation_date":1267958863,"answer_id":2395965,"question_id":2395814,"body_markdown":"You are asking specifically about ArrayList and HashMap, but I think to fully understand what is going on you have to understand the Collections framework.  So an ArrayList implements the List interface and a HashMap implements the Map interface.  So the real question is when do you want to use a List and when do you want to use a Map.  This is where the Java API documentation helps a lot.\r\n\r\nList:\r\n\r\n&gt; An ordered collection (also known as a\r\n&gt; sequence). The user of this interface\r\n&gt; has precise control over where in the\r\n&gt; list each element is inserted. The\r\n&gt; user can access elements by their\r\n&gt; integer index (position in the list),\r\n&gt; and search for elements in the list.\r\n\r\nMap:\r\n\r\n&gt; An object that maps keys to values. A\r\n&gt; map cannot contain duplicate keys;\r\n&gt; each key can map to at most one value.\r\n\r\nSo as other answers have discussed, the list interface (ArrayList) is an ordered collection of objects that you access using an index, much like an array (well in the case of ArrayList, as the name suggests, it is just an array in the background, but a lot of the details of dealing with the array are handled for you).  You would use an ArrayList when you want to keep things in sorted order (the order they are added, or indeed the position within the list that you specify when you add the object).\r\n\r\nA Map on the other hand takes one object and uses that as a key (index) to another object (the value).  So lets say you have objects which have unique IDs, and you know you are going to want to access these objects by ID at some point, the Map will make this very easy on you (and quicker/more efficient).  The HashMap implementation uses the hash value of the key object to locate where it is stored, so there is no guarentee of the order of the values anymore.  There are however other classes in the Java API that can provide this, e.g. LinkedHashMap, which as well as using a hash table to store the key/value pairs, also maintains a List (LinkedList) of the keys in the order they were added, so you can always access the items again in the order they were added (if needed).","title":"Difference between HashMap and ArrayList in Java?","body":"<p>You are asking specifically about ArrayList and HashMap, but I think to fully understand what is going on you have to understand the Collections framework.  So an ArrayList implements the List interface and a HashMap implements the Map interface.  So the real question is when do you want to use a List and when do you want to use a Map.  This is where the Java API documentation helps a lot.</p>\n\n<p>List:</p>\n\n<blockquote>\n  <p>An ordered collection (also known as a\n  sequence). The user of this interface\n  has precise control over where in the\n  list each element is inserted. The\n  user can access elements by their\n  integer index (position in the list),\n  and search for elements in the list.</p>\n</blockquote>\n\n<p>Map:</p>\n\n<blockquote>\n  <p>An object that maps keys to values. A\n  map cannot contain duplicate keys;\n  each key can map to at most one value.</p>\n</blockquote>\n\n<p>So as other answers have discussed, the list interface (ArrayList) is an ordered collection of objects that you access using an index, much like an array (well in the case of ArrayList, as the name suggests, it is just an array in the background, but a lot of the details of dealing with the array are handled for you).  You would use an ArrayList when you want to keep things in sorted order (the order they are added, or indeed the position within the list that you specify when you add the object).</p>\n\n<p>A Map on the other hand takes one object and uses that as a key (index) to another object (the value).  So lets say you have objects which have unique IDs, and you know you are going to want to access these objects by ID at some point, the Map will make this very easy on you (and quicker/more efficient).  The HashMap implementation uses the hash value of the key object to locate where it is stored, so there is no guarentee of the order of the values anymore.  There are however other classes in the Java API that can provide this, e.g. LinkedHashMap, which as well as using a hash table to store the key/value pairs, also maintains a List (LinkedList) of the keys in the order they were added, so you can always access the items again in the order they were added (if needed).</p>\n"},{"tags":[],"owner":{"account_id":1433603,"reputation":61,"user_id":1355450,"display_name":"maxmcbyte"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1335339726,"creation_date":1335339726,"answer_id":10311393,"question_id":2395814,"body_markdown":"A Map vs a List.\r\n\r\nIn a Map, you have key/value pairs. To access a value you need to know the key. There is a relationship that exists between the key and the value that persists and is not arbitrary. They are related somehow. Example: A persons DNA is unique (the key) and a persons name (the value) or a persons SSN (the key) and a persons name (the value) there is a strong relationship.\r\n\r\nIn a List, all you have are values (a persons name), and to access it you need to know its position in the list (index) to access it. But there is no permanent relationship between the position of the value in the list and its index, it is arbitrary.\r\n","title":"Difference between HashMap and ArrayList in Java?","body":"<p>A Map vs a List.</p>\n\n<p>In a Map, you have key/value pairs. To access a value you need to know the key. There is a relationship that exists between the key and the value that persists and is not arbitrary. They are related somehow. Example: A persons DNA is unique (the key) and a persons name (the value) or a persons SSN (the key) and a persons name (the value) there is a strong relationship.</p>\n\n<p>In a List, all you have are values (a persons name), and to access it you need to know its position in the list (index) to access it. But there is no permanent relationship between the position of the value in the list and its index, it is arbitrary.</p>\n"},{"tags":[],"owner":{"account_id":6177072,"reputation":2304,"user_id":4813631,"accept_rate":100,"display_name":"A.K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693138474,"creation_date":1693138474,"answer_id":76987066,"question_id":2395814,"body_markdown":"We should consider below point before using `ArrayList` and `HashMap`.\r\n\r\n**ArrayList**\r\n\r\n - The java `ArrayList` implements `List` Interface\r\n - `ArrayList` always maintain the insertion order of the elements\r\n - `ArrayList` only stores value or element\r\n - `ArrayList` can contain duplicate elements\r\n - We can have any number of null elements in `ArrayList`\r\n - `ArrayList` `get()` method always gives an `O(1)` performance\r\n\r\n**HashMap**\r\n\r\n - The java `HashMap` implements `Map` interface \r\n - `HashMap` does not maintain the insertion order.\r\n - `HashMap` stores key and value pairs \r\n - `HashMap` does not contain duplicate keys but contains duplicate values. \r\n - We can have only one null key and any number of null values in `HashMap` \r\n - `HashMap` `get()` method can be `O(1)` in the best case and `O(n)` in the worst case\r\n\r\n**Example:**\r\n\r\n    // Importing all utility classes\r\n    import java.util.*;\r\n    \r\n    // Main class\r\n    class Demo {\r\n    \tpublic static void main(String args[]) {\r\n    \t\t// Creating ArrayList of string type\r\n    \t\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t// Adding values in ArrayList using standard add() method\r\n    \t\tlist.add(&quot;A&quot;);\r\n    \t\tlist.add(null); // Adding first null value\r\n    \t\tlist.add(&quot;C&quot;);\r\n    \t\tlist.add(null); // Adding second null value\r\n    \t\tlist.add(null); // Adding third null value\r\n    \r\n    \t\t// Printing ArrayList object\r\n    \t\tSystem.out.println(&quot;ArrayList: &quot; + list);\r\n    \r\n    \t\t//Creating HashMap object of integer and string type\r\n    \t\tHashMap&lt;Integer, String&gt; hm = new HashMap&lt;Integer, String&gt;();\r\n    \r\n    \t\t// Adding value in HashMap using standard put method\r\n    \t\thm.put(1, &quot;A&quot;);\r\n    \t\thm.put(2, &quot;B&quot;);\r\n    \t\thm.put(null, &quot;C&quot;); // Adding first null key\r\n    \t\thm.put(null, null); // Again adding null key which replace value of first insert null key value\r\n    \t\thm.put(3, null); // Adding second null value with different key\r\n    \r\n    \t\t// Printing the elements of Hashmap\r\n    \t\tSystem.out.println(&quot;HashMap: &quot; + hm);\r\n    \t}\r\n    }\r\n\r\n**Output**\r\n\r\n    ArrayList: [A, null, C, null, null]\r\n    HashMap: {null=null, 1=A, 2=B, 3=null}\r\n\r\nIn above output we can see `ArrayList` contains duplicate `null` values and `Hashmap` contains duplicate `null` value but key is not duplicate.\r\n`HashMap` replace new value when we add value with some existing key.\r\n\r\nReference : https://www.geeksforgeeks.org/difference-between-arraylist-and-hashmap-in-java/","title":"Difference between HashMap and ArrayList in Java?","body":"<p>We should consider below point before using <code>ArrayList</code> and <code>HashMap</code>.</p>\n<p><strong>ArrayList</strong></p>\n<ul>\n<li>The java <code>ArrayList</code> implements <code>List</code> Interface</li>\n<li><code>ArrayList</code> always maintain the insertion order of the elements</li>\n<li><code>ArrayList</code> only stores value or element</li>\n<li><code>ArrayList</code> can contain duplicate elements</li>\n<li>We can have any number of null elements in <code>ArrayList</code></li>\n<li><code>ArrayList</code> <code>get()</code> method always gives an <code>O(1)</code> performance</li>\n</ul>\n<p><strong>HashMap</strong></p>\n<ul>\n<li>The java <code>HashMap</code> implements <code>Map</code> interface</li>\n<li><code>HashMap</code> does not maintain the insertion order.</li>\n<li><code>HashMap</code> stores key and value pairs</li>\n<li><code>HashMap</code> does not contain duplicate keys but contains duplicate values.</li>\n<li>We can have only one null key and any number of null values in <code>HashMap</code></li>\n<li><code>HashMap</code> <code>get()</code> method can be <code>O(1)</code> in the best case and <code>O(n)</code> in the worst case</li>\n</ul>\n<p><strong>Example:</strong></p>\n<pre><code>// Importing all utility classes\nimport java.util.*;\n\n// Main class\nclass Demo {\n    public static void main(String args[]) {\n        // Creating ArrayList of string type\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n        // Adding values in ArrayList using standard add() method\n        list.add(&quot;A&quot;);\n        list.add(null); // Adding first null value\n        list.add(&quot;C&quot;);\n        list.add(null); // Adding second null value\n        list.add(null); // Adding third null value\n\n        // Printing ArrayList object\n        System.out.println(&quot;ArrayList: &quot; + list);\n\n        //Creating HashMap object of integer and string type\n        HashMap&lt;Integer, String&gt; hm = new HashMap&lt;Integer, String&gt;();\n\n        // Adding value in HashMap using standard put method\n        hm.put(1, &quot;A&quot;);\n        hm.put(2, &quot;B&quot;);\n        hm.put(null, &quot;C&quot;); // Adding first null key\n        hm.put(null, null); // Again adding null key which replace value of first insert null key value\n        hm.put(3, null); // Adding second null value with different key\n\n        // Printing the elements of Hashmap\n        System.out.println(&quot;HashMap: &quot; + hm);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>ArrayList: [A, null, C, null, null]\nHashMap: {null=null, 1=A, 2=B, 3=null}\n</code></pre>\n<p>In above output we can see <code>ArrayList</code> contains duplicate <code>null</code> values and <code>Hashmap</code> contains duplicate <code>null</code> value but key is not duplicate.\n<code>HashMap</code> replace new value when we add value with some existing key.</p>\n<p>Reference : <a href=\"https://www.geeksforgeeks.org/difference-between-arraylist-and-hashmap-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/difference-between-arraylist-and-hashmap-in-java/</a></p>\n"}],"owner":{"account_id":103658,"reputation":20992,"user_id":277516,"accept_rate":77,"display_name":"Venkat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68199,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":2395965,"answer_count":6,"score":45,"last_activity_date":1693138474,"creation_date":1267955185,"question_id":2395814,"body_markdown":"In Java, `ArrayList` and `HashMap` are used as collections. But I couldn&#39;t understand in which situations we should use `ArrayList` and which times to use `HashMap`. What is the major difference between both of them?","title":"Difference between HashMap and ArrayList in Java?","body":"<p>In Java, <code>ArrayList</code> and <code>HashMap</code> are used as collections. But I couldn't understand in which situations we should use <code>ArrayList</code> and which times to use <code>HashMap</code>. What is the major difference between both of them?</p>\n"},{"tags":["java","spring-boot","postman","spring-restcontroller"],"answers":[{"comments":[{"owner":{"account_id":29289735,"reputation":1,"user_id":22440525,"display_name":"Sandhya"},"score":0,"creation_date":1692948035,"post_id":76975051,"comment_id":135696612,"body_markdown":"in github link i missed the @Requestbody but in my code i have specified that annotation but i don&#39;t know why it&#39;s still not working","body":"in github link i missed the @Requestbody but in my code i have specified that annotation but i don&#39;t know why it&#39;s still not working"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692948265,"post_id":76975051,"comment_id":135696663,"body_markdown":"in postman are you doing `POST` request with json raw ?","body":"in postman are you doing <code>POST</code> request with json raw ?"},{"owner":{"account_id":29289735,"reputation":1,"user_id":22440525,"display_name":"Sandhya"},"score":0,"creation_date":1692948610,"post_id":76975051,"comment_id":135696722,"body_markdown":"Yes i am sending post request with json raw only","body":"Yes i am sending post request with json raw only"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692947826,"creation_date":1692947826,"answer_id":76975051,"question_id":76968484,"body_markdown":"After some discussion in comments. To have an result in postman response body you should to do some changes.\r\n\r\nPost method in controller layer should have a `@RequestBody` annotation:\r\n\r\n    @PostMapping(&quot;/savePensionDetails&quot;)\r\n    public String savePension(@RequestBody PensionerDetail pensionerDetail) {\r\n    \treturn pensionService.savePensionDetails(pensionerDetail);\r\n    }\r\n\r\nIn postman with the object from comments that you wrote, i got next one result:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;sravani&quot;,\r\n      &quot;DOB&quot;: &quot;21/02/2001&quot;,\r\n      &quot;Pan&quot;: &quot;Pan&quot;,\r\n      &quot;salary&quot;: 123.24,\r\n      &quot;allowance&quot;: 22.12,\r\n      &quot;pension_class&quot;: &quot;pension&quot;,\r\n      &quot;bank&quot;: {\r\n        &quot;bank_name&quot;: &quot;sbi&quot;,\r\n        &quot;acc_num&quot;: 1234,\r\n        &quot;bank_type&quot;: &quot;govt&quot;\r\n      }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter all when i invoke the `/all` endpoint i`m going to have next one result:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/scHOK.png\r\n  [2]: https://i.stack.imgur.com/Mkqia.png","title":"Not getting Get method retun values in postman","body":"<p>After some discussion in comments. To have an result in postman response body you should to do some changes.</p>\n<p>Post method in controller layer should have a <code>@RequestBody</code> annotation:</p>\n<pre><code>@PostMapping(&quot;/savePensionDetails&quot;)\npublic String savePension(@RequestBody PensionerDetail pensionerDetail) {\n    return pensionService.savePensionDetails(pensionerDetail);\n}\n</code></pre>\n<p>In postman with the object from comments that you wrote, i got next one result:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;sravani&quot;,\n  &quot;DOB&quot;: &quot;21/02/2001&quot;,\n  &quot;Pan&quot;: &quot;Pan&quot;,\n  &quot;salary&quot;: 123.24,\n  &quot;allowance&quot;: 22.12,\n  &quot;pension_class&quot;: &quot;pension&quot;,\n  &quot;bank&quot;: {\n    &quot;bank_name&quot;: &quot;sbi&quot;,\n    &quot;acc_num&quot;: 1234,\n    &quot;bank_type&quot;: &quot;govt&quot;\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/scHOK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scHOK.png\" alt=\"enter image description here\" /></a></p>\n<p>After all when i invoke the <code>/all</code> endpoint i`m going to have next one result:</p>\n<p><a href=\"https://i.stack.imgur.com/Mkqia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mkqia.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29289735,"reputation":1,"user_id":22440525,"display_name":"Sandhya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693138350,"creation_date":1692873634,"question_id":76968484,"body_markdown":"Find My code below \r\n\r\n\r\nPensionerDetails.java\r\n```\r\npackage com.pension.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Embedded;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity \r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Table(name=&quot;pensioner_detail&quot;)\r\npublic class PensionerDetail {\r\n\r\n\t@Id\r\n\tprivate String aadhar;\r\n\tprivate String name;\r\n\tprivate String DOB;\r\n\tprivate String Pan;\r\n\tprivate Double salary;\r\n\tprivate Double allowance;\r\n\tprivate String pension_class;\r\n\t@Embedded\r\n\t@Column(name=&quot;bank&quot;)\r\n\tprivate Bank bank;\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;PensionerDetail [aadhar=&quot; + aadhar + &quot;, name=&quot; + name + &quot;, DOB=&quot; + DOB + &quot;, Pan=&quot; + Pan + &quot;, salary=&quot;\r\n\t\t\t\t+ salary + &quot;, allowance=&quot; + allowance + &quot;, pension_class=&quot; + pension_class + &quot;, bank=&quot; + bank + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nBank.java\r\n```\r\npackage com.pension.model;\r\n\r\n\r\n\r\nimport jakarta.persistence.Embeddable;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Embeddable\r\n@AllArgsConstructor\r\n@Data\r\n@NoArgsConstructor\r\npublic class Bank {\r\n\t\r\n\tprivate String bank_name;\r\n\tprivate long acc_num;\r\n\tprivate String bank_type;\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Bank [bank_name=&quot; + bank_name + &quot;, acc_num=&quot; + acc_num + &quot;, bank_type=&quot; + bank_type + &quot;]&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nPensionrepo.java\r\n\r\n```\r\npackage com.pension.repository;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.pension.model.PensionerDetail;\r\n\r\n@Repository\r\npublic interface Pensionrepo extends JpaRepository&lt;PensionerDetail, String&gt;{\r\n//\r\n//\t@Query(&quot;select p1_0.aadhar,p1_0.DOB,p1_0.Pan,p1_0.allowance,p1_0.acc_num,p1_0.bank_name,p1_0.bank_type,p1_0.name,p1_0.pension_class,p1_0.salary from PensionerDetail p1_0 where p1_0.aadhar=?1&quot;)\r\n\tpublic List&lt;PensionerDetail&gt; findByAadhar(String adhar);\r\n\r\n}\r\n```\r\n\r\nPensionService.java\r\n\r\n```\r\npackage com.pension.service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.pension.model.PensionerDetail;\r\nimport com.pension.repository.Pensionrepo;\r\n\r\n@Service\r\npublic class PensionService {\r\n\t\r\n\t@Autowired\r\n\tprivate Pensionrepo pensionrepo;\r\n\r\npublic String savePensionDetails(PensionerDetail pensionerDetail) {\r\n\t\tpensionrepo.save(pensionerDetail);\r\n\t\treturn &quot;PensionDetails are saved successfully&quot;;\r\n\t}\r\n\r\n\tpublic Optional&lt;PensionerDetail&gt; getPensionByAadhar(String Aadhar) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(pensionrepo.findById(Aadhar));\r\n\t\treturn pensionrepo.findById(Aadhar);\r\n\t}\r\n\r\n\tpublic List&lt;PensionerDetail&gt; pensionerDetails() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn pensionrepo.findAll();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nPensionController.java\r\n\r\n```\r\npackage com.pension.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.pension.model.PensionerDetail;\r\nimport com.pension.service.PensionService;\r\n\r\n@RestController\r\npublic class PensionController {\r\n\r\n\t\r\n\t@Autowired\r\n\tprivate PensionService pensionService;\r\n\t\r\n\r\n@PostMapping(&quot;/savePensionDetails&quot;)\r\n\tpublic String savePension( @RequestBody PensionerDetail pensionerDetail) {\r\n\t\treturn pensionService.savePensionDetails(pensionerDetail);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/getByAadhar/{aadhar}&quot;)\r\n\tpublic Optional&lt;PensionerDetail&gt; getPensionByAadhar(@PathVariable String aadhar) {\r\n\t\treturn pensionService.getPensionByAadhar(aadhar);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/all&quot;)\r\n\tpublic List&lt;PensionerDetail&gt; pensionerDetails(){\r\n\t\tSystem.out.println(pensionService.pensionerDetails());\r\n\t\treturn pensionService.pensionerDetails();\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost/pension\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\n```\r\n\r\n\r\n\r\n[Find my mysql table detals here](https://i.stack.imgur.com/HBM1B.png)\r\n\r\nI have created table and inserted values but when i am calling GetMapping methods i am able to see data in console but in post man it&#39;s just showing empty list. Can someone help me with this i just started learning spring.\r\n\r\nI am expecting solution to my problem because in console i can see the data then why it&#39;s not printing the data in postman.\r\n\r\n[Postman image][1]\r\n\r\n\r\nAnd For PostMapping Request i am getting this error [error][2]\r\n\r\nThis is how i am passing values in postman [postman postmapping][3]\r\n\r\n\r\n[while executing mvn clean compile i am getting build failure][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NN3PB.png\r\n  [2]: https://i.stack.imgur.com/y7uWt.png\r\n  [3]: https://i.stack.imgur.com/5dMaU.png\r\n  [4]: https://i.stack.imgur.com/yajby.png","title":"Not getting Get method retun values in postman","body":"<p>Find My code below</p>\n<p>PensionerDetails.java</p>\n<pre><code>package com.pension.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Embedded;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity \n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table(name=&quot;pensioner_detail&quot;)\npublic class PensionerDetail {\n\n    @Id\n    private String aadhar;\n    private String name;\n    private String DOB;\n    private String Pan;\n    private Double salary;\n    private Double allowance;\n    private String pension_class;\n    @Embedded\n    @Column(name=&quot;bank&quot;)\n    private Bank bank;\n    \n    @Override\n    public String toString() {\n        return &quot;PensionerDetail [aadhar=&quot; + aadhar + &quot;, name=&quot; + name + &quot;, DOB=&quot; + DOB + &quot;, Pan=&quot; + Pan + &quot;, salary=&quot;\n                + salary + &quot;, allowance=&quot; + allowance + &quot;, pension_class=&quot; + pension_class + &quot;, bank=&quot; + bank + &quot;]&quot;;\n    }\n    \n    \n    \n}\n\n</code></pre>\n<p>Bank.java</p>\n<pre><code>package com.pension.model;\n\n\n\nimport jakarta.persistence.Embeddable;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Embeddable\n@AllArgsConstructor\n@Data\n@NoArgsConstructor\npublic class Bank {\n    \n    private String bank_name;\n    private long acc_num;\n    private String bank_type;\n    @Override\n    public String toString() {\n        return &quot;Bank [bank_name=&quot; + bank_name + &quot;, acc_num=&quot; + acc_num + &quot;, bank_type=&quot; + bank_type + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Pensionrepo.java</p>\n<pre><code>package com.pension.repository;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport com.pension.model.PensionerDetail;\n\n@Repository\npublic interface Pensionrepo extends JpaRepository&lt;PensionerDetail, String&gt;{\n//\n//  @Query(&quot;select p1_0.aadhar,p1_0.DOB,p1_0.Pan,p1_0.allowance,p1_0.acc_num,p1_0.bank_name,p1_0.bank_type,p1_0.name,p1_0.pension_class,p1_0.salary from PensionerDetail p1_0 where p1_0.aadhar=?1&quot;)\n    public List&lt;PensionerDetail&gt; findByAadhar(String adhar);\n\n}\n</code></pre>\n<p>PensionService.java</p>\n<pre><code>package com.pension.service;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.pension.model.PensionerDetail;\nimport com.pension.repository.Pensionrepo;\n\n@Service\npublic class PensionService {\n    \n    @Autowired\n    private Pensionrepo pensionrepo;\n\npublic String savePensionDetails(PensionerDetail pensionerDetail) {\n        pensionrepo.save(pensionerDetail);\n        return &quot;PensionDetails are saved successfully&quot;;\n    }\n\n    public Optional&lt;PensionerDetail&gt; getPensionByAadhar(String Aadhar) {\n        // TODO Auto-generated method stub\n        System.out.println(pensionrepo.findById(Aadhar));\n        return pensionrepo.findById(Aadhar);\n    }\n\n    public List&lt;PensionerDetail&gt; pensionerDetails() {\n        // TODO Auto-generated method stub\n        return pensionrepo.findAll();\n    }\n}\n</code></pre>\n<p>PensionController.java</p>\n<pre><code>package com.pension.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.pension.model.PensionerDetail;\nimport com.pension.service.PensionService;\n\n@RestController\npublic class PensionController {\n\n    \n    @Autowired\n    private PensionService pensionService;\n    \n\n@PostMapping(&quot;/savePensionDetails&quot;)\n    public String savePension( @RequestBody PensionerDetail pensionerDetail) {\n        return pensionService.savePensionDetails(pensionerDetail);\n    }\n    \n    @GetMapping(&quot;/getByAadhar/{aadhar}&quot;)\n    public Optional&lt;PensionerDetail&gt; getPensionByAadhar(@PathVariable String aadhar) {\n        return pensionService.getPensionByAadhar(aadhar);\n    }\n    \n    @GetMapping(&quot;/all&quot;)\n    public List&lt;PensionerDetail&gt; pensionerDetails(){\n        System.out.println(pensionService.pensionerDetails());\n        return pensionService.pensionerDetails();\n    }\n}\n\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/pension\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\n\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.show-sql=true\nspring.jpa.defer-datasource-initialization=true\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HBM1B.png\" rel=\"nofollow noreferrer\">Find my mysql table detals here</a></p>\n<p>I have created table and inserted values but when i am calling GetMapping methods i am able to see data in console but in post man it's just showing empty list. Can someone help me with this i just started learning spring.</p>\n<p>I am expecting solution to my problem because in console i can see the data then why it's not printing the data in postman.</p>\n<p><a href=\"https://i.stack.imgur.com/NN3PB.png\" rel=\"nofollow noreferrer\">Postman image</a></p>\n<p>And For PostMapping Request i am getting this error <a href=\"https://i.stack.imgur.com/y7uWt.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>This is how i am passing values in postman <a href=\"https://i.stack.imgur.com/5dMaU.png\" rel=\"nofollow noreferrer\">postman postmapping</a></p>\n<p><a href=\"https://i.stack.imgur.com/yajby.png\" rel=\"nofollow noreferrer\">while executing mvn clean compile i am getting build failure</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693137933,"creation_date":1693137933,"answer_id":76987027,"question_id":76983664,"body_markdown":"After a couple of frustrating hours, I&#39;ve finally managed to get `TestRestTemplate` working again. I&#39;ve noticed that in the headers I was receiving, along with the `302 FOUND` and `null` body response, that the `Location` header would always be redirected to `https` URI.\r\n\r\nI&#39;ve said that in tests I disabled the HTTPS protocol, however I forgot to disable a bean that I used in order to redirect HTTP calls to HTTPS. Here&#39;s the bean and `@ConditionalOnMissingBean` that I used to stop redirecting to HTTPS:\r\n```\r\n    private final static String SECURITY_USER_CONSTRAINT = &quot;CONFIDENTIAL&quot;;\r\n\r\n    private final static String REDIRECT_PATTERN = &quot;/*&quot;;\r\n\r\n    private final static String CONNECTOR_PROTOCOL = &quot;org.apache.coyote.http11.Http11NioProtocol&quot;;\r\n\r\n    private final static String CONNECTOR_SCHEME = &quot;http&quot;;\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(type = &quot;org.springframework.boot.test.mock.mockito.MockitoPostProcessor&quot;)\r\n    public TomcatServletWebServerFactory servletWebServerFactory() {\r\n        TomcatServletWebServerFactory tomcat =\r\n                new TomcatServletWebServerFactory() {\r\n                    @Override\r\n                    protected void postProcessContext(Context context) {\r\n                        SecurityConstraint constraint = new SecurityConstraint();\r\n                        constraint.setUserConstraint(SECURITY_USER_CONSTRAINT);\r\n                        SecurityCollection collection = new SecurityCollection();\r\n                        collection.addPattern(REDIRECT_PATTERN);\r\n                        constraint.addCollection(collection);\r\n                        context.addConstraint(constraint);\r\n                    }\r\n                };\r\n        tomcat.addAdditionalTomcatConnectors(createHttpConnector());\r\n        return tomcat;\r\n    }\r\n\r\n    private Connector createHttpConnector() {\r\n        Connector connector =\r\n                new Connector(CONNECTOR_PROTOCOL);\r\n        connector.setScheme(CONNECTOR_SCHEME);\r\n        connector.setSecure(false);\r\n        connector.setPort(8080);\r\n        connector.setRedirectPort(8433);\r\n        return connector;\r\n    }\r\n```\r\nThat more or less solved the issue, but I also needed to enable Http Basic Auth back again, as I did not want to get into JWT auth in tests using `TestRestTemplate`.","title":"TestRestTemplate returns 302 and null","body":"<p>After a couple of frustrating hours, I've finally managed to get <code>TestRestTemplate</code> working again. I've noticed that in the headers I was receiving, along with the <code>302 FOUND</code> and <code>null</code> body response, that the <code>Location</code> header would always be redirected to <code>https</code> URI.</p>\n<p>I've said that in tests I disabled the HTTPS protocol, however I forgot to disable a bean that I used in order to redirect HTTP calls to HTTPS. Here's the bean and <code>@ConditionalOnMissingBean</code> that I used to stop redirecting to HTTPS:</p>\n<pre><code>    private final static String SECURITY_USER_CONSTRAINT = &quot;CONFIDENTIAL&quot;;\n\n    private final static String REDIRECT_PATTERN = &quot;/*&quot;;\n\n    private final static String CONNECTOR_PROTOCOL = &quot;org.apache.coyote.http11.Http11NioProtocol&quot;;\n\n    private final static String CONNECTOR_SCHEME = &quot;http&quot;;\n\n    @Bean\n    @ConditionalOnMissingBean(type = &quot;org.springframework.boot.test.mock.mockito.MockitoPostProcessor&quot;)\n    public TomcatServletWebServerFactory servletWebServerFactory() {\n        TomcatServletWebServerFactory tomcat =\n                new TomcatServletWebServerFactory() {\n                    @Override\n                    protected void postProcessContext(Context context) {\n                        SecurityConstraint constraint = new SecurityConstraint();\n                        constraint.setUserConstraint(SECURITY_USER_CONSTRAINT);\n                        SecurityCollection collection = new SecurityCollection();\n                        collection.addPattern(REDIRECT_PATTERN);\n                        constraint.addCollection(collection);\n                        context.addConstraint(constraint);\n                    }\n                };\n        tomcat.addAdditionalTomcatConnectors(createHttpConnector());\n        return tomcat;\n    }\n\n    private Connector createHttpConnector() {\n        Connector connector =\n                new Connector(CONNECTOR_PROTOCOL);\n        connector.setScheme(CONNECTOR_SCHEME);\n        connector.setSecure(false);\n        connector.setPort(8080);\n        connector.setRedirectPort(8433);\n        return connector;\n    }\n</code></pre>\n<p>That more or less solved the issue, but I also needed to enable Http Basic Auth back again, as I did not want to get into JWT auth in tests using <code>TestRestTemplate</code>.</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693137933,"creation_date":1693064179,"question_id":76983664,"body_markdown":"My `TestRestTemplate` has been broken. I&#39;ve been making several changes for the past few days and now the tests aren&#39;t running.\r\n\r\nSpecifically, when I run a test it always returns `302 FOUND` and `null` as response body.\r\n\r\nNow, I&#39;ll list things I did that are probably the cause:\r\n* I&#39;ve implemented JWT authentication\r\n* I&#39;ve set HTTPS protocol\r\n\r\nI use self-signed certificate, thus I needed to configure my Apache `HttpClient` (which I use to make calls in production code and it works just fine). Here&#39;s the `HttpClientConfig.java`:\r\n```\r\n@Configuration\r\n@EnableScheduling\r\npublic class HttpClientConfig {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(HttpClientConfig.class);\r\n\r\n\t// Determines the timeout in milliseconds until a connection is established.\r\n\tprivate static final int CONNECT_TIMEOUT = 30000;\r\n\r\n\t// The timeout when requesting a connection from the connection manager.\r\n\tprivate static final int REQUEST_TIMEOUT = 30000;\r\n\r\n\t// The timeout for waiting for data\r\n\tprivate static final int SOCKET_TIMEOUT = 60000;\r\n\r\n\tprivate static final int MAX_TOTAL_CONNECTIONS = 50;\r\n\r\n\tprivate static final int DEFAULT_KEEP_ALIVE_TIME_MILLIS = 20 * 1000;\r\n\r\n\tprivate static final int CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS = 30;\r\n\r\n\t@Bean\r\n\tpublic PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n\t\tSSLContextBuilder builder = new SSLContextBuilder();\r\n\t\ttry {\r\n\t\t\tbuilder.loadTrustMaterial(null, new TrustSelfSignedStrategy());\r\n\t\t}\r\n\t\tcatch (NoSuchAlgorithmException | KeyStoreException e) {\r\n\t\t\tLOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage(), e);\r\n\t\t}\r\n\t\tSSLConnectionSocketFactory socketFactory = null;\r\n\t\ttry {\r\n\t\t\tsocketFactory = new SSLConnectionSocketFactory(builder.build());\r\n\t\t}\r\n\t\tcatch (KeyManagementException | NoSuchAlgorithmException e) {\r\n\t\t\tLOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage());\r\n\t\t}\r\n\r\n\t\tRegistry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\r\n\t\t\t\t.&lt;ConnectionSocketFactory&gt;create().register(&quot;https&quot;, socketFactory)\r\n\t\t\t\t.register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n\t\t\t\t.build();\r\n\r\n\t\tPoolingHttpClientConnectionManager poolingConnectionManager =\r\n\t\t\t\tnew PoolingHttpClientConnectionManager(socketFactoryRegistry());\r\n\t\tpoolingConnectionManager.setMaxTotal(MAX_TOTAL_CONNECTIONS);\r\n\t\tpoolingConnectionManager.setDefaultConnectionConfig(connectionConfig());\r\n\r\n\t\treturn poolingConnectionManager;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConnectionKeepAliveStrategy connectionKeepAliveStrategy() {\r\n\t\treturn new ConnectionKeepAliveStrategy() {\r\n\t\t\t@Override\r\n\t\t\tpublic TimeValue getKeepAliveDuration(HttpResponse response, HttpContext context) {\r\n\t\t\t\tBasicHeaderElementIterator it = new BasicHeaderElementIterator\r\n\t\t\t\t\t\t(response.headerIterator(HTTP.CONN_KEEP_ALIVE));\r\n\t\t\t\twhile (it.hasNext()) {\r\n\t\t\t\t\tHeaderElement headerElement = it.next();\r\n\t\t\t\t\tString param = headerElement.getName();\r\n\t\t\t\t\tString value = headerElement.getValue();\r\n\r\n\t\t\t\t\tif (value != null &amp;&amp; param.equalsIgnoreCase(&quot;timeout&quot;)) {\r\n\t\t\t\t\t\treturn TimeValue.of\r\n\t\t\t\t\t\t\t\t(Long.parseLong(value) * 1000, TimeUnit.MILLISECONDS);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn TimeValue.of(DEFAULT_KEEP_ALIVE_TIME_MILLIS,\r\n\t\t\t\t\t\tTimeUnit.MILLISECONDS);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RequestConfig requestConfig() {\r\n\t\treturn RequestConfig.custom()\r\n\t\t\t\t.setConnectionRequestTimeout(REQUEST_TIMEOUT, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConnectionConfig connectionConfig() {\r\n\t\treturn ConnectionConfig.custom()\r\n\t\t\t\t.setConnectTimeout(CONNECT_TIMEOUT, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.setSocketTimeout(SOCKET_TIMEOUT, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CloseableHttpClient httpClient() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n\t\treturn HttpClients.custom()\r\n\t\t\t\t.setDefaultRequestConfig(requestConfig())\r\n\t\t\t\t.setConnectionManager(poolingHttpClientConnectionManager())\r\n\t\t\t\t.setConnectionManagerShared(true)\r\n\t\t\t\t.setKeepAliveStrategy(connectionKeepAliveStrategy())\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n\t\tfinal TrustStrategy trustStrategy = (cert, authType) -&gt; true;\r\n\t\tfinal SSLContext sslContext = SSLContexts.custom()\r\n\t\t\t\t.loadTrustMaterial(null, trustStrategy)\r\n\t\t\t\t.build();\r\n\t\tfinal SSLConnectionSocketFactory socketFactory =\r\n\t\t\t\tnew SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n\t\tfinal Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\r\n\t\t\t\t.&lt;ConnectionSocketFactory&gt;create()\r\n\t\t\t\t.register(&quot;https&quot;, socketFactory)\r\n\t\t\t\t.register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n\t\t\t\t.build();\r\n\t\treturn socketFactoryRegistry;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Runnable idleConnectionMonitor(final PoolingHttpClientConnectionManager connectionManager) {\r\n\t\treturn new Runnable() {\r\n\t\t\t@Override\r\n\t\t\t@Scheduled(fixedDelay = 10000)\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (connectionManager != null) {\r\n\t\t\t\t\t\tLOGGER.trace(&quot;run IdleConnectionMonitor - Closing expired and idle connections...&quot;);\r\n\t\t\t\t\t\tconnectionManager.closeExpired();\r\n\t\t\t\t\t\tconnectionManager.closeIdle(TimeValue.of(\r\n\t\t\t\t\t\t\t\tCLOSE_IDLE_CONNECTION_WAIT_TIME_SECS, TimeUnit.SECONDS\r\n\t\t\t\t\t\t));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tLOGGER.trace(&quot;run IdleConnectionMonitor - Http Client Connection manager is not initialised&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\tLOGGER.error(&quot;run IdleConnectionMonitor - Exception occurred. msg={}, e={}&quot;, e.getMessage(), e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\nPreviously, I&#39;ve had `TestRestTemplate` just autowired, without any configuration. Now, after all the changes, it does not work. I thought that maybe the `HttpClientConfig` configuration bean may affect my `TestRestTemplate` so I&#39;ve tried that:\r\n```\r\nCloseableHttpClient httpClient = HttpClients.createDefault(); // &lt;-- I just want a default client for my TestRestTemplate\r\nHttpComponentsClientHttpRequestFactory clientHttpRequestFactory =\r\n          new HttpComponentsClientHttpRequestFactory();\r\nclientHttpRequestFactory.setHttpClient(httpClient);\r\nRestTemplate restTemplate = new RestTemplate(clientHttpRequestFactory);\r\nRestTemplateBuilder builder = new RestTemplateBuilder();\r\nbuilder.configure(restTemplate);\r\nTestRestTemplate testRestTemplate = new TestRestTemplate(builder);\r\nString endpoint = &quot;http://localhost:&quot; + serverPort + &quot;/api/entity/1&quot;; // &lt;-- http://localhost:{local_server_port}/api/entity/1\r\nSystem.out.println(testRestTemplate.getForObject(endpoint, String.class)); // &lt;-- returns null and 302\r\n```\r\nNote that the endpoint `/api/entity/{id}` is available to everyone.","title":"TestRestTemplate returns 302 and null","body":"<p>My <code>TestRestTemplate</code> has been broken. I've been making several changes for the past few days and now the tests aren't running.</p>\n<p>Specifically, when I run a test it always returns <code>302 FOUND</code> and <code>null</code> as response body.</p>\n<p>Now, I'll list things I did that are probably the cause:</p>\n<ul>\n<li>I've implemented JWT authentication</li>\n<li>I've set HTTPS protocol</li>\n</ul>\n<p>I use self-signed certificate, thus I needed to configure my Apache <code>HttpClient</code> (which I use to make calls in production code and it works just fine). Here's the <code>HttpClientConfig.java</code>:</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class HttpClientConfig {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(HttpClientConfig.class);\n\n    // Determines the timeout in milliseconds until a connection is established.\n    private static final int CONNECT_TIMEOUT = 30000;\n\n    // The timeout when requesting a connection from the connection manager.\n    private static final int REQUEST_TIMEOUT = 30000;\n\n    // The timeout for waiting for data\n    private static final int SOCKET_TIMEOUT = 60000;\n\n    private static final int MAX_TOTAL_CONNECTIONS = 50;\n\n    private static final int DEFAULT_KEEP_ALIVE_TIME_MILLIS = 20 * 1000;\n\n    private static final int CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS = 30;\n\n    @Bean\n    public PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        SSLContextBuilder builder = new SSLContextBuilder();\n        try {\n            builder.loadTrustMaterial(null, new TrustSelfSignedStrategy());\n        }\n        catch (NoSuchAlgorithmException | KeyStoreException e) {\n            LOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage(), e);\n        }\n        SSLConnectionSocketFactory socketFactory = null;\n        try {\n            socketFactory = new SSLConnectionSocketFactory(builder.build());\n        }\n        catch (KeyManagementException | NoSuchAlgorithmException e) {\n            LOGGER.error(&quot;Pooling Connection Manager Initialization failure: &quot; + e.getMessage());\n        }\n\n        Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\n                .&lt;ConnectionSocketFactory&gt;create().register(&quot;https&quot;, socketFactory)\n                .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n                .build();\n\n        PoolingHttpClientConnectionManager poolingConnectionManager =\n                new PoolingHttpClientConnectionManager(socketFactoryRegistry());\n        poolingConnectionManager.setMaxTotal(MAX_TOTAL_CONNECTIONS);\n        poolingConnectionManager.setDefaultConnectionConfig(connectionConfig());\n\n        return poolingConnectionManager;\n    }\n\n    @Bean\n    public ConnectionKeepAliveStrategy connectionKeepAliveStrategy() {\n        return new ConnectionKeepAliveStrategy() {\n            @Override\n            public TimeValue getKeepAliveDuration(HttpResponse response, HttpContext context) {\n                BasicHeaderElementIterator it = new BasicHeaderElementIterator\n                        (response.headerIterator(HTTP.CONN_KEEP_ALIVE));\n                while (it.hasNext()) {\n                    HeaderElement headerElement = it.next();\n                    String param = headerElement.getName();\n                    String value = headerElement.getValue();\n\n                    if (value != null &amp;&amp; param.equalsIgnoreCase(&quot;timeout&quot;)) {\n                        return TimeValue.of\n                                (Long.parseLong(value) * 1000, TimeUnit.MILLISECONDS);\n                    }\n                }\n                return TimeValue.of(DEFAULT_KEEP_ALIVE_TIME_MILLIS,\n                        TimeUnit.MILLISECONDS);\n            }\n        };\n    }\n\n    @Bean\n    public RequestConfig requestConfig() {\n        return RequestConfig.custom()\n                .setConnectionRequestTimeout(REQUEST_TIMEOUT, TimeUnit.MILLISECONDS)\n                .build();\n    }\n\n    @Bean\n    public ConnectionConfig connectionConfig() {\n        return ConnectionConfig.custom()\n                .setConnectTimeout(CONNECT_TIMEOUT, TimeUnit.MILLISECONDS)\n                .setSocketTimeout(SOCKET_TIMEOUT, TimeUnit.MILLISECONDS)\n                .build();\n    }\n\n    @Bean\n    public CloseableHttpClient httpClient() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        return HttpClients.custom()\n                .setDefaultRequestConfig(requestConfig())\n                .setConnectionManager(poolingHttpClientConnectionManager())\n                .setConnectionManagerShared(true)\n                .setKeepAliveStrategy(connectionKeepAliveStrategy())\n                .build();\n    }\n\n    @Bean\n    public Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry() throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n        final TrustStrategy trustStrategy = (cert, authType) -&gt; true;\n        final SSLContext sslContext = SSLContexts.custom()\n                .loadTrustMaterial(null, trustStrategy)\n                .build();\n        final SSLConnectionSocketFactory socketFactory =\n                new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\n        final Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry = RegistryBuilder\n                .&lt;ConnectionSocketFactory&gt;create()\n                .register(&quot;https&quot;, socketFactory)\n                .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n                .build();\n        return socketFactoryRegistry;\n    }\n\n    @Bean\n    public Runnable idleConnectionMonitor(final PoolingHttpClientConnectionManager connectionManager) {\n        return new Runnable() {\n            @Override\n            @Scheduled(fixedDelay = 10000)\n            public void run() {\n                try {\n                    if (connectionManager != null) {\n                        LOGGER.trace(&quot;run IdleConnectionMonitor - Closing expired and idle connections...&quot;);\n                        connectionManager.closeExpired();\n                        connectionManager.closeIdle(TimeValue.of(\n                                CLOSE_IDLE_CONNECTION_WAIT_TIME_SECS, TimeUnit.SECONDS\n                        ));\n                    }\n                    else {\n                        LOGGER.trace(&quot;run IdleConnectionMonitor - Http Client Connection manager is not initialised&quot;);\n                    }\n                }\n                catch (Exception e) {\n                    LOGGER.error(&quot;run IdleConnectionMonitor - Exception occurred. msg={}, e={}&quot;, e.getMessage(), e);\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>Previously, I've had <code>TestRestTemplate</code> just autowired, without any configuration. Now, after all the changes, it does not work. I thought that maybe the <code>HttpClientConfig</code> configuration bean may affect my <code>TestRestTemplate</code> so I've tried that:</p>\n<pre><code>CloseableHttpClient httpClient = HttpClients.createDefault(); // &lt;-- I just want a default client for my TestRestTemplate\nHttpComponentsClientHttpRequestFactory clientHttpRequestFactory =\n          new HttpComponentsClientHttpRequestFactory();\nclientHttpRequestFactory.setHttpClient(httpClient);\nRestTemplate restTemplate = new RestTemplate(clientHttpRequestFactory);\nRestTemplateBuilder builder = new RestTemplateBuilder();\nbuilder.configure(restTemplate);\nTestRestTemplate testRestTemplate = new TestRestTemplate(builder);\nString endpoint = &quot;http://localhost:&quot; + serverPort + &quot;/api/entity/1&quot;; // &lt;-- http://localhost:{local_server_port}/api/entity/1\nSystem.out.println(testRestTemplate.getForObject(endpoint, String.class)); // &lt;-- returns null and 302\n</code></pre>\n<p>Note that the endpoint <code>/api/entity/{id}</code> is available to everyone.</p>\n"},{"tags":["java","appium"],"answers":[{"tags":[],"owner":{"account_id":4846664,"reputation":1772,"user_id":3910122,"accept_rate":44,"display_name":"Chandrashekhar Swami"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1453093708,"creation_date":1452935359,"answer_id":34825303,"question_id":34822435,"body_markdown":"Well if you want to send an app in background then simply use `driver.CloseApp()` function and relaunch it by `driver.OpenApp()`\r\n\r\nYou can also use press keycode method \r\nBelow are the codes \r\n\r\n    Home Menu Button - 82\r\n    Back Button - 4\r\n    Recent app - 187","title":"Press Home button in Appium Java client","body":"<p>Well if you want to send an app in background then simply use <code>driver.CloseApp()</code> function and relaunch it by <code>driver.OpenApp()</code></p>\n\n<p>You can also use press keycode method \nBelow are the codes </p>\n\n<pre><code>Home Menu Button - 82\nBack Button - 4\nRecent app - 187\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8909543,"reputation":128,"user_id":6650289,"accept_rate":0,"display_name":"akhilesh gulati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487075289,"creation_date":1487075289,"answer_id":42226201,"question_id":34822435,"body_markdown":"    public boolean applicationClose(String packageName) {\r\n    \t\tappiumDriver.closeApp();\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    or\r\n    String ud_id=  ;\r\n    String str = &quot;adb -s ud_id shell keyevent KEYCODE_HOME&quot;;\r\n    \t\tString line;\r\n    \t\ttry {\r\n    \t\t\tProcess p = Runtime.getRuntime().exec(commandStr);\r\n    \t\t\tInputStream is = p.getInputStream();\r\n    \t\t\tInputStreamReader isr = new InputStreamReader(is);\r\n    \t\t\tBufferedReader br = new BufferedReader(isr);\r\n    \t\t\t\r\n    \t\t\twhile ((line = br.readLine()) != null)\r\n    \t\t\t\tstr += line;\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Command output: &quot; + str);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tReportAppium.getSnapShot(appiumDriver, &quot;run:&quot; + commandStr);\r\n    \t\treturn str;\r\n    \t\t","title":"Press Home button in Appium Java client","body":"<pre><code>public boolean applicationClose(String packageName) {\n        appiumDriver.closeApp();\n        return true;\n    }\n\nor\nString ud_id=  ;\nString str = \"adb -s ud_id shell keyevent KEYCODE_HOME\";\n        String line;\n        try {\n            Process p = Runtime.getRuntime().exec(commandStr);\n            InputStream is = p.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n            BufferedReader br = new BufferedReader(isr);\n\n            while ((line = br.readLine()) != null)\n                str += line;\n\n            System.out.println(\"Command output: \" + str);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        ReportAppium.getSnapShot(appiumDriver, \"run:\" + commandStr);\n        return str;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6611723,"reputation":32003,"user_id":5106574,"accept_rate":57,"display_name":"Jitesh Mohite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487094139,"creation_date":1487094139,"answer_id":42232794,"question_id":34822435,"body_markdown":"please try below code\r\n\r\n    driver.pressKeyCode(AndroidKeyCode.HOME);` // it will android device home` button \r\n\r\nif you want to perform any other operation with android device keys you can use same approach.You will get keys in AndroidKeyCode.\r\n\r\nhope these helps you.\r\n\r\n","title":"Press Home button in Appium Java client","body":"<p>please try below code</p>\n\n<pre><code>driver.pressKeyCode(AndroidKeyCode.HOME);` // it will android device home` button \n</code></pre>\n\n<p>if you want to perform any other operation with android device keys you can use same approach.You will get keys in AndroidKeyCode.</p>\n\n<p>hope these helps you.</p>\n"},{"tags":[],"owner":{"account_id":11004129,"reputation":181,"user_id":8083653,"display_name":"loroz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1533659021,"creation_date":1533659021,"answer_id":51731399,"question_id":34822435,"body_markdown":"Appium has since deprecated `pressKeyCode`. Instead, use:\r\n\r\n`driver.pressKey(new KeyEvent(AndroidKey.HOME));`","title":"Press Home button in Appium Java client","body":"<p>Appium has since deprecated <code>pressKeyCode</code>. Instead, use:</p>\n\n<p><code>driver.pressKey(new KeyEvent(AndroidKey.HOME));</code></p>\n"},{"comments":[{"owner":{"account_id":8011785,"reputation":453,"user_id":6043243,"accept_rate":36,"display_name":"Sandeep"},"score":0,"creation_date":1597605768,"post_id":58451282,"comment_id":112181303,"body_markdown":"PressKeyCode is now deprecated","body":"PressKeyCode is now deprecated"}],"tags":[],"owner":{"account_id":15017866,"reputation":39,"user_id":10840303,"display_name":"Hacci56"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571402919,"creation_date":1571402919,"answer_id":58451282,"question_id":34822435,"body_markdown":"For Android :\r\n\r\n    driver.pressKeyCode(AndroidKeyCode.HOME);\r\n\r\nFor IOS:\r\n\r\n    driver.executeScript(&quot;mobile: pressButton&quot;, ImmutableMap.of(&quot;name&quot;, &quot;home&quot;));\r\n\r\n \r\n\r\n\r\n\r\n","title":"Press Home button in Appium Java client","body":"<p>For Android :</p>\n\n<pre><code>driver.pressKeyCode(AndroidKeyCode.HOME);\n</code></pre>\n\n<p>For IOS:</p>\n\n<pre><code>driver.executeScript(\"mobile: pressButton\", ImmutableMap.of(\"name\", \"home\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22092269,"reputation":1,"user_id":21574788,"display_name":"Ravenz16"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682432466,"creation_date":1682432466,"answer_id":76102244,"question_id":34822435,"body_markdown":"`closeApp()` for me - its force stop of app. If u dont need it u can use:\r\n\r\n`driver.runAppInBackground(Duration.ofSeconds(x));`\r\n\r\nputs the application in the background for a certain time. \r\nUnfortunately this is the only solution that helped me with MIUI.","title":"Press Home button in Appium Java client","body":"<p><code>closeApp()</code> for me - its force stop of app. If u dont need it u can use:</p>\n<p><code>driver.runAppInBackground(Duration.ofSeconds(x));</code></p>\n<p>puts the application in the background for a certain time.\nUnfortunately this is the only solution that helped me with MIUI.</p>\n"},{"tags":[],"owner":{"account_id":29308205,"reputation":1,"user_id":22454712,"display_name":"jagdish gaikwad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693136601,"creation_date":1693136601,"answer_id":76986940,"question_id":34822435,"body_markdown":"I am using java client 8.5.0 and below code works fine for me\r\n\r\n\t\tdriver.pressKey(new io.appium.java_client.android.nativekey.KeyEvent(AndroidKey.HOME));","title":"Press Home button in Appium Java client","body":"<p>I am using java client 8.5.0 and below code works fine for me</p>\n<pre><code>    driver.pressKey(new io.appium.java_client.android.nativekey.KeyEvent(AndroidKey.HOME));\n</code></pre>\n"}],"owner":{"account_id":141559,"reputation":1099,"user_id":348686,"accept_rate":36,"display_name":"Shrikanth Kalluraya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8542,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34825303,"answer_count":7,"score":4,"last_activity_date":1693136601,"creation_date":1452906601,"question_id":34822435,"body_markdown":"I am new to appium. It might be a silly question. Wanted to know how will i click home button using java bindings.\r\n\r\nThanks in advance","title":"Press Home button in Appium Java client","body":"<p>I am new to appium. It might be a silly question. Wanted to know how will i click home button using java bindings.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android"],"owner":{"account_id":29281853,"reputation":1,"user_id":22434330,"display_name":"Rumion Tomal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693136471,"creation_date":1693133887,"question_id":76986768,"body_markdown":"I want to take the user&#39;s phone number using my app. I will take the permission then a code will bring the number. \r\n\r\nAn example,\r\nWhen My user runs the app it will request the user to give the permission, and then one function will be run and the number.\r\n\r\n\r\n\r\nI have tried this to get the number.\r\n```\r\nTelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n String simPhoneNumber = telephonyManager.getLine1Number();\r\n```\r\nI got the user&#39;s permission.\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n```\r\n\r\nIt is returning **null**. \r\nWhat can I do now?\r\n\r\n","title":"How to get user phone number in Android","body":"<p>I want to take the user's phone number using my app. I will take the permission then a code will bring the number.</p>\n<p>An example,\nWhen My user runs the app it will request the user to give the permission, and then one function will be run and the number.</p>\n<p>I have tried this to get the number.</p>\n<pre><code>TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n String simPhoneNumber = telephonyManager.getLine1Number();\n</code></pre>\n<p>I got the user's permission.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n</code></pre>\n<p>It is returning <strong>null</strong>.\nWhat can I do now?</p>\n"},{"tags":["java","mysql","tls1.2"],"comments":[{"owner":{"account_id":13388280,"reputation":36856,"user_id":9661424,"display_name":"sticky bit"},"score":1,"creation_date":1619781502,"post_id":67332909,"comment_id":119014311,"body_markdown":"And what is the question now? How to make Java accept TLS 1.0 again or how to make MySQL use TLS 1.2? It&#39;s not really clear to me.","body":"And what is the question now? How to make Java accept TLS 1.0 again or how to make MySQL use TLS 1.2? It&#39;s not really clear to me."},{"owner":{"account_id":3624035,"reputation":18141,"user_id":3022127,"accept_rate":27,"display_name":"bersling"},"score":0,"creation_date":1619781928,"post_id":67332909,"comment_id":119014485,"body_markdown":"thanks for the hint, i rephrased the question to make it more clear. I think the goal should be to use TLSv1.2 as the way forward.","body":"thanks for the hint, i rephrased the question to make it more clear. I think the goal should be to use TLSv1.2 as the way forward."},{"owner":{"account_id":13724158,"reputation":575,"user_id":9903370,"display_name":"skelwa"},"score":7,"creation_date":1620115510,"post_id":67332909,"comment_id":119098413,"body_markdown":"Try adding &#39;enabledTLSProtocols=TLSv1.2&#39; to MySQL connection string. This will enforce TLSV1.2 protocol for java&#39;s mysql connection and you wouldn&#39;t have to make any changes to java.security file.","body":"Try adding &#39;enabledTLSProtocols=TLSv1.2&#39; to MySQL connection string. This will enforce TLSV1.2 protocol for java&#39;s mysql connection and you wouldn&#39;t have to make any changes to java.security file."},{"owner":{"account_id":3637123,"reputation":10786,"user_id":3032209,"display_name":"Yair Kukielka"},"score":0,"creation_date":1643971938,"post_id":67332909,"comment_id":125486431,"body_markdown":"Since Connector/J 8.0.28 enabledTLSProtocols has been renamed to tlsVersions. See https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","body":"Since Connector/J 8.0.28 enabledTLSProtocols has been renamed to tlsVersions. See <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":108055,"reputation":543,"user_id":286994,"display_name":"Savvas Radevic"},"score":0,"creation_date":1648541526,"post_id":67438592,"comment_id":126643650,"body_markdown":"thank you for the recommendation. just wanted to add to also try using the *latest recommended mysql connector j* for the software you&#39;re using. We were testing with mysql connector 5.1.42, so I just tried to use 5.1.48 and enabling TLS v1.2 in the jdbc url and it worked! Also used java options `-Djdk.tls.client.protocols=TLSv1.2,TLSv1.3` and in tomcat server.xml `sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2,TLSv1.3&quot;`. Make sure you also read the mysql notes here: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","body":"thank you for the recommendation. just wanted to add to also try using the <i>latest recommended mysql connector j</i> for the software you&#39;re using. We were testing with mysql connector 5.1.42, so I just tried to use 5.1.48 and enabling TLS v1.2 in the jdbc url and it worked! Also used java options <code>-Djdk.tls.client.protocols=TLSv1.2,TLSv1.3</code> and in tomcat server.xml <code>sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2,TLSv1.3&quot;</code>. Make sure you also read the mysql notes here: <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"},{"owner":{"account_id":1792158,"reputation":700,"user_id":1632288,"accept_rate":67,"display_name":"Kendar"},"score":0,"creation_date":1676393514,"post_id":67438592,"comment_id":133126391,"body_markdown":"Just a notice, this works even for IntelliJ that was not able to connect to several mysql... unless i added the &quot;?enabledTLSProtocols=TLSv1.2&quot;","body":"Just a notice, this works even for IntelliJ that was not able to connect to several mysql... unless i added the &quot;?enabledTLSProtocols=TLSv1.2&quot;"}],"tags":[],"owner":{"account_id":5099328,"reputation":4638,"user_id":4089458,"display_name":"Kristianmitk"},"comment_count":2,"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1643972936,"creation_date":1620404758,"answer_id":67438592,"question_id":67332909,"body_markdown":"As @skelwa already commented you will need to add the `enabledTLSProtocols=TLSv1.2` configuration property in the connection string to resolve your issue. \r\n\r\nA complete connection string for [Connector/J](https://dev.mysql.com/doc/index-connectors.html) could look like this:\r\n\r\n```\r\njdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\r\n```\r\n\r\nFor [r2dbc](https://r2dbc.io/) you will need to use `tlsVersion=TLSv1.2` instead.\r\n\r\nFor **Connector/J v8.0.28** `enabledTLSProtocols` was renamed to `tlsVersions` (see [note][1]). However, the original name remains as an alias.\r\n\r\n---\r\n\r\nThe question that remains is:\r\n\r\n**Why don&#39;t the JDK and MySQL just agree on using `TLSv1.2`?**\r\n\r\nAlthough both parties do actually support TLSv1.2, the problem you were experiencing is introduced by the default behavior of Connector/J. For compatibility reasons Connector/J does not enable TLSv1.2 and higher by default. Therefore, one has to enable it explicitly.\r\n\r\nSee the following [note]:\r\n\r\n&gt; For Connector/J 8.0.18 and earlier when connecting to MySQL Community\r\n&gt; Server 5.6 and 5.7 using the JDBC API: Due to compatibility issues\r\n&gt; with MySQL Server compiled with yaSSL, Connector/J does not enable\r\n&gt; connections with TLSv1.2 and higher by default. When connecting to\r\n&gt; servers that restrict connections to use those higher TLS versions,\r\n&gt; enable them explicitly by setting the Connector/J connection property\r\n&gt; enabledTLSProtocols (e.g., set\r\n&gt; enabledTLSProtocols=TLSv1,TLSv1.1,TLSv1.2).\r\n\r\n\r\n  [note]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\r\n\r\n\r\n---\r\n\r\n**WARNING:** please be aware that &lt;strike&gt;solutions&lt;/strike&gt; suggesting editing `jdk.tls.disabledAlgorithms` inside of `jre/lib/security` pose a ***security risk*** to your application and changing anything there might have severe implications! \r\nThere are reasons why those protocols were disabled and one should not simply remove everything or even just parts from that list.\r\n\r\n---\r\n\r\n**Note:** if you want to get more low level insights from the JDK to debug your problem you can enable ssl debug logs by passing the following configuration to the java comand: \r\n\r\n`-Djavax.net.debug=ssl,handshake`\r\nor even\r\n`-Djavax.net.debug=all`\r\n\r\nIn your case you will see something like:\r\n\r\n```\r\n...(HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n  \tat java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:170)\r\n  \tat java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\r\n    ...\r\n```\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>As @skelwa already commented you will need to add the <code>enabledTLSProtocols=TLSv1.2</code> configuration property in the connection string to resolve your issue.</p>\n<p>A complete connection string for <a href=\"https://dev.mysql.com/doc/index-connectors.html\" rel=\"noreferrer\">Connector/J</a> could look like this:</p>\n<pre><code>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p>For <a href=\"https://r2dbc.io/\" rel=\"noreferrer\">r2dbc</a> you will need to use <code>tlsVersion=TLSv1.2</code> instead.</p>\n<p>For <strong>Connector/J v8.0.28</strong> <code>enabledTLSProtocols</code> was renamed to <code>tlsVersions</code> (see <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"noreferrer\">note</a>). However, the original name remains as an alias.</p>\n<hr />\n<p>The question that remains is:</p>\n<p><strong>Why don't the JDK and MySQL just agree on using <code>TLSv1.2</code>?</strong></p>\n<p>Although both parties do actually support TLSv1.2, the problem you were experiencing is introduced by the default behavior of Connector/J. For compatibility reasons Connector/J does not enable TLSv1.2 and higher by default. Therefore, one has to enable it explicitly.</p>\n<p>See the following <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"noreferrer\">note</a>:</p>\n<blockquote>\n<p>For Connector/J 8.0.18 and earlier when connecting to MySQL Community\nServer 5.6 and 5.7 using the JDBC API: Due to compatibility issues\nwith MySQL Server compiled with yaSSL, Connector/J does not enable\nconnections with TLSv1.2 and higher by default. When connecting to\nservers that restrict connections to use those higher TLS versions,\nenable them explicitly by setting the Connector/J connection property\nenabledTLSProtocols (e.g., set\nenabledTLSProtocols=TLSv1,TLSv1.1,TLSv1.2).</p>\n</blockquote>\n<hr />\n<p><strong>WARNING:</strong> please be aware that <strike>solutions</strike> suggesting editing <code>jdk.tls.disabledAlgorithms</code> inside of <code>jre/lib/security</code> pose a <em><strong>security risk</strong></em> to your application and changing anything there might have severe implications!\nThere are reasons why those protocols were disabled and one should not simply remove everything or even just parts from that list.</p>\n<hr />\n<p><strong>Note:</strong> if you want to get more low level insights from the JDK to debug your problem you can enable ssl debug logs by passing the following configuration to the java comand:</p>\n<p><code>-Djavax.net.debug=ssl,handshake</code>\nor even\n<code>-Djavax.net.debug=all</code></p>\n<p>In your case you will see something like:</p>\n<pre><code>...(HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n    at java.base/sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:170)\n    at java.base/sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\n    ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":9,"creation_date":1625165515,"post_id":68193216,"comment_id":120562218,"body_markdown":"Commenting out &quot;jdk.tls.disabledAlgorithms&quot; is catastrophically bad advice...  It&#39;s a bit like saying: the fastest way to get to work in the morning is to leave your car doors unlocked and the keys in the ignition.  Selectively removing items is only slightly less bad...","body":"Commenting out &quot;jdk.tls.disabledAlgorithms&quot; is catastrophically bad advice...  It&#39;s a bit like saying: the fastest way to get to work in the morning is to leave your car doors unlocked and the keys in the ignition.  Selectively removing items is only slightly less bad..."},{"owner":{"account_id":9940107,"reputation":87,"user_id":11090297,"display_name":"Vayuj Rajan"},"score":0,"creation_date":1625513855,"post_id":68193216,"comment_id":120641742,"body_markdown":"@paulsm4 that is true and not encouraged outside the local dev environment.","body":"@paulsm4 that is true and not encouraged outside the local dev environment."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1625515108,"post_id":68193216,"comment_id":120642065,"body_markdown":"Remember: things you do in a dev environment often have a nasty habit of inadvertently leaking out to your upstream environments.  Best advice: &quot;Just Say No&quot; ;)","body":"Remember: things you do in a dev environment often have a nasty habit of inadvertently leaking out to your upstream environments.  Best advice: &quot;Just Say No&quot; ;)"}],"tags":[],"owner":{"account_id":9940107,"reputation":87,"user_id":11090297,"display_name":"Vayuj Rajan"},"comment_count":3,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1625049603,"creation_date":1625049603,"answer_id":68193216,"question_id":67332909,"body_markdown":"You can do the following steps:\r\n\r\n 1. Open java.security file. (It is under jre/lib/security folder)\r\n 2. Find the following line : `jdk.tls.disabledAlgorithms`\r\n 3. Comment that complete line.\r\n\r\nAfter this try running and it should work.\r\n\r\nOr if you want only specific algorithm remove it from disabled list.\r\n\r\nYou can send it in config and comment that in java.security file\r\n\r\n    jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\r\n\r\n\r\n","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>You can do the following steps:</p>\n<ol>\n<li>Open java.security file. (It is under jre/lib/security folder)</li>\n<li>Find the following line : <code>jdk.tls.disabledAlgorithms</code></li>\n<li>Comment that complete line.</li>\n</ol>\n<p>After this try running and it should work.</p>\n<p>Or if you want only specific algorithm remove it from disabled list.</p>\n<p>You can send it in config and comment that in java.security file</p>\n<pre><code>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?enabledTLSProtocols=TLSv1.2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":3,"creation_date":1630568093,"post_id":69025467,"comment_id":121993033,"body_markdown":"In a DMZ it might be ok to have no encryption instead of weak encryption. In Production it usually is not ok.","body":"In a DMZ it might be ok to have no encryption instead of weak encryption. In Production it usually is not ok."},{"owner":{"account_id":2788703,"reputation":3248,"user_id":3589609,"accept_rate":100,"display_name":"Joshua Schlichting"},"score":2,"creation_date":1631026161,"post_id":69025467,"comment_id":122109728,"body_markdown":"Question title: &quot;how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)&quot;\n\nYour answer: Disable SSL","body":"Question title: &quot;how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)&quot;  Your answer: Disable SSL"},{"owner":{"account_id":5619154,"reputation":507,"user_id":4449567,"display_name":"Vinicius"},"score":2,"creation_date":1634247749,"post_id":69025467,"comment_id":122981238,"body_markdown":"This solved for me. I only used this option because I&#39;m on local development environment.","body":"This solved for me. I only used this option because I&#39;m on local development environment."},{"owner":{"account_id":3624035,"reputation":18141,"user_id":3022127,"accept_rate":27,"display_name":"bersling"},"score":2,"creation_date":1649935291,"post_id":69025467,"comment_id":127003003,"body_markdown":"What advantage does `useSSL=false` provide over `enabledTLSProtocols=TLSv1.2` (accepted answer)? I don&#39;t see a benefit, while it makes it insecure as a downside?","body":"What advantage does <code>useSSL=false</code> provide over <code>enabledTLSProtocols=TLSv1.2</code> (accepted answer)? I don&#39;t see a benefit, while it makes it insecure as a downside?"}],"tags":[],"owner":{"account_id":1447480,"reputation":1567,"user_id":1365460,"accept_rate":51,"display_name":"Ankur Raiyani"},"comment_count":4,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1693135988,"creation_date":1630565668,"answer_id":69025467,"question_id":67332909,"body_markdown":"I just added **useSSL=false** and it worked for me.\r\n\r\n`jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?useSSL=false`\r\n\r\nI have JDK 8, MySQL 5.7 and mysql-connector-java lib with version 5.1.38\r\n\r\n**This is useful when you want to execute quickly in local environment only (not recommended for staging/test/prod)**","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>I just added <strong>useSSL=false</strong> and it worked for me.</p>\n<p><code>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?useSSL=false</code></p>\n<p>I have JDK 8, MySQL 5.7 and mysql-connector-java lib with version 5.1.38</p>\n<p><strong>This is useful when you want to execute quickly in local environment only (not recommended for staging/test/prod)</strong></p>\n"},{"comments":[{"owner":{"account_id":3637123,"reputation":10786,"user_id":3032209,"display_name":"Yair Kukielka"},"score":0,"creation_date":1643971833,"post_id":69324200,"comment_id":125486391,"body_markdown":"This is also how it works after Connector/J 8.0.28, enabledTLSProtocols has been renamed to tlsVersions. See https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","body":"This is also how it works after Connector/J 8.0.28, enabledTLSProtocols has been renamed to tlsVersions. See <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"}],"tags":[],"owner":{"account_id":1898513,"reputation":635,"user_id":2298385,"display_name":"Marcus"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632556517,"creation_date":1632556517,"answer_id":69324200,"question_id":67332909,"body_markdown":"I came here because I had the same issue, but unfortunately,\r\n\r\n&gt; jdbc:mysql://host:port/dbname?enabledTLSProtocols=TLSv1.2\r\n\r\ndidn&#39;t work for me because I&#39;m using r2dbc. After a little bit of debugging I found out the name of the parameter must be `tlsVersion` instead, so you can use, for example:\r\n\r\n    spring.r2dbc.url=r2dbc:mysql://host:port/dname?tlsVersion=TLSv1.2\r\n\r\n","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>I came here because I had the same issue, but unfortunately,</p>\n<blockquote>\n<p>jdbc:mysql://host:port/dbname?enabledTLSProtocols=TLSv1.2</p>\n</blockquote>\n<p>didn't work for me because I'm using r2dbc. After a little bit of debugging I found out the name of the parameter must be <code>tlsVersion</code> instead, so you can use, for example:</p>\n<pre><code>spring.r2dbc.url=r2dbc:mysql://host:port/dname?tlsVersion=TLSv1.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5825507,"reputation":1208,"user_id":4592066,"display_name":"Rahul Sawant"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648322987,"creation_date":1648322987,"answer_id":71631180,"question_id":67332909,"body_markdown":"I faced this issue due to the older version of *mysql-connector-java-5.1.40-bin.jar &amp; OpenJDK 1.8* version, After Upgrading to the 5.1.49 version solved my issue","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>I faced this issue due to the older version of <em>mysql-connector-java-5.1.40-bin.jar &amp; OpenJDK 1.8</em> version, After Upgrading to the 5.1.49 version solved my issue</p>\n"},{"tags":[],"owner":{"account_id":2454118,"reputation":880,"user_id":2139708,"accept_rate":100,"display_name":"Linus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666788271,"creation_date":1666788271,"answer_id":74208003,"question_id":67332909,"body_markdown":"This is not a StreamSets issue. This is a compatibility issue between Java and the MySQL JDBC driver\r\n\r\nChoose the most appropriate solution from below for your situation\r\n**Solution #1**: Add &quot;enabledTLSProtocols=TLSv1.2&quot; to JDBC connection string\r\nVerify MySQL supports TLSv1.2\r\n\r\n    mysql&gt; show variables like &#39;tls_version&#39;;\r\n    +---------------+---------------------+\r\n    | Variable_name | Value |\r\n    +---------------+---------------------+\r\n    | tls_version | TLSv1,TLSv1.1,TLSv1.2 |\r\n    +---------------+---------------------+\r\n    1 row in set (0.00 sec)\r\n\r\nUpdate JDBC connection string\r\n\r\n    jdbc:mysql://[hostname]:[port]/[databaseName]?enabledTLSProtocols=TLSv1.2\r\n\r\n**Solution #2**: Enable TLSv1 and TLSv1.1\r\nFile: $JAVA_HOME/jre/lib/security/java.security\r\n**Old configuration**:\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n  DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n**New configuration**:\r\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\r\n  EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n\r\n**Solution #3**: Upgrade the MySQL database\r\nThe TLS version is automatically selected by the JDBC driver depending on the database version.\r\n\r\nTLSv1 and TLSv1.1 will be used for versions below: 8.0, 5.7.28, 5.6.46\r\n\r\n**Additional Information**\r\nA recent Java update, specifically Red Hat/CentOS, disables TLSv1 and TLSv1.1 by default for Java 8\r\n\r\nThe MySQL JDBC driver will attempt to use TLSv1 and/or TLSv1.1 if the MySQL database version is below one of the following: 8.0, 5.7.28, 5.6.46","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>This is not a StreamSets issue. This is a compatibility issue between Java and the MySQL JDBC driver</p>\n<p>Choose the most appropriate solution from below for your situation\n<strong>Solution #1</strong>: Add &quot;enabledTLSProtocols=TLSv1.2&quot; to JDBC connection string\nVerify MySQL supports TLSv1.2</p>\n<pre><code>mysql&gt; show variables like 'tls_version';\n+---------------+---------------------+\n| Variable_name | Value |\n+---------------+---------------------+\n| tls_version | TLSv1,TLSv1.1,TLSv1.2 |\n+---------------+---------------------+\n1 row in set (0.00 sec)\n</code></pre>\n<p>Update JDBC connection string</p>\n<pre><code>jdbc:mysql://[hostname]:[port]/[databaseName]?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p><strong>Solution #2</strong>: Enable TLSv1 and TLSv1.1\nFile: $JAVA_HOME/jre/lib/security/java.security\n<strong>Old configuration</strong>:\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, <br />\nDH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n<strong>New configuration</strong>:\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, <br />\nEC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL</p>\n<p><strong>Solution #3</strong>: Upgrade the MySQL database\nThe TLS version is automatically selected by the JDBC driver depending on the database version.</p>\n<p>TLSv1 and TLSv1.1 will be used for versions below: 8.0, 5.7.28, 5.6.46</p>\n<p><strong>Additional Information</strong>\nA recent Java update, specifically Red Hat/CentOS, disables TLSv1 and TLSv1.1 by default for Java 8</p>\n<p>The MySQL JDBC driver will attempt to use TLSv1 and/or TLSv1.1 if the MySQL database version is below one of the following: 8.0, 5.7.28, 5.6.46</p>\n"},{"tags":[],"owner":{"account_id":13101504,"reputation":1,"user_id":21172487,"display_name":"Buchan Milne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675859445,"creation_date":1675859445,"answer_id":75385829,"question_id":67332909,"body_markdown":"If possible, the better solution should be to upgrade to one of the following releases of Connector/J:\r\n* 8.0.19, released on 2020-01-13, the [release notes][1] for which say:\r\n&gt; The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:\r\n&gt; * TLSv1, TLSv1.1, TLSv1.2, and TLSv1.3 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for all commercial versions of MySQL Servers.\r\n&gt; * TLSv1 and TLSv1.1 for all other versions of MySQL Servers.\r\n\r\nor\r\n* 5.1.49, released 2020-04-29, the [release notes][2] for which say:\r\n&gt; The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:\r\n&gt; * TLSv1, TLSv1.1, and TLSv1.2 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for commercial versions of MySQL Server 5.6, 5.7, and 8.0.\r\n&gt; * TLSv1 and TLSv1.1 for all other versions of MySQL Servers.\r\n\r\nIf that&#39;s not possible, you could consider upgrading your MySQL servers to 8.0.x, which some older versions of Connector/J will use TLSv1.2 to where they won&#39;t enable it when connecting to 5.7.x.\r\n\r\nIf you can&#39;t upgrade either (yet), then changing enabledTLSProtocols would obviously be necessary.\r\n\r\n[1]: https://dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-19.html\r\n[2]: https://docs.oracle.com/cd/E17952_01/connector-j-5.1-relnotes-en/news-5-1-49.html","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>If possible, the better solution should be to upgrade to one of the following releases of Connector/J:</p>\n<ul>\n<li>8.0.19, released on 2020-01-13, the <a href=\"https://dev.mysql.com/doc/relnotes/connector-j/8.0/en/news-8-0-19.html\" rel=\"nofollow noreferrer\">release notes</a> for which say:</li>\n</ul>\n<blockquote>\n<p>The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:</p>\n<ul>\n<li>TLSv1, TLSv1.1, TLSv1.2, and TLSv1.3 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for all commercial versions of MySQL Servers.</li>\n<li>TLSv1 and TLSv1.1 for all other versions of MySQL Servers.</li>\n</ul>\n</blockquote>\n<p>or</p>\n<ul>\n<li>5.1.49, released 2020-04-29, the <a href=\"https://docs.oracle.com/cd/E17952_01/connector-j-5.1-relnotes-en/news-5-1-49.html\" rel=\"nofollow noreferrer\">release notes</a> for which say:</li>\n</ul>\n<blockquote>\n<p>The allowable versions of TLS protocol used for connecting to the server, when no restrictions have been set using the connection properties enabledTLSProtocols, have been changed to:</p>\n<ul>\n<li>TLSv1, TLSv1.1, and TLSv1.2 for MySQL Community Servers 8.0, 5.7.28 and later, and 5.6.46 and later, and for commercial versions of MySQL Server 5.6, 5.7, and 8.0.</li>\n<li>TLSv1 and TLSv1.1 for all other versions of MySQL Servers.</li>\n</ul>\n</blockquote>\n<p>If that's not possible, you could consider upgrading your MySQL servers to 8.0.x, which some older versions of Connector/J will use TLSv1.2 to where they won't enable it when connecting to 5.7.x.</p>\n<p>If you can't upgrade either (yet), then changing enabledTLSProtocols would obviously be necessary.</p>\n"}],"owner":{"account_id":3624035,"reputation":18141,"user_id":3022127,"accept_rate":27,"display_name":"bersling"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58360,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":67438592,"answer_count":7,"score":80,"last_activity_date":1693135988,"creation_date":1619781182,"question_id":67332909,"body_markdown":"In the latest update to the JDK in April 2021 (`11.0.11+9-0ubuntu2~18.04`) support for `TLSv1` and `TLSv1.1` was dropped, presumably because since March 2021 those versions are no longer supported. This is evident by the diff in the `java.security` file:\r\n\r\nBefore:\r\n```\r\njdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\r\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\nAfter:\r\n```\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\nwhich is also discussed in this SO post: https://stackoverflow.com/questions/38205947/sslhandshakeexception-no-appropriate-protocol . In that thread there are also more answers popping up the last few days since the updated JDK version.\r\n\r\nAfter this update of the JDK, we received the error\r\n```\r\njava.sql.SQLException: An attempt by a client to checkout a Connection has timed out.\r\n```\r\nwith `c3p0`.\r\n\r\nAfter switching to `hikari` we got a more meaningful error:\r\n```\r\nERROR [2021-04-29 16:21:16,426] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\r\n! javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n```\r\n\r\nWe&#39;re running on MySQL `5.7.33-0ubuntu0.18.04.1`. Now in my understanding as described [here][1], MySQL 5.7 supports TLSv1.2. Also when running `SHOW VARIABLES LIKE &#39;tls_version&#39;;` we get `TLSv1,TLSv1.1,TLSv1.2` which suggest that `TLSv1.2` is supported.\r\n\r\nSo then the question is, why don&#39;t the JDK and MySQL just agree on using `TLSv1.2` and what can we do about it, to make them communicate with `TLSv1.2`?\r\n\r\nNote: I don&#39;t think changing the `java.security` file as suggested in the other thread is a good long term solution to this problem!\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/encrypted-connection-protocols-ciphers.html","title":"Why can Java not connect to MySQL 5.7 after the latest JDK update and how should it be fixed? (ssl.SSLHandshakeException: No appropriate protocol)","body":"<p>In the latest update to the JDK in April 2021 (<code>11.0.11+9-0ubuntu2~18.04</code>) support for <code>TLSv1</code> and <code>TLSv1.1</code> was dropped, presumably because since March 2021 those versions are no longer supported. This is evident by the diff in the <code>java.security</code> file:</p>\n<p>Before:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n<p>After:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n<p>which is also discussed in this SO post: <a href=\"https://stackoverflow.com/questions/38205947/sslhandshakeexception-no-appropriate-protocol\">SSLHandShakeException No Appropriate Protocol</a> . In that thread there are also more answers popping up the last few days since the updated JDK version.</p>\n<p>After this update of the JDK, we received the error</p>\n<pre><code>java.sql.SQLException: An attempt by a client to checkout a Connection has timed out.\n</code></pre>\n<p>with <code>c3p0</code>.</p>\n<p>After switching to <code>hikari</code> we got a more meaningful error:</p>\n<pre><code>ERROR [2021-04-29 16:21:16,426] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\n! javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>We're running on MySQL <code>5.7.33-0ubuntu0.18.04.1</code>. Now in my understanding as described <a href=\"https://dev.mysql.com/doc/refman/5.7/en/encrypted-connection-protocols-ciphers.html\" rel=\"noreferrer\">here</a>, MySQL 5.7 supports TLSv1.2. Also when running <code>SHOW VARIABLES LIKE 'tls_version';</code> we get <code>TLSv1,TLSv1.1,TLSv1.2</code> which suggest that <code>TLSv1.2</code> is supported.</p>\n<p>So then the question is, why don't the JDK and MySQL just agree on using <code>TLSv1.2</code> and what can we do about it, to make them communicate with <code>TLSv1.2</code>?</p>\n<p>Note: I don't think changing the <code>java.security</code> file as suggested in the other thread is a good long term solution to this problem!</p>\n"},{"tags":["java","operating-system","systemd"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692693830,"post_id":76951493,"comment_id":135655323,"body_markdown":"`ExecStart=&#39;java -jar /opt/java_apps/app1/app1.jar&#39;` Your environment setting will likely be unused, so you might want `ExecStart=&quot;$JAVA_HOME/bin/java -jar /opt/java_apps/app1/app1.jar&quot;` but I&#39;m not sure about expansion order. Then there&#39;s that .conf file. The contents might have to be part of the environment too","body":"<code>ExecStart=&#39;java -jar &#47;opt&#47;java_apps&#47;app1&#47;app1.jar&#39;</code> Your environment setting will likely be unused, so you might want <code>ExecStart=&quot;$JAVA_HOME&#47;bin&#47;java -jar &#47;opt&#47;java_apps&#47;app1&#47;app1.jar&quot;</code> but I&#39;m not sure about expansion order. Then there&#39;s that .conf file. The contents might have to be part of the environment too"},{"owner":{"account_id":15672356,"reputation":9,"user_id":11308478,"display_name":"Ya&#231;in Da"},"score":0,"creation_date":1692694490,"post_id":76951493,"comment_id":135655452,"body_markdown":"@g00se, thank you but i have test that also before, it doesn&#39;t work","body":"@g00se, thank you but i have test that also before, it doesn&#39;t work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692695004,"post_id":76951493,"comment_id":135655557,"body_markdown":"I can readily believe there could be errors, but I find it hard to believe you get *the same error*","body":"I can readily believe there could be errors, but I find it hard to believe you get <i>the same error</i>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692704355,"creation_date":1692703812,"answer_id":76952845,"question_id":76951493,"body_markdown":"This is what worked for me. Tricky\r\n```\r\n[Unit]\r\nDescription=APP1 Java Service\r\nAfter=syslog.target\r\n\r\n[Service]\r\n\r\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/bellsoft-java20-full-amd64&quot;\r\nWorkingDirectory=/opt/java_apps/app1\r\nUser=app1_user\r\nExecStart=/usr/bin/env &quot;${JAVA_HOME}/bin/java&quot; -jar app1.jar\r\nStandardError=null\r\nStandardOutput=null\r\nLimitNOFILE=65536\r\nSuccessExitStatus=143\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\nOf course, that `StandardError=null` is dangerous as you&#39;ll never see why, if it fails. You probably want `StandardError=journal`","title":"Exec format error when running a jar file as systemd service","body":"<p>This is what worked for me. Tricky</p>\n<pre><code>[Unit]\nDescription=APP1 Java Service\nAfter=syslog.target\n\n[Service]\n\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/bellsoft-java20-full-amd64&quot;\nWorkingDirectory=/opt/java_apps/app1\nUser=app1_user\nExecStart=/usr/bin/env &quot;${JAVA_HOME}/bin/java&quot; -jar app1.jar\nStandardError=null\nStandardOutput=null\nLimitNOFILE=65536\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>Of course, that <code>StandardError=null</code> is dangerous as you'll never see why, if it fails. You probably want <code>StandardError=journal</code></p>\n"},{"tags":[],"owner":{"account_id":15672356,"reputation":9,"user_id":11308478,"display_name":"Ya&#231;in Da"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693135893,"creation_date":1692711570,"answer_id":76953893,"question_id":76951493,"body_markdown":"I solved my problem by adding this config to my springboot plugin (in the pom.xml):\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;executable&gt;true&lt;/executable&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI rebuilt the application and it runs fine as a systemd service. The issue was that it was not built as executable.\r\n\r\nI appreciate your response, [@g00se][1], but the problem wasn&#39;t that.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/16376827/g00se","title":"Exec format error when running a jar file as systemd service","body":"<p>I solved my problem by adding this config to my springboot plugin (in the pom.xml):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;executable&gt;true&lt;/executable&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I rebuilt the application and it runs fine as a systemd service. The issue was that it was not built as executable.</p>\n<p>I appreciate your response, <a href=\"https://stackoverflow.com/users/16376827/g00se\">@g00se</a>, but the problem wasn't that.</p>\n"}],"owner":{"account_id":15672356,"reputation":9,"user_id":11308478,"display_name":"Ya&#231;in Da"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693135893,"creation_date":1692693309,"question_id":76951493,"body_markdown":"I have a problem when running a jar application as a systemd service. I get this error :\r\n```\r\nsystemd[30196]: Failed at step EXEC spawning /opt/java_apps/app1/app1.jar: Exec format error\r\n```\r\n\r\nbut when i run it manually using java -jar command it runs well.\r\n\r\ni have verified the permissions of the directories and files, the jar is built using the same java version...\r\n\r\napp1.service:\r\n```\r\n[Unit]\r\nDescription=APP1 Java Service\r\nAfter=syslog.target\r\n\r\n[Service]\r\nUser=app1_user\r\nExecStart=/opt/java_apps/app1/app1.jar\r\nStandardError=null\r\nStandardOutput=null\r\nLimitNOFILE=65536\r\nEnvironment=JAVA_HOME=/opt/java/jdk-17.0.7+7\r\nSuccessExitStatus=143\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\napp1.conf:\r\n\r\n```\r\nJAVA_OPTS=&quot;-Dspring.config.location=/opt/java_apps/app1/conf/ \\\r\n-Dlogging.config=/opt/java_apps/app1/conf/logback.xml \\\r\n-Dfile.encoding=UTF-8 \\\r\n-server -Xms2g \\\r\n-Xmx2g \\\r\n-Xmn400m \\\r\n-XX:MetaspaceSize=256m \\\r\n-XX:MaxMetaspaceSize=256m \\\r\n-XX:+PrintConcurrentLocks -verbosegc -XX:+UseCompressedOops -XX:+HeapDumpOnOutOfMemoryError \\\r\n-XX:+UseGCOverheadLimit -Xlog:gc:/var/log/java_apps/app1/gc-app1-2_%t.log \\\r\n-XX:HeapDumpPath=/var/log/heapdump \\\r\n-XX:ErrorFile=/var/log/java_apps/app1/hs_err_%t.log \\\r\n-Djdk.tls.maxCertificateChainLength=100 \\\r\n-Dorg.xerial.snappy.tempdir=/opt/java_apps/snappy&quot;\r\n```\r\n\r\n\r\ni want a solution to run the app1.jar as a systemd service please.","title":"Exec format error when running a jar file as systemd service","body":"<p>I have a problem when running a jar application as a systemd service. I get this error :</p>\n<pre><code>systemd[30196]: Failed at step EXEC spawning /opt/java_apps/app1/app1.jar: Exec format error\n</code></pre>\n<p>but when i run it manually using java -jar command it runs well.</p>\n<p>i have verified the permissions of the directories and files, the jar is built using the same java version...</p>\n<p>app1.service:</p>\n<pre><code>[Unit]\nDescription=APP1 Java Service\nAfter=syslog.target\n\n[Service]\nUser=app1_user\nExecStart=/opt/java_apps/app1/app1.jar\nStandardError=null\nStandardOutput=null\nLimitNOFILE=65536\nEnvironment=JAVA_HOME=/opt/java/jdk-17.0.7+7\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>app1.conf:</p>\n<pre><code>JAVA_OPTS=&quot;-Dspring.config.location=/opt/java_apps/app1/conf/ \\\n-Dlogging.config=/opt/java_apps/app1/conf/logback.xml \\\n-Dfile.encoding=UTF-8 \\\n-server -Xms2g \\\n-Xmx2g \\\n-Xmn400m \\\n-XX:MetaspaceSize=256m \\\n-XX:MaxMetaspaceSize=256m \\\n-XX:+PrintConcurrentLocks -verbosegc -XX:+UseCompressedOops -XX:+HeapDumpOnOutOfMemoryError \\\n-XX:+UseGCOverheadLimit -Xlog:gc:/var/log/java_apps/app1/gc-app1-2_%t.log \\\n-XX:HeapDumpPath=/var/log/heapdump \\\n-XX:ErrorFile=/var/log/java_apps/app1/hs_err_%t.log \\\n-Djdk.tls.maxCertificateChainLength=100 \\\n-Dorg.xerial.snappy.tempdir=/opt/java_apps/snappy&quot;\n</code></pre>\n<p>i want a solution to run the app1.jar as a systemd service please.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1348816725,"post_id":12634918,"comment_id":17039274,"body_markdown":"If you are not happy with these answers, update the question to make it clear what you really want to know and/or add comments.  Do not simply repost the question.  Your repost will be down-voted and closed, and you will lose reputation points.","body":"If you are not happy with these answers, update the question to make it clear what you really want to know and/or add comments.  Do not simply repost the question.  Your repost will be down-voted and closed, and you will lose reputation points."}],"answers":[{"comments":[{"owner":{"account_id":1062801,"reputation":6664,"user_id":1064076,"accept_rate":59,"display_name":"Arun Kumar"},"score":4,"creation_date":1348815802,"post_id":12634974,"comment_id":17038939,"body_markdown":"HashSet is not a implementation of HashTable but it implements Set&lt;E&gt; interface.","body":"HashSet is not a implementation of HashTable but it implements Set&lt;E&gt; interface."},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1348816052,"post_id":12634974,"comment_id":17039023,"body_markdown":"@ArunKumar: If you debug a `HashSet&lt;K&gt;` you will notice a structure such as this: `HashMap&lt;K, Object&gt;`. For every item you throw in the set, it adds it as a key to the `HashMap` and adds a dummy object as a value. When I said an implementation I was not referring to interfaces, just the internal workings of the `HashSet` class.","body":"@ArunKumar: If you debug a <code>HashSet&lt;K&gt;</code> you will notice a structure such as this: <code>HashMap&lt;K, Object&gt;</code>. For every item you throw in the set, it adds it as a key to the <code>HashMap</code> and adds a dummy object as a value. When I said an implementation I was not referring to interfaces, just the internal workings of the <code>HashSet</code> class."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1348816660,"post_id":12634974,"comment_id":17039250,"body_markdown":"`HashSet` is not an implementation of `HashMap`. Even if you say that the `HashSet` uses an internal `HashMap` to store the data it is not an implementation instead a use association. If `HashSet` were an implementation of a `HashMap`, then you could have something like `HashMap x = new HashSet` and that&#39;s plain wrong.","body":"<code>HashSet</code> is not an implementation of <code>HashMap</code>. Even if you say that the <code>HashSet</code> uses an internal <code>HashMap</code> to store the data it is not an implementation instead a use association. If <code>HashSet</code> were an implementation of a <code>HashMap</code>, then you could have something like <code>HashMap x = new HashSet</code> and that&#39;s plain wrong."},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":1,"creation_date":1348817986,"post_id":12634974,"comment_id":17039709,"body_markdown":"@LuiggiMendoza: As per my last line in my response to Arun Kumar: *When I said an implementation I was not referring to interfaces, just the internal workings of the HashSet class*","body":"@LuiggiMendoza: As per my last line in my response to Arun Kumar: <i>When I said an implementation I was not referring to interfaces, just the internal workings of the HashSet class</i>"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1348818651,"post_id":12634974,"comment_id":17039990,"body_markdown":"First, in Java, a class X `extends` another class and `implements` one or more interfaces. Second, if `HashSet` implements the `Set` interface using an internal `HashMap`, that makes `HashMap` and `HashSet` having an **use** relationship, this does not neccesarily means that *one does not iÃ∂mÃ∂pÃ∂lÃ∂eÃ∂mÃ∂eÃ∂nÃ∂tÃ∂sÃ∂ extends another*. More about this [here](http://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html).","body":"First, in Java, a class X <code>extends</code> another class and <code>implements</code> one or more interfaces. Second, if <code>HashSet</code> implements the <code>Set</code> interface using an internal <code>HashMap</code>, that makes <code>HashMap</code> and <code>HashSet</code> having an <b>use</b> relationship, this does not neccesarily means that <i>one does not iÃ∂mÃ∂pÃ∂lÃ∂eÃ∂mÃ∂eÃ∂nÃ∂tÃ∂sÃ∂ extends another</i>. More about this <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348815879,"creation_date":1348815024,"answer_id":12634974,"question_id":12634918,"body_markdown":"A `HashSet` is in itself an implementation of the `HashMap` so in the end it does not really make much of a difference. However, since you are dealing with users, I think that eventually you will need to access `User` objects by ID.\r\n\r\nAssuming that each user has a unique ID, you could use a `HashMap` with ID&#39;s as a key and the entire `User` object as value. This will allow you to both traverse and access specific user data.","title":"what should be used HashMap or HashSet?","body":"<p>A <code>HashSet</code> is in itself an implementation of the <code>HashMap</code> so in the end it does not really make much of a difference. However, since you are dealing with users, I think that eventually you will need to access <code>User</code> objects by ID.</p>\n\n<p>Assuming that each user has a unique ID, you could use a <code>HashMap</code> with ID's as a key and the entire <code>User</code> object as value. This will allow you to both traverse and access specific user data.</p>\n"},{"tags":[],"owner":{"account_id":1062801,"reputation":6664,"user_id":1064076,"accept_rate":59,"display_name":"Arun Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348816211,"creation_date":1348816211,"answer_id":12635247,"question_id":12634918,"body_markdown":"HashMap and HahSet use diffrent data structure to store objects. \r\n    \r\nIn a **HashMap** you store objects in **key-value** pairs\r\n\r\nIn a **HashSet** you store only the **keys** as objects.\r\n\r\n\r\n----------\r\n\r\n\r\n**Following are some of the difference between them:**\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n 1. HashSet is implementation of Set interface. **HashMap** is the implementation of Map interface.\r\n 2. HashSet Store only value. HashMap Stores data in form of key value\r\n    pair.\r\n 3. HashSet does not allow duplicate values/objects HashMap allows\r\n    duplicate value/objects but would not allow duplicate key.\r\n 4. HashSet is slower than hashmap. HashMap is faster than hashset\r\n    because the values are associated to unique key\r\n 5. In HashSet, member object is used for calculating hashcode value\r\n    which can be same for two objects so equal () method is used to\r\n    check for equality if it returns false that means two objects are\r\n    different.In HashMap, hashcode value is calculated using key object.","title":"what should be used HashMap or HashSet?","body":"<p>HashMap and HahSet use diffrent data structure to store objects. </p>\n\n<p>In a <strong>HashMap</strong> you store objects in <strong>key-value</strong> pairs</p>\n\n<p>In a <strong>HashSet</strong> you store only the <strong>keys</strong> as objects.</p>\n\n<hr>\n\n<p><strong>Following are some of the difference between them:</strong></p>\n\n<hr>\n\n<ol>\n<li>HashSet is implementation of Set interface. <strong>HashMap</strong> is the implementation of Map interface.</li>\n<li>HashSet Store only value. HashMap Stores data in form of key value\npair.</li>\n<li>HashSet does not allow duplicate values/objects HashMap allows\nduplicate value/objects but would not allow duplicate key.</li>\n<li>HashSet is slower than hashmap. HashMap is faster than hashset\nbecause the values are associated to unique key</li>\n<li>In HashSet, member object is used for calculating hashcode value\nwhich can be same for two objects so equal () method is used to\ncheck for equality if it returns false that means two objects are\ndifferent.In HashMap, hashcode value is calculated using key object.</li>\n</ol>\n"}],"owner":{"account_id":1567301,"reputation":1653,"user_id":1455802,"accept_rate":18,"display_name":"pankaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693135630,"creation_date":1348814833,"question_id":12634918,"body_markdown":"If you are given a set of records (say, User records with `Id`, `Name` and `age` fields) and you need to send a collection of it \r\nto the view for simple traversal. Then which collection would be preferable for use between `HashMap` and `HashSet` \r\nand why? What hashcode generation code would you use in the User class for efficiency?\r\n","title":"what should be used HashMap or HashSet?","body":"<p>If you are given a set of records (say, User records with <code>Id</code>, <code>Name</code> and <code>age</code> fields) and you need to send a collection of it\nto the view for simple traversal. Then which collection would be preferable for use between <code>HashMap</code> and <code>HashSet</code>\nand why? What hashcode generation code would you use in the User class for efficiency?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":937963,"reputation":67649,"user_id":966550,"accept_rate":67,"display_name":"waqaslam"},"score":0,"creation_date":1592851210,"post_id":62521162,"comment_id":110567515,"body_markdown":"Tip: whenever you upload an apk on playstore, also append the obfuscation mapping-file too in order to decode the exception stack trace for future. The stack points towards `MainActivity$d.a(:4)` and `j.g$b$a$a.run(Unknown Source:37)` but now we don&#39;t know what&#39;s its actual class and call.","body":"Tip: whenever you upload an apk on playstore, also append the obfuscation mapping-file too in order to decode the exception stack trace for future. The stack points towards <code>MainActivity$d.a(:4)</code> and <code>j.g$b$a$a.run(Unknown Source:37)</code> but now we don&#39;t know what&#39;s its actual class and call."},{"owner":{"account_id":17185925,"reputation":192,"user_id":12440539,"display_name":"Hamza Muazzam"},"score":0,"creation_date":1592851301,"post_id":62521162,"comment_id":110567554,"body_markdown":"where to append append the obfuscation mapping-file...","body":"where to append append the obfuscation mapping-file..."},{"owner":{"account_id":937963,"reputation":67649,"user_id":966550,"accept_rate":67,"display_name":"waqaslam"},"score":0,"creation_date":1592851554,"post_id":62521162,"comment_id":110567700,"body_markdown":"App -&gt; Android Vitals -&gt; Deobfuscation files","body":"App -&gt; Android Vitals -&gt; Deobfuscation files"},{"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1592860658,"post_id":62521162,"comment_id":110571549,"body_markdown":"This issue might be caused by incompatible data from your apps previous version.Try out the following: Checkout your old code and install the previous version of your app via Android Studio. Then checkout the newest version and install the new version.","body":"This issue might be caused by incompatible data from your apps previous version.Try out the following: Checkout your old code and install the previous version of your app via Android Studio. Then checkout the newest version and install the new version."},{"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"score":0,"creation_date":1592892971,"post_id":62521162,"comment_id":110579341,"body_markdown":"Did You test the update to the new major release also in Android Studio? Run old version and update the code und run the version?","body":"Did You test the update to the new major release also in Android Studio? Run old version and update the code und run the version?"},{"owner":{"account_id":17185925,"reputation":192,"user_id":12440539,"display_name":"Hamza Muazzam"},"score":0,"creation_date":1593378712,"post_id":62521162,"comment_id":110753203,"body_markdown":"Thank you all guys. But i changed from true to false again in gradle (app level) for minifyEnabled false and issue resolved.","body":"Thank you all guys. But i changed from true to false again in gradle (app level) for minifyEnabled false and issue resolved."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693339533,"post_id":76986830,"comment_id":135747162,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76986830/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29308097,"reputation":1,"user_id":22454620,"display_name":"majda talal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693134913,"creation_date":1693134866,"answer_id":76986830,"question_id":62521162,"body_markdown":"\r\nThere&#39;s a lot of things can do this problem in my case I had the same issue.. and the problem was in Admob App ID","title":"App is crashing after publishing on playstore update but running ok from android studio (Duplicat But unable to find solution)","body":"<p>There's a lot of things can do this problem in my case I had the same issue.. and the problem was in Admob App ID</p>\n"}],"owner":{"account_id":17185925,"reputation":192,"user_id":12440539,"display_name":"Hamza Muazzam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693134913,"creation_date":1592850663,"question_id":62521162,"body_markdown":"Greeting Experts. I am new to android. I tried every solution but all in vain. please don&#39;t tell me this is stupid question.\r\n i published an app Named &quot;Ertugral GHazi&quot; when i install it from android studio to mobile directly it is working fine . but after major update app is crashing on every device. \r\nI tried Try catch on every block of code but same thing is happening.\r\n crash log is below.\r\n   \r\nApp [Link][1] of playstore\r\n\r\n    &gt; --------- beginning of crash 2020-06-22 23:17:43.725 2091-2091/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n    &gt;     Process: com.sourceinflow.ertugrulinurdu, PID: 2091\r\n    &gt;     java.lang.NullPointerException: throw with null exception\r\n    &gt;         at com.sourceinflow.ertugrulinurdu.MainActivity$d.a(:4)\r\n    &gt;         at j.g$b$a$a.run(Unknown Source:37)\r\n    &gt;         at android.os.Handler.handleCallback(Handler.java:888)\r\n    &gt;         at android.os.Handler.dispatchMessage(Handler.java:100)\r\n    &gt;         at android.os.Looper.loop(Looper.java:213)\r\n    &gt;         at android.app.ActivityThread.main(ActivityThread.java:8178)\r\n    &gt;         at java.lang.reflect.Method.invoke(Native Method)\r\n    &gt;         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n    &gt;         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\r\n\r\nMy Gradle settings are below.\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.sourceinflow.ertugrulinurdu&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 30\r\n            versionCode 3\r\n            versionName &quot;3.0&quot;\r\n            multiDexEnabled true\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                \r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            // Or, if you prefer, you can continue to check for errors in release builds,\r\n            // but continue the build even when errors are found:\r\n            abortOnError false\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-firestore:21.4.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:19.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:20.2.0&#39;\r\n        testImplementation &#39;junit:junit:4.13&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.facebook.shimmer:shimmer:0.5.0&#39;\r\n    //    implementation &#39;com.dailymotion.dailymotion-sdk-android:sdk:0.2.1&#39;\r\n        implementation &#39;com.google.android.exoplayer:exoplayer:2.9.6&#39;\r\n    \r\n        implementation &#39;com.google.android.gms:play-services-ads:19.1.0&#39;\r\n    \r\n        //retrofit and gson\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.4.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.4.0&#39;\r\n    }\r\n\r\nProject Level Gradle file\r\n\r\n\r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            \r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.0.0&#39;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.1.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n    \r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n    \r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.sourceinflow.ertugrulinurdu","title":"App is crashing after publishing on playstore update but running ok from android studio (Duplicat But unable to find solution)","body":"<p>Greeting Experts. I am new to android. I tried every solution but all in vain. please don't tell me this is stupid question.\ni published an app Named &quot;Ertugral GHazi&quot; when i install it from android studio to mobile directly it is working fine . but after major update app is crashing on every device.\nI tried Try catch on every block of code but same thing is happening.\ncrash log is below.</p>\n<p>App <a href=\"https://play.google.com/store/apps/details?id=com.sourceinflow.ertugrulinurdu\" rel=\"nofollow noreferrer\">Link</a> of playstore</p>\n<pre><code>&gt; --------- beginning of crash 2020-06-22 23:17:43.725 2091-2091/? E/AndroidRuntime: FATAL EXCEPTION: main\n&gt;     Process: com.sourceinflow.ertugrulinurdu, PID: 2091\n&gt;     java.lang.NullPointerException: throw with null exception\n&gt;         at com.sourceinflow.ertugrulinurdu.MainActivity$d.a(:4)\n&gt;         at j.g$b$a$a.run(Unknown Source:37)\n&gt;         at android.os.Handler.handleCallback(Handler.java:888)\n&gt;         at android.os.Handler.dispatchMessage(Handler.java:100)\n&gt;         at android.os.Looper.loop(Looper.java:213)\n&gt;         at android.app.ActivityThread.main(ActivityThread.java:8178)\n&gt;         at java.lang.reflect.Method.invoke(Native Method)\n&gt;         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n&gt;         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\n</code></pre>\n<p>My Gradle settings are below.</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.firebase.crashlytics'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.sourceinflow.ertugrulinurdu&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode 3\n        versionName &quot;3.0&quot;\n        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            \n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-firestore:21.4.3'\n    implementation 'com.google.firebase:firebase-storage:19.1.1'\n    implementation 'com.google.firebase:firebase-messaging:20.2.0'\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.google.android.material:material:1.1.0'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.facebook.shimmer:shimmer:0.5.0'\n//    implementation 'com.dailymotion.dailymotion-sdk-android:sdk:0.2.1'\n    implementation 'com.google.android.exoplayer:exoplayer:2.9.6'\n\n    implementation 'com.google.android.gms:play-services-ads:19.1.0'\n\n    //retrofit and gson\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'\n}\n</code></pre>\n<p>Project Level Gradle file</p>\n<pre><code>buildscript {\n    \n    repositories {\n        google()\n        jcenter()\n        \n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.0.0'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.1.1'\n        classpath 'com.google.gms:google-services:4.3.3'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","blockingqueue"],"answers":[{"comments":[{"owner":{"account_id":134027,"reputation":6146,"user_id":335868,"accept_rate":94,"display_name":"Michele"},"score":0,"creation_date":1407447177,"post_id":25192376,"comment_id":39230568,"body_markdown":"Thanks for the Answer, those Tools would fit perfect but i need to collect the results when all Tasks are done.","body":"Thanks for the Answer, those Tools would fit perfect but i need to collect the results when all Tasks are done."}],"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407446214,"creation_date":1407446214,"answer_id":25192376,"question_id":25192142,"body_markdown":"I&#39;ve never had need to do this sort of thing, but you might have some luck using a [`CountDownLatch`][1] or [`CyclicBarrier`][2] from your various threads.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html","title":"Wait till a Blocking Queue is full","body":"<p>I've never had need to do this sort of thing, but you might have some luck using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow\"><code>CountDownLatch</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"nofollow\"><code>CyclicBarrier</code></a> from your various threads.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407474449,"creation_date":1407474449,"answer_id":25196404,"question_id":25192142,"body_markdown":"If you&#39;re using Java 8, do the following:\r\n\r\n - With each call to `makeAsync`, create a `CompletableFuture&lt;Result&gt;` instance and make it available to the `AsyncHandler`, and have the caller keep a reference too, say in a list.\r\n - When an async task completes normally, have it call `complete(result)` on its `CompletableFuture` instance.\r\n - When an async task completes with an error, have it call `completeExceptionally(exception)` on its `CompletableFuture` instance.\r\n - After initiating all the asynchronous tasks, have the caller call `CompletableFuture.allOf(cfArray).join()`. Unfortunately this takes an array, not a list, so you have to convert. The `join()` call will throw an exception if any one of the tasks completed with an error. Otherwise, you can collect the results from the individual `CompletableFuture` instances by calling their `get()` methods.\r\n\r\nIf you don&#39;t have Java 8, you&#39;ll have to sort of roll your own mechanism. Initialize a `CountDownLatch` to the number of async tasks you&#39;re going to fire off. Have each async task store its result (or an exception, or some other means of indicating failure) into a thread-safe data structure and then decrement (&#39;countDown`) the latch. Have the caller wait for the latch to reach zero and then collect the results and errors. This isn&#39;t terribly difficult, but you have to determine a means for storing valid results as well as recording whether an error occurred, and also maintain a count manually.\r\n","title":"Wait till a Blocking Queue is full","body":"<p>If you're using Java 8, do the following:</p>\n\n<ul>\n<li>With each call to <code>makeAsync</code>, create a <code>CompletableFuture&lt;Result&gt;</code> instance and make it available to the <code>AsyncHandler</code>, and have the caller keep a reference too, say in a list.</li>\n<li>When an async task completes normally, have it call <code>complete(result)</code> on its <code>CompletableFuture</code> instance.</li>\n<li>When an async task completes with an error, have it call <code>completeExceptionally(exception)</code> on its <code>CompletableFuture</code> instance.</li>\n<li>After initiating all the asynchronous tasks, have the caller call <code>CompletableFuture.allOf(cfArray).join()</code>. Unfortunately this takes an array, not a list, so you have to convert. The <code>join()</code> call will throw an exception if any one of the tasks completed with an error. Otherwise, you can collect the results from the individual <code>CompletableFuture</code> instances by calling their <code>get()</code> methods.</li>\n</ul>\n\n<p>If you don't have Java 8, you'll have to sort of roll your own mechanism. Initialize a <code>CountDownLatch</code> to the number of async tasks you're going to fire off. Have each async task store its result (or an exception, or some other means of indicating failure) into a thread-safe data structure and then decrement ('countDown`) the latch. Have the caller wait for the latch to reach zero and then collect the results and errors. This isn't terribly difficult, but you have to determine a means for storing valid results as well as recording whether an error occurred, and also maintain a count manually.</p>\n"},{"tags":[],"owner":{"account_id":2415386,"reputation":2987,"user_id":2109526,"accept_rate":43,"display_name":"Alex Suo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407486066,"creation_date":1407486066,"answer_id":25198961,"question_id":25192142,"body_markdown":"If you can modify methodAsync(), then it&#39;s as simple as to use a CountDownLatch after each time you put some elements in the queue and have the main thread wait for such a CountDownLatch.\r\n\r\nIf unfortunately you cannot modify methodAsync(), then simply wrap the queue and give it a count down latch, and then override the add() method to count down this latch. The main method just wait it to be done.\r\n\r\nHaving said the above, your program structure smells not well organized.","title":"Wait till a Blocking Queue is full","body":"<p>If you can modify methodAsync(), then it's as simple as to use a CountDownLatch after each time you put some elements in the queue and have the main thread wait for such a CountDownLatch.</p>\n\n<p>If unfortunately you cannot modify methodAsync(), then simply wrap the queue and give it a count down latch, and then override the add() method to count down this latch. The main method just wait it to be done.</p>\n\n<p>Having said the above, your program structure smells not well organized.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1407490041,"creation_date":1407490041,"answer_id":25200142,"question_id":25192142,"body_markdown":"What you describe with\r\n\r\n    //Blocking till the Queue is full\r\n    List&lt;Results&gt; results = queue.takeAll();\r\n\r\ndoes not differ semantically from ‚Äútake as much items as the queue‚Äôs capacity‚Äù. If you know the capacity you can achieve this by:\r\n\r\n    // preferably a constant which you also use to construct the bounded queue\r\n    int capacity;\r\n\r\n‚Ä¶\r\n\r\n    List&lt;Results&gt; results = new ArrayList&lt;&gt;(capacity);\r\n    queue.drainTo(results, capacity);\r\n    while(result.size()&lt;capacity)\r\n        queue.drainTo(results, capacity-result.size());\r\n\r\nThis will block until it has received as much items as the `capacity` which is, as said, the same as waiting for the queue to become full (has a size equal to its capacity) and than take all items. The only difference is that the event of the queue becoming full is not guaranteed to happen, e.g. if you intend your async operations to `offer` items until the queue is full, it does not work this way.\r\n\r\nIf you don‚Äôt know the capacity, you are out of luck. There is not even a guaranty that an arbitrary `BlockingQueue` is bounded, read, it might have an unlimited capacity.\r\n\r\nOn the other hand, if the asynchronous operations are able to detect when they have finished, they could simply collect the items in a list locally and put the entire list into a `BlockingQueue&lt;List&lt;Results&gt;&gt;` as a single item once they are done. Then your code waiting for it needs only a single `take` to get the entire list.\r\n","title":"Wait till a Blocking Queue is full","body":"<p>What you describe with</p>\n\n<pre><code>//Blocking till the Queue is full\nList&lt;Results&gt; results = queue.takeAll();\n</code></pre>\n\n<p>does not differ semantically from ‚Äútake as much items as the queue‚Äôs capacity‚Äù. If you know the capacity you can achieve this by:</p>\n\n<pre><code>// preferably a constant which you also use to construct the bounded queue\nint capacity;\n</code></pre>\n\n<p>‚Ä¶</p>\n\n<pre><code>List&lt;Results&gt; results = new ArrayList&lt;&gt;(capacity);\nqueue.drainTo(results, capacity);\nwhile(result.size()&lt;capacity)\n    queue.drainTo(results, capacity-result.size());\n</code></pre>\n\n<p>This will block until it has received as much items as the <code>capacity</code> which is, as said, the same as waiting for the queue to become full (has a size equal to its capacity) and than take all items. The only difference is that the event of the queue becoming full is not guaranteed to happen, e.g. if you intend your async operations to <code>offer</code> items until the queue is full, it does not work this way.</p>\n\n<p>If you don‚Äôt know the capacity, you are out of luck. There is not even a guaranty that an arbitrary <code>BlockingQueue</code> is bounded, read, it might have an unlimited capacity.</p>\n\n<p>On the other hand, if the asynchronous operations are able to detect when they have finished, they could simply collect the items in a list locally and put the entire list into a <code>BlockingQueue&lt;List&lt;Results&gt;&gt;</code> as a single item once they are done. Then your code waiting for it needs only a single <code>take</code> to get the entire list.</p>\n"},{"tags":[],"owner":{"account_id":2471986,"reputation":31,"user_id":2153604,"display_name":"user2153604"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693134549,"creation_date":1693134549,"answer_id":76986810,"question_id":25192142,"body_markdown":"I wrote a solution to your problem. I used an additional BlockingQueue with &quot;freeWorkers&quot; with the same capacity as the real worker thread pool. I just take the &quot;freeWorker&quot; before starting the next task and each task returns the &quot;freeWorker&quot; to the &quot;freeWorkes&quot; queue. Here is an example:\r\n\r\n    package poc.concurrecy;\r\n    \r\n    import java.util.Random;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.LinkedBlockingQueue;\r\n    import java.util.concurrent.ThreadPoolExecutor;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import static java.util.concurrent.TimeUnit.SECONDS;\r\n    \r\n    public class ThreadPoolQueueTest {\r\n    \r\n        public static final String WHITE = &quot;\\033[0;39m&quot;;\r\n        public static final Random RANDOM = new Random();\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            int capacity = 5;\r\n            LinkedBlockingQueue&lt;Integer&gt; freeWorkers = new LinkedBlockingQueue&lt;&gt;(capacity);\r\n            for (int i = 1; i &lt; capacity + 1; i++) freeWorkers.put(i);\r\n            System.out.println(WHITE + freeWorkers);\r\n            System.out.println(WHITE + &quot;===========&quot;);\r\n            LinkedBlockingQueue&lt;Runnable&gt; workQueue = new LinkedBlockingQueue&lt;&gt;(capacity);\r\n            ExecutorService executor =\r\n                    new ThreadPoolExecutor(capacity, capacity,\r\n                            0L, TimeUnit.MILLISECONDS,\r\n                            workQueue);\r\n            try {\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    Integer freeWorker = freeWorkers.take();\r\n                    String color = &quot;\\033[0;3&quot; + freeWorker + &quot;m&quot;;\r\n                    System.out.println(WHITE + &quot;take free worker &quot; + freeWorker);\r\n                    System.out.println(WHITE + freeWorkers);\r\n                    executor.execute(() -&gt; {\r\n                        System.out.println(color + &quot;run &quot; + freeWorker);\r\n                        delay(1 + RANDOM.nextInt(3));\r\n                        System.out.println(color + &quot;done &quot; + freeWorker);\r\n                        try {\r\n                            System.out.println(color + &quot;return free worker &quot; + freeWorker);\r\n                            freeWorkers.put(freeWorker);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    });\r\n                    System.out.println(WHITE + &quot;put task &quot; + freeWorker);\r\n                }\r\n    \r\n            } finally {\r\n                executor.shutdown();\r\n                executor.awaitTermination(5, TimeUnit.SECONDS);\r\n            }\r\n            System.out.println(WHITE + &quot;==========&quot;);\r\n            System.out.println(WHITE + freeWorkers);\r\n        }\r\n    \r\n        public static void delay(int timeout) {\r\n            try {\r\n                SECONDS.sleep(timeout);\r\n            } catch (InterruptedException e) {\r\n                // do nothing\r\n            }\r\n        }\r\n    }\r\n\r\nhere is an output:\r\n\r\n    [1, 2, 3, 4, 5]\r\n    ===========\r\n    take free worker 1\r\n\r\n    [2, 3, 4, 5]\r\n    put task 1\r\n    take free worker 2\r\n    [3, 4, 5]\r\n    put task 2\r\n    take free worker 3\r\n    [4, 5]\r\n    put task 3\r\n    take free worker 4\r\n    [5]\r\n    put task 4\r\n    take free worker 5\r\n    []\r\n    put task 5\r\n    run 3\r\n    run 5\r\n    run 1\r\n    run 2\r\n    run 4\r\n    done 4\r\n    return free worker 4\r\n    take free worker 4\r\n    []\r\n    put task 4\r\n    run 4\r\n    done 3\r\n    return free worker 3\r\n    take free worker 3\r\n    []\r\n    put task 3\r\n    run 3\r\n    done 5\r\n    return free worker 5\r\n    done 1\r\n    return free worker 1\r\n    take free worker 5\r\n    [1]\r\n    put task 5\r\n    take free worker 1\r\n    run 5\r\n    []\r\n    put task 1\r\n    run 1\r\n    done 3\r\n    return free worker 3\r\n    done 2\r\n    return free worker 2\r\n    take free worker 3\r\n    [2]\r\n    put task 3\r\n    run 3\r\n    done 5\r\n    return free worker 5\r\n    done 1\r\n    return free worker 1\r\n    done 4\r\n    return free worker 4\r\n    done 3\r\n    return free worker 3\r\n    ==========\r\n    [2, 5, 1, 4, 3]\r\n\r\nObviously you can simplify this code and remove all debug infos &quot;System.out&quot;\r\n\r\n\r\n","title":"Wait till a Blocking Queue is full","body":"<p>I wrote a solution to your problem. I used an additional BlockingQueue with &quot;freeWorkers&quot; with the same capacity as the real worker thread pool. I just take the &quot;freeWorker&quot; before starting the next task and each task returns the &quot;freeWorker&quot; to the &quot;freeWorkes&quot; queue. Here is an example:</p>\n<pre><code>package poc.concurrecy;\n\nimport java.util.Random;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\nimport static java.util.concurrent.TimeUnit.SECONDS;\n\npublic class ThreadPoolQueueTest {\n\n    public static final String WHITE = &quot;\\033[0;39m&quot;;\n    public static final Random RANDOM = new Random();\n\n    public static void main(String[] args) throws InterruptedException {\n        int capacity = 5;\n        LinkedBlockingQueue&lt;Integer&gt; freeWorkers = new LinkedBlockingQueue&lt;&gt;(capacity);\n        for (int i = 1; i &lt; capacity + 1; i++) freeWorkers.put(i);\n        System.out.println(WHITE + freeWorkers);\n        System.out.println(WHITE + &quot;===========&quot;);\n        LinkedBlockingQueue&lt;Runnable&gt; workQueue = new LinkedBlockingQueue&lt;&gt;(capacity);\n        ExecutorService executor =\n                new ThreadPoolExecutor(capacity, capacity,\n                        0L, TimeUnit.MILLISECONDS,\n                        workQueue);\n        try {\n            for (int i = 0; i &lt; 10; i++) {\n                Integer freeWorker = freeWorkers.take();\n                String color = &quot;\\033[0;3&quot; + freeWorker + &quot;m&quot;;\n                System.out.println(WHITE + &quot;take free worker &quot; + freeWorker);\n                System.out.println(WHITE + freeWorkers);\n                executor.execute(() -&gt; {\n                    System.out.println(color + &quot;run &quot; + freeWorker);\n                    delay(1 + RANDOM.nextInt(3));\n                    System.out.println(color + &quot;done &quot; + freeWorker);\n                    try {\n                        System.out.println(color + &quot;return free worker &quot; + freeWorker);\n                        freeWorkers.put(freeWorker);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                });\n                System.out.println(WHITE + &quot;put task &quot; + freeWorker);\n            }\n\n        } finally {\n            executor.shutdown();\n            executor.awaitTermination(5, TimeUnit.SECONDS);\n        }\n        System.out.println(WHITE + &quot;==========&quot;);\n        System.out.println(WHITE + freeWorkers);\n    }\n\n    public static void delay(int timeout) {\n        try {\n            SECONDS.sleep(timeout);\n        } catch (InterruptedException e) {\n            // do nothing\n        }\n    }\n}\n</code></pre>\n<p>here is an output:</p>\n<pre><code>[1, 2, 3, 4, 5]\n===========\ntake free worker 1\n\n[2, 3, 4, 5]\nput task 1\ntake free worker 2\n[3, 4, 5]\nput task 2\ntake free worker 3\n[4, 5]\nput task 3\ntake free worker 4\n[5]\nput task 4\ntake free worker 5\n[]\nput task 5\nrun 3\nrun 5\nrun 1\nrun 2\nrun 4\ndone 4\nreturn free worker 4\ntake free worker 4\n[]\nput task 4\nrun 4\ndone 3\nreturn free worker 3\ntake free worker 3\n[]\nput task 3\nrun 3\ndone 5\nreturn free worker 5\ndone 1\nreturn free worker 1\ntake free worker 5\n[1]\nput task 5\ntake free worker 1\nrun 5\n[]\nput task 1\nrun 1\ndone 3\nreturn free worker 3\ndone 2\nreturn free worker 2\ntake free worker 3\n[2]\nput task 3\nrun 3\ndone 5\nreturn free worker 5\ndone 1\nreturn free worker 1\ndone 4\nreturn free worker 4\ndone 3\nreturn free worker 3\n==========\n[2, 5, 1, 4, 3]\n</code></pre>\n<p>Obviously you can simplify this code and remove all debug infos &quot;System.out&quot;</p>\n"}],"owner":{"account_id":134027,"reputation":6146,"user_id":335868,"accept_rate":94,"display_name":"Michele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25200142,"answer_count":5,"score":0,"last_activity_date":1693134549,"creation_date":1407445426,"question_id":25192142,"body_markdown":"Im looking for a way to synchronize multiple asynchronous operations. I&#39;d like to use a BlockingQueue with a size equal to my operations but who can i wait till the Queue is full? \r\n\r\nIm looking for something like a reversed Blocking Queue.\r\n\r\nI need to **gather the Results** of each Thread at the End.\r\nThe AsyncHandler is fixed, its already a ThreadExecutor underlying, i cannot start new Threads.\r\n\r\n    //3 Times\r\n    makeAsync(new AsyncHandler() {\r\n       onSuccess() {\r\n         ..\r\n         queue.put(result)\r\n       }\r\n    \r\n       onFailure() {\r\n         ..\r\n       }\r\n    });\r\n    \r\n    //Blocking till the Queue is full\r\n    List&lt;Results&gt; = queue.takeAll()\r\n\r\nBonus Question: I need a way to end the wait when one of my Requests fails","title":"Wait till a Blocking Queue is full","body":"<p>Im looking for a way to synchronize multiple asynchronous operations. I'd like to use a BlockingQueue with a size equal to my operations but who can i wait till the Queue is full? </p>\n\n<p>Im looking for something like a reversed Blocking Queue.</p>\n\n<p>I need to <strong>gather the Results</strong> of each Thread at the End.\nThe AsyncHandler is fixed, its already a ThreadExecutor underlying, i cannot start new Threads.</p>\n\n<pre><code>//3 Times\nmakeAsync(new AsyncHandler() {\n   onSuccess() {\n     ..\n     queue.put(result)\n   }\n\n   onFailure() {\n     ..\n   }\n});\n\n//Blocking till the Queue is full\nList&lt;Results&gt; = queue.takeAll()\n</code></pre>\n\n<p>Bonus Question: I need a way to end the wait when one of my Requests fails</p>\n"},{"tags":["java","spring","spring-boot","lombok","spring-data-jdbc"],"answers":[{"comments":[{"owner":{"account_id":24772637,"reputation":57,"user_id":18656318,"display_name":"Raghav Kavimandan"},"score":0,"creation_date":1693143274,"post_id":76986804,"comment_id":135718334,"body_markdown":"Hey, thanks for your comment. So just to clarify, If I go with the first variant option as mentioned by you, I should just remove both &quot;private&quot; and &quot;final&quot; keywords from the properties of the Ingredient class. Is that right or am I missing something?","body":"Hey, thanks for your comment. So just to clarify, If I go with the first variant option as mentioned by you, I should just remove both &quot;private&quot; and &quot;final&quot; keywords from the properties of the Ingredient class. Is that right or am I missing something?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1693156079,"post_id":76986804,"comment_id":135719793,"body_markdown":"That should be sufficient.","body":"That should be sufficient."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693134454,"creation_date":1693134454,"answer_id":76986804,"question_id":76986272,"body_markdown":"I think the error message speaks for itself:\r\n\r\n&gt; Cannot set property id because no setter, no wither and it&#39;s not part of the persistenc\r\ne constructor\r\n\r\nSpring Data JDBC sets the id of an entity after saving it.\r\nFor this it needs a way to set it. \r\nThere are many variants how to achieve this:\r\n\r\n- make it not `final` and not `private`.\r\n- make it not `final` and provide a setter.\r\n- provide a _wither_, i.e. a `withId` method, taking the new id and returning a new entity instance with the new id applied.\r\n- provide a constructor (if it isn&#39;t the only constructor, mark it as `@PersistenceInstantiator`), that takes the id as an argument.\r\n\r\n\r\nAnd yes, if you don&#39;t use `data.sql` anymore, because you initialise the data in the application, you may and actually should delete it.\r\n","title":"Spring Data JDBC: Error - Cannot set property id because no setter, no wither, and it&#39;s not part of the persistence constructor","body":"<p>I think the error message speaks for itself:</p>\n<blockquote>\n<p>Cannot set property id because no setter, no wither and it's not part of the persistenc\ne constructor</p>\n</blockquote>\n<p>Spring Data JDBC sets the id of an entity after saving it.\nFor this it needs a way to set it.\nThere are many variants how to achieve this:</p>\n<ul>\n<li>make it not <code>final</code> and not <code>private</code>.</li>\n<li>make it not <code>final</code> and provide a setter.</li>\n<li>provide a <em>wither</em>, i.e. a <code>withId</code> method, taking the new id and returning a new entity instance with the new id applied.</li>\n<li>provide a constructor (if it isn't the only constructor, mark it as <code>@PersistenceInstantiator</code>), that takes the id as an argument.</li>\n</ul>\n<p>And yes, if you don't use <code>data.sql</code> anymore, because you initialise the data in the application, you may and actually should delete it.</p>\n"}],"owner":{"account_id":24772637,"reputation":57,"user_id":18656318,"display_name":"Raghav Kavimandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76986804,"answer_count":1,"score":-2,"last_activity_date":1693134454,"creation_date":1693124954,"question_id":76986272,"body_markdown":"I am a beginner in spring and trying to use Spring Data JDBC to persist data. I have made the necessary changes to the Repository interfaces by extending them with Repository/CrudRepositoy. Also, for preloading data into the h2 database, I have also set up a data_Loader_Config class with an ApplicationRunner. Still, Spring data cannot set the id property to one of the fields in the Ingredient class. I don&#39;t know what to do here...\r\n\r\nPS - After creating an applicationRunner instance should I delete the data.sql file that I was using earlier to preload data.\r\n\r\n## Here is my Ingredient class:\r\n\r\n```java\r\npackage tacos;\r\nimport lombok.Data;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.domain.Persistable;\r\nimport lombok.AccessLevel;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.beans.ConstructorProperties;\r\n\r\n\r\n@Data\r\n@Table\r\n@AllArgsConstructor\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE, force = true)\r\npublic class Ingredient implements Persistable&lt;String&gt; {\r\n\r\n    @Id\r\n    private final String id;\r\n    private final String name;\r\n    private final Type type;\r\n\r\n    public enum Type {\r\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\r\n    }\r\n\r\n//    @ConstructorProperties({&quot;id&quot;, &quot;name&quot;, &quot;type&quot;})\r\n//    public Ingredient(String id, String name, Type type) {\r\n//        this.id = id;\r\n//        this.name = name;\r\n//        this.type = type;\r\n//    }\r\n\r\n\r\n    @Override\r\n    public boolean isNew() {\r\n        // You can implement your logic here to determine if the ingredient is new or not.\r\n        // For example, you can check if the &#39;id&#39; property is null.\r\n        return id == null;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n## This is my Data_Loader_config class:\r\n\r\n```java\r\npackage tacos;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport tacos.data.IngredientRepository;\r\n\r\n\r\npublic class DataLoaderConfig {\r\n    @Bean\r\n    public ApplicationRunner dataLoader(IngredientRepository repo) {\r\n        return args -&gt; {\r\n            repo.save(new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Ingredient.Type.WRAP));\r\n            repo.save(new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Ingredient.Type.WRAP));\r\n            repo.save(new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Ingredient.Type.PROTEIN));\r\n            repo.save(new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Ingredient.Type.PROTEIN));\r\n            repo.save(new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Ingredient.Type.VEGGIES));\r\n            repo.save(new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Ingredient.Type.VEGGIES));\r\n            repo.save(new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Ingredient.Type.CHEESE));\r\n            repo.save(new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Ingredient.Type.CHEESE));\r\n            repo.save(new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Ingredient.Type.SAUCE));\r\n            repo.save(new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Ingredient.Type.SAUCE));\r\n        };\r\n    }\r\n}\r\n\r\n```\r\n\r\n## This is the ingredient repository which extends Repsitory/CrudRepsitory Interface:\r\n\r\n\r\n```java\r\npackage tacos.data;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport tacos.Ingredient;\r\n\r\npublic interface IngredientRepository extends CrudRepository&lt;Ingredient, String&gt; {\r\n   \r\n}\r\n\r\n```\r\n\r\n## Finally this is the stac trace:\r\n\r\n```\r\n2023-08-27T13:33:12.697+05:30 ERROR 13080 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.servi\r\nce() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.Illeg\r\nalStateException: Cannot set property id because no setter, no wither and it&#39;s not part of the persistence constructor p\r\nrivate tacos.Ingredient()] with root cause\r\n\r\njava.lang.IllegalStateException: Cannot set property id because no setter, no wither and it&#39;s not part of the persistenc\r\ne constructor private tacos.Ingredient()\r\n        at org.springframework.data.mapping.model.InstantiationAwarePropertyAccessor.setProperty(InstantiationAwarePrope\r\nrtyAccessor.java:94) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.model.SimplePersistentPropertyPathAccessor.setProperty(SimplePersistentPrope\r\nrtyPathAccessor.java:108) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.model.ConvertingPropertyAccessor.setProperty(ConvertingPropertyAccessor.java\r\n:60) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.lambda$populateProperties$0(Basi\r\ncJdbcConverter.java:433) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.model.BasicPersistentEntity.doWithProperties(BasicPersistentEntity.java:298)\r\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.mapping.PersistentEntity.doWithAll(PersistentEntity.java:297) ~[spring-data-commons-\r\n3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.populateProperties(BasicJdbcConv\r\nerter.java:418) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.createInstanceInternal(BasicJdbc\r\nConverter.java:562) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.mapRow(BasicJdbcConverter.java:4\r\n10) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter.mapRow(BasicJdbcConverter.java:305) ~[spring-da\r\nta-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.convert.EntityRowMapper.mapRow(EntityRowMapper.java:79) ~[spring-data-jdbc\r\n-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[\r\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[\r\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:729) ~[spring-jdbc-6.1.0\r\n-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:654) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4\r\n]\r\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:719) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \r\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \r\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:800) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \r\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:218\r\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:230\r\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.data.jdbc.core.convert.DefaultDataAccessStrategy.findAll(DefaultDataAccessStrategy.java:2\r\n74) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.core.JdbcAggregateTemplate.findAll(JdbcAggregateTemplate.java:341) ~[spring-dat\r\na-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.findAll(SimpleJdbcRepository.java:89) ~\r\n[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\r\n:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lamb\r\nda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.jav\r\na:136) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:\r\n120) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryC\r\nomposition.java:516) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterc\r\neptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodI\r\nnterceptor.java:168) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInt\r\nerceptor.java:143) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterce\r\nptor.java:123) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspec\r\ntSupport.java:392) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[\r\nspring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTransla\r\ntionInterceptor.java:137) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~\r\n[spring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\r\npring-aop-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.1.0-M\r\n4.jar:6.1.0-M4]\r\n        at jdk.proxy4/jdk.proxy4.$Proxy93.findAll(Unknown Source) ~[na:na]\r\n        at tacos.web.DesignTacoController.addIngredientsToModel(DesignTacoController.java:42) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\r\n:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spr\r\ning-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:18\r\n1) ~[spring-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.method.annotation.ModelFactory.invokeModelAttributeMethods(ModelFactory.java:143) ~[s\r\npring-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.method.annotation.ModelFactory.initModel(ModelFactory.java:112) ~[spring-web-6.1.0-M4\r\n.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(Reques\r\ntMappingHandlerAdapter.java:895) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMapp\r\ningHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.j\r\nava:87) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1\r\n.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0\r\n-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6\r\n.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M4.ja\r\nr:6.1.0-M4]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.12.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-M4.\r\njar:6.1.0-M4]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.12.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.12.jar:1\r\n0.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-\r\nweb-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\r\n0-M4.jar:6.1.0-M4]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1\r\n.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\r\n0-M4.jar:6.1.0-M4]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[s\r\npring-web-6.1.0-M4.jar:6.1.0-M4]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\r\n0-M4.jar:6.1.0-M4]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\r\nbed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.\r\n12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.1\r\n2.jar:10.1.12]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10\r\n.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.12.jar\r\n:10.1.12]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:\r\n10.1.12]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.\r\njar:10.1.12]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:1\r\n0.1.12]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10\r\n.1.12]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.\r\njar:10.1.12]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-1\r\n0.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.\r\n12.jar:10.1.12]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.j\r\nar:10.1.12]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core\r\n-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1\r\n2.jar:10.1.12]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n","title":"Spring Data JDBC: Error - Cannot set property id because no setter, no wither, and it&#39;s not part of the persistence constructor","body":"<p>I am a beginner in spring and trying to use Spring Data JDBC to persist data. I have made the necessary changes to the Repository interfaces by extending them with Repository/CrudRepositoy. Also, for preloading data into the h2 database, I have also set up a data_Loader_Config class with an ApplicationRunner. Still, Spring data cannot set the id property to one of the fields in the Ingredient class. I don't know what to do here...</p>\n<p>PS - After creating an applicationRunner instance should I delete the data.sql file that I was using earlier to preload data.</p>\n<h2>Here is my Ingredient class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package tacos;\nimport lombok.Data;\nimport org.springframework.data.relational.core.mapping.Table;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.domain.Persistable;\nimport lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.NoArgsConstructor;\n\nimport java.beans.ConstructorProperties;\n\n\n@Data\n@Table\n@AllArgsConstructor\n@NoArgsConstructor(access = AccessLevel.PRIVATE, force = true)\npublic class Ingredient implements Persistable&lt;String&gt; {\n\n    @Id\n    private final String id;\n    private final String name;\n    private final Type type;\n\n    public enum Type {\n        WRAP, PROTEIN, VEGGIES, CHEESE, SAUCE\n    }\n\n//    @ConstructorProperties({&quot;id&quot;, &quot;name&quot;, &quot;type&quot;})\n//    public Ingredient(String id, String name, Type type) {\n//        this.id = id;\n//        this.name = name;\n//        this.type = type;\n//    }\n\n\n    @Override\n    public boolean isNew() {\n        // You can implement your logic here to determine if the ingredient is new or not.\n        // For example, you can check if the 'id' property is null.\n        return id == null;\n    }\n\n\n}\n</code></pre>\n<h2>This is my Data_Loader_config class:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package tacos;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.boot.ApplicationRunner;\nimport tacos.data.IngredientRepository;\n\n\npublic class DataLoaderConfig {\n    @Bean\n    public ApplicationRunner dataLoader(IngredientRepository repo) {\n        return args -&gt; {\n            repo.save(new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Ingredient.Type.WRAP));\n            repo.save(new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Ingredient.Type.WRAP));\n            repo.save(new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Ingredient.Type.PROTEIN));\n            repo.save(new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Ingredient.Type.PROTEIN));\n            repo.save(new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Ingredient.Type.VEGGIES));\n            repo.save(new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Ingredient.Type.VEGGIES));\n            repo.save(new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Ingredient.Type.CHEESE));\n            repo.save(new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Ingredient.Type.CHEESE));\n            repo.save(new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Ingredient.Type.SAUCE));\n            repo.save(new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Ingredient.Type.SAUCE));\n        };\n    }\n}\n\n</code></pre>\n<h2>This is the ingredient repository which extends Repsitory/CrudRepsitory Interface:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package tacos.data;\n\nimport org.springframework.data.repository.CrudRepository;\nimport tacos.Ingredient;\n\npublic interface IngredientRepository extends CrudRepository&lt;Ingredient, String&gt; {\n   \n}\n\n</code></pre>\n<h2>Finally this is the stac trace:</h2>\n<pre><code>2023-08-27T13:33:12.697+05:30 ERROR 13080 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.servi\nce() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.Illeg\nalStateException: Cannot set property id because no setter, no wither and it's not part of the persistence constructor p\nrivate tacos.Ingredient()] with root cause\n\njava.lang.IllegalStateException: Cannot set property id because no setter, no wither and it's not part of the persistenc\ne constructor private tacos.Ingredient()\n        at org.springframework.data.mapping.model.InstantiationAwarePropertyAccessor.setProperty(InstantiationAwarePrope\nrtyAccessor.java:94) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.model.SimplePersistentPropertyPathAccessor.setProperty(SimplePersistentPrope\nrtyPathAccessor.java:108) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.model.ConvertingPropertyAccessor.setProperty(ConvertingPropertyAccessor.java\n:60) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.lambda$populateProperties$0(Basi\ncJdbcConverter.java:433) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.model.BasicPersistentEntity.doWithProperties(BasicPersistentEntity.java:298)\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.mapping.PersistentEntity.doWithAll(PersistentEntity.java:297) ~[spring-data-commons-\n3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.populateProperties(BasicJdbcConv\nerter.java:418) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.createInstanceInternal(BasicJdbc\nConverter.java:562) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter$ReadingContext.mapRow(BasicJdbcConverter.java:4\n10) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.BasicJdbcConverter.mapRow(BasicJdbcConverter.java:305) ~[spring-da\nta-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.convert.EntityRowMapper.mapRow(EntityRowMapper.java:79) ~[spring-data-jdbc\n-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94) ~[\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61) ~[\nspring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:729) ~[spring-jdbc-6.1.0\n-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:654) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4\n]\n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:719) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \n        at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:800) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4] \n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:218\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:230\n) ~[spring-jdbc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.data.jdbc.core.convert.DefaultDataAccessStrategy.findAll(DefaultDataAccessStrategy.java:2\n74) ~[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.core.JdbcAggregateTemplate.findAll(JdbcAggregateTemplate.java:341) ~[spring-dat\na-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.findAll(SimpleJdbcRepository.java:89) ~\n[spring-data-jdbc-3.2.0-M2.jar:3.2.0-M2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\n:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lamb\nda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.jav\na:136) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:\n120) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryC\nomposition.java:516) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterc\neptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodI\nnterceptor.java:168) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInt\nerceptor.java:143) ~[spring-data-commons-3.2.0-M2.jar:3.2.0-M2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterce\nptor.java:123) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspec\ntSupport.java:392) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[\nspring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTransla\ntionInterceptor.java:137) ~[spring-tx-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~\n[spring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[s\npring-aop-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.1.0-M\n4.jar:6.1.0-M4]\n        at jdk.proxy4/jdk.proxy4.$Proxy93.findAll(Unknown Source) ~[na:na]\n        at tacos.web.DesignTacoController.addIngredientsToModel(DesignTacoController.java:42) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]    \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na\n:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:253) ~[spr\ning-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:18\n1) ~[spring-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.method.annotation.ModelFactory.invokeModelAttributeMethods(ModelFactory.java:143) ~[s\npring-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.method.annotation.ModelFactory.initModel(ModelFactory.java:112) ~[spring-web-6.1.0-M4\n.jar:6.1.0-M4]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(Reques\ntMappingHandlerAdapter.java:895) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMapp\ningHandlerAdapter.java:830) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.j\nava:87) ~[spring-webmvc-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1086) ~[spring-webmvc-6.1\n.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.0\n-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6\n.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.0-M4.ja\nr:6.1.0-M4]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.12.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.0-M4.\njar:6.1.0-M4]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.12.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.12.jar:1\n0.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-\nweb-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\n0-M4.jar:6.1.0-M4]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1\n.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\n0-M4.jar:6.1.0-M4]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[s\npring-web-6.1.0-M4.jar:6.1.0-M4]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.\n0-M4.jar:6.1.0-M4]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-em\nbed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.\n12.jar:10.1.12]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.1\n2.jar:10.1.12]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10\n.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.12.jar\n:10.1.12]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:\n10.1.12]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.\njar:10.1.12]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:1\n0.1.12]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10\n.1.12]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.\njar:10.1.12]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-1\n0.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.\n12.jar:10.1.12]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.j\nar:10.1.12]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core\n-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1\n2.jar:10.1.12]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":28283190,"reputation":78,"user_id":21624524,"display_name":"renatompf"},"score":0,"creation_date":1693133392,"post_id":76986728,"comment_id":135717397,"body_markdown":"I also tried that, but I&#39;ll try again :) Thank you :)","body":"I also tried that, but I&#39;ll try again :) Thank you :)"},{"owner":{"account_id":28283190,"reputation":78,"user_id":21624524,"display_name":"renatompf"},"score":0,"creation_date":1693134481,"post_id":76986728,"comment_id":135717495,"body_markdown":"Yap, just tried with what you provided... Same error again :/ `Caused by: java.net.UnknownHostException: postgres`","body":"Yap, just tried with what you provided... Same error again :/ <code>Caused by: java.net.UnknownHostException: postgres</code>"},{"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"score":0,"creation_date":1693140425,"post_id":76986728,"comment_id":135718059,"body_markdown":"Try verifying that both containers are in the same network - NetworkID should match for both containers: docker inspect containerName -f &quot;{{json .NetworkSettings.Networks }}&quot;","body":"Try verifying that both containers are in the same network - NetworkID should match for both containers: docker inspect containerName -f &quot;{{json .NetworkSettings.Networks }}&quot;"},{"owner":{"account_id":28283190,"reputation":78,"user_id":21624524,"display_name":"renatompf"},"score":0,"creation_date":1693142930,"post_id":76986728,"comment_id":135718294,"body_markdown":"Somehow it started working. I removed the Spring Application default test.\nIn my docker compose I remove the network line from the containers but left the `networks: my-network:` in it, and last but not least, I updated the database url in `application.properties` file from `localhost` to `postgres` and it started to work.","body":"Somehow it started working. I removed the Spring Application default test. In my docker compose I remove the network line from the containers but left the <code>networks: my-network:</code> in it, and last but not least, I updated the database url in <code>application.properties</code> file from <code>localhost</code> to <code>postgres</code> and it started to work."},{"owner":{"account_id":23414555,"reputation":79,"user_id":17475685,"display_name":"impactCn"},"score":0,"creation_date":1693205937,"post_id":76986728,"comment_id":135724307,"body_markdown":"You can use &#39;host&#39; mode.","body":"You can use &#39;host&#39; mode."}],"tags":[],"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693133308,"creation_date":1693133308,"answer_id":76986728,"question_id":76986496,"body_markdown":"Looks like your containers are running in different networks inside docker.\r\n\r\nTry checking each container - to which network it is connected: [Docker : How to find the network my container is in?][1]\r\n\r\nAlso try specifying in docker-compose the exact network you want to be used for both containers:\r\n\r\n    postgres:\r\n            networks:\r\n          - my-network\r\n    app:\r\n            networks:\r\n          - my-network\r\n    networks:\r\n      my-network:\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43904562/docker-how-to-find-the-network-my-container-is-in\r\n","title":"When I run docker compose up my application cannot find the host","body":"<p>Looks like your containers are running in different networks inside docker.</p>\n<p>Try checking each container - to which network it is connected: <a href=\"https://stackoverflow.com/questions/43904562/docker-how-to-find-the-network-my-container-is-in\">Docker : How to find the network my container is in?</a></p>\n<p>Also try specifying in docker-compose the exact network you want to be used for both containers:</p>\n<pre><code>postgres:\n        networks:\n      - my-network\napp:\n        networks:\n      - my-network\nnetworks:\n  my-network:\n</code></pre>\n"}],"owner":{"account_id":28283190,"reputation":78,"user_id":21624524,"display_name":"renatompf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693133308,"creation_date":1693129329,"question_id":76986496,"body_markdown":"During the weekend I&#39;ve been programming some small project to get me entertained and I have encountered a bug I cannot fix.\r\n\r\nThis is a small java app.\r\n\r\nThis is my docker compose:\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  postgres:\r\n    image: postgres:14\r\n    container_name: postgres\r\n    environment:\r\n      POSTGRES_DB: database\r\n      POSTGRES_USER: root\r\n      POSTGRES_PASSWORD: root\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n\r\n  app:\r\n    container_name: app\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - postgres\r\n```\r\n\r\nAnd this is my application.properties file:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://postgres:5432/database\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\nAnd once I ran the `docker-compose up` command it says that cannot connect to the database because does not recognize the Host. I even try to run first the database in separate but the same error appears.\r\n\r\nI will post the logs below:\r\n\r\n```\r\n2.00 Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.\r\nclass]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n32.00   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n32.00   at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)\r\n32.00   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n32.00   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n32.00   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n32.00   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n32.00   at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n32.00   at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\r\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\r\n32.00   ... 73 more\r\n32.00 Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\r\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\r\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n32.00   ... 94 more\r\n32.00 Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\r\n32.00   at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98)\r\n32.00   at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\r\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)\r\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)\r\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:110)\r\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:77)\r\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:235)\r\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:219)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:455)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)\r\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)\r\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\r\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\r\n32.00   at java.base/java.util.HashMap.forEach(HashMap.java:1425)\r\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\r\n32.00   at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)\r\n32.00   at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\r\n32.00   at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:292)\r\n32.00   at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n32.00   at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n32.00   at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)\r\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n32.00   ... 98 more\r\n32.00 Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\r\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\r\n32.00   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n32.00   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n32.00   at org.postgresql.Driver.makeConnection(Driver.java:443)\r\n32.00   at org.postgresql.Driver.connect(Driver.java:297)\r\n32.00   at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n32.00   at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\r\n32.00   at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\r\n32.00   at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\r\n32.00   at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n32.00   at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\r\n32.00   at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n32.00   at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n32.00   at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)\r\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)\r\n32.00   ... 121 more\r\n32.00 Caused by: java.net.UnknownHostException: postgres\r\n32.00   at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n32.00   at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:331)\r\n32.00   at java.base/java.net.Socket.connect(Socket.java:630)\r\n32.00   at org.postgresql.core.PGStream.createSocket(PGStream.java:243)\r\n32.00   at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\r\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n32.00   ... 135 more\r\n```\r\n\r\nAnother thing, is that I don&#39;t have this error once I change the host to `localhost` and I run the database using the command `docker compose up database` and run the program on IntelliJ just by pressing run.\r\n\r\n","title":"When I run docker compose up my application cannot find the host","body":"<p>During the weekend I've been programming some small project to get me entertained and I have encountered a bug I cannot fix.</p>\n<p>This is a small java app.</p>\n<p>This is my docker compose:</p>\n<pre><code>version: '3.8'\nservices:\n  postgres:\n    image: postgres:14\n    container_name: postgres\n    environment:\n      POSTGRES_DB: database\n      POSTGRES_USER: root\n      POSTGRES_PASSWORD: root\n    ports:\n      - &quot;5432:5432&quot;\n\n  app:\n    container_name: app\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - postgres\n</code></pre>\n<p>And this is my application.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://postgres:5432/database\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>And once I ran the <code>docker-compose up</code> command it says that cannot connect to the database because does not recognize the Host. I even try to run first the database in separate but the same error appears.</p>\n<p>I will post the logs below:</p>\n<pre><code>2.00 Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.\nclass]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n32.00   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n32.00   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n32.00   at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)\n32.00   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n32.00   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n32.00   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n32.00   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n32.00   at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n32.00   at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n32.00   at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n32.00   at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\n32.00   at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\n32.00   ... 73 more\n32.00 Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\n32.00   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n32.00   ... 94 more\n32.00 Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]\n32.00   at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:98)\n32.00   at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n32.00   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:60)\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:110)\n32.00   at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:77)\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:235)\n32.00   at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:219)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:455)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:242)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155)\n32.00   at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115)\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\n32.00   at java.base/java.util.HashMap.forEach(HashMap.java:1425)\n32.00   at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\n32.00   at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)\n32.00   at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\n32.00   at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:292)\n32.00   at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n32.00   at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n32.00   at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)\n32.00   at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n32.00   at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n32.00   ... 98 more\n32.00 Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\n32.00   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n32.00   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n32.00   at org.postgresql.Driver.makeConnection(Driver.java:443)\n32.00   at org.postgresql.Driver.connect(Driver.java:297)\n32.00   at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n32.00   at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\n32.00   at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\n32.00   at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\n32.00   at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n32.00   at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\n32.00   at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n32.00   at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n32.00   at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316)\n32.00   at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)\n32.00   ... 121 more\n32.00 Caused by: java.net.UnknownHostException: postgres\n32.00   at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n32.00   at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:331)\n32.00   at java.base/java.net.Socket.connect(Socket.java:630)\n32.00   at org.postgresql.core.PGStream.createSocket(PGStream.java:243)\n32.00   at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\n32.00   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n32.00   ... 135 more\n</code></pre>\n<p>Another thing, is that I don't have this error once I change the host to <code>localhost</code> and I run the database using the command <code>docker compose up database</code> and run the program on IntelliJ just by pressing run.</p>\n"},{"tags":["java","spring","maven","junit"],"answers":[{"comments":[{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1675235243,"post_id":75298598,"comment_id":132882287,"body_markdown":"Thanks, but you can see, I used this annotation. And with this annotation I received `InvalidTestClassError: Invalid test class`","body":"Thanks, but you can see, I used this annotation. And with this annotation I received <code>InvalidTestClassError: Invalid test class</code>"},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1675239272,"post_id":75298598,"comment_id":132883277,"body_markdown":"Sorry I missed this part, could you confirm you are using `org.junit.Test in the import and not the org.junit.jupiter.api.Test ?","body":"Sorry I missed this part, could you confirm you are using `org.junit.Test in the import and not the org.junit.jupiter.api.Test ?"},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1675239316,"post_id":75298598,"comment_id":132883286,"body_markdown":"I see you are using jupiter. Could you please try with org.junit.Test ?","body":"I see you are using jupiter. Could you please try with org.junit.Test ?"}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675175050,"creation_date":1675175050,"answer_id":75298598,"question_id":75298144,"body_markdown":"If you don&#39;t want to use the `static` method for BeforeAll, you need to use the annotation `TestInstance(Lifecycle.PER_CLASS)`\r\n\r\nBy default the Junit uses `PER_METHOD` lifecycle, thus the BeforeAll requires it to be static to ensure it is not instantiated with every method. \r\n\r\nThe `TestInstance(Lifecycle.PER_CLASS)` annotation ensures that the lifecycle of the test is per class thus removing the requirement of static BeforeAll.\r\n\r\n\r\n\r\n","title":"InvalidTestClassError: Invalid test class. How to test spring boot with maven and @BeforeAll/Class initializator","body":"<p>If you don't want to use the <code>static</code> method for BeforeAll, you need to use the annotation <code>TestInstance(Lifecycle.PER_CLASS)</code></p>\n<p>By default the Junit uses <code>PER_METHOD</code> lifecycle, thus the BeforeAll requires it to be static to ensure it is not instantiated with every method.</p>\n<p>The <code>TestInstance(Lifecycle.PER_CLASS)</code> annotation ensures that the lifecycle of the test is per class thus removing the requirement of static BeforeAll.</p>\n"},{"tags":[],"owner":{"account_id":1335838,"reputation":1101,"user_id":1278621,"accept_rate":50,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693132630,"creation_date":1693132630,"answer_id":76986687,"question_id":75298144,"body_markdown":"I experienced the same issue and I managed to resolve it using the below 2 SpringBoot 3 annotations following:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class MyControllerTest {","title":"InvalidTestClassError: Invalid test class. How to test spring boot with maven and @BeforeAll/Class initializator","body":"<p>I experienced the same issue and I managed to resolve it using the below 2 SpringBoot 3 annotations following:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class MyControllerTest {\n</code></pre>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693132630,"creation_date":1675172936,"question_id":75298144,"body_markdown":"I have the gradle project where I successfully use tests and try to implement the same solution with maven, but I totally can&#39;t execute tests there.\r\n\r\nMain problem in that I need to use `@BeforeAll/Class` annotation and init NOT static method.\r\nIn the Gradle this works so:\r\n\r\n- build.gradle\r\n```\r\ndependencies {\r\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${spring_boot_version}&quot;\r\n    implementation &#39;junit:junit:4.13.1&#39;\r\n    ....\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\ntest classes:\r\n```\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@SpringBootTest(classes = {DeardiaryApplication.class})\r\n@WebAppConfiguration\r\npublic abstract class AbstractTest {\r\n    protected MockMvc mvc;\r\n    private ObjectMapper objectMapper = new ObjectMapper();\r\n    @Autowired\r\n    WebApplicationContext webApplicationContext;\r\n\r\n    protected void setUp() {\r\n        mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    }\r\n...\r\n}\r\n\r\nimport org.junit.jupiter.api.*;\r\n\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class DatabaseTest extends AbstractTest {\r\n\r\n    @Autowired\r\n    private ExerciseInterface exerciseService;\r\n\r\n    @BeforeAll\r\n    public void init() {\r\n        setUp();\r\n        exerciseDto = exerciseService.getByExerciseType(ExerciseTypeEnum.SNATCH).get(0);\r\n    }\r\n\r\n    @Test\r\n....\r\n\r\n```\r\n\r\nBut in the maven project I received `InvalidTestClassError: Invalid test class`.\r\nWhen I use junit.Test instead junit.jupiter.api.Test, the `@BeforeAll/Class` method nod called, or I received error `BeforeAll must be static`, etc...\r\n\r\n- pom.xml:\r\n```\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.9.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.9.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;5.9.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nThis is all difference - classes implemented in the same way","title":"InvalidTestClassError: Invalid test class. How to test spring boot with maven and @BeforeAll/Class initializator","body":"<p>I have the gradle project where I successfully use tests and try to implement the same solution with maven, but I totally can't execute tests there.</p>\n<p>Main problem in that I need to use <code>@BeforeAll/Class</code> annotation and init NOT static method.\nIn the Gradle this works so:</p>\n<ul>\n<li>build.gradle</li>\n</ul>\n<pre><code>dependencies {\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:${spring_boot_version}&quot;\n    implementation 'junit:junit:4.13.1'\n    ....\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>test classes:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes = {DeardiaryApplication.class})\n@WebAppConfiguration\npublic abstract class AbstractTest {\n    protected MockMvc mvc;\n    private ObjectMapper objectMapper = new ObjectMapper();\n    @Autowired\n    WebApplicationContext webApplicationContext;\n\n    protected void setUp() {\n        mvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n    }\n...\n}\n\nimport org.junit.jupiter.api.*;\n\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class DatabaseTest extends AbstractTest {\n\n    @Autowired\n    private ExerciseInterface exerciseService;\n\n    @BeforeAll\n    public void init() {\n        setUp();\n        exerciseDto = exerciseService.getByExerciseType(ExerciseTypeEnum.SNATCH).get(0);\n    }\n\n    @Test\n....\n\n</code></pre>\n<p>But in the maven project I received <code>InvalidTestClassError: Invalid test class</code>.\nWhen I use junit.Test instead junit.jupiter.api.Test, the <code>@BeforeAll/Class</code> method nod called, or I received error <code>BeforeAll must be static</code>, etc...</p>\n<ul>\n<li>pom.xml:</li>\n</ul>\n<pre><code>    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M8&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                        &lt;version&gt;5.9.2&lt;/version&gt;\n                        &lt;scope&gt;test&lt;/scope&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>This is all difference - classes implemented in the same way</p>\n"},{"tags":["java","dataprovider"],"owner":{"account_id":9172580,"reputation":396,"user_id":7047364,"accept_rate":0,"display_name":"Anjani Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693132585,"creation_date":1693132585,"question_id":76986685,"body_markdown":"               \r\n    public class YourTestClass {\r\n    WebDriver driver; // You need to initialize your WebDriver\r\n\r\n    @Test(dataProvider = &quot;data-provider&quot;,enabled=true,dataProviderClass = DP.class)\r\n    public void verifyUser_registration_login_logout_test(Method method,String UserName, String Password){\r\n        Assertion assertion = new Assertion();\r\n        try{\r\n        HomePage homePage = new HomePage(driver);\r\n        homePage.navigateToHomePage();\r\n        RegisterPage registerPage = new RegisterPage(driver);\r\n        registerPage.navigateToRegisterPage();\r\n        registerPage.verifyRegisterPage();\r\n        registerPage.performRegister(UserName,Password);\r\n        LoginPage loginPage = new LoginPage(driver);\r\n        loginPage.performLogin(UserName,Password);\r\n        homePage.verifyUserLoggedIn(UserName);\r\n        homePage.clickOnLogoutButton();\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n        driver.navigate().refresh();\r\n        wait.until(ExpectedConditions.urlToBe(&quot;SOMEURL&quot;));\r\n        homePage.verifyUserLoggedOut();\r\n    }catch(Exception e){\r\n        logStatus(&quot;Page test&quot;, &quot;navigation to registration page&quot;, &quot;failed&quot;);\r\n\t\t\te.printStackTrace();\r\n       }\r\n    }\t\r\n\r\npublic class DP {\r\n    static String excelPath = &quot;app/src/test/resources/DatasetsSOMEURL.xlsx&quot;;\r\n\r\n    public DP(String excelPath) {\r\n        DP.excelPath = excelPath;\r\n    }\r\n\r\n    @DataProvider(name = &quot;data-provider&quot;)\r\n    public static Object[][] dataProviderMethod(Method method) throws IOException {\r\n        int rowIndex = 0;\r\n        int cellIndex = 0;\r\n        List&lt;List&gt; outputList = new ArrayList&lt;List&gt;();\r\n        FileInputStream excelFile = new FileInputStream(new File(excelPath));\r\n\r\n        try (Workbook workbook = new XSSFWorkbook(excelFile)) {\r\n            Sheet selectedSheet = workbook.getSheet(method.getName());\r\n            Iterator&lt;Row&gt; iterator = selectedSheet.iterator();\r\n\r\n            while (iterator.hasNext()) {\r\n                Row nextRow = iterator.next();\r\n                Iterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\r\n                List&lt;String&gt; innerList = new ArrayList&lt;String&gt;();\r\n\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n\r\n                    if (rowIndex &gt; 0 &amp;&amp; cellIndex &gt; 0) {\r\n                        String cellValue = &quot;&quot;;\r\n\r\n                        switch (cell.getCellType()) {\r\n                            case STRING:\r\n                                cellValue = cell.getStringCellValue();\r\n                                break;\r\n                            case NUMERIC:\r\n                                cellValue = String.valueOf(cell.getNumericCellValue());\r\n                                break;\r\n                            default:\r\n                                throw new UnsupportedOperationException(&quot;Unsupported Cell Type: &quot; + cell.getCellType());\r\n                        }\r\n\r\n                        innerList.add(cellValue);\r\n                    }\r\n\r\n                    cellIndex++;\r\n                }\r\n\r\n                if (!innerList.isEmpty()) {\r\n                    outputList.add(innerList);\r\n                }\r\n\r\n                rowIndex++;\r\n            }\r\n        }\r\n\r\n        Object[][] data = new Object[outputList.size()][];\r\n        for (int i = 0; i &lt; outputList.size(); i++) {\r\n            data[i] = outputList.get(i).toArray(new String[0]);\r\n        }\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nwhen I run this , my test is getting skipped, with below\r\nError:\r\nDP.java uses unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n&gt; Task :app:test\r\nGradle Test Executor 1 STANDARD_ERROR\r\n    log4j:WARN No appenders could be found for logger (org.testng.internal.Graph).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n.tests.testCase_01 &gt; verifyUser_registration_login_logout_test SKIPPED\r\nTEST SUMMARY: RAN 1 TESTS, 0 SUCCEEDED, 0 FAILED, 1 SKIPPED\r\n","title":"Dataprovider test is getting skipped, with below Error: DP.java uses unchecked or unsafe operations","body":"<pre><code>public class YourTestClass {\nWebDriver driver; // You need to initialize your WebDriver\n\n@Test(dataProvider = &quot;data-provider&quot;,enabled=true,dataProviderClass = DP.class)\npublic void verifyUser_registration_login_logout_test(Method method,String UserName, String Password){\n    Assertion assertion = new Assertion();\n    try{\n    HomePage homePage = new HomePage(driver);\n    homePage.navigateToHomePage();\n    RegisterPage registerPage = new RegisterPage(driver);\n    registerPage.navigateToRegisterPage();\n    registerPage.verifyRegisterPage();\n    registerPage.performRegister(UserName,Password);\n    LoginPage loginPage = new LoginPage(driver);\n    loginPage.performLogin(UserName,Password);\n    homePage.verifyUserLoggedIn(UserName);\n    homePage.clickOnLogoutButton();\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n    driver.navigate().refresh();\n    wait.until(ExpectedConditions.urlToBe(&quot;SOMEURL&quot;));\n    homePage.verifyUserLoggedOut();\n}catch(Exception e){\n    logStatus(&quot;Page test&quot;, &quot;navigation to registration page&quot;, &quot;failed&quot;);\n        e.printStackTrace();\n   }\n}   \n</code></pre>\n<p>public class DP {\nstatic String excelPath = &quot;app/src/test/resources/DatasetsSOMEURL.xlsx&quot;;</p>\n<pre><code>public DP(String excelPath) {\n    DP.excelPath = excelPath;\n}\n\n@DataProvider(name = &quot;data-provider&quot;)\npublic static Object[][] dataProviderMethod(Method method) throws IOException {\n    int rowIndex = 0;\n    int cellIndex = 0;\n    List&lt;List&gt; outputList = new ArrayList&lt;List&gt;();\n    FileInputStream excelFile = new FileInputStream(new File(excelPath));\n\n    try (Workbook workbook = new XSSFWorkbook(excelFile)) {\n        Sheet selectedSheet = workbook.getSheet(method.getName());\n        Iterator&lt;Row&gt; iterator = selectedSheet.iterator();\n\n        while (iterator.hasNext()) {\n            Row nextRow = iterator.next();\n            Iterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\n            List&lt;String&gt; innerList = new ArrayList&lt;String&gt;();\n\n            while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n\n                if (rowIndex &gt; 0 &amp;&amp; cellIndex &gt; 0) {\n                    String cellValue = &quot;&quot;;\n\n                    switch (cell.getCellType()) {\n                        case STRING:\n                            cellValue = cell.getStringCellValue();\n                            break;\n                        case NUMERIC:\n                            cellValue = String.valueOf(cell.getNumericCellValue());\n                            break;\n                        default:\n                            throw new UnsupportedOperationException(&quot;Unsupported Cell Type: &quot; + cell.getCellType());\n                    }\n\n                    innerList.add(cellValue);\n                }\n\n                cellIndex++;\n            }\n\n            if (!innerList.isEmpty()) {\n                outputList.add(innerList);\n            }\n\n            rowIndex++;\n        }\n    }\n\n    Object[][] data = new Object[outputList.size()][];\n    for (int i = 0; i &lt; outputList.size(); i++) {\n        data[i] = outputList.get(i).toArray(new String[0]);\n    }\n\n    return data;\n}\n</code></pre>\n<p>}</p>\n<p>when I run this , my test is getting skipped, with below\nError:\nDP.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.</p>\n<blockquote>\n<p>Task :app:test\nGradle Test Executor 1 STANDARD_ERROR\nlog4j:WARN No appenders could be found for logger (org.testng.internal.Graph).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See <a href=\"http://logging.apache.org/log4j/1.2/faq.html#noconfig\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/faq.html#noconfig</a> for more info.\n.tests.testCase_01 &gt; verifyUser_registration_login_logout_test SKIPPED\nTEST SUMMARY: RAN 1 TESTS, 0 SUCCEEDED, 0 FAILED, 1 SKIPPED</p>\n</blockquote>\n"},{"tags":["java","eclipse","rest","maven","m2eclipse"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1436448525,"post_id":31316339,"comment_id":50624928,"body_markdown":"Looks like proxy/firewall issue?","body":"Looks like proxy/firewall issue?"}],"answers":[{"comments":[{"owner":{"account_id":1643981,"reputation":2194,"user_id":1515891,"accept_rate":100,"display_name":"spt025"},"score":1,"creation_date":1436442377,"post_id":31316477,"comment_id":50620304,"body_markdown":"For the force update there is an option in eclipse that will do, right ?","body":"For the force update there is an option in eclipse that will do, right ?"},{"owner":{"account_id":1643981,"reputation":2194,"user_id":1515891,"accept_rate":100,"display_name":"spt025"},"score":0,"creation_date":1436442478,"post_id":31316477,"comment_id":50620393,"body_markdown":"Okay the same error persists even after we provide force update.I&#39;m using eclipse.","body":"Okay the same error persists even after we provide force update.I&#39;m using eclipse."},{"owner":{"account_id":6569111,"reputation":1066,"user_id":5077771,"display_name":"Pim Verkerk"},"score":0,"creation_date":1436442657,"post_id":31316477,"comment_id":50620509,"body_markdown":"I&#39;m not sure how Eclipse handles this, could you run `mvn install -U` from the command line?","body":"I&#39;m not sure how Eclipse handles this, could you run <code>mvn install -U</code> from the command line?"},{"owner":{"account_id":6569111,"reputation":1066,"user_id":5077771,"display_name":"Pim Verkerk"},"score":0,"creation_date":1436447267,"post_id":31316477,"comment_id":50623979,"body_markdown":"Installing Maven can be done with this [guide](https://maven.apache.org/install.html) an alternative to Maven would be [gradle](https://gradle.org/)","body":"Installing Maven can be done with this <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">guide</a> an alternative to Maven would be <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle</a>"}],"tags":[],"owner":{"account_id":6569111,"reputation":1066,"user_id":5077771,"display_name":"Pim Verkerk"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436442284,"creation_date":1436442284,"answer_id":31316477,"question_id":31316339,"body_markdown":"If a download fails for some reason Maven will not try to download it within a certain time frame (it leaves a file with a timestamp).\r\n\r\nTo fix this you can either\r\n\r\n - Clear (parts of) your .m2 repo\r\n - Run maven with -U to force an update","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>If a download fails for some reason Maven will not try to download it within a certain time frame (it leaves a file with a timestamp).</p>\n\n<p>To fix this you can either</p>\n\n<ul>\n<li>Clear (parts of) your .m2 repo</li>\n<li>Run maven with -U to force an update</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"score":0,"creation_date":1545974689,"post_id":31316682,"comment_id":94746269,"body_markdown":"is Pom.xml file same as setting.xml file? POM.xml file contains all the dependencies. should i select POM.xml file?","body":"is Pom.xml file same as setting.xml file? POM.xml file contains all the dependencies. should i select POM.xml file?"},{"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"score":0,"creation_date":1574749510,"post_id":31316682,"comment_id":104331344,"body_markdown":"no pom.xml file belongs to project, settings.xml is a part of maven","body":"no pom.xml file belongs to project, settings.xml is a part of maven"},{"owner":{"account_id":334702,"reputation":4293,"user_id":661327,"accept_rate":50,"display_name":"Robert Reiz"},"score":1,"creation_date":1631717872,"post_id":31316682,"comment_id":122299145,"body_markdown":"I&#39;m not using Eclipse. How to resolve this issue outside of Eclipse?","body":"I&#39;m not using Eclipse. How to resolve this issue outside of Eclipse?"}],"tags":[],"owner":{"account_id":6407271,"reputation":1338,"user_id":4968030,"accept_rate":100,"display_name":"Kalyan Chavali"},"comment_count":3,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1436443107,"creation_date":1436442792,"answer_id":31316682,"question_id":31316339,"body_markdown":"Seems your `settings.xml` file is missing your .m2 (local maven repo) folder. \r\n\r\nWhen using eclipse navigate to Window -&gt; Preferences -&gt; Maven -&gt; User Settings -&gt; Browse to your `settings.xml` and click apply.\r\n\r\nThen do maven Update Project.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cGL2D.png","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Seems your <code>settings.xml</code> file is missing your .m2 (local maven repo) folder. </p>\n\n<p>When using eclipse navigate to Window -> Preferences -> Maven -> User Settings -> Browse to your <code>settings.xml</code> and click apply.</p>\n\n<p>Then do maven Update Project.</p>\n\n<p><img src=\"https://i.stack.imgur.com/cGL2D.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":6070986,"reputation":197,"user_id":4739826,"display_name":"dko"},"score":0,"creation_date":1617643967,"post_id":38601436,"comment_id":118355213,"body_markdown":"I wanted to use this instead of opening project in eclipse, but unfortunately didn&#39;t work for me","body":"I wanted to use this instead of opening project in eclipse, but unfortunately didn&#39;t work for me"}],"tags":[],"owner":{"account_id":1439386,"reputation":81,"user_id":1359981,"display_name":"Douglas Tondo"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469575591,"creation_date":1469575591,"answer_id":38601436,"question_id":31316339,"body_markdown":"On windows: \r\n\r\n1. Remove folder from C:\\Users\\USER\\.m2\r\n2. Close and open the project or force a change on file: pom.xml for saving :) ","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>On windows: </p>\n\n<ol>\n<li>Remove folder from C:\\Users\\USER.m2</li>\n<li>Close and open the project or force a change on file: pom.xml for saving :) </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":1,"creation_date":1529055186,"post_id":39610211,"comment_id":88747143,"body_markdown":"what settings we are supposed to have under `Network Connections`?","body":"what settings we are supposed to have under <code>Network Connections</code>?"}],"tags":[],"owner":{"account_id":6462334,"reputation":997,"user_id":5005676,"display_name":"Shubham Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474443303,"creation_date":1474443303,"answer_id":39610211,"question_id":31316339,"body_markdown":"Step 1 : Check the proxy configured in eclipse is correct or not ?\r\n(Window-&gt;Preferences-&gt;General-&gt;Network Connections).\r\n\r\nStep 2 : Right Click on Project-&gt; Go to Maven -&gt; Update the project\r\n\r\nStep 3: Run as Maven Install.\r\n\r\n==== By Following these steps, i am able to solve this error.\r\n","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Step 1 : Check the proxy configured in eclipse is correct or not ?\n(Window->Preferences->General->Network Connections).</p>\n\n<p>Step 2 : Right Click on Project-> Go to Maven -> Update the project</p>\n\n<p>Step 3: Run as Maven Install.</p>\n\n<p>==== By Following these steps, i am able to solve this error.</p>\n"},{"tags":[],"owner":{"account_id":7939055,"reputation":955,"user_id":5993854,"display_name":"Pardeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1488021691,"creation_date":1488021691,"answer_id":42455386,"question_id":31316339,"body_markdown":"I have faced the same issue. Try declaring missing plugin in the conf/settings.xml.\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/plugin&gt;           \r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;   \r\n    &lt;/build&gt;\r\n","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I have faced the same issue. Try declaring missing plugin in the conf/settings.xml.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/plugin&gt;           \n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;   \n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1529056734,"post_id":44539496,"comment_id":88747979,"body_markdown":"what incoming rule you added for Eclipse?","body":"what incoming rule you added for Eclipse?"}],"tags":[],"owner":{"account_id":7415507,"reputation":386,"user_id":5641492,"accept_rate":20,"display_name":"halim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497429148,"creation_date":1497429148,"answer_id":44539496,"question_id":31316339,"body_markdown":"I had exactly the same error. My network is an internal one of a company. I downloaded neon-eclipse for java developpers. These steps worked for me:\r\n\r\n1- I downloaded a VPN client on my PC to be totally blinded from the network. [Shellfire][1] I used. Use free account and connect to Shellserver.\r\n\r\n2- Inside the windows firewall, I added incoming rule for Eclipse. Navigate to where eclipse exe is found. \r\n\r\n3- Perform Maven Update project.\r\n\r\nThen the project was able to fetch from the maven repository.\r\n\r\nhope it helps.\r\n\r\n\r\n  [1]: https://www.shellfire.net/","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I had exactly the same error. My network is an internal one of a company. I downloaded neon-eclipse for java developpers. These steps worked for me:</p>\n\n<p>1- I downloaded a VPN client on my PC to be totally blinded from the network. <a href=\"https://www.shellfire.net/\" rel=\"nofollow noreferrer\">Shellfire</a> I used. Use free account and connect to Shellserver.</p>\n\n<p>2- Inside the windows firewall, I added incoming rule for Eclipse. Navigate to where eclipse exe is found. </p>\n\n<p>3- Perform Maven Update project.</p>\n\n<p>Then the project was able to fetch from the maven repository.</p>\n\n<p>hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":9746422,"reputation":439,"user_id":7226259,"display_name":"Vinayak"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1502117142,"creation_date":1502117142,"answer_id":45549736,"question_id":31316339,"body_markdown":"Right Click on Project go to -&gt; Maven -&gt; Update project -&gt;select Force update project check box and click on Finish.","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Right Click on Project go to -> Maven -> Update project ->select Force update project check box and click on Finish.</p>\n"},{"tags":[],"owner":{"account_id":9964485,"reputation":3,"user_id":7372583,"display_name":"Aru Arshad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522779486,"creation_date":1522779486,"answer_id":49636719,"question_id":31316339,"body_markdown":"Tried everything. I deleted m2e and installed m2e version 2.7.0. Then deleted the .m2 directory and force updated maven. It worked! ","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Tried everything. I deleted m2e and installed m2e version 2.7.0. Then deleted the .m2 directory and force updated maven. It worked! </p>\n"},{"tags":[],"owner":{"account_id":13725876,"reputation":11,"user_id":9904638,"display_name":"bartleonid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528309252,"creation_date":1528304615,"answer_id":50725835,"question_id":31316339,"body_markdown":"This fixed the same issue for me:\r\nMy eclipse is installed in `/usr/local/bin/eclipse`\r\n\r\n1) Changed permission for eclipse from root to owner: `sudo chown -R $USER eclipse`\r\n\r\n2) Right click on `project/Maven` right click on `Update Maven` select `Force update maven project`","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>This fixed the same issue for me:\nMy eclipse is installed in <code>/usr/local/bin/eclipse</code></p>\n\n<p>1) Changed permission for eclipse from root to owner: <code>sudo chown -R $USER eclipse</code></p>\n\n<p>2) Right click on <code>project/Maven</code> right click on <code>Update Maven</code> select <code>Force update maven project</code></p>\n"},{"tags":[],"owner":{"account_id":14845736,"reputation":11,"user_id":10721091,"display_name":"Vijay Pratap"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543921648,"creation_date":1543921648,"answer_id":53611578,"question_id":31316339,"body_markdown":"I had exactly the same error. My network is an internal one of a company. The proxy has been disabled from the IT team so for that we do not have to enable any proxy settings. I have commented the proxy setting in settings.xml file from the below mentioned locations C:\\Users\\vijay.singh\\.m2\\settings.xml\r\n  &lt;!-- proxy\r\n       |--&gt;\r\nThis fixed the same issue for me","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I had exactly the same error. My network is an internal one of a company. The proxy has been disabled from the IT team so for that we do not have to enable any proxy settings. I have commented the proxy setting in settings.xml file from the below mentioned locations C:\\Users\\vijay.singh.m2\\settings.xml\n  \nThis fixed the same issue for me</p>\n"},{"tags":[],"owner":{"account_id":7573254,"reputation":101,"user_id":5746357,"display_name":"SKSajjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579758211,"creation_date":1579758211,"answer_id":59872184,"question_id":31316339,"body_markdown":"    This issue is happening due to change of protocol from http to https for central repository. please refer following link for more details. https://support.sonatype.com/hc/en-us/articles/360041287334-Central-501-HTTPS-Required \r\n    \r\n    In order to fix the problem, copy following into your pom.ml file. This will set the repository url to use https.\r\n    \r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;","title":"How to solve maven 2.6 resource plugin dependency?","body":"<pre><code>This issue is happening due to change of protocol from http to https for central repository. please refer following link for more details. https://support.sonatype.com/hc/en-us/articles/360041287334-Central-501-HTTPS-Required \n\nIn order to fix the problem, copy following into your pom.ml file. This will set the repository url to use https.\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;releases&gt;\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;Central Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144680,"reputation":1,"user_id":4120998,"display_name":"Chetan Malondkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642762950,"creation_date":1642762950,"answer_id":70800239,"question_id":31316339,"body_markdown":"Right click on your project under Package Explorer &gt; Maven &gt; Update Project &gt; Select the checkbox that reads &quot;Force updates of Snapshot/Releases&quot; &gt; Click on OK\r\n\r\nThis way you don&#39;t have to search around for your maven&#39;s settings.xml and if the cause is something else eclipse will automatically handle it whatever it may be. [Expected path for user settings XML is shown by eclipse under: Window &gt; Preferences &gt; Maven &gt; User Settings &gt; User Settings][1] (it is most likely, greyed out).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vfBh3.png","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>Right click on your project under Package Explorer &gt; Maven &gt; Update Project &gt; Select the checkbox that reads &quot;Force updates of Snapshot/Releases&quot; &gt; Click on OK</p>\n<p>This way you don't have to search around for your maven's settings.xml and if the cause is something else eclipse will automatically handle it whatever it may be. <a href=\"https://i.stack.imgur.com/vfBh3.png\" rel=\"nofollow noreferrer\">Expected path for user settings XML is shown by eclipse under: Window &gt; Preferences &gt; Maven &gt; User Settings &gt; User Settings</a> (it is most likely, greyed out).</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":2,"creation_date":1648036957,"post_id":71586694,"comment_id":126521308,"body_markdown":"Would you like to explain how that works and why it helps to solve the problem?\nOr are you just confirming (part of) one of the other existing answers?","body":"Would you like to explain how that works and why it helps to solve the problem? Or are you just confirming (part of) one of the other existing answers?"}],"tags":[],"owner":{"account_id":24659661,"reputation":1,"user_id":18556009,"display_name":"Susana Marques"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648036093,"creation_date":1648036093,"answer_id":71586694,"question_id":31316339,"body_markdown":"What worked for me was:\r\n\r\nmvn -Dhttps.protocols=TLSv1.2 install","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>What worked for me was:</p>\n<p>mvn -Dhttps.protocols=TLSv1.2 install</p>\n"},{"comments":[{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":1,"creation_date":1652962925,"post_id":72271589,"comment_id":127737890,"body_markdown":"improve your answer with more details about the solution. The project you deleted were the one with the issue or another that caused it? After deleting, what were the next steps: you recreated the project? you just build it again? The current state of the answer is not enough to solve the problem! With more details is easier to understand!","body":"improve your answer with more details about the solution. The project you deleted were the one with the issue or another that caused it? After deleting, what were the next steps: you recreated the project? you just build it again? The current state of the answer is not enough to solve the problem! With more details is easier to understand!"}],"tags":[],"owner":{"account_id":11791193,"reputation":1,"user_id":8627266,"display_name":"benson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652780249,"creation_date":1652780249,"answer_id":72271589,"question_id":31316339,"body_markdown":"I faced the same issue and resolved by deleting the project that i created and then deleted the M2 folder in the local.","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I faced the same issue and resolved by deleting the project that i created and then deleted the M2 folder in the local.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665999195,"post_id":74056212,"comment_id":130822670,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74056212/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26611555,"reputation":1,"user_id":20231678,"display_name":"Prashant G"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665666021,"creation_date":1665666021,"answer_id":74056212,"question_id":31316339,"body_markdown":"If you&#39;re connected to VPN, disconnect and then try. ","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>If you're connected to VPN, disconnect and then try.</p>\n"},{"tags":[],"owner":{"account_id":26184241,"reputation":1,"user_id":19867047,"display_name":"RahulG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680575107,"creation_date":1680574966,"answer_id":75925053,"question_id":31316339,"body_markdown":"I got similar issue and resolved by updating below\r\n\r\n 1. Java version\r\n 2. download and set up latest maven version\r\n 3. double check the mvn and java class path in environments variable \r\n 4. Run the mvn commands as Admin on console. \r\n 5. take backup of existing m2 repository and created new .m folder\r\n\r\nHope it helps","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>I got similar issue and resolved by updating below</p>\n<ol>\n<li>Java version</li>\n<li>download and set up latest maven version</li>\n<li>double check the mvn and java class path in environments variable</li>\n<li>Run the mvn commands as Admin on console.</li>\n<li>take backup of existing m2 repository and created new .m folder</li>\n</ol>\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":24601874,"reputation":1,"user_id":18504647,"display_name":"quazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693131509,"creation_date":1693131509,"answer_id":76986625,"question_id":31316339,"body_markdown":"If you are using jenkins and Sonatype Nexus repository :\r\n\r\n1. Update pom.xml :\r\n\r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n----------\r\n2. Update the Maven version in  Jenkins --&gt; Manage Jenkins --&gt; Tools : Maven verion 3.2.5\r\n\r\n3. Login to Jenkins server and remove .m2 folder ( /jenkins/.m2/)\r\n\r\n----------\r\n4. Login to Sonatype and check whether Proxy URL is http or https.\r\nUse these URLs only for Maven Proxy : \r\nhttps://repo.maven.apache.org/maven2/\r\n-- OR--  \r\nhttps://repo1.maven.org/maven2/\r\n\r\n","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>If you are using jenkins and Sonatype Nexus repository :</p>\n<ol>\n<li><p>Update pom.xml :</p>\n<pre><code> &lt;build&gt;\n &lt;plugins&gt;\n     &lt;plugin&gt;\n         &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n         &lt;version&gt;3.3.1&lt;/version&gt;\n     &lt;/plugin&gt;\n &lt;/plugins&gt;\n</code></pre>\n \n</li>\n</ol>\n<hr />\n<ol start=\"2\">\n<li><p>Update the Maven version in  Jenkins --&gt; Manage Jenkins --&gt; Tools : Maven verion 3.2.5</p>\n</li>\n<li><p>Login to Jenkins server and remove .m2 folder ( /jenkins/.m2/)</p>\n</li>\n</ol>\n<hr />\n<ol start=\"4\">\n<li>Login to Sonatype and check whether Proxy URL is http or https.\nUse these URLs only for Maven Proxy :\n<a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/</a>\n-- OR--<br />\n<a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/</a></li>\n</ol>\n"}],"owner":{"account_id":1643981,"reputation":2194,"user_id":1515891,"accept_rate":100,"display_name":"spt025"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289695,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":31316682,"answer_count":17,"score":34,"last_activity_date":1693131509,"creation_date":1436441939,"question_id":31316339,"body_markdown":"ERROR:\r\n\r\n    Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\n    Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\r\n\r\n\r\nSolutions Tried:\r\n\r\nUpdated project: not able to download from REPO of maven.\r\n\r\nTried putting perticular jar in that folder of .m2 repo.\r\n\r\nCan provide references if you want.","title":"How to solve maven 2.6 resource plugin dependency?","body":"<p>ERROR:</p>\n\n<pre><code>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\nPlugin org.apache.maven.plugins:maven-resources-plugin:2.6 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-resources-plugin:jar:2.6\n</code></pre>\n\n<p>Solutions Tried:</p>\n\n<p>Updated project: not able to download from REPO of maven.</p>\n\n<p>Tried putting perticular jar in that folder of .m2 repo.</p>\n\n<p>Can provide references if you want.</p>\n"},{"tags":["java","android","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1693058921,"post_id":76983124,"comment_id":135711382,"body_markdown":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the `edit` link under it. Also see https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this and https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"When an app crashes, it writes an error message and stack trace to its logcat. Please find those, and add them to your question by clicking the <code>edit</code> link under it. Also see <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"score":0,"creation_date":1693061092,"post_id":76983124,"comment_id":135711593,"body_markdown":"oke i&#39;ve done it &#128077;","body":"oke i&#39;ve done it üëç"},{"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"score":0,"creation_date":1693127731,"post_id":76983124,"comment_id":135716906,"body_markdown":"Okay i&#39;ve fixed it so that the image uploads to firebase but i still get this error any ideas?","body":"Okay i&#39;ve fixed it so that the image uploads to firebase but i still get this error any ideas?"},{"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"score":0,"creation_date":1693128954,"post_id":76983124,"comment_id":135717004,"body_markdown":"I&#39;ve located the problem. Everything works fine but if i upload more than 1 image the email gives the error","body":"I&#39;ve located the problem. Everything works fine but if i upload more than 1 image the email gives the error"}],"answers":[{"comments":[{"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"score":0,"creation_date":1693744525,"post_id":76986596,"comment_id":135798226,"body_markdown":"I tried it but it doesn&#39;t solve the problem","body":"I tried it but it doesn&#39;t solve the problem"}],"tags":[],"owner":{"account_id":22894290,"reputation":56,"user_id":17034019,"display_name":"vraj kalathiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693131112,"creation_date":1693131112,"answer_id":76986596,"question_id":76983124,"body_markdown":"Dear User First you check **Internet permission** in manifests \r\n\r\nTry this way to adding images to firebase storage\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    private void SelectImage() {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;image/*&quot;);\r\n        startActivityForResult(intent, 100);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n            filePath = data.getData();\r\n            try {\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                ImageView postImage = findViewById(R.id.IvPostImage);\r\n                postImage.setImageBitmap(bitmap);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void uploadImage() {\r\n        if (filePath != null) {\r\n            String imageName = UUID.randomUUID().toString();\r\n            StorageReference imageRef = storageReference.child(&quot;images/&quot;).child(imageName);\r\n\r\n            // You can use getInstance() without specifying the database URL if it&#39;s already configured in your project.\r\n            FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n\r\n            DatabaseReference myRef = database.getReference();\r\n\r\n            EditText descriptionEditText = findViewById(R.id.EtDescription);\r\n            String description = descriptionEditText.getText().toString().trim();\r\n\r\n            if (!description.isEmpty()) {\r\n                String email = Profile.GetEmail.Email;\r\n                myRef.child(imageName).child(&quot;Description&quot;).setValue(description);\r\n                myRef.child(imageName).child(&quot;Email&quot;).setValue(email.replace(&quot;.&quot;, &quot;;&quot;));\r\n\r\n                // Upload the image\r\n                imageRef.putFile(filePath)\r\n                    .addOnSuccessListener(taskSnapshot -&gt; {\r\n                        Toast.makeText(getApplicationContext(), &quot;Image uploaded successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        // Proceed to the home screen or another appropriate action\r\n                        Intent goHome = new Intent(AddPosts.this, Home.class);\r\n                        startActivity(goHome);\r\n                    })\r\n                    .addOnFailureListener(e -&gt; {\r\n                        Toast.makeText(getApplicationContext(), &quot;Failed to upload image&quot;, Toast.LENGTH_SHORT).show();\r\n                    });\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Please fill in the description&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Problems with adding images to firebase storage","body":"<p>Dear User First you check <strong>Internet permission</strong> in manifests</p>\n<p>Try this way to adding images to firebase storage\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>private void SelectImage() {\n    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(\"image/*\");\n    startActivityForResult(intent, 100);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 100 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n        filePath = data.getData();\n        try {\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n            ImageView postImage = findViewById(R.id.IvPostImage);\n            postImage.setImageBitmap(bitmap);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nprivate void uploadImage() {\n    if (filePath != null) {\n        String imageName = UUID.randomUUID().toString();\n        StorageReference imageRef = storageReference.child(\"images/\").child(imageName);\n\n        // You can use getInstance() without specifying the database URL if it's already configured in your project.\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n\n        DatabaseReference myRef = database.getReference();\n\n        EditText descriptionEditText = findViewById(R.id.EtDescription);\n        String description = descriptionEditText.getText().toString().trim();\n\n        if (!description.isEmpty()) {\n            String email = Profile.GetEmail.Email;\n            myRef.child(imageName).child(\"Description\").setValue(description);\n            myRef.child(imageName).child(\"Email\").setValue(email.replace(\".\", \";\"));\n\n            // Upload the image\n            imageRef.putFile(filePath)\n                .addOnSuccessListener(taskSnapshot -&gt; {\n                    Toast.makeText(getApplicationContext(), \"Image uploaded successfully\", Toast.LENGTH_SHORT).show();\n                    // Proceed to the home screen or another appropriate action\n                    Intent goHome = new Intent(AddPosts.this, Home.class);\n                    startActivity(goHome);\n                })\n                .addOnFailureListener(e -&gt; {\n                    Toast.makeText(getApplicationContext(), \"Failed to upload image\", Toast.LENGTH_SHORT).show();\n                });\n        } else {\n            Toast.makeText(getApplicationContext(), \"Please fill in the description\", Toast.LENGTH_SHORT).show();\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693131112,"creation_date":1693055589,"question_id":76983124,"body_markdown":"So i have a problem with uploading images to the firebase storage through android studio java. I can upload 1 image but as soon as i want to upload a second image the app crashes and it didn&#39;t work.I&#39;ve looked into the code myself but i can&#39;t find the problem so i&#39;m hoping one of you can.\r\n\r\nSo beneath you will find the code where in the &quot;selectImage&quot; void i select an image from the gallery of the phone and with that piece of code is nothing wrong. But as soon as i press the upload image button it crahses so the problem finds itself in the &quot;uploadImage&quot; void i think.\r\n\r\nThis is the error that appears after is crashes:\r\n\r\n&gt;  java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n\r\nHere is the code:\r\n\r\n```\r\nprivate void SelectImage() {\r\n        Intent intent = new Intent();\r\n        intent.setType(&quot;image/*&quot;);\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(intent, 100);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == 100 &amp;&amp; data != null &amp;&amp; data.getData() != null){\r\n            filePath = data.getData();\r\n            try{\r\n\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\r\n                ImageView postImage = findViewById(R.id.IvPostImage);\r\n                postImage.setImageBitmap(bitmap);\r\n            }\r\n            catch (IOException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void uploadImage() {\r\n        if(filePath != null){\r\n            String name = UUID.randomUUID().toString();\r\n\r\n            StorageReference ref = storageReference.child(&quot;images/&quot;).child(String.valueOf(name));\r\n\r\n            FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://elevate-92324-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\r\n            DatabaseReference myRef = database.getReference();\r\n\r\n            EditText Description = findViewById(R.id.EtDescription);\r\n            String description = Description.getText().toString();\r\n\r\n            ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Image uploaded with success&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Failed to upload image&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n            if(description != null){\r\n                String email = Profile.GetEmail.Email;\r\n                myRef.child(name).child(&quot;Description&quot;).setValue(description);\r\n                myRef.child(name).child(&quot;Email&quot;).setValue(email.replace(&quot;.&quot;, &quot;;&quot;));\r\n\r\n                Intent goHome = new Intent(AddPosts.this, Home.class);\r\n                startActivity(goHome);\r\n            }else{\r\n                Toast.makeText(getApplicationContext(), &quot;Fill in the description&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Problems with adding images to firebase storage","body":"<p>So i have a problem with uploading images to the firebase storage through android studio java. I can upload 1 image but as soon as i want to upload a second image the app crashes and it didn't work.I've looked into the code myself but i can't find the problem so i'm hoping one of you can.</p>\n<p>So beneath you will find the code where in the &quot;selectImage&quot; void i select an image from the gallery of the phone and with that piece of code is nothing wrong. But as soon as i press the upload image button it crahses so the problem finds itself in the &quot;uploadImage&quot; void i think.</p>\n<p>This is the error that appears after is crashes:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.</p>\n</blockquote>\n<p>Here is the code:</p>\n<pre><code>private void SelectImage() {\n        Intent intent = new Intent();\n        intent.setType(&quot;image/*&quot;);\n        intent.setAction(Intent.ACTION_GET_CONTENT);\n        startActivityForResult(intent, 100);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if(requestCode == 100 &amp;&amp; data != null &amp;&amp; data.getData() != null){\n            filePath = data.getData();\n            try{\n\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), filePath);\n                ImageView postImage = findViewById(R.id.IvPostImage);\n                postImage.setImageBitmap(bitmap);\n            }\n            catch (IOException e){\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void uploadImage() {\n        if(filePath != null){\n            String name = UUID.randomUUID().toString();\n\n            StorageReference ref = storageReference.child(&quot;images/&quot;).child(String.valueOf(name));\n\n            FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;https://elevate-92324-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\n            DatabaseReference myRef = database.getReference();\n\n            EditText Description = findViewById(R.id.EtDescription);\n            String description = Description.getText().toString();\n\n            ref.putFile(filePath).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    Toast.makeText(getApplicationContext(), &quot;Image uploaded with success&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(getApplicationContext(), &quot;Failed to upload image&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            if(description != null){\n                String email = Profile.GetEmail.Email;\n                myRef.child(name).child(&quot;Description&quot;).setValue(description);\n                myRef.child(name).child(&quot;Email&quot;).setValue(email.replace(&quot;.&quot;, &quot;;&quot;));\n\n                Intent goHome = new Intent(AddPosts.this, Home.class);\n                startActivity(goHome);\n            }else{\n                Toast.makeText(getApplicationContext(), &quot;Fill in the description&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","date","datetime","date-difference","java.util.calendar"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":4,"creation_date":1692988887,"post_id":76979636,"comment_id":135705320,"body_markdown":"You should be using `LocalDateTime` instead of `Date` or `Calendar`.  `LocalDateTime` has a parse method to convert a `String` to a `LocalDateTime`.","body":"You should be using <code>LocalDateTime</code> instead of <code>Date</code> or <code>Calendar</code>.  <code>LocalDateTime</code> has a parse method to convert a <code>String</code> to a <code>LocalDateTime</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692991471,"post_id":76979636,"comment_id":135705771,"body_markdown":"`s1 = s1.replace(&quot; &quot;, &quot;T&quot;);s2 = s2.replace(&quot; &quot;, &quot;T&quot;);boolean moreThanOneYearDifference = LocalDateTime.parse(s1).isBefore(LocalDateTime.parse(s2).minusYears(1L));`","body":"<code>s1 = s1.replace(&quot; &quot;, &quot;T&quot;);s2 = s2.replace(&quot; &quot;, &quot;T&quot;);boolean moreThanOneYearDifference = LocalDateTime.parse(s1).isBefore(LocalDateTime.parse(s2).min&zwnj;&#8203;usYears(1L));</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1693033188,"post_id":76979636,"comment_id":135709027,"body_markdown":"Exactly how do you define a year? Usually we ignore the Leap Day, as its purpose is to slow the calendar so we can pretend a year neatly divides into whole days. So a year from August 20 is always August 20, regardless of Leap Year ‚Äî at least by usual convention. In other words, we try to ignore the existence of Leap Day when counting years. You seem to have a different definition, so you should explain your definition clearly and specifically.","body":"Exactly how do you define a year? Usually we ignore the Leap Day, as its purpose is to slow the calendar so we can pretend a year neatly divides into whole days. So a year from August 20 is always August 20, regardless of Leap Year ‚Äî at least by usual convention. In other words, we try to ignore the existence of Leap Day when counting years. You seem to have a different definition, so you should explain your definition clearly and specifically."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693076329,"post_id":76979636,"comment_id":135713339,"body_markdown":"As @GilbertLeBlanc said, don‚Äôt use `Calendar`. It‚Äôs long outdated and was always cumbersome to work with. From the question where you copied your code instead look at [the good answer by Basil Bourque](https://stackoverflow.com/a/48449221/5772882) and [the one by \nklabe](https://stackoverflow.com/a/73889564/5772882).","body":"As @GilbertLeBlanc said, don‚Äôt use <code>Calendar</code>. It‚Äôs long outdated and was always cumbersome to work with. From the question where you copied your code instead look at <a href=\"https://stackoverflow.com/a/48449221/5772882\">the good answer by Basil Bourque</a> and <a href=\"https://stackoverflow.com/a/73889564/5772882\">the one by  klabe</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693079393,"post_id":76979636,"comment_id":135713650,"body_markdown":"The code you took from that answer is even confusing and flawed. Do your self a favour, throw it away now (I already directed you to where you can find something better).","body":"The code you took from that answer is even confusing and flawed. Do your self a favour, throw it away now (I already directed you to where you can find something better)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693079736,"post_id":76979636,"comment_id":135713687,"body_markdown":"@BasilBourque It looks to me like the code the OP copied from that other answer exactly tries to *compensate* for leap years so that the time from August 20 to August 20 is always exactly a year. However the code fails to do so correctly. And in addition it also doesn‚Äôt always count days correctly.","body":"@BasilBourque It looks to me like the code the OP copied from that other answer exactly tries to <i>compensate</i> for leap years so that the time from August 20 to August 20 is always exactly a year. However the code fails to do so correctly. And in addition it also doesn‚Äôt always count days correctly."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693081011,"post_id":76979636,"comment_id":135713819,"body_markdown":"Tan, are you after the unsigned difference or absolute value of the difference, so without regard to which of the date-times is earlier?","body":"Tan, are you after the unsigned difference or absolute value of the difference, so without regard to which of the date-times is earlier?"}],"answers":[{"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692989436,"post_id":76979821,"comment_id":135705415,"body_markdown":"how would I go about converting `2022-08-20 10:26:44.000` such that it fits this format `Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44)` ?","body":"how would I go about converting <code>2022-08-20 10:26:44.000</code> such that it fits this format <code>Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44)</code> ?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692990418,"post_id":76979821,"comment_id":135705583,"body_markdown":"So do I need to  retrieve year, month, date etc from my original date and put it in this format `GregorianCalendar(2022, 7, 20, 10, 26, 44)` ? I guess I&#39;m not following you","body":"So do I need to  retrieve year, month, date etc from my original date and put it in this format <code>GregorianCalendar(2022, 7, 20, 10, 26, 44)</code> ? I guess I&#39;m not following you"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692990499,"post_id":76979821,"comment_id":135705594,"body_markdown":"I improved my answer, I hope it helps!","body":"I improved my answer, I hope it helps!"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":1,"creation_date":1692991492,"post_id":76979821,"comment_id":135705773,"body_markdown":"Thank you. I needed to only figure out if two dates are more than a year or not and your code does that.","body":"Thank you. I needed to only figure out if two dates are more than a year or not and your code does that."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692991815,"post_id":76979821,"comment_id":135705823,"body_markdown":"Glad I can help!","body":"Glad I can help!"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692991971,"post_id":76979821,"comment_id":135705840,"body_markdown":"One question, if the ` String dateString1 = &quot;2022-08-20 10:26:44.000&quot;;` are not a string for me as I&#39;m getting it from the database with datetime column, I don&#39;t need to do the string conversion like this `LocalDateTime dateTime1 = LocalDateTime.parse(dateString1, formatter);`, right?","body":"One question, if the ` String dateString1 = &quot;2022-08-20 10:26:44.000&quot;;` are not a string for me as I&#39;m getting it from the database with datetime column, I don&#39;t need to do the string conversion like this <code>LocalDateTime dateTime1 = LocalDateTime.parse(dateString1, formatter);</code>, right?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692992084,"post_id":76979821,"comment_id":135705859,"body_markdown":"What the type of the object that comes from the database? I mean the Java class.","body":"What the type of the object that comes from the database? I mean the Java class."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692992358,"post_id":76979821,"comment_id":135705893,"body_markdown":"It&#39;s like this `Date beginDate = ch.getDate(Client.CHECKLIST).beginDate;` so `beginDate` is of the form `2023-08-20 10:26:44.000` if I System.out.println it.","body":"It&#39;s like this <code>Date beginDate = ch.getDate(Client.CHECKLIST).beginDate;</code> so <code>beginDate</code> is of the form <code>2023-08-20 10:26:44.000</code> if I System.out.println it."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692992607,"post_id":76979821,"comment_id":135705934,"body_markdown":"You can do `LocalDateTime localDateTime = beginDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();`","body":"You can do <code>LocalDateTime localDateTime = beginDate.toInstant().atZone(ZoneId.systemDefault()).toLocal&zwnj;&#8203;DateTime();</code>"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":1,"creation_date":1692993149,"post_id":76979821,"comment_id":135706000,"body_markdown":"Ok, thanks. And similarly I will do for current date as well since I would need to match both the dates format for comparision.","body":"Ok, thanks. And similarly I will do for current date as well since I would need to match both the dates format for comparision."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692994073,"post_id":76979821,"comment_id":135706145,"body_markdown":"The line you suggested `LocalDateTime localDateTime = beginDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();` seems to be giving me this error : `java.lang.UnsupportedOperationException\n[INFO] [talledLocalContainer]   at java.sql/java.sql.Date.toInstant(Date.java:316)` Is everything okay with the conversion you suggested?","body":"The line you suggested <code>LocalDateTime localDateTime = beginDate.toInstant().atZone(ZoneId.systemDefault()).toLocal&zwnj;&#8203;DateTime();</code> seems to be giving me this error : <code>java.lang.UnsupportedOperationException [INFO] [talledLocalContainer]   at java.sql&#47;java.sql.Date.toInstant(Date.java:316)</code> Is everything okay with the conversion you suggested?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692994160,"post_id":76979821,"comment_id":135706159,"body_markdown":"Sorry, I thought that it was `java.util.Date`.","body":"Sorry, I thought that it was <code>java.util.Date</code>."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692994303,"post_id":76979821,"comment_id":135706179,"body_markdown":"Sorry about not providing enough info. Would there be any fix for this?","body":"Sorry about not providing enough info. Would there be any fix for this?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692994636,"post_id":76979821,"comment_id":135706228,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255060/discussion-between-diego-borba-and-tan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255060/discussion-between-diego-borba-and-tan\">continue this discussion in chat</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693130969,"post_id":76979821,"comment_id":135717192,"body_markdown":"You should not use either of the `Date` classes for getting a `datetime` from your database. Use `LocalDateTime` for that too. Since JDBC 4.2 assuming a JDBC `ResultSet rs` use `rs.getObject(&quot;your_datetime_column&quot;, LocalDateTime.class)`. And save any and all conversions.","body":"You should not use either of the <code>Date</code> classes for getting a <code>datetime</code> from your database. Use <code>LocalDateTime</code> for that too. Since JDBC 4.2 assuming a JDBC <code>ResultSet rs</code> use <code>rs.getObject(&quot;your_datetime_column&quot;, LocalDateTime.class)</code>. And save any and all conversions."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":15,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692990479,"creation_date":1692988914,"answer_id":76979821,"question_id":76979636,"body_markdown":"&gt; How should I send these two dates such that it&#39;s accepted for moreTheOneYearDifference method as defined below?\r\n\r\nYou can send like this:\r\n\r\n```java\r\nCalendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44); // Note: Month is 0-based\r\nCalendar date2 = new GregorianCalendar(2023, 7, 25, 10, 26, 44); // Note: Month is 0-based\r\n```\r\n\r\nI corrected the month values to be 0-based (January is 0, February is 1, and so on), and created instances of `Calendar` for `date1` and `date2` using the `GregorianCalendar` class and provided the correct year, month, day, hour, minute, and second values.\r\n\r\n**Note**: I think that you mean *moreThanOneYearDifference* and no *moreTheOneYearDifference*\r\n\r\n&gt; how would I go about converting 2022-08-20 10:26:44.000 such that it fits this format Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44) ?\r\n\r\nYou can do this way:\r\n\r\n```java\r\nDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\r\n\r\nCalendar c1 = new GregorianCalendar();\r\nc1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\r\n\r\nCalendar c2 = new GregorianCalendar();\r\nc2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\r\n```\r\n\r\n**But**, like [Basil Bourque][1] said: &quot;*These terrible date-time classes were years ago supplanted by the modern java.time classes defined in JSR 310.*&quot;\r\n\r\nSo, I recommend that you use the *modern java.time classes* if it is possible. It will be something like this:\r\n\r\n```java\r\npublic class DateOneYearDifferenceTest {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Original Strings\r\n\t\tString dateString1 = &quot;2022-08-20 10:26:44.000&quot;;\r\n\t\tString dateString2 = &quot;2023-08-20 10:26:44.000&quot;;\r\n\r\n\t\t// Format parser\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n\r\n\t\t// Convertion\r\n\t\tLocalDateTime dateTime1 = LocalDateTime.parse(dateString1, formatter);\r\n\t\tLocalDateTime dateTime2 = LocalDateTime.parse(dateString2, formatter);\r\n\r\n\t\tif (moreThanOneYearDifference(dateTime1, dateTime2)) {\r\n\t\t\tSystem.out.println(&quot;The time difference is more than one year.&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;The time difference is not more than one year.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\t * Modern method\r\n\t */\r\n\tpublic static boolean moreThanOneYearDifference(LocalDateTime dateTime1, LocalDateTime dateTime2) {\r\n\t\tlong daysDifference = ChronoUnit.DAYS.between(dateTime1, dateTime2);\r\n\t\treturn Math.abs(daysDifference) &gt; 365;\r\n\t}\r\n}\r\n```\r\n\r\nI don&#39;t know how much specific you need to be, so maybe you should edit it to consider hours, minutes, seconds, etc...\r\n\r\n  [1]: https://stackoverflow.com/users/642706/basil-bourque","title":"using date for calender as an input to figure out the time difference","body":"<blockquote>\n<p>How should I send these two dates such that it's accepted for moreTheOneYearDifference method as defined below?</p>\n</blockquote>\n<p>You can send like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44); // Note: Month is 0-based\nCalendar date2 = new GregorianCalendar(2023, 7, 25, 10, 26, 44); // Note: Month is 0-based\n</code></pre>\n<p>I corrected the month values to be 0-based (January is 0, February is 1, and so on), and created instances of <code>Calendar</code> for <code>date1</code> and <code>date2</code> using the <code>GregorianCalendar</code> class and provided the correct year, month, day, hour, minute, and second values.</p>\n<p><strong>Note</strong>: I think that you mean <em>moreThanOneYearDifference</em> and no <em>moreTheOneYearDifference</em></p>\n<blockquote>\n<p>how would I go about converting 2022-08-20 10:26:44.000 such that it fits this format Calendar date1 = new GregorianCalendar(2022, 7, 20, 10, 26, 44) ?</p>\n</blockquote>\n<p>You can do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\n\nCalendar c1 = new GregorianCalendar();\nc1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\n\nCalendar c2 = new GregorianCalendar();\nc2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\n</code></pre>\n<p><strong>But</strong>, like <a href=\"https://stackoverflow.com/users/642706/basil-bourque\">Basil Bourque</a> said: &quot;<em>These terrible date-time classes were years ago supplanted by the modern java.time classes defined in JSR 310.</em>&quot;</p>\n<p>So, I recommend that you use the <em>modern java.time classes</em> if it is possible. It will be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DateOneYearDifferenceTest {\n    public static void main(String[] args) {\n        // Original Strings\n        String dateString1 = &quot;2022-08-20 10:26:44.000&quot;;\n        String dateString2 = &quot;2023-08-20 10:26:44.000&quot;;\n\n        // Format parser\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n\n        // Convertion\n        LocalDateTime dateTime1 = LocalDateTime.parse(dateString1, formatter);\n        LocalDateTime dateTime2 = LocalDateTime.parse(dateString2, formatter);\n\n        if (moreThanOneYearDifference(dateTime1, dateTime2)) {\n            System.out.println(&quot;The time difference is more than one year.&quot;);\n        } else {\n            System.out.println(&quot;The time difference is not more than one year.&quot;);\n        }\n    }\n\n    /*\n     * Modern method\n     */\n    public static boolean moreThanOneYearDifference(LocalDateTime dateTime1, LocalDateTime dateTime2) {\n        long daysDifference = ChronoUnit.DAYS.between(dateTime1, dateTime2);\n        return Math.abs(daysDifference) &gt; 365;\n    }\n}\n</code></pre>\n<p>I don't know how much specific you need to be, so maybe you should edit it to consider hours, minutes, seconds, etc...</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1692989320,"post_id":76979828,"comment_id":135705397,"body_markdown":"These terrible date-time classes were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"These terrible date-time classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1692989355,"post_id":76979828,"comment_id":135705404,"body_markdown":"@BasilBourque Is there a better way to achieve with java.time package?","body":"@BasilBourque Is there a better way to achieve with java.time package?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":1,"creation_date":1692990286,"post_id":76979828,"comment_id":135705565,"body_markdown":"@Gabriel - You approach works in calling the method but that method has some issues I guess as it is not returning me correct # of days","body":"@Gabriel - You approach works in calling the method but that method has some issues I guess as it is not returning me correct # of days"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693081397,"post_id":76979828,"comment_id":135713856,"body_markdown":"@Tan Yes, much better and at the same time much simpler. `LocalDateTime.parse(&quot;2022-08-20T10:26:44.000&quot;).plusYears(1).isBefore(LocalDateTime.parse(&quot;2023-08-25T10:26:44.000&quot;))`. I have replaced the spaces in the strings with `T` to conform with ISO 8601. If you don‚Äôt want this, use a `DateTimeFormatter` for parsing. Search for the details, it‚Äôs straightforward enough.","body":"@Tan Yes, much better and at the same time much simpler. <code>LocalDateTime.parse(&quot;2022-08-20T10:26:44.000&quot;).plusYears(1).&zwnj;&#8203;isBefore(LocalDateTi&zwnj;&#8203;me.parse(&quot;2023-08-25&zwnj;&#8203;T10:26:44.000&quot;))</code>. I have replaced the spaces in the strings with <code>T</code> to conform with ISO 8601. If you don‚Äôt want this, use a <code>DateTimeFormatter</code> for parsing. Search for the details, it‚Äôs straightforward enough."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693417844,"post_id":76979828,"comment_id":135759624,"body_markdown":"Spelled out in [the smart comment by g00se under the question](https://stackoverflow.com/questions/76979636/using-date-for-calender-as-an-input-to-figure-out-the-time-difference#comment135705771_76979636).","body":"Spelled out in <a href=\"https://stackoverflow.com/questions/76979636/using-date-for-calender-as-an-input-to-figure-out-the-time-difference#comment135705771_76979636\">the smart comment by g00se under the question</a>."}],"tags":[],"owner":{"account_id":23676179,"reputation":3,"user_id":17702382,"display_name":"lzzgabriel"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692989016,"creation_date":1692989016,"answer_id":76979828,"question_id":76979636,"body_markdown":"Maybe try something like this:\r\n\r\n    DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\r\n    \t\r\n    Calendar c1 = new GregorianCalendar(), c2 = new GregorianCalendar();\r\n    c1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\r\n    c2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\r\n    System.out.println(moreTheOneYearDifference(c1, c2));","title":"using date for calender as an input to figure out the time difference","body":"<p>Maybe try something like this:</p>\n<pre><code>DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\n    \nCalendar c1 = new GregorianCalendar(), c2 = new GregorianCalendar();\nc1.setTimeInMillis(format.parse(&quot;2022-08-20 10:26:44.000&quot;).getTime());\nc2.setTimeInMillis(format.parse(&quot;2023-08-25 10:26:44.000&quot;).getTime());\nSystem.out.println(moreTheOneYearDifference(c1, c2));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693127983,"post_id":76986031,"comment_id":135716922,"body_markdown":"Maybe not ideal, but seems to me to be the best suggestion so far. The OP may not want to throw the time of day away (from August 25 15:00 to August 25 next year 09:00, is that less than one year?) And the OP may want to know whether the difference is *strictly* more than a year. Getting this out of a `Period` is a bit more complicated. But only the OP can tell (I frankly find the question unclear). In any case a nice demonstration of java.time and some of its strong points.","body":"Maybe not ideal, but seems to me to be the best suggestion so far. The OP may not want to throw the time of day away (from August 25 15:00 to August 25 next year 09:00, is that less than one year?) And the OP may want to know whether the difference is <i>strictly</i> more than a year. Getting this out of a <code>Period</code> is a bit more complicated. But only the OP can tell (I frankly find the question unclear). In any case a nice demonstration of java.time and some of its strong points."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1693204999,"post_id":76986031,"comment_id":135724167,"body_markdown":"Totally agree @OleV.V., I just felt like providing an alternative, even if it is not the perfect solution. There is no perfect solution to an unclear question. One would likely have to write a custom class for this, maybe using `Period` and `Duration`.","body":"Totally agree @OleV.V., I just felt like providing an alternative, even if it is not the perfect solution. There is no perfect solution to an unclear question. One would likely have to write a custom class for this, maybe using <code>Period</code> and <code>Duration</code>."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1693324475,"post_id":76986031,"comment_id":135744325,"body_markdown":"Thanks for the alternative. What part of question is unclear?","body":"Thanks for the alternative. What part of question is unclear?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1693378293,"post_id":76986031,"comment_id":135750927,"body_markdown":"What‚Äôs unclear: Is the second date-time always later than the first? Do you mean *strictly* greater than a year (as opposed to equal to or less than a year)? By *one year* do you mean for example from 2022-08-20 10:26:44.000 to 2023-08-20 10:26:44.000? I believe much of the confusion comes from the code you found being flawed, which leaves doubt about what exactly you want to obtain from it.","body":"What‚Äôs unclear: Is the second date-time always later than the first? Do you mean <i>strictly</i> greater than a year (as opposed to equal to or less than a year)? By <i>one year</i> do you mean for example from 2022-08-20 10:26:44.000 to 2023-08-20 10:26:44.000? I believe much of the confusion comes from the code you found being flawed, which leaves doubt about what exactly you want to obtain from it."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1693378503,"post_id":76986031,"comment_id":135750971,"body_markdown":"Hi! It is not clear to me what to do if the plain *date difference* of your two dates plus times is exactly one year, zero months and zero days. Should the method `return false` or should it compare the time part down to milliseconds? &quot;One year and one millisecond&quot; can certainly be described as &quot;more than one year&quot;.","body":"Hi! It is not clear to me what to do if the plain <i>date difference</i> of your two dates plus times is exactly one year, zero months and zero days. Should the method <code>return false</code> or should it compare the time part down to milliseconds? &quot;One year and one millisecond&quot; can certainly be described as &quot;more than one year&quot;."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693120125,"creation_date":1693120125,"answer_id":76986031,"question_id":76979636,"body_markdown":"Just as an alternative, you could calculate the `Period.between(‚Ä¶)` two `LocalDate`s, which are part of a `LocalDateTime`, available by `LocalDateTime.toLocalDate()`.\r\n\r\nSee this example:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example datetimes\r\n\tString a = &quot;2022-08-20 10:26:44.000&quot;;\r\n\tString b = &quot;2023-08-25 10:26:44.000&quot;;\r\n\t// prepare a formatter that is able to parse those Strings\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS&quot;);\r\n\t// then actually parsen them\r\n\tLocalDateTime ldtA = LocalDateTime.parse(a, dtf);\r\n\tLocalDateTime ldtB = LocalDateTime.parse(b, dtf);\r\n\t// caclulate the period between those two dates\r\n\tPeriod period = Period.between(ldtA.toLocalDate(), ldtB.toLocalDate());\r\n\t// check if the resulting period is a full year or more\r\n\tif (period.getYears() &gt;= 1) {\r\n\t\tSystem.out.println(&quot;Difference is greater than or equals one year&quot;);\r\n\t} else {\r\n\t\tSystem.err.println(&quot;Difference is less than one year&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nResulting output:\r\n\r\n```none\r\nDifference is greater than or equals one year\r\n```\r\n\r\nHave a look at the other methods of a `Period` and if you want to involve time of day or calulate with that exclusively, check out a `Duration`:\r\n\r\n[The Java‚Ñ¢ Tutorials ‚Äî Period and Duration](https://docs.oracle.com/javase/tutorial/datetime/iso/period.html)","title":"using date for calender as an input to figure out the time difference","body":"<p>Just as an alternative, you could calculate the <code>Period.between(‚Ä¶)</code> two <code>LocalDate</code>s, which are part of a <code>LocalDateTime</code>, available by <code>LocalDateTime.toLocalDate()</code>.</p>\n<p>See this example:</p>\n<pre><code>public static void main(String[] args) {\n    // example datetimes\n    String a = &quot;2022-08-20 10:26:44.000&quot;;\n    String b = &quot;2023-08-25 10:26:44.000&quot;;\n    // prepare a formatter that is able to parse those Strings\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS&quot;);\n    // then actually parsen them\n    LocalDateTime ldtA = LocalDateTime.parse(a, dtf);\n    LocalDateTime ldtB = LocalDateTime.parse(b, dtf);\n    // caclulate the period between those two dates\n    Period period = Period.between(ldtA.toLocalDate(), ldtB.toLocalDate());\n    // check if the resulting period is a full year or more\n    if (period.getYears() &gt;= 1) {\n        System.out.println(&quot;Difference is greater than or equals one year&quot;);\n    } else {\n        System.err.println(&quot;Difference is less than one year&quot;);\n    }\n}\n</code></pre>\n<p>Resulting output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Difference is greater than or equals one year\n</code></pre>\n<p>Have a look at the other methods of a <code>Period</code> and if you want to involve time of day or calulate with that exclusively, check out a <code>Duration</code>:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"nofollow noreferrer\">The Java‚Ñ¢ Tutorials ‚Äî Period and Duration</a></p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76979821,"answer_count":3,"score":0,"last_activity_date":1693130682,"creation_date":1692987013,"question_id":76979636,"body_markdown":"I have the following code and trying to figure out if the date difference is greater than one year or not. If I have the two dates like this:\r\n\r\n1. 2022-08-20 10:26:44.000\r\n\r\n2. 2023-08-25 10:26:44.000\r\n\r\nHow should I send these two dates such that it&#39;s accepted for `moreTheOneYearDifference` method as defined below?\r\n\r\n\r\n\r\n    public class DateOneYearDifferenceTest {\r\n    \r\n    \tfinal GregorianCalendar gc = new GregorianCalendar();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.printf(moreTheOneYearDifference(2022-08-20 10:26:44.000, 2023-08-25 10:26:44.000));\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    \tpublic boolean moreTheOneYearDifference(Calendar c1, Calendar c2) {\r\n    \t\tint days = 365;\r\n    \t\tif (c1.before(c2) &amp;&amp; gc.isLeapYear(c1.get(Calendar.YEAR))) {\r\n    \t\t\tdays += 1;\r\n    \t\t} else if (gc.isLeapYear(c2.get(Calendar.YEAR))) {\r\n    \t\t\tdays += 1;\r\n    \t\t}\r\n    \t\treturn TimeUnit.MICROSECONDS.toDays((long) Math.abs(c1.getTimeInMillis() - c2.getTimeInMillis())) &gt;= days;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe above method was copied from [this stackoverflow][1] post answer\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37161525/checking-if-difference-between-two-dates-in-greater-than-a-year-java\r\n","title":"using date for calender as an input to figure out the time difference","body":"<p>I have the following code and trying to figure out if the date difference is greater than one year or not. If I have the two dates like this:</p>\n<ol>\n<li><p>2022-08-20 10:26:44.000</p>\n</li>\n<li><p>2023-08-25 10:26:44.000</p>\n</li>\n</ol>\n<p>How should I send these two dates such that it's accepted for <code>moreTheOneYearDifference</code> method as defined below?</p>\n<pre><code>public class DateOneYearDifferenceTest {\n\n    final GregorianCalendar gc = new GregorianCalendar();\n\n    public static void main(String[] args) {\n        System.out.printf(moreTheOneYearDifference(2022-08-20 10:26:44.000, 2023-08-25 10:26:44.000));\n        \n\n    }\n\n    public boolean moreTheOneYearDifference(Calendar c1, Calendar c2) {\n        int days = 365;\n        if (c1.before(c2) &amp;&amp; gc.isLeapYear(c1.get(Calendar.YEAR))) {\n            days += 1;\n        } else if (gc.isLeapYear(c2.get(Calendar.YEAR))) {\n            days += 1;\n        }\n        return TimeUnit.MICROSECONDS.toDays((long) Math.abs(c1.getTimeInMillis() - c2.getTimeInMillis())) &gt;= days;\n    }\n\n}\n</code></pre>\n<p>The above method was copied from <a href=\"https://stackoverflow.com/questions/37161525/checking-if-difference-between-two-dates-in-greater-than-a-year-java\">this stackoverflow</a> post answer</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"score":0,"creation_date":1539775392,"post_id":52853639,"comment_id":92622554,"body_markdown":"Why the backslash before the asterisk in your regex?","body":"Why the backslash before the asterisk in your regex?"},{"owner":{"account_id":6371020,"reputation":353,"user_id":4943412,"accept_rate":30,"display_name":"Mohan Krishnan"},"score":0,"creation_date":1539776117,"post_id":52853639,"comment_id":92622949,"body_markdown":"@CaiusJard The asterisk wasnt displaying in the stackoverflow viewer so had to escape. But the escape character seems to show up in the final view. Will change it. Thanks","body":"@CaiusJard The asterisk wasnt displaying in the stackoverflow viewer so had to escape. But the escape character seems to show up in the final view. Will change it. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":6371020,"reputation":353,"user_id":4943412,"accept_rate":30,"display_name":"Mohan Krishnan"},"score":1,"creation_date":1539776162,"post_id":52853722,"comment_id":92622977,"body_markdown":"Thanks @Tim Biegeleisen","body":"Thanks @Tim Biegeleisen"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1539777406,"post_id":52853722,"comment_id":92623708,"body_markdown":"just be aware that this will return the whole `input` if it does not have at least two dashes , maybe this is never happens or is desired....","body":"just be aware that this will return the whole <code>input</code> if it does not have at least two dashes , maybe this is never happens or is desired...."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539775450,"creation_date":1539775450,"answer_id":52853722,"question_id":52853639,"body_markdown":"We can do this with a one-liner using `String#replaceAll`:\r\n\r\n    String input = &quot;some id-desired - d - d- value-some id&quot;;\r\n    String output = input.replaceAll(&quot;^.*?-(.*)-.*&quot;, &quot;$1&quot;);\r\n    System.out.println(output);\r\n\r\nOutput:\r\n\r\n    desired - d - d- value\r\n\r\nThe pattern I used cautiously consumes everything up until the very first dash.  Then, it greedily consumes everything in between that first dash and the very last dash.  Weird sample data, but I wanted to show that the answer is robust to dashes occurring inside the desired data.","title":"Regex to extract string between the first and last occurrence of a character","body":"<p>We can do this with a one-liner using <code>String#replaceAll</code>:</p>\n\n<pre><code>String input = \"some id-desired - d - d- value-some id\";\nString output = input.replaceAll(\"^.*?-(.*)-.*\", \"$1\");\nSystem.out.println(output);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>desired - d - d- value\n</code></pre>\n\n<p>The pattern I used cautiously consumes everything up until the very first dash.  Then, it greedily consumes everything in between that first dash and the very last dash.  Weird sample data, but I wanted to show that the answer is robust to dashes occurring inside the desired data.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539777124,"creation_date":1539775744,"answer_id":52853818,"question_id":52853639,"body_markdown":"more or less straight forward\r\n\r\n    var pattern = Pattern.compile(&quot;-.*-&quot;);\r\n    var matcher = pattern.matcher(string);\r\n    if (matcher.find())\r\n        result = matcher.group();\r\n\r\n-&gt; find first occurrence of `-` followed by as many characters as possible, followed by a `-`. This also works if there are `-` inside of the *desired-value*.\r\n\r\nDrawback, the dashes are included in the result, but can be easily discarded using `substring()`. This can be avoided using positive lookahead/lookbehind:\r\n\r\n    ...compile(&quot;(?&lt;=-).*(?=-)&quot;);\r\n","title":"Regex to extract string between the first and last occurrence of a character","body":"<p>more or less straight forward</p>\n\n<pre><code>var pattern = Pattern.compile(\"-.*-\");\nvar matcher = pattern.matcher(string);\nif (matcher.find())\n    result = matcher.group();\n</code></pre>\n\n<p>-> find first occurrence of <code>-</code> followed by as many characters as possible, followed by a <code>-</code>. This also works if there are <code>-</code> inside of the <em>desired-value</em>.</p>\n\n<p>Drawback, the dashes are included in the result, but can be easily discarded using <code>substring()</code>. This can be avoided using positive lookahead/lookbehind:</p>\n\n<pre><code>...compile(\"(?&lt;=-).*(?=-)\");\n</code></pre>\n"}],"owner":{"account_id":6371020,"reputation":353,"user_id":4943412,"accept_rate":30,"display_name":"Mohan Krishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52853722,"answer_count":2,"score":1,"last_activity_date":1693129977,"creation_date":1539775135,"question_id":52853639,"body_markdown":"I am currently extracting a particular string from an Violation Exception Error message. The steps I did are as follows:\r\n\r\nInput String format:\r\nDuplicate entry **value** for key **key**\r\n\r\nRegex Currently being used:\r\n\r\n    Duplicate entry &#39;(.*)&#39; for key &#39;(.*)&#39;\r\n\r\nObtained group 1: **value**\r\n\r\nFormat of the value ==&gt; **some id**-**desired value**-**some id**\r\n\r\nTo extract the desired value, I currently use the first index and the last index of (-) and extract the string as follows:\r\n\r\n    error.substring(error.indexOf(&quot;-&quot;) + 1, error.lastIndexOf(&quot;-&quot;));\r\n\r\nCan the same be done by regex only?","title":"Regex to extract string between the first and last occurrence of a character","body":"<p>I am currently extracting a particular string from an Violation Exception Error message. The steps I did are as follows:</p>\n\n<p>Input String format:\nDuplicate entry <strong>value</strong> for key <strong>key</strong></p>\n\n<p>Regex Currently being used:</p>\n\n<pre><code>Duplicate entry '(.*)' for key '(.*)'\n</code></pre>\n\n<p>Obtained group 1: <strong>value</strong></p>\n\n<p>Format of the value ==> <strong>some id</strong>-<strong>desired value</strong>-<strong>some id</strong></p>\n\n<p>To extract the desired value, I currently use the first index and the last index of (-) and extract the string as follows:</p>\n\n<pre><code>error.substring(error.indexOf(\"-\") + 1, error.lastIndexOf(\"-\"));\n</code></pre>\n\n<p>Can the same be done by regex only?</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":12117810,"reputation":2372,"user_id":8850875,"display_name":"PradyumanDixit"},"score":0,"creation_date":1540118480,"post_id":52835775,"comment_id":92738973,"body_markdown":"Did you try my solution @Star ?","body":"Did you try my solution @Star ?"},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540192215,"post_id":52835775,"comment_id":92757098,"body_markdown":"@PradyumanDixit Yes. But still not working.","body":"@PradyumanDixit Yes. But still not working."},{"owner":{"account_id":12117810,"reputation":2372,"user_id":8850875,"display_name":"PradyumanDixit"},"score":0,"creation_date":1540192254,"post_id":52835775,"comment_id":92757114,"body_markdown":"what is the problem @Star ?","body":"what is the problem @Star ?"},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540193320,"post_id":52835775,"comment_id":92757668,"body_markdown":"@PradyumanDixit issue is When i search as Ca in content, it&#39;s not accepting this C&#225;. Only when I search C&#225; it&#39;s accepting.","body":"@PradyumanDixit issue is When i search as Ca in content, it&#39;s not accepting this C&#225;. Only when I search C&#225; it&#39;s accepting."},{"owner":{"account_id":12117810,"reputation":2372,"user_id":8850875,"display_name":"PradyumanDixit"},"score":0,"creation_date":1540193382,"post_id":52835775,"comment_id":92757696,"body_markdown":"Did you use both of the codes I gave in the answer to make the string ignore accented characters?","body":"Did you use both of the codes I gave in the answer to make the string ignore accented characters?"},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540193748,"post_id":52835775,"comment_id":92757896,"body_markdown":"@PradyumanDixit I tried too but still facing after removing accented characters in search.","body":"@PradyumanDixit I tried too but still facing after removing accented characters in search."},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540193980,"post_id":52835775,"comment_id":92758045,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/182244/discussion-between-star-and-pradyuman-dixit).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/182244/discussion-between-star-and-pradyuman-dixit\">continue this discussion in chat</a>."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1540256891,"post_id":52835775,"comment_id":92788281,"body_markdown":"I doubt this can be done, but if you get these `\\p{Block=Latin_1_Supplement}\\p{Block=Latin_Extended_A}\\p{Block=Latin_Extended_Additional}\\p{Block=Latin_Extended_B}\\p{Block=Latin_Extended_C}\\p{Block=Latin_Extended_D}\\p{Block=Latin_Extended_E}` and convert them into basic Latin with the combining code, all you have to do is inject `[\\x{300}-\\x{36F}]?` after all input Latin alpha characters.","body":"I doubt this can be done, but if you get these <code>\\p{Block=Latin_1_Supplement}\\p{Block=Latin_Extended_A}\\p{Blo&zwnj;&#8203;ck=Latin_Extended_Ad&zwnj;&#8203;ditional}\\p{Block=La&zwnj;&#8203;tin_Extended_B}\\p{Bl&zwnj;&#8203;ock=Latin_Extended_C&zwnj;&#8203;}\\p{Block=Latin_Exte&zwnj;&#8203;nded_D}\\p{Block=Lati&zwnj;&#8203;n_Extended_E}</code> and convert them into basic Latin with the combining code, all you have to do is inject <code>[\\x{300}-\\x{36F}]?</code> after all input Latin alpha characters."},{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":0,"creation_date":1540277844,"post_id":52835775,"comment_id":92794046,"body_markdown":"Hello @sln Thanks. can you please answer and frame it. It it works, let me accept and close it.","body":"Hello @sln Thanks. can you please answer and frame it. It it works, let me accept and close it."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1540426878,"post_id":52835775,"comment_id":92865659,"body_markdown":"Ok, I posted something that might help.","body":"Ok, I posted something that might help."}],"answers":[{"comments":[{"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"score":1,"creation_date":1539760442,"post_id":52839677,"comment_id":92614096,"body_markdown":"Thanks @Joop Eggen. May I know why I am not able to use Pattern.UNICODE_CHARACTER_CLASS. If I use this, I am getting crash that [Android] Unsupprted Flag 256 for Pattern.java","body":"Thanks @Joop Eggen. May I know why I am not able to use Pattern.UNICODE_CHARACTER_CLASS. If I use this, I am getting crash that [Android] Unsupprted Flag 256 for Pattern.java"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1539762966,"post_id":52839677,"comment_id":92615413,"body_markdown":"Drop that flag, different java implementations. Good for others to be aware of.","body":"Drop that flag, different java implementations. Good for others to be aware of."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539705968,"creation_date":1539705968,"answer_id":52839677,"question_id":52835775,"body_markdown":"You already got:\r\n\r\n    private String convertToBasicLatin(String text) {\r\n        return Normalizer.normalize(text, Normalizer.Form.NFD)\r\n            .replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;).replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);\r\n    }\r\n\r\nIn order to have **one** unaccented basic latin char match **one** Unicode code point of an accented letter,\r\none should normalize the to the _composed_ form:\r\n\r\n    private String convertToComposedCodePoints(String text) {\r\n        return Normalizer.normalize(text, Normalizer.Form.NFC).replaceAll(&quot;\\\\R&quot;, &quot;\\n&quot;);\r\n    }\r\n\r\nIn general one might make the assumption that the Unicode code point is 1 char long too.\r\n\r\n- The search key uses convertToBasicLatin(sought)\r\n- The text view&#39;s content uses convertToComposedCodePoints(content)\r\n- The text content for matching uses convertToBasicLatin(content)\r\n\r\nNow the matcher&#39;s index positions of `start` and `end` are correct.\r\nI normalized explicitly line endings (regex `\\R`) like `\\r\\n` or `\\u0085` to a single `\\n`.\r\nOne cannot normalize to lowercase/uppercase, as the number of chars might vary:\r\nGerman lowercase `&#223;` corresponds with uppercase `SS`.\r\n\r\n    String sought = ...;\r\n    String content = ...;\r\n\r\n    sought = convertToBasicLatin(sought);\r\n    String latinContent = convertToBasicLatin(content);\r\n    String composedContent = convertToComposedUnicode(content);\r\n\r\n    Matcher m = Pattern.compile(sought, Pattern.CASE_INSENSITIVE\r\n            | Pattern.UNICODE_CASE | Pattern.UNICODE_CHARACTER_CLASS\r\n            | Pattern.UNIX_LINES)\r\n        .matcher(latinContent);\r\n    while (m.find()) {\r\n        ... // One can apply `m.start()` and `m.end()` to composedContent of the view too.\r\n    }\r\n\r\n","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<p>You already got:</p>\n\n<pre><code>private String convertToBasicLatin(String text) {\n    return Normalizer.normalize(text, Normalizer.Form.NFD)\n        .replaceAll(\"\\\\p{M}\", \"\").replaceAll(\"\\\\R\", \"\\n\");\n}\n</code></pre>\n\n<p>In order to have <strong>one</strong> unaccented basic latin char match <strong>one</strong> Unicode code point of an accented letter,\none should normalize the to the <em>composed</em> form:</p>\n\n<pre><code>private String convertToComposedCodePoints(String text) {\n    return Normalizer.normalize(text, Normalizer.Form.NFC).replaceAll(\"\\\\R\", \"\\n\");\n}\n</code></pre>\n\n<p>In general one might make the assumption that the Unicode code point is 1 char long too.</p>\n\n<ul>\n<li>The search key uses convertToBasicLatin(sought)</li>\n<li>The text view's content uses convertToComposedCodePoints(content)</li>\n<li>The text content for matching uses convertToBasicLatin(content)</li>\n</ul>\n\n<p>Now the matcher's index positions of <code>start</code> and <code>end</code> are correct.\nI normalized explicitly line endings (regex <code>\\R</code>) like <code>\\r\\n</code> or <code>\\u0085</code> to a single <code>\\n</code>.\nOne cannot normalize to lowercase/uppercase, as the number of chars might vary:\nGerman lowercase <code>√ü</code> corresponds with uppercase <code>SS</code>.</p>\n\n<pre><code>String sought = ...;\nString content = ...;\n\nsought = convertToBasicLatin(sought);\nString latinContent = convertToBasicLatin(content);\nString composedContent = convertToComposedUnicode(content);\n\nMatcher m = Pattern.compile(sought, Pattern.CASE_INSENSITIVE\n        | Pattern.UNICODE_CASE | Pattern.UNICODE_CHARACTER_CLASS\n        | Pattern.UNIX_LINES)\n    .matcher(latinContent);\nwhile (m.find()) {\n    ... // One can apply `m.start()` and `m.end()` to composedContent of the view too.\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user557597"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540472645,"creation_date":1540420444,"answer_id":52978822,"question_id":52835775,"body_markdown":"I&#39;m not a Java programmer, so just some basic raw regex solution here.  \r\n\r\nIf you can _Normalize_ the string with it&#39;s _decomposition_ form  \r\nassume it&#39;s this  \r\n\r\n`String sSourceTargetDecom = Normalizer.normalize(sourcetarget, Normalizer.Form.NFD);`,    \r\n\r\nthat should turn something like `0000C1 &#193; LATIN CAPITAL LETTER A WITH ACUTE`  \r\ninto two characters `A` and `000301 ÃÅ  COMBINING ACUTE ACCENT`.  \r\n\r\nYou can get most combining characters from blocks using   \r\n\r\n    [\\p{Block=Combining_Diacritical_Marks}\\p{Block=Combining_Diacritical_Marks_Extended}\\p{Block=Combining_Diacritical_Marks_For_Symbols}\\p{Block=Combining_Diacritical_Marks_Supplement}\\p{Block=Combining_Half_Marks}]  \r\n\r\nwhich has a hex range of   \r\n\r\n    [\\x{300}-\\x{36f}\\x{1ab0}-\\x{1aff}\\x{1dc0}-\\x{1dff}\\x{20d0}-\\x{20ff}\\x{fe20}-\\x{fe2f}]  \r\n\r\nIt turns out that most of the combining marks relative to basic Latin that can be  \r\ndecomposed are in the `[\\x{300}-\\x{36f}]` range.  \r\n\r\nYou can decompose _both_ the source target and the input search string.\r\n__________________________\r\n\r\nThen create a regex from the input search string.\r\n_Inject_ `[\\x{300}-\\x{36f}]?`  after each basic Latin letter.  \r\n\r\n    String regex = sSearch.replaceAll(&quot;([a-zA-Z])[\\\\x{300}-\\\\x{36f}]?&quot;, &quot;\\\\1[\\\\x{300}-\\\\x{36f}]?&quot;);\r\n\r\n(not sure what Java uses for codepoint character notation in their regex, possibly needs to be `\\u{DD}`\r\n\r\nThen use the regex on the _sSourceTargetDecom_ string, it will match the basic latin as a stand alone, and/or with an optional combining code.\r\n","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<p>I'm not a Java programmer, so just some basic raw regex solution here.  </p>\n\n<p>If you can <em>Normalize</em> the string with it's <em>decomposition</em> form<br>\nassume it's this  </p>\n\n<p><code>String sSourceTargetDecom = Normalizer.normalize(sourcetarget, Normalizer.Form.NFD);</code>,    </p>\n\n<p>that should turn something like <code>0000C1 √Å LATIN CAPITAL LETTER A WITH ACUTE</code><br>\ninto two characters <code>A</code> and <code>000301 ÃÅ  COMBINING ACUTE ACCENT</code>.  </p>\n\n<p>You can get most combining characters from blocks using   </p>\n\n<pre><code>[\\p{Block=Combining_Diacritical_Marks}\\p{Block=Combining_Diacritical_Marks_Extended}\\p{Block=Combining_Diacritical_Marks_For_Symbols}\\p{Block=Combining_Diacritical_Marks_Supplement}\\p{Block=Combining_Half_Marks}]  \n</code></pre>\n\n<p>which has a hex range of   </p>\n\n<pre><code>[\\x{300}-\\x{36f}\\x{1ab0}-\\x{1aff}\\x{1dc0}-\\x{1dff}\\x{20d0}-\\x{20ff}\\x{fe20}-\\x{fe2f}]  \n</code></pre>\n\n<p>It turns out that most of the combining marks relative to basic Latin that can be<br>\ndecomposed are in the <code>[\\x{300}-\\x{36f}]</code> range.  </p>\n\n<p>You can decompose <em>both</em> the source target and the input search string.</p>\n\n<hr>\n\n<p>Then create a regex from the input search string.\n<em>Inject</em> <code>[\\x{300}-\\x{36f}]?</code>  after each basic Latin letter.  </p>\n\n<pre><code>String regex = sSearch.replaceAll(\"([a-zA-Z])[\\\\x{300}-\\\\x{36f}]?\", \"\\\\1[\\\\x{300}-\\\\x{36f}]?\");\n</code></pre>\n\n<p>(not sure what Java uses for codepoint character notation in their regex, possibly needs to be <code>\\u{DD}</code></p>\n\n<p>Then use the regex on the <em>sSourceTargetDecom</em> string, it will match the basic latin as a stand alone, and/or with an optional combining code.</p>\n"},{"tags":[],"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540538329,"creation_date":1540538329,"answer_id":53003460,"question_id":52835775,"body_markdown":" As you said, \r\n\r\n String text = &quot;C&#225;m&#233;lan discovered &#244;nte red ale≈ït \\n Como se extingue la deuda&quot;;\r\n\r\n So whenever you give first input, receive that first character and compare. \r\n\r\n Eg: If you give Ca,  then\r\n\r\n    if (StringUtils.isNotEmpty(substring)) { //this is the search text\r\n    substring=substring.substring(0,1); //now you get C alone.\r\n\r\n}\r\n\r\nSo whatever you type it displays by filtering the first character. Now \r\n\r\n     SpannableString builder = higlightString((yourContent.getText()), mHighlightColor);\r\n        viewHolder.mTextView.setText(builder);\r\n\r\n\r\n \r\n\r\n    private SpannableString higlightString(String entireContent, int highlightColor) {\r\n                SpannableString returnValue = new SpannableString(entireContent);\r\n    \r\n                String lowercaseNodeText = entireContent;\r\n            try {\r\n                Matcher matcher = mFilter.getPattern().matcher(((diacritical(lowercaseNodeText.toLowerCase()))));\r\n                while (matcher.find()) {\r\n                    returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\r\n                            matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\r\n                }\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n                return returnValue;\r\n    \r\n        }\r\n\r\n  \r\n\r\n     private String diacritical(String original) {\r\n           String removed=null;\r\n               String decomposed = Normalizer.normalize(original, Normalizer.Form.NFD);\r\n               removed = decomposed.replaceAll(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;, &quot;&quot;);\r\n           return removed;\r\n       }\r\n\r\n  Test case: \r\n\r\n  When you give input Ca, it goes to the entire text by displaying all the C content get all the datas and filter out by normalising the content and it matches with accented characters too and display by higlighting.\r\n\r\n\r\n  \r\n\r\n ","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<p>As you said, </p>\n\n<p>String text = \"C√°m√©lan discovered √¥nte red ale≈ït \\n Como se extingue la deuda\";</p>\n\n<p>So whenever you give first input, receive that first character and compare. </p>\n\n<p>Eg: If you give Ca,  then</p>\n\n<pre><code>if (StringUtils.isNotEmpty(substring)) { //this is the search text\nsubstring=substring.substring(0,1); //now you get C alone.\n</code></pre>\n\n<p>}</p>\n\n<p>So whatever you type it displays by filtering the first character. Now </p>\n\n<pre><code> SpannableString builder = higlightString((yourContent.getText()), mHighlightColor);\n    viewHolder.mTextView.setText(builder);\n\n\n\n\nprivate SpannableString higlightString(String entireContent, int highlightColor) {\n            SpannableString returnValue = new SpannableString(entireContent);\n\n            String lowercaseNodeText = entireContent;\n        try {\n            Matcher matcher = mFilter.getPattern().matcher(((diacritical(lowercaseNodeText.toLowerCase()))));\n            while (matcher.find()) {\n                returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\n                        matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\n            }\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n\n            return returnValue;\n\n    }\n\n\n\n private String diacritical(String original) {\n       String removed=null;\n           String decomposed = Normalizer.normalize(original, Normalizer.Form.NFD);\n           removed = decomposed.replaceAll(\"\\\\p{InCombiningDiacriticalMarks}+\", \"\");\n       return removed;\n   }\n</code></pre>\n\n<p>Test case: </p>\n\n<p>When you give input Ca, it goes to the entire text by displaying all the C content get all the datas and filter out by normalising the content and it matches with accented characters too and display by higlighting.</p>\n"}],"owner":{"account_id":1054420,"reputation":735,"user_id":3500826,"accept_rate":48,"display_name":"Star"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1693129971,"creation_date":1539693908,"question_id":52835775,"body_markdown":"    String text = &quot;C&#225;m&#233;lan discovered &#244;nte red ale≈ït \\n Como se extingue la deuda&quot;;\r\n\r\nIf I give the input Ca, it should highlight from the given string C&#225; but it&#39;s not highlighting. \r\n\r\nBelow is what I tried.\r\n\r\n     Pattern mPattern; \r\n      String filterTerm; //this is the input which I give from input filter. Say for eg: Ca\r\n       String regex = createFilterRegex(filterTerm);\r\n            mPattern = Pattern.compile(regex);\r\n    \r\n     private String createFilterRegex(String filterTerm) {\r\n            filterTerm = Normalizer.normalize(filterTerm, Normalizer.Form.NFD);\r\n           filterTerm = filterTerm.replaceAll(&quot;[\\\\p{InCombiningDiacriticalMarks}]&quot;, &quot;&quot;);\r\n            return filterTerm;\r\n        }\r\n    \r\n    public Pattern getPattern() {\r\n            return mPattern;\r\n        }\r\n\r\n In another class,\r\n\r\n \r\n\r\n    private SpannableStringBuilder createHighlightedString(String nodeText, int highlightColor) { //nodeText is the entire list displaying. \r\n            SpannableStringBuilder returnValue = new SpannableStringBuilder(nodeText);\r\n            String lowercaseNodeText = nodeText;\r\n            Matcher matcher = mFilter.getPattern().matcher((createFilterRegex(lowercaseNodeText)));\r\n            while (matcher.find()) {\r\n                returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\r\n                        matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\r\n            }\r\n    \r\n            return returnValue;\r\n        }\r\n\r\n viewHolder.mTextView.setText(createHighlightedString((node.getText()), mHighlightColor));\r\n\r\nBut what I am getting the output as, \r\n\r\nIf I type single alphabet o alone, it&#39;s highlighting but if I pass more than two alphabets say for eg: Ca, it&#39;s not highlighting and displaying. I couldn&#39;t figure out what mistake I am doing.  \r\n\r\n\r\n But if you look WhatsApp. it has been achieved. \r\n\r\n I typed Co,  it&#39;s recognizing and highlighting accented characters in the sentence. \r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Q00d.png","title":"Given mixed accented and normal characters in string not working in java when searching","body":"<pre><code>String text = \"C√°m√©lan discovered √¥nte red ale≈ït \\n Como se extingue la deuda\";\n</code></pre>\n\n<p>If I give the input Ca, it should highlight from the given string C√° but it's not highlighting. </p>\n\n<p>Below is what I tried.</p>\n\n<pre><code> Pattern mPattern; \n  String filterTerm; //this is the input which I give from input filter. Say for eg: Ca\n   String regex = createFilterRegex(filterTerm);\n        mPattern = Pattern.compile(regex);\n\n private String createFilterRegex(String filterTerm) {\n        filterTerm = Normalizer.normalize(filterTerm, Normalizer.Form.NFD);\n       filterTerm = filterTerm.replaceAll(\"[\\\\p{InCombiningDiacriticalMarks}]\", \"\");\n        return filterTerm;\n    }\n\npublic Pattern getPattern() {\n        return mPattern;\n    }\n</code></pre>\n\n<p>In another class,</p>\n\n<pre><code>private SpannableStringBuilder createHighlightedString(String nodeText, int highlightColor) { //nodeText is the entire list displaying. \n        SpannableStringBuilder returnValue = new SpannableStringBuilder(nodeText);\n        String lowercaseNodeText = nodeText;\n        Matcher matcher = mFilter.getPattern().matcher((createFilterRegex(lowercaseNodeText)));\n        while (matcher.find()) {\n            returnValue.setSpan(new ForegroundColorSpan(highlightColor), matcher.start(0),\n                    matcher.end(0), Spannable.SPAN_EXCLUSIVE_INCLUSIVE);\n        }\n\n        return returnValue;\n    }\n</code></pre>\n\n<p>viewHolder.mTextView.setText(createHighlightedString((node.getText()), mHighlightColor));</p>\n\n<p>But what I am getting the output as, </p>\n\n<p>If I type single alphabet o alone, it's highlighting but if I pass more than two alphabets say for eg: Ca, it's not highlighting and displaying. I couldn't figure out what mistake I am doing.  </p>\n\n<p>But if you look WhatsApp. it has been achieved. </p>\n\n<p>I typed Co,  it's recognizing and highlighting accented characters in the sentence. </p>\n\n<p><a href=\"https://i.stack.imgur.com/8Q00d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Q00d.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":0,"creation_date":1539010233,"post_id":52704821,"comment_id":92336229,"body_markdown":"Can you specify what output are you getting from `sb.toString()`?  Is it an error? If so, please add it to your question.","body":"Can you specify what output are you getting from <code>sb.toString()</code>?  Is it an error? If so, please add it to your question."},{"owner":{"display_name":"user10040920"},"score":0,"creation_date":1539010396,"post_id":52704821,"comment_id":92336336,"body_markdown":"@mjuarez I edited my question, pls take a look","body":"@mjuarez I edited my question, pls take a look"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539014825,"post_id":52704821,"comment_id":92338757,"body_markdown":"Is it one big string with embedded newline chars, or a List of strings?","body":"Is it one big string with embedded newline chars, or a List of strings?"},{"owner":{"display_name":"user10040920"},"score":0,"creation_date":1539029048,"post_id":52704821,"comment_id":92344857,"body_markdown":"@Bohemian its a big string","body":"@Bohemian its a big string"}],"answers":[{"comments":[{"owner":{"display_name":"user10040920"},"score":1,"creation_date":1539010574,"post_id":52704921,"comment_id":92336456,"body_markdown":"Hi, what is ?s and ?m doing? Pls take a look at my edit in the question","body":"Hi, what is ?s and ?m doing? Pls take a look at my edit in the question"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1539011379,"post_id":52704921,"comment_id":92336920,"body_markdown":"@Niki `?s` is irrelevant here. Multiline not. Extended answer.","body":"@Niki <code>?s</code> is irrelevant here. Multiline not. Extended answer."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539011618,"creation_date":1539010409,"answer_id":52704921,"question_id":52704821,"body_markdown":"    return dataStr.replaceAll(&quot;(?smi)\\\\bnull\\\\b&quot;, &quot;&quot;);\r\n\r\n- `\\b` is the word boundary.\r\n- `(?i)` is a command with i=ignore case.\r\n- (`(?s)` is DOT_ALL, `.` matching newline characters too.)\r\n- `(?m)` is MULTI_LINE.\r\n\r\n---------------\r\n\r\nYou forgot `appendTail`, for all after the last replacement.\r\nIf the string contains more than one line, add the MULTI_LINE option for reinterpretation of `^` and `$`. See the javadoc of `Pattern`.\r\n\r\n    while (matcher.find()) {\r\n        matcher.appendReplacement(sb, matcher.group(1) + &quot;&quot; + matcher.group(3));\r\n    }\r\n    matcher.appendTail(sb);\r\n\r\nAlternatively with lambda:\r\n\r\n    String result = matcher.replaceAll(mr -&gt; mr.group(1) + mr.group(3));\r\n\r\nwhere `mr` is a freely named `MatchResult` provided by `replaceAll`.","title":"replace substrings in string using regex groups","body":"<pre><code>return dataStr.replaceAll(\"(?smi)\\\\bnull\\\\b\", \"\");\n</code></pre>\n\n<ul>\n<li><code>\\b</code> is the word boundary.</li>\n<li><code>(?i)</code> is a command with i=ignore case.</li>\n<li>(<code>(?s)</code> is DOT_ALL, <code>.</code> matching newline characters too.)</li>\n<li><code>(?m)</code> is MULTI_LINE.</li>\n</ul>\n\n<hr>\n\n<p>You forgot <code>appendTail</code>, for all after the last replacement.\nIf the string contains more than one line, add the MULTI_LINE option for reinterpretation of <code>^</code> and <code>$</code>. See the javadoc of <code>Pattern</code>.</p>\n\n<pre><code>while (matcher.find()) {\n    matcher.appendReplacement(sb, matcher.group(1) + \"\" + matcher.group(3));\n}\nmatcher.appendTail(sb);\n</code></pre>\n\n<p>Alternatively with lambda:</p>\n\n<pre><code>String result = matcher.replaceAll(mr -&gt; mr.group(1) + mr.group(3));\n</code></pre>\n\n<p>where <code>mr</code> is a freely named <code>MatchResult</code> provided by <code>replaceAll</code>.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539010646,"creation_date":1539010646,"answer_id":52704999,"question_id":52704821,"body_markdown":"You probably what to replace `null` as long as it is followed by some characters, like:\r\n\r\n\r\n    first.replaceAll(&quot;(?i)(null)(?=[;$\\\\\\n])&quot;, &quot;&quot;)","title":"replace substrings in string using regex groups","body":"<p>You probably what to replace <code>null</code> as long as it is followed by some characters, like:</p>\n\n<pre><code>first.replaceAll(\"(?i)(null)(?=[;$\\\\\\n])\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539044852,"creation_date":1539044852,"answer_id":52711737,"question_id":52704821,"body_markdown":"You don&#39;t need anything fancy:\r\n\r\n    str = str.replaceAll(&quot;(?i)\\\\bnull\\\\b&quot;, &quot;&quot;);\r\n\r\n`(?1)` means &quot;ignore case&quot;. `\\b` means &quot;word boundary&quot;. Embedded newlines are irrelevant.","title":"replace substrings in string using regex groups","body":"<p>You don't need anything fancy:</p>\n\n<pre><code>str = str.replaceAll(\"(?i)\\\\bnull\\\\b\", \"\");\n</code></pre>\n\n<p><code>(?1)</code> means \"ignore case\". <code>\\b</code> means \"word boundary\". Embedded newlines are irrelevant.</p>\n"}],"owner":{"display_name":"user10040920"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52704921,"answer_count":3,"score":2,"last_activity_date":1693129966,"creation_date":1539010075,"question_id":52704821,"body_markdown":"I can&#39;t find the correct way to remove substrings case insensitive equals to &quot;null&quot; and replacing them with an empty string against a huge input data string, which contains many lines and uses **;** as a separator.\r\n\r\nTo simplify here is an example of what I am looking for:\r\n\r\n**Input string**\r\n\r\n    Steve;nuLL;2;null\\n\r\n    null;nullo;nUll;Marc\\n\r\n    ....\r\n\r\n**Expected Output**\r\n\r\n    Steve;;2;\\n\r\n    ;nullo;;Marc\\n\r\n    ...\r\n\r\n**Code**\r\n\r\n    Matcher matcher = Pattern.compile(&quot;(?i)(^|;)(null)(;|$)&quot;).matcher(dataStr);\r\n    StringBuffer sb = new StringBuffer();\r\n    while (matcher.find()) {\r\n    \tmatcher.appendReplacement(sb, matcher.group(1) + &quot;&quot; + matcher.group(3));\r\n    }\r\n    return sb.toString();\r\n\r\nCan this be solved by using regex?\r\n\r\n**EDIT:**\r\n\r\nFrom the java code above I only get the first match ever being replaced, but not every appearance in the line and in the data stream. For whatever reason the `matcher.find()` is only executed once.","title":"replace substrings in string using regex groups","body":"<p>I can't find the correct way to remove substrings case insensitive equals to \"null\" and replacing them with an empty string against a huge input data string, which contains many lines and uses <strong>;</strong> as a separator.</p>\n\n<p>To simplify here is an example of what I am looking for:</p>\n\n<p><strong>Input string</strong></p>\n\n<pre><code>Steve;nuLL;2;null\\n\nnull;nullo;nUll;Marc\\n\n....\n</code></pre>\n\n<p><strong>Expected Output</strong></p>\n\n<pre><code>Steve;;2;\\n\n;nullo;;Marc\\n\n...\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>Matcher matcher = Pattern.compile(\"(?i)(^|;)(null)(;|$)\").matcher(dataStr);\nStringBuffer sb = new StringBuffer();\nwhile (matcher.find()) {\n    matcher.appendReplacement(sb, matcher.group(1) + \"\" + matcher.group(3));\n}\nreturn sb.toString();\n</code></pre>\n\n<p>Can this be solved by using regex?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>From the java code above I only get the first match ever being replaced, but not every appearance in the line and in the data stream. For whatever reason the <code>matcher.find()</code> is only executed once.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1537038305,"post_id":52347825,"comment_id":91641288,"body_markdown":"If you&#39;re simply looking for the longest match, you&#39;ll need to iterate over all matches and pick the longest one yourself.","body":"If you&#39;re simply looking for the longest match, you&#39;ll need to iterate over all matches and pick the longest one yourself."},{"owner":{"account_id":3372995,"reputation":2683,"user_id":6003161,"accept_rate":50,"display_name":"Pants"},"score":0,"creation_date":1537038747,"post_id":52347825,"comment_id":91641410,"body_markdown":"I added more context @NPE","body":"I added more context @NPE"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1537040809,"post_id":52347825,"comment_id":91641950,"body_markdown":"Link can&#39;t be only resource about problem you are trying to solve. If link breaks (which happens quite often) question will be unclear. Describe what your code is supposed to do within question in a way which wouldn&#39;t *require* others to visit link.","body":"Link can&#39;t be only resource about problem you are trying to solve. If link breaks (which happens quite often) question will be unclear. Describe what your code is supposed to do within question in a way which wouldn&#39;t <i>require</i> others to visit link."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1537046844,"post_id":52347825,"comment_id":91643290,"body_markdown":"You seem to want a mere `[UD]+`","body":"You seem to want a mere <code>[UD]+</code>"}],"answers":[{"comments":[{"owner":{"account_id":3372995,"reputation":2683,"user_id":6003161,"accept_rate":50,"display_name":"Pants"},"score":0,"creation_date":1537038870,"post_id":52347960,"comment_id":91641448,"body_markdown":"I added more context. This does not solve the problem, thanks.","body":"I added more context. This does not solve the problem, thanks."},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1537039089,"post_id":52347960,"comment_id":91641500,"body_markdown":"@Pants I cannot access the link. What is this method supposed to do?","body":"@Pants I cannot access the link. What is this method supposed to do?"}],"tags":[],"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537050868,"creation_date":1537038254,"answer_id":52347960,"question_id":52347825,"body_markdown":"The regex `+` match one or more of the preceding character/regular expression. So this will match any sequence of `D` and the `U`. \r\n\r\nIf you want to return the longest match you could do:\r\n\r\n    static String match(String s) {\r\n        ArrayList&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n        Matcher matcher = Pattern.compile(&quot;D+U&quot;).matcher(s);\r\n        int i = 0;\r\n        while (matcher.find(i)) {\r\n           matches.add(matcher.group());\r\n           i = matcher.end();\r\n        }   \r\n        return Collections.max(matches, Comparator.comparing(c -&gt; c.length()));\r\n    }\r\nWhich (with the test case of `UDDDUDUU`) returns `DDDU`. Also note that I removed the parameter of `n` as you never used it","title":"Pattern matching to match longest substring","body":"<p>The regex <code>+</code> match one or more of the preceding character/regular expression. So this will match any sequence of <code>D</code> and the <code>U</code>. </p>\n\n<p>If you want to return the longest match you could do:</p>\n\n<pre><code>static String match(String s) {\n    ArrayList&lt;String&gt; matches = new ArrayList&lt;&gt;();\n    Matcher matcher = Pattern.compile(\"D+U\").matcher(s);\n    int i = 0;\n    while (matcher.find(i)) {\n       matches.add(matcher.group());\n       i = matcher.end();\n    }   \n    return Collections.max(matches, Comparator.comparing(c -&gt; c.length()));\n}\n</code></pre>\n\n<p>Which (with the test case of <code>UDDDUDUU</code>) returns <code>DDDU</code>. Also note that I removed the parameter of <code>n</code> as you never used it</p>\n"}],"owner":{"account_id":3372995,"reputation":2683,"user_id":6003161,"accept_rate":50,"display_name":"Pants"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52347960,"answer_count":1,"score":0,"last_activity_date":1693129957,"creation_date":1537037260,"question_id":52347825,"body_markdown":"I have this regex `D+U`.\r\n\r\nIt should match once for the following String `UDDDUDUU ` but with Java it matches three times. It matches `DDDU` `DU`. I am using https://regex101.com/ to check my regex, and it should only match once, the `DDDU`.\r\n\r\nI am trying to solve this [HackerRank](https://www.hackerrank.com/challenges/counting-valleys/submissions/code/84730702) challenge. I am also trying to use Pattern&#39;s because I want to practice using those classes.\r\n\r\nWhat exactly am I doing wrong?\r\n\r\nThis is my code:\r\n\r\n    static int match(int n, String s) {\r\n        Matcher matcher = Pattern.compile(&quot;D+U&quot;).matcher(s);\r\n        int count = 0;\r\n        int i = 0;\r\n        while (matcher.find(i)) {\r\n            count++;\r\n            i = matcher.end() + 1;\r\n        }\r\n        return count;\r\n    }","title":"Pattern matching to match longest substring","body":"<p>I have this regex <code>D+U</code>.</p>\n<p>It should match once for the following String <code>UDDDUDUU </code> but with Java it matches three times. It matches <code>DDDU</code> <code>DU</code>. I am using <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> to check my regex, and it should only match once, the <code>DDDU</code>.</p>\n<p>I am trying to solve this <a href=\"https://www.hackerrank.com/challenges/counting-valleys/submissions/code/84730702\" rel=\"nofollow noreferrer\">HackerRank</a> challenge. I am also trying to use Pattern's because I want to practice using those classes.</p>\n<p>What exactly am I doing wrong?</p>\n<p>This is my code:</p>\n<pre><code>static int match(int n, String s) {\n    Matcher matcher = Pattern.compile(&quot;D+U&quot;).matcher(s);\n    int count = 0;\n    int i = 0;\n    while (matcher.find(i)) {\n        count++;\n        i = matcher.end() + 1;\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5190006,"reputation":866,"user_id":4153209,"display_name":"Thomas Francois"},"score":0,"creation_date":1536244752,"post_id":52206445,"comment_id":91362320,"body_markdown":"What did you try?","body":"What did you try?"},{"owner":{"account_id":8709851,"reputation":139,"user_id":6516398,"display_name":"Smaiil"},"score":1,"creation_date":1536245422,"post_id":52206445,"comment_id":91362772,"body_markdown":"Do you need all the values with xxxFT as a pattern ?","body":"Do you need all the values with xxxFT as a pattern ?"},{"owner":{"account_id":5120569,"reputation":1168,"user_id":4602283,"accept_rate":75,"display_name":"Jeutnarg"},"score":0,"creation_date":1536245743,"post_id":52206445,"comment_id":91363011,"body_markdown":"BKN.*?\\s+(\\d+)FT will work in both of the cases you&#39;ve provided - it actually grabs all of the xxx&#39;s, but you can just take the first one. BTW, for regex, you can go to regex101.com, which is a fantastic resource for regex. (I&#39;m not affiliated.)","body":"BKN.*?\\s+(\\d+)FT will work in both of the cases you&#39;ve provided - it actually grabs all of the xxx&#39;s, but you can just take the first one. BTW, for regex, you can go to regex101.com, which is a fantastic resource for regex. (I&#39;m not affiliated.)"},{"owner":{"account_id":14295163,"reputation":13,"user_id":10326048,"display_name":"Thierry E."},"score":0,"creation_date":1536246868,"post_id":52206445,"comment_id":91363739,"body_markdown":"@Jeutnarg thank you very much it works fine !!!","body":"@Jeutnarg thank you very much it works fine !!!"}],"answers":[{"comments":[{"owner":{"account_id":14295163,"reputation":13,"user_id":10326048,"display_name":"Thierry E."},"score":0,"creation_date":1536245962,"post_id":52206506,"comment_id":91363167,"body_markdown":"It&#39;s what I did but thought there was a better possibility to find it with only one magical regex. Thanks.","body":"It&#39;s what I did but thought there was a better possibility to find it with only one magical regex. Thanks."},{"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"score":0,"creation_date":1536246718,"post_id":52206506,"comment_id":91363644,"body_markdown":"I updated my answer with a single regex please check","body":"I updated my answer with a single regex please check"}],"tags":[],"owner":{"account_id":13474768,"reputation":3872,"user_id":9722122,"display_name":"Mustahsan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536246703,"creation_date":1536244496,"answer_id":52206506,"question_id":52206445,"body_markdown":"\r\n\r\n**Update:**\r\nIf you want with a single regex use following code:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;BKN.*?\\\\s+(\\\\d+)FT&quot;);\r\n    Matcher matcher = pattern.matcher(String1);\r\n    if (matcher.find()) {\r\n            System.out.println(matcher.group(1));\r\n    }\r\n\r\n\r\n**Old** Firstly you need to get the SubString starting from BKN so\r\n\r\n    int startIndex = String1.indexOf(&quot;BKN&quot;);\r\n    String str = String1.subString(startIndex);\r\n\r\nThen You need to cut it down between BKN and FT so in order to do that get the index of FT\r\n\r\n    startIndex = 0;\r\n    int endIndex = str.indexOf(&quot;FT&quot;)+1;\r\n    str = str.subString(startIndex,endIndex);\r\n\r\n\r\nAnd then finally You can use this regex and delete non-digit characters from the string\r\n\r\n    str = str.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;); \r\n    \r\n\r\nOutput of String1 : 2400\r\nOutput of String2: 700","title":"Java Regex - find a numeric value in a String","body":"<p><strong>Update:</strong>\nIf you want with a single regex use following code:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"BKN.*?\\\\s+(\\\\d+)FT\");\nMatcher matcher = pattern.matcher(String1);\nif (matcher.find()) {\n        System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p><strong>Old</strong> Firstly you need to get the SubString starting from BKN so</p>\n\n<pre><code>int startIndex = String1.indexOf(\"BKN\");\nString str = String1.subString(startIndex);\n</code></pre>\n\n<p>Then You need to cut it down between BKN and FT so in order to do that get the index of FT</p>\n\n<pre><code>startIndex = 0;\nint endIndex = str.indexOf(\"FT\")+1;\nstr = str.subString(startIndex,endIndex);\n</code></pre>\n\n<p>And then finally You can use this regex and delete non-digit characters from the string</p>\n\n<pre><code>str = str.replaceAll(\"\\\\D+\",\"\"); \n</code></pre>\n\n<p>Output of String1 : 2400\nOutput of String2: 700</p>\n"},{"comments":[{"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"score":0,"creation_date":1536248350,"post_id":52207337,"comment_id":91364674,"body_markdown":"is that useful to you?","body":"is that useful to you?"},{"owner":{"account_id":14295163,"reputation":13,"user_id":10326048,"display_name":"Thierry E."},"score":0,"creation_date":1536304077,"post_id":52207337,"comment_id":91382772,"body_markdown":"Yes it works very well and I raised my comprehension of regex :o)","body":"Yes it works very well and I raised my comprehension of regex :o)"},{"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"score":0,"creation_date":1536305099,"post_id":52207337,"comment_id":91383292,"body_markdown":"That&#39;s a good news. Then you can select the right answer to help other users with the same question to find their response sooner. :)","body":"That&#39;s a good news. Then you can select the right answer to help other users with the same question to find their response sooner. :)"}],"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536247070,"creation_date":1536247070,"answer_id":52207337,"question_id":52206445,"body_markdown":"with a reference to Jeutnarg comment, we can have a solution without any substring or etc. by using Matcher groups: \r\n\r\n    public static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\r\n        String text    =\r\n            &quot;4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T&quot; + \r\n            &quot; 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;;\r\n            text = &quot;1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;;\r\n\r\n        String patternString = &quot;BKN.*?\\\\s+(\\\\d+)FT&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(patternString);\r\n\r\n        Matcher matcher = pattern.matcher(text);\r\n        if(matcher.find()) {\r\n        \tSystem.out.println(matcher.group(1));\r\n        } else {\r\n            System.out.println(&quot;nothing matched&quot;);\r\n        }\r\n\t}\r\n\r\noutput would be what is asked. 2400 and 700 for the first and second string accordingly. \r\n\r\nIf there is multiple matches is the input string then the only thing needs to be changed is the if statement which should be converted to while. \r\n\r\n    while(matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n    }","title":"Java Regex - find a numeric value in a String","body":"<p>with a reference to Jeutnarg comment, we can have a solution without any substring or etc. by using Matcher groups: </p>\n\n<pre><code>public static void main (String[] args) throws java.lang.Exception\n{\n\n    String text    =\n        \"4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T\" + \n        \" 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\";\n        text = \"1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\";\n\n    String patternString = \"BKN.*?\\\\s+(\\\\d+)FT\";\n\n    Pattern pattern = Pattern.compile(patternString);\n\n    Matcher matcher = pattern.matcher(text);\n    if(matcher.find()) {\n        System.out.println(matcher.group(1));\n    } else {\n        System.out.println(\"nothing matched\");\n    }\n}\n</code></pre>\n\n<p>output would be what is asked. 2400 and 700 for the first and second string accordingly. </p>\n\n<p>If there is multiple matches is the input string then the only thing needs to be changed is the if statement which should be converted to while. </p>\n\n<pre><code>while(matcher.find()) {\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n"}],"owner":{"account_id":14295163,"reputation":13,"user_id":10326048,"display_name":"Thierry E."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":52207337,"answer_count":2,"score":-1,"last_activity_date":1693129954,"creation_date":1536244298,"question_id":52206445,"body_markdown":"In the below two strings (weather mesures) I need to find with a regex expression the first `&quot;xxxFT&quot;` value after `&quot;BKN&quot;` then extract only numerical value : `xxxx`\r\n\r\nIn the 1st String final value will be `2400` and `700` in the second.\r\n\r\nBetween `&quot;BKN&quot;` and `&quot;xxxxFT&quot;` ther could be an additionnal word or not, it depends. ie : `&quot;BKN CB 2400FT&quot;` or `&quot;BKN 700FT&quot;`\r\n\r\n    String str1 = &quot;4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;\r\n\r\n    String str2 = &quot;1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA&quot;\r\n\r\nWhich regex pattern could I use for this ?","title":"Java Regex - find a numeric value in a String","body":"<p>In the below two strings (weather mesures) I need to find with a regex expression the first <code>\"xxxFT\"</code> value after <code>\"BKN\"</code> then extract only numerical value : <code>xxxx</code></p>\n\n<p>In the 1st String final value will be <code>2400</code> and <code>700</code> in the second.</p>\n\n<p>Between <code>\"BKN\"</code> and <code>\"xxxxFT\"</code> ther could be an additionnal word or not, it depends. ie : <code>\"BKN CB 2400FT\"</code> or <code>\"BKN 700FT\"</code></p>\n\n<pre><code>String str1 = \"4000M WX MODTSRA CLD FEW 600FT BKN CB 2400FT BKN CB 2900FT T 21 DP 18 QNH 1010.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\"\n\nString str2 = \"1500M CLD BKN 700FT BKN 4600FT T 16 DP 17 QNH 1014.7HPA MET QFE 1004.1HPA TREND TEMPO MOD TSRA\"\n</code></pre>\n\n<p>Which regex pattern could I use for this ?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7430446,"reputation":481,"user_id":5651621,"display_name":"IWHKYB"},"score":1,"creation_date":1533155936,"post_id":51641883,"comment_id":90248236,"body_markdown":"try this: (?&lt;=data-srcset=\\&quot;)(.*)(?= ) as your regex","body":"try this: (?&lt;=data-srcset=\\&quot;)(.*)(?= ) as your regex"},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533156244,"post_id":51641883,"comment_id":90248380,"body_markdown":"That would work for that particular line but I&#39;m scraping a webpage and it uses data-srcset for adverts aswell.","body":"That would work for that particular line but I&#39;m scraping a webpage and it uses data-srcset for adverts aswell."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1533165194,"post_id":51641883,"comment_id":90251198,"body_markdown":"[Parsing HTML with a regular expression is going to backfire on you.](https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg)  Use a dedicated HTML parser instead.","body":"<a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg\">Parsing HTML with a regular expression is going to backfire on you.</a>  Use a dedicated HTML parser instead."}],"answers":[{"comments":[{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533156106,"post_id":51641926,"comment_id":90248323,"body_markdown":"The reason why I was using the prefix and suffix is because I am scraping a webpage and it has advert pictures that display with the data-srcset attribute.","body":"The reason why I was using the prefix and suffix is because I am scraping a webpage and it has advert pictures that display with the data-srcset attribute."},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533156112,"post_id":51641926,"comment_id":90248326,"body_markdown":"E.g. &lt;source media=&quot;(min-width: 1024px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 1024px) and (min-resolution: 120dpi)&quot; sizes=&quot;325px&quot; data-srcset=&quot;https://static0.therichestimages.com/wordpress/wp-content/uploads/2018/07/o-IN-N-OUT-facebook.jpg?q=50&amp;amp;fit=crop&amp;amp;w=325&amp;amp;h=160&amp;dpr=1.5 487w&quot;/&gt;","body":"E.g. &lt;source media=&quot;(min-width: 1024px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 1024px) and (min-resolution: 120dpi)&quot; sizes=&quot;325px&quot; data-srcset=&quot;<a href=\"https://static0.therichestimages.com/wordpress/wp-content/uploads/2018/07/o-IN-N-OUT-facebook.jpg?q=50&amp;amp;fit=crop&amp;amp;w=325&amp;amp;h=160&amp;dpr=1.5\" rel=\"nofollow noreferrer\">static0.therichestimages.com/wordpress/wp-conte&zwnj;&#8203;nt/uploads/2018/&hellip;</a> 487w&quot;/&gt;"},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533156125,"post_id":51641926,"comment_id":90248333,"body_markdown":"But I wouldn&#39;t want my code to match that","body":"But I wouldn&#39;t want my code to match that"},{"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"score":0,"creation_date":1533156133,"post_id":51641926,"comment_id":90248335,"body_markdown":"I see, That is not just your only text you are seraching","body":"I see, That is not just your only text you are seraching"},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533156152,"post_id":51641926,"comment_id":90248340,"body_markdown":"The whole text is here view-source:https://www.therichest.com/top-lists/top-100-richest-celebrities/","body":"The whole text is here view-source:<a href=\"https://www.therichest.com/top-lists/top-100-richest-celebrities/\" rel=\"nofollow noreferrer\">therichest.com/top-lists/top-100-richest-celebri&zwnj;&#8203;ties</a>"},{"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"score":0,"creation_date":1533156509,"post_id":51641926,"comment_id":90248496,"body_markdown":"@RaeesSharif-Aamir updated answer","body":"@RaeesSharif-Aamir updated answer"},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533156801,"post_id":51641926,"comment_id":90248646,"body_markdown":"Unfortunately, that matches other images that aren&#39;t pictures of people. E.g. this &lt;source media=&quot;(min-width: 0px)&quot; sizes=&quot;180px&quot; data-srcset=&quot;https://static0.therichestimages.com/wordpress/wp-content/uploads/2018/07/Castle_Day_MainStUSA_Right_Crowd.jpg?q=50&amp;amp;fit=crop&amp;amp;w=180&amp;amp;h=120 180w&quot;/&gt; All pictures of people have prefix IMG_PREFIX and suffix IMG_SUFFIX. i just can&#39;t tell what my code is doing wrong","body":"Unfortunately, that matches other images that aren&#39;t pictures of people. E.g. this &lt;source media=&quot;(min-width: 0px)&quot; sizes=&quot;180px&quot; data-srcset=&quot;<a href=\"https://static0.therichestimages.com/wordpress/wp-content/uploads/2018/07/Castle_Day_MainStUSA_Right_Crowd.jpg?q=50&amp;amp;fit=crop&amp;amp;w=180&amp;amp;h=120\" rel=\"nofollow noreferrer\">static0.therichestimages.com/wordpress/wp-conte&zwnj;&#8203;nt/uploads/2018/&hellip;</a> 180w&quot;/&gt; All pictures of people have prefix IMG_PREFIX and suffix IMG_SUFFIX. i just can&#39;t tell what my code is doing wrong"},{"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"score":0,"creation_date":1533156867,"post_id":51641926,"comment_id":90248669,"body_markdown":"@RaeesSharif-Aamir How can you determine an image will be of people through regex?  [See THIS ANSWER](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)","body":"@RaeesSharif-Aamir How can you determine an image will be of people through regex?  <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">See THIS ANSWER</a>"},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533157027,"post_id":51641926,"comment_id":90248734,"body_markdown":"The images will be of people when source media=&quot;(min-width: 0px)&quot; sizes=&quot;70px&quot;. I&#39;m just not entirely sure how to make the code extract the link only when the prefix is matched.","body":"The images will be of people when source media=&quot;(min-width: 0px)&quot; sizes=&quot;70px&quot;. I&#39;m just not entirely sure how to make the code extract the link only when the prefix is matched."},{"owner":{"display_name":"user2731063"},"score":0,"creation_date":1533157114,"post_id":51641926,"comment_id":90248774,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/177231/discussion-between-raees-sharif-aamir-and-gtgaxiola).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/177231/discussion-between-raees-sharif-aamir-and-gtgaxiola\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533157175,"creation_date":1533155906,"answer_id":51641926,"question_id":51641883,"body_markdown":"**EDIT** \r\n\r\nChange your Pattern to:\r\n\r\n    String regex = &quot;&lt;source media=\\&quot;\\\\(min-width: 0px\\\\)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;(.+)\\&quot;/&gt;&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(regex);\r\n\r\nThe problem is that your Current Regex has Parenthesis as part of the &quot;text&quot; but they are not properly escaped since they are Regular Expression operators.\r\n\r\nSpecifically\r\n\r\n    (min-width: 0px)\r\n\r\nShould be:\r\n\r\n    \\(min-width: 0px\\)\r\n\r\nAnd in java land since you must escape a backslash:\r\n\r\n    \\\\(min-width: 0px\\\\)\r\n\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) {\r\n        String line = &quot;&lt;source media=\\&quot;(min-width: 0px)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\&quot;/&gt;\\n&quot;;\r\n        String regex = &quot;&lt;source media=\\&quot;\\\\(min-width: 0px\\\\)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;(.+)\\&quot;/&gt;&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(line);\r\n        while(matcher.find()) {\r\n            System.out.println(matcher.group(1));\r\n        }\r\n    }\r\n\r\nThe output I get:\r\n\r\n    https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\r\n","title":"Regex not extracting image url from html tag","body":"<p><strong>EDIT</strong> </p>\n\n<p>Change your Pattern to:</p>\n\n<pre><code>String regex = \"&lt;source media=\\\"\\\\(min-width: 0px\\\\)\\\" sizes=\\\"70px\\\" data-srcset=\\\"(.+)\\\"/&gt;\";\n\nPattern pattern = Pattern.compile(regex);\n</code></pre>\n\n<p>The problem is that your Current Regex has Parenthesis as part of the \"text\" but they are not properly escaped since they are Regular Expression operators.</p>\n\n<p>Specifically</p>\n\n<pre><code>(min-width: 0px)\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>\\(min-width: 0px\\)\n</code></pre>\n\n<p>And in java land since you must escape a backslash:</p>\n\n<pre><code>\\\\(min-width: 0px\\\\)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>public static void main(String[] args) {\n    String line = \"&lt;source media=\\\"(min-width: 0px)\\\" sizes=\\\"70px\\\" data-srcset=\\\"https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\\"/&gt;\\n\";\n    String regex = \"&lt;source media=\\\"\\\\(min-width: 0px\\\\)\\\" sizes=\\\"70px\\\" data-srcset=\\\"(.+)\\\"/&gt;\";\n    Pattern pattern = Pattern.compile(regex);\n    Matcher matcher = pattern.matcher(line);\n    while(matcher.find()) {\n        System.out.println(matcher.group(1));\n    }\n}\n</code></pre>\n\n<p>The output I get:</p>\n\n<pre><code>https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\n</code></pre>\n"}],"owner":{"display_name":"user2731063"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1533225704,"answer_count":1,"score":0,"last_activity_date":1693129949,"creation_date":1533155716,"question_id":51641883,"body_markdown":"My regular expression is\r\n\r\n    &lt;source media=&quot;(min-width: 0px)&quot; sizes=&quot;70px&quot; data-srcset=&quot;(.*?)&quot;/&gt;\r\n\r\nThe text I&#39;m testing my regex with is\r\n\r\n    &lt;source media=&quot;(min-width: 0px)&quot; sizes=&quot;70px&quot; data-srcset=&quot;https://static2.therichestimages.com/wordpress/wp-content/uploads/2014/05/52f81afc8b39c.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w&quot;/&gt;\r\n\r\nIt does not detect a URL inside the data-srcset attribute.\r\n\r\nMy code is\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Regex {\r\n    \r\n        private static final String IMG_PREFIX =\r\n                &quot;&lt;source media=\\&quot;(min-width: 0px)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;&quot;;\r\n        private static final String IMG_SUFFIX = &quot;\\&quot;/&gt;&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            String line = &quot;&lt;source media=\\&quot;(min-width: 0px)\\&quot; sizes=\\&quot;70px\\&quot; data-srcset=\\&quot;https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\&quot;/&gt;&quot;;\r\n    \r\n            Pattern pattern = Pattern.compile(IMG_PREFIX + &quot;(.*?)&quot; + IMG_SUFFIX);\r\n            Matcher matcher = pattern.matcher(line);\r\n    \r\n            System.out.println(matcher.find());\r\n    \r\n        }\r\n    }\r\n\r\nEdit: the production code is using this [HTML source ](https://www.therichest.com/top-lists/top-100-richest-celebrities/) rather than just a single line.\r\n\r\n\r\n","title":"Regex not extracting image url from html tag","body":"<p>My regular expression is</p>\n\n<pre><code>&lt;source media=\"(min-width: 0px)\" sizes=\"70px\" data-srcset=\"(.*?)\"/&gt;\n</code></pre>\n\n<p>The text I'm testing my regex with is</p>\n\n<pre><code>&lt;source media=\"(min-width: 0px)\" sizes=\"70px\" data-srcset=\"https://static2.therichestimages.com/wordpress/wp-content/uploads/2014/05/52f81afc8b39c.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\"/&gt;\n</code></pre>\n\n<p>It does not detect a URL inside the data-srcset attribute.</p>\n\n<p>My code is</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Regex {\n\n    private static final String IMG_PREFIX =\n            \"&lt;source media=\\\"(min-width: 0px)\\\" sizes=\\\"70px\\\" data-srcset=\\\"\";\n    private static final String IMG_SUFFIX = \"\\\"/&gt;\";\n\n    public static void main(String[] args) {\n        String line = \"&lt;source media=\\\"(min-width: 0px)\\\" sizes=\\\"70px\\\" data-srcset=\\\"https://static1.therichestimages.com/wordpress/wp-content/uploads/2012/06/Michael-Bloomberg.jpg?q=50&amp;amp;fit=crop&amp;amp;w=70&amp;amp;h=70 70w\\\"/&gt;\";\n\n        Pattern pattern = Pattern.compile(IMG_PREFIX + \"(.*?)\" + IMG_SUFFIX);\n        Matcher matcher = pattern.matcher(line);\n\n        System.out.println(matcher.find());\n\n    }\n}\n</code></pre>\n\n<p>Edit: the production code is using this <a href=\"https://www.therichest.com/top-lists/top-100-richest-celebrities/\" rel=\"nofollow noreferrer\">HTML source </a> rather than just a single line.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693123292,"post_id":76986150,"comment_id":135716483,"body_markdown":"Please do not post screenshots/images of the code, post the actual code as code formatted text. Presumably your application crashed with an exception, so also make sure to include that exception (again, as code formatted text, not as an image).","body":"Please do not post screenshots/images of the code, post the actual code as code formatted text. Presumably your application crashed with an exception, so also make sure to include that exception (again, as code formatted text, not as an image)."},{"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"score":0,"creation_date":1693123871,"post_id":76986150,"comment_id":135716544,"body_markdown":"@MarkRotteveel i dont see any exception while building the project","body":"@MarkRotteveel i dont see any exception while building the project"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693123951,"post_id":76986150,"comment_id":135716550,"body_markdown":"There would more likely be an exception when you **run** your application.","body":"There would more likely be an exception when you <b>run</b> your application."},{"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"score":0,"creation_date":1693124207,"post_id":76986150,"comment_id":135716569,"body_markdown":"@MarkRotteveel yh i found .","body":"@MarkRotteveel yh i found ."},{"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"score":0,"creation_date":1693124229,"post_id":76986150,"comment_id":135716572,"body_markdown":"java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to android.widget.EditText","body":"java.lang.ClassCastException: com.google.android.material.textfield.TextInputLayout cannot be cast to android.widget.EditText"},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1693128665,"post_id":76986150,"comment_id":135716979,"body_markdown":"Can you also add your xml layout file?","body":"Can you also add your xml layout file?"}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693129945,"creation_date":1693129945,"answer_id":76986529,"question_id":76986150,"body_markdown":"This is happening because `findViewById(R.id.emailField)` is returning `TextInputLayout` and not `EditText`. You need to further get `EditText` from `TextInputLayout`.\r\n\r\n```\r\nTextInputLayout emailTextInputLayout = findViewById(R.id.emailField);\r\n\r\nemailField = emailTextInputLayout.getEditText(); // get your editText view from text input layout\r\n``` \r\nDo the same for password field as well.","title":"App crashes after using findViewByID in android studio app development","body":"<p>This is happening because <code>findViewById(R.id.emailField)</code> is returning <code>TextInputLayout</code> and not <code>EditText</code>. You need to further get <code>EditText</code> from <code>TextInputLayout</code>.</p>\n<pre><code>TextInputLayout emailTextInputLayout = findViewById(R.id.emailField);\n\nemailField = emailTextInputLayout.getEditText(); // get your editText view from text input layout\n</code></pre>\n<p>Do the same for password field as well.</p>\n"}],"owner":{"account_id":25029891,"reputation":9,"user_id":18887748,"display_name":"Aman Singh 1M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693129945,"creation_date":1693122561,"question_id":76986150,"body_markdown":"I am using findviewbyid option in my Java app development. When I build my app, it opens and gets closed automatically. When I don&#39;t use findviewbyid, the app run smoothly\r\n\r\n[![Screenshow](https://i.stack.imgur.com/f3n42.png)](https://i.stack.imgur.com/f3n42.png)\r\n\r\nI tried various solutions, but they didn&#39;t work.","title":"App crashes after using findViewByID in android studio app development","body":"<p>I am using findviewbyid option in my Java app development. When I build my app, it opens and gets closed automatically. When I don't use findviewbyid, the app run smoothly</p>\n<p><a href=\"https://i.stack.imgur.com/f3n42.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f3n42.png\" alt=\"Screenshow\" /></a></p>\n<p>I tried various solutions, but they didn't work.</p>\n"},{"tags":["java","regex","string","parsing"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1531790605,"post_id":51371952,"comment_id":89715900,"body_markdown":"`I want to remove the words` ... to which _words_ are you referring?  Can you show us what you mean by way of sample data?","body":"<code>I want to remove the words</code> ... to which <i>words</i> are you referring?  Can you show us what you mean by way of sample data?"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531790902,"post_id":51371952,"comment_id":89715965,"body_markdown":"@TimBiegeleisen I made the edits to provide an example, sorry!","body":"@TimBiegeleisen I made the edits to provide an example, sorry!"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531790907,"post_id":51371952,"comment_id":89715966,"body_markdown":"@ScaryWombat I&#39;m not sure what you mean, I&#39;m not manipulating a set? Or perhaps I&#39;m misunderstanding what you are saying","body":"@ScaryWombat I&#39;m not sure what you mean, I&#39;m not manipulating a set? Or perhaps I&#39;m misunderstanding what you are saying"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1531790954,"post_id":51371952,"comment_id":89715977,"body_markdown":"The regex engine is just going to parse your input string from start to end.  So removing things won&#39;t really speed up the search process I would imagine.","body":"The regex engine is just going to parse your input string from start to end.  So removing things won&#39;t really speed up the search process I would imagine."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1531791213,"post_id":51371952,"comment_id":89716025,"body_markdown":"Why don&#39;t you try to `match` based upon multiple `words` see https://alvinalexander.com/blog/post/java/how-extract-multiple-groups-patterns-string-regex  or  https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9781449327453/ch05s02.html","body":"Why don&#39;t you try to <code>match</code> based upon multiple <code>words</code> see <a href=\"https://alvinalexander.com/blog/post/java/how-extract-multiple-groups-patterns-string-regex\" rel=\"nofollow noreferrer\">alvinalexander.com/blog/post/java/&hellip;</a>  or  <a href=\"https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9781449327453/ch05s02.html\" rel=\"nofollow noreferrer\">safaribooksonline.com/library/view/regular-expressions-cookb&zwnj;&#8203;ook/&hellip;</a>"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531792028,"post_id":51371952,"comment_id":89716157,"body_markdown":"@ScaryWombat hmm the second link looks very promising if I can translate it to Java. I&#39;ll see if that speeds things up. I have wordList and paragraph on the order of 500-1000 words so If i could search for 500 words at once that&#39;d be nice. The program is also threaded!","body":"@ScaryWombat hmm the second link looks very promising if I can translate it to Java. I&#39;ll see if that speeds things up. I have wordList and paragraph on the order of 500-1000 words so If i could search for 500 words at once that&#39;d be nice. The program is also threaded!"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1531808736,"post_id":51371952,"comment_id":89720424,"body_markdown":"You will make your code way faster by mere changing the regex to `String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;`. although since you have `Pattern.quote`, it must be `String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;`","body":"You will make your code way faster by mere changing the regex to <code>String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;</code>. although since you have <code>Pattern.quote</code>, it must be <code>String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;</code>"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531850913,"post_id":51371952,"comment_id":89747464,"body_markdown":"@WiktorStribi≈ºew the two different snippets you provided seem very different? Could you maybe explain the difference between `String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;` and `String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;`","body":"@WiktorStribi≈ºew the two different snippets you provided seem very different? Could you maybe explain the difference between <code>String regex = &quot;\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b&quot;;</code> and <code>String regex = &quot;(?&lt;!\\\\w)&quot; + Pattern.quote(word) + &quot;(?!\\\\w)&quot;;</code>"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1531851074,"post_id":51371952,"comment_id":89747542,"body_markdown":"@dude8998 There is little difference, however, `&quot;\\\\b\\\\+test\\\\b&quot;` will never match anything in `&quot;my +test test&quot;` because there must be a letter, or digit, or `_` before `+test`. However, `&quot;(?&lt;!\\\\w)\\\\+test(?!\\\\w)&quot;` will match `+test` in that string. To match partial strings, you need to use `.find()` method, not `.matches()`.","body":"@dude8998 There is little difference, however, <code>&quot;\\\\b\\\\+test\\\\b&quot;</code> will never match anything in <code>&quot;my +test test&quot;</code> because there must be a letter, or digit, or <code>_</code> before <code>+test</code>. However, <code>&quot;(?&lt;!\\\\w)\\\\+test(?!\\\\w)&quot;</code> will match <code>+test</code> in that string. To match partial strings, you need to use <code>.find()</code> method, not <code>.matches()</code>."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1531855475,"post_id":51371952,"comment_id":89749656,"body_markdown":"Ok, I got what you need. Try [**this code on your side**](https://ideone.com/J9olAb), let me know via a comment with `@Wiktor` and if it works, I will post with explanations. And if you only have words in the word list that consist of letters, digits or `_`s, you may use a [**lighter version**](https://ideone.com/h77G9d).","body":"Ok, I got what you need. Try <a href=\"https://ideone.com/J9olAb\" rel=\"nofollow noreferrer\"><b>this code on your side</b></a>, let me know via a comment with <code>@Wiktor</code> and if it works, I will post with explanations. And if you only have words in the word list that consist of letters, digits or <code>_</code>s, you may use a <a href=\"https://ideone.com/h77G9d\" rel=\"nofollow noreferrer\"><b>lighter version</b></a>."},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531862523,"post_id":51371952,"comment_id":89752866,"body_markdown":"@WiktorStribi≈ºew the words list is very simple! Always uppercase letters, hyphens, maybe digits, and occasionally (/ ) slashes. I will try your code and get back to you unless this information changes things","body":"@WiktorStribi≈ºew the words list is very simple! Always uppercase letters, hyphens, maybe digits, and occasionally (/ ) slashes. I will try your code and get back to you unless this information changes things"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1531862628,"post_id":51371952,"comment_id":89752902,"body_markdown":"@dude8998 If the hyphens cannot be at the beginning and end then use the lighter version.","body":"@dude8998 If the hyphens cannot be at the beginning and end then use the lighter version."},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531862822,"post_id":51371952,"comment_id":89752984,"body_markdown":"@WiktorStribi≈ºew what about for slashes? And yes the hyphens will likely never be at beginning or end","body":"@WiktorStribi≈ºew what about for slashes? And yes the hyphens will likely never be at beginning or end"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1531862899,"post_id":51371952,"comment_id":89753011,"body_markdown":"@dude8998 Slashes are non-word chars (same as hyphens), so `\\b/` will only match in strings like `w/`, `1/` or `_/`, but will not  match in `./` or `a /bcd` NOTE that neither hyphens nor slashes need escaping.","body":"@dude8998 Slashes are non-word chars (same as hyphens), so <code>\\b&#47;</code> will only match in strings like <code>w&#47;</code>, <code>1&#47;</code> or <code>_&#47;</code>, but will not  match in <code>.&#47;</code> or <code>a &#47;bcd</code> NOTE that neither hyphens nor slashes need escaping."},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531863019,"post_id":51371952,"comment_id":89753043,"body_markdown":"Great, I will use the lighter version!","body":"Great, I will use the lighter version!"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531863325,"post_id":51371952,"comment_id":89753171,"body_markdown":"@WiktorStribi≈ºew but There is a problem, I need to add every word I find to an ArrayList, but this solution doesn&#39;t seem to let me determine which word i find, so I cant do that","body":"@WiktorStribi≈ºew but There is a problem, I need to add every word I find to an ArrayList, but this solution doesn&#39;t seem to let me determine which word i find, so I cant do that"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1531863412,"post_id":51371952,"comment_id":89753207,"body_markdown":"See https://ideone.com/xVFuGP. See my answer below.","body":"See <a href=\"https://ideone.com/xVFuGP\" rel=\"nofollow noreferrer\">ideone.com/xVFuGP</a>. See my answer below."}],"answers":[{"comments":[{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531866004,"post_id":51390482,"comment_id":89753979,"body_markdown":"This is a fantastic answer, but this will find every match fro every word if I do the while, can it go further and only find the first match for each word?","body":"This is a fantastic answer, but this will find every match fro every word if I do the while, can it go further and only find the first match for each word?"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531866188,"post_id":51390482,"comment_id":89754027,"body_markdown":"Also, the heavy solution is getting me to run out of memory, any idea why? I&#39;m outputting using String builders I understand that cant take up memory","body":"Also, the heavy solution is getting me to run out of memory, any idea why? I&#39;m outputting using String builders I understand that cant take up memory"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1531866221,"post_id":51390482,"comment_id":89754038,"body_markdown":"@dude8998 No, either all or the first from the group. What is the real  life scenario?","body":"@dude8998 No, either all or the first from the group. What is the real  life scenario?"},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531866638,"post_id":51390482,"comment_id":89754155,"body_markdown":"So in real life, I am given an all uppercase paragraph that could be any length. I&#39;m also given a list of uppercase words. I want to find if a paragraph contains words and put every word match into a list. So if I have the sentence `&quot;I ate an apple, but I am still hungry, so I will eat pie pie pie pie&quot;` the word `pie` will only be added once when looking for `pie`, and it will also search for `apple` and `hungry` and put those in the list too","body":"So in real life, I am given an all uppercase paragraph that could be any length. I&#39;m also given a list of uppercase words. I want to find if a paragraph contains words and put every word match into a list. So if I have the sentence <code>&quot;I ate an apple, but I am still hungry, so I will eat pie pie pie pie&quot;</code> the word <code>pie</code> will only be added once when looking for <code>pie</code>, and it will also search for <code>apple</code> and <code>hungry</code> and put those in the list too"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1531867278,"post_id":51390482,"comment_id":89754363,"body_markdown":"@dude8998 Use `while` but [add all matches to a **`set`**](https://ideone.com/PjnDy3).","body":"@dude8998 Use <code>while</code> but <a href=\"https://ideone.com/PjnDy3\" rel=\"nofollow noreferrer\">add all matches to a <b><code>set</code></b></a>."},{"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"score":0,"creation_date":1531868989,"post_id":51390482,"comment_id":89754787,"body_markdown":"Would using a HashSet instead of ArrayList really amke a big difference?","body":"Would using a HashSet instead of ArrayList really amke a big difference?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1531873453,"post_id":51390482,"comment_id":89755679,"body_markdown":"If you want distinct values, yes.","body":"If you want distinct values, yes."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1531874020,"post_id":51390482,"comment_id":89755784,"body_markdown":"@dude8998 Please consider also upvoting if the answer proved helpful to you (you are entitled to upvoting after reaching 5 rep points).","body":"@dude8998 Please consider also upvoting if the answer proved helpful to you (you are entitled to upvoting after reaching 5 rep points)."}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1531863432,"creation_date":1531863131,"answer_id":51390482,"question_id":51371952,"body_markdown":"You may use\r\n\r\n    String paragraph = &quot;I ate an apple, but I am still hungry, so I will eat pie&quot;;\r\n\tList&lt;String&gt; wordList = Arrays.asList(&quot;apple&quot;,&quot;hungry&quot;,&quot;pie&quot;);\r\n\tPattern p = Pattern.compile(&quot;\\\\b(?:&quot; + String.join(&quot;|&quot;, wordList) + &quot;)\\\\b&quot;);\r\n\tMatcher m = p.matcher(paragraph);\r\n\tif (m.find()) {  // To find all matches, replace &quot;if&quot; with &quot;while&quot;\r\n\t\tSystem.out.println(&quot;Found &quot; + m.group()); // =&gt; Found apple\r\n\t}\r\n\r\nSee the [Java demo][1].\r\n\r\nThe regex will look like `\\b(?:word1|word2|wordN)\\b` and will match:\r\n\r\n - `\\b` - a word boundary\r\n - `(?:word1|word2|wordN)` - any of the alternatives inside the non-capturing group\r\n - `\\b` - a word boundary\r\n\r\nSince you say the characters in the words can only be uppercase letters, digits and hyphens with slashes, none of them need escaping, so `Pattern.quote` is not important here. Also, since the slashes and hyphens will never appear at the start/end of the string, you won&#39;t have issues usually caused by `\\b` word boundary. Otherwise, replace the first `&quot;\\\\b&quot;` with `&quot;(?&lt;!\\\\w)&quot;` and the last one with `&quot;(?!\\\\w)&quot;`.\r\n\r\n  [1]: https://ideone.com/xVFuGP","title":"Optimize Finding Words in Paragraph","body":"<p>You may use</p>\n\n<pre><code>String paragraph = \"I ate an apple, but I am still hungry, so I will eat pie\";\nList&lt;String&gt; wordList = Arrays.asList(\"apple\",\"hungry\",\"pie\");\nPattern p = Pattern.compile(\"\\\\b(?:\" + String.join(\"|\", wordList) + \")\\\\b\");\nMatcher m = p.matcher(paragraph);\nif (m.find()) {  // To find all matches, replace \"if\" with \"while\"\n    System.out.println(\"Found \" + m.group()); // =&gt; Found apple\n}\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/xVFuGP\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n\n<p>The regex will look like <code>\\b(?:word1|word2|wordN)\\b</code> and will match:</p>\n\n<ul>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>(?:word1|word2|wordN)</code> - any of the alternatives inside the non-capturing group</li>\n<li><code>\\b</code> - a word boundary</li>\n</ul>\n\n<p>Since you say the characters in the words can only be uppercase letters, digits and hyphens with slashes, none of them need escaping, so <code>Pattern.quote</code> is not important here. Also, since the slashes and hyphens will never appear at the start/end of the string, you won't have issues usually caused by <code>\\b</code> word boundary. Otherwise, replace the first <code>\"\\\\b\"</code> with <code>\"(?&lt;!\\\\w)\"</code> and the last one with <code>\"(?!\\\\w)\"</code>.</p>\n"}],"owner":{"account_id":13331353,"reputation":145,"user_id":9622523,"display_name":"dude8998"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51390482,"answer_count":1,"score":1,"last_activity_date":1693129941,"creation_date":1531790515,"question_id":51371952,"body_markdown":"I&#39;m searching for words in a paragraph but it takes ages with long paragraphs. Hence, I want to remove the words after I find it in the paragraph to shorten the number of words I have to go through. Or if there&#39;s a better way to make this efficient do tell!\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    for (String word : wordList) {\r\n    \tString regex = &quot;.*\\\\b&quot; + Pattern.quote(word) + &quot;\\\\b.*&quot;; \r\n    \tPattern p = Pattern.compile(regex);\r\n    \tMatcher m = p.matcher(paragraph);\r\n    \tif (m.find()) {\r\n    \t\tSystem.out.println(&quot;Found: &quot; + word);\r\n            list.add(word);\r\n    \t}\r\n    }\r\n\r\nFor example, lets say my `wordList` has the following values `&quot;apple&quot;,&quot;hungry&quot;,&quot;pie&quot;`\r\n\r\nAnd my `paragraph` is `&quot;I ate an apple, but I am still hungry, so I will eat pie&quot;`\r\n\r\nI want to find the words in `wordList` in the `paragraph` and eliminate them in the hopes of making the above code faster","title":"Optimize Finding Words in Paragraph","body":"<p>I'm searching for words in a paragraph but it takes ages with long paragraphs. Hence, I want to remove the words after I find it in the paragraph to shorten the number of words I have to go through. Or if there's a better way to make this efficient do tell!</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nfor (String word : wordList) {\n    String regex = \".*\\\\b\" + Pattern.quote(word) + \"\\\\b.*\"; \n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(paragraph);\n    if (m.find()) {\n        System.out.println(\"Found: \" + word);\n        list.add(word);\n    }\n}\n</code></pre>\n\n<p>For example, lets say my <code>wordList</code> has the following values <code>\"apple\",\"hungry\",\"pie\"</code></p>\n\n<p>And my <code>paragraph</code> is <code>\"I ate an apple, but I am still hungry, so I will eat pie\"</code></p>\n\n<p>I want to find the words in <code>wordList</code> in the <code>paragraph</code> and eliminate them in the hopes of making the above code faster</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1530686643,"post_id":51165382,"comment_id":89317736,"body_markdown":"standard [documentation of Pattern](https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html#DOTALL)","body":"standard <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"nofollow noreferrer\">documentation of Pattern</a>"}],"answers":[{"comments":[{"owner":{"account_id":12895701,"reputation":61,"user_id":9326100,"display_name":"bob"},"score":0,"creation_date":1530676957,"post_id":51165509,"comment_id":89314279,"body_markdown":"my regex works without new line, but the string sometimes have \\r\\n in string and the regex not work because include \\r\\n.. any solution? your regex not work..","body":"my regex works without new line, but the string sometimes have \\r\\n in string and the regex not work because include \\r\\n.. any solution? your regex not work.."},{"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"score":0,"creation_date":1530677411,"post_id":51165509,"comment_id":89314401,"body_markdown":"@bob so you want to include the strings with `\\r\\n` in the output?","body":"@bob so you want to include the strings with <code>\\r\\n</code> in the output?"},{"owner":{"account_id":4181817,"reputation":369,"user_id":3426630,"display_name":"tauitdnmd"},"score":0,"creation_date":1530679062,"post_id":51165509,"comment_id":89314786,"body_markdown":"@bob You just need to turn on the  DOTALL option into Pattern.compile($regex,[your_option])","body":"@bob You just need to turn on the  DOTALL option into Pattern.compile($regex,[your_option])"}],"tags":[],"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530685369,"creation_date":1530676378,"answer_id":51165509,"question_id":51165382,"body_markdown":"***To include newline and spaces*** as well, use:\r\n\r\n    ^#[\\s\\S]*#$\r\n\r\n\r\nCheck it out [here in action][1].\r\n\r\nYou java code becomes:\r\n\r\n    Matcher m = Pattern.compile(&quot;^&quot; + param1 + &quot;[\\\\s\\\\S]*&quot; + param2 + &quot;$&quot;).matcher(data);\r\n\r\n\r\nYou can also use [`Pattern.DOTALL`][2] mode as well.\r\n\r\n    Matcher m = Pattern.compile(&quot;\\\\&quot; + param1 + &quot;(.*?)\\\\&quot; + param2, Pattern.DOTALL).matcher(data);\r\n\r\n\r\n  [1]: https://regex101.com/r/3rPc0b/1\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL","title":"Java regex between 2 characters include new line or tab","body":"<p><strong><em>To include newline and spaces</em></strong> as well, use:</p>\n\n<pre><code>^#[\\s\\S]*#$\n</code></pre>\n\n<p>Check it out <a href=\"https://regex101.com/r/3rPc0b/1\" rel=\"nofollow noreferrer\">here in action</a>.</p>\n\n<p>You java code becomes:</p>\n\n<pre><code>Matcher m = Pattern.compile(\"^\" + param1 + \"[\\\\s\\\\S]*\" + param2 + \"$\").matcher(data);\n</code></pre>\n\n<p>You can also use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"nofollow noreferrer\"><code>Pattern.DOTALL</code></a> mode as well.</p>\n\n<pre><code>Matcher m = Pattern.compile(\"\\\\\" + param1 + \"(.*?)\\\\\" + param2, Pattern.DOTALL).matcher(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530680546,"creation_date":1530680546,"answer_id":51166075,"question_id":51165382,"body_markdown":"Add the `DOTALL` flag via `(?s)`:\r\n\r\n    Pattern.compile(&quot;\\\\Q&quot; + param1 + &quot;\\\\E(?s)(.*?)\\\\Q&quot; + param2 + &quot;\\\\E&quot;)\r\n\r\nNote also the use of `\\Q...\\E` to correctly escape the delimiter. Just putting a backslash before it won‚Äôt work for all cases.","title":"Java regex between 2 characters include new line or tab","body":"<p>Add the <code>DOTALL</code> flag via <code>(?s)</code>:</p>\n\n<pre><code>Pattern.compile(\"\\\\Q\" + param1 + \"\\\\E(?s)(.*?)\\\\Q\" + param2 + \"\\\\E\")\n</code></pre>\n\n<p>Note also the use of <code>\\Q...\\E</code> to correctly escape the delimiter. Just putting a backslash before it won‚Äôt work for all cases.</p>\n"}],"owner":{"account_id":12895701,"reputation":61,"user_id":9326100,"display_name":"bob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1693129933,"creation_date":1530675321,"question_id":51165382,"body_markdown":"I have a problem with regex between 2 strings. I want get value between string `#` and `#` but this regex is not working when I have a new line (in my case `\\r\\n`). for example:\r\n\r\n    #89899#\r\n    #this is string I have\r\n    problem#\r\n\r\nI have a problem with line 2 because have new line. how to exclude new line in regex? my code:\r\n\r\n    public static List parserStringBetween(String param1, String param2, String data) {\r\n    \tList result = null;\r\n    \r\n    \tif (param1 != null &amp;&amp; !&quot;&quot;.equalsIgnoreCase(param1) &amp;&amp; param2 != null &amp;&amp; !&quot;&quot;.equalsIgnoreCase(param2)\r\n    \t\t\t&amp;&amp; data != null &amp;&amp; !&quot;&quot;.equalsIgnoreCase(data)) {\r\n    \t\tresult = new ArrayList&lt;&gt;();\r\n    \t\tMatcher m = Pattern.compile(&quot;\\\\&quot; + param1 + &quot;(.*?)\\\\&quot; + param2).matcher(data);\r\n    \t\twhile (m.find()) {\r\n    \t\t\tresult.add(m.group(1));\r\n    \t\t}\r\n    \r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\n`param1` and `param2` are string between setting i.e `#` here. How to solve this problem?\r\n\r\n","title":"Java regex between 2 characters include new line or tab","body":"<p>I have a problem with regex between 2 strings. I want get value between string <code>#</code> and <code>#</code> but this regex is not working when I have a new line (in my case <code>\\r\\n</code>). for example:</p>\n\n<pre><code>#89899#\n#this is string I have\nproblem#\n</code></pre>\n\n<p>I have a problem with line 2 because have new line. how to exclude new line in regex? my code:</p>\n\n<pre><code>public static List parserStringBetween(String param1, String param2, String data) {\n    List result = null;\n\n    if (param1 != null &amp;&amp; !\"\".equalsIgnoreCase(param1) &amp;&amp; param2 != null &amp;&amp; !\"\".equalsIgnoreCase(param2)\n            &amp;&amp; data != null &amp;&amp; !\"\".equalsIgnoreCase(data)) {\n        result = new ArrayList&lt;&gt;();\n        Matcher m = Pattern.compile(\"\\\\\" + param1 + \"(.*?)\\\\\" + param2).matcher(data);\n        while (m.find()) {\n            result.add(m.group(1));\n        }\n\n    }\n    return result;\n}\n</code></pre>\n\n<p><code>param1</code> and <code>param2</code> are string between setting i.e <code>#</code> here. How to solve this problem?</p>\n"},{"tags":["java","regex","parsing"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1529892108,"post_id":51015401,"comment_id":89023566,"body_markdown":"You&#39;re never matched anything against `matcher`. I&#39;m not sure why you&#39;re calling the static method `Pattern.matches` but that line should read `boolean b = matcher.matches();`","body":"You&#39;re never matched anything against <code>matcher</code>. I&#39;m not sure why you&#39;re calling the static method <code>Pattern.matches</code> but that line should read <code>boolean b = matcher.matches();</code>"}],"answers":[{"comments":[{"owner":{"account_id":13835031,"reputation":25,"user_id":9986788,"display_name":"Pavle Djordjevic"},"score":0,"creation_date":1529892407,"post_id":51015430,"comment_id":89023609,"body_markdown":"It&#39;s the same thing and both return true. However, the main question is why I can&#39;t access groups via matcher.group(int)","body":"It&#39;s the same thing and both return true. However, the main question is why I can&#39;t access groups via matcher.group(int)"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1529892701,"post_id":51015430,"comment_id":89023663,"body_markdown":"You can access `matcher.group(int)` if you do `boolean b = matcher.matches();` first. You need to call `matches` or `find` first on the `Matcher` before you can access the `group` method.","body":"You can access <code>matcher.group(int)</code> if you do <code>boolean b = matcher.matches();</code> first. You need to call <code>matches</code> or <code>find</code> first on the <code>Matcher</code> before you can access the <code>group</code> method."}],"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529892191,"creation_date":1529892191,"answer_id":51015430,"question_id":51015401,"body_markdown":"You&#39;re never matched anything against matcher. I&#39;m not sure why you&#39;re calling the static method Pattern.matches but that line should read \r\n\r\n    boolean b = matcher.matches();\r\n\r\nLike this:\r\n\r\n    public class Parser {\r\n        Pattern pattern;\r\n        Matcher matcher;\r\n        String g;\r\n    \r\n        public Parser(String s) {\r\n            g = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n            pattern = Pattern.compile(&quot;^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$&quot;);\r\n            matcher = pattern.matcher(g);\r\n            boolean b = matcher.matches();\r\n    \r\n            System.out.println(b + &quot; &quot;);\r\n            System.out.println(matcher.group(1));\r\n        }\r\n    }","title":"How exactly does Pattern.matcher() work?","body":"<p>You're never matched anything against matcher. I'm not sure why you're calling the static method Pattern.matches but that line should read </p>\n\n<pre><code>boolean b = matcher.matches();\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>public class Parser {\n    Pattern pattern;\n    Matcher matcher;\n    String g;\n\n    public Parser(String s) {\n        g = s.replaceAll(\"\\\\s+\", \"\");\n        pattern = Pattern.compile(\"^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$\");\n        matcher = pattern.matcher(g);\n        boolean b = matcher.matches();\n\n        System.out.println(b + \" \");\n        System.out.println(matcher.group(1));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13835031,"reputation":25,"user_id":9986788,"display_name":"Pavle Djordjevic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1529892192,"answer_count":1,"score":0,"last_activity_date":1693129925,"creation_date":1529891831,"question_id":51015401,"body_markdown":"So I&#39;m trying to create a parser that will match certain parts of a string. String looks like f(q[group1],[group2])=(q[group3],[group4],[group5]). Pattern.matches() in code below returns true but I&#39;m unable to access groups via matcher.group(int). Last line in code provided throws: java.lang.IllegalStateException: No match available\r\n\r\n    public class Parser {\r\n       Pattern pattern;\r\n       Matcher matcher;\r\n       String g;\r\n     \r\n    public Parser(String s) {\r\n       g = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n       pattern = Pattern.compile(&quot;^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$&quot;);\r\n       matcher = pattern.matcher(g);\r\n       boolean b = Pattern.matches(&quot;^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$&quot;,g);\r\n       \r\n     System.out.println(b +   &quot; &quot;);\r\n     System.out.println(matcher.group(1));\r\n    }\r\n    }\r\n\r\n\r\n\r\n","title":"How exactly does Pattern.matcher() work?","body":"<p>So I'm trying to create a parser that will match certain parts of a string. String looks like f(q[group1],[group2])=(q[group3],[group4],[group5]). Pattern.matches() in code below returns true but I'm unable to access groups via matcher.group(int). Last line in code provided throws: java.lang.IllegalStateException: No match available</p>\n\n<pre><code>public class Parser {\n   Pattern pattern;\n   Matcher matcher;\n   String g;\n\npublic Parser(String s) {\n   g = s.replaceAll(\"\\\\s+\", \"\");\n   pattern = Pattern.compile(\"^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$\");\n   matcher = pattern.matcher(g);\n   boolean b = Pattern.matches(\"^f\\\\(q(\\\\d+),(.)\\\\)=\\\\(q([+-]*\\\\d+),(.),([+-])1\\\\)$\",g);\n\n System.out.println(b +   \" \");\n System.out.println(matcher.group(1));\n}\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1528978193,"post_id":50857224,"comment_id":88716862,"body_markdown":"use `^` at the beginning and `$` at the end of the regex: `^CAR_COMPONENTS_ADT$`","body":"use <code>^</code> at the beginning and <code>$</code> at the end of the regex: <code>^CAR_COMPONENTS_ADT$</code>"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1528982014,"post_id":50857224,"comment_id":88719373,"body_markdown":"Does that mean that the matches are only expected if the search word is not enclosed with letters or/and `_`? Try `pattern.matcher(&quot;(?&lt;![_\\\\p{L}])&quot; + f.getName() + &quot;(?![_\\\\p{L}])&quot;)`","body":"Does that mean that the matches are only expected if the search word is not enclosed with letters or/and <code>_</code>? Try <code>pattern.matcher(&quot;(?&lt;![_\\\\p{L}])&quot; + f.getName() + &quot;(?![_\\\\p{L}])&quot;)</code>"},{"owner":{"account_id":11294116,"reputation":215,"user_id":8282112,"display_name":"Sid"},"score":0,"creation_date":1528982394,"post_id":50857224,"comment_id":88719621,"body_markdown":"will do, I have also tried this that seems to work","body":"will do, I have also tried this that seems to work"},{"owner":{"account_id":11294116,"reputation":215,"user_id":8282112,"display_name":"Sid"},"score":0,"creation_date":1528982579,"post_id":50857224,"comment_id":88719745,"body_markdown":"for(File f: fileList){ if(paternName.equals(f){  for(File t:fileList){ Matcher matcher = p.matcher(t)  if(matcher.find(){count++} }  }}","body":"for(File f: fileList){ if(paternName.equals(f){  for(File t:fileList){ Matcher matcher = p.matcher(t)  if(matcher.find(){count++} }  }}"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1528982890,"post_id":50857224,"comment_id":88719948,"body_markdown":"Oh, sorry, I messed the code a bit, I will post the answer then.","body":"Oh, sorry, I messed the code a bit, I will post the answer then."}],"answers":[{"tags":[],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528978964,"creation_date":1528978964,"answer_id":50857465,"question_id":50857224,"body_markdown":"There are two problems here:\r\n\r\n1. The regex of `Pattern.matcher` will not look for the full string unless you add a leading `^` (start of regex) and trailing `$` (end of regex).\r\n2. `file.getName()` will return the name including file extension.\r\n\r\n**So, there are two possible solutions:**\r\n\r\n1) You could change the regex of the pattern so the matches does only match the full file-name:\r\n\r\n    int count=0;\r\n    Pattern pattern = Pattern.compile(&quot;^&quot; + patternName + &quot;\\\\.?.+$&quot;);\r\n    for(File f: fileList){\r\n      Matcher matcher = pattern.matcher(f.getName());\r\n      if(matcher.find()){\r\n        count++;\r\n      }\r\n    }\r\n\r\nShort explanation of the regex:\r\n\r\n&lt;!-- language-all: lang-python --&gt;\r\n\r\n    ^NUTS\\\\.?.+$\r\n    ^          $    # Start and end of the regex, to match the entire file-name\r\n     NUTS           # The file name you want to check\r\n         \\\\.?.*     # An (optional) file extension (i.e. `.txt`)\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n2) You could remove the extension, and use an `.equals`:\r\n\r\n    int count=0;\r\n    for(File f: fileList){\r\n      String fileNameWithoutExtension = f.getName().split(&quot;\\\\.&quot;)[0];\r\n      if(patternName.equals(fileNameWithoutExtension)){\r\n        count++;\r\n      }\r\n    }","title":"Java Pattern Matcher Incorrectly matches sub string","body":"<p>There are two problems here:</p>\n\n<ol>\n<li>The regex of <code>Pattern.matcher</code> will not look for the full string unless you add a leading <code>^</code> (start of regex) and trailing <code>$</code> (end of regex).</li>\n<li><code>file.getName()</code> will return the name including file extension.</li>\n</ol>\n\n<p><strong>So, there are two possible solutions:</strong></p>\n\n<p>1) You could change the regex of the pattern so the matches does only match the full file-name:</p>\n\n<pre><code>int count=0;\nPattern pattern = Pattern.compile(\"^\" + patternName + \"\\\\.?.+$\");\nfor(File f: fileList){\n  Matcher matcher = pattern.matcher(f.getName());\n  if(matcher.find()){\n    count++;\n  }\n}\n</code></pre>\n\n<p>Short explanation of the regex:</p>\n\n\n\n<pre class=\"lang-python prettyprint-override\"><code>^NUTS\\\\.?.+$\n^          $    # Start and end of the regex, to match the entire file-name\n NUTS           # The file name you want to check\n     \\\\.?.*     # An (optional) file extension (i.e. `.txt`)\n</code></pre>\n\n\n\n<p>2) You could remove the extension, and use an <code>.equals</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int count=0;\nfor(File f: fileList){\n  String fileNameWithoutExtension = f.getName().split(\"\\\\.\")[0];\n  if(patternName.equals(fileNameWithoutExtension)){\n    count++;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1529404032,"post_id":50858726,"comment_id":88851308,"body_markdown":"@Sid Glad it worked for you. Please also consider upvoting if my answer proved helpful to you (see [How to upvote on Stack Overflow?](http://meta.stackexchange.com/questions/173399/how-to-upvote-on-stack-overflow)) as you are entitled to the upvoting privilege after reaching 15 rep points.","body":"@Sid Glad it worked for you. Please also consider upvoting if my answer proved helpful to you (see <a href=\"http://meta.stackexchange.com/questions/173399/how-to-upvote-on-stack-overflow\">How to upvote on Stack Overflow?</a>) as you are entitled to the upvoting privilege after reaching 15 rep points."}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1528983019,"creation_date":1528983019,"answer_id":50858726,"question_id":50857224,"body_markdown":"You want to match a term only when it is not enclosed with letters/underscore.\r\n\r\nUse\r\n   \r\n    int count=0;\r\n    Pattern pattern = Pattern.compile(&quot;(?&lt;![_\\\\p{L}])&quot; + patternName + &quot;(?![_\\\\p{L}])&quot;);\r\n    for(File f: fileList) {\r\n        Matcher matcher = pattern.matcher(f.getName());\r\n        if(matcher.find()){\r\n            count++;\r\n        }\r\n    }\r\n\r\nSee the [regex demo with `CAR_COMPONENTS_ADT`](https://regex101.com/r/TEy3II/1) and [a regex demo with `CAR_COMPONENTS`](https://regex101.com/r/TEy3II/2).\r\n\r\nThe `(?&lt;![_\\p{L}])` is a negative lookbehind that matches a location in string that is not immediately preceded with a `_` or any letter (replace `\\p{L}` with `[A-Za-z]` or `\\p{Alpha}` to only match ASCII letters) and `(?![_\\p{L}])` is a negative lookahead that fails the match if there is a letter or `_` immediately to the right of the current location.","title":"Java Pattern Matcher Incorrectly matches sub string","body":"<p>You want to match a term only when it is not enclosed with letters/underscore.</p>\n\n<p>Use</p>\n\n<pre><code>int count=0;\nPattern pattern = Pattern.compile(\"(?&lt;![_\\\\p{L}])\" + patternName + \"(?![_\\\\p{L}])\");\nfor(File f: fileList) {\n    Matcher matcher = pattern.matcher(f.getName());\n    if(matcher.find()){\n        count++;\n    }\n}\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/TEy3II/1\" rel=\"nofollow noreferrer\">regex demo with <code>CAR_COMPONENTS_ADT</code></a> and <a href=\"https://regex101.com/r/TEy3II/2\" rel=\"nofollow noreferrer\">a regex demo with <code>CAR_COMPONENTS</code></a>.</p>\n\n<p>The <code>(?&lt;![_\\p{L}])</code> is a negative lookbehind that matches a location in string that is not immediately preceded with a <code>_</code> or any letter (replace <code>\\p{L}</code> with <code>[A-Za-z]</code> or <code>\\p{Alpha}</code> to only match ASCII letters) and <code>(?![_\\p{L}])</code> is a negative lookahead that fails the match if there is a letter or <code>_</code> immediately to the right of the current location.</p>\n"}],"owner":{"account_id":11294116,"reputation":215,"user_id":8282112,"display_name":"Sid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50858726,"answer_count":2,"score":2,"last_activity_date":1693129882,"creation_date":1528978129,"question_id":50857224,"body_markdown":"I have a list of folders at a particular file path\r\nand it gives following file listwhen searched through the cod below\r\n                                                                              \r\n    File[] fileList = folderListLocation.listFiles(someFileFilter);\r\n    //it gives following list\r\n    fileList=[NUTS, BOLTS, CAR_COMPONENTS_ADT,CAR_COMPONENTS_ADT1, WINDSHIELD]\r\nNow I am trying to get a count for folders of one particular name, that means if I use a pattern matcher to look for CAR_COMPONENTS_ADT, it should give me count as 2, if I look for NUTS using pattern matcher, I should get a count as 1\r\n\r\nNow I am using following code to match this file list against some patterns in following code\r\n \r\n     int count=0;\r\n\t Pattern pattern = Pattern.compile(patternName);\r\n\t\t\r\n\tfor(File f: fileList){\r\n\tMatcher matcher = pattern.matcher(f.getName());\r\n\tif(matcher.find()){\r\n\t\t\tcount++;\r\n\t\t}\r\n\t}\r\n\r\nNow in normal course of things this worked fine, say if patternName = &quot;BIRD&quot;, it won&#39;t match against the file list and final value of \r\n                                                                             \r\n     count will be 0\r\nbut if patternName = &quot;CAR_COMPONENTS&quot;, it results in                         \r\n                  \r\n      count as 2\r\n\r\nSo what I don&#39;t understand is that how come pattern matcher match &quot;CAR_COMPONENTS&quot; with &quot;CAR_COMPONENTS_ADT&quot; and &quot;CAR_COMPONENTS_ADT1&quot;. Even though its a sub string but I am looking for complete match not partial.  \r\n\r\nSuggestions and improvements will be very much welcomed. Thanks in advance\r\n","title":"Java Pattern Matcher Incorrectly matches sub string","body":"<p>I have a list of folders at a particular file path\nand it gives following file listwhen searched through the cod below</p>\n\n<pre><code>File[] fileList = folderListLocation.listFiles(someFileFilter);\n//it gives following list\nfileList=[NUTS, BOLTS, CAR_COMPONENTS_ADT,CAR_COMPONENTS_ADT1, WINDSHIELD]\n</code></pre>\n\n<p>Now I am trying to get a count for folders of one particular name, that means if I use a pattern matcher to look for CAR_COMPONENTS_ADT, it should give me count as 2, if I look for NUTS using pattern matcher, I should get a count as 1</p>\n\n<p>Now I am using following code to match this file list against some patterns in following code</p>\n\n<pre><code> int count=0;\n Pattern pattern = Pattern.compile(patternName);\n\nfor(File f: fileList){\nMatcher matcher = pattern.matcher(f.getName());\nif(matcher.find()){\n        count++;\n    }\n}\n</code></pre>\n\n<p>Now in normal course of things this worked fine, say if patternName = \"BIRD\", it won't match against the file list and final value of </p>\n\n<pre><code> count will be 0\n</code></pre>\n\n<p>but if patternName = \"CAR_COMPONENTS\", it results in                         </p>\n\n<pre><code>  count as 2\n</code></pre>\n\n<p>So what I don't understand is that how come pattern matcher match \"CAR_COMPONENTS\" with \"CAR_COMPONENTS_ADT\" and \"CAR_COMPONENTS_ADT1\". Even though its a sub string but I am looking for complete match not partial.  </p>\n\n<p>Suggestions and improvements will be very much welcomed. Thanks in advance</p>\n"},{"tags":["java","regex","separator"],"comments":[{"owner":{"display_name":"user9755712"},"score":1,"creation_date":1526516470,"post_id":50380810,"comment_id":87779403,"body_markdown":"I am not sure if we even need this method, because if you just use / everywhere, Java will operate correctly on all platforms. There should not be a need to use backslashes in Java filenames.\nIf that&#39;s the case, then why do we even need File. separator anymore?","body":"I am not sure if we even need this method, because if you just use / everywhere, Java will operate correctly on all platforms. There should not be a need to use backslashes in Java filenames. If that&#39;s the case, then why do we even need File. separator anymore?"},{"owner":{"account_id":13201793,"reputation":3606,"user_id":9534819,"display_name":"Matt.G"},"score":0,"creation_date":1526519387,"post_id":50380810,"comment_id":87779903,"body_markdown":"which is the IDE that you use for Java programming? does it support Regex Find and Replace?","body":"which is the IDE that you use for Java programming? does it support Regex Find and Replace?"},{"owner":{"display_name":"user9755712"},"score":0,"creation_date":1526573587,"post_id":50380810,"comment_id":87807952,"body_markdown":"I&#39;m using Eclipse. It supports Regex Find and Replace.","body":"I&#39;m using Eclipse. It supports Regex Find and Replace."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1526699438,"post_id":50380810,"comment_id":87858000,"body_markdown":"Ignore the warning. It&#39;s wrong. `/` is a platform-independent path separator in Java.","body":"Ignore the warning. It&#39;s wrong. <code>&#47;</code> is a platform-independent path separator in Java."}],"answers":[{"tags":[],"owner":{"account_id":13539925,"reputation":71,"user_id":9767930,"display_name":"gorgeousgeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526517047,"creation_date":1526517047,"answer_id":50381732,"question_id":50380810,"body_markdown":"I would try splitting the string at the file separator into an array like so.\r\n\r\n    String str = &quot;/tmp/abc.txt&quot;;\r\n    String result = &quot;&quot;;\r\n    String rgx = &quot;\\\\\\\\|/&quot;;\r\n    String [] arrOfStr = str.split(rgx);;\r\n\r\nThen you can add your `File.separator` back in using a for loop. Like this:\r\n\r\n    \r\n \r\n        for (int i = 1; i &lt; arrOfStr.length ; i++)\r\n            result += File.separator + arrOfStr[i];\r\nI start from index one because the first slash gets doubled in the resulting string.","title":"Create a function for File.separator using Pattern Matcher","body":"<p>I would try splitting the string at the file separator into an array like so.</p>\n\n<pre><code>String str = \"/tmp/abc.txt\";\nString result = \"\";\nString rgx = \"\\\\\\\\|/\";\nString [] arrOfStr = str.split(rgx);;\n</code></pre>\n\n<p>Then you can add your <code>File.separator</code> back in using a for loop. Like this:</p>\n\n<pre><code>    for (int i = 1; i &lt; arrOfStr.length ; i++)\n        result += File.separator + arrOfStr[i];\n</code></pre>\n\n<p>I start from index one because the first slash gets doubled in the resulting string.</p>\n"},{"tags":[],"owner":{"account_id":13201793,"reputation":3606,"user_id":9534819,"display_name":"Matt.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526696753,"creation_date":1526696753,"answer_id":50421251,"question_id":50380810,"body_markdown":"Since this is a one time change, you could use the regex find and replace in Eclipse\r\n\r\nFor the first case:\r\nuse Regex: `^File\\sfileUnsafe\\s=\\snew File\\(\\&quot;(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\&quot;\\);`\r\n\r\nReplace with: `File fileSafe = new File(&quot;${folder1}&quot;+File.separator+&quot;${fileName}${extension}&quot;);`\r\n\r\n[Demo][1]\r\n\r\nFor the second case:\r\nuse Regex: `^File\\sfileUnsafe\\s=\\snew File\\(\\&quot;\\/(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\&quot;\\);`\r\n\r\nReplace with: `File fileSafe = new File(File.separator+&quot;${folder1}&quot;+File.separator+&quot;${fileName}${extension}&quot;);`\r\n\r\n[Demo][2]\r\n\r\nif you have more than one folder, you could continue this pattern and fix them.\r\n\r\nI admit, this is not a clean straight forward way, but will get the job done.\r\n\r\n  [1]: https://regex101.com/r/7C2QRY/1\r\n  [2]: https://regex101.com/r/FBIPs6/1","title":"Create a function for File.separator using Pattern Matcher","body":"<p>Since this is a one time change, you could use the regex find and replace in Eclipse</p>\n\n<p>For the first case:\nuse Regex: <code>^File\\sfileUnsafe\\s=\\snew File\\(\\\"(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\\"\\);</code></p>\n\n<p>Replace with: <code>File fileSafe = new File(\"${folder1}\"+File.separator+\"${fileName}${extension}\");</code></p>\n\n<p><a href=\"https://regex101.com/r/7C2QRY/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>For the second case:\nuse Regex: <code>^File\\sfileUnsafe\\s=\\snew File\\(\\\"\\/(?&lt;folder1&gt;[^\\/]+)\\/(?&lt;fileName&gt;[^\\.]+)(?&lt;extension&gt;\\.\\w{3})\\\"\\);</code></p>\n\n<p>Replace with: <code>File fileSafe = new File(File.separator+\"${folder1}\"+File.separator+\"${fileName}${extension}\");</code></p>\n\n<p><a href=\"https://regex101.com/r/FBIPs6/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>if you have more than one folder, you could continue this pattern and fix them.</p>\n\n<p>I admit, this is not a clean straight forward way, but will get the job done.</p>\n"}],"owner":{"display_name":"user9755712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693129872,"creation_date":1526509802,"question_id":50380810,"body_markdown":"A static analysis tool when running on my java project gives &quot;Portability Flaw In File Separator&quot; error and I need to fix it. In my code, I have fileUnsafe. I want to use a method to convert it into fileSafe (explained below).\r\n\r\n    // Case 1\r\n    //no platform independence, good for Unix systems\r\n    File fileUnsafe = new File(&quot;tmp/abc.txt&quot;);\r\n\r\n    //platform independent and safe to use across Unix and Windows\r\n    File fileSafe = new File(&quot;tmp&quot;+File.separator+&quot;abc.txt&quot;);\r\n\r\nSimilarly for paths like - \r\n\r\n    // Case 2\r\n    //no platform independence, good for Unix systems\r\n    File fileUnsafe = new File(&quot;/tmp/abc.txt&quot;);\r\n\r\n    // platform independent and safe to use across Unix and Windows\r\n    File fileSafe = new File(File.separator+&quot;tmp&quot;+File.separator+&quot;abc.txt&quot;);\r\n\r\nI have multiple of these file addresses throughout my project and I need to create some conversion method that could just take in this path as a string, append File.separator to it, and return it. Something like this -\r\n\r\n    File fileSafe = new File(someConversionMethod(&quot;/tmp/abc.txt&quot;));\r\n\r\nI tried this method but it gives me NullPointerException on case 2. \r\n\r\n    public static String someConversionMethod(String target) {\r\n\t\t\tPattern ptr = Pattern.compile(&quot;[\\\\\\\\\\\\\\\\|/]+&quot;);\r\n\t\t\tMatcher mtr = ptr.matcher(target);\r\n\t\t\treturn mtr.replaceAll(File.separator + &quot;&quot; + File.separator);\r\n\t\t}\r\n\r\nAny help either fixing this method or suggesting a graceful way to handle this situation would be appreciated. \r\n\r\nnit - I referred to https://stackoverflow.com/questions/4767456/replacing-character-with-file-separator-using-java-regex-pattern-matcher but it didn&#39;t really help my case. \r\n","title":"Create a function for File.separator using Pattern Matcher","body":"<p>A static analysis tool when running on my java project gives \"Portability Flaw In File Separator\" error and I need to fix it. In my code, I have fileUnsafe. I want to use a method to convert it into fileSafe (explained below).</p>\n\n<pre><code>// Case 1\n//no platform independence, good for Unix systems\nFile fileUnsafe = new File(\"tmp/abc.txt\");\n\n//platform independent and safe to use across Unix and Windows\nFile fileSafe = new File(\"tmp\"+File.separator+\"abc.txt\");\n</code></pre>\n\n<p>Similarly for paths like - </p>\n\n<pre><code>// Case 2\n//no platform independence, good for Unix systems\nFile fileUnsafe = new File(\"/tmp/abc.txt\");\n\n// platform independent and safe to use across Unix and Windows\nFile fileSafe = new File(File.separator+\"tmp\"+File.separator+\"abc.txt\");\n</code></pre>\n\n<p>I have multiple of these file addresses throughout my project and I need to create some conversion method that could just take in this path as a string, append File.separator to it, and return it. Something like this -</p>\n\n<pre><code>File fileSafe = new File(someConversionMethod(\"/tmp/abc.txt\"));\n</code></pre>\n\n<p>I tried this method but it gives me NullPointerException on case 2. </p>\n\n<pre><code>public static String someConversionMethod(String target) {\n        Pattern ptr = Pattern.compile(\"[\\\\\\\\\\\\\\\\|/]+\");\n        Matcher mtr = ptr.matcher(target);\n        return mtr.replaceAll(File.separator + \"\" + File.separator);\n    }\n</code></pre>\n\n<p>Any help either fixing this method or suggesting a graceful way to handle this situation would be appreciated. </p>\n\n<p>nit - I referred to <a href=\"https://stackoverflow.com/questions/4767456/replacing-character-with-file-separator-using-java-regex-pattern-matcher\">Replacing character with File.separator using java.regex Pattern Matcher</a> but it didn't really help my case. </p>\n"},{"tags":["java","regex","java-8"],"comments":[{"owner":{"account_id":10802634,"reputation":364,"user_id":8603014,"accept_rate":83,"display_name":"mark42inbound"},"score":0,"creation_date":1526284778,"post_id":50321341,"comment_id":87666768,"body_markdown":"According to the code, shouldn&#39;t the output be `&quot;hey.there.man.Acrazy$carlWalletjones&quot;`?","body":"According to the code, shouldn&#39;t the output be <code>&quot;hey.there.man.Acrazy$carlWalletjones&quot;</code>?"}],"answers":[{"comments":[{"owner":{"account_id":13560509,"reputation":21,"user_id":9782416,"display_name":"yoplay one"},"score":0,"creation_date":1526254246,"post_id":50321433,"comment_id":87658896,"body_markdown":"Thank you for this, unfortunately I am locked to java 8","body":"Thank you for this, unfortunately I am locked to java 8"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1526258332,"post_id":50321433,"comment_id":87659469,"body_markdown":"@yoplayone That would have been useful information to have in your original question. I&#39;ll provide a pre-9 alternative.","body":"@yoplayone That would have been useful information to have in your original question. I&#39;ll provide a pre-9 alternative."}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1526326240,"creation_date":1526253494,"answer_id":50321433,"question_id":50321341,"body_markdown":"In order to capture just the right characters you should exclude right curly brace from your group `[^}]+`. In fact it&#39;s better practice to just include the specific pattern you are looking for to catch errors early:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\$\\\\{([a-z]\\\\.[a-z]+)\\\\}&quot;);\r\n\r\nThe method `Matcher.replaceAll‚Äã(Function&lt;MatchResult,String&gt; replacer)` is designed to do exactly what you are asking for. The function passed to the method is given each match and returns a string to replace it with.\r\n\r\nIn your case:\r\n\r\n    pattern.matcher(input).replaceAll(mr -&gt; resolveMatchedValue(mr.group(1)));\r\n\r\nWill return a string with all substrings matching your pattern replaced.\r\n\r\nHere&#39;s a working example that just uppercases the fields:\r\n\r\n    System.out.println(Pattern.compile(&quot;\\\\$\\\\{([[a-z]\\\\.[a-z])\\\\}&quot;)\r\n        .matcher(&quot;hey.there.man.${a.a}crazy$carl${a.b}jones&quot;)\r\n        .replaceAll(mr -&gt; mr.group(1).toUpperCase()));\r\n\r\n----------\r\n\r\n\r\nPrior to Java 9 an equivalent is:\r\n\r\n    StringBuffer result = new StringBuffer();\r\n    while (matcher.find()) {\r\n        matcher.appendReplacement(result, resolvedMatchedValue(matcher.group(1)));\r\n    }\r\n    matcher.appendTail(result);\r\n\r\nAfter which `result.toString()` holds the new string.","title":"Java matcher how to dynamically replace groups based on their value","body":"<p>In order to capture just the right characters you should exclude right curly brace from your group <code>[^}]+</code>. In fact it's better practice to just include the specific pattern you are looking for to catch errors early:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\$\\\\{([a-z]\\\\.[a-z]+)\\\\}\");\n</code></pre>\n\n<p>The method <code>Matcher.replaceAll‚Äã(Function&lt;MatchResult,String&gt; replacer)</code> is designed to do exactly what you are asking for. The function passed to the method is given each match and returns a string to replace it with.</p>\n\n<p>In your case:</p>\n\n<pre><code>pattern.matcher(input).replaceAll(mr -&gt; resolveMatchedValue(mr.group(1)));\n</code></pre>\n\n<p>Will return a string with all substrings matching your pattern replaced.</p>\n\n<p>Here's a working example that just uppercases the fields:</p>\n\n<pre><code>System.out.println(Pattern.compile(\"\\\\$\\\\{([[a-z]\\\\.[a-z])\\\\}\")\n    .matcher(\"hey.there.man.${a.a}crazy$carl${a.b}jones\")\n    .replaceAll(mr -&gt; mr.group(1).toUpperCase()));\n</code></pre>\n\n<hr>\n\n<p>Prior to Java 9 an equivalent is:</p>\n\n<pre><code>StringBuffer result = new StringBuffer();\nwhile (matcher.find()) {\n    matcher.appendReplacement(result, resolvedMatchedValue(matcher.group(1)));\n}\nmatcher.appendTail(result);\n</code></pre>\n\n<p>After which <code>result.toString()</code> holds the new string.</p>\n"}],"owner":{"account_id":13560509,"reputation":21,"user_id":9782416,"display_name":"yoplay one"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1911,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693129837,"creation_date":1526252516,"question_id":50321341,"body_markdown":"For a quick sample, I have the following string:\r\n\r\n    String s = &quot;hey.there.man.${a.a}crazy$carl${a.b}jones\r\n\r\nI also have the following method:\r\n\r\n    private String resolveMatchedValue(String s) {\r\n        if(s.equals(&quot;a.a&quot;)) {\r\n               return &quot;A&quot;;\r\n        else if(s.equals(&quot;a.b&quot;)) { \r\n               return &quot;Wallet&quot;;\r\n        else if(.....\r\n        ....\r\n     }\r\n\r\nMy pattern would be\r\n  \r\n     Pattern pattern = Pattern.compile(&quot;\\\\$\\\\{(.*?)\\\\}&quot;);\r\n\r\nSo for every substring in s that matches ${.*} I want there to be a call to the resolveMatchedValue method and it should be replaced with that. So ideally after the regex process s should be\r\n\r\n     s = &quot;hey.there.man.Acrazy$carl$Walletjones\r\n\r\nI&#39;ve looked at similar solutions but nothing that dynamically replaces the matched values based on the matched value, and have not been able to get it to work\r\n\r\nedit: using java8\r\n","title":"Java matcher how to dynamically replace groups based on their value","body":"<p>For a quick sample, I have the following string:</p>\n\n<pre><code>String s = \"hey.there.man.${a.a}crazy$carl${a.b}jones\n</code></pre>\n\n<p>I also have the following method:</p>\n\n<pre><code>private String resolveMatchedValue(String s) {\n    if(s.equals(\"a.a\")) {\n           return \"A\";\n    else if(s.equals(\"a.b\")) { \n           return \"Wallet\";\n    else if(.....\n    ....\n }\n</code></pre>\n\n<p>My pattern would be</p>\n\n<pre><code> Pattern pattern = Pattern.compile(\"\\\\$\\\\{(.*?)\\\\}\");\n</code></pre>\n\n<p>So for every substring in s that matches ${.*} I want there to be a call to the resolveMatchedValue method and it should be replaced with that. So ideally after the regex process s should be</p>\n\n<pre><code> s = \"hey.there.man.Acrazy$carl$Walletjones\n</code></pre>\n\n<p>I've looked at similar solutions but nothing that dynamically replaces the matched values based on the matched value, and have not been able to get it to work</p>\n\n<p>edit: using java8</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"score":0,"creation_date":1525963540,"post_id":50275589,"comment_id":87567786,"body_markdown":"`Expected Output : acds` should be `acs` cause `d` is on even position.","body":"<code>Expected Output : acds</code> should be <code>acs</code> cause <code>d</code> is on even position."},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525963650,"post_id":50275589,"comment_id":87567865,"body_markdown":"it&#39;s not on position but on the length of the pattern matched - even or odd. The length of the substring with successively repeated &#39;d&#39;-s is 3 which is odd, so it should be replaced with the group &#39;d&#39;","body":"it&#39;s not on position but on the length of the pattern matched - even or odd. The length of the substring with successively repeated &#39;d&#39;-s is 3 which is odd, so it should be replaced with the group &#39;d&#39;"},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525964353,"post_id":50275589,"comment_id":87568337,"body_markdown":"The code is skipping the first three patterns and only substituting from ddd the last match. That&#39;s the problem that I am facing. Because I called m.find() only once and then I am calling m.group(i) and that was not my expectation as well","body":"The code is skipping the first three patterns and only substituting from ddd the last match. That&#39;s the problem that I am facing. Because I called m.find() only once and then I am calling m.group(i) and that was not my expectation as well"}],"answers":[{"comments":[{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525964209,"post_id":50275788,"comment_id":87568248,"body_markdown":"Yes the s can be in the middle or anywhere","body":"Yes the s can be in the middle or anywhere"},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525964656,"post_id":50275788,"comment_id":87568528,"body_markdown":"Ok got it ! My mistake was I was assuming that the group will return all the patterns matched one by one but it&#39;s only meant for the parenthesis bound parts in the regex - only 1 or 2 instead of m.group(i). Thanks a lot","body":"Ok got it ! My mistake was I was assuming that the group will return all the patterns matched one by one but it&#39;s only meant for the parenthesis bound parts in the regex - only 1 or 2 instead of m.group(i). Thanks a lot"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1525965317,"post_id":50275788,"comment_id":87568939,"body_markdown":"Lot of code for something that can be done in a single `replaceAll` method call :)","body":"Lot of code for something that can be done in a single <code>replaceAll</code> method call :)"},{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525966677,"post_id":50275788,"comment_id":87569740,"body_markdown":"But I was trying to use the Pattern + Matcher to see how the single-line regex replacement can be converted into Java code. The problem complexity was not the question. :)","body":"But I was trying to use the Pattern + Matcher to see how the single-line regex replacement can be converted into Java code. The problem complexity was not the question. :)"}],"tags":[],"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525964247,"creation_date":1525964023,"answer_id":50275788,"question_id":50275589,"body_markdown":"You can try like that:\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;aaabbcccddds&quot;;\r\n        StringBuffer output = new StringBuffer();\r\n        Pattern repeatedChars = Pattern.compile(&quot;(\\\\w)(\\\\1+)&quot;);\r\n        Matcher m = repeatedChars.matcher(s);\r\n        while(m.find()) {\r\n            if(m.group(2).length()%2!=0)\r\n                m.appendReplacement(output, &quot;&quot;);\r\n            else\r\n                m.appendReplacement(output, &quot;$1&quot;);\r\n        }\r\n        m.appendTail(output);\r\n        System.out.println(output);\r\n    }\r\n\r\nIt is similar to yours but when getting just the first group you match the first character and your length is always 0. That&#39;s why I introduce a second group which is the matched adjacent characters. Since it has length of -1 I reverse the odd even logic and voila -\r\n\r\n&gt; acds\r\n\r\nis printed. ","title":"Java Regex Matcher skipping the matches","body":"<p>You can try like that:</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"aaabbcccddds\";\n    StringBuffer output = new StringBuffer();\n    Pattern repeatedChars = Pattern.compile(\"(\\\\w)(\\\\1+)\");\n    Matcher m = repeatedChars.matcher(s);\n    while(m.find()) {\n        if(m.group(2).length()%2!=0)\n            m.appendReplacement(output, \"\");\n        else\n            m.appendReplacement(output, \"$1\");\n    }\n    m.appendTail(output);\n    System.out.println(output);\n}\n</code></pre>\n\n<p>It is similar to yours but when getting just the first group you match the first character and your length is always 0. That's why I introduce a second group which is the matched adjacent characters. Since it has length of -1 I reverse the odd even logic and voila -</p>\n\n<blockquote>\n  <p>acds</p>\n</blockquote>\n\n<p>is printed. </p>\n"},{"comments":[{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525965426,"post_id":50275917,"comment_id":87569005,"body_markdown":"This one works as well and regex-wise it is a better solution. I would have accepted this as an answer as well but since I was looking for something using Java Pattern Matcher. Anyway, upvoted ! Thanks a lot for your quick and correct reply","body":"This one works as well and regex-wise it is a better solution. I would have accepted this as an answer as well but since I was looking for something using Java Pattern Matcher. Anyway, upvoted ! Thanks a lot for your quick and correct reply"},{"owner":{"account_id":1007076,"reputation":48143,"user_id":1020526,"accept_rate":73,"display_name":"revo"},"score":0,"creation_date":1525966106,"post_id":50275917,"comment_id":87569415,"body_markdown":"You&#39;re welcome. I included a solution based on that.","body":"You&#39;re welcome. I included a solution based on that."}],"tags":[],"owner":{"account_id":1007076,"reputation":48143,"user_id":1020526,"accept_rate":73,"display_name":"revo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525966069,"creation_date":1525964447,"answer_id":50275917,"question_id":50275589,"body_markdown":"You don&#39;t need multiple if statements. Try:\r\n\r\n    (?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\r\n\r\nReplace with `$1`\r\n\r\n[Regex live demo][1]\r\n\r\nJava code:\r\n\r\n    str.replaceAll(&quot;(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)&quot;, &quot;$1&quot;);\r\n\r\n[Java live demo][2]\r\n\r\nRegex breakdown:\r\n\r\n - `(?:` Start of non-capturing group\r\n\t - `(\\\\w)` Capture a word character\r\n\t - `(?:\\\\1\\\\1)+` Match an even number of same character\r\n\t - `|` Or\r\n\t - `(\\\\w)` Capture a word character\r\n\t - `\\\\2+` Match any number of same character\r\n - `)` End of non-capturing group\r\n - `(?!\\\\1|\\\\2)` Not followed by previous captured characters\r\n\r\nUsing `Pattern` and `Matcher` with `StringBuffer`:\r\n\r\n    StringBuffer output = new StringBuffer();\r\n    Pattern repeatedChars = Pattern.compile(&quot;(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)&quot;);\r\n    Matcher m = repeatedChars.matcher(s);\r\n    while(m.find()) m.appendReplacement(output, &quot;$1&quot;);\r\n    m.appendTail(output);\r\n    System.out.println(output);\r\n\r\n  [1]: https://regex101.com/r/L7Ga3Y/1\r\n  [2]: https://ideone.com/wHokyk","title":"Java Regex Matcher skipping the matches","body":"<p>You don't need multiple if statements. Try:</p>\n\n<pre><code>(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\n</code></pre>\n\n<p>Replace with <code>$1</code></p>\n\n<p><a href=\"https://regex101.com/r/L7Ga3Y/1\" rel=\"nofollow noreferrer\">Regex live demo</a></p>\n\n<p>Java code:</p>\n\n<pre><code>str.replaceAll(\"(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\", \"$1\");\n</code></pre>\n\n<p><a href=\"https://ideone.com/wHokyk\" rel=\"nofollow noreferrer\">Java live demo</a></p>\n\n<p>Regex breakdown:</p>\n\n<ul>\n<li><code>(?:</code> Start of non-capturing group\n\n<ul>\n<li><code>(\\\\w)</code> Capture a word character</li>\n<li><code>(?:\\\\1\\\\1)+</code> Match an even number of same character</li>\n<li><code>|</code> Or</li>\n<li><code>(\\\\w)</code> Capture a word character</li>\n<li><code>\\\\2+</code> Match any number of same character</li>\n</ul></li>\n<li><code>)</code> End of non-capturing group</li>\n<li><code>(?!\\\\1|\\\\2)</code> Not followed by previous captured characters</li>\n</ul>\n\n<p>Using <code>Pattern</code> and <code>Matcher</code> with <code>StringBuffer</code>:</p>\n\n<pre><code>StringBuffer output = new StringBuffer();\nPattern repeatedChars = Pattern.compile(\"(?:(\\\\w)(?:\\\\1\\\\1)+|(\\\\w)\\\\2+)(?!\\\\1|\\\\2)\");\nMatcher m = repeatedChars.matcher(s);\nwhile(m.find()) m.appendReplacement(output, \"$1\");\nm.appendTail(output);\nSystem.out.println(output);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"score":0,"creation_date":1525965560,"post_id":50275968,"comment_id":87569093,"body_markdown":"This one works good as well. Have upvoted. Looking to use the Java Pattern Matcher. Thanks for your answer.","body":"This one works good as well. Have upvoted. Looking to use the Java Pattern Matcher. Thanks for your answer."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1525965632,"post_id":50275968,"comment_id":87569135,"body_markdown":"It is easy to translate this code to use `Pattern + Matcher`. I will update, it still be very short code.","body":"It is easy to translate this code to use <code>Pattern + Matcher</code>. I will update, it still be very short code."},{"owner":{"account_id":1007076,"reputation":48143,"user_id":1020526,"accept_rate":73,"display_name":"revo"},"score":0,"creation_date":1525965989,"post_id":50275968,"comment_id":87569347,"body_markdown":"Does this include both even and odd number of repetitions?","body":"Does this include both even and odd number of repetitions?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1525966057,"post_id":50275968,"comment_id":87569379,"body_markdown":"Yes of course, you can check linked demo or run this code on different outputs.","body":"Yes of course, you can check linked demo or run this code on different outputs."},{"owner":{"account_id":1007076,"reputation":48143,"user_id":1020526,"accept_rate":73,"display_name":"revo"},"score":1,"creation_date":1525966348,"post_id":50275968,"comment_id":87569555,"body_markdown":"I didn&#39;t pay attention at first. Totally missed the logic. I feel so long when I compare both of our solutions. @somnathchakrabarti I encourage you to accept this one as the only right solution.","body":"I didn&#39;t pay attention at first. Totally missed the logic. I feel so long when I compare both of our solutions. @somnathchakrabarti I encourage you to accept this one as the only right solution."}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525965823,"creation_date":1525964601,"answer_id":50275968,"question_id":50275589,"body_markdown":"This can be done in a single `replaceAll` call like this:\r\n\r\n    String repl = str.replaceAll( &quot;(?:(.)\\\\1)+&quot;, &quot;&quot; );\r\n\r\nRegex expression `(?:(.)\\\\1)+` matches all occurrences of even repetitions and replaces it with empty string this leaving us with first character of odd number of repetitions.\r\n\r\n[RegEx Demo][1]\r\n\r\n---\r\n\r\nCode using `Pattern` and `Matcher`:\r\n\r\n\tfinal Pattern p = Pattern.compile( &quot;(?:(.)\\\\1)+&quot; );\r\n\tMatcher m = p.matcher( &quot;aaabbcccddds&quot; );\r\n\tString repl = m.replaceAll( &quot;&quot; );\r\n\t//=&gt; acds\r\n\r\n  [1]: https://regex101.com/r/7kDuwG/1","title":"Java Regex Matcher skipping the matches","body":"<p>This can be done in a single <code>replaceAll</code> call like this:</p>\n\n<pre><code>String repl = str.replaceAll( \"(?:(.)\\\\1)+\", \"\" );\n</code></pre>\n\n<p>Regex expression <code>(?:(.)\\\\1)+</code> matches all occurrences of even repetitions and replaces it with empty string this leaving us with first character of odd number of repetitions.</p>\n\n<p><a href=\"https://regex101.com/r/7kDuwG/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n\n<hr>\n\n<p>Code using <code>Pattern</code> and <code>Matcher</code>:</p>\n\n<pre><code>final Pattern p = Pattern.compile( \"(?:(.)\\\\1)+\" );\nMatcher m = p.matcher( \"aaabbcccddds\" );\nString repl = m.replaceAll( \"\" );\n//=&gt; acds\n</code></pre>\n"}],"owner":{"account_id":765834,"reputation":3026,"user_id":786676,"accept_rate":75,"display_name":"somnathchakrabarti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50275968,"answer_count":3,"score":1,"last_activity_date":1693129824,"creation_date":1525963385,"question_id":50275589,"body_markdown":"Below is my Java code to delete all pair of adjacent letters that match, but I am getting some problems with the Java Matcher class.\r\n\r\n&gt; My Approach\r\n\r\nI am trying to find all successive repeated characters in the input e.g.\r\n\r\n    aaa, bb, ccc, ddd\r\n\r\nNext replace the odd length match with the last matched pattern and even length match with `&quot;&quot;` i.e.\r\n\r\n    aaa -&gt; a\r\n    bb -&gt; &quot;&quot;\r\n    ccc -&gt; c\r\n    ddd -&gt; d\r\n    s has single occurrence, so it&#39;s not matched by the regex pattern and excluded from the substitution\r\n\r\nI am calling `Matcher.appendReplacement` to do conditional replacement of the patterns matched in input, based on the group length (even or odd).\r\n\r\n&gt; Code:\r\n\r\n    public static void main(String[] args) {\r\n            String s = &quot;aaabbcccddds&quot;;\r\n            int i=0;\r\n            StringBuffer output = new StringBuffer();\r\n            Pattern repeatedChars = Pattern.compile(&quot;([a-z])\\\\1+&quot;);\r\n            Matcher m = repeatedChars.matcher(s);\r\n            while(m.find()) {\r\n            \tif(m.group(i).length()%2==0)\r\n            \t\tm.appendReplacement(output, &quot;&quot;);\r\n            \telse\r\n            \t\tm.appendReplacement(output, &quot;$1&quot;);\r\n            \ti++;\r\n            }\r\n            m.appendTail(output);\r\n            System.out.println(output);\r\n        }\r\n\r\n\r\nInput : `aaabbcccddds`\r\n\r\nActual Output : `aaabbcccds` (only replacing `ddd` with `d` but skipping `aaa`, `bb` and `ccc`)\r\n\r\nExpected Output : `acds`","title":"Java Regex Matcher skipping the matches","body":"<p>Below is my Java code to delete all pair of adjacent letters that match, but I am getting some problems with the Java Matcher class.</p>\n\n<blockquote>\n  <p>My Approach</p>\n</blockquote>\n\n<p>I am trying to find all successive repeated characters in the input e.g.</p>\n\n<pre><code>aaa, bb, ccc, ddd\n</code></pre>\n\n<p>Next replace the odd length match with the last matched pattern and even length match with <code>\"\"</code> i.e.</p>\n\n<pre><code>aaa -&gt; a\nbb -&gt; \"\"\nccc -&gt; c\nddd -&gt; d\ns has single occurrence, so it's not matched by the regex pattern and excluded from the substitution\n</code></pre>\n\n<p>I am calling <code>Matcher.appendReplacement</code> to do conditional replacement of the patterns matched in input, based on the group length (even or odd).</p>\n\n<blockquote>\n  <p>Code:</p>\n</blockquote>\n\n<pre><code>public static void main(String[] args) {\n        String s = \"aaabbcccddds\";\n        int i=0;\n        StringBuffer output = new StringBuffer();\n        Pattern repeatedChars = Pattern.compile(\"([a-z])\\\\1+\");\n        Matcher m = repeatedChars.matcher(s);\n        while(m.find()) {\n            if(m.group(i).length()%2==0)\n                m.appendReplacement(output, \"\");\n            else\n                m.appendReplacement(output, \"$1\");\n            i++;\n        }\n        m.appendTail(output);\n        System.out.println(output);\n    }\n</code></pre>\n\n<p>Input : <code>aaabbcccddds</code></p>\n\n<p>Actual Output : <code>aaabbcccds</code> (only replacing <code>ddd</code> with <code>d</code> but skipping <code>aaa</code>, <code>bb</code> and <code>ccc</code>)</p>\n\n<p>Expected Output : <code>acds</code></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1524503419,"post_id":49986202,"comment_id":86989257,"body_markdown":"Show the code you wrote to validate the input and perform the extraction. How can anyone suggest improvements without seeing what you did?","body":"Show the code you wrote to validate the input and perform the extraction. How can anyone suggest improvements without seeing what you did?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1524503485,"post_id":49986202,"comment_id":86989299,"body_markdown":"This sounds like a &quot;write my code for me&quot; request...","body":"This sounds like a &quot;write my code for me&quot; request..."},{"owner":{"account_id":11012983,"reputation":3516,"user_id":8089674,"display_name":"Robo Mop"},"score":0,"creation_date":1524504519,"post_id":49986202,"comment_id":86989828,"body_markdown":"What is the purpose of `LOG_TYPE` before `field5 {value5}`?","body":"What is the purpose of <code>LOG_TYPE</code> before <code>field5 {value5}</code>?"},{"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"score":0,"creation_date":1524509919,"post_id":49986202,"comment_id":86992520,"body_markdown":"@skomisa, I have written code using String.split()  and substring() methods, but the performance will be slow If we use these compared to regex.","body":"@skomisa, I have written code using String.split()  and substring() methods, but the performance will be slow If we use these compared to regex."},{"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"score":0,"creation_date":1524510101,"post_id":49986202,"comment_id":86992606,"body_markdown":"@CoffeehouseCoder LOG_TYPE is telling the category of log line","body":"@CoffeehouseCoder LOG_TYPE is telling the category of log line"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1524510326,"post_id":49986202,"comment_id":86992738,"body_markdown":"@pbajpai21 You may well be correct that your approach is slower that using a regex, but you should still present what you have attempted. Otherwise, as someone else has pointed out, your post simply sounds like a &quot;write my code for me&quot; request. You should show that you have made some effort or you risk having your post removed.","body":"@pbajpai21 You may well be correct that your approach is slower that using a regex, but you should still present what you have attempted. Otherwise, as someone else has pointed out, your post simply sounds like a &quot;write my code for me&quot; request. You should show that you have made some effort or you risk having your post removed."},{"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"score":0,"creation_date":1524510521,"post_id":49986202,"comment_id":86992852,"body_markdown":"@skomisa I agree with your point, thanks for your suggestion, I will post my code by tomorrow as Now I don&#39;t have access to it.","body":"@skomisa I agree with your point, thanks for your suggestion, I will post my code by tomorrow as Now I don&#39;t have access to it."}],"answers":[{"comments":[{"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"score":0,"creation_date":1524510043,"post_id":49986794,"comment_id":86992583,"body_markdown":"Thanks for you answer, but how will I get the value of logLineType which is LOG_TYPE in input string.","body":"Thanks for you answer, but how will I get the value of logLineType which is LOG_TYPE in input string."},{"owner":{"account_id":8722183,"reputation":506,"user_id":6524969,"accept_rate":67,"display_name":"Vin&#237;cius Biavatti"},"score":0,"creation_date":1526557199,"post_id":49986794,"comment_id":87796518,"body_markdown":"You will need to change de regex to get this case, but with your log pattern, it will be a little hard. I think this log would have to be checked to find a good pattern to interate on these lines.","body":"You will need to change de regex to get this case, but with your log pattern, it will be a little hard. I think this log would have to be checked to find a good pattern to interate on these lines."}],"tags":[],"owner":{"account_id":8722183,"reputation":506,"user_id":6524969,"accept_rate":67,"display_name":"Vin&#237;cius Biavatti"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524504547,"creation_date":1524504547,"answer_id":49986794,"question_id":49986202,"body_markdown":"This is some example that you can use to read the log file and split the string. I have no idea if the log file has some pattern, but if not, this can solve your problem.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StackOver {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t// Log File Content\r\n    \t\tString LOG_FILE_CONTENT = &quot;Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}&quot;;\r\n    \t\t\r\n    \t\t// Regex\r\n    \t\tString pattern = &quot;([a-zA-Z0-9]+)(\\\\s+)(\\\\{[a-zA-Z0-9]+)(\\\\})&quot;;\r\n    \t\tPattern p = Pattern.compile(pattern);\r\n    \t\tMatcher m = p.matcher(LOG_FILE_CONTENT);\r\n    \t\t\r\n    \t\t// Mapper\r\n    \t\tParserResult pr = new ParserResult();\r\n    \t\tpr.fieldValueMap = new HashMap&lt;&gt;();\r\n    \t\twhile(m.find()){\r\n    \t\t\tString group = m.group();\r\n    \t\t\tpr.fieldValueMap.put(group.split(&quot; &quot;)[0], group.split(&quot; &quot;)[1]);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpr.fieldValueMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class ParserResult {\r\n    \tString logLineType;\r\n    \tMap&lt;String, String&gt; fieldValueMap;\r\n    }\r\n\r\nThe output is:\r\n&lt;pre&gt;\r\n\r\n    field5 -&gt; {value5}\r\n    field4 -&gt; {value4}\r\n    field7 -&gt; {value7}\r\n    field6 -&gt; {value6}\r\n    Level -&gt; {INFO}\r\n    field1 -&gt; {value1}\r\n    field3 -&gt; {value3}\r\n    field2 -&gt; {value2}\r\n\r\n&lt;/pre&gt;\r\n","title":"Get field value pair from a log line in java where value is in curly braces","body":"<p>This is some example that you can use to read the log file and split the string. I have no idea if the log file has some pattern, but if not, this can solve your problem.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StackOver {\n\n    public static void main(String[] args) {\n\n        // Log File Content\n        String LOG_FILE_CONTENT = \"Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}\";\n\n        // Regex\n        String pattern = \"([a-zA-Z0-9]+)(\\\\s+)(\\\\{[a-zA-Z0-9]+)(\\\\})\";\n        Pattern p = Pattern.compile(pattern);\n        Matcher m = p.matcher(LOG_FILE_CONTENT);\n\n        // Mapper\n        ParserResult pr = new ParserResult();\n        pr.fieldValueMap = new HashMap&lt;&gt;();\n        while(m.find()){\n            String group = m.group();\n            pr.fieldValueMap.put(group.split(\" \")[0], group.split(\" \")[1]);\n        }\n\n        pr.fieldValueMap.forEach((k, v) -&gt; System.out.println(k + \" -&gt; \" + v));\n    }\n\n}\n\nclass ParserResult {\n    String logLineType;\n    Map&lt;String, String&gt; fieldValueMap;\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre>\n\n    field5 -> {value5}\n    field4 -> {value4}\n    field7 -> {value7}\n    field6 -> {value6}\n    Level -> {INFO}\n    field1 -> {value1}\n    field3 -> {value3}\n    field2 -> {value2}\n\n</pre>\n"}],"owner":{"account_id":4023304,"reputation":1329,"user_id":3312691,"accept_rate":64,"display_name":"pbajpai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":49986794,"answer_count":1,"score":-3,"last_activity_date":1693129817,"creation_date":1524502308,"question_id":49986202,"body_markdown":"I tried and googled to solve it but didn&#39;t find any solution.\r\nI have to parse log line and extract map of field-value from it. Somewhere in log line there is log line type also.\r\nI need to return a Java object which is composing of the log line type and a Map of field-value.\r\n\r\nFor ex - Suppose below logline:\r\n\r\n    Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}\r\n\r\nThe expected output should be a java object of below class type:\r\n\r\n    class ParserResult {\r\n    \tString logLineType;\r\n    \tMap&lt;String, String&gt; fieldValueMap;\r\n    }\r\nResult object:\r\n\r\n    {\r\n    \tlogLineType = &quot;LOG_TYPE&quot;,\r\n    \tfieldValueMap = [{&quot;Level&quot;:&quot;INFO&quot;}, {&quot;field1&quot;:&quot;value1&quot;}, {&quot;field2&quot;:&quot;value2&quot;}, {&quot;field3&quot;:&quot;value3&quot;}, {&quot;field4&quot;:&quot;value4&quot;}, {&quot;field5&quot;:&quot;value5&quot;}, {&quot;field6&quot;:&quot;value6&quot;}, {&quot;field7&quot;:&quot;value7&quot;}]\r\n    }\r\n\r\nThe java method signature is as below:\r\n\r\n    ParserResult parseLogLine(String logLine) {\r\n    \t// parse log line and create ParserResult object\r\n    \treturn ParserResultObject;\r\n    \r\n    }\r\n\r\nI am able to write regex to validate the input string and can also extract the field-value pair by using String class methods but It will not be very efficient for my use-case as I have to parse thousands of log lines.  \r\nThere may be some way to implement this using Regex, and Patterns and Matcher classes in java.\r\nCan somebody please suggest some way of doing this ?\r\n\r\n ","title":"Get field value pair from a log line in java where value is in curly braces","body":"<p>I tried and googled to solve it but didn't find any solution.\nI have to parse log line and extract map of field-value from it. Somewhere in log line there is log line type also.\nI need to return a Java object which is composing of the log line type and a Map of field-value.</p>\n\n<p>For ex - Suppose below logline:</p>\n\n<pre><code>Level {INFO} field1 {value1} field2 {value2} field3 {value3} field4 {value4} LOG_TYPE field5 {value5} field6 {value6} field7 {value7}\n</code></pre>\n\n<p>The expected output should be a java object of below class type:</p>\n\n<pre><code>class ParserResult {\n    String logLineType;\n    Map&lt;String, String&gt; fieldValueMap;\n}\n</code></pre>\n\n<p>Result object:</p>\n\n<pre><code>{\n    logLineType = \"LOG_TYPE\",\n    fieldValueMap = [{\"Level\":\"INFO\"}, {\"field1\":\"value1\"}, {\"field2\":\"value2\"}, {\"field3\":\"value3\"}, {\"field4\":\"value4\"}, {\"field5\":\"value5\"}, {\"field6\":\"value6\"}, {\"field7\":\"value7\"}]\n}\n</code></pre>\n\n<p>The java method signature is as below:</p>\n\n<pre><code>ParserResult parseLogLine(String logLine) {\n    // parse log line and create ParserResult object\n    return ParserResultObject;\n\n}\n</code></pre>\n\n<p>I am able to write regex to validate the input string and can also extract the field-value pair by using String class methods but It will not be very efficient for my use-case as I have to parse thousands of log lines.<br>\nThere may be some way to implement this using Regex, and Patterns and Matcher classes in java.\nCan somebody please suggest some way of doing this ?</p>\n"},{"tags":["java","regex","string","extract"],"comments":[{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1524029354,"post_id":49891745,"comment_id":86799167,"body_markdown":"You have to define the rule before using matcher.","body":"You have to define the rule before using matcher."},{"owner":{"account_id":11643527,"reputation":304,"user_id":8527195,"accept_rate":75,"display_name":"MrMinemeet"},"score":0,"creation_date":1524029598,"post_id":49891745,"comment_id":86799252,"body_markdown":"@AniketSahrawat but that i asked there is to replace the text...","body":"@AniketSahrawat but that i asked there is to replace the text..."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1524030593,"post_id":49891745,"comment_id":86799639,"body_markdown":"@MrMinemeet I have retracted the close vote.","body":"@MrMinemeet I have retracted the close vote."}],"answers":[{"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1524034337,"post_id":49891903,"comment_id":86801543,"body_markdown":"I think `(?&lt;=/product/)[^/]+` would be better. With `matcher.find()` in place of `matcher.matches()` and `Syso(matcher.group(0))`","body":"I think <code>(?&lt;=&#47;product&#47;)[^&#47;]+</code> would be better. With <code>matcher.find()</code> in place of <code>matcher.matches()</code> and <code>Syso(matcher.group(0))</code>"}],"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1524029736,"creation_date":1524029736,"answer_id":49891903,"question_id":49891745,"body_markdown":"Use `group(1)` to retrive the text between `product/` and `/ref`:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Pattern pattern = Pattern.compile(&quot;.*product/(.*)/ref.*&quot;);\r\n            Matcher matcher = pattern.matcher(&quot;https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1&quot;);\r\n            if (matcher.matches()) {\r\n                System.out.println(matcher.group(1));\r\n            }\r\n        }\r\n    }","title":"Extract certain string from other string","body":"<p>Use <code>group(1)</code> to retrive the text between <code>product/</code> and <code>/ref</code>:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        Pattern pattern = Pattern.compile(\".*product/(.*)/ref.*\");\n        Matcher matcher = pattern.matcher(\"https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1\");\n        if (matcher.matches()) {\n            System.out.println(matcher.group(1));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11643527,"reputation":304,"user_id":8527195,"accept_rate":75,"display_name":"MrMinemeet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49891903,"answer_count":1,"score":0,"last_activity_date":1693129808,"creation_date":1524029018,"question_id":49891745,"body_markdown":"I made a project myself where I need to extract a certain string of a URL.\r\nBefore I used\r\n\r\n    Arrays.asList(URL.split(&quot;/&quot;)).get(6);\r\n\r\nbut with this I only can get it, if it is after the 6th **/**. \r\nI knew there is something with **matcher()** but I don&#39;t get it to work.\r\n\r\nFor example:\r\n\r\n    https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1\r\n\r\nI want to extract out the SOMETEXTHERE. But this characters are changing so I can&#39;t just say that it is always the same.\r\nAnd I need the SOMETEXT then in a seperate string.","title":"Extract certain string from other string","body":"<p>I made a project myself where I need to extract a certain string of a URL.\nBefore I used</p>\n\n<pre><code>Arrays.asList(URL.split(\"/\")).get(6);\n</code></pre>\n\n<p>but with this I only can get it, if it is after the 6th <strong>/</strong>. \nI knew there is something with <strong>matcher()</strong> but I don't get it to work.</p>\n\n<p>For example:</p>\n\n<pre><code>https://www.amazon.de/gp/product/SOMETEXTHERE/ref=oh_aui_detailpage_o00_s00?ie=UTF8&amp;psc=1\n</code></pre>\n\n<p>I want to extract out the SOMETEXTHERE. But this characters are changing so I can't just say that it is always the same.\nAnd I need the SOMETEXT then in a seperate string.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":3480698,"reputation":404,"user_id":2912841,"display_name":"nitnamby"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1523116044,"creation_date":1523116044,"answer_id":49709099,"question_id":49709018,"body_markdown":"This should work\r\n\r\n    Pattern.compile(&quot;.*?\\\\[ISOLATION GROUP .*\\\\].*&quot;);","title":"What&#39;s wrong with my RegEx pattern","body":"<p>This should work</p>\n\n<pre><code>Pattern.compile(\".*?\\\\[ISOLATION GROUP .*\\\\].*\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"score":0,"creation_date":1523116664,"post_id":49709107,"comment_id":86431812,"body_markdown":"Thanks. it turns out my real problem was that I didn&#39;t know you have to use m.find() here. I had just if(m.matches()) but that was always false (and is false for your example too). It&#39;s not really clear to me from the documentation of these methods why I would have to do that..","body":"Thanks. it turns out my real problem was that I didn&#39;t know you have to use m.find() here. I had just if(m.matches()) but that was always false (and is false for your example too). It&#39;s not really clear to me from the documentation of these methods why I would have to do that.."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1523116826,"post_id":49709107,"comment_id":86431872,"body_markdown":"Your original pattern is wrong, and wouldn&#39;t work in either case.  I think matches insists on matching the entire input, which isn&#39;t really what we want here.  We want to iterate over the entire text and just find what we are looking for.","body":"Your original pattern is wrong, and wouldn&#39;t work in either case.  I think matches insists on matching the entire input, which isn&#39;t really what we want here.  We want to iterate over the entire text and just find what we are looking for."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1523116915,"creation_date":1523116100,"answer_id":49709107,"question_id":49709018,"body_markdown":"When using a formal pattern matcher in Java, we don&#39;t need to use a pattern which matches the entire input.  Instead, just use the pattern `\\[ISOLATION GROUP ([^\\]]+)` to get all matches:\r\n\r\n    String input = &quot;[ISOLATION GROUP X] blabla&quot;;\r\n    input += &quot;[OTHER FLAG][ISOLATION GROUP Y] blabla&quot;;\r\n    String pattern = &quot;\\\\[ISOLATION GROUP ([^\\\\]]+)&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(input);\r\n    while (m.find()) {\r\n        System.out.println(&quot;Found value: &quot; + m.group(1));\r\n    }\r\n\r\n    Found value: X\r\n    Found value: Y\r\n\r\n[&lt;h2&gt;Demo&lt;/h2&gt;][1]\r\n\r\n\r\n  [1]: http://rextester.com/KWLPVR60188","title":"What&#39;s wrong with my RegEx pattern","body":"<p>When using a formal pattern matcher in Java, we don't need to use a pattern which matches the entire input.  Instead, just use the pattern <code>\\[ISOLATION GROUP ([^\\]]+)</code> to get all matches:</p>\n\n<pre><code>String input = \"[ISOLATION GROUP X] blabla\";\ninput += \"[OTHER FLAG][ISOLATION GROUP Y] blabla\";\nString pattern = \"\\\\[ISOLATION GROUP ([^\\\\]]+)\";\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(input);\nwhile (m.find()) {\n    System.out.println(\"Found value: \" + m.group(1));\n}\n\nFound value: X\nFound value: Y\n</code></pre>\n\n<p><a href=\"http://rextester.com/KWLPVR60188\" rel=\"nofollow noreferrer\"><h2>Demo</h2></a></p>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1523128324,"creation_date":1523128324,"answer_id":49711030,"question_id":49709018,"body_markdown":"You forgot to enclose the characters of the group within braces.\r\n\r\n    .*?\\\\[ISOLATION GROUP (^]+)].*\r\n\r\nshould become     \r\n\r\n    .*?\\\\[ISOLATION GROUP ([^\\\\]]+)\\\\].*\r\n\r\n**[Demo][1]**\r\n\r\n-----\r\n\r\n**Positive lookbehind**\r\n\r\nTry using a positive lookbehind maybe? it is much more easier than your solution I think and you just have to deal with a single group\r\n\r\n    (?&lt;=ISOLATION GROUP\\s)[^\\\\]]+\r\n\r\n\r\n  [1]: https://regex101.com/r/rMbqSj/1\r\n","title":"What&#39;s wrong with my RegEx pattern","body":"<p>You forgot to enclose the characters of the group within braces.</p>\n\n<pre><code>.*?\\\\[ISOLATION GROUP (^]+)].*\n</code></pre>\n\n<p>should become     </p>\n\n<pre><code>.*?\\\\[ISOLATION GROUP ([^\\\\]]+)\\\\].*\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/rMbqSj/1\" rel=\"nofollow noreferrer\">Demo</a></strong></p>\n\n<hr>\n\n<p><strong>Positive lookbehind</strong></p>\n\n<p>Try using a positive lookbehind maybe? it is much more easier than your solution I think and you just have to deal with a single group</p>\n\n<pre><code>(?&lt;=ISOLATION GROUP\\s)[^\\\\]]+\n</code></pre>\n"}],"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":49709107,"answer_count":3,"score":0,"last_activity_date":1693129780,"creation_date":1523115543,"question_id":49709018,"body_markdown":"I have this pattern:\r\n\r\n    Pattern.compile(&quot;.*?\\\\[ISOLATION GROUP (^]+)].*&quot;);\r\n\r\nI assumed this would match, for example, these two strings:\r\n\r\n    &quot;[ISOLATION GROUP X] blabla&quot;\r\n    &quot;[OTHER FLAG][ISOLATION GROUP Y] blabla&quot;\r\n\r\nand then with `group(1)` I could get the name of the isolation group (in the above examples, &quot;X&quot; resp. &quot;Y&quot;)\r\n\r\nHowever the `matches()` is not even returning true. Why do these strings not match that pattern, what is wrong with the pattern?\r\n","title":"What&#39;s wrong with my RegEx pattern","body":"<p>I have this pattern:</p>\n\n<pre><code>Pattern.compile(\".*?\\\\[ISOLATION GROUP (^]+)].*\");\n</code></pre>\n\n<p>I assumed this would match, for example, these two strings:</p>\n\n<pre><code>\"[ISOLATION GROUP X] blabla\"\n\"[OTHER FLAG][ISOLATION GROUP Y] blabla\"\n</code></pre>\n\n<p>and then with <code>group(1)</code> I could get the name of the isolation group (in the above examples, \"X\" resp. \"Y\")</p>\n\n<p>However the <code>matches()</code> is not even returning true. Why do these strings not match that pattern, what is wrong with the pattern?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1520602333,"post_id":49194833,"comment_id":85394536,"body_markdown":"`[^a-zA-Z0-9]` will give you all characters not matching the range so: # ^","body":"<code>[^a-zA-Z0-9]</code> will give you all characters not matching the range so: # ^"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520602526,"creation_date":1520602180,"answer_id":49194919,"question_id":49194833,"body_markdown":"You have to iterate over each `char` of the `String` and check one by one : \r\n\r\n    //for-each loop, shorter way\r\n    for (char c : argument.toCharArray()){\r\n        System.out.println(pattern.matcher(c + &quot;&quot;).matches());\r\n    }\r\n\r\n\r\n or\r\n\r\n    //classic for-i loop, with details\r\n    for (int i = 0; i &lt; argument.length(); i++) {\r\n        String charAtI = argument.charAt(i) + &quot;&quot;;\r\n        boolean doesMatch = pattern.matcher(charAtI).matches();\r\n        System.out.println(doesMatch);\r\n    }\r\n\r\n\r\n----------\r\nAlso, when you don&#39;t require it, you can do declaration and give a value at same time : \r\n\r\n    String argument = &quot;#a1^b2&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n","title":"Java Pattern REGEX Where Not Matching","body":"<p>You have to iterate over each <code>char</code> of the <code>String</code> and check one by one : </p>\n\n<pre><code>//for-each loop, shorter way\nfor (char c : argument.toCharArray()){\n    System.out.println(pattern.matcher(c + \"\").matches());\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>//classic for-i loop, with details\nfor (int i = 0; i &lt; argument.length(); i++) {\n    String charAtI = argument.charAt(i) + \"\";\n    boolean doesMatch = pattern.matcher(charAtI).matches();\n    System.out.println(doesMatch);\n}\n</code></pre>\n\n<hr>\n\n<p>Also, when you don't require it, you can do declaration and give a value at same time : </p>\n\n<pre><code>String argument = \"#a1^b2\";\nPattern pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1520602443,"post_id":49194946,"comment_id":85394603,"body_markdown":"Check condition to print boolean can be simplified as basic `while (matcher.find()) {   System.out.println(matcher.group(1) == null); }`","body":"Check condition to print boolean can be simplified as basic <code>while (matcher.find()) {   System.out.println(matcher.group(1) == null); }</code>"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1520602526,"post_id":49194946,"comment_id":85394649,"body_markdown":"@azro Yes, I just thought that a custom string might be necessary, if true or false are the only values needed then sure.","body":"@azro Yes, I just thought that a custom string might be necessary, if true or false are the only values needed then sure."},{"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"score":0,"creation_date":1520603940,"post_id":49194946,"comment_id":85395560,"body_markdown":"I like this answer a lot but I have a question about the group, if I create two groups &quot;([a-zA-Z]|[0-9]|\\\\s)|(.)&quot; for clarity, why does matcher.group(2) not give me every character in the loop?","body":"I like this answer a lot but I have a question about the group, if I create two groups &quot;([a-zA-Z]|[0-9]|\\\\s)|(.)&quot; for clarity, why does matcher.group(2) not give me every character in the loop?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1520604029,"post_id":49194946,"comment_id":85395615,"body_markdown":"@Trent Because Group 1 will hold them. The regex is basically tokenizing a string into 2  types of chars, those you want to be labelled as *true* and those that must be *false*.","body":"@Trent Because Group 1 will hold them. The regex is basically tokenizing a string into 2  types of chars, those you want to be labelled as <i>true</i> and those that must be <i>false</i>."},{"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"score":0,"creation_date":1520604151,"post_id":49194946,"comment_id":85395685,"body_markdown":"Ok, so anything that matches for group 1 can&#39;t match twice and won&#39;t match in group 2 as well?","body":"Ok, so anything that matches for group 1 can&#39;t match twice and won&#39;t match in group 2 as well?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1520605089,"post_id":49194946,"comment_id":85396263,"body_markdown":"@Trent Sorry, I do not get you. If you just want to print the match print it with `matcher.group(0)`.","body":"@Trent Sorry, I do not get you. If you just want to print the match print it with <code>matcher.group(0)</code>."},{"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"score":1,"creation_date":1520605279,"post_id":49194946,"comment_id":85396391,"body_markdown":"It&#39;s ok, I&#39;m to tinker a bit but this answer is perfect for what I need, thanks a bunch","body":"It&#39;s ok, I&#39;m to tinker a bit but this answer is perfect for what I need, thanks a bunch"}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1520602592,"creation_date":1520602265,"answer_id":49194946,"question_id":49194833,"body_markdown":"You may add a `|(.)` alternative to your pattern (to match any char but a line break char) and check if Group 1 matched upon each match. If yes, output *false*, else, output *true*:\r\n\r\n\tString argument = &quot;#a1^b2&quot;;\r\n\tPattern pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s|(.)&quot;); // or &quot;[a-zA-Z0-9\\\\s]|(.)&quot;\r\n\tMatcher matcher = pattern.matcher(argument);\r\n\t\r\n\twhile(matcher.find()) {                           // find all matching characters\r\n\t\tSystem.out.println(matcher.group(1) == null);\r\n\r\n\r\nSee the [Java demo][1], output:\r\n\r\n    false\r\n    true\r\n    true\r\n    false\r\n    true\r\n    true\r\n\r\nNote you do not need to use a `Pattern.DOTALL` here, because `\\s` in your &quot;whitelist&quot; part of the pattern matches line breaks.\r\n\r\n\r\n  [1]: https://ideone.com/tGbefs","title":"Java Pattern REGEX Where Not Matching","body":"<p>You may add a <code>|(.)</code> alternative to your pattern (to match any char but a line break char) and check if Group 1 matched upon each match. If yes, output <em>false</em>, else, output <em>true</em>:</p>\n\n<pre><code>String argument = \"#a1^b2\";\nPattern pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s|(.)\"); // or \"[a-zA-Z0-9\\\\s]|(.)\"\nMatcher matcher = pattern.matcher(argument);\n\nwhile(matcher.find()) {                           // find all matching characters\n    System.out.println(matcher.group(1) == null);\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/tGbefs\" rel=\"nofollow noreferrer\">Java demo</a>, output:</p>\n\n<pre><code>false\ntrue\ntrue\nfalse\ntrue\ntrue\n</code></pre>\n\n<p>Note you do not need to use a <code>Pattern.DOTALL</code> here, because <code>\\s</code> in your \"whitelist\" part of the pattern matches line breaks.</p>\n"},{"tags":[],"owner":{"account_id":13055459,"reputation":11,"user_id":9434473,"display_name":"MGothe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520602616,"creation_date":1520602616,"answer_id":49195046,"question_id":49194833,"body_markdown":"Why not simply removing all matching chars from your string, so you get only the non matching ones back:\r\n\r\n        \r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n    \r\n    public class RegexUtil {\r\n    \r\n       public static void main(String[] args) {\r\n    \r\n          String    argument;\r\n          Pattern   pattern;\r\n          Matcher   matcher;\r\n    \r\n          argument = &quot;#a1^b2&quot;;\r\n          pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n          matcher = pattern.matcher(argument);\r\n    \r\n          // find all matching characters\r\n          while(matcher.find()) {\r\n             System.out.println(matcher.group());\r\n             argument = argument.replace(matcher.group(), &quot;&quot;);\r\n          }\r\n          \r\n          System.out.println(&quot;argument: &quot; + argument);\r\n    \r\n       }\r\n    \r\n    }","title":"Java Pattern REGEX Where Not Matching","body":"<p>Why not simply removing all matching chars from your string, so you get only the non matching ones back:</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\npublic class RegexUtil {\n\n   public static void main(String[] args) {\n\n      String    argument;\n      Pattern   pattern;\n      Matcher   matcher;\n\n      argument = \"#a1^b2\";\n      pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n      matcher = pattern.matcher(argument);\n\n      // find all matching characters\n      while(matcher.find()) {\n         System.out.println(matcher.group());\n         argument = argument.replace(matcher.group(), \"\");\n      }\n\n      System.out.println(\"argument: \" + argument);\n\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520603048,"creation_date":1520603048,"answer_id":49195160,"question_id":49194833,"body_markdown":"Track positions, and for each match, print the characters between last match and current match.\r\n\r\n    int pos = 0;\r\n    while (matcher.find()) {\r\n        for (int i = pos; i &lt; matcher.start(); i++) {\r\n            System.out.println(argument.charAt(i));\r\n        }\r\n        pos = matcher.end();\r\n    }\r\n    // Print any trailing characters after last match.\r\n    for (int i = pos; i &lt; argument.length(); i++) {\r\n        System.out.println(argument.charAt(i));\r\n    }\r\n","title":"Java Pattern REGEX Where Not Matching","body":"<p>Track positions, and for each match, print the characters between last match and current match.</p>\n\n<pre><code>int pos = 0;\nwhile (matcher.find()) {\n    for (int i = pos; i &lt; matcher.start(); i++) {\n        System.out.println(argument.charAt(i));\n    }\n    pos = matcher.end();\n}\n// Print any trailing characters after last match.\nfor (int i = pos; i &lt; argument.length(); i++) {\n    System.out.println(argument.charAt(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6123459,"reputation":322,"user_id":4776236,"display_name":"Anto Livish A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520604298,"creation_date":1520604298,"answer_id":49195530,"question_id":49194833,"body_markdown":"One solution is \r\n\r\n        String  argument;\r\n        Pattern pattern;\r\n        Matcher matcher;\r\n\r\n        argument = &quot;#a1^b2&quot;;\r\n        List&lt;String&gt; charList = Arrays.asList(argument.split(&quot;&quot;));\r\n        pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n        matcher = pattern.matcher(argument);\r\n        ArrayList&lt;String&gt; unmatchedCharList = new ArrayList&lt;&gt;();\r\n        // find all matching\r\n        while(matcher.find()) {\r\n            unmatchedCharList.add(matcher.group());\r\n        }\r\n        for(String charr : charList)\r\n        {\r\n            System.out.println(unmatchedCharList.contains(charr ));\r\n        }\r\n\r\n\r\nOutput\r\n\r\nfalse\r\ntrue\r\ntrue\r\nfalse\r\ntrue\r\ntrue","title":"Java Pattern REGEX Where Not Matching","body":"<p>One solution is </p>\n\n<pre><code>    String  argument;\n    Pattern pattern;\n    Matcher matcher;\n\n    argument = \"#a1^b2\";\n    List&lt;String&gt; charList = Arrays.asList(argument.split(\"\"));\n    pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n    matcher = pattern.matcher(argument);\n    ArrayList&lt;String&gt; unmatchedCharList = new ArrayList&lt;&gt;();\n    // find all matching\n    while(matcher.find()) {\n        unmatchedCharList.add(matcher.group());\n    }\n    for(String charr : charList)\n    {\n        System.out.println(unmatchedCharList.contains(charr ));\n    }\n</code></pre>\n\n<p>Output</p>\n\n<p>false\ntrue\ntrue\nfalse\ntrue\ntrue</p>\n"}],"owner":{"account_id":4232801,"reputation":3900,"user_id":3464777,"accept_rate":68,"display_name":"TheLovelySausage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3927,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49194946,"answer_count":5,"score":1,"last_activity_date":1693129773,"creation_date":1520601875,"question_id":49194833,"body_markdown":"I&#39;m trying to use the Java Pattern and Matcher to apply input checks. I have it working in a really basic format which I am happy with so far. It applies a REGEX to an argument and then loops through the matching characters.\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n\r\n    public class RegexUtil {\r\n\r\n       public static void main(String[] args) {\r\n\r\n          String    argument;\r\n          Pattern   pattern;\r\n          Matcher   matcher;\r\n\r\n          argument = &quot;#a1^b2&quot;;\r\n          pattern = Pattern.compile(&quot;[a-zA-Z]|[0-9]|\\\\s&quot;);\r\n          matcher = pattern.matcher(argument);\r\n\r\n          // find all matching characters\r\n          while(matcher.find()) {\r\n             System.out.println(matcher.group());\r\n          }\r\n\r\n       }\r\n\r\n    }\r\n\r\nThis is fine for extracting all the good characters, I get the output\r\n\r\n    a\r\n    1\r\n    b\r\n    2\r\n\r\nNow I wanted to know if it&#39;s possible to do the same for any characters that don&#39;t match the REGEX so I get the output\r\n\r\n    #\r\n    ^\r\n\r\nOr better yet loop through it and get TRUE or FALSE flags for each index of the argument\r\n\r\n    false\r\n    true\r\n    true\r\n    false\r\n    true\r\n    true\r\n\r\nI only know how to loop through with matcher.find(), any help would be greatly appreciated","title":"Java Pattern REGEX Where Not Matching","body":"<p>I'm trying to use the Java Pattern and Matcher to apply input checks. I have it working in a really basic format which I am happy with so far. It applies a REGEX to an argument and then loops through the matching characters.</p>\n\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\npublic class RegexUtil {\n\n   public static void main(String[] args) {\n\n      String    argument;\n      Pattern   pattern;\n      Matcher   matcher;\n\n      argument = \"#a1^b2\";\n      pattern = Pattern.compile(\"[a-zA-Z]|[0-9]|\\\\s\");\n      matcher = pattern.matcher(argument);\n\n      // find all matching characters\n      while(matcher.find()) {\n         System.out.println(matcher.group());\n      }\n\n   }\n\n}\n</code></pre>\n\n<p>This is fine for extracting all the good characters, I get the output</p>\n\n<pre><code>a\n1\nb\n2\n</code></pre>\n\n<p>Now I wanted to know if it's possible to do the same for any characters that don't match the REGEX so I get the output</p>\n\n<pre><code>#\n^\n</code></pre>\n\n<p>Or better yet loop through it and get TRUE or FALSE flags for each index of the argument</p>\n\n<pre><code>false\ntrue\ntrue\nfalse\ntrue\ntrue\n</code></pre>\n\n<p>I only know how to loop through with matcher.find(), any help would be greatly appreciated</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1519315298,"post_id":48931853,"comment_id":84870490,"body_markdown":"Search for at least 2 characters after the start: `&quot;^.{2,}(a{3})&quot;`.","body":"Search for at least 2 characters after the start: <code>&quot;^.{2,}(a{3})&quot;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519315823,"creation_date":1519315517,"answer_id":48931982,"question_id":48931853,"body_markdown":"You might use a positive lookbehind `(?&lt;=`:\r\n\r\n[`(?&lt;=^..)a{3}`](https://regex101.com/r/C6bWmi/1)\r\n\r\nThat would match:\r\n\r\n&lt;pre&gt;\r\n(?&amp;lt= # Positive lookbehind which asserts that what is before is\r\n  ^  # Beginning of the string\r\n  .. # Match 2 times any character\r\n)    # Close lookbehind\r\na{3} # Match aaa\r\n&lt;/pre&gt;\r\n\r\n[Output Java test](http://rextester.com/PMLKB33728)","title":"Java regex with ^ symbol: find from position","body":"<p>You might use a positive lookbehind <code>(?&lt;=</code>:</p>\n\n<p><a href=\"https://regex101.com/r/C6bWmi/1\" rel=\"nofollow noreferrer\"><code>(?&lt;=^..)a{3}</code></a></p>\n\n<p>That would match:</p>\n\n<pre>\n(?&lt= # Positive lookbehind which asserts that what is before is\n  ^  # Beginning of the string\n  .. # Match 2 times any character\n)    # Close lookbehind\na{3} # Match aaa\n</pre>\n\n<p><a href=\"http://rextester.com/PMLKB33728\" rel=\"nofollow noreferrer\">Output Java test</a></p>\n"},{"tags":[],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519318168,"creation_date":1519318168,"answer_id":48932950,"question_id":48931853,"body_markdown":"This would work:\r\n\r\n    (?&lt;=.)\\^a{3}\r\n\r\n    (?=  # lookbehind\r\n    .    # any character\r\n    )    # close\r\n    \\^a{3} # your pattern\r\n\r\nSee https://regex101.com/r/jTLwUp/1","title":"Java regex with ^ symbol: find from position","body":"<p>This would work:</p>\n\n<pre><code>(?&lt;=.)\\^a{3}\n\n(?=  # lookbehind\n.    # any character\n)    # close\n\\^a{3} # your pattern\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/jTLwUp/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/jTLwUp/1</a></p>\n"},{"tags":[],"owner":{"account_id":96341,"reputation":2862,"user_id":261887,"display_name":"black panda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1519324189,"creation_date":1519323867,"answer_id":48934694,"question_id":48931853,"body_markdown":"You can change the region in your Matcher to start at 2 without messing around with the original regex. See below:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;^a{3}&quot;);\r\n    Matcher m = pattern.matcher(&quot;xxaaa&quot;);\r\n    m.region(2, m.regionEnd()); // &lt;---- region start is now 2\r\n\r\n    System.out.println(m.find());\r\n    System.out.println(m.lookingAt());\r\n\r\nSee: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#region-int-int-\r\n","title":"Java regex with ^ symbol: find from position","body":"<p>You can change the region in your Matcher to start at 2 without messing around with the original regex. See below:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"^a{3}\");\nMatcher m = pattern.matcher(\"xxaaa\");\nm.region(2, m.regionEnd()); // &lt;---- region start is now 2\n\nSystem.out.println(m.find());\nSystem.out.println(m.lookingAt());\n</code></pre>\n\n<p>See: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#region-int-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#region-int-int-</a></p>\n"}],"owner":{"account_id":217677,"reputation":795,"user_id":473587,"accept_rate":60,"display_name":"varan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48934694,"answer_count":3,"score":2,"last_activity_date":1693129765,"creation_date":1519315171,"question_id":48931853,"body_markdown":"I&#39;m trying to find ^a{3} pattern in string, but not from beginning. From position 2\r\n\r\nFor example: \r\n\r\n    Pattern pattern = Pattern.compile(&quot;^a{3}&quot;);\r\n    Matcher m = pattern.matcher(&quot;xxaaa&quot;);\r\n    System.out.println(m.find(2));\r\n\r\nIt seems ^ means start of the string (not start of string from position 2)\r\n\r\nBut how to find pattern from position 2 and be sure that a{3} starts in this position\r\n","title":"Java regex with ^ symbol: find from position","body":"<p>I'm trying to find ^a{3} pattern in string, but not from beginning. From position 2</p>\n\n<p>For example: </p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"^a{3}\");\nMatcher m = pattern.matcher(\"xxaaa\");\nSystem.out.println(m.find(2));\n</code></pre>\n\n<p>It seems ^ means start of the string (not start of string from position 2)</p>\n\n<p>But how to find pattern from position 2 and be sure that a{3} starts in this position</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1517241856,"post_id":48505307,"comment_id":84004689,"body_markdown":"create a hashmap of &lt;String, Pattern&gt;, where String is same identifier, now in your main method initialise the hashmap, and use it throughout your code.","body":"create a hashmap of &lt;String, Pattern&gt;, where String is same identifier, now in your main method initialise the hashmap, and use it throughout your code."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1517242150,"post_id":48505307,"comment_id":84004893,"body_markdown":"Don&#39;t parse markup with regex.","body":"Don&#39;t parse markup with regex."},{"owner":{"account_id":12445758,"reputation":127,"user_id":9061997,"display_name":"JaneDoe"},"score":0,"creation_date":1517242567,"post_id":48505307,"comment_id":84005188,"body_markdown":"I cannot understand why people downvote a question that is obviously from a programming beginner, provides a clear question and well formatted source code where somebody already tried a lot to get a solution. (Sorry for offtopic.)","body":"I cannot understand why people downvote a question that is obviously from a programming beginner, provides a clear question and well formatted source code where somebody already tried a lot to get a solution. (Sorry for offtopic.)"}],"answers":[{"tags":[],"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517242602,"creation_date":1517242602,"answer_id":48505612,"question_id":48505307,"body_markdown":"The hashmap mentioned in the comment sounds suitable but less readable. I&#39;d prefer the &quot;method&quot; approach:\r\n\r\n        private String getMatch(final String pattern, final String txt) {\r\n        final Pattern p = Pattern.compile(pattern);\r\n        final Matcher m = p.matcher(txt);\r\n        String result = null;\r\n        while (m.find()) {\r\n            result = m.group(1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public void xxx() {\r\n        //...\r\n        while (m.find()) {\r\n            final String txt = m.group(0);\r\n            origin = getMatch(&quot;&lt;Origin&gt;(.*)&lt;/Origin&gt;&quot;, txt);\r\n            usr = getMatch(&quot;&lt;User&gt;(.*)&lt;/User&gt;&quot;, txt);\r\n            // ...\r\n        }\r\n    }\r\n","title":"Java Pattern Matcher Multiple Optimizing","body":"<p>The hashmap mentioned in the comment sounds suitable but less readable. I'd prefer the \"method\" approach:</p>\n\n<pre><code>    private String getMatch(final String pattern, final String txt) {\n    final Pattern p = Pattern.compile(pattern);\n    final Matcher m = p.matcher(txt);\n    String result = null;\n    while (m.find()) {\n        result = m.group(1);\n    }\n    return result;\n}\n\npublic void xxx() {\n    //...\n    while (m.find()) {\n        final String txt = m.group(0);\n        origin = getMatch(\"&lt;Origin&gt;(.*)&lt;/Origin&gt;\", txt);\n        usr = getMatch(\"&lt;User&gt;(.*)&lt;/User&gt;\", txt);\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9339001,"reputation":1,"user_id":6932398,"display_name":"Ravi Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693129752,"creation_date":1517241660,"question_id":48505307,"body_markdown":"I have to prepare a program wheremultiple regular expression are used.\r\nBelow is the program but for every new element I have to initialize new Pattern and Matcher. Is there any optimized way which I can use in this program or a loop which I can use in this.\r\nCurrently in the program its reading file and assigning all the XML tags in the string. The file is having multiple tags which I have to initialize and print in CSV format and files are having a huge amount of data like in GBs.\r\nIs there any way to optimize below code.\r\n\r\n\r\n\r\nRegex Program:\r\n\r\n\t/*\r\n\t* To change this license header, choose License Headers in Project Properties.\r\n\t* To change this template file, choose Tools | Templates\r\n\t* and open the template in the editor.\r\n\t*/\r\n\tpackage javaapplication1;\r\n\r\n\t/**\r\n\t*\r\n\t* @author ????\r\n\t*/\r\n\timport java.io.*;\r\n\timport java.util.ArrayList;\r\n\timport java.util.regex.*;\r\n\r\n\tpublic class JavaApplication1 {\r\n\r\n\t\t/**\r\n\t\t* @param args the command line arguments\r\n\t\t*/\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\t// TODO code application logic here\r\n\t\t\tString oldContent = &quot;&quot;;\r\n\t\t\tBufferedReader reader = null;\r\n\t\t\tFileWriter writer = null;\r\n\t\t\tFile fileToBeModified = new File(&quot;C:\\\\Documents\\\\audit.log&quot;);\r\n\t\t\tString str = &quot;&quot;;\r\n\t\t\ttry {\r\n\t\t\t\tBufferedReader in = new BufferedReader(new FileReader(fileToBeModified));\r\n\t\t\t\tStringBuffer output = new StringBuffer();\r\n\t\t\t\tString st;\r\n\t\t\t\twhile ((st=in.readLine()) != null) {\r\n\t\t\t\t\toutput.append(st);\r\n\t\t\t\t\toutput.append(&#39;\\n&#39;);\r\n\t\t\t\t}\r\n\t\t\t\tstr = output.toString();\r\n\t\t\t\tin.close();\r\n\t\t\t}\r\n\t\t\tcatch (Exception fx) {\r\n\t\t\t} \r\n\t\t\tString usr = &quot;&quot;;\r\n\t\t\tString origin = &quot;&quot;;\r\n\t\t\tString dt = &quot;&quot;;\r\n\t\t\tString operation = &quot;&quot;;\r\n\t\t\tPattern p = Pattern.compile(&quot;&lt;AuditEntry&gt;(.*\\\\R)*?&lt;\\\\/AuditEntry&gt;&quot;);\r\n\t\t\tMatcher m = p.matcher(str);\r\n\t\t\twhile (m.find()) {\r\n\t\t\t\tPattern e = Pattern.compile(&quot;&lt;User&gt;(.*)&lt;/User&gt;&quot;);\r\n\t\t\t\tMatcher f = e.matcher(m.group(0));\r\n\t\t\t\twhile(f.find())\r\n\t\t\t\t{\r\n\t\t\t\t\tusr = f.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tPattern g = Pattern.compile(&quot;&lt;Origin&gt;(.*)&lt;/Origin&gt;&quot;);\r\n\t\t\t\tMatcher h = g.matcher(m.group(0));\r\n\t\t\t\twhile(h.find())\r\n\t\t\t\t{\r\n\t\t\t\t\torigin = h.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tPattern i = Pattern.compile(&quot;&lt;DateTime.*\\&quot;&gt;(.*)&lt;/DateTime&gt;&quot;);\r\n\t\t\t\tMatcher j = i.matcher(m.group(0));\r\n\t\t\t\twhile(j.find())\r\n\t\t\t\t{\r\n\t\t\t\t\tdt = j.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tPattern k = Pattern.compile(&quot;Operation=\\&quot;([a-zA-z]+)\\&quot;&quot;);\r\n\t\t\t\tMatcher l = k.matcher(m.group(0));\r\n\t\t\t\twhile(l.find())\r\n\t\t\t\t{\r\n\t\t\t\t\toperation = l.group(1);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(usr+&quot;,&quot;+origin+&quot;,&quot; +dt+ &quot;,&quot;+operation);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Java Pattern Matcher Multiple Optimizing","body":"<p>I have to prepare a program wheremultiple regular expression are used.\nBelow is the program but for every new element I have to initialize new Pattern and Matcher. Is there any optimized way which I can use in this program or a loop which I can use in this.\nCurrently in the program its reading file and assigning all the XML tags in the string. The file is having multiple tags which I have to initialize and print in CSV format and files are having a huge amount of data like in GBs.\nIs there any way to optimize below code.</p>\n\n<p>Regex Program:</p>\n\n<pre><code>/*\n* To change this license header, choose License Headers in Project Properties.\n* To change this template file, choose Tools | Templates\n* and open the template in the editor.\n*/\npackage javaapplication1;\n\n/**\n*\n* @author ????\n*/\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.regex.*;\n\npublic class JavaApplication1 {\n\n    /**\n    * @param args the command line arguments\n    */\n\n    public static void main(String[] args) throws Exception {\n        // TODO code application logic here\n        String oldContent = \"\";\n        BufferedReader reader = null;\n        FileWriter writer = null;\n        File fileToBeModified = new File(\"C:\\\\Documents\\\\audit.log\");\n        String str = \"\";\n        try {\n            BufferedReader in = new BufferedReader(new FileReader(fileToBeModified));\n            StringBuffer output = new StringBuffer();\n            String st;\n            while ((st=in.readLine()) != null) {\n                output.append(st);\n                output.append('\\n');\n            }\n            str = output.toString();\n            in.close();\n        }\n        catch (Exception fx) {\n        } \n        String usr = \"\";\n        String origin = \"\";\n        String dt = \"\";\n        String operation = \"\";\n        Pattern p = Pattern.compile(\"&lt;AuditEntry&gt;(.*\\\\R)*?&lt;\\\\/AuditEntry&gt;\");\n        Matcher m = p.matcher(str);\n        while (m.find()) {\n            Pattern e = Pattern.compile(\"&lt;User&gt;(.*)&lt;/User&gt;\");\n            Matcher f = e.matcher(m.group(0));\n            while(f.find())\n            {\n                usr = f.group(1);\n            }\n            Pattern g = Pattern.compile(\"&lt;Origin&gt;(.*)&lt;/Origin&gt;\");\n            Matcher h = g.matcher(m.group(0));\n            while(h.find())\n            {\n                origin = h.group(1);\n            }\n            Pattern i = Pattern.compile(\"&lt;DateTime.*\\\"&gt;(.*)&lt;/DateTime&gt;\");\n            Matcher j = i.matcher(m.group(0));\n            while(j.find())\n            {\n                dt = j.group(1);\n            }\n            Pattern k = Pattern.compile(\"Operation=\\\"([a-zA-z]+)\\\"\");\n            Matcher l = k.matcher(m.group(0));\n            while(l.find())\n            {\n                operation = l.group(1);\n            }\n            System.out.println(usr+\",\"+origin+\",\" +dt+ \",\"+operation);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1517064041,"post_id":48476839,"comment_id":83946873,"body_markdown":"why not just `url = url.replaceAll(&quot;/vp/&quot;, &quot;/&quot;).replace(&quot;/s150x150/&quot;, &quot;/s720x720/&quot;);` who you want to use pattern in this?","body":"why not just <code>url = url.replaceAll(&quot;&#47;vp&#47;&quot;, &quot;&#47;&quot;).replace(&quot;&#47;s150x150&#47;&quot;, &quot;&#47;s720x720&#47;&quot;);</code> who you want to use pattern in this?"},{"owner":{"account_id":11401580,"reputation":91,"user_id":8358378,"accept_rate":75,"display_name":"YASSBRA Top10"},"score":0,"creation_date":1517064453,"post_id":48476839,"comment_id":83946997,"body_markdown":"because the url may change evry time , and don&#39;t sure if /s150x150/ existe in the url evry time or not","body":"because the url may change evry time , and don&#39;t sure if /s150x150/ existe in the url evry time or not"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1517064694,"post_id":48476839,"comment_id":83947062,"body_markdown":"if you are worry about exist or not, then replace work just if it was exist, If you want something else for example `/s150x150/` can be something else like `/s888x666/` then it is another story, you can use replaceAll or replaceFirst which use regex, can you clarify more about the input and the expected output so we can help you?","body":"if you are worry about exist or not, then replace work just if it was exist, If you want something else for example <code>&#47;s150x150&#47;</code> can be something else like <code>&#47;s888x666&#47;</code> then it is another story, you can use replaceAll or replaceFirst which use regex, can you clarify more about the input and the expected output so we can help you?"},{"owner":{"account_id":2005844,"reputation":2306,"user_id":1795776,"accept_rate":89,"display_name":"Emmanuel John"},"score":0,"creation_date":1517065094,"post_id":48476839,"comment_id":83947188,"body_markdown":"If you&#39;re beginning Java, you can always look into the API docs for answering your api specific questions. https://docs.oracle.com/javase/7/docs/api/java/lang/String.html","body":"If you&#39;re beginning Java, you can always look into the API docs for answering your api specific questions. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/String.html</a>"},{"owner":{"account_id":11401580,"reputation":91,"user_id":8358378,"accept_rate":75,"display_name":"YASSBRA Top10"},"score":0,"creation_date":1517066127,"post_id":48476839,"comment_id":83947501,"body_markdown":"@YCF_L yes this is exactly what i need using replaceFirst, the input it&#39;s an pageURL then i try to extract  image url  in this page and it worked fine named imageURL , now i want to generate a methode to resize the image so i need to replace s150x150 by s720x720 and /vp/ by / on the imageURL","body":"@YCF_L yes this is exactly what i need using replaceFirst, the input it&#39;s an pageURL then i try to extract  image url  in this page and it worked fine named imageURL , now i want to generate a methode to resize the image so i need to replace s150x150 by s720x720 and /vp/ by / on the imageURL"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1517067960,"creation_date":1517066432,"answer_id":48477207,"question_id":48476839,"body_markdown":"You can use just replace for the first part, For the second part you can use replaceFirst with this regex `/s\\\\d+x\\\\d+/` replace it by `&quot;/&quot; + newSize + &quot;x&quot; + newSize + &quot;/&quot;` like this :\r\n\r\n    String newSize = &quot;720&quot;;\r\n    url = url.replace(&quot;/vp/&quot;, &quot;/&quot;)\r\n            .replaceFirst(&quot;/s\\\\d+x\\\\d+/&quot;, &quot;/s&quot; + &quot;/&quot; + newSize + &quot;x&quot; + newSize + &quot;/&quot;);\r\n\r\n[&lt;h3&gt;regex demo&lt;/h3&gt;][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/20us1N/1","title":"how to replace 2 diffrents strings in one url using matcher?","body":"<p>You can use just replace for the first part, For the second part you can use replaceFirst with this regex <code>/s\\\\d+x\\\\d+/</code> replace it by <code>\"/\" + newSize + \"x\" + newSize + \"/\"</code> like this :</p>\n\n<pre><code>String newSize = \"720\";\nurl = url.replace(\"/vp/\", \"/\")\n        .replaceFirst(\"/s\\\\d+x\\\\d+/\", \"/s\" + \"/\" + newSize + \"x\" + newSize + \"/\");\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/20us1N/1\" rel=\"nofollow noreferrer\"><h3>regex demo</h3></a></p>\n"}],"owner":{"account_id":11401580,"reputation":91,"user_id":8358378,"accept_rate":75,"display_name":"YASSBRA Top10"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":48477207,"answer_count":1,"score":0,"last_activity_date":1693129733,"creation_date":1517063830,"question_id":48476839,"body_markdown":"I am beginner on android, I have an url and I want to replace two strings(`&quot;/vp/&quot;` by `&quot;/&quot;`)   and (`&quot;/s150x150/&quot;` by `&quot;/s720x720/&quot;` (if it&#39;s exist)) in this url using **matcher** and **pattern**!\r\n\r\nthis is my url :\r\n\r\n    cd.com/vp/3070d0210e464e/5AEFB3ED/t51.2885/s150x150/24845474_1790806444289980_66798452736_n.jpg\r\n\r\nAny help please !\r\n","title":"how to replace 2 diffrents strings in one url using matcher?","body":"<p>I am beginner on android, I have an url and I want to replace two strings(<code>\"/vp/\"</code> by <code>\"/\"</code>)   and (<code>\"/s150x150/\"</code> by <code>\"/s720x720/\"</code> (if it's exist)) in this url using <strong>matcher</strong> and <strong>pattern</strong>!</p>\n\n<p>this is my url :</p>\n\n<pre><code>cd.com/vp/3070d0210e464e/5AEFB3ED/t51.2885/s150x150/24845474_1790806444289980_66798452736_n.jpg\n</code></pre>\n\n<p>Any help please !</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":4,"creation_date":1516213598,"post_id":48307671,"comment_id":83600673,"body_markdown":"By doing research and demonstrating the slightest bit of effort.","body":"By doing research and demonstrating the slightest bit of effort."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1516216533,"post_id":48307671,"comment_id":83602181,"body_markdown":"`&quot;@byDate(@RP(@NOW())&quot;.replaceFirst(&quot;@(.*?)\\\\(@.*&quot;, &quot;$1&quot;)`","body":"<code>&quot;@byDate(@RP(@NOW())&quot;.replaceFirst(&quot;@(.*?)\\\\(@.*&quot;, &quot;$1&quot;)</code>"},{"owner":{"account_id":3801166,"reputation":121,"user_id":3154785,"display_name":"user3154785"},"score":1,"creation_date":1516217203,"post_id":48307671,"comment_id":83602525,"body_markdown":"@YCF_L Works fine! Thanks!","body":"@YCF_L Works fine! Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":12311264,"reputation":52,"user_id":8982620,"display_name":"BullyBoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516365447,"creation_date":1516365447,"answer_id":48341309,"question_id":48307671,"body_markdown":"This regular expresion will find all chanracters between the first `@` and the first `(` :\r\n\r\n    (?&lt;!\\(@)(?&lt;=@)[^\\(]+","title":"Java Regex get word","body":"<p>This regular expresion will find all chanracters between the first <code>@</code> and the first <code>(</code> :</p>\n\n<pre><code>(?&lt;!\\(@)(?&lt;=@)[^\\(]+\n</code></pre>\n"}],"owner":{"account_id":3801166,"reputation":121,"user_id":3154785,"display_name":"user3154785"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1693129726,"creation_date":1516213552,"question_id":48307671,"body_markdown":"How to get by regex only &#39;byDate&#39; in @byDate(@RP(@NOW())","title":"Java Regex get word","body":"<p>How to get by regex only 'byDate' in @byDate(@RP(@NOW())</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":2,"creation_date":1515408529,"post_id":48148719,"comment_id":83275618,"body_markdown":"`79` is already 2 digits. Use `\\d{7}` instead of `\\d{9}`.","body":"<code>79</code> is already 2 digits. Use <code>\\d{7}</code> instead of <code>\\d{9}</code>."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1515408557,"post_id":48148719,"comment_id":83275634,"body_markdown":"...and no need for the capture group. But depending on how you&#39;re using the regex, you may need start and end anchors. Also, alternatives aren&#39;t written `79-78`, they&#39;re written `79|78` (and you will want a group around it if you&#39;re combining it with something else, but probably a non-capturing group).","body":"...and no need for the capture group. But depending on how you&#39;re using the regex, you may need start and end anchors. Also, alternatives aren&#39;t written <code>79-78</code>, they&#39;re written <code>79|78</code> (and you will want a group around it if you&#39;re combining it with something else, but probably a non-capturing group)."}],"answers":[{"tags":[],"owner":{"account_id":2814225,"reputation":505,"user_id":2419751,"display_name":"GuyKhmel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515408584,"creation_date":1515408584,"answer_id":48148738,"question_id":48148719,"body_markdown":"    \\\\d{9}\r\nmeans (another) 9 digits.\r\nYou need 7 (9 - 2 you already used)\r\n\r\nsame for the 2nd question,\r\nuse this instead \r\n    \r\n    \\\\d{8}\r\nto indicate 8 additional numbers","title":"Regex starts with 79 and have length of 9","body":"<pre><code>\\\\d{9}\n</code></pre>\n\n<p>means (another) 9 digits.\nYou need 7 (9 - 2 you already used)</p>\n\n<p>same for the 2nd question,\nuse this instead </p>\n\n<pre><code>\\\\d{8}\n</code></pre>\n\n<p>to indicate 8 additional numbers</p>\n"},{"tags":[],"owner":{"account_id":1565888,"reputation":18904,"user_id":1454708,"display_name":"Nahuel Fouilleul"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1515408765,"creation_date":1515408765,"answer_id":48148794,"question_id":48148719,"body_markdown":"using a look ahead assertion\r\n\r\n    ^(?=79)\\d{9}$\r\n    ^(?=79|78)\\d{10}$\r\n\r\notherwise matching first two character then 7 or 8 remaining\r\n\r\n\r\n    ^79\\d{7}$\r\n    ^7[89]\\d{8}$\r\n\r\n[regex101][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/mdBTOM/1/","title":"Regex starts with 79 and have length of 9","body":"<p>using a look ahead assertion</p>\n\n<pre><code>^(?=79)\\d{9}$\n^(?=79|78)\\d{10}$\n</code></pre>\n\n<p>otherwise matching first two character then 7 or 8 remaining</p>\n\n<pre><code>^79\\d{7}$\n^7[89]\\d{8}$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/mdBTOM/1/\" rel=\"nofollow noreferrer\">regex101</a></p>\n"},{"tags":[],"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515409009,"creation_date":1515409009,"answer_id":48148868,"question_id":48148719,"body_markdown":"Here are the regex:&lt;br/&gt;\r\n`^79\\\\d{7}$` and `^7(8|9)\\\\d{8}$`\r\n\r\nNow for the explanation:\r\n\r\n- &quot;79&quot; has two characters in it, therefore `79\\\\d{9}` would match 11 characters\r\n- `(79-78)` is not what you thought it would be, it is actually just capturing the characters &quot;79-78&quot; in this specific order, what you want is alternation : `(79|78)`\r\n- 78 and 79 have the &quot;7&quot; in common, so `(79|78)` can become `7(9|8)`\r\n- &quot;79&quot; still has 2 characters in it, therefore you&#39;d need to match only 8 digits afterward","title":"Regex starts with 79 and have length of 9","body":"<p>Here are the regex:<br/>\n<code>^79\\\\d{7}$</code> and <code>^7(8|9)\\\\d{8}$</code></p>\n\n<p>Now for the explanation:</p>\n\n<ul>\n<li>\"79\" has two characters in it, therefore <code>79\\\\d{9}</code> would match 11 characters</li>\n<li><code>(79-78)</code> is not what you thought it would be, it is actually just capturing the characters \"79-78\" in this specific order, what you want is alternation : <code>(79|78)</code></li>\n<li>78 and 79 have the \"7\" in common, so <code>(79|78)</code> can become <code>7(9|8)</code></li>\n<li>\"79\" still has 2 characters in it, therefore you'd need to match only 8 digits afterward</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515409020,"creation_date":1515409020,"answer_id":48148871,"question_id":48148719,"body_markdown":"Your regex does not work because you did not account for the 2 characters that `79` occupies.\r\n\r\nIt should be\r\n\r\n    ^79\\d{7}$\r\n\r\nThis means &quot;starting with 79, with 7 more digits following it&quot;. All together there are exactly 9 characters.\r\n\r\nYour second regex does not work because `-` does not mean &quot;or&quot;. `|` means &quot;or&quot;.\r\n\r\n    ^(79|78)\\d{8}$\r\n\r\nAgain, it should be `\\d{8}` instead of `\\d{10}` for the same reason.","title":"Regex starts with 79 and have length of 9","body":"<p>Your regex does not work because you did not account for the 2 characters that <code>79</code> occupies.</p>\n\n<p>It should be</p>\n\n<pre><code>^79\\d{7}$\n</code></pre>\n\n<p>This means \"starting with 79, with 7 more digits following it\". All together there are exactly 9 characters.</p>\n\n<p>Your second regex does not work because <code>-</code> does not mean \"or\". <code>|</code> means \"or\".</p>\n\n<pre><code>^(79|78)\\d{8}$\n</code></pre>\n\n<p>Again, it should be <code>\\d{8}</code> instead of <code>\\d{10}</code> for the same reason.</p>\n"}],"owner":{"account_id":3854842,"reputation":65,"user_id":3194062,"accept_rate":80,"display_name":"user3194062"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":48148794,"answer_count":4,"score":0,"last_activity_date":1693129714,"creation_date":1515408479,"question_id":48148719,"body_markdown":"Hello everyone, \r\n               I m new to regex and trying to apply two specific regexes in java. \r\n\r\n1 - Regex starts with 79, contain only numbers and length must be 9. My solution is\r\n   \r\n\r\n     ^(79)\\\\d{9}$\r\nBut not matching this string. 791234567. \r\n\r\n2 - Another regex is start with 79 or 78, contain only numbers and length must be 10.\r\nMy solution is `^(79-78)\\\\d{10}$`\r\n\r\nBoth are different and need different regex for each case. Any help would be great.\r\n\r\n","title":"Regex starts with 79 and have length of 9","body":"<p>Hello everyone, \n               I m new to regex and trying to apply two specific regexes in java. </p>\n\n<p>1 - Regex starts with 79, contain only numbers and length must be 9. My solution is</p>\n\n<pre><code> ^(79)\\\\d{9}$\n</code></pre>\n\n<p>But not matching this string. 791234567. </p>\n\n<p>2 - Another regex is start with 79 or 78, contain only numbers and length must be 10.\nMy solution is <code>^(79-78)\\\\d{10}$</code></p>\n\n<p>Both are different and need different regex for each case. Any help would be great.</p>\n"},{"tags":["java","regex","parsing"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512478623,"post_id":47653657,"comment_id":82266404,"body_markdown":"The second point being &quot;_,a sequence of numbers _&quot; ? `\\d+` ? Please provide a [mcve]. Using some enumeration for each requirements would be more readable. And of course, you have a lot of errors, but don&#39;t mention which one. If this is to complex to explain better that this at least add an example (input/output)","body":"The second point being &quot;_,a sequence of numbers _&quot; ? <code>\\d+</code> ? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Using some enumeration for each requirements would be more readable. And of course, you have a lot of errors, but don&#39;t mention which one. If this is to complex to explain better that this at least add an example (input/output)"},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512479676,"post_id":47653657,"comment_id":82267160,"body_markdown":"thanks for asking:) my problem is the third point! every string like this: &quot;\\\\hello\\&quot;&quot; has to become \\hello&quot;      but i don&#39;t know how to do it! i mean the backslash and the &quot;  muest be  banned but \\\\ and \\&quot; must be agreeded..","body":"thanks for asking:) my problem is the third point! every string like this: &quot;\\\\hello\\&quot;&quot; has to become \\hello&quot;      but i don&#39;t know how to do it! i mean the backslash and the &quot;  muest be  banned but \\\\ and \\&quot; must be agreeded.."},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512479866,"post_id":47653657,"comment_id":82267276,"body_markdown":"the error is : Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Unmatched closing &#39;)&#39; near index 89\n([a-zA-Z]+[0-9a-zA-Z_]*)|(0(?![0-9])|([1-9]+)([0-9]*))|([&quot;]{1}([(\\(?=\\|\\&quot;))][^\\&quot;])*)[&quot;]{1})|(\\s+)\n                                                                                         ^\n\tat java.util.regex.Pattern.error(Unknown Source)\n\tat java.util.regex.Pattern.compile(Unknown Source)\n\tat java.util.regex.Pattern.&lt;init&gt;(Unknown Source)\n\tat java.util.regex.Pattern.compile(Unknown Source)\n\tat lab05_12_04.ExampleLexer.main(ExampleLexer.java:18)","body":"the error is : Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Unmatched closing &#39;)&#39; near index 89 ([a-zA-Z]+[0-9a-zA-Z_]*)|(0(?![0-9])|([1-9]+)([0-9]*))|([&quot;]{&zwnj;&#8203;1}([(&#40;?=\\|\\&quot;))][&zwnj;&#8203;^\\&quot;])*)[&quot;]{1})|(\\s+)                                                                                          ^ \tat java.util.regex.Pattern.error(Unknown Source) \tat java.util.regex.Pattern.compile(Unknown Source) \tat java.util.regex.Pattern.&lt;init&gt;(Unknown Source) \tat java.util.regex.Pattern.compile(Unknown Source) \tat lab05_12_04.ExampleLexer.main(ExampleLexer.java:18)"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512479906,"post_id":47653657,"comment_id":82267311,"body_markdown":"I will not read the regex (you should understand why ;) ) but you forgot a `)` to close a group. PS: [edit] the question with that information.","body":"I will not read the regex (you should understand why ;) ) but you forgot a <code>)</code> to close a group. PS: <a href=\"https://stackoverflow.com/posts/47653657/edit\">edit</a> the question with that information."},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512479943,"post_id":47653657,"comment_id":82267348,"body_markdown":"as you can see i have changed the third line of my regular expression, but still no work..","body":"as you can see i have changed the third line of my regular expression, but still no work.."},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512480027,"post_id":47653657,"comment_id":82267398,"body_markdown":"yeah, sorry :&#39;) but the problem is that everytime the syntax is correct the output will be &quot; unmtched lexem&quot;","body":"yeah, sorry :&#39;) but the problem is that everytime the syntax is correct the output will be &quot; unmtched lexem&quot;"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1512480080,"post_id":47653657,"comment_id":82267438,"body_markdown":"Please... [mcve]","body":"Please... <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"comments":[{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512481449,"post_id":47654987,"comment_id":82268293,"body_markdown":"hi, thanks for the answer! but the backslash has to be followeb by one other backslash or the char &quot;   not by any char!","body":"hi, thanks for the answer! but the backslash has to be followeb by one other backslash or the char &quot;   not by any char!"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1512481595,"post_id":47654987,"comment_id":82268393,"body_markdown":"@Shinon so no \\t \\r \\n? Added that case","body":"@Shinon so no \\t \\r \\n? Added that case"},{"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"score":0,"creation_date":1512481824,"post_id":47654987,"comment_id":82268531,"body_markdown":"exactly only \\\\ or \\&quot; are allowed if i write  as argument &quot;\\hello&quot; the output should be &quot;unmatched lexeme&quot;. even if i write as argument &quot;\\\\hello\\\\\\\\\\&quot;&quot; the output should be \\hello\\\\&quot;","body":"exactly only \\\\ or \\&quot; are allowed if i write  as argument &quot;\\hello&quot; the output should be &quot;unmatched lexeme&quot;. even if i write as argument &quot;\\\\hello\\\\\\\\\\&quot;&quot; the output should be \\hello\\\\&quot;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1512486475,"post_id":47654987,"comment_id":82271699,"body_markdown":"No idea, a simple `&quot;\\&quot;ab\\\\\\&quot;cdef\\&quot;&quot;.matches(&quot;\\&quot;(\\\\\\\\[\\&quot;\\\\\\\\]|[^\\&quot;\\\\\\\\])*\\&quot;&quot;)` works. But in your code probably additional parentheses are needed ...|( my regex )| ... .","body":"No idea, a simple <code>&quot;\\&quot;ab\\\\\\&quot;cdef\\&quot;&quot;.matches(&quot;\\&quot;(\\\\\\\\[\\&quot;\\\\\\\\]|[^\\&quot;\\\\\\\\])*\\&quot;&quot;)</code> works. But in your code probably additional parentheses are needed ...|( my regex )| ... ."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512481500,"creation_date":1512481076,"answer_id":47654987,"question_id":47653657,"body_markdown":"    &quot;\\&quot;(\\\\\\\\.|[^\\&quot;\\\\\\\\])*\\&quot;&quot;            // (1)\r\n    &quot;\\&quot;(\\\\\\\\[\\&quot;\\\\\\\\]|[^\\&quot;\\\\\\\\])*\\&quot;&quot;     // (2)\r\n\r\n- quote\r\n- zero or more times `(`...`)*`\r\n  - either backslash `\\` followed by (1) any char `.` / (2) any non-quote/non-backslash\r\n  - or `|` not a quote, not a backslash `[^` ... `]`\r\n- quote      \r\n\r\nOn the escapes:\r\n\r\n1. `\\&quot;` is a String escape representing one char, the double quote.\r\n2. `\\\\` is the String escape representing a backslash, one char.\r\n3. `\\\\\\\\` is the regex escape `\\\\` to represent the backslash itself instead of being a regex escape sequence itself.\r\n4. If you ever want to replace backslashes, first attempt it without regex: `s = s.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);` doubles every backslash. Guess how that is written in regex with `replaceAll`.","title":"regular expression on method Pattern.compile()","body":"<pre><code>\"\\\"(\\\\\\\\.|[^\\\"\\\\\\\\])*\\\"\"            // (1)\n\"\\\"(\\\\\\\\[\\\"\\\\\\\\]|[^\\\"\\\\\\\\])*\\\"\"     // (2)\n</code></pre>\n\n<ul>\n<li>quote</li>\n<li>zero or more times <code>(</code>...<code>)*</code>\n\n<ul>\n<li>either backslash <code>\\</code> followed by (1) any char <code>.</code> / (2) any non-quote/non-backslash</li>\n<li>or <code>|</code> not a quote, not a backslash <code>[^</code> ... <code>]</code></li>\n</ul></li>\n<li>quote      </li>\n</ul>\n\n<p>On the escapes:</p>\n\n<ol>\n<li><code>\\\"</code> is a String escape representing one char, the double quote.</li>\n<li><code>\\\\</code> is the String escape representing a backslash, one char.</li>\n<li><code>\\\\\\\\</code> is the regex escape <code>\\\\</code> to represent the backslash itself instead of being a regex escape sequence itself.</li>\n<li>If you ever want to replace backslashes, first attempt it without regex: <code>s = s.replace(\"\\\\\", \"\\\\\\\\\");</code> doubles every backslash. Guess how that is written in regex with <code>replaceAll</code>.</li>\n</ol>\n"}],"owner":{"account_id":12246822,"reputation":1,"user_id":8938286,"display_name":"Shinon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693129706,"creation_date":1512476919,"question_id":47653657,"body_markdown":"i have to create a regular expression to put into the method Pattern.compile(regex);\r\nMy regex has to allow integer (without 0 at the beginning of the number),a sequence of numbers and char (A-Za-z),but the problem is the third point: a string that must begin and end with the char &#39; &quot; &#39;, must avoid the chars backslash (unless there isn&#39;t one other backslash) and the char &#39;&quot;&#39; (unless there is before a backslash)\r\n\r\nbut i don&#39;t understand how to do the second point ( i have met a lot of errors), this is my java code:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\tif (args.length == 0)\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\tMatcher matcher = Pattern.compile(&quot;([a-zA-Z]+[0-9a-zA-Z_]*)|&quot;\r\n\t\t\t\t+ &quot;(0(?![0-9])|([1-9]+)([0-9]*))|&quot; //&quot;?!&quot; &#232; una asserzione : &quot; se la condizione tra parentesi &#232; vera non considerare lo zero\r\n\t\t\t\t+ &quot;([\\&quot;]{1}(([\\\\\\\\][^\\&quot;\\\\][\\\\\\&quot;])*)[\\&quot;]{1})&quot; \r\n\t\t\t\t+ &quot;|(\\\\s+)&quot;).matcher(args[0]);// \\s = [ \\t\\n\\x0B\\f\\r]\r\n\t\tSystem.out.println(&quot;Input: &quot; + args[0]); //println va a capo dopo la stampa\r\n\t\twhile (matcher.lookingAt()) {\r\n\t\t\tSystem.out.print(&quot;Lexeme &#39;&quot; + matcher.group() + &quot;&#39;&quot;); //non va a capo dopo la stampa\r\n\t\t\tSystem.out.println(&quot; group &quot; + ExampleLexer.getGroup(matcher));\r\n\t\t\tmatcher.region(matcher.end(), matcher.regionEnd());\r\n\t\t}\r\n\t\t\r\n\t\t //attenzione: matcher.hitEnd() restituisce true se il matcher arriva in fondo\r\n\t\t //all&#39;input anche se l&#39;ultimo match non ha avuto successo, quindi funziona solo\r\n\t\t //per espressioni regolari &quot;semplici&quot;\r\n\t\tif (matcher.regionStart() == matcher.regionEnd())\r\n\t\t\tSystem.out.println(&quot;All lexems succesfully matched&quot;);\r\n\t\telse {\r\n\t\t\tSystem.err.print(&quot;Unmatched lexem &quot;);\r\n\t\t\tmatcher.usePattern(Pattern.compile(&quot;.*&quot;));\r\n\t\t\tmatcher.lookingAt();\r\n\t\t\tSystem.err.println(matcher.group());\r\n\t\t}\r\n\t}","title":"regular expression on method Pattern.compile()","body":"<p>i have to create a regular expression to put into the method Pattern.compile(regex);\nMy regex has to allow integer (without 0 at the beginning of the number),a sequence of numbers and char (A-Za-z),but the problem is the third point: a string that must begin and end with the char ' \" ', must avoid the chars backslash (unless there isn't one other backslash) and the char '\"' (unless there is before a backslash)</p>\n\n<p>but i don't understand how to do the second point ( i have met a lot of errors), this is my java code:</p>\n\n<pre><code>public static void main(String[] args) {\n    if (args.length == 0)\n        throw new IllegalArgumentException();\n    Matcher matcher = Pattern.compile(\"([a-zA-Z]+[0-9a-zA-Z_]*)|\"\n            + \"(0(?![0-9])|([1-9]+)([0-9]*))|\" //\"?!\" √® una asserzione : \" se la condizione tra parentesi √® vera non considerare lo zero\n            + \"([\\\"]{1}(([\\\\\\\\][^\\\"\\\\][\\\\\\\"])*)[\\\"]{1})\" \n            + \"|(\\\\s+)\").matcher(args[0]);// \\s = [ \\t\\n\\x0B\\f\\r]\n    System.out.println(\"Input: \" + args[0]); //println va a capo dopo la stampa\n    while (matcher.lookingAt()) {\n        System.out.print(\"Lexeme '\" + matcher.group() + \"'\"); //non va a capo dopo la stampa\n        System.out.println(\" group \" + ExampleLexer.getGroup(matcher));\n        matcher.region(matcher.end(), matcher.regionEnd());\n    }\n\n     //attenzione: matcher.hitEnd() restituisce true se il matcher arriva in fondo\n     //all'input anche se l'ultimo match non ha avuto successo, quindi funziona solo\n     //per espressioni regolari \"semplici\"\n    if (matcher.regionStart() == matcher.regionEnd())\n        System.out.println(\"All lexems succesfully matched\");\n    else {\n        System.err.print(\"Unmatched lexem \");\n        matcher.usePattern(Pattern.compile(\".*\"));\n        matcher.lookingAt();\n        System.err.println(matcher.group());\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","stringbuilder"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1510571313,"post_id":47262756,"comment_id":81476507,"body_markdown":"Why not just use `replaceAll`? `input = input.replaceAll(&quot;[0-9/$&amp;+,:;=?@#/]+&quot;, &quot;&quot;);`?","body":"Why not just use <code>replaceAll</code>? <code>input = input.replaceAll(&quot;[0-9&#47;$&amp;+,:;=?@#&#47;]+&quot;, &quot;&quot;);</code>?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1510571553,"post_id":47262756,"comment_id":81476642,"body_markdown":"After something has been deleted, the indexes become jumbled up, because StringBuilder contents change, while Matcher contents do not. So the next iteration will not work as you might expect. You might want to collect all matches first, and only then delete.","body":"After something has been deleted, the indexes become jumbled up, because StringBuilder contents change, while Matcher contents do not. So the next iteration will not work as you might expect. You might want to collect all matches first, and only then delete."},{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":0,"creation_date":1510571787,"post_id":47262756,"comment_id":81476786,"body_markdown":"You&#39;re also missing `^` from your regex","body":"You&#39;re also missing <code>^</code> from your regex"},{"owner":{"account_id":12238490,"reputation":26,"user_id":8932193,"display_name":"Sujeet Kumar"},"score":0,"creation_date":1510571977,"post_id":47262756,"comment_id":81476889,"body_markdown":"Yep thanks. Noted that :)","body":"Yep thanks. Noted that :)"}],"answers":[{"comments":[{"owner":{"account_id":12238490,"reputation":26,"user_id":8932193,"display_name":"Sujeet Kumar"},"score":0,"creation_date":1510571899,"post_id":47262968,"comment_id":81476843,"body_markdown":"Thanks. This worked to delete them in correct sequence. However there are still the spaces left by it that need to be appended.","body":"Thanks. This worked to delete them in correct sequence. However there are still the spaces left by it that need to be appended."},{"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"score":0,"creation_date":1510572143,"post_id":47262968,"comment_id":81476988,"body_markdown":"use the below pattern to fix that  Pattern p = Pattern.compile(&quot;[\\\\^0-9/$&amp;+,:;=?@#/] *&quot;); .  * means 0 or more occurance of previous character, thus will handle spaces as well.","body":"use the below pattern to fix that  Pattern p = Pattern.compile(&quot;[\\\\^0-9/$&amp;+,:;=?@#/] *&quot;); .  * means 0 or more occurance of previous character, thus will handle spaces as well."}],"tags":[],"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510571515,"creation_date":1510571515,"answer_id":47262968,"question_id":47262756,"body_markdown":"Basically, when you have removed one character from the string buffer, the index available with matcher are no longer accurate. You can verify this by printing out the string before and after the call to sb.delete...\r\nAdd following line of code after sb.delete() to fix it.This will ensure that matcher searched for pattern again  and has the correctr indices.\r\n\r\n     m = p.matcher(sb);","title":"Using Delete method to delete substring with special char and numbers in java","body":"<p>Basically, when you have removed one character from the string buffer, the index available with matcher are no longer accurate. You can verify this by printing out the string before and after the call to sb.delete...\nAdd following line of code after sb.delete() to fix it.This will ensure that matcher searched for pattern again  and has the correctr indices.</p>\n\n<pre><code> m = p.matcher(sb);\n</code></pre>\n"}],"owner":{"account_id":12238490,"reputation":26,"user_id":8932193,"display_name":"Sujeet Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693129701,"creation_date":1510570824,"question_id":47262756,"body_markdown":"I am trying to write a small functionality to delete the irregular expression that are generated while copying text from old browsers. I have to specifically use `StringBuilder` [`delete()`][1] method for this.\r\nBelow a sample code snippet that I wrote. While it identifies the correct characters its deleting just the next iteration\r\n`\r\n\r\n        String input = buff.readLine();\r\n        \t\tStringBuilder sb = new StringBuilder(input);\r\n        \t\tPattern p = Pattern.compile(&quot;[0-9/$&amp;+,:;=?@#/]&quot;);\r\n        \t\tMatcher m = p.matcher(input);\r\n        \t\t\twhile(m.find()){\r\n        \t\t\t\t\r\n        \t\t\t\tsb.delete(m.start(), m.end());\r\n        \t\t\t}\r\n        \t\t\r\n        \t\t\t\r\n        \t\t\r\n        \t\tSystem.out.println(&quot;Formatted content\\n&quot;+sb);\r\n    //input: this is &amp;^4567 matcher\r\n    //expected output: this is matcher\r\n    //output: this is ^46 acher\r\n\r\n`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int,%20int)","title":"Using Delete method to delete substring with special char and numbers in java","body":"<p>I am trying to write a small functionality to delete the irregular expression that are generated while copying text from old browsers. I have to specifically use <code>StringBuilder</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#delete(int,%20int)\" rel=\"nofollow noreferrer\"><code>delete()</code></a> method for this.\nBelow a sample code snippet that I wrote. While it identifies the correct characters its deleting just the next iteration\n`</p>\n\n<pre><code>    String input = buff.readLine();\n            StringBuilder sb = new StringBuilder(input);\n            Pattern p = Pattern.compile(\"[0-9/$&amp;+,:;=?@#/]\");\n            Matcher m = p.matcher(input);\n                while(m.find()){\n\n                    sb.delete(m.start(), m.end());\n                }\n\n\n\n            System.out.println(\"Formatted content\\n\"+sb);\n//input: this is &amp;^4567 matcher\n//expected output: this is matcher\n//output: this is ^46 acher\n</code></pre>\n\n<p>`</p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":6,"creation_date":1693129974,"post_id":76986514,"comment_id":135717100,"body_markdown":"You can use anything you want. There‚Äôs no requirement that it be a domain name at all. The reverse domain name convention was created to avoid conflicts: if you use a domain you have actually registered, and everyone else does the same, there won‚Äôt be any conflicts.","body":"You can use anything you want. There‚Äôs no requirement that it be a domain name at all. The reverse domain name convention was created to avoid conflicts: if you use a domain you have actually registered, and everyone else does the same, there won‚Äôt be any conflicts."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1693130081,"post_id":76986514,"comment_id":135717116,"body_markdown":"So, the short answer is that new TLDs can be used without violating that convention, and nothing will break because it was only ever a convention.","body":"So, the short answer is that new TLDs can be used without violating that convention, and nothing will break because it was only ever a convention."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693130538,"post_id":76986514,"comment_id":135717154,"body_markdown":"Why do you even think that would be a problem?","body":"Why do you even think that would be a problem?"}],"owner":{"account_id":27184399,"reputation":33,"user_id":20719072,"display_name":"Alexander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693129688,"creation_date":1693129688,"question_id":76986514,"body_markdown":"Let&#39;s say I own the domain name `alexander.website`, `akira.blue`, or anything else that uses a TLD that isn&#39;t 3 letters or traditionally used in packages. Can I name packages I create `website.alexander.packagename`, or is that frowned upon? Is it a technically sound idea?","title":"Can you use less traditional Top-Level Domain Names, such as &quot;.systems&quot; or &quot;.aero&quot; in package names?","body":"<p>Let's say I own the domain name <code>alexander.website</code>, <code>akira.blue</code>, or anything else that uses a TLD that isn't 3 letters or traditionally used in packages. Can I name packages I create <code>website.alexander.packagename</code>, or is that frowned upon? Is it a technically sound idea?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1509168690,"post_id":46986107,"comment_id":80920073,"body_markdown":"Do you know how to use arrays?  When you&#39;re repeating essentially the same code 31 times, that&#39;s a strong hint that you should be using arrays or lists and looping on them.","body":"Do you know how to use arrays?  When you&#39;re repeating essentially the same code 31 times, that&#39;s a strong hint that you should be using arrays or lists and looping on them."}],"answers":[{"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1509230039,"post_id":46986350,"comment_id":80936726,"body_markdown":"This is wrong.  Changing the last part of the pattern to `[1-9]` means you can&#39;t use numbers which end in 0, which is wrong.  The second pattern also disallows letter combinations that should be allowed, like anything beginning with BA, BB, CA, CB, etc.","body":"This is wrong.  Changing the last part of the pattern to <code>[1-9]</code> means you can&#39;t use numbers which end in 0, which is wrong.  The second pattern also disallows letter combinations that should be allowed, like anything beginning with BA, BB, CA, CB, etc."}],"tags":[],"owner":{"account_id":12109179,"reputation":1,"user_id":8846746,"display_name":"payal bansal"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509166099,"creation_date":1509166099,"answer_id":46986350,"question_id":46986107,"body_markdown":"It is working for me. However, not checked in details. But your patterns can be improved upon a bit. Try this as the pattern:\r\n\r\n    Pattern p1 = Pattern.compile(&quot;[a|A][a-f][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m1 = p1.matcher(field_val); // aguascalientes\r\n\r\n    Pattern p2 = Pattern.compile(&quot;[a-c][g-y&amp;&amp;^[ioq]][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m2 = p2.matcher(field_val);\r\n\r\n-jahanvi.bansal@gmail.com","title":"Matcher not matching patterns properly","body":"<p>It is working for me. However, not checked in details. But your patterns can be improved upon a bit. Try this as the pattern:</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"[a|A][a-f][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]\");\nMatcher m1 = p1.matcher(field_val); // aguascalientes\n\nPattern p2 = Pattern.compile(\"[a-c][g-y&amp;&amp;^[ioq]][a-z&amp;&amp;[^ioq]][-][0-9][0-9][0-9][1-9]\");\nMatcher m2 = p2.matcher(field_val);\n</code></pre>\n\n<p>-jahanvi.bansal@gmail.com</p>\n"},{"tags":[],"owner":{"account_id":12109179,"reputation":1,"user_id":8846746,"display_name":"payal bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509166379,"creation_date":1509166379,"answer_id":46986376,"question_id":46986107,"body_markdown":"You can use this in case you want both uppercase and lower case check\r\n\r\n    Pattern p1 = Pattern.compile(&quot;[a|A][a-f[A-F]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m1 = p1.matcher(field_val); // aguascalientes\r\n\r\n    Pattern p2 = Pattern.compile(&quot;[a-c[A-C]][g-y[G-Y]&amp;&amp;[^ioqIOQ]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]&quot;);\r\n    Matcher m2 = p2.matcher(field_val); // bajac","title":"Matcher not matching patterns properly","body":"<p>You can use this in case you want both uppercase and lower case check</p>\n\n<pre><code>Pattern p1 = Pattern.compile(\"[a|A][a-f[A-F]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]\");\nMatcher m1 = p1.matcher(field_val); // aguascalientes\n\nPattern p2 = Pattern.compile(\"[a-c[A-C]][g-y[G-Y]&amp;&amp;[^ioqIOQ]][a-z[A-Z]&amp;&amp;[^ioqIOQ]][-][0-9][0-9][0-9][1-9]\");\nMatcher m2 = p2.matcher(field_val); // bajac\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9983051,"reputation":61,"user_id":7385309,"accept_rate":40,"display_name":"BlazePage001"},"score":0,"creation_date":1509298961,"post_id":46986744,"comment_id":80953023,"body_markdown":"Thanks a lot for the answer @ajb \ni&#39;m using a font that outputs only Uppercase Letters so there is no need to convert them","body":"Thanks a lot for the answer @ajb  i&#39;m using a font that outputs only Uppercase Letters so there is no need to convert them"},{"owner":{"account_id":9983051,"reputation":61,"user_id":7385309,"accept_rate":40,"display_name":"BlazePage001"},"score":0,"creation_date":1509302472,"post_id":46986744,"comment_id":80954180,"body_markdown":"i used your the pattern you have me this one to be clear `Pattern licensePlatePattern = Pattern.compile(&quot;([a-z&amp;&amp;[^ioq]]{3})-\\\\d{4}&quot;);` \nand the matchers but i keep getting wrong results for the same states @ajb","body":"i used your the pattern you have me this one to be clear <code>Pattern licensePlatePattern = Pattern.compile(&quot;([a-z&amp;&amp;[^ioq]]{3})-\\\\d{4}&quot;);</code>  and the matchers but i keep getting wrong results for the same states @ajb"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1509314023,"post_id":46986744,"comment_id":80957782,"body_markdown":"I understand, but next time please clarify that the input is lower-case letters only.  The regex doesn&#39;t know or care about your font.  So if you make it look like you have upper-case letters in the input, you will confuse us.","body":"I understand, but next time please clarify that the input is lower-case letters only.  The regex doesn&#39;t know or care about your font.  So if you make it look like you have upper-case letters in the input, you will confuse us."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1509314075,"post_id":46986744,"comment_id":80957794,"body_markdown":"Regarding your problem that you &quot;keep getting wrong results&quot;: you are not giving me nearly enough details to help answer this.","body":"Regarding your problem that you &quot;keep getting wrong results&quot;: you are not giving me nearly enough details to help answer this."},{"owner":{"account_id":9983051,"reputation":61,"user_id":7385309,"accept_rate":40,"display_name":"BlazePage001"},"score":0,"creation_date":1509413642,"post_id":46986744,"comment_id":81000362,"body_markdown":"it was my error i had an `if` statement not in the correct place \nwith your help it works perfectly fine thank you","body":"it was my error i had an <code>if</code> statement not in the correct place  with your help it works perfectly fine thank you"}],"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509170520,"creation_date":1509170520,"answer_id":46986744,"question_id":46986107,"body_markdown":"I assume you&#39;re converting all your input strings to lower case before using these pattern matchers.  (It&#39;s confusing that you&#39;ve left this out of the question, since you&#39;re talking about license plate numbers in upper case but matching only lower-case letters.)\r\n\r\nI don&#39;t see why ABH-6262 would give you the wrong result.  However, there are definitely combinations that will produce the wrong result.  For example, you say Edomex should be from LGA-0001 to PEZ-9999.  However, your pattern\r\n\r\n    Pattern p10 = Pattern.compile(&quot;[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n\r\nwill accept any combination whose first letter is L, M, N, or P, which is fine, but will also accept any combination whose second letter is not F (or I, O, Q).  This means that it will accept LAA, which should belong to Jalisco; and it will not accept MFA, which should be part of Edomex.\r\n\r\nThe problem is that you want to compare three-letter &quot;words&quot; in alphabetical order, and regular expressions are the wrong tool for that job.  You _could_ do it, with a pattern like\r\n\r\n    (l[g-z&amp;&amp;[^ioq]]|[mn][a-z&amp;&amp;[^ioq]]|p[a-e])[a-z&amp;&amp;[^ioq]]-\\d\\d\\d\\d\r\n\r\nThe part in parentheses, using `|` characters, means that it can match one of the alternatives.  In this case, it matches the first two letters of the license plate if one of the following is true (and if no letter is I, O, or Q):\r\n\r\n - The first letter is L, and the second letter is G to Z;\r\n - The first letter is M or N, and the second letter is anything;\r\n - The first letter is P, and the second letter is A to E.\r\n\r\nYou&#39;d have to rewrite many of your matchers to do something like this.  But this makes things much more complicated than they should be.  The fact is, you should be using string comparisons, not pattern matchers, to accomplish what you&#39;re trying to do.\r\n\r\nYou can do this with just one pattern:\r\n\r\n    Pattern licensePlatePattern = Pattern.compile(&quot;([a-z&amp;&amp;[^ioq]]{3})-\\\\d{4}&quot;);\r\n\r\nA few things to note: The first part matches any three letters that are not I, O, or Q; but that part of the pattern is in parentheses, which creates a _group_ so that we can look at the three letters later.  Note that this also uses `{3}` to mean exactly three of the thing before it (similarly `{4}`).  Also note that I used `-` by itself to match the dash, not `[-]`; you don&#39;t need to use `[]` when matching just one specific character.\r\n\r\nNow:\r\n\r\n    Matcher matcher = licensePlatePattern.matcher(field_val.getText());\r\n    if (matcher.find()) {\r\n        String letters = matcher.group(1);\r\n            // This gets the part of the input that matches the first parenthesized\r\n            // part of the pattern (in this case, the only parenthesized part)\r\n        if (letters.compareTo(&quot;aaa&quot;) &gt;= 0 &amp;&amp; letters.compareTo(&quot;afz&quot;) &lt;= 0) then {\r\n            res.setText(&quot; Your State is  Aguascalientes&quot;);\r\n        } else if (letters.compareTo(&quot;aga&quot;) &gt;= 0 &amp;&amp; letters.compareTo(&quot;cyz&quot;) &lt;= 0) then {\r\n            res.setText(&quot; Your State is  Baja&quot;);\r\n        } else if (letters.compareTo(&quot;cza&quot;) &gt;= 0 &amp;&amp; letters.compareTo(&quot;dez&quot;) &lt;= 0) then {\r\n            res.setText(&quot; Your State is  Baja Sur&quot;);\r\n\r\nand so on.  This is a lot easier to understand than having 31 complex patterns.  Even better would be to put the information for the states in an array, like\r\n\r\n    public class StateInfo {\r\n        private String name;\r\n        private String lowestThreeLetters;\r\n        private String highestThreeLetters;\r\n        // constructor, getters -- I&#39;ll let you figure out how to write these\r\n    }\r\n\r\n    // in some other class:\r\n    public static final StateInfo[] stateInfo = new StateInfo[] {\r\n        new StateInfo(&quot;Aguascalientes&quot;, &quot;aaa&quot;, &quot;afz&quot;),\r\n        new StateInfo(&quot;Baja&quot;, &quot;aga&quot;, &quot;cyz&quot;),\r\n        new StateInfo(&quot;Baja Sur&quot;, &quot;cza&quot;, &quot;dez&quot;),\r\n        ... };\r\n\r\nand instead of 31 `if` statements, you can loop through the array:\r\n\r\n        String letters = matcher.group(1);\r\n        for (StateInfo s : stateInfo) {\r\n            if (letters.compareTo(s.getLowestThreeLetters()) &gt;= 0 &amp;&amp;\r\n                letters.compareTo(s.getHighestThreeLetters()) &lt;= 0) { \r\n                res.setText(&quot; Your State is  &quot; + s.getName());\r\n                break;\r\n            }\r\n        }\r\n","title":"Matcher not matching patterns properly","body":"<p>I assume you're converting all your input strings to lower case before using these pattern matchers.  (It's confusing that you've left this out of the question, since you're talking about license plate numbers in upper case but matching only lower-case letters.)</p>\n\n<p>I don't see why ABH-6262 would give you the wrong result.  However, there are definitely combinations that will produce the wrong result.  For example, you say Edomex should be from LGA-0001 to PEZ-9999.  However, your pattern</p>\n\n<pre><code>Pattern p10 = Pattern.compile(\"[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n</code></pre>\n\n<p>will accept any combination whose first letter is L, M, N, or P, which is fine, but will also accept any combination whose second letter is not F (or I, O, Q).  This means that it will accept LAA, which should belong to Jalisco; and it will not accept MFA, which should be part of Edomex.</p>\n\n<p>The problem is that you want to compare three-letter \"words\" in alphabetical order, and regular expressions are the wrong tool for that job.  You <em>could</em> do it, with a pattern like</p>\n\n<pre><code>(l[g-z&amp;&amp;[^ioq]]|[mn][a-z&amp;&amp;[^ioq]]|p[a-e])[a-z&amp;&amp;[^ioq]]-\\d\\d\\d\\d\n</code></pre>\n\n<p>The part in parentheses, using <code>|</code> characters, means that it can match one of the alternatives.  In this case, it matches the first two letters of the license plate if one of the following is true (and if no letter is I, O, or Q):</p>\n\n<ul>\n<li>The first letter is L, and the second letter is G to Z;</li>\n<li>The first letter is M or N, and the second letter is anything;</li>\n<li>The first letter is P, and the second letter is A to E.</li>\n</ul>\n\n<p>You'd have to rewrite many of your matchers to do something like this.  But this makes things much more complicated than they should be.  The fact is, you should be using string comparisons, not pattern matchers, to accomplish what you're trying to do.</p>\n\n<p>You can do this with just one pattern:</p>\n\n<pre><code>Pattern licensePlatePattern = Pattern.compile(\"([a-z&amp;&amp;[^ioq]]{3})-\\\\d{4}\");\n</code></pre>\n\n<p>A few things to note: The first part matches any three letters that are not I, O, or Q; but that part of the pattern is in parentheses, which creates a <em>group</em> so that we can look at the three letters later.  Note that this also uses <code>{3}</code> to mean exactly three of the thing before it (similarly <code>{4}</code>).  Also note that I used <code>-</code> by itself to match the dash, not <code>[-]</code>; you don't need to use <code>[]</code> when matching just one specific character.</p>\n\n<p>Now:</p>\n\n<pre><code>Matcher matcher = licensePlatePattern.matcher(field_val.getText());\nif (matcher.find()) {\n    String letters = matcher.group(1);\n        // This gets the part of the input that matches the first parenthesized\n        // part of the pattern (in this case, the only parenthesized part)\n    if (letters.compareTo(\"aaa\") &gt;= 0 &amp;&amp; letters.compareTo(\"afz\") &lt;= 0) then {\n        res.setText(\" Your State is  Aguascalientes\");\n    } else if (letters.compareTo(\"aga\") &gt;= 0 &amp;&amp; letters.compareTo(\"cyz\") &lt;= 0) then {\n        res.setText(\" Your State is  Baja\");\n    } else if (letters.compareTo(\"cza\") &gt;= 0 &amp;&amp; letters.compareTo(\"dez\") &lt;= 0) then {\n        res.setText(\" Your State is  Baja Sur\");\n</code></pre>\n\n<p>and so on.  This is a lot easier to understand than having 31 complex patterns.  Even better would be to put the information for the states in an array, like</p>\n\n<pre><code>public class StateInfo {\n    private String name;\n    private String lowestThreeLetters;\n    private String highestThreeLetters;\n    // constructor, getters -- I'll let you figure out how to write these\n}\n\n// in some other class:\npublic static final StateInfo[] stateInfo = new StateInfo[] {\n    new StateInfo(\"Aguascalientes\", \"aaa\", \"afz\"),\n    new StateInfo(\"Baja\", \"aga\", \"cyz\"),\n    new StateInfo(\"Baja Sur\", \"cza\", \"dez\"),\n    ... };\n</code></pre>\n\n<p>and instead of 31 <code>if</code> statements, you can loop through the array:</p>\n\n<pre><code>    String letters = matcher.group(1);\n    for (StateInfo s : stateInfo) {\n        if (letters.compareTo(s.getLowestThreeLetters()) &gt;= 0 &amp;&amp;\n            letters.compareTo(s.getHighestThreeLetters()) &lt;= 0) { \n            res.setText(\" Your State is  \" + s.getName());\n            break;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":9983051,"reputation":61,"user_id":7385309,"accept_rate":40,"display_name":"BlazePage001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1693129687,"creation_date":1509163338,"question_id":46986107,"body_markdown":"I&#39;m making a program that validates license plates for 31 States, each have different format and go from certain values also they should not include the letters I,O or Q in any of the license plates, here are the formats:\r\n\r\n    AGUASCALIENTES --from AAA-0001 to AFZ- 9999 \r\n    \r\n    BAJA CALIFORNIA-- from AGA-0001 to CYZ-9999 \r\n    \r\n    BAJA CALIFORNIA SUR-- from  CZA-0001 to DEZ-9999 \r\n    \r\n    CAMPECHE --\tfrom DFA-0001 to DKZ-9999 \r\n    \r\n    CHIAPAS --\tfrom DLA-0001 to DSZ-9999 \r\n    \r\n    CHIHUAHUA -- from\tDTA-0001 to\tETZ-9999 \r\n    \r\n    COAHUILA -- from EUA-0001 to FPZ-9999 \r\n    \r\n    COLIMA --\tfrom FRA-0001 to FWZ-9999 \r\n    \r\n    DURANGO -- from\tFXA-0001 to\tGFZ-9999 \r\n    \r\n    STATE OF MEXICO -- from\tLGA-0001 to\tPEZ-9999 \r\n    \r\n    GUANAJUATO -- from\tGGA-0001 to\tGYZ-9999 \r\n    \r\n    GUERRERO --\tfrom GZA-0001 to HFZ-9999 \r\n    \r\n    HIDALGO --\tfrom HGA-0001 to HRZ-9999 \r\n    \r\n    JALISCO -- from\tHSA-0001 to\tLFZ-9999 \r\n    \r\n    MICHOAC&#193;N -- from PFA-0001 \tto\tPUZ-9999 \r\n    \r\n    MORELOS --\tfrom PVA-0001 \tto\tRDZ-9999 \r\n    \r\n    NAYARIT -- from\tREA-0001 \tto\tRJZ-9999 \r\n    \r\n    NUEVO LE&#211;N -- from\tRKA-0001 \tto\tTGZ-999 \r\n    \r\n    OAXACA --\tfrom THA-0001 \tto\tTMZ-9999 \r\n    \r\n    PUEBLA--\tfrom TNA-0001 \tto\tUJZ-9999 \r\n    \r\n    QUER&#201;TARO-- from\tUKA-0001 \tto\tUPZ-9999 \r\n    \r\n    QUINTANA ROO-- from\tURA-0001 \tto\tUVZ-9999 \r\n    \r\n    SAN LUIS POTOS&#205;-- from\tUWA-0001 \tto\tVEZ-9999 \r\n    \r\n    SINALOA-- from\tVFA-0001 \tto\tVSZ-9999 \r\n    \r\n    SONORA-- from\tVTA-0001 \tto\tWKZ-9999 \r\n    \r\n    TABASCO-- from\tWLA-0001 \tto\tWWZ-9999 \r\n    \r\n    TAMAULIPAS-- from WXA-0001 \tto\tXSZ-9999 \r\n    \r\n    TLAXCALA-- from\tXTA-0001 \tto\tXXZ-9999 \r\n    \r\n    VERACRUZ-- from\tXYA-0001 \tto\tYVZ-9999 \r\n    \r\n    YUCAT&#193;N-- from\tYWA-0001 \tto\tZCZ-9999 \r\n    \r\n    ZACATECAS-- fromZDA-0001 \tto\tZHZ-9999 \r\n\r\nSo acording to the format a license plate for Campeche would go like this :\r\nDGB-5643\r\n\r\nI made these patterns\r\n\r\n       Pattern p1 = Pattern.compile(&quot;[a][a-z&amp;&amp;[^ioqghjklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m1 = p1.matcher(field_val.getText()); // aguascalientes\r\n\r\n        Pattern p2 = Pattern.compile(&quot;[a|b|c][a-z&amp;&amp;[^ioqhjklmnprstuvwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m2 = p2.matcher(field_val.getText()); // bajac\r\n\r\n        Pattern p3 = Pattern.compile(&quot;[c|d][a-z&amp;&amp;[^ioqfghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m3 = p3.matcher(field_val.getText()); // bajasur\r\n\r\n        Pattern p4 = Pattern.compile(&quot;[d][a-z&amp;&amp;[^ioqabcdelmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m4 = p4.matcher(field_val.getText()); // campeche\r\n\r\n        Pattern p5 = Pattern.compile(&quot;[d][a-z&amp;&amp;[^ioqabcdefghjktuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m5 = p5.matcher(field_val.getText()); // chiapas\r\n\r\n        Pattern p6 = Pattern.compile(&quot;[d|e][a-z&amp;&amp;[^ioqabcdefghjklmnprsuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m6 = p6.matcher(field_val.getText()); // chihuahua\r\n\r\n        Pattern p7 = Pattern.compile(&quot;[e|f][a-z&amp;&amp;[^ioqabcdefghjklmnvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m7 = p7.matcher(field_val.getText()); // coahuila\r\n\r\n        Pattern p8 = Pattern.compile(&quot;[f][a-z&amp;&amp;[^ioqabcdefghjklmnpxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m8 = p8.matcher(field_val.getText()); // colima\r\n\r\n        Pattern p9 = Pattern.compile(&quot;[f|g][a-z&amp;&amp;[^ioqghjklmnprstuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m9 = p9.matcher(field_val.getText()); // durango\r\n\r\n        Pattern p10 = Pattern.compile(&quot;[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m10 = p10.matcher(field_val.getText()); // edomex\r\n\r\n        Pattern p11 = Pattern.compile(&quot;[g][a-z&amp;&amp;[^ioqabcdefz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m11 = p11.matcher(field_val.getText()); // guanajuato\r\n\r\n        Pattern p12 = Pattern.compile(&quot;[g|h][a-z&amp;&amp;[^ioqghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m12 = p12.matcher(field_val.getText()); // guerrero\r\n\r\n        Pattern p13 = Pattern.compile(&quot;[h][a-z&amp;&amp;[^ioqabcdefstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m13 = p13.matcher(field_val.getText()); // hidalgo\r\n\r\n        Pattern p14 = Pattern.compile(&quot;[h|j|k|l][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m14 = p14.matcher(field_val.getText()); // jalisco\r\n\r\n        Pattern p15 = Pattern.compile(&quot;[p][a-z&amp;&amp;[^ioqabcdevwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m15 = p15.matcher(field_val.getText()); // michoacan\r\n\r\n        Pattern p16 = Pattern.compile(&quot;[p|r][a-z&amp;&amp;[^ioqefghjklmnprstu]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m16 = p16.matcher(field_val.getText()); // morelos\r\n\r\n        Pattern p17 = Pattern.compile(&quot;[r][a-z&amp;&amp;[^ioqabcdklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m17 = p17.matcher(field_val.getText()); // nayarit\r\n\r\n        Pattern p18 = Pattern.compile(&quot;[r|s|t][a-z&amp;&amp;[^ioqhj]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m18 = p18.matcher(field_val.getText()); // nuevoleon\r\n\r\n        Pattern p19 = Pattern.compile(&quot;[t][a-z&amp;&amp;[^ioqabcdefgnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m19 = p19.matcher(field_val.getText()); // oaxaca\r\n\r\n        Pattern p20 = Pattern.compile(&quot;[t|u][a-z&amp;&amp;[^ioqklm]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m20 = p20.matcher(field_val.getText()); // puebla\r\n\r\n        Pattern p21 = Pattern.compile(&quot;[u][a-z&amp;&amp;[^ioqabcdefghjrstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m21 = p21.matcher(field_val.getText()); // queretaro\r\n\r\n        Pattern p22 = Pattern.compile(&quot;[u][a-z&amp;&amp;[^ioqabcdefghjklmnpwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m22 = p22.matcher(field_val.getText()); // quintanaroo\r\n\r\n        Pattern p23 = Pattern.compile(&quot;[u|v][a-z&amp;&amp;[^ioqfghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m23 = p23.matcher(field_val.getText()); // sanluispotosi\r\n\r\n        Pattern p24 = Pattern.compile(&quot;[v][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m24 = p24.matcher(field_val.getText()); // sinaloa\r\n\r\n        Pattern p25 = Pattern.compile(&quot;[v|w][a-z&amp;&amp;[^ioqlmnprs]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m25 = p25.matcher(field_val.getText()); // sonora\r\n\r\n        Pattern p26 = Pattern.compile(&quot;[w][a-z&amp;&amp;[^ioqabcdefghjkxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m26 = p26.matcher(field_val.getText()); // tabasco\r\n\r\n        Pattern p27 = Pattern.compile(&quot;[w|x][a-z&amp;&amp;[^ioqtuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m27 = p27.matcher(field_val.getText()); // tamaulipas\r\n\r\n        Pattern p28 = Pattern.compile(&quot;[x][a-z&amp;&amp;[^ioqabcdefghjklmnprsyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m28 = p28.matcher(field_val.getText()); // tlaxcala\r\n\r\n        Pattern p29 = Pattern.compile(&quot;[x][a-z&amp;&amp;[^ioqwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m29 = p29.matcher(field_val.getText()); // veracruz\r\n\r\n        Pattern p30 = Pattern.compile(&quot;[y|z][a-z&amp;&amp;[^ioqdefghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m30 = p30.matcher(field_val.getText()); // yucatan\r\n\r\n        Pattern p31 = Pattern.compile(&quot;[z][a-z&amp;&amp;[^ioqabcjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d&quot;);\r\n        Matcher m31 = p31.matcher(field_val.getText()); // zacatecas\r\n\r\nI&#39;m sending the result to a `textfield` called `res`\r\n\r\nhere are the matchers \r\n\r\n     if (m1.find()) {\r\n\r\n            res.setText(&quot; Your State is  Aguascalientes&quot;);\r\n        } else if (m2.find()) {\r\n\r\n            res.setText(&quot; Your State is  Baja&quot;);\r\n        } else if (m3.find()) {\r\n\r\n            res.setText(&quot; Your State is  Baja Sur&quot;);\r\n        } else if (m4.find()) {\r\n\r\n            res.setText(&quot; Your State is  Campeche&quot;);\r\n        } else if (m5.find()) {\r\n\r\n            res.setText(&quot; Your State is  Chiapas&quot;);\r\n        } else if (m6.find()) {\r\n\r\n            res.setText(&quot; Your State is  Chihuahua&quot;);\r\n        } else if (m7.find()) {\r\n\r\n            res.setText(&quot; Your State is  Coahuila&quot;);\r\n        } else if (m8.find()) {\r\n\r\n            res.setText(&quot; Your State is  Colima&quot;);\r\n        } else if (m9.find()) {\r\n\r\n            res.setText(&quot; Your State is  Durango&quot;);\r\n        } else if (m10.find()) {\r\n\r\n            res.setText(&quot; Your State is  Edomex&quot;);\r\n        } else if (m11.find()) {\r\n\r\n            res.setText(&quot; Your State is  Guanajuato&quot;);\r\n        } else if (m12.find()) {\r\n\r\n            res.setText(&quot; Your State is  Guerrero&quot;);\r\n        } else if (m13.find()) {\r\n\r\n            res.setText(&quot; Your State is  Hidalgo&quot;);\r\n        } else if (m14.find()) {\r\n\r\n            res.setText(&quot; Your State is  Jalisco&quot;);\r\n        } else if (m15.find()) {\r\n\r\n            res.setText(&quot; Your State is  Michoacan&quot;);\r\n        } else if (m16.find()) {\r\n\r\n            res.setText(&quot; Your State is  Morelos&quot;);\r\n        } else if (m17.find()) {\r\n\r\n            res.setText(&quot; Your State is  Nayarit&quot;);\r\n        } else if (m18.find()) {\r\n\r\n            res.setText(&quot; Your State is  Nuevo Leon&quot;);\r\n        } else if (m19.find()) {\r\n\r\n            res.setText(&quot; Your State is  Oaxaca&quot;);\r\n        } else if (m20.find()) {\r\n\r\n            res.setText(&quot; Your State is  Puebla&quot;);\r\n        } else if (m21.find()) {\r\n\r\n            res.setText(&quot; Your State is  Queretaro&quot;);\r\n        } else if (m22.find()) {\r\n\r\n            res.setText(&quot; Your State is  Quintana Roo&quot;);\r\n        } else if (m23.find()) {\r\n\r\n            res.setText(&quot; Your State is  San Luis Potosi&quot;);\r\n        } else if (m24.find()) {\r\n\r\n            res.setText(&quot; Your State is  Sinaloa&quot;);\r\n        } else if (m25.find()) {\r\n\r\n            res.setText(&quot; Your State is  Sonora&quot;);\r\n        } else if (m26.find()) {\r\n\r\n            res.setText(&quot; Your State is  Tabasco&quot;);\r\n        } else if (m27.find()) {\r\n\r\n            res.setText(&quot; Your State is  Tamaulipas&quot;);\r\n        } else if (m28.find()) {\r\n\r\n            res.setText(&quot; Your State is  Tlaxcala&quot;);\r\n        } else if (m29.find()) {\r\n\r\n            res.setText(&quot; Your State is  Veracruz&quot;);\r\n        } else if (m30.find()) {\r\n\r\n            res.setText(&quot; Your State is  Yucatan&quot;);\r\n        } else if (m31.find()) {\r\n\r\n            res.setText(&quot; Your State is  Zacatecas&quot;);\r\n        }\r\n\r\nIn cases where the first Letter Repeats in two or three states i don&#39;t get the correct match for the state i want \r\n\r\nFor example i input ABH-6262 and i get `Your State is Baja California` as a result and i&#39;m expecting to get Aguascalientes \r\n\r\n","title":"Matcher not matching patterns properly","body":"<p>I'm making a program that validates license plates for 31 States, each have different format and go from certain values also they should not include the letters I,O or Q in any of the license plates, here are the formats:</p>\n\n<pre><code>AGUASCALIENTES --from AAA-0001 to AFZ- 9999 \n\nBAJA CALIFORNIA-- from AGA-0001 to CYZ-9999 \n\nBAJA CALIFORNIA SUR-- from  CZA-0001 to DEZ-9999 \n\nCAMPECHE -- from DFA-0001 to DKZ-9999 \n\nCHIAPAS --  from DLA-0001 to DSZ-9999 \n\nCHIHUAHUA -- from   DTA-0001 to ETZ-9999 \n\nCOAHUILA -- from EUA-0001 to FPZ-9999 \n\nCOLIMA --   from FRA-0001 to FWZ-9999 \n\nDURANGO -- from FXA-0001 to GFZ-9999 \n\nSTATE OF MEXICO -- from LGA-0001 to PEZ-9999 \n\nGUANAJUATO -- from  GGA-0001 to GYZ-9999 \n\nGUERRERO -- from GZA-0001 to HFZ-9999 \n\nHIDALGO --  from HGA-0001 to HRZ-9999 \n\nJALISCO -- from HSA-0001 to LFZ-9999 \n\nMICHOAC√ÅN -- from PFA-0001  to  PUZ-9999 \n\nMORELOS --  from PVA-0001   to  RDZ-9999 \n\nNAYARIT -- from REA-0001    to  RJZ-9999 \n\nNUEVO LE√ìN -- from  RKA-0001    to  TGZ-999 \n\nOAXACA --   from THA-0001   to  TMZ-9999 \n\nPUEBLA--    from TNA-0001   to  UJZ-9999 \n\nQUER√âTARO-- from    UKA-0001    to  UPZ-9999 \n\nQUINTANA ROO-- from URA-0001    to  UVZ-9999 \n\nSAN LUIS POTOS√ç-- from  UWA-0001    to  VEZ-9999 \n\nSINALOA-- from  VFA-0001    to  VSZ-9999 \n\nSONORA-- from   VTA-0001    to  WKZ-9999 \n\nTABASCO-- from  WLA-0001    to  WWZ-9999 \n\nTAMAULIPAS-- from WXA-0001  to  XSZ-9999 \n\nTLAXCALA-- from XTA-0001    to  XXZ-9999 \n\nVERACRUZ-- from XYA-0001    to  YVZ-9999 \n\nYUCAT√ÅN-- from  YWA-0001    to  ZCZ-9999 \n\nZACATECAS-- fromZDA-0001    to  ZHZ-9999 \n</code></pre>\n\n<p>So acording to the format a license plate for Campeche would go like this :\nDGB-5643</p>\n\n<p>I made these patterns</p>\n\n<pre><code>   Pattern p1 = Pattern.compile(\"[a][a-z&amp;&amp;[^ioqghjklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m1 = p1.matcher(field_val.getText()); // aguascalientes\n\n    Pattern p2 = Pattern.compile(\"[a|b|c][a-z&amp;&amp;[^ioqhjklmnprstuvwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m2 = p2.matcher(field_val.getText()); // bajac\n\n    Pattern p3 = Pattern.compile(\"[c|d][a-z&amp;&amp;[^ioqfghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m3 = p3.matcher(field_val.getText()); // bajasur\n\n    Pattern p4 = Pattern.compile(\"[d][a-z&amp;&amp;[^ioqabcdelmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m4 = p4.matcher(field_val.getText()); // campeche\n\n    Pattern p5 = Pattern.compile(\"[d][a-z&amp;&amp;[^ioqabcdefghjktuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m5 = p5.matcher(field_val.getText()); // chiapas\n\n    Pattern p6 = Pattern.compile(\"[d|e][a-z&amp;&amp;[^ioqabcdefghjklmnprsuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m6 = p6.matcher(field_val.getText()); // chihuahua\n\n    Pattern p7 = Pattern.compile(\"[e|f][a-z&amp;&amp;[^ioqabcdefghjklmnvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m7 = p7.matcher(field_val.getText()); // coahuila\n\n    Pattern p8 = Pattern.compile(\"[f][a-z&amp;&amp;[^ioqabcdefghjklmnpxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m8 = p8.matcher(field_val.getText()); // colima\n\n    Pattern p9 = Pattern.compile(\"[f|g][a-z&amp;&amp;[^ioqghjklmnprstuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m9 = p9.matcher(field_val.getText()); // durango\n\n    Pattern p10 = Pattern.compile(\"[l|m|n|p][a-z&amp;&amp;[^ioqf]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m10 = p10.matcher(field_val.getText()); // edomex\n\n    Pattern p11 = Pattern.compile(\"[g][a-z&amp;&amp;[^ioqabcdefz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m11 = p11.matcher(field_val.getText()); // guanajuato\n\n    Pattern p12 = Pattern.compile(\"[g|h][a-z&amp;&amp;[^ioqghjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m12 = p12.matcher(field_val.getText()); // guerrero\n\n    Pattern p13 = Pattern.compile(\"[h][a-z&amp;&amp;[^ioqabcdefstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m13 = p13.matcher(field_val.getText()); // hidalgo\n\n    Pattern p14 = Pattern.compile(\"[h|j|k|l][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m14 = p14.matcher(field_val.getText()); // jalisco\n\n    Pattern p15 = Pattern.compile(\"[p][a-z&amp;&amp;[^ioqabcdevwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m15 = p15.matcher(field_val.getText()); // michoacan\n\n    Pattern p16 = Pattern.compile(\"[p|r][a-z&amp;&amp;[^ioqefghjklmnprstu]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m16 = p16.matcher(field_val.getText()); // morelos\n\n    Pattern p17 = Pattern.compile(\"[r][a-z&amp;&amp;[^ioqabcdklmnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m17 = p17.matcher(field_val.getText()); // nayarit\n\n    Pattern p18 = Pattern.compile(\"[r|s|t][a-z&amp;&amp;[^ioqhj]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m18 = p18.matcher(field_val.getText()); // nuevoleon\n\n    Pattern p19 = Pattern.compile(\"[t][a-z&amp;&amp;[^ioqabcdefgnprstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m19 = p19.matcher(field_val.getText()); // oaxaca\n\n    Pattern p20 = Pattern.compile(\"[t|u][a-z&amp;&amp;[^ioqklm]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m20 = p20.matcher(field_val.getText()); // puebla\n\n    Pattern p21 = Pattern.compile(\"[u][a-z&amp;&amp;[^ioqabcdefghjrstuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m21 = p21.matcher(field_val.getText()); // queretaro\n\n    Pattern p22 = Pattern.compile(\"[u][a-z&amp;&amp;[^ioqabcdefghjklmnpwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m22 = p22.matcher(field_val.getText()); // quintanaroo\n\n    Pattern p23 = Pattern.compile(\"[u|v][a-z&amp;&amp;[^ioqfghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m23 = p23.matcher(field_val.getText()); // sanluispotosi\n\n    Pattern p24 = Pattern.compile(\"[v][a-z&amp;&amp;[^ioqabcdetuvwxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m24 = p24.matcher(field_val.getText()); // sinaloa\n\n    Pattern p25 = Pattern.compile(\"[v|w][a-z&amp;&amp;[^ioqlmnprs]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m25 = p25.matcher(field_val.getText()); // sonora\n\n    Pattern p26 = Pattern.compile(\"[w][a-z&amp;&amp;[^ioqabcdefghjkxyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m26 = p26.matcher(field_val.getText()); // tabasco\n\n    Pattern p27 = Pattern.compile(\"[w|x][a-z&amp;&amp;[^ioqtuvw]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m27 = p27.matcher(field_val.getText()); // tamaulipas\n\n    Pattern p28 = Pattern.compile(\"[x][a-z&amp;&amp;[^ioqabcdefghjklmnprsyz]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m28 = p28.matcher(field_val.getText()); // tlaxcala\n\n    Pattern p29 = Pattern.compile(\"[x][a-z&amp;&amp;[^ioqwx]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m29 = p29.matcher(field_val.getText()); // veracruz\n\n    Pattern p30 = Pattern.compile(\"[y|z][a-z&amp;&amp;[^ioqdefghjklmnprstuv]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m30 = p30.matcher(field_val.getText()); // yucatan\n\n    Pattern p31 = Pattern.compile(\"[z][a-z&amp;&amp;[^ioqabcjklmnprstuvwxy]][a-z][-]\\\\d\\\\d\\\\d\\\\d\");\n    Matcher m31 = p31.matcher(field_val.getText()); // zacatecas\n</code></pre>\n\n<p>I'm sending the result to a <code>textfield</code> called <code>res</code></p>\n\n<p>here are the matchers </p>\n\n<pre><code> if (m1.find()) {\n\n        res.setText(\" Your State is  Aguascalientes\");\n    } else if (m2.find()) {\n\n        res.setText(\" Your State is  Baja\");\n    } else if (m3.find()) {\n\n        res.setText(\" Your State is  Baja Sur\");\n    } else if (m4.find()) {\n\n        res.setText(\" Your State is  Campeche\");\n    } else if (m5.find()) {\n\n        res.setText(\" Your State is  Chiapas\");\n    } else if (m6.find()) {\n\n        res.setText(\" Your State is  Chihuahua\");\n    } else if (m7.find()) {\n\n        res.setText(\" Your State is  Coahuila\");\n    } else if (m8.find()) {\n\n        res.setText(\" Your State is  Colima\");\n    } else if (m9.find()) {\n\n        res.setText(\" Your State is  Durango\");\n    } else if (m10.find()) {\n\n        res.setText(\" Your State is  Edomex\");\n    } else if (m11.find()) {\n\n        res.setText(\" Your State is  Guanajuato\");\n    } else if (m12.find()) {\n\n        res.setText(\" Your State is  Guerrero\");\n    } else if (m13.find()) {\n\n        res.setText(\" Your State is  Hidalgo\");\n    } else if (m14.find()) {\n\n        res.setText(\" Your State is  Jalisco\");\n    } else if (m15.find()) {\n\n        res.setText(\" Your State is  Michoacan\");\n    } else if (m16.find()) {\n\n        res.setText(\" Your State is  Morelos\");\n    } else if (m17.find()) {\n\n        res.setText(\" Your State is  Nayarit\");\n    } else if (m18.find()) {\n\n        res.setText(\" Your State is  Nuevo Leon\");\n    } else if (m19.find()) {\n\n        res.setText(\" Your State is  Oaxaca\");\n    } else if (m20.find()) {\n\n        res.setText(\" Your State is  Puebla\");\n    } else if (m21.find()) {\n\n        res.setText(\" Your State is  Queretaro\");\n    } else if (m22.find()) {\n\n        res.setText(\" Your State is  Quintana Roo\");\n    } else if (m23.find()) {\n\n        res.setText(\" Your State is  San Luis Potosi\");\n    } else if (m24.find()) {\n\n        res.setText(\" Your State is  Sinaloa\");\n    } else if (m25.find()) {\n\n        res.setText(\" Your State is  Sonora\");\n    } else if (m26.find()) {\n\n        res.setText(\" Your State is  Tabasco\");\n    } else if (m27.find()) {\n\n        res.setText(\" Your State is  Tamaulipas\");\n    } else if (m28.find()) {\n\n        res.setText(\" Your State is  Tlaxcala\");\n    } else if (m29.find()) {\n\n        res.setText(\" Your State is  Veracruz\");\n    } else if (m30.find()) {\n\n        res.setText(\" Your State is  Yucatan\");\n    } else if (m31.find()) {\n\n        res.setText(\" Your State is  Zacatecas\");\n    }\n</code></pre>\n\n<p>In cases where the first Letter Repeats in two or three states i don't get the correct match for the state i want </p>\n\n<p>For example i input ABH-6262 and i get <code>Your State is Baja California</code> as a result and i'm expecting to get Aguascalientes </p>\n"},{"tags":["java","regex","parsing"],"comments":[{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":0,"creation_date":1508158312,"post_id":46770728,"comment_id":80486907,"body_markdown":"Do you want to validate whether input string should match this pattern?","body":"Do you want to validate whether input string should match this pattern?"},{"owner":{"account_id":8261568,"reputation":39,"user_id":6212764,"accept_rate":40,"display_name":"primo≈æ peru≈°ek"},"score":0,"creation_date":1508158451,"post_id":46770728,"comment_id":80487013,"body_markdown":"the main thing is that I parse out all the elements","body":"the main thing is that I parse out all the elements"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1508159202,"post_id":46770728,"comment_id":80487539,"body_markdown":"But what have you tried ? Are you able to use a matcher, have you define the regex ? Or are you hoping for us to do it ?","body":"But what have you tried ? Are you able to use a matcher, have you define the regex ? Or are you hoping for us to do it ?"}],"answers":[{"comments":[{"owner":{"account_id":8261568,"reputation":39,"user_id":6212764,"accept_rate":40,"display_name":"primo≈æ peru≈°ek"},"score":0,"creation_date":1508158860,"post_id":46770877,"comment_id":80487312,"body_markdown":"how do I get out elements then?","body":"how do I get out elements then?"}],"tags":[],"owner":{"account_id":12004097,"reputation":31,"user_id":8782938,"display_name":"Kay Tila"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508158528,"creation_date":1508158528,"answer_id":46770877,"question_id":46770728,"body_markdown":"This regex should do the trick:\r\n\r\n    ([a-bA-B0-9_])-([0-9]{4})-([0-9]{2})-([04]{2})-No(.+)\\.(.+)$\r\n\r\nIf you use this as pattern, each of the () signifies one part of the string you want to capture.\r\n\r\n","title":"parse filename using string [java]","body":"<p>This regex should do the trick:</p>\n\n<pre><code>([a-bA-B0-9_])-([0-9]{4})-([0-9]{2})-([04]{2})-No(.+)\\.(.+)$\n</code></pre>\n\n<p>If you use this as pattern, each of the () signifies one part of the string you want to capture.</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508159180,"creation_date":1508159180,"answer_id":46771105,"question_id":46770728,"body_markdown":"This could work:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;^(.+)-([0-9]{4})-([0-9]{2})-([0-9]{2})-No(.+)\\.(.+)$&quot;);\r\n    \r\n    ...\r\n\r\n        Matcher matcher = PATTERN.matcher(string);\r\n        if (matcher.matches()) {\r\n            String name = matcher.group(1);\r\n            int year = Integer.parseInt(matcher.group(2));\r\n            int month = Integer.parseInt(matcher.group(3));\r\n            int day = Integer.parseInt(matcher.group(4));\r\n            String number = matcher.group(5);\r\n            String suffix = matcher.group(6);\r\n            System.out.println(&quot;name: &quot; + name);\r\n            System.out.println(&quot;year: &quot; + year);\r\n            System.out.println(&quot;month: &quot; + month);\r\n            System.out.println(&quot;day: &quot; + day);\r\n            System.out.println(&quot;number: &quot; + number);\r\n            System.out.println(&quot;suffix: &quot; + suffix);\r\n        } else {\r\n            // error: does not match\r\n        }\r\n\r\n\r\n","title":"parse filename using string [java]","body":"<p>This could work:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"^(.+)-([0-9]{4})-([0-9]{2})-([0-9]{2})-No(.+)\\.(.+)$\");\n\n...\n\n    Matcher matcher = PATTERN.matcher(string);\n    if (matcher.matches()) {\n        String name = matcher.group(1);\n        int year = Integer.parseInt(matcher.group(2));\n        int month = Integer.parseInt(matcher.group(3));\n        int day = Integer.parseInt(matcher.group(4));\n        String number = matcher.group(5);\n        String suffix = matcher.group(6);\n        System.out.println(\"name: \" + name);\n        System.out.println(\"year: \" + year);\n        System.out.println(\"month: \" + month);\n        System.out.println(\"day: \" + day);\n        System.out.println(\"number: \" + number);\n        System.out.println(\"suffix: \" + suffix);\n    } else {\n        // error: does not match\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508159439,"creation_date":1508159439,"answer_id":46771189,"question_id":46770728,"body_markdown":"If the sequence is always the same why not simply split it using - or . like this:\r\n\r\n        String filename = &quot;Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG&quot;;\r\n        String[] parts = filename.split(&quot;-|\\\\.&quot;);\r\n        for(String p : parts)\r\n            System.out.println(p);","title":"parse filename using string [java]","body":"<p>If the sequence is always the same why not simply split it using - or . like this:</p>\n\n<pre><code>    String filename = \"Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG\";\n    String[] parts = filename.split(\"-|\\\\.\");\n    for(String p : parts)\n        System.out.println(p);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8261568,"reputation":39,"user_id":6212764,"accept_rate":40,"display_name":"primo≈æ peru≈°ek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508161383,"creation_date":1508161383,"answer_id":46771827,"question_id":46770728,"body_markdown":"This is the most nice looking solution that I found:\r\n\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;^(?&lt;name&gt;\\\\w+)-&quot;\r\n    \t\t\t+ &quot;(?&lt;year&gt;\\\\d{4})-&quot;\r\n    \t\t\t+ &quot;(?&lt;month&gt;\\\\d{2})-&quot;\r\n    \t\t\t+ &quot;(?&lt;day&gt;\\\\d{2})-&quot;\r\n    \t\t\t+ &quot;No(?&lt;number&gt;\\\\d+).&quot;\r\n    \t\t\t+ &quot;(?&lt;suffix&gt;\\\\w+)$&quot;);\r\n\r\n    Matcher m = PATTERN.matcher(file.getName());\r\n    \t\tif(!m.matches())\r\n               //some code if the pattern doesnt match\r\n    \r\n    //this is how you acces the parsed strings:\r\n    m.group(&quot;year&quot;)\r\n\r\n\r\n","title":"parse filename using string [java]","body":"<p>This is the most nice looking solution that I found:</p>\n\n<pre><code>private static final Pattern PATTERN = Pattern.compile(\"^(?&lt;name&gt;\\\\w+)-\"\n            + \"(?&lt;year&gt;\\\\d{4})-\"\n            + \"(?&lt;month&gt;\\\\d{2})-\"\n            + \"(?&lt;day&gt;\\\\d{2})-\"\n            + \"No(?&lt;number&gt;\\\\d+).\"\n            + \"(?&lt;suffix&gt;\\\\w+)$\");\n\nMatcher m = PATTERN.matcher(file.getName());\n        if(!m.matches())\n           //some code if the pattern doesnt match\n\n//this is how you acces the parsed strings:\nm.group(\"year\")\n</code></pre>\n"}],"owner":{"account_id":8261568,"reputation":39,"user_id":6212764,"accept_rate":40,"display_name":"primo≈æ peru≈°ek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":46771827,"answer_count":4,"score":-3,"last_activity_date":1693129680,"creation_date":1508158095,"question_id":46770728,"body_markdown":"What regex pattern do I need to parse a filename like this: `&quot;Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG&quot;`, where the parsed elements are: `&quot;Ab12_Cd9023&quot;`(name), `&quot;2000&quot;`(year), `&quot;12&quot;`(month), `&quot;04&quot;`(day), `&quot;234&quot;`(number), `&quot;nekiRtt3434GGG&quot;`(suffix). The sequence is always the same: `name-yyyy-MM-dd-NoNN.suffix`.\r\n\r\nI want to use the `pattern` + `matcher` objects to solve that.","title":"parse filename using string [java]","body":"<p>What regex pattern do I need to parse a filename like this: <code>\"Ab12_Cd9023-2000-12-04-No234.nekiRtt3434GGG\"</code>, where the parsed elements are: <code>\"Ab12_Cd9023\"</code>(name), <code>\"2000\"</code>(year), <code>\"12\"</code>(month), <code>\"04\"</code>(day), <code>\"234\"</code>(number), <code>\"nekiRtt3434GGG\"</code>(suffix). The sequence is always the same: <code>name-yyyy-MM-dd-NoNN.suffix</code>.</p>\n\n<p>I want to use the <code>pattern</code> + <code>matcher</code> objects to solve that.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1506927022,"post_id":46516787,"comment_id":79995208,"body_markdown":"If you need concrete help, please ask a concrete question. Also, I think my solution is just what you need because the second regex returns the matches without spaces, and still checks for whitespace boundaries (thus, returning just 2 to 20-letter words).","body":"If you need concrete help, please ask a concrete question. Also, I think my solution is just what you need because the second regex returns the matches without spaces, and still checks for whitespace boundaries (thus, returning just 2 to 20-letter words)."}],"answers":[{"comments":[{"owner":{"account_id":3291597,"reputation":133,"user_id":2769790,"accept_rate":25,"display_name":"user2769790"},"score":0,"creation_date":1506891570,"post_id":46516813,"comment_id":79987843,"body_markdown":"Is there any other method I can use to find &#39;Banas&#39; and all other possible matches?","body":"Is there any other method I can use to find &#39;Banas&#39; and all other possible matches?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1506891758,"post_id":46516813,"comment_id":79987905,"body_markdown":"Well it&#39;s not really clear what you&#39;re after. to be honest.","body":"Well it&#39;s not really clear what you&#39;re after. to be honest."},{"owner":{"account_id":3291597,"reputation":133,"user_id":2769790,"accept_rate":25,"display_name":"user2769790"},"score":0,"creation_date":1506891979,"post_id":46516813,"comment_id":79987968,"body_markdown":"Initially, I wanted the list of all possible matches with \\\\s[A-Za-z]{2,20}\\\\s.\nBut it was not returning Banas in that case.","body":"Initially, I wanted the list of all possible matches with \\\\s[A-Za-z]{2,20}\\\\s. But it was not returning Banas in that case."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1506892223,"post_id":46516813,"comment_id":79988024,"body_markdown":"@user2769790: And I&#39;ve explained why. But until you show what output you&#39;d consider correct, we&#39;re not going to be able to help any more than we already have.","body":"@user2769790: And I&#39;ve explained why. But until you show what output you&#39;d consider correct, we&#39;re not going to be able to help any more than we already have."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506891627,"creation_date":1506891310,"answer_id":46516813,"question_id":46516787,"body_markdown":"Your pattern includes whitespace after the non-whitespace. That accounts for *both* of your questions: the space between &quot;Derek&quot; and &quot;Banas&quot; counts as part of the first match, which stops it being part of a match for &quot;Banas&quot; (because you&#39;d need another space before &quot;Banas&quot; to match).\r\n\r\nIf you change both `\\\\s` to `\\\\b` it will match a word boundary - which doesn&#39;t use the space. You then get output of:\r\n\r\n    Derek\r\n    Start Index: 1\r\n    Start Index: 6\r\n    Banas\r\n    Start Index: 7\r\n    Start Index: 12\r\n    CA\r\n    Start Index: 13\r\n    Start Index: 15\r\n    PA\r\n    Start Index: 22\r\n    Start Index: 24\r\n    johnsmith\r\n    Start Index: 39\r\n    Start Index: 48\r\n    hotmail\r\n    Start Index: 49\r\n    Start Index: 56\r\n    com\r\n    Start Index: 57\r\n    Start Index: 60\r\n\r\nAt that point you&#39;re probably getting matches you don&#39;t want though.\r\n\r\nYou could continue to capture the whitespace at the front, but remove the one at the end. A pattern like this:\r\n\r\n    regexChecker(&quot;\\\\s[A-Za-z]{2,20}&quot;, longString);\r\n\r\ngives output of:\r\n\r\n    Derek\r\n    Start Index: 0\r\n    Start Index: 6\r\n    Banas\r\n    Start Index: 6\r\n    Start Index: 12\r\n    CA\r\n    Start Index: 12\r\n    Start Index: 15\r\n    PA\r\n    Start Index: 21\r\n    Start Index: 24\r\n    johnsmith\r\n    Start Index: 38\r\n    Start Index: 48\r\n\r\n","title":"Why regex Matcher.find not showing a word which meets the criteria","body":"<p>Your pattern includes whitespace after the non-whitespace. That accounts for <em>both</em> of your questions: the space between \"Derek\" and \"Banas\" counts as part of the first match, which stops it being part of a match for \"Banas\" (because you'd need another space before \"Banas\" to match).</p>\n\n<p>If you change both <code>\\\\s</code> to <code>\\\\b</code> it will match a word boundary - which doesn't use the space. You then get output of:</p>\n\n<pre><code>Derek\nStart Index: 1\nStart Index: 6\nBanas\nStart Index: 7\nStart Index: 12\nCA\nStart Index: 13\nStart Index: 15\nPA\nStart Index: 22\nStart Index: 24\njohnsmith\nStart Index: 39\nStart Index: 48\nhotmail\nStart Index: 49\nStart Index: 56\ncom\nStart Index: 57\nStart Index: 60\n</code></pre>\n\n<p>At that point you're probably getting matches you don't want though.</p>\n\n<p>You could continue to capture the whitespace at the front, but remove the one at the end. A pattern like this:</p>\n\n<pre><code>regexChecker(\"\\\\s[A-Za-z]{2,20}\", longString);\n</code></pre>\n\n<p>gives output of:</p>\n\n<pre><code>Derek\nStart Index: 0\nStart Index: 6\nBanas\nStart Index: 6\nStart Index: 12\nCA\nStart Index: 12\nStart Index: 15\nPA\nStart Index: 21\nStart Index: 24\njohnsmith\nStart Index: 38\nStart Index: 48\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506891429,"creation_date":1506891429,"answer_id":46516828,"question_id":46516787,"body_markdown":"The pattern matches a whitespace, 2 to 20 ASCII letters *and a whitespace* after. That means that the end of the first match is the space after `Derek`, that is the 7th index.\r\n\r\nThat also accounts for the fact `Banas` does not match: the first match already consumed the space before `Banas`, and the first `\\s` does not match `B`, thus, `Banas` is skipped.\r\n\r\nYou need to make the last `\\s` non-consuming, use\r\n\r\n    &quot;\\\\s[A-Za-z]{2,20}(?!\\\\S)&quot;\r\n                     ^^^^^^\r\n\r\nSee the [regex demo][1].\r\n\r\nThe `(?!\\S)` negative lookahead matches a location in string that is immediately followed with either a whitespace or end of string. Note you may also use a similar &quot;trick&quot; with the first `\\s` if you turn it into a `(?&lt;!\\S)` lookbehind, `&quot;(?&lt;!\\\\S)[A-Za-z]{2,20}(?!\\\\S)&quot;`. Then, no whitespace will land inside the match value.\r\n\r\nSee [this regex demo][2].\r\n\r\nAnother way to solve the issue is by using `\\b` word boundaries that are also zero-width assertions, `&quot;\\\\b[A-Za-z]{2,20}\\\\b&quot;`.\r\n\r\n\r\n  [1]: https://regex101.com/r/bD8F58/1\r\n  [2]: https://regex101.com/r/bD8F58/2","title":"Why regex Matcher.find not showing a word which meets the criteria","body":"<p>The pattern matches a whitespace, 2 to 20 ASCII letters <em>and a whitespace</em> after. That means that the end of the first match is the space after <code>Derek</code>, that is the 7th index.</p>\n\n<p>That also accounts for the fact <code>Banas</code> does not match: the first match already consumed the space before <code>Banas</code>, and the first <code>\\s</code> does not match <code>B</code>, thus, <code>Banas</code> is skipped.</p>\n\n<p>You need to make the last <code>\\s</code> non-consuming, use</p>\n\n<pre><code>\"\\\\s[A-Za-z]{2,20}(?!\\\\S)\"\n                 ^^^^^^\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/bD8F58/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n\n<p>The <code>(?!\\S)</code> negative lookahead matches a location in string that is immediately followed with either a whitespace or end of string. Note you may also use a similar \"trick\" with the first <code>\\s</code> if you turn it into a <code>(?&lt;!\\S)</code> lookbehind, <code>\"(?&lt;!\\\\S)[A-Za-z]{2,20}(?!\\\\S)\"</code>. Then, no whitespace will land inside the match value.</p>\n\n<p>See <a href=\"https://regex101.com/r/bD8F58/2\" rel=\"nofollow noreferrer\">this regex demo</a>.</p>\n\n<p>Another way to solve the issue is by using <code>\\b</code> word boundaries that are also zero-width assertions, <code>\"\\\\b[A-Za-z]{2,20}\\\\b\"</code>.</p>\n"}],"owner":{"account_id":3291597,"reputation":133,"user_id":2769790,"accept_rate":25,"display_name":"user2769790"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693129653,"creation_date":1506891159,"question_id":46516787,"body_markdown":"The given regex code is\r\n\r\n    import java.util.regex.*;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String longString = &quot; Derek Banas CA 12345 PA (412)555-1212 johnsmith@hotmail.com 412-555-1234 412 555-1234 &quot;; \r\n            regexChecker(&quot;\\\\s[A-Za-z]{2,20}\\\\s&quot;, longString);\r\n        }\r\n\r\n\t\tpublic static void regexChecker(String theRegex, String str2Check){\r\n            Pattern checkRegex = Pattern.compile(theRegex);\t\t\r\n            Matcher regexMatcher = checkRegex.matcher( str2Check );\r\n            while ( regexMatcher.find() ){\r\n                if (regexMatcher.group().length() != 0){\r\n                    System.out.println( regexMatcher.group().trim() );\r\n                    System.out.println( &quot;Start Index: &quot; + regexMatcher.start());\r\n                    System.out.println( &quot;Start Index: &quot; + regexMatcher.end());\r\n                }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nThe output here is \r\n\r\n    Derek\r\n    Start Index: 0\r\n    Start Index: 7\r\n    CA\r\n    Start Index: 12\r\n    Start Index: 16\r\n    PA\r\n    Start Index: 21\r\n    Start Index: 25\r\n\r\n1&gt; Why is the output of Derek is &#39;end index 7&#39; and not 6?\r\n&lt;br&gt; 2&gt; Why isn&#39;t &#39;Banas&#39; a part of the output?\r\n\r\nAny help would be appreciated.","title":"Why regex Matcher.find not showing a word which meets the criteria","body":"<p>The given regex code is</p>\n\n<pre><code>import java.util.regex.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        String longString = \" Derek Banas CA 12345 PA (412)555-1212 johnsmith@hotmail.com 412-555-1234 412 555-1234 \"; \n        regexChecker(\"\\\\s[A-Za-z]{2,20}\\\\s\", longString);\n    }\n\n    public static void regexChecker(String theRegex, String str2Check){\n        Pattern checkRegex = Pattern.compile(theRegex);     \n        Matcher regexMatcher = checkRegex.matcher( str2Check );\n        while ( regexMatcher.find() ){\n            if (regexMatcher.group().length() != 0){\n                System.out.println( regexMatcher.group().trim() );\n                System.out.println( \"Start Index: \" + regexMatcher.start());\n                System.out.println( \"Start Index: \" + regexMatcher.end());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The output here is </p>\n\n<pre><code>Derek\nStart Index: 0\nStart Index: 7\nCA\nStart Index: 12\nStart Index: 16\nPA\nStart Index: 21\nStart Index: 25\n</code></pre>\n\n<p>1> Why is the output of Derek is 'end index 7' and not 6?\n<br> 2> Why isn't 'Banas' a part of the output?</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","regex","loops"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1503379440,"post_id":45809436,"comment_id":78576394,"body_markdown":"Can you add a brief description of what this code is supposed to be doing?","body":"Can you add a brief description of what this code is supposed to be doing?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1503379927,"post_id":45809436,"comment_id":78576588,"body_markdown":"Also what it&#39;s actually doing.","body":"Also what it&#39;s actually doing."},{"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"score":0,"creation_date":1503380053,"post_id":45809436,"comment_id":78576633,"body_markdown":"*upto its limit* ? What is the output you get and what is the output that you are expecting?","body":"<i>upto its limit</i> ? What is the output you get and what is the output that you are expecting?"},{"owner":{"account_id":11601290,"reputation":13,"user_id":8498312,"display_name":"Shubham Kumar"},"score":0,"creation_date":1503490800,"post_id":45809436,"comment_id":78636284,"body_markdown":"actually i want to run loop for n times for which i want to write something in string and using regex i want to match whether it contain integer or not.while taking n=2 i don,t able to write anything in string, means loop is not running.....","body":"actually i want to run loop for n times for which i want to write something in string and using regex i want to match whether it contain integer or not.while taking n=2 i don,t able to write anything in string, means loop is not running....."},{"owner":{"account_id":3502417,"reputation":4067,"user_id":2928880,"display_name":"JRG"},"score":0,"creation_date":1503558622,"post_id":45809436,"comment_id":78667928,"body_markdown":"@ShubhamKumar - did you try my solution?","body":"@ShubhamKumar - did you try my solution?"}],"answers":[{"tags":[],"owner":{"account_id":3502417,"reputation":4067,"user_id":2928880,"display_name":"JRG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1503558613,"creation_date":1503381236,"answer_id":45809826,"question_id":45809436,"body_markdown":"For loop runs correctly for the no. of times i.e. n.\r\n\r\nYou should format your code, Java class name should be CamelCase and without underscore and do add System.out.println to help you understand debugging and program makes more logical sense.\r\n\r\nIt seems like your program is expecting a number for which user can enter numbers.\r\n\r\nThere are 2 arrays i.e. girl and boy. If the number is odd then then it is added to girl array and if the number is even then it is added to boy array.\r\n\r\nFinally girl array is printed.\r\n\r\n    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StringInteger {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter no. of times input numbers will be given : &quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint n = sc.nextInt();\r\n    \t\tint index = 0, index1 = 0;\r\n    \t\tint girl[] = new int[1000];\r\n    \t\tint boy[] = new int[1000];\r\n    \t\tfor (int i = 1; i &lt;= n; i++) {\r\n    \t\t\tString s = sc.next();\r\n    \t\t\tPattern mypattern = Pattern.compile(&quot;[0-9]+&quot;);\r\n    \t\t\tMatcher mymatcher = mypattern.matcher(s);\r\n    \t\t\twhile (mymatcher.find()) {\r\n    \t\t\t\tif (i % 2 != 0) {\r\n    \t\t\t\t\tgirl[index] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex++;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tboy[index1] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex1++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (int j = 0; j &lt; index; j++) {\r\n    \t\t\tSystem.out.print(girl[j] + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nSample Run:\r\n\r\n    Enter no. of times input numbers will be given : \r\n    4\r\n    10\r\n    11\r\n    12\r\n    13\r\n    10 12 ","title":"java regex loop are not running properly","body":"<p>For loop runs correctly for the no. of times i.e. n.</p>\n\n<p>You should format your code, Java class name should be CamelCase and without underscore and do add System.out.println to help you understand debugging and program makes more logical sense.</p>\n\n<p>It seems like your program is expecting a number for which user can enter numbers.</p>\n\n<p>There are 2 arrays i.e. girl and boy. If the number is odd then then it is added to girl array and if the number is even then it is added to boy array.</p>\n\n<p>Finally girl array is printed.</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringInteger {\n\n    public static void main(String[] args) {\n        System.out.println(\"Enter no. of times input numbers will be given : \");\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int index = 0, index1 = 0;\n        int girl[] = new int[1000];\n        int boy[] = new int[1000];\n        for (int i = 1; i &lt;= n; i++) {\n            String s = sc.next();\n            Pattern mypattern = Pattern.compile(\"[0-9]+\");\n            Matcher mymatcher = mypattern.matcher(s);\n            while (mymatcher.find()) {\n                if (i % 2 != 0) {\n                    girl[index] = Integer.valueOf(mymatcher.group());\n                    index++;\n                } else {\n                    boy[index1] = Integer.valueOf(mymatcher.group());\n                    index1++;\n                }\n            }\n        }\n        for (int j = 0; j &lt; index; j++) {\n            System.out.print(girl[j] + \" \");\n        }\n    }\n}\n</code></pre>\n\n<p>Sample Run:</p>\n\n<pre><code>Enter no. of times input numbers will be given : \n4\n10\n11\n12\n13\n10 12 \n</code></pre>\n"}],"owner":{"account_id":11601290,"reputation":13,"user_id":8498312,"display_name":"Shubham Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45809826,"answer_count":1,"score":0,"last_activity_date":1693129621,"creation_date":1503379306,"question_id":45809436,"body_markdown":"    import java.util.Scanner;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class StringInteger {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Enter no. of times input numbers will be given : &quot;);\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint n = sc.nextInt();\r\n    \t\tint index = 0, index1 = 0;\r\n    \t\tint girl[] = new int[1000];\r\n    \t\tint boy[] = new int[1000];\r\n    \t\tfor (int i = 1; i &lt;= n; i++) {\r\n    \t\t\tString s = sc.next();\r\n    \t\t\tPattern mypattern = Pattern.compile(&quot;[0-9]+&quot;);\r\n    \t\t\tMatcher mymatcher = mypattern.matcher(s);\r\n    \t\t\twhile (mymatcher.find()) {\r\n    \t\t\t\tif (i % 2 != 0) {\r\n    \t\t\t\t\tgirl[index] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex++;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tboy[index1] = Integer.valueOf(mymatcher.group());\r\n    \t\t\t\t\tindex1++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (int j = 0; j &lt; index; j++) {\r\n    \t\t\tSystem.out.print(girl[j] + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhy loop are not running upto its limit?","title":"java regex loop are not running properly","body":"<pre><code>import java.util.Scanner;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringInteger {\n\n    public static void main(String[] args) {\n        System.out.println(\"Enter no. of times input numbers will be given : \");\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int index = 0, index1 = 0;\n        int girl[] = new int[1000];\n        int boy[] = new int[1000];\n        for (int i = 1; i &lt;= n; i++) {\n            String s = sc.next();\n            Pattern mypattern = Pattern.compile(\"[0-9]+\");\n            Matcher mymatcher = mypattern.matcher(s);\n            while (mymatcher.find()) {\n                if (i % 2 != 0) {\n                    girl[index] = Integer.valueOf(mymatcher.group());\n                    index++;\n                } else {\n                    boy[index1] = Integer.valueOf(mymatcher.group());\n                    index1++;\n                }\n            }\n        }\n        for (int j = 0; j &lt; index; j++) {\n            System.out.print(girl[j] + \" \");\n        }\n    }\n}\n</code></pre>\n\n<p>Why loop are not running upto its limit?</p>\n"},{"tags":["java","android","regex"],"answers":[{"comments":[{"owner":{"account_id":6198868,"reputation":349,"user_id":4829379,"accept_rate":29,"display_name":"paola91"},"score":1,"creation_date":1500574087,"post_id":45222025,"comment_id":77410560,"body_markdown":"What can I say? Simply GREAT! Thanks Wiktor.","body":"What can I say? Simply GREAT! Thanks Wiktor."}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1500573507,"creation_date":1500573507,"answer_id":45222025,"question_id":45221956,"body_markdown":"You need to use a non-greedy regex *and* use `while` to grab only Group 1 value:\r\n\r\n    String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\r\n\tString patternString = OBJECT_VALUE+&quot;\\\\(([^()]+)\\\\)&quot;;\r\n\tPattern pattern = Pattern.compile(patternString);\r\n\tMatcher matcher = pattern.matcher(content);\r\n\twhile(matcher.find()) {\r\n\t    Log.d(&quot;Found item:&quot;, matcher.group(1));\r\n\t}\r\n\r\nSee [this Java demo][1]\r\n\r\n**Patter details**:\r\n\r\n - `\\\\(` - a literal `(`\r\n - `([^()]+)`  - Group 1 matching 1+ chars other than `(` and `)` (the one that is accessed with `matcher.group(1)`)\r\n - `\\\\)` - a literal `)`\r\n\r\nNote that `if` turned into `while`, and there is no need to loop over `matcher.groupCount()` since we know that the required value is in Group 1.\r\n\r\n  [1]: http://ideone.com/gWTWJl","title":"Matching regular expressions in Android","body":"<p>You need to use a non-greedy regex <em>and</em> use <code>while</code> to grab only Group 1 value:</p>\n\n<pre><code>String content = \"ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\";\nString patternString = OBJECT_VALUE+\"\\\\(([^()]+)\\\\)\";\nPattern pattern = Pattern.compile(patternString);\nMatcher matcher = pattern.matcher(content);\nwhile(matcher.find()) {\n    Log.d(\"Found item:\", matcher.group(1));\n}\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/gWTWJl\" rel=\"nofollow noreferrer\">this Java demo</a></p>\n\n<p><strong>Patter details</strong>:</p>\n\n<ul>\n<li><code>\\\\(</code> - a literal <code>(</code></li>\n<li><code>([^()]+)</code>  - Group 1 matching 1+ chars other than <code>(</code> and <code>)</code> (the one that is accessed with <code>matcher.group(1)</code>)</li>\n<li><code>\\\\)</code> - a literal <code>)</code></li>\n</ul>\n\n<p>Note that <code>if</code> turned into <code>while</code>, and there is no need to loop over <code>matcher.groupCount()</code> since we know that the required value is in Group 1.</p>\n"},{"tags":[],"owner":{"account_id":11317635,"reputation":53209,"user_id":8298909,"display_name":"Ben P."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500573707,"creation_date":1500573707,"answer_id":45222081,"question_id":45221956,"body_markdown":"To elaborate on Wiktor&#39;s answer, there are two problems here.\r\n\r\nThe first is that, for the input string `&quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;` and the pattern `ObjectValue\\((.+)\\)`, the `.+` can match `&quot;Name1) ObjectValue(Name2) ObjectValue(Name3&quot;`.\r\n\r\nThe second is that `matcher.group(0)` behaves a little strangely. From the documentation:\r\n\r\n&gt; Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()","title":"Matching regular expressions in Android","body":"<p>To elaborate on Wiktor's answer, there are two problems here.</p>\n\n<p>The first is that, for the input string <code>\"ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\"</code> and the pattern <code>ObjectValue\\((.+)\\)</code>, the <code>.+</code> can match <code>\"Name1) ObjectValue(Name2) ObjectValue(Name3\"</code>.</p>\n\n<p>The second is that <code>matcher.group(0)</code> behaves a little strangely. From the documentation:</p>\n\n<blockquote>\n  <p>Group zero denotes the entire pattern, so the expression m.group(0) is equivalent to m.group()</p>\n</blockquote>\n"}],"owner":{"account_id":6198868,"reputation":349,"user_id":4829379,"accept_rate":29,"display_name":"paola91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45222025,"answer_count":2,"score":1,"last_activity_date":1693129608,"creation_date":1500573292,"question_id":45221956,"body_markdown":"I want to extract specific information from a string like this:\r\n\r\n    String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\r\n\r\nI want to use regular expressions in order to extract only:\r\n\r\n    Name1 Name2 Name3\r\n\r\nBut I can&#39;t succeed. Here&#39;s my code:\r\n\r\n    private static final String OBJECT_VALUE = &quot;ObjectValue&quot;;\r\n    String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\r\n    String patternString = OBJECT_VALUE+&quot;\\\\((.+)\\\\)&quot;;\r\n    Pattern pattern = Pattern.compile(patternString);\r\n    Matcher matcher = pattern.matcher(content);\r\n        \r\n    if(matcher.find()) {\r\n            for (int i = 0; i &lt; matcher.groupCount(); i++) {\r\n                Log.d(&quot;Found items&quot;, matcher.group(i));\r\n            }\r\n            \r\n        }\r\n\r\nHere&#39;s the output:\r\n\r\n    Found items: ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\r\n\r\nSo, first of all, I want to extract only the names, and I clearly missing something in the regex. Secondly, I want distinct elements of the group, while in the output, the group consist of a single element, is it possible?\r\n","title":"Matching regular expressions in Android","body":"<p>I want to extract specific information from a string like this:</p>\n<pre><code>String content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\n</code></pre>\n<p>I want to use regular expressions in order to extract only:</p>\n<pre><code>Name1 Name2 Name3\n</code></pre>\n<p>But I can't succeed. Here's my code:</p>\n<pre><code>private static final String OBJECT_VALUE = &quot;ObjectValue&quot;;\nString content = &quot;ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)&quot;;\nString patternString = OBJECT_VALUE+&quot;\\\\((.+)\\\\)&quot;;\nPattern pattern = Pattern.compile(patternString);\nMatcher matcher = pattern.matcher(content);\n    \nif(matcher.find()) {\n        for (int i = 0; i &lt; matcher.groupCount(); i++) {\n            Log.d(&quot;Found items&quot;, matcher.group(i));\n        }\n        \n    }\n</code></pre>\n<p>Here's the output:</p>\n<pre><code>Found items: ObjectValue(Name1) ObjectValue(Name2) ObjectValue(Name3)\n</code></pre>\n<p>So, first of all, I want to extract only the names, and I clearly missing something in the regex. Secondly, I want distinct elements of the group, while in the output, the group consist of a single element, is it possible?</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1500366181,"post_id":45161143,"comment_id":77290847,"body_markdown":"If there are letters and/or digits after `TKK_`, replace `\\\\d+` with `\\\\w+`.","body":"If there are letters and/or digits after <code>TKK_</code>, replace <code>\\\\d+</code> with <code>\\\\w+</code>."},{"owner":{"account_id":459007,"reputation":23627,"user_id":859227,"accept_rate":87,"display_name":"mahmood"},"score":0,"creation_date":1500366205,"post_id":45161143,"comment_id":77290862,"body_markdown":"Thanks. A side question... If I remove the `m.find()`, the println says no match found. Is that OK?","body":"Thanks. A side question... If I remove the <code>m.find()</code>, the println says no match found. Is that OK?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1500366237,"post_id":45161143,"comment_id":77290878,"body_markdown":"@mahmood: *And surely always remember to actually run the Matcher using `.find()` or `.matches()`, otherwise, you won&#39;t be able to access any groups since no match has been found yet.* - DON&#39;T remove that.","body":"@mahmood: <i>And surely always remember to actually run the Matcher using <code>.find()</code> or <code>.matches()</code>, otherwise, you won&#39;t be able to access any groups since no match has been found yet.</i> - DON&#39;T remove that."}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1500365809,"creation_date":1500365809,"answer_id":45161143,"question_id":45161098,"body_markdown":"You may use \r\n\r\n    String pattern = &quot;TKK_\\\\d+&quot;;\r\n\tPattern r = Pattern.compile(pattern);\r\n\tMatcher m = r.matcher(&quot;http://somewhere.com/core?item=TKK_43123&quot;);\r\n\tif (m.find()){\r\n\t\tSystem.out.println(m.group(0)); \r\n\t} \r\n    // =&gt; TKK_43123\r\n\r\nSee the [Java demo][1]\r\n\r\nThe `\\d+` will match 1 or more digits after `TKK_`.\r\n\r\nNote that using a lazily quantified pattern at the end of the string is almost never what you want because it matches the *minimal* number of chars to return a valid match. So, `.+?` at the end of the pattern will always match just 1 char. `.*?` at the end of the pattern will match an empty string.\r\n\r\nAnd surely always remember to actually *run* the *Matcher* using `.find()` or `.matches()`, otherwise, you won&#39;t be able to access any groups since no match has been found yet.\r\n\r\n  [1]: http://ideone.com/4SBE4R","title":"Using pattern/matcher to extract a substring","body":"<p>You may use </p>\n\n<pre><code>String pattern = \"TKK_\\\\d+\";\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(\"http://somewhere.com/core?item=TKK_43123\");\nif (m.find()){\n    System.out.println(m.group(0)); \n} \n// =&gt; TKK_43123\n</code></pre>\n\n<p>See the <a href=\"http://ideone.com/4SBE4R\" rel=\"nofollow noreferrer\">Java demo</a></p>\n\n<p>The <code>\\d+</code> will match 1 or more digits after <code>TKK_</code>.</p>\n\n<p>Note that using a lazily quantified pattern at the end of the string is almost never what you want because it matches the <em>minimal</em> number of chars to return a valid match. So, <code>.+?</code> at the end of the pattern will always match just 1 char. <code>.*?</code> at the end of the pattern will match an empty string.</p>\n\n<p>And surely always remember to actually <em>run</em> the <em>Matcher</em> using <code>.find()</code> or <code>.matches()</code>, otherwise, you won't be able to access any groups since no match has been found yet.</p>\n"}],"owner":{"account_id":459007,"reputation":23627,"user_id":859227,"accept_rate":87,"display_name":"mahmood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":45161143,"answer_count":1,"score":0,"last_activity_date":1693129603,"creation_date":1500365691,"question_id":45161098,"body_markdown":"I want to get a substring starting with `TKK_` using regex and `matcher` in java. The string is actually a URL such as\r\n\r\n    http://somewhere.com/core?item=TKK_43123\r\n\r\nSo far, I wrote this based on this [example][1]\r\n\r\n    String pattern = &quot;TKK_.+?&quot;;\r\n    Pattern r = Pattern.compile(pattern );\r\n    Matcher m = r.matcher(url);\r\n\r\nBut printing `m.group(1)` says `No match found`. I want to get `TKK_43123`\r\n\r\n  [1]: http://tutorials.jenkov.com/java-regex/matcher.html#multiple-groups","title":"Using pattern/matcher to extract a substring","body":"<p>I want to get a substring starting with <code>TKK_</code> using regex and <code>matcher</code> in java. The string is actually a URL such as</p>\n\n<pre><code>http://somewhere.com/core?item=TKK_43123\n</code></pre>\n\n<p>So far, I wrote this based on this <a href=\"http://tutorials.jenkov.com/java-regex/matcher.html#multiple-groups\" rel=\"nofollow noreferrer\">example</a></p>\n\n<pre><code>String pattern = \"TKK_.+?\";\nPattern r = Pattern.compile(pattern );\nMatcher m = r.matcher(url);\n</code></pre>\n\n<p>But printing <code>m.group(1)</code> says <code>No match found</code>. I want to get <code>TKK_43123</code></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4605080,"reputation":137,"user_id":3734782,"accept_rate":100,"display_name":"user3734782"},"score":0,"creation_date":1500047280,"post_id":45106923,"comment_id":77185226,"body_markdown":"&quot;a log file and extracting certain data contained with in the file&quot; - What kind of data, what kind of log file? Post an example.","body":"&quot;a log file and extracting certain data contained with in the file&quot; - What kind of data, what kind of log file? Post an example."},{"owner":{"account_id":4060265,"reputation":375,"user_id":3337007,"accept_rate":79,"display_name":"DevRight"},"score":0,"creation_date":1500047369,"post_id":45106923,"comment_id":77185291,"body_markdown":"@user3734782150: 2017-06-14 18:02:21 INFO monitorinfo : Info: Lock VCS on node &quot;ieatrcxb4498-1&quot; this is a sample of the data from the log file.","body":"@user3734782150: 2017-06-14 18:02:21 INFO monitorinfo : Info: Lock VCS on node &quot;ieatrcxb4498-1&quot; this is a sample of the data from the log file."},{"owner":{"account_id":4605080,"reputation":137,"user_id":3734782,"accept_rate":100,"display_name":"user3734782"},"score":0,"creation_date":1500047546,"post_id":45106923,"comment_id":77185406,"body_markdown":"So you want to extract whole line containing the id ?","body":"So you want to extract whole line containing the id ?"},{"owner":{"account_id":4060265,"reputation":375,"user_id":3337007,"accept_rate":79,"display_name":"DevRight"},"score":0,"creation_date":1500047732,"post_id":45106923,"comment_id":77185525,"body_markdown":"@user3734782 no just the id it&#39;s self. Each line of the file has an id and want to take the id from each one. I have done it with the time, as shown above.","body":"@user3734782 no just the id it&#39;s self. Each line of the file has an id and want to take the id from each one. I have done it with the time, as shown above."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500048676,"creation_date":1500047891,"answer_id":45107205,"question_id":45106923,"body_markdown":"    public static void main(String[] args) {\r\n        String line = &quot;150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node \\&quot;ieatrcxb4498-1\\&quot;&quot;;\r\n        String regex =&quot;ieatrcxb.*1&quot;;\r\n        Pattern p = Pattern.compile(regex);\r\n        Matcher m = p.matcher(line);\r\n        while(m.find()){\r\n            System.out.println(m.group());\r\n        }\r\n    }\r\n\r\nor if the id&#39;s are all quoted:\r\n\r\n     String id = line.substring(line.indexOf(&quot;\\&quot;&quot;), line.lastIndexOf(&quot;\\&quot;&quot;)+1);\r\n     System.out.println(id);","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<pre><code>public static void main(String[] args) {\n    String line = \"150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node \\\"ieatrcxb4498-1\\\"\";\n    String regex =\"ieatrcxb.*1\";\n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(line);\n    while(m.find()){\n        System.out.println(m.group());\n    }\n}\n</code></pre>\n\n<p>or if the id's are all quoted:</p>\n\n<pre><code> String id = line.substring(line.indexOf(\"\\\"\"), line.lastIndexOf(\"\\\"\")+1);\n System.out.println(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4605080,"reputation":137,"user_id":3734782,"accept_rate":100,"display_name":"user3734782"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500048960,"creation_date":1500048193,"answer_id":45107276,"question_id":45106923,"body_markdown":" You are trying to do it by very difficult way. If each line of the `lock-unlock.txt` file is the same like on snippet you posted, you can do following:\r\n\r\n    File logFile = new File(&quot;lock-unlock.txt&quot;);\r\n    \r\n    List&lt;String&gt; lines = Files.readAllLines(logFile.toPath());\r\n\r\n    List&lt;Integer&gt; ids = lines.stream()\r\n                    .filter(line -&gt; line.contains(&quot;ieatrcxb&quot;))\r\n                    .map(line -&gt; line.split( &quot;\\&quot;&quot;)[1]) //&quot;ieatrcxb4498-1&quot;\r\n                    .map(line -&gt; line.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;)) //&quot;44981&quot;\r\n                    .map(Integer::parseInt) // 44981\r\n                    .collect( Collectors.toList() );\r\n\r\nIf you are not looking for just the ID number, just remove/comment second and third `.map()` method call, but it will result to a List of Strings instead of Integers.","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<p>You are trying to do it by very difficult way. If each line of the <code>lock-unlock.txt</code> file is the same like on snippet you posted, you can do following:</p>\n\n<pre><code>File logFile = new File(\"lock-unlock.txt\");\n\nList&lt;String&gt; lines = Files.readAllLines(logFile.toPath());\n\nList&lt;Integer&gt; ids = lines.stream()\n                .filter(line -&gt; line.contains(\"ieatrcxb\"))\n                .map(line -&gt; line.split( \"\\\"\")[1]) //\"ieatrcxb4498-1\"\n                .map(line -&gt; line.replaceAll(\"\\\\D+\",\"\")) //\"44981\"\n                .map(Integer::parseInt) // 44981\n                .collect( Collectors.toList() );\n</code></pre>\n\n<p>If you are not looking for just the ID number, just remove/comment second and third <code>.map()</code> method call, but it will result to a List of Strings instead of Integers.</p>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1500055046,"creation_date":1500049285,"answer_id":45107603,"question_id":45106923,"body_markdown":"Does the ID always have the format &quot;`ieatrcxb` followed by 4 digits, followed by `-`, followed by 1 digit&quot;?\r\n\r\nIf that&#39;s the case, you can do:\r\n\r\n    regexChecker(&quot;ieatrcxb\\\\d{4}-\\\\d&quot;, line);\r\n\r\nNote the `{4}` quantifier, which matches exactly 4 digits (`\\\\d`). If the last digit is always `1`, you could also use `&quot;ieatrcxb\\\\d{4}-1&quot;`.\r\n\r\nIf the number of digits vary, you can use `&quot;ieatrcxb\\\\d+-\\\\d+&quot;`, where `+` means &quot;1 or more&quot;.\r\n\r\nYou can also use the `{}` quantifier with the mininum and maximum number of occurences. Example: `&quot;ieatrcxb\\\\d{4,6}-\\\\d&quot;` - `{4,6}` means &quot;minimum of 4 and maximum of 6 occurrences&quot; (**that&#39;s just an example, I don&#39;t know if that&#39;s your case**). This is useful if you know exactly how many digits the ID can have.\r\n\r\nAll of the above work for your case, returning `ieatrcxb4498-1`. Which one to use will depend on how your input varies.\r\n\r\n---\r\nIf you want just the numbers without the `ieatrcxb` part (`4498-1`), you can use a [lookbehind regex][1]:\r\n\r\n    regexChecker(&quot;(?&lt;=ieatrcxb)\\\\d{4,6}-\\\\d&quot;, line);\r\n\r\nThis makes `ieatrcxb` to not be part of the match, thus returning just `4498-1`.\r\n\r\nIf you also don&#39;t want the `-1` and just `4498`, you can combine this with a lookahead:\r\n\r\n    regexChecker(&quot;(?&lt;=ieatrcxb)\\\\d{4,6}(?=-\\\\d)&quot;, line)\r\n\r\nThis returns just `4498`.\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<p>Does the ID always have the format \"<code>ieatrcxb</code> followed by 4 digits, followed by <code>-</code>, followed by 1 digit\"?</p>\n\n<p>If that's the case, you can do:</p>\n\n<pre><code>regexChecker(\"ieatrcxb\\\\d{4}-\\\\d\", line);\n</code></pre>\n\n<p>Note the <code>{4}</code> quantifier, which matches exactly 4 digits (<code>\\\\d</code>). If the last digit is always <code>1</code>, you could also use <code>\"ieatrcxb\\\\d{4}-1\"</code>.</p>\n\n<p>If the number of digits vary, you can use <code>\"ieatrcxb\\\\d+-\\\\d+\"</code>, where <code>+</code> means \"1 or more\".</p>\n\n<p>You can also use the <code>{}</code> quantifier with the mininum and maximum number of occurences. Example: <code>\"ieatrcxb\\\\d{4,6}-\\\\d\"</code> - <code>{4,6}</code> means \"minimum of 4 and maximum of 6 occurrences\" (<strong>that's just an example, I don't know if that's your case</strong>). This is useful if you know exactly how many digits the ID can have.</p>\n\n<p>All of the above work for your case, returning <code>ieatrcxb4498-1</code>. Which one to use will depend on how your input varies.</p>\n\n<hr>\n\n<p>If you want just the numbers without the <code>ieatrcxb</code> part (<code>4498-1</code>), you can use a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookbehind regex</a>:</p>\n\n<pre><code>regexChecker(\"(?&lt;=ieatrcxb)\\\\d{4,6}-\\\\d\", line);\n</code></pre>\n\n<p>This makes <code>ieatrcxb</code> to not be part of the match, thus returning just <code>4498-1</code>.</p>\n\n<p>If you also don't want the <code>-1</code> and just <code>4498</code>, you can combine this with a lookahead:</p>\n\n<pre><code>regexChecker(\"(?&lt;=ieatrcxb)\\\\d{4,6}(?=-\\\\d)\", line)\n</code></pre>\n\n<p>This returns just <code>4498</code>.</p>\n"}],"owner":{"account_id":4060265,"reputation":375,"user_id":3337007,"accept_rate":79,"display_name":"DevRight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45107603,"answer_count":3,"score":1,"last_activity_date":1693129600,"creation_date":1500046904,"question_id":45106923,"body_markdown":"I am reading in a log file and extracting certain data contained with in the file. I am able to extract the time for each line of the log file.\r\n\r\nNow I want to extract the id `&quot;ieatrcxb4498-1&quot;`. All of the id&#39;s start with the sub string `ieatrcxb`  which I have tried to query and return the full string based on it.\r\n\r\nI have tried many different suggestions from other posts. But I have been unsuccessful, with the following patterns:\r\n\r\n    (?i)\\\\b(&quot;ieatrcxb&quot;(?:.+?)?)\\\\b\r\n    (?i)\\\\b\\\\w*&quot;ieatrcxb&quot;\\\\w*\\\\b&quot;\r\n    ^.*ieatrcxb.*$ \r\n\r\nI have also tried to extract the full id based, on the String starting with `i` and finishing in `1`. As they all do.\r\n\r\n**Line of the log file**\r\n\r\n    150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node &quot;ieatrcxb4498-1&quot;\r\n\r\n**Code**\r\n\r\n    Scanner s = new Scanner(new FileReader(new File(&quot;lock-unlock.txt&quot;)));\r\n        //Record currentRecord = null;\r\n        ArrayList&lt;Record&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        while (s.hasNextLine()) {\r\n            String line = s.nextLine();\r\n\r\n            Record newRec = new Record();\r\n            // newRec.time =\r\n            newRec.time = regexChecker(&quot;([0-1]?\\\\d|2[0-3]):([0-5]?\\\\d):([0-5]?\\\\d)&quot;, line);\r\n\r\n            newRec.ID = regexChecker(&quot;^.*ieatrcxb.*$&quot;, line);\r\n\r\n            list.add(newRec);\r\n\r\n        }\r\n\r\n\r\n    public static String regexChecker(String regEx, String str2Check) {\r\n\r\n        Pattern checkRegex = Pattern.compile(regEx);\r\n        Matcher regexMatcher = checkRegex.matcher(str2Check);\r\n        String regMat = &quot;&quot;;\r\n        while(regexMatcher.find()){\r\n            if(regexMatcher.group().length() !=0)\r\n                regMat = regexMatcher.group();\r\n            }\r\n            //System.out.println(&quot;Inside the &quot;+ regexMatcher.group().trim());\r\n        }\r\n\r\n         return regMat;\r\n    }\r\n\r\nI need a simple pattern which will do this for me. ","title":"Java Regex to extract an id string, based on recurring sub-string of each id","body":"<p>I am reading in a log file and extracting certain data contained with in the file. I am able to extract the time for each line of the log file.</p>\n\n<p>Now I want to extract the id <code>\"ieatrcxb4498-1\"</code>. All of the id's start with the sub string <code>ieatrcxb</code>  which I have tried to query and return the full string based on it.</p>\n\n<p>I have tried many different suggestions from other posts. But I have been unsuccessful, with the following patterns:</p>\n\n<pre><code>(?i)\\\\b(\"ieatrcxb\"(?:.+?)?)\\\\b\n(?i)\\\\b\\\\w*\"ieatrcxb\"\\\\w*\\\\b\"\n^.*ieatrcxb.*$ \n</code></pre>\n\n<p>I have also tried to extract the full id based, on the String starting with <code>i</code> and finishing in <code>1</code>. As they all do.</p>\n\n<p><strong>Line of the log file</strong></p>\n\n<pre><code>150: 2017-06-14 18:02:21 INFO  monitorinfo           :     Info: Lock VCS on node \"ieatrcxb4498-1\"\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>Scanner s = new Scanner(new FileReader(new File(\"lock-unlock.txt\")));\n    //Record currentRecord = null;\n    ArrayList&lt;Record&gt; list = new ArrayList&lt;&gt;();\n\n    while (s.hasNextLine()) {\n        String line = s.nextLine();\n\n        Record newRec = new Record();\n        // newRec.time =\n        newRec.time = regexChecker(\"([0-1]?\\\\d|2[0-3]):([0-5]?\\\\d):([0-5]?\\\\d)\", line);\n\n        newRec.ID = regexChecker(\"^.*ieatrcxb.*$\", line);\n\n        list.add(newRec);\n\n    }\n\n\npublic static String regexChecker(String regEx, String str2Check) {\n\n    Pattern checkRegex = Pattern.compile(regEx);\n    Matcher regexMatcher = checkRegex.matcher(str2Check);\n    String regMat = \"\";\n    while(regexMatcher.find()){\n        if(regexMatcher.group().length() !=0)\n            regMat = regexMatcher.group();\n        }\n        //System.out.println(\"Inside the \"+ regexMatcher.group().trim());\n    }\n\n     return regMat;\n}\n</code></pre>\n\n<p>I need a simple pattern which will do this for me. </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1499345445,"post_id":44948269,"comment_id":76873815,"body_markdown":"I&#39;ve add a pattern solution which allows to keep the List option to add words and do not need to add by hand the words to pattern","body":"I&#39;ve add a pattern solution which allows to keep the List option to add words and do not need to add by hand the words to pattern"}],"answers":[{"comments":[{"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"score":0,"creation_date":1499343135,"post_id":44948432,"comment_id":76872003,"body_markdown":"changed to method reference name::contains","body":"changed to method reference name::contains"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1499343182,"post_id":44948432,"comment_id":76872048,"body_markdown":"answer without any explanation is not very good ... and DOES NOT WORK because LATE will not appear in &quot;Late&quot; whereas the user says it have to find it, it has to be case insensitive","body":"answer without any explanation is not very good ... and DOES NOT WORK because LATE will not appear in &quot;Late&quot; whereas the user says it have to find it, it has to be case insensitive"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1499344973,"post_id":44948432,"comment_id":76873431,"body_markdown":"and it becames same as mine ^^ even mine is a method to avoid code redundance","body":"and it becames same as mine ^^ even mine is a method to avoid code redundance"}],"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499348867,"creation_date":1499342776,"answer_id":44948432,"question_id":44948269,"body_markdown":"    boolean containsForbiddenName = forbiddenWordList.stream()\r\n         .anyMatch(forbiddenName -&gt; name.toLowerCase()\r\n              .contains(forbiddenName.toLowerCase()));\r\n","title":"Match any word of a List/Array in a Sentence java","body":"<pre><code>boolean containsForbiddenName = forbiddenWordList.stream()\n     .anyMatch(forbiddenName -&gt; name.toLowerCase()\n          .contains(forbiddenName.toLowerCase()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1499354604,"post_id":44948523,"comment_id":76881235,"body_markdown":"(not the downvoter) - your way to build the pattern is very convoluted, especially as you are already using `Collectors.joining`. There is no need to manually add the separator and remove the first one afterwards. The entire creation of the `forbiddenWordPattern` can be replaced by `String.join(&quot;|&quot;, words);`","body":"(not the downvoter) - your way to build the pattern is very convoluted, especially as you are already using <code>Collectors.joining</code>. There is no need to manually add the separator and remove the first one afterwards. The entire creation of the <code>forbiddenWordPattern</code> can be replaced by <code>String.join(&quot;|&quot;, words);</code>"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1499354683,"post_id":44948523,"comment_id":76881308,"body_markdown":"@Hulk I didn&#39;t know String.join(&quot;|&quot;, words) until see it in a post above","body":"@Hulk I didn&#39;t know String.join(&quot;|&quot;, words) until see it in a post above"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1499354779,"post_id":44948523,"comment_id":76881389,"body_markdown":"Alternatively, if you prefer the stream for some reason, use [`Collectors.joining(CharSequence delimiter)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-)","body":"Alternatively, if you prefer the stream for some reason, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Collectors.joining(CharSequence delimiter)</code></a>"}],"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1503405192,"creation_date":1499343049,"answer_id":44948523,"question_id":44948269,"body_markdown":"You can use like this : \r\n\r\n**Iteration over words** (`stream`) and returns true if any words (named `w`) match with the condition (`contains`)\r\n    \r\n\r\n    public static boolean isForbidden(String word, List&lt;String&gt; words) {\r\n         return words.stream().anyMatch(w -&gt; (word.toLowerCase().contains(w.toLowerCase())));\r\n    }\r\n\r\n\r\n----------\r\n**Using regex**, it will build the pattern itself from the `List`\r\n\r\n    public static boolean isForbidden1(String word, List&lt;String&gt; words) {\r\n         String forbiddenWordPattern = String.join(&quot;|&quot;, words);\r\n  \r\n         return Pattern.compile(forbiddenWordPattern, Pattern.CASE_INSENSITIVE)\r\n                       .matcher(word)\r\n                       .find();\r\n     }","title":"Match any word of a List/Array in a Sentence java","body":"<p>You can use like this : </p>\n\n<p><strong>Iteration over words</strong> (<code>stream</code>) and returns true if any words (named <code>w</code>) match with the condition (<code>contains</code>)</p>\n\n<pre><code>public static boolean isForbidden(String word, List&lt;String&gt; words) {\n     return words.stream().anyMatch(w -&gt; (word.toLowerCase().contains(w.toLowerCase())));\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Using regex</strong>, it will build the pattern itself from the <code>List</code></p>\n\n<pre><code>public static boolean isForbidden1(String word, List&lt;String&gt; words) {\n     String forbiddenWordPattern = String.join(\"|\", words);\n\n     return Pattern.compile(forbiddenWordPattern, Pattern.CASE_INSENSITIVE)\n                   .matcher(word)\n                   .find();\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1499343367,"post_id":44948578,"comment_id":76872183,"body_markdown":"this loses all the benefits of using a list, if the user wants to add easily a thousands forbiddens words, he don&#39;t want to add all to the pattern","body":"this loses all the benefits of using a list, if the user wants to add easily a thousands forbiddens words, he don&#39;t want to add all to the pattern"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1499343936,"post_id":44948578,"comment_id":76872608,"body_markdown":"@azro yes, but the question ends &quot;Regular Expression highly appreciated.&quot;","body":"@azro yes, but the question ends &quot;Regular Expression highly appreciated.&quot;"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1499345582,"post_id":44948578,"comment_id":76873937,"body_markdown":"yes it is not an easy solution, look below i have add one which allow to build the pattern automaticly","body":"yes it is not an easy solution, look below i have add one which allow to build the pattern automaticly"},{"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"score":0,"creation_date":1499587833,"post_id":44948578,"comment_id":76962926,"body_markdown":"For `String name = &quot;Jhon Solomon&quot;;` Returns `true`. But I expected `false` here, because there is no word &#39;SO&#39; there.","body":"For <code>String name = &quot;Jhon Solomon&quot;;</code> Returns <code>true</code>. But I expected <code>false</code> here, because there is no word &#39;SO&#39; there."}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499343220,"creation_date":1499343220,"answer_id":44948578,"question_id":44948269,"body_markdown":"The list can be expressed as a pattern:\r\n\r\n    Pattern forbiddenWordPattern\r\n            = Pattern.compile(&quot;LATE|S/O|SO|W/O|WO&quot;, Pattern.CASE_INSENSITIVE);\r\n\r\nTo test the presence of a word in a text, you would do:\r\n\r\n    boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();\r\n\r\n","title":"Match any word of a List/Array in a Sentence java","body":"<p>The list can be expressed as a pattern:</p>\n\n<pre><code>Pattern forbiddenWordPattern\n        = Pattern.compile(\"LATE|S/O|SO|W/O|WO\", Pattern.CASE_INSENSITIVE);\n</code></pre>\n\n<p>To test the presence of a word in a text, you would do:</p>\n\n<pre><code>boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"score":0,"creation_date":1499587841,"post_id":44949130,"comment_id":76962929,"body_markdown":"For `String name = &quot;Jhon Solomon&quot;;` Returns `true`. But I expected `false` here, because there is no word &#39;SO&#39; there.","body":"For <code>String name = &quot;Jhon Solomon&quot;;</code> Returns <code>true</code>. But I expected <code>false</code> here, because there is no word &#39;SO&#39; there."}],"tags":[],"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499344730,"creation_date":1499344730,"answer_id":44949130,"question_id":44948269,"body_markdown":"1. turn the list to a string with the | delimiter\r\n\r\n    String listDelimited = String.join(&quot;|&quot;, forbiddenWordList )\r\n\r\n2. create the regex\r\n\r\n    Pattern forbiddenWordPattern\r\n            = Pattern.compile(listDelimited , Pattern.CASE_INSENSITIVE);\r\n\r\n3. test your text\r\n\r\n    boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();\r\n\r\n(similar to the answer of @Maurice Perry)\r\n","title":"Match any word of a List/Array in a Sentence java","body":"<ol>\n<li><p>turn the list to a string with the | delimiter</p>\n\n<p>String listDelimited = String.join(\"|\", forbiddenWordList )</p></li>\n<li><p>create the regex</p>\n\n<p>Pattern forbiddenWordPattern\n        = Pattern.compile(listDelimited , Pattern.CASE_INSENSITIVE);</p></li>\n<li><p>test your text</p>\n\n<p>boolean hasForbiddenWord = forbiddenWordPattern.matcher(text).find();</p></li>\n</ol>\n\n<p>(similar to the answer of @Maurice Perry)</p>\n"},{"tags":[],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499591548,"creation_date":1499590497,"answer_id":44994653,"question_id":44948269,"body_markdown":"Finally I have got a Solution myself with the help all of you....\r\n\r\n        String regex = String.join(&quot;|&quot;, forbiddenWordList.stream().map(word -&gt; &quot;\\\\b&quot; + word + &quot;\\\\b&quot;).collect(Collectors.toList()));\r\n        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n        System.out.println(pattern.matcher(name).find());\r\n\r\nThe word boundary (`\\\\b`) helps to find exact word, not the matched text.\r\nThanks everyone for helping.","title":"Match any word of a List/Array in a Sentence java","body":"<p>Finally I have got a Solution myself with the help all of you....</p>\n\n<pre><code>    String regex = String.join(\"|\", forbiddenWordList.stream().map(word -&gt; \"\\\\b\" + word + \"\\\\b\").collect(Collectors.toList()));\n    Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n    System.out.println(pattern.matcher(name).find());\n</code></pre>\n\n<p>The word boundary (<code>\\\\b</code>) helps to find exact word, not the matched text.\nThanks everyone for helping.</p>\n"}],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4140,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44994653,"answer_count":5,"score":5,"last_activity_date":1693129594,"creation_date":1499342392,"question_id":44948269,"body_markdown":"I have an `List` of word like below\r\n\r\n    List&lt;String&gt; forbiddenWordList = Arrays.asList(&quot;LATE&quot;, &quot;S/O&quot;, &quot;SO&quot;, &quot;W/O&quot;, &quot;WO&quot;);\r\n\r\n How can I understand a `String` Contains any one of the word of the `List`. like....\r\n\r\n    String name1 = &quot;Adam Smith&quot;;      // false (not found)\r\n    String name2 = &quot;Late H Milton&quot;;   // true  (found Late)\r\n    String name3 = &quot;S/O Furi Kerman&quot;; // true  (found S/O)\r\n    String name4 = &quot;Conl Faruk&quot;;      // false (not found)\r\n    String name5 = &quot;Furi Kerman WO&quot;;  // true  (found WO)\r\n\r\nRegular Expression highly appreciated.\r\n\r\n\r\n \r\n","title":"Match any word of a List/Array in a Sentence java","body":"<p>I have an <code>List</code> of word like below</p>\n\n<pre><code>List&lt;String&gt; forbiddenWordList = Arrays.asList(\"LATE\", \"S/O\", \"SO\", \"W/O\", \"WO\");\n</code></pre>\n\n<p>How can I understand a <code>String</code> Contains any one of the word of the <code>List</code>. like....</p>\n\n<pre><code>String name1 = \"Adam Smith\";      // false (not found)\nString name2 = \"Late H Milton\";   // true  (found Late)\nString name3 = \"S/O Furi Kerman\"; // true  (found S/O)\nString name4 = \"Conl Faruk\";      // false (not found)\nString name5 = \"Furi Kerman WO\";  // true  (found WO)\n</code></pre>\n\n<p>Regular Expression highly appreciated.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1497025437,"post_id":44462374,"comment_id":75921652,"body_markdown":"What is code in `method1` and `method2` and what is input string?","body":"What is code in <code>method1</code> and <code>method2</code> and what is input string?"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1497025875,"post_id":44462374,"comment_id":75921930,"body_markdown":"Please provide an MCVE so that we could paste the code and see how it works. Add details: 1) what is wrong, 2) what it should behave like. &quot;`\\G(?=pattern)`&quot; but it does not work&quot; is a wrong kind of feedback - why doesn&#39;t it? It matches start of  string that starts with `pattern`.","body":"Please provide an MCVE so that we could paste the code and see how it works. Add details: 1) what is wrong, 2) what it should behave like. &quot;<code>\\G(?=pattern)</code>&quot; but it does not work&quot; is a wrong kind of feedback - why doesn&#39;t it? It matches start of  string that starts with <code>pattern</code>."},{"owner":{"account_id":4544827,"reputation":1412,"user_id":3691745,"accept_rate":88,"display_name":"markbernard"},"score":0,"creation_date":1497029445,"post_id":44462374,"comment_id":75923941,"body_markdown":"Did you try `Matcher.reset()`?","body":"Did you try <code>Matcher.reset()</code>?"},{"owner":{"account_id":1224143,"reputation":1697,"user_id":1190096,"accept_rate":79,"display_name":"Cutter"},"score":0,"creation_date":1497047214,"post_id":44462374,"comment_id":75931639,"body_markdown":"I need to keep the previous state. I need to remember where the last match ended.","body":"I need to keep the previous state. I need to remember where the last match ended."}],"answers":[{"comments":[{"owner":{"account_id":1224143,"reputation":1697,"user_id":1190096,"accept_rate":79,"display_name":"Cutter"},"score":0,"creation_date":1497042223,"post_id":44462488,"comment_id":75930073,"body_markdown":"reset() discards the position of `\\G` but I need it. I can&#39;t start over from the beginning of the input.","body":"reset() discards the position of <code>\\G</code> but I need it. I can&#39;t start over from the beginning of the input."}],"tags":[],"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497025083,"creation_date":1497025083,"answer_id":44462488,"question_id":44462374,"body_markdown":"You cannot tell the matcher not to consume the capturing group, however you can reset it to discard its internal state and start again from the beginning of the string:\r\n\r\n\r\n    Pattern p = Pattern.compile(&quot;(\\\\d)&quot;); // single digit\r\n    String myString = &quot;12345&quot;;\r\n    Matcher matcher = p.matcher(myString);\r\n    \r\n    if(matcher.find()) { // expecting 1\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n    if(matcher.find()) { // expecting 2\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n    if(matcher.find()) { // expecting 3\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n    matcher.reset(); // discard internal state, next find() will return 1 again\r\n    \r\n    \r\n    if(matcher.find()) { // expecting 1\r\n    \tSystem.out.println(matcher.group(1));\r\n    }\r\n\r\nOutput:\r\n\r\n    1\r\n    2\r\n    3\r\n    1\r\n\r\n[DEMO](http://ideone.com/A3mjN5)","title":"How to use find() without changing‚Äã the Matcher&#39;s state?","body":"<p>You cannot tell the matcher not to consume the capturing group, however you can reset it to discard its internal state and start again from the beginning of the string:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(\\\\d)\"); // single digit\nString myString = \"12345\";\nMatcher matcher = p.matcher(myString);\n\nif(matcher.find()) { // expecting 1\n    System.out.println(matcher.group(1));\n}\nif(matcher.find()) { // expecting 2\n    System.out.println(matcher.group(1));\n}\nif(matcher.find()) { // expecting 3\n    System.out.println(matcher.group(1));\n}\nmatcher.reset(); // discard internal state, next find() will return 1 again\n\n\nif(matcher.find()) { // expecting 1\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n2\n3\n1\n</code></pre>\n\n<p><a href=\"http://ideone.com/A3mjN5\" rel=\"nofollow noreferrer\">DEMO</a></p>\n"}],"owner":{"account_id":1224143,"reputation":1697,"user_id":1190096,"accept_rate":79,"display_name":"Cutter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693129590,"creation_date":1497024625,"question_id":44462374,"body_markdown":"I have the following code: \r\n\r\n    class someclass {\r\n        Pattern pattern1 = Pattern.compile(&quot;\\\\G regex1&quot;);\r\n        Pattern pattern2 = Pattern.compile(&quot;\\\\G regex2&quot;);\r\n        Matcher matcher; \r\n    \r\n        public void parse(str) { \r\n            matcher = pattern1.matcher(str);\r\n            if(matcher.find() {\r\n                method1();\r\n            }\r\n            else if(matcher.usePattern(pattern2).find())\r\n                method2();\r\n        }\r\n    }\r\n\r\nIs it possible to test for a match without consuming the capturing group? I&#39;ve tried to match against lookahead pattern `&quot;\\G(?=pattern)&quot;` but it does not work. I need the captured string both in the parent method `parse()` and in the called methods `method1()` or `method2()` ; but the called methods look for it at the matcher&#39;s input.","title":"How to use find() without changing‚Äã the Matcher&#39;s state?","body":"<p>I have the following code: </p>\n\n<pre><code>class someclass {\n    Pattern pattern1 = Pattern.compile(\"\\\\G regex1\");\n    Pattern pattern2 = Pattern.compile(\"\\\\G regex2\");\n    Matcher matcher; \n\n    public void parse(str) { \n        matcher = pattern1.matcher(str);\n        if(matcher.find() {\n            method1();\n        }\n        else if(matcher.usePattern(pattern2).find())\n            method2();\n    }\n}\n</code></pre>\n\n<p>Is it possible to test for a match without consuming the capturing group? I've tried to match against lookahead pattern <code>\"\\G(?=pattern)\"</code> but it does not work. I need the captured string both in the parent method <code>parse()</code> and in the called methods <code>method1()</code> or <code>method2()</code> ; but the called methods look for it at the matcher's input.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":106788,"reputation":2959,"user_id":284308,"accept_rate":95,"display_name":"Prexx"},"score":0,"creation_date":1496321118,"post_id":44307846,"comment_id":75621005,"body_markdown":"It&#39;s working here: https://regex101.com/r/1FzP14/1","body":"It&#39;s working here: <a href=\"https://regex101.com/r/1FzP14/1\" rel=\"nofollow noreferrer\">regex101.com/r/1FzP14/1</a>"},{"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"score":0,"creation_date":1496321256,"post_id":44307846,"comment_id":75621125,"body_markdown":"i don&#39;t think you have to escape a dash when it isn&#39;t inside a character class... also the outer parens aren&#39;t doing anything:  `-?\\\\d+(\\\\.\\\\d+)?`","body":"i don&#39;t think you have to escape a dash when it isn&#39;t inside a character class... also the outer parens aren&#39;t doing anything:  <code>-?\\\\d+(\\\\.\\\\d+)?</code>"},{"owner":{"account_id":106788,"reputation":2959,"user_id":284308,"accept_rate":95,"display_name":"Prexx"},"score":0,"creation_date":1496321386,"post_id":44307846,"comment_id":75621236,"body_markdown":"@Rims That does not match non-decimal numbers like 1, -1 ...","body":"@Rims That does not match non-decimal numbers like 1, -1 ..."},{"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"score":0,"creation_date":1496321399,"post_id":44307846,"comment_id":75621243,"body_markdown":"when you say &quot;ignores&quot; the minus sign, what do you mean? it either matches it or doesn&#39;t...","body":"when you say &quot;ignores&quot; the minus sign, what do you mean? it either matches it or doesn&#39;t..."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1496322743,"post_id":44307846,"comment_id":75622287,"body_markdown":"[Your regex works well](https://regex101.com/r/LP7mFG/1).","body":"<a href=\"https://regex101.com/r/LP7mFG/1\" rel=\"nofollow noreferrer\">Your regex works well</a>."},{"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"score":0,"creation_date":1496324524,"post_id":44307846,"comment_id":75623657,"body_markdown":"Check my answer, if you want to include the parenthesis use this `[(][+-]?([0-9]*[.])?[0-9]+[)]` I have provided sample code.","body":"Check my answer, if you want to include the parenthesis use this <code>[(][+-]?([0-9]*[.])?[0-9]+[)]</code> I have provided sample code."},{"owner":{"account_id":10688001,"reputation":173,"user_id":7867937,"display_name":"Michael DiCioccio"},"score":0,"creation_date":1496325560,"post_id":44307846,"comment_id":75624525,"body_markdown":"You all misunderstood. My example was just showing you guys what numbers I want to pull from a string, the parenthesis do not mean anything. I just want the number, but sometimes the number might be one of those variations. No matter the number, the negative sign is always left out. So, say the number come sin as -259.12, the pattern.compile should return -259.12, but it returns 259.12 for some reason and ignores the &quot;-&quot;.","body":"You all misunderstood. My example was just showing you guys what numbers I want to pull from a string, the parenthesis do not mean anything. I just want the number, but sometimes the number might be one of those variations. No matter the number, the negative sign is always left out. So, say the number come sin as -259.12, the pattern.compile should return -259.12, but it returns 259.12 for some reason and ignores the &quot;-&quot;."}],"answers":[{"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1496321386,"post_id":44307982,"comment_id":75621237,"body_markdown":"@Prexx That should not match decimals.","body":"@Prexx That should not match decimals."},{"owner":{"account_id":106788,"reputation":2959,"user_id":284308,"accept_rate":95,"display_name":"Prexx"},"score":0,"creation_date":1496321488,"post_id":44307982,"comment_id":75621312,"body_markdown":"But he wants it :) &quot;to find a negative or positive integer or decimal.&quot; Maybe you could add it in your approach?","body":"But he wants it :) &quot;to find a negative or positive integer or decimal.&quot; Maybe you could add it in your approach?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1496321886,"post_id":44307982,"comment_id":75621606,"body_markdown":"Added a pattern to match decimals.","body":"Added a pattern to match decimals."}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496321737,"creation_date":1496321252,"answer_id":44307982,"question_id":44307846,"body_markdown":"Try this:\r\n\r\n    Pattern pattern1 = Pattern.compile(&quot;(-|\\\\+)?\\\\d+&quot;);\r\n    \r\nThat should match both positive and negative integer numbers.\r\n\r\nFor decimals (should match either integers or decimals):\r\n\r\n    Pattern pattern2 = Pattern.compile(&quot;(-|\\\\+)?\\\\d+((\\\\.{1}\\\\d+)?)&quot;);\r\n","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>Try this:</p>\n\n<pre><code>Pattern pattern1 = Pattern.compile(\"(-|\\\\+)?\\\\d+\");\n</code></pre>\n\n<p>That should match both positive and negative integer numbers.</p>\n\n<p>For decimals (should match either integers or decimals):</p>\n\n<pre><code>Pattern pattern2 = Pattern.compile(\"(-|\\\\+)?\\\\d+((\\\\.{1}\\\\d+)?)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496322058,"creation_date":1496321485,"answer_id":44308071,"question_id":44307846,"body_markdown":"     String regex = &quot;(-)?\\\\d+([.]\\\\d+)?&quot;;\r\n\r\nWe allow one optional minus (-)? for negative numbers and one optional decimal point ([.]) followed by digits (\\\\d) for decimal numbers. \r\n\r\n     \r\n     String regex = &quot;(-)?\\\\d+([.]\\\\d+)?&quot;;\r\n     Pattern pattern = Pattern.compile(regex);\r\n     String input = &quot;-0.123&quot;;\r\n     Matcher matcher = pattern.matcher(scr);\r\n     System.out.println(matcher.matches()); //Prints true.\r\n","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<pre><code> String regex = \"(-)?\\\\d+([.]\\\\d+)?\";\n</code></pre>\n\n<p>We allow one optional minus (-)? for negative numbers and one optional decimal point ([.]) followed by digits (\\d) for decimal numbers. </p>\n\n<pre><code> String regex = \"(-)?\\\\d+([.]\\\\d+)?\";\n Pattern pattern = Pattern.compile(regex);\n String input = \"-0.123\";\n Matcher matcher = pattern.matcher(scr);\n System.out.println(matcher.matches()); //Prints true.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":106788,"reputation":2959,"user_id":284308,"accept_rate":95,"display_name":"Prexx"},"score":0,"creation_date":1496321777,"post_id":44308084,"comment_id":75621521,"body_markdown":"Maybe he wants (1), (-1) ... to match. That would explain the unnecessary outer braces that has to be escaped.","body":"Maybe he wants (1), (-1) ... to match. That would explain the unnecessary outer braces that has to be escaped."},{"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"score":0,"creation_date":1496324444,"post_id":44308084,"comment_id":75623605,"body_markdown":"@Prexx True, I added another expression","body":"@Prexx True, I added another expression"}],"tags":[],"owner":{"account_id":875271,"reputation":2505,"user_id":925040,"accept_rate":75,"display_name":"Alexius DIAKOGIANNIS"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496324409,"creation_date":1496321531,"answer_id":44308084,"question_id":44307846,"body_markdown":"I just tested your pattern and it works fine. Maybe I didnt understand the question but here is the source code I used.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Play {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            Pattern p = Pattern.compile(&quot;(\\\\-?\\\\d+(\\\\.\\\\d+)?)&quot;);\r\n    \r\n            Matcher m = p.matcher(&quot;(1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)&quot;);\r\n    \r\n            while (m.find()) {\r\n                System.out.println(&quot;Found a &quot; + m.group());\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd The outcome is\r\n\r\n    run:\r\n    \r\n    Found a 1\r\n    Found a 11\r\n    Found a 1.1\r\n    Found a 11.11\r\n    Found a -1\r\n    Found a -11\r\n    Found a -1.1\r\n    Found a -11.11\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nIf you want to include the parenthesis as well then use this pattern\r\n`[(][+-]?([0-9]*[.])?[0-9]+[)]`","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>I just tested your pattern and it works fine. Maybe I didnt understand the question but here is the source code I used.</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Play {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        Pattern p = Pattern.compile(\"(\\\\-?\\\\d+(\\\\.\\\\d+)?)\");\n\n        Matcher m = p.matcher(\"(1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)\");\n\n        while (m.find()) {\n            System.out.println(\"Found a \" + m.group());\n        }\n\n    }\n}\n</code></pre>\n\n<p>And The outcome is</p>\n\n<pre><code>run:\n\nFound a 1\nFound a 11\nFound a 1.1\nFound a 11.11\nFound a -1\nFound a -11\nFound a -1.1\nFound a -11.11\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n\n<p>If you want to include the parenthesis as well then use this pattern\n<code>[(][+-]?([0-9]*[.])?[0-9]+[)]</code></p>\n"},{"tags":[],"owner":{"account_id":10688001,"reputation":173,"user_id":7867937,"display_name":"Michael DiCioccio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496326191,"creation_date":1496326191,"answer_id":44309855,"question_id":44307846,"body_markdown":"SOLUTION: for some reason the &quot;-&quot; is not be recognized, so I tried the unicode version and regexp allows unicode by doing \\\\u2212 a.k.a. (\\\\-). This solved my issue and i have no idea why it wouldnt work before doing this.","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>SOLUTION: for some reason the \"-\" is not be recognized, so I tried the unicode version and regexp allows unicode by doing \\u2212 a.k.a. (\\-). This solved my issue and i have no idea why it wouldnt work before doing this.</p>\n"},{"tags":[],"owner":{"account_id":11012983,"reputation":3516,"user_id":8089674,"display_name":"Robo Mop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496327072,"creation_date":1496327072,"answer_id":44310183,"question_id":44307846,"body_markdown":"    Pattern p = Pattern.compile(&quot;(-?(\\\\d+(\\\\.?\\\\d+)))&quot;);\r\n    Matcher m = p.matcher(YourString);\r\n    //m.group(1);","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<pre><code>Pattern p = Pattern.compile(\"(-?(\\\\d+(\\\\.?\\\\d+)))\");\nMatcher m = p.matcher(YourString);\n//m.group(1);\n</code></pre>\n"}],"owner":{"account_id":10688001,"reputation":173,"user_id":7867937,"display_name":"Michael DiCioccio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1693129584,"creation_date":1496320889,"question_id":44307846,"body_markdown":"In Java I want to use Pattern.compile(String regexp) to find a negative or positive integer or decimal.\r\n\r\nEx. (1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)\r\n\r\nI have found several answers online that tell me this is the correct regexp, but it ignores &quot;-&quot; sign ever single time.\r\n\r\n    Pattern pattern1 = Pattern.compile(&quot;(\\\\-?\\\\d+(\\\\.\\\\d+)?)&quot;);","title":"I want Java Pattern.compile to recognize positive or negative integers or decimals","body":"<p>In Java I want to use Pattern.compile(String regexp) to find a negative or positive integer or decimal.</p>\n\n<p>Ex. (1) (11) (1.1) (11.11) (-1) (-11) (-1.1) (-11.11)</p>\n\n<p>I have found several answers online that tell me this is the correct regexp, but it ignores \"-\" sign ever single time.</p>\n\n<pre><code>Pattern pattern1 = Pattern.compile(\"(\\\\-?\\\\d+(\\\\.\\\\d+)?)\");\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494977687,"creation_date":1494977193,"answer_id":44013183,"question_id":44013152,"body_markdown":"Well you could just use [`split(String, int)`)][1] with a limit of 2. That would be most easy. If you however want to stick to your solution, you can match the first `:` instead of the last `:` by either changing the greedyness of your quantifier (`.*?`) or match everything but `:` (like `([^:]*):(.*)`).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)","title":"How to Let Java regex Matcher matches the delimeter","body":"<p>Well you could just use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\" rel=\"nofollow noreferrer\"><code>split(String, int)</code>)</a> with a limit of 2. That would be most easy. If you however want to stick to your solution, you can match the first <code>:</code> instead of the last <code>:</code> by either changing the greedyness of your quantifier (<code>.*?</code>) or match everything but <code>:</code> (like <code>([^:]*):(.*)</code>).</p>\n"},{"comments":[{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":0,"creation_date":1494977643,"post_id":44013210,"comment_id":75054615,"body_markdown":"Good answer. On the side note, Oracle tutorials refer to it as reluctant quantifier: https://docs.oracle.com/javase/tutorial/essential/regex/quant.html","body":"Good answer. On the side note, Oracle tutorials refer to it as reluctant quantifier: <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/regex/quant.html</a>"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1494977461,"creation_date":1494977461,"answer_id":44013210,"question_id":44013152,"body_markdown":"You can make the first `*` quantifier *lazy* by adding a `?`, so the first group will be as small as possible:\r\n\r\n    Pattern.compile(&quot;(.*?):(.*)&quot;)","title":"How to Let Java regex Matcher matches the delimeter","body":"<p>You can make the first <code>*</code> quantifier <em>lazy</em> by adding a <code>?</code>, so the first group will be as small as possible:</p>\n\n<pre><code>Pattern.compile(\"(.*?):(.*)\")\n</code></pre>\n"}],"owner":{"account_id":1882632,"reputation":2126,"user_id":1702461,"accept_rate":88,"display_name":"Freya Ren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44013210,"answer_count":2,"score":1,"last_activity_date":1693129580,"creation_date":1494976988,"question_id":44013152,"body_markdown":"Given an error message like &quot;5 : Invalid number : 123***345&quot;\r\n\r\nI want to split the message into `error_code` and `error_text`. And in this case, I want to have `5` and `Invalid number : 123***345`.\r\n\r\nHowever, this code splits the matcher into \r\n`5 : Invalid number` and `123***345`\r\n\r\nWhich means the regex matches the last `:`.\r\n\r\n    Pattern PROCESSOR_ERROR_INFO_PATTERN_ONE = Pattern.compile(&quot;(.*):(.*)&quot;);\r\n    \r\n    Matcher matcherOne = PROCESSOR_ERROR_INFO_PATTERN_ONE.matcher(error_message);\r\n    \r\n    if (matcherOne.matches()) {\r\n          processorErrorCode = matcherOne.group(1).trim();\r\n          processorErrorMessage = matcherOne.group(2).trim();\r\n    }\r\n\r\n\r\nBy the way, there&#39;s no guarantee that the error_code is digits only. So I can&#39;t use regex like `(\\\\d+):(.*) `\r\nIs there a way I can control to match the first `:` instead of the default last `:`?\r\n\r\n","title":"How to Let Java regex Matcher matches the delimeter","body":"<p>Given an error message like \"5 : Invalid number : 123***345\"</p>\n\n<p>I want to split the message into <code>error_code</code> and <code>error_text</code>. And in this case, I want to have <code>5</code> and <code>Invalid number : 123***345</code>.</p>\n\n<p>However, this code splits the matcher into \n<code>5 : Invalid number</code> and <code>123***345</code></p>\n\n<p>Which means the regex matches the last <code>:</code>.</p>\n\n<pre><code>Pattern PROCESSOR_ERROR_INFO_PATTERN_ONE = Pattern.compile(\"(.*):(.*)\");\n\nMatcher matcherOne = PROCESSOR_ERROR_INFO_PATTERN_ONE.matcher(error_message);\n\nif (matcherOne.matches()) {\n      processorErrorCode = matcherOne.group(1).trim();\n      processorErrorMessage = matcherOne.group(2).trim();\n}\n</code></pre>\n\n<p>By the way, there's no guarantee that the error_code is digits only. So I can't use regex like <code>(\\\\d+):(.*)</code>\nIs there a way I can control to match the first <code>:</code> instead of the default last <code>:</code>?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1494719561,"post_id":43959047,"comment_id":74949095,"body_markdown":"Best way to do this is not to use regexes.","body":"Best way to do this is not to use regexes."},{"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"score":0,"creation_date":1494726871,"post_id":43959047,"comment_id":74950216,"body_markdown":"Can you post your solution? cuz I think using regex to do this is a bit inefficient...","body":"Can you post your solution? cuz I think using regex to do this is a bit inefficient..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1494727485,"post_id":43959047,"comment_id":74950313,"body_markdown":"Umm ... my solution?  I&#39;m sorry but this is a Q&amp;A site not a &quot;please write code for free&quot; site.","body":"Umm ... my solution?  I&#39;m sorry but this is a Q&amp;A site not a &quot;please write code for free&quot; site."},{"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"score":0,"creation_date":1494728871,"post_id":43959047,"comment_id":74950507,"body_markdown":"Oh ok thanks though: )","body":"Oh ok thanks though: )"}],"answers":[{"comments":[{"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"score":0,"creation_date":1494729400,"post_id":43959198,"comment_id":74950568,"body_markdown":"Thank you, I tried your solution, and it works really well : )","body":"Thank you, I tried your solution, and it works really well : )"}],"tags":[],"owner":{"account_id":7034158,"reputation":666,"user_id":6455368,"accept_rate":50,"display_name":"Max K"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1494721028,"creation_date":1494721028,"answer_id":43959198,"question_id":43959047,"body_markdown":"Here&#39;s one way to achieve your goal: (not necessarily the most efficient, but it works and is simply understood)\r\n\r\n    String source = &quot;HOW do I replace different how in the same sentence by using Matcher?&quot;;\r\n\t\tString[] split = source.replaceAll(&quot;HOW&quot;, &quot;LOL&quot;).split(&quot; &quot;);\r\n\t\tString newSource = &quot;&quot;;\r\n\t\tfor(int i = 0; i &lt; split.length; i++) {\r\n\t\t\tString at = split[i];\r\n\t\t\tif(at.equalsIgnoreCase(&quot;how&quot;))  at = &quot;lol&quot;;\r\n\t\t\tnewSource+= &quot; &quot; + at;\r\n\t\t}\r\n\t\tnewSource.substring(1, newSource.length());\r\n    //The output string is newSource\r\n\r\nReplace all uppercase, then iterate over each word and replace the remaining &quot;how&quot;s with &quot;lol&quot;. That substring at the end is simply to remove the extra space.","title":"How do I replace the same word but different case in the same sentence separately?","body":"<p>Here's one way to achieve your goal: (not necessarily the most efficient, but it works and is simply understood)</p>\n\n<pre><code>String source = \"HOW do I replace different how in the same sentence by using Matcher?\";\n    String[] split = source.replaceAll(\"HOW\", \"LOL\").split(\" \");\n    String newSource = \"\";\n    for(int i = 0; i &lt; split.length; i++) {\n        String at = split[i];\n        if(at.equalsIgnoreCase(\"how\"))  at = \"lol\";\n        newSource+= \" \" + at;\n    }\n    newSource.substring(1, newSource.length());\n//The output string is newSource\n</code></pre>\n\n<p>Replace all uppercase, then iterate over each word and replace the remaining \"how\"s with \"lol\". That substring at the end is simply to remove the extra space.</p>\n"},{"tags":[],"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494729366,"creation_date":1494729366,"answer_id":43959849,"question_id":43959047,"body_markdown":"I came up with a really dumb solution: \r\n\r\n    String result = source;\r\n    result = result.replaceAll(old_Word, new_Word);\r\n    result = result.replaceAll(old_Word.toUpperCase(), \r\n    newWord.toUpperCase());","title":"How do I replace the same word but different case in the same sentence separately?","body":"<p>I came up with a really dumb solution: </p>\n\n<pre><code>String result = source;\nresult = result.replaceAll(old_Word, new_Word);\nresult = result.replaceAll(old_Word.toUpperCase(), \nnewWord.toUpperCase());\n</code></pre>\n"}],"owner":{"account_id":7916054,"reputation":85,"user_id":5978442,"accept_rate":88,"display_name":"Jinyu Wu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43959198,"answer_count":2,"score":0,"last_activity_date":1693129574,"creation_date":1494719235,"question_id":43959047,"body_markdown":"For example, replace &quot;HOW do I replace different how in the same sentence by using Matcher?&quot; with &quot;LOL do I replace different lol in the same sentence?&quot; \r\n\r\nIf HOW is all caps, replace it with LOL. Otherwise, replace it with lol.\r\n\r\nI only know how to find them:\r\n    \r\n    String source = &quot;HOW do I replace different how in the same &quot; +\r\n                    &quot;sentence by using Matcher?&quot;\r\n\r\n    Pattern pattern = Pattern.compile(how, Pattern.CASE_INSENSITIVE);\r\n        Matcher m = pattern.matcher(source);\r\n        while (m.find()) {\r\n             if(m.group.match(&quot;^[A-Z]*$&quot;))        \r\n                  System.out.println(&quot;I am uppercase&quot;);\r\n             else\r\n                  System.out.println(&quot;I am lowercase&quot;);\r\n\r\n        }\r\n\r\nBut I don&#39;t know how to replace them by using matcher and pattern.\r\n\r\n","title":"How do I replace the same word but different case in the same sentence separately?","body":"<p>For example, replace \"HOW do I replace different how in the same sentence by using Matcher?\" with \"LOL do I replace different lol in the same sentence?\" </p>\n\n<p>If HOW is all caps, replace it with LOL. Otherwise, replace it with lol.</p>\n\n<p>I only know how to find them:</p>\n\n<pre><code>String source = \"HOW do I replace different how in the same \" +\n                \"sentence by using Matcher?\"\n\nPattern pattern = Pattern.compile(how, Pattern.CASE_INSENSITIVE);\n    Matcher m = pattern.matcher(source);\n    while (m.find()) {\n         if(m.group.match(\"^[A-Z]*$\"))        \n              System.out.println(\"I am uppercase\");\n         else\n              System.out.println(\"I am lowercase\");\n\n    }\n</code></pre>\n\n<p>But I don't know how to replace them by using matcher and pattern.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494188818,"post_id":43836300,"comment_id":74709274,"body_markdown":"what output you expect to get?","body":"what output you expect to get?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494188859,"post_id":43836300,"comment_id":74709287,"body_markdown":"what did you mean by `but somehow it only detects the first part of the regex not the last part` ?","body":"what did you mean by <code>but somehow it only detects the first part of the regex not the last part</code> ?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494188972,"post_id":43836300,"comment_id":74709333,"body_markdown":"I expect to get the whole string. Well it only gives me back -2‚àö3254 not the entire string, which is what I expect. @YCF_L","body":"I expect to get the whole string. Well it only gives me back -2‚àö3254 not the entire string, which is what I expect. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494189012,"post_id":43836300,"comment_id":74709345,"body_markdown":"is that all your code? what is the inputs?","body":"is that all your code? what is the inputs?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189372,"post_id":43836300,"comment_id":74709468,"body_markdown":"the input is the string m. The regex should detect the entire string. @YCF_L","body":"the input is the string m. The regex should detect the entire string. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494189443,"post_id":43836300,"comment_id":74709495,"body_markdown":"`&quot;-2‚àö3254i/18.5&quot;.matches(&quot;-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+(\\\\.\\\\d*)?&quot;)` return `true` mean your regex is correct for this input!!","body":"<code>&quot;-2‚àö3254i&#47;18.5&quot;.matches(&quot;-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\&zwnj;&#8203;\\&#47;\\\\d+(\\\\.\\\\d*)?&quot;)</code> return <code>true</code> mean your regex is correct for this input!!"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189803,"post_id":43836300,"comment_id":74709628,"body_markdown":"with the method matches it works, but I need it to work with a matcher object so I can use matcherobject.find() method @YCF_L","body":"with the method matches it works, but I need it to work with a matcher object so I can use matcherobject.find() method @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1494189931,"post_id":43836300,"comment_id":74709679,"body_markdown":"did you mean `String m = &quot;-2‚àö3254i/18.5&quot;;\nString regex = &quot;-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i+\\\\/+\\\\d+(\\\\.\\\\d*)?&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(m);\n\nif (matcher.find()) {\n    System.out.println(matcher.group());\n}` ?","body":"did you mean <code>String m = &quot;-2‚àö3254i&#47;18.5&quot;; String regex = &quot;-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i+\\\\&#47;+\\\\d+(\\\\.\\\\d*)?&quot;;  Pattern pattern = Pattern.compile(regex); Matcher matcher = pattern.matcher(m);  if (matcher.find()) {     System.out.println(matcher.group()); }</code> ?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189965,"post_id":43836300,"comment_id":74709691,"body_markdown":"yes. that is what I mean @YCF_L","body":"yes. that is what I mean @YCF_L"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494189988,"post_id":43836300,"comment_id":74709700,"body_markdown":"It is weird that it works with matches method not with find() method. I wonder why?","body":"It is weird that it works with matches method not with find() method. I wonder why?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494190022,"post_id":43836300,"comment_id":74709717,"body_markdown":"no it work with me try to copy past my code and you will see","body":"no it work with me try to copy past my code and you will see"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494190582,"post_id":43836300,"comment_id":74709886,"body_markdown":"yes I see that it works, the problem is that my regex is really composed of many regexes into one. I separate them with &quot;|&quot; symbol . Maybe one of the other regexes that makes up my regex got in the way of matching the string. I probably should use the matches method instead. @YCF_L","body":"yes I see that it works, the problem is that my regex is really composed of many regexes into one. I separate them with &quot;|&quot; symbol . Maybe one of the other regexes that makes up my regex got in the way of matching the string. I probably should use the matches method instead. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494190699,"post_id":43836300,"comment_id":74709929,"body_markdown":"analyse your problem step by step, not me who down-vote your question ok :) good luck","body":"analyse your problem step by step, not me who down-vote your question ok :) good luck"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494190941,"post_id":43836300,"comment_id":74709992,"body_markdown":"I know exactly what happened. I will post the solution shortly. Can you remove the down vote. @YCF_L","body":"I know exactly what happened. I will post the solution shortly. Can you remove the down vote. @YCF_L"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1494190983,"post_id":43836300,"comment_id":74710006,"body_markdown":"no it is not me who down-vote your question ok here my up-vote!","body":"no it is not me who down-vote your question ok here my up-vote!"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1494191964,"post_id":43836300,"comment_id":74710240,"body_markdown":"I just posted my answer @YCF_L","body":"I just posted my answer @YCF_L"}],"answers":[{"tags":[],"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494192421,"creation_date":1494191932,"answer_id":43836827,"question_id":43836300,"body_markdown":"Okay so my regex is actually composed of many regexes:\r\n\r\n    String regex = &quot;a regex | another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?\\\\i&quot; \r\n                  + &quot;|another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+ (\\\\.\\\\d*)? \r\n\r\nThe problem happens between both regexes shown. The ***first*** symbolical regex is picked up by the matcher *first*, but I really intended for the ***second*** symbolical regex to pick up my `String m = &quot;-2‚àö32454i/18.5&quot;` \r\n\r\nIt seems the matcher exits matching when one of the boolean conditions is met. \r\nAll I had to do was rearrange the order of my regexes which make up my regex.","title":"Java Regex not working as desired","body":"<p>Okay so my regex is actually composed of many regexes:</p>\n\n<pre><code>String regex = \"a regex | another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?\\\\i\" \n              + \"|another regex | -?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+ (\\\\.\\\\d*)? \n</code></pre>\n\n<p>The problem happens between both regexes shown. The <strong><em>first</em></strong> symbolical regex is picked up by the matcher <em>first</em>, but I really intended for the <strong><em>second</em></strong> symbolical regex to pick up my <code>String m = \"-2‚àö32454i/18.5\"</code> </p>\n\n<p>It seems the matcher exits matching when one of the boolean conditions is met. \nAll I had to do was rearrange the order of my regexes which make up my regex.</p>\n"}],"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1693217717,"answer_count":1,"score":-1,"last_activity_date":1693129459,"creation_date":1494188637,"question_id":43836300,"body_markdown":"I created this regex, but somehow it only detects the first part \r\nof the regex not the last part. I would like to know what is going on?\r\n\r\nHere&#39;s the code:\r\n\r\n    String m = -2‚àö3254i/18.5\r\n    String regex = &quot;-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+(\\\\.\\\\d*)?&quot;\r\n\r\nI have tried many different ways, such as:\r\n\r\n    -?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i+\\\\/+\\\\d+(\\\\.\\\\d*)?\r\n    -?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i/\\\\d+(\\\\.\\\\d*)?\r\n    -?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\\\(\\\\/\\\\d+(\\\\.\\\\d*))?\r\n\r\nnone of them work.\r\n\r\nthe output is always\r\n\r\n    -2‚àö3254\r\n\r\nAny suggestions,\r\n\r\nthank you\r\n    ","title":"Java Regex not working as desired","body":"<p>I created this regex, but somehow it only detects the first part \nof the regex not the last part. I would like to know what is going on?</p>\n\n<p>Here's the code:</p>\n\n<pre><code>String m = -2‚àö3254i/18.5\nString regex = \"-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\\\/\\\\d+(\\\\.\\\\d*)?\"\n</code></pre>\n\n<p>I have tried many different ways, such as:</p>\n\n<pre><code>-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i+\\\\/+\\\\d+(\\\\.\\\\d*)?\n-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i/\\\\d+(\\\\.\\\\d*)?\n-?\\\\d+(\\\\.\\\\d*)?\\\\‚àö\\\\d+(\\\\.\\\\d*)?i\\\\(\\\\/\\\\d+(\\\\.\\\\d*))?\n</code></pre>\n\n<p>none of them work.</p>\n\n<p>the output is always</p>\n\n<pre><code>-2‚àö3254\n</code></pre>\n\n<p>Any suggestions,</p>\n\n<p>thank you</p>\n"},{"tags":["java","regex","error-handling"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1493149026,"post_id":43619498,"comment_id":74287949,"body_markdown":"`\\\\]` is a literal `]`, so you never close any of the `[`s.","body":"<code>\\\\]</code> is a literal <code>]</code>, so you never close any of the <code>[</code>s."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1493149187,"post_id":43619498,"comment_id":74288041,"body_markdown":"&quot;Any idea where is the error?&quot; [index 43](http://ideone.com/8eKOPL), the end of the string.","body":"&quot;Any idea where is the error?&quot; <a href=\"http://ideone.com/8eKOPL\" rel=\"nofollow noreferrer\">index 43</a>, the end of the string."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1493149117,"creation_date":1493149117,"answer_id":43619528,"question_id":43619498,"body_markdown":"To use `[^&quot;\\]` you have to use 4 `\\\\\\\\` for the backslash `\\` instead of 2 `\\\\` like this :\r\n\r\n    &quot;\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;|(?&lt;=,|^)([^,]*)(?=,|$)&quot;","title":"Can&#39;t find error in Matcher, unclosed character class","body":"<p>To use <code>[^\"\\]</code> you have to use 4 <code>\\\\\\\\</code> for the backslash <code>\\</code> instead of 2 <code>\\\\</code> like this :</p>\n\n<pre><code>\"\\\"[^\\\"\\\\\\\\]*(?:\\\\.[^\\\"\\\\\\\\]*)*\\\"|(?&lt;=,|^)([^,]*)(?=,|$)\"\n</code></pre>\n"}],"owner":{"display_name":"user7128116"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43619528,"answer_count":1,"score":0,"last_activity_date":1693129423,"creation_date":1493148960,"question_id":43619498,"body_markdown":"I&#39;m trying to match a pattern in a String, but i get the unclosed character class, this is my matcher:\r\n\r\n    Matcher d = Pattern.compile(&quot;\\&quot;[^\\&quot;\\\\]*(?:\\\\.[^\\&quot;\\\\]*)*\\&quot;|(?&lt;=,|^)([^,]*)(?=,|$)&quot;)\r\n                    .matcher(titulos);\r\n\r\nAny idea where is the error?","title":"Can&#39;t find error in Matcher, unclosed character class","body":"<p>I'm trying to match a pattern in a String, but i get the unclosed character class, this is my matcher:</p>\n\n<pre><code>Matcher d = Pattern.compile(\"\\\"[^\\\"\\\\]*(?:\\\\.[^\\\"\\\\]*)*\\\"|(?&lt;=,|^)([^,]*)(?=,|$)\")\n                .matcher(titulos);\n</code></pre>\n\n<p>Any idea where is the error?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1492157159,"post_id":43407622,"comment_id":73874606,"body_markdown":"Escape the dots in `\\d+.*\\d*` or better, use `\\d+(?:\\.\\d+)?`","body":"Escape the dots in <code>\\d+.*\\d*</code> or better, use <code>\\d+(?:\\.\\d+)?</code>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1492157372,"creation_date":1492157372,"answer_id":43407704,"question_id":43407622,"body_markdown":"Your current pattern has several problems.  As others have pointed out, your dots should be escaped with two backslashes if you intend for them to be literal dots.  I think the pattern you want to use to match a number which may or may not have a decimal component is this:\r\n\r\n    (\\\\d+(?:\\\\.\\\\d+)?)\r\n\r\nThis matches the following:\r\n\r\n    \\\\d+          one or more numbers\r\n    (?:\\\\.\\\\d+)?  followed by a decimal point and one or more numbers\r\n                  this entire quantity being optional\r\n\r\nFull code:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;.*?(\\\\d+(?:\\\\.\\\\d+)?).*?-.*?(\\\\d+(?:\\\\.\\\\d+)?).*?&quot;);\r\n    Matcher matcher = pattern.matcher(&quot;13.9 mp - 14.9 mp&quot;);\r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n        System.out.println(matcher.group(2));\r\n    }\r\n\r\n**Output:**\r\n\r\n    13.9\r\n    14.9","title":"Java regex matcher doesn&#39;t group as expected","body":"<p>Your current pattern has several problems.  As others have pointed out, your dots should be escaped with two backslashes if you intend for them to be literal dots.  I think the pattern you want to use to match a number which may or may not have a decimal component is this:</p>\n\n<pre><code>(\\\\d+(?:\\\\.\\\\d+)?)\n</code></pre>\n\n<p>This matches the following:</p>\n\n<pre><code>\\\\d+          one or more numbers\n(?:\\\\.\\\\d+)?  followed by a decimal point and one or more numbers\n              this entire quantity being optional\n</code></pre>\n\n<p>Full code:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\".*?(\\\\d+(?:\\\\.\\\\d+)?).*?-.*?(\\\\d+(?:\\\\.\\\\d+)?).*?\");\nMatcher matcher = pattern.matcher(\"13.9 mp - 14.9 mp\");\nwhile (matcher.find()) {\n    System.out.println(matcher.group(1));\n    System.out.println(matcher.group(2));\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>13.9\n14.9\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1492157760,"post_id":43407757,"comment_id":73874864,"body_markdown":"This would match a sentence ending in a number.  Have a look [here](https://regex101.com/r/9PHnDn/1).","body":"This would match a sentence ending in a number.  Have a look <a href=\"https://regex101.com/r/9PHnDn/1\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":10379291,"reputation":99,"user_id":7654613,"display_name":"Mr.lin"},"score":0,"creation_date":1492158398,"post_id":43407757,"comment_id":73875159,"body_markdown":"the regex is Jones&#39;s ,I just modify it to matche value he want .Maybe that is he want.","body":"the regex is Jones&#39;s ,I just modify it to matche value he want .Maybe that is he want."}],"tags":[],"owner":{"account_id":10379291,"reputation":99,"user_id":7654613,"display_name":"Mr.lin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492157600,"creation_date":1492157600,"answer_id":43407757,"question_id":43407622,"body_markdown":"    .*?(\\d+\\.*\\d*).*?-.*?(\\d+\\.*\\d*).*?\r\n\r\n. between &#39;\\d+&#39; and &#39;*\\d*&#39; in your regex should be changed to \\\\.","title":"Java regex matcher doesn&#39;t group as expected","body":"<pre><code>.*?(\\d+\\.*\\d*).*?-.*?(\\d+\\.*\\d*).*?\n</code></pre>\n\n<p>. between '\\d+' and '<em>\\d</em>' in your regex should be changed to \\.</p>\n"}],"owner":{"account_id":2188907,"reputation":1046,"user_id":1936584,"accept_rate":76,"display_name":"Jones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43407704,"answer_count":2,"score":3,"last_activity_date":1693129418,"creation_date":1492156992,"question_id":43407622,"body_markdown":"I have a regex \r\n\r\n    .*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?\r\n\r\nI want to match any string that contains a numerical value followed by &quot;-&quot; and another number. Any string can be in between. \r\n\r\nAlso, I want to be able to extract the numbers using group function of Java Matcher class.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;.*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?&quot;);\r\n    Matcher matcher = pattern.matcher(&quot;13.9 mp - 14.9 mp&quot;);\r\n    matcher.matches();\r\n    \r\nI expect this result:\r\n    \r\n    matcher.group(1) // this should be 13.9 but it is 13 instead\r\n    matcher.group(2) // this should be 14.9 but it is 14 instead\r\n\r\nAny idea what I am missing?\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n    ","title":"Java regex matcher doesn&#39;t group as expected","body":"<p>I have a regex </p>\n\n<pre><code>.*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?\n</code></pre>\n\n<p>I want to match any string that contains a numerical value followed by \"-\" and another number. Any string can be in between. </p>\n\n<p>Also, I want to be able to extract the numbers using group function of Java Matcher class.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\".*?(\\\\d+.*?\\\\d*).*?-.*?(\\\\d+.*?\\\\d*).*?\");\nMatcher matcher = pattern.matcher(\"13.9 mp - 14.9 mp\");\nmatcher.matches();\n</code></pre>\n\n<p>I expect this result:</p>\n\n<pre><code>matcher.group(1) // this should be 13.9 but it is 13 instead\nmatcher.group(2) // this should be 14.9 but it is 14 instead\n</code></pre>\n\n<p>Any idea what I am missing?</p>\n"},{"tags":["java","regex","out-of-memory"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1492079048,"post_id":43389660,"comment_id":73840180,"body_markdown":"You don&#39;t need regular expressions for replacing a literal. My first advice would be to try replacing without `Pattern` / `Matcher` objects. Note that `String.replace` still uses regular expressions under the hood, but also ensures your search `String` is pattern-quoted, which might improve the memory footprint.","body":"You don&#39;t need regular expressions for replacing a literal. My first advice would be to try replacing without <code>Pattern</code> / <code>Matcher</code> objects. Note that <code>String.replace</code> still uses regular expressions under the hood, but also ensures your search <code>String</code> is pattern-quoted, which might improve the memory footprint."},{"owner":{"account_id":7125304,"reputation":1015,"user_id":5448410,"accept_rate":80,"display_name":"Sanchit Khera"},"score":0,"creation_date":1492079314,"post_id":43389660,"comment_id":73840358,"body_markdown":"Hi Mena, in the code, the next line is regex = &quot;\\\\[,\\\\]&quot;; which is also replaced using Pattern/Matcher in similar way. For this I think I&#39;ll have to use Pattern/Matcher. What do you think?","body":"Hi Mena, in the code, the next line is regex = &quot;\\&#91;,\\&#93;&quot;; which is also replaced using Pattern/Matcher in similar way. For this I think I&#39;ll have to use Pattern/Matcher. What do you think?"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1492079402,"post_id":43389660,"comment_id":73840411,"body_markdown":"well that seems to be a literal too, for `&quot;[,]&quot;`, since you&#39;re escaping the square brackets.","body":"well that seems to be a literal too, for <code>&quot;[,]&quot;</code>, since you&#39;re escaping the square brackets."}],"answers":[{"tags":[],"owner":{"account_id":10347632,"reputation":632,"user_id":7632058,"display_name":"Boschi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492079801,"creation_date":1492079801,"answer_id":43389992,"question_id":43389660,"body_markdown":"Some alternatives you could try:\r\n\r\n1 - Increase the memory (using -Xmx in the command line)\r\n\r\n2 - Break the String into smaller chunks, analyze the chunks, and do not forget to check if the ending of a chunk plus the beginning of the next contain the pattern.\r\n\r\nThis will help you to &quot;tame&quot; the memory usage.","title":"OutOfMemoryError Matcher.replaceAll","body":"<p>Some alternatives you could try:</p>\n\n<p>1 - Increase the memory (using -Xmx in the command line)</p>\n\n<p>2 - Break the String into smaller chunks, analyze the chunks, and do not forget to check if the ending of a chunk plus the beginning of the next contain the pattern.</p>\n\n<p>This will help you to \"tame\" the memory usage.</p>\n"},{"comments":[{"owner":{"account_id":7125304,"reputation":1015,"user_id":5448410,"accept_rate":80,"display_name":"Sanchit Khera"},"score":0,"creation_date":1492083009,"post_id":43390668,"comment_id":73842933,"body_markdown":"-Xms and -Xmx are already 2GB. Don&#39;t think it would be right to increase it further.","body":"-Xms and -Xmx are already 2GB. Don&#39;t think it would be right to increase it further."},{"owner":{"account_id":3814449,"reputation":2515,"user_id":3164160,"display_name":"Subodh Karwa"},"score":0,"creation_date":1492083113,"post_id":43390668,"comment_id":73843016,"body_markdown":"What is your Java version?","body":"What is your Java version?"},{"owner":{"account_id":7125304,"reputation":1015,"user_id":5448410,"accept_rate":80,"display_name":"Sanchit Khera"},"score":0,"creation_date":1492084062,"post_id":43390668,"comment_id":73843698,"body_markdown":"Java version is 1.6","body":"Java version is 1.6"},{"owner":{"account_id":3814449,"reputation":2515,"user_id":3164160,"display_name":"Subodh Karwa"},"score":0,"creation_date":1492084217,"post_id":43390668,"comment_id":73843823,"body_markdown":"Please try setting -XX:MaxPermSize=512M. It is a space for internalized strings in Java","body":"Please try setting -XX:MaxPermSize=512M. It is a space for internalized strings in Java"}],"tags":[],"owner":{"account_id":3814449,"reputation":2515,"user_id":3164160,"display_name":"Subodh Karwa"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492081767,"creation_date":1492081767,"answer_id":43390668,"question_id":43389660,"body_markdown":"Incresing heap is one the of the solutions.\r\nIt would depend on the Java Version you are using.\r\n\r\n1. If you are using Java6 or older versions, Strings are a part of PermGen Area and can be increased by XX:MaxPermSize=N\r\n\r\n2. If you are using Java 7 or Java 8 , simply bumping  (-Xmx) should help.\r\n\r\nIf you still face issues post that, following link http://www.wikiconsole.com/analyzing-out-of-memory-situations/ should help","title":"OutOfMemoryError Matcher.replaceAll","body":"<p>Incresing heap is one the of the solutions.\nIt would depend on the Java Version you are using.</p>\n\n<ol>\n<li><p>If you are using Java6 or older versions, Strings are a part of PermGen Area and can be increased by XX:MaxPermSize=N</p></li>\n<li><p>If you are using Java 7 or Java 8 , simply bumping  (-Xmx) should help.</p></li>\n</ol>\n\n<p>If you still face issues post that, following link <a href=\"http://www.wikiconsole.com/analyzing-out-of-memory-situations/\" rel=\"nofollow noreferrer\">http://www.wikiconsole.com/analyzing-out-of-memory-situations/</a> should help</p>\n"}],"owner":{"account_id":7125304,"reputation":1015,"user_id":5448410,"accept_rate":80,"display_name":"Sanchit Khera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693129414,"creation_date":1492078903,"question_id":43389660,"body_markdown":"In the following code, I&#39;m getting an OutOfMemoryError\r\n\r\n    String resultStr = json.format(obj);\r\n    String regex = &quot;null&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(resultStr);\r\n    resultStr = m.replaceAll(&quot;&quot;);\r\n\r\nThe stack trace is below:\r\n\r\n    at java/lang/StringBuffer.ensureCapacityImpl(StringBuffer.java:338(Compiled Code)) \r\n    at java/lang/StringBuffer.append(StringBuffer.java:204(Compiled Code)) \r\n    at java/lang/StringBuffer.append(StringBuffer.java:1031(Compiled Code)) \r\n    at java/util/regex/Matcher.appendReplacement(Matcher.java:757(Compiled Code)) \r\n    at java/util/regex/Matcher.replaceAll(Matcher.java:824(Compiled Code))\r\n\r\nI know replaceAll is expensive and can cause OOM. What is the most efficient way to avoid OOM in such a case?\r\n\r\nI found there are similar questions on SO, but I&#39;m not sure if any of them answers my question.","title":"OutOfMemoryError Matcher.replaceAll","body":"<p>In the following code, I'm getting an OutOfMemoryError</p>\n\n<pre><code>String resultStr = json.format(obj);\nString regex = \"null\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(resultStr);\nresultStr = m.replaceAll(\"\");\n</code></pre>\n\n<p>The stack trace is below:</p>\n\n<pre><code>at java/lang/StringBuffer.ensureCapacityImpl(StringBuffer.java:338(Compiled Code)) \nat java/lang/StringBuffer.append(StringBuffer.java:204(Compiled Code)) \nat java/lang/StringBuffer.append(StringBuffer.java:1031(Compiled Code)) \nat java/util/regex/Matcher.appendReplacement(Matcher.java:757(Compiled Code)) \nat java/util/regex/Matcher.replaceAll(Matcher.java:824(Compiled Code))\n</code></pre>\n\n<p>I know replaceAll is expensive and can cause OOM. What is the most efficient way to avoid OOM in such a case?</p>\n\n<p>I found there are similar questions on SO, but I'm not sure if any of them answers my question.</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1490098602,"post_id":42926885,"comment_id":72951008,"body_markdown":"See [java.util.regex - importance of Pattern.compile()?](http://stackoverflow.com/questions/1720191/java-util-regex-importance-of-pattern-compile)","body":"See <a href=\"http://stackoverflow.com/questions/1720191/java-util-regex-importance-of-pattern-compile\">java.util.regex - importance of Pattern.compile()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2206865,"reputation":811,"user_id":1949874,"display_name":"Justas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1490098652,"creation_date":1490098652,"answer_id":42926936,"question_id":42926885,"body_markdown":"If you look at the String method `replaceAll` it does the same under the hood:\r\n\r\n    public String replaceAll(String regex, String replacement) {\r\n        return Pattern.compile(regex).matcher(this).replaceAll(replacement);\r\n    }\r\n\r\nIf you want to use the same pattern multiple times. It&#39;s better to go with the second option as you will not need to recompile it every time.","title":"String replacement efficiency java","body":"<p>If you look at the String method <code>replaceAll</code> it does the same under the hood:</p>\n\n<pre><code>public String replaceAll(String regex, String replacement) {\n    return Pattern.compile(regex).matcher(this).replaceAll(replacement);\n}\n</code></pre>\n\n<p>If you want to use the same pattern multiple times. It's better to go with the second option as you will not need to recompile it every time.</p>\n"}],"owner":{"account_id":3141769,"reputation":91,"user_id":2657096,"accept_rate":33,"display_name":"Abid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42926936,"answer_count":1,"score":0,"last_activity_date":1693129387,"creation_date":1490098540,"question_id":42926885,"body_markdown":"Which way is more efficient to replace characters/substring in a string. I have searched and i have found two ways : \r\n\r\n    output = output.replaceAll(REGEX, REPLACEMENT);\r\n\r\n\r\nor\r\n\r\n    Pattern p = Pattern.compile(REGEX);\r\n    Matcher m = p.matcher(output);\r\n    output = m.replaceAll(REPLACEMENT);\r\n\r\n    \r\nI mean with efficiency : less time, loops and/or new variables.  ","title":"String replacement efficiency java","body":"<p>Which way is more efficient to replace characters/substring in a string. I have searched and i have found two ways : </p>\n\n<pre><code>output = output.replaceAll(REGEX, REPLACEMENT);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Pattern p = Pattern.compile(REGEX);\nMatcher m = p.matcher(output);\noutput = m.replaceAll(REPLACEMENT);\n</code></pre>\n\n<p>I mean with efficiency : less time, loops and/or new variables.  </p>\n"},{"tags":["java","regex","recursive-backtracking"],"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1488368796,"post_id":42530868,"comment_id":72197436,"body_markdown":"`[0-90-9]` can be changed to `[0-9]`","body":"<code>[0-90-9]</code> can be changed to <code>[0-9]</code>"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":2,"creation_date":1488368835,"post_id":42530868,"comment_id":72197464,"body_markdown":"What are the requirements for the pattern? `[0-90-9]` is certainly not the main problem here, but the nested quantifiers inside groups.","body":"What are the requirements for the pattern? <code>[0-90-9]</code> is certainly not the main problem here, but the nested quantifiers inside groups."},{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488368850,"post_id":42530868,"comment_id":72197475,"body_markdown":"Thanks ,I noticed that , But I would really appreciate if someone can make this regex backtrack infinitely.In that case I can be sure thats the problem","body":"Thanks ,I noticed that , But I would really appreciate if someone can make this regex backtrack infinitely.In that case I can be sure thats the problem"},{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488368881,"post_id":42530868,"comment_id":72197501,"body_markdown":"@WiktorStribi≈ºew Find me an input which would break this regex ie cause it to loop infinitely","body":"@WiktorStribi≈ºew Find me an input which would break this regex ie cause it to loop infinitely"},{"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"score":0,"creation_date":1488368920,"post_id":42530868,"comment_id":72197522,"body_markdown":"This has nothing to do with &quot;infinite loop&quot; _or_ &quot;recursive backtracking&quot;...","body":"This has nothing to do with &quot;infinite loop&quot; <i>or</i> &quot;recursive backtracking&quot;..."},{"owner":{"account_id":10198020,"reputation":2625,"user_id":7529266,"accept_rate":75,"display_name":"MohaMad"},"score":0,"creation_date":1488369412,"post_id":42530868,"comment_id":72197853,"body_markdown":"all of your capturing groups are optional , where using `?` or `*` and if you want to validate input, add `^...$` warapper @SainathS.R","body":"all of your capturing groups are optional , where using <code>?</code> or <code>*</code> and if you want to validate input, add <code>^...$</code> warapper @SainathS.R"}],"answers":[{"comments":[{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488369670,"post_id":42531146,"comment_id":72198034,"body_markdown":"Thank you , I know the pattern can be changed to something better but I would like to know any sample input which can cause this pattern to run indefinitely .","body":"Thank you , I know the pattern can be changed to something better but I would like to know any sample input which can cause this pattern to run indefinitely ."},{"owner":{"account_id":10198020,"reputation":2625,"user_id":7529266,"accept_rate":75,"display_name":"MohaMad"},"score":0,"creation_date":1488369763,"post_id":42531146,"comment_id":72198094,"body_markdown":"Your pattern runs for each Character in the input text. Note to use ^ $","body":"Your pattern runs for each Character in the input text. Note to use ^ $"},{"owner":{"account_id":10198020,"reputation":2625,"user_id":7529266,"accept_rate":75,"display_name":"MohaMad"},"score":0,"creation_date":1488369819,"post_id":42531146,"comment_id":72198136,"body_markdown":"`Test your regex` has 16 matched null string @SainathS.R","body":"<code>Test your regex</code> has 16 matched null string @SainathS.R"}],"tags":[],"owner":{"account_id":10198020,"reputation":2625,"user_id":7529266,"accept_rate":75,"display_name":"MohaMad"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488369685,"creation_date":1488369522,"answer_id":42531146,"question_id":42530868,"body_markdown":"To validate your input string use this one:\r\n\r\n    ^[-+]?(\\d+((\\,(\\d{2,}))*\\,(\\d{3}))*)?(\\.\\d*)?$\r\n\r\nAs I&#39;ve wrote in comments:\r\n\r\n&gt;all of your capturing groups are optional , where using `?` or `*` and if you want to validate input, add `^...$` wrapper\r\n\r\nHave a look at right side bar of https://regex101.com/r/eM7OFj/1 titled by **MATCH INFORMATION**","title":"Is my regex catastrophically backtracking?","body":"<p>To validate your input string use this one:</p>\n\n<pre><code>^[-+]?(\\d+((\\,(\\d{2,}))*\\,(\\d{3}))*)?(\\.\\d*)?$\n</code></pre>\n\n<p>As I've wrote in comments:</p>\n\n<blockquote>\n  <p>all of your capturing groups are optional , where using <code>?</code> or <code>*</code> and if you want to validate input, add <code>^...$</code> wrapper</p>\n</blockquote>\n\n<p>Have a look at right side bar of <a href=\"https://regex101.com/r/eM7OFj/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/eM7OFj/1</a> titled by <strong>MATCH INFORMATION</strong></p>\n"},{"comments":[{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488370274,"post_id":42531292,"comment_id":72198408,"body_markdown":"That string ran fine :(","body":"That string ran fine :("},{"owner":{"account_id":4744420,"reputation":8265,"user_id":3836111,"accept_rate":70,"display_name":"Sebastian Proske"},"score":1,"creation_date":1488370333,"post_id":42531292,"comment_id":72198456,"body_markdown":"Note that this is only an issue in an anchored context, e.g. `.matches`","body":"Note that this is only an issue in an anchored context, e.g. <code>.matches</code>"},{"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"score":0,"creation_date":1488370472,"post_id":42531292,"comment_id":72198545,"body_markdown":"@SainathS.R Then make it longer.","body":"@SainathS.R Then make it longer."},{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488370490,"post_id":42531292,"comment_id":72198559,"body_markdown":"@SebastianProske Can you elaborate?","body":"@SebastianProske Can you elaborate?"},{"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"score":0,"creation_date":1488370634,"post_id":42531292,"comment_id":72198652,"body_markdown":"@Rawing I made it very long ,still terminated in reasonable time","body":"@Rawing I made it very long ,still terminated in reasonable time"},{"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"score":0,"creation_date":1488370831,"post_id":42531292,"comment_id":72198785,"body_markdown":"@SainathS.R Make sure it&#39;s anchored: `^[-+]?([0-90-9]+((\\,([0-90-9]{2,}))*\\,([0-90-9]{3}))*)?(\\.[0-90-9]*)?$`","body":"@SainathS.R Make sure it&#39;s anchored: <code>^[-+]?([0-90-9]+((\\,([0-90-9]{2,}))*\\,([0-90-9]{3}))*)?(\\.[0&zwnj;&#8203;-90-9]*)?$</code>"}],"tags":[],"owner":{"account_id":1265583,"reputation":40647,"user_id":1222951,"accept_rate":88,"display_name":"Aran-Fey"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1488370006,"creation_date":1488370006,"answer_id":42531292,"question_id":42530868,"body_markdown":"Yes, this regex is prone to catastrophic backtracking. Specifically, this segment:\r\n\r\n    ((\\,([0-9]{2,}))*\\,([0-9]{3}))*\r\n\r\nFor reference, this has a structure of the form\r\n\r\n    ((,d)*,d)*\r\n\r\nwhich, simplified, is essentially `(d+)*`.\r\n\r\nStrings like\r\n\r\n    1,111,111,111,111,111,111,111,111,111,111,111,111,111,11.\r\nwill therefore cause catastrophic backtracking.","title":"Is my regex catastrophically backtracking?","body":"<p>Yes, this regex is prone to catastrophic backtracking. Specifically, this segment:</p>\n\n<pre><code>((\\,([0-9]{2,}))*\\,([0-9]{3}))*\n</code></pre>\n\n<p>For reference, this has a structure of the form</p>\n\n<pre><code>((,d)*,d)*\n</code></pre>\n\n<p>which, simplified, is essentially <code>(d+)*</code>.</p>\n\n<p>Strings like</p>\n\n<pre><code>1,111,111,111,111,111,111,111,111,111,111,111,111,111,11.\n</code></pre>\n\n<p>will therefore cause catastrophic backtracking.</p>\n"}],"owner":{"account_id":4593215,"reputation":3134,"user_id":3725998,"accept_rate":58,"display_name":"Sainath S.R"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":42531292,"answer_count":2,"score":-3,"last_activity_date":1693129361,"creation_date":1488368733,"question_id":42530868,"body_markdown":"I use a regex to validate number formats.\r\n\r\n    [-+]?([0-90-9]+((\\,([0-90-9]{2,}))*\\,([0-90-9]{3}))*)?(\\.[0-90-9]*)? \r\nWhen I handled a large number of inputs for certain inputs it seems to loop infinitely .I read other answers regarding catastrophic backtracking .\r\nBut I am a regex newbie and need some help.\r\ncan you please provide any input that can make this regex catastrophically backtrack . Would be helpful for me to understand .Thanks .It can be a very long input too .\r\nI am using Java Pattern and matcher objects.","title":"Is my regex catastrophically backtracking?","body":"<p>I use a regex to validate number formats.</p>\n\n<pre><code>[-+]?([0-90-9]+((\\,([0-90-9]{2,}))*\\,([0-90-9]{3}))*)?(\\.[0-90-9]*)? \n</code></pre>\n\n<p>When I handled a large number of inputs for certain inputs it seems to loop infinitely .I read other answers regarding catastrophic backtracking .\nBut I am a regex newbie and need some help.\ncan you please provide any input that can make this regex catastrophically backtrack . Would be helpful for me to understand .Thanks .It can be a very long input too .\nI am using Java Pattern and matcher objects.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10263065,"reputation":2310,"user_id":7573818,"display_name":"Jeremy Grand"},"score":1,"creation_date":1487955421,"post_id":42444118,"comment_id":72032034,"body_markdown":"you can name your groups with the syntax `&quot;(?&lt;groupId&gt;.*)&quot;` into your pattern and then call `matcher.group(&quot;groupId&quot;)`. It&#39;s more readable and should enable you to do what you want.","body":"you can name your groups with the syntax <code>&quot;(?&lt;groupId&gt;.*)&quot;</code> into your pattern and then call <code>matcher.group(&quot;groupId&quot;)</code>. It&#39;s more readable and should enable you to do what you want."},{"owner":{"account_id":9003569,"reputation":489,"user_id":6711224,"accept_rate":86,"display_name":"Vitaliy"},"score":0,"creation_date":1487956811,"post_id":42444118,"comment_id":72032849,"body_markdown":"Will keep it in mind. Didn&#39;t know about this feature.","body":"Will keep it in mind. Didn&#39;t know about this feature."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1487958993,"post_id":42444118,"comment_id":72034053,"body_markdown":"You don&#39;t need to do it like this. You&#39;re not really enforcing an order via the number of the match. You can just use this `([P—Ä]–∏—Å—É–Ω–æ–∫|[P—Ä]–∏—Å—É–Ω–∫—É|—Ä–∏—Å.|[Ff]igure|fig.)\\s(\\d+)`  If you are trying to enforce an order, you only need 1 match to get them all `(?:—Ä–∏—Å.\\s(\\d+)).*?(?:[–†—Ä]–∏—Å—É–Ω–æ–∫\\s(\\d+)).*?(?:[–†—Ä]–∏—Å—É–Ω–∫—É\\s(\\d+)).*?(?:fig.\\s(\\d+)).*?(?:[fF]igure\\s(\\d+))`","body":"You don&#39;t need to do it like this. You&#39;re not really enforcing an order via the number of the match. You can just use this <code>([P—Ä]–∏—Å—É–Ω–æ–∫|[P—Ä]–∏—Å—É–Ω–∫—É|—Ä–∏—Å.|[Ff]igure|fig.)\\s(\\d+)</code>  If you are trying to enforce an order, you only need 1 match to get them all <code>(?:—Ä–∏—Å.\\s(\\d+)).*?(?:[–†—Ä]–∏—Å—É–Ω–æ–∫\\s(\\d+)).*?(?:[–†—Ä]–∏—Å—É–Ω–∫—É\\s(\\d&zwnj;&#8203;+)).*?(?:fig.\\s(\\d+)&zwnj;&#8203;).*?(?:[fF]igure\\s(\\&zwnj;&#8203;d+))</code>"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487955576,"creation_date":1487955576,"answer_id":42444265,"question_id":42444118,"body_markdown":"You can loop through all groups starting from 2nd group and find the first non-null group and populate your dom:\r\n\r\n    while(m.find()) {\r\n       for (c=2; c&lt;=m.groupCount(); c++) {\r\n           if (m.group(c) != null) {\r\n               domElement.setAttribute(&quot;rid&quot;, &quot;fig&quot; + m.group(c));\r\n               break;\r\n           }\r\n       }\r\n    }","title":"Java: extract group number from Matcher","body":"<p>You can loop through all groups starting from 2nd group and find the first non-null group and populate your dom:</p>\n\n<pre><code>while(m.find()) {\n   for (c=2; c&lt;=m.groupCount(); c++) {\n       if (m.group(c) != null) {\n           domElement.setAttribute(\"rid\", \"fig\" + m.group(c));\n           break;\n       }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":9003569,"reputation":489,"user_id":6711224,"accept_rate":86,"display_name":"Vitaliy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42444265,"answer_count":1,"score":2,"last_activity_date":1693129333,"creation_date":1487955129,"question_id":42444118,"body_markdown":"Very short question, it is possible to extract groups numbers, found by the Matcher?\r\n\r\nfor example here is my code: \r\n\r\n    Pattern k = Pattern.compile(&quot;(—Ä–∏—Å.\\\\s(\\\\d+)|[–†—Ä]–∏—Å—É–Ω–æ–∫\\\\s(\\\\d+)|[–†—Ä]–∏—Å—É–Ω–∫—É\\\\s(\\\\d+)|fig.\\\\s(\\\\d+)|[fF]igure\\\\s(\\\\d+))&quot;);\r\n    Matcher m = k.matcher(DOMNode.getTextContent());\r\n    \t\t    \r\n    \t        while(m.find()) {\t\t    \r\n    \t\t      domElement.setAttribute(&quot;rid&quot;, &quot;fig&quot; + m.group(!1));\r\n    \t        }\r\n\r\nWith this pattern I can get several full matches. They would be grouped as match 1: group 1, group 2; match 2: group 1, group 3; match 3: group 1, group 4\r\n\r\nI want to append to DOM element attribute from the second group. In the cycle it will be group 2 from first match, group 3 from second match etc.  ","title":"Java: extract group number from Matcher","body":"<p>Very short question, it is possible to extract groups numbers, found by the Matcher?</p>\n\n<p>for example here is my code: </p>\n\n<pre><code>Pattern k = Pattern.compile(\"(—Ä–∏—Å.\\\\s(\\\\d+)|[–†—Ä]–∏—Å—É–Ω–æ–∫\\\\s(\\\\d+)|[–†—Ä]–∏—Å—É–Ω–∫—É\\\\s(\\\\d+)|fig.\\\\s(\\\\d+)|[fF]igure\\\\s(\\\\d+))\");\nMatcher m = k.matcher(DOMNode.getTextContent());\n\n            while(m.find()) {           \n              domElement.setAttribute(\"rid\", \"fig\" + m.group(!1));\n            }\n</code></pre>\n\n<p>With this pattern I can get several full matches. They would be grouped as match 1: group 1, group 2; match 2: group 1, group 3; match 3: group 1, group 4</p>\n\n<p>I want to append to DOM element attribute from the second group. In the cycle it will be group 2 from first match, group 3 from second match etc.  </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1715095,"reputation":1324,"user_id":1572356,"accept_rate":94,"display_name":"boxed__l"},"score":0,"creation_date":1487188756,"post_id":42258815,"comment_id":71675520,"body_markdown":"[`String.matches#`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#matches(java.lang.String)) method does the same thing. Since the pattern matches the whole string + there are no Capturing groups --&gt; group[1] would be erroneous.","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.matches#</code></a> method does the same thing. Since the pattern matches the whole string + there are no Capturing groups --&gt; group[1] would be erroneous."}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487188887,"creation_date":1487188887,"answer_id":42258927,"question_id":42258815,"body_markdown":"&gt; `Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: No group 1`\r\n\r\nThis error is due to the fact that your regex pattern has no captured group #1.\r\n\r\nYou can change your pattern to this:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;add entity ([a-zA-Z]*,[a-zA-Z]*)&quot;);\r\n\r\nso that part of `&quot;add entity &quot;` is captured in group #1. Note that there is no need to escape comma in a regex pattern.","title":"Extract Substring from Regex","body":"<blockquote>\n  <p><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: No group 1</code></p>\n</blockquote>\n\n<p>This error is due to the fact that your regex pattern has no captured group #1.</p>\n\n<p>You can change your pattern to this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"add entity ([a-zA-Z]*,[a-zA-Z]*)\");\n</code></pre>\n\n<p>so that part of <code>\"add entity \"</code> is captured in group #1. Note that there is no need to escape comma in a regex pattern.</p>\n"}],"owner":{"account_id":7413300,"reputation":1156,"user_id":5639995,"accept_rate":94,"display_name":"Carle B. Navy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1487194033,"accepted_answer_id":42258927,"answer_count":1,"score":1,"last_activity_date":1693129328,"creation_date":1487188458,"question_id":42258815,"body_markdown":"I have an input string that should look like this in java:&lt;br&gt;\r\n`String input = add entity &lt;a-zA-Z&gt;,&lt;a-zA-z&gt;`&lt;br&gt;\r\nNow I want to check, whether a given String has the right format or not. If so I want to get the handed words.\r\n\r\nI already have the checking part\r\n\r\n    boolean foo(String input) {\r\n        Pattern pattern = Pattern.compile(&quot;add entity [a-zA-Z]*[,][a-zA-Z]*&quot;);\r\n    \tMatcher matcher = pattern.matcher(input);\r\n        return matcher.matches();\r\n    }\r\n\r\nI have found several other questions here where they have solved a similar problem with\r\n\r\n    if(matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n    }\r\nBut if I do so the console always throws the exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: No group 1\r\nDoes anyone have an advice for me how to solve this ?\r\nThank you guys very much.\r\n","title":"Extract Substring from Regex","body":"<p>I have an input string that should look like this in java:<br>\n<code>String input = add entity &lt;a-zA-Z&gt;,&lt;a-zA-z&gt;</code><br>\nNow I want to check, whether a given String has the right format or not. If so I want to get the handed words.</p>\n\n<p>I already have the checking part</p>\n\n<pre><code>boolean foo(String input) {\n    Pattern pattern = Pattern.compile(\"add entity [a-zA-Z]*[,][a-zA-Z]*\");\n    Matcher matcher = pattern.matcher(input);\n    return matcher.matches();\n}\n</code></pre>\n\n<p>I have found several other questions here where they have solved a similar problem with</p>\n\n<pre><code>if(matcher.find()) {\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n\n<p>But if I do so the console always throws the exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IndexOutOfBoundsException: No group 1\n</code></pre>\n\n<p>Does anyone have an advice for me how to solve this ?\nThank you guys very much.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":2,"creation_date":1485882794,"post_id":41963492,"comment_id":71106008,"body_markdown":"Use `\\\\b\\\\d+(?=HP\\\\b)` or [`\\\\b(\\\\d+)HP\\\\b`](http://ideone.com/6im4kH).","body":"Use <code>\\\\b\\\\d+(?=HP\\\\b)</code> or <a href=\"http://ideone.com/6im4kH\" rel=\"nofollow noreferrer\"><code>\\\\b(\\\\d+)HP\\\\b</code></a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1485883020,"post_id":41963492,"comment_id":71106151,"body_markdown":"Why did you decide to use `split` in the first place? Is it possible that your string will contain data like `foo123hpbar` in which case `123hp` should be ignored?","body":"Why did you decide to use <code>split</code> in the first place? Is it possible that your string will contain data like <code>foo123hpbar</code> in which case <code>123hp</code> should be ignored?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1485883128,"post_id":41963492,"comment_id":71106229,"body_markdown":"Yes, the `split()` seems gratuitous, at best.  Likely it&#39;s just going to slow down your searching, at least if the sample input is any indication.","body":"Yes, the <code>split()</code> seems gratuitous, at best.  Likely it&#39;s just going to slow down your searching, at least if the sample input is any indication."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1485883221,"post_id":41963492,"comment_id":71106286,"body_markdown":"Speaking of performance, for simple searches like this it&#39;s really easy to just search for an &quot;H&quot;, followed by a &quot;P&quot;, then back up and copy the digits manually.  This can be much much faster than a regex engine if performance does become an issue.  Consider also using `indexOf(&quot;HP&quot;)` if you need more performance.","body":"Speaking of performance, for simple searches like this it&#39;s really easy to just search for an &quot;H&quot;, followed by a &quot;P&quot;, then back up and copy the digits manually.  This can be much much faster than a regex engine if performance does become an issue.  Consider also using <code>indexOf(&quot;HP&quot;)</code> if you need more performance."}],"answers":[{"comments":[{"owner":{"account_id":7798259,"reputation":1411,"user_id":5898626,"accept_rate":74,"display_name":"Stepan"},"score":0,"creation_date":1485884029,"post_id":41963651,"comment_id":71106774,"body_markdown":"I made it more general by:\n`String matcherPattern = &quot;([0-9]+&quot; + suffix + &quot;)&quot;;\n Pattern p = Pattern.compile(matcherPattern);`\n Works great, thank you.","body":"I made it more general by: <code>String matcherPattern = &quot;([0-9]+&quot; + suffix + &quot;)&quot;;  Pattern p = Pattern.compile(matcherPattern);</code>  Works great, thank you."},{"owner":{"account_id":2303067,"reputation":875,"user_id":2022946,"accept_rate":75,"display_name":"WillD"},"score":0,"creation_date":1485885335,"post_id":41963651,"comment_id":71107546,"body_markdown":"OP doesn&#39;t want the suffix included. In this case &quot;\\\\D(\\\\d+)HP&quot; fits the bill.\nOr &quot;\\\\D(\\\\d+)&quot; + suffix","body":"OP doesn&#39;t want the suffix included. In this case &quot;\\\\D(\\\\d+)HP&quot; fits the bill. Or &quot;\\\\D(\\\\d+)&quot; + suffix"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1485885712,"post_id":41963651,"comment_id":71107759,"body_markdown":"There is no point in wrapping entire regex in parenthesis like `(regex)` because entire match is already in group 0, so there is no need to add another group just for that. Maybe you meant to store only numeric part in it? In that case you need to more `)` before `HP` like `([0-9]+)HP`.","body":"There is no point in wrapping entire regex in parenthesis like <code>(regex)</code> because entire match is already in group 0, so there is no need to add another group just for that. Maybe you meant to store only numeric part in it? In that case you need to more <code>)</code> before <code>HP</code> like <code>([0-9]+)HP</code>."}],"tags":[],"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485883133,"creation_date":1485883133,"answer_id":41963651,"question_id":41963492,"body_markdown":"Add `HP` to your regex...\r\n\r\n            Pattern p = Pattern.compile(&quot;([0-9]+HP)&quot;);\r\n            Matcher m = p.matcher(&quot;asdf 123HP 123&quot;);\r\n            if (m.find())\r\n                System.out.println(&quot;result - &quot; + m.group(1));\r\n","title":"Get an integer with a certain prefix [Java]","body":"<p>Add <code>HP</code> to your regex...</p>\n\n<pre><code>        Pattern p = Pattern.compile(\"([0-9]+HP)\");\n        Matcher m = p.matcher(\"asdf 123HP 123\");\n        if (m.find())\n            System.out.println(\"result - \" + m.group(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2685682,"reputation":12530,"user_id":2320144,"display_name":"Ashraful Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485883972,"creation_date":1485883531,"answer_id":41963772,"question_id":41963492,"body_markdown":"Use this method : \r\n\r\n    public static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        Pattern pattern = Pattern.compile(String.format(&quot;(\\\\d+)%s(?:$|\\\\W+)&quot;, suffix));\r\n        Matcher matcher = pattern.matcher(input);\r\n        while (matcher.find()) {\r\n            result.add(Integer.parseInt(matcher.group(1)));\r\n        }\r\n        return result;\r\n    }\r\n\r\nHere I have used this regex : `(\\d+)SUFFIX(?:$|\\W+)`\r\n\r\n* `(\\d+)` - means zero or more digit and make capture group 1   \r\n* `$` means end of string   \r\n* `\\w+` zero or more non word character    \r\n* `(?:)` means not capture this group\r\n","title":"Get an integer with a certain prefix [Java]","body":"<p>Use this method : </p>\n\n<pre><code>public static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    Pattern pattern = Pattern.compile(String.format(\"(\\\\d+)%s(?:$|\\\\W+)\", suffix));\n    Matcher matcher = pattern.matcher(input);\n    while (matcher.find()) {\n        result.add(Integer.parseInt(matcher.group(1)));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Here I have used this regex : <code>(\\d+)SUFFIX(?:$|\\W+)</code></p>\n\n<ul>\n<li><code>(\\d+)</code> - means zero or more digit and make capture group 1   </li>\n<li><code>$</code> means end of string   </li>\n<li><code>\\w+</code> zero or more non word character    </li>\n<li><code>(?:)</code> means not capture this group</li>\n</ul>\n"}],"owner":{"account_id":7798259,"reputation":1411,"user_id":5898626,"accept_rate":74,"display_name":"Stepan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41963651,"answer_count":2,"score":0,"last_activity_date":1693129321,"creation_date":1485882660,"question_id":41963492,"body_markdown":"Given strings like `Engine Name 470/485HP and some other text here about 100RPM or torque` and I want to extract a number right before `HP `. In this example method should return `485`. Numbers are guaranteed to be integers (no `-123.45` to worry about). Pattern `digitsHP ` only appears once per string. Cases like `1234-5678HP ` are possible and `5678` is an expected result. I came up with a method that splits string by spaces, for each substring it checks if it ends with HP. If it does, method finds the last block of numbers and saves it. What is a better way to do this? I suspect it might be a regex one-liner.\r\n\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        String myStr = &quot;Engine Name 470/485HP and some other text here about 100RPM or torque&quot;;\r\n        List&lt;Integer&gt; list = parseIntegerWithSuffixIgnoreCase(myStr, &quot;HP&quot;);\r\n        System.out.println(list.get(0));\r\n    }\r\n\r\n    public static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        String[] rawStrings = input.split(&quot;\\\\s&quot;);\r\n\r\n        for (String rawString : rawStrings) {\r\n            if (rawString.toUpperCase().endsWith(suffix)) {\r\n\r\n                Pattern p = Pattern.compile(&quot;[0-9]+&quot;);\r\n                Matcher m = p.matcher(rawString);\r\n                List&lt;String&gt; allNumericMatches = new ArrayList&lt;&gt;();\r\n                while (m.find()) {\r\n                    allNumericMatches.add(m.group());\r\n                }\r\n                Integer value = Integer.parseInt(allNumericMatches.get(allNumericMatches.size() - 1));\r\n                result.add(value);\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Get an integer with a certain prefix [Java]","body":"<p>Given strings like <code>Engine Name 470/485HP and some other text here about 100RPM or torque</code> and I want to extract a number right before <code>HP</code>. In this example method should return <code>485</code>. Numbers are guaranteed to be integers (no <code>-123.45</code> to worry about). Pattern <code>digitsHP</code> only appears once per string. Cases like <code>1234-5678HP</code> are possible and <code>5678</code> is an expected result. I came up with a method that splits string by spaces, for each substring it checks if it ends with HP. If it does, method finds the last block of numbers and saves it. What is a better way to do this? I suspect it might be a regex one-liner.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String myStr = \"Engine Name 470/485HP and some other text here about 100RPM or torque\";\n    List&lt;Integer&gt; list = parseIntegerWithSuffixIgnoreCase(myStr, \"HP\");\n    System.out.println(list.get(0));\n}\n\npublic static List&lt;Integer&gt; parseIntegerWithSuffixIgnoreCase(String input, String suffix) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    String[] rawStrings = input.split(\"\\\\s\");\n\n    for (String rawString : rawStrings) {\n        if (rawString.toUpperCase().endsWith(suffix)) {\n\n            Pattern p = Pattern.compile(\"[0-9]+\");\n            Matcher m = p.matcher(rawString);\n            List&lt;String&gt; allNumericMatches = new ArrayList&lt;&gt;();\n            while (m.find()) {\n                allNumericMatches.add(m.group());\n            }\n            Integer value = Integer.parseInt(allNumericMatches.get(allNumericMatches.size() - 1));\n            result.add(value);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","regex","quotes"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1485415359,"post_id":41865132,"comment_id":70919098,"body_markdown":"Try `List[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);`","body":"Try <code>List[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);</code>"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1485416383,"post_id":41865132,"comment_id":70919499,"body_markdown":"See https://ideone.com/NgMozq.","body":"See <a href=\"https://ideone.com/NgMozq\" rel=\"nofollow noreferrer\">ideone.com/NgMozq</a>."},{"owner":{"account_id":6238577,"reputation":110,"user_id":5876014,"accept_rate":100,"display_name":"Beerbossa"},"score":0,"creation_date":1485450070,"post_id":41865132,"comment_id":70939764,"body_markdown":"This works well, thanks a lot ! I&#39;ll try to understand how the regex works and apply it for commented source code as well (such as /*  */, /** **/ and // \\n).","body":"This works well, thanks a lot ! I&#39;ll try to understand how the regex works and apply it for commented source code as well (such as /*  <i>/, /*</i> **/ and // \\n)."},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":0,"creation_date":1485450765,"post_id":41865132,"comment_id":70940163,"body_markdown":"Show us your actual Java code -- and ideally a failing test method too.","body":"Show us your actual Java code -- and ideally a failing test method too."},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1485451003,"post_id":41865132,"comment_id":70940297,"body_markdown":"Note that the regex for `/*...*/` like comments in Java is [posted by me here](http://stackoverflow.com/a/36328890/3832970).","body":"Note that the regex for <code>&#47;*...*&#47;</code> like comments in Java is <a href=\"http://stackoverflow.com/a/36328890/3832970\">posted by me here</a>."},{"owner":{"account_id":6238577,"reputation":110,"user_id":5876014,"accept_rate":100,"display_name":"Beerbossa"},"score":0,"creation_date":1485452969,"post_id":41865132,"comment_id":70941513,"body_markdown":"I made this one before,reading your comment, to cover the multi line comments case. Sorry for asking so many questions but would you explain to me what&#39;s wrong with this version ? It seems to work fine and is shorter, but I assume there are some cases that I forgot to consider.\n\n**&quot;/\\\\**(?:[\\\\S\\\\s]*?)\\\\*/&quot;**","body":"I made this one before,reading your comment, to cover the multi line comments case. Sorry for asking so many questions but would you explain to me what&#39;s wrong with this version ? It seems to work fine and is shorter, but I assume there are some cases that I forgot to consider.  <b>&quot;/\\*<i>(?:[\\\\S\\\\s]</i>?)\\*/&quot;</b>"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1485454978,"post_id":41865132,"comment_id":70942747,"body_markdown":"*Is shorter* is no argument in the regex world when you have to match strings of arbitrary length. Use your pattern and once your code freezes, you will switch to my version. Lazy (and greedy) quantifiers [take their toll](http://stackoverflow.com/questions/35759287/why-are-greedy-quantifiers-less-expensive-than-lazy-quantifiers). [Unrolling the loop](http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop)  is a life savior.","body":"<i>Is shorter</i> is no argument in the regex world when you have to match strings of arbitrary length. Use your pattern and once your code freezes, you will switch to my version. Lazy (and greedy) quantifiers <a href=\"http://stackoverflow.com/questions/35759287/why-are-greedy-quantifiers-less-expensive-than-lazy-quantifiers\">take their toll</a>. <a href=\"http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop\" rel=\"nofollow noreferrer\">Unrolling the loop</a>  is a life savior."}],"answers":[{"comments":[{"owner":{"account_id":6238577,"reputation":110,"user_id":5876014,"accept_rate":100,"display_name":"Beerbossa"},"score":0,"creation_date":1485453045,"post_id":41879046,"comment_id":70941566,"body_markdown":"Thanks, this was pretty must exactly what I was looking for ! It helped me to understand the syntax better and I can now try to build my own for the remaining steps that I need.","body":"Thanks, this was pretty must exactly what I was looking for ! It helped me to understand the syntax better and I can now try to build my own for the remaining steps that I need."}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485450527,"creation_date":1485450527,"answer_id":41879046,"question_id":41865132,"body_markdown":"It seems for your current task, you may use a pattern to match double quoted string literals to *split* the string:\r\n\r\n    List[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);\r\n\r\nSee the [Java demo][1]:\r\n\r\n    String s = &quot;This should be captured \\&quot;not this\\&quot; and \\&quot;not \\\\\\&quot;this\\\\\\&quot; either\\&quot;.&quot;;\r\n\tString[] res = s.split(&quot;\\\\s*\\&quot;[^\\&quot;\\\\\\\\]*(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*\\&quot;\\\\s*&quot;);\r\n\tSystem.out.println(Arrays.toString(res));\r\n    // =&gt; [This should be captured, and, .]\r\n\r\n**Pattern details**:\r\n\r\n - `\\\\s*` - 0+ whitespaces\r\n - `\\&quot;` - a double quote\r\n - `[^\\&quot;\\\\\\\\]*` - 0+ chars other than `&quot;` and ``\\``\r\n - `(?:\\\\\\\\.[^\\&quot;\\\\\\\\]*)*` - 0+ sequences of:\r\n   - `\\\\\\\\.` - a ``\\`` and any char other than line break chars\r\n   - `[^\\&quot;\\\\\\\\]*` - 0+ chars other than `&quot;` and ``\\``\r\n - `\\&quot;\\\\s*` - a `&quot;` and 0+ whitespaces\r\n\r\n  [1]: https://ideone.com/NgMozq","title":"Java Regex - Capturing everything outside quotes","body":"<p>It seems for your current task, you may use a pattern to match double quoted string literals to <em>split</em> the string:</p>\n\n<pre><code>List[] res = s.split(\"\\\\s*\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*\\\"\\\\s*\");\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/NgMozq\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n\n<pre><code>String s = \"This should be captured \\\"not this\\\" and \\\"not \\\\\\\"this\\\\\\\" either\\\".\";\nString[] res = s.split(\"\\\\s*\\\"[^\\\"\\\\\\\\]*(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*\\\"\\\\s*\");\nSystem.out.println(Arrays.toString(res));\n// =&gt; [This should be captured, and, .]\n</code></pre>\n\n<p><strong>Pattern details</strong>:</p>\n\n<ul>\n<li><code>\\\\s*</code> - 0+ whitespaces</li>\n<li><code>\\\"</code> - a double quote</li>\n<li><code>[^\\\"\\\\\\\\]*</code> - 0+ chars other than <code>\"</code> and <code>\\</code></li>\n<li><code>(?:\\\\\\\\.[^\\\"\\\\\\\\]*)*</code> - 0+ sequences of:\n\n<ul>\n<li><code>\\\\\\\\.</code> - a <code>\\</code> and any char other than line break chars</li>\n<li><code>[^\\\"\\\\\\\\]*</code> - 0+ chars other than <code>\"</code> and <code>\\</code></li>\n</ul></li>\n<li><code>\\\"\\\\s*</code> - a <code>\"</code> and 0+ whitespaces</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1722137,"reputation":36,"user_id":13180602,"display_name":"Ela Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667813687,"creation_date":1667813687,"answer_id":74344456,"question_id":41865132,"body_markdown":"    String s = &quot;This should be captured \\&quot;not this\\&quot; and \\&quot;not \\\\\\&quot;this\\\\\\&quot; either\\&quot;.&quot;;\r\n    String[] res = s.split(&quot;\\&quot;([^\\&quot;]*)\\&quot;&quot;);\r\n    System.out.println(Arrays.toString(res));\r\n\r\nThis is a comparatively shorter regex pattern matching expression.\r\n","title":"Java Regex - Capturing everything outside quotes","body":"<pre><code>String s = &quot;This should be captured \\&quot;not this\\&quot; and \\&quot;not \\\\\\&quot;this\\\\\\&quot; either\\&quot;.&quot;;\nString[] res = s.split(&quot;\\&quot;([^\\&quot;]*)\\&quot;&quot;);\nSystem.out.println(Arrays.toString(res));\n</code></pre>\n<p>This is a comparatively shorter regex pattern matching expression.</p>\n"}],"owner":{"account_id":6238577,"reputation":110,"user_id":5876014,"accept_rate":100,"display_name":"Beerbossa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41879046,"answer_count":2,"score":2,"last_activity_date":1693129308,"creation_date":1485398547,"question_id":41865132,"body_markdown":"**TLDR: I&#39;m looking to capture everything outside of quotation marks, but I seem to fail to do so in Java with this regex \\\\&quot;|&quot;(?:\\\\&quot;|[^&quot;])*&quot;|([^\\&quot;]+) while it works on websites such as http://myregexp.com/. Can anyone point me what I&#39;m doing wrong ?**\r\n\r\nHi, I&#39;m currently trying to analyse a .java source code and extract as a string everything outside quotation marks (ignoring escaped quotes).\r\n\r\nFor example, in this string :\r\n&gt; This should be captured &quot;not this&quot; and &quot;not \\&quot;this\\&quot; either&quot;.\r\n\r\nI should be able with, pattern and matcher, to find &quot;This should be captured&quot;, &quot;and&quot;, &quot;.&quot;.\r\n\r\nWhat I currently have is **\\&quot;[^\\&quot;]+\\&quot;|([^\\&quot;]+)**, which works well if there is an equal pair of &quot;&quot; in the document but breaks as soon as there is an escaped one.\r\n\r\nOn an online regex testers, I tried **\\\\&quot;|&quot;(?:\\\\&quot;|[^&quot;])*&quot;|([^\\&quot;]+)** which seems to do exactly what I&#39;m looking for, but when I try it in Java it doesn&#39;t.\r\n\r\n\r\n\r\n","title":"Java Regex - Capturing everything outside quotes","body":"<p><strong>TLDR: I'm looking to capture everything outside of quotation marks, but I seem to fail to do so in Java with this regex \\\"|\"(?:\\\"|[^\"])*\"|([^\\\"]+) while it works on websites such as <a href=\"http://myregexp.com/\" rel=\"nofollow noreferrer\">http://myregexp.com/</a>. Can anyone point me what I'm doing wrong ?</strong></p>\n\n<p>Hi, I'm currently trying to analyse a .java source code and extract as a string everything outside quotation marks (ignoring escaped quotes).</p>\n\n<p>For example, in this string :</p>\n\n<blockquote>\n  <p>This should be captured \"not this\" and \"not \\\"this\\\" either\".</p>\n</blockquote>\n\n<p>I should be able with, pattern and matcher, to find \"This should be captured\", \"and\", \".\".</p>\n\n<p>What I currently have is <strong>\\\"[^\\\"]+\\\"|([^\\\"]+)</strong>, which works well if there is an equal pair of \"\" in the document but breaks as soon as there is an escaped one.</p>\n\n<p>On an online regex testers, I tried <strong>\\\"|\"(?:\\\"|[^\"])*\"|([^\\\"]+)</strong> which seems to do exactly what I'm looking for, but when I try it in Java it doesn't.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1485225796,"post_id":41819131,"comment_id":70826363,"body_markdown":"what is your expected output?","body":"what is your expected output?"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485226299,"post_id":41819131,"comment_id":70826468,"body_markdown":"expected output here would be : 2.548^-3.654  AND ALSO: -14^-2.545 @Baby","body":"expected output here would be : 2.548^-3.654  AND ALSO: -14^-2.545 @Baby"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1485227322,"post_id":41819131,"comment_id":70826712,"body_markdown":"this might be ugly but just try it `(\\-?\\d+\\.\\-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)|(-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)`","body":"this might be ugly but just try it <code>(\\-?\\d+\\.\\-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)|(-?\\d+\\.?\\^\\-?\\d+\\.?\\d+)</code>"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485227461,"post_id":41819131,"comment_id":70826745,"body_markdown":"Hey thanks.. lets see @Baby","body":"Hey thanks.. lets see @Baby"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485227525,"post_id":41819131,"comment_id":70826762,"body_markdown":"nothing happened @Baby","body":"nothing happened @Baby"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1485227997,"post_id":41819131,"comment_id":70826887,"body_markdown":"you need to escape the backslashes. see [**Demo here**](http://ideone.com/Qmwq1R)","body":"you need to escape the backslashes. see <a href=\"http://ideone.com/Qmwq1R\" rel=\"nofollow noreferrer\"><b>Demo here</b></a>"}],"answers":[{"comments":[{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485227761,"post_id":41819405,"comment_id":70826830,"body_markdown":"it doesn&#39;t match what am looking for....what&#39;s the purpose of the ? symbol @Archmage","body":"it doesn&#39;t match what am looking for....what&#39;s the purpose of the ? symbol @Archmage"},{"owner":{"display_name":"user3702702"},"score":0,"creation_date":1485227868,"post_id":41819405,"comment_id":70826857,"body_markdown":"The `?` symbol matches zero or one of the preceding expression. Can you give me the data you&#39;re using the regex on so I can check on my end? The data in your question worked perfectly with my answer...","body":"The <code>?</code> symbol matches zero or one of the preceding expression. Can you give me the data you&#39;re using the regex on so I can check on my end? The data in your question worked perfectly with my answer..."},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485228055,"post_id":41819405,"comment_id":70826912,"body_markdown":"it seems like your code will match the pattern, however I need to retrieve it for further processing. That&#39;s why I use the while loop and m.find() to find all occurrences of the matching substrings. @Archmage","body":"it seems like your code will match the pattern, however I need to retrieve it for further processing. That&#39;s why I use the while loop and m.find() to find all occurrences of the matching substrings. @Archmage"},{"owner":{"display_name":"user3702702"},"score":0,"creation_date":1485228126,"post_id":41819405,"comment_id":70826929,"body_markdown":"...So substitute my pattern for yours and use it in whatever matching context you like? A pattern is a pattern is a pattern, it exists outside of implementation. That&#39;s up to you.","body":"...So substitute my pattern for yours and use it in whatever matching context you like? A pattern is a pattern is a pattern, it exists outside of implementation. That&#39;s up to you."},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485228546,"post_id":41819405,"comment_id":70827046,"body_markdown":"well its possible.. could you try to see if you can get the substrings with the method indexOf(pattern) that way all those substrings could be retrieved for further processing. I am trying to tweak some other pattern and I think am getting close to the answer. @Archmage","body":"well its possible.. could you try to see if you can get the substrings with the method indexOf(pattern) that way all those substrings could be retrieved for further processing. I am trying to tweak some other pattern and I think am getting close to the answer. @Archmage"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485229243,"post_id":41819405,"comment_id":70827247,"body_markdown":"I tried the example you gave me. But I get only one exponent power not both of them @Archmage","body":"I tried the example you gave me. But I get only one exponent power not both of them @Archmage"},{"owner":{"display_name":"user3702702"},"score":0,"creation_date":1485229718,"post_id":41819405,"comment_id":70827339,"body_markdown":"@i_o I don&#39;t know what to tell you; I&#39;ve just run the code again and it prints both. Unless you provide me with something more substantial than &quot;it doesn&#39;t work&quot;, I can&#39;t help you further than I already have.","body":"@i_o I don&#39;t know what to tell you; I&#39;ve just run the code again and it prints both. Unless you provide me with something more substantial than &quot;it doesn&#39;t work&quot;, I can&#39;t help you further than I already have."}],"tags":[],"owner":{"display_name":"user3702702"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485228685,"creation_date":1485227567,"answer_id":41819405,"question_id":41819131,"body_markdown":"EDIT: replaced `[0123456789]` with `(\\\\d)`\r\n\r\nEDIT EDIT: added context for OP\r\n\r\nAnswer\r\n---\r\n\r\nHere&#39;s a pattern that should match what you need:\r\n\r\n    -?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?\r\n\r\nExplanation\r\n---\r\n\r\n`-?` - zero or one minus symbols\r\n\r\n`(\\\\d)+` - one or more digits\r\n\r\n`(\\\\.(\\\\d)+)?` - (optional) a decimal point, followed by one or more digits\r\n\r\n`\\\\^` - one caret symbol\r\n\r\n---\r\n\r\nUsing this on your input with `String.replace(pattern, &quot;[FOUND]&quot;)` produced:\r\n\r\n    &quot;2.5(4x+3)[FOUND]=[FOUND]&quot;\r\n\r\n---\r\n\r\nIn the context of your answer, simply replace your `regex` with the one I posted, and use `m.group()` instead of `m.group(1)`.\r\n\r\n    String ss = &quot;2.5(4x+3)-2.548^-3.654=-14^-2.545&quot;;\r\n    String regex = &quot;-?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?&quot;;\r\n\tPattern p = Pattern.compile(regex);\r\n\tMatcher m = p.matcher(ss);\r\n\r\n\twhile(m.find()) {\r\n\t\tSystem.out.println(&quot;Wiwi the cat: &quot; + m.group());\r\n\t}\r\n\r\nBest of luck!","title":"Setting up regex in Pattern object for java string","body":"<p>EDIT: replaced <code>[0123456789]</code> with <code>(\\\\d)</code></p>\n\n<p>EDIT EDIT: added context for OP</p>\n\n<h2>Answer</h2>\n\n<p>Here's a pattern that should match what you need:</p>\n\n<pre><code>-?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p><code>-?</code> - zero or one minus symbols</p>\n\n<p><code>(\\\\d)+</code> - one or more digits</p>\n\n<p><code>(\\\\.(\\\\d)+)?</code> - (optional) a decimal point, followed by one or more digits</p>\n\n<p><code>\\\\^</code> - one caret symbol</p>\n\n<hr>\n\n<p>Using this on your input with <code>String.replace(pattern, \"[FOUND]\")</code> produced:</p>\n\n<pre><code>\"2.5(4x+3)[FOUND]=[FOUND]\"\n</code></pre>\n\n<hr>\n\n<p>In the context of your answer, simply replace your <code>regex</code> with the one I posted, and use <code>m.group()</code> instead of <code>m.group(1)</code>.</p>\n\n<pre><code>String ss = \"2.5(4x+3)-2.548^-3.654=-14^-2.545\";\nString regex = \"-?(\\\\d)+(\\\\.(\\\\d)+)?\\\\^-?(\\\\d)+(\\\\.(\\\\d)+)?\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(ss);\n\nwhile(m.find()) {\n    System.out.println(\"Wiwi the cat: \" + m.group());\n}\n</code></pre>\n\n<p>Best of luck!</p>\n"},{"comments":[{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485228637,"post_id":41819464,"comment_id":70827075,"body_markdown":"shouldn&#39;t I place parentheses around the regex so its taken as a group? @Bohemian","body":"shouldn&#39;t I place parentheses around the regex so its taken as a group? @Bohemian"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485229305,"post_id":41819464,"comment_id":70827261,"body_markdown":"your code is giving me also 4 and 3 , which appear in the string like this:  4x + 3  , I only need the exponents that are negative with their bases and the ^ symbol  @Bohemian","body":"your code is giving me also 4 and 3 , which appear in the string like this:  4x + 3  , I only need the exponents that are negative with their bases and the ^ symbol  @Bohemian"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485229609,"post_id":41819464,"comment_id":70827322,"body_markdown":"Thanks for the tips.. I will only have to sort each substring returned by the matcher and keep the ones that contain the ^ symbol, discard the rest @Bohemian","body":"Thanks for the tips.. I will only have to sort each substring returned by the matcher and keep the ones that contain the ^ symbol, discard the rest @Bohemian"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1485230519,"post_id":41819464,"comment_id":70827544,"body_markdown":"@i_o no need to group the whole expression. That&#39;s `group(0)`, or just `.group()`","body":"@i_o no need to group the whole expression. That&#39;s <code>group(0)</code>, or just <code>.group()</code>"},{"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"score":0,"creation_date":1485230738,"post_id":41819464,"comment_id":70827595,"body_markdown":"thanks for the tips again.. The regex works, not as intended, but it helped me find the solution with a few tweaks to the matching substrings. @Bohemian","body":"thanks for the tips again.. The regex works, not as intended, but it helped me find the solution with a few tweaks to the matching substrings. @Bohemian"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1485237524,"post_id":41819464,"comment_id":70829775,"body_markdown":"@i_o do you want `&quot;4x+3&quot;` to be one whole match? If so, what can `&quot;x&quot;` be?","body":"@i_o do you want <code>&quot;4x+3&quot;</code> to be one whole match? If so, what can <code>&quot;x&quot;</code> be?"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485228321,"creation_date":1485227956,"answer_id":41819464,"question_id":41819131,"body_markdown":"Your basic problem is this character: `^`. It means &quot;start of input&quot;, so your regex can&#39;t match anything.\r\n\r\nYou must *escape* it `\\^` so it becomes a literal.\r\n\r\nI also fixed the rest of your regex:\r\n\r\n    String regex = &quot;-?\\\\d+(\\\\.\\\\d*)?(\\\\^-?\\\\d+(\\\\.\\\\d*)?)?&quot;;\r\n\r\nSee [live demo][1].\r\n\r\nAnd use\r\n\r\n    match.group(); // the whole match\r\n\r\n\r\n  [1]: http://rubular.com/r/lDx0eW9qCC","title":"Setting up regex in Pattern object for java string","body":"<p>Your basic problem is this character: <code>^</code>. It means \"start of input\", so your regex can't match anything.</p>\n\n<p>You must <em>escape</em> it <code>\\^</code> so it becomes a literal.</p>\n\n<p>I also fixed the rest of your regex:</p>\n\n<pre><code>String regex = \"-?\\\\d+(\\\\.\\\\d*)?(\\\\^-?\\\\d+(\\\\.\\\\d*)?)?\";\n</code></pre>\n\n<p>See <a href=\"http://rubular.com/r/lDx0eW9qCC\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n\n<p>And use</p>\n\n<pre><code>match.group(); // the whole match\n</code></pre>\n"}],"owner":{"account_id":5377211,"reputation":787,"user_id":4283649,"accept_rate":2,"display_name":"i_o"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693129302,"creation_date":1485225631,"question_id":41819131,"body_markdown":"Am trying to get all matches in a java string. The matches must be bases and powers in a math equation. As you know, bases and powers could be negative and decimals as well. I have the pattern, regex and matcher set up. It looks something like this, but it is not giving me what I expect. I guided myself by this post here on StackOverflow **https://stackoverflow.com/questions/25707779/regex-to-find-integer-or-decimal-from-a-string-in-java-in-a-single-group** \r\n\r\n**Am really just interested in capturing powers that have negative exponents both integers and non-integers.** \r\n\r\nWell here is my code:\r\n\r\n    String ss = &quot;2.5(4x+3)-2.548^-3.654=-14^-2.545&quot;;\r\n    String regex = &quot;(\\\\d^+(?:\\\\d+)?)&quot;;\r\n    Pattern p = Pattern.compile(regex);\r\n    Matcher m = p.matcher(ss);\r\n\r\n    while(m.find()){\r\n            System.out.println(&quot;Wiwi the cat: &quot;+m.group(1));\r\n        }\r\n\r\nThe output of this code is nothing. Any ideas or suggestions would be great.\r\n\r\nthanks\r\n\r\n    ","title":"Setting up regex in Pattern object for java string","body":"<p>Am trying to get all matches in a java string. The matches must be bases and powers in a math equation. As you know, bases and powers could be negative and decimals as well. I have the pattern, regex and matcher set up. It looks something like this, but it is not giving me what I expect. I guided myself by this post here on StackOverflow <strong><a href=\"https://stackoverflow.com/questions/25707779/regex-to-find-integer-or-decimal-from-a-string-in-java-in-a-single-group\">Regex to find integer or decimal from a string in java in a single group?</a></strong> </p>\n\n<p><strong>Am really just interested in capturing powers that have negative exponents both integers and non-integers.</strong> </p>\n\n<p>Well here is my code:</p>\n\n<pre><code>String ss = \"2.5(4x+3)-2.548^-3.654=-14^-2.545\";\nString regex = \"(\\\\d^+(?:\\\\d+)?)\";\nPattern p = Pattern.compile(regex);\nMatcher m = p.matcher(ss);\n\nwhile(m.find()){\n        System.out.println(\"Wiwi the cat: \"+m.group(1));\n    }\n</code></pre>\n\n<p>The output of this code is nothing. Any ideas or suggestions would be great.</p>\n\n<p>thanks</p>\n"},{"tags":["java","hibernate-mapping","hibernate-annotations"],"comments":[{"owner":{"account_id":19974981,"reputation":146,"user_id":14639530,"display_name":"Codemaster"},"score":0,"creation_date":1618078969,"post_id":67037797,"comment_id":118495878,"body_markdown":"There is no such annotations,you have to create new `class` for photos and  use hibernate mappings like `@OnetoMany` ,this will create 2 tables.","body":"There is no such annotations,you have to create new <code>class</code> for photos and  use hibernate mappings like <code>@OnetoMany</code> ,this will create 2 tables."},{"owner":{"account_id":8348375,"reputation":117,"user_id":6271395,"accept_rate":50,"display_name":"Anmol Bhaskar"},"score":0,"creation_date":1618079062,"post_id":67037797,"comment_id":118495902,"body_markdown":"Kindly check the link https://stackoverflow.com/questions/3774198/org-hibernate-mappingexception-could-not-determine-type-for-java-util-list-at","body":"Kindly check the link <a href=\"https://stackoverflow.com/questions/3774198/org-hibernate-mappingexception-could-not-determine-type-for-java-util-list-at\" title=\"org hibernate mappingexception could not determine type for java util list at\">stackoverflow.com/questions/3774198/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1618090364,"creation_date":1618081351,"answer_id":67038191,"question_id":67037797,"body_markdown":"This mapping is not going to work in Hibernate ORM.\r\n\r\nThe reason is that you are trying to have two nested collections of elements and this is not supported by Hibernate ORM (first collection is the `Map` and the second collection is the the `List`).\r\n\r\nYou have to use entities.\r\n\r\nYou can obtain something similar to an `@ElementCollection` with the following mapping:\r\n```\r\n\r\n@Entity\r\npublic static class PhotoEvent {\r\n\t@Id\r\n\t@Column(name = &quot;Event_Name&quot;)\r\n\tpublic String eventName;\r\n\r\n\t@ElementCollection\r\n\t@Column(name = &quot;`Values`&quot;)\r\n\tpublic List&lt;String&gt; values;\r\n\r\n\t@ManyToOne\r\n\tpublic Album album;\r\n...\r\n// getter/setter/hascode/equals...\r\n}\r\n\r\n\r\n@Entity\r\npublic static class Album {\r\n    ...\r\n\t\r\n    @OneToMany(mappedBy = &quot;album&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @MapKey(name = &quot;eventName&quot;)\r\n\tpublic Map&lt;String, PhotoEvent&gt; photoEvents;\r\n    \r\n    ...\r\n}\r\n\r\n```\r\n\r\nNote that I set `FetchType.EAGER` because it emulates an `@ElementCollection` but you will probably want to set it to `LAZY` (the default).\r\n\r\nYou will find more details about this type of mapping [in the Hibernate ORM documentation][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#collections-map","title":"How to map a collection Map&lt;String,List&lt;String&gt;&gt; type using Hibernate","body":"<p>This mapping is not going to work in Hibernate ORM.</p>\n<p>The reason is that you are trying to have two nested collections of elements and this is not supported by Hibernate ORM (first collection is the <code>Map</code> and the second collection is the the <code>List</code>).</p>\n<p>You have to use entities.</p>\n<p>You can obtain something similar to an <code>@ElementCollection</code> with the following mapping:</p>\n<pre><code>\n@Entity\npublic static class PhotoEvent {\n    @Id\n    @Column(name = &quot;Event_Name&quot;)\n    public String eventName;\n\n    @ElementCollection\n    @Column(name = &quot;`Values`&quot;)\n    public List&lt;String&gt; values;\n\n    @ManyToOne\n    public Album album;\n...\n// getter/setter/hascode/equals...\n}\n\n\n@Entity\npublic static class Album {\n    ...\n    \n    @OneToMany(mappedBy = &quot;album&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    @MapKey(name = &quot;eventName&quot;)\n    public Map&lt;String, PhotoEvent&gt; photoEvents;\n    \n    ...\n}\n\n</code></pre>\n<p>Note that I set <code>FetchType.EAGER</code> because it emulates an <code>@ElementCollection</code> but you will probably want to set it to <code>LAZY</code> (the default).</p>\n<p>You will find more details about this type of mapping <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#collections-map\" rel=\"nofollow noreferrer\">in the Hibernate ORM documentation</a>.</p>\n"}],"owner":{"account_id":21101184,"reputation":25,"user_id":15511052,"display_name":"UtsavC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67038191,"answer_count":1,"score":1,"last_activity_date":1693127316,"creation_date":1618078689,"question_id":67037797,"body_markdown":"**The question was to persist the following class using Hibernate .**\r\n\r\n    Public class Album{\r\n    Private int albumid;\r\n    Private String aname;\r\n    Private Map&lt;String,List&lt;String&gt;&gt; photos;\r\n    }\r\n\r\nI have Tried this \r\n\r\n    @Entity\r\n    public class Album {\r\n    \t@Id\r\n    \tprivate int albumId;\r\n    \t@Column(name= &quot;Album_Name&quot;)\r\n    \tprivate String aname;\r\n    \t\r\n    \t@ElementCollection\r\n    \t@MapKeyColumn(name= &quot;Event_Name&quot;)\r\n    \t@Column(name=&quot;Values&quot;)\r\n    \tprivate Map&lt;String, List&lt;String&gt;&gt; photos;\r\n\r\nBut it is showing errors such as \r\n```\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.MappingException: Could not determine type for: java.util.List, at table: Album_photos, for columns: [org.hibernate.mapping.Column(Values)]\r\n    \tat org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:336)\r\n    \tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:310)\r\n    \tat org.hibernate.mapping.Collection.validate(Collection.java:315)\r\n    \tat org.hibernate.mapping.IndexedCollection.validate(IndexedCollection.java:89)\r\n    \tat org.hibernate.cfg.Configuration.validate(Configuration.java:1362)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1849)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\r\n    \tat com.wipro.Insert.main(Insert.java:17)\r\n\r\n```\r\n\r\n\r\n","title":"How to map a collection Map&lt;String,List&lt;String&gt;&gt; type using Hibernate","body":"<p><strong>The question was to persist the following class using Hibernate .</strong></p>\n<pre><code>Public class Album{\nPrivate int albumid;\nPrivate String aname;\nPrivate Map&lt;String,List&lt;String&gt;&gt; photos;\n}\n</code></pre>\n<p>I have Tried this</p>\n<pre><code>@Entity\npublic class Album {\n    @Id\n    private int albumId;\n    @Column(name= &quot;Album_Name&quot;)\n    private String aname;\n    \n    @ElementCollection\n    @MapKeyColumn(name= &quot;Event_Name&quot;)\n    @Column(name=&quot;Values&quot;)\n    private Map&lt;String, List&lt;String&gt;&gt; photos;\n</code></pre>\n<p>But it is showing errors such as</p>\n<pre><code>\n    Exception in thread &quot;main&quot; org.hibernate.MappingException: Could not determine type for: java.util.List, at table: Album_photos, for columns: [org.hibernate.mapping.Column(Values)]\n        at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:336)\n        at org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:310)\n        at org.hibernate.mapping.Collection.validate(Collection.java:315)\n        at org.hibernate.mapping.IndexedCollection.validate(IndexedCollection.java:89)\n        at org.hibernate.cfg.Configuration.validate(Configuration.java:1362)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1849)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\n        at com.wipro.Insert.main(Insert.java:17)\n\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693127104,"creation_date":1692865566,"answer_id":76967463,"question_id":76966076,"body_markdown":"The Excel isn&#39;t blank but contains very small pictures using `XSSF` or `SXSSF`. [XSSFClientAnchor.setDx1](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFClientAnchor.html#setDx1-int-) states: \r\n\r\n&gt; Note - XSSF and HSSF have a slightly different coordinate system,\r\n&gt; values in XSSF are larger by a factor of\r\n&gt; [Units.EMU_PER_PIXEL](https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL).\r\n\r\nBut that&#39;s not the whole truth. The meaning of the `dx` and `dy` is totally different. In the binary file system `*.xls`, the values are also dependent on the factor of `column-width / default column-width` and `row-height / default row-height`. See https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117. \r\n\r\nI had found out that same value of `dx` and `dy` means different length in pixel for different column widths or different row heights. The higher column width the more pixels are occupied from the same value of `dx` for example. Same for row height and `dy`.\r\n\r\nFound at least the definition of `dx` and `dy` for binary `*-xls` file format. It is defined in [2.5.193 OfficeArtClientAnchorSheet](https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-xls/fd656a2c-d5ee-4171-8f65-17a08b9f2262).\r\n\r\n`dx`: The value is expressed as 1024th‚Äôs of that cell‚Äôs width.\r\n\r\n`dy`: The value is expressed as 256th‚Äôs of that cell‚Äôs height.\r\n\r\nAdditional Microsoft uses many strange different measurement units for length in it&#39;s Office applications. There are Twip (Twentieth of an inch point), EMU (English Metric Uint), half points, and so on, additional to pixels and points.\r\n\r\nTaking all this into account, it can be a big challenge when the task is to create same sized and positioned pictures in drawings of binary `*.xls` and Office Open XML `*.xlsx`.\r\n\r\nAt first we should choose one measurement unit for length. In my example, i choose pixels.\r\n\r\nHaving that, we will see, that `XSSF` is most logically, if we know the  [Units.EMU_PER_PIXEL](https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL) factor.\r\n\r\nIt is `HSSF` which needs more recalculations. In your example the values 1023 and 245 used in your calculations seems to be trial&amp;error values optimized for HSSF. I suspect the 10 means a margin of 10. But 10 what? Pixels? Points? Your `HSSF`-result should have shown that it cannot be one of that. So your statement: &quot;I have no problem exporting pictures to excel using HSSFWorkbook.&quot; is not really true.\r\n\r\nThe following complete example should work using `HSSF`, `XSSF` and also `SXSSF` and producing the 4 pictures same aligned over cell `A1` in sheet-drawing.\r\n\r\nIt is tested and works using current Apache POI version 5.2.3.\r\n\r\n    import org.apache.poi.util.IOUtils;\r\n    import org.apache.poi.util.Units;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.*;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    class ExcelCreatePictures {\r\n        \r\n     static final String[] imgs = { \r\n      &quot;./Bild1.jpg&quot;,\r\n      &quot;./Bild2.jpg&quot;,\r\n      &quot;./Bild3.jpg&quot;,\r\n      &quot;./Bild4.jpg&quot;\r\n     };\r\n         \r\n     public static void main(String[] args) throws Exception {\r\n         \r\n      //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\r\n      //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n      Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\r\n     \r\n      Sheet sheet = workbook.createSheet();\r\n      sheet.setColumnWidth(0, 5000 * imgs.length);\r\n      int colWidthInPx = (int)Math.round(sheet.getColumnWidthInPixels(0));\r\n      \r\n      Row imgRow = sheet.createRow(0);\r\n      imgRow.setHeight((short) 1000);\r\n      int rowHeightInPx = (int)Math.round(imgRow.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\r\n      \r\n      //int mar = 10 + 10 + (imgs.length - 1) * 10;\r\n      //int ave = (1023 - mar) / imgs.length;\r\n      int mar = 10;\r\n      int marSum = mar + mar + (imgs.length - 1) * mar;\r\n      int avePicW = (colWidthInPx - marSum) / imgs.length;\r\n    \r\n      // get drawing\r\n      Drawing drawing = sheet.createDrawingPatriarch();\r\n      \r\n      for (int i = 0; i &lt; imgs.length; i++) {\r\n          \r\n       // add picture to workbook, get pictureIdx\r\n       FileInputStream in = new FileInputStream(imgs[i]);\r\n       byte[] bytes = IOUtils.toByteArray(in);\r\n       int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_JPEG);\r\n       in.close();\r\n         \r\n       // create anchor for picture shape\r\n       CreationHelper helper = workbook.getCreationHelper();\r\n       ClientAnchor anchor = helper.createClientAnchor();\r\n       anchor.setDx1(mar * (i + 1) + avePicW * i);\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDx1(anchor.getDx1() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDx1((int)Math.round(anchor.getDx1() * 1024f / colWidthInPx));\r\n       }\r\n       \r\n       anchor.setDy1(mar);\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDy1(anchor.getDy1() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDy1((int)Math.round(anchor.getDy1() * 256f / rowHeightInPx));\r\n       }\r\n       \r\n       anchor.setDx2((mar + avePicW) * (i + 1));\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDx2(anchor.getDx2() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDx2((int)Math.round(anchor.getDx2() * 1024f / colWidthInPx));\r\n       }\r\n       \r\n       anchor.setDy2(rowHeightInPx - mar);\r\n       if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\r\n        anchor.setDy2(anchor.getDy2() * Units.EMU_PER_PIXEL);\r\n       } else if (drawing instanceof HSSFPatriarch) {\r\n        anchor.setDy2((int)Math.round(anchor.getDy2() * 256f / rowHeightInPx));\r\n       }\r\n       \r\n       anchor.setCol1(0);\r\n       anchor.setRow1(0); \r\n       anchor.setCol2(0);\r\n       anchor.setRow2(0); \r\n    \r\n       // create picture shape\r\n       Picture picture = drawing.createPicture(anchor, pictureIdx);\r\n      }\r\n      \r\n      FileOutputStream out = new FileOutputStream(filePath);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n      if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\r\n    \r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JZRK4.png\r\n","title":"Why the same image export excel using HSSFWorkbook can use SXSSFWorkbook can not","body":"<p>The Excel isn't blank but contains very small pictures using <code>XSSF</code> or <code>SXSSF</code>. <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFClientAnchor.html#setDx1-int-\" rel=\"nofollow noreferrer\">XSSFClientAnchor.setDx1</a> states:</p>\n<blockquote>\n<p>Note - XSSF and HSSF have a slightly different coordinate system,\nvalues in XSSF are larger by a factor of\n<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL\" rel=\"nofollow noreferrer\">Units.EMU_PER_PIXEL</a>.</p>\n</blockquote>\n<p>But that's not the whole truth. The meaning of the <code>dx</code> and <code>dy</code> is totally different. In the binary file system <code>*.xls</code>, the values are also dependent on the factor of <code>column-width / default column-width</code> and <code>row-height / default row-height</code>. See <a href=\"https://stackoverflow.com/questions/48567203/apache-poi-xssfclientanchor-not-positioning-picture-with-respect-to-dx1-dy1-dx/48607117#48607117\">apache poi XSSFClientAnchor not positioning picture with respect to dx1, dy1, dx2, dy2</a>.</p>\n<p>I had found out that same value of <code>dx</code> and <code>dy</code> means different length in pixel for different column widths or different row heights. The higher column width the more pixels are occupied from the same value of <code>dx</code> for example. Same for row height and <code>dy</code>.</p>\n<p>Found at least the definition of <code>dx</code> and <code>dy</code> for binary <code>*-xls</code> file format. It is defined in <a href=\"https://learn.microsoft.com/en-us/openspecs/office_file_formats/ms-xls/fd656a2c-d5ee-4171-8f65-17a08b9f2262\" rel=\"nofollow noreferrer\">2.5.193 OfficeArtClientAnchorSheet</a>.</p>\n<p><code>dx</code>: The value is expressed as 1024th‚Äôs of that cell‚Äôs width.</p>\n<p><code>dy</code>: The value is expressed as 256th‚Äôs of that cell‚Äôs height.</p>\n<p>Additional Microsoft uses many strange different measurement units for length in it's Office applications. There are Twip (Twentieth of an inch point), EMU (English Metric Uint), half points, and so on, additional to pixels and points.</p>\n<p>Taking all this into account, it can be a big challenge when the task is to create same sized and positioned pictures in drawings of binary <code>*.xls</code> and Office Open XML <code>*.xlsx</code>.</p>\n<p>At first we should choose one measurement unit for length. In my example, i choose pixels.</p>\n<p>Having that, we will see, that <code>XSSF</code> is most logically, if we know the  <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/Units.html#EMU_PER_PIXEL\" rel=\"nofollow noreferrer\">Units.EMU_PER_PIXEL</a> factor.</p>\n<p>It is <code>HSSF</code> which needs more recalculations. In your example the values 1023 and 245 used in your calculations seems to be trial&amp;error values optimized for HSSF. I suspect the 10 means a margin of 10. But 10 what? Pixels? Points? Your <code>HSSF</code>-result should have shown that it cannot be one of that. So your statement: &quot;I have no problem exporting pictures to excel using HSSFWorkbook.&quot; is not really true.</p>\n<p>The following complete example should work using <code>HSSF</code>, <code>XSSF</code> and also <code>SXSSF</code> and producing the 4 pictures same aligned over cell <code>A1</code> in sheet-drawing.</p>\n<p>It is tested and works using current Apache POI version 5.2.3.</p>\n<pre><code>import org.apache.poi.util.IOUtils;\nimport org.apache.poi.util.Units;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.xssf.streaming.*;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nclass ExcelCreatePictures {\n    \n static final String[] imgs = { \n  &quot;./Bild1.jpg&quot;,\n  &quot;./Bild2.jpg&quot;,\n  &quot;./Bild3.jpg&quot;,\n  &quot;./Bild4.jpg&quot;\n };\n     \n public static void main(String[] args) throws Exception {\n     \n  //Workbook workbook = new HSSFWorkbook(); String filePath = &quot;./Excel.xls&quot;;\n  //Workbook workbook = new XSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n  Workbook workbook = new SXSSFWorkbook(); String filePath = &quot;./Excel.xlsx&quot;;\n \n  Sheet sheet = workbook.createSheet();\n  sheet.setColumnWidth(0, 5000 * imgs.length);\n  int colWidthInPx = (int)Math.round(sheet.getColumnWidthInPixels(0));\n  \n  Row imgRow = sheet.createRow(0);\n  imgRow.setHeight((short) 1000);\n  int rowHeightInPx = (int)Math.round(imgRow.getHeightInPoints() * Units.PIXEL_DPI / Units.POINT_DPI);\n  \n  //int mar = 10 + 10 + (imgs.length - 1) * 10;\n  //int ave = (1023 - mar) / imgs.length;\n  int mar = 10;\n  int marSum = mar + mar + (imgs.length - 1) * mar;\n  int avePicW = (colWidthInPx - marSum) / imgs.length;\n\n  // get drawing\n  Drawing drawing = sheet.createDrawingPatriarch();\n  \n  for (int i = 0; i &lt; imgs.length; i++) {\n      \n   // add picture to workbook, get pictureIdx\n   FileInputStream in = new FileInputStream(imgs[i]);\n   byte[] bytes = IOUtils.toByteArray(in);\n   int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_JPEG);\n   in.close();\n     \n   // create anchor for picture shape\n   CreationHelper helper = workbook.getCreationHelper();\n   ClientAnchor anchor = helper.createClientAnchor();\n   anchor.setDx1(mar * (i + 1) + avePicW * i);\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDx1(anchor.getDx1() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDx1((int)Math.round(anchor.getDx1() * 1024f / colWidthInPx));\n   }\n   \n   anchor.setDy1(mar);\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDy1(anchor.getDy1() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDy1((int)Math.round(anchor.getDy1() * 256f / rowHeightInPx));\n   }\n   \n   anchor.setDx2((mar + avePicW) * (i + 1));\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDx2(anchor.getDx2() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDx2((int)Math.round(anchor.getDx2() * 1024f / colWidthInPx));\n   }\n   \n   anchor.setDy2(rowHeightInPx - mar);\n   if (drawing instanceof XSSFDrawing || drawing instanceof SXSSFDrawing) {\n    anchor.setDy2(anchor.getDy2() * Units.EMU_PER_PIXEL);\n   } else if (drawing instanceof HSSFPatriarch) {\n    anchor.setDy2((int)Math.round(anchor.getDy2() * 256f / rowHeightInPx));\n   }\n   \n   anchor.setCol1(0);\n   anchor.setRow1(0); \n   anchor.setCol2(0);\n   anchor.setRow2(0); \n\n   // create picture shape\n   Picture picture = drawing.createPicture(anchor, pictureIdx);\n  }\n  \n  FileOutputStream out = new FileOutputStream(filePath);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n  if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\n\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/JZRK4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZRK4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29191953,"reputation":1,"user_id":22363910,"display_name":"yi deng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693127104,"creation_date":1692847954,"question_id":76966076,"body_markdown":"This is my test case for exporting pictures using SXSSFWorkbook\r\n\r\n```Java\r\n@Test\r\n    public void testXSSF() throws IOException {\r\n        String[] imgs = { &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/f5214a64-72a7-41e6-a4e9-a64c992feaad.jpg&quot;,\r\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/7fbc9564-2f2d-4dcd-959c-efc2d86191b5.jpg&quot;,\r\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/405ad233-0a4a-4f13-b0e9-4a96f6fe530f.jpg&quot;,\r\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/37b01589-dd2b-4703-9edb-064734efb3bd.jpg&quot; };\r\n        SXSSFWorkbook workBook = new SXSSFWorkbook();\r\n        SXSSFSheet sheet = workBook.createSheet();\r\n        sheet.setColumnWidth(0, 4800 * imgs.length);\r\n        BufferedImage bufferedImage = null;\r\n        Drawing patriarch = sheet.createDrawingPatriarch();\r\n        try {\r\n            SXSSFRow imgRow = sheet.createRow(0);\r\n            imgRow.setHeight((short) 1000);\r\n\r\n            int mar = 10 + 10 + (imgs.length - 1) * 10;\r\n            int ave = (1023 - mar) / imgs.length;\r\n\r\n            for (int i = 0; i &lt; imgs.length; i++) {\r\n                File file = new File(imgs[i]);\r\n                bufferedImage = ImageIO.read(file);\r\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\r\n                XSSFClientAnchor anchor = new XSSFClientAnchor(10 * (i + 1) + ave * i, 10,\r\n                        (10 + ave) * (i + 1), 245, (short) 1, 1, (short) 1, 1);\r\n                patriarch.createPicture(anchor,\r\n                        workBook.addPicture(byteArrayOutputStream.toByteArray(), XSSFWorkbook.PICTURE_TYPE_JPEG));\r\n            }\r\n            FileOutputStream outputStream = new FileOutputStream(&quot;D://&quot; + new Date().getTime() + &quot;.xls&quot;);\r\n            workBook.write(outputStream);\r\n            outputStream.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nI have no problem exporting pictures to excel using `HSSFWorkbook`, but when I changed to use `SXSSFWorkbook` to export pictures to Excel it&#39;s blank. I want to use `SXSSFWorkbook`. What should I do?","title":"Why the same image export excel using HSSFWorkbook can use SXSSFWorkbook can not","body":"<p>This is my test case for exporting pictures using SXSSFWorkbook</p>\n<pre><code>@Test\n    public void testXSSF() throws IOException {\n        String[] imgs = { &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/f5214a64-72a7-41e6-a4e9-a64c992feaad.jpg&quot;,\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/7fbc9564-2f2d-4dcd-959c-efc2d86191b5.jpg&quot;,\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/405ad233-0a4a-4f13-b0e9-4a96f6fe530f.jpg&quot;,\n                &quot;D:/EvaluationProject/uploadPath/upload/2023/07/24/37b01589-dd2b-4703-9edb-064734efb3bd.jpg&quot; };\n        SXSSFWorkbook workBook = new SXSSFWorkbook();\n        SXSSFSheet sheet = workBook.createSheet();\n        sheet.setColumnWidth(0, 4800 * imgs.length);\n        BufferedImage bufferedImage = null;\n        Drawing patriarch = sheet.createDrawingPatriarch();\n        try {\n            SXSSFRow imgRow = sheet.createRow(0);\n            imgRow.setHeight((short) 1000);\n\n            int mar = 10 + 10 + (imgs.length - 1) * 10;\n            int ave = (1023 - mar) / imgs.length;\n\n            for (int i = 0; i &lt; imgs.length; i++) {\n                File file = new File(imgs[i]);\n                bufferedImage = ImageIO.read(file);\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                ImageIO.write(bufferedImage, &quot;jpg&quot;, byteArrayOutputStream);\n                XSSFClientAnchor anchor = new XSSFClientAnchor(10 * (i + 1) + ave * i, 10,\n                        (10 + ave) * (i + 1), 245, (short) 1, 1, (short) 1, 1);\n                patriarch.createPicture(anchor,\n                        workBook.addPicture(byteArrayOutputStream.toByteArray(), XSSFWorkbook.PICTURE_TYPE_JPEG));\n            }\n            FileOutputStream outputStream = new FileOutputStream(&quot;D://&quot; + new Date().getTime() + &quot;.xls&quot;);\n            workBook.write(outputStream);\n            outputStream.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I have no problem exporting pictures to excel using <code>HSSFWorkbook</code>, but when I changed to use <code>SXSSFWorkbook</code> to export pictures to Excel it's blank. I want to use <code>SXSSFWorkbook</code>. What should I do?</p>\n"},{"tags":["java","user-interface","javafx","processing","fractals"],"answers":[{"comments":[{"owner":{"account_id":9818532,"reputation":1278,"user_id":7274239,"display_name":"Jan ƒåern&#253;"},"score":0,"creation_date":1539599624,"post_id":52782409,"comment_id":92546861,"body_markdown":"Please, can you add your FXML file ?","body":"Please, can you add your FXML file ?"},{"owner":{"account_id":9818532,"reputation":1278,"user_id":7274239,"display_name":"Jan ƒåern&#253;"},"score":0,"creation_date":1539600373,"post_id":52782409,"comment_id":92547257,"body_markdown":"Your code breaks at this lines ` Canvas canvas = (Canvas) surface.getNative(); // boilerplate\n        GraphicsContext graphicsContext = canvas.getGraphicsContext2D(); // boilerplate\n        surface.fx.context = graphicsContext; // boilerplate `","body":"Your code breaks at this lines ` Canvas canvas = (Canvas) surface.getNative(); // boilerplate         GraphicsContext graphicsContext = canvas.getGraphicsContext2D(); // boilerplate         surface.fx.context = graphicsContext; // boilerplate `"},{"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"score":1,"creation_date":1539602612,"post_id":52782409,"comment_id":92548510,"body_markdown":"@Janƒåern&#253; [FXML file](https://www.mediafire.com/file/ilc0tx1omo1606u/test.fxml/file). How does the code break? The Launcher class&#39; surface object is set in the initsurface() override method PApplet, if it&#39;s null.","body":"@Janƒåern&#253; <a href=\"https://www.mediafire.com/file/ilc0tx1omo1606u/test.fxml/file\" rel=\"nofollow noreferrer\">FXML file</a>. How does the code break? The Launcher class&#39; surface object is set in the initsurface() override method PApplet, if it&#39;s null."},{"owner":{"account_id":8394911,"reputation":113,"user_id":6302392,"display_name":"gtx"},"score":0,"creation_date":1565961785,"post_id":52782409,"comment_id":101517238,"body_markdown":"the triangle isnt showing and im getting this WARNING: Loading FXML document with JavaFX API of version 9.0.1 by JavaFX runtime of version 8.0.211\njava.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main\n\tat com.sun.glass.ui.Application.chat processing.core.PApplet.main(PApplet.java:10544)\n\tat processingfxnew.SirpenskiTriangle.main(SirpenskiTriangle.java:13)  but im using java 8","body":"the triangle isnt showing and im getting this WARNING: Loading FXML document with JavaFX API of version 9.0.1 by JavaFX runtime of version 8.0.211 java.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main \tat com.sun.glass.ui.Application.chat processing.core.PApplet.main(PApplet.java:10544) \tat processingfxnew.SirpenskiTriangle.main(SirpenskiTriangle.jav&zwnj;&#8203;a:13)  but im using java 8"},{"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1565964397,"post_id":52782409,"comment_id":101518639,"body_markdown":"@gtx Use Java 9 or above.","body":"@gtx Use Java 9 or above."},{"owner":{"account_id":8394911,"reputation":113,"user_id":6302392,"display_name":"gtx"},"score":0,"creation_date":1565965869,"post_id":52782409,"comment_id":101519336,"body_markdown":"turns out that was just a warning what was causing the error is java.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main\n\tat com.sun.glass.ui.Application.checkEventThread(Application.java:443)  .... at processing.core.PApplet.main(PApplet.java:10544)\n\tat processingfxnew.SirpenskiTriangle.main(SirpenskiTriangle.java:13)   that line being PApplet.main(&quot;processingfxnew.SirpenskiTriangle&quot;);  is not showing cause of this im not sure how to fix it","body":"turns out that was just a warning what was causing the error is java.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main \tat com.sun.glass.ui.Application.checkEventThread(Application.ja&zwnj;&#8203;va:443)  .... at processing.core.PApplet.main(PApplet.java:10544) \tat processingfxnew.SirpenskiTriangle.main(SirpenskiTriangle.jav&zwnj;&#8203;a:13)   that line being PApplet.main(&quot;processingfxnew.SirpenskiTriangle&quot;);  is not showing cause of this im not sure how to fix it"},{"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1566002296,"post_id":52782409,"comment_id":101530610,"body_markdown":"@gtx I couldn&#39;t say why either from here... I have an example on my Github of loading a JavaFX stage from an FXML file in Processing. You could use that project as a template.","body":"@gtx I couldn&#39;t say why either from here... I have an example on my Github of loading a JavaFX stage from an FXML file in Processing. You could use that project as a template."},{"owner":{"account_id":8394911,"reputation":113,"user_id":6302392,"display_name":"gtx"},"score":0,"creation_date":1566074502,"post_id":52782409,"comment_id":101543742,"body_markdown":"ok thanks i cant find a github with your name can you provide a link?","body":"ok thanks i cant find a github with your name can you provide a link?"},{"owner":{"account_id":8394911,"reputation":113,"user_id":6302392,"display_name":"gtx"},"score":0,"creation_date":1566153033,"post_id":52782409,"comment_id":101557742,"body_markdown":"I downloaded your project files and the window appears here too but the processing piece is still not being rendered and im still getting the same error\n\njava.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main\nat com.sun.glass.ui.Application.checkEventThread(Application.java:443)  And also ..FXMLLoader..56 mo\nCaused by: java.lang.NullPointerException\nat javafx.Controller.greenPen(Controller.java:60)\n... 66 more","body":"I downloaded your project files and the window appears here too but the processing piece is still not being rendered and im still getting the same error  java.lang.IllegalStateException: This operation is permitted on the event thread only; currentThread = main at com.sun.glass.ui.Application.checkEventThread(Application.ja&zwnj;&#8203;va:443)  And also ..FXMLLoader..56 mo Caused by: java.lang.NullPointerException at javafx.Controller.greenPen(Controller.java:60) ... 66 more"},{"owner":{"account_id":8394911,"reputation":113,"user_id":6302392,"display_name":"gtx"},"score":0,"creation_date":1566153054,"post_id":52782409,"comment_id":101557749,"body_markdown":"Using java8 and your modified core 1.8.jar and modified your fxml to be javafx8 and processings other jars like gluejen-rt","body":"Using java8 and your modified core 1.8.jar and modified your fxml to be javafx8 and processings other jars like gluejen-rt"},{"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1566153946,"post_id":52782409,"comment_id":101557969,"body_markdown":"@gtx I&#39;m not certain it will work with 1.8 - just try Java 10!","body":"@gtx I&#39;m not certain it will work with 1.8 - just try Java 10!"}],"tags":[],"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"comment_count":11,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1583410076,"creation_date":1539357023,"answer_id":52782409,"question_id":52709779,"body_markdown":"*I have devised two approaches: in the first, we bypass Processing&#39;s JavaFX stage creation and point Processing to draw into a JavaFX stage loaded from an FXML file; in the second, we replace Processing&#39;s default JavaFX scene with one loaded from an FXML file **during runtime**.*\r\n\r\n# 1. Launching from an FXML\r\n\r\nWith the first approach we launch the application like we would a JavaFX app (using `Application.launch(Launcher.class);`), completely bypassing Processing&#39;s JavaFX stage creation code.\r\n\r\nYou&#39;ll have to download a slightly modified *core.jar* for this approach to work, where I&#39;ve changed the visibility of a few members of the `PSurfaceFX` and `PGraphicsFX2D` classes from `Protected` to `Public`. The changes allow us to launch JavaFX from our own `... extends Application` class, while maintaining access to the members that Processing needs to set during the launch to function.\r\n\r\nProcessing 3 crashes in FX2D mode when the JDK in use is above Java 8, so I&#39;ve also made a working version for 8+, since the FXML files usually need at least Java 9 to work.\r\n\r\n - [Download core.jar (Java 8 &amp; below)][1]\r\n - [Download core.jar (Above Java 8)][2]\r\n\r\nThis is the FXML file I am working with in this example:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWith the modified *core.jar* added to your project&#39;s classpath, override `initSurface()` in your PApplet class with the following snippet. With this code, we bypass the PApplet&#39;s call to `initFrame()` - this is where processing creates its own JavaFX stage, **which we do not want it to do**.\r\n\r\n    @Override\r\n\tprotected PSurface initSurface() {\r\n\t\tg = createPrimaryGraphics();\r\n\t\tPSurface genericSurface = g.createSurface();\r\n\t\tPSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\r\n\r\n\t\tfxSurface.sketch = this;\r\n\r\n\t\tLauncher.surface = fxSurface;\r\n\r\n\t\tnew Thread(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tApplication.launch(Launcher.class);\r\n\t\t\t}\r\n\t\t}).start();\r\n\r\n\t\twhile (fxSurface.stage == null) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(5);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.surface = fxSurface;\r\n\t\treturn fxSurface;\r\n\t}\r\n\r\nSet the PApplet&#39;s renderering mode to FX2D like so:\r\n\r\n\t@Override\r\n\tpublic void settings() {\r\n\t\tsize(0, 0, FX2D);\r\n\t}\r\n\r\n\r\nPut the following, or similar, in your Launcher class. In this example, I have manually found the Node that I want to add the canvas object into. There are better, more programmatic, ways of doing this (such as *.lookup()* using the fx:id of the desired node -- this can be defined in the FXML file). I have also bound the dimensions of the canvas to those of its parent, so when the divisor separating the *Master* and *View* panes is dragged, the Processing canvas resizes accordingly.\r\n\r\n    public class Launcher extends Application {\r\n    \r\n    \tpublic static PSurfaceFX surface;\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) throws Exception {\r\n    \r\n    \t\tCanvas canvas = (Canvas) surface.getNative(); // boilerplate\r\n    \t\tGraphicsContext graphicsContext = canvas.getGraphicsContext2D(); // boilerplate\r\n    \t\tsurface.fx.context = graphicsContext; // boilerplate\r\n    \t\t\r\n    \t\tprimaryStage.setTitle(&quot;FXML/Processing&quot;);\r\n    \r\n    \t\tVBox root = FXMLLoader.load(new File(&quot;c:/Users/Mike/desktop/test.fxml&quot;).toURI().toURL());\r\n    \t\tSplitPane pane = (SplitPane) root.getChildren().get(1); // Manually get the item I want to add canvas to\r\n    \t\tAnchorPane pane2 = (AnchorPane) pane.getItems().get(0); // Manually get the item I want to add canvas to\r\n    \t\tpane2.getChildren().add(canvas); // Manually get the item I want to add canvas to\r\n    \t\t\r\n    \t\tcanvas.widthProperty().bind(pane2.widthProperty());\r\n    \t\tcanvas.heightProperty().bind(pane2.heightProperty());\r\n    \r\n    \t\tScene scene = new Scene(root, 800, 800);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \r\n    \t\tsurface.stage = primaryStage; // boilerplate\r\n    \t}\r\n    }\r\n\r\nThis is the result:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAlso see [this][5] Github project -- a basic project showing how a Processing sketch and a FXML JavaFX stage may be integrated using this first approach, but includes a JavaFX `Controller` to populate `@FXML`annotated fields (providing an easy way to first get, and then reference, JavaFX objects in code).\r\n\r\n----------\r\n\r\n# 2. Launching, then loading a FXML\r\nThis approach works with vanilla Processing. Here, we launch Processing like normal and then replace the default scene with new scene loaded from an FXML file during runtime. This is a simpler approach (and doesn&#39;t require using a modified *.jar*!) but will make JavaFX/Processing interoperability more difficult because we can&#39;t use a JavaFX `Controller` to get fields via FXML injection.\r\n\r\nExample **PDE** code:\r\n\r\n    import java.util.Map;\r\n    import java.nio.file.Paths;\r\n    \r\n    import javafx.application.Platform;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.SceneAntialiasing;\r\n    import javafx.scene.canvas.Canvas;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    import processing.javafx.PSurfaceFX;\r\n    \r\n    public void setup() {\r\n      size(800, 800, FX2D);\r\n      strokeWeight(3);\r\n    }\r\n    \r\n    protected PSurface initSurface() {\r\n      surface = (PSurfaceFX) super.initSurface();\r\n      final Canvas canvas = (Canvas) surface.getNative();\r\n      final Scene oldScene = canvas.getScene();\r\n      final Stage stage = (Stage) oldScene.getWindow();\r\n    \r\n      try {\r\n        FXMLLoader loader = new FXMLLoader(Paths.get(&quot;C:\\\\path--to--fxml\\\\stage.fxml&quot;).toUri().toURL()); // abs path to fxml file\r\n        final Parent sceneFromFXML = loader.load();\r\n        final Map&lt;String, Object&gt; namespace = loader.getNamespace();\r\n    \r\n        final Scene newScene = new Scene(sceneFromFXML, stage.getWidth(), stage.getHeight(), false, \r\n          SceneAntialiasing.BALANCED);\r\n        final AnchorPane pane = (AnchorPane) namespace.get(&quot;anchorPane&quot;); // get element by fx:id\r\n    \r\n        pane.getChildren().add(canvas); // processing to stackPane\r\n        canvas.widthProperty().bind(pane.widthProperty()); // bind canvas dimensions to pane\r\n        canvas.heightProperty().bind(pane.heightProperty()); // bind canvas dimensions to pane\r\n    \r\n        Platform.runLater(new Runnable() {\r\n          @Override\r\n            public void run() {\r\n            stage.setScene(newScene);\r\n          }\r\n        }\r\n        );\r\n      } \r\n      catch (IOException e) {\r\n        e.printStackTrace();\r\n      }\r\n      return surface;\r\n    }\r\n    \r\n    public void draw() {\r\n      background(125, 125, 98);\r\n      ellipse(200, 200, 200, 200);\r\n      line(0, 0, width, height);\r\n      line(width, 0, 0, height);\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n‚Ä¶using this FXML file:\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://www.mediafire.com/file/9ry4a3z7uz9b7qa/core-1.8.jar/file\r\n  [2]: https://www.mediafire.com/file/tyeiwizsc0h1zru/core-10.jar/file\r\n  [3]: https://i.stack.imgur.com/dGgyR.png\r\n  [4]: https://i.stack.imgur.com/hf6XP.png\r\n  [5]: https://github.com/micycle1/ProcessingFX\r\n  [6]: https://i.stack.imgur.com/BW89l.png\r\n  [7]: https://i.stack.imgur.com/fBkwh.png","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p><em>I have devised two approaches: in the first, we bypass Processing's JavaFX stage creation and point Processing to draw into a JavaFX stage loaded from an FXML file; in the second, we replace Processing's default JavaFX scene with one loaded from an FXML file <strong>during runtime</strong>.</em></p>\n\n<h1>1. Launching from an FXML</h1>\n\n<p>With the first approach we launch the application like we would a JavaFX app (using <code>Application.launch(Launcher.class);</code>), completely bypassing Processing's JavaFX stage creation code.</p>\n\n<p>You'll have to download a slightly modified <em>core.jar</em> for this approach to work, where I've changed the visibility of a few members of the <code>PSurfaceFX</code> and <code>PGraphicsFX2D</code> classes from <code>Protected</code> to <code>Public</code>. The changes allow us to launch JavaFX from our own <code>... extends Application</code> class, while maintaining access to the members that Processing needs to set during the launch to function.</p>\n\n<p>Processing 3 crashes in FX2D mode when the JDK in use is above Java 8, so I've also made a working version for 8+, since the FXML files usually need at least Java 9 to work.</p>\n\n<ul>\n<li><a href=\"https://www.mediafire.com/file/9ry4a3z7uz9b7qa/core-1.8.jar/file\" rel=\"nofollow noreferrer\">Download core.jar (Java 8 &amp; below)</a></li>\n<li><a href=\"https://www.mediafire.com/file/tyeiwizsc0h1zru/core-10.jar/file\" rel=\"nofollow noreferrer\">Download core.jar (Above Java 8)</a></li>\n</ul>\n\n<p>This is the FXML file I am working with in this example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dGgyR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGgyR.png\" alt=\"enter image description here\"></a></p>\n\n<p>With the modified <em>core.jar</em> added to your project's classpath, override <code>initSurface()</code> in your PApplet class with the following snippet. With this code, we bypass the PApplet's call to <code>initFrame()</code> - this is where processing creates its own JavaFX stage, <strong>which we do not want it to do</strong>.</p>\n\n<pre><code>@Override\nprotected PSurface initSurface() {\n    g = createPrimaryGraphics();\n    PSurface genericSurface = g.createSurface();\n    PSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\n\n    fxSurface.sketch = this;\n\n    Launcher.surface = fxSurface;\n\n    new Thread(new Runnable() {\n        public void run() {\n            Application.launch(Launcher.class);\n        }\n    }).start();\n\n    while (fxSurface.stage == null) {\n        try {\n            Thread.sleep(5);\n        } catch (InterruptedException e) {\n        }\n    }\n\n    this.surface = fxSurface;\n    return fxSurface;\n}\n</code></pre>\n\n<p>Set the PApplet's renderering mode to FX2D like so:</p>\n\n<pre><code>@Override\npublic void settings() {\n    size(0, 0, FX2D);\n}\n</code></pre>\n\n<p>Put the following, or similar, in your Launcher class. In this example, I have manually found the Node that I want to add the canvas object into. There are better, more programmatic, ways of doing this (such as <em>.lookup()</em> using the fx:id of the desired node -- this can be defined in the FXML file). I have also bound the dimensions of the canvas to those of its parent, so when the divisor separating the <em>Master</em> and <em>View</em> panes is dragged, the Processing canvas resizes accordingly.</p>\n\n<pre><code>public class Launcher extends Application {\n\n    public static PSurfaceFX surface;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n\n        Canvas canvas = (Canvas) surface.getNative(); // boilerplate\n        GraphicsContext graphicsContext = canvas.getGraphicsContext2D(); // boilerplate\n        surface.fx.context = graphicsContext; // boilerplate\n\n        primaryStage.setTitle(\"FXML/Processing\");\n\n        VBox root = FXMLLoader.load(new File(\"c:/Users/Mike/desktop/test.fxml\").toURI().toURL());\n        SplitPane pane = (SplitPane) root.getChildren().get(1); // Manually get the item I want to add canvas to\n        AnchorPane pane2 = (AnchorPane) pane.getItems().get(0); // Manually get the item I want to add canvas to\n        pane2.getChildren().add(canvas); // Manually get the item I want to add canvas to\n\n        canvas.widthProperty().bind(pane2.widthProperty());\n        canvas.heightProperty().bind(pane2.heightProperty());\n\n        Scene scene = new Scene(root, 800, 800);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n        surface.stage = primaryStage; // boilerplate\n    }\n}\n</code></pre>\n\n<p>This is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hf6XP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hf6XP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also see <a href=\"https://github.com/micycle1/ProcessingFX\" rel=\"nofollow noreferrer\">this</a> Github project -- a basic project showing how a Processing sketch and a FXML JavaFX stage may be integrated using this first approach, but includes a JavaFX <code>Controller</code> to populate <code>@FXML</code>annotated fields (providing an easy way to first get, and then reference, JavaFX objects in code).</p>\n\n<hr>\n\n<h1>2. Launching, then loading a FXML</h1>\n\n<p>This approach works with vanilla Processing. Here, we launch Processing like normal and then replace the default scene with new scene loaded from an FXML file during runtime. This is a simpler approach (and doesn't require using a modified <em>.jar</em>!) but will make JavaFX/Processing interoperability more difficult because we can't use a JavaFX <code>Controller</code> to get fields via FXML injection.</p>\n\n<p>Example <strong>PDE</strong> code:</p>\n\n<pre><code>import java.util.Map;\nimport java.nio.file.Paths;\n\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.SceneAntialiasing;\nimport javafx.scene.canvas.Canvas;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\n\nimport processing.javafx.PSurfaceFX;\n\npublic void setup() {\n  size(800, 800, FX2D);\n  strokeWeight(3);\n}\n\nprotected PSurface initSurface() {\n  surface = (PSurfaceFX) super.initSurface();\n  final Canvas canvas = (Canvas) surface.getNative();\n  final Scene oldScene = canvas.getScene();\n  final Stage stage = (Stage) oldScene.getWindow();\n\n  try {\n    FXMLLoader loader = new FXMLLoader(Paths.get(\"C:\\\\path--to--fxml\\\\stage.fxml\").toUri().toURL()); // abs path to fxml file\n    final Parent sceneFromFXML = loader.load();\n    final Map&lt;String, Object&gt; namespace = loader.getNamespace();\n\n    final Scene newScene = new Scene(sceneFromFXML, stage.getWidth(), stage.getHeight(), false, \n      SceneAntialiasing.BALANCED);\n    final AnchorPane pane = (AnchorPane) namespace.get(\"anchorPane\"); // get element by fx:id\n\n    pane.getChildren().add(canvas); // processing to stackPane\n    canvas.widthProperty().bind(pane.widthProperty()); // bind canvas dimensions to pane\n    canvas.heightProperty().bind(pane.heightProperty()); // bind canvas dimensions to pane\n\n    Platform.runLater(new Runnable() {\n      @Override\n        public void run() {\n        stage.setScene(newScene);\n      }\n    }\n    );\n  } \n  catch (IOException e) {\n    e.printStackTrace();\n  }\n  return surface;\n}\n\npublic void draw() {\n  background(125, 125, 98);\n  ellipse(200, 200, 200, 200);\n  line(0, 0, width, height);\n  line(width, 0, 0, height);\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BW89l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BW89l.png\" alt=\"enter image description here\"></a></p>\n\n<p>‚Ä¶using this FXML file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fBkwh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fBkwh.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":9818532,"reputation":1278,"user_id":7274239,"display_name":"Jan ƒåern&#253;"},"score":0,"creation_date":1542101655,"post_id":53244952,"comment_id":93437735,"body_markdown":"Please describe more your solution, because I do not know how you are meaning it.","body":"Please describe more your solution, because I do not know how you are meaning it."},{"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"score":1,"creation_date":1542198496,"post_id":53244952,"comment_id":93481025,"body_markdown":"Did you still not solve this? I can send you example code later today","body":"Did you still not solve this? I can send you example code later today"},{"owner":{"account_id":9818532,"reputation":1278,"user_id":7274239,"display_name":"Jan ƒåern&#253;"},"score":0,"creation_date":1542625918,"post_id":53244952,"comment_id":93622614,"body_markdown":"That would be very nice :) I am more to mathematics than practical Programing, so something like library issues are fatal for me.","body":"That would be very nice :) I am more to mathematics than practical Programing, so something like library issues are fatal for me."}],"tags":[],"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541898412,"creation_date":1541898412,"answer_id":53244952,"question_id":52709779,"body_markdown":"To make it work, you have to launch your Processing sketch, not the JavaFX Application.\r\n\r\nSimply do \r\n\r\n    PApplet.main(Launcher.class.getName());\r\n\r\nAlso thanks so much for your help! I had NO idea how I should use the JavaFX stuff that comes with Processing!","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>To make it work, you have to launch your Processing sketch, not the JavaFX Application.</p>\n\n<p>Simply do </p>\n\n<pre><code>PApplet.main(Launcher.class.getName());\n</code></pre>\n\n<p>Also thanks so much for your help! I had NO idea how I should use the JavaFX stuff that comes with Processing!</p>\n"},{"tags":[],"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1542749228,"creation_date":1542749228,"answer_id":53401797,"question_id":52709779,"body_markdown":"Okay, this is my code, that works! I copied everything and changed the names.\r\n!!!I have not tested this modified code, so don&#39;t copy paste everything!!!\r\nThe raw principle should definetly work though.\r\n\r\nIf you still have issues or questions, just comment.\r\n\r\n**Main**\r\n\r\n    public class Main {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t\t// Your code starts here, and runs Processing. \r\n\t\t// This is also, how you normally start Processing sketches.\r\n\t\tPApplet.main(Sketch.class.getName());\r\n\t    }\r\n    }\r\n\r\n**Sketch**\r\n\r\n    public class Sketch extends PApplet{\r\n\r\n\t    @Override\r\n\t    public void settings() {\r\n\t\t    size(200, 200, FX2D); // Size doesn&#39;t really matter\r\n\t    }\r\n\r\n\r\n\t    @Override\r\n\t    public void setup() {\r\n\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void draw() {\r\n\r\n\t    }\r\n\r\n\r\n\t// Processing uses this function to determine, \r\n\t// how to display everything, how to open the canvas...\r\n\t// We override the code, that would normally open a window with the normal Processing stuff,\r\n\t// to open start new JavaFX application in a new Thread.\r\n\r\n\r\n\t// micycle&#39;s code\r\n\t    @Override\r\n\t    protected PSurface initSurface() {\r\n\t        g = createPrimaryGraphics();\r\n\t        PSurface genericSurface = g.createSurface();\r\n\t        PSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\r\n\r\n\t        fxSurface.sketch = this;\r\n\r\n\t        // Because the JavaFX App is being launched by reflection,\r\n\t        // we can&#39;t pass variables to it via constructor, so\r\n\t        // we have to access it in static context.\r\n\r\n\t        // Here, we give JavaFX the surface.\r\n\t        ExampleApp.surface = fxSurface;\r\n\r\n\t        // New thread started, so JavaFX and Processing don&#39;t interrupt each other.\r\n\t        new Thread(new Runnable() {\r\n\t            public void run() {\r\n\r\n\t        \t    // JavaFX way of launching a new Application\r\n\t                Application.launch(ExampleApp.class);\r\n\t            }\r\n\t        }).start();\r\n\r\n\t    while (fxSurface.stage == null) {\r\n\t        try {\r\n\t            Thread.sleep(5);\r\n\t        } catch (InterruptedException e) {\r\n\t        \r\n            }\r\n\t    }\r\n\r\n\t        this.surface = fxSurface;\r\n\t        return fxSurface;\r\n\t    }\r\n    }\r\n\r\n**ExampleApp**\r\n\r\n    public class ExampleApp extends Application {\r\n\r\n\t\tpublic Canvas canvas; // The Canvas you will be drawing to \r\n\t\tpublic static PSurfaceFX surface; // The Processing surface\r\n\r\n\r\n\r\n\t\t// JavaFX started, this method is being run to set everything up.\r\n\t\t@Override\r\n\t\tpublic void start(Stage primaryStage) {\r\n\r\n\t\t\t// This sets up the canvas, and the drawing region.\r\n\t\t\tcanvas = (Canvas) surface.getNative();\r\n\t\t\tsurface.fx.context = canvas.getGraphicsContext2D();\r\n\t\t\tsurface.stage = primaryStage;\r\n\r\n\r\n\t\t\t// I&#39;m just loading my FXML file. You can do all JavaFX stuff via code, if you want\r\n\t\t\ttry {\r\n\r\n\t\t\t\t// !!My root Container is a BorderPane!!\r\n\t\t\t\tBorderPane root = FXMLLoader.load(getClass().getClassLoader().getResource(&quot;application.fxml&quot;));\r\n\t\t\t} catch(IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t// Getting the Anchor pane, that is in the center of my BorderPane\r\n\t\t\tAnchorPane pane = (AnchorPane) root.getCenter();\r\n\r\n\t\t\t// The Anchor pane is being used, so the canvas can fill the parent (Center)\r\n\t\t\t// Canvases don&#39;t have a property to fill it&#39;s parent, like most Containers do (Because it isn&#39;t a container)\r\n\t\t\tcanvas.widthProperty().bind(pane.widthProperty());\r\n\t\t\tcanvas.heightProperty().bind(pane.heightProperty());\r\n\r\n\t\t\t// Adding the canvas to your App\r\n\t\t\troot.getChildren().add(canvas);\r\n\r\n\t\t\t// Launching the Stage\r\n\t\t\tprimaryStage.setTitle(&quot;Example App&quot;);\r\n\t\t\tprimaryStage.setScene(new Scene(root));\r\n\t\t\tprimaryStage.show();\r\n\t\t}\r\n\r\n\t}","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>Okay, this is my code, that works! I copied everything and changed the names.\n!!!I have not tested this modified code, so don't copy paste everything!!!\nThe raw principle should definetly work though.</p>\n\n<p>If you still have issues or questions, just comment.</p>\n\n<p><strong>Main</strong></p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n    // Your code starts here, and runs Processing. \n    // This is also, how you normally start Processing sketches.\n    PApplet.main(Sketch.class.getName());\n    }\n}\n</code></pre>\n\n<p><strong>Sketch</strong></p>\n\n<pre><code>public class Sketch extends PApplet{\n\n    @Override\n    public void settings() {\n        size(200, 200, FX2D); // Size doesn't really matter\n    }\n\n\n    @Override\n    public void setup() {\n\n    }\n\n    @Override\n    public void draw() {\n\n    }\n\n\n// Processing uses this function to determine, \n// how to display everything, how to open the canvas...\n// We override the code, that would normally open a window with the normal Processing stuff,\n// to open start new JavaFX application in a new Thread.\n\n\n// micycle's code\n    @Override\n    protected PSurface initSurface() {\n        g = createPrimaryGraphics();\n        PSurface genericSurface = g.createSurface();\n        PSurfaceFX fxSurface = (PSurfaceFX) genericSurface;\n\n        fxSurface.sketch = this;\n\n        // Because the JavaFX App is being launched by reflection,\n        // we can't pass variables to it via constructor, so\n        // we have to access it in static context.\n\n        // Here, we give JavaFX the surface.\n        ExampleApp.surface = fxSurface;\n\n        // New thread started, so JavaFX and Processing don't interrupt each other.\n        new Thread(new Runnable() {\n            public void run() {\n\n                // JavaFX way of launching a new Application\n                Application.launch(ExampleApp.class);\n            }\n        }).start();\n\n    while (fxSurface.stage == null) {\n        try {\n            Thread.sleep(5);\n        } catch (InterruptedException e) {\n\n        }\n    }\n\n        this.surface = fxSurface;\n        return fxSurface;\n    }\n}\n</code></pre>\n\n<p><strong>ExampleApp</strong></p>\n\n<pre><code>public class ExampleApp extends Application {\n\n    public Canvas canvas; // The Canvas you will be drawing to \n    public static PSurfaceFX surface; // The Processing surface\n\n\n\n    // JavaFX started, this method is being run to set everything up.\n    @Override\n    public void start(Stage primaryStage) {\n\n        // This sets up the canvas, and the drawing region.\n        canvas = (Canvas) surface.getNative();\n        surface.fx.context = canvas.getGraphicsContext2D();\n        surface.stage = primaryStage;\n\n\n        // I'm just loading my FXML file. You can do all JavaFX stuff via code, if you want\n        try {\n\n            // !!My root Container is a BorderPane!!\n            BorderPane root = FXMLLoader.load(getClass().getClassLoader().getResource(\"application.fxml\"));\n        } catch(IOException e) {\n            e.printStackTrace();\n        }\n\n        // Getting the Anchor pane, that is in the center of my BorderPane\n        AnchorPane pane = (AnchorPane) root.getCenter();\n\n        // The Anchor pane is being used, so the canvas can fill the parent (Center)\n        // Canvases don't have a property to fill it's parent, like most Containers do (Because it isn't a container)\n        canvas.widthProperty().bind(pane.widthProperty());\n        canvas.heightProperty().bind(pane.heightProperty());\n\n        // Adding the canvas to your App\n        root.getChildren().add(canvas);\n\n        // Launching the Stage\n        primaryStage.setTitle(\"Example App\");\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1545062276,"post_id":53818617,"comment_id":94485928,"body_markdown":"please don&#39;t post several answers to the same question - instead edit and refine the one that solves the problem completely (or as near as you can get :)","body":"please don&#39;t post several answers to the same question - instead edit and refine the one that solves the problem completely (or as near as you can get :)"},{"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"score":0,"creation_date":1545172364,"post_id":53818617,"comment_id":94532290,"body_markdown":"I&#39;m new to Stackoverflow so sorry for that. Will keep that in mind!","body":"I&#39;m new to Stackoverflow so sorry for that. Will keep that in mind!"}],"tags":[],"owner":{"account_id":14564109,"reputation":55,"user_id":10519401,"display_name":"StefanH"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1545061795,"creation_date":1545061795,"answer_id":53818617,"question_id":52709779,"body_markdown":"Okay, since last time , I changed some elements.\r\nThe canvas&#39;s parent is now just a Pane instead of an AnchorPane.\r\n\r\nThe FXML won&#39;t help you much... It is just a BorderPane with another Pane in it, but alright... \r\n\r\n     &lt;center&gt;\r\n      &lt;VBox prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n\r\n            &lt;Pane maxHeight=&quot;1.7976931348623157E308&quot; VBox.vgrow=&quot;ALWAYS&quot; /&gt;\r\n                  \r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n\r\nSo, what I&#39;m doing is taking the Canvas element, Processing creates and just adding it to the Pane.","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>Okay, since last time , I changed some elements.\nThe canvas's parent is now just a Pane instead of an AnchorPane.</p>\n\n<p>The FXML won't help you much... It is just a BorderPane with another Pane in it, but alright... </p>\n\n<pre><code> &lt;center&gt;\n  &lt;VBox prefHeight=\"200.0\" prefWidth=\"100.0\" BorderPane.alignment=\"CENTER\"&gt;\n     &lt;children&gt;\n\n        &lt;Pane maxHeight=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\" /&gt;\n\n     &lt;/children&gt;\n  &lt;/VBox&gt;\n</code></pre>\n\n<p>So, what I'm doing is taking the Canvas element, Processing creates and just adding it to the Pane.</p>\n"},{"tags":[],"owner":{"account_id":12511748,"reputation":176,"user_id":9106580,"display_name":"Pierre Vittet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693125851,"creation_date":1693125851,"answer_id":76986307,"question_id":52709779,"body_markdown":"I have make a fork of processing 3 (\r\nhttps://github.com/Piervit/processing3-javafx/tree/main) which\r\n  - is build with maven\r\n  - work with java 17\r\n  - only should be use with fx2d\r\n  - provide a javafx node which can be embedded in a frame.\r\n ","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>I have make a fork of processing 3 (\n<a href=\"https://github.com/Piervit/processing3-javafx/tree/main\" rel=\"nofollow noreferrer\">https://github.com/Piervit/processing3-javafx/tree/main</a>) which</p>\n<ul>\n<li>is build with maven</li>\n<li>work with java 17</li>\n<li>only should be use with fx2d</li>\n<li>provide a javafx node which can be embedded in a frame.</li>\n</ul>\n"}],"owner":{"account_id":9818532,"reputation":1278,"user_id":7274239,"display_name":"Jan ƒåern&#253;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2668,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52782409,"answer_count":5,"score":6,"last_activity_date":1693125851,"creation_date":1539031153,"question_id":52709779,"body_markdown":"I am trying to make a program for visual analyzing Fractal sets. I choose Processing 3 as drawing library and JavaFX for the user interface. There are some screenshots of the current state: \r\n\r\n**My GUI:**\r\n\r\n[![JavaFX Scene Builder][1]][1]\r\n\r\n**there is Launcher code:**\r\n\r\n    import Graphics.Canvas2D;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import processing.core.PGraphics;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Launcher extends Application {\r\n        private static Stage primaryStage;\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            Parent root = loadFXML(&quot;MainUI.fxml&quot;);\r\n            Scene scene = new Scene(root, 500, 400);\r\n            primaryStage.setTitle(&quot;Fractal Analyzer&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n            primaryStage.setMaximized(true);\r\n    \r\n            Launcher.primaryStage = primaryStage;\r\n        }\r\n    \r\n        @Override\r\n        public void init() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            System.exit(0);\r\n        }\r\n    \r\n        public static Stage getPrimaryStage() {\r\n            return primaryStage;\r\n        }\r\n    \r\n        public  void setCanvas(Canvas2D canvas){\r\n            \r\n        }\r\n    \r\n    \r\n    \r\n        private Parent loadFXML(String path) {\r\n            try {\r\n                return FXMLLoader.load(getClass().getResource(path));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.exit(1);\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n**Testing fractal PAplet:**\r\n\r\n[![Processing PAplet window][2]][2]\r\n\r\n\r\n**There is a code of this PAplet:**\r\n\r\n    package Fractal;\r\n    \r\n    import processing.core.PApplet;\r\n    \r\n    public class SirpenskiTriangle extends PApplet {\r\n    \r\n        public static void main(String[] args) {\r\n            PApplet.main(&quot;Fractal.SirpenskiTriangle&quot;);\r\n        }\r\n    \r\n        public void settings() {\r\n            size(640, 640);\r\n            smooth();\r\n            if (frame != null) {\r\n                frame.setResizable(true);\r\n            }\r\n        }\r\n    \r\n        public void draw() {\r\n            drawTriangle(new Position(300, 20), new Position(620, 620), new Position(20, 620), 0);\r\n            noLoop();\r\n            scale(10f);\r\n        }\r\n    \r\n        public void setup(){}\r\n    \r\n        public void drawTriangle(Position top, Position right, Position left, int depth) {\r\n            if (depth &gt; 10) return;\r\n    \r\n            line(top.x, top.y, right.x, right.y);\r\n            line(right.x, right.y, left.x, left.y);\r\n            line(left.x, left.y, top.x, top.y);\r\n    \r\n            drawTriangle(top, top.middleWith(right), top.middleWith(left), depth + 1);\r\n            drawTriangle(top.middleWith(left), left.middleWith(right), left, depth + 1);\r\n            drawTriangle(top.middleWith(right), right, left.middleWith(right), depth + 1);\r\n        }\r\n    \r\n        class Position {\r\n            final float x;\r\n            final float y;\r\n    \r\n            Position(float x, float y) {\r\n                this.x = x;\r\n                this.y = y;\r\n            }\r\n    \r\n            Position middleWith(Position other) {\r\n                return new Position((x + other.x) / 2, (y + other.y) / 2);\r\n            }\r\n        }\r\n    }\r\n\r\nIs there any way to put processing PAplet into JavaFX scene like canvas or something similar?\r\n\r\nI hope it can work like this, but this code is invalid:\r\n[![example][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAzsK.png\r\n  [2]: https://i.stack.imgur.com/bmHbz.png\r\n  [3]: https://i.stack.imgur.com/qtSye.png","title":"Java Processing 3 PAplet in JavaFX scene as FXNode","body":"<p>I am trying to make a program for visual analyzing Fractal sets. I choose Processing 3 as drawing library and JavaFX for the user interface. There are some screenshots of the current state: </p>\n\n<p><strong>My GUI:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/qAzsK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qAzsK.png\" alt=\"JavaFX Scene Builder\"></a></p>\n\n<p><strong>there is Launcher code:</strong></p>\n\n<pre><code>import Graphics.Canvas2D;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport processing.core.PGraphics;\n\nimport java.io.IOException;\n\npublic class Launcher extends Application {\n    private static Stage primaryStage;\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        Parent root = loadFXML(\"MainUI.fxml\");\n        Scene scene = new Scene(root, 500, 400);\n        primaryStage.setTitle(\"Fractal Analyzer\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        primaryStage.setMaximized(true);\n\n        Launcher.primaryStage = primaryStage;\n    }\n\n    @Override\n    public void init() {\n\n    }\n\n    @Override\n    public void stop() {\n        System.exit(0);\n    }\n\n    public static Stage getPrimaryStage() {\n        return primaryStage;\n    }\n\n    public  void setCanvas(Canvas2D canvas){\n\n    }\n\n\n\n    private Parent loadFXML(String path) {\n        try {\n            return FXMLLoader.load(getClass().getResource(path));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        System.exit(1);\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Testing fractal PAplet:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/bmHbz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bmHbz.png\" alt=\"Processing PAplet window\"></a></p>\n\n<p><strong>There is a code of this PAplet:</strong></p>\n\n<pre><code>package Fractal;\n\nimport processing.core.PApplet;\n\npublic class SirpenskiTriangle extends PApplet {\n\n    public static void main(String[] args) {\n        PApplet.main(\"Fractal.SirpenskiTriangle\");\n    }\n\n    public void settings() {\n        size(640, 640);\n        smooth();\n        if (frame != null) {\n            frame.setResizable(true);\n        }\n    }\n\n    public void draw() {\n        drawTriangle(new Position(300, 20), new Position(620, 620), new Position(20, 620), 0);\n        noLoop();\n        scale(10f);\n    }\n\n    public void setup(){}\n\n    public void drawTriangle(Position top, Position right, Position left, int depth) {\n        if (depth &gt; 10) return;\n\n        line(top.x, top.y, right.x, right.y);\n        line(right.x, right.y, left.x, left.y);\n        line(left.x, left.y, top.x, top.y);\n\n        drawTriangle(top, top.middleWith(right), top.middleWith(left), depth + 1);\n        drawTriangle(top.middleWith(left), left.middleWith(right), left, depth + 1);\n        drawTriangle(top.middleWith(right), right, left.middleWith(right), depth + 1);\n    }\n\n    class Position {\n        final float x;\n        final float y;\n\n        Position(float x, float y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        Position middleWith(Position other) {\n            return new Position((x + other.x) / 2, (y + other.y) / 2);\n        }\n    }\n}\n</code></pre>\n\n<p>Is there any way to put processing PAplet into JavaFX scene like canvas or something similar?</p>\n\n<p>I hope it can work like this, but this code is invalid:\n<a href=\"https://i.stack.imgur.com/qtSye.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qtSye.png\" alt=\"example\"></a></p>\n"},{"tags":["java","apache-spark","beam"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693313510,"post_id":76986222,"comment_id":135741736,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":16548308,"reputation":39,"user_id":11957294,"display_name":"Ahmed Hesham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693125292,"creation_date":1693123916,"question_id":76986222,"body_markdown":"I have a Java program in which I use `Spark` as a runner for beam pipeline.\r\nThere is a `Spark` task that collects some data. It got finished correctly but, after that, its worker died and this task got assigned to another worker.\r\nWhy doesn&#39;t it recover the data that&#39;s already collected?\r\nWhat&#39;s the best way to recover this data ?\r\n\r\nI tried using `shuffle service` but still faced the same problem. Any advice is welcome.","title":"Spark Task Data loss after worker dies in Java","body":"<p>I have a Java program in which I use <code>Spark</code> as a runner for beam pipeline.\nThere is a <code>Spark</code> task that collects some data. It got finished correctly but, after that, its worker died and this task got assigned to another worker.\nWhy doesn't it recover the data that's already collected?\nWhat's the best way to recover this data ?</p>\n<p>I tried using <code>shuffle service</code> but still faced the same problem. Any advice is welcome.</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","batch-processing"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1693101972,"post_id":76985249,"comment_id":135715334,"body_markdown":"It would help to share the code you&#39;ve made regarding the processing of these requests, since that&#39;s the area of concern.","body":"It would help to share the code you&#39;ve made regarding the processing of these requests, since that&#39;s the area of concern."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1693122695,"post_id":76985249,"comment_id":135716432,"body_markdown":"I&#39;m confused as to what exactly you are looking for. What do you mean by &#39;batch requests&#39;? Are you simply supposed to receive the payload and send the requests to appropriate REST endpoints? In such case, any HTTP client will work for you. Just use `RestTemplate` since you&#39;re using Spring already. You can couple that with Spring Batch for a declarative approach if you want, though it&#39;s probably an overkill","body":"I&#39;m confused as to what exactly you are looking for. What do you mean by &#39;batch requests&#39;? Are you simply supposed to receive the payload and send the requests to appropriate REST endpoints? In such case, any HTTP client will work for you. Just use <code>RestTemplate</code> since you&#39;re using Spring already. You can couple that with Spring Batch for a declarative approach if you want, though it&#39;s probably an overkill"},{"owner":{"account_id":21523921,"reputation":35,"user_id":15864561,"display_name":"Lubos Jansky"},"score":0,"creation_date":1693124274,"post_id":76985249,"comment_id":135716578,"body_markdown":"@crizzis I want to implement something like this: https://learn.microsoft.com/en-us/graph/json-batching. So, to send multiple API requests in just one API call.","body":"@crizzis I want to implement something like this: <a href=\"https://learn.microsoft.com/en-us/graph/json-batching\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/json-batching</a>. So, to send multiple API requests in just one API call."},{"owner":{"account_id":21523921,"reputation":35,"user_id":15864561,"display_name":"Lubos Jansky"},"score":0,"creation_date":1693125194,"post_id":76985249,"comment_id":135716659,"body_markdown":"@Rogue I have Implemented only basic things right now. See updated question :)","body":"@Rogue I have Implemented only basic things right now. See updated question :)"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1693125359,"post_id":76985249,"comment_id":135716675,"body_markdown":"In that case, my comment still stands. Why inject `EventWebController`, though? Just use `RestTemplate` to call your own app. If you want to avoid the network overhead, you might want to have a look at [`HandlerAdapter`](https://stackoverflow.com/a/1324506/1092818)","body":"In that case, my comment still stands. Why inject <code>EventWebController</code>, though? Just use <code>RestTemplate</code> to call your own app. If you want to avoid the network overhead, you might want to have a look at <a href=\"https://stackoverflow.com/a/1324506/1092818\"><code>HandlerAdapter</code></a>"}],"owner":{"account_id":21523921,"reputation":35,"user_id":15864561,"display_name":"Lubos Jansky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693125175,"creation_date":1693093969,"question_id":76985249,"body_markdown":"\r\nI would like to implement batch request handling in Java (Spring Data JPA, Hibernate, Lombok).\r\n\r\nI have some @RestControllers. This is the request body for batch request: \r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000001&quot;,\r\n    &quot;method&quot;: &quot;GET&quot;,\r\n    &quot;URL&quot;: &quot;/something/&quot;,\r\n    &quot;body&quot;: {}\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000002&quot;,\r\n    &quot;method&quot;: &quot;POST&quot;,\r\n    &quot;url&quot;: &quot;/something2/&quot;,\r\n    &quot;body&quot;: {}\r\n  }\r\n]\r\n```\r\n\r\nI need to dynamically determine the correct RestController depending on **METHOD** and **URL**, which must process the request from batch. The response must look like this:\r\n\r\n```\r\n{\r\n  &quot;00000000-0000-0000-0000-000000000001&quot;: {\r\n    &quot;status&quot;: &quot;OK&quot;,\r\n    &quot;data&quot;: {}\r\n  },\r\n  &quot;00000000-0000-0000-0000-000000000002&quot;: {\r\n    &quot;status&quot;: &quot;ACCEPTED&quot;,\r\n    &quot;data&quot;: {}\r\n  }\r\n}\r\n```\r\n\r\nI already have the correct implementation of classes for batchRequests, batchResponse, and base BatchController, but I need to add dynamic request processing.\r\n\r\nThank you in advance for tips on how to do that.\r\n\r\n**Update - What is implemented:**\r\n - BatchRequest class:\r\n```\r\n\tpackage _batch;  \r\n\t  \r\n\timport jakarta.persistence.Transient;  \r\n\timport lombok.Getter;  \r\n\timport lombok.Setter;  \r\n\timport org.springframework.web.bind.annotation.RequestMethod;  \r\n\t  \r\n\timport java.util.UUID;  \r\n\t  \r\n\t@Getter  \r\n\t@Setter  \r\n\tpublic class BatchRequest {  \r\n\t  \r\n\t    @Transient  \r\n\t  private UUID id;  \r\n\t  \r\n\t    @Transient  \r\n\t  private RequestMethod method;  \r\n\t  \r\n\t    @Transient  \r\n\t  private String url;  \r\n\t  \r\n\t    @Transient  \r\n\t  private Object body;  \r\n\t  \r\n\t}\r\n```\r\n- BatchResponse class:\r\n```\r\n\tpackage _batch;  \r\n\t  \r\n\timport jakarta.persistence.Transient;  \r\n\timport lombok.Getter;  \r\n\timport lombok.Setter;  \r\n\timport org.springframework.http.HttpStatus;  \r\n\t  \r\n\t@Getter  \r\n\t@Setter  \r\n\tpublic class BatchResponse {  \r\n\t  \r\n\t    @Transient  \r\n\t  private HttpStatus status;  \r\n\t  \r\n\t    @Transient  \r\n\t  private Object data;  \r\n\t  \r\n\t}\r\n```\r\n- BatchWebController class:\r\n```\r\n\tpackage _batch;  \r\n\t  \r\n\timport EventWebController;  \r\n\timport io.swagger.v3.oas.annotations.security.SecurityRequirement;  \r\n\timport io.swagger.v3.oas.annotations.tags.Tag;  \r\n\timport org.springframework.beans.factory.annotation.Autowired;  \r\n\timport org.springframework.http.HttpStatus;  \r\n\timport org.springframework.security.access.prepost.PreAuthorize;  \r\n\timport org.springframework.web.bind.annotation.PostMapping;  \r\n\timport org.springframework.web.bind.annotation.RequestBody;  \r\n\timport org.springframework.web.bind.annotation.RestController;  \r\n\t  \r\n\timport java.util.*;  \r\n\t  \r\n\t@RestController  \r\n\t@PreAuthorize(&quot;@caller.isAuthenticated()&quot;)  \r\n\t@Tag(name = &quot;_Batch&quot;, description = &quot;Controller for handling batch requests&quot;)  \r\n\t@SecurityRequirement(name = &quot;Microsoft Entra&quot;)  \r\n\tpublic class BatchWebController {  \r\n\t  \r\n\t    @Autowired  \r\n\t  EventWebController eventWebController;  \r\n\t  \r\n\t  \r\n\t    @PostMapping(&quot;/batch&quot;)  \r\n\t    public Map&lt;UUID, BatchResponse&gt; processBatchRequest(@RequestBody List&lt;BatchRequest&gt; batchRequests) {  \r\n\t  \r\n\t        Map&lt;UUID, BatchResponse&gt; batchResponseList = new HashMap&lt;&gt;();  \r\n\t  \r\n\t        for (BatchRequest request : batchRequests) {  \r\n\t  \r\n\t            BatchResponse batchResponse = new BatchResponse();  \r\n\t            \r\n\t            ---&gt;&gt; batchResponse.setStatus(HttpStatus.OK);\r\n\t            ---&gt;&gt; batchResponse.setData(eventWebController.getEvents());\r\n\t  \r\n\t            batchResponseList.put(request.getId(), batchResponse);  \r\n\t  \r\n\t        }  \r\n\t  \r\n\t        return batchResponseList;  \r\n\t  \r\n\t    }  \r\n\t  \r\n\t}\r\n```\r\n- And there is a look on EventWebController:\r\n```\r\n\tpackage event;\r\n\r\n\timport NotFoundException;\r\n\timport io.swagger.v3.oas.annotations.security.SecurityRequirement;\r\n\timport io.swagger.v3.oas.annotations.tags.Tag;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.security.access.prepost.PreAuthorize;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.PathVariable;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\timport java.util.List;\r\n\timport java.util.UUID;\r\n\r\n\t@RestController\r\n\t@Tag(name = &quot;Events&quot;)\r\n\t@SecurityRequirement(name = &quot;Microsoft Entra&quot;)\r\n\tpublic class EventWebController {\r\n\r\n\t    @Autowired\r\n\t    private EventService eventService;\r\n\r\n\t    @GetMapping(&quot;/applications/events&quot;)\r\n\t    public List&lt;Event&gt; getEvents() {\r\n\t        return eventService.get();\r\n\t    }\r\n\r\n\t    @GetMapping(&quot;/applications/events/{id}&quot;)\r\n\t    public Event getEvent(@PathVariable UUID id) throws NotFoundException {\r\n\t        return eventService.get(id);\r\n\t    }\r\n\r\n\t}\r\n```","title":"Spring JPA - Batch Request","body":"<p>I would like to implement batch request handling in Java (Spring Data JPA, Hibernate, Lombok).</p>\n<p>I have some @RestControllers. This is the request body for batch request:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000001&quot;,\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;URL&quot;: &quot;/something/&quot;,\n    &quot;body&quot;: {}\n  },\n  {\n    &quot;id&quot;: &quot;00000000-0000-0000-0000-000000000002&quot;,\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;url&quot;: &quot;/something2/&quot;,\n    &quot;body&quot;: {}\n  }\n]\n</code></pre>\n<p>I need to dynamically determine the correct RestController depending on <strong>METHOD</strong> and <strong>URL</strong>, which must process the request from batch. The response must look like this:</p>\n<pre><code>{\n  &quot;00000000-0000-0000-0000-000000000001&quot;: {\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;data&quot;: {}\n  },\n  &quot;00000000-0000-0000-0000-000000000002&quot;: {\n    &quot;status&quot;: &quot;ACCEPTED&quot;,\n    &quot;data&quot;: {}\n  }\n}\n</code></pre>\n<p>I already have the correct implementation of classes for batchRequests, batchResponse, and base BatchController, but I need to add dynamic request processing.</p>\n<p>Thank you in advance for tips on how to do that.</p>\n<p><strong>Update - What is implemented:</strong></p>\n<ul>\n<li>BatchRequest class:</li>\n</ul>\n<pre><code>    package _batch;  \n      \n    import jakarta.persistence.Transient;  \n    import lombok.Getter;  \n    import lombok.Setter;  \n    import org.springframework.web.bind.annotation.RequestMethod;  \n      \n    import java.util.UUID;  \n      \n    @Getter  \n    @Setter  \n    public class BatchRequest {  \n      \n        @Transient  \n      private UUID id;  \n      \n        @Transient  \n      private RequestMethod method;  \n      \n        @Transient  \n      private String url;  \n      \n        @Transient  \n      private Object body;  \n      \n    }\n</code></pre>\n<ul>\n<li>BatchResponse class:</li>\n</ul>\n<pre><code>    package _batch;  \n      \n    import jakarta.persistence.Transient;  \n    import lombok.Getter;  \n    import lombok.Setter;  \n    import org.springframework.http.HttpStatus;  \n      \n    @Getter  \n    @Setter  \n    public class BatchResponse {  \n      \n        @Transient  \n      private HttpStatus status;  \n      \n        @Transient  \n      private Object data;  \n      \n    }\n</code></pre>\n<ul>\n<li>BatchWebController class:</li>\n</ul>\n<pre><code>    package _batch;  \n      \n    import EventWebController;  \n    import io.swagger.v3.oas.annotations.security.SecurityRequirement;  \n    import io.swagger.v3.oas.annotations.tags.Tag;  \n    import org.springframework.beans.factory.annotation.Autowired;  \n    import org.springframework.http.HttpStatus;  \n    import org.springframework.security.access.prepost.PreAuthorize;  \n    import org.springframework.web.bind.annotation.PostMapping;  \n    import org.springframework.web.bind.annotation.RequestBody;  \n    import org.springframework.web.bind.annotation.RestController;  \n      \n    import java.util.*;  \n      \n    @RestController  \n    @PreAuthorize(&quot;@caller.isAuthenticated()&quot;)  \n    @Tag(name = &quot;_Batch&quot;, description = &quot;Controller for handling batch requests&quot;)  \n    @SecurityRequirement(name = &quot;Microsoft Entra&quot;)  \n    public class BatchWebController {  \n      \n        @Autowired  \n      EventWebController eventWebController;  \n      \n      \n        @PostMapping(&quot;/batch&quot;)  \n        public Map&lt;UUID, BatchResponse&gt; processBatchRequest(@RequestBody List&lt;BatchRequest&gt; batchRequests) {  \n      \n            Map&lt;UUID, BatchResponse&gt; batchResponseList = new HashMap&lt;&gt;();  \n      \n            for (BatchRequest request : batchRequests) {  \n      \n                BatchResponse batchResponse = new BatchResponse();  \n                \n                ---&gt;&gt; batchResponse.setStatus(HttpStatus.OK);\n                ---&gt;&gt; batchResponse.setData(eventWebController.getEvents());\n      \n                batchResponseList.put(request.getId(), batchResponse);  \n      \n            }  \n      \n            return batchResponseList;  \n      \n        }  \n      \n    }\n</code></pre>\n<ul>\n<li>And there is a look on EventWebController:</li>\n</ul>\n<pre><code>    package event;\n\n    import NotFoundException;\n    import io.swagger.v3.oas.annotations.security.SecurityRequirement;\n    import io.swagger.v3.oas.annotations.tags.Tag;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.security.access.prepost.PreAuthorize;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.PathVariable;\n    import org.springframework.web.bind.annotation.RestController;\n\n    import java.util.List;\n    import java.util.UUID;\n\n    @RestController\n    @Tag(name = &quot;Events&quot;)\n    @SecurityRequirement(name = &quot;Microsoft Entra&quot;)\n    public class EventWebController {\n\n        @Autowired\n        private EventService eventService;\n\n        @GetMapping(&quot;/applications/events&quot;)\n        public List&lt;Event&gt; getEvents() {\n            return eventService.get();\n        }\n\n        @GetMapping(&quot;/applications/events/{id}&quot;)\n        public Event getEvent(@PathVariable UUID id) throws NotFoundException {\n            return eventService.get(id);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":28790009,"reputation":11,"user_id":22049604,"display_name":"emre.krn"},"score":0,"creation_date":1693254562,"post_id":76986263,"comment_id":135733793,"body_markdown":"Thanks a lot. Adding @JsonIgnore solved my problem.","body":"Thanks a lot. Adding @JsonIgnore solved my problem."}],"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693125122,"creation_date":1693124797,"answer_id":76986263,"question_id":76986089,"body_markdown":"There are two problems in your code that I can see: \r\n\r\n 1. There is no transaction around your controller call, and so, you are trying to persist an `Flashcard` entity that is referencing a detached `User`\r\n 2. Neither side of the association is marked as `@JsonIgnore`, so JSON serialization fails either with a `StackOverflowError`, if `spring.jpa.open-in-view` is `true`, or with a `LazyInitializationException` otherwise (this is likely the core issue, but I cannot be sure, since the root cause is not included in the stack trace you provided)\r\n\r\n\r\nA simpler way to do what you want would be: \r\n\r\n```\r\n@Transactional\r\n@ResponseStatus(CREATED)\r\n@PostMapping(&quot;/users/{id}/flashcards&quot;)\r\npublic Flashcard createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody Flashcard flashcard) {\r\n    flashcard.setUser(userRepository.getReferenceById(userId));\r\n    return flashcardRepository.save(flashcard);\r\n}\r\n```\r\n\r\ncoupled with \r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class User {\r\n    \r\n    @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    private List&lt;Flashcard&gt; flashcards;\r\n}\r\n```\r\n\r\nSince you marked both sides to be lazy, you might need `@JsonIgnore` on both sides. \r\n\r\nBTW `@OnDelete(action = OnDeleteAction.CASCADE)` on `Flashcard.user` doesn&#39;t really make sense (what it is saying is &#39;when one of the user&#39;s flashcard is deleted, please delete the entire user as well&#39;, which I&#39;m pretty sure is NOT what you intended)","title":"Spring boot @OneToMany Relationship I can not create new data","body":"<p>There are two problems in your code that I can see:</p>\n<ol>\n<li>There is no transaction around your controller call, and so, you are trying to persist an <code>Flashcard</code> entity that is referencing a detached <code>User</code></li>\n<li>Neither side of the association is marked as <code>@JsonIgnore</code>, so JSON serialization fails either with a <code>StackOverflowError</code>, if <code>spring.jpa.open-in-view</code> is <code>true</code>, or with a <code>LazyInitializationException</code> otherwise (this is likely the core issue, but I cannot be sure, since the root cause is not included in the stack trace you provided)</li>\n</ol>\n<p>A simpler way to do what you want would be:</p>\n<pre><code>@Transactional\n@ResponseStatus(CREATED)\n@PostMapping(&quot;/users/{id}/flashcards&quot;)\npublic Flashcard createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody Flashcard flashcard) {\n    flashcard.setUser(userRepository.getReferenceById(userId));\n    return flashcardRepository.save(flashcard);\n}\n</code></pre>\n<p>coupled with</p>\n<pre><code>@Data\n@Entity\npublic class User {\n    \n    @JsonIgnore\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    private List&lt;Flashcard&gt; flashcards;\n}\n</code></pre>\n<p>Since you marked both sides to be lazy, you might need <code>@JsonIgnore</code> on both sides.</p>\n<p>BTW <code>@OnDelete(action = OnDeleteAction.CASCADE)</code> on <code>Flashcard.user</code> doesn't really make sense (what it is saying is 'when one of the user's flashcard is deleted, please delete the entire user as well', which I'm pretty sure is NOT what you intended)</p>\n"}],"owner":{"account_id":28790009,"reputation":11,"user_id":22049604,"display_name":"emre.krn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76986263,"answer_count":1,"score":0,"last_activity_date":1693125122,"creation_date":1693121554,"question_id":76986089,"body_markdown":"I am working on a new simple flashcard project. In summary: one user can have many flashcards, so the relationship between user and flashcard is oneToMany. When I try to create a new flashcard, I get the following error:\r\n\r\n     2023-08-27T09:03:14.399+02:00  WARN 31571 --- [nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\r\n\r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n\tat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n\tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\r\n    .\r\n    .\r\n    .\r\n\r\nMy Java classes are as following:\r\n\r\nUser.class:\r\n\r\n    @Data\r\n    @Entity\r\n    public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userId_generator&quot;)\r\n    private Integer id;\r\n    private String username;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String password;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    private List&lt;Flashcard&gt; flashcards;\r\n\r\n    @CreationTimestamp\r\n    private Instant createdOn;\r\n    @UpdateTimestamp\r\n    private Instant updatedOn;\r\n    }\r\n\r\nFlashcard.class:\r\n\r\n    @Entity\r\n    @Data\r\n    public class Flashcard {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;flashcardId_generator&quot;)\r\n    private int id;\r\n\r\n    private String name;\r\n    private String description;\r\n\r\n    @ManyToOne( fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private User user;\r\n\r\n\r\n    }\r\n\r\nFlashcardController.class:\r\n\r\n    @RestController\r\n    public class FlashcardController {\r\n    @Autowired\r\n    FlashcardRepository flashcardRepository;\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    ...some code with get method\r\n\r\n    @PostMapping(&quot;/users/{id}/flashcards&quot;)\r\n    public ResponseEntity&lt;Flashcard&gt; createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody       Flashcard flashcard) {\r\n        Flashcard _flashcard = userRepository.findById(userId).map(user -&gt; {\r\n            flashcard.setUser(user);\r\n            return flashcardRepository.save(flashcard);\r\n        }).get();\r\n\r\n        return new ResponseEntity&lt;&gt;(_flashcard, HttpStatus.CREATED);\r\n    }\r\n    }\r\n\r\nWhen I remove \r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    private List&lt;Flashcard&gt; flashcards;\r\n\r\nfrom the User.class, I can create new flashcards. However, when I send a get request with a userId, I want to see all flashcards that belongs to him.","title":"Spring boot @OneToMany Relationship I can not create new data","body":"<p>I am working on a new simple flashcard project. In summary: one user can have many flashcards, so the relationship between user and flashcard is oneToMany. When I try to create a new flashcard, I get the following error:</p>\n<pre><code> 2023-08-27T09:03:14.399+02:00  WARN 31571 --- [nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\n\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\nat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\nat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.11.jar:10.1.11]\n.\n.\n.\n</code></pre>\n<p>My Java classes are as following:</p>\n<p>User.class:</p>\n<pre><code>@Data\n@Entity\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;userId_generator&quot;)\nprivate Integer id;\nprivate String username;\nprivate String firstName;\nprivate String lastName;\nprivate String password;\n\n@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\nprivate List&lt;Flashcard&gt; flashcards;\n\n@CreationTimestamp\nprivate Instant createdOn;\n@UpdateTimestamp\nprivate Instant updatedOn;\n}\n</code></pre>\n<p>Flashcard.class:</p>\n<pre><code>@Entity\n@Data\npublic class Flashcard {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;flashcardId_generator&quot;)\nprivate int id;\n\nprivate String name;\nprivate String description;\n\n@ManyToOne( fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\nprivate User user;\n\n\n}\n</code></pre>\n<p>FlashcardController.class:</p>\n<pre><code>@RestController\npublic class FlashcardController {\n@Autowired\nFlashcardRepository flashcardRepository;\n\n@Autowired\nUserRepository userRepository;\n\n...some code with get method\n\n@PostMapping(&quot;/users/{id}/flashcards&quot;)\npublic ResponseEntity&lt;Flashcard&gt; createFlashcard(@PathVariable(&quot;id&quot;) int userId, @RequestBody       Flashcard flashcard) {\n    Flashcard _flashcard = userRepository.findById(userId).map(user -&gt; {\n        flashcard.setUser(user);\n        return flashcardRepository.save(flashcard);\n    }).get();\n\n    return new ResponseEntity&lt;&gt;(_flashcard, HttpStatus.CREATED);\n}\n}\n</code></pre>\n<p>When I remove</p>\n<pre><code>@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\nprivate List&lt;Flashcard&gt; flashcards;\n</code></pre>\n<p>from the User.class, I can create new flashcards. However, when I send a get request with a userId, I want to see all flashcards that belongs to him.</p>\n"},{"tags":["java","hashmap","roman-numerals"],"answers":[{"tags":[],"owner":{"account_id":24029930,"reputation":88,"user_id":18011018,"display_name":"jaragone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693125003,"creation_date":1693125003,"answer_id":76986275,"question_id":76985716,"body_markdown":"Your code has a couple of issues. The loop control variables tmp and k are not clearly designed. tmp is incrementing when num - Math.pow(10,tmp) is greater than or equal to Math.pow(10, tmp), and k is incrementing otherwise. This creates an ambiguity in the control of the loop, and in certain cases, it might not terminate.\r\n\r\nYou are initializing k to 1 and increasing it in the loop, but k is not really required in this context. **The Roman numeral values are fixed and can be stored in an array or list**.\r\n\r\n    public class Solution {\r\n        \r\n        int findNextDigit(int num, int[] values) {\r\n            for (int value : values) {\r\n                if (num &gt;= value) {\r\n                    return value;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public String intToRoman(int num) {\r\n            StringBuilder ans = new StringBuilder();\r\n    \r\n            // Define the Roman numeral values and their corresponding strings\r\n            int[] values = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};\r\n            String[] symbols = {&quot;M&quot;, &quot;CM&quot;, &quot;D&quot;, &quot;CD&quot;, &quot;C&quot;, &quot;XC&quot;, &quot;L&quot;, &quot;XL&quot;, &quot;X&quot;, &quot;IX&quot;, &quot;V&quot;, &quot;IV&quot;, &quot;I&quot;};\r\n    \r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                while (num &gt;= values[i]) {\r\n                    ans.append(symbols[i]);\r\n                    num -= values[i];\r\n                }\r\n            }\r\n    \r\n            return ans.toString();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Solution solution = new Solution();\r\n            System.out.println(solution.intToRoman(1994));  // Should print &quot;MCMXCIV&quot;\r\n        }\r\n    }\r\n\r\nIn this specific case, using [StringBuilder][1] over String offers significant performance advantages because it avoids the overhead of creating multiple immutable String objects during concatenation. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html","title":"Why doesn&#39;t my solution to LC 12 Integer to Roman work?","body":"<p>Your code has a couple of issues. The loop control variables tmp and k are not clearly designed. tmp is incrementing when num - Math.pow(10,tmp) is greater than or equal to Math.pow(10, tmp), and k is incrementing otherwise. This creates an ambiguity in the control of the loop, and in certain cases, it might not terminate.</p>\n<p>You are initializing k to 1 and increasing it in the loop, but k is not really required in this context. <strong>The Roman numeral values are fixed and can be stored in an array or list</strong>.</p>\n<pre><code>public class Solution {\n    \n    int findNextDigit(int num, int[] values) {\n        for (int value : values) {\n            if (num &gt;= value) {\n                return value;\n            }\n        }\n        return 0;\n    }\n\n    public String intToRoman(int num) {\n        StringBuilder ans = new StringBuilder();\n\n        // Define the Roman numeral values and their corresponding strings\n        int[] values = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};\n        String[] symbols = {&quot;M&quot;, &quot;CM&quot;, &quot;D&quot;, &quot;CD&quot;, &quot;C&quot;, &quot;XC&quot;, &quot;L&quot;, &quot;XL&quot;, &quot;X&quot;, &quot;IX&quot;, &quot;V&quot;, &quot;IV&quot;, &quot;I&quot;};\n\n        for (int i = 0; i &lt; values.length; i++) {\n            while (num &gt;= values[i]) {\n                ans.append(symbols[i]);\n                num -= values[i];\n            }\n        }\n\n        return ans.toString();\n    }\n\n    public static void main(String[] args) {\n        Solution solution = new Solution();\n        System.out.println(solution.intToRoman(1994));  // Should print &quot;MCMXCIV&quot;\n    }\n}\n</code></pre>\n<p>In this specific case, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a> over String offers significant performance advantages because it avoids the overhead of creating multiple immutable String objects during concatenation.</p>\n"}],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693125003,"creation_date":1693110190,"question_id":76985716,"body_markdown":"What I don&#39;t understand is when I pass tmp-=1 to the function instead as it is returning &#39;X&#39; for numbers less than 10 and &#39;C&#39; for numbers less than 100 and greater than 10 it loops infinitely.\r\n\r\n    class Solution {\r\n    \r\n        int findNextDigit(int num)\r\n        {\r\n            \r\n                int tmp = 0;\r\n                int k = 1;\r\n    \r\n                while(Math.pow(10,tmp) *k &lt; num)\r\n                {\r\n                    if(num - Math.pow(10,tmp) &lt; Math.pow(10,tmp) )\r\n                    {\r\n                        k++;\r\n                    }\r\n    \r\n                    else\r\n                    {\r\n                        tmp++;\r\n                    }\r\n    \r\n                }\r\n                \r\n                return ((int)(Math.pow(10,tmp))*k);\r\n        }\r\n        public String intToRoman(int num) \r\n        {\r\n            String ans = &quot;&quot;;\r\n            Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(1, &quot;I&quot;);\r\n            map.put(5, &quot;V&quot;);\r\n            map.put(10,&quot;X&quot;);\r\n            map.put(50, &quot;L&quot;);\r\n            map.put(100, &quot;C&quot;);\r\n            map.put(500, &quot;D&quot;);\r\n            map.put(1000, &quot;M&quot;);\r\n            map.put(4, &quot;IV&quot;);\r\n            map.put(9, &quot;IX&quot;);\r\n            map.put(40, &quot;XL&quot;);\r\n            map.put(90, &quot;XC&quot;);\r\n            map.put(400, &quot;CD&quot;);\r\n            map.put(900, &quot;CM&quot;);\r\n    \r\n            while(num&gt;0)\r\n            {\r\n                int tmp = findNextDigit(num);\r\n                ans+= map.get(tmp);\r\n                num-=tmp;\r\n            }   \r\n    \r\n    \r\n            return ans;\r\n            \r\n    \r\n        }\r\n    }","title":"Why doesn&#39;t my solution to LC 12 Integer to Roman work?","body":"<p>What I don't understand is when I pass tmp-=1 to the function instead as it is returning 'X' for numbers less than 10 and 'C' for numbers less than 100 and greater than 10 it loops infinitely.</p>\n<pre><code>class Solution {\n\n    int findNextDigit(int num)\n    {\n        \n            int tmp = 0;\n            int k = 1;\n\n            while(Math.pow(10,tmp) *k &lt; num)\n            {\n                if(num - Math.pow(10,tmp) &lt; Math.pow(10,tmp) )\n                {\n                    k++;\n                }\n\n                else\n                {\n                    tmp++;\n                }\n\n            }\n            \n            return ((int)(Math.pow(10,tmp))*k);\n    }\n    public String intToRoman(int num) \n    {\n        String ans = &quot;&quot;;\n        Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n        map.put(1, &quot;I&quot;);\n        map.put(5, &quot;V&quot;);\n        map.put(10,&quot;X&quot;);\n        map.put(50, &quot;L&quot;);\n        map.put(100, &quot;C&quot;);\n        map.put(500, &quot;D&quot;);\n        map.put(1000, &quot;M&quot;);\n        map.put(4, &quot;IV&quot;);\n        map.put(9, &quot;IX&quot;);\n        map.put(40, &quot;XL&quot;);\n        map.put(90, &quot;XC&quot;);\n        map.put(400, &quot;CD&quot;);\n        map.put(900, &quot;CM&quot;);\n\n        while(num&gt;0)\n        {\n            int tmp = findNextDigit(num);\n            ans+= map.get(tmp);\n            num-=tmp;\n        }   \n\n\n        return ans;\n        \n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","security","ssl","okhttp"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1472918798,"post_id":39264056,"comment_id":65950224,"body_markdown":"Note: Your `checkServerTrusted` implementation is useless as you catch and ignore the CertificateException. Therefore all server certificates (trusted and untrusted) are accepted!","body":"Note: Your <code>checkServerTrusted</code> implementation is useless as you catch and ignore the CertificateException. Therefore all server certificates (trusted and untrusted) are accepted!"},{"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"score":0,"creation_date":1472959973,"post_id":39264056,"comment_id":65959335,"body_markdown":"@Robert thanks for the clarification. Yes **this is insecure and useless in security perspective**, I&#39;ve found the correct solution as described in my answer.","body":"@Robert thanks for the clarification. Yes <b>this is insecure and useless in security perspective</b>, I&#39;ve found the correct solution as described in my answer."}],"answers":[{"tags":[],"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1504425134,"creation_date":1472815350,"answer_id":39291151,"question_id":39264056,"body_markdown":"I am answering to this to give an idea about the scenario and solution as per the android developer site for others benefit. I have solved this using custom trust manager.\r\n\r\nThe problem was with the server certificate, it misses intermediate certificate authority. However with the first flow certificate path is completed somehow and result was successful certificate path validation.\r\n\r\nThere is a solution for this in [android developer site][1]. it suggest to use custom trust manager that trusts this server certificate or it suggest to server to include the intermediate CA in the server chain.\r\n\r\ncustom trust manager. source: https://developer.android.com/training/articles/security-ssl.html#UnknownCa\r\n\r\n    // Load CAs from an InputStream\r\n    // (could be from a resource or ByteArrayInputStream or ...)\r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    // From https://www.washington.edu/itconnect/security/ca/load-der.crt\r\n    InputStream caInput = new BufferedInputStream(new FileInputStream(&quot;load-der.crt&quot;));\r\n    Certificate ca;\r\n    try {\r\n        ca = cf.generateCertificate(caInput);\r\n        System.out.println(&quot;ca=&quot; + ((X509Certificate) ca).getSubjectDN());\r\n    } finally {\r\n        caInput.close();\r\n    }\r\n    \r\n    // Create a KeyStore containing our trusted CAs\r\n    String keyStoreType = KeyStore.getDefaultType();\r\n    KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n    keyStore.load(null, null);\r\n    keyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n    \r\n    // Create a TrustManager that trusts the CAs in our KeyStore\r\n    String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\r\n    tmf.init(keyStore);\r\n    \r\n    // Create an SSLContext that uses our TrustManager\r\n    SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n    context.init(null, tmf.getTrustManagers(), null);\r\n    // Tell the okhttp to use a SocketFactory from our SSLContext\r\n    OkHttpClient okHttpClient client = new OkHttpClient.Builder().sslSocketFactory(context.getSocketFactory()).build();\r\n\r\n**UPDATE:** My problem was solved after intermediate certificate authority added to the certificate chain from the server side. It is the best solution, Bundling the certificate with the app requires app to be updated on certificate expiring or any other issues related with certificate management.\r\n\r\n**UPDATE:03/09/2017** Easiest way to load certificate file I found is use of raw resource.\r\n\r\n    InputStream caInput = new BufferedInputStream(context\r\n                    .getResources().openRawResource(R.raw.certfilename));\r\n\r\nwhere certfilename is the certificate file placed in resources/raw folder. Also okhttp&#39;s [`sslSocketFactory(SSLSocketFactory sslSocketFactory)`][2] has been deprecated and suggested approach in the okhttp api doc can be used. \r\n\r\nAlso when getting the certificate from the server it is better to use openssl.\r\n\r\n    openssl s_client -connect {server-address}:{port} -showcerts\r\n\r\nBecause I used to grab that from firefox and faced situation where it was altered by the virus guard.\r\n   \r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/security-ssl.html#MissingCa\r\n  [2]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.Builder.html#sslSocketFactory-javax.net.ssl.SSLSocketFactory-","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>I am answering to this to give an idea about the scenario and solution as per the android developer site for others benefit. I have solved this using custom trust manager.</p>\n\n<p>The problem was with the server certificate, it misses intermediate certificate authority. However with the first flow certificate path is completed somehow and result was successful certificate path validation.</p>\n\n<p>There is a solution for this in <a href=\"https://developer.android.com/training/articles/security-ssl.html#MissingCa\" rel=\"noreferrer\">android developer site</a>. it suggest to use custom trust manager that trusts this server certificate or it suggest to server to include the intermediate CA in the server chain.</p>\n\n<p>custom trust manager. source: <a href=\"https://developer.android.com/training/articles/security-ssl.html#UnknownCa\" rel=\"noreferrer\">https://developer.android.com/training/articles/security-ssl.html#UnknownCa</a></p>\n\n<pre><code>// Load CAs from an InputStream\n// (could be from a resource or ByteArrayInputStream or ...)\nCertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n// From https://www.washington.edu/itconnect/security/ca/load-der.crt\nInputStream caInput = new BufferedInputStream(new FileInputStream(\"load-der.crt\"));\nCertificate ca;\ntry {\n    ca = cf.generateCertificate(caInput);\n    System.out.println(\"ca=\" + ((X509Certificate) ca).getSubjectDN());\n} finally {\n    caInput.close();\n}\n\n// Create a KeyStore containing our trusted CAs\nString keyStoreType = KeyStore.getDefaultType();\nKeyStore keyStore = KeyStore.getInstance(keyStoreType);\nkeyStore.load(null, null);\nkeyStore.setCertificateEntry(\"ca\", ca);\n\n// Create a TrustManager that trusts the CAs in our KeyStore\nString tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\nTrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\ntmf.init(keyStore);\n\n// Create an SSLContext that uses our TrustManager\nSSLContext context = SSLContext.getInstance(\"TLS\");\ncontext.init(null, tmf.getTrustManagers(), null);\n// Tell the okhttp to use a SocketFactory from our SSLContext\nOkHttpClient okHttpClient client = new OkHttpClient.Builder().sslSocketFactory(context.getSocketFactory()).build();\n</code></pre>\n\n<p><strong>UPDATE:</strong> My problem was solved after intermediate certificate authority added to the certificate chain from the server side. It is the best solution, Bundling the certificate with the app requires app to be updated on certificate expiring or any other issues related with certificate management.</p>\n\n<p><strong>UPDATE:03/09/2017</strong> Easiest way to load certificate file I found is use of raw resource.</p>\n\n<pre><code>InputStream caInput = new BufferedInputStream(context\n                .getResources().openRawResource(R.raw.certfilename));\n</code></pre>\n\n<p>where certfilename is the certificate file placed in resources/raw folder. Also okhttp's <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.Builder.html#sslSocketFactory-javax.net.ssl.SSLSocketFactory-\" rel=\"noreferrer\"><code>sslSocketFactory(SSLSocketFactory sslSocketFactory)</code></a> has been deprecated and suggested approach in the okhttp api doc can be used. </p>\n\n<p>Also when getting the certificate from the server it is better to use openssl.</p>\n\n<pre><code>openssl s_client -connect {server-address}:{port} -showcerts\n</code></pre>\n\n<p>Because I used to grab that from firefox and faced situation where it was altered by the virus guard.</p>\n"},{"comments":[{"owner":{"account_id":8386317,"reputation":1389,"user_id":6296626,"accept_rate":67,"display_name":"Programer Beginner"},"score":0,"creation_date":1621691038,"post_id":63071347,"comment_id":119574454,"body_markdown":"`setSslSocketFactory` is deprecated.","body":"<code>setSslSocketFactory</code> is deprecated."}],"tags":[],"owner":{"account_id":10787318,"reputation":556,"user_id":7935945,"display_name":"Md Shahnawaz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595584952,"creation_date":1595584952,"answer_id":63071347,"question_id":39264056,"body_markdown":" 1. Paste your `cert.pem` in raw folder\r\n 2. Create a method\r\n \r\n\r\n        private SSLSocketFactory getSSLSocketFactory(){\r\n            try {\r\n                CertificateFactory cf;\r\n                cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \r\n                Certificate ca;\r\n                InputStream cert = context.getResources().openRawResource(R.raw.cert);\r\n                ca = cf.generateCertificate(cert);\r\n                cert.close();\r\n    \r\n                String keyStoreType = KeyStore.getDefaultType();\r\n                KeyStore keyStore   = KeyStore.getInstance(keyStoreType);\r\n                keyStore.load(null, null);\r\n                keyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n    \r\n                String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\r\n                tmf.init(keyStore);\r\n    \r\n                SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(null, tmf.getTrustManagers(), null);\r\n    \r\n                return sslContext.getSocketFactory();\r\n    \r\n            }\r\n            catch (Exception e){\r\n                return null;\r\n            }\r\n        }\r\n\r\n3. Call like this \r\n\r\n       final OkHttpClient client = new OkHttpClient();\r\n        //pass getSSLSocketFactory() in params\r\n        client.setSslSocketFactory(getSSLSocketFactory());\r\n\r\n        String appURl = context.getString(R.string.apis_app_url);\r\n\r\n        final RestAdapter restAdapter = new RestAdapter.Builder()\r\n                .setEndpoint(appURl).setClient(new OkClient(client)).\r\n                        build();\r\n","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<ol>\n<li><p>Paste your <code>cert.pem</code> in raw folder</p>\n</li>\n<li><p>Create a method</p>\n<pre><code>private SSLSocketFactory getSSLSocketFactory(){\n    try {\n        CertificateFactory cf;\n        cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        Certificate ca;\n        InputStream cert = context.getResources().openRawResource(R.raw.cert);\n        ca = cf.generateCertificate(cert);\n        cert.close();\n\n        String keyStoreType = KeyStore.getDefaultType();\n        KeyStore keyStore   = KeyStore.getInstance(keyStoreType);\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(&quot;ca&quot;, ca);\n\n        String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\n        tmf.init(keyStore);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, tmf.getTrustManagers(), null);\n\n        return sslContext.getSocketFactory();\n\n    }\n    catch (Exception e){\n        return null;\n    }\n}\n</code></pre>\n</li>\n<li><p>Call like this</p>\n<pre><code>final OkHttpClient client = new OkHttpClient();\n //pass getSSLSocketFactory() in params\n client.setSslSocketFactory(getSSLSocketFactory());\n\n String appURl = context.getString(R.string.apis_app_url);\n\n final RestAdapter restAdapter = new RestAdapter.Builder()\n         .setEndpoint(appURl).setClient(new OkClient(client)).\n                 build();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28594770,"reputation":1,"user_id":21893193,"display_name":"–ê–Ω–≤–∞—Ä –ñ—É–º–∞–±–∞–µ–≤"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683988466,"creation_date":1683988466,"answer_id":76243249,"question_id":39264056,"body_markdown":"The answer in my case was lack of part of ssl certificate file(I had several files on my server), solution was just copy and paste all of them inside 1 file and on nginx configuration file give the path to that new file\r\n","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>The answer in my case was lack of part of ssl certificate file(I had several files on my server), solution was just copy and paste all of them inside 1 file and on nginx configuration file give the path to that new file</p>\n"}],"owner":{"account_id":2714073,"reputation":3615,"user_id":2341815,"accept_rate":59,"display_name":"Ruwanka De Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93024,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":39291151,"answer_count":3,"score":18,"last_activity_date":1693124593,"creation_date":1472711042,"question_id":39264056,"body_markdown":"There are three hosts that an android app do the authentication and authorization. Final host is the REST API. For the first time using Oauth authentication and authorization process it works without issue. \r\n\r\nBut if **user kills the app** after login and accessing the services provided by REST API and then again open the app, this issue arise. **In this time authentication and authorization process is not happening, only the REST API.** It caused to `java.security.cert.CertPathValidatorException` **but it was working during the first use (login and then use the app).**\r\n\r\nCan someone explains the scenario behind this exception and whats wrong with the app. This works if certification exceptions are ignored as bellow according to [this SO answer][1].\r\n\r\n    SSLSocketFactory sslSocketFactory = null;\r\n    \r\n            try {\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(\r\n                        TrustManagerFactory.getDefaultAlgorithm());\r\n                // Initialise the TMF as you normally would, for example:\r\n                try {\r\n                    tmf.init((KeyStore)null);\r\n                } catch(KeyStoreException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                TrustManager[] trustManagers = tmf.getTrustManagers();\r\n    \r\n                final X509TrustManager origTrustmanager = (X509TrustManager)trustManagers[0];\r\n    \r\n                // Create a trust manager that does not validate certificate chains\r\n                TrustManager[] wrappedTrustManagers = new TrustManager[]{\r\n                        new X509TrustManager() {\r\n                            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                                return origTrustmanager.getAcceptedIssuers();\r\n                            }\r\n    \r\n                            public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                                try {\r\n                                    origTrustmanager.checkClientTrusted(certs, authType);\r\n                                } catch(CertificateException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n    \r\n                            public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                                try {\r\n                                    origTrustmanager.checkServerTrusted(certs, authType);\r\n                                } catch(CertificateException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }\r\n                };\r\n                //TrustManager[] trustAllCerts = TrustManagerFactory.getInstance(&quot;SSL&quot;).getTrustManagers();\r\n    \r\n                // Install the all-trusting trust manager\r\n                final SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n                sslContext.init(null, wrappedTrustManagers, new java.security.SecureRandom());\r\n                // Create an ssl socket factory with our all-trusting manager\r\n                sslSocketFactory = sslContext.getSocketFactory();\r\n            } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return sslSocketFactory;\r\nI am using Okhttp 3 for the http requests. Any suggestion would help to solve the issue. And please let me know if I use above code snippet, is it a security violation? will it effect to the security of the app?\r\n\r\n  [1]: https://stackoverflow.com/a/8694377/2341815","title":"Android java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>There are three hosts that an android app do the authentication and authorization. Final host is the REST API. For the first time using Oauth authentication and authorization process it works without issue. </p>\n\n<p>But if <strong>user kills the app</strong> after login and accessing the services provided by REST API and then again open the app, this issue arise. <strong>In this time authentication and authorization process is not happening, only the REST API.</strong> It caused to <code>java.security.cert.CertPathValidatorException</code> <strong>but it was working during the first use (login and then use the app).</strong></p>\n\n<p>Can someone explains the scenario behind this exception and whats wrong with the app. This works if certification exceptions are ignored as bellow according to <a href=\"https://stackoverflow.com/a/8694377/2341815\">this SO answer</a>.</p>\n\n<pre><code>SSLSocketFactory sslSocketFactory = null;\n\n        try {\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(\n                    TrustManagerFactory.getDefaultAlgorithm());\n            // Initialise the TMF as you normally would, for example:\n            try {\n                tmf.init((KeyStore)null);\n            } catch(KeyStoreException e) {\n                e.printStackTrace();\n            }\n            TrustManager[] trustManagers = tmf.getTrustManagers();\n\n            final X509TrustManager origTrustmanager = (X509TrustManager)trustManagers[0];\n\n            // Create a trust manager that does not validate certificate chains\n            TrustManager[] wrappedTrustManagers = new TrustManager[]{\n                    new X509TrustManager() {\n                        public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                            return origTrustmanager.getAcceptedIssuers();\n                        }\n\n                        public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                            try {\n                                origTrustmanager.checkClientTrusted(certs, authType);\n                            } catch(CertificateException e) {\n                                e.printStackTrace();\n                            }\n                        }\n\n                        public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                            try {\n                                origTrustmanager.checkServerTrusted(certs, authType);\n                            } catch(CertificateException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    }\n            };\n            //TrustManager[] trustAllCerts = TrustManagerFactory.getInstance(\"SSL\").getTrustManagers();\n\n            // Install the all-trusting trust manager\n            final SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n            sslContext.init(null, wrappedTrustManagers, new java.security.SecureRandom());\n            // Create an ssl socket factory with our all-trusting manager\n            sslSocketFactory = sslContext.getSocketFactory();\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            e.printStackTrace();\n        }\n        return sslSocketFactory;\n</code></pre>\n\n<p>I am using Okhttp 3 for the http requests. Any suggestion would help to solve the issue. And please let me know if I use above code snippet, is it a security violation? will it effect to the security of the app?</p>\n"},{"tags":["java","android","apk","code-injection","smali"],"answers":[{"tags":[],"owner":{"account_id":1868243,"reputation":12957,"user_id":1691231,"accept_rate":67,"display_name":"FD_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583751491,"creation_date":1583751491,"answer_id":60599126,"question_id":49825498,"body_markdown":"The libs folder is for native libraries, not for JAR files. JAR files contain .class files that can be executed in a desktop JRE, but not on Android, since Android uses a different byte code format. In order to run JRE byte code on Android, the DX compiler is used to generate DEX (Dalvik executable) files.\r\nIf you want to inject the classes contained in the JAR file into an APK (and you&#39;ve obtained SMALI IR code via apk-tool), you&#39;ll have to use DX to generate a dex file from the jar, then use the baksmali tool to generate smali files that you&#39;ll then have to integrate into the folder structure of the decompiled APK.","title":"injecting jar library into apk app","body":"<p>The libs folder is for native libraries, not for JAR files. JAR files contain .class files that can be executed in a desktop JRE, but not on Android, since Android uses a different byte code format. In order to run JRE byte code on Android, the DX compiler is used to generate DEX (Dalvik executable) files.\nIf you want to inject the classes contained in the JAR file into an APK (and you've obtained SMALI IR code via apk-tool), you'll have to use DX to generate a dex file from the jar, then use the baksmali tool to generate smali files that you'll then have to integrate into the folder structure of the decompiled APK.</p>\n"}],"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1549,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1693123292,"creation_date":1523655728,"question_id":49825498,"body_markdown":"I&#39;d like to inject a jar library into an apk file to use it from smali code. \r\n\r\nHere&#39;s what I did:\r\n\r\n 1. Unpackaged the apk `apktool d -f -r  app-debug.apk`\r\n 2. Copied the jar file to the `/libs` directory of decompiled project\r\n 3. Added the call to my library to the main activity on create hook like this:\r\n \r\n        invoke-static {p0}, Lcom/example/injection/Inject;-&gt;test(Landroid/content/Context;)V\r\n\r\n\r\n 4. Repacked the apk `apktool b .`\r\n 5. Sign the generated apk using `jarsigner`\r\n 6. Then I install the app from `/dist/` dir using `adb install app-debug.apk`\r\n\r\nThe app installs sucessfuly, but instantly crashes. \r\nOn each crash the logcat outputs following message:\r\n\r\n    4-14 00:37:45.397 3016-3162/? I/logserver: extract_appname, forward search, appname=com.example.ben.myapplication\r\n    04-14 00:37:45.397 3016-3162/? I/logserver: get_fault_appname, appname=com.example.ben.myapplication\r\n    04-14 00:37:45.400 3016-3161/? I/logserver: handle_notify_event, send msg [submit:trigger=0,bugtype=2,modulename=com.example.ben.myapplication,level=1,testtype=NORMAL,path=/data/log/unzip/ALE-L21_ALE-L21C432B584_0000000000_20180414003745_crash,mode=1;]\r\n    04-14 00:37:45.688 23691-23691/com.example.ben.myapplication I/Process: Sending signal. PID: 23691 SIG: 9\r\n\r\nI run this on device , so I can&#39;t really access the crash report, but It&#39;s obviously because the `com/example/injection/Inject` is not found.\r\n\r\nI&#39;ve done injection before, but instead of adding jars I added the smali classes into the project, but I would like to try and add jar libs instead. Is there a way to do this?","title":"injecting jar library into apk app","body":"<p>I'd like to inject a jar library into an apk file to use it from smali code. </p>\n\n<p>Here's what I did:</p>\n\n<ol>\n<li>Unpackaged the apk <code>apktool d -f -r  app-debug.apk</code></li>\n<li>Copied the jar file to the <code>/libs</code> directory of decompiled project</li>\n<li><p>Added the call to my library to the main activity on create hook like this:</p>\n\n<pre><code>invoke-static {p0}, Lcom/example/injection/Inject;-&gt;test(Landroid/content/Context;)V\n</code></pre></li>\n<li><p>Repacked the apk <code>apktool b .</code></p></li>\n<li>Sign the generated apk using <code>jarsigner</code></li>\n<li>Then I install the app from <code>/dist/</code> dir using <code>adb install app-debug.apk</code></li>\n</ol>\n\n<p>The app installs sucessfuly, but instantly crashes. \nOn each crash the logcat outputs following message:</p>\n\n<pre><code>4-14 00:37:45.397 3016-3162/? I/logserver: extract_appname, forward search, appname=com.example.ben.myapplication\n04-14 00:37:45.397 3016-3162/? I/logserver: get_fault_appname, appname=com.example.ben.myapplication\n04-14 00:37:45.400 3016-3161/? I/logserver: handle_notify_event, send msg [submit:trigger=0,bugtype=2,modulename=com.example.ben.myapplication,level=1,testtype=NORMAL,path=/data/log/unzip/ALE-L21_ALE-L21C432B584_0000000000_20180414003745_crash,mode=1;]\n04-14 00:37:45.688 23691-23691/com.example.ben.myapplication I/Process: Sending signal. PID: 23691 SIG: 9\n</code></pre>\n\n<p>I run this on device , so I can't really access the crash report, but It's obviously because the <code>com/example/injection/Inject</code> is not found.</p>\n\n<p>I've done injection before, but instead of adding jars I added the smali classes into the project, but I would like to try and add jar libs instead. Is there a way to do this?</p>\n"},{"tags":["java","android","facebook-android-sdk","keytool"],"comments":[{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":13,"creation_date":1344578772,"post_id":11896304,"comment_id":15833925,"body_markdown":"Download and install [OpenSSL](http://www.openssl.org/).","body":"Download and install <a href=\"http://www.openssl.org/\" rel=\"nofollow noreferrer\">OpenSSL</a>."},{"owner":{"account_id":1452454,"reputation":2765,"user_id":1368964,"accept_rate":82,"display_name":"Khurram W. Malik"},"score":2,"creation_date":1344579972,"post_id":11896304,"comment_id":15834264,"body_markdown":"I downloaded 3 of them no one is compatible :/","body":"I downloaded 3 of them no one is compatible :/"},{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":1,"creation_date":1344580114,"post_id":11896304,"comment_id":15834316,"body_markdown":"What does that mean, khurram?","body":"What does that mean, khurram?"},{"owner":{"account_id":1452454,"reputation":2765,"user_id":1368964,"accept_rate":82,"display_name":"Khurram W. Malik"},"score":1,"creation_date":1344580364,"post_id":11896304,"comment_id":15834393,"body_markdown":"I downloaded many versions of openssl from the link u gave but each of them gives an error before installation that it isnt compatible with windows 7- 64 bit. Can you tell me the exact openssl i require","body":"I downloaded many versions of openssl from the link u gave but each of them gives an error before installation that it isnt compatible with windows 7- 64 bit. Can you tell me the exact openssl i require"},{"owner":{"account_id":434458,"reputation":8942,"user_id":820443,"accept_rate":46,"display_name":"Usama Sarwar"},"score":3,"creation_date":1344581368,"post_id":11896304,"comment_id":15834687,"body_markdown":"you can get it from the link I have posted in my ans below...","body":"you can get it from the link I have posted in my ans below..."},{"owner":{"account_id":212305,"reputation":24681,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1638425574,"post_id":11896304,"comment_id":124085849,"body_markdown":"Related post - [How to install OpenSSL in windows 10?](https://stackoverflow.com/q/50625283/465053)","body":"Related post - <a href=\"https://stackoverflow.com/q/50625283/465053\">How to install OpenSSL in windows 10?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1268658,"reputation":14001,"user_id":1225413,"accept_rate":80,"display_name":"Akhil Jain"},"score":1,"creation_date":1361072308,"post_id":11896406,"comment_id":20929069,"body_markdown":"it says c:\\openssl\\bin\\openssl is not recognized","body":"it says c:\\openssl\\bin\\openssl is not recognized"},{"owner":{"account_id":1548368,"reputation":701,"user_id":1441326,"display_name":"AnhSirk Dasarp"},"score":7,"creation_date":1377589545,"post_id":11896406,"comment_id":27128896,"body_markdown":"a better way would be to execute the original command from openssl/bin directory. I.e if my openssl directory is in C:dev, I would move to C:\\dev\\openssl\\bin, and execute the command  as it is","body":"a better way would be to execute the original command from openssl/bin directory. I.e if my openssl directory is in C:dev, I would move to C:\\dev\\openssl\\bin, and execute the command  as it is"},{"owner":{"account_id":1285426,"reputation":547,"user_id":1238614,"accept_rate":53,"display_name":"phanhongphucit"},"score":2,"creation_date":1381511092,"post_id":11896406,"comment_id":28622804,"body_markdown":"you should point out the openssl.exe file: exportcert -alias androiddebugkey -keystore ~/.android\n/debug.keystore | &quot;C:\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\openssl\\bin\\op\nenssl.exe&quot; base64","body":"you should point out the openssl.exe file: exportcert -alias androiddebugkey -keystore ~/.android /debug.keystore | &quot;C:\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\openssl\\bin\\op enssl.exe&quot; base64"},{"owner":{"account_id":1768156,"reputation":2449,"user_id":1613508,"accept_rate":79,"display_name":"surhidamatya"},"score":0,"creation_date":1384509622,"post_id":11896406,"comment_id":29774935,"body_markdown":"@LatentBoy yess you are right. your way worked for me. Thanks alot.","body":"@LatentBoy yess you are right. your way worked for me. Thanks alot."},{"owner":{"account_id":4736415,"reputation":9019,"user_id":3830694,"accept_rate":78,"display_name":"Krupal Shah"},"score":0,"creation_date":1412266434,"post_id":11896406,"comment_id":41020117,"body_markdown":"thanks...after trying about an hour, your answer worked for me","body":"thanks...after trying about an hour, your answer worked for me"},{"owner":{"account_id":944248,"reputation":141,"user_id":971819,"accept_rate":25,"display_name":"Harsha"},"score":0,"creation_date":1414648397,"post_id":11896406,"comment_id":41897454,"body_markdown":"can you suggest openssl for windows32bit plse","body":"can you suggest openssl for windows32bit plse"},{"owner":{"account_id":434458,"reputation":8942,"user_id":820443,"accept_rate":46,"display_name":"Usama Sarwar"},"score":0,"creation_date":1416509510,"post_id":11896406,"comment_id":42612668,"body_markdown":"@Harsha Please see the edit section, now it has got OPenSSL link for 32 bits as well.","body":"@Harsha Please see the edit section, now it has got OPenSSL link for 32 bits as well."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1472930957,"post_id":11896406,"comment_id":65953970,"body_markdown":"Usama : Could you please guide on the issue http://stackoverflow.com/questions/38935267/how-to-create-keystore-jks-and-create-private-der-and-public-der-cert-file ?","body":"Usama : Could you please guide on the issue <a href=\"http://stackoverflow.com/questions/38935267/how-to-create-keystore-jks-and-create-private-der-and-public-der-cert-file\" title=\"how to create keystore jks and create private der and public der cert file\">stackoverflow.com/questions/38935267/&hellip;</a> ?"},{"owner":{"account_id":1741826,"reputation":1818,"user_id":1593007,"accept_rate":76,"display_name":"nww04"},"score":0,"creation_date":1476763487,"post_id":11896406,"comment_id":67470934,"body_markdown":"The download links available seems to be source files and so it doesn&#39;t contain binary files which I believe I may have to build myself out of the box. Where can I get the official binary files?","body":"The download links available seems to be source files and so it doesn&#39;t contain binary files which I believe I may have to build myself out of the box. Where can I get the official binary files?"},{"owner":{"account_id":5317826,"reputation":7135,"user_id":4242086,"accept_rate":100,"display_name":"Jaime Montoya"},"score":0,"creation_date":1487959443,"post_id":11896406,"comment_id":72034303,"body_markdown":"It should be something like this: C:\\Program Files\\Java\\jre1.8.0_111\\bin&gt;keytool -exportcert -alias androiddebugkey -keystore C:\\Users\\jaimemontoya\\.android\\debug.keystore | &quot;C:\\Program Files (x86)\\GnuWin32\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Program Files (x86)\\GnuWin32\\bin\\openssl.exe&quot; base64","body":"It should be something like this: C:\\Program Files\\Java\\jre1.8.0_111\\bin&gt;keytool -exportcert -alias androiddebugkey -keystore C:\\Users\\jaimemontoya\\.android\\debug.keystore | &quot;C:\\Program Files (x86)\\GnuWin32\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Program Files (x86)\\GnuWin32\\bin\\openssl.exe&quot; base64"},{"owner":{"account_id":3398878,"reputation":10368,"user_id":2851687,"accept_rate":82,"display_name":"ralphgabb"},"score":0,"creation_date":1505993447,"post_id":11896406,"comment_id":79645375,"body_markdown":"&#39;&quot;C:\\OpenSSL\\bin.openssl.exe&quot;&#39; is not recognized as an internal or external command,\noperable program or batch file.","body":"&#39;&quot;C:\\OpenSSL\\bin.openssl.exe&quot;&#39; is not recognized as an internal or external command, operable program or batch file."},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":0,"creation_date":1539675312,"post_id":11896406,"comment_id":92576743,"body_markdown":"FYI: Usually the debug.keystore password is just &quot;android&quot;.","body":"FYI: Usually the debug.keystore password is just &quot;android&quot;."},{"owner":{"account_id":14278548,"reputation":378,"user_id":10313881,"display_name":"Paul Grei"},"score":0,"creation_date":1633450135,"post_id":11896406,"comment_id":122760820,"body_markdown":"Remove double quotes and it will work :) \n like so :\nkeytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | C:\\openssl\\bin\\openssl.exe sha1 -binary | C:\\openssl\\bin\\openssl.exe base64","body":"Remove double quotes and it will work :)   like so : keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | C:\\openssl\\bin\\openssl.exe sha1 -binary | C:\\openssl\\bin\\openssl.exe base64"}],"tags":[],"owner":{"account_id":434458,"reputation":8942,"user_id":820443,"accept_rate":46,"display_name":"Usama Sarwar"},"comment_count":13,"down_vote_count":0,"up_vote_count":440,"is_accepted":true,"score":440,"last_activity_date":1643268325,"creation_date":1344579344,"answer_id":11896406,"question_id":11896304,"body_markdown":"Well at the place of OpenSSL ... you have to put actually the path to your OpenSSL folder that you have downloaded. Your actual command should look like this:\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; base64\r\n\r\nRemember, the path that you will enter will be the path where you have installed the OpenSSL.\r\n\r\n**Edit:**\r\n\r\nyou can download OpenSSL for windows 32 and 64 bit from the respective links below:\r\n\r\n[OpenSSL for 64 Bits][1] \r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip\r\n\r\n\r\n[OpenSSL for 32 Bits][2]\r\n\r\n[2]: https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip","title":"Openssl is not recognized as an internal or external command","body":"<p>Well at the place of OpenSSL ... you have to put actually the path to your OpenSSL folder that you have downloaded. Your actual command should look like this:</p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\abc\\openssl\\bin\\openssl.exe&quot; base64\n</code></pre>\n<p>Remember, the path that you will enter will be the path where you have installed the OpenSSL.</p>\n<p><strong>Edit:</strong></p>\n<p>you can download OpenSSL for windows 32 and 64 bit from the respective links below:</p>\n<p><a href=\"http://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip\" rel=\"noreferrer\">OpenSSL for 64 Bits</a></p>\n<p><a href=\"https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_WIN32.zip\" rel=\"noreferrer\">OpenSSL for 32 Bits</a></p>\n"},{"tags":[],"owner":{"account_id":1212700,"reputation":1949,"user_id":1180954,"accept_rate":57,"display_name":"Siddiq Abu Bakkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1347070078,"creation_date":1347070078,"answer_id":12327481,"question_id":11896304,"body_markdown":"\r\nThis is worked for me successfully.\r\n\r\n**&quot;C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe&quot; -exportcert -alias sociallisting -keystore &quot;D:\\keystore\\SocialListing&quot; | &quot;C:\\cygwin\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\cygwin\\bin\\openssl.exe&quot; base64**\r\n\r\nBe careful with below path :\r\n\r\n- **&quot;C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe&quot;**\r\n- **&quot;D:\\keystore\\SocialListing&quot;** or it can be like this &quot;**C:\\Users\\Shaon\\.android\\debug.keystore**&quot;\r\n- **&quot;C:\\cygwin\\bin\\openssl.exe&quot;** or can be like this **C:\\Users\\openssl\\bin\\openssl.exe**\r\n\r\nIf command successfully work then you will see this command :\r\n\r\n**Enter keystore password : typeyourpassword**\r\n\r\n**Encryptedhashkey****","title":"Openssl is not recognized as an internal or external command","body":"<p>This is worked for me successfully.</p>\n\n<p><strong>\"C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe\" -exportcert -alias sociallisting -keystore \"D:\\keystore\\SocialListing\" | \"C:\\cygwin\\bin\\openssl.exe\" sha1 -binary | \"C:\\cygwin\\bin\\openssl.exe\" base64</strong></p>\n\n<p>Be careful with below path :</p>\n\n<ul>\n<li><strong>\"C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe\"</strong></li>\n<li><strong>\"D:\\keystore\\SocialListing\"</strong> or it can be like this \"<strong>C:\\Users\\Shaon.android\\debug.keystore</strong>\"</li>\n<li><strong>\"C:\\cygwin\\bin\\openssl.exe\"</strong> or can be like this <strong>C:\\Users\\openssl\\bin\\openssl.exe</strong></li>\n</ul>\n\n<p>If command successfully work then you will see this command :</p>\n\n<p><strong>Enter keystore password : typeyourpassword</strong></p>\n\n<p><strong>Encryptedhashkey**</strong></p>\n"},{"tags":[],"owner":{"account_id":1476585,"reputation":53,"user_id":1386835,"display_name":"Haze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352376034,"creation_date":1352376034,"answer_id":13288696,"question_id":11896304,"body_markdown":"For those looking for a more recent location to install a windows binary version of openssl (32bit and 64bit) you can find it here:\r\n\r\nhttp://slproweb.com/products/Win32OpenSSL.html\r\n\r\nAn up to date list of websites that offer binary distributions is here\r\n\r\nhttp://www.openssl.org/related/binaries.html","title":"Openssl is not recognized as an internal or external command","body":"<p>For those looking for a more recent location to install a windows binary version of openssl (32bit and 64bit) you can find it here:</p>\n\n<p><a href=\"http://slproweb.com/products/Win32OpenSSL.html\" rel=\"nofollow\">http://slproweb.com/products/Win32OpenSSL.html</a></p>\n\n<p>An up to date list of websites that offer binary distributions is here</p>\n\n<p><a href=\"http://www.openssl.org/related/binaries.html\" rel=\"nofollow\">http://www.openssl.org/related/binaries.html</a></p>\n"},{"tags":[],"owner":{"account_id":2562209,"reputation":960,"user_id":2223122,"accept_rate":60,"display_name":"Kaloyan Drenski"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1364527240,"creation_date":1364527240,"answer_id":15696810,"question_id":11896304,"body_markdown":"Use the entire path, like this:\r\n\r\n    exportcert -alias androiddebugkey -keystore ~/.android\r\n    /debug.keystore | &quot;C:\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\openssl\\bin\\op\r\n    enssl.exe&quot; base64\r\n\r\nIt worked for me. ","title":"Openssl is not recognized as an internal or external command","body":"<p>Use the entire path, like this:</p>\n\n<pre><code>exportcert -alias androiddebugkey -keystore ~/.android\n/debug.keystore | \"C:\\openssl\\bin\\openssl.exe\" sha1 -binary | \"C:\\openssl\\bin\\op\nenssl.exe\" base64\n</code></pre>\n\n<p>It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":2443196,"reputation":21,"user_id":2131152,"display_name":"Nguy·ªÖn Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365498570,"creation_date":1365497478,"answer_id":15897418,"question_id":11896304,"body_markdown":"I used this code: \r\n\r\nThis is worked for me successfully.\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe&quot; -exportcert -alias sociallisting -\r\n    keystore &quot;D:\\keystore\\SocialListing&quot; | &quot;C:\\cygwin\\bin\\openssl.exe&quot; sha1 -binary | \r\n    &quot;C:\\cygwin\\bin\\openssl.exe&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>I used this code: </p>\n\n<p>This is worked for me successfully.</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk1.6.0_26\\bin\\keytool.exe\" -exportcert -alias sociallisting -\nkeystore \"D:\\keystore\\SocialListing\" | \"C:\\cygwin\\bin\\openssl.exe\" sha1 -binary | \n\"C:\\cygwin\\bin\\openssl.exe\" base64\n</code></pre>\n"},{"comments":[{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":0,"creation_date":1539675304,"post_id":16263688,"comment_id":92576740,"body_markdown":"FYI: Usually the debug.keystore password is just &quot;android&quot;.","body":"FYI: Usually the debug.keystore password is just &quot;android&quot;."},{"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"score":0,"creation_date":1643806526,"post_id":16263688,"comment_id":125436070,"body_markdown":"It is good idea to add path in system environment variable","body":"It is good idea to add path in system environment variable"}],"tags":[],"owner":{"account_id":2259843,"reputation":766,"user_id":1990207,"display_name":"GAURAV KUMAR GUPTA"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1367161055,"creation_date":1367158070,"answer_id":16263688,"question_id":11896304,"body_markdown":"Please follow these step, I hope your key working properly:\r\n\r\n1. **Step 1** You will  need  OpenSSL. You can download the binary from [openssl-for-windows](https://code.google.com/p/openssl-for-windows/) project on Google Code.\r\n\r\n2. **Step 2** Unzip the folder, then copy the path to the `bin` folder to the clipboard.\r\n\r\n  For example, if the file is unzipped to the location `C:\\Users\\gaurav\\openssl-0.9.8k_WIN32`, then copy the path `C:\\Users\\gaurav\\openssl-0.9.8k_WIN32\\bin`.\r\n\r\n3. **Step 3** Add the path to your system environment path. After your `PATH` environment variable is set, open the cmd and type this command:\r\n\r\n        C:\\&gt;keytool -exportcert -alias androiddebugkey -keystore [path to debug.keystore] | openssl sha1 -binary | openssl base64\r\n\r\n  Type your password when prompted. If the command works, then you will be shown a key.\r\n\r\n ","title":"Openssl is not recognized as an internal or external command","body":"<p>Please follow these step, I hope your key working properly:</p>\n\n<ol>\n<li><p><strong>Step 1</strong> You will  need  OpenSSL. You can download the binary from <a href=\"https://code.google.com/p/openssl-for-windows/\" rel=\"noreferrer\">openssl-for-windows</a> project on Google Code.</p></li>\n<li><p><strong>Step 2</strong> Unzip the folder, then copy the path to the <code>bin</code> folder to the clipboard.</p>\n\n<p>For example, if the file is unzipped to the location <code>C:\\Users\\gaurav\\openssl-0.9.8k_WIN32</code>, then copy the path <code>C:\\Users\\gaurav\\openssl-0.9.8k_WIN32\\bin</code>.</p></li>\n<li><p><strong>Step 3</strong> Add the path to your system environment path. After your <code>PATH</code> environment variable is set, open the cmd and type this command:</p>\n\n<pre><code>C:\\&gt;keytool -exportcert -alias androiddebugkey -keystore [path to debug.keystore] | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>Type your password when prompted. If the command works, then you will be shown a key.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":176090,"reputation":2064,"user_id":406544,"accept_rate":44,"display_name":"Nirav Shah"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1367489476,"creation_date":1367489476,"answer_id":16335429,"question_id":11896304,"body_markdown":"It is not guaranteed that generating hashkey with this single openssl method will work.\r\nIf it does not work for me. But thanks for giving me a direction to solve my issue.\r\n\r\n\r\nGuaranteed Solution :\r\nYou need to break the whole command in separate commands and have to write output of every execution in file.\r\n\r\nYou can take the help from the following link :\r\n\r\nhttp://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1\r\n\r\nEnjoy :)","title":"Openssl is not recognized as an internal or external command","body":"<p>It is not guaranteed that generating hashkey with this single openssl method will work.\nIf it does not work for me. But thanks for giving me a direction to solve my issue.</p>\n\n<p>Guaranteed Solution :\nYou need to break the whole command in separate commands and have to write output of every execution in file.</p>\n\n<p>You can take the help from the following link :</p>\n\n<p><a href=\"http://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1\" rel=\"nofollow\">http://www.helloandroid.com/tutorials/using-facebook-sdk-android-development-part-1</a></p>\n\n<p>Enjoy :)</p>\n"},{"comments":[{"owner":{"account_id":3056412,"reputation":386,"user_id":2589909,"display_name":"Azahar"},"score":0,"creation_date":1385208012,"post_id":20162015,"comment_id":30054118,"body_markdown":"must download openssl from here  https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip and copy bin folder and paste to C:\\openssl\\","body":"must download openssl from here  <a href=\"https://code.google.com/p/openssl-for-windows/downloads/detail?name=openssl-0.9.8k_X64.zip\" rel=\"nofollow noreferrer\">code.google.com/p/openssl-for-windows/downloads/&hellip;</a> and copy bin folder and paste to C:\\openssl\\"}],"tags":[],"owner":{"account_id":3056412,"reputation":386,"user_id":2589909,"display_name":"Azahar"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1385207928,"creation_date":1385207928,"answer_id":20162015,"question_id":11896304,"body_markdown":"use this worked for me. please change your Path\r\n\r\nC:\\Program Files\\Java\\jre7\\bin  keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\Ace\\.android\\debug.keystore&quot; | &quot;C:\\openssl\\bin\r\n\r\n\\openssl.exe&quot; sha1 -binary | &quot;C:\\openssl\\bin\\openssl.exe&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>use this worked for me. please change your Path</p>\n\n<p>C:\\Program Files\\Java\\jre7\\bin  keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\Ace.android\\debug.keystore\" | \"C:\\openssl\\bin</p>\n\n<p>\\openssl.exe\" sha1 -binary | \"C:\\openssl\\bin\\openssl.exe\" base64</p>\n"},{"tags":[],"owner":{"account_id":2836926,"reputation":83,"user_id":2437356,"accept_rate":25,"display_name":"Vibhor Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1407823693,"creation_date":1407823693,"answer_id":25257258,"question_id":11896304,"body_markdown":"First navigate to your Java/jre/bin folder in cmd\r\ncd c:\\Program Files (x86)\\Java\\jre7\\bin\r\n\r\nThen use : [change debug.keystore path to the correct location on your system]\r\ninstall openssl (for windows 32 or 64 as per your needs at c:\\openssl )\r\n\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\vibhor\\.android\\debug.keystore&quot; | &quot;c:\\openssl\\bin\\openssl.exe&quot; sha1 -binary | &quot;c:\\openssl\\bin\\openssl.exe&quot; base64\r\n\r\n\r\nSo the whole command goes like this : [prompts to enter keystore password on execution ]\r\n\r\n    c:\\Program Files (x86)\\Java\\jre7\\bin&gt;keytool -exportcert -alias androiddebugkey\r\n    -keystore &quot;C:\\Users\\vibhor\\.android\\debug.keystore&quot; | &quot;c:\\openssl\\bin\\openssl.ex\r\n    e&quot; sha1 -binary | &quot;c:\\openssl\\bin\\openssl.exe&quot; base64\r\n    Enter keystore password:\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p>First navigate to your Java/jre/bin folder in cmd\ncd c:\\Program Files (x86)\\Java\\jre7\\bin</p>\n\n<p>Then use : [change debug.keystore path to the correct location on your system]\ninstall openssl (for windows 32 or 64 as per your needs at c:\\openssl )</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\vibhor\\.android\\debug.keystore\" | \"c:\\openssl\\bin\\openssl.exe\" sha1 -binary | \"c:\\openssl\\bin\\openssl.exe\" base64\n</code></pre>\n\n<p>So the whole command goes like this : [prompts to enter keystore password on execution ]</p>\n\n<pre><code>c:\\Program Files (x86)\\Java\\jre7\\bin&gt;keytool -exportcert -alias androiddebugkey\n-keystore \"C:\\Users\\vibhor\\.android\\debug.keystore\" | \"c:\\openssl\\bin\\openssl.ex\ne\" sha1 -binary | \"c:\\openssl\\bin\\openssl.exe\" base64\nEnter keystore password:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647635,"reputation":4557,"user_id":2290017,"accept_rate":38,"display_name":"DjP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412057336,"creation_date":1412057336,"answer_id":26113891,"question_id":11896304,"body_markdown":"go to bin folder path in cmd and then run following command \r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nyou will get your key hash  ","title":"Openssl is not recognized as an internal or external command","body":"<p>go to bin folder path in cmd and then run following command </p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>you will get your key hash  </p>\n"},{"tags":[],"owner":{"account_id":1323802,"reputation":2010,"user_id":1269074,"accept_rate":67,"display_name":"Oladipo Olasemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416512647,"creation_date":1416512647,"answer_id":27048148,"question_id":11896304,"body_markdown":"for windows users download open ssl from google&#39;s code repository https://code.google.com/p/openssl-for-windows/downloads/list\r\n\r\nAfter the download, extract the contents to a folder preferably in your c: drive.\r\n\r\nThen update your PATH environment variable so you can use the .exe from any location in your command line.\r\n\r\n[windows 8] To update your PATH environment variable, click my computer-&gt;properties-&gt;Advanced System Settings.\r\n\r\nClick the Advanced Tab and click the &#39;Environment Variable&#39; button at the bottom of the dialog then select the Path entry from the &#39;System Variables&#39; Section by clicking edit.\r\n\r\nPaste the path to the bin folder of the extracted openssl download and click ok.\r\n\r\nYou will need to close and open and command prompt you may have previously launched so that you can load the updated path settings.\r\n\r\nNow run this command:\r\n\r\nkeytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\Oladipo\\.android\\debug.keystore&quot; | openssl sha1 -binary | openssl base64\r\n\r\nYou should see the developer key.\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p>for windows users download open ssl from google's code repository <a href=\"https://code.google.com/p/openssl-for-windows/downloads/list\" rel=\"nofollow\">https://code.google.com/p/openssl-for-windows/downloads/list</a></p>\n\n<p>After the download, extract the contents to a folder preferably in your c: drive.</p>\n\n<p>Then update your PATH environment variable so you can use the .exe from any location in your command line.</p>\n\n<p>[windows 8] To update your PATH environment variable, click my computer->properties->Advanced System Settings.</p>\n\n<p>Click the Advanced Tab and click the 'Environment Variable' button at the bottom of the dialog then select the Path entry from the 'System Variables' Section by clicking edit.</p>\n\n<p>Paste the path to the bin folder of the extracted openssl download and click ok.</p>\n\n<p>You will need to close and open and command prompt you may have previously launched so that you can load the updated path settings.</p>\n\n<p>Now run this command:</p>\n\n<p>keytool -exportcert -alias androiddebugkey -keystore \"C:\\Users\\Oladipo.android\\debug.keystore\" | openssl sha1 -binary | openssl base64</p>\n\n<p>You should see the developer key.</p>\n"},{"comments":[{"owner":{"account_id":3971066,"reputation":11227,"user_id":3275665,"accept_rate":97,"display_name":"Ionut Necula"},"score":0,"creation_date":1503995713,"post_id":30223019,"comment_id":78826798,"body_markdown":"What `bin` folder are you refering to in the second step?","body":"What <code>bin</code> folder are you refering to in the second step?"}],"tags":[],"owner":{"account_id":5515933,"reputation":305,"user_id":4380716,"display_name":"sandhu"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1431543659,"creation_date":1431543044,"answer_id":30223019,"question_id":11896304,"body_markdown":"    Steps to create Hash Key. \r\n    1: Download openssl from Openssl for Windows . I downloaded the Win64 version \r\n    2:Unzip and copy all the files in the bin folder including openssl.exe(All file of bin folder) \r\n    3:Goto to the folder where you installed JDK for me it‚Äôs C:\\Program Files\\Java\\jdk1.8.0_05\\bin \r\n    4:Paste all the files you copied from Openssl‚Äôs bin folder to the Jdk folder. \r\nthen go  C:\\Program Files\\Java\\jdk1.8.0_05\\bin and press shift key and right click and open cmd \r\n    \r\n    C:\\Program Files\\Java\\jdk1.8.0_05\\bin&gt;//cmd path \r\n**that is for Sha1  past this**                           \r\nkeytool -exportcert -alias androiddebugkey -keystore  &quot;C:\\User\\ABC\\\\.android.keystore&quot; | openssl sha1 -binary | openssl base64      \r\n  //and ABC is system name put own system name\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<pre><code>Steps to create Hash Key. \n1: Download openssl from Openssl for Windows . I downloaded the Win64 version \n2:Unzip and copy all the files in the bin folder including openssl.exe(All file of bin folder) \n3:Goto to the folder where you installed JDK for me it‚Äôs C:\\Program Files\\Java\\jdk1.8.0_05\\bin \n4:Paste all the files you copied from Openssl‚Äôs bin folder to the Jdk folder. \n</code></pre>\n\n<p>then go  C:\\Program Files\\Java\\jdk1.8.0_05\\bin and press shift key and right click and open cmd </p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_05\\bin&gt;//cmd path \n</code></pre>\n\n<p><strong>that is for Sha1  past this</strong><br>\nkeytool -exportcert -alias androiddebugkey -keystore  \"C:\\User\\ABC\\.android.keystore\" | openssl sha1 -binary | openssl base64<br>\n  //and ABC is system name put own system name</p>\n"},{"comments":[{"owner":{"account_id":4587178,"reputation":5937,"user_id":5096562,"accept_rate":57,"display_name":"MetaSnarf"},"score":0,"creation_date":1488036409,"post_id":38782208,"comment_id":72058307,"body_markdown":"does this work for release version of facebook? if not how?","body":"does this work for release version of facebook? if not how?"},{"owner":{"account_id":7793970,"reputation":5199,"user_id":5895830,"accept_rate":82,"display_name":"Sagar Chavada"},"score":0,"creation_date":1488036618,"post_id":38782208,"comment_id":72058379,"body_markdown":"This code is used to generate keyhash. And its same key for release too. For release version make sure that you set  public access in facebook developer console.","body":"This code is used to generate keyhash. And its same key for release too. For release version make sure that you set  public access in facebook developer console."},{"owner":{"account_id":7865322,"reputation":408,"user_id":5944285,"accept_rate":100,"display_name":"Yesha Shah"},"score":0,"creation_date":1541229069,"post_id":38782208,"comment_id":93152483,"body_markdown":"Getting error &quot; Both context and applicationId must be non-null&quot;, when used above code. @SagarChavada","body":"Getting error &quot; Both context and applicationId must be non-null&quot;, when used above code. @SagarChavada"}],"tags":[],"owner":{"account_id":7793970,"reputation":5199,"user_id":5895830,"accept_rate":82,"display_name":"Sagar Chavada"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1541231708,"creation_date":1470377195,"answer_id":38782208,"question_id":11896304,"body_markdown":"it&#39;s late answer but it will help to lazy people like me.. add this code to your Application class, there is no need to download openssl and no need to set the path.. only need is just copy this code.. and keyHash will generated in log.\r\n\r\n    import com.facebook.FacebookSdk;\r\n    public class MyApplication extends Application {\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            FacebookSdk.sdkInitialize(getApplicationContext());\r\n            AppEventsLogger.activateApp(this);\r\n            printKeyHash();\r\n        }\r\n    \r\n        private void printKeyHash() {\r\n            try {\r\n                PackageInfo info = getPackageManager().getPackageInfo(\r\n                        getPackageName(), PackageManager.GET_SIGNATURES);\r\n                for (Signature signature : info.signatures) {\r\n                    MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);\r\n                    md.update(signature.toByteArray());\r\n                    Log.i(&quot;KeyHash:&quot;,\r\n                            Base64.encodeToString(md.digest(), Base64.DEFAULT));\r\n                }\r\n            } catch (PackageManager.NameNotFoundException e) {\r\n                Log.e(&quot;jk&quot;, &quot;Exception(NameNotFoundException) : &quot; + e);\r\n            } catch (NoSuchAlgorithmException e) {\r\n                Log.e(&quot;mkm&quot;, &quot;Exception(NoSuchAlgorithmException) : &quot; + e);\r\n            }\r\n        }\r\n    }\r\n\r\nand do not forget add MyApplication class in manifest:\r\n\r\n    &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n    &lt;/application&gt;","title":"Openssl is not recognized as an internal or external command","body":"<p>it's late answer but it will help to lazy people like me.. add this code to your Application class, there is no need to download openssl and no need to set the path.. only need is just copy this code.. and keyHash will generated in log.</p>\n\n<pre><code>import com.facebook.FacebookSdk;\npublic class MyApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        FacebookSdk.sdkInitialize(getApplicationContext());\n        AppEventsLogger.activateApp(this);\n        printKeyHash();\n    }\n\n    private void printKeyHash() {\n        try {\n            PackageInfo info = getPackageManager().getPackageInfo(\n                    getPackageName(), PackageManager.GET_SIGNATURES);\n            for (Signature signature : info.signatures) {\n                MessageDigest md = MessageDigest.getInstance(\"SHA\");\n                md.update(signature.toByteArray());\n                Log.i(\"KeyHash:\",\n                        Base64.encodeToString(md.digest(), Base64.DEFAULT));\n            }\n        } catch (PackageManager.NameNotFoundException e) {\n            Log.e(\"jk\", \"Exception(NameNotFoundException) : \" + e);\n        } catch (NoSuchAlgorithmException e) {\n            Log.e(\"mkm\", \"Exception(NoSuchAlgorithmException) : \" + e);\n        }\n    }\n}\n</code></pre>\n\n<p>and do not forget add MyApplication class in manifest:</p>\n\n<pre><code>&lt;application\n        android:name=\".MyApplication\"\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495797881,"creation_date":1495796540,"answer_id":44199907,"question_id":11896304,"body_markdown":"**Downloads and Unzip**\r\n    \r\nYou can download openssl for windows 32 and 64 bit from the respective links below:\r\n    \r\nhttps://code.google.com/archive/p/openssl-for-windows/downloads\r\n    \r\nOpenSSL for 64 Bits  OpenSSL for 32 Bits\r\n    \r\n    keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | **&quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe&quot; sha1 -binary | **&quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe&quot; base64\r\n    \r\n**Important**  change our path Here as well as install open ssl in your system\r\n    \r\nIt&#39;s Working No Doubt\r\n    \r\n    C:\\Users\\keshav.gera&gt;keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | &quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe&quot; base64\r\n    \r\nEnter keystore password:  **android**\r\n    \r\n    **ZrRtxw36xWNYL+h3aJdcCeQQxi0=**\r\n    \r\n    \r\n=============================================================\r\nusing Manually  through Coding\r\n=============================================================\r\n\r\n    import android.content.pm.PackageInfo;\r\n    import android.content.pm.PackageManager;\r\n    import android.content.pm.Signature;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    \r\n    private void PrintHashKey() {\r\n    \r\n            try {\r\n                PackageInfo info = getPackageManager().getPackageInfo(&quot;**com.keshav.patanjalidemo  Your Package Name Here**&quot;, PackageManager.GET_SIGNATURES);\r\n                for (Signature signature : info.signatures) {\r\n                    MessageDigest md = MessageDigest.getInstance(&quot;SHA&quot;);        \r\n                    md.update(signature.toByteArray());\r\n                    Log.d(&quot;KeyHash:&quot;, Base64.encodeToString(md.digest(), Base64.DEFAULT));\r\n                }\r\n            } catch (PackageManager.NameNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p><strong>Downloads and Unzip</strong></p>\n\n<p>You can download openssl for windows 32 and 64 bit from the respective links below:</p>\n\n<p><a href=\"https://code.google.com/archive/p/openssl-for-windows/downloads\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/openssl-for-windows/downloads</a></p>\n\n<p>OpenSSL for 64 Bits  OpenSSL for 32 Bits</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | **\"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe\" sha1 -binary | **\"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin**\\openssl.exe\" base64\n</code></pre>\n\n<p><strong>Important</strong>  change our path Here as well as install open ssl in your system</p>\n\n<p>It's Working No Doubt</p>\n\n<pre><code>C:\\Users\\keshav.gera&gt;keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\\.android\\debug.keystore | \"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe\" sha1 -binary | \"C:\\Users\\keshav.gera\\openssl-0.9.8k_X64\\bin\\openssl.exe\" base64\n</code></pre>\n\n<p>Enter keystore password:  <strong>android</strong></p>\n\n<pre><code>**ZrRtxw36xWNYL+h3aJdcCeQQxi0=**\n</code></pre>\n\n<p>=============================================================</p>\n\n<h1>using Manually  through Coding</h1>\n\n<pre><code>import android.content.pm.PackageInfo;\nimport android.content.pm.PackageManager;\nimport android.content.pm.Signature;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\n\n\nprivate void PrintHashKey() {\n\n        try {\n            PackageInfo info = getPackageManager().getPackageInfo(\"**com.keshav.patanjalidemo  Your Package Name Here**\", PackageManager.GET_SIGNATURES);\n            for (Signature signature : info.signatures) {\n                MessageDigest md = MessageDigest.getInstance(\"SHA\");        \n                md.update(signature.toByteArray());\n                Log.d(\"KeyHash:\", Base64.encodeToString(md.digest(), Base64.DEFAULT));\n            }\n        } catch (PackageManager.NameNotFoundException e) {\n            e.printStackTrace();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6979896,"reputation":67,"user_id":5353234,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504944683,"creation_date":1504933552,"answer_id":46127304,"question_id":11896304,"body_markdown":"This works for me:\r\n\r\n    C:\\Users\\example&gt;keytool -exportcert -alias androiddebugkey -keystore \r\n    &quot;C:\\Users\\example\\.android&quot; | &quot;C:\\openssl\\bin\\openssl.exe&quot; sha1 -binary \r\n    | &quot;C:\\openssl\\bin\\oenssl.exe&quot; base64\r\n","title":"Openssl is not recognized as an internal or external command","body":"<p>This works for me:</p>\n\n<pre><code>C:\\Users\\example&gt;keytool -exportcert -alias androiddebugkey -keystore \n\"C:\\Users\\example\\.android\" | \"C:\\openssl\\bin\\openssl.exe\" sha1 -binary \n| \"C:\\openssl\\bin\\oenssl.exe\" base64\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"score":0,"creation_date":1633125638,"post_id":65071474,"comment_id":122686256,"body_markdown":"This worked.. Thank you","body":"This worked.. Thank you"}],"tags":[],"owner":{"account_id":11639245,"reputation":61,"user_id":8524354,"display_name":"fuse"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606730580,"creation_date":1606730580,"answer_id":65071474,"question_id":11896304,"body_markdown":"IDK if this is relevant here, but if you have Git Installed, you can find the openssl in the &quot;C:\\Program Files\\Git\\usr\\bin&quot; and that location you can use in the Terminal for your Keystore Command.\r\n\r\noh and yeah the command:\r\n\r\nkeytool -exportcert -alias keystore -keystore &quot;C:\\Users\\YOURPATH/filename.jks&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>IDK if this is relevant here, but if you have Git Installed, you can find the openssl in the &quot;C:\\Program Files\\Git\\usr\\bin&quot; and that location you can use in the Terminal for your Keystore Command.</p>\n<p>oh and yeah the command:</p>\n<p>keytool -exportcert -alias keystore -keystore &quot;C:\\Users\\YOURPATH/filename.jks&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl&quot; base64</p>\n"},{"tags":[],"owner":{"account_id":13927840,"reputation":29,"user_id":10056692,"display_name":"Marcos Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625347946,"creation_date":1625347946,"answer_id":68240100,"question_id":11896304,"body_markdown":"\r\nFor those who arrive lost as I was now, follow Usama Sarwar response\r\nbut if:\r\n\r\n&gt;&quot;your_openssl_path/bin/openssl.exe&quot;\r\n\r\ndoesn&#39;t work, try it\r\n\r\n&gt;your_openssl_path/bin/openssl.exe.\r\n\r\nWithout the quotes.\r\n\r\n&gt;&quot;c:\\openssl\\bin\\openssl.exe&quot; =&gt; Didn&#39;t work for me\r\n\r\n\r\n&gt;c:\\openssl\\bin\\openssl.exe =&gt; Worked for me","title":"Openssl is not recognized as an internal or external command","body":"<p>For those who arrive lost as I was now, follow Usama Sarwar response\nbut if:</p>\n<blockquote>\n<p>&quot;your_openssl_path/bin/openssl.exe&quot;</p>\n</blockquote>\n<p>doesn't work, try it</p>\n<blockquote>\n<p>your_openssl_path/bin/openssl.exe.</p>\n</blockquote>\n<p>Without the quotes.</p>\n<blockquote>\n<p>&quot;c:\\openssl\\bin\\openssl.exe&quot; =&gt; Didn't work for me</p>\n</blockquote>\n<blockquote>\n<p>c:\\openssl\\bin\\openssl.exe =&gt; Worked for me</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16659528,"reputation":328,"user_id":12039847,"display_name":"Slava Bugz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638203007,"creation_date":1638203007,"answer_id":70157907,"question_id":11896304,"body_markdown":"I&#39;ve got the same issue today, solved it by following this video (the SSL installation) - https://www.youtube.com/watch?v=PoAc1lpfK8I&amp;ab_channel=GleyGames\r\n\r\nThen, i&#39;ve took Usamas command, and run it (after changing the paths in the command), I&#39;ve run it FROM inside the bin folder inside the java installation, using CMD.\r\n\r\nfull command that worked for me:\r\n\r\n**(from inside C:\\Program Files\\Java\\jdk-11.0.12\\bin)** : \r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\USERNAME\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p>I've got the same issue today, solved it by following this video (the SSL installation) - <a href=\"https://www.youtube.com/watch?v=PoAc1lpfK8I&amp;ab_channel=GleyGames\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=PoAc1lpfK8I&amp;ab_channel=GleyGames</a></p>\n<p>Then, i've took Usamas command, and run it (after changing the paths in the command), I've run it FROM inside the bin folder inside the java installation, using CMD.</p>\n<p>full command that worked for me:</p>\n<p><strong>(from inside C:\\Program Files\\Java\\jdk-11.0.12\\bin)</strong> :</p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore &quot;C:\\Users\\USERNAME\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; sha1 -binary | &quot;C:\\Program Files\\OpenSSL-Win64\\bin\\openssl&quot; base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14489422,"reputation":162,"user_id":10466214,"display_name":"Julian Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649139250,"creation_date":1649139250,"answer_id":71747033,"question_id":11896304,"body_markdown":"**Step 1**\r\n\r\nDownload SSL for windows at [https://code.google.com/archive/p/openssl-for-windows/downloads][1].\r\n\r\n**Step 2**\r\n\r\nUnzip the folder to OpenSSL and paste it to &quot;*C:\\Program Files*&quot;.\r\n\r\n**Step 3**\r\n\r\nAdd &quot;*C:\\Program Files\\OpenSSL\\bin*&quot; to your environnement variables (Edit the system environnement variables &gt; Environnement variables &gt; Path &gt; New). It will make openssl work in the terminal.\r\n\r\n**Step 4**\r\n\r\nAdd &quot;*C:\\Program Files\\Android\\Android Studio\\jre\\bin*&quot; to your environnement variables. It will make keytool work in the terminal.\r\n\r\n**Step 5**\r\n\r\nOpen a terminal and execute :\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore .android\\debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nThe password should be android.\r\n\r\n  [1]: https://code.google.com/archive/p/openssl-for-windows/downloads","title":"Openssl is not recognized as an internal or external command","body":"<p><strong>Step 1</strong></p>\n<p>Download SSL for windows at <a href=\"https://code.google.com/archive/p/openssl-for-windows/downloads\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/openssl-for-windows/downloads</a>.</p>\n<p><strong>Step 2</strong></p>\n<p>Unzip the folder to OpenSSL and paste it to &quot;<em>C:\\Program Files</em>&quot;.</p>\n<p><strong>Step 3</strong></p>\n<p>Add &quot;<em>C:\\Program Files\\OpenSSL\\bin</em>&quot; to your environnement variables (Edit the system environnement variables &gt; Environnement variables &gt; Path &gt; New). It will make openssl work in the terminal.</p>\n<p><strong>Step 4</strong></p>\n<p>Add &quot;<em>C:\\Program Files\\Android\\Android Studio\\jre\\bin</em>&quot; to your environnement variables. It will make keytool work in the terminal.</p>\n<p><strong>Step 5</strong></p>\n<p>Open a terminal and execute :</p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore .android\\debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n<p>The password should be android.</p>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649331298,"creation_date":1649331298,"answer_id":71781442,"question_id":11896304,"body_markdown":"**use this**  \r\n\r\n  \r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; base64","title":"Openssl is not recognized as an internal or external command","body":"<p><strong>use this</strong></p>\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Users\\DK\\openssl-0.9.8d_X64\\bin\\openssl.exe&quot; base64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":983547,"reputation":3574,"user_id":1002613,"accept_rate":35,"display_name":"Mr.B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656466074,"creation_date":1656466074,"answer_id":72794799,"question_id":11896304,"body_markdown":"Easy solution if you have git installed locally.\r\nyou can just open git bash, change directory where you want your keys will be generated and then run your command.\r\nit will work because git installs open ssl exe by default and your don&#39;t need to set path to your ssl exe manually each time you want to run it.\r\nit works for me and I hope it helps.","title":"Openssl is not recognized as an internal or external command","body":"<p>Easy solution if you have git installed locally.\nyou can just open git bash, change directory where you want your keys will be generated and then run your command.\nit will work because git installs open ssl exe by default and your don't need to set path to your ssl exe manually each time you want to run it.\nit works for me and I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656497899,"creation_date":1656497899,"answer_id":72799697,"question_id":11896304,"body_markdown":"If you are on windows and if you have git installed then you can run the open ssl command using GIT Bash.\r\n\r\n 1. go to the directory where you want to store the key\r\n 2. Right-click and open the GIT Bash\r\n 3. Here you can run any openssl command. e.g.\r\n\r\n    `openssl enc -aes-128-cbc -k test -P -md sha1`","title":"Openssl is not recognized as an internal or external command","body":"<p>If you are on windows and if you have git installed then you can run the open ssl command using GIT Bash.</p>\n<ol>\n<li><p>go to the directory where you want to store the key</p>\n</li>\n<li><p>Right-click and open the GIT Bash</p>\n</li>\n<li><p>Here you can run any openssl command. e.g.</p>\n<p><code>openssl enc -aes-128-cbc -k test -P -md sha1</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1614817,"reputation":812,"user_id":1492809,"accept_rate":18,"display_name":"Anuj Kaithwas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123249,"creation_date":1693123249,"answer_id":76986192,"question_id":11896304,"body_markdown":"So I tried almost everything that was mentioned as a solution here but that didn&#39;t work for me. If you are on windows and have Git installed, just do the below and you will get it in a sec;\r\n\r\n\r\n\r\n\r\n```bash\r\n1. Open Git Bash\r\n2.keytool -exportcert -alias authFB -keystore &quot;c:\\users\\your name\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; base64\r\n```\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U6v0I.png","title":"Openssl is not recognized as an internal or external command","body":"<p>So I tried almost everything that was mentioned as a solution here but that didn't work for me. If you are on windows and have Git installed, just do the below and you will get it in a sec;</p>\n<pre class=\"lang-bash prettyprint-override\"><code>1. Open Git Bash\n2.keytool -exportcert -alias authFB -keystore &quot;c:\\users\\your name\\.android\\debug.keystore&quot; | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; sha1 -binary | &quot;C:\\Program Files\\Git\\usr\\bin\\openssl.exe&quot; base64\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/U6v0I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6v0I.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1452454,"reputation":2765,"user_id":1368964,"accept_rate":82,"display_name":"Khurram W. Malik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332375,"favorite_count":0,"down_vote_count":0,"up_vote_count":225,"accepted_answer_id":11896406,"answer_count":23,"score":225,"last_activity_date":1693123249,"creation_date":1344578644,"question_id":11896304,"body_markdown":"I wish to generate an application signature for my app which will later be integrated with Facebook. In one of Facebook&#39;s tutorials, I found this command:\r\n\r\n    keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\r\n\r\nIn the tutorial, it says that by running this cmd, my process of generating the signature will start.\r\n\r\nHowever, this command gives an error:\r\n\r\n    openssl is not recognized as an internal or external command\r\n\r\nHow can I get rid of this?\r\n\r\n        ","title":"Openssl is not recognized as an internal or external command","body":"<p>I wish to generate an application signature for my app which will later be integrated with Facebook. In one of Facebook's tutorials, I found this command:</p>\n\n<pre><code>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64\n</code></pre>\n\n<p>In the tutorial, it says that by running this cmd, my process of generating the signature will start.</p>\n\n<p>However, this command gives an error:</p>\n\n<pre><code>openssl is not recognized as an internal or external command\n</code></pre>\n\n<p>How can I get rid of this?</p>\n"},{"tags":["java","spring-webflux","junit5","spring-test"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693123793,"post_id":76986168,"comment_id":135716540,"body_markdown":"The line `Mono&lt;Location&gt; monoResultMock = mock(Mono.class);` does not do anything. I suggest reading [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test), even if that might not be the immediate problem","body":"The line <code>Mono&lt;Location&gt; monoResultMock = mock(Mono.class);</code> does not do anything. I suggest reading <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>, even if that might not be the immediate problem"}],"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693123150,"creation_date":1693122886,"question_id":76986168,"body_markdown":"In a Spring Boot application, I have a repository class where I am doing some DB operation with R2DBC using DatabaseClient. \r\n\r\nMy code is something like this : \r\n\r\n```\r\nreturn client.sql(sqlToSearch)\r\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\r\n        .bind(&quot;alternateCode&quot;, alternateCode)\r\n        .map(locationR2DBCMapper::apply).one();\r\n```\r\n\r\nwhere, locationR2DBCMapper is my custom BiFunction mapper class\r\n\r\nMapper class code is simple like this: \r\n\r\n```\r\npublic class LocationR2DBCMapper implements BiFunction&lt;Row, Object, Location&gt; {\r\n\r\n    @Override\r\n    public Location apply(Row row, Object o) {\r\n        if(row.get(0)!=null)\r\n        {\r\n            Location location = new Location();\r\n            location.setId(row.get(&quot;location_id&quot;, Long.class));\r\n            location.setLocationName(row.get(&quot;location_name&quot;, String.class));\r\n            location.setLocationType(row.get(&quot;location_type&quot;, String.class));\r\n            location.setProjectionMsg(row.get(&quot;projection_msg&quot;, String.class));\r\n            location.setIsFacility(row.get(&quot;is_facility&quot;,Boolean.class));\r\n            return location;\r\n        }\r\n        else {\r\n            return new Location();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, I just want write a JUnit test case for this repository class, where I have to mock this DB call operation. Specifically this line: \r\n\r\n```\r\nclient.sql(sqlToSearch)\r\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\r\n        .bind(&quot;alternateCode&quot;, alternateCode)\r\n        .map(locationR2DBCMapper::apply).one();\r\n```\r\n\r\nwhere client is object of DatabaseClient.\r\n\r\nI tried this approach: \r\n\r\n```\r\n@BeforeEach\r\nvoid setUp() {\r\n    databaseClientMock = Mockito.mock(DatabaseClient.class);\r\n\r\n    locationR2DBCMapperMock = Mockito.mock(LocationR2DBCMapper.class);\r\n\r\n    DatabaseClient databaseClientMock = mock(DatabaseClient.class);\r\n    DatabaseClient.GenericExecuteSpec executeSpecMock = mock(DatabaseClient.GenericExecuteSpec.class);\r\n\r\n    Mono&lt;Location&gt; monoResultMock = mock(Mono.class);\r\n\r\n    locationCustomRepositoryImplMock = new LocationCustomRepositoryImpl(databaseClientMock,locationR2DBCMapperMock);\r\n}\r\n\r\n@Test\r\npublic void getLocationByLocationTypeTest()\r\n{\r\n    RowsFetchSpec&lt;?&gt; rowsFetchSpecMock = mock(RowsFetchSpec.class);\r\n    when(databaseClientMock.sql(anyString())).thenReturn(executeSpecMock);\r\n    when(executeSpecMock.map(Mockito.any(BiFunction.class))).thenReturn(rowsFetchSpecMock);\r\n    Flux&lt;Object&gt; resultFluxMock = Flux.empty(); // Replace this with your own Flux instance\r\n    when(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\r\n\r\n    //Mockito.when(databaseClientMock.sql(anyString())).thenReturn(Flux.just(Location.builder().locationName(&quot;someName&quot;).id(Long.valueOf(123)).build()));\r\n}\r\n```\r\n\r\nbut, this line giving one error, saying _&quot;Cannot resolve method &#39;thenReturn(Flux\\&lt;Object&gt;)&#39;&quot;_\r\n```\r\nwhen(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\r\n```\r\n\r\nHow can I mock this and fix the error?","title":"How to write mock class for JUnit for R2DBC DatabaseClient","body":"<p>In a Spring Boot application, I have a repository class where I am doing some DB operation with R2DBC using DatabaseClient.</p>\n<p>My code is something like this :</p>\n<pre><code>return client.sql(sqlToSearch)\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\n        .bind(&quot;alternateCode&quot;, alternateCode)\n        .map(locationR2DBCMapper::apply).one();\n</code></pre>\n<p>where, locationR2DBCMapper is my custom BiFunction mapper class</p>\n<p>Mapper class code is simple like this:</p>\n<pre><code>public class LocationR2DBCMapper implements BiFunction&lt;Row, Object, Location&gt; {\n\n    @Override\n    public Location apply(Row row, Object o) {\n        if(row.get(0)!=null)\n        {\n            Location location = new Location();\n            location.setId(row.get(&quot;location_id&quot;, Long.class));\n            location.setLocationName(row.get(&quot;location_name&quot;, String.class));\n            location.setLocationType(row.get(&quot;location_type&quot;, String.class));\n            location.setProjectionMsg(row.get(&quot;projection_msg&quot;, String.class));\n            location.setIsFacility(row.get(&quot;is_facility&quot;,Boolean.class));\n            return location;\n        }\n        else {\n            return new Location();\n        }\n    }\n}\n</code></pre>\n<p>Now, I just want write a JUnit test case for this repository class, where I have to mock this DB call operation. Specifically this line:</p>\n<pre><code>client.sql(sqlToSearch)\n        .bind(&quot;alternateCodeType&quot;, alternateCodeType)\n        .bind(&quot;alternateCode&quot;, alternateCode)\n        .map(locationR2DBCMapper::apply).one();\n</code></pre>\n<p>where client is object of DatabaseClient.</p>\n<p>I tried this approach:</p>\n<pre><code>@BeforeEach\nvoid setUp() {\n    databaseClientMock = Mockito.mock(DatabaseClient.class);\n\n    locationR2DBCMapperMock = Mockito.mock(LocationR2DBCMapper.class);\n\n    DatabaseClient databaseClientMock = mock(DatabaseClient.class);\n    DatabaseClient.GenericExecuteSpec executeSpecMock = mock(DatabaseClient.GenericExecuteSpec.class);\n\n    Mono&lt;Location&gt; monoResultMock = mock(Mono.class);\n\n    locationCustomRepositoryImplMock = new LocationCustomRepositoryImpl(databaseClientMock,locationR2DBCMapperMock);\n}\n\n@Test\npublic void getLocationByLocationTypeTest()\n{\n    RowsFetchSpec&lt;?&gt; rowsFetchSpecMock = mock(RowsFetchSpec.class);\n    when(databaseClientMock.sql(anyString())).thenReturn(executeSpecMock);\n    when(executeSpecMock.map(Mockito.any(BiFunction.class))).thenReturn(rowsFetchSpecMock);\n    Flux&lt;Object&gt; resultFluxMock = Flux.empty(); // Replace this with your own Flux instance\n    when(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\n\n    //Mockito.when(databaseClientMock.sql(anyString())).thenReturn(Flux.just(Location.builder().locationName(&quot;someName&quot;).id(Long.valueOf(123)).build()));\n}\n</code></pre>\n<p>but, this line giving one error, saying <em>&quot;Cannot resolve method 'thenReturn(Flux&lt;Object&gt;)'&quot;</em></p>\n<pre><code>when(rowsFetchSpecMock.all()).thenReturn(resultFluxMock);\n</code></pre>\n<p>How can I mock this and fix the error?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1453308525,"post_id":34905675,"comment_id":57547587,"body_markdown":"Have  a look at the doRun method and see what the assertion is checking","body":"Have  a look at the doRun method and see what the assertion is checking"},{"owner":{"account_id":1324028,"reputation":1302,"user_id":1269260,"accept_rate":71,"display_name":"betseyb"},"score":3,"creation_date":1453308928,"post_id":34905675,"comment_id":57547860,"body_markdown":"Please add the relevant section of code, so people can offer more useful suggestions.","body":"Please add the relevant section of code, so people can offer more useful suggestions."},{"owner":{"account_id":3252189,"reputation":4357,"user_id":2742156,"accept_rate":64,"display_name":"Pratap A.K"},"score":0,"creation_date":1453309005,"post_id":34905675,"comment_id":57547914,"body_markdown":"This can be caused by a dirty classpath with different versions of Spring libraries all over the place. Cleanup it and align it to the one and same Spring version with the correct versioned dependencies.","body":"This can be caused by a dirty classpath with different versions of Spring libraries all over the place. Cleanup it and align it to the one and same Spring version with the correct versioned dependencies."},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1453310382,"post_id":34905675,"comment_id":57548829,"body_markdown":"Please add the related code, especially your `SpringBootApplication` or `EnableAutoConfiguration` annotated class","body":"Please add the related code, especially your <code>SpringBootApplication</code> or <code>EnableAutoConfiguration</code> annotated class"}],"answers":[{"tags":[],"owner":{"account_id":7676208,"reputation":489,"user_id":5817007,"display_name":"Adipati Karna"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1589360102,"creation_date":1453380211,"answer_id":34924192,"question_id":34905675,"body_markdown":"It turns out that I did not set the main class correctly in Eclipse - Debug, and Run configuration.\r\n\r\nI set **org.springframework.boot.SpringApplication** as the main class.\r\n\r\nThe Main class should be pointing to my main class.\r\n\r\n","title":"Spring application start error: sources must not be empty","body":"<p>It turns out that I did not set the main class correctly in Eclipse - Debug, and Run configuration.</p>\n\n<p>I set <strong>org.springframework.boot.SpringApplication</strong> as the main class.</p>\n\n<p>The Main class should be pointing to my main class.</p>\n"},{"comments":[{"owner":{"account_id":11464204,"reputation":487,"user_id":9832322,"display_name":"Abhilash"},"score":0,"creation_date":1570613574,"post_id":44864648,"comment_id":102964836,"body_markdown":"Thanks a ton. I forgot to add this. My main class just has a print of hello world. Silly me.","body":"Thanks a ton. I forgot to add this. My main class just has a print of hello world. Silly me."}],"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1498937337,"creation_date":1498937337,"answer_id":44864648,"question_id":34905675,"body_markdown":"you must add at least one main config class as a source (see attached screenshots).\r\n\r\nwrong:\r\n[![enter image description here][1]][1]\r\n\r\nright:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nO1mY.png\r\n  [2]: https://i.stack.imgur.com/k7K9H.png","title":"Spring application start error: sources must not be empty","body":"<p>you must add at least one main config class as a source (see attached screenshots).</p>\n\n<p>wrong:\n<a href=\"https://i.stack.imgur.com/nO1mY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nO1mY.png\" alt=\"enter image description here\"></a></p>\n\n<p>right:\n<a href=\"https://i.stack.imgur.com/k7K9H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k7K9H.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14356340,"reputation":11,"user_id":10370099,"display_name":"user10370099"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537084258,"creation_date":1537082143,"answer_id":52351850,"question_id":34905675,"body_markdown":"add scanBasePackages=&quot;com.login&quot; at main class thats all your code will work.\r\n\r\n    package com.login.example.LoginExample;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication(scanBasePackages=&quot;com.login&quot;)\r\n\r\n    public class LoginExampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(LoginExampleApplication.class, args);\r\n\t    }\r\n    }\r\n","title":"Spring application start error: sources must not be empty","body":"<p>add scanBasePackages=\"com.login\" at main class thats all your code will work.</p>\n\n<pre><code>package com.login.example.LoginExample;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication(scanBasePackages=\"com.login\")\n\npublic class LoginExampleApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(LoginExampleApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14407295,"reputation":177,"user_id":10407026,"display_name":"Marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1614698659,"creation_date":1556534672,"answer_id":55901738,"question_id":34905675,"body_markdown":"Had the same issue recently, turned out I was running the wrong java class. I went to class where I have my @SpringBootApplication and right click -&gt; run as java application. Hopefully that will help someone.","title":"Spring application start error: sources must not be empty","body":"<p>Had the same issue recently, turned out I was running the wrong java class. I went to class where I have my @SpringBootApplication and right click -&gt; run as java application. Hopefully that will help someone.</p>\n"},{"comments":[{"owner":{"account_id":12683576,"reputation":68,"user_id":9216308,"display_name":"TheArchitect"},"score":1,"creation_date":1594580357,"post_id":62245588,"comment_id":111168902,"body_markdown":"This worked for me, I tried executing the main Spring boot class and fixed","body":"This worked for me, I tried executing the main Spring boot class and fixed"},{"owner":{"account_id":17235995,"reputation":121,"user_id":12479453,"display_name":"Anu Priya"},"score":1,"creation_date":1626923642,"post_id":62245588,"comment_id":121022587,"body_markdown":"This worked for me. Scratched my head for an hour and finally, this worked.","body":"This worked for me. Scratched my head for an hour and finally, this worked."}],"tags":[],"owner":{"account_id":5056115,"reputation":574,"user_id":4059307,"display_name":"Harish Narayanan"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1591534250,"creation_date":1591534250,"answer_id":62245588,"question_id":34905675,"body_markdown":"Run the main class &amp; not the project. ","title":"Spring application start error: sources must not be empty","body":"<p>Run the main class &amp; not the project. </p>\n"},{"comments":[{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":1,"creation_date":1640520095,"post_id":70486202,"comment_id":124598082,"body_markdown":"I do not think it&#39;s a solution to the op&#39;s question.","body":"I do not think it&#39;s a solution to the op&#39;s question."}],"tags":[],"owner":{"account_id":16491278,"reputation":7,"user_id":11915074,"display_name":"cbarkinozer"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649846505,"creation_date":1640519326,"answer_id":70486202,"question_id":34905675,"body_markdown":"You can change the package of the Main class by doing `Run&gt;Run Configurations&gt;Main Class&gt;Search&gt; Select &quot;Spring Application`.\r\nThen, If you get `java.lang.IllegalArgumentException: Sources must not be empty` error. You can fix it by creating a new workspace.","title":"Spring application start error: sources must not be empty","body":"<p>You can change the package of the Main class by doing <code>Run&gt;Run Configurations&gt;Main Class&gt;Search&gt; Select &quot;Spring Application</code>.\nThen, If you get <code>java.lang.IllegalArgumentException: Sources must not be empty</code> error. You can fix it by creating a new workspace.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1647547428,"post_id":71516253,"comment_id":126405319,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71516253/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18352597,"reputation":1,"user_id":13366455,"display_name":"ayoub razali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647536230,"creation_date":1647536230,"answer_id":71516253,"question_id":34905675,"body_markdown":"in my case i solved it by changing the package of the main  class \r\nto the root  package","title":"Spring application start error: sources must not be empty","body":"<p>in my case i solved it by changing the package of the main  class\nto the root  package</p>\n"},{"tags":[],"owner":{"account_id":25411512,"reputation":1,"user_id":19219217,"display_name":"afsar raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658817727,"creation_date":1658515424,"answer_id":73084811,"question_id":34905675,"body_markdown":"kindly check beans are created for your runner class or not by using `@Component` annotation on that class.","title":"Spring application start error: sources must not be empty","body":"<p>kindly check beans are created for your runner class or not by using <code>@Component</code> annotation on that class.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680873545,"post_id":75891098,"comment_id":133973490,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75891098/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17426206,"reputation":1,"user_id":14126392,"display_name":"kaushik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680196046,"creation_date":1680196046,"answer_id":75891098,"question_id":34905675,"body_markdown":"Simple answer is instead of project name do right click on java file which contains main method. In our case java file which has @SpringBootApplication annotation.","title":"Spring application start error: sources must not be empty","body":"<p>Simple answer is instead of project name do right click on java file which contains main method. In our case java file which has @SpringBootApplication annotation.</p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684092333,"creation_date":1684092333,"answer_id":76249311,"question_id":34905675,"body_markdown":"in **SpringToolSuite** in *workspace window* **rightclick the project =&gt;** **run as =&gt;** **run configs =&gt;** **main** tab(in popup) **=&gt;** **project:** field **=&gt;** browse and pickup the right project **=&gt;** make sure in **Main class:** field there is you main class. Click  **Apply** and **Run**.","title":"Spring application start error: sources must not be empty","body":"<p>in <strong>SpringToolSuite</strong> in <em>workspace window</em> <strong>rightclick the project =&gt;</strong> <strong>run as =&gt;</strong> <strong>run configs =&gt;</strong> <strong>main</strong> tab(in popup) <strong>=&gt;</strong> <strong>project:</strong> field <strong>=&gt;</strong> browse and pickup the right project <strong>=&gt;</strong> make sure in <strong>Main class:</strong> field there is you main class. Click  <strong>Apply</strong> and <strong>Run</strong>.</p>\n"},{"tags":[],"owner":{"account_id":28693240,"reputation":1,"user_id":21972019,"display_name":"Omkar Gole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123119,"creation_date":1693123003,"answer_id":76986175,"question_id":34905675,"body_markdown":"\r\n\r\n  \r\n\r\n     &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n \r\n\r\n - Make sure if you are not using Database in spring boot then don&#39;t use this \r\n    dependency.\r\n\r\n - I had same problem but when I removed this dependency it started worked.\r\n    And also make sure you run project from your main class file \r\n","title":"Spring application start error: sources must not be empty","body":"<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li><p>Make sure if you are not using Database in spring boot then don't use this\ndependency.</p>\n</li>\n<li><p>I had same problem but when I removed this dependency it started worked.\nAnd also make sure you run project from your main class file</p>\n</li>\n</ul>\n"}],"owner":{"account_id":7676208,"reputation":489,"user_id":5817007,"display_name":"Adipati Karna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57053,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":11,"score":22,"last_activity_date":1693123119,"creation_date":1453308172,"question_id":34905675,"body_markdown":"I&#39;m following a Spring tutorial, and when I tried to start the spring application I got the following error:\r\n\r\n&gt; 2016-01-20 23:18:15.907  INFO 5271 --- [           main]\r\n&gt; o.s.boot.SpringApplication               : Starting SpringApplication\r\n&gt; v1.3.1.RELEASE on  ... \r\n&gt; \r\n&gt; 2016-01-20 23:18:15.911  INFO 5271 --- [        main]\r\n&gt; o.s.boot.SpringApplication               : No active profile set,\r\n&gt; falling back to default profiles: default \r\n&gt; \r\n&gt; 2016-01-20 23:18:15.918 ERROR 5271 --- [           main]\r\n&gt; o.s.boot.SpringApplication            : Application startup failed\r\n&gt; java.lang.IllegalArgumentException: Sources must not be empty \tat\r\n&gt; org.springframework.util.Assert.notEmpty(Assert.java:276)\r\n&gt; ~[spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.doRun(SpringApplication.java:352)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1124)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE] \tat\r\n&gt; org.springframework.boot.SpringApplication.main(SpringApplication.java:1140)\r\n&gt; [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]\r\n\r\nWhat is this &quot;Sources must not be empty&quot; error?\r\n\r\nI am using an Eclipse - Maven project for this tutorial project and I have updated the project. I have also cleaned and rebuilt but I still got this error.\r\n\r\n","title":"Spring application start error: sources must not be empty","body":"<p>I'm following a Spring tutorial, and when I tried to start the spring application I got the following error:</p>\n\n<blockquote>\n  <p>2016-01-20 23:18:15.907  INFO 5271 --- [           main]\n  o.s.boot.SpringApplication               : Starting SpringApplication\n  v1.3.1.RELEASE on  ... </p>\n  \n  <p>2016-01-20 23:18:15.911  INFO 5271 --- [        main]\n  o.s.boot.SpringApplication               : No active profile set,\n  falling back to default profiles: default </p>\n  \n  <p>2016-01-20 23:18:15.918 ERROR 5271 --- [           main]\n  o.s.boot.SpringApplication            : Application startup failed\n  java.lang.IllegalArgumentException: Sources must not be empty     at\n  org.springframework.util.Assert.notEmpty(Assert.java:276)\n  ~[spring-core-4.2.4.RELEASE.jar:4.2.4.RELEASE]    at\n  org.springframework.boot.SpringApplication.doRun(SpringApplication.java:352)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1124)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]     at\n  org.springframework.boot.SpringApplication.main(SpringApplication.java:1140)\n  [spring-boot-1.3.1.RELEASE.jar:1.3.1.RELEASE]</p>\n</blockquote>\n\n<p>What is this \"Sources must not be empty\" error?</p>\n\n<p>I am using an Eclipse - Maven project for this tutorial project and I have updated the project. I have also cleaned and rebuilt but I still got this error.</p>\n"},{"tags":["java","multithreading","deadlock","executors"],"comments":[{"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"score":1,"creation_date":1355210783,"post_id":13815258,"comment_id":19008579,"body_markdown":"How did you run this example? And, please, provide your `LoadFileTask` source. Actually the deadlock must be in first call of `Future.get` - if you have something printed, then you executing this example in different way.","body":"How did you run this example? And, please, provide your <code>LoadFileTask</code> source. Actually the deadlock must be in first call of <code>Future.get</code> - if you have something printed, then you executing this example in different way."},{"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"score":0,"creation_date":1355211331,"post_id":13815258,"comment_id":19008754,"body_markdown":"Updated the entire source. That&#39;s exactly whats baffling me, if I get future.get() for header, that&#39;s supposed to exit the header runnable, isn&#39;t it?","body":"Updated the entire source. That&#39;s exactly whats baffling me, if I get future.get() for header, that&#39;s supposed to exit the header runnable, isn&#39;t it?"}],"answers":[{"comments":[{"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"score":0,"creation_date":1355212635,"post_id":13815801,"comment_id":19009200,"body_markdown":"perfect.However, now the question comes, why did it not deadlock as was mentioned. Or am I missing something on my problem statement?","body":"perfect.However, now the question comes, why did it not deadlock as was mentioned. Or am I missing something on my problem statement?"},{"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"score":1,"creation_date":1355212870,"post_id":13815801,"comment_id":19009300,"body_markdown":"There is no deadlock because you run `RenderPageTask` in separate executor = separate thread. If you will use same executor(with one working thread) for `RenderPageTask` and `LoadFileTask` starting - then it will be deadlock.","body":"There is no deadlock because you run <code>RenderPageTask</code> in separate executor = separate thread. If you will use same executor(with one working thread) for <code>RenderPageTask</code> and <code>LoadFileTask</code> starting - then it will be deadlock."},{"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"score":0,"creation_date":1355213150,"post_id":13815801,"comment_id":19009415,"body_markdown":"Perfect, once again! Thanks a lot ice! :)","body":"Perfect, once again! Thanks a lot ice! :)"}],"tags":[],"owner":{"account_id":906200,"reputation":787,"user_id":941045,"accept_rate":80,"display_name":"ice"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355212185,"creation_date":1355212185,"answer_id":13815801,"question_id":13815258,"body_markdown":"There is no deadlock in your code, JVM doesn&#39;t shutdowned because it have working thread - executor thread for `exec` service(defined in `ThreadDeadlock`).\r\nIf you add \r\n    \r\n    exec.shutdown();\r\nbefore `return` in `RenderPageTask` then program will terminate after all tasks will be completed.","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>There is no deadlock in your code, JVM doesn't shutdowned because it have working thread - executor thread for <code>exec</code> service(defined in <code>ThreadDeadlock</code>).\nIf you add </p>\n\n<pre><code>exec.shutdown();\n</code></pre>\n\n<p>before <code>return</code> in <code>RenderPageTask</code> then program will terminate after all tasks will be completed.</p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355216849,"creation_date":1355216849,"answer_id":13816906,"question_id":13815258,"body_markdown":"The deadlock cause is simple: the first task submits another 2 tasks and waits them to finish, effectively blocking the single working thread of the executor and preventing that tasks from execution.\r\n\r\nEither:\r\n\r\n- do not ever use blocking operations in the tasks running under executor\r\n\r\n- or use executor which adds working threads as needed","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>The deadlock cause is simple: the first task submits another 2 tasks and waits them to finish, effectively blocking the single working thread of the executor and preventing that tasks from execution.</p>\n\n<p>Either:</p>\n\n<ul>\n<li><p>do not ever use blocking operations in the tasks running under executor</p></li>\n<li><p>or use executor which adds working threads as needed</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693123101,"creation_date":1693122260,"answer_id":76986129,"question_id":13815258,"body_markdown":"I ran in misunderstanding with such example.\r\nBut as @ice said - you should use same executor for header/footer and RenderPageTask for deadlock.\r\nHere is an example with deadlock:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        var poolDeadlock = new ThreadDeadlock().new RenderPageTask();\r\n        System.out.println(poolDeadlock.call());\r\n        poolDeadlock.getExecutor().shutdown();\r\n    }\r\n\r\n    public static class ThreadDeadlock {\r\n        private final ExecutorService exec = Executors.newSingleThreadExecutor();\r\n\r\n        public class RenderPageTask implements Callable&lt;String&gt; {\r\n            public String call() throws Exception {\r\n                Future&lt;String&gt; header, footer;\r\n                header = exec.submit(new LoadFileTask(&quot;header.html&quot;));\r\n                footer = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\r\n                String page = renderPage();\r\n                // Deadlock because you&#39;re using same single thread pool for header/footer\r\n                // and RenderPageTask\r\n                return header.get() + page + footer.get();\r\n            }\r\n\r\n            private String renderPage() throws Exception {\r\n                return exec.submit(new RenderPageTask()).get();\r\n            }\r\n\r\n            public ExecutorService getExecutor() {\r\n                return exec;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class LoadFileTask implements Callable&lt;String&gt; {\r\n        private final String data;\r\n\r\n        public LoadFileTask(String data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @Override\r\n        public String call() {\r\n            return data;\r\n        }\r\n    }","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>I ran in misunderstanding with such example.\nBut as @ice said - you should use same executor for header/footer and RenderPageTask for deadlock.\nHere is an example with deadlock:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    var poolDeadlock = new ThreadDeadlock().new RenderPageTask();\n    System.out.println(poolDeadlock.call());\n    poolDeadlock.getExecutor().shutdown();\n}\n\npublic static class ThreadDeadlock {\n    private final ExecutorService exec = Executors.newSingleThreadExecutor();\n\n    public class RenderPageTask implements Callable&lt;String&gt; {\n        public String call() throws Exception {\n            Future&lt;String&gt; header, footer;\n            header = exec.submit(new LoadFileTask(&quot;header.html&quot;));\n            footer = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\n            String page = renderPage();\n            // Deadlock because you're using same single thread pool for header/footer\n            // and RenderPageTask\n            return header.get() + page + footer.get();\n        }\n\n        private String renderPage() throws Exception {\n            return exec.submit(new RenderPageTask()).get();\n        }\n\n        public ExecutorService getExecutor() {\n            return exec;\n        }\n    }\n}\n\npublic static class LoadFileTask implements Callable&lt;String&gt; {\n    private final String data;\n\n    public LoadFileTask(String data) {\n        this.data = data;\n    }\n\n    @Override\n    public String call() {\n        return data;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":476484,"reputation":8618,"user_id":887421,"accept_rate":68,"display_name":"Achow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13815801,"answer_count":3,"score":1,"last_activity_date":1693123101,"creation_date":1355209603,"question_id":13815258,"body_markdown":"This is straight from Java Concurrency in Practice.\r\nThe following causes a Deadlock :\r\n\r\n    class ThreadDeadlock {\r\n    \tExecutorService exec = Executors.newSingleThreadExecutor();\r\n    \tpublic class RenderPageTask implements Callable&lt;String&gt; {\r\n    \t\tpublic String call() throws Exception {\r\n    \t\t\tFuture&lt;String&gt; header, footer;\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName());\r\n    \t\t\theader = exec.submit(new LoadFileTask(&quot;header.html&quot;));\r\n    \t\t\tfooter = exec.submit(new LoadFileTask(&quot;footer.html&quot;));\r\n    \t\t\t//String page = renderBody();\r\n    \t\t\t// Will deadlock -- task waiting for result of subtask\r\n    \t\t\t//System.out.println(&quot;executed header and footer&quot;);\r\n    \t\t\tString headerS = header.get();\r\n    \t\t\tSystem.out.println(&quot;retrieved header&quot;);\r\n    \t\t\tString footerS = footer.get();\r\n    \t\t\treturn headerS+ footerS;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n    class LoadFileTask implements Callable&lt;String&gt;{\r\n    \tString name;\r\n    \tpublic LoadFileTask(String name) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String call() throws Exception {\r\n    \t\t/*Scanner s = new Scanner(name);\r\n    \t\tStringBuilder str = new StringBuilder();\r\n    \t\twhile(s.hasNextLine()){\r\n    \t\t\tstr.append(s.nextLine());\r\n    \t\t}*/\r\n    \t\tSystem.out.println(Thread.currentThread().getName()+this.name);\r\n    \t\treturn &quot;&quot;;\r\n    \t}\r\n    }\r\n\r\n    /* Call from Main */\r\n             private static void checkDeadLock(){\r\n\t\tThreadDeadlock.RenderPageTask callable = new ThreadDeadlock().new RenderPageTask();\r\n\t\tExecutorService es = Executors.newFixedThreadPool(1);\r\n\t\tes.submit(callable);\r\n\t\tes.shutdown();\r\n\t}\r\n\r\nI am unable to figure out why this causes a deadlock.\r\nI have checked and it does.It even returns the header.get() and prints retrieved header, then how does it deadlock?\r\n","title":"Multithreading newSingleThreadExecutor Starvation Deadlock","body":"<p>This is straight from Java Concurrency in Practice.\nThe following causes a Deadlock :</p>\n\n<pre><code>class ThreadDeadlock {\n    ExecutorService exec = Executors.newSingleThreadExecutor();\n    public class RenderPageTask implements Callable&lt;String&gt; {\n        public String call() throws Exception {\n            Future&lt;String&gt; header, footer;\n            System.out.println(Thread.currentThread().getName());\n            header = exec.submit(new LoadFileTask(\"header.html\"));\n            footer = exec.submit(new LoadFileTask(\"footer.html\"));\n            //String page = renderBody();\n            // Will deadlock -- task waiting for result of subtask\n            //System.out.println(\"executed header and footer\");\n            String headerS = header.get();\n            System.out.println(\"retrieved header\");\n            String footerS = footer.get();\n            return headerS+ footerS;\n        }\n    }\n}\n\n\n\nclass LoadFileTask implements Callable&lt;String&gt;{\n    String name;\n    public LoadFileTask(String name) {\n        super();\n        this.name = name;\n    }\n\n    @Override\n    public String call() throws Exception {\n        /*Scanner s = new Scanner(name);\n        StringBuilder str = new StringBuilder();\n        while(s.hasNextLine()){\n            str.append(s.nextLine());\n        }*/\n        System.out.println(Thread.currentThread().getName()+this.name);\n        return \"\";\n    }\n}\n\n/* Call from Main */\n         private static void checkDeadLock(){\n    ThreadDeadlock.RenderPageTask callable = new ThreadDeadlock().new RenderPageTask();\n    ExecutorService es = Executors.newFixedThreadPool(1);\n    es.submit(callable);\n    es.shutdown();\n}\n</code></pre>\n\n<p>I am unable to figure out why this causes a deadlock.\nI have checked and it does.It even returns the header.get() and prints retrieved header, then how does it deadlock?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693122633,"post_id":76986109,"comment_id":135716425,"body_markdown":"The code as shown does not produce a _&quot;Cannot resolve symbol error&quot;_. Instead it produces _&quot;CalcKata.java:4: error: illegal start of expression&quot;_ and _&quot;CalcKata.java:7: error: class, interface, enum, or record expected&quot;_.","body":"The code as shown does not produce a <i>&quot;Cannot resolve symbol error&quot;</i>. Instead it produces <i>&quot;CalcKata.java:4: error: illegal start of expression&quot;</i> and <i>&quot;CalcKata.java:7: error: class, interface, enum, or record expected&quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":23625724,"reputation":124,"user_id":18034585,"display_name":"Gxogac"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693122324,"creation_date":1693122232,"answer_id":76986126,"question_id":76986109,"body_markdown":"You can&#39;t declare the function like that in Java. Java doesn&#39;t allow you to define methods inside other methods\r\n\r\n```java\r\npublic class CalcKata {\r\n    public static void main(String[] args) {}\r\n    public static String calc(String input) {}\r\n}\r\n```\r\n\r\nThis is the correct one, hope that helps!","title":"Cannot resolve symbol (Java)","body":"<p>You can't declare the function like that in Java. Java doesn't allow you to define methods inside other methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CalcKata {\n    public static void main(String[] args) {}\n    public static String calc(String input) {}\n}\n</code></pre>\n<p>This is the correct one, hope that helps!</p>\n"}],"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693122542,"accepted_answer_id":76986126,"answer_count":1,"score":-1,"last_activity_date":1693122703,"creation_date":1693121903,"question_id":76986109,"body_markdown":"The mistake here is **Cannot resolve symbol &#39;input&#39;** . \r\n\r\nWhy?\r\n\r\n```\r\npublic class CalcKata {\r\n\r\n    public static void main(String[] args) {\r\n        public static String calc (String input){\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe code is writed on Java v17. \r\njava version &quot;17.0.2&quot; 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n\r\nI tried to write and run but it didn&#39;t help.","title":"Cannot resolve symbol (Java)","body":"<p>The mistake here is <strong>Cannot resolve symbol 'input'</strong> .</p>\n<p>Why?</p>\n<pre><code>public class CalcKata {\n\n    public static void main(String[] args) {\n        public static String calc (String input){\n        }\n    }\n}\n\n</code></pre>\n<p>The code is writed on Java v17.\njava version &quot;17.0.2&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n<p>I tried to write and run but it didn't help.</p>\n"},{"tags":["java","gradle","jar","zip","build.gradle"],"comments":[{"owner":{"account_id":2489596,"reputation":705,"user_id":2167355,"display_name":"abendt"},"score":0,"creation_date":1693517668,"post_id":76950211,"comment_id":135775684,"body_markdown":"can you compare the contents of two zip archives from different clean builds? e.g. unzip -l &lt;zipfile&gt;. Maybe you can spot a difference in included files / lengths?","body":"can you compare the contents of two zip archives from different clean builds? e.g. unzip -l &lt;zipfile&gt;. Maybe you can spot a difference in included files / lengths?"}],"answers":[{"tags":[],"owner":{"account_id":20619661,"reputation":103,"user_id":15136978,"display_name":"Shaurya Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693122375,"creation_date":1693122375,"answer_id":76986136,"question_id":76950211,"body_markdown":"It could be possible that the hash changes on every clean build because the order of the files in the **`configurations.runtimeClasspath`** changes. You should try sorting the files in **`configurations.runtimeClasspath`** before adding them to the **zip** to ensure that the order is consistent.\r\n\r\n    task buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output \r\n    \r\n    into(&quot;lib&quot;) {\r\n        from configurations.runtimeClasspath.files.sort()\r\n    }\r\n    }\r\n\r\n\r\n\r\nThis should ensure that the order of the files in **`configurations.runtimeClasspath`** is consistent and the hash remains the same on every clean build.","title":"How to gradle build reproducible zip with configurations.runtimeClasspath?","body":"<p>It could be possible that the hash changes on every clean build because the order of the files in the <strong><code>configurations.runtimeClasspath</code></strong> changes. You should try sorting the files in <strong><code>configurations.runtimeClasspath</code></strong> before adding them to the <strong>zip</strong> to ensure that the order is consistent.</p>\n<pre><code>task buildZip(type: Zip) {\nincludeEmptyDirs = false\npreserveFileTimestamps = false\nreproducibleFileOrder = true\n\nfrom sourceSets.main.output \n\ninto(&quot;lib&quot;) {\n    from configurations.runtimeClasspath.files.sort()\n}\n}\n</code></pre>\n<p>This should ensure that the order of the files in <strong><code>configurations.runtimeClasspath</code></strong> is consistent and the hash remains the same on every clean build.</p>\n"}],"owner":{"account_id":1926234,"reputation":8411,"user_id":1736601,"accept_rate":70,"display_name":"atkayla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693122375,"creation_date":1692680269,"question_id":76950211,"body_markdown":"I have a gradle task to build a reproducible zip, hash it, then I check the hash is the same.\r\n\r\n```\r\ntask buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output\r\n}\r\n\r\ntask createChecksums(type: Checksum, dependsOn: build) {\r\n    inputFiles.setFrom(&quot;${buildDir}/distributions&quot;);\r\n    appendFileNameToChecksum.set(true)\r\n}\r\n```\r\n\r\nThis works as expected and the hash is consistent. However I noticed when I try to include the .jar dependencies under `configurations.runtimeClassPath`:\r\n```\r\ntask buildZip(type: Zip) {\r\n    includeEmptyDirs = false\r\n    preserveFileTimestamps = false\r\n    reproducibleFileOrder = true\r\n\r\n    from sourceSets.main.output\r\n    \r\n    into(&quot;lib&quot;) {\r\n        from configurations.runtimeClasspath\r\n    }\r\n}\r\n```\r\nThe hash changes on every clean build. Why is this happening and how to correct it?","title":"How to gradle build reproducible zip with configurations.runtimeClasspath?","body":"<p>I have a gradle task to build a reproducible zip, hash it, then I check the hash is the same.</p>\n<pre><code>task buildZip(type: Zip) {\n    includeEmptyDirs = false\n    preserveFileTimestamps = false\n    reproducibleFileOrder = true\n\n    from sourceSets.main.output\n}\n\ntask createChecksums(type: Checksum, dependsOn: build) {\n    inputFiles.setFrom(&quot;${buildDir}/distributions&quot;);\n    appendFileNameToChecksum.set(true)\n}\n</code></pre>\n<p>This works as expected and the hash is consistent. However I noticed when I try to include the .jar dependencies under <code>configurations.runtimeClassPath</code>:</p>\n<pre><code>task buildZip(type: Zip) {\n    includeEmptyDirs = false\n    preserveFileTimestamps = false\n    reproducibleFileOrder = true\n\n    from sourceSets.main.output\n    \n    into(&quot;lib&quot;) {\n        from configurations.runtimeClasspath\n    }\n}\n</code></pre>\n<p>The hash changes on every clean build. Why is this happening and how to correct it?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693121953,"creation_date":1693121953,"answer_id":76986112,"question_id":76985790,"body_markdown":"By providing a bean implementing `HealthIndicator`, you contribute a *custom* health indicator, rather than overriding some default. The base `/actuator/health` then returns an aggregate over all registered beans, including yours. \r\n\r\nTry naming your bean `CustomHealthIndicator` and you should be able to see your detail under `/actuator/health/custom`. ","title":"Spring Boot app : adding values to health endpoint response","body":"<p>By providing a bean implementing <code>HealthIndicator</code>, you contribute a <em>custom</em> health indicator, rather than overriding some default. The base <code>/actuator/health</code> then returns an aggregate over all registered beans, including yours.</p>\n<p>Try naming your bean <code>CustomHealthIndicator</code> and you should be able to see your detail under <code>/actuator/health/custom</code>.</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693121953,"creation_date":1693113184,"question_id":76985790,"body_markdown":"I am trying to add custom functionality to health check endpoint. \r\nCreated class according to\r\n[this][1]  post : \r\n\r\n```\r\n@Component\r\npublic class CustomHealthCheck extends AbstractHealthIndicator {\r\n\t@Override\r\n\tprotected void doHealthCheck(Health.Builder builder) throws Exception {\r\n\t\tboolean someValue = true;\r\n\t\tif (someValue) {\r\n\t\t\tbuilder.withDetail(&quot;MyCustomField&quot;, &quot;MyValue&quot;);\r\n\t\t\tbuilder.up();\r\n\t\t} else {\r\n\t\t\tbuilder.down();\r\n\t\t}\r\n\t}\r\n} \r\n```\r\nBut when accessing to health endpoint via postman or via browser\r\n(&lt;mylocalurl&gt;/actuator/health)\r\nI got response \r\n```\r\n{\r\n\t&quot;status&quot;: &quot;UP&quot;\r\n} \r\n```\r\ni.e. custom field was not added to the response \r\nI also see in debugger , that doHealthCheck method of CustomHealthCheck was executed \r\n\r\nHere are relevant definitions from application.properties :\r\n```\r\nmanagement.endpoints.enabled-by-default=true\r\nmanagement.endpoint.health.enabled=true\r\nmanagement.endpoint.info.enabled=true\r\nmanagement.endpoints.web.exposure.include=health,info\r\n```\r\nIs there something missing in the code or definitions ? Thanks in advance  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44849568/how-to-add-a-custom-health-check-in-spring-boot-health","title":"Spring Boot app : adding values to health endpoint response","body":"<p>I am trying to add custom functionality to health check endpoint.\nCreated class according to\n<a href=\"https://stackoverflow.com/questions/44849568/how-to-add-a-custom-health-check-in-spring-boot-health\">this</a>  post :</p>\n<pre><code>@Component\npublic class CustomHealthCheck extends AbstractHealthIndicator {\n    @Override\n    protected void doHealthCheck(Health.Builder builder) throws Exception {\n        boolean someValue = true;\n        if (someValue) {\n            builder.withDetail(&quot;MyCustomField&quot;, &quot;MyValue&quot;);\n            builder.up();\n        } else {\n            builder.down();\n        }\n    }\n} \n</code></pre>\n<p>But when accessing to health endpoint via postman or via browser\n(/actuator/health)\nI got response</p>\n<pre><code>{\n    &quot;status&quot;: &quot;UP&quot;\n} \n</code></pre>\n<p>i.e. custom field was not added to the response\nI also see in debugger , that doHealthCheck method of CustomHealthCheck was executed</p>\n<p>Here are relevant definitions from application.properties :</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.info.enabled=true\nmanagement.endpoints.web.exposure.include=health,info\n</code></pre>\n<p>Is there something missing in the code or definitions ? Thanks in advance</p>\n"},{"tags":["java","android","user-interface"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693122658,"post_id":76986088,"comment_id":135716429,"body_markdown":"On what are you displaying your text?","body":"On what are you displaying your text?"},{"owner":{"account_id":28507881,"reputation":84,"user_id":21818286,"display_name":"umar mnaq"},"score":0,"creation_date":1693123033,"post_id":76986088,"comment_id":135716463,"body_markdown":"@blackapps In a TextView","body":"@blackapps In a TextView"}],"owner":{"account_id":28507881,"reputation":84,"user_id":21818286,"display_name":"umar mnaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693121532,"creation_date":1693121532,"question_id":76986088,"body_markdown":"I want to make a text reader app. I have a paragraph and I want to play the audio that corresponds to the sentece that the user click on. How can I find out which sentence the user clicks on?\r\n\r\n\r\n```java\r\n    private void init() {\r\n        String definition = &quot;Oh My God What Are You Doing Here My Extremely Nice Friend Who Lives In Timbuktu&quot;.trim();\r\n        TextView definitionView = (TextView) findViewById(R.id.text);\r\n        definitionView.setMovementMethod(LinkMovementMethod.getInstance());\r\n        definitionView.setText(definition, TextView.BufferType.SPANNABLE);\r\n        Spannable spans = (Spannable) definitionView.getText();\r\n        BreakIterator iterator = BreakIterator.getWordInstance(Locale.US);\r\n        iterator.setText(definition);\r\n        int start = iterator.first();\r\n        for (int end = iterator.next(); end != BreakIterator.DONE; start = end, end = iterator\r\n                .next()) {\r\n            String possibleWord = definition.substring(start, end);\r\n            if (Character.isLetterOrDigit(possibleWord.charAt(0))) {\r\n                ClickableSpan clickSpan = getClickableSpan(possibleWord);\r\n                spans.setSpan(clickSpan, start, end,\r\n                        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n            }\r\n        }\r\n    }\r\n\r\n    private ClickableSpan getClickableSpan(final String word) {\r\n        return new ClickableSpan() {\r\n            final String mWord;\r\n            {\r\n                mWord = word;\r\n            }\r\n\r\n            @Override\r\n            public void onClick(View widget) {\r\n                Log.d(&quot;tapped on:&quot;, mWord);\r\n                Toast.makeText(widget.getContext(), mWord, Toast.LENGTH_SHORT)\r\n                        .show();\r\n            }\r\n\r\n            public void updateDrawState(TextPaint ds) {\r\n                super.updateDrawState(ds);\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nThis is what I have so far, but it only checks for words not sentences.","title":"Find which sentence the user clicks on in android","body":"<p>I want to make a text reader app. I have a paragraph and I want to play the audio that corresponds to the sentece that the user click on. How can I find out which sentence the user clicks on?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void init() {\n        String definition = &quot;Oh My God What Are You Doing Here My Extremely Nice Friend Who Lives In Timbuktu&quot;.trim();\n        TextView definitionView = (TextView) findViewById(R.id.text);\n        definitionView.setMovementMethod(LinkMovementMethod.getInstance());\n        definitionView.setText(definition, TextView.BufferType.SPANNABLE);\n        Spannable spans = (Spannable) definitionView.getText();\n        BreakIterator iterator = BreakIterator.getWordInstance(Locale.US);\n        iterator.setText(definition);\n        int start = iterator.first();\n        for (int end = iterator.next(); end != BreakIterator.DONE; start = end, end = iterator\n                .next()) {\n            String possibleWord = definition.substring(start, end);\n            if (Character.isLetterOrDigit(possibleWord.charAt(0))) {\n                ClickableSpan clickSpan = getClickableSpan(possibleWord);\n                spans.setSpan(clickSpan, start, end,\n                        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n            }\n        }\n    }\n\n    private ClickableSpan getClickableSpan(final String word) {\n        return new ClickableSpan() {\n            final String mWord;\n            {\n                mWord = word;\n            }\n\n            @Override\n            public void onClick(View widget) {\n                Log.d(&quot;tapped on:&quot;, mWord);\n                Toast.makeText(widget.getContext(), mWord, Toast.LENGTH_SHORT)\n                        .show();\n            }\n\n            public void updateDrawState(TextPaint ds) {\n                super.updateDrawState(ds);\n            }\n        };\n    }\n</code></pre>\n<p>This is what I have so far, but it only checks for words not sentences.</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629482081,"creation_date":1629482081,"answer_id":68866322,"question_id":68865964,"body_markdown":"As mentioned by @vaibhavsahu in the comments you can create user defined snippets in VSCode: https://code.visualstudio.com/docs/editor/userdefinedsnippets\r\n\r\nHere&#39;s a relevant excerpt from that document which shows where to locate the user defined snippets file:\r\n\r\n&gt;You can easily define your own snippets without any extension. To create or edit your own snippets, select User Snippets under File &gt; Preferences (Code &gt; Preferences on macOS), and then select the language (by language identifier) for which the snippets should appear, or the New Global Snippets file option if they should appear for all languages. VS Code manages the creation and refreshing of the underlying snippets file(s) for you.\r\n\r\nSo in your case you&#39;d go to File (or Code on macOS) &gt; Preferences &gt; User Defined Snippets and then type in Java, this should open a java.json file (which contains an example user defined snippet commented out).\r\n\r\nI think this snippet would do it for what you&#39;re trying to accomplish:\r\n\r\n    &quot;System.out.println(placeholder)&quot;: {\r\n\t\t&quot;prefix&quot;: &quot;sysout&quot;,\r\n\t\t&quot;body&quot; : [&quot;System.out.println(${1:string})&quot;],\r\n\t\t&quot;description&quot; : &quot;System out println with placeholder in parens&quot;\r\n\t}\r\n\r\nThen when you start typing `sysout` in a .java file IntelliSense should show the recommendation for the code snippet, when you enter enter it should be substituted in with your placeholder in the parens.\r\n\r\n\r\nEdit:\r\n\r\nThe `System.out.println(placeholder)` from the java.json file is just what displays in the IntelliSense dropdown, you could make it `System print` or whatever you&#39;d like so that you&#39;ll recognize it. The actual code which gets substituted is in the &quot;body&quot;\r\n","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>As mentioned by @vaibhavsahu in the comments you can create user defined snippets in VSCode: <a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets\" rel=\"noreferrer\">https://code.visualstudio.com/docs/editor/userdefinedsnippets</a></p>\n<p>Here's a relevant excerpt from that document which shows where to locate the user defined snippets file:</p>\n<blockquote>\n<p>You can easily define your own snippets without any extension. To create or edit your own snippets, select User Snippets under File &gt; Preferences (Code &gt; Preferences on macOS), and then select the language (by language identifier) for which the snippets should appear, or the New Global Snippets file option if they should appear for all languages. VS Code manages the creation and refreshing of the underlying snippets file(s) for you.</p>\n</blockquote>\n<p>So in your case you'd go to File (or Code on macOS) &gt; Preferences &gt; User Defined Snippets and then type in Java, this should open a java.json file (which contains an example user defined snippet commented out).</p>\n<p>I think this snippet would do it for what you're trying to accomplish:</p>\n<pre><code>&quot;System.out.println(placeholder)&quot;: {\n    &quot;prefix&quot;: &quot;sysout&quot;,\n    &quot;body&quot; : [&quot;System.out.println(${1:string})&quot;],\n    &quot;description&quot; : &quot;System out println with placeholder in parens&quot;\n}\n</code></pre>\n<p>Then when you start typing <code>sysout</code> in a .java file IntelliSense should show the recommendation for the code snippet, when you enter enter it should be substituted in with your placeholder in the parens.</p>\n<p>Edit:</p>\n<p>The <code>System.out.println(placeholder)</code> from the java.json file is just what displays in the IntelliSense dropdown, you could make it <code>System print</code> or whatever you'd like so that you'll recognize it. The actual code which gets substituted is in the &quot;body&quot;</p>\n"},{"comments":[{"owner":{"account_id":1134177,"reputation":2143,"user_id":1119602,"accept_rate":70,"display_name":"Winand"},"score":0,"creation_date":1640761510,"post_id":68900904,"comment_id":124651048,"body_markdown":"`&gt;Insert Snippet` command doesn&#39;t show these ones. Is there a way to see a list of all snippets?","body":"<code>&gt;Insert Snippet</code> command doesn&#39;t show these ones. Is there a way to see a list of all snippets?"},{"owner":{"account_id":1134177,"reputation":2143,"user_id":1119602,"accept_rate":70,"display_name":"Winand"},"score":0,"creation_date":1640762327,"post_id":68900904,"comment_id":124651217,"body_markdown":"(Upd.) Snippets from `server.json` are not displayed in `Insert Snippet` list. https://github.com/redhat-developer/vscode-java/tree/master/snippets","body":"(Upd.) Snippets from <code>server.json</code> are not displayed in <code>Insert Snippet</code> list. <a href=\"https://github.com/redhat-developer/vscode-java/tree/master/snippets\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/tree/master/snippets</a>"},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1640852174,"post_id":68900904,"comment_id":124674073,"body_markdown":"The server snippet won&#39;t display until the server is ready. (when the thumb-up appear at the right bottom corner)","body":"The server snippet won&#39;t display until the server is ready. (when the thumb-up appear at the right bottom corner)"},{"owner":{"account_id":1134177,"reputation":2143,"user_id":1119602,"accept_rate":70,"display_name":"Winand"},"score":0,"creation_date":1640870048,"post_id":68900904,"comment_id":124679218,"body_markdown":"There&#39;s a thumb-up symbol and I can use all these snippets, but they are not displayed in the list of &quot;&gt;Insert Snippet&quot; command&#129335; (side note: I use dev container for Java development)","body":"There&#39;s a thumb-up symbol and I can use all these snippets, but they are not displayed in the list of &quot;&gt;Insert Snippet&quot; commandü§∑ (side note: I use dev container for Java development)"},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":1,"creation_date":1641009170,"post_id":68900904,"comment_id":124707190,"body_markdown":"Ah, I see. This is because the snippets in the screenshot above are calculated at the server side - having the context information. While the ones in &quot;&gt; Insert Snippet&quot; command list are &quot;static&quot; snippets. This is a good point that we can improve in this area.","body":"Ah, I see. This is because the snippets in the screenshot above are calculated at the server side - having the context information. While the ones in &quot;&gt; Insert Snippet&quot; command list are &quot;static&quot; snippets. This is a good point that we can improve in this area."}],"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1629770267,"creation_date":1629770267,"answer_id":68900904,"question_id":68865964,"body_markdown":"There is no need to define the snippet yourself. You can install https://marketplace.visualstudio.com/items?itemName=redhat.java, which contains the predefined snippet for your case (and more than that), here are some screenshot:\r\n\r\nsysout:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nsyserr:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nand even systrace:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oPJb8.png\r\n  [2]: https://i.stack.imgur.com/serOt.png\r\n  [3]: https://i.stack.imgur.com/kvNYe.png\r\n\r\n&gt; If you want to developing your Java application in VS Code, you can also install https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack, which provides debugging, testing, project managing capabilities to you.","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>There is no need to define the snippet yourself. You can install <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=redhat.java</a>, which contains the predefined snippet for your case (and more than that), here are some screenshot:</p>\n<p>sysout:</p>\n<p><a href=\"https://i.stack.imgur.com/oPJb8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oPJb8.png\" alt=\"enter image description here\" /></a></p>\n<p>syserr:</p>\n<p><a href=\"https://i.stack.imgur.com/serOt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/serOt.png\" alt=\"enter image description here\" /></a></p>\n<p>and even systrace:</p>\n<p><a href=\"https://i.stack.imgur.com/kvNYe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kvNYe.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>If you want to developing your Java application in VS Code, you can also install <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack</a>, which provides debugging, testing, project managing capabilities to you.</p>\n</blockquote>\n"}],"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26345,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":68900904,"answer_count":2,"score":7,"last_activity_date":1693117949,"creation_date":1629480132,"question_id":68865964,"body_markdown":"I am using visual studio code IDE for my Java project and I want to create a shortcut for: \r\n\r\n```java\r\nSystem.out.println();\r\n```\r\nThat is if I write `sysout` or something like that it will automatically changed to `System.out.println();` with cursor inside parenthesis.\r\n\r\nIs there any way it can be achieved in VScode?","title":"Create a shortcut for system.out.println in visual studio code","body":"<p>I am using visual studio code IDE for my Java project and I want to create a shortcut for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println();\n</code></pre>\n<p>That is if I write <code>sysout</code> or something like that it will automatically changed to <code>System.out.println();</code> with cursor inside parenthesis.</p>\n<p>Is there any way it can be achieved in VScode?</p>\n"},{"tags":["java","gradle","quarkus","publish-subscribe","dapr"],"answers":[{"tags":[],"owner":{"account_id":540886,"reputation":323,"user_id":909239,"display_name":"oMG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693116870,"creation_date":1693116870,"answer_id":76985904,"question_id":76984941,"body_markdown":"As it seems io.quarkiverse.dapr:quarkus-dapr example in github is updated to work with Quarkus 3+ but the latest version released is for version 2.\r\n\r\nThe only solutions I see is either work with an older Quarkus version or build the source code from github.","title":"Dapr - Quarkus Run/Build Error java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader","body":"<p>As it seems io.quarkiverse.dapr:quarkus-dapr example in github is updated to work with Quarkus 3+ but the latest version released is for version 2.</p>\n<p>The only solutions I see is either work with an older Quarkus version or build the source code from github.</p>\n"}],"owner":{"account_id":540886,"reputation":323,"user_id":909239,"display_name":"oMG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693116870,"creation_date":1693086069,"question_id":76984941,"body_markdown":"I&#39;m trying to build a very simple Pub/Sub demo based on [this][1] using Dapr &amp; Quarkus &amp; Gradle and I&#39;m facing this error:\r\n\r\n    [error]: Build step io.quarkiverse.dapr.deployment.DaprProcessor#vertxProviders threw an exception: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n\tat io.quarkiverse.dapr.deployment.DaprProcessor.vertxProviders(DaprProcessor.java:115)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:858)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:282)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1512)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n    Caused by: java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:516)\r\n    \tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n    \t... 14 more\r\n\r\n when Quarkus tries to start or build.\r\n\r\nThis is my build.gradle file:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;io.quarkus&#39;\r\n    }\r\n    \r\n    wrapper{\r\n        gradleVersion = &#39;7.6&#39;\r\n        distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\r\n    }\r\n    \r\n    group &#39;com.test&#39;\r\n    version &#39;1.0.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n        implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\r\n        implementation &#39;io.dapr:dapr-sdk:1.9.0&#39;\r\n        implementation &#39;io.dapr:dapr-sdk-actors:1.9.0&#39;\r\n        implementation &#39;io.quarkiverse.dapr:quarkus-dapr:1.0.4&#39;\r\n        implementation &#39;io.quarkus:quarkus-resteasy-reactive-jackson&#39;\r\n        implementation &#39;io.quarkus:quarkus-arc&#39;\r\n    \r\n    \r\n    \r\n    //\t\timplementation &#39;io.quarkus:quarkus-resteasy-reactive&#39;\r\n    //\t\timplementation &#39;io.quarkus:quarkus-rest-client-reactive-jackson&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n        testCompileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n    \r\n        testImplementation &#39;io.quarkus:quarkus-junit5&#39;\r\n        testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n        targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    compileJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n        options.compilerArgs &lt;&lt; &#39;-parameters&#39;\r\n    }\r\n    test {\r\n        systemProperty &quot;java.util.logging.manager&quot;, &quot;org.jboss.logmanager.LogManager&quot;\r\n    }\r\n    \r\n    compileTestJava {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n\r\ngradle.properties\r\n\r\n    #Gradle properties\r\n    quarkusPluginId=io.quarkus\r\n    quarkusPluginVersion=3.3.0\r\n    quarkusPlatformGroupId=io.quarkus.platform\r\n    quarkusPlatformArtifactId=quarkus-bom\r\n    quarkusPlatformVersion=3.3.0\r\n\r\nPubsubResource.java\r\n\r\n    package io.quarkiverse.dapr.demo;\r\n    \r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import jakarta.enterprise.context.ApplicationScoped;\r\n    import jakarta.inject.Inject;\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.POST;\r\n    import jakarta.ws.rs.Path;\r\n    \r\n    import io.dapr.Topic;\r\n    import io.dapr.client.domain.CloudEvent;\r\n    import io.quarkiverse.dapr.core.SyncDaprClient;\r\n    \r\n    @Path(&quot;/pubsub&quot;)\r\n    @ApplicationScoped\r\n    public class PubsubResource {\r\n        private final AtomicInteger counter = new AtomicInteger(1);\r\n    \r\n        @Inject\r\n        SyncDaprClient dapr;\r\n    \r\n        @GET\r\n        public String hello() {\r\n            return &quot;Hello, this is quarkus-dapr demo app1&quot;;\r\n        }\r\n    \r\n        @GET\r\n        @Path(&quot;/trigger/topic1&quot;)\r\n        public String triggerSendEvent2Topic1() {\r\n            int content = counter.getAndIncrement();\r\n            dapr.publishEvent(&quot;topic1&quot;, content);\r\n            System.out.println(&quot;App1 succeeds to send event to topic1 with content=&quot; + content);\r\n    \r\n            return &quot;App1 succeeds to send event to topic1 with content=&quot; + content;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic2&quot;)\r\n        @Topic(name = &quot;topic2&quot;)\r\n        public String eventOnTopic2(String content) {\r\n            System.out.println(&quot;App1 received event from topic2: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic2&quot;;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic3&quot;)\r\n        @Topic(name = &quot;topic3&quot;)\r\n        public String eventOnTopic3(CloudEvent&lt;String&gt; event) {\r\n            String content = event.getData();\r\n            System.out.println(&quot;App1 received event from topic3: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic3&quot;;\r\n        }\r\n    \r\n        @POST\r\n        @Path(&quot;/topic4&quot;)\r\n        @Topic(name = &quot;topic4&quot;)\r\n        public String eventOnTopic4(CloudEvent&lt;TestData&gt; event) {\r\n            TestData testData = event.getData();\r\n            String content = testData.getContent();\r\n            System.out.println(&quot;App1 received event from topic4: content=&quot; + content);\r\n    \r\n            return &quot;App1 received event from topic4&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nThe issue seems to be with the **io.quarkiverse.dapr:quarkus-dapr** import and I&#39;m not sure if I&#39;m missing another import, a configuration or there is a bug with it.\r\n\r\nAny help will be appreciated :-)\r\n \r\n  [1]: https://github.com/quarkiverse/quarkus-dapr/tree/main/demo\r\n\r\n\r\n","title":"Dapr - Quarkus Run/Build Error java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader","body":"<p>I'm trying to build a very simple Pub/Sub demo based on <a href=\"https://github.com/quarkiverse/quarkus-dapr/tree/main/demo\" rel=\"nofollow noreferrer\">this</a> using Dapr &amp; Quarkus &amp; Gradle and I'm facing this error:</p>\n<pre><code>[error]: Build step io.quarkiverse.dapr.deployment.DaprProcessor#vertxProviders threw an exception: java.lang.NoClassDefFoundError: javax/ws/rs/ext/MessageBodyReader\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)\nat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\nat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\nat io.quarkiverse.dapr.deployment.DaprProcessor.vertxProviders(DaprProcessor.java:115)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:577)\nat io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:858)\nat io.quarkus.builder.BuildContext.run(BuildContext.java:282)\nat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\nat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1512)\nat java.base/java.lang.Thread.run(Thread.java:833)\nat org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.ext.MessageBodyReader\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:516)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\n    ... 14 more\n</code></pre>\n<p>when Quarkus tries to start or build.</p>\n<p>This is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.quarkus'\n}\n\nwrapper{\n    gradleVersion = '7.6'\n    distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\n}\n\ngroup 'com.test'\nversion '1.0.0-SNAPSHOT'\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    jcenter()\n}\n\n\ndependencies {\n    implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\n    implementation 'io.dapr:dapr-sdk:1.9.0'\n    implementation 'io.dapr:dapr-sdk-actors:1.9.0'\n    implementation 'io.quarkiverse.dapr:quarkus-dapr:1.0.4'\n    implementation 'io.quarkus:quarkus-resteasy-reactive-jackson'\n    implementation 'io.quarkus:quarkus-arc'\n\n\n\n//      implementation 'io.quarkus:quarkus-resteasy-reactive'\n//      implementation 'io.quarkus:quarkus-rest-client-reactive-jackson'\n\n    compileOnly 'org.projectlombok:lombok:1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    testCompileOnly 'org.projectlombok:lombok:1.18.28'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    testImplementation 'io.quarkus:quarkus-junit5'\n    testImplementation 'io.rest-assured:rest-assured'\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\ncompileJava {\n    options.encoding = 'UTF-8'\n    options.compilerArgs &lt;&lt; '-parameters'\n}\ntest {\n    systemProperty &quot;java.util.logging.manager&quot;, &quot;org.jboss.logmanager.LogManager&quot;\n}\n\ncompileTestJava {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n<p>gradle.properties</p>\n<pre><code>#Gradle properties\nquarkusPluginId=io.quarkus\nquarkusPluginVersion=3.3.0\nquarkusPlatformGroupId=io.quarkus.platform\nquarkusPlatformArtifactId=quarkus-bom\nquarkusPlatformVersion=3.3.0\n</code></pre>\n<p>PubsubResource.java</p>\n<pre><code>package io.quarkiverse.dapr.demo;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\n\nimport io.dapr.Topic;\nimport io.dapr.client.domain.CloudEvent;\nimport io.quarkiverse.dapr.core.SyncDaprClient;\n\n@Path(&quot;/pubsub&quot;)\n@ApplicationScoped\npublic class PubsubResource {\n    private final AtomicInteger counter = new AtomicInteger(1);\n\n    @Inject\n    SyncDaprClient dapr;\n\n    @GET\n    public String hello() {\n        return &quot;Hello, this is quarkus-dapr demo app1&quot;;\n    }\n\n    @GET\n    @Path(&quot;/trigger/topic1&quot;)\n    public String triggerSendEvent2Topic1() {\n        int content = counter.getAndIncrement();\n        dapr.publishEvent(&quot;topic1&quot;, content);\n        System.out.println(&quot;App1 succeeds to send event to topic1 with content=&quot; + content);\n\n        return &quot;App1 succeeds to send event to topic1 with content=&quot; + content;\n    }\n\n    @POST\n    @Path(&quot;/topic2&quot;)\n    @Topic(name = &quot;topic2&quot;)\n    public String eventOnTopic2(String content) {\n        System.out.println(&quot;App1 received event from topic2: content=&quot; + content);\n\n        return &quot;App1 received event from topic2&quot;;\n    }\n\n    @POST\n    @Path(&quot;/topic3&quot;)\n    @Topic(name = &quot;topic3&quot;)\n    public String eventOnTopic3(CloudEvent&lt;String&gt; event) {\n        String content = event.getData();\n        System.out.println(&quot;App1 received event from topic3: content=&quot; + content);\n\n        return &quot;App1 received event from topic3&quot;;\n    }\n\n    @POST\n    @Path(&quot;/topic4&quot;)\n    @Topic(name = &quot;topic4&quot;)\n    public String eventOnTopic4(CloudEvent&lt;TestData&gt; event) {\n        TestData testData = event.getData();\n        String content = testData.getContent();\n        System.out.println(&quot;App1 received event from topic4: content=&quot; + content);\n\n        return &quot;App1 received event from topic4&quot;;\n    }\n\n}\n</code></pre>\n<p>The issue seems to be with the <strong>io.quarkiverse.dapr:quarkus-dapr</strong> import and I'm not sure if I'm missing another import, a configuration or there is a bug with it.</p>\n<p>Any help will be appreciated :-)</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":957496,"reputation":7121,"user_id":982542,"accept_rate":80,"display_name":"ThanksForAllTheFish"},"score":71,"creation_date":1423045954,"post_id":28319064,"comment_id":44986916,"body_markdown":"The second one. A proper function should have no side effects, in your first implementation you are modifying the external world.","body":"The second one. A proper function should have no side effects, in your first implementation you are modifying the external world."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":47,"creation_date":1423046420,"post_id":28319064,"comment_id":44987194,"body_markdown":"just a matter of style, but `elt -&gt; elt != null` can be replaced with `Objects::nonNull`","body":"just a matter of style, but <code>elt -&gt; elt != null</code> can be replaced with <code>Objects::nonNull</code>"},{"owner":{"account_id":5505924,"reputation":956,"user_id":4373784,"accept_rate":62,"display_name":"Szymon Roziewski"},"score":0,"creation_date":1423046767,"post_id":28319064,"comment_id":44987424,"body_markdown":"You can use the parallelStream `myFinalList = myListToParse.parallelStream().filter(elt -&gt; elt != null).map(elt -&gt; doSomething(elt)).collect(Collectors.toList());` to boost performance","body":"You can use the parallelStream <code>myFinalList = myListToParse.parallelStream().filter(elt -&gt; elt != null).map(elt -&gt; doSomething(elt)).collect(Collectors.toList());</code> to boost performance"},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":2,"creation_date":1423046868,"post_id":28319064,"comment_id":44987473,"body_markdown":"@the8472 Even better would be to make sure there are no null values in the collection in the first place, and use `Optional&lt;T&gt;` instead in combination with `flatMap`.","body":"@the8472 Even better would be to make sure there are no null values in the collection in the first place, and use <code>Optional&lt;T&gt;</code> instead in combination with <code>flatMap</code>."},{"owner":{"display_name":"user3248346"},"score":2,"creation_date":1423046886,"post_id":28319064,"comment_id":44987485,"body_markdown":"@SzymonRoziewski, not quite. For something as trivial as this, the work needed to setup the parallelstream under the hood will make using this construct mute.","body":"@SzymonRoziewski, not quite. For something as trivial as this, the work needed to setup the parallelstream under the hood will make using this construct mute."},{"owner":{"account_id":5505924,"reputation":956,"user_id":4373784,"accept_rate":62,"display_name":"Szymon Roziewski"},"score":1,"creation_date":1423047087,"post_id":28319064,"comment_id":44987608,"body_markdown":"@I.K. yes, that&#39;s true, not everytime parallelization is a good choice. But if your data is quite big, you can think about it.","body":"@I.K. yes, that&#39;s true, not everytime parallelization is a good choice. But if your data is quite big, you can think about it."},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":2,"creation_date":1423050944,"post_id":28319064,"comment_id":44989707,"body_markdown":"Note that you can write `.map(this::doSomething)` assuming that `doSomething` is a non-static method.  If it&#39;s static you can replace `this` with the class name.","body":"Note that you can write <code>.map(this::doSomething)</code> assuming that <code>doSomething</code> is a non-static method.  If it&#39;s static you can replace <code>this</code> with the class name."},{"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"score":0,"creation_date":1426125595,"post_id":28319064,"comment_id":46249095,"body_markdown":"there&#39;s a third way (using [toArray](http://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method)) - will add below for the sake of completeness, but the method 2 is preferrable","body":"there&#39;s a third way (using <a href=\"http://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method\">toArray</a>) - will add below for the sake of completeness, but the method 2 is preferrable"},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1485386464,"post_id":28319064,"comment_id":70910687,"body_markdown":"why not `.filter().collect()`??","body":"why not <code>.filter().collect()</code>??"},{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667154811,"post_id":28319064,"comment_id":131098537,"body_markdown":"With Java 17 `map(elt -&gt; doSomething(elt)).collect(Collectors.toList());` can be `map(elt -&gt; doSomething(elt)).toList()); ` The Java 17 version has the added benefit of returning an immutable list.","body":"With Java 17 <code>map(elt -&gt; doSomething(elt)).collect(Collectors.toList());</code> can be <code>map(elt -&gt; doSomething(elt)).toList()); </code> The Java 17 version has the added benefit of returning an immutable list."}],"answers":[{"comments":[{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":0,"creation_date":1423048125,"post_id":28319148,"comment_id":44988202,"body_markdown":"I&#39;m not sure this is correct advice: he could use `forEachOrdered` instead of `forEach` if he wanted to use a parallel stream but still preserve the order.  But as the documentation for `forEach` states, preserving the encounter order sacrifices the benefit of parallelism.  I suspect that is also the case with `toList` then.","body":"I&#39;m not sure this is correct advice: he could use <code>forEachOrdered</code> instead of <code>forEach</code> if he wanted to use a parallel stream but still preserve the order.  But as the documentation for <code>forEach</code> states, preserving the encounter order sacrifices the benefit of parallelism.  I suspect that is also the case with <code>toList</code> then."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1611941885,"post_id":28319148,"comment_id":116620981,"body_markdown":"OK.  According to https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html `the collect method is designed to perform the most common stream operations that have side effects in a parallel-safe manner. Operations like forEach and peek ... if you use one of these operations with a parallel stream, then the Java runtime may invoke the lambda expression that you specified as its parameter concurrently from multiple threads. ` So it carefully has some things atomic and some not. Weird.  Assuming that is the case, option 1, if made parallel, might have contention issues...","body":"OK.  According to <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/streams/&hellip;</a> <code>the collect method is designed to perform the most common stream operations that have side effects in a parallel-safe manner. Operations like forEach and peek ... if you use one of these operations with a parallel stream, then the Java runtime may invoke the lambda expression that you specified as its parameter concurrently from multiple threads. </code> So it carefully has some things atomic and some not. Weird.  Assuming that is the case, option 1, if made parallel, might have contention issues..."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1423046095,"creation_date":1423046095,"answer_id":28319148,"question_id":28319064,"body_markdown":"I prefer the second way.\r\n\r\nWhen you use the first way, if you decide to use a parallel stream to improve performance, you&#39;ll have no control over the order in which the elements will be added to the output list by `forEach`. \r\n\r\nWhen you use `toList`, the Streams API will preserve the order even if you use a parallel stream.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I prefer the second way.</p>\n\n<p>When you use the first way, if you decide to use a parallel stream to improve performance, you'll have no control over the order in which the elements will be added to the output list by <code>forEach</code>. </p>\n\n<p>When you use <code>toList</code>, the Streams API will preserve the order even if you use a parallel stream.</p>\n"},{"tags":[],"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"comment_count":0,"down_vote_count":0,"up_vote_count":220,"is_accepted":true,"score":220,"last_activity_date":1620872309,"creation_date":1423046290,"answer_id":28319221,"question_id":28319064,"body_markdown":"Don&#39;t worry about any performance differences, they&#39;re going to be minimal in this case normally.\r\n\r\nMethod 2 is preferable because\r\n\r\n1. it doesn&#39;t require mutating a collection that exists outside the lambda expression.\r\n\r\n2. it&#39;s more readable because the different steps that are performed in the collection pipeline are written sequentially: first a filter operation, then a map operation, then collecting the result (for more info on the benefits of collection pipelines, see Martin Fowler&#39;s [excellent article][1].)\r\n\r\n3. you can easily change the way values are collected by replacing the `Collector` that is used.  In some cases you may need to write your own `Collector`, but then the benefit is that you can easily reuse that.\r\n\r\n\r\n  [1]: http://martinfowler.com/articles/collection-pipeline/","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>Don't worry about any performance differences, they're going to be minimal in this case normally.</p>\n<p>Method 2 is preferable because</p>\n<ol>\n<li><p>it doesn't require mutating a collection that exists outside the lambda expression.</p>\n</li>\n<li><p>it's more readable because the different steps that are performed in the collection pipeline are written sequentially: first a filter operation, then a map operation, then collecting the result (for more info on the benefits of collection pipelines, see Martin Fowler's <a href=\"http://martinfowler.com/articles/collection-pipeline/\" rel=\"noreferrer\">excellent article</a>.)</p>\n</li>\n<li><p>you can easily change the way values are collected by replacing the <code>Collector</code> that is used.  In some cases you may need to write your own <code>Collector</code>, but then the benefit is that you can easily reuse that.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1844613,"reputation":2082,"user_id":1673243,"display_name":"Giuseppe Bertone"},"score":1,"creation_date":1453572043,"post_id":28321016,"comment_id":57663951,"body_markdown":"About performance, in your case &quot;map&quot; really wins over &quot;forEach&quot; if you use parallelStreams. My benchmaks in milliseconds: SO28319064.forEach: 187,310 &#177; 1,768  ms/op -- SO28319064.map: 189,180 &#177; 1,692  ms/op --SO28319064.mapParallelStream: 55,577 &#177; 0,782  ms/op","body":"About performance, in your case &quot;map&quot; really wins over &quot;forEach&quot; if you use parallelStreams. My benchmaks in milliseconds: SO28319064.forEach: 187,310 &#177; 1,768  ms/op -- SO28319064.map: 189,180 &#177; 1,692  ms/op --SO28319064.mapParallelStream: 55,577 &#177; 0,782  ms/op"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1453602532,"post_id":28321016,"comment_id":57672945,"body_markdown":"@GiuseppeBertone, it&#39;s up to assylias, but to my opinion your edit contradicts the original author&#39;s intent. If you want to add your own answer, it&#39;s better to add it instead of editing the existing one so much. Also now the link to the microbenchmark is not relevant to the results.","body":"@GiuseppeBertone, it&#39;s up to assylias, but to my opinion your edit contradicts the original author&#39;s intent. If you want to add your own answer, it&#39;s better to add it instead of editing the existing one so much. Also now the link to the microbenchmark is not relevant to the results."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":2,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1453575735,"creation_date":1423051755,"answer_id":28321016,"question_id":28319064,"body_markdown":"I agree with the existing answers that the second form is better because it does not have any side effects and is easier to parallelise (just use a parallel stream).\r\n\r\nPerformance wise, it appears they are equivalent until you start using parallel streams. In that case, **map** will perform really much better. See below the [micro benchmark][1] results:\r\n\r\n    Benchmark                         Mode  Samples    Score   Error  Units\r\n    SO28319064.forEach                avgt      100  187.310 &#177; 1.768  ms/op\r\n    SO28319064.map                    avgt      100  189.180 &#177; 1.692  ms/op\r\n    SO28319064.mapWithParallelStream  avgt      100   55,577 &#177; 0,782  ms/op\r\n\r\nYou can&#39;t boost the first example in the same manner because **forEach** is a terminal method - it returns void - so you are forced to use a stateful lambda. But [that is really a bad idea if you are using parallel streams][2].\r\n\r\nFinally note that your second snippet can be written in a sligthly more concise way with method references and static imports:\r\n\r\n    myFinalList = myListToParse.stream()\r\n        .filter(Objects::nonNull)\r\n        .map(this::doSomething)\r\n        .collect(toList()); \r\n\r\n\r\n  [1]: https://bitbucket.org/assylias/performance/src/master/src/main/java/com/assylias/performance/SO28319064.java\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#stateful_lambda_expressions","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I agree with the existing answers that the second form is better because it does not have any side effects and is easier to parallelise (just use a parallel stream).</p>\n\n<p>Performance wise, it appears they are equivalent until you start using parallel streams. In that case, <strong>map</strong> will perform really much better. See below the <a href=\"https://bitbucket.org/assylias/performance/src/master/src/main/java/com/assylias/performance/SO28319064.java\">micro benchmark</a> results:</p>\n\n<pre><code>Benchmark                         Mode  Samples    Score   Error  Units\nSO28319064.forEach                avgt      100  187.310 ¬± 1.768  ms/op\nSO28319064.map                    avgt      100  189.180 ¬± 1.692  ms/op\nSO28319064.mapWithParallelStream  avgt      100   55,577 ¬± 0,782  ms/op\n</code></pre>\n\n<p>You can't boost the first example in the same manner because <strong>forEach</strong> is a terminal method - it returns void - so you are forced to use a stateful lambda. But <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#stateful_lambda_expressions\">that is really a bad idea if you are using parallel streams</a>.</p>\n\n<p>Finally note that your second snippet can be written in a sligthly more concise way with method references and static imports:</p>\n\n<pre><code>myFinalList = myListToParse.stream()\n    .filter(Objects::nonNull)\n    .map(this::doSomething)\n    .collect(toList()); \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3248346"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423059587,"creation_date":1423059265,"answer_id":28323553,"question_id":28319064,"body_markdown":"One of the main benefits of using streams is that it gives the ability to process data in a declarative way, that is, using a functional style of programming. It also gives multi-threading capability for free meaning there is no need to write any extra multi-threaded code to make your stream concurrent.\r\n\r\nAssuming the reason you are exploring this style of programming is that you want to exploit these benefits then your first code sample is potentially not functional since the `foreach` method is classed as being terminal (meaning that it can produce side-effects).\r\n\r\nThe second way is preferred from functional programming point of view since the map function can accept stateless lambda functions. More explicitly, the lambda passed to the map function should be\r\n\r\n 1. Non-interfering, meaning that the function should not alter the source of the stream if it is non-concurrent (e.g. `ArrayList`).\r\n 2. Stateless to avoid unexpected results when doing parallel processing (caused by thread scheduling differences).\r\n\r\nAnother benefit with the second approach is if the stream is parallel and the collector is concurrent and unordered then these characteristics can provide useful hints to the reduction operation to do the collecting concurrently.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>One of the main benefits of using streams is that it gives the ability to process data in a declarative way, that is, using a functional style of programming. It also gives multi-threading capability for free meaning there is no need to write any extra multi-threaded code to make your stream concurrent.</p>\n\n<p>Assuming the reason you are exploring this style of programming is that you want to exploit these benefits then your first code sample is potentially not functional since the <code>foreach</code> method is classed as being terminal (meaning that it can produce side-effects).</p>\n\n<p>The second way is preferred from functional programming point of view since the map function can accept stateless lambda functions. More explicitly, the lambda passed to the map function should be</p>\n\n<ol>\n<li>Non-interfering, meaning that the function should not alter the source of the stream if it is non-concurrent (e.g. <code>ArrayList</code>).</li>\n<li>Stateless to avoid unexpected results when doing parallel processing (caused by thread scheduling differences).</li>\n</ol>\n\n<p>Another benefit with the second approach is if the stream is parallel and the collector is concurrent and unordered then these characteristics can provide useful hints to the reduction operation to do the collecting concurrently.</p>\n"},{"comments":[{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1692645805,"post_id":28355204,"comment_id":135649277,"body_markdown":"While this seems correct and may be good advice, this does not answer the question asked, which is about transformation/map.","body":"While this seems correct and may be good advice, this does not answer the question asked, which is about transformation/map."},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":1,"creation_date":1692926591,"post_id":28355204,"comment_id":135694288,"body_markdown":"@PhilippeCloutier I edited my answer to use the doSomething() method that appears in the original question, to clarify that collectIf() does transform/map in addition to filtering.","body":"@PhilippeCloutier I edited my answer to use the doSomething() method that appears in the original question, to clarify that collectIf() does transform/map in addition to filtering."},{"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"score":0,"creation_date":1692985975,"post_id":28355204,"comment_id":135704880,"body_markdown":"Ah, I see now. I submitted an edit to clarify that this addresses the OP&#39;s specific problem.","body":"Ah, I see now. I submitted an edit to clarify that this addresses the OP&#39;s specific problem."}],"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1693116325,"creation_date":1423174917,"answer_id":28355204,"question_id":28319064,"body_markdown":"If you use [Eclipse Collections][1], there is indeed a third way to approach your specific example. [Eclipse Collections&#39; `collectIf()` method][2] allows a single call to deal with both filtering and transformation.\r\n\r\n```java\r\nmyFinalList = myListToParse.collectIf(\r\n    Objects::nonNull,\r\n    elt -&gt; doSomething(elt));\r\n```\r\n\r\nIt evaluates eagerly and should be a bit faster than using a `Stream`.\r\n\r\nEC&#39;s Collect pattern is [documented in its reference guide][3].\r\n\r\n**Note:** I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/RichIterable.html#collectIf(org.eclipse.collections.api.block.predicate.Predicate,org.eclipse.collections.api.block.function.Function)\r\n  [3]: https://github.com/eclipse/eclipse-collections/blob/master/docs/1-Iteration_Patterns.adoc#collect-pattern","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>If you use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, there is indeed a third way to approach your specific example. <a href=\"https://eclipse.dev/collections/javadoc/11.1.0/org/eclipse/collections/api/RichIterable.html#collectIf(org.eclipse.collections.api.block.predicate.Predicate,org.eclipse.collections.api.block.function.Function)\" rel=\"nofollow noreferrer\">Eclipse Collections' <code>collectIf()</code> method</a> allows a single call to deal with both filtering and transformation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>myFinalList = myListToParse.collectIf(\n    Objects::nonNull,\n    elt -&gt; doSomething(elt));\n</code></pre>\n<p>It evaluates eagerly and should be a bit faster than using a <code>Stream</code>.</p>\n<p>EC's Collect pattern is <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/docs/1-Iteration_Patterns.adoc#collect-pattern\" rel=\"nofollow noreferrer\">documented in its reference guide</a>.</p>\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":5791518,"reputation":757,"user_id":4568811,"display_name":"harshtuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426200056,"creation_date":1426126572,"answer_id":29000802,"question_id":28319064,"body_markdown":"There is a third option - using `stream().toArray()` - see comments under [why didn&#39;t stream have a toList method](https://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method). It turns out to be slower than forEach() or collect(), and less expressive. It might be optimised in later JDK builds, so adding it here just in case.\r\n\r\nassuming `List&lt;String&gt;`\r\n\r\n        myFinalList = Arrays.asList(\r\n                myListToParse.stream()\r\n                        .filter(Objects::nonNull)\r\n                        .map(this::doSomething)\r\n                        .toArray(String[]::new)\r\n        );\r\n\r\nwith a micro-micro benchmark, 1M entries, 20% nulls and simple transform in doSomething()\r\n\r\n    private LongSummaryStatistics benchmark(final String testName, final Runnable methodToTest, int samples) {\r\n        long[] timing = new long[samples];\r\n        for (int i = 0; i &lt; samples; i++) {\r\n            long start = System.currentTimeMillis();\r\n            methodToTest.run();\r\n            timing[i] = System.currentTimeMillis() - start;\r\n        }\r\n        final LongSummaryStatistics stats = Arrays.stream(timing).summaryStatistics();\r\n        System.out.println(testName + &quot;: &quot; + stats);\r\n        return stats;\r\n    }\r\n\r\nthe results are\r\n\r\nparallel:\r\n\r\n    toArray: LongSummaryStatistics{count=10, sum=3721, min=321, average=372,100000, max=535}\r\n    forEach: LongSummaryStatistics{count=10, sum=3502, min=249, average=350,200000, max=389}\r\n    collect: LongSummaryStatistics{count=10, sum=3325, min=265, average=332,500000, max=368}\r\n\r\nsequential:\r\n\r\n    toArray: LongSummaryStatistics{count=10, sum=5493, min=517, average=549,300000, max=569}\r\n    forEach: LongSummaryStatistics{count=10, sum=5316, min=427, average=531,600000, max=571}\r\n    collect: LongSummaryStatistics{count=10, sum=5380, min=444, average=538,000000, max=557}\r\n\r\nparallel without nulls and filter (so the stream is `SIZED`):\r\ntoArrays has the best performance in such case, and `.forEach()` fails with &quot;indexOutOfBounds&quot; on the recepient ArrayList, had to replace with `.forEachOrdered()`\r\n\r\n    toArray: LongSummaryStatistics{count=100, sum=75566, min=707, average=755,660000, max=1107}\r\n    forEach: LongSummaryStatistics{count=100, sum=115802, min=992, average=1158,020000, max=1254}\r\n    collect: LongSummaryStatistics{count=100, sum=88415, min=732, average=884,150000, max=1014}\r\n","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>There is a third option - using <code>stream().toArray()</code> - see comments under <a href=\"https://stackoverflow.com/questions/28782165/why-didnt-stream-have-a-tolist-method\">why didn't stream have a toList method</a>. It turns out to be slower than forEach() or collect(), and less expressive. It might be optimised in later JDK builds, so adding it here just in case.</p>\n\n<p>assuming <code>List&lt;String&gt;</code></p>\n\n<pre><code>    myFinalList = Arrays.asList(\n            myListToParse.stream()\n                    .filter(Objects::nonNull)\n                    .map(this::doSomething)\n                    .toArray(String[]::new)\n    );\n</code></pre>\n\n<p>with a micro-micro benchmark, 1M entries, 20% nulls and simple transform in doSomething()</p>\n\n<pre><code>private LongSummaryStatistics benchmark(final String testName, final Runnable methodToTest, int samples) {\n    long[] timing = new long[samples];\n    for (int i = 0; i &lt; samples; i++) {\n        long start = System.currentTimeMillis();\n        methodToTest.run();\n        timing[i] = System.currentTimeMillis() - start;\n    }\n    final LongSummaryStatistics stats = Arrays.stream(timing).summaryStatistics();\n    System.out.println(testName + \": \" + stats);\n    return stats;\n}\n</code></pre>\n\n<p>the results are</p>\n\n<p>parallel:</p>\n\n<pre><code>toArray: LongSummaryStatistics{count=10, sum=3721, min=321, average=372,100000, max=535}\nforEach: LongSummaryStatistics{count=10, sum=3502, min=249, average=350,200000, max=389}\ncollect: LongSummaryStatistics{count=10, sum=3325, min=265, average=332,500000, max=368}\n</code></pre>\n\n<p>sequential:</p>\n\n<pre><code>toArray: LongSummaryStatistics{count=10, sum=5493, min=517, average=549,300000, max=569}\nforEach: LongSummaryStatistics{count=10, sum=5316, min=427, average=531,600000, max=571}\ncollect: LongSummaryStatistics{count=10, sum=5380, min=444, average=538,000000, max=557}\n</code></pre>\n\n<p>parallel without nulls and filter (so the stream is <code>SIZED</code>):\ntoArrays has the best performance in such case, and <code>.forEach()</code> fails with \"indexOutOfBounds\" on the recepient ArrayList, had to replace with <code>.forEachOrdered()</code></p>\n\n<pre><code>toArray: LongSummaryStatistics{count=100, sum=75566, min=707, average=755,660000, max=1107}\nforEach: LongSummaryStatistics{count=100, sum=115802, min=992, average=1158,020000, max=1254}\ncollect: LongSummaryStatistics{count=100, sum=88415, min=732, average=884,150000, max=1014}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612993464,"creation_date":1459864565,"answer_id":36428452,"question_id":28319064,"body_markdown":"May be Method 3.\r\n\r\nI always prefer to keep logic separate.\r\n\r\n    Predicate&lt;Long&gt; greaterThan100 = new Predicate&lt;Long&gt;() {\r\n        @Override\r\n        public boolean test(Long currentParameter) {\r\n            return currentParameter &gt; 100;\r\n        }\r\n    };\r\n    \t\t\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    List&lt;Long&gt; resultList = sourceLongList.parallelStream().filter(greaterThan100).collect(Collectors.toList());\r\n\r\n","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>May be Method 3.</p>\n<p>I always prefer to keep logic separate.</p>\n<pre><code>Predicate&lt;Long&gt; greaterThan100 = new Predicate&lt;Long&gt;() {\n    @Override\n    public boolean test(Long currentParameter) {\n        return currentParameter &gt; 100;\n    }\n};\n        \nList&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; resultList = sourceLongList.parallelStream().filter(greaterThan100).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489161196,"creation_date":1489161196,"answer_id":42722504,"question_id":28319064,"body_markdown":"If using 3rd Pary Libaries is ok [cyclops-react](https://github.com/aol/cyclops-react) defines Lazy extended collections with this functionality built in. For example we could simply write\r\n\r\nListX myListToParse;\r\n\r\nListX myFinalList = myListToParse.filter(elt -&gt; elt != null)\r\n                                 .map(elt -&gt; doSomething(elt)); \r\n\r\nmyFinalList is not evaluated until first access (and there after the materialized list is cached and reused).\r\n\r\n[Disclosure I am the lead developer of cyclops-react]","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>If using 3rd Pary Libaries is ok <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow noreferrer\">cyclops-react</a> defines Lazy extended collections with this functionality built in. For example we could simply write</p>\n\n<p>ListX myListToParse;</p>\n\n<p>ListX myFinalList = myListToParse.filter(elt -> elt != null)\n                                 .map(elt -> doSomething(elt)); </p>\n\n<p>myFinalList is not evaluated until first access (and there after the materialized list is cached and reused).</p>\n\n<p>[Disclosure I am the lead developer of cyclops-react]</p>\n"}],"owner":{"account_id":3408319,"reputation":10093,"user_id":2858871,"accept_rate":79,"display_name":"Emilien Brigand"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239326,"favorite_count":0,"down_vote_count":1,"up_vote_count":255,"accepted_answer_id":28319221,"answer_count":8,"score":254,"last_activity_date":1693116325,"creation_date":1423045805,"question_id":28319064,"body_markdown":"I have a list, `myListToParse`, where I want to filter the elements and apply a method on each element, and add the result in another list, `myFinalList`.\r\n\r\nWith the `Stream` API (added in Java 8), I noticed that I can do it in 2 different ways. I would like to know the more efficient way between them and understand why one way is better than the other one. \r\n\r\nMethod 1:\r\n\r\n    myFinalList = new ArrayList&lt;&gt;();\r\n    myListToParse.stream()\r\n            .filter(elt -&gt; elt != null)\r\n            .forEach(elt -&gt; myFinalList.add(doSomething(elt)));\r\n\r\nMethod 2:\r\n\r\n    myFinalList = myListToParse.stream()\r\n            .filter(elt -&gt; elt != null)\r\n            .map(elt -&gt; doSomething(elt))\r\n            .collect(Collectors.toList()); \r\n\r\nI&#39;m open for any suggestion about a third way.","title":"Java Stream API - Best way to transform a list: map or forEach?","body":"<p>I have a list, <code>myListToParse</code>, where I want to filter the elements and apply a method on each element, and add the result in another list, <code>myFinalList</code>.</p>\n<p>With the <code>Stream</code> API (added in Java 8), I noticed that I can do it in 2 different ways. I would like to know the more efficient way between them and understand why one way is better than the other one.</p>\n<p>Method 1:</p>\n<pre><code>myFinalList = new ArrayList&lt;&gt;();\nmyListToParse.stream()\n        .filter(elt -&gt; elt != null)\n        .forEach(elt -&gt; myFinalList.add(doSomething(elt)));\n</code></pre>\n<p>Method 2:</p>\n<pre><code>myFinalList = myListToParse.stream()\n        .filter(elt -&gt; elt != null)\n        .map(elt -&gt; doSomething(elt))\n        .collect(Collectors.toList()); \n</code></pre>\n<p>I'm open for any suggestion about a third way.</p>\n"},{"tags":["java","unit-testing","amazon-web-services","mockito","verify"],"comments":[{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":2,"creation_date":1506522760,"post_id":46450522,"comment_id":79856799,"body_markdown":"you should not be mocking the class under test for sure. If there is something to mock here then that is the ObjectMapper","body":"you should not be mocking the class under test for sure. If there is something to mock here then that is the ObjectMapper"},{"owner":{"account_id":11866151,"reputation":759,"user_id":8683646,"accept_rate":0,"display_name":"D.Zet"},"score":0,"creation_date":1506523273,"post_id":46450522,"comment_id":79857186,"body_markdown":"So how can i use verify and call the method without kitchenservice instance?\n    Examples of correct verifications:\n        verify(mock).someMethod();\n        verify(mock, times(10)).someMethod();\n        verify(mock, atLeastOnce()).someMethod();","body":"So how can i use verify and call the method without kitchenservice instance?     Examples of correct verifications:         verify(mock).someMethod();         verify(mock, times(10)).someMethod();         verify(mock, atLeastOnce()).someMethod();"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1506523767,"post_id":46450522,"comment_id":79857568,"body_markdown":"Your test makes no sense. You&#39;re mocking what you&#39;re testing. So you&#39;re not executing any of your code. Only Mockito&#39;s code. It makes no sense to create a fake thing, call the fake thing methods, and verify that you have called the fake thing methods. The real code is never executed is all you&#39;re doing is using a fake thing. Mocking is useful when you want to test A, and A depends on B, and you use a fake B to test A. Read https://stackoverflow.com/a/28783849/571407 for a detailed explanation.","body":"Your test makes no sense. You&#39;re mocking what you&#39;re testing. So you&#39;re not executing any of your code. Only Mockito&#39;s code. It makes no sense to create a fake thing, call the fake thing methods, and verify that you have called the fake thing methods. The real code is never executed is all you&#39;re doing is using a fake thing. Mocking is useful when you want to test A, and A depends on B, and you use a fake B to test A. Read <a href=\"https://stackoverflow.com/a/28783849/571407\">stackoverflow.com/a/28783849/571407</a> for a detailed explanation."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1682958618,"post_id":46450522,"comment_id":134290490,"body_markdown":"You never do anything with `instance`, so there cannot be any calls to it. Also check https://stackoverflow.com/q/74027324/112968 for an in-depth discussion of common problems when using mocks","body":"You never do anything with <code>instance</code>, so there cannot be any calls to it. Also check <a href=\"https://stackoverflow.com/q/74027324/112968\">stackoverflow.com/q/74027324/112968</a> for an in-depth discussion of common problems when using mocks"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506523733,"creation_date":1506523733,"answer_id":46450947,"question_id":46450522,"body_markdown":"What you should mock and verify is the `databaseController` dependency:\r\n\r\n    @Test\r\n    public void addProduct() throws Exception {\r\n    \r\n        KitchenService instance = new KitchenService(); // you should create the class under test\r\n    \r\n        DatabaseController controllerMock = mock(DatabaseController.class); // mock the controller\r\n    \r\n        instance.setController(controller); // inject the mock\r\n    \r\n        ...\r\n    \r\n        // Act\r\n        instance.addProduct(expectedProduct);\r\n    \r\n        // Assert\r\n        verify(controller).saveProduct(Mockito.eq(PRODUCT_TABLE), Mockito.any(Item.class));\r\n\r\n    }\r\n\r\nYou should verify that the database is called within the service.. checking that it was invoked with any `Item` object should be enough.\r\n","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>What you should mock and verify is the <code>databaseController</code> dependency:</p>\n\n<pre><code>@Test\npublic void addProduct() throws Exception {\n\n    KitchenService instance = new KitchenService(); // you should create the class under test\n\n    DatabaseController controllerMock = mock(DatabaseController.class); // mock the controller\n\n    instance.setController(controller); // inject the mock\n\n    ...\n\n    // Act\n    instance.addProduct(expectedProduct);\n\n    // Assert\n    verify(controller).saveProduct(Mockito.eq(PRODUCT_TABLE), Mockito.any(Item.class));\n\n}\n</code></pre>\n\n<p>You should verify that the database is called within the service.. checking that it was invoked with any <code>Item</code> object should be enough.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506524061,"creation_date":1506524061,"answer_id":46451065,"question_id":46450522,"body_markdown":"Mocking is a tool that you only use for dependencies of the class that is being tested.\r\nIt appears that your test does not care about the Author, Media, and Product objects,\r\nthese are just dependencies of the method you want to test;\r\nmock them.\r\n\r\nOrganization will greatly help your test;\r\ndo something like this:\r\n\r\n    public class TestKitchenService\r\n    {\r\n        private static String VALUE_PRODUCT_NAME = &quot;VALUE_PRODUCT_NAME&quot;;\r\n        ... use constants for other values as well.  The value of the constant does not matter.\r\n\r\n        @InjectMocks\r\n        private KitchenService classToTest;\r\n\r\n        private InOrder inOrder;\r\n\r\n        @Mock\r\n        private Author mockAuthor;\r\n\r\n        @Mock\r\n        private DatabaseController mockDatabaseController;\r\n\r\n        @Mock\r\n        private Logger mockLogger;\r\n        \r\n        @Mock\r\n        private Media mockMedia;\r\n\r\n        @Mock\r\n        private Product mockProduct;\r\n\r\n        @After\r\n        public void afterTest()\r\n        {\r\n            inOrder.verifyNoMoreInteractions();\r\n\r\n            verifyNoMoreInteractions(mockAuthor);\r\n            verifyNoMoreInteractions(mockDatabaseController);\r\n            verifyNoMoreInteractions(mockLogger);\r\n            verifyNoMoreInteractions(mockMedia);\r\n            verifyNoMoreInteractions(mockProduct);\r\n        }\r\n\r\n        @Before\r\n        public void beforeTest()\r\n        {\r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            doReturn(mockAuthor).when(mockProduct).getAuthor();\r\n            doReturn(mockMedia).when(mockProduct).getMedia();\r\n            doReturn(VALUE_PRODUCT_NAME).when(mockProduct).getName();\r\n            doReturn(Collections.singletonList(ProductKind.MEAT)).when(mockProduct).getProductKinds();\r\n            \r\n            ... doReturns for the other product values.\r\n\r\n            inOrder = inOrder(\r\n                mockAuthor,\r\n                mockDatabaseController,\r\n                mockLogger,\r\n                mockMedia,\r\n                mockProduct);\r\n\r\n            ReflectionTestUtils.setField(\r\n                classToTest,\r\n                &quot;databaseController&quot;,\r\n                mockDatabaseController);\r\n                \r\n            ReflectionTestUtils.setField(\r\n                classToTest,\r\n                &quot;logger&quot;,\r\n                mockLogger);\r\n        }\r\n\r\n        @Test\r\n        public void addProduct_success()\r\n        {\r\n            final Product actualResult;\r\n\r\n\r\n            actualResult = classToTest.addProduct(mockProduct);\r\n\r\n\r\n            assertEquals(\r\n                mockProduct,\r\n                actualResult);\r\n\r\n            inOrder.verify(mockProduct).getMedia();\r\n\r\n            inOrder.verify(mockProduct).getAuthor();\r\n\r\n            inOrder.verify(mockProduct).getProductKinds();\r\n            \r\n            inOrder.verify(mockProduct).getName();\r\n            \r\n            ... inOrder.verify for the other product values.\r\n            \r\n            inOrder.verify(mockDatabaseController).saveProduct(\r\n                eq(PRODUCT_TABLE),\r\n                any(Item.class));\r\n        }\r\n    }","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>Mocking is a tool that you only use for dependencies of the class that is being tested.\nIt appears that your test does not care about the Author, Media, and Product objects,\nthese are just dependencies of the method you want to test;\nmock them.</p>\n\n<p>Organization will greatly help your test;\ndo something like this:</p>\n\n<pre><code>public class TestKitchenService\n{\n    private static String VALUE_PRODUCT_NAME = \"VALUE_PRODUCT_NAME\";\n    ... use constants for other values as well.  The value of the constant does not matter.\n\n    @InjectMocks\n    private KitchenService classToTest;\n\n    private InOrder inOrder;\n\n    @Mock\n    private Author mockAuthor;\n\n    @Mock\n    private DatabaseController mockDatabaseController;\n\n    @Mock\n    private Logger mockLogger;\n\n    @Mock\n    private Media mockMedia;\n\n    @Mock\n    private Product mockProduct;\n\n    @After\n    public void afterTest()\n    {\n        inOrder.verifyNoMoreInteractions();\n\n        verifyNoMoreInteractions(mockAuthor);\n        verifyNoMoreInteractions(mockDatabaseController);\n        verifyNoMoreInteractions(mockLogger);\n        verifyNoMoreInteractions(mockMedia);\n        verifyNoMoreInteractions(mockProduct);\n    }\n\n    @Before\n    public void beforeTest()\n    {\n        MockitoAnnotations.initMocks(this);\n\n        doReturn(mockAuthor).when(mockProduct).getAuthor();\n        doReturn(mockMedia).when(mockProduct).getMedia();\n        doReturn(VALUE_PRODUCT_NAME).when(mockProduct).getName();\n        doReturn(Collections.singletonList(ProductKind.MEAT)).when(mockProduct).getProductKinds();\n\n        ... doReturns for the other product values.\n\n        inOrder = inOrder(\n            mockAuthor,\n            mockDatabaseController,\n            mockLogger,\n            mockMedia,\n            mockProduct);\n\n        ReflectionTestUtils.setField(\n            classToTest,\n            \"databaseController\",\n            mockDatabaseController);\n\n        ReflectionTestUtils.setField(\n            classToTest,\n            \"logger\",\n            mockLogger);\n    }\n\n    @Test\n    public void addProduct_success()\n    {\n        final Product actualResult;\n\n\n        actualResult = classToTest.addProduct(mockProduct);\n\n\n        assertEquals(\n            mockProduct,\n            actualResult);\n\n        inOrder.verify(mockProduct).getMedia();\n\n        inOrder.verify(mockProduct).getAuthor();\n\n        inOrder.verify(mockProduct).getProductKinds();\n\n        inOrder.verify(mockProduct).getName();\n\n        ... inOrder.verify for the other product values.\n\n        inOrder.verify(mockDatabaseController).saveProduct(\n            eq(PRODUCT_TABLE),\n            any(Item.class));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506524705,"creation_date":1506524705,"answer_id":46451314,"question_id":46450522,"body_markdown":"The only things that should be mocked -- if anything -- are the ObjectMapper and databaseController.  One only mocks collaborator objects, and almost never the system/class under test (very rare cases exist for &quot;spying&quot; on the SUT).  And depending on what the ObjectMapper is and how transparent it&#39;s operation is, you may not really want to even mock that.  Furthermore, as your implementation code is written instantiating the ObjectMapper by directly calling a constructor, you can&#39;t even mock it.\r\n\r\nWhile I love the use of Mockito and mock objects, sometimes it is worthwhile to simply test with as many real objects as possible.  This is especially true when your collaborators are simple, straightforward, have no side effects, and don&#39;t require complex initialization or setup.  Only use mocks when it simplifies the test setup or verification.","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>The only things that should be mocked -- if anything -- are the ObjectMapper and databaseController.  One only mocks collaborator objects, and almost never the system/class under test (very rare cases exist for \"spying\" on the SUT).  And depending on what the ObjectMapper is and how transparent it's operation is, you may not really want to even mock that.  Furthermore, as your implementation code is written instantiating the ObjectMapper by directly calling a constructor, you can't even mock it.</p>\n\n<p>While I love the use of Mockito and mock objects, sometimes it is worthwhile to simply test with as many real objects as possible.  This is especially true when your collaborators are simple, straightforward, have no side effects, and don't require complex initialization or setup.  Only use mocks when it simplifies the test setup or verification.</p>\n"}],"owner":{"account_id":11866151,"reputation":759,"user_id":8683646,"accept_rate":0,"display_name":"D.Zet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693116215,"creation_date":1506522590,"question_id":46450522,"body_markdown":"At first I want to sorry for my english.\r\n\r\nI started to make some unit tests (i&#39;ve never done this before, i&#39;m a new guy in programming). \r\n\r\nI have to test simple adding product to database (DynamoDB) method using mockito.verify but I have \r\n\r\n    &quot;Wanted but not invoked. Actually, there were zero interactions with this mock.&quot; \r\n\r\nError and I don&#39;t know what to do.\r\n\r\nThis is my method code (in KitchenService class): \r\n\r\n    public Product addProduct(Product content) {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        String mediaJSON = null;\r\n        String authorJSON = null;\r\n        String productKindsJSON = null;\r\n        try {\r\n            mediaJSON = objectMapper.writeValueAsString(content.getMedia());\r\n            authorJSON = objectMapper.writeValueAsString(content.getAuthor());\r\n            productKindsJSON = objectMapper.writeValueAsString(content.getProductKinds());\r\n        } catch (JsonProcessingException e) {\r\n            logger.log(e.getMessage());\r\n        }\r\n\r\n\r\n        Item item = new Item()\r\n                .withPrimaryKey(&quot;id&quot;, UUID.randomUUID().toString())\r\n                .with(&quot;name&quot;, content.getName())\r\n                .with(&quot;calories&quot;, content.getCalories())\r\n                .with(&quot;fat&quot;, content.getFat())\r\n                .with(&quot;carbo&quot;, content.getCarbo())\r\n                .with(&quot;protein&quot;, content.getProtein())\r\n                .with(&quot;productKinds&quot;, productKindsJSON)\r\n                .with(&quot;author&quot;, authorJSON)\r\n                .with(&quot;media&quot;, mediaJSON)\r\n                .with(&quot;approved&quot;, content.getApproved());\r\n\r\n\r\n        Item save = databaseController.saveProduct(PRODUCT_TABLE, item);\r\n        logger.log(save + &quot; created&quot;);\r\n\r\n\r\n\r\n        return content;\r\n\r\n    }\r\n\r\nAnd this is test code:\r\n\r\n    @Test\r\n    public void addProduct() throws Exception {\r\n\r\n\r\n        KitchenService instance = mock(KitchenService.class);\r\n\r\n\r\n        Product expectedProduct = new Product();\r\n        expectedProduct.setName(&quot;kaszanka&quot;);\r\n        expectedProduct.setCalories(1000);\r\n        expectedProduct.setFat(40.00);\r\n        expectedProduct.setCarbo(20.00);\r\n        expectedProduct.setProtein(40.00);\r\n        expectedProduct.setProductKinds(Collections.singletonList(ProductKind.MEAT));\r\n        expectedProduct.setApproved(false);\r\n        Author expectedAuthor = new Author();\r\n        expectedAuthor.setId(&quot;testID&quot;);\r\n        expectedAuthor.setName(&quot;Endrju Golota&quot;);\r\n        expectedProduct.setAuthor(expectedAuthor);\r\n        Media expectedMedia = new Media();\r\n        expectedMedia.setMediaType(MediaType.IMAGE);\r\n        expectedMedia.setName(&quot;dupajasia&quot;);\r\n        expectedMedia.setUrl(&quot;http://blabla.pl&quot;);\r\n        expectedProduct.setMedia(expectedMedia);\r\n\r\n        verify(instance, times(1)).addProduct(expectedProduct);\r\n    }\r\n\r\nThis is what I got after test:\r\n\r\n    Wanted but not invoked:\r\n    kitchenService.addProduct(\r\n        model.kitchen.Product@a0136253\r\n    );\r\n    -&gt; at     service.kitchen.KitchenServiceTest.addProduct(KitchenServiceTest.java:80)\r\n    Actually, there were zero interactions with this mock.\r\n\r\n\r\nCan someone tell me what im doing wrong?\r\n\r\n\r\n","title":"Mockito verify unit test - Wanted but not invoked. Actually, there were zero interactions with this mock","body":"<p>At first I want to sorry for my english.</p>\n\n<p>I started to make some unit tests (i've never done this before, i'm a new guy in programming). </p>\n\n<p>I have to test simple adding product to database (DynamoDB) method using mockito.verify but I have </p>\n\n<pre><code>\"Wanted but not invoked. Actually, there were zero interactions with this mock.\" \n</code></pre>\n\n<p>Error and I don't know what to do.</p>\n\n<p>This is my method code (in KitchenService class): </p>\n\n<pre><code>public Product addProduct(Product content) {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    String mediaJSON = null;\n    String authorJSON = null;\n    String productKindsJSON = null;\n    try {\n        mediaJSON = objectMapper.writeValueAsString(content.getMedia());\n        authorJSON = objectMapper.writeValueAsString(content.getAuthor());\n        productKindsJSON = objectMapper.writeValueAsString(content.getProductKinds());\n    } catch (JsonProcessingException e) {\n        logger.log(e.getMessage());\n    }\n\n\n    Item item = new Item()\n            .withPrimaryKey(\"id\", UUID.randomUUID().toString())\n            .with(\"name\", content.getName())\n            .with(\"calories\", content.getCalories())\n            .with(\"fat\", content.getFat())\n            .with(\"carbo\", content.getCarbo())\n            .with(\"protein\", content.getProtein())\n            .with(\"productKinds\", productKindsJSON)\n            .with(\"author\", authorJSON)\n            .with(\"media\", mediaJSON)\n            .with(\"approved\", content.getApproved());\n\n\n    Item save = databaseController.saveProduct(PRODUCT_TABLE, item);\n    logger.log(save + \" created\");\n\n\n\n    return content;\n\n}\n</code></pre>\n\n<p>And this is test code:</p>\n\n<pre><code>@Test\npublic void addProduct() throws Exception {\n\n\n    KitchenService instance = mock(KitchenService.class);\n\n\n    Product expectedProduct = new Product();\n    expectedProduct.setName(\"kaszanka\");\n    expectedProduct.setCalories(1000);\n    expectedProduct.setFat(40.00);\n    expectedProduct.setCarbo(20.00);\n    expectedProduct.setProtein(40.00);\n    expectedProduct.setProductKinds(Collections.singletonList(ProductKind.MEAT));\n    expectedProduct.setApproved(false);\n    Author expectedAuthor = new Author();\n    expectedAuthor.setId(\"testID\");\n    expectedAuthor.setName(\"Endrju Golota\");\n    expectedProduct.setAuthor(expectedAuthor);\n    Media expectedMedia = new Media();\n    expectedMedia.setMediaType(MediaType.IMAGE);\n    expectedMedia.setName(\"dupajasia\");\n    expectedMedia.setUrl(\"http://blabla.pl\");\n    expectedProduct.setMedia(expectedMedia);\n\n    verify(instance, times(1)).addProduct(expectedProduct);\n}\n</code></pre>\n\n<p>This is what I got after test:</p>\n\n<pre><code>Wanted but not invoked:\nkitchenService.addProduct(\n    model.kitchen.Product@a0136253\n);\n-&gt; at     service.kitchen.KitchenServiceTest.addProduct(KitchenServiceTest.java:80)\nActually, there were zero interactions with this mock.\n</code></pre>\n\n<p>Can someone tell me what im doing wrong?</p>\n"},{"tags":["java","rest","jms","jax-rs","activemq"],"comments":[{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1384327983,"post_id":19706788,"comment_id":29688218,"body_markdown":"downvoter please comment. What is wrong in this question?","body":"downvoter please comment. What is wrong in this question?"},{"owner":{"account_id":67511,"reputation":5359,"user_id":197532,"accept_rate":56,"display_name":"Phani"},"score":0,"creation_date":1386242899,"post_id":19706788,"comment_id":30460687,"body_markdown":"Are you interested about custom object inside HttpServletRequest or you need it because you want to relay information back to the client later?","body":"Are you interested about custom object inside HttpServletRequest or you need it because you want to relay information back to the client later?"},{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1386314110,"post_id":19706788,"comment_id":30495279,"body_markdown":"@Phani Yes, Inside the Httpservlet request.","body":"@Phani Yes, Inside the Httpservlet request."}],"answers":[{"comments":[{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1383541502,"post_id":19751507,"comment_id":29369007,"body_markdown":"I had gone through this documentation. However, I am not be able to get any start from this. Do you have any small example...please let me know. Thanks for your answer.","body":"I had gone through this documentation. However, I am not be able to get any start from this. Do you have any small example...please let me know. Thanks for your answer."},{"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"score":0,"creation_date":1383549687,"post_id":19751507,"comment_id":29371175,"body_markdown":"I dont know but i need to put all the incoming Http requests in queue and then forward to the service.","body":"I dont know but i need to put all the incoming Http requests in queue and then forward to the service."},{"owner":{"account_id":11445615,"reputation":333,"user_id":8389618,"display_name":"Ravi kant Gautam"},"score":0,"creation_date":1645639103,"post_id":19751507,"comment_id":125928255,"body_markdown":"I am also facing a similar issue did you get any solution for it?","body":"I am also facing a similar issue did you get any solution for it?"}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383471106,"creation_date":1383471106,"answer_id":19751507,"question_id":19706788,"body_markdown":"Have you seen the REST documentation at Apache ActiveMQ: http://activemq.apache.org/rest.html\r\n\r\nAlso are you talking about embedding ActiveMQ as a broker inside Tomcat, or do you run ActiveMQ broker in a seperate box/jvm? \r\n\r\nAs the standalone ActiveMQ has REST API out of the box, as stated in that link above.","title":"jersey rest web Service with Activemq middleware integration","body":"<p>Have you seen the REST documentation at Apache ActiveMQ: <a href=\"http://activemq.apache.org/rest.html\" rel=\"nofollow\">http://activemq.apache.org/rest.html</a></p>\n\n<p>Also are you talking about embedding ActiveMQ as a broker inside Tomcat, or do you run ActiveMQ broker in a seperate box/jvm? </p>\n\n<p>As the standalone ActiveMQ has REST API out of the box, as stated in that link above.</p>\n"},{"tags":[],"owner":{"account_id":6796173,"reputation":1,"user_id":5231371,"display_name":"xcepttj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439686783,"creation_date":1439686783,"answer_id":32030864,"question_id":19706788,"body_markdown":"The reason you are seeing ActiveMQ admin console while hitting rest URL due to missing credentials, Please pass credentials using basic authentication. I wrote a groovy client to call rest URL. You can use something similar....   \r\n \r\n    import groovyx.net.http.HTTPBuilder;\r\n    import groovyx.net.http.Method;\r\n    import groovyx.net.http.ContentType;\r\n    import groovyx.net.http.RESTClient;\r\n    import groovyx.net.http.HttpResponseDecorator;\r\n    import groovy.json.JsonSlurper;\r\n\r\n    def headers= [&quot;Authorization&quot;: &#39;Basic&#39;   +&#39;admin:admin&#39;.bytes.encodeBase64().toString()];\r\n    println headers;\r\n    def restClient = new RESTClient(&#39;http://servername:8161&#39;);\r\n    def restClientResponse = restClient.get(path: &#39;/api/message/queueName?type=queue&#39;,headers:headers,requestContentType: ContentType.JSON)\r\n    println restClientResponse.status;\r\n    println restClientResponse.headers[&#39;Content-Length&#39;];\r\n    println restClientResponse.getData();","title":"jersey rest web Service with Activemq middleware integration","body":"<p>The reason you are seeing ActiveMQ admin console while hitting rest URL due to missing credentials, Please pass credentials using basic authentication. I wrote a groovy client to call rest URL. You can use something similar....   </p>\n\n<pre><code>import groovyx.net.http.HTTPBuilder;\nimport groovyx.net.http.Method;\nimport groovyx.net.http.ContentType;\nimport groovyx.net.http.RESTClient;\nimport groovyx.net.http.HttpResponseDecorator;\nimport groovy.json.JsonSlurper;\n\ndef headers= [\"Authorization\": 'Basic'   +'admin:admin'.bytes.encodeBase64().toString()];\nprintln headers;\ndef restClient = new RESTClient('http://servername:8161');\ndef restClientResponse = restClient.get(path: '/api/message/queueName?type=queue',headers:headers,requestContentType: ContentType.JSON)\nprintln restClientResponse.status;\nprintln restClientResponse.headers['Content-Length'];\nprintln restClientResponse.getData();\n</code></pre>\n"}],"owner":{"account_id":1758692,"reputation":965,"user_id":1606340,"accept_rate":64,"display_name":"Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10189,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1693116215,"creation_date":1383223163,"question_id":19706788,"body_markdown":"I have a Restful service API developed with JAX-RS and jersey. I have deployed the same in TOMCAT 7. Now I would like to implement Activemq so that I would keep all request in a queue and process the request resource. How to do this and integrate with tomcat7. How to integrate ActiveMq with Tomcat7 or my rest service webapp. How to call the service. \r\n\r\nImportant :- \r\nInside the Rest Api, I am using FilterChaining concept for security concern and after verification of the calling party, I am simply forwarding the request to the resource. For this I have added in web.xml.\r\n\r\nThanks \r\n\r\n\r\n**Here is my class :-**\r\n\r\n        public class LimitFilter implements Filter {\r\n        \t\r\n        \tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n        \t\t\tFilterChain chain) throws IOException, ServletException {\r\n        \t\t\r\n    //some authentication\r\n        \t\t\tif (true) {\r\n        \t\t\t\t// let the request through and process as usual\r\n        \t\t\t\tchain.doFilter(request, response);\r\n        \t\t\t\t\r\n        \t\t\t} else {\r\n        \t\t\t\t// handle limit case, e.g. return status code 429 (Too Many\r\n        \t\t\t\t// Requests)\r\n        \t\t\t\t// see http://tools.ietf.org/html/rfc6585#page-3\r\n        \t\t\t\t((HttpServletResponse) response).sendError(429);\r\n        \t\t\t}\r\n        \t\t} \r\n        \t\t}\r\n        \t}\r\n\r\n**Here is my sample class for activemq:-**\r\n\r\n    public class Qservlet extends HttpServlet {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\t\tString body = &quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\t// Create a ConnectionFactory\r\n    \r\n    \t\t\tConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;admin&quot;, &quot;admin&quot;, ActiveMQConnection.DEFAULT_BROKER_URL);\r\n    \r\n    \t\t\t// Create a Connection\r\n    \t\t\t\r\n    \t\t\tConnection connection = connectionFactory.createConnection();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tSession session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\r\n    \r\n    \t\t\tDestination destination = session.createQueue(&quot;testQ&quot;);\t\r\n    \t\t\tTextMessage message = session.createTextMessage();\r\n    \t\t\tmessage.setText( &quot;My text message was send and received&quot;);//\r\n    \t\t\tmessage.setJMSRedelivered(true);\r\n    \t\t\tmessage.setJMSCorrelationID(request.getSession().getId());\r\n    \t\t\t\r\n    \t\t\tconnection.start();\r\n    \r\n    \t\t\tMessageProducer producer = session.createProducer(destination);\r\n    \t\t\tproducer.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n    \t\t\tproducer.send(message);\r\n    \t\t\t\r\n    \t\t\tmessage = null;\r\n    \t\t\tMessageConsumer consumer = session.createConsumer(destination);\r\n    \t\t\tmessage = (TextMessage) consumer.receive(1000);\r\n    \t\t\tif (message != null) {\r\n    \t\t\t\tbody = message.getText();\r\n    \t\t\t}\r\n    \r\n    \t\t\t\r\n    \t\t\tproducer.close();\r\n    \t\t\tconsumer.close();\r\n    \t\t\tsession.close();\r\n    \t\t\tconnection.close();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.toString());\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nNow if any request is coming in Limit Filter class, I am forwarding directly to the resources after some authentication mecanisam. Thats why I am using filter concept for catching all request. \r\n\r\nSecond class is example class when i am running ; messaging is enquing and dequeueing; I can see in console for ActiveMq. \r\n\r\nIn the first class I am simply writing **&quot;chain.doFilter(request, response)&quot;** to forward all http request to the respective resource. Now How to do here. Where to put the HTTP request. I need to handle each request asynchronously. REST is synchronous. \r\n\r\nPlease suggest some way. and explain your answer.\r\n\r\n\r\nThanks/Regards\r\nKumar Shorav\r\n\r\n","title":"jersey rest web Service with Activemq middleware integration","body":"<p>I have a Restful service API developed with JAX-RS and jersey. I have deployed the same in TOMCAT 7. Now I would like to implement Activemq so that I would keep all request in a queue and process the request resource. How to do this and integrate with tomcat7. How to integrate ActiveMq with Tomcat7 or my rest service webapp. How to call the service. </p>\n\n<p>Important :- \nInside the Rest Api, I am using FilterChaining concept for security concern and after verification of the calling party, I am simply forwarding the request to the resource. For this I have added in web.xml.</p>\n\n<p>Thanks </p>\n\n<p><strong>Here is my class :-</strong></p>\n\n<pre><code>    public class LimitFilter implements Filter {\n\n        public void doFilter(ServletRequest request, ServletResponse response,\n                FilterChain chain) throws IOException, ServletException {\n\n//some authentication\n                if (true) {\n                    // let the request through and process as usual\n                    chain.doFilter(request, response);\n\n                } else {\n                    // handle limit case, e.g. return status code 429 (Too Many\n                    // Requests)\n                    // see http://tools.ietf.org/html/rfc6585#page-3\n                    ((HttpServletResponse) response).sendError(429);\n                }\n            } \n            }\n        }\n</code></pre>\n\n<p><strong>Here is my sample class for activemq:-</strong></p>\n\n<pre><code>public class Qservlet extends HttpServlet {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws IOException, ServletException {\n            String body = \"\";\n        try {\n            // Create a ConnectionFactory\n\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(\"admin\", \"admin\", ActiveMQConnection.DEFAULT_BROKER_URL);\n\n            // Create a Connection\n\n            Connection connection = connectionFactory.createConnection();\n\n\n            Session session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\n\n            Destination destination = session.createQueue(\"testQ\"); \n            TextMessage message = session.createTextMessage();\n            message.setText( \"My text message was send and received\");//\n            message.setJMSRedelivered(true);\n            message.setJMSCorrelationID(request.getSession().getId());\n\n            connection.start();\n\n            MessageProducer producer = session.createProducer(destination);\n            producer.setDeliveryMode(DeliveryMode.PERSISTENT);\n            producer.send(message);\n\n            message = null;\n            MessageConsumer consumer = session.createConsumer(destination);\n            message = (TextMessage) consumer.receive(1000);\n            if (message != null) {\n                body = message.getText();\n            }\n\n\n            producer.close();\n            consumer.close();\n            session.close();\n            connection.close();\n\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now if any request is coming in Limit Filter class, I am forwarding directly to the resources after some authentication mecanisam. Thats why I am using filter concept for catching all request. </p>\n\n<p>Second class is example class when i am running ; messaging is enquing and dequeueing; I can see in console for ActiveMq. </p>\n\n<p>In the first class I am simply writing <strong>\"chain.doFilter(request, response)\"</strong> to forward all http request to the respective resource. Now How to do here. Where to put the HTTP request. I need to handle each request asynchronously. REST is synchronous. </p>\n\n<p>Please suggest some way. and explain your answer.</p>\n\n<p>Thanks/Regards\nKumar Shorav</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9913,"page":221,"page_size":100}
